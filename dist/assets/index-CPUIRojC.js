function Wue(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var hk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function que(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var s=!1;try{s=this instanceof n}catch{}return s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var mk={exports:{}},gx={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X$;function Gue(){if(X$)return gx;X$=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,s,i){var o=null;if(i!==void 0&&(o=""+i),s.key!==void 0&&(o=""+s.key),"key"in s){i={};for(var c in s)c!=="key"&&(i[c]=s[c])}else i=s;return s=i.ref,{$$typeof:e,type:n,key:o,ref:s!==void 0?s:null,props:i}}return gx.Fragment=t,gx.jsx=r,gx.jsxs=r,gx}var Q$;function Yue(){return Q$||(Q$=1,mk.exports=Gue()),mk.exports}var a=Yue(),pk={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J$;function Kue(){if(J$)return It;J$=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),f=Symbol.iterator;function p(V){return V===null||typeof V!="object"?null:(V=f&&V[f]||V["@@iterator"],typeof V=="function"?V:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function m(V,q,H){this.props=V,this.context=q,this.refs=S,this.updater=H||g}m.prototype.isReactComponent={},m.prototype.setState=function(V,q){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,q,"setState")},m.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function y(){}y.prototype=m.prototype;function w(V,q,H){this.props=V,this.context=q,this.refs=S,this.updater=H||g}var C=w.prototype=new y;C.constructor=w,x(C,m.prototype),C.isPureReactComponent=!0;var E=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function A(V,q,H,K,Y,re){return H=re.ref,{$$typeof:e,type:V,key:q,ref:H!==void 0?H:null,props:re}}function T(V,q){return A(V.type,q,void 0,void 0,void 0,V.props)}function P(V){return typeof V=="object"&&V!==null&&V.$$typeof===e}function M(V){var q={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(H){return q[H]})}var O=/\/+/g;function R(V,q){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):q.toString(36)}function L(){}function B(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(L,L):(V.status="pending",V.then(function(q){V.status==="pending"&&(V.status="fulfilled",V.value=q)},function(q){V.status==="pending"&&(V.status="rejected",V.reason=q)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function F(V,q,H,K,Y){var re=typeof V;(re==="undefined"||re==="boolean")&&(V=null);var me=!1;if(V===null)me=!0;else switch(re){case"bigint":case"string":case"number":me=!0;break;case"object":switch(V.$$typeof){case e:case t:me=!0;break;case l:return me=V._init,F(me(V._payload),q,H,K,Y)}}if(me)return Y=Y(V),me=K===""?"."+R(V,0):K,E(Y)?(H="",me!=null&&(H=me.replace(O,"$&/")+"/"),F(Y,q,H,"",function(ee){return ee})):Y!=null&&(P(Y)&&(Y=T(Y,H+(Y.key==null||V&&V.key===Y.key?"":(""+Y.key).replace(O,"$&/")+"/")+me)),q.push(Y)),1;me=0;var de=K===""?".":K+":";if(E(V))for(var he=0;he<V.length;he++)K=V[he],re=de+R(K,he),me+=F(K,q,H,re,Y);else if(he=p(V),typeof he=="function")for(V=he.call(V),he=0;!(K=V.next()).done;)K=K.value,re=de+R(K,he++),me+=F(K,q,H,re,Y);else if(re==="object"){if(typeof V.then=="function")return F(B(V),q,H,K,Y);throw q=String(V),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return me}function $(V,q,H){if(V==null)return V;var K=[],Y=0;return F(V,K,"","",function(re){return q.call(H,re,Y++)}),K}function z(V){if(V._status===-1){var q=V._result;q=q(),q.then(function(H){(V._status===0||V._status===-1)&&(V._status=1,V._result=H)},function(H){(V._status===0||V._status===-1)&&(V._status=2,V._result=H)}),V._status===-1&&(V._status=0,V._result=q)}if(V._status===1)return V._result.default;throw V._result}var W=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Z(){}return It.Children={map:$,forEach:function(V,q,H){$(V,function(){q.apply(this,arguments)},H)},count:function(V){var q=0;return $(V,function(){q++}),q},toArray:function(V){return $(V,function(q){return q})||[]},only:function(V){if(!P(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},It.Component=m,It.Fragment=r,It.Profiler=s,It.PureComponent=w,It.StrictMode=n,It.Suspense=d,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,It.__COMPILER_RUNTIME={__proto__:null,c:function(V){return N.H.useMemoCache(V)}},It.cache=function(V){return function(){return V.apply(null,arguments)}},It.cloneElement=function(V,q,H){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var K=x({},V.props),Y=V.key,re=void 0;if(q!=null)for(me in q.ref!==void 0&&(re=void 0),q.key!==void 0&&(Y=""+q.key),q)!k.call(q,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&q.ref===void 0||(K[me]=q[me]);var me=arguments.length-2;if(me===1)K.children=H;else if(1<me){for(var de=Array(me),he=0;he<me;he++)de[he]=arguments[he+2];K.children=de}return A(V.type,Y,void 0,void 0,re,K)},It.createContext=function(V){return V={$$typeof:o,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:i,_context:V},V},It.createElement=function(V,q,H){var K,Y={},re=null;if(q!=null)for(K in q.key!==void 0&&(re=""+q.key),q)k.call(q,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(Y[K]=q[K]);var me=arguments.length-2;if(me===1)Y.children=H;else if(1<me){for(var de=Array(me),he=0;he<me;he++)de[he]=arguments[he+2];Y.children=de}if(V&&V.defaultProps)for(K in me=V.defaultProps,me)Y[K]===void 0&&(Y[K]=me[K]);return A(V,re,void 0,void 0,null,Y)},It.createRef=function(){return{current:null}},It.forwardRef=function(V){return{$$typeof:c,render:V}},It.isValidElement=P,It.lazy=function(V){return{$$typeof:l,_payload:{_status:-1,_result:V},_init:z}},It.memo=function(V,q){return{$$typeof:u,type:V,compare:q===void 0?null:q}},It.startTransition=function(V){var q=N.T,H={};N.T=H;try{var K=V(),Y=N.S;Y!==null&&Y(H,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(Z,W)}catch(re){W(re)}finally{N.T=q}},It.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},It.use=function(V){return N.H.use(V)},It.useActionState=function(V,q,H){return N.H.useActionState(V,q,H)},It.useCallback=function(V,q){return N.H.useCallback(V,q)},It.useContext=function(V){return N.H.useContext(V)},It.useDebugValue=function(){},It.useDeferredValue=function(V,q){return N.H.useDeferredValue(V,q)},It.useEffect=function(V,q,H){var K=N.H;if(typeof H=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(V,q)},It.useId=function(){return N.H.useId()},It.useImperativeHandle=function(V,q,H){return N.H.useImperativeHandle(V,q,H)},It.useInsertionEffect=function(V,q){return N.H.useInsertionEffect(V,q)},It.useLayoutEffect=function(V,q){return N.H.useLayoutEffect(V,q)},It.useMemo=function(V,q){return N.H.useMemo(V,q)},It.useOptimistic=function(V,q){return N.H.useOptimistic(V,q)},It.useReducer=function(V,q,H){return N.H.useReducer(V,q,H)},It.useRef=function(V){return N.H.useRef(V)},It.useState=function(V){return N.H.useState(V)},It.useSyncExternalStore=function(V,q,H){return N.H.useSyncExternalStore(V,q,H)},It.useTransition=function(){return N.H.useTransition()},It.version="19.1.0",It}var e6;function Yd(){return e6||(e6=1,pk.exports=Kue()),pk.exports}var b=Yd();const ve=xi(b),Cf=Wue({__proto__:null,default:ve},[b]);var gk={exports:{}},xx={},xk={exports:{}},vk={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t6;function Zue(){return t6||(t6=1,function(e){function t($,z){var W=$.length;$.push(z);e:for(;0<W;){var Z=W-1>>>1,V=$[Z];if(0<s(V,z))$[Z]=z,$[W]=V,W=Z;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var z=$[0],W=$.pop();if(W!==z){$[0]=W;e:for(var Z=0,V=$.length,q=V>>>1;Z<q;){var H=2*(Z+1)-1,K=$[H],Y=H+1,re=$[Y];if(0>s(K,W))Y<V&&0>s(re,K)?($[Z]=re,$[Y]=W,Z=Y):($[Z]=K,$[H]=W,Z=H);else if(Y<V&&0>s(re,W))$[Z]=re,$[Y]=W,Z=Y;else break e}}return z}function s($,z){var W=$.sortIndex-z.sortIndex;return W!==0?W:$.id-z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var d=[],u=[],l=1,f=null,p=3,g=!1,x=!1,S=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function E($){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=$)n(u),z.sortIndex=z.expirationTime,t(d,z);else break;z=r(u)}}function N($){if(S=!1,E($),!x)if(r(d)!==null)x=!0,k||(k=!0,R());else{var z=r(u);z!==null&&F(N,z.startTime-$)}}var k=!1,A=-1,T=5,P=-1;function M(){return m?!0:!(e.unstable_now()-P<T)}function O(){if(m=!1,k){var $=e.unstable_now();P=$;var z=!0;try{e:{x=!1,S&&(S=!1,w(A),A=-1),g=!0;var W=p;try{t:{for(E($),f=r(d);f!==null&&!(f.expirationTime>$&&M());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,p=f.priorityLevel;var V=Z(f.expirationTime<=$);if($=e.unstable_now(),typeof V=="function"){f.callback=V,E($),z=!0;break t}f===r(d)&&n(d),E($)}else n(d);f=r(d)}if(f!==null)z=!0;else{var q=r(u);q!==null&&F(N,q.startTime-$),z=!1}}break e}finally{f=null,p=W,g=!1}z=void 0}}finally{z?R():k=!1}}}var R;if(typeof C=="function")R=function(){C(O)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,B=L.port2;L.port1.onmessage=O,R=function(){B.postMessage(null)}}else R=function(){y(O,0)};function F($,z){A=y(function(){$(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function($){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var W=p;p=z;try{return $()}finally{p=W}},e.unstable_requestPaint=function(){m=!0},e.unstable_runWithPriority=function($,z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var W=p;p=$;try{return z()}finally{p=W}},e.unstable_scheduleCallback=function($,z,W){var Z=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Z+W:Z):W=Z,$){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=W+V,$={id:l++,callback:z,priorityLevel:$,startTime:W,expirationTime:V,sortIndex:-1},W>Z?($.sortIndex=W,t(u,$),r(d)===null&&$===r(u)&&(S?(w(A),A=-1):S=!0,F(N,W-Z))):($.sortIndex=V,t(d,$),x||g||(x=!0,k||(k=!0,R()))),$},e.unstable_shouldYield=M,e.unstable_wrapCallback=function($){var z=p;return function(){var W=p;p=z;try{return $.apply(this,arguments)}finally{p=W}}}}(vk)),vk}var r6;function Xue(){return r6||(r6=1,xk.exports=Zue()),xk.exports}var yk={exports:{}},zs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n6;function Que(){if(n6)return zs;n6=1;var e=Yd();function t(d){var u="https://react.dev/errors/"+d;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)u+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+d+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(d,u,l){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:f==null?null:""+f,children:d,containerInfo:u,implementation:l}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,u){if(d==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return zs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,zs.createPortal=function(d,u){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return i(d,u,null,l)},zs.flushSync=function(d){var u=o.T,l=n.p;try{if(o.T=null,n.p=2,d)return d()}finally{o.T=u,n.p=l,n.d.f()}},zs.preconnect=function(d,u){typeof d=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(d,u))},zs.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},zs.preinit=function(d,u){if(typeof d=="string"&&u&&typeof u.as=="string"){var l=u.as,f=c(l,u.crossOrigin),p=typeof u.integrity=="string"?u.integrity:void 0,g=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;l==="style"?n.d.S(d,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:p,fetchPriority:g}):l==="script"&&n.d.X(d,{crossOrigin:f,integrity:p,fetchPriority:g,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},zs.preinitModule=function(d,u){if(typeof d=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var l=c(u.as,u.crossOrigin);n.d.M(d,{crossOrigin:l,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(d)},zs.preload=function(d,u){if(typeof d=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var l=u.as,f=c(l,u.crossOrigin);n.d.L(d,l,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},zs.preloadModule=function(d,u){if(typeof d=="string")if(u){var l=c(u.as,u.crossOrigin);n.d.m(d,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:l,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(d)},zs.requestFormReset=function(d){n.d.r(d)},zs.unstable_batchedUpdates=function(d,u){return d(u)},zs.useFormState=function(d,u,l){return o.H.useFormState(d,u,l)},zs.useFormStatus=function(){return o.H.useHostTransitionStatus()},zs.version="19.1.0",zs}var s6;function dM(){if(s6)return yk.exports;s6=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yk.exports=Que(),yk.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a6;function Jue(){if(a6)return xx;a6=1;var e=Xue(),t=Yd(),r=dM();function n(h){var v="https://react.dev/errors/"+h;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var j=2;j<arguments.length;j++)v+="&args[]="+encodeURIComponent(arguments[j])}return"Minified React error #"+h+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function i(h){var v=h,j=h;if(h.alternate)for(;v.return;)v=v.return;else{h=v;do v=h,(v.flags&4098)!==0&&(j=v.return),h=v.return;while(h)}return v.tag===3?j:null}function o(h){if(h.tag===13){var v=h.memoizedState;if(v===null&&(h=h.alternate,h!==null&&(v=h.memoizedState)),v!==null)return v.dehydrated}return null}function c(h){if(i(h)!==h)throw Error(n(188))}function d(h){var v=h.alternate;if(!v){if(v=i(h),v===null)throw Error(n(188));return v!==h?null:h}for(var j=h,_=v;;){var D=j.return;if(D===null)break;var I=D.alternate;if(I===null){if(_=D.return,_!==null){j=_;continue}break}if(D.child===I.child){for(I=D.child;I;){if(I===j)return c(D),h;if(I===_)return c(D),v;I=I.sibling}throw Error(n(188))}if(j.return!==_.return)j=D,_=I;else{for(var U=!1,G=D.child;G;){if(G===j){U=!0,j=D,_=I;break}if(G===_){U=!0,_=D,j=I;break}G=G.sibling}if(!U){for(G=I.child;G;){if(G===j){U=!0,j=I,_=D;break}if(G===_){U=!0,_=I,j=D;break}G=G.sibling}if(!U)throw Error(n(189))}}if(j.alternate!==_)throw Error(n(190))}if(j.tag!==3)throw Error(n(188));return j.stateNode.current===j?h:v}function u(h){var v=h.tag;if(v===5||v===26||v===27||v===6)return h;for(h=h.child;h!==null;){if(v=u(h),v!==null)return v;h=h.sibling}return null}var l=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function R(h){return h===null||typeof h!="object"?null:(h=O&&h[O]||h["@@iterator"],typeof h=="function"?h:null)}var L=Symbol.for("react.client.reference");function B(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===L?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case x:return"Fragment";case m:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case k:return"SuspenseList";case P:return"Activity"}if(typeof h=="object")switch(h.$$typeof){case g:return"Portal";case C:return(h.displayName||"Context")+".Provider";case w:return(h._context.displayName||"Context")+".Consumer";case E:var v=h.render;return h=h.displayName,h||(h=v.displayName||v.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case A:return v=h.displayName||null,v!==null?v:B(h.type)||"Memo";case T:v=h._payload,h=h._init;try{return B(h(v))}catch{}}return null}var F=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},Z=[],V=-1;function q(h){return{current:h}}function H(h){0>V||(h.current=Z[V],Z[V]=null,V--)}function K(h,v){V++,Z[V]=h.current,h.current=v}var Y=q(null),re=q(null),me=q(null),de=q(null);function he(h,v){switch(K(me,v),K(re,h),K(Y,null),v.nodeType){case 9:case 11:h=(h=v.documentElement)&&(h=h.namespaceURI)?E$(h):0;break;default:if(h=v.tagName,v=v.namespaceURI)v=E$(v),h=N$(v,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}H(Y),K(Y,h)}function ee(){H(Y),H(re),H(me)}function ie(h){h.memoizedState!==null&&K(de,h);var v=Y.current,j=N$(v,h.type);v!==j&&(K(re,h),K(Y,j))}function ye(h){re.current===h&&(H(Y),H(re)),de.current===h&&(H(de),ux._currentValue=W)}var le=Object.prototype.hasOwnProperty,Te=e.unstable_scheduleCallback,Ae=e.unstable_cancelCallback,ae=e.unstable_shouldYield,We=e.unstable_requestPaint,rt=e.unstable_now,fe=e.unstable_getCurrentPriorityLevel,Fe=e.unstable_ImmediatePriority,Q=e.unstable_UserBlockingPriority,ne=e.unstable_NormalPriority,ce=e.unstable_LowPriority,ze=e.unstable_IdlePriority,qe=e.log,Ue=e.unstable_setDisableYieldValue,se=null,Ne=null;function Le(h){if(typeof qe=="function"&&Ue(h),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode(se,h)}catch{}}var Qe=Math.clz32?Math.clz32:Ts,kt=Math.log,Jt=Math.LN2;function Ts(h){return h>>>=0,h===0?32:31-(kt(h)/Jt|0)|0}var ln=256,Dn=4194304;function Fn(h){var v=h&42;if(v!==0)return v;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function bi(h,v,j){var _=h.pendingLanes;if(_===0)return 0;var D=0,I=h.suspendedLanes,U=h.pingedLanes;h=h.warmLanes;var G=_&134217727;return G!==0?(_=G&~I,_!==0?D=Fn(_):(U&=G,U!==0?D=Fn(U):j||(j=G&~h,j!==0&&(D=Fn(j))))):(G=_&~I,G!==0?D=Fn(G):U!==0?D=Fn(U):j||(j=_&~h,j!==0&&(D=Fn(j)))),D===0?0:v!==0&&v!==D&&(v&I)===0&&(I=D&-D,j=v&-v,I>=j||I===32&&(j&4194048)!==0)?v:D}function ao(h,v){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&v)===0}function Rt(h,v){switch(h){case 1:case 2:case 4:case 8:case 64:return v+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sr(){var h=ln;return ln<<=1,(ln&4194048)===0&&(ln=256),h}function Tt(){var h=Dn;return Dn<<=1,(Dn&62914560)===0&&(Dn=4194304),h}function lr(h){for(var v=[],j=0;31>j;j++)v.push(h);return v}function yn(h,v){h.pendingLanes|=v,v!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function rr(h,v,j,_,D,I){var U=h.pendingLanes;h.pendingLanes=j,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=j,h.entangledLanes&=j,h.errorRecoveryDisabledLanes&=j,h.shellSuspendCounter=0;var G=h.entanglements,te=h.expirationTimes,we=h.hiddenUpdates;for(j=U&~j;0<j;){var De=31-Qe(j),Be=1<<De;G[De]=0,te[De]=-1;var Ce=we[De];if(Ce!==null)for(we[De]=null,De=0;De<Ce.length;De++){var je=Ce[De];je!==null&&(je.lane&=-536870913)}j&=~Be}_!==0&&hh(h,_,0),I!==0&&D===0&&h.tag!==0&&(h.suspendedLanes|=I&~(U&~v))}function hh(h,v,j){h.pendingLanes|=v,h.suspendedLanes&=~v;var _=31-Qe(v);h.entangledLanes|=v,h.entanglements[_]=h.entanglements[_]|1073741824|j&4194090}function mh(h,v){var j=h.entangledLanes|=v;for(h=h.entanglements;j;){var _=31-Qe(j),D=1<<_;D&v|h[_]&v&&(h[_]|=v),j&=~D}}function Vc(h){switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=128;break;case 268435456:h=134217728;break;default:h=0}return h}function Nl(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function Wc(){var h=z.p;return h!==0?h:(h=window.event,h===void 0?32:W$(h.type))}function $y(h,v){var j=z.p;try{return z.p=h,v()}finally{z.p=j}}var Do=Math.random().toString(36).slice(2),Kn="__reactFiber$"+Do,kr="__reactProps$"+Do,ra="__reactContainer$"+Do,ph="__reactEvents$"+Do,a_="__reactListeners$"+Do,Ice="__reactHandles$"+Do,h5="__reactResources$"+Do,Sg="__reactMarker$"+Do;function i_(h){delete h[Kn],delete h[kr],delete h[ph],delete h[a_],delete h[Ice]}function gh(h){var v=h[Kn];if(v)return v;for(var j=h.parentNode;j;){if(v=j[ra]||j[Kn]){if(j=v.alternate,v.child!==null||j!==null&&j.child!==null)for(h=T$(h);h!==null;){if(j=h[Kn])return j;h=T$(h)}return v}h=j,j=h.parentNode}return null}function xh(h){if(h=h[Kn]||h[ra]){var v=h.tag;if(v===5||v===6||v===13||v===26||v===27||v===3)return h}return null}function Cg(h){var v=h.tag;if(v===5||v===26||v===27||v===6)return h.stateNode;throw Error(n(33))}function vh(h){var v=h[h5];return v||(v=h[h5]={hoistableStyles:new Map,hoistableScripts:new Map}),v}function ms(h){h[Sg]=!0}var m5=new Set,p5={};function vu(h,v){yh(h,v),yh(h+"Capture",v)}function yh(h,v){for(p5[h]=v,h=0;h<v.length;h++)m5.add(v[h])}var Lce=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),g5={},x5={};function Bce(h){return le.call(x5,h)?!0:le.call(g5,h)?!1:Lce.test(h)?x5[h]=!0:(g5[h]=!0,!1)}function Fy(h,v,j){if(Bce(v))if(j===null)h.removeAttribute(v);else{switch(typeof j){case"undefined":case"function":case"symbol":h.removeAttribute(v);return;case"boolean":var _=v.toLowerCase().slice(0,5);if(_!=="data-"&&_!=="aria-"){h.removeAttribute(v);return}}h.setAttribute(v,""+j)}}function Hy(h,v,j){if(j===null)h.removeAttribute(v);else{switch(typeof j){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(v);return}h.setAttribute(v,""+j)}}function _l(h,v,j,_){if(_===null)h.removeAttribute(j);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(j);return}h.setAttributeNS(v,j,""+_)}}var o_,v5;function bh(h){if(o_===void 0)try{throw Error()}catch(j){var v=j.stack.trim().match(/\n( *(at )?)/);o_=v&&v[1]||"",v5=-1<j.stack.indexOf(`
    at`)?" (<anonymous>)":-1<j.stack.indexOf("@")?"@unknown:0:0":""}return`
`+o_+h+v5}var l_=!1;function c_(h,v){if(!h||l_)return"";l_=!0;var j=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var _={DetermineComponentFrameRoot:function(){try{if(v){var Be=function(){throw Error()};if(Object.defineProperty(Be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Be,[])}catch(je){var Ce=je}Reflect.construct(h,[],Be)}else{try{Be.call()}catch(je){Ce=je}h.call(Be.prototype)}}else{try{throw Error()}catch(je){Ce=je}(Be=h())&&typeof Be.catch=="function"&&Be.catch(function(){})}}catch(je){if(je&&Ce&&typeof je.stack=="string")return[je.stack,Ce.stack]}return[null,null]}};_.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var D=Object.getOwnPropertyDescriptor(_.DetermineComponentFrameRoot,"name");D&&D.configurable&&Object.defineProperty(_.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=_.DetermineComponentFrameRoot(),U=I[0],G=I[1];if(U&&G){var te=U.split(`
`),we=G.split(`
`);for(D=_=0;_<te.length&&!te[_].includes("DetermineComponentFrameRoot");)_++;for(;D<we.length&&!we[D].includes("DetermineComponentFrameRoot");)D++;if(_===te.length||D===we.length)for(_=te.length-1,D=we.length-1;1<=_&&0<=D&&te[_]!==we[D];)D--;for(;1<=_&&0<=D;_--,D--)if(te[_]!==we[D]){if(_!==1||D!==1)do if(_--,D--,0>D||te[_]!==we[D]){var De=`
`+te[_].replace(" at new "," at ");return h.displayName&&De.includes("<anonymous>")&&(De=De.replace("<anonymous>",h.displayName)),De}while(1<=_&&0<=D);break}}}finally{l_=!1,Error.prepareStackTrace=j}return(j=h?h.displayName||h.name:"")?bh(j):""}function $ce(h){switch(h.tag){case 26:case 27:case 5:return bh(h.type);case 16:return bh("Lazy");case 13:return bh("Suspense");case 19:return bh("SuspenseList");case 0:case 15:return c_(h.type,!1);case 11:return c_(h.type.render,!1);case 1:return c_(h.type,!0);case 31:return bh("Activity");default:return""}}function y5(h){try{var v="";do v+=$ce(h),h=h.return;while(h);return v}catch(j){return`
Error generating stack: `+j.message+`
`+j.stack}}function wi(h){switch(typeof h){case"bigint":case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function b5(h){var v=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(v==="checkbox"||v==="radio")}function Fce(h){var v=b5(h)?"checked":"value",j=Object.getOwnPropertyDescriptor(h.constructor.prototype,v),_=""+h[v];if(!h.hasOwnProperty(v)&&typeof j<"u"&&typeof j.get=="function"&&typeof j.set=="function"){var D=j.get,I=j.set;return Object.defineProperty(h,v,{configurable:!0,get:function(){return D.call(this)},set:function(U){_=""+U,I.call(this,U)}}),Object.defineProperty(h,v,{enumerable:j.enumerable}),{getValue:function(){return _},setValue:function(U){_=""+U},stopTracking:function(){h._valueTracker=null,delete h[v]}}}}function zy(h){h._valueTracker||(h._valueTracker=Fce(h))}function w5(h){if(!h)return!1;var v=h._valueTracker;if(!v)return!0;var j=v.getValue(),_="";return h&&(_=b5(h)?h.checked?"true":"false":h.value),h=_,h!==j?(v.setValue(h),!0):!1}function Uy(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}var Hce=/[\n"\\]/g;function Si(h){return h.replace(Hce,function(v){return"\\"+v.charCodeAt(0).toString(16)+" "})}function d_(h,v,j,_,D,I,U,G){h.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?h.type=U:h.removeAttribute("type"),v!=null?U==="number"?(v===0&&h.value===""||h.value!=v)&&(h.value=""+wi(v)):h.value!==""+wi(v)&&(h.value=""+wi(v)):U!=="submit"&&U!=="reset"||h.removeAttribute("value"),v!=null?u_(h,U,wi(v)):j!=null?u_(h,U,wi(j)):_!=null&&h.removeAttribute("value"),D==null&&I!=null&&(h.defaultChecked=!!I),D!=null&&(h.checked=D&&typeof D!="function"&&typeof D!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?h.name=""+wi(G):h.removeAttribute("name")}function S5(h,v,j,_,D,I,U,G){if(I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(h.type=I),v!=null||j!=null){if(!(I!=="submit"&&I!=="reset"||v!=null))return;j=j!=null?""+wi(j):"",v=v!=null?""+wi(v):j,G||v===h.value||(h.value=v),h.defaultValue=v}_=_??D,_=typeof _!="function"&&typeof _!="symbol"&&!!_,h.checked=G?h.checked:!!_,h.defaultChecked=!!_,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(h.name=U)}function u_(h,v,j){v==="number"&&Uy(h.ownerDocument)===h||h.defaultValue===""+j||(h.defaultValue=""+j)}function wh(h,v,j,_){if(h=h.options,v){v={};for(var D=0;D<j.length;D++)v["$"+j[D]]=!0;for(j=0;j<h.length;j++)D=v.hasOwnProperty("$"+h[j].value),h[j].selected!==D&&(h[j].selected=D),D&&_&&(h[j].defaultSelected=!0)}else{for(j=""+wi(j),v=null,D=0;D<h.length;D++){if(h[D].value===j){h[D].selected=!0,_&&(h[D].defaultSelected=!0);return}v!==null||h[D].disabled||(v=h[D])}v!==null&&(v.selected=!0)}}function C5(h,v,j){if(v!=null&&(v=""+wi(v),v!==h.value&&(h.value=v),j==null)){h.defaultValue!==v&&(h.defaultValue=v);return}h.defaultValue=j!=null?""+wi(j):""}function j5(h,v,j,_){if(v==null){if(_!=null){if(j!=null)throw Error(n(92));if(F(_)){if(1<_.length)throw Error(n(93));_=_[0]}j=_}j==null&&(j=""),v=j}j=wi(v),h.defaultValue=j,_=h.textContent,_===j&&_!==""&&_!==null&&(h.value=_)}function Sh(h,v){if(v){var j=h.firstChild;if(j&&j===h.lastChild&&j.nodeType===3){j.nodeValue=v;return}}h.textContent=v}var zce=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function E5(h,v,j){var _=v.indexOf("--")===0;j==null||typeof j=="boolean"||j===""?_?h.setProperty(v,""):v==="float"?h.cssFloat="":h[v]="":_?h.setProperty(v,j):typeof j!="number"||j===0||zce.has(v)?v==="float"?h.cssFloat=j:h[v]=(""+j).trim():h[v]=j+"px"}function N5(h,v,j){if(v!=null&&typeof v!="object")throw Error(n(62));if(h=h.style,j!=null){for(var _ in j)!j.hasOwnProperty(_)||v!=null&&v.hasOwnProperty(_)||(_.indexOf("--")===0?h.setProperty(_,""):_==="float"?h.cssFloat="":h[_]="");for(var D in v)_=v[D],v.hasOwnProperty(D)&&j[D]!==_&&E5(h,D,_)}else for(var I in v)v.hasOwnProperty(I)&&E5(h,I,v[I])}function f_(h){if(h.indexOf("-")===-1)return!1;switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uce=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vce=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vy(h){return Vce.test(""+h)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":h}var h_=null;function m_(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var Ch=null,jh=null;function _5(h){var v=xh(h);if(v&&(h=v.stateNode)){var j=h[kr]||null;e:switch(h=v.stateNode,v.type){case"input":if(d_(h,j.value,j.defaultValue,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name),v=j.name,j.type==="radio"&&v!=null){for(j=h;j.parentNode;)j=j.parentNode;for(j=j.querySelectorAll('input[name="'+Si(""+v)+'"][type="radio"]'),v=0;v<j.length;v++){var _=j[v];if(_!==h&&_.form===h.form){var D=_[kr]||null;if(!D)throw Error(n(90));d_(_,D.value,D.defaultValue,D.defaultValue,D.checked,D.defaultChecked,D.type,D.name)}}for(v=0;v<j.length;v++)_=j[v],_.form===h.form&&w5(_)}break e;case"textarea":C5(h,j.value,j.defaultValue);break e;case"select":v=j.value,v!=null&&wh(h,!!j.multiple,v,!1)}}}var p_=!1;function A5(h,v,j){if(p_)return h(v,j);p_=!0;try{var _=h(v);return _}finally{if(p_=!1,(Ch!==null||jh!==null)&&(kb(),Ch&&(v=Ch,h=jh,jh=Ch=null,_5(v),h)))for(v=0;v<h.length;v++)_5(h[v])}}function jg(h,v){var j=h.stateNode;if(j===null)return null;var _=j[kr]||null;if(_===null)return null;j=_[v];e:switch(v){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(h=h.type,_=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!_;break e;default:h=!1}if(h)return null;if(j&&typeof j!="function")throw Error(n(231,v,typeof j));return j}var Al=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g_=!1;if(Al)try{var Eg={};Object.defineProperty(Eg,"passive",{get:function(){g_=!0}}),window.addEventListener("test",Eg,Eg),window.removeEventListener("test",Eg,Eg)}catch{g_=!1}var qc=null,x_=null,Wy=null;function k5(){if(Wy)return Wy;var h,v=x_,j=v.length,_,D="value"in qc?qc.value:qc.textContent,I=D.length;for(h=0;h<j&&v[h]===D[h];h++);var U=j-h;for(_=1;_<=U&&v[j-_]===D[I-_];_++);return Wy=D.slice(h,1<_?1-_:void 0)}function qy(h){var v=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&v===13&&(h=13)):h=v,h===10&&(h=13),32<=h||h===13?h:0}function Gy(){return!0}function T5(){return!1}function ga(h){function v(j,_,D,I,U){this._reactName=j,this._targetInst=D,this.type=_,this.nativeEvent=I,this.target=U,this.currentTarget=null;for(var G in h)h.hasOwnProperty(G)&&(j=h[G],this[G]=j?j(I):I[G]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Gy:T5,this.isPropagationStopped=T5,this}return l(v.prototype,{preventDefault:function(){this.defaultPrevented=!0;var j=this.nativeEvent;j&&(j.preventDefault?j.preventDefault():typeof j.returnValue!="unknown"&&(j.returnValue=!1),this.isDefaultPrevented=Gy)},stopPropagation:function(){var j=this.nativeEvent;j&&(j.stopPropagation?j.stopPropagation():typeof j.cancelBubble!="unknown"&&(j.cancelBubble=!0),this.isPropagationStopped=Gy)},persist:function(){},isPersistent:Gy}),v}var yu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yy=ga(yu),Ng=l({},yu,{view:0,detail:0}),Wce=ga(Ng),v_,y_,_g,Ky=l({},Ng,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:w_,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==_g&&(_g&&h.type==="mousemove"?(v_=h.screenX-_g.screenX,y_=h.screenY-_g.screenY):y_=v_=0,_g=h),v_)},movementY:function(h){return"movementY"in h?h.movementY:y_}}),P5=ga(Ky),qce=l({},Ky,{dataTransfer:0}),Gce=ga(qce),Yce=l({},Ng,{relatedTarget:0}),b_=ga(Yce),Kce=l({},yu,{animationName:0,elapsedTime:0,pseudoElement:0}),Zce=ga(Kce),Xce=l({},yu,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),Qce=ga(Xce),Jce=l({},yu,{data:0}),D5=ga(Jce),ede={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tde={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rde={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nde(h){var v=this.nativeEvent;return v.getModifierState?v.getModifierState(h):(h=rde[h])?!!v[h]:!1}function w_(){return nde}var sde=l({},Ng,{key:function(h){if(h.key){var v=ede[h.key]||h.key;if(v!=="Unidentified")return v}return h.type==="keypress"?(h=qy(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?tde[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:w_,charCode:function(h){return h.type==="keypress"?qy(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?qy(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),ade=ga(sde),ide=l({},Ky,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R5=ga(ide),ode=l({},Ng,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:w_}),lde=ga(ode),cde=l({},yu,{propertyName:0,elapsedTime:0,pseudoElement:0}),dde=ga(cde),ude=l({},Ky,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),fde=ga(ude),hde=l({},yu,{newState:0,oldState:0}),mde=ga(hde),pde=[9,13,27,32],S_=Al&&"CompositionEvent"in window,Ag=null;Al&&"documentMode"in document&&(Ag=document.documentMode);var gde=Al&&"TextEvent"in window&&!Ag,M5=Al&&(!S_||Ag&&8<Ag&&11>=Ag),O5=" ",I5=!1;function L5(h,v){switch(h){case"keyup":return pde.indexOf(v.keyCode)!==-1;case"keydown":return v.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B5(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Eh=!1;function xde(h,v){switch(h){case"compositionend":return B5(v);case"keypress":return v.which!==32?null:(I5=!0,O5);case"textInput":return h=v.data,h===O5&&I5?null:h;default:return null}}function vde(h,v){if(Eh)return h==="compositionend"||!S_&&L5(h,v)?(h=k5(),Wy=x_=qc=null,Eh=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(v.ctrlKey||v.altKey||v.metaKey)||v.ctrlKey&&v.altKey){if(v.char&&1<v.char.length)return v.char;if(v.which)return String.fromCharCode(v.which)}return null;case"compositionend":return M5&&v.locale!=="ko"?null:v.data;default:return null}}var yde={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $5(h){var v=h&&h.nodeName&&h.nodeName.toLowerCase();return v==="input"?!!yde[h.type]:v==="textarea"}function F5(h,v,j,_){Ch?jh?jh.push(_):jh=[_]:Ch=_,v=Ob(v,"onChange"),0<v.length&&(j=new Yy("onChange","change",null,j,_),h.push({event:j,listeners:v}))}var kg=null,Tg=null;function bde(h){b$(h,0)}function Zy(h){var v=Cg(h);if(w5(v))return h}function H5(h,v){if(h==="change")return v}var z5=!1;if(Al){var C_;if(Al){var j_="oninput"in document;if(!j_){var U5=document.createElement("div");U5.setAttribute("oninput","return;"),j_=typeof U5.oninput=="function"}C_=j_}else C_=!1;z5=C_&&(!document.documentMode||9<document.documentMode)}function V5(){kg&&(kg.detachEvent("onpropertychange",W5),Tg=kg=null)}function W5(h){if(h.propertyName==="value"&&Zy(Tg)){var v=[];F5(v,Tg,h,m_(h)),A5(bde,v)}}function wde(h,v,j){h==="focusin"?(V5(),kg=v,Tg=j,kg.attachEvent("onpropertychange",W5)):h==="focusout"&&V5()}function Sde(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return Zy(Tg)}function Cde(h,v){if(h==="click")return Zy(v)}function jde(h,v){if(h==="input"||h==="change")return Zy(v)}function Ede(h,v){return h===v&&(h!==0||1/h===1/v)||h!==h&&v!==v}var Fa=typeof Object.is=="function"?Object.is:Ede;function Pg(h,v){if(Fa(h,v))return!0;if(typeof h!="object"||h===null||typeof v!="object"||v===null)return!1;var j=Object.keys(h),_=Object.keys(v);if(j.length!==_.length)return!1;for(_=0;_<j.length;_++){var D=j[_];if(!le.call(v,D)||!Fa(h[D],v[D]))return!1}return!0}function q5(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function G5(h,v){var j=q5(h);h=0;for(var _;j;){if(j.nodeType===3){if(_=h+j.textContent.length,h<=v&&_>=v)return{node:j,offset:v-h};h=_}e:{for(;j;){if(j.nextSibling){j=j.nextSibling;break e}j=j.parentNode}j=void 0}j=q5(j)}}function Y5(h,v){return h&&v?h===v?!0:h&&h.nodeType===3?!1:v&&v.nodeType===3?Y5(h,v.parentNode):"contains"in h?h.contains(v):h.compareDocumentPosition?!!(h.compareDocumentPosition(v)&16):!1:!1}function K5(h){h=h!=null&&h.ownerDocument!=null&&h.ownerDocument.defaultView!=null?h.ownerDocument.defaultView:window;for(var v=Uy(h.document);v instanceof h.HTMLIFrameElement;){try{var j=typeof v.contentWindow.location.href=="string"}catch{j=!1}if(j)h=v.contentWindow;else break;v=Uy(h.document)}return v}function E_(h){var v=h&&h.nodeName&&h.nodeName.toLowerCase();return v&&(v==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||v==="textarea"||h.contentEditable==="true")}var Nde=Al&&"documentMode"in document&&11>=document.documentMode,Nh=null,N_=null,Dg=null,__=!1;function Z5(h,v,j){var _=j.window===j?j.document:j.nodeType===9?j:j.ownerDocument;__||Nh==null||Nh!==Uy(_)||(_=Nh,"selectionStart"in _&&E_(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),Dg&&Pg(Dg,_)||(Dg=_,_=Ob(N_,"onSelect"),0<_.length&&(v=new Yy("onSelect","select",null,v,j),h.push({event:v,listeners:_}),v.target=Nh)))}function bu(h,v){var j={};return j[h.toLowerCase()]=v.toLowerCase(),j["Webkit"+h]="webkit"+v,j["Moz"+h]="moz"+v,j}var _h={animationend:bu("Animation","AnimationEnd"),animationiteration:bu("Animation","AnimationIteration"),animationstart:bu("Animation","AnimationStart"),transitionrun:bu("Transition","TransitionRun"),transitionstart:bu("Transition","TransitionStart"),transitioncancel:bu("Transition","TransitionCancel"),transitionend:bu("Transition","TransitionEnd")},A_={},X5={};Al&&(X5=document.createElement("div").style,"AnimationEvent"in window||(delete _h.animationend.animation,delete _h.animationiteration.animation,delete _h.animationstart.animation),"TransitionEvent"in window||delete _h.transitionend.transition);function wu(h){if(A_[h])return A_[h];if(!_h[h])return h;var v=_h[h],j;for(j in v)if(v.hasOwnProperty(j)&&j in X5)return A_[h]=v[j];return h}var Q5=wu("animationend"),J5=wu("animationiteration"),eL=wu("animationstart"),_de=wu("transitionrun"),Ade=wu("transitionstart"),kde=wu("transitioncancel"),tL=wu("transitionend"),rL=new Map,k_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");k_.push("scrollEnd");function io(h,v){rL.set(h,v),vu(v,[h])}var nL=new WeakMap;function Ci(h,v){if(typeof h=="object"&&h!==null){var j=nL.get(h);return j!==void 0?j:(v={value:h,source:v,stack:y5(v)},nL.set(h,v),v)}return{value:h,source:v,stack:y5(v)}}var ji=[],Ah=0,T_=0;function Xy(){for(var h=Ah,v=T_=Ah=0;v<h;){var j=ji[v];ji[v++]=null;var _=ji[v];ji[v++]=null;var D=ji[v];ji[v++]=null;var I=ji[v];if(ji[v++]=null,_!==null&&D!==null){var U=_.pending;U===null?D.next=D:(D.next=U.next,U.next=D),_.pending=D}I!==0&&sL(j,D,I)}}function Qy(h,v,j,_){ji[Ah++]=h,ji[Ah++]=v,ji[Ah++]=j,ji[Ah++]=_,T_|=_,h.lanes|=_,h=h.alternate,h!==null&&(h.lanes|=_)}function P_(h,v,j,_){return Qy(h,v,j,_),Jy(h)}function kh(h,v){return Qy(h,null,null,v),Jy(h)}function sL(h,v,j){h.lanes|=j;var _=h.alternate;_!==null&&(_.lanes|=j);for(var D=!1,I=h.return;I!==null;)I.childLanes|=j,_=I.alternate,_!==null&&(_.childLanes|=j),I.tag===22&&(h=I.stateNode,h===null||h._visibility&1||(D=!0)),h=I,I=I.return;return h.tag===3?(I=h.stateNode,D&&v!==null&&(D=31-Qe(j),h=I.hiddenUpdates,_=h[D],_===null?h[D]=[v]:_.push(v),v.lane=j|536870912),I):null}function Jy(h){if(50<nx)throw nx=0,LA=null,Error(n(185));for(var v=h.return;v!==null;)h=v,v=h.return;return h.tag===3?h.stateNode:null}var Th={};function Tde(h,v,j,_){this.tag=h,this.key=j,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ha(h,v,j,_){return new Tde(h,v,j,_)}function D_(h){return h=h.prototype,!(!h||!h.isReactComponent)}function kl(h,v){var j=h.alternate;return j===null?(j=Ha(h.tag,v,h.key,h.mode),j.elementType=h.elementType,j.type=h.type,j.stateNode=h.stateNode,j.alternate=h,h.alternate=j):(j.pendingProps=v,j.type=h.type,j.flags=0,j.subtreeFlags=0,j.deletions=null),j.flags=h.flags&65011712,j.childLanes=h.childLanes,j.lanes=h.lanes,j.child=h.child,j.memoizedProps=h.memoizedProps,j.memoizedState=h.memoizedState,j.updateQueue=h.updateQueue,v=h.dependencies,j.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},j.sibling=h.sibling,j.index=h.index,j.ref=h.ref,j.refCleanup=h.refCleanup,j}function aL(h,v){h.flags&=65011714;var j=h.alternate;return j===null?(h.childLanes=0,h.lanes=v,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=j.childLanes,h.lanes=j.lanes,h.child=j.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=j.memoizedProps,h.memoizedState=j.memoizedState,h.updateQueue=j.updateQueue,h.type=j.type,v=j.dependencies,h.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext}),h}function eb(h,v,j,_,D,I){var U=0;if(_=h,typeof h=="function")D_(h)&&(U=1);else if(typeof h=="string")U=Due(h,j,Y.current)?26:h==="html"||h==="head"||h==="body"?27:5;else e:switch(h){case P:return h=Ha(31,j,v,D),h.elementType=P,h.lanes=I,h;case x:return Su(j.children,D,I,v);case S:U=8,D|=24;break;case m:return h=Ha(12,j,v,D|2),h.elementType=m,h.lanes=I,h;case N:return h=Ha(13,j,v,D),h.elementType=N,h.lanes=I,h;case k:return h=Ha(19,j,v,D),h.elementType=k,h.lanes=I,h;default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case y:case C:U=10;break e;case w:U=9;break e;case E:U=11;break e;case A:U=14;break e;case T:U=16,_=null;break e}U=29,j=Error(n(130,h===null?"null":typeof h,"")),_=null}return v=Ha(U,j,v,D),v.elementType=h,v.type=_,v.lanes=I,v}function Su(h,v,j,_){return h=Ha(7,h,_,v),h.lanes=j,h}function R_(h,v,j){return h=Ha(6,h,null,v),h.lanes=j,h}function M_(h,v,j){return v=Ha(4,h.children!==null?h.children:[],h.key,v),v.lanes=j,v.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},v}var Ph=[],Dh=0,tb=null,rb=0,Ei=[],Ni=0,Cu=null,Tl=1,Pl="";function ju(h,v){Ph[Dh++]=rb,Ph[Dh++]=tb,tb=h,rb=v}function iL(h,v,j){Ei[Ni++]=Tl,Ei[Ni++]=Pl,Ei[Ni++]=Cu,Cu=h;var _=Tl;h=Pl;var D=32-Qe(_)-1;_&=~(1<<D),j+=1;var I=32-Qe(v)+D;if(30<I){var U=D-D%5;I=(_&(1<<U)-1).toString(32),_>>=U,D-=U,Tl=1<<32-Qe(v)+D|j<<D|_,Pl=I+h}else Tl=1<<I|j<<D|_,Pl=h}function O_(h){h.return!==null&&(ju(h,1),iL(h,1,0))}function I_(h){for(;h===tb;)tb=Ph[--Dh],Ph[Dh]=null,rb=Ph[--Dh],Ph[Dh]=null;for(;h===Cu;)Cu=Ei[--Ni],Ei[Ni]=null,Pl=Ei[--Ni],Ei[Ni]=null,Tl=Ei[--Ni],Ei[Ni]=null}var na=null,bn=null,hr=!1,Eu=null,Ro=!1,L_=Error(n(519));function Nu(h){var v=Error(n(418,""));throw Og(Ci(v,h)),L_}function oL(h){var v=h.stateNode,j=h.type,_=h.memoizedProps;switch(v[Kn]=h,v[kr]=_,j){case"dialog":Yt("cancel",v),Yt("close",v);break;case"iframe":case"object":case"embed":Yt("load",v);break;case"video":case"audio":for(j=0;j<ax.length;j++)Yt(ax[j],v);break;case"source":Yt("error",v);break;case"img":case"image":case"link":Yt("error",v),Yt("load",v);break;case"details":Yt("toggle",v);break;case"input":Yt("invalid",v),S5(v,_.value,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name,!0),zy(v);break;case"select":Yt("invalid",v);break;case"textarea":Yt("invalid",v),j5(v,_.value,_.defaultValue,_.children),zy(v)}j=_.children,typeof j!="string"&&typeof j!="number"&&typeof j!="bigint"||v.textContent===""+j||_.suppressHydrationWarning===!0||j$(v.textContent,j)?(_.popover!=null&&(Yt("beforetoggle",v),Yt("toggle",v)),_.onScroll!=null&&Yt("scroll",v),_.onScrollEnd!=null&&Yt("scrollend",v),_.onClick!=null&&(v.onclick=Ib),v=!0):v=!1,v||Nu(h)}function lL(h){for(na=h.return;na;)switch(na.tag){case 5:case 13:Ro=!1;return;case 27:case 3:Ro=!0;return;default:na=na.return}}function Rg(h){if(h!==na)return!1;if(!hr)return lL(h),hr=!0,!1;var v=h.tag,j;if((j=v!==3&&v!==27)&&((j=v===5)&&(j=h.type,j=!(j!=="form"&&j!=="button")||JA(h.type,h.memoizedProps)),j=!j),j&&bn&&Nu(h),lL(h),v===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));e:{for(h=h.nextSibling,v=0;h;){if(h.nodeType===8)if(j=h.data,j==="/$"){if(v===0){bn=lo(h.nextSibling);break e}v--}else j!=="$"&&j!=="$!"&&j!=="$?"||v++;h=h.nextSibling}bn=null}}else v===27?(v=bn,cd(h.type)?(h=nk,nk=null,bn=h):bn=v):bn=na?lo(h.stateNode.nextSibling):null;return!0}function Mg(){bn=na=null,hr=!1}function cL(){var h=Eu;return h!==null&&(ya===null?ya=h:ya.push.apply(ya,h),Eu=null),h}function Og(h){Eu===null?Eu=[h]:Eu.push(h)}var B_=q(null),_u=null,Dl=null;function Gc(h,v,j){K(B_,v._currentValue),v._currentValue=j}function Rl(h){h._currentValue=B_.current,H(B_)}function $_(h,v,j){for(;h!==null;){var _=h.alternate;if((h.childLanes&v)!==v?(h.childLanes|=v,_!==null&&(_.childLanes|=v)):_!==null&&(_.childLanes&v)!==v&&(_.childLanes|=v),h===j)break;h=h.return}}function F_(h,v,j,_){var D=h.child;for(D!==null&&(D.return=h);D!==null;){var I=D.dependencies;if(I!==null){var U=D.child;I=I.firstContext;e:for(;I!==null;){var G=I;I=D;for(var te=0;te<v.length;te++)if(G.context===v[te]){I.lanes|=j,G=I.alternate,G!==null&&(G.lanes|=j),$_(I.return,j,h),_||(U=null);break e}I=G.next}}else if(D.tag===18){if(U=D.return,U===null)throw Error(n(341));U.lanes|=j,I=U.alternate,I!==null&&(I.lanes|=j),$_(U,j,h),U=null}else U=D.child;if(U!==null)U.return=D;else for(U=D;U!==null;){if(U===h){U=null;break}if(D=U.sibling,D!==null){D.return=U.return,U=D;break}U=U.return}D=U}}function Ig(h,v,j,_){h=null;for(var D=v,I=!1;D!==null;){if(!I){if((D.flags&524288)!==0)I=!0;else if((D.flags&262144)!==0)break}if(D.tag===10){var U=D.alternate;if(U===null)throw Error(n(387));if(U=U.memoizedProps,U!==null){var G=D.type;Fa(D.pendingProps.value,U.value)||(h!==null?h.push(G):h=[G])}}else if(D===de.current){if(U=D.alternate,U===null)throw Error(n(387));U.memoizedState.memoizedState!==D.memoizedState.memoizedState&&(h!==null?h.push(ux):h=[ux])}D=D.return}h!==null&&F_(v,h,j,_),v.flags|=262144}function nb(h){for(h=h.firstContext;h!==null;){if(!Fa(h.context._currentValue,h.memoizedValue))return!0;h=h.next}return!1}function Au(h){_u=h,Dl=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function Hs(h){return dL(_u,h)}function sb(h,v){return _u===null&&Au(h),dL(h,v)}function dL(h,v){var j=v._currentValue;if(v={context:v,memoizedValue:j,next:null},Dl===null){if(h===null)throw Error(n(308));Dl=v,h.dependencies={lanes:0,firstContext:v},h.flags|=524288}else Dl=Dl.next=v;return j}var Pde=typeof AbortController<"u"?AbortController:function(){var h=[],v=this.signal={aborted:!1,addEventListener:function(j,_){h.push(_)}};this.abort=function(){v.aborted=!0,h.forEach(function(j){return j()})}},Dde=e.unstable_scheduleCallback,Rde=e.unstable_NormalPriority,Zn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function H_(){return{controller:new Pde,data:new Map,refCount:0}}function Lg(h){h.refCount--,h.refCount===0&&Dde(Rde,function(){h.controller.abort()})}var Bg=null,z_=0,Rh=0,Mh=null;function Mde(h,v){if(Bg===null){var j=Bg=[];z_=0,Rh=VA(),Mh={status:"pending",value:void 0,then:function(_){j.push(_)}}}return z_++,v.then(uL,uL),v}function uL(){if(--z_===0&&Bg!==null){Mh!==null&&(Mh.status="fulfilled");var h=Bg;Bg=null,Rh=0,Mh=null;for(var v=0;v<h.length;v++)(0,h[v])()}}function Ode(h,v){var j=[],_={status:"pending",value:null,reason:null,then:function(D){j.push(D)}};return h.then(function(){_.status="fulfilled",_.value=v;for(var D=0;D<j.length;D++)(0,j[D])(v)},function(D){for(_.status="rejected",_.reason=D,D=0;D<j.length;D++)(0,j[D])(void 0)}),_}var fL=$.S;$.S=function(h,v){typeof v=="object"&&v!==null&&typeof v.then=="function"&&Mde(h,v),fL!==null&&fL(h,v)};var ku=q(null);function U_(){var h=ku.current;return h!==null?h:Fr.pooledCache}function ab(h,v){v===null?K(ku,ku.current):K(ku,v.pool)}function hL(){var h=U_();return h===null?null:{parent:Zn._currentValue,pool:h}}var $g=Error(n(460)),mL=Error(n(474)),ib=Error(n(542)),V_={then:function(){}};function pL(h){return h=h.status,h==="fulfilled"||h==="rejected"}function ob(){}function gL(h,v,j){switch(j=h[j],j===void 0?h.push(v):j!==v&&(v.then(ob,ob),v=j),v.status){case"fulfilled":return v.value;case"rejected":throw h=v.reason,vL(h),h;default:if(typeof v.status=="string")v.then(ob,ob);else{if(h=Fr,h!==null&&100<h.shellSuspendCounter)throw Error(n(482));h=v,h.status="pending",h.then(function(_){if(v.status==="pending"){var D=v;D.status="fulfilled",D.value=_}},function(_){if(v.status==="pending"){var D=v;D.status="rejected",D.reason=_}})}switch(v.status){case"fulfilled":return v.value;case"rejected":throw h=v.reason,vL(h),h}throw Fg=v,$g}}var Fg=null;function xL(){if(Fg===null)throw Error(n(459));var h=Fg;return Fg=null,h}function vL(h){if(h===$g||h===ib)throw Error(n(483))}var Yc=!1;function W_(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function q_(h,v){h=h.updateQueue,v.updateQueue===h&&(v.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function Kc(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function Zc(h,v,j){var _=h.updateQueue;if(_===null)return null;if(_=_.shared,(Cr&2)!==0){var D=_.pending;return D===null?v.next=v:(v.next=D.next,D.next=v),_.pending=v,v=Jy(h),sL(h,null,j),v}return Qy(h,_,v,j),Jy(h)}function Hg(h,v,j){if(v=v.updateQueue,v!==null&&(v=v.shared,(j&4194048)!==0)){var _=v.lanes;_&=h.pendingLanes,j|=_,v.lanes=j,mh(h,j)}}function G_(h,v){var j=h.updateQueue,_=h.alternate;if(_!==null&&(_=_.updateQueue,j===_)){var D=null,I=null;if(j=j.firstBaseUpdate,j!==null){do{var U={lane:j.lane,tag:j.tag,payload:j.payload,callback:null,next:null};I===null?D=I=U:I=I.next=U,j=j.next}while(j!==null);I===null?D=I=v:I=I.next=v}else D=I=v;j={baseState:_.baseState,firstBaseUpdate:D,lastBaseUpdate:I,shared:_.shared,callbacks:_.callbacks},h.updateQueue=j;return}h=j.lastBaseUpdate,h===null?j.firstBaseUpdate=v:h.next=v,j.lastBaseUpdate=v}var Y_=!1;function zg(){if(Y_){var h=Mh;if(h!==null)throw h}}function Ug(h,v,j,_){Y_=!1;var D=h.updateQueue;Yc=!1;var I=D.firstBaseUpdate,U=D.lastBaseUpdate,G=D.shared.pending;if(G!==null){D.shared.pending=null;var te=G,we=te.next;te.next=null,U===null?I=we:U.next=we,U=te;var De=h.alternate;De!==null&&(De=De.updateQueue,G=De.lastBaseUpdate,G!==U&&(G===null?De.firstBaseUpdate=we:G.next=we,De.lastBaseUpdate=te))}if(I!==null){var Be=D.baseState;U=0,De=we=te=null,G=I;do{var Ce=G.lane&-536870913,je=Ce!==G.lane;if(je?(ir&Ce)===Ce:(_&Ce)===Ce){Ce!==0&&Ce===Rh&&(Y_=!0),De!==null&&(De=De.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var Pt=h,jt=G;Ce=v;var Dr=j;switch(jt.tag){case 1:if(Pt=jt.payload,typeof Pt=="function"){Be=Pt.call(Dr,Be,Ce);break e}Be=Pt;break e;case 3:Pt.flags=Pt.flags&-65537|128;case 0:if(Pt=jt.payload,Ce=typeof Pt=="function"?Pt.call(Dr,Be,Ce):Pt,Ce==null)break e;Be=l({},Be,Ce);break e;case 2:Yc=!0}}Ce=G.callback,Ce!==null&&(h.flags|=64,je&&(h.flags|=8192),je=D.callbacks,je===null?D.callbacks=[Ce]:je.push(Ce))}else je={lane:Ce,tag:G.tag,payload:G.payload,callback:G.callback,next:null},De===null?(we=De=je,te=Be):De=De.next=je,U|=Ce;if(G=G.next,G===null){if(G=D.shared.pending,G===null)break;je=G,G=je.next,je.next=null,D.lastBaseUpdate=je,D.shared.pending=null}}while(!0);De===null&&(te=Be),D.baseState=te,D.firstBaseUpdate=we,D.lastBaseUpdate=De,I===null&&(D.shared.lanes=0),sd|=U,h.lanes=U,h.memoizedState=Be}}function yL(h,v){if(typeof h!="function")throw Error(n(191,h));h.call(v)}function bL(h,v){var j=h.callbacks;if(j!==null)for(h.callbacks=null,h=0;h<j.length;h++)yL(j[h],v)}var Oh=q(null),lb=q(0);function wL(h,v){h=Fl,K(lb,h),K(Oh,v),Fl=h|v.baseLanes}function K_(){K(lb,Fl),K(Oh,Oh.current)}function Z_(){Fl=lb.current,H(Oh),H(lb)}var Xc=0,Ft=null,Tr=null,Hn=null,cb=!1,Ih=!1,Tu=!1,db=0,Vg=0,Lh=null,Ide=0;function Rn(){throw Error(n(321))}function X_(h,v){if(v===null)return!1;for(var j=0;j<v.length&&j<h.length;j++)if(!Fa(h[j],v[j]))return!1;return!0}function Q_(h,v,j,_,D,I){return Xc=I,Ft=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,$.H=h===null||h.memoizedState===null?sB:aB,Tu=!1,I=j(_,D),Tu=!1,Ih&&(I=CL(v,j,_,D)),SL(h),I}function SL(h){$.H=gb;var v=Tr!==null&&Tr.next!==null;if(Xc=0,Hn=Tr=Ft=null,cb=!1,Vg=0,Lh=null,v)throw Error(n(300));h===null||ps||(h=h.dependencies,h!==null&&nb(h)&&(ps=!0))}function CL(h,v,j,_){Ft=h;var D=0;do{if(Ih&&(Lh=null),Vg=0,Ih=!1,25<=D)throw Error(n(301));if(D+=1,Hn=Tr=null,h.updateQueue!=null){var I=h.updateQueue;I.lastEffect=null,I.events=null,I.stores=null,I.memoCache!=null&&(I.memoCache.index=0)}$.H=Ude,I=v(j,_)}while(Ih);return I}function Lde(){var h=$.H,v=h.useState()[0];return v=typeof v.then=="function"?Wg(v):v,h=h.useState()[0],(Tr!==null?Tr.memoizedState:null)!==h&&(Ft.flags|=1024),v}function J_(){var h=db!==0;return db=0,h}function eA(h,v,j){v.updateQueue=h.updateQueue,v.flags&=-2053,h.lanes&=~j}function tA(h){if(cb){for(h=h.memoizedState;h!==null;){var v=h.queue;v!==null&&(v.pending=null),h=h.next}cb=!1}Xc=0,Hn=Tr=Ft=null,Ih=!1,Vg=db=0,Lh=null}function xa(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?Ft.memoizedState=Hn=h:Hn=Hn.next=h,Hn}function zn(){if(Tr===null){var h=Ft.alternate;h=h!==null?h.memoizedState:null}else h=Tr.next;var v=Hn===null?Ft.memoizedState:Hn.next;if(v!==null)Hn=v,Tr=h;else{if(h===null)throw Ft.alternate===null?Error(n(467)):Error(n(310));Tr=h,h={memoizedState:Tr.memoizedState,baseState:Tr.baseState,baseQueue:Tr.baseQueue,queue:Tr.queue,next:null},Hn===null?Ft.memoizedState=Hn=h:Hn=Hn.next=h}return Hn}function rA(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wg(h){var v=Vg;return Vg+=1,Lh===null&&(Lh=[]),h=gL(Lh,h,v),v=Ft,(Hn===null?v.memoizedState:Hn.next)===null&&(v=v.alternate,$.H=v===null||v.memoizedState===null?sB:aB),h}function ub(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return Wg(h);if(h.$$typeof===C)return Hs(h)}throw Error(n(438,String(h)))}function nA(h){var v=null,j=Ft.updateQueue;if(j!==null&&(v=j.memoCache),v==null){var _=Ft.alternate;_!==null&&(_=_.updateQueue,_!==null&&(_=_.memoCache,_!=null&&(v={data:_.data.map(function(D){return D.slice()}),index:0})))}if(v==null&&(v={data:[],index:0}),j===null&&(j=rA(),Ft.updateQueue=j),j.memoCache=v,j=v.data[v.index],j===void 0)for(j=v.data[v.index]=Array(h),_=0;_<h;_++)j[_]=M;return v.index++,j}function Ml(h,v){return typeof v=="function"?v(h):v}function fb(h){var v=zn();return sA(v,Tr,h)}function sA(h,v,j){var _=h.queue;if(_===null)throw Error(n(311));_.lastRenderedReducer=j;var D=h.baseQueue,I=_.pending;if(I!==null){if(D!==null){var U=D.next;D.next=I.next,I.next=U}v.baseQueue=D=I,_.pending=null}if(I=h.baseState,D===null)h.memoizedState=I;else{v=D.next;var G=U=null,te=null,we=v,De=!1;do{var Be=we.lane&-536870913;if(Be!==we.lane?(ir&Be)===Be:(Xc&Be)===Be){var Ce=we.revertLane;if(Ce===0)te!==null&&(te=te.next={lane:0,revertLane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),Be===Rh&&(De=!0);else if((Xc&Ce)===Ce){we=we.next,Ce===Rh&&(De=!0);continue}else Be={lane:0,revertLane:we.revertLane,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},te===null?(G=te=Be,U=I):te=te.next=Be,Ft.lanes|=Ce,sd|=Ce;Be=we.action,Tu&&j(I,Be),I=we.hasEagerState?we.eagerState:j(I,Be)}else Ce={lane:Be,revertLane:we.revertLane,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},te===null?(G=te=Ce,U=I):te=te.next=Ce,Ft.lanes|=Be,sd|=Be;we=we.next}while(we!==null&&we!==v);if(te===null?U=I:te.next=G,!Fa(I,h.memoizedState)&&(ps=!0,De&&(j=Mh,j!==null)))throw j;h.memoizedState=I,h.baseState=U,h.baseQueue=te,_.lastRenderedState=I}return D===null&&(_.lanes=0),[h.memoizedState,_.dispatch]}function aA(h){var v=zn(),j=v.queue;if(j===null)throw Error(n(311));j.lastRenderedReducer=h;var _=j.dispatch,D=j.pending,I=v.memoizedState;if(D!==null){j.pending=null;var U=D=D.next;do I=h(I,U.action),U=U.next;while(U!==D);Fa(I,v.memoizedState)||(ps=!0),v.memoizedState=I,v.baseQueue===null&&(v.baseState=I),j.lastRenderedState=I}return[I,_]}function jL(h,v,j){var _=Ft,D=zn(),I=hr;if(I){if(j===void 0)throw Error(n(407));j=j()}else j=v();var U=!Fa((Tr||D).memoizedState,j);U&&(D.memoizedState=j,ps=!0),D=D.queue;var G=_L.bind(null,_,D,h);if(qg(2048,8,G,[h]),D.getSnapshot!==v||U||Hn!==null&&Hn.memoizedState.tag&1){if(_.flags|=2048,Bh(9,hb(),NL.bind(null,_,D,j,v),null),Fr===null)throw Error(n(349));I||(Xc&124)!==0||EL(_,v,j)}return j}function EL(h,v,j){h.flags|=16384,h={getSnapshot:v,value:j},v=Ft.updateQueue,v===null?(v=rA(),Ft.updateQueue=v,v.stores=[h]):(j=v.stores,j===null?v.stores=[h]:j.push(h))}function NL(h,v,j,_){v.value=j,v.getSnapshot=_,AL(v)&&kL(h)}function _L(h,v,j){return j(function(){AL(v)&&kL(h)})}function AL(h){var v=h.getSnapshot;h=h.value;try{var j=v();return!Fa(h,j)}catch{return!0}}function kL(h){var v=kh(h,2);v!==null&&qa(v,h,2)}function iA(h){var v=xa();if(typeof h=="function"){var j=h;if(h=j(),Tu){Le(!0);try{j()}finally{Le(!1)}}}return v.memoizedState=v.baseState=h,v.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:h},v}function TL(h,v,j,_){return h.baseState=j,sA(h,Tr,typeof _=="function"?_:Ml)}function Bde(h,v,j,_,D){if(pb(h))throw Error(n(485));if(h=v.action,h!==null){var I={payload:D,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){I.listeners.push(U)}};$.T!==null?j(!0):I.isTransition=!1,_(I),j=v.pending,j===null?(I.next=v.pending=I,PL(v,I)):(I.next=j.next,v.pending=j.next=I)}}function PL(h,v){var j=v.action,_=v.payload,D=h.state;if(v.isTransition){var I=$.T,U={};$.T=U;try{var G=j(D,_),te=$.S;te!==null&&te(U,G),DL(h,v,G)}catch(we){oA(h,v,we)}finally{$.T=I}}else try{I=j(D,_),DL(h,v,I)}catch(we){oA(h,v,we)}}function DL(h,v,j){j!==null&&typeof j=="object"&&typeof j.then=="function"?j.then(function(_){RL(h,v,_)},function(_){return oA(h,v,_)}):RL(h,v,j)}function RL(h,v,j){v.status="fulfilled",v.value=j,ML(v),h.state=j,v=h.pending,v!==null&&(j=v.next,j===v?h.pending=null:(j=j.next,v.next=j,PL(h,j)))}function oA(h,v,j){var _=h.pending;if(h.pending=null,_!==null){_=_.next;do v.status="rejected",v.reason=j,ML(v),v=v.next;while(v!==_)}h.action=null}function ML(h){h=h.listeners;for(var v=0;v<h.length;v++)(0,h[v])()}function OL(h,v){return v}function IL(h,v){if(hr){var j=Fr.formState;if(j!==null){e:{var _=Ft;if(hr){if(bn){t:{for(var D=bn,I=Ro;D.nodeType!==8;){if(!I){D=null;break t}if(D=lo(D.nextSibling),D===null){D=null;break t}}I=D.data,D=I==="F!"||I==="F"?D:null}if(D){bn=lo(D.nextSibling),_=D.data==="F!";break e}}Nu(_)}_=!1}_&&(v=j[0])}}return j=xa(),j.memoizedState=j.baseState=v,_={pending:null,lanes:0,dispatch:null,lastRenderedReducer:OL,lastRenderedState:v},j.queue=_,j=tB.bind(null,Ft,_),_.dispatch=j,_=iA(!1),I=fA.bind(null,Ft,!1,_.queue),_=xa(),D={state:v,dispatch:null,action:h,pending:null},_.queue=D,j=Bde.bind(null,Ft,D,I,j),D.dispatch=j,_.memoizedState=h,[v,j,!1]}function LL(h){var v=zn();return BL(v,Tr,h)}function BL(h,v,j){if(v=sA(h,v,OL)[0],h=fb(Ml)[0],typeof v=="object"&&v!==null&&typeof v.then=="function")try{var _=Wg(v)}catch(U){throw U===$g?ib:U}else _=v;v=zn();var D=v.queue,I=D.dispatch;return j!==v.memoizedState&&(Ft.flags|=2048,Bh(9,hb(),$de.bind(null,D,j),null)),[_,I,h]}function $de(h,v){h.action=v}function $L(h){var v=zn(),j=Tr;if(j!==null)return BL(v,j,h);zn(),v=v.memoizedState,j=zn();var _=j.queue.dispatch;return j.memoizedState=h,[v,_,!1]}function Bh(h,v,j,_){return h={tag:h,create:j,deps:_,inst:v,next:null},v=Ft.updateQueue,v===null&&(v=rA(),Ft.updateQueue=v),j=v.lastEffect,j===null?v.lastEffect=h.next=h:(_=j.next,j.next=h,h.next=_,v.lastEffect=h),h}function hb(){return{destroy:void 0,resource:void 0}}function FL(){return zn().memoizedState}function mb(h,v,j,_){var D=xa();_=_===void 0?null:_,Ft.flags|=h,D.memoizedState=Bh(1|v,hb(),j,_)}function qg(h,v,j,_){var D=zn();_=_===void 0?null:_;var I=D.memoizedState.inst;Tr!==null&&_!==null&&X_(_,Tr.memoizedState.deps)?D.memoizedState=Bh(v,I,j,_):(Ft.flags|=h,D.memoizedState=Bh(1|v,I,j,_))}function HL(h,v){mb(8390656,8,h,v)}function zL(h,v){qg(2048,8,h,v)}function UL(h,v){return qg(4,2,h,v)}function VL(h,v){return qg(4,4,h,v)}function WL(h,v){if(typeof v=="function"){h=h();var j=v(h);return function(){typeof j=="function"?j():v(null)}}if(v!=null)return h=h(),v.current=h,function(){v.current=null}}function qL(h,v,j){j=j!=null?j.concat([h]):null,qg(4,4,WL.bind(null,v,h),j)}function lA(){}function GL(h,v){var j=zn();v=v===void 0?null:v;var _=j.memoizedState;return v!==null&&X_(v,_[1])?_[0]:(j.memoizedState=[h,v],h)}function YL(h,v){var j=zn();v=v===void 0?null:v;var _=j.memoizedState;if(v!==null&&X_(v,_[1]))return _[0];if(_=h(),Tu){Le(!0);try{h()}finally{Le(!1)}}return j.memoizedState=[_,v],_}function cA(h,v,j){return j===void 0||(Xc&1073741824)!==0?h.memoizedState=v:(h.memoizedState=j,h=XB(),Ft.lanes|=h,sd|=h,j)}function KL(h,v,j,_){return Fa(j,v)?j:Oh.current!==null?(h=cA(h,j,_),Fa(h,v)||(ps=!0),h):(Xc&42)===0?(ps=!0,h.memoizedState=j):(h=XB(),Ft.lanes|=h,sd|=h,v)}function ZL(h,v,j,_,D){var I=z.p;z.p=I!==0&&8>I?I:8;var U=$.T,G={};$.T=G,fA(h,!1,v,j);try{var te=D(),we=$.S;if(we!==null&&we(G,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var De=Ode(te,_);Gg(h,v,De,Wa(h))}else Gg(h,v,_,Wa(h))}catch(Be){Gg(h,v,{then:function(){},status:"rejected",reason:Be},Wa())}finally{z.p=I,$.T=U}}function Fde(){}function dA(h,v,j,_){if(h.tag!==5)throw Error(n(476));var D=XL(h).queue;ZL(h,D,v,W,j===null?Fde:function(){return QL(h),j(_)})}function XL(h){var v=h.memoizedState;if(v!==null)return v;v={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:W},next:null};var j={};return v.next={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:j},next:null},h.memoizedState=v,h=h.alternate,h!==null&&(h.memoizedState=v),v}function QL(h){var v=XL(h).next.queue;Gg(h,v,{},Wa())}function uA(){return Hs(ux)}function JL(){return zn().memoizedState}function eB(){return zn().memoizedState}function Hde(h){for(var v=h.return;v!==null;){switch(v.tag){case 24:case 3:var j=Wa();h=Kc(j);var _=Zc(v,h,j);_!==null&&(qa(_,v,j),Hg(_,v,j)),v={cache:H_()},h.payload=v;return}v=v.return}}function zde(h,v,j){var _=Wa();j={lane:_,revertLane:0,action:j,hasEagerState:!1,eagerState:null,next:null},pb(h)?rB(v,j):(j=P_(h,v,j,_),j!==null&&(qa(j,h,_),nB(j,v,_)))}function tB(h,v,j){var _=Wa();Gg(h,v,j,_)}function Gg(h,v,j,_){var D={lane:_,revertLane:0,action:j,hasEagerState:!1,eagerState:null,next:null};if(pb(h))rB(v,D);else{var I=h.alternate;if(h.lanes===0&&(I===null||I.lanes===0)&&(I=v.lastRenderedReducer,I!==null))try{var U=v.lastRenderedState,G=I(U,j);if(D.hasEagerState=!0,D.eagerState=G,Fa(G,U))return Qy(h,v,D,0),Fr===null&&Xy(),!1}catch{}finally{}if(j=P_(h,v,D,_),j!==null)return qa(j,h,_),nB(j,v,_),!0}return!1}function fA(h,v,j,_){if(_={lane:2,revertLane:VA(),action:_,hasEagerState:!1,eagerState:null,next:null},pb(h)){if(v)throw Error(n(479))}else v=P_(h,j,_,2),v!==null&&qa(v,h,2)}function pb(h){var v=h.alternate;return h===Ft||v!==null&&v===Ft}function rB(h,v){Ih=cb=!0;var j=h.pending;j===null?v.next=v:(v.next=j.next,j.next=v),h.pending=v}function nB(h,v,j){if((j&4194048)!==0){var _=v.lanes;_&=h.pendingLanes,j|=_,v.lanes=j,mh(h,j)}}var gb={readContext:Hs,use:ub,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useLayoutEffect:Rn,useInsertionEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useSyncExternalStore:Rn,useId:Rn,useHostTransitionStatus:Rn,useFormState:Rn,useActionState:Rn,useOptimistic:Rn,useMemoCache:Rn,useCacheRefresh:Rn},sB={readContext:Hs,use:ub,useCallback:function(h,v){return xa().memoizedState=[h,v===void 0?null:v],h},useContext:Hs,useEffect:HL,useImperativeHandle:function(h,v,j){j=j!=null?j.concat([h]):null,mb(4194308,4,WL.bind(null,v,h),j)},useLayoutEffect:function(h,v){return mb(4194308,4,h,v)},useInsertionEffect:function(h,v){mb(4,2,h,v)},useMemo:function(h,v){var j=xa();v=v===void 0?null:v;var _=h();if(Tu){Le(!0);try{h()}finally{Le(!1)}}return j.memoizedState=[_,v],_},useReducer:function(h,v,j){var _=xa();if(j!==void 0){var D=j(v);if(Tu){Le(!0);try{j(v)}finally{Le(!1)}}}else D=v;return _.memoizedState=_.baseState=D,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:D},_.queue=h,h=h.dispatch=zde.bind(null,Ft,h),[_.memoizedState,h]},useRef:function(h){var v=xa();return h={current:h},v.memoizedState=h},useState:function(h){h=iA(h);var v=h.queue,j=tB.bind(null,Ft,v);return v.dispatch=j,[h.memoizedState,j]},useDebugValue:lA,useDeferredValue:function(h,v){var j=xa();return cA(j,h,v)},useTransition:function(){var h=iA(!1);return h=ZL.bind(null,Ft,h.queue,!0,!1),xa().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,v,j){var _=Ft,D=xa();if(hr){if(j===void 0)throw Error(n(407));j=j()}else{if(j=v(),Fr===null)throw Error(n(349));(ir&124)!==0||EL(_,v,j)}D.memoizedState=j;var I={value:j,getSnapshot:v};return D.queue=I,HL(_L.bind(null,_,I,h),[h]),_.flags|=2048,Bh(9,hb(),NL.bind(null,_,I,j,v),null),j},useId:function(){var h=xa(),v=Fr.identifierPrefix;if(hr){var j=Pl,_=Tl;j=(_&~(1<<32-Qe(_)-1)).toString(32)+j,v=""+v+"R"+j,j=db++,0<j&&(v+="H"+j.toString(32)),v+=""}else j=Ide++,v=""+v+"r"+j.toString(32)+"";return h.memoizedState=v},useHostTransitionStatus:uA,useFormState:IL,useActionState:IL,useOptimistic:function(h){var v=xa();v.memoizedState=v.baseState=h;var j={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return v.queue=j,v=fA.bind(null,Ft,!0,j),j.dispatch=v,[h,v]},useMemoCache:nA,useCacheRefresh:function(){return xa().memoizedState=Hde.bind(null,Ft)}},aB={readContext:Hs,use:ub,useCallback:GL,useContext:Hs,useEffect:zL,useImperativeHandle:qL,useInsertionEffect:UL,useLayoutEffect:VL,useMemo:YL,useReducer:fb,useRef:FL,useState:function(){return fb(Ml)},useDebugValue:lA,useDeferredValue:function(h,v){var j=zn();return KL(j,Tr.memoizedState,h,v)},useTransition:function(){var h=fb(Ml)[0],v=zn().memoizedState;return[typeof h=="boolean"?h:Wg(h),v]},useSyncExternalStore:jL,useId:JL,useHostTransitionStatus:uA,useFormState:LL,useActionState:LL,useOptimistic:function(h,v){var j=zn();return TL(j,Tr,h,v)},useMemoCache:nA,useCacheRefresh:eB},Ude={readContext:Hs,use:ub,useCallback:GL,useContext:Hs,useEffect:zL,useImperativeHandle:qL,useInsertionEffect:UL,useLayoutEffect:VL,useMemo:YL,useReducer:aA,useRef:FL,useState:function(){return aA(Ml)},useDebugValue:lA,useDeferredValue:function(h,v){var j=zn();return Tr===null?cA(j,h,v):KL(j,Tr.memoizedState,h,v)},useTransition:function(){var h=aA(Ml)[0],v=zn().memoizedState;return[typeof h=="boolean"?h:Wg(h),v]},useSyncExternalStore:jL,useId:JL,useHostTransitionStatus:uA,useFormState:$L,useActionState:$L,useOptimistic:function(h,v){var j=zn();return Tr!==null?TL(j,Tr,h,v):(j.baseState=h,[h,j.queue.dispatch])},useMemoCache:nA,useCacheRefresh:eB},$h=null,Yg=0;function xb(h){var v=Yg;return Yg+=1,$h===null&&($h=[]),gL($h,h,v)}function Kg(h,v){v=v.props.ref,h.ref=v!==void 0?v:null}function vb(h,v){throw v.$$typeof===f?Error(n(525)):(h=Object.prototype.toString.call(v),Error(n(31,h==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":h)))}function iB(h){var v=h._init;return v(h._payload)}function oB(h){function v(ge,oe){if(h){var be=ge.deletions;be===null?(ge.deletions=[oe],ge.flags|=16):be.push(oe)}}function j(ge,oe){if(!h)return null;for(;oe!==null;)v(ge,oe),oe=oe.sibling;return null}function _(ge){for(var oe=new Map;ge!==null;)ge.key!==null?oe.set(ge.key,ge):oe.set(ge.index,ge),ge=ge.sibling;return oe}function D(ge,oe){return ge=kl(ge,oe),ge.index=0,ge.sibling=null,ge}function I(ge,oe,be){return ge.index=be,h?(be=ge.alternate,be!==null?(be=be.index,be<oe?(ge.flags|=67108866,oe):be):(ge.flags|=67108866,oe)):(ge.flags|=1048576,oe)}function U(ge){return h&&ge.alternate===null&&(ge.flags|=67108866),ge}function G(ge,oe,be,Oe){return oe===null||oe.tag!==6?(oe=R_(be,ge.mode,Oe),oe.return=ge,oe):(oe=D(oe,be),oe.return=ge,oe)}function te(ge,oe,be,Oe){var lt=be.type;return lt===x?De(ge,oe,be.props.children,Oe,be.key):oe!==null&&(oe.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===T&&iB(lt)===oe.type)?(oe=D(oe,be.props),Kg(oe,be),oe.return=ge,oe):(oe=eb(be.type,be.key,be.props,null,ge.mode,Oe),Kg(oe,be),oe.return=ge,oe)}function we(ge,oe,be,Oe){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==be.containerInfo||oe.stateNode.implementation!==be.implementation?(oe=M_(be,ge.mode,Oe),oe.return=ge,oe):(oe=D(oe,be.children||[]),oe.return=ge,oe)}function De(ge,oe,be,Oe,lt){return oe===null||oe.tag!==7?(oe=Su(be,ge.mode,Oe,lt),oe.return=ge,oe):(oe=D(oe,be),oe.return=ge,oe)}function Be(ge,oe,be){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return oe=R_(""+oe,ge.mode,be),oe.return=ge,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case p:return be=eb(oe.type,oe.key,oe.props,null,ge.mode,be),Kg(be,oe),be.return=ge,be;case g:return oe=M_(oe,ge.mode,be),oe.return=ge,oe;case T:var Oe=oe._init;return oe=Oe(oe._payload),Be(ge,oe,be)}if(F(oe)||R(oe))return oe=Su(oe,ge.mode,be,null),oe.return=ge,oe;if(typeof oe.then=="function")return Be(ge,xb(oe),be);if(oe.$$typeof===C)return Be(ge,sb(ge,oe),be);vb(ge,oe)}return null}function Ce(ge,oe,be,Oe){var lt=oe!==null?oe.key:null;if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return lt!==null?null:G(ge,oe,""+be,Oe);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case p:return be.key===lt?te(ge,oe,be,Oe):null;case g:return be.key===lt?we(ge,oe,be,Oe):null;case T:return lt=be._init,be=lt(be._payload),Ce(ge,oe,be,Oe)}if(F(be)||R(be))return lt!==null?null:De(ge,oe,be,Oe,null);if(typeof be.then=="function")return Ce(ge,oe,xb(be),Oe);if(be.$$typeof===C)return Ce(ge,oe,sb(ge,be),Oe);vb(ge,be)}return null}function je(ge,oe,be,Oe,lt){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return ge=ge.get(be)||null,G(oe,ge,""+Oe,lt);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case p:return ge=ge.get(Oe.key===null?be:Oe.key)||null,te(oe,ge,Oe,lt);case g:return ge=ge.get(Oe.key===null?be:Oe.key)||null,we(oe,ge,Oe,lt);case T:var Vt=Oe._init;return Oe=Vt(Oe._payload),je(ge,oe,be,Oe,lt)}if(F(Oe)||R(Oe))return ge=ge.get(be)||null,De(oe,ge,Oe,lt,null);if(typeof Oe.then=="function")return je(ge,oe,be,xb(Oe),lt);if(Oe.$$typeof===C)return je(ge,oe,be,sb(oe,Oe),lt);vb(oe,Oe)}return null}function Pt(ge,oe,be,Oe){for(var lt=null,Vt=null,gt=oe,Nt=oe=0,xs=null;gt!==null&&Nt<be.length;Nt++){gt.index>Nt?(xs=gt,gt=null):xs=gt.sibling;var cr=Ce(ge,gt,be[Nt],Oe);if(cr===null){gt===null&&(gt=xs);break}h&&gt&&cr.alternate===null&&v(ge,gt),oe=I(cr,oe,Nt),Vt===null?lt=cr:Vt.sibling=cr,Vt=cr,gt=xs}if(Nt===be.length)return j(ge,gt),hr&&ju(ge,Nt),lt;if(gt===null){for(;Nt<be.length;Nt++)gt=Be(ge,be[Nt],Oe),gt!==null&&(oe=I(gt,oe,Nt),Vt===null?lt=gt:Vt.sibling=gt,Vt=gt);return hr&&ju(ge,Nt),lt}for(gt=_(gt);Nt<be.length;Nt++)xs=je(gt,ge,Nt,be[Nt],Oe),xs!==null&&(h&&xs.alternate!==null&&gt.delete(xs.key===null?Nt:xs.key),oe=I(xs,oe,Nt),Vt===null?lt=xs:Vt.sibling=xs,Vt=xs);return h&&gt.forEach(function(md){return v(ge,md)}),hr&&ju(ge,Nt),lt}function jt(ge,oe,be,Oe){if(be==null)throw Error(n(151));for(var lt=null,Vt=null,gt=oe,Nt=oe=0,xs=null,cr=be.next();gt!==null&&!cr.done;Nt++,cr=be.next()){gt.index>Nt?(xs=gt,gt=null):xs=gt.sibling;var md=Ce(ge,gt,cr.value,Oe);if(md===null){gt===null&&(gt=xs);break}h&&gt&&md.alternate===null&&v(ge,gt),oe=I(md,oe,Nt),Vt===null?lt=md:Vt.sibling=md,Vt=md,gt=xs}if(cr.done)return j(ge,gt),hr&&ju(ge,Nt),lt;if(gt===null){for(;!cr.done;Nt++,cr=be.next())cr=Be(ge,cr.value,Oe),cr!==null&&(oe=I(cr,oe,Nt),Vt===null?lt=cr:Vt.sibling=cr,Vt=cr);return hr&&ju(ge,Nt),lt}for(gt=_(gt);!cr.done;Nt++,cr=be.next())cr=je(gt,ge,Nt,cr.value,Oe),cr!==null&&(h&&cr.alternate!==null&&gt.delete(cr.key===null?Nt:cr.key),oe=I(cr,oe,Nt),Vt===null?lt=cr:Vt.sibling=cr,Vt=cr);return h&&gt.forEach(function(Vue){return v(ge,Vue)}),hr&&ju(ge,Nt),lt}function Dr(ge,oe,be,Oe){if(typeof be=="object"&&be!==null&&be.type===x&&be.key===null&&(be=be.props.children),typeof be=="object"&&be!==null){switch(be.$$typeof){case p:e:{for(var lt=be.key;oe!==null;){if(oe.key===lt){if(lt=be.type,lt===x){if(oe.tag===7){j(ge,oe.sibling),Oe=D(oe,be.props.children),Oe.return=ge,ge=Oe;break e}}else if(oe.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===T&&iB(lt)===oe.type){j(ge,oe.sibling),Oe=D(oe,be.props),Kg(Oe,be),Oe.return=ge,ge=Oe;break e}j(ge,oe);break}else v(ge,oe);oe=oe.sibling}be.type===x?(Oe=Su(be.props.children,ge.mode,Oe,be.key),Oe.return=ge,ge=Oe):(Oe=eb(be.type,be.key,be.props,null,ge.mode,Oe),Kg(Oe,be),Oe.return=ge,ge=Oe)}return U(ge);case g:e:{for(lt=be.key;oe!==null;){if(oe.key===lt)if(oe.tag===4&&oe.stateNode.containerInfo===be.containerInfo&&oe.stateNode.implementation===be.implementation){j(ge,oe.sibling),Oe=D(oe,be.children||[]),Oe.return=ge,ge=Oe;break e}else{j(ge,oe);break}else v(ge,oe);oe=oe.sibling}Oe=M_(be,ge.mode,Oe),Oe.return=ge,ge=Oe}return U(ge);case T:return lt=be._init,be=lt(be._payload),Dr(ge,oe,be,Oe)}if(F(be))return Pt(ge,oe,be,Oe);if(R(be)){if(lt=R(be),typeof lt!="function")throw Error(n(150));return be=lt.call(be),jt(ge,oe,be,Oe)}if(typeof be.then=="function")return Dr(ge,oe,xb(be),Oe);if(be.$$typeof===C)return Dr(ge,oe,sb(ge,be),Oe);vb(ge,be)}return typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint"?(be=""+be,oe!==null&&oe.tag===6?(j(ge,oe.sibling),Oe=D(oe,be),Oe.return=ge,ge=Oe):(j(ge,oe),Oe=R_(be,ge.mode,Oe),Oe.return=ge,ge=Oe),U(ge)):j(ge,oe)}return function(ge,oe,be,Oe){try{Yg=0;var lt=Dr(ge,oe,be,Oe);return $h=null,lt}catch(gt){if(gt===$g||gt===ib)throw gt;var Vt=Ha(29,gt,null,ge.mode);return Vt.lanes=Oe,Vt.return=ge,Vt}finally{}}}var Fh=oB(!0),lB=oB(!1),_i=q(null),Mo=null;function Qc(h){var v=h.alternate;K(Xn,Xn.current&1),K(_i,h),Mo===null&&(v===null||Oh.current!==null||v.memoizedState!==null)&&(Mo=h)}function cB(h){if(h.tag===22){if(K(Xn,Xn.current),K(_i,h),Mo===null){var v=h.alternate;v!==null&&v.memoizedState!==null&&(Mo=h)}}else Jc()}function Jc(){K(Xn,Xn.current),K(_i,_i.current)}function Ol(h){H(_i),Mo===h&&(Mo=null),H(Xn)}var Xn=q(0);function yb(h){for(var v=h;v!==null;){if(v.tag===13){var j=v.memoizedState;if(j!==null&&(j=j.dehydrated,j===null||j.data==="$?"||rk(j)))return v}else if(v.tag===19&&v.memoizedProps.revealOrder!==void 0){if((v.flags&128)!==0)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===h)break;for(;v.sibling===null;){if(v.return===null||v.return===h)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}function hA(h,v,j,_){v=h.memoizedState,j=j(_,v),j=j==null?v:l({},v,j),h.memoizedState=j,h.lanes===0&&(h.updateQueue.baseState=j)}var mA={enqueueSetState:function(h,v,j){h=h._reactInternals;var _=Wa(),D=Kc(_);D.payload=v,j!=null&&(D.callback=j),v=Zc(h,D,_),v!==null&&(qa(v,h,_),Hg(v,h,_))},enqueueReplaceState:function(h,v,j){h=h._reactInternals;var _=Wa(),D=Kc(_);D.tag=1,D.payload=v,j!=null&&(D.callback=j),v=Zc(h,D,_),v!==null&&(qa(v,h,_),Hg(v,h,_))},enqueueForceUpdate:function(h,v){h=h._reactInternals;var j=Wa(),_=Kc(j);_.tag=2,v!=null&&(_.callback=v),v=Zc(h,_,j),v!==null&&(qa(v,h,j),Hg(v,h,j))}};function dB(h,v,j,_,D,I,U){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(_,I,U):v.prototype&&v.prototype.isPureReactComponent?!Pg(j,_)||!Pg(D,I):!0}function uB(h,v,j,_){h=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(j,_),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(j,_),v.state!==h&&mA.enqueueReplaceState(v,v.state,null)}function Pu(h,v){var j=v;if("ref"in v){j={};for(var _ in v)_!=="ref"&&(j[_]=v[_])}if(h=h.defaultProps){j===v&&(j=l({},j));for(var D in h)j[D]===void 0&&(j[D]=h[D])}return j}var bb=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var v=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(v))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)};function fB(h){bb(h)}function hB(h){console.error(h)}function mB(h){bb(h)}function wb(h,v){try{var j=h.onUncaughtError;j(v.value,{componentStack:v.stack})}catch(_){setTimeout(function(){throw _})}}function pB(h,v,j){try{var _=h.onCaughtError;_(j.value,{componentStack:j.stack,errorBoundary:v.tag===1?v.stateNode:null})}catch(D){setTimeout(function(){throw D})}}function pA(h,v,j){return j=Kc(j),j.tag=3,j.payload={element:null},j.callback=function(){wb(h,v)},j}function gB(h){return h=Kc(h),h.tag=3,h}function xB(h,v,j,_){var D=j.type.getDerivedStateFromError;if(typeof D=="function"){var I=_.value;h.payload=function(){return D(I)},h.callback=function(){pB(v,j,_)}}var U=j.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(h.callback=function(){pB(v,j,_),typeof D!="function"&&(ad===null?ad=new Set([this]):ad.add(this));var G=_.stack;this.componentDidCatch(_.value,{componentStack:G!==null?G:""})})}function Vde(h,v,j,_,D){if(j.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){if(v=j.alternate,v!==null&&Ig(v,j,D,!0),j=_i.current,j!==null){switch(j.tag){case 13:return Mo===null?$A():j.alternate===null&&wn===0&&(wn=3),j.flags&=-257,j.flags|=65536,j.lanes=D,_===V_?j.flags|=16384:(v=j.updateQueue,v===null?j.updateQueue=new Set([_]):v.add(_),HA(h,_,D)),!1;case 22:return j.flags|=65536,_===V_?j.flags|=16384:(v=j.updateQueue,v===null?(v={transitions:null,markerInstances:null,retryQueue:new Set([_])},j.updateQueue=v):(j=v.retryQueue,j===null?v.retryQueue=new Set([_]):j.add(_)),HA(h,_,D)),!1}throw Error(n(435,j.tag))}return HA(h,_,D),$A(),!1}if(hr)return v=_i.current,v!==null?((v.flags&65536)===0&&(v.flags|=256),v.flags|=65536,v.lanes=D,_!==L_&&(h=Error(n(422),{cause:_}),Og(Ci(h,j)))):(_!==L_&&(v=Error(n(423),{cause:_}),Og(Ci(v,j))),h=h.current.alternate,h.flags|=65536,D&=-D,h.lanes|=D,_=Ci(_,j),D=pA(h.stateNode,_,D),G_(h,D),wn!==4&&(wn=2)),!1;var I=Error(n(520),{cause:_});if(I=Ci(I,j),rx===null?rx=[I]:rx.push(I),wn!==4&&(wn=2),v===null)return!0;_=Ci(_,j),j=v;do{switch(j.tag){case 3:return j.flags|=65536,h=D&-D,j.lanes|=h,h=pA(j.stateNode,_,h),G_(j,h),!1;case 1:if(v=j.type,I=j.stateNode,(j.flags&128)===0&&(typeof v.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(ad===null||!ad.has(I))))return j.flags|=65536,D&=-D,j.lanes|=D,D=gB(D),xB(D,h,j,_),G_(j,D),!1}j=j.return}while(j!==null);return!1}var vB=Error(n(461)),ps=!1;function Ps(h,v,j,_){v.child=h===null?lB(v,null,j,_):Fh(v,h.child,j,_)}function yB(h,v,j,_,D){j=j.render;var I=v.ref;if("ref"in _){var U={};for(var G in _)G!=="ref"&&(U[G]=_[G])}else U=_;return Au(v),_=Q_(h,v,j,U,I,D),G=J_(),h!==null&&!ps?(eA(h,v,D),Il(h,v,D)):(hr&&G&&O_(v),v.flags|=1,Ps(h,v,_,D),v.child)}function bB(h,v,j,_,D){if(h===null){var I=j.type;return typeof I=="function"&&!D_(I)&&I.defaultProps===void 0&&j.compare===null?(v.tag=15,v.type=I,wB(h,v,I,_,D)):(h=eb(j.type,null,_,v,v.mode,D),h.ref=v.ref,h.return=v,v.child=h)}if(I=h.child,!CA(h,D)){var U=I.memoizedProps;if(j=j.compare,j=j!==null?j:Pg,j(U,_)&&h.ref===v.ref)return Il(h,v,D)}return v.flags|=1,h=kl(I,_),h.ref=v.ref,h.return=v,v.child=h}function wB(h,v,j,_,D){if(h!==null){var I=h.memoizedProps;if(Pg(I,_)&&h.ref===v.ref)if(ps=!1,v.pendingProps=_=I,CA(h,D))(h.flags&131072)!==0&&(ps=!0);else return v.lanes=h.lanes,Il(h,v,D)}return gA(h,v,j,_,D)}function SB(h,v,j){var _=v.pendingProps,D=_.children,I=h!==null?h.memoizedState:null;if(_.mode==="hidden"){if((v.flags&128)!==0){if(_=I!==null?I.baseLanes|j:j,h!==null){for(D=v.child=h.child,I=0;D!==null;)I=I|D.lanes|D.childLanes,D=D.sibling;v.childLanes=I&~_}else v.childLanes=0,v.child=null;return CB(h,v,_,j)}if((j&536870912)!==0)v.memoizedState={baseLanes:0,cachePool:null},h!==null&&ab(v,I!==null?I.cachePool:null),I!==null?wL(v,I):K_(),cB(v);else return v.lanes=v.childLanes=536870912,CB(h,v,I!==null?I.baseLanes|j:j,j)}else I!==null?(ab(v,I.cachePool),wL(v,I),Jc(),v.memoizedState=null):(h!==null&&ab(v,null),K_(),Jc());return Ps(h,v,D,j),v.child}function CB(h,v,j,_){var D=U_();return D=D===null?null:{parent:Zn._currentValue,pool:D},v.memoizedState={baseLanes:j,cachePool:D},h!==null&&ab(v,null),K_(),cB(v),h!==null&&Ig(h,v,_,!0),null}function Sb(h,v){var j=v.ref;if(j===null)h!==null&&h.ref!==null&&(v.flags|=4194816);else{if(typeof j!="function"&&typeof j!="object")throw Error(n(284));(h===null||h.ref!==j)&&(v.flags|=4194816)}}function gA(h,v,j,_,D){return Au(v),j=Q_(h,v,j,_,void 0,D),_=J_(),h!==null&&!ps?(eA(h,v,D),Il(h,v,D)):(hr&&_&&O_(v),v.flags|=1,Ps(h,v,j,D),v.child)}function jB(h,v,j,_,D,I){return Au(v),v.updateQueue=null,j=CL(v,_,j,D),SL(h),_=J_(),h!==null&&!ps?(eA(h,v,I),Il(h,v,I)):(hr&&_&&O_(v),v.flags|=1,Ps(h,v,j,I),v.child)}function EB(h,v,j,_,D){if(Au(v),v.stateNode===null){var I=Th,U=j.contextType;typeof U=="object"&&U!==null&&(I=Hs(U)),I=new j(_,I),v.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=mA,v.stateNode=I,I._reactInternals=v,I=v.stateNode,I.props=_,I.state=v.memoizedState,I.refs={},W_(v),U=j.contextType,I.context=typeof U=="object"&&U!==null?Hs(U):Th,I.state=v.memoizedState,U=j.getDerivedStateFromProps,typeof U=="function"&&(hA(v,j,U,_),I.state=v.memoizedState),typeof j.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(U=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),U!==I.state&&mA.enqueueReplaceState(I,I.state,null),Ug(v,_,I,D),zg(),I.state=v.memoizedState),typeof I.componentDidMount=="function"&&(v.flags|=4194308),_=!0}else if(h===null){I=v.stateNode;var G=v.memoizedProps,te=Pu(j,G);I.props=te;var we=I.context,De=j.contextType;U=Th,typeof De=="object"&&De!==null&&(U=Hs(De));var Be=j.getDerivedStateFromProps;De=typeof Be=="function"||typeof I.getSnapshotBeforeUpdate=="function",G=v.pendingProps!==G,De||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(G||we!==U)&&uB(v,I,_,U),Yc=!1;var Ce=v.memoizedState;I.state=Ce,Ug(v,_,I,D),zg(),we=v.memoizedState,G||Ce!==we||Yc?(typeof Be=="function"&&(hA(v,j,Be,_),we=v.memoizedState),(te=Yc||dB(v,j,te,_,Ce,we,U))?(De||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(v.flags|=4194308)):(typeof I.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=_,v.memoizedState=we),I.props=_,I.state=we,I.context=U,_=te):(typeof I.componentDidMount=="function"&&(v.flags|=4194308),_=!1)}else{I=v.stateNode,q_(h,v),U=v.memoizedProps,De=Pu(j,U),I.props=De,Be=v.pendingProps,Ce=I.context,we=j.contextType,te=Th,typeof we=="object"&&we!==null&&(te=Hs(we)),G=j.getDerivedStateFromProps,(we=typeof G=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(U!==Be||Ce!==te)&&uB(v,I,_,te),Yc=!1,Ce=v.memoizedState,I.state=Ce,Ug(v,_,I,D),zg();var je=v.memoizedState;U!==Be||Ce!==je||Yc||h!==null&&h.dependencies!==null&&nb(h.dependencies)?(typeof G=="function"&&(hA(v,j,G,_),je=v.memoizedState),(De=Yc||dB(v,j,De,_,Ce,je,te)||h!==null&&h.dependencies!==null&&nb(h.dependencies))?(we||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(_,je,te),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(_,je,te)),typeof I.componentDidUpdate=="function"&&(v.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof I.componentDidUpdate!="function"||U===h.memoizedProps&&Ce===h.memoizedState||(v.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||U===h.memoizedProps&&Ce===h.memoizedState||(v.flags|=1024),v.memoizedProps=_,v.memoizedState=je),I.props=_,I.state=je,I.context=te,_=De):(typeof I.componentDidUpdate!="function"||U===h.memoizedProps&&Ce===h.memoizedState||(v.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||U===h.memoizedProps&&Ce===h.memoizedState||(v.flags|=1024),_=!1)}return I=_,Sb(h,v),_=(v.flags&128)!==0,I||_?(I=v.stateNode,j=_&&typeof j.getDerivedStateFromError!="function"?null:I.render(),v.flags|=1,h!==null&&_?(v.child=Fh(v,h.child,null,D),v.child=Fh(v,null,j,D)):Ps(h,v,j,D),v.memoizedState=I.state,h=v.child):h=Il(h,v,D),h}function NB(h,v,j,_){return Mg(),v.flags|=256,Ps(h,v,j,_),v.child}var xA={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vA(h){return{baseLanes:h,cachePool:hL()}}function yA(h,v,j){return h=h!==null?h.childLanes&~j:0,v&&(h|=Ai),h}function _B(h,v,j){var _=v.pendingProps,D=!1,I=(v.flags&128)!==0,U;if((U=I)||(U=h!==null&&h.memoizedState===null?!1:(Xn.current&2)!==0),U&&(D=!0,v.flags&=-129),U=(v.flags&32)!==0,v.flags&=-33,h===null){if(hr){if(D?Qc(v):Jc(),hr){var G=bn,te;if(te=G){e:{for(te=G,G=Ro;te.nodeType!==8;){if(!G){G=null;break e}if(te=lo(te.nextSibling),te===null){G=null;break e}}G=te}G!==null?(v.memoizedState={dehydrated:G,treeContext:Cu!==null?{id:Tl,overflow:Pl}:null,retryLane:536870912,hydrationErrors:null},te=Ha(18,null,null,0),te.stateNode=G,te.return=v,v.child=te,na=v,bn=null,te=!0):te=!1}te||Nu(v)}if(G=v.memoizedState,G!==null&&(G=G.dehydrated,G!==null))return rk(G)?v.lanes=32:v.lanes=536870912,null;Ol(v)}return G=_.children,_=_.fallback,D?(Jc(),D=v.mode,G=Cb({mode:"hidden",children:G},D),_=Su(_,D,j,null),G.return=v,_.return=v,G.sibling=_,v.child=G,D=v.child,D.memoizedState=vA(j),D.childLanes=yA(h,U,j),v.memoizedState=xA,_):(Qc(v),bA(v,G))}if(te=h.memoizedState,te!==null&&(G=te.dehydrated,G!==null)){if(I)v.flags&256?(Qc(v),v.flags&=-257,v=wA(h,v,j)):v.memoizedState!==null?(Jc(),v.child=h.child,v.flags|=128,v=null):(Jc(),D=_.fallback,G=v.mode,_=Cb({mode:"visible",children:_.children},G),D=Su(D,G,j,null),D.flags|=2,_.return=v,D.return=v,_.sibling=D,v.child=_,Fh(v,h.child,null,j),_=v.child,_.memoizedState=vA(j),_.childLanes=yA(h,U,j),v.memoizedState=xA,v=D);else if(Qc(v),rk(G)){if(U=G.nextSibling&&G.nextSibling.dataset,U)var we=U.dgst;U=we,_=Error(n(419)),_.stack="",_.digest=U,Og({value:_,source:null,stack:null}),v=wA(h,v,j)}else if(ps||Ig(h,v,j,!1),U=(j&h.childLanes)!==0,ps||U){if(U=Fr,U!==null&&(_=j&-j,_=(_&42)!==0?1:Vc(_),_=(_&(U.suspendedLanes|j))!==0?0:_,_!==0&&_!==te.retryLane))throw te.retryLane=_,kh(h,_),qa(U,h,_),vB;G.data==="$?"||$A(),v=wA(h,v,j)}else G.data==="$?"?(v.flags|=192,v.child=h.child,v=null):(h=te.treeContext,bn=lo(G.nextSibling),na=v,hr=!0,Eu=null,Ro=!1,h!==null&&(Ei[Ni++]=Tl,Ei[Ni++]=Pl,Ei[Ni++]=Cu,Tl=h.id,Pl=h.overflow,Cu=v),v=bA(v,_.children),v.flags|=4096);return v}return D?(Jc(),D=_.fallback,G=v.mode,te=h.child,we=te.sibling,_=kl(te,{mode:"hidden",children:_.children}),_.subtreeFlags=te.subtreeFlags&65011712,we!==null?D=kl(we,D):(D=Su(D,G,j,null),D.flags|=2),D.return=v,_.return=v,_.sibling=D,v.child=_,_=D,D=v.child,G=h.child.memoizedState,G===null?G=vA(j):(te=G.cachePool,te!==null?(we=Zn._currentValue,te=te.parent!==we?{parent:we,pool:we}:te):te=hL(),G={baseLanes:G.baseLanes|j,cachePool:te}),D.memoizedState=G,D.childLanes=yA(h,U,j),v.memoizedState=xA,_):(Qc(v),j=h.child,h=j.sibling,j=kl(j,{mode:"visible",children:_.children}),j.return=v,j.sibling=null,h!==null&&(U=v.deletions,U===null?(v.deletions=[h],v.flags|=16):U.push(h)),v.child=j,v.memoizedState=null,j)}function bA(h,v){return v=Cb({mode:"visible",children:v},h.mode),v.return=h,h.child=v}function Cb(h,v){return h=Ha(22,h,null,v),h.lanes=0,h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},h}function wA(h,v,j){return Fh(v,h.child,null,j),h=bA(v,v.pendingProps.children),h.flags|=2,v.memoizedState=null,h}function AB(h,v,j){h.lanes|=v;var _=h.alternate;_!==null&&(_.lanes|=v),$_(h.return,v,j)}function SA(h,v,j,_,D){var I=h.memoizedState;I===null?h.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:_,tail:j,tailMode:D}:(I.isBackwards=v,I.rendering=null,I.renderingStartTime=0,I.last=_,I.tail=j,I.tailMode=D)}function kB(h,v,j){var _=v.pendingProps,D=_.revealOrder,I=_.tail;if(Ps(h,v,_.children,j),_=Xn.current,(_&2)!==0)_=_&1|2,v.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=v.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&AB(h,j,v);else if(h.tag===19)AB(h,j,v);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===v)break e;for(;h.sibling===null;){if(h.return===null||h.return===v)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}_&=1}switch(K(Xn,_),D){case"forwards":for(j=v.child,D=null;j!==null;)h=j.alternate,h!==null&&yb(h)===null&&(D=j),j=j.sibling;j=D,j===null?(D=v.child,v.child=null):(D=j.sibling,j.sibling=null),SA(v,!1,D,j,I);break;case"backwards":for(j=null,D=v.child,v.child=null;D!==null;){if(h=D.alternate,h!==null&&yb(h)===null){v.child=D;break}h=D.sibling,D.sibling=j,j=D,D=h}SA(v,!0,j,null,I);break;case"together":SA(v,!1,null,null,void 0);break;default:v.memoizedState=null}return v.child}function Il(h,v,j){if(h!==null&&(v.dependencies=h.dependencies),sd|=v.lanes,(j&v.childLanes)===0)if(h!==null){if(Ig(h,v,j,!1),(j&v.childLanes)===0)return null}else return null;if(h!==null&&v.child!==h.child)throw Error(n(153));if(v.child!==null){for(h=v.child,j=kl(h,h.pendingProps),v.child=j,j.return=v;h.sibling!==null;)h=h.sibling,j=j.sibling=kl(h,h.pendingProps),j.return=v;j.sibling=null}return v.child}function CA(h,v){return(h.lanes&v)!==0?!0:(h=h.dependencies,!!(h!==null&&nb(h)))}function Wde(h,v,j){switch(v.tag){case 3:he(v,v.stateNode.containerInfo),Gc(v,Zn,h.memoizedState.cache),Mg();break;case 27:case 5:ie(v);break;case 4:he(v,v.stateNode.containerInfo);break;case 10:Gc(v,v.type,v.memoizedProps.value);break;case 13:var _=v.memoizedState;if(_!==null)return _.dehydrated!==null?(Qc(v),v.flags|=128,null):(j&v.child.childLanes)!==0?_B(h,v,j):(Qc(v),h=Il(h,v,j),h!==null?h.sibling:null);Qc(v);break;case 19:var D=(h.flags&128)!==0;if(_=(j&v.childLanes)!==0,_||(Ig(h,v,j,!1),_=(j&v.childLanes)!==0),D){if(_)return kB(h,v,j);v.flags|=128}if(D=v.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),K(Xn,Xn.current),_)break;return null;case 22:case 23:return v.lanes=0,SB(h,v,j);case 24:Gc(v,Zn,h.memoizedState.cache)}return Il(h,v,j)}function TB(h,v,j){if(h!==null)if(h.memoizedProps!==v.pendingProps)ps=!0;else{if(!CA(h,j)&&(v.flags&128)===0)return ps=!1,Wde(h,v,j);ps=(h.flags&131072)!==0}else ps=!1,hr&&(v.flags&1048576)!==0&&iL(v,rb,v.index);switch(v.lanes=0,v.tag){case 16:e:{h=v.pendingProps;var _=v.elementType,D=_._init;if(_=D(_._payload),v.type=_,typeof _=="function")D_(_)?(h=Pu(_,h),v.tag=1,v=EB(null,v,_,h,j)):(v.tag=0,v=gA(null,v,_,h,j));else{if(_!=null){if(D=_.$$typeof,D===E){v.tag=11,v=yB(null,v,_,h,j);break e}else if(D===A){v.tag=14,v=bB(null,v,_,h,j);break e}}throw v=B(_)||_,Error(n(306,v,""))}}return v;case 0:return gA(h,v,v.type,v.pendingProps,j);case 1:return _=v.type,D=Pu(_,v.pendingProps),EB(h,v,_,D,j);case 3:e:{if(he(v,v.stateNode.containerInfo),h===null)throw Error(n(387));_=v.pendingProps;var I=v.memoizedState;D=I.element,q_(h,v),Ug(v,_,null,j);var U=v.memoizedState;if(_=U.cache,Gc(v,Zn,_),_!==I.cache&&F_(v,[Zn],j,!0),zg(),_=U.element,I.isDehydrated)if(I={element:_,isDehydrated:!1,cache:U.cache},v.updateQueue.baseState=I,v.memoizedState=I,v.flags&256){v=NB(h,v,_,j);break e}else if(_!==D){D=Ci(Error(n(424)),v),Og(D),v=NB(h,v,_,j);break e}else{switch(h=v.stateNode.containerInfo,h.nodeType){case 9:h=h.body;break;default:h=h.nodeName==="HTML"?h.ownerDocument.body:h}for(bn=lo(h.firstChild),na=v,hr=!0,Eu=null,Ro=!0,j=lB(v,null,_,j),v.child=j;j;)j.flags=j.flags&-3|4096,j=j.sibling}else{if(Mg(),_===D){v=Il(h,v,j);break e}Ps(h,v,_,j)}v=v.child}return v;case 26:return Sb(h,v),h===null?(j=M$(v.type,null,v.pendingProps,null))?v.memoizedState=j:hr||(j=v.type,h=v.pendingProps,_=Lb(me.current).createElement(j),_[Kn]=v,_[kr]=h,Rs(_,j,h),ms(_),v.stateNode=_):v.memoizedState=M$(v.type,h.memoizedProps,v.pendingProps,h.memoizedState),null;case 27:return ie(v),h===null&&hr&&(_=v.stateNode=P$(v.type,v.pendingProps,me.current),na=v,Ro=!0,D=bn,cd(v.type)?(nk=D,bn=lo(_.firstChild)):bn=D),Ps(h,v,v.pendingProps.children,j),Sb(h,v),h===null&&(v.flags|=4194304),v.child;case 5:return h===null&&hr&&((D=_=bn)&&(_=yue(_,v.type,v.pendingProps,Ro),_!==null?(v.stateNode=_,na=v,bn=lo(_.firstChild),Ro=!1,D=!0):D=!1),D||Nu(v)),ie(v),D=v.type,I=v.pendingProps,U=h!==null?h.memoizedProps:null,_=I.children,JA(D,I)?_=null:U!==null&&JA(D,U)&&(v.flags|=32),v.memoizedState!==null&&(D=Q_(h,v,Lde,null,null,j),ux._currentValue=D),Sb(h,v),Ps(h,v,_,j),v.child;case 6:return h===null&&hr&&((h=j=bn)&&(j=bue(j,v.pendingProps,Ro),j!==null?(v.stateNode=j,na=v,bn=null,h=!0):h=!1),h||Nu(v)),null;case 13:return _B(h,v,j);case 4:return he(v,v.stateNode.containerInfo),_=v.pendingProps,h===null?v.child=Fh(v,null,_,j):Ps(h,v,_,j),v.child;case 11:return yB(h,v,v.type,v.pendingProps,j);case 7:return Ps(h,v,v.pendingProps,j),v.child;case 8:return Ps(h,v,v.pendingProps.children,j),v.child;case 12:return Ps(h,v,v.pendingProps.children,j),v.child;case 10:return _=v.pendingProps,Gc(v,v.type,_.value),Ps(h,v,_.children,j),v.child;case 9:return D=v.type._context,_=v.pendingProps.children,Au(v),D=Hs(D),_=_(D),v.flags|=1,Ps(h,v,_,j),v.child;case 14:return bB(h,v,v.type,v.pendingProps,j);case 15:return wB(h,v,v.type,v.pendingProps,j);case 19:return kB(h,v,j);case 31:return _=v.pendingProps,j=v.mode,_={mode:_.mode,children:_.children},h===null?(j=Cb(_,j),j.ref=v.ref,v.child=j,j.return=v,v=j):(j=kl(h.child,_),j.ref=v.ref,v.child=j,j.return=v,v=j),v;case 22:return SB(h,v,j);case 24:return Au(v),_=Hs(Zn),h===null?(D=U_(),D===null&&(D=Fr,I=H_(),D.pooledCache=I,I.refCount++,I!==null&&(D.pooledCacheLanes|=j),D=I),v.memoizedState={parent:_,cache:D},W_(v),Gc(v,Zn,D)):((h.lanes&j)!==0&&(q_(h,v),Ug(v,null,null,j),zg()),D=h.memoizedState,I=v.memoizedState,D.parent!==_?(D={parent:_,cache:_},v.memoizedState=D,v.lanes===0&&(v.memoizedState=v.updateQueue.baseState=D),Gc(v,Zn,_)):(_=I.cache,Gc(v,Zn,_),_!==D.cache&&F_(v,[Zn],j,!0))),Ps(h,v,v.pendingProps.children,j),v.child;case 29:throw v.pendingProps}throw Error(n(156,v.tag))}function Ll(h){h.flags|=4}function PB(h,v){if(v.type!=="stylesheet"||(v.state.loading&4)!==0)h.flags&=-16777217;else if(h.flags|=16777216,!$$(v)){if(v=_i.current,v!==null&&((ir&4194048)===ir?Mo!==null:(ir&62914560)!==ir&&(ir&536870912)===0||v!==Mo))throw Fg=V_,mL;h.flags|=8192}}function jb(h,v){v!==null&&(h.flags|=4),h.flags&16384&&(v=h.tag!==22?Tt():536870912,h.lanes|=v,Vh|=v)}function Zg(h,v){if(!hr)switch(h.tailMode){case"hidden":v=h.tail;for(var j=null;v!==null;)v.alternate!==null&&(j=v),v=v.sibling;j===null?h.tail=null:j.sibling=null;break;case"collapsed":j=h.tail;for(var _=null;j!==null;)j.alternate!==null&&(_=j),j=j.sibling;_===null?v||h.tail===null?h.tail=null:h.tail.sibling=null:_.sibling=null}}function cn(h){var v=h.alternate!==null&&h.alternate.child===h.child,j=0,_=0;if(v)for(var D=h.child;D!==null;)j|=D.lanes|D.childLanes,_|=D.subtreeFlags&65011712,_|=D.flags&65011712,D.return=h,D=D.sibling;else for(D=h.child;D!==null;)j|=D.lanes|D.childLanes,_|=D.subtreeFlags,_|=D.flags,D.return=h,D=D.sibling;return h.subtreeFlags|=_,h.childLanes=j,v}function qde(h,v,j){var _=v.pendingProps;switch(I_(v),v.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(v),null;case 1:return cn(v),null;case 3:return j=v.stateNode,_=null,h!==null&&(_=h.memoizedState.cache),v.memoizedState.cache!==_&&(v.flags|=2048),Rl(Zn),ee(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(h===null||h.child===null)&&(Rg(v)?Ll(v):h===null||h.memoizedState.isDehydrated&&(v.flags&256)===0||(v.flags|=1024,cL())),cn(v),null;case 26:return j=v.memoizedState,h===null?(Ll(v),j!==null?(cn(v),PB(v,j)):(cn(v),v.flags&=-16777217)):j?j!==h.memoizedState?(Ll(v),cn(v),PB(v,j)):(cn(v),v.flags&=-16777217):(h.memoizedProps!==_&&Ll(v),cn(v),v.flags&=-16777217),null;case 27:ye(v),j=me.current;var D=v.type;if(h!==null&&v.stateNode!=null)h.memoizedProps!==_&&Ll(v);else{if(!_){if(v.stateNode===null)throw Error(n(166));return cn(v),null}h=Y.current,Rg(v)?oL(v):(h=P$(D,_,j),v.stateNode=h,Ll(v))}return cn(v),null;case 5:if(ye(v),j=v.type,h!==null&&v.stateNode!=null)h.memoizedProps!==_&&Ll(v);else{if(!_){if(v.stateNode===null)throw Error(n(166));return cn(v),null}if(h=Y.current,Rg(v))oL(v);else{switch(D=Lb(me.current),h){case 1:h=D.createElementNS("http://www.w3.org/2000/svg",j);break;case 2:h=D.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;default:switch(j){case"svg":h=D.createElementNS("http://www.w3.org/2000/svg",j);break;case"math":h=D.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;case"script":h=D.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof _.is=="string"?D.createElement("select",{is:_.is}):D.createElement("select"),_.multiple?h.multiple=!0:_.size&&(h.size=_.size);break;default:h=typeof _.is=="string"?D.createElement(j,{is:_.is}):D.createElement(j)}}h[Kn]=v,h[kr]=_;e:for(D=v.child;D!==null;){if(D.tag===5||D.tag===6)h.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===v)break e;for(;D.sibling===null;){if(D.return===null||D.return===v)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}v.stateNode=h;e:switch(Rs(h,j,_),j){case"button":case"input":case"select":case"textarea":h=!!_.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Ll(v)}}return cn(v),v.flags&=-16777217,null;case 6:if(h&&v.stateNode!=null)h.memoizedProps!==_&&Ll(v);else{if(typeof _!="string"&&v.stateNode===null)throw Error(n(166));if(h=me.current,Rg(v)){if(h=v.stateNode,j=v.memoizedProps,_=null,D=na,D!==null)switch(D.tag){case 27:case 5:_=D.memoizedProps}h[Kn]=v,h=!!(h.nodeValue===j||_!==null&&_.suppressHydrationWarning===!0||j$(h.nodeValue,j)),h||Nu(v)}else h=Lb(h).createTextNode(_),h[Kn]=v,v.stateNode=h}return cn(v),null;case 13:if(_=v.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(D=Rg(v),_!==null&&_.dehydrated!==null){if(h===null){if(!D)throw Error(n(318));if(D=v.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(n(317));D[Kn]=v}else Mg(),(v.flags&128)===0&&(v.memoizedState=null),v.flags|=4;cn(v),D=!1}else D=cL(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=D),D=!0;if(!D)return v.flags&256?(Ol(v),v):(Ol(v),null)}if(Ol(v),(v.flags&128)!==0)return v.lanes=j,v;if(j=_!==null,h=h!==null&&h.memoizedState!==null,j){_=v.child,D=null,_.alternate!==null&&_.alternate.memoizedState!==null&&_.alternate.memoizedState.cachePool!==null&&(D=_.alternate.memoizedState.cachePool.pool);var I=null;_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(I=_.memoizedState.cachePool.pool),I!==D&&(_.flags|=2048)}return j!==h&&j&&(v.child.flags|=8192),jb(v,v.updateQueue),cn(v),null;case 4:return ee(),h===null&&YA(v.stateNode.containerInfo),cn(v),null;case 10:return Rl(v.type),cn(v),null;case 19:if(H(Xn),D=v.memoizedState,D===null)return cn(v),null;if(_=(v.flags&128)!==0,I=D.rendering,I===null)if(_)Zg(D,!1);else{if(wn!==0||h!==null&&(h.flags&128)!==0)for(h=v.child;h!==null;){if(I=yb(h),I!==null){for(v.flags|=128,Zg(D,!1),h=I.updateQueue,v.updateQueue=h,jb(v,h),v.subtreeFlags=0,h=j,j=v.child;j!==null;)aL(j,h),j=j.sibling;return K(Xn,Xn.current&1|2),v.child}h=h.sibling}D.tail!==null&&rt()>_b&&(v.flags|=128,_=!0,Zg(D,!1),v.lanes=4194304)}else{if(!_)if(h=yb(I),h!==null){if(v.flags|=128,_=!0,h=h.updateQueue,v.updateQueue=h,jb(v,h),Zg(D,!0),D.tail===null&&D.tailMode==="hidden"&&!I.alternate&&!hr)return cn(v),null}else 2*rt()-D.renderingStartTime>_b&&j!==536870912&&(v.flags|=128,_=!0,Zg(D,!1),v.lanes=4194304);D.isBackwards?(I.sibling=v.child,v.child=I):(h=D.last,h!==null?h.sibling=I:v.child=I,D.last=I)}return D.tail!==null?(v=D.tail,D.rendering=v,D.tail=v.sibling,D.renderingStartTime=rt(),v.sibling=null,h=Xn.current,K(Xn,_?h&1|2:h&1),v):(cn(v),null);case 22:case 23:return Ol(v),Z_(),_=v.memoizedState!==null,h!==null?h.memoizedState!==null!==_&&(v.flags|=8192):_&&(v.flags|=8192),_?(j&536870912)!==0&&(v.flags&128)===0&&(cn(v),v.subtreeFlags&6&&(v.flags|=8192)):cn(v),j=v.updateQueue,j!==null&&jb(v,j.retryQueue),j=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(j=h.memoizedState.cachePool.pool),_=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(_=v.memoizedState.cachePool.pool),_!==j&&(v.flags|=2048),h!==null&&H(ku),null;case 24:return j=null,h!==null&&(j=h.memoizedState.cache),v.memoizedState.cache!==j&&(v.flags|=2048),Rl(Zn),cn(v),null;case 25:return null;case 30:return null}throw Error(n(156,v.tag))}function Gde(h,v){switch(I_(v),v.tag){case 1:return h=v.flags,h&65536?(v.flags=h&-65537|128,v):null;case 3:return Rl(Zn),ee(),h=v.flags,(h&65536)!==0&&(h&128)===0?(v.flags=h&-65537|128,v):null;case 26:case 27:case 5:return ye(v),null;case 13:if(Ol(v),h=v.memoizedState,h!==null&&h.dehydrated!==null){if(v.alternate===null)throw Error(n(340));Mg()}return h=v.flags,h&65536?(v.flags=h&-65537|128,v):null;case 19:return H(Xn),null;case 4:return ee(),null;case 10:return Rl(v.type),null;case 22:case 23:return Ol(v),Z_(),h!==null&&H(ku),h=v.flags,h&65536?(v.flags=h&-65537|128,v):null;case 24:return Rl(Zn),null;case 25:return null;default:return null}}function DB(h,v){switch(I_(v),v.tag){case 3:Rl(Zn),ee();break;case 26:case 27:case 5:ye(v);break;case 4:ee();break;case 13:Ol(v);break;case 19:H(Xn);break;case 10:Rl(v.type);break;case 22:case 23:Ol(v),Z_(),h!==null&&H(ku);break;case 24:Rl(Zn)}}function Xg(h,v){try{var j=v.updateQueue,_=j!==null?j.lastEffect:null;if(_!==null){var D=_.next;j=D;do{if((j.tag&h)===h){_=void 0;var I=j.create,U=j.inst;_=I(),U.destroy=_}j=j.next}while(j!==D)}}catch(G){Ir(v,v.return,G)}}function ed(h,v,j){try{var _=v.updateQueue,D=_!==null?_.lastEffect:null;if(D!==null){var I=D.next;_=I;do{if((_.tag&h)===h){var U=_.inst,G=U.destroy;if(G!==void 0){U.destroy=void 0,D=v;var te=j,we=G;try{we()}catch(De){Ir(D,te,De)}}}_=_.next}while(_!==I)}}catch(De){Ir(v,v.return,De)}}function RB(h){var v=h.updateQueue;if(v!==null){var j=h.stateNode;try{bL(v,j)}catch(_){Ir(h,h.return,_)}}}function MB(h,v,j){j.props=Pu(h.type,h.memoizedProps),j.state=h.memoizedState;try{j.componentWillUnmount()}catch(_){Ir(h,v,_)}}function Qg(h,v){try{var j=h.ref;if(j!==null){switch(h.tag){case 26:case 27:case 5:var _=h.stateNode;break;case 30:_=h.stateNode;break;default:_=h.stateNode}typeof j=="function"?h.refCleanup=j(_):j.current=_}}catch(D){Ir(h,v,D)}}function Oo(h,v){var j=h.ref,_=h.refCleanup;if(j!==null)if(typeof _=="function")try{_()}catch(D){Ir(h,v,D)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof j=="function")try{j(null)}catch(D){Ir(h,v,D)}else j.current=null}function OB(h){var v=h.type,j=h.memoizedProps,_=h.stateNode;try{e:switch(v){case"button":case"input":case"select":case"textarea":j.autoFocus&&_.focus();break e;case"img":j.src?_.src=j.src:j.srcSet&&(_.srcset=j.srcSet)}}catch(D){Ir(h,h.return,D)}}function jA(h,v,j){try{var _=h.stateNode;mue(_,h.type,j,v),_[kr]=v}catch(D){Ir(h,h.return,D)}}function IB(h){return h.tag===5||h.tag===3||h.tag===26||h.tag===27&&cd(h.type)||h.tag===4}function EA(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||IB(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.tag===27&&cd(h.type)||h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function NA(h,v,j){var _=h.tag;if(_===5||_===6)h=h.stateNode,v?(j.nodeType===9?j.body:j.nodeName==="HTML"?j.ownerDocument.body:j).insertBefore(h,v):(v=j.nodeType===9?j.body:j.nodeName==="HTML"?j.ownerDocument.body:j,v.appendChild(h),j=j._reactRootContainer,j!=null||v.onclick!==null||(v.onclick=Ib));else if(_!==4&&(_===27&&cd(h.type)&&(j=h.stateNode,v=null),h=h.child,h!==null))for(NA(h,v,j),h=h.sibling;h!==null;)NA(h,v,j),h=h.sibling}function Eb(h,v,j){var _=h.tag;if(_===5||_===6)h=h.stateNode,v?j.insertBefore(h,v):j.appendChild(h);else if(_!==4&&(_===27&&cd(h.type)&&(j=h.stateNode),h=h.child,h!==null))for(Eb(h,v,j),h=h.sibling;h!==null;)Eb(h,v,j),h=h.sibling}function LB(h){var v=h.stateNode,j=h.memoizedProps;try{for(var _=h.type,D=v.attributes;D.length;)v.removeAttributeNode(D[0]);Rs(v,_,j),v[Kn]=h,v[kr]=j}catch(I){Ir(h,h.return,I)}}var Bl=!1,Mn=!1,_A=!1,BB=typeof WeakSet=="function"?WeakSet:Set,gs=null;function Yde(h,v){if(h=h.containerInfo,XA=Ub,h=K5(h),E_(h)){if("selectionStart"in h)var j={start:h.selectionStart,end:h.selectionEnd};else e:{j=(j=h.ownerDocument)&&j.defaultView||window;var _=j.getSelection&&j.getSelection();if(_&&_.rangeCount!==0){j=_.anchorNode;var D=_.anchorOffset,I=_.focusNode;_=_.focusOffset;try{j.nodeType,I.nodeType}catch{j=null;break e}var U=0,G=-1,te=-1,we=0,De=0,Be=h,Ce=null;t:for(;;){for(var je;Be!==j||D!==0&&Be.nodeType!==3||(G=U+D),Be!==I||_!==0&&Be.nodeType!==3||(te=U+_),Be.nodeType===3&&(U+=Be.nodeValue.length),(je=Be.firstChild)!==null;)Ce=Be,Be=je;for(;;){if(Be===h)break t;if(Ce===j&&++we===D&&(G=U),Ce===I&&++De===_&&(te=U),(je=Be.nextSibling)!==null)break;Be=Ce,Ce=Be.parentNode}Be=je}j=G===-1||te===-1?null:{start:G,end:te}}else j=null}j=j||{start:0,end:0}}else j=null;for(QA={focusedElem:h,selectionRange:j},Ub=!1,gs=v;gs!==null;)if(v=gs,h=v.child,(v.subtreeFlags&1024)!==0&&h!==null)h.return=v,gs=h;else for(;gs!==null;){switch(v=gs,I=v.alternate,h=v.flags,v.tag){case 0:break;case 11:case 15:break;case 1:if((h&1024)!==0&&I!==null){h=void 0,j=v,D=I.memoizedProps,I=I.memoizedState,_=j.stateNode;try{var Pt=Pu(j.type,D,j.elementType===j.type);h=_.getSnapshotBeforeUpdate(Pt,I),_.__reactInternalSnapshotBeforeUpdate=h}catch(jt){Ir(j,j.return,jt)}}break;case 3:if((h&1024)!==0){if(h=v.stateNode.containerInfo,j=h.nodeType,j===9)tk(h);else if(j===1)switch(h.nodeName){case"HEAD":case"HTML":case"BODY":tk(h);break;default:h.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(n(163))}if(h=v.sibling,h!==null){h.return=v.return,gs=h;break}gs=v.return}}function $B(h,v,j){var _=j.flags;switch(j.tag){case 0:case 11:case 15:td(h,j),_&4&&Xg(5,j);break;case 1:if(td(h,j),_&4)if(h=j.stateNode,v===null)try{h.componentDidMount()}catch(U){Ir(j,j.return,U)}else{var D=Pu(j.type,v.memoizedProps);v=v.memoizedState;try{h.componentDidUpdate(D,v,h.__reactInternalSnapshotBeforeUpdate)}catch(U){Ir(j,j.return,U)}}_&64&&RB(j),_&512&&Qg(j,j.return);break;case 3:if(td(h,j),_&64&&(h=j.updateQueue,h!==null)){if(v=null,j.child!==null)switch(j.child.tag){case 27:case 5:v=j.child.stateNode;break;case 1:v=j.child.stateNode}try{bL(h,v)}catch(U){Ir(j,j.return,U)}}break;case 27:v===null&&_&4&&LB(j);case 26:case 5:td(h,j),v===null&&_&4&&OB(j),_&512&&Qg(j,j.return);break;case 12:td(h,j);break;case 13:td(h,j),_&4&&zB(h,j),_&64&&(h=j.memoizedState,h!==null&&(h=h.dehydrated,h!==null&&(j=nue.bind(null,j),wue(h,j))));break;case 22:if(_=j.memoizedState!==null||Bl,!_){v=v!==null&&v.memoizedState!==null||Mn,D=Bl;var I=Mn;Bl=_,(Mn=v)&&!I?rd(h,j,(j.subtreeFlags&8772)!==0):td(h,j),Bl=D,Mn=I}break;case 30:break;default:td(h,j)}}function FB(h){var v=h.alternate;v!==null&&(h.alternate=null,FB(v)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(v=h.stateNode,v!==null&&i_(v)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}var Yr=null,va=!1;function $l(h,v,j){for(j=j.child;j!==null;)HB(h,v,j),j=j.sibling}function HB(h,v,j){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(se,j)}catch{}switch(j.tag){case 26:Mn||Oo(j,v),$l(h,v,j),j.memoizedState?j.memoizedState.count--:j.stateNode&&(j=j.stateNode,j.parentNode.removeChild(j));break;case 27:Mn||Oo(j,v);var _=Yr,D=va;cd(j.type)&&(Yr=j.stateNode,va=!1),$l(h,v,j),ox(j.stateNode),Yr=_,va=D;break;case 5:Mn||Oo(j,v);case 6:if(_=Yr,D=va,Yr=null,$l(h,v,j),Yr=_,va=D,Yr!==null)if(va)try{(Yr.nodeType===9?Yr.body:Yr.nodeName==="HTML"?Yr.ownerDocument.body:Yr).removeChild(j.stateNode)}catch(I){Ir(j,v,I)}else try{Yr.removeChild(j.stateNode)}catch(I){Ir(j,v,I)}break;case 18:Yr!==null&&(va?(h=Yr,k$(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,j.stateNode),px(h)):k$(Yr,j.stateNode));break;case 4:_=Yr,D=va,Yr=j.stateNode.containerInfo,va=!0,$l(h,v,j),Yr=_,va=D;break;case 0:case 11:case 14:case 15:Mn||ed(2,j,v),Mn||ed(4,j,v),$l(h,v,j);break;case 1:Mn||(Oo(j,v),_=j.stateNode,typeof _.componentWillUnmount=="function"&&MB(j,v,_)),$l(h,v,j);break;case 21:$l(h,v,j);break;case 22:Mn=(_=Mn)||j.memoizedState!==null,$l(h,v,j),Mn=_;break;default:$l(h,v,j)}}function zB(h,v){if(v.memoizedState===null&&(h=v.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{px(h)}catch(j){Ir(v,v.return,j)}}function Kde(h){switch(h.tag){case 13:case 19:var v=h.stateNode;return v===null&&(v=h.stateNode=new BB),v;case 22:return h=h.stateNode,v=h._retryCache,v===null&&(v=h._retryCache=new BB),v;default:throw Error(n(435,h.tag))}}function AA(h,v){var j=Kde(h);v.forEach(function(_){var D=sue.bind(null,h,_);j.has(_)||(j.add(_),_.then(D,D))})}function za(h,v){var j=v.deletions;if(j!==null)for(var _=0;_<j.length;_++){var D=j[_],I=h,U=v,G=U;e:for(;G!==null;){switch(G.tag){case 27:if(cd(G.type)){Yr=G.stateNode,va=!1;break e}break;case 5:Yr=G.stateNode,va=!1;break e;case 3:case 4:Yr=G.stateNode.containerInfo,va=!0;break e}G=G.return}if(Yr===null)throw Error(n(160));HB(I,U,D),Yr=null,va=!1,I=D.alternate,I!==null&&(I.return=null),D.return=null}if(v.subtreeFlags&13878)for(v=v.child;v!==null;)UB(v,h),v=v.sibling}var oo=null;function UB(h,v){var j=h.alternate,_=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:za(v,h),Ua(h),_&4&&(ed(3,h,h.return),Xg(3,h),ed(5,h,h.return));break;case 1:za(v,h),Ua(h),_&512&&(Mn||j===null||Oo(j,j.return)),_&64&&Bl&&(h=h.updateQueue,h!==null&&(_=h.callbacks,_!==null&&(j=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=j===null?_:j.concat(_))));break;case 26:var D=oo;if(za(v,h),Ua(h),_&512&&(Mn||j===null||Oo(j,j.return)),_&4){var I=j!==null?j.memoizedState:null;if(_=h.memoizedState,j===null)if(_===null)if(h.stateNode===null){e:{_=h.type,j=h.memoizedProps,D=D.ownerDocument||D;t:switch(_){case"title":I=D.getElementsByTagName("title")[0],(!I||I[Sg]||I[Kn]||I.namespaceURI==="http://www.w3.org/2000/svg"||I.hasAttribute("itemprop"))&&(I=D.createElement(_),D.head.insertBefore(I,D.querySelector("head > title"))),Rs(I,_,j),I[Kn]=h,ms(I),_=I;break e;case"link":var U=L$("link","href",D).get(_+(j.href||""));if(U){for(var G=0;G<U.length;G++)if(I=U[G],I.getAttribute("href")===(j.href==null||j.href===""?null:j.href)&&I.getAttribute("rel")===(j.rel==null?null:j.rel)&&I.getAttribute("title")===(j.title==null?null:j.title)&&I.getAttribute("crossorigin")===(j.crossOrigin==null?null:j.crossOrigin)){U.splice(G,1);break t}}I=D.createElement(_),Rs(I,_,j),D.head.appendChild(I);break;case"meta":if(U=L$("meta","content",D).get(_+(j.content||""))){for(G=0;G<U.length;G++)if(I=U[G],I.getAttribute("content")===(j.content==null?null:""+j.content)&&I.getAttribute("name")===(j.name==null?null:j.name)&&I.getAttribute("property")===(j.property==null?null:j.property)&&I.getAttribute("http-equiv")===(j.httpEquiv==null?null:j.httpEquiv)&&I.getAttribute("charset")===(j.charSet==null?null:j.charSet)){U.splice(G,1);break t}}I=D.createElement(_),Rs(I,_,j),D.head.appendChild(I);break;default:throw Error(n(468,_))}I[Kn]=h,ms(I),_=I}h.stateNode=_}else B$(D,h.type,h.stateNode);else h.stateNode=I$(D,_,h.memoizedProps);else I!==_?(I===null?j.stateNode!==null&&(j=j.stateNode,j.parentNode.removeChild(j)):I.count--,_===null?B$(D,h.type,h.stateNode):I$(D,_,h.memoizedProps)):_===null&&h.stateNode!==null&&jA(h,h.memoizedProps,j.memoizedProps)}break;case 27:za(v,h),Ua(h),_&512&&(Mn||j===null||Oo(j,j.return)),j!==null&&_&4&&jA(h,h.memoizedProps,j.memoizedProps);break;case 5:if(za(v,h),Ua(h),_&512&&(Mn||j===null||Oo(j,j.return)),h.flags&32){D=h.stateNode;try{Sh(D,"")}catch(je){Ir(h,h.return,je)}}_&4&&h.stateNode!=null&&(D=h.memoizedProps,jA(h,D,j!==null?j.memoizedProps:D)),_&1024&&(_A=!0);break;case 6:if(za(v,h),Ua(h),_&4){if(h.stateNode===null)throw Error(n(162));_=h.memoizedProps,j=h.stateNode;try{j.nodeValue=_}catch(je){Ir(h,h.return,je)}}break;case 3:if(Fb=null,D=oo,oo=Bb(v.containerInfo),za(v,h),oo=D,Ua(h),_&4&&j!==null&&j.memoizedState.isDehydrated)try{px(v.containerInfo)}catch(je){Ir(h,h.return,je)}_A&&(_A=!1,VB(h));break;case 4:_=oo,oo=Bb(h.stateNode.containerInfo),za(v,h),Ua(h),oo=_;break;case 12:za(v,h),Ua(h);break;case 13:za(v,h),Ua(h),h.child.flags&8192&&h.memoizedState!==null!=(j!==null&&j.memoizedState!==null)&&(MA=rt()),_&4&&(_=h.updateQueue,_!==null&&(h.updateQueue=null,AA(h,_)));break;case 22:D=h.memoizedState!==null;var te=j!==null&&j.memoizedState!==null,we=Bl,De=Mn;if(Bl=we||D,Mn=De||te,za(v,h),Mn=De,Bl=we,Ua(h),_&8192)e:for(v=h.stateNode,v._visibility=D?v._visibility&-2:v._visibility|1,D&&(j===null||te||Bl||Mn||Du(h)),j=null,v=h;;){if(v.tag===5||v.tag===26){if(j===null){te=j=v;try{if(I=te.stateNode,D)U=I.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{G=te.stateNode;var Be=te.memoizedProps.style,Ce=Be!=null&&Be.hasOwnProperty("display")?Be.display:null;G.style.display=Ce==null||typeof Ce=="boolean"?"":(""+Ce).trim()}}catch(je){Ir(te,te.return,je)}}}else if(v.tag===6){if(j===null){te=v;try{te.stateNode.nodeValue=D?"":te.memoizedProps}catch(je){Ir(te,te.return,je)}}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===h)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===h)break e;for(;v.sibling===null;){if(v.return===null||v.return===h)break e;j===v&&(j=null),v=v.return}j===v&&(j=null),v.sibling.return=v.return,v=v.sibling}_&4&&(_=h.updateQueue,_!==null&&(j=_.retryQueue,j!==null&&(_.retryQueue=null,AA(h,j))));break;case 19:za(v,h),Ua(h),_&4&&(_=h.updateQueue,_!==null&&(h.updateQueue=null,AA(h,_)));break;case 30:break;case 21:break;default:za(v,h),Ua(h)}}function Ua(h){var v=h.flags;if(v&2){try{for(var j,_=h.return;_!==null;){if(IB(_)){j=_;break}_=_.return}if(j==null)throw Error(n(160));switch(j.tag){case 27:var D=j.stateNode,I=EA(h);Eb(h,I,D);break;case 5:var U=j.stateNode;j.flags&32&&(Sh(U,""),j.flags&=-33);var G=EA(h);Eb(h,G,U);break;case 3:case 4:var te=j.stateNode.containerInfo,we=EA(h);NA(h,we,te);break;default:throw Error(n(161))}}catch(De){Ir(h,h.return,De)}h.flags&=-3}v&4096&&(h.flags&=-4097)}function VB(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var v=h;VB(v),v.tag===5&&v.flags&1024&&v.stateNode.reset(),h=h.sibling}}function td(h,v){if(v.subtreeFlags&8772)for(v=v.child;v!==null;)$B(h,v.alternate,v),v=v.sibling}function Du(h){for(h=h.child;h!==null;){var v=h;switch(v.tag){case 0:case 11:case 14:case 15:ed(4,v,v.return),Du(v);break;case 1:Oo(v,v.return);var j=v.stateNode;typeof j.componentWillUnmount=="function"&&MB(v,v.return,j),Du(v);break;case 27:ox(v.stateNode);case 26:case 5:Oo(v,v.return),Du(v);break;case 22:v.memoizedState===null&&Du(v);break;case 30:Du(v);break;default:Du(v)}h=h.sibling}}function rd(h,v,j){for(j=j&&(v.subtreeFlags&8772)!==0,v=v.child;v!==null;){var _=v.alternate,D=h,I=v,U=I.flags;switch(I.tag){case 0:case 11:case 15:rd(D,I,j),Xg(4,I);break;case 1:if(rd(D,I,j),_=I,D=_.stateNode,typeof D.componentDidMount=="function")try{D.componentDidMount()}catch(we){Ir(_,_.return,we)}if(_=I,D=_.updateQueue,D!==null){var G=_.stateNode;try{var te=D.shared.hiddenCallbacks;if(te!==null)for(D.shared.hiddenCallbacks=null,D=0;D<te.length;D++)yL(te[D],G)}catch(we){Ir(_,_.return,we)}}j&&U&64&&RB(I),Qg(I,I.return);break;case 27:LB(I);case 26:case 5:rd(D,I,j),j&&_===null&&U&4&&OB(I),Qg(I,I.return);break;case 12:rd(D,I,j);break;case 13:rd(D,I,j),j&&U&4&&zB(D,I);break;case 22:I.memoizedState===null&&rd(D,I,j),Qg(I,I.return);break;case 30:break;default:rd(D,I,j)}v=v.sibling}}function kA(h,v){var j=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(j=h.memoizedState.cachePool.pool),h=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(h=v.memoizedState.cachePool.pool),h!==j&&(h!=null&&h.refCount++,j!=null&&Lg(j))}function TA(h,v){h=null,v.alternate!==null&&(h=v.alternate.memoizedState.cache),v=v.memoizedState.cache,v!==h&&(v.refCount++,h!=null&&Lg(h))}function Io(h,v,j,_){if(v.subtreeFlags&10256)for(v=v.child;v!==null;)WB(h,v,j,_),v=v.sibling}function WB(h,v,j,_){var D=v.flags;switch(v.tag){case 0:case 11:case 15:Io(h,v,j,_),D&2048&&Xg(9,v);break;case 1:Io(h,v,j,_);break;case 3:Io(h,v,j,_),D&2048&&(h=null,v.alternate!==null&&(h=v.alternate.memoizedState.cache),v=v.memoizedState.cache,v!==h&&(v.refCount++,h!=null&&Lg(h)));break;case 12:if(D&2048){Io(h,v,j,_),h=v.stateNode;try{var I=v.memoizedProps,U=I.id,G=I.onPostCommit;typeof G=="function"&&G(U,v.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(te){Ir(v,v.return,te)}}else Io(h,v,j,_);break;case 13:Io(h,v,j,_);break;case 23:break;case 22:I=v.stateNode,U=v.alternate,v.memoizedState!==null?I._visibility&2?Io(h,v,j,_):Jg(h,v):I._visibility&2?Io(h,v,j,_):(I._visibility|=2,Hh(h,v,j,_,(v.subtreeFlags&10256)!==0)),D&2048&&kA(U,v);break;case 24:Io(h,v,j,_),D&2048&&TA(v.alternate,v);break;default:Io(h,v,j,_)}}function Hh(h,v,j,_,D){for(D=D&&(v.subtreeFlags&10256)!==0,v=v.child;v!==null;){var I=h,U=v,G=j,te=_,we=U.flags;switch(U.tag){case 0:case 11:case 15:Hh(I,U,G,te,D),Xg(8,U);break;case 23:break;case 22:var De=U.stateNode;U.memoizedState!==null?De._visibility&2?Hh(I,U,G,te,D):Jg(I,U):(De._visibility|=2,Hh(I,U,G,te,D)),D&&we&2048&&kA(U.alternate,U);break;case 24:Hh(I,U,G,te,D),D&&we&2048&&TA(U.alternate,U);break;default:Hh(I,U,G,te,D)}v=v.sibling}}function Jg(h,v){if(v.subtreeFlags&10256)for(v=v.child;v!==null;){var j=h,_=v,D=_.flags;switch(_.tag){case 22:Jg(j,_),D&2048&&kA(_.alternate,_);break;case 24:Jg(j,_),D&2048&&TA(_.alternate,_);break;default:Jg(j,_)}v=v.sibling}}var ex=8192;function zh(h){if(h.subtreeFlags&ex)for(h=h.child;h!==null;)qB(h),h=h.sibling}function qB(h){switch(h.tag){case 26:zh(h),h.flags&ex&&h.memoizedState!==null&&Mue(oo,h.memoizedState,h.memoizedProps);break;case 5:zh(h);break;case 3:case 4:var v=oo;oo=Bb(h.stateNode.containerInfo),zh(h),oo=v;break;case 22:h.memoizedState===null&&(v=h.alternate,v!==null&&v.memoizedState!==null?(v=ex,ex=16777216,zh(h),ex=v):zh(h));break;default:zh(h)}}function GB(h){var v=h.alternate;if(v!==null&&(h=v.child,h!==null)){v.child=null;do v=h.sibling,h.sibling=null,h=v;while(h!==null)}}function tx(h){var v=h.deletions;if((h.flags&16)!==0){if(v!==null)for(var j=0;j<v.length;j++){var _=v[j];gs=_,KB(_,h)}GB(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)YB(h),h=h.sibling}function YB(h){switch(h.tag){case 0:case 11:case 15:tx(h),h.flags&2048&&ed(9,h,h.return);break;case 3:tx(h);break;case 12:tx(h);break;case 22:var v=h.stateNode;h.memoizedState!==null&&v._visibility&2&&(h.return===null||h.return.tag!==13)?(v._visibility&=-3,Nb(h)):tx(h);break;default:tx(h)}}function Nb(h){var v=h.deletions;if((h.flags&16)!==0){if(v!==null)for(var j=0;j<v.length;j++){var _=v[j];gs=_,KB(_,h)}GB(h)}for(h=h.child;h!==null;){switch(v=h,v.tag){case 0:case 11:case 15:ed(8,v,v.return),Nb(v);break;case 22:j=v.stateNode,j._visibility&2&&(j._visibility&=-3,Nb(v));break;default:Nb(v)}h=h.sibling}}function KB(h,v){for(;gs!==null;){var j=gs;switch(j.tag){case 0:case 11:case 15:ed(8,j,v);break;case 23:case 22:if(j.memoizedState!==null&&j.memoizedState.cachePool!==null){var _=j.memoizedState.cachePool.pool;_!=null&&_.refCount++}break;case 24:Lg(j.memoizedState.cache)}if(_=j.child,_!==null)_.return=j,gs=_;else e:for(j=h;gs!==null;){_=gs;var D=_.sibling,I=_.return;if(FB(_),_===j){gs=null;break e}if(D!==null){D.return=I,gs=D;break e}gs=I}}}var Zde={getCacheForType:function(h){var v=Hs(Zn),j=v.data.get(h);return j===void 0&&(j=h(),v.data.set(h,j)),j}},Xde=typeof WeakMap=="function"?WeakMap:Map,Cr=0,Fr=null,Gt=null,ir=0,jr=0,Va=null,nd=!1,Uh=!1,PA=!1,Fl=0,wn=0,sd=0,Ru=0,DA=0,Ai=0,Vh=0,rx=null,ya=null,RA=!1,MA=0,_b=1/0,Ab=null,ad=null,Ds=0,od=null,Wh=null,qh=0,OA=0,IA=null,ZB=null,nx=0,LA=null;function Wa(){if((Cr&2)!==0&&ir!==0)return ir&-ir;if($.T!==null){var h=Rh;return h!==0?h:VA()}return Wc()}function XB(){Ai===0&&(Ai=(ir&536870912)===0||hr?Sr():536870912);var h=_i.current;return h!==null&&(h.flags|=32),Ai}function qa(h,v,j){(h===Fr&&(jr===2||jr===9)||h.cancelPendingCommit!==null)&&(Gh(h,0),ld(h,ir,Ai,!1)),yn(h,j),((Cr&2)===0||h!==Fr)&&(h===Fr&&((Cr&2)===0&&(Ru|=j),wn===4&&ld(h,ir,Ai,!1)),Lo(h))}function QB(h,v,j){if((Cr&6)!==0)throw Error(n(327));var _=!j&&(v&124)===0&&(v&h.expiredLanes)===0||ao(h,v),D=_?eue(h,v):FA(h,v,!0),I=_;do{if(D===0){Uh&&!_&&ld(h,v,0,!1);break}else{if(j=h.current.alternate,I&&!Qde(j)){D=FA(h,v,!1),I=!1;continue}if(D===2){if(I=v,h.errorRecoveryDisabledLanes&I)var U=0;else U=h.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){v=U;e:{var G=h;D=rx;var te=G.current.memoizedState.isDehydrated;if(te&&(Gh(G,U).flags|=256),U=FA(G,U,!1),U!==2){if(PA&&!te){G.errorRecoveryDisabledLanes|=I,Ru|=I,D=4;break e}I=ya,ya=D,I!==null&&(ya===null?ya=I:ya.push.apply(ya,I))}D=U}if(I=!1,D!==2)continue}}if(D===1){Gh(h,0),ld(h,v,0,!0);break}e:{switch(_=h,I=D,I){case 0:case 1:throw Error(n(345));case 4:if((v&4194048)!==v)break;case 6:ld(_,v,Ai,!nd);break e;case 2:ya=null;break;case 3:case 5:break;default:throw Error(n(329))}if((v&62914560)===v&&(D=MA+300-rt(),10<D)){if(ld(_,v,Ai,!nd),bi(_,0,!0)!==0)break e;_.timeoutHandle=_$(JB.bind(null,_,j,ya,Ab,RA,v,Ai,Ru,Vh,nd,I,2,-0,0),D);break e}JB(_,j,ya,Ab,RA,v,Ai,Ru,Vh,nd,I,0,-0,0)}}break}while(!0);Lo(h)}function JB(h,v,j,_,D,I,U,G,te,we,De,Be,Ce,je){if(h.timeoutHandle=-1,Be=v.subtreeFlags,(Be&8192||(Be&16785408)===16785408)&&(dx={stylesheets:null,count:0,unsuspend:Rue},qB(v),Be=Oue(),Be!==null)){h.cancelPendingCommit=Be(i$.bind(null,h,v,I,j,_,D,U,G,te,De,1,Ce,je)),ld(h,I,U,!we);return}i$(h,v,I,j,_,D,U,G,te)}function Qde(h){for(var v=h;;){var j=v.tag;if((j===0||j===11||j===15)&&v.flags&16384&&(j=v.updateQueue,j!==null&&(j=j.stores,j!==null)))for(var _=0;_<j.length;_++){var D=j[_],I=D.getSnapshot;D=D.value;try{if(!Fa(I(),D))return!1}catch{return!1}}if(j=v.child,v.subtreeFlags&16384&&j!==null)j.return=v,v=j;else{if(v===h)break;for(;v.sibling===null;){if(v.return===null||v.return===h)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function ld(h,v,j,_){v&=~DA,v&=~Ru,h.suspendedLanes|=v,h.pingedLanes&=~v,_&&(h.warmLanes|=v),_=h.expirationTimes;for(var D=v;0<D;){var I=31-Qe(D),U=1<<I;_[I]=-1,D&=~U}j!==0&&hh(h,j,v)}function kb(){return(Cr&6)===0?(sx(0),!1):!0}function BA(){if(Gt!==null){if(jr===0)var h=Gt.return;else h=Gt,Dl=_u=null,tA(h),$h=null,Yg=0,h=Gt;for(;h!==null;)DB(h.alternate,h),h=h.return;Gt=null}}function Gh(h,v){var j=h.timeoutHandle;j!==-1&&(h.timeoutHandle=-1,gue(j)),j=h.cancelPendingCommit,j!==null&&(h.cancelPendingCommit=null,j()),BA(),Fr=h,Gt=j=kl(h.current,null),ir=v,jr=0,Va=null,nd=!1,Uh=ao(h,v),PA=!1,Vh=Ai=DA=Ru=sd=wn=0,ya=rx=null,RA=!1,(v&8)!==0&&(v|=v&32);var _=h.entangledLanes;if(_!==0)for(h=h.entanglements,_&=v;0<_;){var D=31-Qe(_),I=1<<D;v|=h[D],_&=~I}return Fl=v,Xy(),j}function e$(h,v){Ft=null,$.H=gb,v===$g||v===ib?(v=xL(),jr=3):v===mL?(v=xL(),jr=4):jr=v===vB?8:v!==null&&typeof v=="object"&&typeof v.then=="function"?6:1,Va=v,Gt===null&&(wn=1,wb(h,Ci(v,h.current)))}function t$(){var h=$.H;return $.H=gb,h===null?gb:h}function r$(){var h=$.A;return $.A=Zde,h}function $A(){wn=4,nd||(ir&4194048)!==ir&&_i.current!==null||(Uh=!0),(sd&134217727)===0&&(Ru&134217727)===0||Fr===null||ld(Fr,ir,Ai,!1)}function FA(h,v,j){var _=Cr;Cr|=2;var D=t$(),I=r$();(Fr!==h||ir!==v)&&(Ab=null,Gh(h,v)),v=!1;var U=wn;e:do try{if(jr!==0&&Gt!==null){var G=Gt,te=Va;switch(jr){case 8:BA(),U=6;break e;case 3:case 2:case 9:case 6:_i.current===null&&(v=!0);var we=jr;if(jr=0,Va=null,Yh(h,G,te,we),j&&Uh){U=0;break e}break;default:we=jr,jr=0,Va=null,Yh(h,G,te,we)}}Jde(),U=wn;break}catch(De){e$(h,De)}while(!0);return v&&h.shellSuspendCounter++,Dl=_u=null,Cr=_,$.H=D,$.A=I,Gt===null&&(Fr=null,ir=0,Xy()),U}function Jde(){for(;Gt!==null;)n$(Gt)}function eue(h,v){var j=Cr;Cr|=2;var _=t$(),D=r$();Fr!==h||ir!==v?(Ab=null,_b=rt()+500,Gh(h,v)):Uh=ao(h,v);e:do try{if(jr!==0&&Gt!==null){v=Gt;var I=Va;t:switch(jr){case 1:jr=0,Va=null,Yh(h,v,I,1);break;case 2:case 9:if(pL(I)){jr=0,Va=null,s$(v);break}v=function(){jr!==2&&jr!==9||Fr!==h||(jr=7),Lo(h)},I.then(v,v);break e;case 3:jr=7;break e;case 4:jr=5;break e;case 7:pL(I)?(jr=0,Va=null,s$(v)):(jr=0,Va=null,Yh(h,v,I,7));break;case 5:var U=null;switch(Gt.tag){case 26:U=Gt.memoizedState;case 5:case 27:var G=Gt;if(!U||$$(U)){jr=0,Va=null;var te=G.sibling;if(te!==null)Gt=te;else{var we=G.return;we!==null?(Gt=we,Tb(we)):Gt=null}break t}}jr=0,Va=null,Yh(h,v,I,5);break;case 6:jr=0,Va=null,Yh(h,v,I,6);break;case 8:BA(),wn=6;break e;default:throw Error(n(462))}}tue();break}catch(De){e$(h,De)}while(!0);return Dl=_u=null,$.H=_,$.A=D,Cr=j,Gt!==null?0:(Fr=null,ir=0,Xy(),wn)}function tue(){for(;Gt!==null&&!ae();)n$(Gt)}function n$(h){var v=TB(h.alternate,h,Fl);h.memoizedProps=h.pendingProps,v===null?Tb(h):Gt=v}function s$(h){var v=h,j=v.alternate;switch(v.tag){case 15:case 0:v=jB(j,v,v.pendingProps,v.type,void 0,ir);break;case 11:v=jB(j,v,v.pendingProps,v.type.render,v.ref,ir);break;case 5:tA(v);default:DB(j,v),v=Gt=aL(v,Fl),v=TB(j,v,Fl)}h.memoizedProps=h.pendingProps,v===null?Tb(h):Gt=v}function Yh(h,v,j,_){Dl=_u=null,tA(v),$h=null,Yg=0;var D=v.return;try{if(Vde(h,D,v,j,ir)){wn=1,wb(h,Ci(j,h.current)),Gt=null;return}}catch(I){if(D!==null)throw Gt=D,I;wn=1,wb(h,Ci(j,h.current)),Gt=null;return}v.flags&32768?(hr||_===1?h=!0:Uh||(ir&536870912)!==0?h=!1:(nd=h=!0,(_===2||_===9||_===3||_===6)&&(_=_i.current,_!==null&&_.tag===13&&(_.flags|=16384))),a$(v,h)):Tb(v)}function Tb(h){var v=h;do{if((v.flags&32768)!==0){a$(v,nd);return}h=v.return;var j=qde(v.alternate,v,Fl);if(j!==null){Gt=j;return}if(v=v.sibling,v!==null){Gt=v;return}Gt=v=h}while(v!==null);wn===0&&(wn=5)}function a$(h,v){do{var j=Gde(h.alternate,h);if(j!==null){j.flags&=32767,Gt=j;return}if(j=h.return,j!==null&&(j.flags|=32768,j.subtreeFlags=0,j.deletions=null),!v&&(h=h.sibling,h!==null)){Gt=h;return}Gt=h=j}while(h!==null);wn=6,Gt=null}function i$(h,v,j,_,D,I,U,G,te){h.cancelPendingCommit=null;do Pb();while(Ds!==0);if((Cr&6)!==0)throw Error(n(327));if(v!==null){if(v===h.current)throw Error(n(177));if(I=v.lanes|v.childLanes,I|=T_,rr(h,j,I,U,G,te),h===Fr&&(Gt=Fr=null,ir=0),Wh=v,od=h,qh=j,OA=I,IA=D,ZB=_,(v.subtreeFlags&10256)!==0||(v.flags&10256)!==0?(h.callbackNode=null,h.callbackPriority=0,aue(ne,function(){return u$(),null})):(h.callbackNode=null,h.callbackPriority=0),_=(v.flags&13878)!==0,(v.subtreeFlags&13878)!==0||_){_=$.T,$.T=null,D=z.p,z.p=2,U=Cr,Cr|=4;try{Yde(h,v,j)}finally{Cr=U,z.p=D,$.T=_}}Ds=1,o$(),l$(),c$()}}function o$(){if(Ds===1){Ds=0;var h=od,v=Wh,j=(v.flags&13878)!==0;if((v.subtreeFlags&13878)!==0||j){j=$.T,$.T=null;var _=z.p;z.p=2;var D=Cr;Cr|=4;try{UB(v,h);var I=QA,U=K5(h.containerInfo),G=I.focusedElem,te=I.selectionRange;if(U!==G&&G&&G.ownerDocument&&Y5(G.ownerDocument.documentElement,G)){if(te!==null&&E_(G)){var we=te.start,De=te.end;if(De===void 0&&(De=we),"selectionStart"in G)G.selectionStart=we,G.selectionEnd=Math.min(De,G.value.length);else{var Be=G.ownerDocument||document,Ce=Be&&Be.defaultView||window;if(Ce.getSelection){var je=Ce.getSelection(),Pt=G.textContent.length,jt=Math.min(te.start,Pt),Dr=te.end===void 0?jt:Math.min(te.end,Pt);!je.extend&&jt>Dr&&(U=Dr,Dr=jt,jt=U);var ge=G5(G,jt),oe=G5(G,Dr);if(ge&&oe&&(je.rangeCount!==1||je.anchorNode!==ge.node||je.anchorOffset!==ge.offset||je.focusNode!==oe.node||je.focusOffset!==oe.offset)){var be=Be.createRange();be.setStart(ge.node,ge.offset),je.removeAllRanges(),jt>Dr?(je.addRange(be),je.extend(oe.node,oe.offset)):(be.setEnd(oe.node,oe.offset),je.addRange(be))}}}}for(Be=[],je=G;je=je.parentNode;)je.nodeType===1&&Be.push({element:je,left:je.scrollLeft,top:je.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<Be.length;G++){var Oe=Be[G];Oe.element.scrollLeft=Oe.left,Oe.element.scrollTop=Oe.top}}Ub=!!XA,QA=XA=null}finally{Cr=D,z.p=_,$.T=j}}h.current=v,Ds=2}}function l$(){if(Ds===2){Ds=0;var h=od,v=Wh,j=(v.flags&8772)!==0;if((v.subtreeFlags&8772)!==0||j){j=$.T,$.T=null;var _=z.p;z.p=2;var D=Cr;Cr|=4;try{$B(h,v.alternate,v)}finally{Cr=D,z.p=_,$.T=j}}Ds=3}}function c$(){if(Ds===4||Ds===3){Ds=0,We();var h=od,v=Wh,j=qh,_=ZB;(v.subtreeFlags&10256)!==0||(v.flags&10256)!==0?Ds=5:(Ds=0,Wh=od=null,d$(h,h.pendingLanes));var D=h.pendingLanes;if(D===0&&(ad=null),Nl(j),v=v.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(se,v,void 0,(v.current.flags&128)===128)}catch{}if(_!==null){v=$.T,D=z.p,z.p=2,$.T=null;try{for(var I=h.onRecoverableError,U=0;U<_.length;U++){var G=_[U];I(G.value,{componentStack:G.stack})}}finally{$.T=v,z.p=D}}(qh&3)!==0&&Pb(),Lo(h),D=h.pendingLanes,(j&4194090)!==0&&(D&42)!==0?h===LA?nx++:(nx=0,LA=h):nx=0,sx(0)}}function d$(h,v){(h.pooledCacheLanes&=v)===0&&(v=h.pooledCache,v!=null&&(h.pooledCache=null,Lg(v)))}function Pb(h){return o$(),l$(),c$(),u$()}function u$(){if(Ds!==5)return!1;var h=od,v=OA;OA=0;var j=Nl(qh),_=$.T,D=z.p;try{z.p=32>j?32:j,$.T=null,j=IA,IA=null;var I=od,U=qh;if(Ds=0,Wh=od=null,qh=0,(Cr&6)!==0)throw Error(n(331));var G=Cr;if(Cr|=4,YB(I.current),WB(I,I.current,U,j),Cr=G,sx(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(se,I)}catch{}return!0}finally{z.p=D,$.T=_,d$(h,v)}}function f$(h,v,j){v=Ci(j,v),v=pA(h.stateNode,v,2),h=Zc(h,v,2),h!==null&&(yn(h,2),Lo(h))}function Ir(h,v,j){if(h.tag===3)f$(h,h,j);else for(;v!==null;){if(v.tag===3){f$(v,h,j);break}else if(v.tag===1){var _=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(ad===null||!ad.has(_))){h=Ci(j,h),j=gB(2),_=Zc(v,j,2),_!==null&&(xB(j,_,v,h),yn(_,2),Lo(_));break}}v=v.return}}function HA(h,v,j){var _=h.pingCache;if(_===null){_=h.pingCache=new Xde;var D=new Set;_.set(v,D)}else D=_.get(v),D===void 0&&(D=new Set,_.set(v,D));D.has(j)||(PA=!0,D.add(j),h=rue.bind(null,h,v,j),v.then(h,h))}function rue(h,v,j){var _=h.pingCache;_!==null&&_.delete(v),h.pingedLanes|=h.suspendedLanes&j,h.warmLanes&=~j,Fr===h&&(ir&j)===j&&(wn===4||wn===3&&(ir&62914560)===ir&&300>rt()-MA?(Cr&2)===0&&Gh(h,0):DA|=j,Vh===ir&&(Vh=0)),Lo(h)}function h$(h,v){v===0&&(v=Tt()),h=kh(h,v),h!==null&&(yn(h,v),Lo(h))}function nue(h){var v=h.memoizedState,j=0;v!==null&&(j=v.retryLane),h$(h,j)}function sue(h,v){var j=0;switch(h.tag){case 13:var _=h.stateNode,D=h.memoizedState;D!==null&&(j=D.retryLane);break;case 19:_=h.stateNode;break;case 22:_=h.stateNode._retryCache;break;default:throw Error(n(314))}_!==null&&_.delete(v),h$(h,j)}function aue(h,v){return Te(h,v)}var Db=null,Kh=null,zA=!1,Rb=!1,UA=!1,Mu=0;function Lo(h){h!==Kh&&h.next===null&&(Kh===null?Db=Kh=h:Kh=Kh.next=h),Rb=!0,zA||(zA=!0,oue())}function sx(h,v){if(!UA&&Rb){UA=!0;do for(var j=!1,_=Db;_!==null;){if(h!==0){var D=_.pendingLanes;if(D===0)var I=0;else{var U=_.suspendedLanes,G=_.pingedLanes;I=(1<<31-Qe(42|h)+1)-1,I&=D&~(U&~G),I=I&201326741?I&201326741|1:I?I|2:0}I!==0&&(j=!0,x$(_,I))}else I=ir,I=bi(_,_===Fr?I:0,_.cancelPendingCommit!==null||_.timeoutHandle!==-1),(I&3)===0||ao(_,I)||(j=!0,x$(_,I));_=_.next}while(j);UA=!1}}function iue(){m$()}function m$(){Rb=zA=!1;var h=0;Mu!==0&&(pue()&&(h=Mu),Mu=0);for(var v=rt(),j=null,_=Db;_!==null;){var D=_.next,I=p$(_,v);I===0?(_.next=null,j===null?Db=D:j.next=D,D===null&&(Kh=j)):(j=_,(h!==0||(I&3)!==0)&&(Rb=!0)),_=D}sx(h)}function p$(h,v){for(var j=h.suspendedLanes,_=h.pingedLanes,D=h.expirationTimes,I=h.pendingLanes&-62914561;0<I;){var U=31-Qe(I),G=1<<U,te=D[U];te===-1?((G&j)===0||(G&_)!==0)&&(D[U]=Rt(G,v)):te<=v&&(h.expiredLanes|=G),I&=~G}if(v=Fr,j=ir,j=bi(h,h===v?j:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),_=h.callbackNode,j===0||h===v&&(jr===2||jr===9)||h.cancelPendingCommit!==null)return _!==null&&_!==null&&Ae(_),h.callbackNode=null,h.callbackPriority=0;if((j&3)===0||ao(h,j)){if(v=j&-j,v===h.callbackPriority)return v;switch(_!==null&&Ae(_),Nl(j)){case 2:case 8:j=Q;break;case 32:j=ne;break;case 268435456:j=ze;break;default:j=ne}return _=g$.bind(null,h),j=Te(j,_),h.callbackPriority=v,h.callbackNode=j,v}return _!==null&&_!==null&&Ae(_),h.callbackPriority=2,h.callbackNode=null,2}function g$(h,v){if(Ds!==0&&Ds!==5)return h.callbackNode=null,h.callbackPriority=0,null;var j=h.callbackNode;if(Pb()&&h.callbackNode!==j)return null;var _=ir;return _=bi(h,h===Fr?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),_===0?null:(QB(h,_,v),p$(h,rt()),h.callbackNode!=null&&h.callbackNode===j?g$.bind(null,h):null)}function x$(h,v){if(Pb())return null;QB(h,v,!0)}function oue(){xue(function(){(Cr&6)!==0?Te(Fe,iue):m$()})}function VA(){return Mu===0&&(Mu=Sr()),Mu}function v$(h){return h==null||typeof h=="symbol"||typeof h=="boolean"?null:typeof h=="function"?h:Vy(""+h)}function y$(h,v){var j=v.ownerDocument.createElement("input");return j.name=v.name,j.value=v.value,h.id&&j.setAttribute("form",h.id),v.parentNode.insertBefore(j,v),h=new FormData(h),j.parentNode.removeChild(j),h}function lue(h,v,j,_,D){if(v==="submit"&&j&&j.stateNode===D){var I=v$((D[kr]||null).action),U=_.submitter;U&&(v=(v=U[kr]||null)?v$(v.formAction):U.getAttribute("formAction"),v!==null&&(I=v,U=null));var G=new Yy("action","action",null,_,D);h.push({event:G,listeners:[{instance:null,listener:function(){if(_.defaultPrevented){if(Mu!==0){var te=U?y$(D,U):new FormData(D);dA(j,{pending:!0,data:te,method:D.method,action:I},null,te)}}else typeof I=="function"&&(G.preventDefault(),te=U?y$(D,U):new FormData(D),dA(j,{pending:!0,data:te,method:D.method,action:I},I,te))},currentTarget:D}]})}}for(var WA=0;WA<k_.length;WA++){var qA=k_[WA],cue=qA.toLowerCase(),due=qA[0].toUpperCase()+qA.slice(1);io(cue,"on"+due)}io(Q5,"onAnimationEnd"),io(J5,"onAnimationIteration"),io(eL,"onAnimationStart"),io("dblclick","onDoubleClick"),io("focusin","onFocus"),io("focusout","onBlur"),io(_de,"onTransitionRun"),io(Ade,"onTransitionStart"),io(kde,"onTransitionCancel"),io(tL,"onTransitionEnd"),yh("onMouseEnter",["mouseout","mouseover"]),yh("onMouseLeave",["mouseout","mouseover"]),yh("onPointerEnter",["pointerout","pointerover"]),yh("onPointerLeave",["pointerout","pointerover"]),vu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vu("onBeforeInput",["compositionend","keypress","textInput","paste"]),vu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ax="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uue=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ax));function b$(h,v){v=(v&4)!==0;for(var j=0;j<h.length;j++){var _=h[j],D=_.event;_=_.listeners;e:{var I=void 0;if(v)for(var U=_.length-1;0<=U;U--){var G=_[U],te=G.instance,we=G.currentTarget;if(G=G.listener,te!==I&&D.isPropagationStopped())break e;I=G,D.currentTarget=we;try{I(D)}catch(De){bb(De)}D.currentTarget=null,I=te}else for(U=0;U<_.length;U++){if(G=_[U],te=G.instance,we=G.currentTarget,G=G.listener,te!==I&&D.isPropagationStopped())break e;I=G,D.currentTarget=we;try{I(D)}catch(De){bb(De)}D.currentTarget=null,I=te}}}}function Yt(h,v){var j=v[ph];j===void 0&&(j=v[ph]=new Set);var _=h+"__bubble";j.has(_)||(w$(v,h,2,!1),j.add(_))}function GA(h,v,j){var _=0;v&&(_|=4),w$(j,h,_,v)}var Mb="_reactListening"+Math.random().toString(36).slice(2);function YA(h){if(!h[Mb]){h[Mb]=!0,m5.forEach(function(j){j!=="selectionchange"&&(uue.has(j)||GA(j,!1,h),GA(j,!0,h))});var v=h.nodeType===9?h:h.ownerDocument;v===null||v[Mb]||(v[Mb]=!0,GA("selectionchange",!1,v))}}function w$(h,v,j,_){switch(W$(v)){case 2:var D=Bue;break;case 8:D=$ue;break;default:D=lk}j=D.bind(null,v,j,h),D=void 0,!g_||v!=="touchstart"&&v!=="touchmove"&&v!=="wheel"||(D=!0),_?D!==void 0?h.addEventListener(v,j,{capture:!0,passive:D}):h.addEventListener(v,j,!0):D!==void 0?h.addEventListener(v,j,{passive:D}):h.addEventListener(v,j,!1)}function KA(h,v,j,_,D){var I=_;if((v&1)===0&&(v&2)===0&&_!==null)e:for(;;){if(_===null)return;var U=_.tag;if(U===3||U===4){var G=_.stateNode.containerInfo;if(G===D)break;if(U===4)for(U=_.return;U!==null;){var te=U.tag;if((te===3||te===4)&&U.stateNode.containerInfo===D)return;U=U.return}for(;G!==null;){if(U=gh(G),U===null)return;if(te=U.tag,te===5||te===6||te===26||te===27){_=I=U;continue e}G=G.parentNode}}_=_.return}A5(function(){var we=I,De=m_(j),Be=[];e:{var Ce=rL.get(h);if(Ce!==void 0){var je=Yy,Pt=h;switch(h){case"keypress":if(qy(j)===0)break e;case"keydown":case"keyup":je=ade;break;case"focusin":Pt="focus",je=b_;break;case"focusout":Pt="blur",je=b_;break;case"beforeblur":case"afterblur":je=b_;break;case"click":if(j.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=P5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=Gce;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=lde;break;case Q5:case J5:case eL:je=Zce;break;case tL:je=dde;break;case"scroll":case"scrollend":je=Wce;break;case"wheel":je=fde;break;case"copy":case"cut":case"paste":je=Qce;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=R5;break;case"toggle":case"beforetoggle":je=mde}var jt=(v&4)!==0,Dr=!jt&&(h==="scroll"||h==="scrollend"),ge=jt?Ce!==null?Ce+"Capture":null:Ce;jt=[];for(var oe=we,be;oe!==null;){var Oe=oe;if(be=Oe.stateNode,Oe=Oe.tag,Oe!==5&&Oe!==26&&Oe!==27||be===null||ge===null||(Oe=jg(oe,ge),Oe!=null&&jt.push(ix(oe,Oe,be))),Dr)break;oe=oe.return}0<jt.length&&(Ce=new je(Ce,Pt,null,j,De),Be.push({event:Ce,listeners:jt}))}}if((v&7)===0){e:{if(Ce=h==="mouseover"||h==="pointerover",je=h==="mouseout"||h==="pointerout",Ce&&j!==h_&&(Pt=j.relatedTarget||j.fromElement)&&(gh(Pt)||Pt[ra]))break e;if((je||Ce)&&(Ce=De.window===De?De:(Ce=De.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,je?(Pt=j.relatedTarget||j.toElement,je=we,Pt=Pt?gh(Pt):null,Pt!==null&&(Dr=i(Pt),jt=Pt.tag,Pt!==Dr||jt!==5&&jt!==27&&jt!==6)&&(Pt=null)):(je=null,Pt=we),je!==Pt)){if(jt=P5,Oe="onMouseLeave",ge="onMouseEnter",oe="mouse",(h==="pointerout"||h==="pointerover")&&(jt=R5,Oe="onPointerLeave",ge="onPointerEnter",oe="pointer"),Dr=je==null?Ce:Cg(je),be=Pt==null?Ce:Cg(Pt),Ce=new jt(Oe,oe+"leave",je,j,De),Ce.target=Dr,Ce.relatedTarget=be,Oe=null,gh(De)===we&&(jt=new jt(ge,oe+"enter",Pt,j,De),jt.target=be,jt.relatedTarget=Dr,Oe=jt),Dr=Oe,je&&Pt)t:{for(jt=je,ge=Pt,oe=0,be=jt;be;be=Zh(be))oe++;for(be=0,Oe=ge;Oe;Oe=Zh(Oe))be++;for(;0<oe-be;)jt=Zh(jt),oe--;for(;0<be-oe;)ge=Zh(ge),be--;for(;oe--;){if(jt===ge||ge!==null&&jt===ge.alternate)break t;jt=Zh(jt),ge=Zh(ge)}jt=null}else jt=null;je!==null&&S$(Be,Ce,je,jt,!1),Pt!==null&&Dr!==null&&S$(Be,Dr,Pt,jt,!0)}}e:{if(Ce=we?Cg(we):window,je=Ce.nodeName&&Ce.nodeName.toLowerCase(),je==="select"||je==="input"&&Ce.type==="file")var lt=H5;else if($5(Ce))if(z5)lt=jde;else{lt=Sde;var Vt=wde}else je=Ce.nodeName,!je||je.toLowerCase()!=="input"||Ce.type!=="checkbox"&&Ce.type!=="radio"?we&&f_(we.elementType)&&(lt=H5):lt=Cde;if(lt&&(lt=lt(h,we))){F5(Be,lt,j,De);break e}Vt&&Vt(h,Ce,we),h==="focusout"&&we&&Ce.type==="number"&&we.memoizedProps.value!=null&&u_(Ce,"number",Ce.value)}switch(Vt=we?Cg(we):window,h){case"focusin":($5(Vt)||Vt.contentEditable==="true")&&(Nh=Vt,N_=we,Dg=null);break;case"focusout":Dg=N_=Nh=null;break;case"mousedown":__=!0;break;case"contextmenu":case"mouseup":case"dragend":__=!1,Z5(Be,j,De);break;case"selectionchange":if(Nde)break;case"keydown":case"keyup":Z5(Be,j,De)}var gt;if(S_)e:{switch(h){case"compositionstart":var Nt="onCompositionStart";break e;case"compositionend":Nt="onCompositionEnd";break e;case"compositionupdate":Nt="onCompositionUpdate";break e}Nt=void 0}else Eh?L5(h,j)&&(Nt="onCompositionEnd"):h==="keydown"&&j.keyCode===229&&(Nt="onCompositionStart");Nt&&(M5&&j.locale!=="ko"&&(Eh||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&Eh&&(gt=k5()):(qc=De,x_="value"in qc?qc.value:qc.textContent,Eh=!0)),Vt=Ob(we,Nt),0<Vt.length&&(Nt=new D5(Nt,h,null,j,De),Be.push({event:Nt,listeners:Vt}),gt?Nt.data=gt:(gt=B5(j),gt!==null&&(Nt.data=gt)))),(gt=gde?xde(h,j):vde(h,j))&&(Nt=Ob(we,"onBeforeInput"),0<Nt.length&&(Vt=new D5("onBeforeInput","beforeinput",null,j,De),Be.push({event:Vt,listeners:Nt}),Vt.data=gt)),lue(Be,h,we,j,De)}b$(Be,v)})}function ix(h,v,j){return{instance:h,listener:v,currentTarget:j}}function Ob(h,v){for(var j=v+"Capture",_=[];h!==null;){var D=h,I=D.stateNode;if(D=D.tag,D!==5&&D!==26&&D!==27||I===null||(D=jg(h,j),D!=null&&_.unshift(ix(h,D,I)),D=jg(h,v),D!=null&&_.push(ix(h,D,I))),h.tag===3)return _;h=h.return}return[]}function Zh(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5&&h.tag!==27);return h||null}function S$(h,v,j,_,D){for(var I=v._reactName,U=[];j!==null&&j!==_;){var G=j,te=G.alternate,we=G.stateNode;if(G=G.tag,te!==null&&te===_)break;G!==5&&G!==26&&G!==27||we===null||(te=we,D?(we=jg(j,I),we!=null&&U.unshift(ix(j,we,te))):D||(we=jg(j,I),we!=null&&U.push(ix(j,we,te)))),j=j.return}U.length!==0&&h.push({event:v,listeners:U})}var fue=/\r\n?/g,hue=/\u0000|\uFFFD/g;function C$(h){return(typeof h=="string"?h:""+h).replace(fue,`
`).replace(hue,"")}function j$(h,v){return v=C$(v),C$(h)===v}function Ib(){}function Pr(h,v,j,_,D,I){switch(j){case"children":typeof _=="string"?v==="body"||v==="textarea"&&_===""||Sh(h,_):(typeof _=="number"||typeof _=="bigint")&&v!=="body"&&Sh(h,""+_);break;case"className":Hy(h,"class",_);break;case"tabIndex":Hy(h,"tabindex",_);break;case"dir":case"role":case"viewBox":case"width":case"height":Hy(h,j,_);break;case"style":N5(h,_,I);break;case"data":if(v!=="object"){Hy(h,"data",_);break}case"src":case"href":if(_===""&&(v!=="a"||j!=="href")){h.removeAttribute(j);break}if(_==null||typeof _=="function"||typeof _=="symbol"||typeof _=="boolean"){h.removeAttribute(j);break}_=Vy(""+_),h.setAttribute(j,_);break;case"action":case"formAction":if(typeof _=="function"){h.setAttribute(j,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof I=="function"&&(j==="formAction"?(v!=="input"&&Pr(h,v,"name",D.name,D,null),Pr(h,v,"formEncType",D.formEncType,D,null),Pr(h,v,"formMethod",D.formMethod,D,null),Pr(h,v,"formTarget",D.formTarget,D,null)):(Pr(h,v,"encType",D.encType,D,null),Pr(h,v,"method",D.method,D,null),Pr(h,v,"target",D.target,D,null)));if(_==null||typeof _=="symbol"||typeof _=="boolean"){h.removeAttribute(j);break}_=Vy(""+_),h.setAttribute(j,_);break;case"onClick":_!=null&&(h.onclick=Ib);break;case"onScroll":_!=null&&Yt("scroll",h);break;case"onScrollEnd":_!=null&&Yt("scrollend",h);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(n(61));if(j=_.__html,j!=null){if(D.children!=null)throw Error(n(60));h.innerHTML=j}}break;case"multiple":h.multiple=_&&typeof _!="function"&&typeof _!="symbol";break;case"muted":h.muted=_&&typeof _!="function"&&typeof _!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(_==null||typeof _=="function"||typeof _=="boolean"||typeof _=="symbol"){h.removeAttribute("xlink:href");break}j=Vy(""+_),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",j);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":_!=null&&typeof _!="function"&&typeof _!="symbol"?h.setAttribute(j,""+_):h.removeAttribute(j);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":_&&typeof _!="function"&&typeof _!="symbol"?h.setAttribute(j,""):h.removeAttribute(j);break;case"capture":case"download":_===!0?h.setAttribute(j,""):_!==!1&&_!=null&&typeof _!="function"&&typeof _!="symbol"?h.setAttribute(j,_):h.removeAttribute(j);break;case"cols":case"rows":case"size":case"span":_!=null&&typeof _!="function"&&typeof _!="symbol"&&!isNaN(_)&&1<=_?h.setAttribute(j,_):h.removeAttribute(j);break;case"rowSpan":case"start":_==null||typeof _=="function"||typeof _=="symbol"||isNaN(_)?h.removeAttribute(j):h.setAttribute(j,_);break;case"popover":Yt("beforetoggle",h),Yt("toggle",h),Fy(h,"popover",_);break;case"xlinkActuate":_l(h,"http://www.w3.org/1999/xlink","xlink:actuate",_);break;case"xlinkArcrole":_l(h,"http://www.w3.org/1999/xlink","xlink:arcrole",_);break;case"xlinkRole":_l(h,"http://www.w3.org/1999/xlink","xlink:role",_);break;case"xlinkShow":_l(h,"http://www.w3.org/1999/xlink","xlink:show",_);break;case"xlinkTitle":_l(h,"http://www.w3.org/1999/xlink","xlink:title",_);break;case"xlinkType":_l(h,"http://www.w3.org/1999/xlink","xlink:type",_);break;case"xmlBase":_l(h,"http://www.w3.org/XML/1998/namespace","xml:base",_);break;case"xmlLang":_l(h,"http://www.w3.org/XML/1998/namespace","xml:lang",_);break;case"xmlSpace":_l(h,"http://www.w3.org/XML/1998/namespace","xml:space",_);break;case"is":Fy(h,"is",_);break;case"innerText":case"textContent":break;default:(!(2<j.length)||j[0]!=="o"&&j[0]!=="O"||j[1]!=="n"&&j[1]!=="N")&&(j=Uce.get(j)||j,Fy(h,j,_))}}function ZA(h,v,j,_,D,I){switch(j){case"style":N5(h,_,I);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(n(61));if(j=_.__html,j!=null){if(D.children!=null)throw Error(n(60));h.innerHTML=j}}break;case"children":typeof _=="string"?Sh(h,_):(typeof _=="number"||typeof _=="bigint")&&Sh(h,""+_);break;case"onScroll":_!=null&&Yt("scroll",h);break;case"onScrollEnd":_!=null&&Yt("scrollend",h);break;case"onClick":_!=null&&(h.onclick=Ib);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!p5.hasOwnProperty(j))e:{if(j[0]==="o"&&j[1]==="n"&&(D=j.endsWith("Capture"),v=j.slice(2,D?j.length-7:void 0),I=h[kr]||null,I=I!=null?I[j]:null,typeof I=="function"&&h.removeEventListener(v,I,D),typeof _=="function")){typeof I!="function"&&I!==null&&(j in h?h[j]=null:h.hasAttribute(j)&&h.removeAttribute(j)),h.addEventListener(v,_,D);break e}j in h?h[j]=_:_===!0?h.setAttribute(j,""):Fy(h,j,_)}}}function Rs(h,v,j){switch(v){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yt("error",h),Yt("load",h);var _=!1,D=!1,I;for(I in j)if(j.hasOwnProperty(I)){var U=j[I];if(U!=null)switch(I){case"src":_=!0;break;case"srcSet":D=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,v));default:Pr(h,v,I,U,j,null)}}D&&Pr(h,v,"srcSet",j.srcSet,j,null),_&&Pr(h,v,"src",j.src,j,null);return;case"input":Yt("invalid",h);var G=I=U=D=null,te=null,we=null;for(_ in j)if(j.hasOwnProperty(_)){var De=j[_];if(De!=null)switch(_){case"name":D=De;break;case"type":U=De;break;case"checked":te=De;break;case"defaultChecked":we=De;break;case"value":I=De;break;case"defaultValue":G=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(n(137,v));break;default:Pr(h,v,_,De,j,null)}}S5(h,I,G,te,we,U,D,!1),zy(h);return;case"select":Yt("invalid",h),_=U=I=null;for(D in j)if(j.hasOwnProperty(D)&&(G=j[D],G!=null))switch(D){case"value":I=G;break;case"defaultValue":U=G;break;case"multiple":_=G;default:Pr(h,v,D,G,j,null)}v=I,j=U,h.multiple=!!_,v!=null?wh(h,!!_,v,!1):j!=null&&wh(h,!!_,j,!0);return;case"textarea":Yt("invalid",h),I=D=_=null;for(U in j)if(j.hasOwnProperty(U)&&(G=j[U],G!=null))switch(U){case"value":_=G;break;case"defaultValue":D=G;break;case"children":I=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(n(91));break;default:Pr(h,v,U,G,j,null)}j5(h,_,D,I),zy(h);return;case"option":for(te in j)if(j.hasOwnProperty(te)&&(_=j[te],_!=null))switch(te){case"selected":h.selected=_&&typeof _!="function"&&typeof _!="symbol";break;default:Pr(h,v,te,_,j,null)}return;case"dialog":Yt("beforetoggle",h),Yt("toggle",h),Yt("cancel",h),Yt("close",h);break;case"iframe":case"object":Yt("load",h);break;case"video":case"audio":for(_=0;_<ax.length;_++)Yt(ax[_],h);break;case"image":Yt("error",h),Yt("load",h);break;case"details":Yt("toggle",h);break;case"embed":case"source":case"link":Yt("error",h),Yt("load",h);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(we in j)if(j.hasOwnProperty(we)&&(_=j[we],_!=null))switch(we){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,v));default:Pr(h,v,we,_,j,null)}return;default:if(f_(v)){for(De in j)j.hasOwnProperty(De)&&(_=j[De],_!==void 0&&ZA(h,v,De,_,j,void 0));return}}for(G in j)j.hasOwnProperty(G)&&(_=j[G],_!=null&&Pr(h,v,G,_,j,null))}function mue(h,v,j,_){switch(v){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var D=null,I=null,U=null,G=null,te=null,we=null,De=null;for(je in j){var Be=j[je];if(j.hasOwnProperty(je)&&Be!=null)switch(je){case"checked":break;case"value":break;case"defaultValue":te=Be;default:_.hasOwnProperty(je)||Pr(h,v,je,null,_,Be)}}for(var Ce in _){var je=_[Ce];if(Be=j[Ce],_.hasOwnProperty(Ce)&&(je!=null||Be!=null))switch(Ce){case"type":I=je;break;case"name":D=je;break;case"checked":we=je;break;case"defaultChecked":De=je;break;case"value":U=je;break;case"defaultValue":G=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(n(137,v));break;default:je!==Be&&Pr(h,v,Ce,je,_,Be)}}d_(h,U,G,te,we,De,I,D);return;case"select":je=U=G=Ce=null;for(I in j)if(te=j[I],j.hasOwnProperty(I)&&te!=null)switch(I){case"value":break;case"multiple":je=te;default:_.hasOwnProperty(I)||Pr(h,v,I,null,_,te)}for(D in _)if(I=_[D],te=j[D],_.hasOwnProperty(D)&&(I!=null||te!=null))switch(D){case"value":Ce=I;break;case"defaultValue":G=I;break;case"multiple":U=I;default:I!==te&&Pr(h,v,D,I,_,te)}v=G,j=U,_=je,Ce!=null?wh(h,!!j,Ce,!1):!!_!=!!j&&(v!=null?wh(h,!!j,v,!0):wh(h,!!j,j?[]:"",!1));return;case"textarea":je=Ce=null;for(G in j)if(D=j[G],j.hasOwnProperty(G)&&D!=null&&!_.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:Pr(h,v,G,null,_,D)}for(U in _)if(D=_[U],I=j[U],_.hasOwnProperty(U)&&(D!=null||I!=null))switch(U){case"value":Ce=D;break;case"defaultValue":je=D;break;case"children":break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(n(91));break;default:D!==I&&Pr(h,v,U,D,_,I)}C5(h,Ce,je);return;case"option":for(var Pt in j)if(Ce=j[Pt],j.hasOwnProperty(Pt)&&Ce!=null&&!_.hasOwnProperty(Pt))switch(Pt){case"selected":h.selected=!1;break;default:Pr(h,v,Pt,null,_,Ce)}for(te in _)if(Ce=_[te],je=j[te],_.hasOwnProperty(te)&&Ce!==je&&(Ce!=null||je!=null))switch(te){case"selected":h.selected=Ce&&typeof Ce!="function"&&typeof Ce!="symbol";break;default:Pr(h,v,te,Ce,_,je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var jt in j)Ce=j[jt],j.hasOwnProperty(jt)&&Ce!=null&&!_.hasOwnProperty(jt)&&Pr(h,v,jt,null,_,Ce);for(we in _)if(Ce=_[we],je=j[we],_.hasOwnProperty(we)&&Ce!==je&&(Ce!=null||je!=null))switch(we){case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(n(137,v));break;default:Pr(h,v,we,Ce,_,je)}return;default:if(f_(v)){for(var Dr in j)Ce=j[Dr],j.hasOwnProperty(Dr)&&Ce!==void 0&&!_.hasOwnProperty(Dr)&&ZA(h,v,Dr,void 0,_,Ce);for(De in _)Ce=_[De],je=j[De],!_.hasOwnProperty(De)||Ce===je||Ce===void 0&&je===void 0||ZA(h,v,De,Ce,_,je);return}}for(var ge in j)Ce=j[ge],j.hasOwnProperty(ge)&&Ce!=null&&!_.hasOwnProperty(ge)&&Pr(h,v,ge,null,_,Ce);for(Be in _)Ce=_[Be],je=j[Be],!_.hasOwnProperty(Be)||Ce===je||Ce==null&&je==null||Pr(h,v,Be,Ce,_,je)}var XA=null,QA=null;function Lb(h){return h.nodeType===9?h:h.ownerDocument}function E$(h){switch(h){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N$(h,v){if(h===0)switch(v){case"svg":return 1;case"math":return 2;default:return 0}return h===1&&v==="foreignObject"?0:h}function JA(h,v){return h==="textarea"||h==="noscript"||typeof v.children=="string"||typeof v.children=="number"||typeof v.children=="bigint"||typeof v.dangerouslySetInnerHTML=="object"&&v.dangerouslySetInnerHTML!==null&&v.dangerouslySetInnerHTML.__html!=null}var ek=null;function pue(){var h=window.event;return h&&h.type==="popstate"?h===ek?!1:(ek=h,!0):(ek=null,!1)}var _$=typeof setTimeout=="function"?setTimeout:void 0,gue=typeof clearTimeout=="function"?clearTimeout:void 0,A$=typeof Promise=="function"?Promise:void 0,xue=typeof queueMicrotask=="function"?queueMicrotask:typeof A$<"u"?function(h){return A$.resolve(null).then(h).catch(vue)}:_$;function vue(h){setTimeout(function(){throw h})}function cd(h){return h==="head"}function k$(h,v){var j=v,_=0,D=0;do{var I=j.nextSibling;if(h.removeChild(j),I&&I.nodeType===8)if(j=I.data,j==="/$"){if(0<_&&8>_){j=_;var U=h.ownerDocument;if(j&1&&ox(U.documentElement),j&2&&ox(U.body),j&4)for(j=U.head,ox(j),U=j.firstChild;U;){var G=U.nextSibling,te=U.nodeName;U[Sg]||te==="SCRIPT"||te==="STYLE"||te==="LINK"&&U.rel.toLowerCase()==="stylesheet"||j.removeChild(U),U=G}}if(D===0){h.removeChild(I),px(v);return}D--}else j==="$"||j==="$?"||j==="$!"?D++:_=j.charCodeAt(0)-48;else _=0;j=I}while(j);px(v)}function tk(h){var v=h.firstChild;for(v&&v.nodeType===10&&(v=v.nextSibling);v;){var j=v;switch(v=v.nextSibling,j.nodeName){case"HTML":case"HEAD":case"BODY":tk(j),i_(j);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(j.rel.toLowerCase()==="stylesheet")continue}h.removeChild(j)}}function yue(h,v,j,_){for(;h.nodeType===1;){var D=j;if(h.nodeName.toLowerCase()!==v.toLowerCase()){if(!_&&(h.nodeName!=="INPUT"||h.type!=="hidden"))break}else if(_){if(!h[Sg])switch(v){case"meta":if(!h.hasAttribute("itemprop"))break;return h;case"link":if(I=h.getAttribute("rel"),I==="stylesheet"&&h.hasAttribute("data-precedence"))break;if(I!==D.rel||h.getAttribute("href")!==(D.href==null||D.href===""?null:D.href)||h.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin)||h.getAttribute("title")!==(D.title==null?null:D.title))break;return h;case"style":if(h.hasAttribute("data-precedence"))break;return h;case"script":if(I=h.getAttribute("src"),(I!==(D.src==null?null:D.src)||h.getAttribute("type")!==(D.type==null?null:D.type)||h.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin))&&I&&h.hasAttribute("async")&&!h.hasAttribute("itemprop"))break;return h;default:return h}}else if(v==="input"&&h.type==="hidden"){var I=D.name==null?null:""+D.name;if(D.type==="hidden"&&h.getAttribute("name")===I)return h}else return h;if(h=lo(h.nextSibling),h===null)break}return null}function bue(h,v,j){if(v==="")return null;for(;h.nodeType!==3;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!j||(h=lo(h.nextSibling),h===null))return null;return h}function rk(h){return h.data==="$!"||h.data==="$?"&&h.ownerDocument.readyState==="complete"}function wue(h,v){var j=h.ownerDocument;if(h.data!=="$?"||j.readyState==="complete")v();else{var _=function(){v(),j.removeEventListener("DOMContentLoaded",_)};j.addEventListener("DOMContentLoaded",_),h._reactRetry=_}}function lo(h){for(;h!=null;h=h.nextSibling){var v=h.nodeType;if(v===1||v===3)break;if(v===8){if(v=h.data,v==="$"||v==="$!"||v==="$?"||v==="F!"||v==="F")break;if(v==="/$")return null}}return h}var nk=null;function T$(h){h=h.previousSibling;for(var v=0;h;){if(h.nodeType===8){var j=h.data;if(j==="$"||j==="$!"||j==="$?"){if(v===0)return h;v--}else j==="/$"&&v++}h=h.previousSibling}return null}function P$(h,v,j){switch(v=Lb(j),h){case"html":if(h=v.documentElement,!h)throw Error(n(452));return h;case"head":if(h=v.head,!h)throw Error(n(453));return h;case"body":if(h=v.body,!h)throw Error(n(454));return h;default:throw Error(n(451))}}function ox(h){for(var v=h.attributes;v.length;)h.removeAttributeNode(v[0]);i_(h)}var ki=new Map,D$=new Set;function Bb(h){return typeof h.getRootNode=="function"?h.getRootNode():h.nodeType===9?h:h.ownerDocument}var Hl=z.d;z.d={f:Sue,r:Cue,D:jue,C:Eue,L:Nue,m:_ue,X:kue,S:Aue,M:Tue};function Sue(){var h=Hl.f(),v=kb();return h||v}function Cue(h){var v=xh(h);v!==null&&v.tag===5&&v.type==="form"?QL(v):Hl.r(h)}var Xh=typeof document>"u"?null:document;function R$(h,v,j){var _=Xh;if(_&&typeof v=="string"&&v){var D=Si(v);D='link[rel="'+h+'"][href="'+D+'"]',typeof j=="string"&&(D+='[crossorigin="'+j+'"]'),D$.has(D)||(D$.add(D),h={rel:h,crossOrigin:j,href:v},_.querySelector(D)===null&&(v=_.createElement("link"),Rs(v,"link",h),ms(v),_.head.appendChild(v)))}}function jue(h){Hl.D(h),R$("dns-prefetch",h,null)}function Eue(h,v){Hl.C(h,v),R$("preconnect",h,v)}function Nue(h,v,j){Hl.L(h,v,j);var _=Xh;if(_&&h&&v){var D='link[rel="preload"][as="'+Si(v)+'"]';v==="image"&&j&&j.imageSrcSet?(D+='[imagesrcset="'+Si(j.imageSrcSet)+'"]',typeof j.imageSizes=="string"&&(D+='[imagesizes="'+Si(j.imageSizes)+'"]')):D+='[href="'+Si(h)+'"]';var I=D;switch(v){case"style":I=Qh(h);break;case"script":I=Jh(h)}ki.has(I)||(h=l({rel:"preload",href:v==="image"&&j&&j.imageSrcSet?void 0:h,as:v},j),ki.set(I,h),_.querySelector(D)!==null||v==="style"&&_.querySelector(lx(I))||v==="script"&&_.querySelector(cx(I))||(v=_.createElement("link"),Rs(v,"link",h),ms(v),_.head.appendChild(v)))}}function _ue(h,v){Hl.m(h,v);var j=Xh;if(j&&h){var _=v&&typeof v.as=="string"?v.as:"script",D='link[rel="modulepreload"][as="'+Si(_)+'"][href="'+Si(h)+'"]',I=D;switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":I=Jh(h)}if(!ki.has(I)&&(h=l({rel:"modulepreload",href:h},v),ki.set(I,h),j.querySelector(D)===null)){switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(j.querySelector(cx(I)))return}_=j.createElement("link"),Rs(_,"link",h),ms(_),j.head.appendChild(_)}}}function Aue(h,v,j){Hl.S(h,v,j);var _=Xh;if(_&&h){var D=vh(_).hoistableStyles,I=Qh(h);v=v||"default";var U=D.get(I);if(!U){var G={loading:0,preload:null};if(U=_.querySelector(lx(I)))G.loading=5;else{h=l({rel:"stylesheet",href:h,"data-precedence":v},j),(j=ki.get(I))&&sk(h,j);var te=U=_.createElement("link");ms(te),Rs(te,"link",h),te._p=new Promise(function(we,De){te.onload=we,te.onerror=De}),te.addEventListener("load",function(){G.loading|=1}),te.addEventListener("error",function(){G.loading|=2}),G.loading|=4,$b(U,v,_)}U={type:"stylesheet",instance:U,count:1,state:G},D.set(I,U)}}}function kue(h,v){Hl.X(h,v);var j=Xh;if(j&&h){var _=vh(j).hoistableScripts,D=Jh(h),I=_.get(D);I||(I=j.querySelector(cx(D)),I||(h=l({src:h,async:!0},v),(v=ki.get(D))&&ak(h,v),I=j.createElement("script"),ms(I),Rs(I,"link",h),j.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},_.set(D,I))}}function Tue(h,v){Hl.M(h,v);var j=Xh;if(j&&h){var _=vh(j).hoistableScripts,D=Jh(h),I=_.get(D);I||(I=j.querySelector(cx(D)),I||(h=l({src:h,async:!0,type:"module"},v),(v=ki.get(D))&&ak(h,v),I=j.createElement("script"),ms(I),Rs(I,"link",h),j.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},_.set(D,I))}}function M$(h,v,j,_){var D=(D=me.current)?Bb(D):null;if(!D)throw Error(n(446));switch(h){case"meta":case"title":return null;case"style":return typeof j.precedence=="string"&&typeof j.href=="string"?(v=Qh(j.href),j=vh(D).hoistableStyles,_=j.get(v),_||(_={type:"style",instance:null,count:0,state:null},j.set(v,_)),_):{type:"void",instance:null,count:0,state:null};case"link":if(j.rel==="stylesheet"&&typeof j.href=="string"&&typeof j.precedence=="string"){h=Qh(j.href);var I=vh(D).hoistableStyles,U=I.get(h);if(U||(D=D.ownerDocument||D,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},I.set(h,U),(I=D.querySelector(lx(h)))&&!I._p&&(U.instance=I,U.state.loading=5),ki.has(h)||(j={rel:"preload",as:"style",href:j.href,crossOrigin:j.crossOrigin,integrity:j.integrity,media:j.media,hrefLang:j.hrefLang,referrerPolicy:j.referrerPolicy},ki.set(h,j),I||Pue(D,h,j,U.state))),v&&_===null)throw Error(n(528,""));return U}if(v&&_!==null)throw Error(n(529,""));return null;case"script":return v=j.async,j=j.src,typeof j=="string"&&v&&typeof v!="function"&&typeof v!="symbol"?(v=Jh(j),j=vh(D).hoistableScripts,_=j.get(v),_||(_={type:"script",instance:null,count:0,state:null},j.set(v,_)),_):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,h))}}function Qh(h){return'href="'+Si(h)+'"'}function lx(h){return'link[rel="stylesheet"]['+h+"]"}function O$(h){return l({},h,{"data-precedence":h.precedence,precedence:null})}function Pue(h,v,j,_){h.querySelector('link[rel="preload"][as="style"]['+v+"]")?_.loading=1:(v=h.createElement("link"),_.preload=v,v.addEventListener("load",function(){return _.loading|=1}),v.addEventListener("error",function(){return _.loading|=2}),Rs(v,"link",j),ms(v),h.head.appendChild(v))}function Jh(h){return'[src="'+Si(h)+'"]'}function cx(h){return"script[async]"+h}function I$(h,v,j){if(v.count++,v.instance===null)switch(v.type){case"style":var _=h.querySelector('style[data-href~="'+Si(j.href)+'"]');if(_)return v.instance=_,ms(_),_;var D=l({},j,{"data-href":j.href,"data-precedence":j.precedence,href:null,precedence:null});return _=(h.ownerDocument||h).createElement("style"),ms(_),Rs(_,"style",D),$b(_,j.precedence,h),v.instance=_;case"stylesheet":D=Qh(j.href);var I=h.querySelector(lx(D));if(I)return v.state.loading|=4,v.instance=I,ms(I),I;_=O$(j),(D=ki.get(D))&&sk(_,D),I=(h.ownerDocument||h).createElement("link"),ms(I);var U=I;return U._p=new Promise(function(G,te){U.onload=G,U.onerror=te}),Rs(I,"link",_),v.state.loading|=4,$b(I,j.precedence,h),v.instance=I;case"script":return I=Jh(j.src),(D=h.querySelector(cx(I)))?(v.instance=D,ms(D),D):(_=j,(D=ki.get(I))&&(_=l({},j),ak(_,D)),h=h.ownerDocument||h,D=h.createElement("script"),ms(D),Rs(D,"link",_),h.head.appendChild(D),v.instance=D);case"void":return null;default:throw Error(n(443,v.type))}else v.type==="stylesheet"&&(v.state.loading&4)===0&&(_=v.instance,v.state.loading|=4,$b(_,j.precedence,h));return v.instance}function $b(h,v,j){for(var _=j.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),D=_.length?_[_.length-1]:null,I=D,U=0;U<_.length;U++){var G=_[U];if(G.dataset.precedence===v)I=G;else if(I!==D)break}I?I.parentNode.insertBefore(h,I.nextSibling):(v=j.nodeType===9?j.head:j,v.insertBefore(h,v.firstChild))}function sk(h,v){h.crossOrigin==null&&(h.crossOrigin=v.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=v.referrerPolicy),h.title==null&&(h.title=v.title)}function ak(h,v){h.crossOrigin==null&&(h.crossOrigin=v.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=v.referrerPolicy),h.integrity==null&&(h.integrity=v.integrity)}var Fb=null;function L$(h,v,j){if(Fb===null){var _=new Map,D=Fb=new Map;D.set(j,_)}else D=Fb,_=D.get(j),_||(_=new Map,D.set(j,_));if(_.has(h))return _;for(_.set(h,null),j=j.getElementsByTagName(h),D=0;D<j.length;D++){var I=j[D];if(!(I[Sg]||I[Kn]||h==="link"&&I.getAttribute("rel")==="stylesheet")&&I.namespaceURI!=="http://www.w3.org/2000/svg"){var U=I.getAttribute(v)||"";U=h+U;var G=_.get(U);G?G.push(I):_.set(U,[I])}}return _}function B$(h,v,j){h=h.ownerDocument||h,h.head.insertBefore(j,v==="title"?h.querySelector("head > title"):null)}function Due(h,v,j){if(j===1||v.itemProp!=null)return!1;switch(h){case"meta":case"title":return!0;case"style":if(typeof v.precedence!="string"||typeof v.href!="string"||v.href==="")break;return!0;case"link":if(typeof v.rel!="string"||typeof v.href!="string"||v.href===""||v.onLoad||v.onError)break;switch(v.rel){case"stylesheet":return h=v.disabled,typeof v.precedence=="string"&&h==null;default:return!0}case"script":if(v.async&&typeof v.async!="function"&&typeof v.async!="symbol"&&!v.onLoad&&!v.onError&&v.src&&typeof v.src=="string")return!0}return!1}function $$(h){return!(h.type==="stylesheet"&&(h.state.loading&3)===0)}var dx=null;function Rue(){}function Mue(h,v,j){if(dx===null)throw Error(n(475));var _=dx;if(v.type==="stylesheet"&&(typeof j.media!="string"||matchMedia(j.media).matches!==!1)&&(v.state.loading&4)===0){if(v.instance===null){var D=Qh(j.href),I=h.querySelector(lx(D));if(I){h=I._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(_.count++,_=Hb.bind(_),h.then(_,_)),v.state.loading|=4,v.instance=I,ms(I);return}I=h.ownerDocument||h,j=O$(j),(D=ki.get(D))&&sk(j,D),I=I.createElement("link"),ms(I);var U=I;U._p=new Promise(function(G,te){U.onload=G,U.onerror=te}),Rs(I,"link",j),v.instance=I}_.stylesheets===null&&(_.stylesheets=new Map),_.stylesheets.set(v,h),(h=v.state.preload)&&(v.state.loading&3)===0&&(_.count++,v=Hb.bind(_),h.addEventListener("load",v),h.addEventListener("error",v))}}function Oue(){if(dx===null)throw Error(n(475));var h=dx;return h.stylesheets&&h.count===0&&ik(h,h.stylesheets),0<h.count?function(v){var j=setTimeout(function(){if(h.stylesheets&&ik(h,h.stylesheets),h.unsuspend){var _=h.unsuspend;h.unsuspend=null,_()}},6e4);return h.unsuspend=v,function(){h.unsuspend=null,clearTimeout(j)}}:null}function Hb(){if(this.count--,this.count===0){if(this.stylesheets)ik(this,this.stylesheets);else if(this.unsuspend){var h=this.unsuspend;this.unsuspend=null,h()}}}var zb=null;function ik(h,v){h.stylesheets=null,h.unsuspend!==null&&(h.count++,zb=new Map,v.forEach(Iue,h),zb=null,Hb.call(h))}function Iue(h,v){if(!(v.state.loading&4)){var j=zb.get(h);if(j)var _=j.get(null);else{j=new Map,zb.set(h,j);for(var D=h.querySelectorAll("link[data-precedence],style[data-precedence]"),I=0;I<D.length;I++){var U=D[I];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(j.set(U.dataset.precedence,U),_=U)}_&&j.set(null,_)}D=v.instance,U=D.getAttribute("data-precedence"),I=j.get(U)||_,I===_&&j.set(null,D),j.set(U,D),this.count++,_=Hb.bind(this),D.addEventListener("load",_),D.addEventListener("error",_),I?I.parentNode.insertBefore(D,I.nextSibling):(h=h.nodeType===9?h.head:h,h.insertBefore(D,h.firstChild)),v.state.loading|=4}}var ux={$$typeof:C,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function Lue(h,v,j,_,D,I,U,G){this.tag=1,this.containerInfo=h,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lr(0),this.hiddenUpdates=lr(null),this.identifierPrefix=_,this.onUncaughtError=D,this.onCaughtError=I,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function F$(h,v,j,_,D,I,U,G,te,we,De,Be){return h=new Lue(h,v,j,U,G,te,we,Be),v=1,I===!0&&(v|=24),I=Ha(3,null,null,v),h.current=I,I.stateNode=h,v=H_(),v.refCount++,h.pooledCache=v,v.refCount++,I.memoizedState={element:_,isDehydrated:j,cache:v},W_(I),h}function H$(h){return h?(h=Th,h):Th}function z$(h,v,j,_,D,I){D=H$(D),_.context===null?_.context=D:_.pendingContext=D,_=Kc(v),_.payload={element:j},I=I===void 0?null:I,I!==null&&(_.callback=I),j=Zc(h,_,v),j!==null&&(qa(j,h,v),Hg(j,h,v))}function U$(h,v){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var j=h.retryLane;h.retryLane=j!==0&&j<v?j:v}}function ok(h,v){U$(h,v),(h=h.alternate)&&U$(h,v)}function V$(h){if(h.tag===13){var v=kh(h,67108864);v!==null&&qa(v,h,67108864),ok(h,67108864)}}var Ub=!0;function Bue(h,v,j,_){var D=$.T;$.T=null;var I=z.p;try{z.p=2,lk(h,v,j,_)}finally{z.p=I,$.T=D}}function $ue(h,v,j,_){var D=$.T;$.T=null;var I=z.p;try{z.p=8,lk(h,v,j,_)}finally{z.p=I,$.T=D}}function lk(h,v,j,_){if(Ub){var D=ck(_);if(D===null)KA(h,v,_,Vb,j),q$(h,_);else if(Hue(D,h,v,j,_))_.stopPropagation();else if(q$(h,_),v&4&&-1<Fue.indexOf(h)){for(;D!==null;){var I=xh(D);if(I!==null)switch(I.tag){case 3:if(I=I.stateNode,I.current.memoizedState.isDehydrated){var U=Fn(I.pendingLanes);if(U!==0){var G=I;for(G.pendingLanes|=2,G.entangledLanes|=2;U;){var te=1<<31-Qe(U);G.entanglements[1]|=te,U&=~te}Lo(I),(Cr&6)===0&&(_b=rt()+500,sx(0))}}break;case 13:G=kh(I,2),G!==null&&qa(G,I,2),kb(),ok(I,2)}if(I=ck(_),I===null&&KA(h,v,_,Vb,j),I===D)break;D=I}D!==null&&_.stopPropagation()}else KA(h,v,_,null,j)}}function ck(h){return h=m_(h),dk(h)}var Vb=null;function dk(h){if(Vb=null,h=gh(h),h!==null){var v=i(h);if(v===null)h=null;else{var j=v.tag;if(j===13){if(h=o(v),h!==null)return h;h=null}else if(j===3){if(v.stateNode.current.memoizedState.isDehydrated)return v.tag===3?v.stateNode.containerInfo:null;h=null}else v!==h&&(h=null)}}return Vb=h,null}function W$(h){switch(h){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fe()){case Fe:return 2;case Q:return 8;case ne:case ce:return 32;case ze:return 268435456;default:return 32}default:return 32}}var uk=!1,dd=null,ud=null,fd=null,fx=new Map,hx=new Map,hd=[],Fue="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q$(h,v){switch(h){case"focusin":case"focusout":dd=null;break;case"dragenter":case"dragleave":ud=null;break;case"mouseover":case"mouseout":fd=null;break;case"pointerover":case"pointerout":fx.delete(v.pointerId);break;case"gotpointercapture":case"lostpointercapture":hx.delete(v.pointerId)}}function mx(h,v,j,_,D,I){return h===null||h.nativeEvent!==I?(h={blockedOn:v,domEventName:j,eventSystemFlags:_,nativeEvent:I,targetContainers:[D]},v!==null&&(v=xh(v),v!==null&&V$(v)),h):(h.eventSystemFlags|=_,v=h.targetContainers,D!==null&&v.indexOf(D)===-1&&v.push(D),h)}function Hue(h,v,j,_,D){switch(v){case"focusin":return dd=mx(dd,h,v,j,_,D),!0;case"dragenter":return ud=mx(ud,h,v,j,_,D),!0;case"mouseover":return fd=mx(fd,h,v,j,_,D),!0;case"pointerover":var I=D.pointerId;return fx.set(I,mx(fx.get(I)||null,h,v,j,_,D)),!0;case"gotpointercapture":return I=D.pointerId,hx.set(I,mx(hx.get(I)||null,h,v,j,_,D)),!0}return!1}function G$(h){var v=gh(h.target);if(v!==null){var j=i(v);if(j!==null){if(v=j.tag,v===13){if(v=o(j),v!==null){h.blockedOn=v,$y(h.priority,function(){if(j.tag===13){var _=Wa();_=Vc(_);var D=kh(j,_);D!==null&&qa(D,j,_),ok(j,_)}});return}}else if(v===3&&j.stateNode.current.memoizedState.isDehydrated){h.blockedOn=j.tag===3?j.stateNode.containerInfo:null;return}}}h.blockedOn=null}function Wb(h){if(h.blockedOn!==null)return!1;for(var v=h.targetContainers;0<v.length;){var j=ck(h.nativeEvent);if(j===null){j=h.nativeEvent;var _=new j.constructor(j.type,j);h_=_,j.target.dispatchEvent(_),h_=null}else return v=xh(j),v!==null&&V$(v),h.blockedOn=j,!1;v.shift()}return!0}function Y$(h,v,j){Wb(h)&&j.delete(v)}function zue(){uk=!1,dd!==null&&Wb(dd)&&(dd=null),ud!==null&&Wb(ud)&&(ud=null),fd!==null&&Wb(fd)&&(fd=null),fx.forEach(Y$),hx.forEach(Y$)}function qb(h,v){h.blockedOn===v&&(h.blockedOn=null,uk||(uk=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,zue)))}var Gb=null;function K$(h){Gb!==h&&(Gb=h,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Gb===h&&(Gb=null);for(var v=0;v<h.length;v+=3){var j=h[v],_=h[v+1],D=h[v+2];if(typeof _!="function"){if(dk(_||j)===null)continue;break}var I=xh(j);I!==null&&(h.splice(v,3),v-=3,dA(I,{pending:!0,data:D,method:j.method,action:_},_,D))}}))}function px(h){function v(te){return qb(te,h)}dd!==null&&qb(dd,h),ud!==null&&qb(ud,h),fd!==null&&qb(fd,h),fx.forEach(v),hx.forEach(v);for(var j=0;j<hd.length;j++){var _=hd[j];_.blockedOn===h&&(_.blockedOn=null)}for(;0<hd.length&&(j=hd[0],j.blockedOn===null);)G$(j),j.blockedOn===null&&hd.shift();if(j=(h.ownerDocument||h).$$reactFormReplay,j!=null)for(_=0;_<j.length;_+=3){var D=j[_],I=j[_+1],U=D[kr]||null;if(typeof I=="function")U||K$(j);else if(U){var G=null;if(I&&I.hasAttribute("formAction")){if(D=I,U=I[kr]||null)G=U.formAction;else if(dk(D)!==null)continue}else G=U.action;typeof G=="function"?j[_+1]=G:(j.splice(_,3),_-=3),K$(j)}}}function fk(h){this._internalRoot=h}Yb.prototype.render=fk.prototype.render=function(h){var v=this._internalRoot;if(v===null)throw Error(n(409));var j=v.current,_=Wa();z$(j,_,h,v,null,null)},Yb.prototype.unmount=fk.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var v=h.containerInfo;z$(h.current,2,null,h,null,null),kb(),v[ra]=null}};function Yb(h){this._internalRoot=h}Yb.prototype.unstable_scheduleHydration=function(h){if(h){var v=Wc();h={blockedOn:null,target:h,priority:v};for(var j=0;j<hd.length&&v!==0&&v<hd[j].priority;j++);hd.splice(j,0,h),j===0&&G$(h)}};var Z$=t.version;if(Z$!=="19.1.0")throw Error(n(527,Z$,"19.1.0"));z.findDOMNode=function(h){var v=h._reactInternals;if(v===void 0)throw typeof h.render=="function"?Error(n(188)):(h=Object.keys(h).join(","),Error(n(268,h)));return h=d(v),h=h!==null?u(h):null,h=h===null?null:h.stateNode,h};var Uue={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kb.isDisabled&&Kb.supportsFiber)try{se=Kb.inject(Uue),Ne=Kb}catch{}}return xx.createRoot=function(h,v){if(!s(h))throw Error(n(299));var j=!1,_="",D=fB,I=hB,U=mB,G=null;return v!=null&&(v.unstable_strictMode===!0&&(j=!0),v.identifierPrefix!==void 0&&(_=v.identifierPrefix),v.onUncaughtError!==void 0&&(D=v.onUncaughtError),v.onCaughtError!==void 0&&(I=v.onCaughtError),v.onRecoverableError!==void 0&&(U=v.onRecoverableError),v.unstable_transitionCallbacks!==void 0&&(G=v.unstable_transitionCallbacks)),v=F$(h,1,!1,null,null,j,_,D,I,U,G,null),h[ra]=v.current,YA(h),new fk(v)},xx.hydrateRoot=function(h,v,j){if(!s(h))throw Error(n(299));var _=!1,D="",I=fB,U=hB,G=mB,te=null,we=null;return j!=null&&(j.unstable_strictMode===!0&&(_=!0),j.identifierPrefix!==void 0&&(D=j.identifierPrefix),j.onUncaughtError!==void 0&&(I=j.onUncaughtError),j.onCaughtError!==void 0&&(U=j.onCaughtError),j.onRecoverableError!==void 0&&(G=j.onRecoverableError),j.unstable_transitionCallbacks!==void 0&&(te=j.unstable_transitionCallbacks),j.formState!==void 0&&(we=j.formState)),v=F$(h,1,!0,v,j??null,_,D,I,U,G,te,we),v.context=H$(null),j=v.current,_=Wa(),_=Vc(_),D=Kc(_),D.callback=null,Zc(j,D,_),j=_,v.current.lanes=j,yn(v,j),Lo(v),h[ra]=v.current,YA(h),new Yb(v)},xx.version="19.1.0",xx}var i6;function efe(){if(i6)return gk.exports;i6=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),gk.exports=Jue(),gk.exports}var tfe=efe(),bk={exports:{}},wk={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o6;function rfe(){if(o6)return wk;o6=1;var e=Yd();function t(d,u){return d===u&&(d!==0||1/d===1/u)||d!==d&&u!==u}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,s=e.useRef,i=e.useEffect,o=e.useMemo,c=e.useDebugValue;return wk.useSyncExternalStoreWithSelector=function(d,u,l,f,p){var g=s(null);if(g.current===null){var x={hasValue:!1,value:null};g.current=x}else x=g.current;g=o(function(){function m(N){if(!y){if(y=!0,w=N,N=f(N),p!==void 0&&x.hasValue){var k=x.value;if(p(k,N))return C=k}return C=N}if(k=C,r(w,N))return k;var A=f(N);return p!==void 0&&p(k,A)?(w=N,k):(w=N,C=A)}var y=!1,w,C,E=l===void 0?null:l;return[function(){return m(u())},E===null?void 0:function(){return m(E())}]},[u,l,f,p]);var S=n(d,g[0],g[1]);return i(function(){x.hasValue=!0,x.value=S},[S]),c(S),S},wk}var l6;function nfe(){return l6||(l6=1,bk.exports=rfe()),bk.exports}var sfe=nfe();function afe(e){e()}function ife(){let e=null,t=null;return{clear(){e=null,t=null},notify(){afe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var c6={notify(){},get:()=>[]};function ofe(e,t){let r,n=c6,s=0,i=!1;function o(S){l();const m=n.subscribe(S);let y=!1;return()=>{y||(y=!0,m(),f())}}function c(){n.notify()}function d(){x.onStateChange&&x.onStateChange()}function u(){return i}function l(){s++,r||(r=e.subscribe(d),n=ife())}function f(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=c6)}function p(){i||(i=!0,l())}function g(){i&&(i=!1,f())}const x={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:u,trySubscribe:p,tryUnsubscribe:g,getListeners:()=>n};return x}var lfe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cfe=lfe(),dfe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ufe=dfe(),ffe=()=>cfe||ufe?b.useLayoutEffect:b.useEffect,hfe=ffe(),mfe=Symbol.for("react-redux-context"),pfe=typeof globalThis<"u"?globalThis:{};function gfe(){if(!b.createContext)return{};const e=pfe[mfe]??=new Map;let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var Id=gfe();function xfe(e){const{children:t,context:r,serverState:n,store:s}=e,i=b.useMemo(()=>{const d=ofe(s);return{store:s,subscription:d,getServerState:n?()=>n:void 0}},[s,n]),o=b.useMemo(()=>s.getState(),[s]);hfe(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),o!==s.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,o]);const c=r||Id;return b.createElement(c.Provider,{value:i},t)}var kW=xfe;function uM(e=Id){return function(){return b.useContext(e)}}var TW=uM();function PW(e=Id){const t=e===Id?TW:uM(e),r=()=>{const{store:n}=t();return n};return Object.assign(r,{withTypes:()=>r}),r}var vfe=PW();function yfe(e=Id){const t=e===Id?vfe:PW(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var $t=yfe(),bfe=(e,t)=>e===t;function wfe(e=Id){const t=e===Id?TW:uM(e),r=(n,s={})=>{const{equalityFn:i=bfe}=typeof s=="function"?{equalityFn:s}:s,o=t(),{store:c,subscription:d,getServerState:u}=o;b.useRef(!0);const l=b.useCallback({[n.name](p){return n(p)}}[n.name],[n]),f=sfe.useSyncExternalStoreWithSelector(d.addNestedSub,c.getState,u||c.getState,l,i);return b.useDebugValue(f),f};return Object.assign(r,{withTypes:()=>r}),r}var pe=wfe();function Ms(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Sfe=typeof Symbol=="function"&&Symbol.observable||"@@observable",d6=Sfe,Sk=()=>Math.random().toString(36).substring(7).split("").join("."),Cfe={INIT:`@@redux/INIT${Sk()}`,REPLACE:`@@redux/REPLACE${Sk()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Sk()}`},XS=Cfe;function fM(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function DW(e,t,r){if(typeof e!="function")throw new Error(Ms(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ms(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ms(1));return r(DW)(e,t)}let n=e,s=t,i=new Map,o=i,c=0,d=!1;function u(){o===i&&(o=new Map,i.forEach((m,y)=>{o.set(y,m)}))}function l(){if(d)throw new Error(Ms(3));return s}function f(m){if(typeof m!="function")throw new Error(Ms(4));if(d)throw new Error(Ms(5));let y=!0;u();const w=c++;return o.set(w,m),function(){if(y){if(d)throw new Error(Ms(6));y=!1,u(),o.delete(w),i=null}}}function p(m){if(!fM(m))throw new Error(Ms(7));if(typeof m.type>"u")throw new Error(Ms(8));if(typeof m.type!="string")throw new Error(Ms(17));if(d)throw new Error(Ms(9));try{d=!0,s=n(s,m)}finally{d=!1}return(i=o).forEach(w=>{w()}),m}function g(m){if(typeof m!="function")throw new Error(Ms(10));n=m,p({type:XS.REPLACE})}function x(){const m=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Ms(11));function w(){const E=y;E.next&&E.next(l())}return w(),{unsubscribe:m(w)}},[d6](){return this}}}return p({type:XS.INIT}),{dispatch:p,subscribe:f,getState:l,replaceReducer:g,[d6]:x}}function jfe(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:XS.INIT})>"u")throw new Error(Ms(12));if(typeof r(void 0,{type:XS.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ms(13))})}function RW(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let s;try{jfe(r)}catch(i){s=i}return function(o={},c){if(s)throw s;let d=!1;const u={};for(let l=0;l<n.length;l++){const f=n[l],p=r[f],g=o[f],x=p(g,c);if(typeof x>"u")throw c&&c.type,new Error(Ms(14));u[f]=x,d=d||x!==g}return d=d||n.length!==Object.keys(o).length,d?u:o}}function QS(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Efe(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(Ms(15))};const o={getState:s.getState,dispatch:(d,...u)=>i(d,...u)},c=e.map(d=>d(o));return i=QS(...c)(s.dispatch),{...s,dispatch:i}}}function MW(e){return fM(e)&&"type"in e&&typeof e.type=="string"}var OW=Symbol.for("immer-nothing"),u6=Symbol.for("immer-draftable"),ci=Symbol.for("immer-state");function ho(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var sp=Object.getPrototypeOf;function jf(e){return!!e&&!!e[ci]}function hc(e){return e?IW(e)||Array.isArray(e)||!!e[u6]||!!e.constructor?.[u6]||Pj(e)||Dj(e):!1}var Nfe=Object.prototype.constructor.toString();function IW(e){if(!e||typeof e!="object")return!1;const t=sp(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Nfe}function JS(e,t){Tj(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Tj(e){const t=e[ci];return t?t.type_:Array.isArray(e)?1:Pj(e)?2:Dj(e)?3:0}function YP(e,t){return Tj(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function LW(e,t,r){const n=Tj(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function _fe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Pj(e){return e instanceof Map}function Dj(e){return e instanceof Set}function zu(e){return e.copy_||e.base_}function KP(e,t){if(Pj(e))return new Map(e);if(Dj(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=IW(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[ci];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const o=s[i],c=n[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(n[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[o]})}return Object.create(sp(e),n)}else{const n=sp(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function hM(e,t=!1){return Rj(e)||jf(e)||!hc(e)||(Tj(e)>1&&(e.set=e.add=e.clear=e.delete=Afe),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>hM(n,!0))),e}function Afe(){ho(2)}function Rj(e){return Object.isFrozen(e)}var kfe={};function Ef(e){const t=kfe[e];return t||ho(0,e),t}var Tv;function BW(){return Tv}function Tfe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function f6(e,t){t&&(Ef("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ZP(e){XP(e),e.drafts_.forEach(Pfe),e.drafts_=null}function XP(e){e===Tv&&(Tv=e.parent_)}function h6(e){return Tv=Tfe(Tv,e)}function Pfe(e){const t=e[ci];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function m6(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[ci].modified_&&(ZP(t),ho(4)),hc(e)&&(e=eC(t,e),t.parent_||tC(t,e)),t.patches_&&Ef("Patches").generateReplacementPatches_(r[ci].base_,e,t.patches_,t.inversePatches_)):e=eC(t,r,[]),ZP(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==OW?e:void 0}function eC(e,t,r){if(Rj(t))return t;const n=t[ci];if(!n)return JS(t,(s,i)=>p6(e,n,t,s,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return tC(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let i=s,o=!1;n.type_===3&&(i=new Set(s),s.clear(),o=!0),JS(i,(c,d)=>p6(e,n,s,c,d,r,o)),tC(e,s,!1),r&&e.patches_&&Ef("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function p6(e,t,r,n,s,i,o){if(jf(s)){const c=i&&t&&t.type_!==3&&!YP(t.assigned_,n)?i.concat(n):void 0,d=eC(e,s,c);if(LW(r,n,d),jf(d))e.canAutoFreeze_=!1;else return}else o&&r.add(s);if(hc(s)&&!Rj(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;eC(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&tC(e,s)}}function tC(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&hM(t,r)}function Dfe(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:BW(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=mM;r&&(s=[n],i=Pv);const{revoke:o,proxy:c}=Proxy.revocable(s,i);return n.draft_=c,n.revoke_=o,c}var mM={get(e,t){if(t===ci)return e;const r=zu(e);if(!YP(r,t))return Rfe(e,r,t);const n=r[t];return e.finalized_||!hc(n)?n:n===Ck(e.base_,t)?(jk(e),e.copy_[t]=JP(n,e)):n},has(e,t){return t in zu(e)},ownKeys(e){return Reflect.ownKeys(zu(e))},set(e,t,r){const n=$W(zu(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=Ck(zu(e),t),i=s?.[ci];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(_fe(r,s)&&(r!==void 0||YP(e.base_,t)))return!0;jk(e),QP(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ck(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,jk(e),QP(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=zu(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ho(11)},getPrototypeOf(e){return sp(e.base_)},setPrototypeOf(){ho(12)}},Pv={};JS(mM,(e,t)=>{Pv[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Pv.deleteProperty=function(e,t){return Pv.set.call(this,e,t,void 0)};Pv.set=function(e,t,r){return mM.set.call(this,e[0],t,r,e[0])};function Ck(e,t){const r=e[ci];return(r?zu(r):e)[t]}function Rfe(e,t,r){const n=$W(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function $W(e,t){if(!(t in e))return;let r=sp(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=sp(r)}}function QP(e){e.modified_||(e.modified_=!0,e.parent_&&QP(e.parent_))}function jk(e){e.copy_||(e.copy_=KP(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Mfe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(d=i,...u){return o.produce(d,l=>r.call(this,l,...u))}}typeof r!="function"&&ho(6),n!==void 0&&typeof n!="function"&&ho(7);let s;if(hc(t)){const i=h6(this),o=JP(t,void 0);let c=!0;try{s=r(o),c=!1}finally{c?ZP(i):XP(i)}return f6(i,n),m6(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===OW&&(s=void 0),this.autoFreeze_&&hM(s,!0),n){const i=[],o=[];Ef("Patches").generateReplacementPatches_(t,s,i,o),n(i,o)}return s}else ho(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...c)=>this.produceWithPatches(o,d=>t(d,...c));let n,s;return[this.produce(t,r,(o,c)=>{n=o,s=c}),n,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){hc(e)||ho(8),jf(e)&&(e=ic(e));const t=h6(this),r=JP(e,void 0);return r[ci].isManual_=!0,XP(t),r}finishDraft(e,t){const r=e&&e[ci];(!r||!r.isManual_)&&ho(9);const{scope_:n}=r;return f6(n,t),m6(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=Ef("Patches").applyPatches_;return jf(e)?n(e,t):this.produce(e,s=>n(s,t))}};function JP(e,t){const r=Pj(e)?Ef("MapSet").proxyMap_(e,t):Dj(e)?Ef("MapSet").proxySet_(e,t):Dfe(e,t);return(t?t.scope_:BW()).drafts_.push(r),r}function ic(e){return jf(e)||ho(10,e),FW(e)}function FW(e){if(!hc(e)||Rj(e))return e;const t=e[ci];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=KP(e,t.scope_.immer_.useStrictShallowCopy_)}else r=KP(e,!0);return JS(r,(n,s)=>{LW(r,n,FW(s))}),t&&(t.finalized_=!1),r}var di=new Mfe,HW=di.produce;di.produceWithPatches.bind(di);di.setAutoFreeze.bind(di);di.setUseStrictShallowCopy.bind(di);di.applyPatches.bind(di);di.createDraft.bind(di);di.finishDraft.bind(di);var rC=Symbol("NOT_FOUND");function Ofe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Ife(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Lfe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var g6=e=>Array.isArray(e)?e:[e];function Bfe(e){const t=Array.isArray(e[0])?e[0]:e;return Lfe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function $fe(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}function Ffe(e){let t;return{get(r){return t&&e(t.key,r)?t.value:rC},put(r,n){t={key:r,value:n}},getEntries(){return t?[t]:[]},clear(){t=void 0}}}function Hfe(e,t){let r=[];function n(c){const d=r.findIndex(u=>t(c,u.key));if(d>-1){const u=r[d];return d>0&&(r.splice(d,1),r.unshift(u)),u.value}return rC}function s(c,d){n(c)===rC&&(r.unshift({key:c,value:d}),r.length>e&&r.pop())}function i(){return r}function o(){r=[]}return{get:n,put:s,getEntries:i,clear:o}}var zfe=(e,t)=>e===t;function Ufe(e){return function(r,n){if(r===null||n===null||r.length!==n.length)return!1;const{length:s}=r;for(let i=0;i<s;i++)if(!e(r[i],n[i]))return!1;return!0}}function Vfe(e,t){const r=typeof t=="object"?t:{equalityCheck:t},{equalityCheck:n=zfe,maxSize:s=1,resultEqualityCheck:i}=r,o=Ufe(n);let c=0;const d=s<=1?Ffe(o):Hfe(s,o);function u(){let l=d.get(arguments);if(l===rC){if(l=e.apply(null,arguments),c++,i){const p=d.getEntries().find(g=>i(g.value,l));p&&(l=p.value,c!==0&&c--)}d.put(arguments,l)}return l}return u.clearCache=()=>{d.clear(),u.resetResultsCount()},u.resultsCount=()=>c,u.resetResultsCount=()=>{c=0},u}var Wfe=class{constructor(e){this.value=e}deref(){return this.value}},qfe=typeof WeakRef<"u"?WeakRef:Wfe,Gfe=0,x6=1;function Zb(){return{s:Gfe,v:void 0,o:null,p:null}}function zW(e,t={}){let r=Zb();const{resultEqualityCheck:n}=t;let s,i=0;function o(){let c=r;const{length:d}=arguments;for(let f=0,p=d;f<p;f++){const g=arguments[f];if(typeof g=="function"||typeof g=="object"&&g!==null){let x=c.o;x===null&&(c.o=x=new WeakMap);const S=x.get(g);S===void 0?(c=Zb(),x.set(g,c)):c=S}else{let x=c.p;x===null&&(c.p=x=new Map);const S=x.get(g);S===void 0?(c=Zb(),x.set(g,c)):c=S}}const u=c;let l;if(c.s===x6)l=c.v;else if(l=e.apply(null,arguments),i++,n){const f=s?.deref?.()??s;f!=null&&n(f,l)&&(l=f,i!==0&&i--),s=typeof l=="object"&&l!==null||typeof l=="function"?new qfe(l):l}return u.s=x6,u.v=l,l}return o.clearCache=()=>{r=Zb(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function UW(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let i=0,o=0,c,d={},u=s.pop();typeof u=="object"&&(d=u,u=s.pop()),Ofe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const l={...r,...d},{memoize:f,memoizeOptions:p=[],argsMemoize:g=zW,argsMemoizeOptions:x=[]}=l,S=g6(p),m=g6(x),y=Bfe(s),w=f(function(){return i++,u.apply(null,arguments)},...S),C=g(function(){o++;const N=$fe(y,arguments);return c=w.apply(null,N),c},...m);return Object.assign(C,{resultFunc:u,memoizedResultFunc:w,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>c,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var xe=UW(zW),Yfe=Object.assign((e,t=xe)=>{Ife(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,c,d)=>(o[r[d]]=c,o),{}))},{withTypes:()=>Yfe});function VW(e){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,e):s(i)}var Kfe=VW(),Zfe=VW,Xfe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?QS:QS.apply(null,arguments)},Qfe=e=>e&&typeof e.match=="function";function la(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(si(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>MW(n)&&n.type===e,r}var WW=class rv extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,rv.prototype)}static get[Symbol.species](){return rv}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new rv(...t[0].concat(this)):new rv(...t.concat(this))}};function v6(e){return hc(e)?HW(e,()=>{}):e}function Xb(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Jfe(e){return typeof e=="boolean"}var ehe=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new WW;return r&&(Jfe(r)?o.push(Kfe):o.push(Zfe(r.extraArgument))),o},the="RTK_autoBatch",y6=e=>t=>{setTimeout(t,e)},rhe=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,o=!1;const c=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:y6(10):e.type==="callback"?e.queueNotification:y6(e.timeout),u=()=>{o=!1,i&&(i=!1,c.forEach(l=>l()))};return Object.assign({},n,{subscribe(l){const f=()=>s&&l(),p=n.subscribe(f);return c.add(l),()=>{p(),c.delete(l)}},dispatch(l){try{return s=!l?.meta?.[the],i=!s,i&&(o||(o=!0,d(u))),n.dispatch(l)}finally{s=!0}}})},nhe=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new WW(e);return n&&s.push(rhe(typeof n=="object"?n:void 0)),s};function qW(e){const t=ehe(),{reducer:r=void 0,middleware:n,devTools:s=!0,duplicateMiddlewareCheck:i=!0,preloadedState:o=void 0,enhancers:c=void 0}=e||{};let d;if(typeof r=="function")d=r;else if(fM(r))d=RW(r);else throw new Error(si(1));let u;typeof n=="function"?u=n(t):u=t();let l=QS;s&&(l=Xfe({trace:!1,...typeof s=="object"&&s}));const f=Efe(...u),p=nhe(f);let g=typeof c=="function"?c(p):p();const x=l(...g);return DW(d,o,x)}function GW(e){const t={},r=[];let n;const s={addCase(i,o){const c=typeof i=="string"?i:i.type;if(!c)throw new Error(si(28));if(c in t)throw new Error(si(29));return t[c]=o,s},addMatcher(i,o){return r.push({matcher:i,reducer:o}),s},addDefaultCase(i){return n=i,s}};return e(s),[t,r,n]}function she(e){return typeof e=="function"}function ahe(e,t){let[r,n,s]=GW(t),i;if(she(e))i=()=>v6(e());else{const c=v6(e);i=()=>c}function o(c=i(),d){let u=[r[d.type],...n.filter(({matcher:l})=>l(d)).map(({reducer:l})=>l)];return u.filter(l=>!!l).length===0&&(u=[s]),u.reduce((l,f)=>{if(f)if(jf(l)){const g=f(l,d);return g===void 0?l:g}else{if(hc(l))return HW(l,p=>f(p,d));{const p=f(l,d);if(p===void 0){if(l===null)return l;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return l},c)}return o.getInitialState=i,o}var ihe=(e,t)=>Qfe(e)?e.match(t):e(t);function ohe(...e){return t=>e.some(r=>ihe(r,t))}var lhe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",YW=(e=21)=>{let t="",r=e;for(;r--;)t+=lhe[Math.random()*64|0];return t},che=["name","message","stack","code"],Ek=class{constructor(e,t){this.payload=e,this.meta=t}_type},b6=class{constructor(e,t){this.payload=e,this.meta=t}_type},dhe=e=>{if(typeof e=="object"&&e!==null){const t={};for(const r of che)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},w6="External signal was aborted",He=(()=>{function e(t,r,n){const s=la(t+"/fulfilled",(d,u,l,f)=>({payload:d,meta:{...f||{},arg:l,requestId:u,requestStatus:"fulfilled"}})),i=la(t+"/pending",(d,u,l)=>({payload:void 0,meta:{...l||{},arg:u,requestId:d,requestStatus:"pending"}})),o=la(t+"/rejected",(d,u,l,f,p)=>({payload:f,error:(n&&n.serializeError||dhe)(d||"Rejected"),meta:{...p||{},arg:l,requestId:u,rejectedWithValue:!!f,requestStatus:"rejected",aborted:d?.name==="AbortError",condition:d?.name==="ConditionError"}}));function c(d,{signal:u}={}){return(l,f,p)=>{const g=n?.idGenerator?n.idGenerator(d):YW(),x=new AbortController;let S,m;function y(C){m=C,x.abort()}u&&(u.aborted?y(w6):u.addEventListener("abort",()=>y(w6),{once:!0}));const w=async function(){let C;try{let N=n?.condition?.(d,{getState:f,extra:p});if(uhe(N)&&(N=await N),N===!1||x.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const k=new Promise((A,T)=>{S=()=>{T({name:"AbortError",message:m||"Aborted"})},x.signal.addEventListener("abort",S)});l(i(g,d,n?.getPendingMeta?.({requestId:g,arg:d},{getState:f,extra:p}))),C=await Promise.race([k,Promise.resolve(r(d,{dispatch:l,getState:f,extra:p,requestId:g,signal:x.signal,abort:y,rejectWithValue:(A,T)=>new Ek(A,T),fulfillWithValue:(A,T)=>new b6(A,T)})).then(A=>{if(A instanceof Ek)throw A;return A instanceof b6?s(A.payload,g,d,A.meta):s(A,g,d)})])}catch(N){C=N instanceof Ek?o(null,g,d,N.payload,N.meta):o(N,g,d)}finally{S&&x.signal.removeEventListener("abort",S)}return n&&!n.dispatchConditionRejection&&o.match(C)&&C.meta.condition||l(C),C}();return Object.assign(w,{abort:y,requestId:g,arg:d,unwrap(){return w.then(Ys)}})}}return Object.assign(c,{pending:i,rejected:o,fulfilled:s,settled:ohe(o,s),typePrefix:t})}return e.withTypes=()=>e,e})();function Ys(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function uhe(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var fhe=Symbol.for("rtk-slice-createasyncthunk");function hhe(e,t){return`${e}/${t}`}function mhe({creators:e}={}){const t=e?.asyncThunk?.[fhe];return function(n){const{name:s,reducerPath:i=s}=n;if(!s)throw new Error(si(11));const o=(typeof n.reducers=="function"?n.reducers(ghe()):n.reducers)||{},c=Object.keys(o),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(C,E){const N=typeof C=="string"?C:C.type;if(!N)throw new Error(si(12));if(N in d.sliceCaseReducersByType)throw new Error(si(13));return d.sliceCaseReducersByType[N]=E,u},addMatcher(C,E){return d.sliceMatchers.push({matcher:C,reducer:E}),u},exposeAction(C,E){return d.actionCreators[C]=E,u},exposeCaseReducer(C,E){return d.sliceCaseReducersByName[C]=E,u}};c.forEach(C=>{const E=o[C],N={reducerName:C,type:hhe(s,C),createNotation:typeof n.reducers=="function"};vhe(E)?bhe(N,E,u,t):xhe(N,E,u)});function l(){const[C={},E=[],N=void 0]=typeof n.extraReducers=="function"?GW(n.extraReducers):[n.extraReducers],k={...C,...d.sliceCaseReducersByType};return ahe(n.initialState,A=>{for(let T in k)A.addCase(T,k[T]);for(let T of d.sliceMatchers)A.addMatcher(T.matcher,T.reducer);for(let T of E)A.addMatcher(T.matcher,T.reducer);N&&A.addDefaultCase(N)})}const f=C=>C,p=new Map,g=new WeakMap;let x;function S(C,E){return x||(x=l()),x(C,E)}function m(){return x||(x=l()),x.getInitialState()}function y(C,E=!1){function N(A){let T=A[C];return typeof T>"u"&&E&&(T=Xb(g,N,m)),T}function k(A=f){const T=Xb(p,E,()=>new WeakMap);return Xb(T,A,()=>{const P={};for(const[M,O]of Object.entries(n.selectors??{}))P[M]=phe(O,A,()=>Xb(g,A,m),E);return P})}return{reducerPath:C,getSelectors:k,get selectors(){return k(N)},selectSlice:N}}const w={name:s,reducer:S,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:m,...y(i),injectInto(C,{reducerPath:E,...N}={}){const k=E??i;return C.inject({reducerPath:k,reducer:S},N),{...w,...y(k,!0)}}};return w}}function phe(e,t,r,n){function s(i,...o){let c=t(i);return typeof c>"u"&&n&&(c=r()),e(c,...o)}return s.unwrapped=e,s}var nr=mhe();function ghe(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function xhe({type:e,reducerName:t,createNotation:r},n,s){let i,o;if("reducer"in n){if(r&&!yhe(n))throw new Error(si(17));i=n.reducer,o=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?la(e,o):la(e))}function vhe(e){return e._reducerDefinitionType==="asyncThunk"}function yhe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function bhe({type:e,reducerName:t},r,n,s){if(!s)throw new Error(si(18));const{payloadCreator:i,fulfilled:o,pending:c,rejected:d,settled:u,options:l}=r,f=s(e,i,l);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),c&&n.addCase(f.pending,c),d&&n.addCase(f.rejected,d),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:o||Qb,pending:c||Qb,rejected:d||Qb,settled:u||Qb})}function Qb(){}var whe="task",KW="listener",ZW="completed",pM="cancelled",She=`task-${pM}`,Che=`task-${ZW}`,eD=`${KW}-${pM}`,jhe=`${KW}-${ZW}`,Mj=class{constructor(e){this.code=e,this.message=`${whe} ${pM} (reason: ${e})`}name="TaskAbortError";message},gM=(e,t)=>{if(typeof e!="function")throw new TypeError(si(32))},nC=()=>{},XW=(e,t=nC)=>(e.catch(t),e),QW=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),cf=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},df=e=>{if(e.aborted){const{reason:t}=e;throw new Mj(t)}};function JW(e,t){let r=nC;return new Promise((n,s)=>{const i=()=>s(new Mj(e.reason));if(e.aborted){i();return}r=QW(e,i),t.finally(()=>r()).then(n,s)}).finally(()=>{r=nC})}var Ehe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Mj?"cancelled":"rejected",error:r}}finally{t?.()}},sC=e=>t=>XW(JW(e,t).then(r=>(df(e),r))),eq=e=>{const t=sC(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Vm}=Object,S6={},Oj="listenerMiddleware",Nhe=(e,t)=>{const r=n=>QW(e,()=>cf(n,e.reason));return(n,s)=>{gM(n);const i=new AbortController;r(i);const o=Ehe(async()=>{df(e),df(i.signal);const c=await n({pause:sC(i.signal),delay:eq(i.signal),signal:i.signal});return df(i.signal),c},()=>cf(i,Che));return s?.autoJoin&&t.push(o.catch(nC)),{result:sC(e)(o),cancel(){cf(i,She)}}}},_he=(e,t)=>{const r=async(n,s)=>{df(t);let i=()=>{};const c=[new Promise((d,u)=>{let l=e({predicate:n,effect:(f,p)=>{p.unsubscribe(),d([f,p.getState(),p.getOriginalState()])}});i=()=>{l(),u()}})];s!=null&&c.push(new Promise(d=>setTimeout(d,s,null)));try{const d=await JW(t,Promise.race(c));return df(t),d}finally{i()}};return(n,s)=>XW(r(n,s))},tq=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:i}=e;if(t)s=la(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(si(21));return gM(i),{predicate:s,type:t,effect:i}},rq=Vm(e=>{const{type:t,predicate:r,effect:n}=tq(e);return{id:YW(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(si(22))}}},{withTypes:()=>rq}),C6=(e,t)=>{const{type:r,effect:n,predicate:s}=tq(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===s)&&i.effect===n)},tD=e=>{e.pending.forEach(t=>{cf(t,eD)})},Ahe=e=>()=>{e.forEach(tD),e.clear()},j6=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},nq=Vm(la(`${Oj}/add`),{withTypes:()=>nq}),khe=la(`${Oj}/removeAll`),sq=Vm(la(`${Oj}/remove`),{withTypes:()=>sq}),The=(...e)=>{console.error(`${Oj}/error`,...e)},f0=(e={})=>{const t=new Map,{extra:r,onError:n=The}=e;gM(n);const s=l=>(l.unsubscribe=()=>t.delete(l.id),t.set(l.id,l),f=>{l.unsubscribe(),f?.cancelActive&&tD(l)}),i=l=>{const f=C6(t,l)??rq(l);return s(f)};Vm(i,{withTypes:()=>i});const o=l=>{const f=C6(t,l);return f&&(f.unsubscribe(),l.cancelActive&&tD(f)),!!f};Vm(o,{withTypes:()=>o});const c=async(l,f,p,g)=>{const x=new AbortController,S=_he(i,x.signal),m=[];try{l.pending.add(x),await Promise.resolve(l.effect(f,Vm({},p,{getOriginalState:g,condition:(y,w)=>S(y,w).then(Boolean),take:S,delay:eq(x.signal),pause:sC(x.signal),extra:r,signal:x.signal,fork:Nhe(x.signal,m),unsubscribe:l.unsubscribe,subscribe:()=>{t.set(l.id,l)},cancelActiveListeners:()=>{l.pending.forEach((y,w,C)=>{y!==x&&(cf(y,eD),C.delete(y))})},cancel:()=>{cf(x,eD),l.pending.delete(x)},throwIfCancelled:()=>{df(x.signal)}})))}catch(y){y instanceof Mj||j6(n,y,{raisedBy:"effect"})}finally{await Promise.all(m),cf(x,jhe),l.pending.delete(x)}},d=Ahe(t);return{middleware:l=>f=>p=>{if(!MW(p))return f(p);if(nq.match(p))return i(p.payload);if(khe.match(p)){d();return}if(sq.match(p))return o(p.payload);let g=l.getState();const x=()=>{if(g===S6)throw new Error(si(23));return g};let S;try{if(S=f(p),t.size>0){const m=l.getState(),y=Array.from(t.values());for(const w of y){let C=!1;try{C=w.predicate(p,m,g)}catch(E){C=!1,j6(n,E,{raisedBy:"predicate"})}C&&c(w,p,l,x)}}}finally{g=S6}return S},startListening:i,stopListening:o,clearListeners:d}};function si(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function aq(e,t){return function(){return e.apply(t,arguments)}}const{toString:Phe}=Object.prototype,{getPrototypeOf:xM}=Object,{iterator:Ij,toStringTag:iq}=Symbol,Lj=(e=>t=>{const r=Phe.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),So=e=>(e=e.toLowerCase(),t=>Lj(t)===e),Bj=e=>t=>typeof t===e,{isArray:Mp}=Array,Dv=Bj("undefined");function h0(e){return e!==null&&!Dv(e)&&e.constructor!==null&&!Dv(e.constructor)&&_a(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const oq=So("ArrayBuffer");function Dhe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&oq(e.buffer),t}const Rhe=Bj("string"),_a=Bj("function"),lq=Bj("number"),m0=e=>e!==null&&typeof e=="object",Mhe=e=>e===!0||e===!1,Vw=e=>{if(Lj(e)!=="object")return!1;const t=xM(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(iq in e)&&!(Ij in e)},Ohe=e=>{if(!m0(e)||h0(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Ihe=So("Date"),Lhe=So("File"),Bhe=So("Blob"),$he=So("FileList"),Fhe=e=>m0(e)&&_a(e.pipe),Hhe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||_a(e.append)&&((t=Lj(e))==="formdata"||t==="object"&&_a(e.toString)&&e.toString()==="[object FormData]"))},zhe=So("URLSearchParams"),[Uhe,Vhe,Whe,qhe]=["ReadableStream","Request","Response","Headers"].map(So),Ghe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function p0(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Mp(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(h0(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let c;for(n=0;n<o;n++)c=i[n],t.call(null,e[c],c,e)}}function cq(e,t){if(h0(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Qu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dq=e=>!Dv(e)&&e!==Qu;function rD(){const{caseless:e}=dq(this)&&this||{},t={},r=(n,s)=>{const i=e&&cq(t,s)||s;Vw(t[i])&&Vw(n)?t[i]=rD(t[i],n):Vw(n)?t[i]=rD({},n):Mp(n)?t[i]=n.slice():t[i]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&p0(arguments[n],r);return t}const Yhe=(e,t,r,{allOwnKeys:n}={})=>(p0(t,(s,i)=>{r&&_a(s)?e[i]=aq(s,r):e[i]=s},{allOwnKeys:n}),e),Khe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Zhe=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Xhe=(e,t,r,n)=>{let s,i,o;const c={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!c[o]&&(t[o]=e[o],c[o]=!0);e=r!==!1&&xM(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Qhe=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Jhe=e=>{if(!e)return null;if(Mp(e))return e;let t=e.length;if(!lq(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},eme=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&xM(Uint8Array)),tme=(e,t)=>{const n=(e&&e[Ij]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},rme=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},nme=So("HTMLFormElement"),sme=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),E6=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),ame=So("RegExp"),uq=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};p0(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},ime=e=>{uq(e,(t,r)=>{if(_a(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(_a(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},ome=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return Mp(e)?n(e):n(String(e).split(t)),r},lme=()=>{},cme=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function dme(e){return!!(e&&_a(e.append)&&e[iq]==="FormData"&&e[Ij])}const ume=e=>{const t=new Array(10),r=(n,s)=>{if(m0(n)){if(t.indexOf(n)>=0)return;if(h0(n))return n;if(!("toJSON"in n)){t[s]=n;const i=Mp(n)?[]:{};return p0(n,(o,c)=>{const d=r(o,s+1);!Dv(d)&&(i[c]=d)}),t[s]=void 0,i}}return n};return r(e,0)},fme=So("AsyncFunction"),hme=e=>e&&(m0(e)||_a(e))&&_a(e.then)&&_a(e.catch),fq=((e,t)=>e?setImmediate:t?((r,n)=>(Qu.addEventListener("message",({source:s,data:i})=>{s===Qu&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Qu.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",_a(Qu.postMessage)),mme=typeof queueMicrotask<"u"?queueMicrotask.bind(Qu):typeof process<"u"&&process.nextTick||fq,pme=e=>e!=null&&_a(e[Ij]),_e={isArray:Mp,isArrayBuffer:oq,isBuffer:h0,isFormData:Hhe,isArrayBufferView:Dhe,isString:Rhe,isNumber:lq,isBoolean:Mhe,isObject:m0,isPlainObject:Vw,isEmptyObject:Ohe,isReadableStream:Uhe,isRequest:Vhe,isResponse:Whe,isHeaders:qhe,isUndefined:Dv,isDate:Ihe,isFile:Lhe,isBlob:Bhe,isRegExp:ame,isFunction:_a,isStream:Fhe,isURLSearchParams:zhe,isTypedArray:eme,isFileList:$he,forEach:p0,merge:rD,extend:Yhe,trim:Ghe,stripBOM:Khe,inherits:Zhe,toFlatObject:Xhe,kindOf:Lj,kindOfTest:So,endsWith:Qhe,toArray:Jhe,forEachEntry:tme,matchAll:rme,isHTMLForm:nme,hasOwnProperty:E6,hasOwnProp:E6,reduceDescriptors:uq,freezeMethods:ime,toObjectSet:ome,toCamelCase:sme,noop:lme,toFiniteNumber:cme,findKey:cq,global:Qu,isContextDefined:dq,isSpecCompliantForm:dme,toJSONObject:ume,isAsyncFn:fme,isThenable:hme,setImmediate:fq,asap:mme,isIterable:pme};function Mt(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}_e.inherits(Mt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_e.toJSONObject(this.config),code:this.code,status:this.status}}});const hq=Mt.prototype,mq={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{mq[e]={value:e}});Object.defineProperties(Mt,mq);Object.defineProperty(hq,"isAxiosError",{value:!0});Mt.from=(e,t,r,n,s,i)=>{const o=Object.create(hq);return _e.toFlatObject(e,o,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),Mt.call(o,e.message,t,r,n,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const gme=null;function nD(e){return _e.isPlainObject(e)||_e.isArray(e)}function pq(e){return _e.endsWith(e,"[]")?e.slice(0,-2):e}function N6(e,t,r){return e?e.concat(t).map(function(s,i){return s=pq(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function xme(e){return _e.isArray(e)&&!e.some(nD)}const vme=_e.toFlatObject(_e,{},null,function(t){return/^is[A-Z]/.test(t)});function $j(e,t,r){if(!_e.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=_e.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,m){return!_e.isUndefined(m[S])});const n=r.metaTokens,s=r.visitor||l,i=r.dots,o=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&_e.isSpecCompliantForm(t);if(!_e.isFunction(s))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(_e.isDate(x))return x.toISOString();if(_e.isBoolean(x))return x.toString();if(!d&&_e.isBlob(x))throw new Mt("Blob is not supported. Use a Buffer instead.");return _e.isArrayBuffer(x)||_e.isTypedArray(x)?d&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function l(x,S,m){let y=x;if(x&&!m&&typeof x=="object"){if(_e.endsWith(S,"{}"))S=n?S:S.slice(0,-2),x=JSON.stringify(x);else if(_e.isArray(x)&&xme(x)||(_e.isFileList(x)||_e.endsWith(S,"[]"))&&(y=_e.toArray(x)))return S=pq(S),y.forEach(function(C,E){!(_e.isUndefined(C)||C===null)&&t.append(o===!0?N6([S],E,i):o===null?S:S+"[]",u(C))}),!1}return nD(x)?!0:(t.append(N6(m,S,i),u(x)),!1)}const f=[],p=Object.assign(vme,{defaultVisitor:l,convertValue:u,isVisitable:nD});function g(x,S){if(!_e.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+S.join("."));f.push(x),_e.forEach(x,function(y,w){(!(_e.isUndefined(y)||y===null)&&s.call(t,y,_e.isString(w)?w.trim():w,S,p))===!0&&g(y,S?S.concat(w):[w])}),f.pop()}}if(!_e.isObject(e))throw new TypeError("data must be an object");return g(e),t}function _6(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function vM(e,t){this._pairs=[],e&&$j(e,this,t)}const gq=vM.prototype;gq.append=function(t,r){this._pairs.push([t,r])};gq.toString=function(t){const r=t?function(n){return t.call(this,n,_6)}:_6;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function yme(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function xq(e,t,r){if(!t)return e;const n=r&&r.encode||yme;_e.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=_e.isURLSearchParams(t)?t.toString():new vM(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class A6{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){_e.forEach(this.handlers,function(n){n!==null&&t(n)})}}const vq={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bme=typeof URLSearchParams<"u"?URLSearchParams:vM,wme=typeof FormData<"u"?FormData:null,Sme=typeof Blob<"u"?Blob:null,Cme={isBrowser:!0,classes:{URLSearchParams:bme,FormData:wme,Blob:Sme},protocols:["http","https","file","blob","url","data"]},yM=typeof window<"u"&&typeof document<"u",sD=typeof navigator=="object"&&navigator||void 0,jme=yM&&(!sD||["ReactNative","NativeScript","NS"].indexOf(sD.product)<0),Eme=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Nme=yM&&window.location.href||"http://localhost",_me=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yM,hasStandardBrowserEnv:jme,hasStandardBrowserWebWorkerEnv:Eme,navigator:sD,origin:Nme},Symbol.toStringTag,{value:"Module"})),Ks={..._me,...Cme};function Ame(e,t){return $j(e,new Ks.classes.URLSearchParams,{visitor:function(r,n,s,i){return Ks.isNode&&_e.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function kme(e){return _e.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Tme(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function yq(e){function t(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),d=i>=r.length;return o=!o&&_e.isArray(s)?s.length:o,d?(_e.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!c):((!s[o]||!_e.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],i)&&_e.isArray(s[o])&&(s[o]=Tme(s[o])),!c)}if(_e.isFormData(e)&&_e.isFunction(e.entries)){const r={};return _e.forEachEntry(e,(n,s)=>{t(kme(n),s,r,0)}),r}return null}function Pme(e,t,r){if(_e.isString(e))try{return(t||JSON.parse)(e),_e.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const g0={transitional:vq,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=_e.isObject(t);if(i&&_e.isHTMLForm(t)&&(t=new FormData(t)),_e.isFormData(t))return s?JSON.stringify(yq(t)):t;if(_e.isArrayBuffer(t)||_e.isBuffer(t)||_e.isStream(t)||_e.isFile(t)||_e.isBlob(t)||_e.isReadableStream(t))return t;if(_e.isArrayBufferView(t))return t.buffer;if(_e.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Ame(t,this.formSerializer).toString();if((c=_e.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return $j(c?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),Pme(t)):t}],transformResponse:[function(t){const r=this.transitional||g0.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(_e.isResponse(t)||_e.isReadableStream(t))return t;if(t&&_e.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(c){if(o)throw c.name==="SyntaxError"?Mt.from(c,Mt.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ks.classes.FormData,Blob:Ks.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_e.forEach(["delete","get","head","post","put","patch"],e=>{g0.headers[e]={}});const Dme=_e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Rme=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&Dme[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},k6=Symbol("internals");function vx(e){return e&&String(e).trim().toLowerCase()}function Ww(e){return e===!1||e==null?e:_e.isArray(e)?e.map(Ww):String(e)}function Mme(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Ome=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Nk(e,t,r,n,s){if(_e.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!_e.isString(t)){if(_e.isString(n))return t.indexOf(n)!==-1;if(_e.isRegExp(n))return n.test(t)}}function Ime(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Lme(e,t){const r=_e.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}let Aa=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(c,d,u){const l=vx(d);if(!l)throw new Error("header name must be a non-empty string");const f=_e.findKey(s,l);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||d]=Ww(c))}const o=(c,d)=>_e.forEach(c,(u,l)=>i(u,l,d));if(_e.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(_e.isString(t)&&(t=t.trim())&&!Ome(t))o(Rme(t),r);else if(_e.isObject(t)&&_e.isIterable(t)){let c={},d,u;for(const l of t){if(!_e.isArray(l))throw TypeError("Object iterator must return a key-value pair");c[u=l[0]]=(d=c[u])?_e.isArray(d)?[...d,l[1]]:[d,l[1]]:l[1]}o(c,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=vx(t),t){const n=_e.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return Mme(s);if(_e.isFunction(r))return r.call(this,s,n);if(_e.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=vx(t),t){const n=_e.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Nk(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(o){if(o=vx(o),o){const c=_e.findKey(n,o);c&&(!r||Nk(n,n[c],c,r))&&(delete n[c],s=!0)}}return _e.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||Nk(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return _e.forEach(this,(s,i)=>{const o=_e.findKey(n,i);if(o){r[o]=Ww(s),delete r[i];return}const c=t?Ime(i):String(i).trim();c!==i&&delete r[i],r[c]=Ww(s),n[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return _e.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&_e.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[k6]=this[k6]={accessors:{}}).accessors,s=this.prototype;function i(o){const c=vx(o);n[c]||(Lme(s,o),n[c]=!0)}return _e.isArray(t)?t.forEach(i):i(t),this}};Aa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_e.reduceDescriptors(Aa.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});_e.freezeMethods(Aa);function _k(e,t){const r=this||g0,n=t||r,s=Aa.from(n.headers);let i=n.data;return _e.forEach(e,function(c){i=c.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function bq(e){return!!(e&&e.__CANCEL__)}function Op(e,t,r){Mt.call(this,e??"canceled",Mt.ERR_CANCELED,t,r),this.name="CanceledError"}_e.inherits(Op,Mt,{__CANCEL__:!0});function wq(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Mt("Request failed with status code "+r.status,[Mt.ERR_BAD_REQUEST,Mt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Bme(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function $me(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(d){const u=Date.now(),l=n[i];o||(o=u),r[s]=d,n[s]=u;let f=i,p=0;for(;f!==s;)p+=r[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const g=l&&u-l;return g?Math.round(p*1e3/g):void 0}}function Fme(e,t){let r=0,n=1e3/t,s,i;const o=(u,l=Date.now())=>{r=l,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const l=Date.now(),f=l-r;f>=n?o(u,l):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},n-f)))},()=>s&&o(s)]}const aC=(e,t,r=3)=>{let n=0;const s=$me(50,250);return Fme(i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,d=o-n,u=s(d),l=o<=c;n=o;const f={loaded:o,total:c,progress:c?o/c:void 0,bytes:d,rate:u||void 0,estimated:u&&c&&l?(c-o)/u:void 0,event:i,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(f)},r)},T6=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},P6=e=>(...t)=>_e.asap(()=>e(...t)),Hme=Ks.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ks.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ks.origin),Ks.navigator&&/(msie|trident)/i.test(Ks.navigator.userAgent)):()=>!0,zme=Ks.hasStandardBrowserEnv?{write(e,t,r,n,s,i){const o=[e+"="+encodeURIComponent(t)];_e.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),_e.isString(n)&&o.push("path="+n),_e.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ume(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Vme(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Sq(e,t,r){let n=!Ume(t);return e&&(n||r==!1)?Vme(e,t):t}const D6=e=>e instanceof Aa?{...e}:e;function Nf(e,t){t=t||{};const r={};function n(u,l,f,p){return _e.isPlainObject(u)&&_e.isPlainObject(l)?_e.merge.call({caseless:p},u,l):_e.isPlainObject(l)?_e.merge({},l):_e.isArray(l)?l.slice():l}function s(u,l,f,p){if(_e.isUndefined(l)){if(!_e.isUndefined(u))return n(void 0,u,f,p)}else return n(u,l,f,p)}function i(u,l){if(!_e.isUndefined(l))return n(void 0,l)}function o(u,l){if(_e.isUndefined(l)){if(!_e.isUndefined(u))return n(void 0,u)}else return n(void 0,l)}function c(u,l,f){if(f in t)return n(u,l);if(f in e)return n(void 0,u)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(u,l,f)=>s(D6(u),D6(l),f,!0)};return _e.forEach(Object.keys({...e,...t}),function(l){const f=d[l]||s,p=f(e[l],t[l],l);_e.isUndefined(p)&&f!==c||(r[l]=p)}),r}const Cq=e=>{const t=Nf({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:c}=t;t.headers=o=Aa.from(o),t.url=xq(Sq(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(_e.isFormData(r)){if(Ks.hasStandardBrowserEnv||Ks.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((d=o.getContentType())!==!1){const[u,...l]=d?d.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...l].join("; "))}}if(Ks.hasStandardBrowserEnv&&(n&&_e.isFunction(n)&&(n=n(t)),n||n!==!1&&Hme(t.url))){const u=s&&i&&zme.read(i);u&&o.set(s,u)}return t},Wme=typeof XMLHttpRequest<"u",qme=Wme&&function(e){return new Promise(function(r,n){const s=Cq(e);let i=s.data;const o=Aa.from(s.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:u}=s,l,f,p,g,x;function S(){g&&g(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(l),s.signal&&s.signal.removeEventListener("abort",l)}let m=new XMLHttpRequest;m.open(s.method.toUpperCase(),s.url,!0),m.timeout=s.timeout;function y(){if(!m)return;const C=Aa.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),N={data:!c||c==="text"||c==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:C,config:e,request:m};wq(function(A){r(A),S()},function(A){n(A),S()},N),m=null}"onloadend"in m?m.onloadend=y:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(y)},m.onabort=function(){m&&(n(new Mt("Request aborted",Mt.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new Mt("Network Error",Mt.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let E=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const N=s.transitional||vq;s.timeoutErrorMessage&&(E=s.timeoutErrorMessage),n(new Mt(E,N.clarifyTimeoutError?Mt.ETIMEDOUT:Mt.ECONNABORTED,e,m)),m=null},i===void 0&&o.setContentType(null),"setRequestHeader"in m&&_e.forEach(o.toJSON(),function(E,N){m.setRequestHeader(N,E)}),_e.isUndefined(s.withCredentials)||(m.withCredentials=!!s.withCredentials),c&&c!=="json"&&(m.responseType=s.responseType),u&&([p,x]=aC(u,!0),m.addEventListener("progress",p)),d&&m.upload&&([f,g]=aC(d),m.upload.addEventListener("progress",f),m.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(l=C=>{m&&(n(!C||C.type?new Op(null,e,m):C),m.abort(),m=null)},s.cancelToken&&s.cancelToken.subscribe(l),s.signal&&(s.signal.aborted?l():s.signal.addEventListener("abort",l)));const w=Bme(s.url);if(w&&Ks.protocols.indexOf(w)===-1){n(new Mt("Unsupported protocol "+w+":",Mt.ERR_BAD_REQUEST,e));return}m.send(i||null)})},Gme=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(u){if(!s){s=!0,c();const l=u instanceof Error?u:this.reason;n.abort(l instanceof Mt?l:new Op(l instanceof Error?l.message:l))}};let o=t&&setTimeout(()=>{o=null,i(new Mt(`timeout ${t} of ms exceeded`,Mt.ETIMEDOUT))},t);const c=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:d}=n;return d.unsubscribe=()=>_e.asap(c),d}},Yme=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},Kme=async function*(e,t){for await(const r of Zme(e))yield*Yme(r,t)},Zme=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},R6=(e,t,r,n)=>{const s=Kme(e,t);let i=0,o,c=d=>{o||(o=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:u,value:l}=await s.next();if(u){c(),d.close();return}let f=l.byteLength;if(r){let p=i+=f;r(p)}d.enqueue(new Uint8Array(l))}catch(u){throw c(u),u}},cancel(d){return c(d),s.return()}},{highWaterMark:2})},Fj=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",jq=Fj&&typeof ReadableStream=="function",Xme=Fj&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Eq=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Qme=jq&&Eq(()=>{let e=!1;const t=new Request(Ks.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),M6=64*1024,aD=jq&&Eq(()=>_e.isReadableStream(new Response("").body)),iC={stream:aD&&(e=>e.body)};Fj&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!iC[t]&&(iC[t]=_e.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new Mt(`Response type '${t}' is not supported`,Mt.ERR_NOT_SUPPORT,n)})})})(new Response);const Jme=async e=>{if(e==null)return 0;if(_e.isBlob(e))return e.size;if(_e.isSpecCompliantForm(e))return(await new Request(Ks.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(_e.isArrayBufferView(e)||_e.isArrayBuffer(e))return e.byteLength;if(_e.isURLSearchParams(e)&&(e=e+""),_e.isString(e))return(await Xme(e)).byteLength},epe=async(e,t)=>{const r=_e.toFiniteNumber(e.getContentLength());return r??Jme(t)},tpe=Fj&&(async e=>{let{url:t,method:r,data:n,signal:s,cancelToken:i,timeout:o,onDownloadProgress:c,onUploadProgress:d,responseType:u,headers:l,withCredentials:f="same-origin",fetchOptions:p}=Cq(e);u=u?(u+"").toLowerCase():"text";let g=Gme([s,i&&i.toAbortSignal()],o),x;const S=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let m;try{if(d&&Qme&&r!=="get"&&r!=="head"&&(m=await epe(l,n))!==0){let N=new Request(t,{method:"POST",body:n,duplex:"half"}),k;if(_e.isFormData(n)&&(k=N.headers.get("content-type"))&&l.setContentType(k),N.body){const[A,T]=T6(m,aC(P6(d)));n=R6(N.body,M6,A,T)}}_e.isString(f)||(f=f?"include":"omit");const y="credentials"in Request.prototype;x=new Request(t,{...p,signal:g,method:r.toUpperCase(),headers:l.normalize().toJSON(),body:n,duplex:"half",credentials:y?f:void 0});let w=await fetch(x,p);const C=aD&&(u==="stream"||u==="response");if(aD&&(c||C&&S)){const N={};["status","statusText","headers"].forEach(P=>{N[P]=w[P]});const k=_e.toFiniteNumber(w.headers.get("content-length")),[A,T]=c&&T6(k,aC(P6(c),!0))||[];w=new Response(R6(w.body,M6,A,()=>{T&&T(),S&&S()}),N)}u=u||"text";let E=await iC[_e.findKey(iC,u)||"text"](w,e);return!C&&S&&S(),await new Promise((N,k)=>{wq(N,k,{data:E,headers:Aa.from(w.headers),status:w.status,statusText:w.statusText,config:e,request:x})})}catch(y){throw S&&S(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new Mt("Network Error",Mt.ERR_NETWORK,e,x),{cause:y.cause||y}):Mt.from(y,y&&y.code,e,x)}}),iD={http:gme,xhr:qme,fetch:tpe};_e.forEach(iD,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const O6=e=>`- ${e}`,rpe=e=>_e.isFunction(e)||e===null||e===!1,Nq={getAdapter:e=>{e=_e.isArray(e)?e:[e];const{length:t}=e;let r,n;const s={};for(let i=0;i<t;i++){r=e[i];let o;if(n=r,!rpe(r)&&(n=iD[(o=String(r)).toLowerCase()],n===void 0))throw new Mt(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+i]=n}if(!n){const i=Object.entries(s).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(O6).join(`
`):" "+O6(i[0]):"as no adapter specified";throw new Mt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:iD};function Ak(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Op(null,e)}function I6(e){return Ak(e),e.headers=Aa.from(e.headers),e.data=_k.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Nq.getAdapter(e.adapter||g0.adapter)(e).then(function(n){return Ak(e),n.data=_k.call(e,e.transformResponse,n),n.headers=Aa.from(n.headers),n},function(n){return bq(n)||(Ak(e),n&&n.response&&(n.response.data=_k.call(e,e.transformResponse,n.response),n.response.headers=Aa.from(n.response.headers))),Promise.reject(n)})}const _q="1.11.0",Hj={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Hj[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const L6={};Hj.transitional=function(t,r,n){function s(i,o){return"[Axios v"+_q+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,c)=>{if(t===!1)throw new Mt(s(o," has been removed"+(r?" in "+r:"")),Mt.ERR_DEPRECATED);return r&&!L6[o]&&(L6[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,c):!0}};Hj.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function npe(e,t,r){if(typeof e!="object")throw new Mt("options must be an object",Mt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const c=e[i],d=c===void 0||o(c,i,e);if(d!==!0)throw new Mt("option "+i+" must be "+d,Mt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Mt("Unknown option "+i,Mt.ERR_BAD_OPTION)}}const qw={assertOptions:npe,validators:Hj},Bo=qw.validators;let uf=class{constructor(t){this.defaults=t||{},this.interceptors={request:new A6,response:new A6}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Nf(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&qw.assertOptions(n,{silentJSONParsing:Bo.transitional(Bo.boolean),forcedJSONParsing:Bo.transitional(Bo.boolean),clarifyTimeoutError:Bo.transitional(Bo.boolean)},!1),s!=null&&(_e.isFunction(s)?r.paramsSerializer={serialize:s}:qw.assertOptions(s,{encode:Bo.function,serialize:Bo.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),qw.assertOptions(r,{baseUrl:Bo.spelling("baseURL"),withXsrfToken:Bo.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&_e.merge(i.common,i[r.method]);i&&_e.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),r.headers=Aa.concat(o,i);const c=[];let d=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(r)===!1||(d=d&&S.synchronous,c.unshift(S.fulfilled,S.rejected))});const u=[];this.interceptors.response.forEach(function(S){u.push(S.fulfilled,S.rejected)});let l,f=0,p;if(!d){const x=[I6.bind(this),void 0];for(x.unshift(...c),x.push(...u),p=x.length,l=Promise.resolve(r);f<p;)l=l.then(x[f++],x[f++]);return l}p=c.length;let g=r;for(f=0;f<p;){const x=c[f++],S=c[f++];try{g=x(g)}catch(m){S.call(this,m);break}}try{l=I6.call(this,g)}catch(x){return Promise.reject(x)}for(f=0,p=u.length;f<p;)l=l.then(u[f++],u[f++]);return l}getUri(t){t=Nf(this.defaults,t);const r=Sq(t.baseURL,t.url,t.allowAbsoluteUrls);return xq(r,t.params,t.paramsSerializer)}};_e.forEach(["delete","get","head","options"],function(t){uf.prototype[t]=function(r,n){return this.request(Nf(n||{},{method:t,url:r,data:(n||{}).data}))}});_e.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,c){return this.request(Nf(c||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}uf.prototype[t]=r(),uf.prototype[t+"Form"]=r(!0)});let spe=class Aq{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(c=>{n.subscribe(c),i=c}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,c){n.reason||(n.reason=new Op(i,o,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Aq(function(s){t=s}),cancel:t}}};function ape(e){return function(r){return e.apply(null,r)}}function ipe(e){return _e.isObject(e)&&e.isAxiosError===!0}const oD={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(oD).forEach(([e,t])=>{oD[t]=e});function kq(e){const t=new uf(e),r=aq(uf.prototype.request,t);return _e.extend(r,uf.prototype,t,{allOwnKeys:!0}),_e.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return kq(Nf(e,s))},r}const St=kq(g0);St.Axios=uf;St.CanceledError=Op;St.CancelToken=spe;St.isCancel=bq;St.VERSION=_q;St.toFormData=$j;St.AxiosError=Mt;St.Cancel=St.CanceledError;St.all=function(t){return Promise.all(t)};St.spread=ape;St.isAxiosError=ipe;St.mergeConfig=Nf;St.AxiosHeaders=Aa;St.formToJSON=e=>yq(_e.isHTMLForm(e)?new FormData(e):e);St.getAdapter=Nq.getAdapter;St.HttpStatusCode=oD;St.default=St;const{Axios:Lmt,AxiosError:Bmt,CanceledError:$mt,isCancel:Fmt,CancelToken:Hmt,VERSION:zmt,all:Umt,Cancel:Vmt,isAxiosError:fv,spread:Wmt,toFormData:qmt,AxiosHeaders:Gmt,HttpStatusCode:Ymt,formToJSON:Kmt,getAdapter:Zmt,mergeConfig:Xmt}=St;var Gw={exports:{}};function ope(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Yw={exports:{}};const lpe={},cpe=Object.freeze(Object.defineProperty({__proto__:null,default:lpe},Symbol.toStringTag,{value:"Module"})),dpe=que(cpe);var upe=Yw.exports,B6;function sr(){return B6||(B6=1,function(e,t){(function(r,n){e.exports=n()})(upe,function(){var r=r||function(n,s){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof hk<"u"&&hk.crypto&&(i=hk.crypto),!i&&typeof ope=="function")try{i=dpe}catch{}var o=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},c=Object.create||function(){function w(){}return function(C){var E;return w.prototype=C,E=new w,w.prototype=null,E}}(),d={},u=d.lib={},l=u.Base=function(){return{extend:function(w){var C=c(this);return w&&C.mixIn(w),(!C.hasOwnProperty("init")||this.init===C.init)&&(C.init=function(){C.$super.init.apply(this,arguments)}),C.init.prototype=C,C.$super=this,C},create:function(){var w=this.extend();return w.init.apply(w,arguments),w},init:function(){},mixIn:function(w){for(var C in w)w.hasOwnProperty(C)&&(this[C]=w[C]);w.hasOwnProperty("toString")&&(this.toString=w.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=u.WordArray=l.extend({init:function(w,C){w=this.words=w||[],C!=s?this.sigBytes=C:this.sigBytes=w.length*4},toString:function(w){return(w||g).stringify(this)},concat:function(w){var C=this.words,E=w.words,N=this.sigBytes,k=w.sigBytes;if(this.clamp(),N%4)for(var A=0;A<k;A++){var T=E[A>>>2]>>>24-A%4*8&255;C[N+A>>>2]|=T<<24-(N+A)%4*8}else for(var P=0;P<k;P+=4)C[N+P>>>2]=E[P>>>2];return this.sigBytes+=k,this},clamp:function(){var w=this.words,C=this.sigBytes;w[C>>>2]&=4294967295<<32-C%4*8,w.length=n.ceil(C/4)},clone:function(){var w=l.clone.call(this);return w.words=this.words.slice(0),w},random:function(w){for(var C=[],E=0;E<w;E+=4)C.push(o());return new f.init(C,w)}}),p=d.enc={},g=p.Hex={stringify:function(w){for(var C=w.words,E=w.sigBytes,N=[],k=0;k<E;k++){var A=C[k>>>2]>>>24-k%4*8&255;N.push((A>>>4).toString(16)),N.push((A&15).toString(16))}return N.join("")},parse:function(w){for(var C=w.length,E=[],N=0;N<C;N+=2)E[N>>>3]|=parseInt(w.substr(N,2),16)<<24-N%8*4;return new f.init(E,C/2)}},x=p.Latin1={stringify:function(w){for(var C=w.words,E=w.sigBytes,N=[],k=0;k<E;k++){var A=C[k>>>2]>>>24-k%4*8&255;N.push(String.fromCharCode(A))}return N.join("")},parse:function(w){for(var C=w.length,E=[],N=0;N<C;N++)E[N>>>2]|=(w.charCodeAt(N)&255)<<24-N%4*8;return new f.init(E,C)}},S=p.Utf8={stringify:function(w){try{return decodeURIComponent(escape(x.stringify(w)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(w){return x.parse(unescape(encodeURIComponent(w)))}},m=u.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(w){typeof w=="string"&&(w=S.parse(w)),this._data.concat(w),this._nDataBytes+=w.sigBytes},_process:function(w){var C,E=this._data,N=E.words,k=E.sigBytes,A=this.blockSize,T=A*4,P=k/T;w?P=n.ceil(P):P=n.max((P|0)-this._minBufferSize,0);var M=P*A,O=n.min(M*4,k);if(M){for(var R=0;R<M;R+=A)this._doProcessBlock(N,R);C=N.splice(0,M),E.sigBytes-=O}return new f.init(C,O)},clone:function(){var w=l.clone.call(this);return w._data=this._data.clone(),w},_minBufferSize:0});u.Hasher=m.extend({cfg:l.extend(),init:function(w){this.cfg=this.cfg.extend(w),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(w){return this._append(w),this._process(),this},finalize:function(w){w&&this._append(w);var C=this._doFinalize();return C},blockSize:16,_createHelper:function(w){return function(C,E){return new w.init(E).finalize(C)}},_createHmacHelper:function(w){return function(C,E){return new y.HMAC.init(w,E).finalize(C)}}});var y=d.algo={};return d}(Math);return r})}(Yw)),Yw.exports}var Kw={exports:{}},fpe=Kw.exports,$6;function zj(){return $6||($6=1,function(e,t){(function(r,n){e.exports=n(sr())})(fpe,function(r){return function(n){var s=r,i=s.lib,o=i.Base,c=i.WordArray,d=s.x64={};d.Word=o.extend({init:function(u,l){this.high=u,this.low=l}}),d.WordArray=o.extend({init:function(u,l){u=this.words=u||[],l!=n?this.sigBytes=l:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,l=u.length,f=[],p=0;p<l;p++){var g=u[p];f.push(g.high),f.push(g.low)}return c.create(f,this.sigBytes)},clone:function(){for(var u=o.clone.call(this),l=u.words=this.words.slice(0),f=l.length,p=0;p<f;p++)l[p]=l[p].clone();return u}})}(),r})}(Kw)),Kw.exports}var Zw={exports:{}},hpe=Zw.exports,F6;function mpe(){return F6||(F6=1,function(e,t){(function(r,n){e.exports=n(sr())})(hpe,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,s=n.lib,i=s.WordArray,o=i.init,c=i.init=function(d){if(d instanceof ArrayBuffer&&(d=new Uint8Array(d)),(d instanceof Int8Array||typeof Uint8ClampedArray<"u"&&d instanceof Uint8ClampedArray||d instanceof Int16Array||d instanceof Uint16Array||d instanceof Int32Array||d instanceof Uint32Array||d instanceof Float32Array||d instanceof Float64Array)&&(d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength)),d instanceof Uint8Array){for(var u=d.byteLength,l=[],f=0;f<u;f++)l[f>>>2]|=d[f]<<24-f%4*8;o.call(this,l,u)}else o.apply(this,arguments)};c.prototype=i}}(),r.lib.WordArray})}(Zw)),Zw.exports}var Xw={exports:{}},ppe=Xw.exports,H6;function gpe(){return H6||(H6=1,function(e,t){(function(r,n){e.exports=n(sr())})(ppe,function(r){return function(){var n=r,s=n.lib,i=s.WordArray,o=n.enc;o.Utf16=o.Utf16BE={stringify:function(d){for(var u=d.words,l=d.sigBytes,f=[],p=0;p<l;p+=2){var g=u[p>>>2]>>>16-p%4*8&65535;f.push(String.fromCharCode(g))}return f.join("")},parse:function(d){for(var u=d.length,l=[],f=0;f<u;f++)l[f>>>1]|=d.charCodeAt(f)<<16-f%2*16;return i.create(l,u*2)}},o.Utf16LE={stringify:function(d){for(var u=d.words,l=d.sigBytes,f=[],p=0;p<l;p+=2){var g=c(u[p>>>2]>>>16-p%4*8&65535);f.push(String.fromCharCode(g))}return f.join("")},parse:function(d){for(var u=d.length,l=[],f=0;f<u;f++)l[f>>>1]|=c(d.charCodeAt(f)<<16-f%2*16);return i.create(l,u*2)}};function c(d){return d<<8&4278255360|d>>>8&16711935}}(),r.enc.Utf16})}(Xw)),Xw.exports}var Qw={exports:{}},xpe=Qw.exports,z6;function Uf(){return z6||(z6=1,function(e,t){(function(r,n){e.exports=n(sr())})(xpe,function(r){return function(){var n=r,s=n.lib,i=s.WordArray,o=n.enc;o.Base64={stringify:function(d){var u=d.words,l=d.sigBytes,f=this._map;d.clamp();for(var p=[],g=0;g<l;g+=3)for(var x=u[g>>>2]>>>24-g%4*8&255,S=u[g+1>>>2]>>>24-(g+1)%4*8&255,m=u[g+2>>>2]>>>24-(g+2)%4*8&255,y=x<<16|S<<8|m,w=0;w<4&&g+w*.75<l;w++)p.push(f.charAt(y>>>6*(3-w)&63));var C=f.charAt(64);if(C)for(;p.length%4;)p.push(C);return p.join("")},parse:function(d){var u=d.length,l=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var p=0;p<l.length;p++)f[l.charCodeAt(p)]=p}var g=l.charAt(64);if(g){var x=d.indexOf(g);x!==-1&&(u=x)}return c(d,u,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function c(d,u,l){for(var f=[],p=0,g=0;g<u;g++)if(g%4){var x=l[d.charCodeAt(g-1)]<<g%4*2,S=l[d.charCodeAt(g)]>>>6-g%4*2,m=x|S;f[p>>>2]|=m<<24-p%4*8,p++}return i.create(f,p)}}(),r.enc.Base64})}(Qw)),Qw.exports}var Jw={exports:{}},vpe=Jw.exports,U6;function ype(){return U6||(U6=1,function(e,t){(function(r,n){e.exports=n(sr())})(vpe,function(r){return function(){var n=r,s=n.lib,i=s.WordArray,o=n.enc;o.Base64url={stringify:function(d,u){u===void 0&&(u=!0);var l=d.words,f=d.sigBytes,p=u?this._safe_map:this._map;d.clamp();for(var g=[],x=0;x<f;x+=3)for(var S=l[x>>>2]>>>24-x%4*8&255,m=l[x+1>>>2]>>>24-(x+1)%4*8&255,y=l[x+2>>>2]>>>24-(x+2)%4*8&255,w=S<<16|m<<8|y,C=0;C<4&&x+C*.75<f;C++)g.push(p.charAt(w>>>6*(3-C)&63));var E=p.charAt(64);if(E)for(;g.length%4;)g.push(E);return g.join("")},parse:function(d,u){u===void 0&&(u=!0);var l=d.length,f=u?this._safe_map:this._map,p=this._reverseMap;if(!p){p=this._reverseMap=[];for(var g=0;g<f.length;g++)p[f.charCodeAt(g)]=g}var x=f.charAt(64);if(x){var S=d.indexOf(x);S!==-1&&(l=S)}return c(d,l,p)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function c(d,u,l){for(var f=[],p=0,g=0;g<u;g++)if(g%4){var x=l[d.charCodeAt(g-1)]<<g%4*2,S=l[d.charCodeAt(g)]>>>6-g%4*2,m=x|S;f[p>>>2]|=m<<24-p%4*8,p++}return i.create(f,p)}}(),r.enc.Base64url})}(Jw)),Jw.exports}var e1={exports:{}},bpe=e1.exports,V6;function Vf(){return V6||(V6=1,function(e,t){(function(r,n){e.exports=n(sr())})(bpe,function(r){return function(n){var s=r,i=s.lib,o=i.WordArray,c=i.Hasher,d=s.algo,u=[];(function(){for(var S=0;S<64;S++)u[S]=n.abs(n.sin(S+1))*4294967296|0})();var l=d.MD5=c.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(S,m){for(var y=0;y<16;y++){var w=m+y,C=S[w];S[w]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360}var E=this._hash.words,N=S[m+0],k=S[m+1],A=S[m+2],T=S[m+3],P=S[m+4],M=S[m+5],O=S[m+6],R=S[m+7],L=S[m+8],B=S[m+9],F=S[m+10],$=S[m+11],z=S[m+12],W=S[m+13],Z=S[m+14],V=S[m+15],q=E[0],H=E[1],K=E[2],Y=E[3];q=f(q,H,K,Y,N,7,u[0]),Y=f(Y,q,H,K,k,12,u[1]),K=f(K,Y,q,H,A,17,u[2]),H=f(H,K,Y,q,T,22,u[3]),q=f(q,H,K,Y,P,7,u[4]),Y=f(Y,q,H,K,M,12,u[5]),K=f(K,Y,q,H,O,17,u[6]),H=f(H,K,Y,q,R,22,u[7]),q=f(q,H,K,Y,L,7,u[8]),Y=f(Y,q,H,K,B,12,u[9]),K=f(K,Y,q,H,F,17,u[10]),H=f(H,K,Y,q,$,22,u[11]),q=f(q,H,K,Y,z,7,u[12]),Y=f(Y,q,H,K,W,12,u[13]),K=f(K,Y,q,H,Z,17,u[14]),H=f(H,K,Y,q,V,22,u[15]),q=p(q,H,K,Y,k,5,u[16]),Y=p(Y,q,H,K,O,9,u[17]),K=p(K,Y,q,H,$,14,u[18]),H=p(H,K,Y,q,N,20,u[19]),q=p(q,H,K,Y,M,5,u[20]),Y=p(Y,q,H,K,F,9,u[21]),K=p(K,Y,q,H,V,14,u[22]),H=p(H,K,Y,q,P,20,u[23]),q=p(q,H,K,Y,B,5,u[24]),Y=p(Y,q,H,K,Z,9,u[25]),K=p(K,Y,q,H,T,14,u[26]),H=p(H,K,Y,q,L,20,u[27]),q=p(q,H,K,Y,W,5,u[28]),Y=p(Y,q,H,K,A,9,u[29]),K=p(K,Y,q,H,R,14,u[30]),H=p(H,K,Y,q,z,20,u[31]),q=g(q,H,K,Y,M,4,u[32]),Y=g(Y,q,H,K,L,11,u[33]),K=g(K,Y,q,H,$,16,u[34]),H=g(H,K,Y,q,Z,23,u[35]),q=g(q,H,K,Y,k,4,u[36]),Y=g(Y,q,H,K,P,11,u[37]),K=g(K,Y,q,H,R,16,u[38]),H=g(H,K,Y,q,F,23,u[39]),q=g(q,H,K,Y,W,4,u[40]),Y=g(Y,q,H,K,N,11,u[41]),K=g(K,Y,q,H,T,16,u[42]),H=g(H,K,Y,q,O,23,u[43]),q=g(q,H,K,Y,B,4,u[44]),Y=g(Y,q,H,K,z,11,u[45]),K=g(K,Y,q,H,V,16,u[46]),H=g(H,K,Y,q,A,23,u[47]),q=x(q,H,K,Y,N,6,u[48]),Y=x(Y,q,H,K,R,10,u[49]),K=x(K,Y,q,H,Z,15,u[50]),H=x(H,K,Y,q,M,21,u[51]),q=x(q,H,K,Y,z,6,u[52]),Y=x(Y,q,H,K,T,10,u[53]),K=x(K,Y,q,H,F,15,u[54]),H=x(H,K,Y,q,k,21,u[55]),q=x(q,H,K,Y,L,6,u[56]),Y=x(Y,q,H,K,V,10,u[57]),K=x(K,Y,q,H,O,15,u[58]),H=x(H,K,Y,q,W,21,u[59]),q=x(q,H,K,Y,P,6,u[60]),Y=x(Y,q,H,K,$,10,u[61]),K=x(K,Y,q,H,A,15,u[62]),H=x(H,K,Y,q,B,21,u[63]),E[0]=E[0]+q|0,E[1]=E[1]+H|0,E[2]=E[2]+K|0,E[3]=E[3]+Y|0},_doFinalize:function(){var S=this._data,m=S.words,y=this._nDataBytes*8,w=S.sigBytes*8;m[w>>>5]|=128<<24-w%32;var C=n.floor(y/4294967296),E=y;m[(w+64>>>9<<4)+15]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,m[(w+64>>>9<<4)+14]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,S.sigBytes=(m.length+1)*4,this._process();for(var N=this._hash,k=N.words,A=0;A<4;A++){var T=k[A];k[A]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}return N},clone:function(){var S=c.clone.call(this);return S._hash=this._hash.clone(),S}});function f(S,m,y,w,C,E,N){var k=S+(m&y|~m&w)+C+N;return(k<<E|k>>>32-E)+m}function p(S,m,y,w,C,E,N){var k=S+(m&w|y&~w)+C+N;return(k<<E|k>>>32-E)+m}function g(S,m,y,w,C,E,N){var k=S+(m^y^w)+C+N;return(k<<E|k>>>32-E)+m}function x(S,m,y,w,C,E,N){var k=S+(y^(m|~w))+C+N;return(k<<E|k>>>32-E)+m}s.MD5=c._createHelper(l),s.HmacMD5=c._createHmacHelper(l)}(Math),r.MD5})}(e1)),e1.exports}var t1={exports:{}},wpe=t1.exports,W6;function Tq(){return W6||(W6=1,function(e,t){(function(r,n){e.exports=n(sr())})(wpe,function(r){return function(){var n=r,s=n.lib,i=s.WordArray,o=s.Hasher,c=n.algo,d=[],u=c.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(l,f){for(var p=this._hash.words,g=p[0],x=p[1],S=p[2],m=p[3],y=p[4],w=0;w<80;w++){if(w<16)d[w]=l[f+w]|0;else{var C=d[w-3]^d[w-8]^d[w-14]^d[w-16];d[w]=C<<1|C>>>31}var E=(g<<5|g>>>27)+y+d[w];w<20?E+=(x&S|~x&m)+1518500249:w<40?E+=(x^S^m)+1859775393:w<60?E+=(x&S|x&m|S&m)-1894007588:E+=(x^S^m)-899497514,y=m,m=S,S=x<<30|x>>>2,x=g,g=E}p[0]=p[0]+g|0,p[1]=p[1]+x|0,p[2]=p[2]+S|0,p[3]=p[3]+m|0,p[4]=p[4]+y|0},_doFinalize:function(){var l=this._data,f=l.words,p=this._nDataBytes*8,g=l.sigBytes*8;return f[g>>>5]|=128<<24-g%32,f[(g+64>>>9<<4)+14]=Math.floor(p/4294967296),f[(g+64>>>9<<4)+15]=p,l.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var l=o.clone.call(this);return l._hash=this._hash.clone(),l}});n.SHA1=o._createHelper(u),n.HmacSHA1=o._createHmacHelper(u)}(),r.SHA1})}(t1)),t1.exports}var r1={exports:{}},Spe=r1.exports,q6;function bM(){return q6||(q6=1,function(e,t){(function(r,n){e.exports=n(sr())})(Spe,function(r){return function(n){var s=r,i=s.lib,o=i.WordArray,c=i.Hasher,d=s.algo,u=[],l=[];(function(){function g(y){for(var w=n.sqrt(y),C=2;C<=w;C++)if(!(y%C))return!1;return!0}function x(y){return(y-(y|0))*4294967296|0}for(var S=2,m=0;m<64;)g(S)&&(m<8&&(u[m]=x(n.pow(S,1/2))),l[m]=x(n.pow(S,1/3)),m++),S++})();var f=[],p=d.SHA256=c.extend({_doReset:function(){this._hash=new o.init(u.slice(0))},_doProcessBlock:function(g,x){for(var S=this._hash.words,m=S[0],y=S[1],w=S[2],C=S[3],E=S[4],N=S[5],k=S[6],A=S[7],T=0;T<64;T++){if(T<16)f[T]=g[x+T]|0;else{var P=f[T-15],M=(P<<25|P>>>7)^(P<<14|P>>>18)^P>>>3,O=f[T-2],R=(O<<15|O>>>17)^(O<<13|O>>>19)^O>>>10;f[T]=M+f[T-7]+R+f[T-16]}var L=E&N^~E&k,B=m&y^m&w^y&w,F=(m<<30|m>>>2)^(m<<19|m>>>13)^(m<<10|m>>>22),$=(E<<26|E>>>6)^(E<<21|E>>>11)^(E<<7|E>>>25),z=A+$+L+l[T]+f[T],W=F+B;A=k,k=N,N=E,E=C+z|0,C=w,w=y,y=m,m=z+W|0}S[0]=S[0]+m|0,S[1]=S[1]+y|0,S[2]=S[2]+w|0,S[3]=S[3]+C|0,S[4]=S[4]+E|0,S[5]=S[5]+N|0,S[6]=S[6]+k|0,S[7]=S[7]+A|0},_doFinalize:function(){var g=this._data,x=g.words,S=this._nDataBytes*8,m=g.sigBytes*8;return x[m>>>5]|=128<<24-m%32,x[(m+64>>>9<<4)+14]=n.floor(S/4294967296),x[(m+64>>>9<<4)+15]=S,g.sigBytes=x.length*4,this._process(),this._hash},clone:function(){var g=c.clone.call(this);return g._hash=this._hash.clone(),g}});s.SHA256=c._createHelper(p),s.HmacSHA256=c._createHmacHelper(p)}(Math),r.SHA256})}(r1)),r1.exports}var n1={exports:{}},Cpe=n1.exports,G6;function jpe(){return G6||(G6=1,function(e,t){(function(r,n,s){e.exports=n(sr(),bM())})(Cpe,function(r){return function(){var n=r,s=n.lib,i=s.WordArray,o=n.algo,c=o.SHA256,d=o.SHA224=c.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=c._doFinalize.call(this);return u.sigBytes-=4,u}});n.SHA224=c._createHelper(d),n.HmacSHA224=c._createHmacHelper(d)}(),r.SHA224})}(n1)),n1.exports}var s1={exports:{}},Epe=s1.exports,Y6;function Pq(){return Y6||(Y6=1,function(e,t){(function(r,n,s){e.exports=n(sr(),zj())})(Epe,function(r){return function(){var n=r,s=n.lib,i=s.Hasher,o=n.x64,c=o.Word,d=o.WordArray,u=n.algo;function l(){return c.create.apply(c,arguments)}var f=[l(1116352408,3609767458),l(1899447441,602891725),l(3049323471,3964484399),l(3921009573,2173295548),l(961987163,4081628472),l(1508970993,3053834265),l(2453635748,2937671579),l(2870763221,3664609560),l(3624381080,2734883394),l(310598401,1164996542),l(607225278,1323610764),l(1426881987,3590304994),l(1925078388,4068182383),l(2162078206,991336113),l(2614888103,633803317),l(3248222580,3479774868),l(3835390401,2666613458),l(4022224774,944711139),l(264347078,2341262773),l(604807628,2007800933),l(770255983,1495990901),l(1249150122,1856431235),l(1555081692,3175218132),l(1996064986,2198950837),l(2554220882,3999719339),l(2821834349,766784016),l(2952996808,2566594879),l(3210313671,3203337956),l(3336571891,1034457026),l(3584528711,2466948901),l(113926993,3758326383),l(338241895,168717936),l(666307205,1188179964),l(773529912,1546045734),l(1294757372,1522805485),l(1396182291,2643833823),l(1695183700,2343527390),l(1986661051,1014477480),l(2177026350,1206759142),l(2456956037,344077627),l(2730485921,1290863460),l(2820302411,3158454273),l(3259730800,3505952657),l(3345764771,106217008),l(3516065817,3606008344),l(3600352804,1432725776),l(4094571909,1467031594),l(275423344,851169720),l(430227734,3100823752),l(506948616,1363258195),l(659060556,3750685593),l(883997877,3785050280),l(958139571,3318307427),l(1322822218,3812723403),l(1537002063,2003034995),l(1747873779,3602036899),l(1955562222,1575990012),l(2024104815,1125592928),l(2227730452,2716904306),l(2361852424,442776044),l(2428436474,593698344),l(2756734187,3733110249),l(3204031479,2999351573),l(3329325298,3815920427),l(3391569614,3928383900),l(3515267271,566280711),l(3940187606,3454069534),l(4118630271,4000239992),l(116418474,1914138554),l(174292421,2731055270),l(289380356,3203993006),l(460393269,320620315),l(685471733,587496836),l(852142971,1086792851),l(1017036298,365543100),l(1126000580,2618297676),l(1288033470,3409855158),l(1501505948,4234509866),l(1607167915,987167468),l(1816402316,1246189591)],p=[];(function(){for(var x=0;x<80;x++)p[x]=l()})();var g=u.SHA512=i.extend({_doReset:function(){this._hash=new d.init([new c.init(1779033703,4089235720),new c.init(3144134277,2227873595),new c.init(1013904242,4271175723),new c.init(2773480762,1595750129),new c.init(1359893119,2917565137),new c.init(2600822924,725511199),new c.init(528734635,4215389547),new c.init(1541459225,327033209)])},_doProcessBlock:function(x,S){for(var m=this._hash.words,y=m[0],w=m[1],C=m[2],E=m[3],N=m[4],k=m[5],A=m[6],T=m[7],P=y.high,M=y.low,O=w.high,R=w.low,L=C.high,B=C.low,F=E.high,$=E.low,z=N.high,W=N.low,Z=k.high,V=k.low,q=A.high,H=A.low,K=T.high,Y=T.low,re=P,me=M,de=O,he=R,ee=L,ie=B,ye=F,le=$,Te=z,Ae=W,ae=Z,We=V,rt=q,fe=H,Fe=K,Q=Y,ne=0;ne<80;ne++){var ce,ze,qe=p[ne];if(ne<16)ze=qe.high=x[S+ne*2]|0,ce=qe.low=x[S+ne*2+1]|0;else{var Ue=p[ne-15],se=Ue.high,Ne=Ue.low,Le=(se>>>1|Ne<<31)^(se>>>8|Ne<<24)^se>>>7,Qe=(Ne>>>1|se<<31)^(Ne>>>8|se<<24)^(Ne>>>7|se<<25),kt=p[ne-2],Jt=kt.high,Ts=kt.low,ln=(Jt>>>19|Ts<<13)^(Jt<<3|Ts>>>29)^Jt>>>6,Dn=(Ts>>>19|Jt<<13)^(Ts<<3|Jt>>>29)^(Ts>>>6|Jt<<26),Fn=p[ne-7],bi=Fn.high,ao=Fn.low,Rt=p[ne-16],Sr=Rt.high,Tt=Rt.low;ce=Qe+ao,ze=Le+bi+(ce>>>0<Qe>>>0?1:0),ce=ce+Dn,ze=ze+ln+(ce>>>0<Dn>>>0?1:0),ce=ce+Tt,ze=ze+Sr+(ce>>>0<Tt>>>0?1:0),qe.high=ze,qe.low=ce}var lr=Te&ae^~Te&rt,yn=Ae&We^~Ae&fe,rr=re&de^re&ee^de&ee,hh=me&he^me&ie^he&ie,mh=(re>>>28|me<<4)^(re<<30|me>>>2)^(re<<25|me>>>7),Vc=(me>>>28|re<<4)^(me<<30|re>>>2)^(me<<25|re>>>7),Nl=(Te>>>14|Ae<<18)^(Te>>>18|Ae<<14)^(Te<<23|Ae>>>9),Wc=(Ae>>>14|Te<<18)^(Ae>>>18|Te<<14)^(Ae<<23|Te>>>9),$y=f[ne],Do=$y.high,Kn=$y.low,kr=Q+Wc,ra=Fe+Nl+(kr>>>0<Q>>>0?1:0),kr=kr+yn,ra=ra+lr+(kr>>>0<yn>>>0?1:0),kr=kr+Kn,ra=ra+Do+(kr>>>0<Kn>>>0?1:0),kr=kr+ce,ra=ra+ze+(kr>>>0<ce>>>0?1:0),ph=Vc+hh,a_=mh+rr+(ph>>>0<Vc>>>0?1:0);Fe=rt,Q=fe,rt=ae,fe=We,ae=Te,We=Ae,Ae=le+kr|0,Te=ye+ra+(Ae>>>0<le>>>0?1:0)|0,ye=ee,le=ie,ee=de,ie=he,de=re,he=me,me=kr+ph|0,re=ra+a_+(me>>>0<kr>>>0?1:0)|0}M=y.low=M+me,y.high=P+re+(M>>>0<me>>>0?1:0),R=w.low=R+he,w.high=O+de+(R>>>0<he>>>0?1:0),B=C.low=B+ie,C.high=L+ee+(B>>>0<ie>>>0?1:0),$=E.low=$+le,E.high=F+ye+($>>>0<le>>>0?1:0),W=N.low=W+Ae,N.high=z+Te+(W>>>0<Ae>>>0?1:0),V=k.low=V+We,k.high=Z+ae+(V>>>0<We>>>0?1:0),H=A.low=H+fe,A.high=q+rt+(H>>>0<fe>>>0?1:0),Y=T.low=Y+Q,T.high=K+Fe+(Y>>>0<Q>>>0?1:0)},_doFinalize:function(){var x=this._data,S=x.words,m=this._nDataBytes*8,y=x.sigBytes*8;S[y>>>5]|=128<<24-y%32,S[(y+128>>>10<<5)+30]=Math.floor(m/4294967296),S[(y+128>>>10<<5)+31]=m,x.sigBytes=S.length*4,this._process();var w=this._hash.toX32();return w},clone:function(){var x=i.clone.call(this);return x._hash=this._hash.clone(),x},blockSize:1024/32});n.SHA512=i._createHelper(g),n.HmacSHA512=i._createHmacHelper(g)}(),r.SHA512})}(s1)),s1.exports}var a1={exports:{}},Npe=a1.exports,K6;function _pe(){return K6||(K6=1,function(e,t){(function(r,n,s){e.exports=n(sr(),zj(),Pq())})(Npe,function(r){return function(){var n=r,s=n.x64,i=s.Word,o=s.WordArray,c=n.algo,d=c.SHA512,u=c.SHA384=d.extend({_doReset:function(){this._hash=new o.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var l=d._doFinalize.call(this);return l.sigBytes-=16,l}});n.SHA384=d._createHelper(u),n.HmacSHA384=d._createHmacHelper(u)}(),r.SHA384})}(a1)),a1.exports}var i1={exports:{}},Ape=i1.exports,Z6;function kpe(){return Z6||(Z6=1,function(e,t){(function(r,n,s){e.exports=n(sr(),zj())})(Ape,function(r){return function(n){var s=r,i=s.lib,o=i.WordArray,c=i.Hasher,d=s.x64,u=d.Word,l=s.algo,f=[],p=[],g=[];(function(){for(var m=1,y=0,w=0;w<24;w++){f[m+5*y]=(w+1)*(w+2)/2%64;var C=y%5,E=(2*m+3*y)%5;m=C,y=E}for(var m=0;m<5;m++)for(var y=0;y<5;y++)p[m+5*y]=y+(2*m+3*y)%5*5;for(var N=1,k=0;k<24;k++){for(var A=0,T=0,P=0;P<7;P++){if(N&1){var M=(1<<P)-1;M<32?T^=1<<M:A^=1<<M-32}N&128?N=N<<1^113:N<<=1}g[k]=u.create(A,T)}})();var x=[];(function(){for(var m=0;m<25;m++)x[m]=u.create()})();var S=l.SHA3=c.extend({cfg:c.cfg.extend({outputLength:512}),_doReset:function(){for(var m=this._state=[],y=0;y<25;y++)m[y]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(m,y){for(var w=this._state,C=this.blockSize/2,E=0;E<C;E++){var N=m[y+2*E],k=m[y+2*E+1];N=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360;var A=w[E];A.high^=k,A.low^=N}for(var T=0;T<24;T++){for(var P=0;P<5;P++){for(var M=0,O=0,R=0;R<5;R++){var A=w[P+5*R];M^=A.high,O^=A.low}var L=x[P];L.high=M,L.low=O}for(var P=0;P<5;P++)for(var B=x[(P+4)%5],F=x[(P+1)%5],$=F.high,z=F.low,M=B.high^($<<1|z>>>31),O=B.low^(z<<1|$>>>31),R=0;R<5;R++){var A=w[P+5*R];A.high^=M,A.low^=O}for(var W=1;W<25;W++){var M,O,A=w[W],Z=A.high,V=A.low,q=f[W];q<32?(M=Z<<q|V>>>32-q,O=V<<q|Z>>>32-q):(M=V<<q-32|Z>>>64-q,O=Z<<q-32|V>>>64-q);var H=x[p[W]];H.high=M,H.low=O}var K=x[0],Y=w[0];K.high=Y.high,K.low=Y.low;for(var P=0;P<5;P++)for(var R=0;R<5;R++){var W=P+5*R,A=w[W],re=x[W],me=x[(P+1)%5+5*R],de=x[(P+2)%5+5*R];A.high=re.high^~me.high&de.high,A.low=re.low^~me.low&de.low}var A=w[0],he=g[T];A.high^=he.high,A.low^=he.low}},_doFinalize:function(){var m=this._data,y=m.words;this._nDataBytes*8;var w=m.sigBytes*8,C=this.blockSize*32;y[w>>>5]|=1<<24-w%32,y[(n.ceil((w+1)/C)*C>>>5)-1]|=128,m.sigBytes=y.length*4,this._process();for(var E=this._state,N=this.cfg.outputLength/8,k=N/8,A=[],T=0;T<k;T++){var P=E[T],M=P.high,O=P.low;M=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,O=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,A.push(O),A.push(M)}return new o.init(A,N)},clone:function(){for(var m=c.clone.call(this),y=m._state=this._state.slice(0),w=0;w<25;w++)y[w]=y[w].clone();return m}});s.SHA3=c._createHelper(S),s.HmacSHA3=c._createHmacHelper(S)}(Math),r.SHA3})}(i1)),i1.exports}var o1={exports:{}},Tpe=o1.exports,X6;function Ppe(){return X6||(X6=1,function(e,t){(function(r,n){e.exports=n(sr())})(Tpe,function(r){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var s=r,i=s.lib,o=i.WordArray,c=i.Hasher,d=s.algo,u=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),p=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),g=o.create([0,1518500249,1859775393,2400959708,2840853838]),x=o.create([1352829926,1548603684,1836072691,2053994217,0]),S=d.RIPEMD160=c.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(k,A){for(var T=0;T<16;T++){var P=A+T,M=k[P];k[P]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360}var O=this._hash.words,R=g.words,L=x.words,B=u.words,F=l.words,$=f.words,z=p.words,W,Z,V,q,H,K,Y,re,me,de;K=W=O[0],Y=Z=O[1],re=V=O[2],me=q=O[3],de=H=O[4];for(var he,T=0;T<80;T+=1)he=W+k[A+B[T]]|0,T<16?he+=m(Z,V,q)+R[0]:T<32?he+=y(Z,V,q)+R[1]:T<48?he+=w(Z,V,q)+R[2]:T<64?he+=C(Z,V,q)+R[3]:he+=E(Z,V,q)+R[4],he=he|0,he=N(he,$[T]),he=he+H|0,W=H,H=q,q=N(V,10),V=Z,Z=he,he=K+k[A+F[T]]|0,T<16?he+=E(Y,re,me)+L[0]:T<32?he+=C(Y,re,me)+L[1]:T<48?he+=w(Y,re,me)+L[2]:T<64?he+=y(Y,re,me)+L[3]:he+=m(Y,re,me)+L[4],he=he|0,he=N(he,z[T]),he=he+de|0,K=de,de=me,me=N(re,10),re=Y,Y=he;he=O[1]+V+me|0,O[1]=O[2]+q+de|0,O[2]=O[3]+H+K|0,O[3]=O[4]+W+Y|0,O[4]=O[0]+Z+re|0,O[0]=he},_doFinalize:function(){var k=this._data,A=k.words,T=this._nDataBytes*8,P=k.sigBytes*8;A[P>>>5]|=128<<24-P%32,A[(P+64>>>9<<4)+14]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,k.sigBytes=(A.length+1)*4,this._process();for(var M=this._hash,O=M.words,R=0;R<5;R++){var L=O[R];O[R]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360}return M},clone:function(){var k=c.clone.call(this);return k._hash=this._hash.clone(),k}});function m(k,A,T){return k^A^T}function y(k,A,T){return k&A|~k&T}function w(k,A,T){return(k|~A)^T}function C(k,A,T){return k&T|A&~T}function E(k,A,T){return k^(A|~T)}function N(k,A){return k<<A|k>>>32-A}s.RIPEMD160=c._createHelper(S),s.HmacRIPEMD160=c._createHmacHelper(S)}(),r.RIPEMD160})}(o1)),o1.exports}var l1={exports:{}},Dpe=l1.exports,Q6;function wM(){return Q6||(Q6=1,function(e,t){(function(r,n){e.exports=n(sr())})(Dpe,function(r){(function(){var n=r,s=n.lib,i=s.Base,o=n.enc,c=o.Utf8,d=n.algo;d.HMAC=i.extend({init:function(u,l){u=this._hasher=new u.init,typeof l=="string"&&(l=c.parse(l));var f=u.blockSize,p=f*4;l.sigBytes>p&&(l=u.finalize(l)),l.clamp();for(var g=this._oKey=l.clone(),x=this._iKey=l.clone(),S=g.words,m=x.words,y=0;y<f;y++)S[y]^=1549556828,m[y]^=909522486;g.sigBytes=x.sigBytes=p,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var l=this._hasher,f=l.finalize(u);l.reset();var p=l.finalize(this._oKey.clone().concat(f));return p}})})()})}(l1)),l1.exports}var c1={exports:{}},Rpe=c1.exports,J6;function Mpe(){return J6||(J6=1,function(e,t){(function(r,n,s){e.exports=n(sr(),bM(),wM())})(Rpe,function(r){return function(){var n=r,s=n.lib,i=s.Base,o=s.WordArray,c=n.algo,d=c.SHA256,u=c.HMAC,l=c.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:d,iterations:25e4}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,p){for(var g=this.cfg,x=u.create(g.hasher,f),S=o.create(),m=o.create([1]),y=S.words,w=m.words,C=g.keySize,E=g.iterations;y.length<C;){var N=x.update(p).finalize(m);x.reset();for(var k=N.words,A=k.length,T=N,P=1;P<E;P++){T=x.finalize(T),x.reset();for(var M=T.words,O=0;O<A;O++)k[O]^=M[O]}S.concat(N),w[0]++}return S.sigBytes=C*4,S}});n.PBKDF2=function(f,p,g){return l.create(g).compute(f,p)}}(),r.PBKDF2})}(c1)),c1.exports}var d1={exports:{}},Ope=d1.exports,eF;function Kd(){return eF||(eF=1,function(e,t){(function(r,n,s){e.exports=n(sr(),Tq(),wM())})(Ope,function(r){return function(){var n=r,s=n.lib,i=s.Base,o=s.WordArray,c=n.algo,d=c.MD5,u=c.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:d,iterations:1}),init:function(l){this.cfg=this.cfg.extend(l)},compute:function(l,f){for(var p,g=this.cfg,x=g.hasher.create(),S=o.create(),m=S.words,y=g.keySize,w=g.iterations;m.length<y;){p&&x.update(p),p=x.update(l).finalize(f),x.reset();for(var C=1;C<w;C++)p=x.finalize(p),x.reset();S.concat(p)}return S.sigBytes=y*4,S}});n.EvpKDF=function(l,f,p){return u.create(p).compute(l,f)}}(),r.EvpKDF})}(d1)),d1.exports}var u1={exports:{}},Ipe=u1.exports,tF;function js(){return tF||(tF=1,function(e,t){(function(r,n,s){e.exports=n(sr(),Kd())})(Ipe,function(r){r.lib.Cipher||function(n){var s=r,i=s.lib,o=i.Base,c=i.WordArray,d=i.BufferedBlockAlgorithm,u=s.enc;u.Utf8;var l=u.Base64,f=s.algo,p=f.EvpKDF,g=i.Cipher=d.extend({cfg:o.extend(),createEncryptor:function(M,O){return this.create(this._ENC_XFORM_MODE,M,O)},createDecryptor:function(M,O){return this.create(this._DEC_XFORM_MODE,M,O)},init:function(M,O,R){this.cfg=this.cfg.extend(R),this._xformMode=M,this._key=O,this.reset()},reset:function(){d.reset.call(this),this._doReset()},process:function(M){return this._append(M),this._process()},finalize:function(M){M&&this._append(M);var O=this._doFinalize();return O},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function M(O){return typeof O=="string"?P:k}return function(O){return{encrypt:function(R,L,B){return M(L).encrypt(O,R,L,B)},decrypt:function(R,L,B){return M(L).decrypt(O,R,L,B)}}}}()});i.StreamCipher=g.extend({_doFinalize:function(){var M=this._process(!0);return M},blockSize:1});var x=s.mode={},S=i.BlockCipherMode=o.extend({createEncryptor:function(M,O){return this.Encryptor.create(M,O)},createDecryptor:function(M,O){return this.Decryptor.create(M,O)},init:function(M,O){this._cipher=M,this._iv=O}}),m=x.CBC=function(){var M=S.extend();M.Encryptor=M.extend({processBlock:function(R,L){var B=this._cipher,F=B.blockSize;O.call(this,R,L,F),B.encryptBlock(R,L),this._prevBlock=R.slice(L,L+F)}}),M.Decryptor=M.extend({processBlock:function(R,L){var B=this._cipher,F=B.blockSize,$=R.slice(L,L+F);B.decryptBlock(R,L),O.call(this,R,L,F),this._prevBlock=$}});function O(R,L,B){var F,$=this._iv;$?(F=$,this._iv=n):F=this._prevBlock;for(var z=0;z<B;z++)R[L+z]^=F[z]}return M}(),y=s.pad={},w=y.Pkcs7={pad:function(M,O){for(var R=O*4,L=R-M.sigBytes%R,B=L<<24|L<<16|L<<8|L,F=[],$=0;$<L;$+=4)F.push(B);var z=c.create(F,L);M.concat(z)},unpad:function(M){var O=M.words[M.sigBytes-1>>>2]&255;M.sigBytes-=O}};i.BlockCipher=g.extend({cfg:g.cfg.extend({mode:m,padding:w}),reset:function(){var M;g.reset.call(this);var O=this.cfg,R=O.iv,L=O.mode;this._xformMode==this._ENC_XFORM_MODE?M=L.createEncryptor:(M=L.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==M?this._mode.init(this,R&&R.words):(this._mode=M.call(L,this,R&&R.words),this._mode.__creator=M)},_doProcessBlock:function(M,O){this._mode.processBlock(M,O)},_doFinalize:function(){var M,O=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(O.pad(this._data,this.blockSize),M=this._process(!0)):(M=this._process(!0),O.unpad(M)),M},blockSize:128/32});var C=i.CipherParams=o.extend({init:function(M){this.mixIn(M)},toString:function(M){return(M||this.formatter).stringify(this)}}),E=s.format={},N=E.OpenSSL={stringify:function(M){var O,R=M.ciphertext,L=M.salt;return L?O=c.create([1398893684,1701076831]).concat(L).concat(R):O=R,O.toString(l)},parse:function(M){var O,R=l.parse(M),L=R.words;return L[0]==1398893684&&L[1]==1701076831&&(O=c.create(L.slice(2,4)),L.splice(0,4),R.sigBytes-=16),C.create({ciphertext:R,salt:O})}},k=i.SerializableCipher=o.extend({cfg:o.extend({format:N}),encrypt:function(M,O,R,L){L=this.cfg.extend(L);var B=M.createEncryptor(R,L),F=B.finalize(O),$=B.cfg;return C.create({ciphertext:F,key:R,iv:$.iv,algorithm:M,mode:$.mode,padding:$.padding,blockSize:M.blockSize,formatter:L.format})},decrypt:function(M,O,R,L){L=this.cfg.extend(L),O=this._parse(O,L.format);var B=M.createDecryptor(R,L).finalize(O.ciphertext);return B},_parse:function(M,O){return typeof M=="string"?O.parse(M,this):M}}),A=s.kdf={},T=A.OpenSSL={execute:function(M,O,R,L,B){if(L||(L=c.random(64/8)),B)var F=p.create({keySize:O+R,hasher:B}).compute(M,L);else var F=p.create({keySize:O+R}).compute(M,L);var $=c.create(F.words.slice(O),R*4);return F.sigBytes=O*4,C.create({key:F,iv:$,salt:L})}},P=i.PasswordBasedCipher=k.extend({cfg:k.cfg.extend({kdf:T}),encrypt:function(M,O,R,L){L=this.cfg.extend(L);var B=L.kdf.execute(R,M.keySize,M.ivSize,L.salt,L.hasher);L.iv=B.iv;var F=k.encrypt.call(this,M,O,B.key,L);return F.mixIn(B),F},decrypt:function(M,O,R,L){L=this.cfg.extend(L),O=this._parse(O,L.format);var B=L.kdf.execute(R,M.keySize,M.ivSize,O.salt,L.hasher);L.iv=B.iv;var F=k.decrypt.call(this,M,O,B.key,L);return F}})}()})}(u1)),u1.exports}var f1={exports:{}},Lpe=f1.exports,rF;function Bpe(){return rF||(rF=1,function(e,t){(function(r,n,s){e.exports=n(sr(),js())})(Lpe,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(i,o){var c=this._cipher,d=c.blockSize;s.call(this,i,o,d,c),this._prevBlock=i.slice(o,o+d)}}),n.Decryptor=n.extend({processBlock:function(i,o){var c=this._cipher,d=c.blockSize,u=i.slice(o,o+d);s.call(this,i,o,d,c),this._prevBlock=u}});function s(i,o,c,d){var u,l=this._iv;l?(u=l.slice(0),this._iv=void 0):u=this._prevBlock,d.encryptBlock(u,0);for(var f=0;f<c;f++)i[o+f]^=u[f]}return n}(),r.mode.CFB})}(f1)),f1.exports}var h1={exports:{}},$pe=h1.exports,nF;function Fpe(){return nF||(nF=1,function(e,t){(function(r,n,s){e.exports=n(sr(),js())})($pe,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),s=n.Encryptor=n.extend({processBlock:function(i,o){var c=this._cipher,d=c.blockSize,u=this._iv,l=this._counter;u&&(l=this._counter=u.slice(0),this._iv=void 0);var f=l.slice(0);c.encryptBlock(f,0),l[d-1]=l[d-1]+1|0;for(var p=0;p<d;p++)i[o+p]^=f[p]}});return n.Decryptor=s,n}(),r.mode.CTR})}(h1)),h1.exports}var m1={exports:{}},Hpe=m1.exports,sF;function zpe(){return sF||(sF=1,function(e,t){(function(r,n,s){e.exports=n(sr(),js())})(Hpe,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function s(c){if((c>>24&255)===255){var d=c>>16&255,u=c>>8&255,l=c&255;d===255?(d=0,u===255?(u=0,l===255?l=0:++l):++u):++d,c=0,c+=d<<16,c+=u<<8,c+=l}else c+=1<<24;return c}function i(c){return(c[0]=s(c[0]))===0&&(c[1]=s(c[1])),c}var o=n.Encryptor=n.extend({processBlock:function(c,d){var u=this._cipher,l=u.blockSize,f=this._iv,p=this._counter;f&&(p=this._counter=f.slice(0),this._iv=void 0),i(p);var g=p.slice(0);u.encryptBlock(g,0);for(var x=0;x<l;x++)c[d+x]^=g[x]}});return n.Decryptor=o,n}(),r.mode.CTRGladman})}(m1)),m1.exports}var p1={exports:{}},Upe=p1.exports,aF;function Vpe(){return aF||(aF=1,function(e,t){(function(r,n,s){e.exports=n(sr(),js())})(Upe,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),s=n.Encryptor=n.extend({processBlock:function(i,o){var c=this._cipher,d=c.blockSize,u=this._iv,l=this._keystream;u&&(l=this._keystream=u.slice(0),this._iv=void 0),c.encryptBlock(l,0);for(var f=0;f<d;f++)i[o+f]^=l[f]}});return n.Decryptor=s,n}(),r.mode.OFB})}(p1)),p1.exports}var g1={exports:{}},Wpe=g1.exports,iF;function qpe(){return iF||(iF=1,function(e,t){(function(r,n,s){e.exports=n(sr(),js())})(Wpe,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(s,i){this._cipher.encryptBlock(s,i)}}),n.Decryptor=n.extend({processBlock:function(s,i){this._cipher.decryptBlock(s,i)}}),n}(),r.mode.ECB})}(g1)),g1.exports}var x1={exports:{}},Gpe=x1.exports,oF;function Ype(){return oF||(oF=1,function(e,t){(function(r,n,s){e.exports=n(sr(),js())})(Gpe,function(r){return r.pad.AnsiX923={pad:function(n,s){var i=n.sigBytes,o=s*4,c=o-i%o,d=i+c-1;n.clamp(),n.words[d>>>2]|=c<<24-d%4*8,n.sigBytes+=c},unpad:function(n){var s=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=s}},r.pad.Ansix923})}(x1)),x1.exports}var v1={exports:{}},Kpe=v1.exports,lF;function Zpe(){return lF||(lF=1,function(e,t){(function(r,n,s){e.exports=n(sr(),js())})(Kpe,function(r){return r.pad.Iso10126={pad:function(n,s){var i=s*4,o=i-n.sigBytes%i;n.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(n){var s=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=s}},r.pad.Iso10126})}(v1)),v1.exports}var y1={exports:{}},Xpe=y1.exports,cF;function Qpe(){return cF||(cF=1,function(e,t){(function(r,n,s){e.exports=n(sr(),js())})(Xpe,function(r){return r.pad.Iso97971={pad:function(n,s){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,s)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})}(y1)),y1.exports}var b1={exports:{}},Jpe=b1.exports,dF;function ege(){return dF||(dF=1,function(e,t){(function(r,n,s){e.exports=n(sr(),js())})(Jpe,function(r){return r.pad.ZeroPadding={pad:function(n,s){var i=s*4;n.clamp(),n.sigBytes+=i-(n.sigBytes%i||i)},unpad:function(n){for(var s=n.words,i=n.sigBytes-1,i=n.sigBytes-1;i>=0;i--)if(s[i>>>2]>>>24-i%4*8&255){n.sigBytes=i+1;break}}},r.pad.ZeroPadding})}(b1)),b1.exports}var w1={exports:{}},tge=w1.exports,uF;function rge(){return uF||(uF=1,function(e,t){(function(r,n,s){e.exports=n(sr(),js())})(tge,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(w1)),w1.exports}var S1={exports:{}},nge=S1.exports,fF;function sge(){return fF||(fF=1,function(e,t){(function(r,n,s){e.exports=n(sr(),js())})(nge,function(r){return function(n){var s=r,i=s.lib,o=i.CipherParams,c=s.enc,d=c.Hex,u=s.format;u.Hex={stringify:function(l){return l.ciphertext.toString(d)},parse:function(l){var f=d.parse(l);return o.create({ciphertext:f})}}}(),r.format.Hex})}(S1)),S1.exports}var C1={exports:{}},age=C1.exports,hF;function ige(){return hF||(hF=1,function(e,t){(function(r,n,s){e.exports=n(sr(),Uf(),Vf(),Kd(),js())})(age,function(r){return function(){var n=r,s=n.lib,i=s.BlockCipher,o=n.algo,c=[],d=[],u=[],l=[],f=[],p=[],g=[],x=[],S=[],m=[];(function(){for(var C=[],E=0;E<256;E++)E<128?C[E]=E<<1:C[E]=E<<1^283;for(var N=0,k=0,E=0;E<256;E++){var A=k^k<<1^k<<2^k<<3^k<<4;A=A>>>8^A&255^99,c[N]=A,d[A]=N;var T=C[N],P=C[T],M=C[P],O=C[A]*257^A*16843008;u[N]=O<<24|O>>>8,l[N]=O<<16|O>>>16,f[N]=O<<8|O>>>24,p[N]=O;var O=M*16843009^P*65537^T*257^N*16843008;g[A]=O<<24|O>>>8,x[A]=O<<16|O>>>16,S[A]=O<<8|O>>>24,m[A]=O,N?(N=T^C[C[C[M^T]]],k^=C[C[k]]):N=k=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],w=o.AES=i.extend({_doReset:function(){var C;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var E=this._keyPriorReset=this._key,N=E.words,k=E.sigBytes/4,A=this._nRounds=k+6,T=(A+1)*4,P=this._keySchedule=[],M=0;M<T;M++)M<k?P[M]=N[M]:(C=P[M-1],M%k?k>6&&M%k==4&&(C=c[C>>>24]<<24|c[C>>>16&255]<<16|c[C>>>8&255]<<8|c[C&255]):(C=C<<8|C>>>24,C=c[C>>>24]<<24|c[C>>>16&255]<<16|c[C>>>8&255]<<8|c[C&255],C^=y[M/k|0]<<24),P[M]=P[M-k]^C);for(var O=this._invKeySchedule=[],R=0;R<T;R++){var M=T-R;if(R%4)var C=P[M];else var C=P[M-4];R<4||M<=4?O[R]=C:O[R]=g[c[C>>>24]]^x[c[C>>>16&255]]^S[c[C>>>8&255]]^m[c[C&255]]}}},encryptBlock:function(C,E){this._doCryptBlock(C,E,this._keySchedule,u,l,f,p,c)},decryptBlock:function(C,E){var N=C[E+1];C[E+1]=C[E+3],C[E+3]=N,this._doCryptBlock(C,E,this._invKeySchedule,g,x,S,m,d);var N=C[E+1];C[E+1]=C[E+3],C[E+3]=N},_doCryptBlock:function(C,E,N,k,A,T,P,M){for(var O=this._nRounds,R=C[E]^N[0],L=C[E+1]^N[1],B=C[E+2]^N[2],F=C[E+3]^N[3],$=4,z=1;z<O;z++){var W=k[R>>>24]^A[L>>>16&255]^T[B>>>8&255]^P[F&255]^N[$++],Z=k[L>>>24]^A[B>>>16&255]^T[F>>>8&255]^P[R&255]^N[$++],V=k[B>>>24]^A[F>>>16&255]^T[R>>>8&255]^P[L&255]^N[$++],q=k[F>>>24]^A[R>>>16&255]^T[L>>>8&255]^P[B&255]^N[$++];R=W,L=Z,B=V,F=q}var W=(M[R>>>24]<<24|M[L>>>16&255]<<16|M[B>>>8&255]<<8|M[F&255])^N[$++],Z=(M[L>>>24]<<24|M[B>>>16&255]<<16|M[F>>>8&255]<<8|M[R&255])^N[$++],V=(M[B>>>24]<<24|M[F>>>16&255]<<16|M[R>>>8&255]<<8|M[L&255])^N[$++],q=(M[F>>>24]<<24|M[R>>>16&255]<<16|M[L>>>8&255]<<8|M[B&255])^N[$++];C[E]=W,C[E+1]=Z,C[E+2]=V,C[E+3]=q},keySize:256/32});n.AES=i._createHelper(w)}(),r.AES})}(C1)),C1.exports}var j1={exports:{}},oge=j1.exports,mF;function lge(){return mF||(mF=1,function(e,t){(function(r,n,s){e.exports=n(sr(),Uf(),Vf(),Kd(),js())})(oge,function(r){return function(){var n=r,s=n.lib,i=s.WordArray,o=s.BlockCipher,c=n.algo,d=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],p=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],g=c.DES=o.extend({_doReset:function(){for(var y=this._key,w=y.words,C=[],E=0;E<56;E++){var N=d[E]-1;C[E]=w[N>>>5]>>>31-N%32&1}for(var k=this._subKeys=[],A=0;A<16;A++){for(var T=k[A]=[],P=l[A],E=0;E<24;E++)T[E/6|0]|=C[(u[E]-1+P)%28]<<31-E%6,T[4+(E/6|0)]|=C[28+(u[E+24]-1+P)%28]<<31-E%6;T[0]=T[0]<<1|T[0]>>>31;for(var E=1;E<7;E++)T[E]=T[E]>>>(E-1)*4+3;T[7]=T[7]<<5|T[7]>>>27}for(var M=this._invSubKeys=[],E=0;E<16;E++)M[E]=k[15-E]},encryptBlock:function(y,w){this._doCryptBlock(y,w,this._subKeys)},decryptBlock:function(y,w){this._doCryptBlock(y,w,this._invSubKeys)},_doCryptBlock:function(y,w,C){this._lBlock=y[w],this._rBlock=y[w+1],x.call(this,4,252645135),x.call(this,16,65535),S.call(this,2,858993459),S.call(this,8,16711935),x.call(this,1,1431655765);for(var E=0;E<16;E++){for(var N=C[E],k=this._lBlock,A=this._rBlock,T=0,P=0;P<8;P++)T|=f[P][((A^N[P])&p[P])>>>0];this._lBlock=A,this._rBlock=k^T}var M=this._lBlock;this._lBlock=this._rBlock,this._rBlock=M,x.call(this,1,1431655765),S.call(this,8,16711935),S.call(this,2,858993459),x.call(this,16,65535),x.call(this,4,252645135),y[w]=this._lBlock,y[w+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function x(y,w){var C=(this._lBlock>>>y^this._rBlock)&w;this._rBlock^=C,this._lBlock^=C<<y}function S(y,w){var C=(this._rBlock>>>y^this._lBlock)&w;this._lBlock^=C,this._rBlock^=C<<y}n.DES=o._createHelper(g);var m=c.TripleDES=o.extend({_doReset:function(){var y=this._key,w=y.words;if(w.length!==2&&w.length!==4&&w.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var C=w.slice(0,2),E=w.length<4?w.slice(0,2):w.slice(2,4),N=w.length<6?w.slice(0,2):w.slice(4,6);this._des1=g.createEncryptor(i.create(C)),this._des2=g.createEncryptor(i.create(E)),this._des3=g.createEncryptor(i.create(N))},encryptBlock:function(y,w){this._des1.encryptBlock(y,w),this._des2.decryptBlock(y,w),this._des3.encryptBlock(y,w)},decryptBlock:function(y,w){this._des3.decryptBlock(y,w),this._des2.encryptBlock(y,w),this._des1.decryptBlock(y,w)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=o._createHelper(m)}(),r.TripleDES})}(j1)),j1.exports}var E1={exports:{}},cge=E1.exports,pF;function dge(){return pF||(pF=1,function(e,t){(function(r,n,s){e.exports=n(sr(),Uf(),Vf(),Kd(),js())})(cge,function(r){return function(){var n=r,s=n.lib,i=s.StreamCipher,o=n.algo,c=o.RC4=i.extend({_doReset:function(){for(var l=this._key,f=l.words,p=l.sigBytes,g=this._S=[],x=0;x<256;x++)g[x]=x;for(var x=0,S=0;x<256;x++){var m=x%p,y=f[m>>>2]>>>24-m%4*8&255;S=(S+g[x]+y)%256;var w=g[x];g[x]=g[S],g[S]=w}this._i=this._j=0},_doProcessBlock:function(l,f){l[f]^=d.call(this)},keySize:256/32,ivSize:0});function d(){for(var l=this._S,f=this._i,p=this._j,g=0,x=0;x<4;x++){f=(f+1)%256,p=(p+l[f])%256;var S=l[f];l[f]=l[p],l[p]=S,g|=l[(l[f]+l[p])%256]<<24-x*8}return this._i=f,this._j=p,g}n.RC4=i._createHelper(c);var u=o.RC4Drop=c.extend({cfg:c.cfg.extend({drop:192}),_doReset:function(){c._doReset.call(this);for(var l=this.cfg.drop;l>0;l--)d.call(this)}});n.RC4Drop=i._createHelper(u)}(),r.RC4})}(E1)),E1.exports}var N1={exports:{}},uge=N1.exports,gF;function fge(){return gF||(gF=1,function(e,t){(function(r,n,s){e.exports=n(sr(),Uf(),Vf(),Kd(),js())})(uge,function(r){return function(){var n=r,s=n.lib,i=s.StreamCipher,o=n.algo,c=[],d=[],u=[],l=o.Rabbit=i.extend({_doReset:function(){for(var p=this._key.words,g=this.cfg.iv,x=0;x<4;x++)p[x]=(p[x]<<8|p[x]>>>24)&16711935|(p[x]<<24|p[x]>>>8)&4278255360;var S=this._X=[p[0],p[3]<<16|p[2]>>>16,p[1],p[0]<<16|p[3]>>>16,p[2],p[1]<<16|p[0]>>>16,p[3],p[2]<<16|p[1]>>>16],m=this._C=[p[2]<<16|p[2]>>>16,p[0]&4294901760|p[1]&65535,p[3]<<16|p[3]>>>16,p[1]&4294901760|p[2]&65535,p[0]<<16|p[0]>>>16,p[2]&4294901760|p[3]&65535,p[1]<<16|p[1]>>>16,p[3]&4294901760|p[0]&65535];this._b=0;for(var x=0;x<4;x++)f.call(this);for(var x=0;x<8;x++)m[x]^=S[x+4&7];if(g){var y=g.words,w=y[0],C=y[1],E=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,N=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,k=E>>>16|N&4294901760,A=N<<16|E&65535;m[0]^=E,m[1]^=k,m[2]^=N,m[3]^=A,m[4]^=E,m[5]^=k,m[6]^=N,m[7]^=A;for(var x=0;x<4;x++)f.call(this)}},_doProcessBlock:function(p,g){var x=this._X;f.call(this),c[0]=x[0]^x[5]>>>16^x[3]<<16,c[1]=x[2]^x[7]>>>16^x[5]<<16,c[2]=x[4]^x[1]>>>16^x[7]<<16,c[3]=x[6]^x[3]>>>16^x[1]<<16;for(var S=0;S<4;S++)c[S]=(c[S]<<8|c[S]>>>24)&16711935|(c[S]<<24|c[S]>>>8)&4278255360,p[g+S]^=c[S]},blockSize:128/32,ivSize:64/32});function f(){for(var p=this._X,g=this._C,x=0;x<8;x++)d[x]=g[x];g[0]=g[0]+1295307597+this._b|0,g[1]=g[1]+3545052371+(g[0]>>>0<d[0]>>>0?1:0)|0,g[2]=g[2]+886263092+(g[1]>>>0<d[1]>>>0?1:0)|0,g[3]=g[3]+1295307597+(g[2]>>>0<d[2]>>>0?1:0)|0,g[4]=g[4]+3545052371+(g[3]>>>0<d[3]>>>0?1:0)|0,g[5]=g[5]+886263092+(g[4]>>>0<d[4]>>>0?1:0)|0,g[6]=g[6]+1295307597+(g[5]>>>0<d[5]>>>0?1:0)|0,g[7]=g[7]+3545052371+(g[6]>>>0<d[6]>>>0?1:0)|0,this._b=g[7]>>>0<d[7]>>>0?1:0;for(var x=0;x<8;x++){var S=p[x]+g[x],m=S&65535,y=S>>>16,w=((m*m>>>17)+m*y>>>15)+y*y,C=((S&4294901760)*S|0)+((S&65535)*S|0);u[x]=w^C}p[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,p[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,p[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,p[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,p[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,p[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,p[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,p[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}n.Rabbit=i._createHelper(l)}(),r.Rabbit})}(N1)),N1.exports}var _1={exports:{}},hge=_1.exports,xF;function mge(){return xF||(xF=1,function(e,t){(function(r,n,s){e.exports=n(sr(),Uf(),Vf(),Kd(),js())})(hge,function(r){return function(){var n=r,s=n.lib,i=s.StreamCipher,o=n.algo,c=[],d=[],u=[],l=o.RabbitLegacy=i.extend({_doReset:function(){var p=this._key.words,g=this.cfg.iv,x=this._X=[p[0],p[3]<<16|p[2]>>>16,p[1],p[0]<<16|p[3]>>>16,p[2],p[1]<<16|p[0]>>>16,p[3],p[2]<<16|p[1]>>>16],S=this._C=[p[2]<<16|p[2]>>>16,p[0]&4294901760|p[1]&65535,p[3]<<16|p[3]>>>16,p[1]&4294901760|p[2]&65535,p[0]<<16|p[0]>>>16,p[2]&4294901760|p[3]&65535,p[1]<<16|p[1]>>>16,p[3]&4294901760|p[0]&65535];this._b=0;for(var m=0;m<4;m++)f.call(this);for(var m=0;m<8;m++)S[m]^=x[m+4&7];if(g){var y=g.words,w=y[0],C=y[1],E=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,N=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,k=E>>>16|N&4294901760,A=N<<16|E&65535;S[0]^=E,S[1]^=k,S[2]^=N,S[3]^=A,S[4]^=E,S[5]^=k,S[6]^=N,S[7]^=A;for(var m=0;m<4;m++)f.call(this)}},_doProcessBlock:function(p,g){var x=this._X;f.call(this),c[0]=x[0]^x[5]>>>16^x[3]<<16,c[1]=x[2]^x[7]>>>16^x[5]<<16,c[2]=x[4]^x[1]>>>16^x[7]<<16,c[3]=x[6]^x[3]>>>16^x[1]<<16;for(var S=0;S<4;S++)c[S]=(c[S]<<8|c[S]>>>24)&16711935|(c[S]<<24|c[S]>>>8)&4278255360,p[g+S]^=c[S]},blockSize:128/32,ivSize:64/32});function f(){for(var p=this._X,g=this._C,x=0;x<8;x++)d[x]=g[x];g[0]=g[0]+1295307597+this._b|0,g[1]=g[1]+3545052371+(g[0]>>>0<d[0]>>>0?1:0)|0,g[2]=g[2]+886263092+(g[1]>>>0<d[1]>>>0?1:0)|0,g[3]=g[3]+1295307597+(g[2]>>>0<d[2]>>>0?1:0)|0,g[4]=g[4]+3545052371+(g[3]>>>0<d[3]>>>0?1:0)|0,g[5]=g[5]+886263092+(g[4]>>>0<d[4]>>>0?1:0)|0,g[6]=g[6]+1295307597+(g[5]>>>0<d[5]>>>0?1:0)|0,g[7]=g[7]+3545052371+(g[6]>>>0<d[6]>>>0?1:0)|0,this._b=g[7]>>>0<d[7]>>>0?1:0;for(var x=0;x<8;x++){var S=p[x]+g[x],m=S&65535,y=S>>>16,w=((m*m>>>17)+m*y>>>15)+y*y,C=((S&4294901760)*S|0)+((S&65535)*S|0);u[x]=w^C}p[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,p[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,p[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,p[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,p[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,p[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,p[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,p[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}n.RabbitLegacy=i._createHelper(l)}(),r.RabbitLegacy})}(_1)),_1.exports}var A1={exports:{}},pge=A1.exports,vF;function gge(){return vF||(vF=1,function(e,t){(function(r,n,s){e.exports=n(sr(),Uf(),Vf(),Kd(),js())})(pge,function(r){return function(){var n=r,s=n.lib,i=s.BlockCipher,o=n.algo;const c=16,d=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var l={pbox:[],sbox:[]};function f(m,y){let w=y>>24&255,C=y>>16&255,E=y>>8&255,N=y&255,k=m.sbox[0][w]+m.sbox[1][C];return k=k^m.sbox[2][E],k=k+m.sbox[3][N],k}function p(m,y,w){let C=y,E=w,N;for(let k=0;k<c;++k)C=C^m.pbox[k],E=f(m,C)^E,N=C,C=E,E=N;return N=C,C=E,E=N,E=E^m.pbox[c],C=C^m.pbox[c+1],{left:C,right:E}}function g(m,y,w){let C=y,E=w,N;for(let k=c+1;k>1;--k)C=C^m.pbox[k],E=f(m,C)^E,N=C,C=E,E=N;return N=C,C=E,E=N,E=E^m.pbox[1],C=C^m.pbox[0],{left:C,right:E}}function x(m,y,w){for(let A=0;A<4;A++){m.sbox[A]=[];for(let T=0;T<256;T++)m.sbox[A][T]=u[A][T]}let C=0;for(let A=0;A<c+2;A++)m.pbox[A]=d[A]^y[C],C++,C>=w&&(C=0);let E=0,N=0,k=0;for(let A=0;A<c+2;A+=2)k=p(m,E,N),E=k.left,N=k.right,m.pbox[A]=E,m.pbox[A+1]=N;for(let A=0;A<4;A++)for(let T=0;T<256;T+=2)k=p(m,E,N),E=k.left,N=k.right,m.sbox[A][T]=E,m.sbox[A][T+1]=N;return!0}var S=o.Blowfish=i.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var m=this._keyPriorReset=this._key,y=m.words,w=m.sigBytes/4;x(l,y,w)}},encryptBlock:function(m,y){var w=p(l,m[y],m[y+1]);m[y]=w.left,m[y+1]=w.right},decryptBlock:function(m,y){var w=g(l,m[y],m[y+1]);m[y]=w.left,m[y+1]=w.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=i._createHelper(S)}(),r.Blowfish})}(A1)),A1.exports}var xge=Gw.exports,yF;function vge(){return yF||(yF=1,function(e,t){(function(r,n,s){e.exports=n(sr(),zj(),mpe(),gpe(),Uf(),ype(),Vf(),Tq(),bM(),jpe(),Pq(),_pe(),kpe(),Ppe(),wM(),Mpe(),Kd(),js(),Bpe(),Fpe(),zpe(),Vpe(),qpe(),Ype(),Zpe(),Qpe(),ege(),rge(),sge(),ige(),lge(),dge(),fge(),mge(),gge())})(xge,function(r){return r})}(Gw)),Gw.exports}var yge=vge();const lD=xi(yge),SM="auth_token_encrypted",Dq="something0924242457ioioyuyu!qq@@zmxncbvalskdjfhgqpwoeiruty019283",Rq=e=>{try{if(!e){oC();return}const t=lD.AES.encrypt(e,Dq).toString();localStorage.setItem(SM,t)}catch(t){console.error("Failed to save encrypted token:",t)}},os=()=>{try{const e=localStorage.getItem(SM);if(!e)return null;const r=lD.AES.decrypt(e,Dq).toString(lD.enc.Utf8);return r||(oC(),null)}catch(e){return console.error("Failed to load encrypted token:",e),oC(),null}},oC=()=>{try{localStorage.removeItem(SM)}catch(e){console.error("Failed to clear token:",e)}},bge="https://auth.pnepizza.com/api/v1",Uu=St.create({baseURL:bge,timeout:3e4,headers:{Accept:"application/json","Content-Type":"application/json"}}),wge=()=>{const t=Es.getState().auth?.token;return t||os()};Uu.interceptors.request.use(e=>{const t=wge();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));const Ip={login:async e=>await Uu.post("/auth/login",e),forgotPassword:async e=>await Uu.post("/auth/forgot-password",e),resetPassword:async e=>await Uu.post("/auth/reset-password",e),getUserProfile:async()=>await Uu.get("/auth/me"),refreshToken:async()=>await Uu.post("/auth/refresh-token"),logout:async()=>await Uu.post("/auth/logout")},bF=e=>e?.response?.status===401,x0=e=>{if(!e||!e.response)return e?.message?e.message:"Network error. Please check your connection.";const{status:t,data:r}=e.response;if(t===422&&r?.errors){const n=[];return Object.keys(r.errors).forEach(s=>{const i=r.errors[s];Array.isArray(i)?n.push(...i):typeof i=="string"&&n.push(i)}),n.length>0?n.length===1?n[0]:n.join(", "):r.message||"Invalid data provided"}return t===401?r?.message?r.message.includes("Invalid credentials")?"Invalid email or password":r.message.includes("verify your email")?"Please verify your email before logging in":r.message.includes("Unauthenticated")?"Your session has expired. Please login again":r.message:"Authentication required. Please login":t===400?r?.message?r.message.includes("Invalid or expired OTP")?"The verification code is invalid or has expired":r.message.includes("already been taken")?"This email address is already registered":r.message.includes("already verified")?"Your email is already verified":r.message:"Invalid request":t===403?r?.message||"You do not have permission to perform this action":t===404?r?.message||"The requested resource was not found":t===429?"Too many requests. Please try again later":t>=500?"Server error. Please try again later":r?.message?r.message:r?.error?r.error:"An unexpected error occurred"},Sge=e=>{if(!e?.response?.data?.errors)return{};const{errors:t}=e.response.data,r={};return Object.keys(t).forEach(n=>{const s=t[n];Array.isArray(s)?r[n]=s:typeof s=="string"&&(r[n]=[s])}),r},CM="auth_permissions_and_roles",Mq=e=>{try{const t=JSON.stringify(e);localStorage.setItem(CM,t)}catch(t){console.error("Failed to save permissions and roles:",t)}},Uj=()=>{try{const e=localStorage.getItem(CM);if(!e)return null;const t=JSON.parse(e);return!t||typeof t!="object"?(cD(),null):t}catch(e){return console.error("Failed to load permissions and roles:",e),cD(),null}},cD=()=>{try{localStorage.removeItem(CM)}catch(e){console.error("Failed to clear permissions and roles:",e)}},jM=()=>{const e=Uj();return!e||!e.global_roles?[]:e.global_roles.map(t=>t.name)},Cge=()=>Uj()?.stores||[],jge=e=>e?jM().includes(e):!1,Ege=e=>{if(!e||e.length===0)return!1;const t=jM();return e.some(r=>t.includes(r))},Nge=e=>{if(!e||e.length===0)return!1;const t=jM();return e.every(r=>t.includes(r))},wF=2,hv="authRetryCount",Jb={user:null,token:null,permissions:[],roles:[],isLoading:!1,error:null,isAuthenticated:!1,isInitialized:!1},kk=e=>{const t=e.all_permissions?.map(n=>n.name)||[],r=e.global_roles?.map(n=>n.name)||[];return{permissions:t,roles:r}},_ge=(e,t)=>{Rq(t);const r={cached_at:new Date().toISOString(),expires_at:new Date(Date.now()+30*60*1e3).toISOString(),all_permissions:e.all_permissions||[],global_roles:e.global_roles||[],global_permissions:e.global_permissions||[],roles_permissions:e.all_permissions||[],stores:e.stores||[],summary:e.summary};Mq(r)},k1=He("auth/refreshToken",async(e,t)=>{try{const r=await Ip.refreshToken();if(r.data.success&&r.data.data?.token){const n=r.data.data.token;return Rq(n),localStorage.removeItem(hv),n}return t.rejectWithValue("Failed to refresh token")}catch(r){return t.rejectWithValue(x0(r))}}),T1=He("auth/login",async(e,t)=>{try{const r=await Ip.login(e);if(r.data.success&&r.data.data?.user&&r.data.data?.token){const n=r.data.data;return _ge(n.user,n.token),n}return t.rejectWithValue(r.data.message||"Login failed")}catch(r){return t.rejectWithValue(x0(r))}}),P1=He("auth/forgotPassword",async(e,t)=>{try{const r=await Ip.forgotPassword(e);return r.data.success?void 0:t.rejectWithValue(r.data.message||"Forgot password failed")}catch(r){return t.rejectWithValue(x0(r))}}),D1=He("auth/resetPassword",async(e,t)=>{try{const r=await Ip.resetPassword(e);return r.data.success?void 0:t.rejectWithValue(r.data.message||"Reset password failed")}catch(r){return t.rejectWithValue(x0(r))}}),R1=He("auth/getUserProfile",async(e,t)=>{let r=parseInt(localStorage.getItem(hv)||"0");const n=async()=>{try{const s=await Ip.getUserProfile();if(s.data.success&&s.data.data?.user)return localStorage.removeItem(hv),s.data.data.user;throw new Error("Failed to load profile")}catch(s){if(bF(s)&&r<wF){if(r++,localStorage.setItem(hv,r.toString()),(await t.dispatch(k1())).meta.requestStatus==="fulfilled")return n();throw t.dispatch(Wm()),new Error("Session expired. Please login again.")}throw r>=wF&&bF(s)?(t.dispatch(Wm()),new Error("Session expired. Please login again.")):s}};try{return await n()}catch(s){return t.rejectWithValue(x0(s))}}),Wm=He("auth/logout",async()=>{try{await Ip.logout()}catch{}oC(),cD(),localStorage.removeItem(hv)}),Oq=nr({name:"auth",initialState:Jb,reducers:{initializeAuth:e=>{const t=os(),r=Uj();if(t&&r&&(e.token=t,e.isAuthenticated=!0,r.all_permissions||r.global_roles)){e.user={id:0,name:"",email:"",email_verified_at:null,created_at:"",updated_at:"",global_roles:r.global_roles||[],global_permissions:r.global_permissions||[],all_permissions:r.all_permissions||[],stores:r.stores||[],summary:r.summary||{total_stores:0,total_roles:0,total_permissions:0,manageable_users_count:0}};const{permissions:n,roles:s}=kk(e.user);e.permissions=n,e.roles=s}e.isInitialized=!0},clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(T1.pending,t=>{t.isLoading=!0,t.error=null}).addCase(T1.fulfilled,(t,r)=>{t.isLoading=!1,t.error=null,t.user=r.payload.user,t.token=r.payload.token,t.isAuthenticated=!0;const{permissions:n,roles:s}=kk(r.payload.user);t.permissions=n,t.roles=s}).addCase(T1.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload??"Login failed",t.isAuthenticated=!1}).addCase(P1.pending,t=>{t.isLoading=!0,t.error=null}).addCase(P1.fulfilled,t=>{t.isLoading=!1,t.error=null}).addCase(P1.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload??"Forgot password failed"}).addCase(D1.pending,t=>{t.isLoading=!0,t.error=null}).addCase(D1.fulfilled,t=>{t.isLoading=!1,t.error=null}).addCase(D1.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload??"Reset password failed"}).addCase(R1.pending,t=>{t.isLoading=!0,t.error=null}).addCase(R1.fulfilled,(t,r)=>{t.isLoading=!1,t.error=null,t.user=r.payload,t.isAuthenticated=!0;const{permissions:n,roles:s}=kk(r.payload);t.permissions=n,t.roles=s;const i={cached_at:new Date().toISOString(),expires_at:new Date(Date.now()+30*60*1e3).toISOString(),all_permissions:r.payload.all_permissions||[],global_roles:r.payload.global_roles||[],global_permissions:r.payload.global_permissions||[],roles_permissions:r.payload.all_permissions||[],stores:r.payload.stores||[],summary:r.payload.summary};Mq(i)}).addCase(R1.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload??"Failed to load profile"}).addCase(k1.pending,t=>{}).addCase(k1.fulfilled,(t,r)=>{t.token=r.payload,t.error=null}).addCase(k1.rejected,t=>{Object.assign(t,Jb)}).addCase(Wm.pending,t=>{t.isLoading=!0}).addCase(Wm.fulfilled,t=>{Object.assign(t,Jb)}).addCase(Wm.rejected,t=>{Object.assign(t,Jb)})}}),{initializeAuth:Age,clearError:kge}=Oq.actions,Tge=Oq.reducer,Pge="https://auth.pnepizza.com/api/v1",lC=St.create({baseURL:Pge,headers:{Accept:"application/json","Content-Type":"application/json"},timeout:3e4}),Iq=()=>{try{const t=Es.getState().auth?.token;return t||os()}catch(e){return console.error("Error retrieving auth token:",e),null}};lC.interceptors.request.use(e=>{const t=Iq();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));lC.interceptors.response.use(e=>e,e=>{const t=Dge(e);return Promise.reject(t)});const Dge=e=>{const t=e.response?.status,r=e.response?.data;switch(t){case 401:return{type:"UNAUTHORIZED",message:"Authentication failed. Please log in again.",statusCode:401};case 403:return{type:"UNAUTHORIZED",message:"You do not have permission to perform this action.",statusCode:403};case 422:const n=r?.errors;return{type:"VALIDATION_ERROR",message:(n?Object.values(n)[0]?.[0]:null)||r?.message||"Validation failed",statusCode:422};case 409:return{type:"PERMISSION_EXISTS",message:"A permission with this name already exists.",statusCode:409};case 500:case 502:case 503:return{type:"NETWORK_ERROR",message:"Server error. Please try again later.",statusCode:t};default:return{type:"UNKNOWN_ERROR",message:r?.message||e.message||"An unexpected error occurred",statusCode:t}}},Rge=e=>{const t=new URLSearchParams;e.page!==void 0&&t.append("page",e.page.toString()),e.per_page!==void 0&&t.append("per_page",e.per_page.toString()),e.search&&e.search.trim()&&t.append("search",e.search.trim());const r=t.toString();return r?`?${r}`:""};class Mge{async getPermissions(t={}){try{const r=Rge(t),n=await lC.get(`/permissions${r}`);if(!n.data.success)throw new Error("API returned success: false");return n.data}catch(r){throw console.error("Failed to fetch permissions:",r),r}}async createPermission(t){try{if(!t.name?.trim())throw{type:"VALIDATION_ERROR",message:"Permission name is required",field:"name"};if(!t.guard_name?.trim())throw{type:"VALIDATION_ERROR",message:"Guard name is required",field:"guard_name"};const r=await lC.post("/permissions",{name:t.name.trim(),guard_name:t.guard_name.trim()});if(!r.data.success)throw new Error("API returned success: false");return r.data.data.permission}catch(r){throw console.error("Failed to create permission:",r),r}}async checkHealth(){try{return Iq()?(await this.getPermissions({per_page:1}),!0):!1}catch(t){return console.error("Health check failed:",t),!1}}async getPermissionsForSelect(){try{return(await this.getPermissions()).data.data.map(r=>({value:r.id,label:r.name,permission:r}))}catch(t){throw console.error("Failed to fetch permissions for select:",t),t}}async searchPermissions(t){try{return t.trim()?(await this.getPermissions({search:t.trim(),per_page:50})).data.data:(await this.getPermissions()).data.data}catch(r){throw console.error("Failed to search permissions:",r),r}}}const Vj=new Mge,{getPermissions:Qmt,createPermission:Jmt,checkHealth:ept,getPermissionsForSelect:tpt,searchPermissions:rpt}=Vj,SF={permissions:[],loading:!1,error:null,pagination:null,createLoading:!1,createError:null},mv=He("permissions/fetchPermissions",async(e={},{rejectWithValue:t})=>{try{const r=await Vj.getPermissions(e),n={currentPage:r.data.current_page,lastPage:r.data.last_page,perPage:r.data.per_page,total:r.data.total,from:r.data.from,to:r.data.to};return{permissions:r.data.data,pagination:n}}catch(r){return r&&typeof r=="object"&&"message"in r?t(r.message):t("Failed to fetch permissions. Please try again.")}}),M1=He("permissions/createPermission",async(e,{rejectWithValue:t,dispatch:r})=>{try{const n=await Vj.createPermission(e);return r(mv({per_page:15})),n}catch(n){return n&&typeof n=="object"&&"message"in n?t(n.message):t("Failed to create permission. Please try again.")}}),Tk=He("permissions/searchPermissions",async(e,{rejectWithValue:t})=>{try{return await Vj.searchPermissions(e)}catch(r){return r&&typeof r=="object"&&"message"in r?t(r.message):t("Failed to search permissions. Please try again.")}}),Lq=nr({name:"permissions",initialState:SF,reducers:{clearErrors:e=>{e.error=null,e.createError=null},clearFetchError:e=>{e.error=null},clearCreateError:e=>{e.createError=null},resetPermissionsState:()=>SF,addPermissionOptimistic:(e,t)=>{e.permissions.unshift(t.payload),e.pagination&&(e.pagination.total+=1)},removePermissionOptimistic:(e,t)=>{e.permissions=e.permissions.filter(r=>r.id!==t.payload),e.pagination&&(e.pagination.total=Math.max(0,e.pagination.total-1))},updatePermission:(e,t)=>{const r=e.permissions.findIndex(n=>n.id===t.payload.id);r!==-1&&(e.permissions[r]=t.payload)},setLoading:(e,t)=>{e.loading=t.payload},setCreateLoading:(e,t)=>{e.createLoading=t.payload}},extraReducers:e=>{e.addCase(mv.pending,t=>{t.loading=!0,t.error=null}).addCase(mv.fulfilled,(t,r)=>{t.loading=!1,t.error=null,t.permissions=r.payload.permissions,t.pagination=r.payload.pagination}).addCase(mv.rejected,(t,r)=>{t.loading=!1,t.error=r.payload||"Failed to fetch permissions"}),e.addCase(M1.pending,t=>{t.createLoading=!0,t.createError=null}).addCase(M1.fulfilled,(t,r)=>{t.createLoading=!1,t.createError=null,t.permissions.findIndex(s=>s.id===r.payload.id)===-1&&(t.permissions.unshift(r.payload),t.pagination&&(t.pagination.total+=1))}).addCase(M1.rejected,(t,r)=>{t.createLoading=!1,t.createError=r.payload||"Failed to create permission"}),e.addCase(Tk.pending,t=>{t.loading=!0,t.error=null}).addCase(Tk.fulfilled,(t,r)=>{t.loading=!1,t.error=null,t.permissions=r.payload,t.pagination=null}).addCase(Tk.rejected,(t,r)=>{t.loading=!1,t.error=r.payload||"Failed to search permissions"})}}),{clearErrors:npt,clearFetchError:Oge,clearCreateError:Ige,resetPermissionsState:spt,addPermissionOptimistic:Lge,removePermissionOptimistic:CF,updatePermission:apt,setLoading:ipt,setCreateLoading:opt}=Lq.actions,Bge=Lq.reducer,$ge=e=>e.permissions.permissions,Fge=e=>e.permissions.loading,Hge=e=>e.permissions.error,zge=e=>e.permissions.pagination,Uge=e=>e.permissions.createLoading,Vge=e=>e.permissions.createError,Wge=e=>e.permissions.permissions.length>0,qge=e=>!e.permissions.loading&&e.permissions.permissions.length===0,Gge=e=>e.permissions.pagination?.total??e.permissions.permissions.length,Wj={WEB:"web",API:"api"},em={NAME_MIN_LENGTH:3,NAME_MAX_LENGTH:255,MAX_PERMISSIONS_PER_ROLE:50},ew={GET_ALL:"/roles",CREATE:"/roles",GET_BY_ID:e=>`/roles/${e}`,UPDATE:e=>`/roles/${e}`,DELETE:e=>`/roles/${e}`,ASSIGN_PERMISSIONS:e=>`/roles/${e}/permissions/assign`,REVOKE_PERMISSIONS:e=>`/roles/${e}/permissions/revoke`},Yge="https://auth.pnepizza.com/api/v1",Pm=St.create({baseURL:Yge,headers:{Accept:"application/json","Content-Type":"application/json"},timeout:3e4}),Bq=()=>{try{const t=Es.getState().auth?.token;return t||os()}catch(e){return console.error("Error retrieving auth token:",e),null}};Pm.interceptors.request.use(e=>{const t=Bq();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));Pm.interceptors.response.use(e=>e,e=>{const t=Kge(e);return Promise.reject(t)});const Kge=e=>{const t=e.response?.status,r=e.response?.data;switch(t){case 401:return{type:"UNAUTHORIZED",message:"Authentication failed. Please log in again.",statusCode:401};case 403:return{type:"UNAUTHORIZED",message:"You do not have permission to perform this action.",statusCode:403};case 404:return{type:"ROLE_NOT_FOUND",message:"The requested role was not found.",statusCode:404};case 422:const n=r?.errors;return n?.name?.includes("The name has already been taken.")?{type:"ROLE_EXISTS",message:"A role with this name already exists.",statusCode:422}:n?.permissions?{type:"PERMISSION_NOT_FOUND",message:"One or more selected permissions are invalid.",statusCode:422}:{type:"VALIDATION_ERROR",message:(n?Object.values(n)[0]?.[0]:null)||r?.message||"Validation failed",statusCode:422};case 500:case 502:case 503:return{type:"NETWORK_ERROR",message:"Server error. Please try again later.",statusCode:t};default:return{type:"UNKNOWN_ERROR",message:r?.message||e.message||"An unexpected error occurred",statusCode:t}}},Zge=e=>{const t=new URLSearchParams;e.page!==void 0&&t.append("page",e.page.toString()),e.per_page!==void 0&&t.append("per_page",e.per_page.toString()),e.search&&e.search.trim()&&t.append("search",e.search.trim());const r=t.toString();return r?`?${r}`:""};class Xge{async getRoles(t={}){try{const r=Zge(t),n=await Pm.get(`${ew.GET_ALL}${r}`);if(!n.data.success)throw new Error("API returned success: false");return n.data}catch(r){throw console.error("Failed to fetch roles:",r),r}}async createRole(t){try{if(!t.name?.trim())throw{type:"VALIDATION_ERROR",message:"Role name is required",field:"name"};if(!t.guard_name?.trim())throw{type:"VALIDATION_ERROR",message:"Guard name is required",field:"guard_name"};if(!Array.isArray(t.permissions))throw{type:"VALIDATION_ERROR",message:"Permissions must be an array",field:"permissions"};const r=await Pm.post(ew.CREATE,{name:t.name.trim(),guard_name:t.guard_name.trim(),permissions:t.permissions});if(!r.data.success)throw new Error("API returned success: false");return r.data.data.role}catch(r){throw console.error("Failed to create role:",r),r}}async assignPermissionsToRole(t,r){try{if(!t||t<=0)throw{type:"VALIDATION_ERROR",message:"Valid role ID is required",field:"roleId"};if(!Array.isArray(r))throw{type:"VALIDATION_ERROR",message:"Permissions must be an array",field:"permissions"};if(r.length===0)throw{type:"VALIDATION_ERROR",message:"At least one permission must be provided",field:"permissions"};const n={permissions:r.filter(i=>i.trim())},s=await Pm.post(ew.ASSIGN_PERMISSIONS(t),n);if(!s.data.success)throw new Error("API returned success: false");return s.data.data.role}catch(n){throw console.error("Failed to assign permissions to role:",n),n}}async getRoleById(t){try{if(!t||t<=0)throw{type:"VALIDATION_ERROR",message:"Valid role ID is required",field:"roleId"};const r=await Pm.get(ew.GET_BY_ID(t));if(!r.data.success)throw new Error("API returned success: false");return r.data.data.role}catch(r){throw console.error("Failed to fetch role by ID:",r),r}}async searchRoles(t){try{return t.trim()?(await this.getRoles({search:t.trim(),per_page:50})).data.data:(await this.getRoles()).data.data}catch(r){throw console.error("Failed to search roles:",r),r}}async getRolesForSelect(){try{return(await this.getRoles()).data.data.map(r=>({value:r.id,label:r.name,role:r}))}catch(t){throw console.error("Failed to fetch roles for select:",t),t}}async checkHealth(){try{return Bq()?(await this.getRoles({per_page:1}),!0):!1}catch(t){return console.error("Health check failed:",t),!1}}async getRolesWithPermissionCounts(){try{return(await this.getRoles()).data.data.map(r=>({...r,permission_count:r.permissions?.length||0}))}catch(t){throw console.error("Failed to fetch roles with permission counts:",t),t}}async bulkAssignPermissions(t,r){try{if(!Array.isArray(t)||t.length===0)throw{type:"VALIDATION_ERROR",message:"At least one role ID must be provided",field:"roleIds"};const n=await Promise.allSettled(t.map(o=>this.assignPermissionsToRole(o,r))),s=[],i=[];return n.forEach((o,c)=>{o.status==="fulfilled"?s.push(o.value):i.push({roleId:t[c],error:o.reason})}),i.length>0&&console.warn("Some bulk assignments failed:",i),s}catch(n){throw console.error("Failed to bulk assign permissions:",n),n}}}const Lp=new Xge,{getRoles:lpt,createRole:cpt,assignPermissionsToRole:dpt,getRoleById:upt,searchRoles:fpt,getRolesForSelect:hpt,checkHealth:mpt,getRolesWithPermissionCounts:ppt,bulkAssignPermissions:gpt}=Lp,jF={roles:[],loading:!1,error:null,pagination:null,createLoading:!1,createError:null,assignLoading:!1,assignError:null,selectedRoleId:null},pv=He("roles/fetchRoles",async(e={},{rejectWithValue:t})=>{try{const r=await Lp.getRoles(e),n={currentPage:r.data.current_page,lastPage:r.data.last_page,perPage:r.data.per_page,total:r.data.total,from:r.data.from,to:r.data.to};return{roles:r.data.data,pagination:n}}catch(r){return r&&typeof r=="object"&&"message"in r?t(r.message):t("Failed to fetch roles. Please try again.")}}),O1=He("roles/createRole",async(e,{rejectWithValue:t,dispatch:r})=>{try{const n=await Lp.createRole(e);return r(pv({per_page:15})),n}catch(n){return n&&typeof n=="object"&&"message"in n?t(n.message):t("Failed to create role. Please try again.")}}),I1=He("roles/assignPermissionsToRole",async({roleId:e,permissions:t},{rejectWithValue:r})=>{try{return await Lp.assignPermissionsToRole(e,t)}catch(n){return n&&typeof n=="object"&&"message"in n?r(n.message):r("Failed to assign permissions to role. Please try again.")}}),Pk=He("roles/searchRoles",async(e,{rejectWithValue:t})=>{try{return await Lp.searchRoles(e)}catch(r){return r&&typeof r=="object"&&"message"in r?t(r.message):t("Failed to search roles. Please try again.")}}),Dk=He("roles/fetchRoleById",async(e,{rejectWithValue:t})=>{try{return await Lp.getRoleById(e)}catch(r){return r&&typeof r=="object"&&"message"in r?t(r.message):t("Failed to fetch role. Please try again.")}}),$q=nr({name:"roles",initialState:jF,reducers:{clearErrors:e=>{e.error=null,e.createError=null,e.assignError=null},clearFetchError:e=>{e.error=null},clearCreateError:e=>{e.createError=null},clearAssignError:e=>{e.assignError=null},resetRolesState:()=>jF,setSelectedRoleId:(e,t)=>{e.selectedRoleId=t.payload},addRoleOptimistic:(e,t)=>{e.roles.unshift(t.payload),e.pagination&&(e.pagination.total+=1)},removeRoleOptimistic:(e,t)=>{e.roles=e.roles.filter(r=>r.id!==t.payload),e.pagination&&(e.pagination.total=Math.max(0,e.pagination.total-1))},updateRole:(e,t)=>{const r=e.roles.findIndex(n=>n.id===t.payload.id);r!==-1&&(e.roles[r]=t.payload)},updateRolePermissions:(e,t)=>{const{roleId:r}=t.payload,n=e.roles.findIndex(s=>s.id===r);n!==-1&&(e.roles[n]={...e.roles[n],updated_at:new Date().toISOString()})},setLoading:(e,t)=>{e.loading=t.payload},setCreateLoading:(e,t)=>{e.createLoading=t.payload},setAssignLoading:(e,t)=>{e.assignLoading=t.payload}},extraReducers:e=>{e.addCase(pv.pending,t=>{t.loading=!0,t.error=null}).addCase(pv.fulfilled,(t,r)=>{t.loading=!1,t.error=null,t.roles=r.payload.roles,t.pagination=r.payload.pagination}).addCase(pv.rejected,(t,r)=>{t.loading=!1,t.error=r.payload||"Failed to fetch roles"}),e.addCase(O1.pending,t=>{t.createLoading=!0,t.createError=null}).addCase(O1.fulfilled,(t,r)=>{t.createLoading=!1,t.createError=null,t.roles.findIndex(s=>s.id===r.payload.id)===-1&&(t.roles.unshift(r.payload),t.pagination&&(t.pagination.total+=1))}).addCase(O1.rejected,(t,r)=>{t.createLoading=!1,t.createError=r.payload||"Failed to create role"}),e.addCase(I1.pending,t=>{t.assignLoading=!0,t.assignError=null}).addCase(I1.fulfilled,(t,r)=>{t.assignLoading=!1,t.assignError=null;const n=t.roles.findIndex(s=>s.id===r.payload.id);n!==-1&&(t.roles[n]=r.payload)}).addCase(I1.rejected,(t,r)=>{t.assignLoading=!1,t.assignError=r.payload||"Failed to assign permissions to role"}),e.addCase(Pk.pending,t=>{t.loading=!0,t.error=null}).addCase(Pk.fulfilled,(t,r)=>{t.loading=!1,t.error=null,t.roles=r.payload,t.pagination=null}).addCase(Pk.rejected,(t,r)=>{t.loading=!1,t.error=r.payload||"Failed to search roles"}),e.addCase(Dk.pending,t=>{t.loading=!0,t.error=null}).addCase(Dk.fulfilled,(t,r)=>{t.loading=!1,t.error=null;const n=t.roles.findIndex(s=>s.id===r.payload.id);n!==-1?t.roles[n]=r.payload:t.roles.push(r.payload)}).addCase(Dk.rejected,(t,r)=>{t.loading=!1,t.error=r.payload||"Failed to fetch role"})}}),{clearErrors:xpt,clearFetchError:Qge,clearCreateError:Jge,clearAssignError:exe,resetRolesState:vpt,setSelectedRoleId:ypt,addRoleOptimistic:txe,removeRoleOptimistic:EF,updateRole:bpt,updateRolePermissions:wpt,setLoading:Spt,setCreateLoading:Cpt,setAssignLoading:jpt}=$q.actions,rxe=$q.reducer,nxe=e=>e.roles.roles,sxe=e=>e.roles.loading,axe=e=>e.roles.error,ixe=e=>e.roles.pagination,oxe=e=>e.roles.createLoading,lxe=e=>e.roles.createError,cxe=e=>e.roles.assignLoading,dxe=e=>e.roles.assignError,uxe=e=>e.roles.roles.map(t=>({...t,permission_count:t.permissions?.length||0})),fxe=e=>e.roles.roles.length>0,hxe=e=>!e.roles.loading&&e.roles.roles.length===0,mxe=e=>e.roles.pagination?.total??e.roles.roles.length,Ga={NAME_MIN_LENGTH:2,NAME_MAX_LENGTH:255,EMAIL_MAX_LENGTH:255,PASSWORD_MIN_LENGTH:8,PASSWORD_MAX_LENGTH:255,MAX_ROLES_PER_USER:10,MAX_PERMISSIONS_PER_USER:50},Ou={GET_ALL:"/users",CREATE:"/users",GET_BY_ID:e=>`/users/${e}`,UPDATE:e=>`/users/${e}`,DELETE:e=>`/users/${e}`,ASSIGN_ROLES:e=>`/users/${e}/roles/assign`,REVOKE_ROLES:e=>`/users/${e}/roles/revoke`,GIVE_PERMISSIONS:e=>`/users/${e}/permissions/give`,REVOKE_PERMISSIONS:e=>`/users/${e}/permissions/revoke`},pxe="https://auth.pnepizza.com/api/v1",Yl=St.create({baseURL:pxe,headers:{Accept:"application/json","Content-Type":"application/json"},timeout:3e4}),Fq=()=>{try{const t=Es.getState().auth?.token;return t||os()}catch(e){return console.error("Error retrieving auth token:",e),null}};Yl.interceptors.request.use(e=>{const t=Fq();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));Yl.interceptors.response.use(e=>e,e=>{const t=gxe(e);return Promise.reject(t)});const gxe=e=>{const t=e.response?.status,r=e.response?.data;switch(t){case 401:return{type:"UNAUTHORIZED",message:"Authentication failed. Please log in again.",statusCode:401};case 403:return{type:"UNAUTHORIZED",message:"You do not have permission to perform this action.",statusCode:403};case 404:return{type:"USER_NOT_FOUND",message:"The requested user was not found.",statusCode:404};case 422:const n=r?.errors;return n?.email?.includes("The email has already been taken.")?{type:"EMAIL_TAKEN",message:"This email address is already registered.",statusCode:422}:n?.password?.some(i=>i.toLowerCase().includes("at least 8 characters"))?{type:"WEAK_PASSWORD",message:"Password must be at least 8 characters long.",statusCode:422}:n?.password_confirmation?{type:"PASSWORD_MISMATCH",message:"Password confirmation does not match.",statusCode:422}:n?.roles?.some(i=>i.includes("invalid"))?{type:"ROLE_NOT_FOUND",message:"One or more selected roles are invalid.",statusCode:422}:n?.permissions?.some(i=>i.includes("invalid"))?{type:"PERMISSION_NOT_FOUND",message:"One or more selected permissions are invalid.",statusCode:422}:{type:"VALIDATION_ERROR",message:(n?Object.values(n)[0]?.[0]:null)||r?.message||"Validation failed",statusCode:422};case 400:return r?.message&&r.message.toLowerCase().includes("cannot delete user")?{type:"CANNOT_DELETE_USER",message:r.message,statusCode:400}:{type:"VALIDATION_ERROR",message:r?.message||"Bad request",statusCode:400};case 500:case 502:case 503:return{type:"NETWORK_ERROR",message:"Server error. Please try again later.",statusCode:t};default:return{type:"UNKNOWN_ERROR",message:r?.message||e.message||"An unexpected error occurred",statusCode:t}}},xxe=e=>{const t=new URLSearchParams;e.page!==void 0&&t.append("page",e.page.toString()),e.per_page!==void 0&&t.append("per_page",e.per_page.toString()),e.search&&e.search.trim()&&t.append("search",e.search.trim()),e.role&&e.role.trim()&&t.append("role",e.role.trim());const r=t.toString();return r?`?${r}`:""};class vxe{async getUsers(t={}){try{const r=xxe(t),n=await Yl.get(`${Ou.GET_ALL}${r}`);if(!n.data.success)throw new Error("API returned success: false");return n.data}catch(r){throw console.error("Failed to fetch users:",r),r}}async createUser(t){try{if(!t.name?.trim())throw{type:"VALIDATION_ERROR",message:"User name is required",field:"name"};if(!t.email?.trim())throw{type:"VALIDATION_ERROR",message:"Email is required",field:"email"};if(!t.password||t.password.length<8)throw{type:"WEAK_PASSWORD",message:"Password must be at least 8 characters long",field:"password"};if(t.password!==t.password_confirmation)throw{type:"PASSWORD_MISMATCH",message:"Password confirmation does not match",field:"password_confirmation"};if(!Array.isArray(t.roles))throw{type:"VALIDATION_ERROR",message:"Roles must be an array",field:"roles"};if(!Array.isArray(t.permissions))throw{type:"VALIDATION_ERROR",message:"Permissions must be an array",field:"permissions"};const r=await Yl.post(Ou.CREATE,{name:t.name.trim(),email:t.email.trim(),password:t.password,password_confirmation:t.password_confirmation,roles:t.roles,permissions:t.permissions});if(!r.data.success)throw new Error("API returned success: false");return r.data.data.user}catch(r){throw console.error("Failed to create user:",r),r}}async getUserById(t){try{if(!t||t<=0)throw{type:"VALIDATION_ERROR",message:"Valid user ID is required",field:"userId"};const r=await Yl.get(Ou.GET_BY_ID(t));if(!r.data.success)throw new Error("API returned success: false");return r.data.data.user}catch(r){throw console.error("Failed to fetch user by ID:",r),r}}async updateUser(t,r){try{if(!t||t<=0)throw{type:"VALIDATION_ERROR",message:"Valid user ID is required",field:"userId"};if(r.password&&r.password.length<8)throw{type:"WEAK_PASSWORD",message:"Password must be at least 8 characters long",field:"password"};if(r.password&&r.password!==r.password_confirmation)throw{type:"PASSWORD_MISMATCH",message:"Password confirmation does not match",field:"password_confirmation"};const n=await Yl.put(Ou.UPDATE(t),r);if(!n.data.success)throw new Error("API returned success: false");return n.data.data.user}catch(n){throw console.error("Failed to update user:",n),n}}async deleteUser(t){try{if(!t||t<=0)throw{type:"VALIDATION_ERROR",message:"Valid user ID is required",field:"userId"};if(!(await Yl.delete(Ou.DELETE(t))).data.success)throw new Error("API returned success: false")}catch(r){throw console.error("Failed to delete user:",r),r}}async assignRolesToUser(t,r){try{if(!t||t<=0)throw{type:"VALIDATION_ERROR",message:"Valid user ID is required",field:"userId"};if(!Array.isArray(r))throw{type:"VALIDATION_ERROR",message:"Roles must be an array",field:"roles"};const n={roles:r.filter(i=>i.trim())},s=await Yl.post(Ou.ASSIGN_ROLES(t),n);if(!s.data.success)throw new Error("API returned success: false");return s.data.data.user}catch(n){throw console.error("Failed to assign roles to user:",n),n}}async givePermissionsToUser(t,r){try{if(!t||t<=0)throw{type:"VALIDATION_ERROR",message:"Valid user ID is required",field:"userId"};if(!Array.isArray(r))throw{type:"VALIDATION_ERROR",message:"Permissions must be an array",field:"permissions"};const n={permissions:r.filter(i=>i.trim())},s=await Yl.post(Ou.GIVE_PERMISSIONS(t),n);if(!s.data.success)throw new Error("API returned success: false");return s.data.data.user}catch(n){throw console.error("Failed to give permissions to user:",n),n}}async searchUsers(t){try{return t.trim()?(await this.getUsers({search:t.trim(),per_page:50})).data.data:(await this.getUsers()).data.data}catch(r){throw console.error("Failed to search users:",r),r}}async getUsersForSelect(){try{return(await this.getUsers()).data.data.map(r=>({value:r.id,label:`${r.name} (${r.email})`,user:r}))}catch(t){throw console.error("Failed to fetch users for select:",t),t}}async checkHealth(){try{return Fq()?(await this.getUsers({per_page:1}),!0):!1}catch(t){return console.error("Health check failed:",t),!1}}async getUsersWithCounts(){try{return(await this.getUsers()).data.data.map(r=>({...r,role_count:r.roles?.length||0,permission_count:r.permissions?.length||0,store_count:r.stores?.length||0}))}catch(t){throw console.error("Failed to fetch users with counts:",t),t}}async bulkAssignRoles(t,r){try{if(!Array.isArray(t)||t.length===0)throw{type:"VALIDATION_ERROR",message:"At least one user ID must be provided",field:"userIds"};const n=await Promise.allSettled(t.map(o=>this.assignRolesToUser(o,r))),s=[],i=[];return n.forEach((o,c)=>{o.status==="fulfilled"?s.push(o.value):i.push({userId:t[c],error:o.reason})}),i.length>0&&console.warn("Some bulk assignments failed:",i),s}catch(n){throw console.error("Failed to bulk assign roles:",n),n}}}const Ac=new vxe,{getUsers:Ept,createUser:Npt,getUserById:_pt,updateUser:Apt,deleteUser:kpt,assignRolesToUser:Tpt,givePermissionsToUser:Ppt,searchUsers:Dpt,getUsersForSelect:Rpt,checkHealth:Mpt,getUsersWithCounts:Opt,bulkAssignRoles:Ipt}=Ac,NF={users:[],loading:!1,error:null,pagination:null,perPage:10,createLoading:!1,createError:null,updateLoading:!1,updateError:null,deleteLoading:!1,deleteError:null,assignRolesLoading:!1,assignRolesError:null,givePermissionsLoading:!1,givePermissionsError:null,selectedUserId:null,searchTerm:"",filters:{}},oc=He("users/fetchUsers",async(e={},{rejectWithValue:t})=>{try{const r=await Ac.getUsers(e),n={currentPage:r.data.current_page,lastPage:r.data.last_page,perPage:r.data.per_page,total:r.data.total,from:r.data.from,to:r.data.to};return{users:r.data.data,pagination:n}}catch(r){return r&&typeof r=="object"&&"message"in r?t(r.message):t("Failed to fetch users. Please try again.")}}),L1=He("users/createUser",async(e,{rejectWithValue:t,dispatch:r})=>{try{const n=await Ac.createUser(e);return r(oc({per_page:5})),n}catch(n){return n&&typeof n=="object"&&"message"in n?t(n.message):t("Failed to create user. Please try again.")}}),B1=He("users/updateUser",async({userId:e,data:t},{rejectWithValue:r})=>{try{return await Ac.updateUser(e,t)}catch(n){return n&&typeof n=="object"&&"message"in n?r(n.message):r("Failed to update user. Please try again.")}}),$1=He("users/deleteUser",async(e,{rejectWithValue:t})=>{try{return await Ac.deleteUser(e),e}catch(r){return r&&typeof r=="object"&&"message"in r?t(r.message):t("Failed to delete user. Please try again.")}}),Rk=He("users/assignRolesToUser",async({userId:e,roles:t},{rejectWithValue:r})=>{try{return await Ac.assignRolesToUser(e,t)}catch(n){return n&&typeof n=="object"&&"message"in n?r(n.message):r("Failed to assign roles to user. Please try again.")}}),Mk=He("users/givePermissionsToUser",async({userId:e,permissions:t},{rejectWithValue:r})=>{try{return await Ac.givePermissionsToUser(e,t)}catch(n){return n&&typeof n=="object"&&"message"in n?r(n.message):r("Failed to give permissions to user. Please try again.")}}),Ok=He("users/searchUsers",async(e,{rejectWithValue:t})=>{try{return await Ac.searchUsers(e)}catch(r){return r&&typeof r=="object"&&"message"in r?t(r.message):t("Failed to search users. Please try again.")}}),F1=He("users/fetchUserById",async(e,{rejectWithValue:t})=>{try{return await Ac.getUserById(e)}catch(r){return r&&typeof r=="object"&&"message"in r?t(r.message):t("Failed to fetch user. Please try again.")}}),Hq=nr({name:"users",initialState:NF,reducers:{clearErrors:e=>{e.error=null,e.createError=null,e.updateError=null,e.deleteError=null,e.assignRolesError=null,e.givePermissionsError=null},clearFetchError:e=>{e.error=null},clearCreateError:e=>{e.createError=null},clearUpdateError:e=>{e.updateError=null},clearDeleteError:e=>{e.deleteError=null},clearAssignRolesError:e=>{e.assignRolesError=null},clearGivePermissionsError:e=>{e.givePermissionsError=null},resetUsersState:()=>NF,setSelectedUserId:(e,t)=>{e.selectedUserId=t.payload},setSearchTerm:(e,t)=>{e.searchTerm=t.payload},setFilters:(e,t)=>{e.filters=t.payload},setPerPage:(e,t)=>{e.perPage=t.payload},updateUserInState:(e,t)=>{const r=e.users.findIndex(n=>n.id===t.payload.id);r!==-1&&(e.users[r]=t.payload)},removeUserFromState:(e,t)=>{e.users=e.users.filter(r=>r.id!==t.payload),e.pagination&&(e.pagination.total=Math.max(0,e.pagination.total-1))},setLoading:(e,t)=>{e.loading=t.payload},setCreateLoading:(e,t)=>{e.createLoading=t.payload},setUpdateLoading:(e,t)=>{e.updateLoading=t.payload},setDeleteLoading:(e,t)=>{e.deleteLoading=t.payload}},extraReducers:e=>{e.addCase(oc.pending,t=>{t.loading=!0,t.error=null}).addCase(oc.fulfilled,(t,r)=>{t.loading=!1,t.error=null,t.users=r.payload.users,t.pagination=r.payload.pagination}).addCase(oc.rejected,(t,r)=>{t.loading=!1,t.error=r.payload||"Failed to fetch users"}),e.addCase(L1.pending,t=>{t.createLoading=!0,t.createError=null}).addCase(L1.fulfilled,(t,r)=>{t.createLoading=!1,t.createError=null,t.users.findIndex(s=>s.id===r.payload.id)===-1&&(t.users.unshift(r.payload),t.pagination&&(t.pagination.total+=1))}).addCase(L1.rejected,(t,r)=>{t.createLoading=!1,t.createError=r.payload||"Failed to create user"}),e.addCase(B1.pending,t=>{t.updateLoading=!0,t.updateError=null}).addCase(B1.fulfilled,(t,r)=>{t.updateLoading=!1,t.updateError=null;const n=t.users.findIndex(s=>s.id===r.payload.id);n!==-1&&(t.users[n]=r.payload)}).addCase(B1.rejected,(t,r)=>{t.updateLoading=!1,t.updateError=r.payload||"Failed to update user"}),e.addCase($1.pending,t=>{t.deleteLoading=!0,t.deleteError=null}).addCase($1.fulfilled,(t,r)=>{t.deleteLoading=!1,t.deleteError=null,t.users=t.users.filter(n=>n.id!==r.payload),t.pagination&&(t.pagination.total=Math.max(0,t.pagination.total-1)),t.selectedUserId===r.payload&&(t.selectedUserId=null)}).addCase($1.rejected,(t,r)=>{t.deleteLoading=!1,t.deleteError=r.payload||"Failed to delete user"}),e.addCase(Rk.pending,t=>{t.assignRolesLoading=!0,t.assignRolesError=null}).addCase(Rk.fulfilled,(t,r)=>{t.assignRolesLoading=!1,t.assignRolesError=null;const n=t.users.findIndex(s=>s.id===r.payload.id);n!==-1&&(t.users[n]=r.payload)}).addCase(Rk.rejected,(t,r)=>{t.assignRolesLoading=!1,t.assignRolesError=r.payload||"Failed to assign roles to user"}),e.addCase(Mk.pending,t=>{t.givePermissionsLoading=!0,t.givePermissionsError=null}).addCase(Mk.fulfilled,(t,r)=>{t.givePermissionsLoading=!1,t.givePermissionsError=null;const n=t.users.findIndex(s=>s.id===r.payload.id);n!==-1&&(t.users[n]=r.payload)}).addCase(Mk.rejected,(t,r)=>{t.givePermissionsLoading=!1,t.givePermissionsError=r.payload||"Failed to give permissions to user"}),e.addCase(Ok.pending,t=>{t.loading=!0,t.error=null}).addCase(Ok.fulfilled,(t,r)=>{t.loading=!1,t.error=null,t.users=r.payload,t.pagination=null}).addCase(Ok.rejected,(t,r)=>{t.loading=!1,t.error=r.payload||"Failed to search users"}),e.addCase(F1.pending,t=>{t.loading=!0,t.error=null}).addCase(F1.fulfilled,(t,r)=>{t.loading=!1,t.error=null;const n=t.users.findIndex(s=>s.id===r.payload.id);n!==-1?t.users[n]=r.payload:t.users.push(r.payload)}).addCase(F1.rejected,(t,r)=>{t.loading=!1,t.error=r.payload||"Failed to fetch user"})}}),{clearErrors:Lpt,clearFetchError:yxe,clearCreateError:bxe,clearUpdateError:wxe,clearDeleteError:Sxe,clearAssignRolesError:Bpt,clearGivePermissionsError:$pt,resetUsersState:Fpt,setSelectedUserId:Hpt,setSearchTerm:Cxe,setFilters:zpt,setPerPage:zq,updateUserInState:Upt,removeUserFromState:Vpt,setLoading:Wpt,setCreateLoading:qpt,setUpdateLoading:Gpt,setDeleteLoading:Ypt}=Hq.actions,jxe=Hq.reducer,Exe=e=>e.users.users,Uq=e=>e.users.loading,Vq=e=>e.users.error,Nxe=e=>e.users.pagination,_xe=e=>e.users.createLoading,Axe=e=>e.users.createError,kxe=e=>e.users.updateLoading,Txe=e=>e.users.updateError,Pxe=e=>e.users.deleteLoading,Dxe=e=>e.users.deleteError,Rxe=e=>e.users.searchTerm,Mxe=e=>e.users.filters,Wq=e=>e.users.perPage,Oxe=(e,t)=>e.users.users.find(r=>r.id===t),Ixe=e=>e.users.users.map(t=>({...t,role_count:t.roles?.length||0,permission_count:t.permissions?.length||0,store_count:t.stores?.length||0})),Lxe=e=>e.users.users.length>0,Bxe=e=>!e.users.loading&&e.users.users.length===0,$xe=e=>e.users.pagination?.total??e.users.users.length,yx=e=>e.success===!1,Fxe="https://auth.pnepizza.com/api/v1",Hxe=()=>{try{const t=Es.getState().auth?.token;return t||os()}catch(e){return console.error("Error retrieving auth token:",e),null}},Gu=St.create({baseURL:Fxe,timeout:3e4,headers:{Accept:"application/json","Content-Type":"application/json"}});Gu.interceptors.request.use(e=>{const t=Hxe();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),console.log(` API Request: ${e.method?.toUpperCase()} ${e.url}`,{headers:e.headers,data:e.data}),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));Gu.interceptors.response.use(e=>(console.log(` API Response: ${e.config.method?.toUpperCase()} ${e.config.url}`,e.data),e),e=>{console.error("API Error:",e);const t=zxe(e);return Promise.reject(t)});const zxe=e=>{if(!e.response)return{type:"network_error",message:"Network error - please check your connection",details:e.message};const{status:t,data:r}=e.response,n=r;switch(t){case 400:return{type:"invalid_dsl",message:yx(n)?n.message:"Invalid request",details:yx(n)?n.error:void 0,statusCode:t};case 401:return{type:"unauthorized",message:"Authentication required - please login again",statusCode:t};case 403:return{type:"forbidden",message:"Insufficient permissions to perform this action",statusCode:t};case 404:return{type:"not_found",message:"The requested resource was not found",statusCode:t};case 422:const s=[];return yx(n)&&n.errors&&Object.entries(n.errors).forEach(([i,o])=>{s.push({field:i,messages:o})}),{type:"validation",message:"Please fix the validation errors and try again",validationErrors:s,statusCode:t};case 500:case 502:case 503:case 504:return{type:"server_error",message:"Server error - please try again later",details:yx(n)?n.message:void 0,statusCode:t};default:return{type:"unknown",message:"An unexpected error occurred",details:yx(n)?n.message:void 0,statusCode:t}}},qj={async fetchAuthRules(e={}){try{return(await Gu.get("/auth-rules",{params:{service:e.service||"",search:e.search||"",page:e.page||1,per_page:e.per_page||15}})).data}catch(t){throw console.error("Failed to fetch auth rules:",t),t}},async createAuthRule(e){try{const t=e.roles_any?.length&&e.roles_any.length>0,r=e.permissions_any?.length&&e.permissions_any.length>0,n=e.permissions_all?.length&&e.permissions_all.length>0;if(!t&&!r&&!n)throw new Error("At least one authorization requirement must be specified (roles_any, permissions_any, or permissions_all)");return(await Gu.post("/auth-rules",e)).data}catch(t){throw console.error("Failed to create auth rule:",t),t}},async testAuthRule(e){try{return(await Gu.post("/auth-rules/test",e)).data}catch(t){throw console.error("Failed to test auth rule:",t),t}},async toggleAuthRuleStatus(e){try{if(!e||e<=0)throw new Error("Valid rule ID is required");return(await Gu.post(`/auth-rules/${e}/toggle-status`)).data}catch(t){throw console.error(`Failed to toggle auth rule status for ID ${e}:`,t),t}},async deleteAuthRule(e){try{if(!e||e<=0)throw new Error("Valid rule ID is required");return(await Gu.delete(`/auth-rules/${e}`)).data}catch(t){throw console.error(`Failed to delete auth rule with ID ${e}:`,t),t}}},Ik=(e,t)=>e?.type===t,Uxe=(e,t)=>{if(!e||e.type!=="validation"||!e.validationErrors)return[];const r=e.validationErrors.find(n=>n.field===t);return r?r.messages:[]},_F=e=>{if(!e)return"";switch(e.type){case"validation":return"Please fix the highlighted errors and try again.";case"unauthorized":return"Your session has expired. Please login again.";case"forbidden":return"You don't have permission to perform this action.";case"network_error":return"Connection failed. Please check your internet connection.";case"server_error":return"Server error. Please try again in a moment.";case"invalid_dsl":return e.details||"Invalid path pattern syntax.";default:return e.message||"An unexpected error occurred."}},Lk={rules:[],pagination:null,testResult:null,loading:{fetching:!1,creating:!1,testing:!1,toggling:{}},error:null,successMessage:null,filters:{service:"",search:"",currentPage:1,perPage:15}},Kl=He("authRules/fetchAuthRules",async(e={},{rejectWithValue:t})=>{try{return await qj.fetchAuthRules(e)}catch(r){return t(r)}}),H1=He("authRules/createAuthRule",async(e,{rejectWithValue:t,dispatch:r,getState:n})=>{try{const s=await qj.createAuthRule(e),i=n(),{filters:o}=i.authRules;return r(Kl({service:o.service,search:o.search,page:o.currentPage,per_page:o.perPage})),s}catch(s){return t(s)}}),z1=He("authRules/testAuthRule",async(e,{rejectWithValue:t})=>{try{return await qj.testAuthRule(e)}catch(r){return t(r)}}),gv=He("authRules/toggleAuthRuleStatus",async(e,{rejectWithValue:t})=>{try{return await qj.toggleAuthRuleStatus(e)}catch(r){return t({...r,ruleId:e})}}),U1=He("authRules/batchToggleAuthRules",async(e,{dispatch:t,rejectWithValue:r})=>{try{const n=e.map(s=>t(gv(s)));await Promise.all(n)}catch(n){return r(n)}}),qq=nr({name:"authRules",initialState:Lk,reducers:{clearError:e=>{e.error=null},clearSuccessMessage:e=>{e.successMessage=null},clearTestResult:e=>{e.testResult=null},updateFilters:(e,t)=>{e.filters={...e.filters,...t.payload},e.error=null},resetFilters:e=>{e.filters=Lk.filters},resetState:()=>Lk,optimisticallyUpdateRule:(e,t)=>{const{id:r,...n}=t.payload,s=e.rules.findIndex(i=>i.id===r);s!==-1&&(e.rules[s]={...e.rules[s],...n})}},extraReducers:e=>{e.addCase(Kl.pending,t=>{t.loading.fetching=!0,t.error=null}).addCase(Kl.fulfilled,(t,r)=>{t.loading.fetching=!1,t.rules=r.payload.data.data,t.pagination={current_page:r.payload.data.current_page,first_page_url:r.payload.data.first_page_url,from:r.payload.data.from,last_page:r.payload.data.last_page,last_page_url:r.payload.data.last_page_url,links:r.payload.data.links,next_page_url:r.payload.data.next_page_url,path:r.payload.data.path,per_page:r.payload.data.per_page,prev_page_url:r.payload.data.prev_page_url,to:r.payload.data.to,total:r.payload.data.total},t.filters.currentPage=r.payload.data.current_page}).addCase(Kl.rejected,(t,r)=>{t.loading.fetching=!1,t.error=r.payload||null}).addCase(H1.pending,t=>{t.loading.creating=!0,t.error=null,t.successMessage=null}).addCase(H1.fulfilled,(t,r)=>{t.loading.creating=!1,t.successMessage=r.payload.message||"Authorization rule created successfully"}).addCase(H1.rejected,(t,r)=>{t.loading.creating=!1,t.error=r.payload||null}).addCase(z1.pending,t=>{t.loading.testing=!0,t.error=null,t.testResult=null}).addCase(z1.fulfilled,(t,r)=>{t.loading.testing=!1,t.testResult=r.payload.data}).addCase(z1.rejected,(t,r)=>{t.loading.testing=!1,t.error=r.payload||null,t.testResult=null}).addCase(gv.pending,(t,r)=>{const n=r.meta.arg;t.loading.toggling[n]=!0,t.error=null;const s=t.rules.findIndex(i=>i.id===n);s!==-1&&(t.rules[s].is_active=!t.rules[s].is_active)}).addCase(gv.fulfilled,(t,r)=>{const n=r.payload.data.rule.id;delete t.loading.toggling[n];const s=t.rules.findIndex(i=>i.id===n);s!==-1&&(t.rules[s]=r.payload.data.rule),t.successMessage=r.payload.message||"Rule status updated successfully"}).addCase(gv.rejected,(t,r)=>{const n=r.payload?.ruleId||r.meta.arg;delete t.loading.toggling[n],t.error=r.payload||null;const s=t.rules.findIndex(i=>i.id===n);s!==-1&&(t.rules[s].is_active=!t.rules[s].is_active)}).addCase(U1.pending,t=>{t.error=null}).addCase(U1.fulfilled,t=>{t.successMessage="Selected rules updated successfully"}).addCase(U1.rejected,(t,r)=>{t.error=r.payload||null})}}),{clearError:AF,clearSuccessMessage:kF,clearTestResult:Vxe,updateFilters:Wxe,resetFilters:qxe,resetState:Gxe,optimisticallyUpdateRule:Kpt}=qq.actions,Yxe=qq.reducer,v0=e=>e.authRules,Kxe=e=>e.authRules.rules,Zxe=e=>e.authRules.pagination,Xxe=e=>e.authRules.testResult,Qxe=e=>e.authRules.filters,Jxe=e=>e.authRules.error,eve=e=>e.authRules.successMessage,tve=e=>e.authRules.loading.fetching,rve=e=>e.authRules.loading.creating,nve=e=>e.authRules.loading.testing,sve=e=>e.authRules.loading.toggling,ave=xe([v0],e=>e.rules.filter(t=>t.is_active)),ive=xe([v0],e=>e.rules.filter(t=>!t.is_active)),ove=xe([v0],e=>e.rules.length>0),lve=xe([v0],e=>e.pagination?.total||0);xe([v0],e=>e.filters.currentPage);const sa={selectRules:Kxe,selectPagination:Zxe,selectTestResult:Xxe,selectIsFetching:tve,selectIsCreating:rve,selectIsTesting:nve,selectTogglingStates:sve,selectError:Jxe,selectSuccessMessage:eve,selectFilters:Qxe,selectActiveRules:ave,selectInactiveRules:ive,selectHasRules:ove,selectTotalRules:lve},TF={PER_PAGE:3,PAGE:1},Gj={SERVICE_CLIENTS:"/api/v1/service-clients",ROTATE_TOKEN:e=>`/api/v1/service-clients/${e}/rotate-token`,TOGGLE_STATUS:e=>`/api/v1/service-clients/${e}/toggle-status`},cve="https://auth.pnepizza.com",dve=()=>{try{const t=Es.getState().auth?.token;return t||os()}catch(e){return console.error("Error retrieving auth token:",e),null}},Bp=St.create({baseURL:cve,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});Bp.interceptors.request.use(e=>{const t=dve();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));Bp.interceptors.response.use(e=>e,e=>{if(e.response){const{status:t,data:r}=e.response;switch(t){case 401:console.warn("Unauthorized request - token may be expired");break;case 403:console.warn("Forbidden request - insufficient permissions");break;case 422:console.warn("Validation error:",r);break;case 500:console.error("Internal server error");break;default:console.error(`HTTP ${t} error:`,r)}}else e.request?console.error("Network error - no response received:",e.request):console.error("Request configuration error:",e.message);return Promise.reject(e)});const uve=e=>{const t=new URLSearchParams;return Object.entries(e).forEach(([r,n])=>{n!=null&&n!==""&&t.append(r,String(n))}),t.toString()},fve=async e=>{try{const t={per_page:e?.per_page||TF.PER_PAGE,page:e?.page||TF.PAGE,...e?.search&&{search:e.search}},r=uve(t),n=`${Gj.SERVICE_CLIENTS}${r?`?${r}`:""}`;return console.log(" Fetching service clients:",{url:n,params:t}),await Bp.get(n)}catch(t){throw console.error("Error fetching service clients:",t),t}},hve=async e=>{try{if(console.log(" Creating service client:",e),!e.name||!e.name.trim())throw new Error("Service client name is required");const t=await Bp.post(Gj.SERVICE_CLIENTS,e);return console.log(" Service client created successfully"),t}catch(t){throw console.error("Error creating service client:",t),t}},mve=async(e,t)=>{try{if(console.log(" Rotating token for client:",{clientId:e,data:t}),!e||e<=0)throw new Error("Valid client ID is required");const r=Gj.ROTATE_TOKEN(e),n=t||{},s=await Bp.post(r,n);return console.log(" Token rotated successfully"),s}catch(r){throw console.error("Error rotating service token:",r),r}},pve=async e=>{try{if(console.log(" Toggling status for client:",e),!e||e<=0)throw new Error("Valid client ID is required");const t=Gj.TOGGLE_STATUS(e),r=await Bp.post(t);return console.log(" Status toggled successfully"),r}catch(t){throw console.error("Error toggling service status:",t),t}},PF={clients:[],pagination:null,loading:{fetching:!1,creating:!1,rotating:!1,toggling:!1},errors:{fetch:null,create:null,rotate:null,toggle:null},selectedClient:null,lastCreatedToken:null},Yj=e=>{if(e?.response?.data){const t=e.response.data;if("errors"in t&&t.errors){const r=t,n=Object.keys(r.errors)[0];return r.errors[n]?.[0]||r.message||"Validation error occurred"}if("success"in t&&!t.success)return t.message||"An error occurred";if("message"in t)return t.message}return e?.message?e.message:"An unexpected error occurred"},V1=He("serviceClients/fetchClients",async(e,{rejectWithValue:t})=>{try{return(await fve(e)).data.data}catch(r){const n=Yj(r);return t(n)}}),W1=He("serviceClients/createClient",async(e,{rejectWithValue:t})=>{try{const r=await hve(e);return{client:r.data.data.service,token:r.data.data.token}}catch(r){const n=Yj(r);return t(n)}}),q1=He("serviceClients/rotateToken",async({clientId:e,data:t},{rejectWithValue:r})=>{try{const n=await mve(e,t);return{client:n.data.data.service,token:n.data.data.token}}catch(n){const s=Yj(n);return r(s)}}),G1=He("serviceClients/toggleStatus",async(e,{rejectWithValue:t})=>{try{return{client:(await pve(e)).data.data.service}}catch(r){const n=Yj(r);return t(n)}}),Gq=nr({name:"serviceClients",initialState:PF,reducers:{selectClient:(e,t)=>{e.selectedClient=t.payload},clearErrors:e=>{e.errors={fetch:null,create:null,rotate:null,toggle:null}},clearError:(e,t)=>{e.errors[t.payload]=null},clearLastCreatedToken:e=>{e.lastCreatedToken=null},updateClient:(e,t)=>{const r=e.clients.findIndex(n=>n.id===t.payload.id);r!==-1&&(e.clients[r]=t.payload),e.selectedClient?.id===t.payload.id&&(e.selectedClient=t.payload)},removeClient:(e,t)=>{e.clients=e.clients.filter(r=>r.id!==t.payload),e.selectedClient?.id===t.payload&&(e.selectedClient=null)},resetState:()=>PF},extraReducers:e=>{e.addCase(V1.pending,t=>{t.loading.fetching=!0,t.errors.fetch=null}).addCase(V1.fulfilled,(t,r)=>{t.loading.fetching=!1,t.clients=r.payload.data;const{data:n,...s}=r.payload;t.pagination=s,t.errors.fetch=null}).addCase(V1.rejected,(t,r)=>{t.loading.fetching=!1,t.errors.fetch=r.payload}),e.addCase(W1.pending,t=>{t.loading.creating=!0,t.errors.create=null,t.lastCreatedToken=null}).addCase(W1.fulfilled,(t,r)=>{t.loading.creating=!1,t.clients.unshift(r.payload.client),t.lastCreatedToken=r.payload.token,t.pagination&&(t.pagination.total+=1),t.errors.create=null}).addCase(W1.rejected,(t,r)=>{t.loading.creating=!1,t.errors.create=r.payload}),e.addCase(q1.pending,t=>{t.loading.rotating=!0,t.errors.rotate=null}).addCase(q1.fulfilled,(t,r)=>{t.loading.rotating=!1;const n=t.clients.findIndex(s=>s.id===r.payload.client.id);n!==-1&&(t.clients[n]=r.payload.client),t.selectedClient?.id===r.payload.client.id&&(t.selectedClient=r.payload.client),t.lastCreatedToken=r.payload.token,t.errors.rotate=null}).addCase(q1.rejected,(t,r)=>{t.loading.rotating=!1,t.errors.rotate=r.payload}),e.addCase(G1.pending,t=>{t.loading.toggling=!0,t.errors.toggle=null}).addCase(G1.fulfilled,(t,r)=>{t.loading.toggling=!1;const n=t.clients.findIndex(s=>s.id===r.payload.client.id);n!==-1&&(t.clients[n]=r.payload.client),t.selectedClient?.id===r.payload.client.id&&(t.selectedClient=r.payload.client),t.errors.toggle=null}).addCase(G1.rejected,(t,r)=>{t.loading.toggling=!1,t.errors.toggle=r.payload})}}),{selectClient:gve,clearErrors:xve,clearError:Zpt,clearLastCreatedToken:vve,updateClient:Xpt,removeClient:Qpt,resetState:Jpt}=Gq.actions,yve=e=>e.serviceClients.clients,bve=e=>e.serviceClients.pagination,wve=e=>e.serviceClients.loading,Sve=e=>e.serviceClients.errors,Cve=e=>e.serviceClients.selectedClient,jve=e=>e.serviceClients.lastCreatedToken,Eve=Gq.reducer,cC={page:1,perPage:5},tm={STORES:"/api/v1/stores",STORE_DETAIL:e=>`/api/v1/stores/${e}`,STORE_USERS:e=>`/api/v1/stores/${e}/users`,STORE_ROLES:e=>`/api/v1/stores/${e}/roles`},Nve="https://auth.pnepizza.com",jd=St.create({baseURL:Nve,timeout:1e4,headers:{Accept:"application/json","Content-Type":"application/json"}}),_ve=()=>{try{const t=Es.getState().auth?.token;return t||os()}catch(e){return console.error("Error retrieving auth token:",e),null}};jd.interceptors.request.use(e=>{const t=_ve();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));jd.interceptors.response.use(e=>e,e=>(e.response?.status===401&&console.warn("Authentication failed - token may be expired"),Promise.reject(e)));const Ave=e=>{if(St.isAxiosError(e)){const t=e;return{message:t.response?.data?.message||t.message||"An unexpected error occurred",status:t.response?.status,errors:t.response?.data?.errors||{}}}return e instanceof Error?{message:e.message}:{message:"An unknown error occurred"}},rm=async(e,t)=>{try{const r=await e();if(!r.data)throw new Error(`Invalid response structure from ${t}`);return r.data}catch(r){const n=Ave(r);throw console.error(`${t} failed:`,n),n}};class kve{async getStores(t={}){const{per_page:r=5,page:n=1,search:s="",is_active:i}=t,o={per_page:r,page:n,search:s};i!==void 0&&(o.is_active=i);const c=await rm(()=>jd.get(tm.STORES,{params:o}),"getStores");if(!c.success||!c.data)throw new Error("Invalid stores response format");return{stores:c.data.data,pagination:{current_page:c.data.current_page,first_page_url:c.data.first_page_url,from:c.data.from,last_page:c.data.last_page,last_page_url:c.data.last_page_url,links:c.data.links,next_page_url:c.data.next_page_url,path:c.data.path,per_page:c.data.per_page,prev_page_url:c.data.prev_page_url,to:c.data.to,total:c.data.total}}}async getStore(t){if(!t||t.trim()==="")throw new Error("Store ID is required");const r=await rm(()=>jd.get(tm.STORE_DETAIL(t)),`getStore(${t})`);if(!r.success||!r.data?.store)throw new Error("Invalid store response format");return r.data.store}async createStore(t){if(!t.id||!t.name)throw new Error("Store ID and name are required");if(!t.metadata)throw new Error("Store metadata is required");const r=await rm(()=>jd.post(tm.STORES,t),"createStore");if(!r.success||!r.data?.store)throw new Error("Invalid create store response format");return r.data.store}async updateStore(t,r){if(!t||t.trim()==="")throw new Error("Store ID is required");if(!r.name)throw new Error("Store name is required");if(!r.metadata)throw new Error("Store metadata is required");const n=await rm(()=>jd.put(tm.STORE_DETAIL(t),r),`updateStore(${t})`);if(!n.success||!n.data?.store)throw new Error("Invalid update store response format");return n.data.store}async getStoreUsers(t){if(!t||t.trim()==="")throw new Error("Store ID is required");const r=await rm(()=>jd.get(tm.STORE_USERS(t)),`getStoreUsers(${t})`);if(!r.success||!r.data?.users)throw new Error("Invalid store users response format");return r.data.users}async getStoreRoles(t){if(!t||t.trim()==="")throw new Error("Store ID is required");const r=await rm(()=>jd.get(tm.STORE_ROLES(t)),`getStoreRoles(${t})`);if(!r.success||!r.data?.roles)throw new Error("Invalid store roles response format");return r.data.roles}async storeExists(t){try{return await this.getStore(t),!0}catch(r){if(r.status===404)return!1;throw r}}async getStoresBatch(t){if(!t.length)return[];const r=t.map(n=>this.getStore(n));try{return await Promise.all(r)}catch(n){throw console.error("Batch store fetch failed:",n),new Error("Failed to fetch one or more stores")}}async searchStores(t,r={}){return this.getStores({...r,search:t.trim()})}}const Wf=new kve,nm={loading:!1,error:null},DF={stores:null,currentStore:null,storeUsers:{},storeRoles:{},asyncStates:{fetchStores:{...nm},fetchStore:{...nm},createStore:{...nm},updateStore:{...nm},fetchStoreUsers:{...nm},fetchStoreRoles:{...nm}},selectedStoreId:null,searchQuery:"",currentPage:cC.page,perPage:cC.perPage},qm=He("stores/fetchStores",async(e={},{rejectWithValue:t})=>{try{return await Wf.getStores(e)}catch(r){const n=r;return t({message:n.message||"Failed to fetch stores",status:n.status,timestamp:new Date().toISOString()})}}),xv=He("stores/fetchStoreById",async(e,{rejectWithValue:t})=>{try{if(!e.trim())throw new Error("Store ID is required");return await Wf.getStore(e)}catch(r){const n=r;return t({message:n.message||`Failed to fetch store ${e}`,status:n.status,timestamp:new Date().toISOString()})}}),Y1=He("stores/createStore",async(e,{rejectWithValue:t,dispatch:r,getState:n})=>{try{if(!e.id||!e.name)throw new Error("Store ID and name are required");const s=await Wf.createStore(e),i=n();return r(qm({page:i.stores.currentPage,per_page:i.stores.perPage,search:i.stores.searchQuery})),s}catch(s){const i=s;return t({message:i.message||"Failed to create store",status:i.status,timestamp:new Date().toISOString()})}}),K1=He("stores/updateStore",async({storeId:e,payload:t},{rejectWithValue:r,dispatch:n,getState:s})=>{try{if(!e.trim())throw new Error("Store ID is required");const i=await Wf.updateStore(e,t),o=s();return n(qm({page:o.stores.currentPage,per_page:o.stores.perPage,search:o.stores.searchQuery})),i}catch(i){const o=i;return r({message:o.message||`Failed to update store ${e}`,status:o.status,timestamp:new Date().toISOString()})}}),Bk=He("stores/fetchStoreUsers",async(e,{rejectWithValue:t})=>{try{if(!e.trim())throw new Error("Store ID is required");const r=await Wf.getStoreUsers(e);return{storeId:e,users:r}}catch(r){const n=r;return t({message:n.message||`Failed to fetch users for store ${e}`,status:n.status,timestamp:new Date().toISOString()})}}),$k=He("stores/fetchStoreRoles",async(e,{rejectWithValue:t})=>{try{if(!e.trim())throw new Error("Store ID is required");const r=await Wf.getStoreRoles(e);return{storeId:e,roles:r}}catch(r){const n=r;return t({message:n.message||`Failed to fetch roles for store ${e}`,status:n.status,timestamp:new Date().toISOString()})}}),Fk=He("stores/searchStores",async({query:e,page:t=1},{rejectWithValue:r,getState:n})=>{try{const s=n();return await Wf.searchStores(e,{page:t,per_page:s.stores.perPage})}catch(s){const i=s;return r({message:i.message||"Failed to search stores",status:i.status,timestamp:new Date().toISOString()})}}),Yq=nr({name:"stores",initialState:DF,reducers:{clearErrors:e=>{Object.keys(e.asyncStates).forEach(t=>{const r=e.asyncStates[t];r.error=null})},clearError:(e,t)=>{e.asyncStates[t.payload].error=null},setSelectedStoreId:(e,t)=>{e.selectedStoreId=t.payload},setSearchQuery:(e,t)=>{e.searchQuery=t.payload},setCurrentPage:(e,t)=>{e.currentPage=Math.max(1,t.payload)},setPerPage:(e,t)=>{e.perPage=Math.max(1,Math.min(100,t.payload)),e.currentPage=1},resetStoresState:()=>({...DF}),resetPagination:e=>{e.currentPage=cC.page,e.perPage=cC.perPage,e.searchQuery=""},clearCurrentStore:e=>{e.currentStore=null},clearStoreUsers:(e,t)=>{t.payload?delete e.storeUsers[t.payload]:e.storeUsers={}},clearStoreRoles:(e,t)=>{t.payload?delete e.storeRoles[t.payload]:e.storeRoles={}},updateStoreInList:(e,t)=>{if(e.stores?.stores){const r=e.stores.stores.findIndex(n=>n.id===t.payload.id);r!==-1&&(e.stores.stores[r]=t.payload)}},removeStoreFromList:(e,t)=>{e.stores?.stores&&(e.stores.stores=e.stores.stores.filter(r=>r.id!==t.payload),e.stores.pagination&&(e.stores.pagination.total=Math.max(0,e.stores.pagination.total-1)))}},extraReducers:e=>{e.addCase(qm.pending,t=>{t.asyncStates.fetchStores.loading=!0,t.asyncStates.fetchStores.error=null}).addCase(qm.fulfilled,(t,r)=>{t.asyncStates.fetchStores.loading=!1,t.stores=r.payload,t.currentPage=r.payload.pagination.current_page}).addCase(qm.rejected,(t,r)=>{t.asyncStates.fetchStores.loading=!1,t.asyncStates.fetchStores.error=r.payload?.message||"Failed to fetch stores"}),e.addCase(xv.pending,t=>{t.asyncStates.fetchStore.loading=!0,t.asyncStates.fetchStore.error=null}).addCase(xv.fulfilled,(t,r)=>{t.asyncStates.fetchStore.loading=!1,t.currentStore=r.payload,t.selectedStoreId=r.payload.id}).addCase(xv.rejected,(t,r)=>{t.asyncStates.fetchStore.loading=!1,t.asyncStates.fetchStore.error=r.payload?.message||"Failed to fetch store",t.currentStore=null}),e.addCase(Y1.pending,t=>{t.asyncStates.createStore.loading=!0,t.asyncStates.createStore.error=null}).addCase(Y1.fulfilled,(t,r)=>{t.asyncStates.createStore.loading=!1,t.stores?.stores&&(t.stores.stores.unshift(r.payload),t.stores.pagination&&(t.stores.pagination.total+=1))}).addCase(Y1.rejected,(t,r)=>{t.asyncStates.createStore.loading=!1,t.asyncStates.createStore.error=r.payload?.message||"Failed to create store"}),e.addCase(K1.pending,t=>{t.asyncStates.updateStore.loading=!0,t.asyncStates.updateStore.error=null}).addCase(K1.fulfilled,(t,r)=>{if(t.asyncStates.updateStore.loading=!1,t.currentStore?.id===r.payload.id&&(t.currentStore=r.payload),t.stores?.stores){const n=t.stores.stores.findIndex(s=>s.id===r.payload.id);n!==-1&&(t.stores.stores[n]=r.payload)}}).addCase(K1.rejected,(t,r)=>{t.asyncStates.updateStore.loading=!1,t.asyncStates.updateStore.error=r.payload?.message||"Failed to update store"}),e.addCase(Bk.pending,t=>{t.asyncStates.fetchStoreUsers.loading=!0,t.asyncStates.fetchStoreUsers.error=null}).addCase(Bk.fulfilled,(t,r)=>{t.asyncStates.fetchStoreUsers.loading=!1,t.storeUsers[r.payload.storeId]=r.payload.users}).addCase(Bk.rejected,(t,r)=>{t.asyncStates.fetchStoreUsers.loading=!1,t.asyncStates.fetchStoreUsers.error=r.payload?.message||"Failed to fetch store users"}),e.addCase($k.pending,t=>{t.asyncStates.fetchStoreRoles.loading=!0,t.asyncStates.fetchStoreRoles.error=null}).addCase($k.fulfilled,(t,r)=>{t.asyncStates.fetchStoreRoles.loading=!1,t.storeRoles[r.payload.storeId]=r.payload.roles}).addCase($k.rejected,(t,r)=>{t.asyncStates.fetchStoreRoles.loading=!1,t.asyncStates.fetchStoreRoles.error=r.payload?.message||"Failed to fetch store roles"}),e.addCase(Fk.pending,t=>{t.asyncStates.fetchStores.loading=!0,t.asyncStates.fetchStores.error=null}).addCase(Fk.fulfilled,(t,r)=>{t.asyncStates.fetchStores.loading=!1,t.stores=r.payload,t.currentPage=r.payload.pagination.current_page}).addCase(Fk.rejected,(t,r)=>{t.asyncStates.fetchStores.loading=!1,t.asyncStates.fetchStores.error=r.payload?.message||"Failed to search stores"})}}),{clearErrors:egt,clearError:Kq,setSelectedStoreId:tgt,setSearchQuery:rgt,setCurrentPage:Tve,setPerPage:Kj,resetStoresState:ngt,resetPagination:sgt,clearCurrentStore:Pve,clearStoreUsers:agt,clearStoreRoles:igt,updateStoreInList:ogt,removeStoreFromList:lgt}=Yq.actions,Dve=Yq.reducer,Rve=e=>e.stores.stores?.stores||[],Mve=e=>e.stores.stores?.pagination,Ove=e=>e.stores.currentStore,Ive=e=>e.stores.selectedStoreId,Lve=e=>e.stores.searchQuery,Bve=e=>e.stores.currentPage,y0=e=>e.stores.perPage,$ve=e=>e.stores.asyncStates.fetchStores.loading,Fve=e=>e.stores.asyncStates.fetchStore.loading,Hve=e=>e.stores.asyncStates.fetchStores.error,zve=e=>e.stores.asyncStates.fetchStore.error,Uve=e=>t=>t.stores.stores?.stores.find(r=>r.id===e)||null,$p={ASSIGN:"/api/v1/user-role-store/assign",REMOVE:"/api/v1/user-role-store/remove",TOGGLE:"/api/v1/user-role-store/toggle",BULK_ASSIGN:"/api/v1/user-role-store/bulk-assign",STORE_ASSIGNMENTS:"/api/v1/user-role-store/store-assignments",USER_ASSIGNMENTS:"/api/v1/user-role-store/user-assignments"},Fp={GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",PATCH:"PATCH"},Vve="https://auth.pnepizza.com",Wve=3e4,RF=3,qve=()=>{try{const t=Es.getState().auth?.token;return t||os()}catch(e){return console.error("Error retrieving auth token:",e),null}},EM=St.create({baseURL:Vve,timeout:Wve,headers:{Accept:"application/json","Content-Type":"application/json"}});EM.interceptors.request.use(e=>{const t=qve();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));EM.interceptors.response.use(e=>e,e=>{const t=Gve(e);return Promise.reject(t)});const Gve=e=>{const t=new Date().toISOString();if(!e.response)return{message:e.message||"Network error occurred",code:"NETWORK_ERROR",details:{originalError:e.message,stack:e.stack},timestamp:t};const{status:r,data:n}=e.response,s=n;switch(r){case 401:return{message:"Authentication required. Please log in again.",code:"UNAUTHORIZED",details:s,timestamp:t};case 403:return{message:"Access forbidden. You do not have permission to perform this action.",code:"FORBIDDEN",details:s,timestamp:t};case 404:return{message:"Resource not found.",code:"NOT_FOUND",details:s,timestamp:t};case 422:return{message:s?.message||"Validation error occurred.",code:"VALIDATION_ERROR",details:s?.errors||s,timestamp:t};case 429:return{message:"Too many requests. Please try again later.",code:"RATE_LIMITED",details:s,timestamp:t};case 500:return{message:"Internal server error. Please try again later.",code:"INTERNAL_SERVER_ERROR",details:s,timestamp:t};default:return{message:s?.message||e.message||"An unexpected error occurred",code:r.toString(),details:s,timestamp:t}}},qf=async(e,t=RF)=>{try{return await e()}catch(r){if(t>0){const n=(RF-t+1)*1e3;return await new Promise(s=>setTimeout(s,n)),qf(e,t-1)}throw r}},Hp=async(e,t,r,n)=>{try{return{success:!0,data:(await EM({url:e,method:t,data:r,params:n})).data}}catch(s){return{success:!1,error:s}}},Yve=async e=>qf(()=>Hp($p.ASSIGN,Fp.POST,e)),Kve=async e=>qf(()=>Hp($p.REMOVE,Fp.POST,e)),Zve=async e=>qf(()=>Hp($p.TOGGLE,Fp.POST,e)),Xve=async e=>qf(()=>Hp($p.BULK_ASSIGN,Fp.POST,e)),Qve=async e=>qf(()=>Hp($p.STORE_ASSIGNMENTS,Fp.GET,void 0,e)),Jve=async e=>qf(()=>Hp($p.USER_ASSIGNMENTS,Fp.GET,void 0,e)),sm=()=>({loading:"idle",error:null}),MF={assignments:[],storeAssignments:{},userAssignments:{},operations:{assign:sm(),remove:sm(),toggle:sm(),bulkAssign:sm(),fetchStoreAssignments:sm(),fetchUserAssignments:sm()},isLoading:!1,lastUpdated:{assignments:null,storeAssignments:{},userAssignments:{}}},Z1=He("userRolesStoresAssignment/assignUserRole",async(e,{rejectWithValue:t})=>{const r=await Yve(e);return r.success?r.data:t(r.error)}),X1=He("userRolesStoresAssignment/removeUserRole",async(e,{rejectWithValue:t})=>{const r=await Kve(e);return r.success?r.data:t(r.error)}),Q1=He("userRolesStoresAssignment/toggleUserRoleStatus",async(e,{rejectWithValue:t})=>{const r=await Zve(e);return r.success?r.data:t(r.error)}),J1=He("userRolesStoresAssignment/bulkAssignUserRole",async(e,{rejectWithValue:t})=>{const r=await Xve(e);return r.success?r.data:t(r.error)}),eS=He("userRolesStoresAssignment/fetchStoreAssignments",async(e,{rejectWithValue:t})=>{const r=await Qve(e);return r.success?r.data:t(r.error)}),tS=He("userRolesStoresAssignment/fetchUserAssignments",async(e,{rejectWithValue:t})=>{const r=await Jve(e);return r.success?r.data:t(r.error)}),Zq=nr({name:"userRolesStoresAssignment",initialState:MF,reducers:{clearErrors:e=>{Object.keys(e.operations).forEach(t=>{const r=t;e.operations[r].error=null})},clearOperationError:(e,t)=>{e.operations[t.payload].error=null},clearAssignments:e=>{e.assignments=[],e.storeAssignments={},e.userAssignments={},e.lastUpdated={assignments:null,storeAssignments:{},userAssignments:{}}},clearStoreAssignments:(e,t)=>{const r=t.payload;delete e.storeAssignments[r],delete e.lastUpdated.storeAssignments[r]},clearUserAssignments:(e,t)=>{const r=t.payload;delete e.userAssignments[r],delete e.lastUpdated.userAssignments[r]},resetState:()=>MF},extraReducers:e=>{e.addCase(Z1.pending,t=>{t.operations.assign.loading="pending",t.operations.assign.error=null,t.isLoading=!0}).addCase(Z1.fulfilled,(t,r)=>{t.operations.assign.loading="fulfilled",t.operations.assign.error=null,t.isLoading=!1;const n=r.payload.data.assignment;t.assignments.push(n);const s=n.store_id;t.storeAssignments[s]||(t.storeAssignments[s]=[]),t.storeAssignments[s].push(n);const i=n.user_id;t.userAssignments[i]||(t.userAssignments[i]=[]),t.userAssignments[i].push(n);const o=new Date().toISOString();t.lastUpdated.assignments=o,t.lastUpdated.storeAssignments[s]=o,t.lastUpdated.userAssignments[i]=o}).addCase(Z1.rejected,(t,r)=>{t.operations.assign.loading="rejected",t.operations.assign.error=r.payload||{message:"Failed to assign user role",timestamp:new Date().toISOString()},t.isLoading=!1}),e.addCase(X1.pending,t=>{t.operations.remove.loading="pending",t.operations.remove.error=null,t.isLoading=!0}).addCase(X1.fulfilled,t=>{t.operations.remove.loading="fulfilled",t.operations.remove.error=null,t.isLoading=!1,t.lastUpdated.assignments=null}).addCase(X1.rejected,(t,r)=>{t.operations.remove.loading="rejected",t.operations.remove.error=r.payload||{message:"Failed to remove user role",timestamp:new Date().toISOString()},t.isLoading=!1}),e.addCase(Q1.pending,t=>{t.operations.toggle.loading="pending",t.operations.toggle.error=null,t.isLoading=!0}).addCase(Q1.fulfilled,t=>{t.operations.toggle.loading="fulfilled",t.operations.toggle.error=null,t.isLoading=!1,t.lastUpdated.assignments=null}).addCase(Q1.rejected,(t,r)=>{t.operations.toggle.loading="rejected",t.operations.toggle.error=r.payload||{message:"Failed to toggle user role status",timestamp:new Date().toISOString()},t.isLoading=!1}),e.addCase(J1.pending,t=>{t.operations.bulkAssign.loading="pending",t.operations.bulkAssign.error=null,t.isLoading=!0}).addCase(J1.fulfilled,(t,r)=>{t.operations.bulkAssign.loading="fulfilled",t.operations.bulkAssign.error=null,t.isLoading=!1;const n=r.payload.data.assignments;t.assignments.push(...n);const s=new Date().toISOString();t.lastUpdated.assignments=s,n.forEach(i=>{const o=i.store_id,c=i.user_id;t.storeAssignments[o]||(t.storeAssignments[o]=[]),t.storeAssignments[o].push(i),t.lastUpdated.storeAssignments[o]=s,t.userAssignments[c]||(t.userAssignments[c]=[]),t.userAssignments[c].push(i),t.lastUpdated.userAssignments[c]=s})}).addCase(J1.rejected,(t,r)=>{t.operations.bulkAssign.loading="rejected",t.operations.bulkAssign.error=r.payload||{message:"Failed to bulk assign user roles",timestamp:new Date().toISOString()},t.isLoading=!1}),e.addCase(eS.pending,t=>{t.operations.fetchStoreAssignments.loading="pending",t.operations.fetchStoreAssignments.error=null,t.isLoading=!0}).addCase(eS.fulfilled,(t,r)=>{t.operations.fetchStoreAssignments.loading="fulfilled",t.operations.fetchStoreAssignments.error=null,t.isLoading=!1;const n=r.payload.data.assignments;if(n.length>0){const s=n[0].store_id;t.storeAssignments[s]=n,t.lastUpdated.storeAssignments[s]=new Date().toISOString()}}).addCase(eS.rejected,(t,r)=>{t.operations.fetchStoreAssignments.loading="rejected",t.operations.fetchStoreAssignments.error=r.payload||{message:"Failed to fetch store assignments",timestamp:new Date().toISOString()},t.isLoading=!1}),e.addCase(tS.pending,t=>{t.operations.fetchUserAssignments.loading="pending",t.operations.fetchUserAssignments.error=null,t.isLoading=!0}).addCase(tS.fulfilled,(t,r)=>{t.operations.fetchUserAssignments.loading="fulfilled",t.operations.fetchUserAssignments.error=null,t.isLoading=!1;const n=r.payload.data.assignments;if(n.length>0){const s=n[0].user_id;t.userAssignments[s]=n,t.lastUpdated.userAssignments[s]=new Date().toISOString()}}).addCase(tS.rejected,(t,r)=>{t.operations.fetchUserAssignments.loading="rejected",t.operations.fetchUserAssignments.error=r.payload||{message:"Failed to fetch user assignments",timestamp:new Date().toISOString()},t.isLoading=!1})}}),{clearErrors:cgt,clearOperationError:dgt,clearAssignments:ugt,clearStoreAssignments:fgt,clearUserAssignments:hgt,resetState:mgt}=Zq.actions,e0e=Zq.reducer,t0e=e=>e.userRolesStoresAssignment,r0e=e=>e.userRolesStoresAssignment.isLoading,Dm=e=>t=>t.userRolesStoresAssignment.operations[e].loading,Rm=e=>t=>t.userRolesStoresAssignment.operations[e].error,dC={BASE_URL:"https://auth.pnepizza.com/api/v1",TIMEOUT:15e3,RETRY_ATTEMPTS:3,RETRY_DELAY:1e3},n0e=()=>{try{const t=Es.getState().auth?.token;return t&&typeof t=="string"?t:os()}catch(e){return console.warn("Failed to retrieve auth token:",e),null}},zp=St.create({baseURL:dC.BASE_URL,timeout:dC.TIMEOUT,headers:{Accept:"application/json","Content-Type":"application/json"}});zp.interceptors.request.use(e=>{const t=n0e();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e.metadata={startTime:Date.now()},e},e=>Promise.reject(e));zp.interceptors.response.use(e=>e,e=>Promise.reject(e));const Zj=e=>{if(St.isAxiosError(e)){const t=e;if(t.response){const{status:r,data:n}=t.response;return{code:r,message:n?.message||s0e(r),details:n?.error?.details,validation_errors:n?.error?.validation_errors}}return t.request?{code:"NETWORK_ERROR",message:"Network error - please check your connection and try again",details:{originalError:t.message}}:{code:"REQUEST_SETUP_ERROR",message:"Request configuration error",details:{originalError:t.message}}}return{code:"UNKNOWN_ERROR",message:e instanceof Error?e.message:"An unexpected error occurred",details:{originalError:String(e)}}},s0e=e=>({400:"Invalid request data - please check your input",401:"Authentication required - please log in again",403:"You do not have permission to perform this action",404:"The requested resource was not found",409:"Conflict - this operation cannot be completed",422:"Validation failed - please check your input data",429:"Too many requests - please try again later",500:"Server error - please try again later",502:"Service temporarily unavailable",503:"Service maintenance in progress"})[e]||`Request failed with status ${e}`,b0=async(e,t=dC.RETRY_ATTEMPTS,r=dC.RETRY_DELAY)=>{try{return await e()}catch(n){if(t>0&&a0e(n))return await new Promise(s=>setTimeout(s,r)),b0(e,t-1,r*2);throw n}},a0e=e=>St.isAxiosError(e)?!e.response||e.response.status>=500:!1,i0e=async e=>{try{const t=await b0(async()=>await zp.post("/role-hierarchy",e));if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.message||"Failed to create role hierarchy")}catch(t){throw Zj(t)}},o0e=async e=>{if(!e||typeof e!="string")throw{code:"INVALID_STORE_ID",message:"Store ID is required and must be a valid string"};try{const t=await b0(async()=>await zp.get(`/role-hierarchy/store?store_id=${encodeURIComponent(e)}`));if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.message||"Failed to fetch store hierarchies")}catch(t){throw Zj(t)}},l0e=async e=>{if(!e||typeof e!="string")throw{code:"INVALID_STORE_ID",message:"Store ID is required and must be a valid string"};try{const t=await b0(async()=>await zp.get(`/role-hierarchy/tree?store_id=${encodeURIComponent(e)}`));if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.message||"Failed to fetch hierarchy tree")}catch(t){throw Zj(t)}},c0e=async e=>{try{const t=await b0(async()=>await zp.post("/role-hierarchy/remove",e));if(!t.data.success)throw new Error(t.data.message||"Failed to remove role hierarchy");return}catch(t){throw Zj(t)}},d0e=e=>{const t=(r,n=0,s=[])=>{const i=[...s,r.role.id];return{...r,children:r.children.map(o=>t(o,n+1,i)),treeMetadata:{depth:n,path:i,isExpanded:n<2,isSelected:!1,isLoading:!1,hasError:!1}}};return e.map(r=>t(r))},u0e=e=>{const t=[],r=(n,s="")=>{n.forEach(i=>{const o=s?`${s} > ${i.role.name}`:i.role.name;t.push({...i,flatPath:o}),i.children.length>0&&r(i.children,o)})};return r(e),t},f0e=e=>{const t=[],r=new Set;return e.forEach((n,s)=>{r.has(n.higher_role_id)&&r.has(n.lower_role_id)&&t.push(`Potential circular reference detected in hierarchy ${s+1}`),r.add(n.higher_role_id),r.add(n.lower_role_id),n.higher_role_id===n.lower_role_id&&t.push(`Self-referencing hierarchy detected in hierarchy ${s+1}`),n.store_id||t.push(`Missing store_id in hierarchy ${s+1}`)}),{isValid:t.length===0,issues:t}},lc={createRoleHierarchy:i0e,getStoreHierarchy:o0e,getStoreHierarchyTree:l0e,removeRoleHierarchy:c0e,transformApiTreeToNormalized:d0e,flattenTree:u0e,validateHierarchyData:f0e},h0e={hierarchiesById:{},hierarchiesByStore:{},treesByStore:{},rolesById:{},permissionsById:{},storesById:{},loading:{creating:!1,fetchingHierarchies:!1,fetchingTree:!1,removing:!1},errors:{createError:null,fetchError:null,treeError:null,removeError:null},lastUpdated:{},selectedStoreId:null},vv=He("roleHierarchy/createHierarchy",async(e,{rejectWithValue:t})=>{try{return(await lc.createRoleHierarchy(e)).hierarchy}catch(r){return t(r)}}),ff=He("roleHierarchy/fetchStoreHierarchies",async(e,{rejectWithValue:t,getState:r})=>{try{const n=r(),s=n.roleHierarchy.lastUpdated[`hierarchies_${e}`];return s&&Date.now()-s<3e5&&n.roleHierarchy.hierarchiesByStore[e]?.length>0?n.roleHierarchy.hierarchiesByStore[e].map(d=>n.roleHierarchy.hierarchiesById[d]).filter(Boolean):(await lc.getStoreHierarchy(e)).hierarchies}catch(n){return t(n)}}),hf=He("roleHierarchy/fetchHierarchyTree",async(e,{rejectWithValue:t,getState:r})=>{try{const n=r(),s=n.roleHierarchy.lastUpdated[`tree_${e}`];if(s&&Date.now()-s<3e5&&n.roleHierarchy.treesByStore[e]?.length>0)return n.roleHierarchy.treesByStore[e];const o=await lc.getStoreHierarchyTree(e);return lc.transformApiTreeToNormalized(o.hierarchy_tree)}catch(n){return t(n)}}),yv=He("roleHierarchy/removeHierarchy",async(e,{rejectWithValue:t,dispatch:r})=>{try{return await lc.removeRoleHierarchy(e),r(ff(e.store_id)),r(hf(e.store_id)),e}catch(n){return t(n)}}),Hk=He("roleHierarchy/refreshStoreData",async(e,{rejectWithValue:t})=>{try{const[r,n]=await Promise.all([lc.getStoreHierarchy(e),lc.getStoreHierarchyTree(e)]);return{hierarchies:r.hierarchies,tree:lc.transformApiTreeToNormalized(n.hierarchy_tree)}}catch(r){return t(r)}}),Xq=nr({name:"roleHierarchy",initialState:h0e,reducers:{setSelectedStoreId:(e,t)=>{e.selectedStoreId=t.payload},clearErrors:e=>{e.errors={createError:null,fetchError:null,treeError:null,removeError:null}},clearError:(e,t)=>{e.errors[t.payload]=null},updateTreeNodeMetadata:(e,t)=>{const{storeId:r,roleId:n,metadata:s}=t.payload,i=e.treesByStore[r];if(i){const o=c=>{c.forEach(d=>{d.role.id===n?d.treeMetadata={...d.treeMetadata,...s}:d.children.length>0&&o(d.children)})};o(i)}},invalidateStoreCache:(e,t)=>{const r=t.payload;delete e.lastUpdated[`hierarchies_${r}`],delete e.lastUpdated[`tree_${r}`]},normalizeEntities:(e,t)=>{const{roles:r,permissions:n,stores:s}=t.payload;r&&r.forEach(i=>{e.rolesById[i.id]=i}),n&&n.forEach(i=>{e.permissionsById[i.id]=i}),s&&s.forEach(i=>{e.storesById[i.id]=i})}},extraReducers:e=>{e.addCase(vv.pending,t=>{t.loading.creating=!0,t.errors.createError=null}).addCase(vv.fulfilled,(t,r)=>{t.loading.creating=!1,t.errors.createError=null;const n=r.payload;t.hierarchiesById[n.id]=n;const s=n.store_id;t.hierarchiesByStore[s]||(t.hierarchiesByStore[s]=[]),t.hierarchiesByStore[s].includes(n.id)||t.hierarchiesByStore[s].push(n.id),n.higher_role&&(t.rolesById[n.higher_role.id]=n.higher_role),n.lower_role&&(t.rolesById[n.lower_role.id]=n.lower_role),n.store&&(t.storesById[n.store.id]=n.store),t.lastUpdated[`hierarchies_${s}`]=Date.now()}).addCase(vv.rejected,(t,r)=>{t.loading.creating=!1,t.errors.createError=r.payload||{code:"CREATE_FAILED",message:"Failed to create hierarchy"}}).addCase(ff.pending,t=>{t.loading.fetchingHierarchies=!0,t.errors.fetchError=null}).addCase(ff.fulfilled,(t,r)=>{t.loading.fetchingHierarchies=!1,t.errors.fetchError=null;const n=r.payload,s=r.meta.arg;t.hierarchiesByStore[s]=[],n.forEach(i=>{t.hierarchiesById[i.id]=i,t.hierarchiesByStore[s].push(i.id),i.higher_role&&(t.rolesById[i.higher_role.id]=i.higher_role),i.lower_role&&(t.rolesById[i.lower_role.id]=i.lower_role)}),!t.selectedStoreId&&n.length>0&&(t.selectedStoreId=s),t.lastUpdated[`hierarchies_${s}`]=Date.now()}).addCase(ff.rejected,(t,r)=>{t.loading.fetchingHierarchies=!1,t.errors.fetchError=r.payload||{code:"FETCH_FAILED",message:"Failed to fetch store hierarchies"}}).addCase(hf.pending,t=>{t.loading.fetchingTree=!0,t.errors.treeError=null}).addCase(hf.fulfilled,(t,r)=>{t.loading.fetchingTree=!1,t.errors.treeError=null;const n=r.payload,s=r.meta.arg;t.treesByStore[s]=n;const i=o=>{o.forEach(c=>{t.rolesById[c.role.id]=c.role,c.permissions?.forEach(d=>{t.permissionsById[d.id]=d}),c.children.length>0&&i(c.children)})};i(n),t.lastUpdated[`tree_${s}`]=Date.now()}).addCase(hf.rejected,(t,r)=>{t.loading.fetchingTree=!1,t.errors.treeError=r.payload||{code:"TREE_FETCH_FAILED",message:"Failed to fetch hierarchy tree"}}).addCase(yv.pending,t=>{t.loading.removing=!0,t.errors.removeError=null}).addCase(yv.fulfilled,(t,r)=>{t.loading.removing=!1,t.errors.removeError=null;const{store_id:n}=r.payload;delete t.lastUpdated[`hierarchies_${n}`],delete t.lastUpdated[`tree_${n}`]}).addCase(yv.rejected,(t,r)=>{t.loading.removing=!1,t.errors.removeError=r.payload||{code:"REMOVE_FAILED",message:"Failed to remove hierarchy"}}).addCase(Hk.pending,t=>{t.loading.fetchingHierarchies=!0,t.loading.fetchingTree=!0}).addCase(Hk.fulfilled,(t,r)=>{t.loading.fetchingHierarchies=!1,t.loading.fetchingTree=!1;const{hierarchies:n,tree:s}=r.payload,i=r.meta.arg;t.hierarchiesByStore[i]=[],n.forEach(c=>{t.hierarchiesById[c.id]=c,t.hierarchiesByStore[i].push(c.id)}),t.treesByStore[i]=s;const o=Date.now();t.lastUpdated[`hierarchies_${i}`]=o,t.lastUpdated[`tree_${i}`]=o}).addCase(Hk.rejected,(t,r)=>{t.loading.fetchingHierarchies=!1,t.loading.fetchingTree=!1,t.errors.fetchError=r.payload||{code:"REFRESH_FAILED",message:"Failed to refresh store data"}})}}),ul=e=>e.roleHierarchy,w0=xe([ul],e=>e.loading);xe([w0],e=>Object.values(e).some(Boolean));const S0=xe([ul],e=>e.errors);xe([S0],e=>Object.values(e).some(Boolean));const m0e=xe([ul],e=>e.selectedStoreId);xe([ul],e=>Object.values(e.hierarchiesById));const p0e=()=>xe([ul,(e,t)=>t],(e,t)=>(e.hierarchiesByStore[t]||[]).map(n=>e.hierarchiesById[n]).filter(Boolean).sort((n,s)=>new Date(s.created_at).getTime()-new Date(n.created_at).getTime())),g0e=xe([ul,m0e],(e,t)=>t?e.treesByStore[t]||[]:[]),x0e=()=>xe([ul,(e,t)=>t],(e,t)=>e.treesByStore[t]||[]);xe([ul],e=>Object.values(e.rolesById));xe([ul],e=>Object.values(e.permissionsById));xe([g0e],e=>e.length?lc.flattenTree(e):[]);const Qq=()=>xe([ul,(e,t)=>t],(e,t)=>{const r=e.lastUpdated[`hierarchies_${t}`],n=e.lastUpdated[`tree_${t}`],s=Date.now(),i=3e5;return{hierarchiesIsFresh:r&&s-r<i,treeIsFresh:n&&s-n<i,lastUpdated:{hierarchies:r||null,tree:n||null}}}),{setSelectedStoreId:pgt,clearErrors:ggt,clearError:Jq,updateTreeNodeMetadata:xgt,invalidateStoreCache:eG,normalizeEntities:vgt}=Xq.actions,v0e=Xq.reducer,y0e="http://127.0.0.1:8000/api",bx="/positions",b0e=()=>{try{const t=Es.getState().auth?.token;return t||os()}catch(e){return console.error("Error retrieving auth token:",e),null}},Yu=St.create({baseURL:y0e,timeout:3e4,headers:{Accept:"application/json"}});Yu.interceptors.request.use(e=>{const t=b0e();return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));Yu.interceptors.response.use(e=>e,e=>(console.error(" API Error:",{method:e.config?.method?.toUpperCase(),url:e.config?.url,status:e.response?.status,message:e.message,data:e.response?.data}),Promise.reject(e)));const wx=e=>{if(St.isAxiosError(e)){const t=e,r=t.response?.data;return{message:r?.message||t.message||"An unexpected error occurred",status:t.response?.status||500,errors:r?.errors||void 0,code:r?.code||"UNKNOWN_ERROR"}}return e instanceof Error?{message:e.message,status:500,code:"NETWORK_ERROR"}:{message:"An unexpected error occurred",status:500,code:"UNKNOWN_ERROR"}},w0e=e=>{const t=new URLSearchParams;return Object.entries(e).forEach(([r,n])=>{n!=null&&n!==""&&t.append(r,n.toString())}),t.toString()};class S0e{async getAllPositions(t={}){try{console.log(" Fetching positions list with params:",t);const r=w0e(t),n=`${bx}${r?`?${r}`:""}`,s=await Yu.get(n);return console.log(` Successfully fetched ${s.data.length} positions`),s.data}catch(r){const n=wx(r);throw console.error(" Failed to fetch positions:",n),n}}async getPositionById(t){try{console.log(` Fetching position with ID: ${t}`);const r=await Yu.get(`${bx}/${t}`);return console.log(` Successfully fetched position: ${r.data.name}`),r.data}catch(r){const n=wx(r);throw console.error(` Failed to fetch position ${t}:`,n),n}}async createPosition(t){try{if(console.log(" Creating new position:",t),!t.name?.trim())throw{message:"Position name is required",status:400,errors:{name:["Position name is required"]},code:"VALIDATION_ERROR"};const r=await Yu.post(bx,t);return console.log(` Successfully created position: ${r.data.name} (ID: ${r.data.id})`),r.data}catch(r){const n=wx(r);throw console.error(" Failed to create position:",n),n}}async updatePosition(t,r){try{if(console.log(` Updating position ${t}:`,r),!r.name?.trim())throw{message:"Position name is required",status:400,errors:{name:["Position name is required"]},code:"VALIDATION_ERROR"};const n=await Yu.put(`${bx}/${t}`,r);return console.log(` Successfully updated position: ${n.data.name} (ID: ${n.data.id})`),n.data}catch(n){const s=wx(n);throw console.error(` Failed to update position ${t}:`,s),s}}async deletePosition(t){try{console.log(` Deleting position with ID: ${t}`),await Yu.delete(`${bx}/${t}`),console.log(` Successfully deleted position with ID: ${t}`)}catch(r){const n=wx(r);throw console.error(` Failed to delete position ${t}:`,n),n}}async isSlugAvailable(t,r){try{console.log(` Checking slug availability: ${t}`);const n={search:t},o=!(await this.getAllPositions(n)).find(c=>c.slug===t&&c.id!==r);return console.log(`${o?"":""} Slug "${t}" is ${o?"available":"taken"}`),o}catch(n){return console.error(" Error checking slug availability:",n),!1}}}const Up=new S0e,{getAllPositions:ygt,getPositionById:bgt,createPosition:wgt,updatePosition:Sgt,deletePosition:Cgt,isSlugAvailable:jgt}=Up,OF={positions:[],selectedPosition:null,loading:{list:!1,single:!1,create:!1,update:!1,delete:!1},error:{list:null,single:null,create:null,update:null,delete:null},pagination:{currentPage:1,totalPages:1,perPage:10,total:0},ui:{isCreateModalOpen:!1,isEditModalOpen:!1,deletingId:null}},rS=He("positions/fetchPositions",async(e={},{rejectWithValue:t})=>{try{console.log(" Redux: Starting fetchPositions with params:",e);const r=await Up.getAllPositions(e);return console.log(` Redux: Successfully fetched ${r.length} positions`),r}catch(r){const n=r;return console.error(" Redux: fetchPositions failed:",n),t(n)}}),nS=He("positions/fetchPositionById",async(e,{rejectWithValue:t})=>{try{console.log(` Redux: Starting fetchPositionById for ID: ${e}`);const r=await Up.getPositionById(e);return console.log(` Redux: Successfully fetched position: ${r.name}`),r}catch(r){const n=r;return console.error(` Redux: fetchPositionById failed for ID ${e}:`,n),t(n)}}),sS=He("positions/createPosition",async(e,{rejectWithValue:t})=>{try{console.log(" Redux: Starting createPosition with data:",e);const r=await Up.createPosition(e);return console.log(` Redux: Successfully created position: ${r.name} (ID: ${r.id})`),r}catch(r){const n=r;return console.error(" Redux: createPosition failed:",n),t(n)}}),aS=He("positions/updatePosition",async({id:e,data:t},{rejectWithValue:r})=>{try{console.log(` Redux: Starting updatePosition for ID ${e} with data:`,t);const n=await Up.updatePosition(e,t);return console.log(` Redux: Successfully updated position: ${n.name} (ID: ${n.id})`),n}catch(n){const s=n;return console.error(` Redux: updatePosition failed for ID ${e}:`,s),r(s)}}),iS=He("positions/deletePosition",async(e,{rejectWithValue:t})=>{try{return console.log(` Redux: Starting deletePosition for ID: ${e}`),await Up.deletePosition(e),console.log(` Redux: Successfully deleted position with ID: ${e}`),e}catch(r){const n=r;return console.error(` Redux: deletePosition failed for ID ${e}:`,n),t(n)}}),tG=nr({name:"positions",initialState:OF,reducers:{setSelectedPosition:(e,t)=>{e.selectedPosition=t.payload,e.error.single=null},clearSelectedPosition:e=>{e.selectedPosition=null,e.error.single=null},openCreateModal:e=>{e.ui.isCreateModalOpen=!0,e.error.create=null},closeCreateModal:e=>{e.ui.isCreateModalOpen=!1,e.error.create=null},openEditModal:e=>{e.ui.isEditModalOpen=!0,e.error.update=null},closeEditModal:e=>{e.ui.isEditModalOpen=!1,e.error.update=null},setDeletingId:(e,t)=>{e.ui.deletingId=t.payload,t.payload===null&&(e.error.delete=null)},clearAllErrors:e=>{e.error={list:null,single:null,create:null,update:null,delete:null}},clearError:(e,t)=>{e.error[t.payload]=null},updatePagination:(e,t)=>{e.pagination={...e.pagination,...t.payload}},resetPositionsState:()=>OF},extraReducers:e=>{e.addCase(rS.pending,t=>{t.loading.list=!0,t.error.list=null}).addCase(rS.fulfilled,(t,r)=>{t.loading.list=!1,t.positions=r.payload,t.error.list=null,r.meta.arg?.per_page&&(t.pagination.perPage=r.meta.arg.per_page),t.pagination.total=r.payload.length}).addCase(rS.rejected,(t,r)=>{t.loading.list=!1,t.error.list=r.payload?.message||"Failed to fetch positions",console.error(" Redux: fetchPositions rejected:",r.payload)}),e.addCase(nS.pending,t=>{t.loading.single=!0,t.error.single=null}).addCase(nS.fulfilled,(t,r)=>{t.loading.single=!1,t.selectedPosition=r.payload,t.error.single=null}).addCase(nS.rejected,(t,r)=>{t.loading.single=!1,t.selectedPosition=null,t.error.single=r.payload?.message||"Failed to fetch position",console.error(" Redux: fetchPositionById rejected:",r.payload)}),e.addCase(sS.pending,t=>{t.loading.create=!0,t.error.create=null}).addCase(sS.fulfilled,(t,r)=>{t.loading.create=!1,t.error.create=null,t.positions.unshift(r.payload),t.pagination.total+=1,t.ui.isCreateModalOpen=!1,t.selectedPosition=r.payload}).addCase(sS.rejected,(t,r)=>{t.loading.create=!1,t.error.create=r.payload?.message||"Failed to create position",console.error(" Redux: createPosition rejected:",r.payload)}),e.addCase(aS.pending,t=>{t.loading.update=!0,t.error.update=null}).addCase(aS.fulfilled,(t,r)=>{t.loading.update=!1,t.error.update=null;const n=t.positions.findIndex(s=>s.id===r.payload.id);n!==-1&&(t.positions[n]=r.payload),t.selectedPosition?.id===r.payload.id&&(t.selectedPosition=r.payload),t.ui.isEditModalOpen=!1}).addCase(aS.rejected,(t,r)=>{t.loading.update=!1,t.error.update=r.payload?.message||"Failed to update position",console.error(" Redux: updatePosition rejected:",r.payload)}),e.addCase(iS.pending,t=>{t.loading.delete=!0,t.error.delete=null}).addCase(iS.fulfilled,(t,r)=>{t.loading.delete=!1,t.error.delete=null;const n=r.payload;t.positions=t.positions.filter(s=>s.id!==n),t.selectedPosition?.id===n&&(t.selectedPosition=null),t.pagination.total=Math.max(0,t.pagination.total-1),t.ui.deletingId=null}).addCase(iS.rejected,(t,r)=>{t.loading.delete=!1,t.error.delete=r.payload?.message||"Failed to delete position",t.ui.deletingId=null,console.error(" Redux: deletePosition rejected:",r.payload)})}}),{setSelectedPosition:C0e,clearSelectedPosition:j0e,openCreateModal:E0e,closeCreateModal:N0e,openEditModal:_0e,closeEditModal:A0e,setDeletingId:k0e,clearAllErrors:T0e,clearError:P0e,updatePagination:D0e,resetPositionsState:R0e}=tG.actions,M0e=e=>e.positions.positions,O0e=e=>e.positions.selectedPosition,I0e=e=>e.positions.loading,L0e=e=>e.positions.error,B0e=e=>e.positions.pagination,$0e=e=>e.positions.ui,F0e=e=>{const{loading:t}=e.positions;return t.list||t.single||t.create||t.update||t.delete},H0e=tG.reducer,Sx={FETCH_ALL:"FETCH_ALL",FETCH_BY_ID:"FETCH_BY_ID",CREATE:"CREATE",UPDATE:"UPDATE",DELETE:"DELETE"},_m={OK:200,CREATED:201,NO_CONTENT:204,BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,UNPROCESSABLE_ENTITY:422,INTERNAL_SERVER_ERROR:500},Cx="http://127.0.0.1:8000/api/statuses",z0e=()=>{try{const t=Es.getState().auth?.token;return t||os()}catch(e){return console.error("Error retrieving auth token:",e),null}},jx=(e=!1)=>{const t=z0e();if(!t)throw new Error("Authentication token not found. Please log in again.");const r={Accept:"application/json",Authorization:`Bearer ${t}`};return e&&(r["Content-Type"]="application/json"),r},Ex=(e,t,r)=>{const n=new Date().toISOString();if(St.isAxiosError(e)){const i=e,o=i.response?.status,c=i.response?.statusText,d=i.response?.data;let u=r||"An error occurred while processing your request";switch(o){case _m.UNAUTHORIZED:u="Authentication failed. Please log in again.";break;case _m.FORBIDDEN:u="You do not have permission to perform this action.";break;case _m.NOT_FOUND:u="The requested status was not found.";break;case _m.UNPROCESSABLE_ENTITY:u="Invalid data provided. Please check your input and try again.";break;case _m.INTERNAL_SERVER_ERROR:u="Server error occurred. Please try again later.";break;default:u=r||`Request failed with status ${o}: ${c}`}return{message:u,status:o,operation:t,details:typeof d=="string"?d:JSON.stringify(d),timestamp:n}}const s=e instanceof Error?e.message:"Unknown error occurred";return console.error(`API Error [${t}]:`,{error:s,operation:t,timestamp:n}),{message:r||"Network error occurred. Please check your connection.",operation:t,details:s,timestamp:n}};class C0{static async getAllStatuses(){try{const t=jx();return(await St.get(Cx,{headers:t})).data}catch(t){throw Ex(t,Sx.FETCH_ALL,"Failed to fetch statuses")}}static async getStatusById(t){try{const r=jx();return(await St.get(`${Cx}/${t}`,{headers:r})).data}catch(r){throw Ex(r,Sx.FETCH_BY_ID,`Failed to fetch status with ID: ${t}`)}}static async createStatus(t){try{if(!t.description||t.description.trim()==="")throw new Error("Description is required");const r=jx(!0);return(await St.post(Cx,t,{headers:r})).data}catch(r){throw Ex(r,Sx.CREATE,"Failed to create status")}}static async updateStatus(t){try{const{id:r,data:n}=t;if(!n.description||n.description.trim()==="")throw new Error("Description is required");const s=jx(!0);return(await St.put(`${Cx}/${r}`,n,{headers:s})).data}catch(r){throw Ex(r,Sx.UPDATE,`Failed to update status with ID: ${t.id}`)}}static async deleteStatus(t){try{const{id:r}=t,n=jx(),s=await St.delete(`${Cx}/${r}`,{headers:n});s.status!==_m.NO_CONTENT&&console.warn(`Unexpected status code for delete operation: ${s.status}`)}catch(r){throw Ex(r,Sx.DELETE,`Failed to delete status with ID: ${t.id}`)}}}const IF={entities:{},ids:[],loading:{fetchAll:!1,fetchById:!1,create:!1,update:!1,delete:!1},errors:{fetchAll:null,fetchById:null,create:null,update:null,delete:null},lastFetched:null,total:0},oS=He("statuses/fetchAll",async(e,{rejectWithValue:t})=>{try{return await C0.getAllStatuses()}catch(r){return t(r)}}),zk=He("statuses/fetchById",async(e,{rejectWithValue:t})=>{try{return await C0.getStatusById(e)}catch(r){return t(r)}}),lS=He("statuses/create",async(e,{rejectWithValue:t})=>{try{return await C0.createStatus(e)}catch(r){return t(r)}}),cS=He("statuses/update",async(e,{rejectWithValue:t})=>{try{return await C0.updateStatus(e)}catch(r){return t(r)}}),dS=He("statuses/delete",async(e,{rejectWithValue:t})=>{try{return await C0.deleteStatus(e),e.id}catch(r){return t(r)}}),U0e=e=>{const t={},r=[];return e.forEach(n=>{t[n.id]=n,r.push(n.id)}),{entities:t,ids:r}},LF=(e,t)=>{e.entities[t.id]=t,e.ids.includes(t.id)||(e.ids.push(t.id),e.ids.sort((r,n)=>n-r)),e.total=e.ids.length},V0e=(e,t)=>{delete e.entities[t],e.ids=e.ids.filter(r=>r!==t),e.total=e.ids.length},rG=nr({name:"statuses",initialState:IF,reducers:{clearErrors:e=>{e.errors={fetchAll:null,fetchById:null,create:null,update:null,delete:null}},clearError:(e,t)=>{e.errors[t.payload]=null},resetStatusesState:()=>IF,optimisticUpdateStatus:(e,t)=>{const r=t.payload;e.entities[r.id]=r}},extraReducers:e=>{e.addCase(oS.pending,t=>{t.loading.fetchAll=!0,t.errors.fetchAll=null}).addCase(oS.fulfilled,(t,r)=>{t.loading.fetchAll=!1;const{entities:n,ids:s}=U0e(r.payload);t.entities=n,t.ids=s,t.total=s.length,t.lastFetched=new Date().toISOString()}).addCase(oS.rejected,(t,r)=>{t.loading.fetchAll=!1,t.errors.fetchAll=r.payload?.message||"Failed to fetch statuses"}).addCase(zk.pending,t=>{t.loading.fetchById=!0,t.errors.fetchById=null}).addCase(zk.fulfilled,(t,r)=>{t.loading.fetchById=!1,LF(t,r.payload)}).addCase(zk.rejected,(t,r)=>{t.loading.fetchById=!1,t.errors.fetchById=r.payload?.message||"Failed to fetch status"}).addCase(lS.pending,t=>{t.loading.create=!0,t.errors.create=null}).addCase(lS.fulfilled,(t,r)=>{t.loading.create=!1,LF(t,r.payload)}).addCase(lS.rejected,(t,r)=>{t.loading.create=!1,t.errors.create=r.payload?.message||"Failed to create status"}).addCase(cS.pending,t=>{t.loading.update=!0,t.errors.update=null}).addCase(cS.fulfilled,(t,r)=>{t.loading.update=!1,t.entities[r.payload.id]=r.payload}).addCase(cS.rejected,(t,r)=>{t.loading.update=!1,t.errors.update=r.payload?.message||"Failed to update status"}).addCase(dS.pending,t=>{t.loading.delete=!0,t.errors.delete=null}).addCase(dS.fulfilled,(t,r)=>{t.loading.delete=!1,V0e(t,r.payload)}).addCase(dS.rejected,(t,r)=>{t.loading.delete=!1,t.errors.delete=r.payload?.message||"Failed to delete status"})}}),{clearErrors:W0e,clearError:q0e,resetStatusesState:G0e,optimisticUpdateStatus:Y0e}=rG.actions,K0e=e=>{const{entities:t,ids:r}=e.statuses;return r.map(n=>t[n])},Z0e=e=>e.statuses.loading,X0e=e=>e.statuses.errors,Q0e=e=>({total:e.statuses.total,lastFetched:e.statuses.lastFetched}),J0e=e=>{const t=e.statuses.loading;return Object.values(t).some(r=>r)},eye=e=>{const t=e.statuses.errors;return Object.values(t).some(r=>r!==null)},tye=rG.reducer,rye="http://127.0.0.1:8000/api",Nx="/skills",nye=()=>{try{const t=Es.getState().auth?.token;return t||os()}catch(e){return console.error("Error retrieving auth token:",e),null}},Ku=St.create({baseURL:rye,timeout:3e4,headers:{Accept:"application/json"}});Ku.interceptors.request.use(e=>{const t=nye();return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));Ku.interceptors.response.use(e=>e,e=>(console.error(" API Error:",{method:e.config?.method?.toUpperCase(),url:e.config?.url,status:e.response?.status,message:e.message,data:e.response?.data}),Promise.reject(e)));const _x=e=>{if(St.isAxiosError(e)){const t=e,r=t.response?.data;return{message:r?.message||t.message||"An unexpected error occurred",status:t.response?.status||500,errors:r?.errors||void 0,code:r?.code||"UNKNOWN_ERROR",details:r||void 0}}return e instanceof Error?{message:e.message,status:500,code:"NETWORK_ERROR"}:{message:"An unexpected error occurred",status:500,code:"UNKNOWN_ERROR"}};class sye{async getAllSkills(){try{console.log(" Fetching all skills");const t=await Ku.get(Nx);return console.log(` Successfully fetched ${t.data.length} skills`),t.data}catch(t){const r=_x(t);throw console.error(" Failed to fetch skills:",r),r}}async getSkillById(t){try{console.log(` Fetching skill with ID: ${t}`);const r=await Ku.get(`${Nx}/${t}`);return console.log(` Successfully fetched skill: ${r.data.name}`),r.data}catch(r){const n=_x(r);throw console.error(` Failed to fetch skill ${t}:`,n),n}}async createSkill(t){try{if(console.log(" Creating new skill:",t),!t.name?.trim())throw{message:"Skill name is required",status:400,errors:{name:["Skill name is required"]},code:"VALIDATION_ERROR"};const r=await Ku.post(Nx,t,{headers:{"Content-Type":"application/json"}});return console.log(` Successfully created skill: ${r.data.name} (ID: ${r.data.id})`),r.data}catch(r){const n=_x(r);throw console.error(" Failed to create skill:",n),n}}async updateSkill(t,r){try{if(console.log(` Updating skill ${t}:`,r),!r.name?.trim())throw{message:"Skill name is required",status:400,errors:{name:["Skill name is required"]},code:"VALIDATION_ERROR"};const n=await Ku.put(`${Nx}/${t}`,r,{headers:{"Content-Type":"application/json"}});return console.log(` Successfully updated skill: ${n.data.name} (ID: ${n.data.id})`),n.data}catch(n){const s=_x(n);throw console.error(` Failed to update skill ${t}:`,s),s}}async deleteSkill(t){try{console.log(` Deleting skill with ID: ${t}`),await Ku.delete(`${Nx}/${t}`),console.log(` Successfully deleted skill with ID: ${t}`)}catch(r){const n=_x(r);throw console.error(` Failed to delete skill ${t}:`,n),n}}}const Vp=new sye,{getAllSkills:Egt,getSkillById:BF,createSkill:Ngt,updateSkill:_gt,deleteSkill:Agt}=Vp,$F={skills:[],selectedSkill:null,loading:{list:!1,single:!1,create:!1,update:!1,delete:!1},error:{list:null,single:null,create:null,update:null,delete:null},ui:{isCreateModalOpen:!1,isEditModalOpen:!1,deletingId:null}},uS=He("skills/fetchSkills",async(e,{rejectWithValue:t})=>{try{console.log(" Redux: Starting fetchSkills");const r=await Vp.getAllSkills();return console.log(` Redux: Successfully fetched ${r.length} skills`),r}catch(r){const n=r;return console.error(" Redux: fetchSkills failed:",n),t(n)}}),fS=He("skills/fetchSkillById",async(e,{rejectWithValue:t})=>{try{console.log(` Redux: Starting fetchSkillById for ID: ${e}`);const r=await Vp.getSkillById(e);return console.log(` Redux: Successfully fetched skill: ${r.name}`),r}catch(r){const n=r;return console.error(` Redux: fetchSkillById failed for ID ${e}:`,n),t(n)}}),hS=He("skills/createSkill",async(e,{rejectWithValue:t})=>{try{console.log(" Redux: Starting createSkill with data:",e);const r=await Vp.createSkill(e);return console.log(` Redux: Successfully created skill: ${r.name} (ID: ${r.id})`),r}catch(r){const n=r;return console.error(" Redux: createSkill failed:",n),t(n)}}),mS=He("skills/updateSkill",async({id:e,data:t},{rejectWithValue:r})=>{try{console.log(` Redux: Starting updateSkill for ID ${e} with data:`,t);const n=await Vp.updateSkill(e,t);return console.log(` Redux: Successfully updated skill: ${n.name} (ID: ${n.id})`),n}catch(n){const s=n;return console.error(` Redux: updateSkill failed for ID ${e}:`,s),r(s)}}),pS=He("skills/deleteSkill",async(e,{rejectWithValue:t})=>{try{return console.log(` Redux: Starting deleteSkill for ID: ${e}`),await Vp.deleteSkill(e),console.log(` Redux: Successfully deleted skill with ID: ${e}`),e}catch(r){const n=r;return console.error(` Redux: deleteSkill failed for ID ${e}:`,n),t(n)}}),nG=nr({name:"skills",initialState:$F,reducers:{setSelectedSkill:(e,t)=>{e.selectedSkill=t.payload,e.error.single=null},clearSelectedSkill:e=>{e.selectedSkill=null,e.error.single=null},openCreateModal:e=>{e.ui.isCreateModalOpen=!0,e.error.create=null},closeCreateModal:e=>{e.ui.isCreateModalOpen=!1,e.error.create=null},openEditModal:e=>{e.ui.isEditModalOpen=!0,e.error.update=null},closeEditModal:e=>{e.ui.isEditModalOpen=!1,e.error.update=null},setDeletingId:(e,t)=>{e.ui.deletingId=t.payload,t.payload===null&&(e.error.delete=null)},clearAllErrors:e=>{e.error={list:null,single:null,create:null,update:null,delete:null}},clearError:(e,t)=>{e.error[t.payload]=null},resetSkillsState:()=>$F},extraReducers:e=>{e.addCase(uS.pending,t=>{t.loading.list=!0,t.error.list=null}).addCase(uS.fulfilled,(t,r)=>{t.loading.list=!1,t.skills=r.payload,t.error.list=null}).addCase(uS.rejected,(t,r)=>{t.loading.list=!1,t.error.list=r.payload?.message||"Failed to fetch skills",console.error(" Redux: fetchSkills rejected:",r.payload)}).addCase(fS.pending,t=>{t.loading.single=!0,t.error.single=null}).addCase(fS.fulfilled,(t,r)=>{t.loading.single=!1,t.selectedSkill=r.payload,t.error.single=null}).addCase(fS.rejected,(t,r)=>{t.loading.single=!1,t.selectedSkill=null,t.error.single=r.payload?.message||"Failed to fetch skill",console.error(" Redux: fetchSkillById rejected:",r.payload)}).addCase(hS.pending,t=>{t.loading.create=!0,t.error.create=null}).addCase(hS.fulfilled,(t,r)=>{t.loading.create=!1,t.error.create=null,t.skills.unshift(r.payload),t.ui.isCreateModalOpen=!1,t.selectedSkill={...r.payload,emp_infos:[]}}).addCase(hS.rejected,(t,r)=>{t.loading.create=!1,t.error.create=r.payload?.message||"Failed to create skill",console.error(" Redux: createSkill rejected:",r.payload)}).addCase(mS.pending,t=>{t.loading.update=!0,t.error.update=null}).addCase(mS.fulfilled,(t,r)=>{t.loading.update=!1,t.error.update=null;const n=t.skills.findIndex(s=>s.id===r.payload.id);n!==-1&&(t.skills[n]=r.payload),t.selectedSkill?.id===r.payload.id&&("emp_infos"in t.selectedSkill?t.selectedSkill={...r.payload,emp_infos:t.selectedSkill.emp_infos}:t.selectedSkill={...r.payload,emp_infos:[]}),t.ui.isEditModalOpen=!1}).addCase(mS.rejected,(t,r)=>{t.loading.update=!1,t.error.update=r.payload?.message||"Failed to update skill",console.error(" Redux: updateSkill rejected:",r.payload)}).addCase(pS.pending,t=>{t.loading.delete=!0,t.error.delete=null}).addCase(pS.fulfilled,(t,r)=>{t.loading.delete=!1,t.error.delete=null;const n=r.payload;t.skills=t.skills.filter(s=>s.id!==n),t.selectedSkill?.id===n&&(t.selectedSkill=null),t.ui.deletingId=null}).addCase(pS.rejected,(t,r)=>{t.loading.delete=!1,t.error.delete=r.payload?.message||"Failed to delete skill",t.ui.deletingId=null,console.error(" Redux: deleteSkill rejected:",r.payload)})}}),{setSelectedSkill:aye,clearSelectedSkill:iye,openCreateModal:oye,closeCreateModal:lye,openEditModal:cye,closeEditModal:dye,setDeletingId:uye,clearAllErrors:fye,clearError:hye,resetSkillsState:mye}=nG.actions,pye=e=>e.skills.skills,gye=e=>e.skills.selectedSkill,xye=e=>e.skills.loading,vye=e=>e.skills.error,yye=e=>e.skills.ui,bye=e=>{const t=e.skills.loading;return t.list||t.single||t.create||t.update||t.delete},wye=nG.reducer,Sye="http://127.0.0.1:8000/api",Ax="/preferences",Cye=()=>{try{const t=Es.getState().auth?.token;return t||os()}catch(e){return console.error("Error retrieving auth token:",e),null}},Zu=St.create({baseURL:Sye,timeout:3e4,headers:{Accept:"application/json"}});Zu.interceptors.request.use(e=>{const t=Cye();return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));Zu.interceptors.response.use(e=>e,e=>(console.error(" API Error:",{method:e.config?.method?.toUpperCase(),url:e.config?.url,status:e.response?.status,message:e.message,data:e.response?.data}),Promise.reject(e)));const kx=e=>{if(St.isAxiosError(e)){const t=e,r=t.response?.data;return{message:r?.message||t.message||"An unexpected error occurred",status:t.response?.status||500,errors:r?.errors||void 0,code:r?.code||"UNKNOWN_ERROR",details:r||void 0}}return e instanceof Error?{message:e.message,status:500,code:"NETWORK_ERROR"}:{message:"An unexpected error occurred",status:500,code:"UNKNOWN_ERROR"}};class jye{async getAllPreferences(){try{console.log(" Fetching all preferences");const t=await Zu.get(Ax);return console.log(` Successfully fetched ${t.data.length} preferences`),t.data}catch(t){const r=kx(t);throw console.error(" Failed to fetch preferences:",r),r}}async getPreferenceById(t){try{console.log(` Fetching preference with ID: ${t}`);const r=await Zu.get(`${Ax}/${t}`);return console.log(` Successfully fetched preference: ${r.data.name}`),r.data}catch(r){const n=kx(r);throw console.error(` Failed to fetch preference ${t}:`,n),n}}async createPreference(t){try{if(console.log(" Creating new preference:",t),!t.name?.trim())throw{message:"Preference name is required",status:400,errors:{name:["Preference name is required"]},code:"VALIDATION_ERROR"};const r=await Zu.post(Ax,t,{headers:{"Content-Type":"application/json"}});return console.log(` Successfully created preference: ${r.data.name} (ID: ${r.data.id})`),r.data}catch(r){const n=kx(r);throw console.error(" Failed to create preference:",n),n}}async updatePreference(t,r){try{if(console.log(` Updating preference ${t}:`,r),!r.name?.trim())throw{message:"Preference name is required",status:400,errors:{name:["Preference name is required"]},code:"VALIDATION_ERROR"};const n=await Zu.put(`${Ax}/${t}`,r,{headers:{"Content-Type":"application/json"}});return console.log(` Successfully updated preference: ${n.data.name} (ID: ${n.data.id})`),n.data}catch(n){const s=kx(n);throw console.error(` Failed to update preference ${t}:`,s),s}}async deletePreference(t){try{console.log(` Deleting preference with ID: ${t}`),await Zu.delete(`${Ax}/${t}`),console.log(` Successfully deleted preference with ID: ${t}`)}catch(r){const n=kx(r);throw console.error(` Failed to delete preference ${t}:`,n),n}}}const Ld=new jye,{getAllPreferences:kgt,getPreferenceById:Tgt,createPreference:Pgt,updatePreference:Dgt,deletePreference:Rgt}=Ld,FF={preferences:[],selectedPreference:null,loading:{list:!1,single:!1,create:!1,update:!1,delete:!1},error:{list:null,single:null,create:null,update:null,delete:null},ui:{isCreateModalOpen:!1,isEditModalOpen:!1,deletingId:null}},gS=He("preferences/fetchPreferences",async(e,{rejectWithValue:t})=>{try{console.log(" Redux: Starting fetchPreferences");const r=await Ld.getAllPreferences();return console.log(` Redux: Successfully fetched ${r.length} preferences`),r}catch(r){const n=r;return console.error(" Redux: fetchPreferences failed:",n),t(n)}}),xS=He("preferences/fetchPreferenceById",async(e,{rejectWithValue:t})=>{try{console.log(` Redux: Starting fetchPreferenceById for ID: ${e}`);const r=await Ld.getPreferenceById(e);return console.log(` Redux: Successfully fetched preference: ${r.name}`),r}catch(r){const n=r;return console.error(` Redux: fetchPreferenceById failed for ID ${e}:`,n),t(n)}}),vS=He("preferences/createPreference",async(e,{rejectWithValue:t})=>{try{console.log(" Redux: Starting createPreference with data:",e);const r=await Ld.createPreference(e);return console.log(` Redux: Successfully created preference: ${r.name} (ID: ${r.id})`),r}catch(r){const n=r;return console.error(" Redux: createPreference failed:",n),t(n)}}),yS=He("preferences/updatePreference",async({id:e,data:t},{rejectWithValue:r})=>{try{console.log(` Redux: Starting updatePreference for ID ${e} with data:`,t);const n=await Ld.updatePreference(e,t);return console.log(` Redux: Successfully updated preference: ${n.name} (ID: ${n.id})`),n}catch(n){const s=n;return console.error(` Redux: updatePreference failed for ID ${e}:`,s),r(s)}}),bS=He("preferences/deletePreference",async(e,{rejectWithValue:t})=>{try{return console.log(` Redux: Starting deletePreference for ID: ${e}`),await Ld.deletePreference(e),console.log(` Redux: Successfully deleted preference with ID: ${e}`),e}catch(r){const n=r;return console.error(` Redux: deletePreference failed for ID ${e}:`,n),t(n)}}),sG=nr({name:"preferences",initialState:FF,reducers:{setSelectedPreference:(e,t)=>{e.selectedPreference=t.payload,e.error.single=null},clearSelectedPreference:e=>{e.selectedPreference=null,e.error.single=null},openCreateModal:e=>{e.ui.isCreateModalOpen=!0,e.error.create=null},closeCreateModal:e=>{e.ui.isCreateModalOpen=!1,e.error.create=null},openEditModal:e=>{e.ui.isEditModalOpen=!0,e.error.update=null},closeEditModal:e=>{e.ui.isEditModalOpen=!1,e.error.update=null},setDeletingId:(e,t)=>{e.ui.deletingId=t.payload,t.payload===null&&(e.error.delete=null)},clearAllErrors:e=>{e.error={list:null,single:null,create:null,update:null,delete:null}},clearError:(e,t)=>{e.error[t.payload]=null},resetPreferencesState:()=>FF},extraReducers:e=>{e.addCase(gS.pending,t=>{t.loading.list=!0,t.error.list=null}).addCase(gS.fulfilled,(t,r)=>{t.loading.list=!1,t.preferences=r.payload,t.error.list=null}).addCase(gS.rejected,(t,r)=>{t.loading.list=!1,t.error.list=r.payload?.message||"Failed to fetch preferences",console.error(" Redux: fetchPreferences rejected:",r.payload)}).addCase(xS.pending,t=>{t.loading.single=!0,t.error.single=null}).addCase(xS.fulfilled,(t,r)=>{t.loading.single=!1,t.selectedPreference=r.payload,t.error.single=null}).addCase(xS.rejected,(t,r)=>{t.loading.single=!1,t.selectedPreference=null,t.error.single=r.payload?.message||"Failed to fetch preference",console.error(" Redux: fetchPreferenceById rejected:",r.payload)}).addCase(vS.pending,t=>{t.loading.create=!0,t.error.create=null}).addCase(vS.fulfilled,(t,r)=>{t.loading.create=!1,t.error.create=null,t.preferences.unshift(r.payload),t.ui.isCreateModalOpen=!1,t.selectedPreference=r.payload}).addCase(vS.rejected,(t,r)=>{t.loading.create=!1,t.error.create=r.payload?.message||"Failed to create preference",console.error(" Redux: createPreference rejected:",r.payload)}).addCase(yS.pending,t=>{t.loading.update=!0,t.error.update=null}).addCase(yS.fulfilled,(t,r)=>{t.loading.update=!1,t.error.update=null;const n=t.preferences.findIndex(s=>s.id===r.payload.id);n!==-1&&(t.preferences[n]=r.payload),t.selectedPreference?.id===r.payload.id&&(t.selectedPreference=r.payload),t.ui.isEditModalOpen=!1}).addCase(yS.rejected,(t,r)=>{t.loading.update=!1,t.error.update=r.payload?.message||"Failed to update preference",console.error(" Redux: updatePreference rejected:",r.payload)}).addCase(bS.pending,t=>{t.loading.delete=!0,t.error.delete=null}).addCase(bS.fulfilled,(t,r)=>{t.loading.delete=!1,t.error.delete=null;const n=r.payload;t.preferences=t.preferences.filter(s=>s.id!==n),t.selectedPreference?.id===n&&(t.selectedPreference=null),t.ui.deletingId=null}).addCase(bS.rejected,(t,r)=>{t.loading.delete=!1,t.error.delete=r.payload?.message||"Failed to delete preference",t.ui.deletingId=null,console.error(" Redux: deletePreference rejected:",r.payload)})}}),{setSelectedPreference:Eye,clearSelectedPreference:Nye,openCreateModal:_ye,closeCreateModal:Aye,openEditModal:kye,closeEditModal:Tye,setDeletingId:Pye,clearAllErrors:Dye,clearError:Rye,resetPreferencesState:Mye}=sG.actions,Oye=e=>e.preferences.preferences,Iye=e=>e.preferences.selectedPreference,Lye=e=>e.preferences.loading,Bye=e=>e.preferences.error,$ye=e=>e.preferences.ui,Fye=e=>{const t=e.preferences.loading;return t.list||t.single||t.create||t.update||t.delete},Hye=sG.reducer,aG=e=>e&&typeof e=="object"&&"errors"in e&&typeof e.errors=="object",iG=e=>e&&typeof e=="object"&&"type"in e&&["UNAUTHORIZED","TOKEN_EXPIRED","FORBIDDEN"].includes(e.type),zye=e=>e&&typeof e=="object"&&"type"in e&&["NETWORK_ERROR","TIMEOUT","CONNECTION_FAILED"].includes(e.type),Uye=5*60*1e3,Vye={currentPage:1,totalPages:1,totalRecords:0,perPage:15,hasNextPage:!1,hasPrevPage:!1,availablePerPageOptions:[10,15,25,50,100],currentStoreId:void 0},$o={EMPLOYEES:"/api/employees",EMPLOYEE_BY_ID:e=>`/api/employees/${e}`,EMPLOYEES_BY_STORE:e=>`/api/stores/${e}/employees`,EMPLOYEE_SKILL:(e,t)=>`/api/employees/${e}/skills/${t}`},uC={BASE_URL:"http://127.0.0.1:8000",TIMEOUT:3e4,MAX_RETRIES:3,RETRY_DELAY:1e3},tw={UNAUTHORIZED:401,FORBIDDEN:403,UNPROCESSABLE_ENTITY:422,SERVICE_UNAVAILABLE:503},Wye=()=>{try{const t=Es.getState().auth?.token;return t||os()}catch(e){return console.error("Error retrieving auth token:",e),null}},Mr={info:(e,t)=>{console.log(`[API] ${e}`,t||"")},error:(e,t)=>{console.error(`[API ERROR] ${e}`,t||"")},warn:(e,t)=>{console.warn(`[API WARNING] ${e}`,t||"")},debug:(e,t)=>{}},qye=e=>new Promise(t=>setTimeout(t,e)),Gye=e=>e&&typeof e=="object",HF=(e={})=>{const{page:t=1,per_page:r}=e,n={page:t};return r&&r>0&&(n.per_page=r),n},Yye=e=>{const{response:t,request:r,message:n}=e;if(!t)return{message:r?"Network error - no response received":"Network error - request failed",type:r?"NETWORK_ERROR":"CONNECTION_FAILED",status:0,details:{originalMessage:n}};const{status:s}=t,i=Gye(t.data)?t.data:{};return s===tw.UNAUTHORIZED?{message:i.message||"Authentication required",type:"UNAUTHORIZED",status:s,details:i}:s===tw.FORBIDDEN?{message:i.message||"Access forbidden",type:"FORBIDDEN",status:s,details:i}:s===tw.UNPROCESSABLE_ENTITY&&i.errors?{message:i.message||"Validation failed",status:s,errors:i.errors,details:i}:s>=500?{message:i.message||"Internal server error",type:s===tw.SERVICE_UNAVAILABLE?"SERVICE_UNAVAILABLE":"INTERNAL_SERVER_ERROR",status:s,details:i}:{message:i.message||`HTTP ${s} error`,status:s,details:i}},Kye=()=>{const e=St.create({baseURL:uC.BASE_URL,timeout:uC.TIMEOUT,headers:{"Content-Type":"application/json",Accept:"application/json"}});return e.interceptors.request.use(t=>{const r=Wye();return r&&(t.headers.Authorization=`Bearer ${r}`),Mr.debug(`${t.method?.toUpperCase()} ${t.url}`,{headers:t.headers,data:t.data,params:t.params}),t},t=>(Mr.error("Request interceptor error",t),Promise.reject(t))),e.interceptors.response.use(t=>(Mr.debug(`Response ${t.status} from ${t.config.url}`,{data:t.data,headers:t.headers}),t),t=>{const r=Yye(t);return Mr.error(`API Error: ${r.message}`,r),Promise.reject(r)}),e},Fo=Kye(),Ho=async(e,t,r=uC.MAX_RETRIES)=>{let n=null;for(let s=1;s<=r;s++)try{return Mr.debug(`${t} - Attempt ${s}/${r}`),await e()}catch(i){if(n=i,iG(n)||aG(n)){Mr.warn(`${t} - Not retrying due to auth/validation error`);break}if(s===r){Mr.error(`${t} - All retry attempts failed`);break}const o=uC.RETRY_DELAY*Math.pow(2,s-1);Mr.info(`${t} - Retrying in ${o}ms (attempt ${s+1}/${r})`),await qye(o)}throw n};class kc{static async getAllEmployees(){return Ho(async()=>{Mr.info("Fetching all employees");const t=await Fo.get($o.EMPLOYEES);return Mr.info(`Successfully fetched ${t.data.length} employees`),t.data},"getAllEmployees")}static async getEmployeeById(t){return Ho(async()=>{Mr.info(`Fetching employee with ID: ${t}`);const r=await Fo.get($o.EMPLOYEE_BY_ID(t));return Mr.info(`Successfully fetched employee: ${r.data.full_name}`),r.data},`getEmployeeById(${t})`)}static async createEmployee(t){return Ho(async()=>{Mr.info("Creating new employee",{name:t.full_name,store:t.store_id});const r=await Fo.post($o.EMPLOYEES,t);return Mr.info(`Successfully created employee: ${r.data.full_name} (ID: ${r.data.id})`),r.data},"createEmployee",1)}static async updateEmployee(t,r){return Ho(async()=>{Mr.info(`Updating employee ID: ${t}`,{name:r.full_name});const n=await Fo.put($o.EMPLOYEE_BY_ID(t),r);return Mr.info(`Successfully updated employee: ${n.data.full_name} (ID: ${t})`),n.data},`updateEmployee(${t})`,1)}static async deleteEmployee(t){return Ho(async()=>{Mr.info(`Deleting employee ID: ${t}`),await Fo.delete($o.EMPLOYEE_BY_ID(t)),Mr.info(`Successfully deleted employee ID: ${t}`)},`deleteEmployee(${t})`,1)}static async getEmployeesByStore(t,r={}){return Ho(async()=>{const{page:n=1,per_page:s}=r;Mr.info(`Fetching employees for store: ${t}`,{page:n,per_page:s||"default (server)"});const i=HF(r),o=await Fo.get($o.EMPLOYEES_BY_STORE(t),{params:i});return Mr.info(`Successfully fetched employees for store ${t}`,{returned:o.data.data.length,page:o.data.current_page,per_page:o.data.per_page,total:o.data.total,total_pages:o.data.last_page}),o.data},`getEmployeesByStore(${t}, page:${r.page||1}, per_page:${r.per_page||"default"})`)}static async getAllEmployeesPaginated(t={}){return Ho(async()=>{const{page:r=1,per_page:n}=t;Mr.info("Fetching all employees with pagination",{page:r,per_page:n||"default (server)"});const s=HF(t),i=await Fo.get($o.EMPLOYEES,{params:s});return Mr.info("Successfully fetched employees with pagination",{returned:i.data.data.length,page:i.data.current_page,per_page:i.data.per_page,total:i.data.total,total_pages:i.data.last_page}),i.data},`getAllEmployeesPaginated(page:${t.page||1}, per_page:${t.per_page||"default"})`)}static async attachSkill(t,r,n){return Ho(async()=>{Mr.info(`Attaching skill ${r} to employee ${t}`,{rating:n.rating}),await Fo.post($o.EMPLOYEE_SKILL(t,r),n),Mr.info(`Successfully attached skill ${r} to employee ${t} with rating ${n.rating}`)},`attachSkill(${t}, ${r})`,1)}static async updateSkill(t,r,n){return Ho(async()=>{Mr.info(`Updating skill ${r} for employee ${t}`,{rating:n.rating}),await Fo.put($o.EMPLOYEE_SKILL(t,r),n),Mr.info(`Successfully updated skill ${r} for employee ${t} to rating ${n.rating}`)},`updateSkill(${t}, ${r})`,1)}static async detachSkill(t,r){return Ho(async()=>{Mr.info(`Detaching skill ${r} from employee ${t}`),await Fo.delete($o.EMPLOYEE_SKILL(t,r)),Mr.info(`Successfully detached skill ${r} from employee ${t}`)},`detachSkill(${t}, ${r})`,1)}}const Zye={employees:[],currentEmployee:null,loading:{fetchAll:{isLoading:!1},fetchById:{isLoading:!1},create:{isLoading:!1},update:{isLoading:!1},delete:{isLoading:!1},skills:{isLoading:!1},fetchByStore:{isLoading:!1}},errors:{fetchAll:{hasError:!1},fetchById:{hasError:!1},create:{hasError:!1},update:{hasError:!1},delete:{hasError:!1},skills:{hasError:!1},fetchByStore:{hasError:!1}},pagination:{...Vye},cache:{lastFetch:null,cacheDuration:Uye,isStale:!1}},wS=He("employees/fetchAll",async(e,{rejectWithValue:t})=>{try{return await kc.getAllEmployees()}catch(r){return t(r)}}),SS=He("employees/fetchById",async(e,{rejectWithValue:t})=>{try{return await kc.getEmployeeById(e)}catch(r){return t(r)}}),CS=He("employees/create",async(e,{rejectWithValue:t})=>{try{return await kc.createEmployee(e)}catch(r){return t(r)}}),jS=He("employees/update",async({id:e,data:t},{rejectWithValue:r})=>{try{const n=await kc.updateEmployee(e,t);return{id:e,data:n}}catch(n){return r(n)}}),ES=He("employees/delete",async(e,{rejectWithValue:t})=>{try{return await kc.deleteEmployee(e),e}catch(r){return t(r)}}),NS=He("employees/fetchByStore",async({storeId:e,options:t},{rejectWithValue:r})=>{try{const n=await kc.getEmployeesByStore(e,t);return{storeId:e,response:n,options:t}}catch(n){return r(n)}}),_S=He("employees/attachSkill",async({employeeId:e,skillId:t,data:r},{rejectWithValue:n})=>{try{return await kc.attachSkill(e,t,r),{employeeId:e,skillId:t,rating:r.rating}}catch(s){return n(s)}}),AS=He("employees/updateSkill",async({employeeId:e,skillId:t,data:r},{rejectWithValue:n})=>{try{return await kc.updateSkill(e,t,r),{employeeId:e,skillId:t,rating:r.rating}}catch(s){return n(s)}}),kS=He("employees/detachSkill",async({employeeId:e,skillId:t},{rejectWithValue:r})=>{try{return await kc.detachSkill(e,t),{employeeId:e,skillId:t}}catch(n){return r(n)}}),Xye=e=>{if(aG(e))return Object.values(e.errors)[0]?.[0]||e.message;if(iG(e))switch(e.type){case"UNAUTHORIZED":return"Please log in to continue";case"FORBIDDEN":return"You do not have permission to perform this action";case"TOKEN_EXPIRED":return"Your session has expired. Please log in again";default:return e.message}if(zye(e))switch(e.type){case"NETWORK_ERROR":return"Network error. Please check your connection";case"TIMEOUT":return"Request timed out. Please try again";case"CONNECTION_FAILED":return"Unable to connect to server";default:return e.message}return e.message||"An unexpected error occurred"},Qye=(e,t,r)=>{t&&typeof t=="object"&&"current_page"in t&&(e.pagination={currentPage:t.current_page,totalPages:t.last_page,totalRecords:t.total,perPage:t.per_page,hasNextPage:t.next_page_url!==null,hasPrevPage:t.prev_page_url!==null,availablePerPageOptions:e.pagination.availablePerPageOptions,currentStoreId:r})},zl=(e,t,r)=>{e.errors[t]={hasError:!0,message:Xye(r),details:r}},co=(e,t)=>{e.errors[t]={hasError:!1,message:void 0,details:void 0}},Lr=(e,t,r,n)=>{e.loading[t]={isLoading:r,operation:n}},oG=nr({name:"employees",initialState:Zye,reducers:{clearCurrentEmployee:e=>{e.currentEmployee=null},clearError:(e,t)=>{co(e,t.payload)},clearAllErrors:e=>{Object.keys(e.errors).forEach(t=>{co(e,t)})},updateCacheStatus:e=>{const t=Date.now();e.cache.isStale=e.cache.lastFetch?t-e.cache.lastFetch>e.cache.cacheDuration:!0},setPaginationOptions:(e,t)=>{e.pagination={...e.pagination,...t.payload}},optimisticUpdateEmployee:(e,t)=>{const{id:r,updates:n}=t.payload,s=e.employees.findIndex(i=>i.id===r);s!==-1&&(e.employees[s]={...e.employees[s],...n}),e.currentEmployee?.id===r&&(e.currentEmployee={...e.currentEmployee,...n})},optimisticDeleteEmployee:(e,t)=>{const r=t.payload;e.employees=e.employees.filter(n=>n.id!==r),e.currentEmployee?.id===r&&(e.currentEmployee=null),e.pagination.totalRecords=Math.max(0,e.pagination.totalRecords-1)}},extraReducers:e=>{e.addCase(wS.pending,t=>{Lr(t,"fetchAll",!0,"Fetching all employees"),co(t,"fetchAll")}).addCase(wS.fulfilled,(t,r)=>{Lr(t,"fetchAll",!1),t.employees=r.payload,t.cache.lastFetch=Date.now(),t.cache.isStale=!1}).addCase(wS.rejected,(t,r)=>{Lr(t,"fetchAll",!1),zl(t,"fetchAll",r.payload)}),e.addCase(SS.pending,t=>{Lr(t,"fetchById",!0,"Fetching employee details"),co(t,"fetchById")}).addCase(SS.fulfilled,(t,r)=>{Lr(t,"fetchById",!1),t.currentEmployee=r.payload;const n=t.employees.findIndex(s=>s.id===r.payload.id);n!==-1&&(t.employees[n]=r.payload)}).addCase(SS.rejected,(t,r)=>{Lr(t,"fetchById",!1),zl(t,"fetchById",r.payload),t.currentEmployee=null}),e.addCase(CS.pending,t=>{Lr(t,"create",!0,"Creating new employee"),co(t,"create")}).addCase(CS.fulfilled,(t,r)=>{Lr(t,"create",!1),t.pagination.currentStoreId===r.payload.store_id&&(t.pagination.totalRecords+=1)}).addCase(CS.rejected,(t,r)=>{Lr(t,"create",!1),zl(t,"create",r.payload)}),e.addCase(jS.pending,t=>{Lr(t,"update",!0,"Updating employee"),co(t,"update")}).addCase(jS.fulfilled,(t,r)=>{Lr(t,"update",!1);const{id:n,data:s}=r.payload,i=t.employees.findIndex(o=>o.id===n);i!==-1&&(t.employees[i]={...t.employees[i],...s}),t.currentEmployee?.id===n&&(t.currentEmployee={...t.currentEmployee,...s})}).addCase(jS.rejected,(t,r)=>{Lr(t,"update",!1),zl(t,"update",r.payload)}),e.addCase(ES.pending,t=>{Lr(t,"delete",!0,"Deleting employee"),co(t,"delete")}).addCase(ES.fulfilled,(t,r)=>{Lr(t,"delete",!1);const n=r.payload;t.employees=t.employees.filter(s=>s.id!==n),t.currentEmployee?.id===n&&(t.currentEmployee=null),t.pagination.totalRecords=Math.max(0,t.pagination.totalRecords-1)}).addCase(ES.rejected,(t,r)=>{Lr(t,"delete",!1),zl(t,"delete",r.payload)}),e.addCase(NS.pending,t=>{Lr(t,"fetchByStore",!0,"Fetching store employees"),co(t,"fetchByStore")}).addCase(NS.fulfilled,(t,r)=>{Lr(t,"fetchByStore",!1);const{storeId:n,response:s}=r.payload;t.employees=s.data,Qye(t,s,n),t.cache.lastFetch=Date.now(),t.cache.isStale=!1}).addCase(NS.rejected,(t,r)=>{Lr(t,"fetchByStore",!1),zl(t,"fetchByStore",r.payload)}),e.addCase(_S.pending,t=>{Lr(t,"skills",!0,"Attaching skill"),co(t,"skills")}).addCase(_S.fulfilled,t=>{Lr(t,"skills",!1)}).addCase(_S.rejected,(t,r)=>{Lr(t,"skills",!1),zl(t,"skills",r.payload)}),e.addCase(AS.pending,t=>{Lr(t,"skills",!0,"Updating skill rating"),co(t,"skills")}).addCase(AS.fulfilled,(t,r)=>{Lr(t,"skills",!1);const{employeeId:n,skillId:s,rating:i}=r.payload;if(t.currentEmployee?.id===n){const c=t.currentEmployee.skills.findIndex(d=>d.id===s);c!==-1&&(t.currentEmployee.skills[c].pivot.rating=i)}const o=t.employees.findIndex(c=>c.id===n);if(o!==-1){const c=t.employees[o].skills.findIndex(d=>d.id===s);c!==-1&&(t.employees[o].skills[c].pivot.rating=i)}}).addCase(AS.rejected,(t,r)=>{Lr(t,"skills",!1),zl(t,"skills",r.payload)}),e.addCase(kS.pending,t=>{Lr(t,"skills",!0,"Detaching skill"),co(t,"skills")}).addCase(kS.fulfilled,(t,r)=>{Lr(t,"skills",!1);const{employeeId:n,skillId:s}=r.payload;t.currentEmployee?.id===n&&(t.currentEmployee.skills=t.currentEmployee.skills.filter(o=>o.id!==s));const i=t.employees.findIndex(o=>o.id===n);i!==-1&&(t.employees[i].skills=t.employees[i].skills.filter(o=>o.id!==s))}).addCase(kS.rejected,(t,r)=>{Lr(t,"skills",!1),zl(t,"skills",r.payload)})}}),{clearCurrentEmployee:Jye,clearError:ebe,clearAllErrors:tbe,updateCacheStatus:rbe,setPaginationOptions:zF,optimisticUpdateEmployee:Mgt,optimisticDeleteEmployee:nbe}=oG.actions,sbe=oG.reducer,abe=e=>e.employees.employees,ibe=e=>e.employees.currentEmployee,obe=e=>e.employees.loading,lbe=e=>e.employees.errors,cbe=e=>e.employees.pagination,dbe=e=>e.employees.cache,ube=e=>Object.values(e.employees.loading).some(t=>t.isLoading),fbe=e=>Object.values(e.employees.errors).some(t=>t.hasError),Ti={BASE_URL:"http://127.0.0.1:8000/api",ENDPOINTS:{SCHEDULE_PREFERENCES:"/schedule-preferences",SCHEDULE_PREFERENCE_BY_ID:e=>`/schedule-preferences/${e}`},TIMEOUT:1e4,RETRY_ATTEMPTS:3,RETRY_DELAY:1e3},dD={BAD_REQUEST:400,UNAUTHORIZED:401,UNPROCESSABLE_ENTITY:422},hbe=e=>typeof e=="object"&&e!==null&&(typeof e.message=="string"||typeof e.errors=="object"||typeof e.details=="object"),UF=()=>{try{const t=Es.getState().auth?.token;if(t)return console.debug("[SchedulePreferenceService] Token retrieved from Redux store"),t;const r=os();return r?(console.debug("[SchedulePreferenceService] Token retrieved from localStorage"),r):(console.warn("[SchedulePreferenceService] No authentication token available"),null)}catch(e){return console.error("[SchedulePreferenceService] Error retrieving auth token:",e),null}},mbe=e=>({url:e.url,method:e.method,baseURL:e.baseURL,headers:e.headers,data:e.data,params:e.params,timeout:e.timeout,withCredentials:e.withCredentials,responseType:e.responseType,responseEncoding:e.responseEncoding,maxRedirects:e.maxRedirects,maxContentLength:e.maxContentLength,maxBodyLength:e.maxBodyLength,validateStatus:e.validateStatus,auth:e.auth,proxy:e.proxy,signal:e.signal,transformRequest:e.transformRequest,transformResponse:e.transformResponse}),pd=e=>{const t={message:"An unexpected error occurred",status:500};if(fv(e))if(e.response){t.status=e.response.status;const r=e.response.data;hbe(r)?(t.message=r.message||e.message||"Server error",t.details=r.details,e.response.status===dD.UNPROCESSABLE_ENTITY&&r.errors&&(t.errors=r.errors)):(t.message=e.message||"Server error",t.details=r)}else e.request?(t.message="Network error - please check your connection",t.status=0):t.message=e.message||"Request configuration error";else e instanceof Error?t.message=e.message||"Unknown error occurred":typeof e=="string"?t.message=e:(t.message="An unexpected error occurred",t.details={originalError:e});return t},pbe=e=>{if(fv(e)){const t={message:e.message,status:e.response?.status,url:e.config?.url,method:e.config?.method,data:e.response?.data};console.group(`[API Error] ${e.config?.method?.toUpperCase()} ${e.config?.url}`),console.error("Error details:",t),console.groupEnd()}else console.error("[API Error] Non-Axios error:",e)};class Mm{axiosInstance;static instance;retryCountMap=new Map;constructor(){this.axiosInstance=St.create({baseURL:Ti.BASE_URL,timeout:Ti.TIMEOUT,headers:{"Content-Type":"application/json",Accept:"application/json"}}),this.setupInterceptors()}static getInstance(){return Mm.instance||(Mm.instance=new Mm),Mm.instance}generateRetryKey(t="GET",r=""){return`${t.toUpperCase()}_${r}_${Date.now()}`}setupInterceptors(){this.axiosInstance.interceptors.request.use(t=>{const r=UF();return r&&(t.headers.Authorization=`Bearer ${r}`),t.metadata={...t.metadata,startTime:Date.now(),retryKey:this.generateRetryKey(t.method,t.url)},t},t=>(console.error("[SchedulePreferenceService] Request interceptor error:",t),Promise.reject(pd(t)))),this.axiosInstance.interceptors.response.use(t=>{const r=Date.now()-(t.config.metadata?.startTime||0);return console.debug(`[SchedulePreferenceService] Request completed in ${r}ms`),t.config.metadata?.retryKey&&this.retryCountMap.delete(t.config.metadata.retryKey),t},async t=>(pbe(t),fv(t)&&this.shouldRetryRequest(t)?this.retryRequest(t):(fv(t)&&t.config?.metadata?.retryKey&&this.retryCountMap.delete(t.config.metadata.retryKey),fv(t)&&t.response?.status===dD.UNAUTHORIZED&&console.warn("[SchedulePreferenceService] Unauthorized access - token may be expired"),Promise.reject(pd(t)))))}shouldRetryRequest(t){const n=t.config?.metadata?.retryKey;if(!n||(this.retryCountMap.get(n)||0)>=Ti.RETRY_ATTEMPTS)return!1;if(!t.response)return!0;const i=t.response.status;return i>=500||i===dD.BAD_REQUEST}async retryRequest(t){const r=t.config;if(!r||!r.metadata?.retryKey)throw pd(t);const n=r.metadata.retryKey,i=(this.retryCountMap.get(n)||0)+1,o=Ti.RETRY_DELAY*Math.pow(2,i-1);console.warn(`[SchedulePreferenceService] Retrying request (attempt ${i}/${Ti.RETRY_ATTEMPTS}) in ${o}ms`),this.retryCountMap.set(n,i),await new Promise(d=>setTimeout(d,o));const c=mbe(r);return this.axiosInstance.request(c)}async getAllSchedulePreferences(){try{console.info("[SchedulePreferenceService] Fetching all schedule preferences");const t=await this.axiosInstance.get(Ti.ENDPOINTS.SCHEDULE_PREFERENCES);return console.info(`[SchedulePreferenceService] Successfully fetched ${t.data.length} schedule preferences`),t.data}catch(t){throw console.error("[SchedulePreferenceService] Failed to fetch schedule preferences:",t),pd(t)}}async getSchedulePreferenceById(t){try{console.info(`[SchedulePreferenceService] Fetching schedule preference with ID: ${t}`);const r=await this.axiosInstance.get(Ti.ENDPOINTS.SCHEDULE_PREFERENCE_BY_ID(t));return console.info(`[SchedulePreferenceService] Successfully fetched schedule preference ${t}`),r.data}catch(r){throw console.error(`[SchedulePreferenceService] Failed to fetch schedule preference ${t}:`,r),pd(r)}}async createSchedulePreference(t){try{console.info("[SchedulePreferenceService] Creating new schedule preference"),console.debug("[SchedulePreferenceService] Create data:",t);const r=await this.axiosInstance.post(Ti.ENDPOINTS.SCHEDULE_PREFERENCES,t);return console.info(`[SchedulePreferenceService] Successfully created schedule preference with ID: ${r.data.id}`),r.data}catch(r){throw console.error("[SchedulePreferenceService] Failed to create schedule preference:",r),pd(r)}}async updateSchedulePreference(t,r){try{console.info(`[SchedulePreferenceService] Updating schedule preference ${t}`),console.debug("[SchedulePreferenceService] Update data:",r);const n=await this.axiosInstance.put(Ti.ENDPOINTS.SCHEDULE_PREFERENCE_BY_ID(t),r);return console.info(`[SchedulePreferenceService] Successfully updated schedule preference ${t}`),n.data}catch(n){throw console.error(`[SchedulePreferenceService] Failed to update schedule preference ${t}:`,n),pd(n)}}async deleteSchedulePreference(t){try{console.info(`[SchedulePreferenceService] Deleting schedule preference ${t}`),await this.axiosInstance.delete(Ti.ENDPOINTS.SCHEDULE_PREFERENCE_BY_ID(t)),console.info(`[SchedulePreferenceService] Successfully deleted schedule preference ${t}`)}catch(r){throw console.error(`[SchedulePreferenceService] Failed to delete schedule preference ${t}:`,r),pd(r)}}isAuthenticated(){return UF()!==null}getTimeout(){return Ti.TIMEOUT}setTimeout(t){this.axiosInstance.defaults.timeout=t,console.info(`[SchedulePreferenceService] Request timeout updated to ${t}ms`)}getBaseUrl(){return Ti.BASE_URL}clearRetryTracking(){this.retryCountMap.clear(),console.debug("[SchedulePreferenceService] Retry tracking data cleared")}}const j0=Mm.getInstance(),Hr={IDLE:"idle",LOADING:"loading",SUCCEEDED:"succeeded",FAILED:"failed"},VF={schedulePreferences:[],currentSchedulePreference:null,fetchAllStatus:Hr.IDLE,fetchByIdStatus:Hr.IDLE,createStatus:Hr.IDLE,updateStatus:Hr.IDLE,deleteStatus:Hr.IDLE,fetchAllError:null,fetchByIdError:null,createError:null,updateError:null,deleteError:null,lastFetch:null,totalCount:0},gbe=e=>e&&typeof e=="object"&&"message"in e?e.message:typeof e=="string"?e:"An unexpected error occurred",E0=(e,t)=>{const r=gbe(e);return`Failed to ${t} schedule preference: ${r}`},Gm=He("schedulePreferences/fetchAll",async(e,{rejectWithValue:t})=>{try{console.info("[SchedulePreferenceSlice] Fetching all schedule preferences");const r=await j0.getAllSchedulePreferences();return console.info(`[SchedulePreferenceSlice] Successfully fetched ${r.length} schedule preferences`),r}catch(r){return console.error("[SchedulePreferenceSlice] Failed to fetch all schedule preferences:",r),t(E0(r,"fetch all"))}}),Uk=He("schedulePreferences/fetchById",async({id:e},{rejectWithValue:t})=>{try{console.info(`[SchedulePreferenceSlice] Fetching schedule preference with ID: ${e}`);const r=await j0.getSchedulePreferenceById(e);return console.info(`[SchedulePreferenceSlice] Successfully fetched schedule preference ${e}`),r}catch(r){return console.error(`[SchedulePreferenceSlice] Failed to fetch schedule preference ${e}:`,r),t(E0(r,`fetch by ID ${e}`))}}),bv=He("schedulePreferences/create",async(e,{rejectWithValue:t})=>{try{console.info("[SchedulePreferenceSlice] Creating new schedule preference"),console.debug("[SchedulePreferenceSlice] Create data:",e);const r=await j0.createSchedulePreference(e);return console.info(`[SchedulePreferenceSlice] Successfully created schedule preference with ID: ${r.id}`),r}catch(r){return console.error("[SchedulePreferenceSlice] Failed to create schedule preference:",r),t(E0(r,"create"))}}),wv=He("schedulePreferences/update",async({id:e,data:t},{rejectWithValue:r})=>{try{console.info(`[SchedulePreferenceSlice] Updating schedule preference ${e}`),console.debug("[SchedulePreferenceSlice] Update data:",t);const n=await j0.updateSchedulePreference(e,t);return console.info(`[SchedulePreferenceSlice] Successfully updated schedule preference ${e}`),n}catch(n){return console.error(`[SchedulePreferenceSlice] Failed to update schedule preference ${e}:`,n),r(E0(n,`update ID ${e}`))}}),Sv=He("schedulePreferences/delete",async({id:e},{rejectWithValue:t})=>{try{return console.info(`[SchedulePreferenceSlice] Deleting schedule preference ${e}`),await j0.deleteSchedulePreference(e),console.info(`[SchedulePreferenceSlice] Successfully deleted schedule preference ${e}`),e}catch(r){return console.error(`[SchedulePreferenceSlice] Failed to delete schedule preference ${e}:`,r),t(E0(r,`delete ID ${e}`))}}),lG=nr({name:"schedulePreferences",initialState:VF,reducers:{clearErrors:e=>{console.debug("[SchedulePreferenceSlice] Clearing all errors"),e.fetchAllError=null,e.fetchByIdError=null,e.createError=null,e.updateError=null,e.deleteError=null},clearError:(e,t)=>{switch(console.debug(`[SchedulePreferenceSlice] Clearing ${t.payload} error`),t.payload){case"fetchAll":e.fetchAllError=null;break;case"fetchById":e.fetchByIdError=null;break;case"create":e.createError=null;break;case"update":e.updateError=null;break;case"delete":e.deleteError=null;break}},resetLoadingStates:e=>{console.debug("[SchedulePreferenceSlice] Resetting all loading states to idle"),e.fetchAllStatus=Hr.IDLE,e.fetchByIdStatus=Hr.IDLE,e.createStatus=Hr.IDLE,e.updateStatus=Hr.IDLE,e.deleteStatus=Hr.IDLE},setCurrentSchedulePreference:(e,t)=>{console.debug("[SchedulePreferenceSlice] Setting current schedule preference:",t.payload?.id||"null"),e.currentSchedulePreference=t.payload},clearCurrentSchedulePreference:e=>{console.debug("[SchedulePreferenceSlice] Clearing current schedule preference"),e.currentSchedulePreference=null},resetSlice:()=>(console.debug("[SchedulePreferenceSlice] Resetting slice to initial state"),VF)},extraReducers:e=>{e.addCase(Gm.pending,t=>{console.debug("[SchedulePreferenceSlice] Fetch all pending"),t.fetchAllStatus=Hr.LOADING,t.fetchAllError=null}).addCase(Gm.fulfilled,(t,r)=>{console.debug(`[SchedulePreferenceSlice] Fetch all fulfilled with ${r.payload.length} items`),t.fetchAllStatus=Hr.SUCCEEDED,t.schedulePreferences=r.payload,t.totalCount=r.payload.length,t.lastFetch=new Date().toISOString(),t.fetchAllError=null}).addCase(Gm.rejected,(t,r)=>{console.error("[SchedulePreferenceSlice] Fetch all rejected:",r.payload),t.fetchAllStatus=Hr.FAILED,t.fetchAllError=r.payload||"Failed to fetch schedule preferences"}).addCase(Uk.pending,t=>{console.debug("[SchedulePreferenceSlice] Fetch by ID pending"),t.fetchByIdStatus=Hr.LOADING,t.fetchByIdError=null}).addCase(Uk.fulfilled,(t,r)=>{console.debug(`[SchedulePreferenceSlice] Fetch by ID fulfilled for ID: ${r.payload.id}`),t.fetchByIdStatus=Hr.SUCCEEDED,t.currentSchedulePreference=r.payload,t.fetchByIdError=null;const n=t.schedulePreferences.findIndex(s=>s.id===r.payload.id);n!==-1&&(t.schedulePreferences[n]=r.payload)}).addCase(Uk.rejected,(t,r)=>{console.error("[SchedulePreferenceSlice] Fetch by ID rejected:",r.payload),t.fetchByIdStatus=Hr.FAILED,t.fetchByIdError=r.payload||"Failed to fetch schedule preference"}).addCase(bv.pending,t=>{console.debug("[SchedulePreferenceSlice] Create pending"),t.createStatus=Hr.LOADING,t.createError=null}).addCase(bv.fulfilled,(t,r)=>{console.debug(`[SchedulePreferenceSlice] Create fulfilled with ID: ${r.payload.id}`),t.createStatus=Hr.SUCCEEDED;const n={id:r.payload.id,emp_info_id:typeof r.payload.emp_info_id=="string"?parseInt(r.payload.emp_info_id):r.payload.emp_info_id,preference_id:typeof r.payload.preference_id=="string"?parseInt(r.payload.preference_id):r.payload.preference_id,maximum_hours:r.payload.maximum_hours,employment_type:r.payload.employment_type,created_at:r.payload.created_at,updated_at:r.payload.updated_at,emp_info:{},preference:{}};t.schedulePreferences.unshift(n),t.totalCount=t.schedulePreferences.length,t.createError=null}).addCase(bv.rejected,(t,r)=>{console.error("[SchedulePreferenceSlice] Create rejected:",r.payload),t.createStatus=Hr.FAILED,t.createError=r.payload||"Failed to create schedule preference"}).addCase(wv.pending,t=>{console.debug("[SchedulePreferenceSlice] Update pending"),t.updateStatus=Hr.LOADING,t.updateError=null}).addCase(wv.fulfilled,(t,r)=>{console.debug(`[SchedulePreferenceSlice] Update fulfilled for ID: ${r.payload.id}`),t.updateStatus=Hr.SUCCEEDED;const n=t.schedulePreferences.findIndex(s=>s.id===r.payload.id);n!==-1&&(t.schedulePreferences[n]={...t.schedulePreferences[n],emp_info_id:typeof r.payload.emp_info_id=="string"?parseInt(r.payload.emp_info_id):r.payload.emp_info_id,preference_id:typeof r.payload.preference_id=="string"?parseInt(r.payload.preference_id):r.payload.preference_id,maximum_hours:r.payload.maximum_hours,employment_type:r.payload.employment_type,updated_at:r.payload.updated_at}),t.currentSchedulePreference&&t.currentSchedulePreference.id===r.payload.id&&(t.currentSchedulePreference={...t.currentSchedulePreference,emp_info_id:typeof r.payload.emp_info_id=="string"?parseInt(r.payload.emp_info_id):r.payload.emp_info_id,preference_id:typeof r.payload.preference_id=="string"?parseInt(r.payload.preference_id):r.payload.preference_id,maximum_hours:r.payload.maximum_hours,employment_type:r.payload.employment_type,updated_at:r.payload.updated_at}),t.updateError=null}).addCase(wv.rejected,(t,r)=>{console.error("[SchedulePreferenceSlice] Update rejected:",r.payload),t.updateStatus=Hr.FAILED,t.updateError=r.payload||"Failed to update schedule preference"}).addCase(Sv.pending,t=>{console.debug("[SchedulePreferenceSlice] Delete pending"),t.deleteStatus=Hr.LOADING,t.deleteError=null}).addCase(Sv.fulfilled,(t,r)=>{console.debug(`[SchedulePreferenceSlice] Delete fulfilled for ID: ${r.payload}`),t.deleteStatus=Hr.SUCCEEDED,t.schedulePreferences=t.schedulePreferences.filter(n=>n.id!==r.payload),t.totalCount=t.schedulePreferences.length,t.currentSchedulePreference&&t.currentSchedulePreference.id===r.payload&&(t.currentSchedulePreference=null),t.deleteError=null}).addCase(Sv.rejected,(t,r)=>{console.error("[SchedulePreferenceSlice] Delete rejected:",r.payload),t.deleteStatus=Hr.FAILED,t.deleteError=r.payload||"Failed to delete schedule preference"})}}),{clearErrors:Ogt,clearError:Igt,resetLoadingStates:Lgt,setCurrentSchedulePreference:Bgt,clearCurrentSchedulePreference:$gt,resetSlice:Fgt}=lG.actions,xbe=lG.reducer,vbe=e=>e.schedulePreferences.schedulePreferences,ybe=e=>e.schedulePreferences.totalCount,bbe=e=>({fetchAll:e.schedulePreferences.fetchAllStatus,fetchById:e.schedulePreferences.fetchByIdStatus,create:e.schedulePreferences.createStatus,update:e.schedulePreferences.updateStatus,delete:e.schedulePreferences.deleteStatus}),wbe=e=>({fetchAll:e.schedulePreferences.fetchAllError,fetchById:e.schedulePreferences.fetchByIdError,create:e.schedulePreferences.createError,update:e.schedulePreferences.updateError,delete:e.schedulePreferences.deleteError}),Sbe=e=>{const{fetchAllStatus:t,fetchByIdStatus:r,createStatus:n,updateStatus:s,deleteStatus:i}=e.schedulePreferences;return[t,r,n,s,i].some(o=>o===Hr.LOADING)},uD={baseURL:"http://127.0.0.1:8000/api",timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json"}},am={EMPLOYMENT_INFO:"/employment-info",EMPLOYMENT_INFO_BY_ID:e=>`/employment-info/${e}`},fD=()=>{try{const t=Es.getState().auth?.token;return t||os()}catch(e){return console.error("Error retrieving auth token:",e),null}},Cbe=e=>{if(e.response?.data){const t=e.response.data;return{message:t.message||"An error occurred",code:e.response.status.toString(),errors:t.errors||void 0}}else return e.request?{message:"Network error - please check your connection",code:"NETWORK_ERROR"}:{message:e.message||"An unexpected error occurred",code:"UNKNOWN_ERROR"}},Tx=(e,t,r)=>{console.error(`[EmploymentInformationAPI] ${e} failed:`,{error:t,context:r,timestamp:new Date().toISOString()})},Xu=St.create(uD);Xu.interceptors.request.use(e=>{const t=fD();return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("[API Request Interceptor] Request setup failed:",e),Promise.reject(e)));Xu.interceptors.response.use(e=>e,e=>{const t=Cbe(e);switch(e.response?.status){case 401:console.warn("[API] Unauthorized access - token may be expired");break;case 403:console.warn("[API] Forbidden access - insufficient permissions");break;case 404:console.warn("[API] Resource not found");break;case 422:console.warn("[API] Validation error:",t.errors);break;case 500:console.error("[API] Internal server error");break;default:console.error("[API] Unexpected error:",t)}return Promise.reject(t)});class _f{static async getAll(){try{const t=await Xu.get(am.EMPLOYMENT_INFO);return console.log(`[EmploymentInformationAPI] Successfully fetched ${t.data.length} records`),t.data}catch(t){const r=t;throw Tx("getAll",r),r}}static async getById(t){try{if(!t||t<=0)throw new Error("Invalid employment information ID provided");const r=await Xu.get(am.EMPLOYMENT_INFO_BY_ID(t));return console.log(`[EmploymentInformationAPI] Successfully fetched record with ID: ${t}`),r.data}catch(r){const n=r instanceof Error?{message:r.message,code:"VALIDATION_ERROR"}:r;throw Tx("getById",n,{id:t}),n}}static async create(t){try{if(!t.emp_info_id)throw new Error("Employee info ID is required");if(!t.paychex_ids||t.paychex_ids.length===0)throw new Error("At least one Paychex ID is required");if(!t.employment_type)throw new Error("Employment type is required");const r=await Xu.post(am.EMPLOYMENT_INFO,t);return console.log(`[EmploymentInformationAPI] Successfully created record with ID: ${r.data.id}`),r.data}catch(r){const n=r instanceof Error?{message:r.message,code:"VALIDATION_ERROR"}:r;throw Tx("create",n,{data:t}),n}}static async update(t,r){try{if(!t||t<=0)throw new Error("Invalid employment information ID provided");if(!r.emp_info_id)throw new Error("Employee info ID is required");if(!r.paychex_ids||r.paychex_ids.length===0)throw new Error("At least one Paychex ID is required");if(!r.employment_type)throw new Error("Employment type is required");const n=await Xu.put(am.EMPLOYMENT_INFO_BY_ID(t),r);return console.log(`[EmploymentInformationAPI] Successfully updated record with ID: ${t}`),n.data}catch(n){const s=n instanceof Error?{message:n.message,code:"VALIDATION_ERROR"}:n;throw Tx("update",s,{id:t,data:r}),s}}static async delete(t){try{if(!t||t<=0)throw new Error("Invalid employment information ID provided");return await Xu.delete(am.EMPLOYMENT_INFO_BY_ID(t)),console.log(`[EmploymentInformationAPI] Successfully deleted record with ID: ${t}`),!0}catch(r){const n=r instanceof Error?{message:r.message,code:"VALIDATION_ERROR"}:r;throw Tx("delete",n,{id:t}),n}}static validateEmploymentData(t){const r=[];return t.emp_info_id||r.push("Employee info ID is required"),(!t.paychex_ids||!Array.isArray(t.paychex_ids)||t.paychex_ids.length===0)&&r.push("At least one Paychex ID is required"),(!t.employment_type||!["1099","W2"].includes(t.employment_type))&&r.push('Employment type must be either "1099" or "W2"'),t.hired_date||r.push("Hired date is required"),(!t.base_pay||parseFloat(t.base_pay)<0)&&r.push("Base pay must be a positive number"),(!t.performance_pay||parseFloat(t.performance_pay)<0)&&r.push("Performance pay must be a positive number"),typeof t.has_uniform!="boolean"&&r.push("Has uniform must be a boolean value"),r}static isConfigured(){return fD()?!0:(console.warn("[EmploymentInformationAPI] No authentication token available"),!1)}static getConfig(){return{baseURL:uD.baseURL,timeout:uD.timeout,hasToken:!!fD(),endpoints:am}}}const WF={items:[],currentItem:null,listLoading:"idle",itemLoading:"idle",createLoading:"idle",updateLoading:"idle",deleteLoading:"idle",listError:null,itemError:null,createError:null,updateError:null,deleteError:null,lastFetch:null},mf=He("employmentInformation/fetchAll",async(e,{rejectWithValue:t,getState:r})=>{try{const s=r().employmentInformation.lastFetch,i=Date.now();if(s&&i-s<5*60*1e3)return console.log("[EmploymentInformationSlice] Using cached data, skipping fetch"),null;console.log("[EmploymentInformationSlice] Fetching all employment information records");const o=await _f.getAll();return console.log(`[EmploymentInformationSlice] Successfully fetched ${o.length} records`),o}catch(n){const s=n;return console.error("[EmploymentInformationSlice] fetchAll failed:",s),t({message:s.message||"Failed to fetch employment information",code:s.code,errors:s.errors})}}),TS=He("employmentInformation/fetchById",async(e,{rejectWithValue:t})=>{try{if(!e||e<=0)throw new Error("Valid employment information ID is required");console.log(`[EmploymentInformationSlice] Fetching employment information with ID: ${e}`);const r=await _f.getById(e);return console.log(`[EmploymentInformationSlice] Successfully fetched employment information: ${e}`),r}catch(r){const n=r;return console.error(`[EmploymentInformationSlice] fetchById(${e}) failed:`,n),t({message:n.message||"Failed to fetch employment information",code:n.code,errors:n.errors})}}),PS=He("employmentInformation/create",async(e,{rejectWithValue:t,dispatch:r})=>{try{const n=_f.validateEmploymentData(e);if(n.length>0)throw new Error(`Validation failed: ${n.join(", ")}`);console.log("[EmploymentInformationSlice] Creating new employment information");const s=await _f.create(e);return console.log(`[EmploymentInformationSlice] Successfully created employment information with ID: ${s.id}`),r(mf()),s}catch(n){const s=n;return console.error("[EmploymentInformationSlice] create failed:",s),t({message:s.message||"Failed to create employment information",code:s.code,errors:s.errors})}}),DS=He("employmentInformation/update",async(e,{rejectWithValue:t,dispatch:r})=>{try{const{id:n,data:s}=e;if(!n||n<=0)throw new Error("Valid employment information ID is required");const i=_f.validateEmploymentData(s);if(i.length>0)throw new Error(`Validation failed: ${i.join(", ")}`);console.log(`[EmploymentInformationSlice] Updating employment information with ID: ${n}`);const o=await _f.update(n,s);return console.log(`[EmploymentInformationSlice] Successfully updated employment information: ${n}`),r(mf()),o}catch(n){const s=n;return console.error(`[EmploymentInformationSlice] update(${e.id}) failed:`,s),t({message:s.message||"Failed to update employment information",code:s.code,errors:s.errors})}}),RS=He("employmentInformation/delete",async(e,{rejectWithValue:t,dispatch:r})=>{try{if(!e||e<=0)throw new Error("Valid employment information ID is required");return console.log(`[EmploymentInformationSlice] Deleting employment information with ID: ${e}`),await _f.delete(e),console.log(`[EmploymentInformationSlice] Successfully deleted employment information: ${e}`),r(mf()),e}catch(n){const s=n;return console.error(`[EmploymentInformationSlice] delete(${e}) failed:`,s),t({message:s.message||"Failed to delete employment information",code:s.code,errors:s.errors})}}),cG=nr({name:"employmentInformation",initialState:WF,reducers:{clearErrors:e=>{e.listError=null,e.itemError=null,e.createError=null,e.updateError=null,e.deleteError=null},clearCurrentItem:e=>{e.currentItem=null,e.itemError=null},setCurrentItem:(e,t)=>{e.currentItem=t.payload,e.itemError=null},clearError:(e,t)=>{switch(t.payload){case"list":e.listError=null;break;case"item":e.itemError=null;break;case"create":e.createError=null;break;case"update":e.updateError=null;break;case"delete":e.deleteError=null;break}},updateItemInList:(e,t)=>{const r=t.payload,n=e.items.findIndex(s=>s.id===r.id);n!==-1&&(e.items[n]=r,e.currentItem&&e.currentItem.id===r.id&&(e.currentItem=r))},removeItemFromList:(e,t)=>{const r=t.payload;e.items=e.items.filter(n=>n.id!==r),e.currentItem&&e.currentItem.id===r&&(e.currentItem=null)},resetState:()=>WF},extraReducers:e=>{e.addCase(mf.pending,t=>{t.listLoading="pending",t.listError=null}).addCase(mf.fulfilled,(t,r)=>{t.listLoading="succeeded",t.listError=null,r.payload!==null&&(t.items=r.payload,t.lastFetch=Date.now())}).addCase(mf.rejected,(t,r)=>{t.listLoading="failed";const n=r.payload;t.listError=n?.message||"Failed to fetch employment information",console.error("[EmploymentInformationSlice] fetchAll rejected:",n)}).addCase(TS.pending,t=>{t.itemLoading="pending",t.itemError=null}).addCase(TS.fulfilled,(t,r)=>{t.itemLoading="succeeded",t.itemError=null,t.currentItem=r.payload}).addCase(TS.rejected,(t,r)=>{t.itemLoading="failed";const n=r.payload;t.itemError=n?.message||"Failed to fetch employment information",t.currentItem=null,console.error("[EmploymentInformationSlice] fetchById rejected:",n)}).addCase(PS.pending,t=>{t.createLoading="pending",t.createError=null}).addCase(PS.fulfilled,t=>{t.createLoading="succeeded",t.createError=null}).addCase(PS.rejected,(t,r)=>{t.createLoading="failed";const n=r.payload;t.createError=n?.message||"Failed to create employment information",console.error("[EmploymentInformationSlice] create rejected:",n)}).addCase(DS.pending,t=>{t.updateLoading="pending",t.updateError=null}).addCase(DS.fulfilled,t=>{t.updateLoading="succeeded",t.updateError=null}).addCase(DS.rejected,(t,r)=>{t.updateLoading="failed";const n=r.payload;t.updateError=n?.message||"Failed to update employment information",console.error("[EmploymentInformationSlice] update rejected:",n)}).addCase(RS.pending,t=>{t.deleteLoading="pending",t.deleteError=null}).addCase(RS.fulfilled,t=>{t.deleteLoading="succeeded",t.deleteError=null}).addCase(RS.rejected,(t,r)=>{t.deleteLoading="failed";const n=r.payload;t.deleteError=n?.message||"Failed to delete employment information",console.error("[EmploymentInformationSlice] delete rejected:",n)})}}),{clearErrors:jbe,clearCurrentItem:Ebe,setCurrentItem:Nbe,clearError:_be,updateItemInList:Hgt,removeItemFromList:zgt,resetState:Abe}=cG.actions,kbe=e=>e.employmentInformation.items,Tbe=e=>e.employmentInformation.currentItem,Pbe=e=>({list:e.employmentInformation.listLoading==="pending",item:e.employmentInformation.itemLoading==="pending",create:e.employmentInformation.createLoading==="pending",update:e.employmentInformation.updateLoading==="pending",delete:e.employmentInformation.deleteLoading==="pending"}),Dbe=e=>({list:e.employmentInformation.listError,item:e.employmentInformation.itemError,create:e.employmentInformation.createError,update:e.employmentInformation.updateError,delete:e.employmentInformation.deleteError}),Rbe=e=>{const t=e.employmentInformation.items;return{total:t.length,w2Count:t.filter(r=>r.employment_type==="W2").length,contractorCount:t.filter(r=>r.employment_type==="1099").length,withUniformCount:t.filter(r=>r.has_uniform).length,hasData:t.length>0,lastFetch:e.employmentInformation.lastFetch}},Mbe=cG.reducer;function Ie(e,t,r){function n(c,d){var u;Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(u=c._zod).traits??(u.traits=new Set),c._zod.traits.add(e),t(c,d);for(const l in o.prototype)l in c||Object.defineProperty(c,l,{value:o.prototype[l].bind(c)});c._zod.constr=o,c._zod.def=d}const s=r?.Parent??Object;class i extends s{}Object.defineProperty(i,"name",{value:e});function o(c){var d;const u=r?.Parent?new i:this;n(u,c),(d=u._zod).deferred??(d.deferred=[]);for(const l of u._zod.deferred)l();return u}return Object.defineProperty(o,"init",{value:n}),Object.defineProperty(o,Symbol.hasInstance,{value:c=>r?.Parent&&c instanceof r.Parent?!0:c?._zod?.traits?.has(e)}),Object.defineProperty(o,"name",{value:e}),o}class Ym extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class dG extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const uG={};function Bd(e){return uG}function Obe(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,s])=>t.indexOf(+n)===-1).map(([n,s])=>s)}function hD(e,t){return typeof t=="bigint"?t.toString():t}function NM(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function _M(e){return e==null}function AM(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function Ibe(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let s=(n.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(n)){const d=n.match(/\d?e-(\d?)/);d?.[1]&&(s=Number.parseInt(d[1]))}const i=r>s?r:s,o=Number.parseInt(e.toFixed(i).replace(".","")),c=Number.parseInt(t.toFixed(i).replace(".",""));return o%c/10**i}const qF=Symbol("evaluating");function zr(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==qF)return n===void 0&&(n=qF,n=r()),n},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function Lbe(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function Zd(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Wp(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function GF(e){return JSON.stringify(e)}const fG="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function fC(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const Bbe=NM(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function ap(e){if(fC(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(fC(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function hG(e){return ap(e)?{...e}:e}const $be=new Set(["string","number","symbol"]);function ip(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Xd(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function xt(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function Fbe(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const Hbe={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function zbe(e,t){const r=e._zod.def,n=Wp(e._zod.def,{get shape(){const s={};for(const i in t){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&(s[i]=r.shape[i])}return Zd(this,"shape",s),s},checks:[]});return Xd(e,n)}function Ube(e,t){const r=e._zod.def,n=Wp(e._zod.def,{get shape(){const s={...e._zod.def.shape};for(const i in t){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&delete s[i]}return Zd(this,"shape",s),s},checks:[]});return Xd(e,n)}function Vbe(e,t){if(!ap(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const s=Wp(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return Zd(this,"shape",i),i},checks:[]});return Xd(e,s)}function Wbe(e,t){if(!ap(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return Zd(this,"shape",n),n},checks:e._zod.def.checks};return Xd(e,r)}function qbe(e,t){const r=Wp(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Zd(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return Xd(e,r)}function Gbe(e,t,r){const n=Wp(t._zod.def,{get shape(){const s=t._zod.def.shape,i={...s};if(r)for(const o in r){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(i[o]=e?new e({type:"optional",innerType:s[o]}):s[o])}else for(const o in s)i[o]=e?new e({type:"optional",innerType:s[o]}):s[o];return Zd(this,"shape",i),i},checks:[]});return Xd(t,n)}function Ybe(e,t,r){const n=Wp(t._zod.def,{get shape(){const s=t._zod.def.shape,i={...s};if(r)for(const o in r){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(i[o]=new e({type:"nonoptional",innerType:s[o]}))}else for(const o in s)i[o]=new e({type:"nonoptional",innerType:s[o]});return Zd(this,"shape",i),i},checks:[]});return Xd(t,n)}function Om(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function Im(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function rw(e){return typeof e=="string"?e:e?.message}function $d(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const s=rw(e.inst?._zod.def?.error?.(e))??rw(t?.error?.(e))??rw(r.customError?.(e))??rw(r.localeError?.(e))??"Invalid input";n.message=s}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function kM(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Rv(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const mG=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,hD,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},TM=Ie("$ZodError",mG),Xj=Ie("$ZodError",mG,{Parent:Error});function Kbe(e,t=r=>r.message){const r={},n=[];for(const s of e.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}function Zbe(e,t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(c=>s({issues:c}));else if(o.code==="invalid_key")s({issues:o.issues});else if(o.code==="invalid_element")s({issues:o.issues});else if(o.path.length===0)n._errors.push(r(o));else{let c=n,d=0;for(;d<o.path.length;){const u=o.path[d];d===o.path.length-1?(c[u]=c[u]||{_errors:[]},c[u]._errors.push(r(o))):c[u]=c[u]||{_errors:[]},c=c[u],d++}}};return s(e),n}const Qj=e=>(t,r,n,s)=>{const i=n?Object.assign(n,{async:!1}):{async:!1},o=t._zod.run({value:r,issues:[]},i);if(o instanceof Promise)throw new Ym;if(o.issues.length){const c=new(s?.Err??e)(o.issues.map(d=>$d(d,i,Bd())));throw fG(c,s?.callee),c}return o.value},Xbe=Qj(Xj),Jj=e=>async(t,r,n,s)=>{const i=n?Object.assign(n,{async:!0}):{async:!0};let o=t._zod.run({value:r,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const c=new(s?.Err??e)(o.issues.map(d=>$d(d,i,Bd())));throw fG(c,s?.callee),c}return o.value},Qbe=Jj(Xj),eE=e=>(t,r,n)=>{const s=n?{...n,async:!1}:{async:!1},i=t._zod.run({value:r,issues:[]},s);if(i instanceof Promise)throw new Ym;return i.issues.length?{success:!1,error:new(e??TM)(i.issues.map(o=>$d(o,s,Bd())))}:{success:!0,data:i.value}},Jbe=eE(Xj),tE=e=>async(t,r,n)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let i=t._zod.run({value:r,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(o=>$d(o,s,Bd())))}:{success:!0,data:i.value}},ewe=tE(Xj),twe=e=>(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Qj(e)(t,r,s)},rwe=e=>(t,r,n)=>Qj(e)(t,r,n),nwe=e=>async(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Jj(e)(t,r,s)},swe=e=>async(t,r,n)=>Jj(e)(t,r,n),awe=e=>(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return eE(e)(t,r,s)},iwe=e=>(t,r,n)=>eE(e)(t,r,n),owe=e=>async(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return tE(e)(t,r,s)},lwe=e=>async(t,r,n)=>tE(e)(t,r,n),cwe=/^[cC][^\s-]{8,}$/,dwe=/^[0-9a-z]+$/,uwe=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,fwe=/^[0-9a-vA-V]{20}$/,hwe=/^[A-Za-z0-9]{27}$/,mwe=/^[a-zA-Z0-9_-]{21}$/,pwe=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,gwe=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,YF=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,xwe=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,vwe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function ywe(){return new RegExp(vwe,"u")}const bwe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,wwe=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,Swe=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Cwe=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,jwe=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,pG=/^[A-Za-z0-9_-]*$/,Ewe=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Nwe=/^\+(?:[0-9]){6,14}[0-9]$/,gG="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",_we=new RegExp(`^${gG}$`);function xG(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Awe(e){return new RegExp(`^${xG(e)}$`)}function kwe(e){const t=xG({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${gG}T(?:${n})$`)}const Twe=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Pwe=/^\d+$/,Dwe=/^-?\d+(?:\.\d+)?/i,Rwe=/true|false/i,Mwe=/^[^A-Z]*$/,Owe=/^[^a-z]*$/,Oa=Ie("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),vG={number:"number",bigint:"bigint",object:"date"},yG=Ie("$ZodCheckLessThan",(e,t)=>{Oa.init(e,t);const r=vG[typeof t.value];e._zod.onattach.push(n=>{const s=n._zod.bag,i=(t.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?s.maximum=t.value:s.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),bG=Ie("$ZodCheckGreaterThan",(e,t)=>{Oa.init(e,t);const r=vG[typeof t.value];e._zod.onattach.push(n=>{const s=n._zod.bag,i=(t.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?s.minimum=t.value:s.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Iwe=Ie("$ZodCheckMultipleOf",(e,t)=>{Oa.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):Ibe(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),Lwe=Ie("$ZodCheckNumberFormat",(e,t)=>{Oa.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),n=r?"int":"number",[s,i]=Hbe[t.format];e._zod.onattach.push(o=>{const c=o._zod.bag;c.format=t.format,c.minimum=s,c.maximum=i,r&&(c.pattern=Pwe)}),e._zod.check=o=>{const c=o.value;if(r){if(!Number.isInteger(c)){o.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?o.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):o.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}c<s&&o.issues.push({origin:"number",input:c,code:"too_small",minimum:s,inclusive:!0,inst:e,continue:!t.abort}),c>i&&o.issues.push({origin:"number",input:c,code:"too_big",maximum:i,inst:e})}}),Bwe=Ie("$ZodCheckMaxLength",(e,t)=>{var r;Oa.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!_M(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const s=n.value;if(s.length<=t.maximum)return;const o=kM(s);n.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),$we=Ie("$ZodCheckMinLength",(e,t)=>{var r;Oa.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!_M(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const s=n.value;if(s.length>=t.minimum)return;const o=kM(s);n.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),Fwe=Ie("$ZodCheckLengthEquals",(e,t)=>{var r;Oa.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!_M(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=n=>{const s=n.value,i=s.length;if(i===t.length)return;const o=kM(s),c=i>t.length;n.issues.push({origin:o,...c?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),rE=Ie("$ZodCheckStringFormat",(e,t)=>{var r,n;Oa.init(e,t),e._zod.onattach.push(s=>{const i=s._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),Hwe=Ie("$ZodCheckRegex",(e,t)=>{rE.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),zwe=Ie("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Mwe),rE.init(e,t)}),Uwe=Ie("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Owe),rE.init(e,t)}),Vwe=Ie("$ZodCheckIncludes",(e,t)=>{Oa.init(e,t);const r=ip(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),Wwe=Ie("$ZodCheckStartsWith",(e,t)=>{Oa.init(e,t);const r=new RegExp(`^${ip(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),qwe=Ie("$ZodCheckEndsWith",(e,t)=>{Oa.init(e,t);const r=new RegExp(`.*${ip(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),Gwe=Ie("$ZodCheckOverwrite",(e,t)=>{Oa.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class Ywe{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(o=>o),s=Math.min(...n.map(o=>o.length-o.trimStart().length)),i=n.map(o=>o.slice(s)).map(o=>" ".repeat(this.indent*2)+o);for(const o of i)this.content.push(o)}compile(){const t=Function,r=this?.args,s=[...(this?.content??[""]).map(i=>`  ${i}`)];return new t(...r,s.join(`
`))}}const Kwe={major:4,minor:1,patch:5},gn=Ie("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Kwe;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const s of n)for(const i of s._zod.onattach)i(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const s=(o,c,d)=>{let u=Om(o),l;for(const f of c){if(f._zod.def.when){if(!f._zod.def.when(o))continue}else if(u)continue;const p=o.issues.length,g=f._zod.check(o);if(g instanceof Promise&&d?.async===!1)throw new Ym;if(l||g instanceof Promise)l=(l??Promise.resolve()).then(async()=>{await g,o.issues.length!==p&&(u||(u=Om(o,p)))});else{if(o.issues.length===p)continue;u||(u=Om(o,p))}}return l?l.then(()=>o):o},i=(o,c,d)=>{if(Om(o))return o.aborted=!0,o;const u=s(c,n,d);if(u instanceof Promise){if(d.async===!1)throw new Ym;return u.then(l=>e._zod.parse(l,d))}return e._zod.parse(u,d)};e._zod.run=(o,c)=>{if(c.skipChecks)return e._zod.parse(o,c);if(c.direction==="backward"){const u=e._zod.parse({value:o.value,issues:[]},{...c,skipChecks:!0});return u instanceof Promise?u.then(l=>i(l,o,c)):i(u,o,c)}const d=e._zod.parse(o,c);if(d instanceof Promise){if(c.async===!1)throw new Ym;return d.then(u=>s(u,n,c))}return s(d,n,c)}}e["~standard"]={validate:s=>{try{const i=Jbe(e,s);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return ewe(e,s).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}}),PM=Ie("$ZodString",(e,t)=>{gn.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Twe(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),an=Ie("$ZodStringFormat",(e,t)=>{rE.init(e,t),PM.init(e,t)}),Zwe=Ie("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=gwe),an.init(e,t)}),Xwe=Ie("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=YF(n))}else t.pattern??(t.pattern=YF());an.init(e,t)}),Qwe=Ie("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=xwe),an.init(e,t)}),Jwe=Ie("$ZodURL",(e,t)=>{an.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),s=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:Ewe.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=s.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),e1e=Ie("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=ywe()),an.init(e,t)}),t1e=Ie("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=mwe),an.init(e,t)}),r1e=Ie("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=cwe),an.init(e,t)}),n1e=Ie("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=dwe),an.init(e,t)}),s1e=Ie("$ZodULID",(e,t)=>{t.pattern??(t.pattern=uwe),an.init(e,t)}),a1e=Ie("$ZodXID",(e,t)=>{t.pattern??(t.pattern=fwe),an.init(e,t)}),i1e=Ie("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=hwe),an.init(e,t)}),o1e=Ie("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=kwe(t)),an.init(e,t)}),l1e=Ie("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=_we),an.init(e,t)}),c1e=Ie("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Awe(t)),an.init(e,t)}),d1e=Ie("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=pwe),an.init(e,t)}),u1e=Ie("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=bwe),an.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv4"})}),f1e=Ie("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=wwe),an.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),h1e=Ie("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Swe),an.init(e,t)}),m1e=Ie("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Cwe),an.init(e,t),e._zod.check=r=>{const[n,s]=r.value.split("/");try{if(!s)throw new Error;const i=Number(s);if(`${i}`!==s)throw new Error;if(i<0||i>128)throw new Error;new URL(`http://[${n}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function wG(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const p1e=Ie("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=jwe),an.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{wG(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function g1e(e){if(!pG.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return wG(r)}const x1e=Ie("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=pG),an.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{g1e(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),v1e=Ie("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Nwe),an.init(e,t)});function y1e(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const s=JSON.parse(atob(n));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const b1e=Ie("$ZodJWT",(e,t)=>{an.init(e,t),e._zod.check=r=>{y1e(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),SG=Ie("$ZodNumber",(e,t)=>{gn.init(e,t),e._zod.pattern=e._zod.bag.pattern??Dwe,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const s=r.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return r;const i=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:s,inst:e,...i?{received:i}:{}}),r}}),w1e=Ie("$ZodNumber",(e,t)=>{Lwe.init(e,t),SG.init(e,t)}),S1e=Ie("$ZodBoolean",(e,t)=>{gn.init(e,t),e._zod.pattern=Rwe,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}const s=r.value;return typeof s=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:e}),r}}),C1e=Ie("$ZodUnknown",(e,t)=>{gn.init(e,t),e._zod.parse=r=>r}),j1e=Ie("$ZodNever",(e,t)=>{gn.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function KF(e,t,r){e.issues.length&&t.issues.push(...Im(r,e.issues)),t.value[r]=e.value}const E1e=Ie("$ZodArray",(e,t)=>{gn.init(e,t),e._zod.parse=(r,n)=>{const s=r.value;if(!Array.isArray(s))return r.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),r;r.value=Array(s.length);const i=[];for(let o=0;o<s.length;o++){const c=s[o],d=t.element._zod.run({value:c,issues:[]},n);d instanceof Promise?i.push(d.then(u=>KF(u,r,o))):KF(d,r,o)}return i.length?Promise.all(i).then(()=>r):r}});function hC(e,t,r,n){e.issues.length&&t.issues.push(...Im(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function CG(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape[n]._zod.traits.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const r=Fbe(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function jG(e,t,r,n,s,i){const o=[],c=s.keySet,d=s.catchall._zod,u=d.def.type;for(const l of Object.keys(t)){if(c.has(l))continue;if(u==="never"){o.push(l);continue}const f=d.run({value:t[l],issues:[]},n);f instanceof Promise?e.push(f.then(p=>hC(p,r,l,t))):hC(f,r,l,t)}return o.length&&r.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:i}),e.length?Promise.all(e).then(()=>r):r}const N1e=Ie("$ZodObject",(e,t)=>{gn.init(e,t);const r=NM(()=>CG(t));zr(e._zod,"propValues",()=>{const o=t.shape,c={};for(const d in o){const u=o[d]._zod;if(u.values){c[d]??(c[d]=new Set);for(const l of u.values)c[d].add(l)}}return c});const n=fC,s=t.catchall;let i;e._zod.parse=(o,c)=>{i??(i=r.value);const d=o.value;if(!n(d))return o.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),o;o.value={};const u=[],l=i.shape;for(const f of i.keys){const g=l[f]._zod.run({value:d[f],issues:[]},c);g instanceof Promise?u.push(g.then(x=>hC(x,o,f,d))):hC(g,o,f,d)}return s?jG(u,d,o,c,r.value,e):u.length?Promise.all(u).then(()=>o):o}}),_1e=Ie("$ZodObjectJIT",(e,t)=>{N1e.init(e,t);const r=e._zod.parse,n=NM(()=>CG(t)),s=p=>{const g=new Ywe(["shape","payload","ctx"]),x=n.value,S=C=>{const E=GF(C);return`shape[${E}]._zod.run({ value: input[${E}], issues: [] }, ctx)`};g.write("const input = payload.value;");const m=Object.create(null);let y=0;for(const C of x.keys)m[C]=`key_${y++}`;g.write("const newResult = {}");for(const C of x.keys){const E=m[C],N=GF(C);g.write(`const ${E} = ${S(C)};`),g.write(`
        if (${E}.issues.length) {
          payload.issues = payload.issues.concat(${E}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${N}, ...iss.path] : [${N}]
          })));
        }
        
        if (${E}.value === undefined) {
          if (${N} in input) {
            newResult[${N}] = undefined;
          }
        } else {
          newResult[${N}] = ${E}.value;
        }
      `)}g.write("payload.value = newResult;"),g.write("return payload;");const w=g.compile();return(C,E)=>w(p,C,E)};let i;const o=fC,c=!uG.jitless,u=c&&Bbe.value,l=t.catchall;let f;e._zod.parse=(p,g)=>{f??(f=n.value);const x=p.value;return o(x)?c&&u&&g?.async===!1&&g.jitless!==!0?(i||(i=s(t.shape)),p=i(p,g),l?jG([],x,p,g,f,e):p):r(p,g):(p.issues.push({expected:"object",code:"invalid_type",input:x,inst:e}),p)}});function ZF(e,t,r,n){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;const s=e.filter(i=>!Om(i));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(i=>i.issues.map(o=>$d(o,n,Bd())))}),t)}const A1e=Ie("$ZodUnion",(e,t)=>{gn.init(e,t),zr(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),zr(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),zr(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),zr(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${s.map(i=>AM(i.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(s,i)=>{if(r)return n(s,i);let o=!1;const c=[];for(const d of t.options){const u=d._zod.run({value:s.value,issues:[]},i);if(u instanceof Promise)c.push(u),o=!0;else{if(u.issues.length===0)return u;c.push(u)}}return o?Promise.all(c).then(d=>ZF(d,s,e,i)):ZF(c,s,e,i)}}),k1e=Ie("$ZodIntersection",(e,t)=>{gn.init(e,t),e._zod.parse=(r,n)=>{const s=r.value,i=t.left._zod.run({value:s,issues:[]},n),o=t.right._zod.run({value:s,issues:[]},n);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([d,u])=>XF(r,d,u)):XF(r,i,o)}});function mD(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(ap(e)&&ap(t)){const r=Object.keys(t),n=Object.keys(e).filter(i=>r.indexOf(i)!==-1),s={...e,...t};for(const i of n){const o=mD(e[i],t[i]);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};s[i]=o.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const s=e[n],i=t[n],o=mD(s,i);if(!o.valid)return{valid:!1,mergeErrorPath:[n,...o.mergeErrorPath]};r.push(o.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function XF(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),Om(e))return e;const n=mD(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}const T1e=Ie("$ZodRecord",(e,t)=>{gn.init(e,t),e._zod.parse=(r,n)=>{const s=r.value;if(!ap(s))return r.issues.push({expected:"record",code:"invalid_type",input:s,inst:e}),r;const i=[];if(t.keyType._zod.values){const o=t.keyType._zod.values;r.value={};for(const d of o)if(typeof d=="string"||typeof d=="number"||typeof d=="symbol"){const u=t.valueType._zod.run({value:s[d],issues:[]},n);u instanceof Promise?i.push(u.then(l=>{l.issues.length&&r.issues.push(...Im(d,l.issues)),r.value[d]=l.value})):(u.issues.length&&r.issues.push(...Im(d,u.issues)),r.value[d]=u.value)}let c;for(const d in s)o.has(d)||(c=c??[],c.push(d));c&&c.length>0&&r.issues.push({code:"unrecognized_keys",input:s,inst:e,keys:c})}else{r.value={};for(const o of Reflect.ownKeys(s)){if(o==="__proto__")continue;const c=t.keyType._zod.run({value:o,issues:[]},n);if(c instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(c.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:c.issues.map(u=>$d(u,n,Bd())),input:o,path:[o],inst:e}),r.value[c.value]=c.value;continue}const d=t.valueType._zod.run({value:s[o],issues:[]},n);d instanceof Promise?i.push(d.then(u=>{u.issues.length&&r.issues.push(...Im(o,u.issues)),r.value[c.value]=u.value})):(d.issues.length&&r.issues.push(...Im(o,d.issues)),r.value[c.value]=d.value)}}return i.length?Promise.all(i).then(()=>r):r}}),P1e=Ie("$ZodEnum",(e,t)=>{gn.init(e,t);const r=Obe(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(s=>$be.has(typeof s)).map(s=>typeof s=="string"?ip(s):s.toString()).join("|")})$`),e._zod.parse=(s,i)=>{const o=s.value;return n.has(o)||s.issues.push({code:"invalid_value",values:r,input:o,inst:e}),s}}),D1e=Ie("$ZodLiteral",(e,t)=>{if(gn.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?ip(r):r?ip(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,n)=>{const s=r.value;return e._zod.values.has(s)||r.issues.push({code:"invalid_value",values:t.values,input:s,inst:e}),r}}),R1e=Ie("$ZodTransform",(e,t)=>{gn.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new dG(e.constructor.name);const s=t.transform(r.value,r);if(n.async)return(s instanceof Promise?s:Promise.resolve(s)).then(o=>(r.value=o,r));if(s instanceof Promise)throw new Ym;return r.value=s,r}});function QF(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const M1e=Ie("$ZodOptional",(e,t)=>{gn.init(e,t),e._zod.optin="optional",e._zod.optout="optional",zr(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),zr(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${AM(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>QF(i,r.value)):QF(s,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),O1e=Ie("$ZodNullable",(e,t)=>{gn.init(e,t),zr(e._zod,"optin",()=>t.innerType._zod.optin),zr(e._zod,"optout",()=>t.innerType._zod.optout),zr(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${AM(r.source)}|null)$`):void 0}),zr(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),I1e=Ie("$ZodDefault",(e,t)=>{gn.init(e,t),e._zod.optin="optional",zr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>JF(i,t)):JF(s,t)}});function JF(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const L1e=Ie("$ZodPrefault",(e,t)=>{gn.init(e,t),e._zod.optin="optional",zr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),B1e=Ie("$ZodNonOptional",(e,t)=>{gn.init(e,t),zr(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>e8(i,e)):e8(s,e)}});function e8(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const $1e=Ie("$ZodCatch",(e,t)=>{gn.init(e,t),zr(e._zod,"optin",()=>t.innerType._zod.optin),zr(e._zod,"optout",()=>t.innerType._zod.optout),zr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(i=>(r.value=i.value,i.issues.length&&(r.value=t.catchValue({...r,error:{issues:i.issues.map(o=>$d(o,n,Bd()))},input:r.value}),r.issues=[]),r)):(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(i=>$d(i,n,Bd()))},input:r.value}),r.issues=[]),r)}}),F1e=Ie("$ZodPipe",(e,t)=>{gn.init(e,t),zr(e._zod,"values",()=>t.in._zod.values),zr(e._zod,"optin",()=>t.in._zod.optin),zr(e._zod,"optout",()=>t.out._zod.optout),zr(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const i=t.out._zod.run(r,n);return i instanceof Promise?i.then(o=>nw(o,t.in,n)):nw(i,t.in,n)}const s=t.in._zod.run(r,n);return s instanceof Promise?s.then(i=>nw(i,t.out,n)):nw(s,t.out,n)}});function nw(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const H1e=Ie("$ZodReadonly",(e,t)=>{gn.init(e,t),zr(e._zod,"propValues",()=>t.innerType._zod.propValues),zr(e._zod,"values",()=>t.innerType._zod.values),zr(e._zod,"optin",()=>t.innerType._zod.optin),zr(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(t8):t8(s)}});function t8(e){return e.value=Object.freeze(e.value),e}const z1e=Ie("$ZodCustom",(e,t)=>{Oa.init(e,t),gn.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,s=t.fn(n);if(s instanceof Promise)return s.then(i=>r8(i,r,n,e));r8(s,r,n,e)}});function r8(e,t,r,n){if(!e){const s={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(s.params=n._zod.def.params),t.issues.push(Rv(s))}}class U1e{constructor(){this._map=new Map,this._idmap=new Map}add(t,...r){const n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const s={...n,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function V1e(){return new U1e}const sw=V1e();function W1e(e,t){return new e({type:"string",...xt(t)})}function q1e(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...xt(t)})}function n8(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...xt(t)})}function G1e(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...xt(t)})}function Y1e(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...xt(t)})}function K1e(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...xt(t)})}function Z1e(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...xt(t)})}function X1e(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...xt(t)})}function Q1e(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...xt(t)})}function J1e(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...xt(t)})}function eSe(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...xt(t)})}function tSe(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...xt(t)})}function rSe(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...xt(t)})}function nSe(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...xt(t)})}function sSe(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...xt(t)})}function aSe(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...xt(t)})}function iSe(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...xt(t)})}function oSe(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...xt(t)})}function lSe(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...xt(t)})}function cSe(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...xt(t)})}function dSe(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...xt(t)})}function uSe(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...xt(t)})}function fSe(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...xt(t)})}function hSe(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...xt(t)})}function mSe(e,t){return new e({type:"string",format:"date",check:"string_format",...xt(t)})}function pSe(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...xt(t)})}function gSe(e,t){return new e({type:"string",format:"duration",check:"string_format",...xt(t)})}function xSe(e,t){return new e({type:"number",checks:[],...xt(t)})}function vSe(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...xt(t)})}function ySe(e,t){return new e({type:"boolean",...xt(t)})}function bSe(e){return new e({type:"unknown"})}function wSe(e,t){return new e({type:"never",...xt(t)})}function s8(e,t){return new yG({check:"less_than",...xt(t),value:e,inclusive:!1})}function Vk(e,t){return new yG({check:"less_than",...xt(t),value:e,inclusive:!0})}function a8(e,t){return new bG({check:"greater_than",...xt(t),value:e,inclusive:!1})}function Wk(e,t){return new bG({check:"greater_than",...xt(t),value:e,inclusive:!0})}function i8(e,t){return new Iwe({check:"multiple_of",...xt(t),value:e})}function EG(e,t){return new Bwe({check:"max_length",...xt(t),maximum:e})}function mC(e,t){return new $we({check:"min_length",...xt(t),minimum:e})}function NG(e,t){return new Fwe({check:"length_equals",...xt(t),length:e})}function SSe(e,t){return new Hwe({check:"string_format",format:"regex",...xt(t),pattern:e})}function CSe(e){return new zwe({check:"string_format",format:"lowercase",...xt(e)})}function jSe(e){return new Uwe({check:"string_format",format:"uppercase",...xt(e)})}function ESe(e,t){return new Vwe({check:"string_format",format:"includes",...xt(t),includes:e})}function NSe(e,t){return new Wwe({check:"string_format",format:"starts_with",...xt(t),prefix:e})}function _Se(e,t){return new qwe({check:"string_format",format:"ends_with",...xt(t),suffix:e})}function N0(e){return new Gwe({check:"overwrite",tx:e})}function ASe(e){return N0(t=>t.normalize(e))}function kSe(){return N0(e=>e.trim())}function TSe(){return N0(e=>e.toLowerCase())}function PSe(){return N0(e=>e.toUpperCase())}function DSe(e,t,r){return new e({type:"array",element:t,...xt(r)})}function RSe(e,t,r){return new e({type:"custom",check:"custom",fn:t,...xt(r)})}function MSe(e){const t=OSe(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(Rv(n,r.value,t._zod.def));else{const s=n;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),r.issues.push(Rv(s))}},e(r.value,r)));return t}function OSe(e,t){const r=new Oa({check:"custom",...xt(t)});return r._zod.check=e,r}const ISe=Ie("ZodISODateTime",(e,t)=>{o1e.init(e,t),xn.init(e,t)});function LSe(e){return hSe(ISe,e)}const BSe=Ie("ZodISODate",(e,t)=>{l1e.init(e,t),xn.init(e,t)});function $Se(e){return mSe(BSe,e)}const FSe=Ie("ZodISOTime",(e,t)=>{c1e.init(e,t),xn.init(e,t)});function HSe(e){return pSe(FSe,e)}const zSe=Ie("ZodISODuration",(e,t)=>{d1e.init(e,t),xn.init(e,t)});function USe(e){return gSe(zSe,e)}const VSe=(e,t)=>{TM.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>Zbe(e,r)},flatten:{value:r=>Kbe(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,hD,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,hD,2)}},isEmpty:{get(){return e.issues.length===0}}})},Xi=Ie("ZodError",VSe,{Parent:Error}),WSe=Qj(Xi),qSe=Jj(Xi),GSe=eE(Xi),YSe=tE(Xi),KSe=twe(Xi),ZSe=rwe(Xi),XSe=nwe(Xi),QSe=swe(Xi),JSe=awe(Xi),eCe=iwe(Xi),tCe=owe(Xi),rCe=lwe(Xi),Pn=Ie("ZodType",(e,t)=>(gn.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone({...t,checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),e.clone=(r,n)=>Xd(e,r,n),e.brand=()=>e,e.register=(r,n)=>(r.add(e,n),e),e.parse=(r,n)=>WSe(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>GSe(e,r,n),e.parseAsync=async(r,n)=>qSe(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>YSe(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>KSe(e,r,n),e.decode=(r,n)=>ZSe(e,r,n),e.encodeAsync=async(r,n)=>XSe(e,r,n),e.decodeAsync=async(r,n)=>QSe(e,r,n),e.safeEncode=(r,n)=>JSe(e,r,n),e.safeDecode=(r,n)=>eCe(e,r,n),e.safeEncodeAsync=async(r,n)=>tCe(e,r,n),e.safeDecodeAsync=async(r,n)=>rCe(e,r,n),e.refine=(r,n)=>e.check(YCe(r,n)),e.superRefine=r=>e.check(KCe(r)),e.overwrite=r=>e.check(N0(r)),e.optional=()=>c8(e),e.nullable=()=>d8(e),e.nullish=()=>c8(d8(e)),e.nonoptional=r=>HCe(e,r),e.array=()=>dr(e),e.or=r=>kG([e,r]),e.and=r=>TCe(e,r),e.transform=r=>u8(e,OCe(r)),e.default=r=>BCe(e,r),e.prefault=r=>FCe(e,r),e.catch=r=>UCe(e,r),e.pipe=r=>u8(e,r),e.readonly=()=>qCe(e),e.describe=r=>{const n=e.clone();return sw.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return sw.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return sw.get(e);const n=e.clone();return sw.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),_G=Ie("_ZodString",(e,t)=>{PM.init(e,t),Pn.init(e,t);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(SSe(...n)),e.includes=(...n)=>e.check(ESe(...n)),e.startsWith=(...n)=>e.check(NSe(...n)),e.endsWith=(...n)=>e.check(_Se(...n)),e.min=(...n)=>e.check(mC(...n)),e.max=(...n)=>e.check(EG(...n)),e.length=(...n)=>e.check(NG(...n)),e.nonempty=(...n)=>e.check(mC(1,...n)),e.lowercase=n=>e.check(CSe(n)),e.uppercase=n=>e.check(jSe(n)),e.trim=()=>e.check(kSe()),e.normalize=(...n)=>e.check(ASe(...n)),e.toLowerCase=()=>e.check(TSe()),e.toUpperCase=()=>e.check(PSe())}),nCe=Ie("ZodString",(e,t)=>{PM.init(e,t),_G.init(e,t),e.email=r=>e.check(q1e(sCe,r)),e.url=r=>e.check(X1e(aCe,r)),e.jwt=r=>e.check(fSe(bCe,r)),e.emoji=r=>e.check(Q1e(iCe,r)),e.guid=r=>e.check(n8(o8,r)),e.uuid=r=>e.check(G1e(aw,r)),e.uuidv4=r=>e.check(Y1e(aw,r)),e.uuidv6=r=>e.check(K1e(aw,r)),e.uuidv7=r=>e.check(Z1e(aw,r)),e.nanoid=r=>e.check(J1e(oCe,r)),e.guid=r=>e.check(n8(o8,r)),e.cuid=r=>e.check(eSe(lCe,r)),e.cuid2=r=>e.check(tSe(cCe,r)),e.ulid=r=>e.check(rSe(dCe,r)),e.base64=r=>e.check(cSe(xCe,r)),e.base64url=r=>e.check(dSe(vCe,r)),e.xid=r=>e.check(nSe(uCe,r)),e.ksuid=r=>e.check(sSe(fCe,r)),e.ipv4=r=>e.check(aSe(hCe,r)),e.ipv6=r=>e.check(iSe(mCe,r)),e.cidrv4=r=>e.check(oSe(pCe,r)),e.cidrv6=r=>e.check(lSe(gCe,r)),e.e164=r=>e.check(uSe(yCe,r)),e.datetime=r=>e.check(LSe(r)),e.date=r=>e.check($Se(r)),e.time=r=>e.check(HSe(r)),e.duration=r=>e.check(USe(r))});function st(e){return W1e(nCe,e)}const xn=Ie("ZodStringFormat",(e,t)=>{an.init(e,t),_G.init(e,t)}),sCe=Ie("ZodEmail",(e,t)=>{Qwe.init(e,t),xn.init(e,t)}),o8=Ie("ZodGUID",(e,t)=>{Zwe.init(e,t),xn.init(e,t)}),aw=Ie("ZodUUID",(e,t)=>{Xwe.init(e,t),xn.init(e,t)}),aCe=Ie("ZodURL",(e,t)=>{Jwe.init(e,t),xn.init(e,t)}),iCe=Ie("ZodEmoji",(e,t)=>{e1e.init(e,t),xn.init(e,t)}),oCe=Ie("ZodNanoID",(e,t)=>{t1e.init(e,t),xn.init(e,t)}),lCe=Ie("ZodCUID",(e,t)=>{r1e.init(e,t),xn.init(e,t)}),cCe=Ie("ZodCUID2",(e,t)=>{n1e.init(e,t),xn.init(e,t)}),dCe=Ie("ZodULID",(e,t)=>{s1e.init(e,t),xn.init(e,t)}),uCe=Ie("ZodXID",(e,t)=>{a1e.init(e,t),xn.init(e,t)}),fCe=Ie("ZodKSUID",(e,t)=>{i1e.init(e,t),xn.init(e,t)}),hCe=Ie("ZodIPv4",(e,t)=>{u1e.init(e,t),xn.init(e,t)}),mCe=Ie("ZodIPv6",(e,t)=>{f1e.init(e,t),xn.init(e,t)}),pCe=Ie("ZodCIDRv4",(e,t)=>{h1e.init(e,t),xn.init(e,t)}),gCe=Ie("ZodCIDRv6",(e,t)=>{m1e.init(e,t),xn.init(e,t)}),xCe=Ie("ZodBase64",(e,t)=>{p1e.init(e,t),xn.init(e,t)}),vCe=Ie("ZodBase64URL",(e,t)=>{x1e.init(e,t),xn.init(e,t)}),yCe=Ie("ZodE164",(e,t)=>{v1e.init(e,t),xn.init(e,t)}),bCe=Ie("ZodJWT",(e,t)=>{b1e.init(e,t),xn.init(e,t)}),AG=Ie("ZodNumber",(e,t)=>{SG.init(e,t),Pn.init(e,t),e.gt=(n,s)=>e.check(a8(n,s)),e.gte=(n,s)=>e.check(Wk(n,s)),e.min=(n,s)=>e.check(Wk(n,s)),e.lt=(n,s)=>e.check(s8(n,s)),e.lte=(n,s)=>e.check(Vk(n,s)),e.max=(n,s)=>e.check(Vk(n,s)),e.int=n=>e.check(l8(n)),e.safe=n=>e.check(l8(n)),e.positive=n=>e.check(a8(0,n)),e.nonnegative=n=>e.check(Wk(0,n)),e.negative=n=>e.check(s8(0,n)),e.nonpositive=n=>e.check(Vk(0,n)),e.multipleOf=(n,s)=>e.check(i8(n,s)),e.step=(n,s)=>e.check(i8(n,s)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function Et(e){return xSe(AG,e)}const wCe=Ie("ZodNumberFormat",(e,t)=>{w1e.init(e,t),AG.init(e,t)});function l8(e){return vSe(wCe,e)}const SCe=Ie("ZodBoolean",(e,t)=>{S1e.init(e,t),Pn.init(e,t)});function _n(e){return ySe(SCe,e)}const CCe=Ie("ZodUnknown",(e,t)=>{C1e.init(e,t),Pn.init(e,t)});function Mv(){return bSe(CCe)}const jCe=Ie("ZodNever",(e,t)=>{j1e.init(e,t),Pn.init(e,t)});function ECe(e){return wSe(jCe,e)}const NCe=Ie("ZodArray",(e,t)=>{E1e.init(e,t),Pn.init(e,t),e.element=t.element,e.min=(r,n)=>e.check(mC(r,n)),e.nonempty=r=>e.check(mC(1,r)),e.max=(r,n)=>e.check(EG(r,n)),e.length=(r,n)=>e.check(NG(r,n)),e.unwrap=()=>e.element});function dr(e,t){return DSe(NCe,e,t)}const _Ce=Ie("ZodObject",(e,t)=>{_1e.init(e,t),Pn.init(e,t),zr(e,"shape",()=>t.shape),e.keyof=()=>nE(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Mv()}),e.loose=()=>e.clone({...e._zod.def,catchall:Mv()}),e.strict=()=>e.clone({...e._zod.def,catchall:ECe()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>Vbe(e,r),e.safeExtend=r=>Wbe(e,r),e.merge=r=>qbe(e,r),e.pick=r=>zbe(e,r),e.omit=r=>Ube(e,r),e.partial=(...r)=>Gbe(TG,e,r[0]),e.required=(...r)=>Ybe(PG,e,r[0])});function Ct(e,t){const r={type:"object",get shape(){return Zd(this,"shape",e?Lbe(e):{}),this.shape},...xt(t)};return new _Ce(r)}const ACe=Ie("ZodUnion",(e,t)=>{A1e.init(e,t),Pn.init(e,t),e.options=t.options});function kG(e,t){return new ACe({type:"union",options:e,...xt(t)})}const kCe=Ie("ZodIntersection",(e,t)=>{k1e.init(e,t),Pn.init(e,t)});function TCe(e,t){return new kCe({type:"intersection",left:e,right:t})}const PCe=Ie("ZodRecord",(e,t)=>{T1e.init(e,t),Pn.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function op(e,t,r){return new PCe({type:"record",keyType:e,valueType:t,...xt(r)})}const pC=Ie("ZodEnum",(e,t)=>{P1e.init(e,t),Pn.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,s)=>{const i={};for(const o of n)if(r.has(o))i[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new pC({...t,checks:[],...xt(s),entries:i})},e.exclude=(n,s)=>{const i={...t.entries};for(const o of n)if(r.has(o))delete i[o];else throw new Error(`Key ${o} not found in enum`);return new pC({...t,checks:[],...xt(s),entries:i})}});function nE(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new pC({type:"enum",entries:r,...xt(t)})}function DCe(e,t){return new pC({type:"enum",entries:e,...xt(t)})}const RCe=Ie("ZodLiteral",(e,t)=>{D1e.init(e,t),Pn.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function fl(e,t){return new RCe({type:"literal",values:Array.isArray(e)?e:[e],...xt(t)})}const MCe=Ie("ZodTransform",(e,t)=>{R1e.init(e,t),Pn.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new dG(e.constructor.name);r.addIssue=i=>{if(typeof i=="string")r.issues.push(Rv(i,r.value,t));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=e),r.issues.push(Rv(o))}};const s=t.transform(r.value,r);return s instanceof Promise?s.then(i=>(r.value=i,r)):(r.value=s,r)}});function OCe(e){return new MCe({type:"transform",transform:e})}const TG=Ie("ZodOptional",(e,t)=>{M1e.init(e,t),Pn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function c8(e){return new TG({type:"optional",innerType:e})}const ICe=Ie("ZodNullable",(e,t)=>{O1e.init(e,t),Pn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function d8(e){return new ICe({type:"nullable",innerType:e})}const LCe=Ie("ZodDefault",(e,t)=>{I1e.init(e,t),Pn.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function BCe(e,t){return new LCe({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():hG(t)}})}const $Ce=Ie("ZodPrefault",(e,t)=>{L1e.init(e,t),Pn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function FCe(e,t){return new $Ce({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():hG(t)}})}const PG=Ie("ZodNonOptional",(e,t)=>{B1e.init(e,t),Pn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function HCe(e,t){return new PG({type:"nonoptional",innerType:e,...xt(t)})}const zCe=Ie("ZodCatch",(e,t)=>{$1e.init(e,t),Pn.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function UCe(e,t){return new zCe({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const VCe=Ie("ZodPipe",(e,t)=>{F1e.init(e,t),Pn.init(e,t),e.in=t.in,e.out=t.out});function u8(e,t){return new VCe({type:"pipe",in:e,out:t})}const WCe=Ie("ZodReadonly",(e,t)=>{H1e.init(e,t),Pn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function qCe(e){return new WCe({type:"readonly",innerType:e})}const GCe=Ie("ZodCustom",(e,t)=>{z1e.init(e,t),Pn.init(e,t)});function YCe(e,t={}){return RSe(GCe,e,t)}function KCe(e){return MSe(e)}const gC={custom:"custom"},kd=st().regex(/^([01]?[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$/,"Time must be in HH:MM:SS format"),da=st().regex(/^\d{4}-\d{2}-\d{2}$/,"Date must be in YYYY-MM-DD format"),tl=st().datetime(),ZCe=Ct({emp_info_id:Et().optional(),daily_schedule_id:Et().optional(),skill_id:Et(),rating:st().optional(),is_required:_n().optional(),created_at:st(),updated_at:st()}),DG=Ct({id:Et(),name:st(),slug:st(),created_at:tl,updated_at:tl,pivot:ZCe.optional()}),XCe=Ct({id:Et(),description:st(),slug:st(),created_at:tl,updated_at:tl}),QCe=Ct({id:Et(),store_id:st(),full_name:st(),date_of_birth:tl,has_family:_n(),has_car:_n(),is_arabic_team:_n(),notes:st().nullable(),status:st(),created_at:tl,updated_at:tl,skills:dr(DG).optional()}),Gf=Ct({id:Et(),date_of_day:tl,emp_info_id:Et(),scheduled_start_time:kd,scheduled_end_time:kd,actual_start_time:kd.nullable(),actual_end_time:kd.nullable(),vci:_n().nullable(),status_id:Et(),agree_on_exception:_n(),exception_notes:st().nullable(),scheduled_hours:Et().optional(),created_at:tl,updated_at:tl,emp_info:QCe,status:XCe,required_skills:dr(DG)}),RG=Ct({valid:_n(),violations:dr(st())}),JCe=Ct({date:da,total_schedules:Et(),unique_employees:Et(),total_hours:Et(),schedules_with_exceptions:Et(),required_skills:dr(Et()),available_skills:dr(Et()),skill_coverage_complete:_n()}),MG=Ct({required_skills:dr(Et()),available_skills:dr(Et()),missing_skills:dr(Et()),fully_covered:_n()}),OG=Ct({employee_name:st(),total_scheduled_hours:Et(),max_weekly_hours:Et(),hours_remaining:Et(),is_over_limit:_n()}),eje=Ct({week_start:da,week_end:da,total_schedules:Et(),unique_employees:Et(),employees_scheduled:Et(),unique_dates:Et(),total_hours:Et(),validation_status:nE(["passed","failed"]),total_violations:Et(),skill_coverage_summary:op(st(),MG),hours_summary:op(st(),OG),conflicts_summary:dr(Mv())}),tje=Ct({valid:_n(),violations:dr(st()),skill_coverage:op(st(),MG),hours_summary:op(st(),OG),conflicts:dr(Mv())}),_0=Ct({emp_info_id:Et(),scheduled_start_time:kd,scheduled_end_time:kd,status_id:Et(),actual_start_time:kd.optional(),actual_end_time:kd.optional(),vci:_n().nullable().optional(),agree_on_exception:_n().optional(),exception_notes:st().optional(),required_skills:dr(Et()).optional()}).superRefine((e,t)=>{e.scheduled_end_time<=e.scheduled_start_time&&t.addIssue({code:gC.custom,message:"End time must be after start time",path:["scheduled_end_time"]})}),IG=Ct({id:Et(),skills:dr(Ct({id:Et()})),employment_info:Ct({max_weekly_hours:Et()}).optional()}),rje=_0.merge(Ct({employee:IG.optional()})),LG=Ct({date_of_day:da}).merge(_0),nje=Ct({date_of_day:da,schedules:dr(_0)}),sje=kG([Ct({date_of_day:da,schedules:dr(rje)}),Ct({date_of_day:da,employee:IG.optional()}).merge(_0)]),aje=Ct({weekly_schedule:dr(sje).superRefine((e,t)=>{if(e.length===0)return;const r=e.map(o=>new Date(o.date_of_day)),n=new Date(Math.min(...r.map(o=>o.getTime())));(new Date(Math.max(...r.map(o=>o.getTime()))).getTime()-n.getTime())/(1e3*60*60*24)>6&&t.addIssue({code:gC.custom,message:"All dates must fall within a 7-day work week",path:["weekly_schedule"]})})}),ije=Ct({date:da,total_schedules:Et(),total_employees:Et(),total_hours:Et(),required_skills:dr(Et()),available_skills:dr(Et()),missing_skills:dr(Et()),skill_coverage_complete:_n(),schedules:dr(Gf)}),oje=Ct({total_hours:Et(),total_actual_hours:Et(),schedules_with_exceptions:Et()}),lje=Ct({week_start:da,week_end:da,total_schedules:Et(),unique_employees:Et(),daily_analysis:op(st(),ije),week_totals:oje}),BG=Ct({data:Gf,validation_result:RG}),cje=Ct({data:dr(Gf),validation_result:RG,day_summary:JCe}),dje=Ct({success:fl(!0),message:st(),data:Ct({schedules:dr(Gf),week_summary:eje}),validation_result:tje}),uje=Ct({success:fl(!0),data:lje}),fje=Ct({start_date:da.optional(),end_date:da.optional(),emp_info_id:Et().optional()}),hje=Ct({date:da,emp_info_id:Et().optional()}),mje=Ct({date:da,emp_info_ids:dr(Et()).optional()}),pje=Ct({is_required:_n().optional()});Ct({status:Et(),message:st(),fieldErrors:op(st(),dr(st())).optional(),raw:Mv().optional()});Ct({weekly_schedule:dr(Ct({date_of_day:da,schedules:dr(_0.merge(Ct({employee_id:Et(),employee_skills:dr(Et()).optional()}))).superRefine((e,t)=>{const r=new Map;for(const n of e){r.has(n.emp_info_id)||r.set(n.emp_info_id,[]);const s=r.get(n.emp_info_id),i={start:n.scheduled_start_time,end:n.scheduled_end_time};for(const o of s)if(i.start<o.end&&i.end>o.start){t.addIssue({code:gC.custom,message:"Employee cannot have overlapping shifts on the same day",path:[e.indexOf(n)]});return}s.push(i)}})})).superRefine((e,t)=>{if(e.length===0)return;const r=e.map(o=>new Date(o.date_of_day)),n=new Date(Math.min(...r.map(o=>o.getTime())));(new Date(Math.max(...r.map(o=>o.getTime()))).getTime()-n.getTime())/(1e3*60*60*24)>6&&t.addIssue({code:gC.custom,message:"All dates must fall within a 7-day work week",path:["weekly_schedule"]})})});const ai=(e,t,r,n)=>({status:e,message:t,fieldErrors:r,raw:n}),gje=()=>{try{const t=Es.getState().auth?.token;return t||os()}catch(e){return console.error("Error retrieving auth token:",e),null}},xje=()=>{const e=St.create({baseURL:"http://127.0.0.1:8000/api/daily-schedules",timeout:3e4,headers:{Accept:"application/json","Content-Type":"application/json"}});return e.interceptors.request.use(t=>{const r=gje();return r&&(t.headers.Authorization=`Bearer ${r}`),t},t=>(console.error("Request interceptor error:",t),Promise.reject(t))),e.interceptors.response.use(t=>t,t=>Promise.reject(vje(t))),e},vje=e=>{if(St.isAxiosError(e)){const t=e.response?.status||0;let r=e.message,n;if(e.response?.data){const s=e.response.data;t===422&&s.errors?(r=s.message||"Validation failed",n=s.errors):s.message?r=s.message:typeof s=="string"&&(r=s)}return t===401?r="Authentication required. Please log in again.":t===403?r="You do not have permission to perform this action.":t===404?r="The requested resource was not found.":t===429?r="Too many requests. Please try again later.":t>=500?r="A server error occurred. Please try again later.":t===0&&(r="Network error. Please check your connection."),ai(t,r,n,e.response?.data)}return e instanceof Error?ai(0,e.message,void 0,e):ai(0,"An unexpected error occurred",void 0,e)},Co=xje(),jo=e=>({signal:e?.signal}),yje=async(e,t)=>{try{const r=e?fje.parse(e):{},n=new URLSearchParams;r.start_date&&n.append("start_date",r.start_date),r.end_date&&n.append("end_date",r.end_date),r.emp_info_id&&n.append("emp_info_id",r.emp_info_id.toString());const s=n.toString(),i=s?`/daily-schedules?${s}`:"/daily-schedules";return(await Co.get(i,jo(t))).data.map((d,u)=>{try{return Gf.parse(d)}catch(l){throw ai(500,`Invalid schedule data at index ${u}`,void 0,l)}})}catch(r){throw r instanceof Error&&"issues"in r?ai(400,"Parameter validation failed",void 0,r):r}},bje=async(e,t)=>{try{const r=await Co.get(`/daily-schedules/${e}`,jo(t));return Gf.parse(r.data)}catch(r){throw r}},wje=async(e,t)=>{try{const r=nje.parse(e),n=await Co.post("/daily-schedules",r,jo(t));return cje.parse(n.data)}catch(r){throw r instanceof Error&&"issues"in r?ai(400,"Request validation failed",void 0,r):r}},Sje=async(e,t)=>{try{const r=LG.parse(e),n=await Co.post("/daily-schedules",r,jo(t));return BG.parse(n.data)}catch(r){throw r instanceof Error&&"issues"in r?ai(400,"Request validation failed",void 0,r):r}},Cje=async(e,t,r)=>{try{const n=LG.parse(t),s=await Co.put(`/daily-schedules/${e}`,n,jo(r));return BG.parse(s.data)}catch(n){throw n instanceof Error&&"issues"in n?ai(400,"Request validation failed",void 0,n):n}},jje=async(e,t)=>{try{await Co.delete(`/daily-schedules/${e}`,jo(t))}catch(r){throw r}},Eje=async(e,t,r,n)=>{try{const s=r?pje.parse(r):{};await Co.post(`/daily-schedules/${e}/skills/${t}`,s,jo(n))}catch(s){throw s instanceof Error&&"issues"in s?ai(400,"Request validation failed",void 0,s):s}},Nje=async(e,t,r)=>{try{await Co.delete(`/daily-schedules/${e}/skills/${t}`,jo(r))}catch(n){throw n}},_je=async(e,t)=>{try{const r=hje.parse(e),n=new URLSearchParams;return n.append("date",r.date),r.emp_info_id&&n.append("emp_info_id",r.emp_info_id.toString()),(await Co.get(`/daily-schedules/weekly/0?${n.toString()}`,jo(t))).data.map((o,c)=>{try{return Gf.parse(o)}catch(d){throw ai(500,`Invalid schedule data at index ${c}`,void 0,d)}})}catch(r){throw r instanceof Error&&"issues"in r?ai(400,"Parameter validation failed",void 0,r):r}},f8={entities:{},listIds:[],lastListParams:null,lastValidationResult:null,lastDaySummary:null,loading:{list:!1,get:!1,createDay:!1,createSingle:!1,update:!1,delete:!1,attachSkill:!1,detachSkill:!1,weeklyView:!1},error:{list:null,get:null,createDay:null,createSingle:null,update:null,delete:null,attachSkill:null,detachSkill:null,weeklyView:null},selectedScheduleId:null,currentRequestIds:{}},qk=He("dailySchedules/list",async(e,{rejectWithValue:t,signal:r})=>{try{return await yje(e,{signal:r})}catch(n){return n&&typeof n=="object"&&"status"in n?t(n):t({status:0,message:n instanceof Error?n.message:"List operation failed",raw:n})}}),Gk=He("dailySchedules/get",async(e,{rejectWithValue:t,signal:r})=>{try{return await bje(e,{signal:r})}catch(n){return n&&typeof n=="object"&&"status"in n?t(n):t({status:0,message:n instanceof Error?n.message:"Get operation failed",raw:n})}}),Yk=He("dailySchedules/createDay",async(e,{rejectWithValue:t,signal:r})=>{try{return await wje(e,{signal:r})}catch(n){return n&&typeof n=="object"&&"status"in n?t(n):t({status:0,message:n instanceof Error?n.message:"Create day operation failed",raw:n})}}),Kk=He("dailySchedules/createSingle",async(e,{rejectWithValue:t,signal:r})=>{try{return await Sje(e,{signal:r})}catch(n){return n&&typeof n=="object"&&"status"in n?t(n):t({status:0,message:n instanceof Error?n.message:"Create single operation failed",raw:n})}}),Zk=He("dailySchedules/update",async({id:e,body:t},{rejectWithValue:r,signal:n})=>{try{return await Cje(e,t,{signal:n})}catch(s){return s&&typeof s=="object"&&"status"in s?r(s):r({status:0,message:s instanceof Error?s.message:"Update operation failed",raw:s})}}),Xk=He("dailySchedules/delete",async(e,{rejectWithValue:t,signal:r})=>{try{return await jje(e,{signal:r}),e}catch(n){return n&&typeof n=="object"&&"status"in n?t(n):t({status:0,message:n instanceof Error?n.message:"Delete operation failed",raw:n})}}),Qk=He("dailySchedules/attachSkill",async({dailyScheduleId:e,skillId:t,isRequired:r},{rejectWithValue:n,signal:s})=>{try{return await Eje(e,t,r!==void 0?{is_required:r}:void 0,{signal:s}),{dailyScheduleId:e,skillId:t}}catch(i){return i&&typeof i=="object"&&"status"in i?n(i):n({status:0,message:i instanceof Error?i.message:"Attach skill operation failed",raw:i})}}),Jk=He("dailySchedules/detachSkill",async({dailyScheduleId:e,skillId:t},{rejectWithValue:r,signal:n})=>{try{return await Nje(e,t,{signal:n}),{dailyScheduleId:e,skillId:t}}catch(s){return s&&typeof s=="object"&&"status"in s?r(s):r({status:0,message:s instanceof Error?s.message:"Detach skill operation failed",raw:s})}}),e2=He("dailySchedules/getWeekly",async(e,{rejectWithValue:t,signal:r})=>{try{return await _je(e,{signal:r})}catch(n){return n&&typeof n=="object"&&"status"in n?t(n):t({status:0,message:n instanceof Error?n.message:"Weekly view operation failed",raw:n})}}),$G=nr({name:"dailySchedules",initialState:f8,reducers:{clearErrors:e=>{Object.keys(e.error).forEach(t=>{e.error[t]=null})},clearOperationError:(e,t)=>{e.error[t.payload]=null},clearValidationResult:e=>{e.lastValidationResult=null},clearDaySummary:e=>{e.lastDaySummary=null},setSelectedSchedule:(e,t)=>{e.selectedScheduleId=t.payload},resetState:()=>f8,upsertScheduleEntity:(e,t)=>{const r=t.payload;e.entities[r.id]=r,e.listIds.includes(r.id)||e.listIds.push(r.id)},removeScheduleEntity:(e,t)=>{const r=t.payload;delete e.entities[r],e.listIds=e.listIds.filter(n=>n!==r),e.selectedScheduleId===r&&(e.selectedScheduleId=null)}},extraReducers:e=>{e.addCase(qk.pending,(t,r)=>{t.loading.list=!0,t.error.list=null,t.currentRequestIds.list=r.meta.requestId}).addCase(qk.fulfilled,(t,r)=>{const{requestId:n}=r.meta;if(t.loading.list&&t.currentRequestIds.list===n){t.loading.list=!1,t.currentRequestIds.list=null;const s=r.payload;t.entities={},t.listIds=[],s.forEach(i=>{t.entities[i.id]=i,t.listIds.push(i.id)}),t.error.list=null}}).addCase(qk.rejected,(t,r)=>{const{requestId:n}=r.meta;t.loading.list&&t.currentRequestIds.list===n&&(t.loading.list=!1,t.currentRequestIds.list=null,t.error.list=r.payload||{status:0,message:"List failed"})}),e.addCase(Gk.pending,t=>{t.loading.get=!0,t.error.get=null}).addCase(Gk.fulfilled,(t,r)=>{t.loading.get=!1;const n=r.payload;t.entities[n.id]=n,t.listIds.includes(n.id)||t.listIds.push(n.id),t.error.get=null}).addCase(Gk.rejected,(t,r)=>{t.loading.get=!1,t.error.get=r.payload||{status:0,message:"Get failed"}}),e.addCase(Yk.pending,t=>{t.loading.createDay=!0,t.error.createDay=null}).addCase(Yk.fulfilled,(t,r)=>{t.loading.createDay=!1;const n=r.payload;n.data.forEach(s=>{t.entities[s.id]=s,t.listIds.includes(s.id)||t.listIds.push(s.id)}),t.lastValidationResult=n.validation_result,t.lastDaySummary=n.day_summary,t.error.createDay=null}).addCase(Yk.rejected,(t,r)=>{t.loading.createDay=!1,t.error.createDay=r.payload||{status:0,message:"Create day failed"}}),e.addCase(Kk.pending,t=>{t.loading.createSingle=!0,t.error.createSingle=null}).addCase(Kk.fulfilled,(t,r)=>{t.loading.createSingle=!1;const n=r.payload,s=n.data;t.entities[s.id]=s,t.listIds.includes(s.id)||t.listIds.push(s.id),t.lastValidationResult=n.validation_result,t.error.createSingle=null}).addCase(Kk.rejected,(t,r)=>{t.loading.createSingle=!1,t.error.createSingle=r.payload||{status:0,message:"Create single failed"}}),e.addCase(Zk.pending,t=>{t.loading.update=!0,t.error.update=null}).addCase(Zk.fulfilled,(t,r)=>{t.loading.update=!1;const n=r.payload,s=n.data;t.entities[s.id]=s,t.lastValidationResult=n.validation_result,t.error.update=null}).addCase(Zk.rejected,(t,r)=>{t.loading.update=!1,t.error.update=r.payload||{status:0,message:"Update failed"}}),e.addCase(Xk.pending,t=>{t.loading.delete=!0,t.error.delete=null}).addCase(Xk.fulfilled,(t,r)=>{t.loading.delete=!1;const n=r.payload;delete t.entities[n],t.listIds=t.listIds.filter(s=>s!==n),t.selectedScheduleId===n&&(t.selectedScheduleId=null),t.error.delete=null}).addCase(Xk.rejected,(t,r)=>{t.loading.delete=!1,t.error.delete=r.payload||{status:0,message:"Delete failed"}}),e.addCase(Qk.pending,t=>{t.loading.attachSkill=!0,t.error.attachSkill=null}).addCase(Qk.fulfilled,t=>{t.loading.attachSkill=!1,t.error.attachSkill=null}).addCase(Qk.rejected,(t,r)=>{t.loading.attachSkill=!1,t.error.attachSkill=r.payload||{status:0,message:"Attach skill failed"}}),e.addCase(Jk.pending,t=>{t.loading.detachSkill=!0,t.error.detachSkill=null}).addCase(Jk.fulfilled,t=>{t.loading.detachSkill=!1,t.error.detachSkill=null}).addCase(Jk.rejected,(t,r)=>{t.loading.detachSkill=!1,t.error.detachSkill=r.payload||{status:0,message:"Detach skill failed"}}),e.addCase(e2.pending,t=>{t.loading.weeklyView=!0,t.error.weeklyView=null}).addCase(e2.fulfilled,(t,r)=>{t.loading.weeklyView=!1,r.payload.forEach(s=>{t.entities[s.id]=s,t.listIds.includes(s.id)||t.listIds.push(s.id)}),t.error.weeklyView=null}).addCase(e2.rejected,(t,r)=>{t.loading.weeklyView=!1,t.error.weeklyView=r.payload||{status:0,message:"Weekly view failed"}})}}),{clearErrors:Ugt,clearOperationError:Vgt,clearValidationResult:Wgt,clearDaySummary:qgt,setSelectedSchedule:Ggt,resetState:Ygt,upsertScheduleEntity:Kgt,removeScheduleEntity:Zgt}=$G.actions,Aje=$G.reducer,kje=async(e,t)=>{try{const r=aje.parse(e),n=await Co.post("/weekly-schedules/process",r,jo(t));return dje.parse(n.data)}catch(r){throw r instanceof Error&&"issues"in r?ai(400,"Request validation failed",void 0,r):r}},Tje=async(e,t)=>{try{const r=mje.parse(e),n=new URLSearchParams;n.append("date",r.date),r.emp_info_ids&&r.emp_info_ids.length>0&&r.emp_info_ids.forEach(o=>{n.append("emp_info_ids[]",o.toString())});const s=await Co.get(`/weekly-schedules/analysis?${n.toString()}`,jo(t));return uje.parse(s.data)}catch(r){throw r instanceof Error&&"issues"in r?ai(400,"Parameter validation failed",void 0,r):r}},h8={entities:{},ids:[],weekSummary:null,validationResult:null,analysis:null,loading:{processing:!1,analysis:!1},error:{processing:null,analysis:null},currentRequestId:null},t2=He("weeklySchedules/process",async(e,{rejectWithValue:t,signal:r})=>{try{return await kje(e,{signal:r})}catch(n){return n&&typeof n=="object"&&"status"in n?t(n):t({status:0,message:n instanceof Error?n.message:"An unexpected error occurred",raw:n})}}),r2=He("weeklySchedules/getAnalysis",async(e,{rejectWithValue:t,signal:r})=>{try{return await Tje(e,{signal:r})}catch(n){return n&&typeof n=="object"&&"status"in n?t(n):t({status:0,message:n instanceof Error?n.message:"An unexpected error occurred",raw:n})}}),FG=nr({name:"weeklySchedules",initialState:h8,reducers:{clearErrors:e=>{e.error.processing=null,e.error.analysis=null},clearProcessingError:e=>{e.error.processing=null},clearAnalysisError:e=>{e.error.analysis=null},clearValidationResult:e=>{e.validationResult=null},clearWeekSummary:e=>{e.weekSummary=null},clearAnalysis:e=>{e.analysis=null},resetState:()=>h8,updateScheduleEntity:(e,t)=>{const r=t.payload;e.entities[r.id]=r,e.ids.includes(r.id)||e.ids.push(r.id)},removeScheduleEntity:(e,t)=>{const r=t.payload;delete e.entities[r],e.ids=e.ids.filter(n=>n!==r)}},extraReducers:e=>{e.addCase(t2.pending,(t,r)=>{t.loading.processing=!0,t.error.processing=null,t.currentRequestId=r.meta.requestId}).addCase(t2.fulfilled,(t,r)=>{const{requestId:n}=r.meta;if(t.loading.processing&&t.currentRequestId===n){t.loading.processing=!1,t.currentRequestId=null;const s=r.payload;s.data.schedules.forEach(o=>{t.entities[o.id]=o,t.ids.includes(o.id)||t.ids.push(o.id)}),t.weekSummary=s.data.week_summary,t.validationResult=s.validation_result,t.error.processing=null}}).addCase(t2.rejected,(t,r)=>{const{requestId:n}=r.meta;t.loading.processing&&t.currentRequestId===n&&(t.loading.processing=!1,t.currentRequestId=null,t.error.processing=r.payload||{status:0,message:"Processing failed"})}),e.addCase(r2.pending,t=>{t.loading.analysis=!0,t.error.analysis=null}).addCase(r2.fulfilled,(t,r)=>{t.loading.analysis=!1,t.analysis=r.payload.data,t.error.analysis=null}).addCase(r2.rejected,(t,r)=>{t.loading.analysis=!1,t.error.analysis=r.payload||{status:0,message:"Analysis failed"}})}}),{clearErrors:Xgt,clearProcessingError:Qgt,clearAnalysisError:Jgt,clearValidationResult:ext,clearWeekSummary:txt,clearAnalysis:rxt,resetState:nxt,updateScheduleEntity:sxt,removeScheduleEntity:axt}=FG.actions,Pje=FG.reducer,ut={IDLE:"idle",LOADING:"loading",SUCCEEDED:"succeeded",FAILED:"failed"},HG=e=>/^\d{5}-\d{5}$/.test(e),zG=e=>/^\d{4}-\d{2}-\d{2}$/.test(e)&&!isNaN(Date.parse(e)),UG=e=>typeof e=="object"&&e!==null&&"message"in e&&typeof e.message=="string",Dje={maxAttempts:3,baseDelay:1e3,exponentialBackoff:!0},n2={baseURL:"https://testapipizza.pnefoods.com/api",timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"}};class Rje{axiosInstance;retryConfig;constructor(t=Dje){this.retryConfig=t,this.axiosInstance=this.createAxiosInstance(),this.setupInterceptors()}createAxiosInstance(){return St.create(n2)}setupInterceptors(){this.axiosInstance.interceptors.request.use(t=>{const r=os();return r&&t.headers&&(t.headers.Authorization=`Bearer ${r}`),t},t=>(console.error("[DSPR API] Request interceptor error:",t),Promise.reject(this.transformError(t)))),this.axiosInstance.interceptors.response.use(t=>t,t=>(console.error("[DSPR API] Response interceptor error:",t),Promise.reject(this.transformError(t))))}async fetchDsprReport(t){try{this.validateRequest(t);const r=this.buildApiUrl(t),n=await this.makeRequestWithRetry(r);return this.validateAndTransformResponse(n)}catch(r){const n=this.transformError(r);throw console.error("[DSPR API] Request failed:",{params:t,error:n}),n}}validateRequest(t){if(!HG(t.store))throw new Error(`Invalid store ID format: ${t.store}. Expected format: XXXXX-XXXXX`);if(!zG(t.date))throw new Error(`Invalid date format: ${t.date}. Expected format: YYYY-MM-DD`)}buildApiUrl(t){return`/dspr-report/${t.store}/${t.date}`}async makeRequestWithRetry(t){let r=null;for(let n=1;n<=this.retryConfig.maxAttempts;n++)try{return await this.axiosInstance.post(t)}catch(s){r=s;const i=n===this.retryConfig.maxAttempts;if(this.shouldNotRetry(s)||i)throw s;const o=this.calculateRetryDelay(n);console.warn(`[DSPR API] Request failed (attempt ${n}/${this.retryConfig.maxAttempts}). Retrying in ${o}ms...`,{error:s.message}),await this.delay(o)}throw r||new Error("Request failed after all retry attempts")}shouldNotRetry(t){if(!St.isAxiosError(t))return!1;const r=t.response?.status;return r&&r>=400&&r<500?r!==429&&r!==408:!1}calculateRetryDelay(t){const{baseDelay:r,exponentialBackoff:n}=this.retryConfig;return n?r*Math.pow(2,t-1):r}delay(t){return new Promise(r=>setTimeout(r,t))}validateAndTransformResponse(t){const{data:r,status:n}=t;if(n!==200)throw new Error(`Unexpected HTTP status: ${n}`);if(!r||typeof r!="object")throw new Error("Invalid response format: Expected object");if(!r["Filtering Values"])throw new Error("Invalid response format: Missing Filtering Values");if(!r.reports)throw new Error("Invalid response format: Missing reports");const{reports:s}=r;if(!s.daily)throw new Error("Invalid response format: Missing daily reports");return r}transformError(t){if(St.isAxiosError(t)){const r=t;return{status:r.response?.status,message:this.getAxiosErrorMessage(r),details:r.message,code:r.code}}return UG(t)?t:t instanceof Error?{message:t.message,details:t.stack,code:"GENERIC_ERROR"}:{message:"An unknown error occurred",details:String(t),code:"UNKNOWN_ERROR"}}getAxiosErrorMessage(t){if(t.response?.data){const r=t.response.data;if(r.message)return r.message;if(r.error)return r.error}if(t.code==="NETWORK_ERROR")return"Network error: Please check your internet connection";if(t.code==="TIMEOUT")return"Request timeout: The server took too long to respond";if(t.response?.status){const r=t.response.status;switch(r){case 400:return"Bad Request: Invalid request parameters";case 401:return"Unauthorized: Authentication required";case 403:return"Forbidden: Access denied";case 404:return"Not Found: The requested resource was not found";case 429:return"Rate Limited: Too many requests, please try again later";case 500:return"Internal Server Error: Please try again later";case 502:return"Bad Gateway: Server is temporarily unavailable";case 503:return"Service Unavailable: Server is temporarily down";default:return`HTTP Error ${r}: ${t.message}`}}return t.message||"An unexpected error occurred"}getConfig(){return{baseURL:n2.baseURL,timeout:n2.timeout,retryConfig:this.retryConfig}}async testConnectivity(){try{return await this.axiosInstance.get("/health",{timeout:5e3}),!0}catch(t){return console.error("[DSPR API] Connectivity test failed:",t),!1}}}const VG=new Rje,WG=5*60*1e3,m8={data:null,status:ut.IDLE,error:null,lastFetched:null,currentRequest:null,metadata:null,cache:{isFresh:!1,expiresAt:null,ttl:WG}},Zs=He("dsprApi/fetchData",async(e,{rejectWithValue:t,signal:r})=>{try{qje(e);const n=new AbortController;r.addEventListener("abort",()=>{n.abort()}),console.log("[DSPR API Slice] Starting API request",{store:e.params.store,date:e.params.date,requestId:pD(e)});const s=await VG.fetchDsprReport(e.params);return console.log("[DSPR API Slice] API request successful",{store:e.params.store,date:e.params.date,hasData:!!s,filteringValues:!!s?.["Filtering Values"],reports:!!s?.reports}),s}catch(n){console.error("[DSPR API Slice] API request failed",{store:e.params.store,date:e.params.date,error:n});const s=YG(n);return t(s)}}),Dd=He("dsprApi/refreshData",async(e,{dispatch:t,rejectWithValue:r})=>{try{return console.log("[DSPR API Slice] Refreshing data (cache bypass)",{store:e.params.store,date:e.params.date}),t(GG()),await VG.fetchDsprReport(e.params)}catch(n){const s=YG(n);return r(s)}}),qG=nr({name:"dsprApi",initialState:m8,reducers:{resetApiState:e=>{Object.assign(e,m8),console.log("[DSPR API Slice] API state reset")},clearError:e=>{e.error=null,e.status===ut.FAILED&&(e.status=ut.IDLE),console.log("[DSPR API Slice] Error state cleared")},clearCache:e=>{e.cache={isFresh:!1,expiresAt:null,ttl:WG},console.log("[DSPR API Slice] Cache cleared")},setCacheTTL:(e,t)=>{const r=t.payload;e.cache.ttl=r,e.lastFetched&&(e.cache.expiresAt=e.lastFetched+r,e.cache.isFresh=Date.now()<e.cache.expiresAt),console.log("[DSPR API Slice] Cache TTL updated",{newTTL:r})},invalidateCache:e=>{e.cache.isFresh=!1,e.cache.expiresAt=Date.now(),console.log("[DSPR API Slice] Cache invalidated")}},extraReducers:e=>{e.addCase(Zs.pending,(t,r)=>{const n=r.meta.arg,s=Date.now();t.status=ut.LOADING,t.error=null,t.currentRequest=n,t.metadata={requestStartTime:s,requestEndTime:null,duration:null,retryAttempts:0,requestId:pD(n)},console.log("[DSPR API Slice] Request started",{status:t.status,requestId:t.metadata.requestId})}).addCase(Zs.fulfilled,(t,r)=>{const n=Date.now(),s=r.payload;t.status=ut.SUCCEEDED,t.data=s,t.error=null,t.lastFetched=n,t.metadata&&(t.metadata.requestEndTime=n,t.metadata.duration=n-t.metadata.requestStartTime),t.cache={isFresh:!0,expiresAt:n+t.cache.ttl,ttl:t.cache.ttl},console.log("[DSPR API Slice] Request succeeded",{status:t.status,duration:t.metadata?.duration,dataSize:JSON.stringify(s).length,cacheExpiresAt:new Date(t.cache.expiresAt).toISOString()})}).addCase(Zs.rejected,(t,r)=>{const n=Date.now(),s=r.payload;t.status=ut.FAILED,t.error=s||{message:"Unknown error occurred",code:"UNKNOWN_ERROR"},t.data=null,t.metadata&&(t.metadata.requestEndTime=n,t.metadata.duration=n-t.metadata.requestStartTime),console.error("[DSPR API Slice] Request failed",{status:t.status,error:t.error,duration:t.metadata?.duration})}),e.addCase(Dd.pending,(t,r)=>{const n=r.meta.arg,s=Date.now();t.status=ut.LOADING,t.error=null,t.currentRequest=n,t.metadata={requestStartTime:s,requestEndTime:null,duration:null,retryAttempts:0,requestId:pD(n)+"_refresh"},console.log("[DSPR API Slice] Refresh started",{status:t.status,requestId:t.metadata.requestId})}).addCase(Dd.fulfilled,(t,r)=>{const n=Date.now(),s=r.payload;t.status=ut.SUCCEEDED,t.data=s,t.error=null,t.lastFetched=n,t.metadata&&(t.metadata.requestEndTime=n,t.metadata.duration=n-t.metadata.requestStartTime),t.cache={isFresh:!0,expiresAt:n+t.cache.ttl,ttl:t.cache.ttl},console.log("[DSPR API Slice] Refresh succeeded",{status:t.status,duration:t.metadata?.duration})}).addCase(Dd.rejected,(t,r)=>{const n=Date.now(),s=r.payload;t.status=ut.FAILED,t.error=s||{message:"Refresh failed with unknown error",code:"REFRESH_ERROR"},t.metadata&&(t.metadata.requestEndTime=n,t.metadata.duration=n-t.metadata.requestStartTime),console.error("[DSPR API Slice] Refresh failed",{status:t.status,error:t.error})})}}),{resetApiState:Mje,clearError:iw,clearCache:GG,setCacheTTL:p8,invalidateCache:Oje}=qG.actions,Ije=e=>e.dsprApi,Lje=e=>e.dsprApi.data,Bje=e=>e.dsprApi.status,$je=e=>e.dsprApi.error,Fje=e=>e.dsprApi.status===ut.LOADING,Hje=e=>e.dsprApi.cache,zje=e=>{const t=e.dsprApi.cache;return t.isFresh&&t.expiresAt&&Date.now()<t.expiresAt},Uje=e=>e.dsprApi.metadata,Vje=e=>e.dsprApi.data?.["Filtering Values"]||null,Wje=e=>e.dsprApi.data?.reports||null;function qje(e){if(!e.params.store||!e.params.date)throw new Error("Store and date parameters are required")}function pD(e){const{store:t,date:r}=e.params,n=Date.now();return`${t}_${r}_${n}`}function YG(e){return UG(e)?e:e instanceof Error?{message:e.message,details:e.stack,code:"REQUEST_ERROR"}:{message:"An unknown error occurred during the API request",details:String(e),code:"UNKNOWN_ERROR"}}const Gje=qG.reducer,ys={TOTAL_SALES:"Total_Sales",PHONE_SALES:"Phone_Sales",CALL_CENTER:"Call_Center_Agent",DRIVE_THRU:"Drive_Thru",WEBSITE:"Website",MOBILE:"Mobile"},Yje={MORNING:{startHour:6,endHour:11,label:"Morning (6AM-11AM)"},LUNCH:{startHour:11,endHour:14,label:"Lunch (11AM-2PM)"},AFTERNOON:{startHour:14,endHour:17,label:"Afternoon (2PM-5PM)"},DINNER:{startHour:17,endHour:21,label:"Dinner (5PM-9PM)"},LATE_NIGHT:{startHour:21,endHour:23,label:"Late Night (9PM-11PM)"},OVERNIGHT:{startHour:0,endHour:6,label:"Overnight (12AM-6AM)"}},Kje={minimumSalesThreshold:.01,excludedHours:[],includeZeroHours:!1,currencyPrecision:2,percentagePrecision:2},Zje=e=>!!(e.Total_Sales&&e.Total_Sales>0),DM=e=>Number.isInteger(e)&&e>=0&&e<=23,g8={rawData:null,processedData:null,summary:null,periodAnalysis:null,trends:null,validation:null,currentFilter:null,currentSort:"hour_asc",status:ut.IDLE,error:null,lastProcessed:null,config:Kje},KG=nr({name:"hourlySales",initialState:g8,reducers:{resetHourlySalesState:e=>{Object.assign(e,g8),console.log("[Hourly Sales] State reset")},clearHourlySalesError:e=>{e.error=null,e.status===ut.FAILED&&(e.status=ut.IDLE)},setHourlySalesFilter:(e,t)=>{e.currentFilter=t.payload,console.log("[Hourly Sales] Filter updated",t.payload),e.rawData&&(e.status=ut.LOADING)},setHourlySalesSort:(e,t)=>{e.currentSort=t.payload,console.log("[Hourly Sales] Sort updated",t.payload)},updateHourlySalesConfig:(e,t)=>{e.config={...e.config,...t.payload},console.log("[Hourly Sales] Configuration updated",t.payload),e.rawData&&(e.status=ut.LOADING)},reprocessHourlySalesData:e=>{e.rawData&&(e.status=ut.LOADING,e.error=null,console.log("[Hourly Sales] Manual reprocessing triggered"))}},extraReducers:e=>{e.addCase(Zs.fulfilled,(t,r)=>{try{t.status=ut.LOADING,t.error=null;const s=r.payload.reports?.daily?.dailyHourlySales;if(s){console.log("[Hourly Sales] Processing new data from API",{store:s.franchise_store,date:s.business_date,hourCount:s.hours.length}),t.rawData=s;const i=b8(s,t.config);t.processedData=i.processedData,t.summary=i.summary,t.periodAnalysis=i.periodAnalysis,t.trends=i.trends,t.validation=i.validation,t.lastProcessed=Date.now(),t.status=ut.SUCCEEDED,console.log("[Hourly Sales] Data processing completed",{processedHours:t.processedData?.length||0,totalSales:t.summary?.totalDailySales||0,activeHours:t.summary?.activeHours||0,validationScore:t.validation?.completeness||0})}else t.status=ut.FAILED,t.error="Hourly sales data not found in API response",console.warn("[Hourly Sales] No hourly sales data found in API response")}catch(n){t.status=ut.FAILED,t.error=n instanceof Error?n.message:"Failed to process hourly sales data",console.error("[Hourly Sales] Processing error:",n)}}).addCase(Dd.fulfilled,(t,r)=>{try{t.status=ut.LOADING,t.error=null;const s=r.payload.reports?.daily?.dailyHourlySales;if(s){console.log("[Hourly Sales] Processing refreshed data",{store:s.franchise_store,date:s.business_date}),t.rawData=s;const i=b8(s,t.config);t.processedData=i.processedData,t.summary=i.summary,t.periodAnalysis=i.periodAnalysis,t.trends=i.trends,t.validation=i.validation,t.lastProcessed=Date.now(),t.status=ut.SUCCEEDED,console.log("[Hourly Sales] Refresh processing completed")}else t.status=ut.FAILED,t.error="Hourly sales data not found in refreshed response"}catch(n){t.status=ut.FAILED,t.error=n instanceof Error?n.message:"Failed to process refreshed hourly sales data",console.error("[Hourly Sales] Refresh processing error:",n)}}).addCase(Zs.pending,t=>{t.status=ut.LOADING,t.error=null}).addCase(Zs.rejected,(t,r)=>{t.status=ut.FAILED,t.error="Failed to fetch DSPR data",t.rawData=null,t.processedData=null,t.summary=null,t.periodAnalysis=null,t.trends=null,t.validation=null})}}),{resetHourlySalesState:Xje,clearHourlySalesError:Qje,setHourlySalesFilter:x8,setHourlySalesSort:v8,updateHourlySalesConfig:y8,reprocessHourlySalesData:Jje}=KG.actions;function b8(e,t){console.log("[Hourly Sales] Starting data processing",{store:e.franchise_store,date:e.business_date,hourCount:e.hours.length});const r=e.hours.map((c,d)=>eEe(c,d)),n=rEe(e,r),s=sEe(r),i=aEe(r),o=iEe(e,r);return{processedData:r,summary:n,periodAnalysis:s,trends:i,validation:o}}function eEe(e,t,r){const n=e.Total_Sales||0,s=e.Order_Count||0,i=e.Website||0,o=e.Mobile||0,c=i+o;return{...e,hour:t,hasActivity:Zje(e),averageOrderValue:s>0?n/s:0,digitalSalesPercentage:n>0?c/n*100:0,primaryChannel:tEe(e)}}function tEe(e){const r=[{channel:ys.WEBSITE,value:e.Website||0},{channel:ys.MOBILE,value:e.Mobile||0},{channel:ys.PHONE_SALES,value:e.Phone_Sales||0},{channel:ys.DRIVE_THRU,value:e.Drive_Thru||0},{channel:ys.CALL_CENTER,value:e.Call_Center_Agent||0}].reduce((n,s)=>s.value>n.value?s:n);return r.value>0?r.channel:null}function rEe(e,t,r){const n=t.filter(l=>l.hasActivity),s=t.reduce((l,f)=>l+(f.Total_Sales||0),0),i=t.reduce((l,f)=>l+(f.Order_Count||0),0),o=t.reduce((l,f,p)=>(f.Total_Sales||0)>(l.sales||0)?{hour:p,sales:f.Total_Sales||0}:l,{hour:0,sales:0}),c=nEe(t,s),d=c.website.amount+c.mobile.amount,u=s>0?d/s*100:0;return{storeId:e.franchise_store,date:e.business_date,totalDailySales:s,totalOrderCount:i,averageOrderValue:i>0?s/i:0,peakSalesHour:o.hour,peakSalesAmount:o.sales,activeHours:n.length,digitalSalesPercentage:u,channelBreakdown:c}}function nEe(e,t){const r={phone:{amount:0,orderCount:0},callCenter:{amount:0,orderCount:0},driveThru:{amount:0,orderCount:0},website:{amount:0,orderCount:0},mobile:{amount:0,orderCount:0}};return e.forEach(n=>{if(r.phone.amount+=n.Phone_Sales||0,r.callCenter.amount+=n.Call_Center_Agent||0,r.driveThru.amount+=n.Drive_Thru||0,r.website.amount+=n.Website||0,r.mobile.amount+=n.Mobile||0,n.primaryChannel){const s=n.Order_Count||0;switch(n.primaryChannel){case ys.PHONE_SALES:r.phone.orderCount+=s;break;case ys.CALL_CENTER:r.callCenter.orderCount+=s;break;case ys.DRIVE_THRU:r.driveThru.orderCount+=s;break;case ys.WEBSITE:r.website.orderCount+=s;break;case ys.MOBILE:r.mobile.orderCount+=s;break}}}),{phone:{amount:r.phone.amount,percentage:t>0?r.phone.amount/t*100:0,orderCount:r.phone.orderCount,averageOrderValue:r.phone.orderCount>0?r.phone.amount/r.phone.orderCount:0},callCenter:{amount:r.callCenter.amount,percentage:t>0?r.callCenter.amount/t*100:0,orderCount:r.callCenter.orderCount,averageOrderValue:r.callCenter.orderCount>0?r.callCenter.amount/r.callCenter.orderCount:0},driveThru:{amount:r.driveThru.amount,percentage:t>0?r.driveThru.amount/t*100:0,orderCount:r.driveThru.orderCount,averageOrderValue:r.driveThru.orderCount>0?r.driveThru.amount/r.driveThru.orderCount:0},website:{amount:r.website.amount,percentage:t>0?r.website.amount/t*100:0,orderCount:r.website.orderCount,averageOrderValue:r.website.orderCount>0?r.website.amount/r.website.orderCount:0},mobile:{amount:r.mobile.amount,percentage:t>0?r.mobile.amount/t*100:0,orderCount:r.mobile.orderCount,averageOrderValue:r.mobile.orderCount>0?r.mobile.amount/r.mobile.orderCount:0}}}function sEe(e){return Object.values(Yje).map(t=>{const r=e.filter(c=>c.hour>=t.startHour&&c.hour<=t.endHour),n=r.reduce((c,d)=>c+(d.Total_Sales||0),0),s=r.reduce((c,d)=>c+(d.Order_Count||0),0),i=r.filter(c=>c.hasActivity),o=r.reduce((c,d)=>(d.Total_Sales||0)>(c.Total_Sales||0)?d:c);return{period:t,totalSales:n,totalOrders:s,averageOrderValue:s>0?n/s:0,percentageOfDaily:0,peakHour:o.hour,salesPerHour:i.length>0?n/i.length:0}})}function aEe(e){const t=e.reduce((r,n)=>r+(n.Total_Sales||0),0)/24;return e.map((r,n)=>{const s=r.Total_Sales||0,i=t>0?(s-t)/t*100:0;let o="stable";return i>10?o="up":i<-10&&(o="down"),{hour:n,currentSales:s,percentageChange:i,trend:o,aboveAverage:s>t}})}function iEe(e,t){const r=[],n=[];e.hours.length!==24&&r.push(`Expected 24 hours of data, got ${e.hours.length}`),t.filter(d=>d.hasActivity).length===0&&r.push("No active sales hours found"),t.reduce((d,u)=>d+(u.Total_Sales||0),0)===0&&n.push("Total daily sales is zero");const c=t.filter(d=>Object.keys(d).some(u=>u!=="hour"&&u!=="hasActivity"&&d[u]!==0)).length/24*100;return{isValid:r.length===0,errors:r,warnings:n,completeness:c}}const oEe=e=>e.hourlySales,lEe=e=>e.hourlySales.rawData,cEe=xe([e=>e.hourlySales.processedData,e=>e.hourlySales.currentFilter,e=>e.hourlySales.currentSort],(e,t,r)=>{if(!e)return null;let n=[...e];return t&&(n=gEe(n,t)),n=xEe(n,r),n}),dEe=e=>e.hourlySales.summary,uEe=e=>e.hourlySales.periodAnalysis,fEe=e=>e.hourlySales.trends,hEe=e=>e.hourlySales.validation,mEe=e=>e.hourlySales.status===ut.LOADING,pEe=e=>e.hourlySales.error;function gEe(e,t){return e.filter(r=>!(t.minSales!==void 0&&(r.Total_Sales||0)<t.minSales||t.maxSales!==void 0&&(r.Total_Sales||0)>t.maxSales||t.minOrders!==void 0&&(r.Order_Count||0)<t.minOrders||t.maxOrders!==void 0&&(r.Order_Count||0)>t.maxOrders||t.includeHours&&!t.includeHours.includes(r.hour)||t.excludeHours&&t.excludeHours.includes(r.hour)||t.activeOnly&&!r.hasActivity))}function xEe(e,t){return[...e].sort((r,n)=>{switch(t){case"hour_asc":return r.hour-n.hour;case"hour_desc":return n.hour-r.hour;case"sales_asc":return(r.Total_Sales||0)-(n.Total_Sales||0);case"sales_desc":return(n.Total_Sales||0)-(r.Total_Sales||0);case"orders_asc":return(r.Order_Count||0)-(n.Order_Count||0);case"orders_desc":return(n.Order_Count||0)-(r.Order_Count||0);default:return 0}})}const vEe=KG.reducer,Af={ON_TRACK:"OT",NOT_APPLICABLE:"NA"},fn={DOORDASH:"DoorDash",UBEREATS:"UberEats",GRUBHUB:"GrubHub"},Px={EXCELLENT:"Excellent",GOOD:"Good",FAIR:"Fair",POOR:"Poor",CRITICAL:"Critical"},Gl={A_PLUS:"A+",A:"A",B_PLUS:"B+",B:"B",C_PLUS:"C+",C:"C",D:"D",F:"F"},xC={INFO:"info",WARNING:"warning",ERROR:"error",CRITICAL:"critical"},vC={MEDIUM:"medium",HIGH:"high",URGENT:"urgent"},Ca={RATING:"rating",PERCENTAGE:"percentage",CURRENCY:"currency",TIME_MINUTES:"minutes",TIME_HOURS:"hours",RATIO:"ratio"},ja={STABLE:"stable"},yEe={performanceThresholds:{excellent:95,good:85,fair:70,poor:50},criticalMetrics:["DD_Ratings_Average_Rating","UE_Customer_reviews_overview","GH_Rating"],alertConfig:{enableAlerts:!0,maxAlerts:10,includePriorities:[vC.HIGH,vC.URGENT],monitoredPlatforms:[fn.DOORDASH,fn.UBEREATS,fn.GRUBHUB]},ratingScales:{doordash:{min:1,max:5,precision:2},ubereats:{min:1,max:5,precision:1},grubhub:{min:1,max:5,precision:2}}},A0=e=>e===Af.ON_TRACK,w8={rawData:null,processedData:null,currentFilter:null,config:yEe,alerts:[],platformMetrics:{[fn.DOORDASH]:null,[fn.UBEREATS]:null,[fn.GRUBHUB]:null},status:ut.IDLE,error:null,lastProcessed:null,lastAlertGeneration:null},ZG=nr({name:"dsqr",initialState:w8,reducers:{resetDSQRState:e=>{Object.assign(e,w8),console.log("[DSQR] State reset")},clearDSQRError:e=>{e.error=null,e.status===ut.FAILED&&(e.status=ut.IDLE)},setDSQRFilter:(e,t)=>{e.currentFilter=t.payload,console.log("[DSQR] Filter updated",t.payload)},updateDSQRConfig:(e,t)=>{e.config={...e.config,...t.payload},console.log("[DSQR] Configuration updated",t.payload),e.rawData&&(e.status=ut.LOADING)},dismissAlert:(e,t)=>{const r=t.payload;r>=0&&r<e.alerts.length&&(e.alerts.splice(r,1),console.log("[DSQR] Alert dismissed",{alertIndex:r}))},clearAllAlerts:e=>{e.alerts=[],console.log("[DSQR] All alerts cleared")},reprocessDSQRData:e=>{e.rawData&&(e.status=ut.LOADING,e.error=null,console.log("[DSQR] Manual reprocessing triggered"))}},extraReducers:e=>{e.addCase(Zs.fulfilled,(t,r)=>{try{t.status=ut.LOADING,t.error=null;const n=r.payload,s=n.reports?.daily?.dailyDSQRData;if(s){console.log("[DSQR] Processing new data from API",{hasScoreData:!!s.score,hasTrackingData:!!s.is_on_track,storeId:n["Filtering Values"]?.store}),t.rawData=s;const i=S8(s,n["Filtering Values"]?.store||"unknown",n["Filtering Values"]?.date||"unknown",t.config);t.processedData=i.processedData,t.alerts=i.alerts,t.platformMetrics=i.platformMetrics,t.lastProcessed=Date.now(),t.lastAlertGeneration=Date.now(),t.status=ut.SUCCEEDED,console.log("[DSQR] Data processing completed",{alertCount:t.alerts.length,overallPerformance:t.processedData?.overallSummary.overallPerformance||0,bestPlatform:t.processedData?.overallSummary.bestPlatform,criticalAlerts:t.alerts.filter(o=>o.severity===xC.CRITICAL).length})}else t.status=ut.FAILED,t.error="DSQR data not found in API response",console.warn("[DSQR] No DSQR data found in API response")}catch(n){t.status=ut.FAILED,t.error=n instanceof Error?n.message:"Failed to process DSQR data",console.error("[DSQR] Processing error:",n)}}).addCase(Dd.fulfilled,(t,r)=>{try{t.status=ut.LOADING,t.error=null;const n=r.payload,s=n.reports?.daily?.dailyDSQRData;if(s){console.log("[DSQR] Processing refreshed data"),t.rawData=s;const i=S8(s,n["Filtering Values"]?.store||"unknown",n["Filtering Values"]?.date||"unknown",t.config);t.processedData=i.processedData,t.alerts=i.alerts,t.platformMetrics=i.platformMetrics,t.lastProcessed=Date.now(),t.lastAlertGeneration=Date.now(),t.status=ut.SUCCEEDED,console.log("[DSQR] Refresh processing completed")}else t.status=ut.FAILED,t.error="DSQR data not found in refreshed response"}catch(n){t.status=ut.FAILED,t.error=n instanceof Error?n.message:"Failed to process refreshed DSQR data",console.error("[DSQR] Refresh processing error:",n)}}).addCase(Zs.pending,t=>{t.status=ut.LOADING,t.error=null}).addCase(Zs.rejected,(t,r)=>{t.status=ut.FAILED,t.error="Failed to fetch DSPR data",t.rawData=null,t.processedData=null,t.alerts=[],t.platformMetrics={[fn.DOORDASH]:null,[fn.UBEREATS]:null,[fn.GRUBHUB]:null}})}}),{resetDSQRState:ixt,clearDSQRError:oxt,setDSQRFilter:lxt,updateDSQRConfig:cxt,dismissAlert:dxt,clearAllAlerts:uxt,reprocessDSQRData:fxt}=ZG.actions;function S8(e,t,r,n){console.log("[DSQR] Starting data processing",{storeId:t,date:r});const s=bEe(e,n),i=jEe(s),o=NEe(e,s,n);return{processedData:{storeId:t,date:r,platforms:{doorDash:s[fn.DOORDASH],uberEats:s[fn.UBEREATS],grubHub:s[fn.GRUBHUB]},overallSummary:i,alerts:o},platformMetrics:s,alerts:o}}function bEe(e,t){const r={};return r[fn.DOORDASH]=wEe(e,t),r[fn.UBEREATS]=SEe(e,t),r[fn.GRUBHUB]=CEe(e,t),r}function wEe(e,t){const r=[{name:"DD_Ratings_Average_Rating",label:"Average Rating",value:e.score.DD_Ratings_Average_Rating,status:e.is_on_track.DD_NAOT_Ratings_Average_Rating,unit:Ca.RATING,isCritical:t.criticalMetrics.includes("DD_Ratings_Average_Rating"),target:4.5,trend:ja.STABLE},{name:"DD_Cancellations_Sales_Lost",label:"Sales Lost to Cancellations",value:e.score.DD_Cancellations_Sales_Lost,status:e.is_on_track.DD_NAOT_Cancellations_Sales_Lost,unit:Ca.CURRENCY,isCritical:!1,trend:ja.STABLE},{name:"DD_Missing_or_Incorrect_Error_Charges",label:"Error Charges",value:e.score.DD_Missing_or_Incorrect_Error_Charges,status:e.is_on_track.DD_NAOT_Missing_or_Incorrect_Error_Charges,unit:Ca.CURRENCY,isCritical:!1,trend:ja.STABLE},{name:"DD_Avoidable_Wait_M_Sec",label:"Avoidable Wait Time",value:e.score.DD_Avoidable_Wait_M_Sec,status:e.is_on_track.DD_NAOT_Avoidable_Wait_M_Sec,unit:Ca.TIME_MINUTES,isCritical:!1,target:2,trend:ja.STABLE},{name:"DD_Reviews_Responded",label:"Review Response Rate",value:e.score.DD_Reviews_Responded,status:Af.ON_TRACK,unit:Ca.PERCENTAGE,isCritical:!1,target:1,trend:ja.STABLE}],n=r.filter(o=>A0(o.status)),s=r.filter(o=>o.status!==Af.NOT_APPLICABLE),i=s.length>0?n.length/s.length*100:0;return{platform:fn.DOORDASH,overallRating:e.score.DD_Ratings_Average_Rating,kpis:r,onTrackCount:n.length,totalApplicableMetrics:s.length,performancePercentage:i,performanceLevel:RM(i,t)}}function SEe(e,t){const r=[{name:"UE_Customer_reviews_overview",label:"Customer Reviews",value:e.score.UE_Customer_reviews_overview,status:e.is_on_track.UE_NAOT_Customer_reviews_overview,unit:Ca.RATING,isCritical:t.criticalMetrics.includes("UE_Customer_reviews_overview"),target:4,trend:ja.STABLE},{name:"UE_Cost_of_Refunds",label:"Cost of Refunds",value:e.score.UE_Cost_of_Refunds,status:e.is_on_track.UE_NAOT_Cost_of_Refunds,unit:Ca.CURRENCY,isCritical:!1,trend:ja.STABLE},{name:"UE_Unfulfilled_order_rate",label:"Unfulfilled Order Rate",value:e.score.UE_Unfulfilled_order_rate,status:e.is_on_track.UE_NAOT_Unfulfilled_order_rate,unit:Ca.PERCENTAGE,isCritical:!1,target:.05,trend:ja.STABLE},{name:"UE_Time_unavailable_during_open_hours_hh_mm",label:"Unavailable Time",value:e.score.UE_Time_unavailable_during_open_hours_hh_mm,status:e.is_on_track.UE_NAOT_Time_unavailable_during_open_hours_hh_mm,unit:Ca.TIME_HOURS,isCritical:!1,target:0,trend:ja.STABLE},{name:"UE_Reviews_Responded",label:"Review Response Rate",value:e.score.UE_Reviews_Responded,status:Af.ON_TRACK,unit:Ca.PERCENTAGE,isCritical:!1,target:1,trend:ja.STABLE}],n=r.filter(o=>A0(o.status)),s=r.filter(o=>o.status!==Af.NOT_APPLICABLE),i=s.length>0?n.length/s.length*100:0;return{platform:fn.UBEREATS,overallRating:e.score.UE_Customer_reviews_overview,kpis:r,onTrackCount:n.length,totalApplicableMetrics:s.length,performancePercentage:i,performanceLevel:RM(i,t)}}function CEe(e,t){const r=[{name:"GH_Rating",label:"Overall Rating",value:e.score.GH_Rating,status:e.is_on_track.GH_NAOT_Rating,unit:Ca.RATING,isCritical:t.criticalMetrics.includes("GH_Rating"),target:4,trend:ja.STABLE},{name:"GH_Food_was_good",label:"Food Quality Rating",value:e.score.GH_Food_was_good,status:e.is_on_track.GH_NAOT_Food_was_good,unit:Ca.RATIO,isCritical:!1,target:.8,trend:ja.STABLE},{name:"GH_Delivery_was_on_time",label:"On-Time Delivery Rating",value:e.score.GH_Delivery_was_on_time,status:e.is_on_track.GH_NAOT_Delivery_was_on_time,unit:Ca.RATIO,isCritical:!1,target:.9,trend:ja.STABLE},{name:"GH_Order_was_accurate",label:"Order Accuracy Rating",value:e.score.GH_Order_was_accurate,status:e.is_on_track.GH_NAOT_Order_was_accurate,unit:Ca.RATIO,isCritical:!1,target:.85,trend:ja.STABLE}],n=r.filter(o=>A0(o.status)),s=r.filter(o=>o.status!==Af.NOT_APPLICABLE),i=s.length>0?n.length/s.length*100:0;return{platform:fn.GRUBHUB,overallRating:e.score.GH_Rating,kpis:r,onTrackCount:n.length,totalApplicableMetrics:s.length,performancePercentage:i,performanceLevel:RM(i,t)}}function RM(e,t){const r=t.performanceThresholds;return e>=r.excellent?Px.EXCELLENT:e>=r.good?Px.GOOD:e>=r.fair?Px.FAIR:e>=r.poor?Px.POOR:Px.CRITICAL}function jEe(e){const r=Object.values(e).filter(l=>l.totalApplicableMetrics>0);if(r.length===0)return{averageRating:0,totalOnTrack:0,totalApplicable:0,overallPerformance:0,bestPlatform:fn.DOORDASH,attentionRequired:fn.DOORDASH,performanceGrade:Gl.F};const n=r.reduce((l,f)=>l+f.overallRating,0)/r.length,s=r.reduce((l,f)=>l+f.onTrackCount,0),i=r.reduce((l,f)=>l+f.totalApplicableMetrics,0),o=i>0?s/i*100:0,c=r.reduce((l,f)=>f.performancePercentage>l.performancePercentage?f:l).platform,d=r.reduce((l,f)=>f.performancePercentage<l.performancePercentage?f:l).platform,u=EEe(o);return{averageRating:n,totalOnTrack:s,totalApplicable:i,overallPerformance:o,bestPlatform:c,attentionRequired:d,performanceGrade:u}}function EEe(e){return e>=97?Gl.A_PLUS:e>=93?Gl.A:e>=90?Gl.B_PLUS:e>=87?Gl.B:e>=83?Gl.C_PLUS:e>=80?Gl.C:e>=70?Gl.D:Gl.F}function NEe(e,t,r){if(!r.alertConfig.enableAlerts)return[];const n=[];return Object.values(t).forEach(i=>{i.kpis.forEach(o=>{if(!A0(o.status)&&o.status!==Af.NOT_APPLICABLE){const c=_Ee(i.platform,o);c&&r.alertConfig.includePriorities.includes(c.priority)&&n.push(c)}})}),n.sort((i,o)=>{const c={urgent:4,high:3,medium:2,low:1};return c[o.priority]-c[i.priority]}).slice(0,r.alertConfig.maxAlerts)}function _Ee(e,t,r){const n=t.isCritical?xC.CRITICAL:xC.WARNING,s=t.isCritical?vC.HIGH:vC.MEDIUM;let i=`${e} ${t.label} is not meeting targets`;const o=[];switch(e){case fn.DOORDASH:t.name==="DD_Ratings_Average_Rating"&&(o.push("Focus on order accuracy and delivery speed"),o.push("Review recent customer feedback for improvement areas"));break;case fn.UBEREATS:t.name==="UE_Customer_reviews_overview"&&(o.push("Improve food quality and packaging"),o.push("Reduce preparation time to maintain food temperature"));break;case fn.GRUBHUB:t.name==="GH_Rating"&&(o.push("Enhance overall service quality"),o.push("Monitor order fulfillment process"));break}return o.length===0&&(o.push("Review operational procedures"),o.push("Monitor metric closely for improvement")),{severity:n,platform:e,metric:t.name,message:i,currentValue:t.value,targetValue:t.target,recommendations:o,priority:s}}xe([e=>e.dsqr.platformMetrics,e=>e.dsqr.currentFilter],(e,t)=>{if(!t)return e;const r={};return Object.entries(e).forEach(([n,s])=>{if(t.platforms&&!t.platforms.includes(n)){r[n]=null;return}if(s){let i={...s};if(t.minRating&&s.overallRating<t.minRating){r[n]=null;return}t.offTrackOnly&&(i.kpis=i.kpis.filter(o=>!A0(o.status))),t.criticalOnly&&(i.kpis=i.kpis.filter(o=>o.isCritical)),r[n]=i}else r[n]=null}),r});const AEe=e=>e.dsqr.alerts;xe([AEe],e=>e.filter(t=>t.severity===xC.CRITICAL));const XG=e=>e.dsqr.processedData?.overallSummary;xe([XG],e=>e?.bestPlatform);xe([XG],e=>e?.attentionRequired);const kEe=ZG.reducer,jn={TRADITIONAL:"traditional",DIGITAL:"digital",DELIVERY:"delivery",PHONE:"phone",DRIVE_THRU:"drive_thru"},TEe={AVERAGE:"average"},Ii={A_PLUS:"A+",A:"A",B_PLUS:"B+",B:"B",C_PLUS:"C+",C:"C",D_PLUS:"D+",D:"D"},Dx={OUTSTANDING:"Outstanding",EXCEEDS_EXPECTATIONS:"Exceeds Expectations",MEETS_EXPECTATIONS:"Meets Expectations",BELOW_EXPECTATIONS:"Below Expectations",NEEDS_IMPROVEMENT:"Needs Improvement"},Zl={PREMIUM:"Premium",HIGH:"High",STANDARD:"Standard",BELOW_STANDARD:"Below Standard",CRITICAL:"Critical"},Xl={OPTIMAL:"Optimal",EFFICIENT:"Efficient",ACCEPTABLE:"Acceptable",CONCERNING:"Concerning",CRITICAL:"Critical"},qo={STRONG_UP:"strong_up",UP:"up",STABLE:"stable",DOWN:"down",STRONG_DOWN:"strong_down"},Zo={INFO:"info",WARNING:"warning",ERROR:"error",CRITICAL:"critical"},ti={FINANCIAL:"financial",OPERATIONAL:"operational",QUALITY:"quality",COST_CONTROL:"cost_control"},Lm={LOW:"low",MEDIUM:"medium",HIGH:"high",URGENT:"urgent"},ow={MINIMAL:"minimal",MODERATE:"moderate",HIGH:"high",SEVERE:"severe"},Rx={HIGHLY_SIGNIFICANT:"highly_significant",SIGNIFICANT:"significant",MODERATE:"moderate",MINOR:"minor",NEGLIGIBLE:"negligible"},PEe={targets:{laborCostTarget:.3,customerServiceTarget:.95,digitalSalesTarget:.65,portalUtilizationTarget:.95,wastePercentageTarget:.03,customerCountTarget:1},alertSettings:{enableAlerts:!0,maxAlertsPerAnalysis:8,minVarianceThreshold:.05,monitoredCategories:[ti.FINANCIAL,ti.OPERATIONAL,ti.QUALITY,ti.COST_CONTROL]},gradeWeights:{financial:.35,operational:.25,quality:.25,costControl:.15},costThresholds:{maxLaborPercentage:.35,maxWastePercentage:.05,cashVarianceRange:{min:-5,max:5}}},DEe=(e,t,r=.1)=>{const n=t*(1-r),s=t*(1+r);return e>=n&&e<=s},QG=(e,t)=>t===0?0:(e-t)/t*100,REe=e=>e>=10?qo.STRONG_UP:e>=2?qo.UP:e<=-10?qo.STRONG_DOWN:e<=-2?qo.DOWN:qo.STABLE,MEe={historical:{laborCost:.32,wastePercentage:.035,customerService:.92,digitalSalesPercent:.6},industry:{laborCost:.3,wastePercentage:.03,customerService:.95,digitalSalesPercent:.65},targets:{laborCost:.28,wastePercentage:.025,customerService:.97,digitalSalesPercent:.7}},C8={dailyRawData:null,dailyByDate:null,dailyPrevWeekRawData:null,weeklyRawData:null,processedData:null,config:PEe,alerts:[],status:ut.IDLE,error:null,lastProcessed:null,lastAlertGeneration:null,benchmarks:MEe},JG=nr({name:"dsprMetricsSlice",initialState:C8,reducers:{resetDSPRMetricsState:e=>{Object.assign(e,C8),console.log("[DSPR Metrics] State reset")},clearDSPRMetricsError:e=>{e.error=null,e.status===ut.FAILED&&(e.status=ut.IDLE)},updateDSPRMetricsConfig:(e,t)=>{e.config={...e.config,...t.payload},console.log("[DSPR Metrics] Configuration updated",t.payload),e.dailyRawData&&(e.status=ut.LOADING)},updateBenchmarks:(e,t)=>{e.benchmarks&&(e.benchmarks={...e.benchmarks,...t.payload},console.log("[DSPR Metrics] Benchmarks updated",t.payload),e.dailyRawData&&(e.status=ut.LOADING))},dismissOperationalAlert:(e,t)=>{const r=t.payload;r>=0&&r<e.alerts.length&&(e.alerts.splice(r,1),console.log("[DSPR Metrics] Alert dismissed",{alertIndex:r}))},clearAllOperationalAlerts:e=>{e.alerts=[],console.log("[DSPR Metrics] All alerts cleared")},reprocessDSPRMetricsData:e=>{e.dailyRawData&&(e.status=ut.LOADING,e.error=null,console.log("[DSPR Metrics] Manual reprocessing triggered"))}},extraReducers:e=>{e.addCase(Zs.fulfilled,(t,r)=>{try{t.status=ut.LOADING,t.error=null;const n=r.payload,s=n.reports?.daily?.dailyDSPRData,i=n.reports?.weekly?.DSPRData,o=n.reports?.weekly?.DailyDSPRByDate;let c=null,d=null,u=null;if(s&&(typeof s.Total_Sales=="number"?c=s:u=s),!u&&o&&(u=o),!c&&u){const l=n["Filtering Values"]?.date,f=l?u[l]:void 0;f&&typeof f!="string"?(c=f,d=f.PrevWeek??null):c=null}if(c&&u&&!d){const l=n["Filtering Values"]?.date,f=l?u[l]:void 0;f&&typeof f!="string"&&(d=f.PrevWeek??null)}if(c){console.log("[DSPR Metrics] Processing new data from API",{hasDaily:!!c,hasWeekly:!!i,storeId:n["Filtering Values"]?.store,totalSales:c.Total_Sales,laborCost:c.labor}),t.dailyRawData=c,t.dailyByDate=u,t.dailyPrevWeekRawData=d,t.weeklyRawData=i||null;const l=N8(c,i||null,n["Filtering Values"]?.store||"unknown",n["Filtering Values"]?.date||"unknown",t.config,t.benchmarks);t.processedData=l.processedData,t.alerts=l.alerts,t.lastProcessed=Date.now(),t.lastAlertGeneration=Date.now(),t.status=ut.SUCCEEDED,console.log("[DSPR Metrics] Data processing completed",{alertCount:t.alerts.length,overallGrade:t.processedData?.overallGrade,criticalAlerts:t.alerts.filter(f=>f.severity===Zo.CRITICAL).length,financialGrade:t.processedData?.daily.financial.performanceGrade,operationalScore:t.processedData?.daily.operational.efficiencyScore})}else t.status=ut.FAILED,t.error="DSPR metrics data not found in API response",console.warn("[DSPR Metrics] No DSPR metrics data found in API response")}catch(n){t.status=ut.FAILED,t.error=n instanceof Error?n.message:"Failed to process DSPR metrics data",console.error("[DSPR Metrics] Processing error:",n)}}).addCase(Dd.fulfilled,(t,r)=>{try{t.status=ut.LOADING,t.error=null;const n=r.payload,s=n.reports?.daily?.dailyDSPRData,i=n.reports?.weekly?.DSPRData,o=n.reports?.weekly?.DailyDSPRByDate;let c=null,d=null,u=null;if(s&&(typeof s.Total_Sales=="number"?c=s:u=s),!u&&o&&(u=o),!c&&u){const l=n["Filtering Values"]?.date,f=l?u[l]:void 0;f&&typeof f!="string"?(c=f,d=f.PrevWeek??null):c=null}if(c&&u&&!d){const l=n["Filtering Values"]?.date,f=l?u[l]:void 0;f&&typeof f!="string"&&(d=f.PrevWeek??null)}if(c){console.log("[DSPR Metrics] Processing refreshed data"),t.dailyRawData=c,t.dailyByDate=u,t.dailyPrevWeekRawData=d,t.weeklyRawData=i||null;const l=N8(c,i||null,n["Filtering Values"]?.store||"unknown",n["Filtering Values"]?.date||"unknown",t.config,t.benchmarks);t.processedData=l.processedData,t.alerts=l.alerts,t.lastProcessed=Date.now(),t.lastAlertGeneration=Date.now(),t.status=ut.SUCCEEDED,console.log("[DSPR Metrics] Refresh processing completed")}else t.status=ut.FAILED,t.error="DSPR metrics data not found in refreshed response"}catch(n){t.status=ut.FAILED,t.error=n instanceof Error?n.message:"Failed to process refreshed DSPR metrics data",console.error("[DSPR Metrics] Refresh processing error:",n)}}).addCase(Zs.pending,t=>{t.status=ut.LOADING,t.error=null}).addCase(Zs.rejected,(t,r)=>{t.status=ut.FAILED,t.error="Failed to fetch DSPR data",t.dailyRawData=null,t.weeklyRawData=null,t.processedData=null,t.alerts=[]})}}),{resetDSPRMetricsState:OEe,clearDSPRMetricsError:IEe,updateDSPRMetricsConfig:j8,updateBenchmarks:E8,dismissOperationalAlert:LEe,clearAllOperationalAlerts:BEe,reprocessDSPRMetricsData:$Ee}=JG.actions;function N8(e,t,r,n,s,i){console.log("[DSPR Metrics] Starting data processing",{storeId:r,date:n,hasWeekly:!!t});const o=eY(e,s),c=t?WEe(t,e,s):void 0,d=JEe(e,t,o,s),u=QEe(o,s);return{processedData:{storeId:r,date:n,daily:o,weekly:c,alerts:d,overallGrade:u},alerts:d}}function eY(e,t,r){const n=FEe(e,t),s=HEe(e),i=zEe(e),o=UEe(e),c=VEe(e,t);return{financial:n,operational:s,salesChannels:i,quality:o,costControl:c}}function FEe(e,t,r){const n=e.Total_Sales,s=e.Total_Cash_Sales,i=n*e.Digital_Sales_Percent,o=e.Customer_count;return{totalSales:n,cashSales:s,digitalSales:i,averageTicket:e.Avrage_ticket,tips:e.Total_TIPS,cashVariance:e.over_short,laborCostPercentage:e.labor,revenuePerCustomer:o>0?n/o:0,performanceGrade:GEe(e,t)}}function HEe(e,t,r){const n=e.Customer_count,s=n>0?e.Modified_Order_Qty/n:0,i=n>0?e.Refunded_order_Qty/n:0;return{customerCount:e.Customer_count,customerCountPercentage:e.Customer_count_percent,portalUtilization:e.Put_into_Portal_Percent,portalOnTimePercentage:e.In_Portal_on_Time_Percent,modificationRate:s,refundRate:i,efficiencyScore:YEe(e)}}function zEe(e,t){const r=e.Total_Sales,n=e.Total_Cash_Sales+e.Phone,s=lw(jn.TRADITIONAL,n,r,e.Customer_count*.3),i=e.Website+e.Mobile,o=lw(jn.DIGITAL,i,r,e.Customer_count*.4),c=e.DoorDash_Sales+e.UberEats_Sales+e.GrubHub_Sales,d=lw(jn.DELIVERY,c,r,e.Customer_count*.25),u=e.Phone+e.Call_Center_Agent,l=lw(jn.PHONE,u,r,e.Customer_count*.05),p=[s,o,d,l].reduce((g,x)=>x.sales>g.sales?x:g).channel;return{traditional:s,digital:o,delivery:d,phone:l,topChannel:p,digitalAdoptionRate:e.Digital_Sales_Percent}}function lw(e,t,r,n){return{channel:e,sales:t,percentage:r>0?t/r*100:0,orders:Math.round(n),averageOrderValue:n>0?t/n:0,trend:qo.STABLE,performanceLevel:TEe.AVERAGE}}function UEe(e,t,r){const n=e.Customer_count,s=n>0?e.Modified_Order_Qty/n:0,i=n>0?e.Refunded_order_Qty/n:0,o=Math.max(0,1-s-i);return{customerServiceScore:e.Customer_Service,orderAccuracy:o,serviceConsistency:e.In_Portal_on_Time_Percent,qualityGrade:KEe(e)}}function VEe(e,t,r){const n=e.waste_gateway+e.Waste_Alta,s=e.Total_Sales>0?n/e.Total_Sales:0;return{totalWaste:n,wastePercentage:s,laborEfficiency:ZEe(e,t),costControlGrade:XEe(e,t)}}function WEe(e,t,r,n){const s=eY(e,r),i=qEe(t,e);return{...s,trends:i}}function qEe(e,t){const r=t.Total_Sales/7,n=t.labor,s=t.Customer_count/7,i=(t.waste_gateway+t.Waste_Alta)/7,o=t.Digital_Sales_Percent;return{salesTrend:Mx("sales",e.Total_Sales,r),laborTrend:Mx("labor",e.labor,n),customerTrend:Mx("customers",e.Customer_count,s),wasteTrend:Mx("waste",e.waste_gateway+e.Waste_Alta,i),digitalTrend:Mx("digital",e.Digital_Sales_Percent,o)}}function Mx(e,t,r){const n=QG(t,r),s=REe(n);let i=Rx.NEGLIGIBLE;const o=Math.abs(n);return o>=20?i=Rx.HIGHLY_SIGNIFICANT:o>=10?i=Rx.SIGNIFICANT:o>=5?i=Rx.MODERATE:o>=2&&(i=Rx.MINOR),{metric:e,current:t,previous:r,percentageChange:n,direction:s,significance:i}}function GEe(e,t,r){const n=t.targets.laborCostTarget,s=Math.abs(e.labor-n);return s<=.02?Ii.A:s<=.05?Ii.B:s<=.08?Ii.C:Ii.D}function YEe(e,t,r){const n=e.Put_into_Portal_Percent*30,s=e.In_Portal_on_Time_Percent*30,i=e.Customer_Service*25,o=e.Customer_count_percent*15;return n+s+i+o}function KEe(e,t,r){const n=e.Customer_Service;return n>=.95?Zl.PREMIUM:n>=.9?Zl.HIGH:n>=.85?Zl.STANDARD:n>=.75?Zl.BELOW_STANDARD:Zl.CRITICAL}function ZEe(e,t,r){const n=t.targets.laborCostTarget,s=e.labor;return Math.max(0,n/s*100)}function XEe(e,t,r){const n=t.targets.laborCostTarget,s=t.targets.wastePercentageTarget,i=e.waste_gateway+e.Waste_Alta,o=e.Total_Sales>0?i/e.Total_Sales:0,c=DEe(e.labor,n,.1)?1:0,d=o<=s?1:0,u=Math.abs(e.over_short)<=5?1:0,l=(c+d+u)/3;return l>=.9?Xl.OPTIMAL:l>=.7?Xl.EFFICIENT:l>=.5?Xl.ACCEPTABLE:l>=.3?Xl.CONCERNING:Xl.CRITICAL}function QEe(e,t){const r=t.gradeWeights,n=u=>{switch(u){case Ii.A:case Ii.A_PLUS:case Zl.PREMIUM:case Xl.OPTIMAL:return 4;case Ii.B:case Ii.B_PLUS:case Zl.HIGH:case Xl.EFFICIENT:return 3;case Ii.C:case Ii.C_PLUS:case Zl.STANDARD:case Xl.ACCEPTABLE:return 2;case Ii.D:case Ii.D_PLUS:case Zl.BELOW_STANDARD:case Xl.CONCERNING:return 1;default:return 0}},s=n(e.financial.performanceGrade)*r.financial,i=e.operational.efficiencyScore/100*4*r.operational,o=n(e.quality.qualityGrade)*r.quality,c=n(e.costControl.costControlGrade)*r.costControl,d=s+i+o+c;return d>=3.5?Dx.OUTSTANDING:d>=3?Dx.EXCEEDS_EXPECTATIONS:d>=2.5?Dx.MEETS_EXPECTATIONS:d>=2?Dx.BELOW_EXPECTATIONS:Dx.NEEDS_IMPROVEMENT}function JEe(e,t,r,n){if(!n.alertSettings.enableAlerts)return[];const s=[];e.labor>n.costThresholds.maxLaborPercentage&&s.push(cw(ti.COST_CONTROL,"Labor Cost Exceeded","labor_cost",`Labor cost is ${(e.labor*100).toFixed(1)}%, above target of ${(n.targets.laborCostTarget*100).toFixed(1)}%`,e.labor,n.targets.laborCostTarget,["Review staffing schedules for optimization","Analyze peak hour coverage","Consider cross-training staff for flexibility"]));const i=e.waste_gateway+e.Waste_Alta,o=e.Total_Sales>0?i/e.Total_Sales:0;o>n.costThresholds.maxWastePercentage&&s.push(cw(ti.COST_CONTROL,"Waste Percentage High","waste_percentage",`Waste is ${(o*100).toFixed(2)}% of sales, above target of ${(n.targets.wastePercentageTarget*100).toFixed(2)}%`,o,n.targets.wastePercentageTarget,["Review inventory management procedures","Check food preparation processes","Analyze waste tracking accuracy"])),e.Customer_Service<n.targets.customerServiceTarget&&s.push(cw(ti.QUALITY,"Customer Service Below Target","customer_service",`Customer service score is ${(e.Customer_Service*100).toFixed(1)}%, below target of ${(n.targets.customerServiceTarget*100).toFixed(1)}%`,e.Customer_Service,n.targets.customerServiceTarget,["Review customer feedback for improvement areas","Provide additional staff training","Monitor service delivery processes"]));const c=Math.abs(e.over_short);return c>Math.max(Math.abs(n.costThresholds.cashVarianceRange.max),Math.abs(n.costThresholds.cashVarianceRange.min))&&s.push(cw(ti.FINANCIAL,"Cash Variance Issue","cash_variance",`Cash variance is $${c.toFixed(2)}, outside acceptable range`,e.over_short,0,["Review cash handling procedures","Check register reconciliation process","Audit cash management controls"])),s.filter(d=>n.alertSettings.monitoredCategories.includes(d.category)).sort((d,u)=>{const l={urgent:4,high:3,medium:2,low:1};return l[u.priority]-l[d.priority]}).slice(0,n.alertSettings.maxAlertsPerAnalysis)}function cw(e,t,r,n,s,i,o){const c=QG(s,i),d=Math.abs(c);let u=Zo.INFO,l=Lm.LOW,f=ow.MINIMAL;return d>=30?(u=Zo.CRITICAL,l=Lm.URGENT,f=ow.SEVERE):d>=20?(u=Zo.ERROR,l=Lm.HIGH,f=ow.HIGH):d>=10&&(u=Zo.WARNING,l=Lm.MEDIUM,f=ow.MODERATE),{severity:u,category:e,metric:r,title:t,message:n,currentValue:s,targetValue:i,variance:c,recommendations:o,priority:l,impact:f}}const eNe=e=>e.dsprMetrics,tNe=e=>e.dsprMetrics.dailyRawData,rNe=e=>e.dsprMetrics.weeklyRawData,nNe=e=>e.dsprMetrics.processedData,tY=e=>e.dsprMetrics.alerts,sNe=xe([tY],e=>e.filter(t=>t.severity===Zo.CRITICAL)),aNe=e=>e.dsprMetrics.processedData?.daily.financial,iNe=e=>e.dsprMetrics.processedData?.daily.operational,oNe=e=>e.dsprMetrics.processedData?.daily.salesChannels,lNe=e=>e.dsprMetrics.processedData?.daily.quality,cNe=e=>e.dsprMetrics.processedData?.daily.costControl,dNe=e=>e.dsprMetrics.processedData?.weekly?.trends,uNe=e=>e.dsprMetrics.processedData?.overallGrade,fNe=e=>e.dsprMetrics.status===ut.LOADING,hNe=e=>e.dsprMetrics.error,mNe=e=>e.dsprMetrics.benchmarks,pNe=e=>{const t=e.dsprMetrics.dailyRawData;return t?{totalTransactions:t.HNR_Transactions,promiseMetTransactions:t.HNR_Promise_Met_Transactions,promiseMetPercent:t.HNR_Promise_Met_Percent}:null},gNe=JG.reducer,Es=qW({reducer:{auth:Tge,permissions:Bge,roles:rxe,users:jxe,authRules:Yxe,serviceClients:Eve,positions:H0e,stores:Dve,userRolesStoresAssignment:e0e,roleHierarchy:v0e,statuses:tye,skills:wye,preferences:Hye,employees:sbe,schedulePreferences:xbe,employmentInformation:Mbe,dailySchedules:Aje,weeklySchedules:Pje,dsprApi:Gje,hourlySales:vEe,dsqr:kEe,dsprMetrics:gNe},middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE"]}})});var Ox={},_8;function xNe(){if(_8)return Ox;_8=1,Object.defineProperty(Ox,"__esModule",{value:!0}),Ox.parse=o,Ox.serialize=u;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,i=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function o(p,g){const x=new i,S=p.length;if(S<2)return x;const m=g?.decode||l;let y=0;do{const w=p.indexOf("=",y);if(w===-1)break;const C=p.indexOf(";",y),E=C===-1?S:C;if(w>E){y=p.lastIndexOf(";",w-1)+1;continue}const N=c(p,y,w),k=d(p,w,N),A=p.slice(N,k);if(x[A]===void 0){let T=c(p,w+1,E),P=d(p,E,T);const M=m(p.slice(T,P));x[A]=M}y=E+1}while(y<S);return x}function c(p,g,x){do{const S=p.charCodeAt(g);if(S!==32&&S!==9)return g}while(++g<x);return x}function d(p,g,x){for(;g>x;){const S=p.charCodeAt(--g);if(S!==32&&S!==9)return g+1}return x}function u(p,g,x){const S=x?.encode||encodeURIComponent;if(!e.test(p))throw new TypeError(`argument name is invalid: ${p}`);const m=S(g);if(!t.test(m))throw new TypeError(`argument val is invalid: ${g}`);let y=p+"="+m;if(!x)return y;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);y+="; Max-Age="+x.maxAge}if(x.domain){if(!r.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);y+="; Domain="+x.domain}if(x.path){if(!n.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);y+="; Path="+x.path}if(x.expires){if(!f(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);y+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(y+="; HttpOnly"),x.secure&&(y+="; Secure"),x.partitioned&&(y+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":y+="; Priority=Low";break;case"medium":y+="; Priority=Medium";break;case"high":y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":y+="; SameSite=Strict";break;case"lax":y+="; SameSite=Lax";break;case"none":y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return y}function l(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function f(p){return s.call(p)==="[object Date]"}return Ox}xNe();var A8="popstate";function vNe(e={}){function t(n,s){let{pathname:i,search:o,hash:c}=n.location;return gD("",{pathname:i,search:o,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ov(s)}return bNe(t,r,null,e)}function en(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Wi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yNe(){return Math.random().toString(36).substring(2,10)}function k8(e,t){return{usr:e.state,key:e.key,idx:t}}function gD(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?qp(t):t,state:r,key:t&&t.key||n||yNe()}}function Ov({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function qp(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function bNe(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,c="POP",d=null,u=l();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function l(){return(o.state||{idx:null}).idx}function f(){c="POP";let m=l(),y=m==null?null:m-u;u=m,d&&d({action:c,location:S.location,delta:y})}function p(m,y){c="PUSH";let w=gD(S.location,m,y);u=l()+1;let C=k8(w,u),E=S.createHref(w);try{o.pushState(C,"",E)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(E)}i&&d&&d({action:c,location:S.location,delta:1})}function g(m,y){c="REPLACE";let w=gD(S.location,m,y);u=l();let C=k8(w,u),E=S.createHref(w);o.replaceState(C,"",E),i&&d&&d({action:c,location:S.location,delta:0})}function x(m){return wNe(m)}let S={get action(){return c},get location(){return e(s,o)},listen(m){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(A8,f),d=m,()=>{s.removeEventListener(A8,f),d=null}},createHref(m){return t(s,m)},createURL:x,encodeLocation(m){let y=x(m);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:g,go(m){return o.go(m)}};return S}function wNe(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),en(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Ov(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function rY(e,t,r="/"){return SNe(e,t,r,!1)}function SNe(e,t,r,n){let s=typeof t=="string"?qp(t):t,i=mc(s.pathname||"/",r);if(i==null)return null;let o=nY(e);CNe(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let u=MNe(i);c=DNe(o[d],u,n)}return c}function nY(e,t=[],r=[],n=""){let s=(i,o,c)=>{let d={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};d.relativePath.startsWith("/")&&(en(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length));let u=cc([n,d.relativePath]),l=r.concat(d);i.children&&i.children.length>0&&(en(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),nY(i.children,t,l,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:TNe(u,i.index),routesMeta:l})};return e.forEach((i,o)=>{if(i.path===""||!i.path?.includes("?"))s(i,o);else for(let c of sY(i.path))s(i,o,c)}),t}function sY(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=sY(n.join("/")),c=[];return c.push(...o.map(d=>d===""?i:[i,d].join("/"))),s&&c.push(...o),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function CNe(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:PNe(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var jNe=/^:[\w-]+$/,ENe=3,NNe=2,_Ne=1,ANe=10,kNe=-2,T8=e=>e==="*";function TNe(e,t){let r=e.split("/"),n=r.length;return r.some(T8)&&(n+=kNe),t&&(n+=NNe),r.filter(s=>!T8(s)).reduce((s,i)=>s+(jNe.test(i)?ENe:i===""?_Ne:ANe),n)}function PNe(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function DNe(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",o=[];for(let c=0;c<n.length;++c){let d=n[c],u=c===n.length-1,l=i==="/"?t:t.slice(i.length)||"/",f=yC({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},l),p=d.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=yC({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},l)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:cc([i,f.pathname]),pathnameBase:BNe(cc([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=cc([i,f.pathnameBase]))}return o}function yC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=RNe(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:n.reduce((u,{paramName:l,isOptional:f},p)=>{if(l==="*"){let x=c[p]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const g=c[p];return f&&!g?u[l]=void 0:u[l]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function RNe(e,t=!1,r=!0){Wi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function MNe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Wi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function mc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function ONe(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?qp(e):e;return{pathname:r?r.startsWith("/")?r:INe(r,t):t,search:$Ne(n),hash:FNe(s)}}function INe(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function s2(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LNe(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function MM(e){let t=LNe(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function OM(e,t,r,n=!1){let s;typeof e=="string"?s=qp(e):(s={...e},en(!s.pathname||!s.pathname.includes("?"),s2("?","pathname","search",s)),en(!s.pathname||!s.pathname.includes("#"),s2("#","pathname","hash",s)),en(!s.search||!s.search.includes("#"),s2("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,c;if(o==null)c=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}c=f>=0?t[f]:"/"}let d=ONe(s,c),u=o&&o!=="/"&&o.endsWith("/"),l=(i||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(u||l)&&(d.pathname+="/"),d}var cc=e=>e.join("/").replace(/\/\/+/g,"/"),BNe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$Ne=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,FNe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function HNe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var aY=["POST","PUT","PATCH","DELETE"];new Set(aY);var zNe=["GET",...aY];new Set(zNe);var Gp=b.createContext(null);Gp.displayName="DataRouter";var sE=b.createContext(null);sE.displayName="DataRouterState";var iY=b.createContext({isTransitioning:!1});iY.displayName="ViewTransition";var UNe=b.createContext(new Map);UNe.displayName="Fetchers";var VNe=b.createContext(null);VNe.displayName="Await";var Eo=b.createContext(null);Eo.displayName="Navigation";var k0=b.createContext(null);k0.displayName="Location";var No=b.createContext({outlet:null,matches:[],isDataRoute:!1});No.displayName="Route";var IM=b.createContext(null);IM.displayName="RouteError";function WNe(e,{relative:t}={}){en(Yp(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=b.useContext(Eo),{hash:s,pathname:i,search:o}=T0(e,{relative:t}),c=i;return r!=="/"&&(c=i==="/"?r:cc([r,i])),n.createHref({pathname:c,search:o,hash:s})}function Yp(){return b.useContext(k0)!=null}function Fs(){return en(Yp(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(k0).location}var oY="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lY(e){b.useContext(Eo).static||b.useLayoutEffect(e)}function Ot(){let{isDataRoute:e}=b.useContext(No);return e?s_e():qNe()}function qNe(){en(Yp(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(Gp),{basename:t,navigator:r}=b.useContext(Eo),{matches:n}=b.useContext(No),{pathname:s}=Fs(),i=JSON.stringify(MM(n)),o=b.useRef(!1);return lY(()=>{o.current=!0}),b.useCallback((d,u={})=>{if(Wi(o.current,oY),!o.current)return;if(typeof d=="number"){r.go(d);return}let l=OM(d,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(l.pathname=l.pathname==="/"?t:cc([t,l.pathname])),(u.replace?r.replace:r.push)(l,u.state,u)},[t,r,i,s,e])}b.createContext(null);function Ia(){let{matches:e}=b.useContext(No),t=e[e.length-1];return t?t.params:{}}function T0(e,{relative:t}={}){let{matches:r}=b.useContext(No),{pathname:n}=Fs(),s=JSON.stringify(MM(r));return b.useMemo(()=>OM(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function GNe(e,t){return cY(e,t)}function cY(e,t,r,n){en(Yp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=b.useContext(Eo),{matches:i}=b.useContext(No),o=i[i.length-1],c=o?o.params:{},d=o?o.pathname:"/",u=o?o.pathnameBase:"/",l=o&&o.route;{let y=l&&l.path||"";dY(d,!l||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let f=Fs(),p;if(t){let y=typeof t=="string"?qp(t):t;en(u==="/"||y.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${y.pathname}" was given in the \`location\` prop.`),p=y}else p=f;let g=p.pathname||"/",x=g;if(u!=="/"){let y=u.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(y.length).join("/")}let S=rY(e,{pathname:x});Wi(l||S!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Wi(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let m=QNe(S&&S.map(y=>Object.assign({},y,{params:Object.assign({},c,y.params),pathname:cc([u,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:cc([u,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return t&&m?b.createElement(k0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},m):m}function YNe(){let e=n_e(),t=HNe(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:i},"ErrorBoundary")," or"," ",b.createElement("code",{style:i},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:s},r):null,o)}var KNe=b.createElement(YNe,null),ZNe=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?b.createElement(No.Provider,{value:this.props.routeContext},b.createElement(IM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function XNe({routeContext:e,match:t,children:r}){let n=b.useContext(Gp);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(No.Provider,{value:e},r)}function QNe(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,i=r?.errors;if(i!=null){let d=s.findIndex(u=>u.route.id&&i?.[u.route.id]!==void 0);en(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let o=!1,c=-1;if(r)for(let d=0;d<s.length;d++){let u=s[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=d),u.route.id){let{loaderData:l,errors:f}=r,p=u.route.loader&&!l.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||p){o=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,u,l)=>{let f,p=!1,g=null,x=null;r&&(f=i&&u.route.id?i[u.route.id]:void 0,g=u.route.errorElement||KNe,o&&(c<0&&l===0?(dY("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,x=null):c===l&&(p=!0,x=u.route.hydrateFallbackElement||null)));let S=t.concat(s.slice(0,l+1)),m=()=>{let y;return f?y=g:p?y=x:u.route.Component?y=b.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=d,b.createElement(XNe,{match:u,routeContext:{outlet:d,matches:S,isDataRoute:r!=null},children:y})};return r&&(u.route.ErrorBoundary||u.route.errorElement||l===0)?b.createElement(ZNe,{location:r.location,revalidation:r.revalidation,component:g,error:f,children:m(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):m()},null)}function LM(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JNe(e){let t=b.useContext(Gp);return en(t,LM(e)),t}function e_e(e){let t=b.useContext(sE);return en(t,LM(e)),t}function t_e(e){let t=b.useContext(No);return en(t,LM(e)),t}function BM(e){let t=t_e(e),r=t.matches[t.matches.length-1];return en(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function r_e(){return BM("useRouteId")}function n_e(){let e=b.useContext(IM),t=e_e("useRouteError"),r=BM("useRouteError");return e!==void 0?e:t.errors?.[r]}function s_e(){let{router:e}=JNe("useNavigate"),t=BM("useNavigate"),r=b.useRef(!1);return lY(()=>{r.current=!0}),b.useCallback(async(s,i={})=>{Wi(r.current,oY),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var P8={};function dY(e,t,r){!t&&!P8[e]&&(P8[e]=!0,Wi(!1,r))}b.memo(a_e);function a_e({routes:e,future:t,state:r}){return cY(e,void 0,r,t)}function bC({to:e,replace:t,state:r,relative:n}){en(Yp(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=b.useContext(Eo);Wi(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=b.useContext(No),{pathname:o}=Fs(),c=Ot(),d=OM(e,MM(i),o,n==="path"),u=JSON.stringify(d);return b.useEffect(()=>{c(JSON.parse(u),{replace:t,state:r,relative:n})},[c,u,n,t,r]),null}function Dt(e){en(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function i_e({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){en(!Yp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof r=="string"&&(r=qp(r));let{pathname:d="/",search:u="",hash:l="",state:f=null,key:p="default"}=r,g=b.useMemo(()=>{let x=mc(d,o);return x==null?null:{location:{pathname:x,search:u,hash:l,state:f,key:p},navigationType:n}},[o,d,u,l,f,p,n]);return Wi(g!=null,`<Router basename="${o}"> is not able to match the URL "${d}${u}${l}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:b.createElement(Eo.Provider,{value:c},b.createElement(k0.Provider,{children:t,value:g}))}function o_e({children:e,location:t}){return GNe(xD(e),t)}function xD(e,t=[]){let r=[];return b.Children.forEach(e,(n,s)=>{if(!b.isValidElement(n))return;let i=[...t,s];if(n.type===b.Fragment){r.push.apply(r,xD(n.props.children,i));return}en(n.type===Dt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),en(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=xD(n.props.children,i)),r.push(o)}),r}var MS="get",OS="application/x-www-form-urlencoded";function aE(e){return e!=null&&typeof e.tagName=="string"}function l_e(e){return aE(e)&&e.tagName.toLowerCase()==="button"}function c_e(e){return aE(e)&&e.tagName.toLowerCase()==="form"}function d_e(e){return aE(e)&&e.tagName.toLowerCase()==="input"}function u_e(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function f_e(e,t){return e.button===0&&(!t||t==="_self")&&!u_e(e)}function vD(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function h_e(e,t){let r=vD(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}var dw=null;function m_e(){if(dw===null)try{new FormData(document.createElement("form"),0),dw=!1}catch{dw=!0}return dw}var p_e=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function a2(e){return e!=null&&!p_e.has(e)?(Wi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${OS}"`),null):e}function g_e(e,t){let r,n,s,i,o;if(c_e(e)){let c=e.getAttribute("action");n=c?mc(c,t):null,r=e.getAttribute("method")||MS,s=a2(e.getAttribute("enctype"))||OS,i=new FormData(e)}else if(l_e(e)||d_e(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||c.getAttribute("action");if(n=d?mc(d,t):null,r=e.getAttribute("formmethod")||c.getAttribute("method")||MS,s=a2(e.getAttribute("formenctype"))||a2(c.getAttribute("enctype"))||OS,i=new FormData(c,e),!m_e()){let{name:u,type:l,value:f}=e;if(l==="image"){let p=u?`${u}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else u&&i.append(u,f)}}else{if(aE(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=MS,n=null,s=OS,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:o}}function $M(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function x_e(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function v_e(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function y_e(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await x_e(i,r);return o.links?o.links():[]}return[]}));return C_e(n.flat(1).filter(v_e).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function D8(e,t,r,n,s,i){let o=(d,u)=>r[u]?d.route.id!==r[u].route.id:!0,c=(d,u)=>r[u].pathname!==d.pathname||r[u].route.path?.endsWith("*")&&r[u].params["*"]!==d.params["*"];return i==="assets"?t.filter((d,u)=>o(d,u)||c(d,u)):i==="data"?t.filter((d,u)=>{let l=n.routes[d.route.id];if(!l||!l.hasLoader)return!1;if(o(d,u)||c(d,u))return!0;if(d.route.shouldRevalidate){let f=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function b_e(e,t,{includeHydrateFallback:r}={}){return w_e(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function w_e(e){return[...new Set(e)]}function S_e(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function C_e(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(S_e(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var j_e=new Set([100,101,204,205]);function E_e(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&mc(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function uY(){let e=b.useContext(Gp);return $M(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function N_e(){let e=b.useContext(sE);return $M(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var FM=b.createContext(void 0);FM.displayName="FrameworkContext";function fY(){let e=b.useContext(FM);return $M(e,"You must render this element inside a <HydratedRouter> element"),e}function __e(e,t){let r=b.useContext(FM),[n,s]=b.useState(!1),[i,o]=b.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:u,onMouseLeave:l,onTouchStart:f}=t,p=b.useRef(null);b.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let S=y=>{y.forEach(w=>{o(w.isIntersecting)})},m=new IntersectionObserver(S,{threshold:.5});return p.current&&m.observe(p.current),()=>{m.disconnect()}}},[e]),b.useEffect(()=>{if(n){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[n]);let g=()=>{s(!0)},x=()=>{s(!1),o(!1)};return r?e!=="intent"?[i,p,{}]:[i,p,{onFocus:Ix(c,g),onBlur:Ix(d,x),onMouseEnter:Ix(u,g),onMouseLeave:Ix(l,x),onTouchStart:Ix(f,g)}]:[!1,p,{}]}function Ix(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function A_e({page:e,...t}){let{router:r}=uY(),n=b.useMemo(()=>rY(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?b.createElement(T_e,{page:e,matches:n,...t}):null}function k_e(e){let{manifest:t,routeModules:r}=fY(),[n,s]=b.useState([]);return b.useEffect(()=>{let i=!1;return y_e(e,t,r).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,r]),n}function T_e({page:e,matches:t,...r}){let n=Fs(),{manifest:s,routeModules:i}=fY(),{basename:o}=uY(),{loaderData:c,matches:d}=N_e(),u=b.useMemo(()=>D8(e,t,d,s,n,"data"),[e,t,d,s,n]),l=b.useMemo(()=>D8(e,t,d,s,n,"assets"),[e,t,d,s,n]),f=b.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let x=new Set,S=!1;if(t.forEach(y=>{let w=s.routes[y.route.id];!w||!w.hasLoader||(!u.some(C=>C.route.id===y.route.id)&&y.route.id in c&&i[y.route.id]?.shouldRevalidate||w.hasClientLoader?S=!0:x.add(y.route.id))}),x.size===0)return[];let m=E_e(e,o);return S&&x.size>0&&m.searchParams.set("_routes",t.filter(y=>x.has(y.route.id)).map(y=>y.route.id).join(",")),[m.pathname+m.search]},[o,c,n,s,u,t,e,i]),p=b.useMemo(()=>b_e(l,s),[l,s]),g=k_e(l);return b.createElement(b.Fragment,null,f.map(x=>b.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...r})),p.map(x=>b.createElement("link",{key:x,rel:"modulepreload",href:x,...r})),g.map(({key:x,link:S})=>b.createElement("link",{key:x,...S})))}function P_e(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var hY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hY&&(window.__reactRouterVersion="7.6.3")}catch{}function D_e({basename:e,children:t,window:r}){let n=b.useRef();n.current==null&&(n.current=vNe({window:r,v5Compat:!0}));let s=n.current,[i,o]=b.useState({action:s.action,location:s.location}),c=b.useCallback(d=>{b.startTransition(()=>o(d))},[o]);return b.useLayoutEffect(()=>s.listen(c),[s,c]),b.createElement(i_e,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var mY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pc=b.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:o,state:c,target:d,to:u,preventScrollReset:l,viewTransition:f,...p},g){let{basename:x}=b.useContext(Eo),S=typeof u=="string"&&mY.test(u),m,y=!1;if(typeof u=="string"&&S&&(m=u,hY))try{let P=new URL(window.location.href),M=u.startsWith("//")?new URL(P.protocol+u):new URL(u),O=mc(M.pathname,x);M.origin===P.origin&&O!=null?u=O+M.search+M.hash:y=!0}catch{Wi(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=WNe(u,{relative:s}),[C,E,N]=__e(n,p),k=I_e(u,{replace:o,state:c,target:d,preventScrollReset:l,relative:s,viewTransition:f});function A(P){t&&t(P),P.defaultPrevented||k(P)}let T=b.createElement("a",{...p,...N,href:m||w,onClick:y||i?t:A,ref:P_e(g,E),target:d,"data-discover":!S&&r==="render"?"true":void 0});return C&&!S?b.createElement(b.Fragment,null,T,b.createElement(A_e,{page:w})):T});pc.displayName="Link";var R_e=b.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:o,viewTransition:c,children:d,...u},l){let f=T0(o,{relative:u.relative}),p=Fs(),g=b.useContext(sE),{navigator:x,basename:S}=b.useContext(Eo),m=g!=null&&H_e(f)&&c===!0,y=x.encodeLocation?x.encodeLocation(f).pathname:f.pathname,w=p.pathname,C=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(w=w.toLowerCase(),C=C?C.toLowerCase():null,y=y.toLowerCase()),C&&S&&(C=mc(C,S)||C);const E=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let N=w===y||!s&&w.startsWith(y)&&w.charAt(E)==="/",k=C!=null&&(C===y||!s&&C.startsWith(y)&&C.charAt(y.length)==="/"),A={isActive:N,isPending:k,isTransitioning:m},T=N?t:void 0,P;typeof n=="function"?P=n(A):P=[n,N?"active":null,k?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let M=typeof i=="function"?i(A):i;return b.createElement(pc,{...u,"aria-current":T,className:P,ref:l,style:M,to:o,viewTransition:c},typeof d=="function"?d(A):d)});R_e.displayName="NavLink";var M_e=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:o=MS,action:c,onSubmit:d,relative:u,preventScrollReset:l,viewTransition:f,...p},g)=>{let x=$_e(),S=F_e(c,{relative:u}),m=o.toLowerCase()==="get"?"get":"post",y=typeof c=="string"&&mY.test(c),w=C=>{if(d&&d(C),C.defaultPrevented)return;C.preventDefault();let E=C.nativeEvent.submitter,N=E?.getAttribute("formmethod")||o;x(E||C.currentTarget,{fetcherKey:t,method:N,navigate:r,replace:s,state:i,relative:u,preventScrollReset:l,viewTransition:f})};return b.createElement("form",{ref:g,method:m,action:S,onSubmit:n?d:w,...p,"data-discover":!y&&e==="render"?"true":void 0})});M_e.displayName="Form";function O_e(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pY(e){let t=b.useContext(Gp);return en(t,O_e(e)),t}function I_e(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:o}={}){let c=Ot(),d=Fs(),u=T0(e,{relative:i});return b.useCallback(l=>{if(f_e(l,t)){l.preventDefault();let f=r!==void 0?r:Ov(d)===Ov(u);c(e,{replace:f,state:n,preventScrollReset:s,relative:i,viewTransition:o})}},[d,c,u,r,n,t,e,s,i,o])}function gY(e){Wi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=b.useRef(vD(e)),r=b.useRef(!1),n=Fs(),s=b.useMemo(()=>h_e(n.search,r.current?null:t.current),[n.search]),i=Ot(),o=b.useCallback((c,d)=>{const u=vD(typeof c=="function"?c(s):c);r.current=!0,i("?"+u,d)},[i,s]);return[s,o]}var L_e=0,B_e=()=>`__${String(++L_e)}__`;function $_e(){let{router:e}=pY("useSubmit"),{basename:t}=b.useContext(Eo),r=r_e();return b.useCallback(async(n,s={})=>{let{action:i,method:o,encType:c,formData:d,body:u}=g_e(n,t);if(s.navigate===!1){let l=s.fetcherKey||B_e();await e.fetch(l,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:d,body:u,formMethod:s.method||o,formEncType:s.encType||c,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:d,body:u,formMethod:s.method||o,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function F_e(e,{relative:t}={}){let{basename:r}=b.useContext(Eo),n=b.useContext(No);en(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...T0(e||".",{relative:t})},o=Fs();if(e==null){i.search=o.search;let c=new URLSearchParams(i.search),d=c.getAll("index");if(d.some(l=>l==="")){c.delete("index"),d.filter(f=>f).forEach(f=>c.append("index",f));let l=c.toString();i.search=l?`?${l}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:cc([r,i.pathname])),Ov(i)}function H_e(e,t={}){let r=b.useContext(iY);en(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=pY("useViewTransitionState"),s=T0(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=mc(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=mc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return yC(s.pathname,o)!=null||yC(s.pathname,i)!=null}[...j_e];var Qd=dM();const z_e=xi(Qd),U_e={theme:"system",setTheme:()=>null},xY=b.createContext(U_e);function V_e({children:e,defaultTheme:t="system",storageKey:r="vite-ui-theme",...n}){const[s,i]=b.useState(()=>localStorage.getItem(r)||t);b.useEffect(()=>{const c=window.document.documentElement;if(c.classList.remove("light","dark"),s==="system"){const d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";c.classList.add(d);return}c.classList.add(s)},[s]);const o={theme:s,setTheme:c=>{localStorage.setItem(r,c),i(c)}};return a.jsx(xY.Provider,{...n,value:o,children:e})}const P0=()=>{const e=b.useContext(xY);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},W_e=()=>$t(),q_e=pe,hl=()=>{const e=W_e(),{user:t,token:r,permissions:n,roles:s,isLoading:i,error:o,isAuthenticated:c,isInitialized:d}=q_e(M=>M.auth),u=b.useCallback(M=>e(T1(M)),[e]),l=b.useCallback(M=>e(P1(M)),[e]),f=b.useCallback(M=>e(D1(M)),[e]),p=b.useCallback(()=>e(R1()),[e]),g=b.useCallback(()=>e(Wm()),[e]),x=b.useCallback(()=>e(Age()),[e]),S=b.useCallback(()=>e(kge()),[e]),m=b.useCallback(M=>!n||n.length===0?!1:n.includes(M),[n]),y=b.useCallback(M=>!n||n.length===0||!M.length?!1:M.some(O=>n.includes(O)),[n]),w=b.useCallback(M=>!n||n.length===0||!M.length?!1:M.every(O=>n.includes(O)),[n]),C=b.useCallback(M=>!s||s.length===0?!1:s.includes(M),[s]),E=b.useCallback(M=>!s||s.length===0||!M.length?!1:M.some(O=>s.includes(O)),[s]),N=b.useCallback(M=>!s||s.length===0||!M.length?!1:M.every(O=>s.includes(O)),[s]),k=b.useCallback((M,O)=>{let R=!0,L=!0;return M&&M.length>0&&(R=y(M)),O&&O.length>0&&(L=E(O)),R&&L},[y,E]),A=b.useCallback(()=>C("super-admin"),[C]),T=b.useCallback(()=>t?.name||t?.email||"Unknown User",[t]),P=b.useCallback(()=>!!t?.email_verified_at,[t]);return{user:t,token:r,permissions:n,roles:s,isLoading:i,error:o,isAuthenticated:c,isInitialized:d,login:u,forgotPassword:l,resetPassword:f,getUserProfile:p,logout:g,initializeAuth:x,clearError:S,hasPermission:m,hasAnyPermission:y,hasAllPermissions:w,hasRole:C,hasAnyRole:E,hasAllRoles:N,canAccess:k,isSuperAdmin:A,getUserDisplayName:T,isEmailVerified:P}},G_e=()=>a.jsx("div",{className:"fixed inset-0 bg-background flex items-center justify-center z-50",children:a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),a.jsx("div",{className:"text-lg font-medium text-foreground",children:"Initializing application..."}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Please wait while we set up your session"})]})}),Y_e=({children:e,fallback:t=a.jsx(G_e,{})})=>{const{isInitialized:r,isAuthenticated:n,user:s,isLoading:i,initializeAuth:o,getUserProfile:c}=hl(),d=b.useRef(!1);return b.useEffect(()=>{r||o()},[r,o]),b.useEffect(()=>{r&&n&&s&&s.id===0&&!d.current&&!i&&(d.current=!0,c())},[r,n,s,i,c]),b.useEffect(()=>{n||(d.current=!1)},[n]),!r||n&&s?.id===0?a.jsx(a.Fragment,{children:t}):a.jsx(a.Fragment,{children:e})},K_e="/assets/image-B6cuXDiM.svg",Z_e=()=>{const{theme:e}=P0(),[t,r]=b.useState(0),n=e==="dark"||e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;return b.useEffect(()=>{let s=0;const i=setInterval(()=>{s+=.02,s>=1&&(s=1,clearInterval(i)),r(s)},50);return()=>clearInterval(i)},[]),a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          20%, 60% { transform: translateX(-4px); }
          40%, 80% { transform: translateX(4px); }
        }
        .shake {
          animation: shake 0.5s ease-in-out infinite;
        }
      `}),a.jsx("div",{className:`fixed inset-0 flex items-center justify-center z-50 ${n?"bg-gradient-to-br from-gray-900 to-gray-700":"bg-gradient-to-br from-background to-muted"}`,children:a.jsx("div",{className:`rounded-lg p-8 max-w-md w-full mx-4 ${n?"bg-gray-800 text-white shadow-xl":"bg-card text-card-foreground shadow-xl"}`,style:{boxShadow:n?"0 10px 15px rgba(0,0,0,0.75)":"var(--shadow-xl)"},children:a.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[a.jsx("img",{src:K_e,alt:"PNE Empowering Logo",className:"shake",style:{transition:"clip-path 0.3s linear",width:"220px",height:"110px",objectFit:"contain",filter:n?"brightness(0) invert(1)":"none",clipPath:`inset(${100-t*100}% 0 0 0)`}}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-4 ${n?"border-gray-600":"border-border"}`}),a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 absolute top-0 left-0 border-t-transparent border-primary"})]}),a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("h2",{className:n?"text-white":"text-card-foreground",children:"Empowering a Brighter Future"}),a.jsx("p",{className:n?"text-gray-300":"text-muted-foreground",children:"Please wait while we power things up..."})]}),a.jsx("div",{className:"w-full rounded-full h-2 bg-muted",children:a.jsx("div",{className:"h-2 rounded-full bg-primary transition-all duration-300",style:{width:`${Math.round(t*100)}%`}})})]})})})]})},i2=({children:e,redirectTo:t="/dashboard"})=>{const{isAuthenticated:r,isLoading:n}=hl();return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"text-lg",children:"Loading..."})}):r?a.jsx(bC,{to:t,replace:!0}):a.jsx(a.Fragment,{children:e})};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_e=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q_e=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),R8=e=>{const t=Q_e(e);return t.charAt(0).toUpperCase()+t.slice(1)},vY=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),J_e=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eAe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tAe=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...c},d)=>b.createElement("svg",{ref:d,...eAe,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:vY("lucide",s),...!i&&!J_e(c)&&{"aria-hidden":"true"},...c},[...o.map(([u,l])=>b.createElement(u,l)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(e,t)=>{const r=b.forwardRef(({className:n,...s},i)=>b.createElement(tAe,{ref:i,iconNode:t,className:vY(`lucide-${X_e(R8(e))}`,`lucide-${e}`,n),...s}));return r.displayName=R8(e),r};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rAe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Bs=tt("arrow-left",rAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nAe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],yY=tt("arrow-right",nAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sAe=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],tc=tt("briefcase",sAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aAe=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],un=tt("building-2",aAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iAe=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],bY=tt("building",iAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oAe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],lAe=tt("calendar-days",oAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cAe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ua=tt("calendar",cAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dAe=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],HM=tt("car",dAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uAe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],iE=tt("check",uAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fAe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Yf=tt("chevron-down",fAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hAe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Tc=tt("chevron-left",hAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mAe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Qi=tt("chevron-right",mAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pAe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],wY=tt("chevron-up",pAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gAe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ht=tt("circle-alert",gAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xAe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Pa=tt("circle-check-big",xAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vAe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],o2=tt("circle-dot",vAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yAe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],zM=tt("circle-x",yAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bAe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],SY=tt("circle",bAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wAe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dc=tt("clock",wAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SAe=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],CAe=tt("copy",SAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jAe=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],CY=tt("credit-card",jAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EAe=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],UM=tt("crown",EAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NAe=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],_Ae=tt("database",NAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AAe=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],nv=tt("dollar-sign",AAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kAe=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],D0=tt("ellipsis",kAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TAe=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],lp=tt("eye-off",TAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PAe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Cs=tt("eye",PAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DAe=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],jY=tt("file-text",DAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RAe=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],VM=tt("funnel",RAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MAe=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],OAe=tt("git-branch",MAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IAe=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],oE=tt("hash",IAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LAe=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],BAe=tt("house",LAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Ae=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],FAe=tt("key",$Ae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HAe=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],EY=tt("link",HAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zAe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],bt=tt("loader-circle",zAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UAe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Iv=tt("lock",UAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VAe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],WAe=tt("log-out",VAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qAe=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Kp=tt("mail",qAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GAe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],M8=tt("map-pin",GAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YAe=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],WM=tt("message-square",YAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KAe=[["path",{d:"M5 12h14",key:"1ays0h"}]],ZAe=tt("minus",KAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XAe=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],QAe=tt("palette",XAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JAe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],eke=tt("panel-left",JAe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tke=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],rke=tt("phone",tke);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nke=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],br=tt("plus",nke);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ske=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],ake=tt("power",ske);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ike=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Tn=tt("refresh-cw",ike);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oke=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],lke=tt("rotate-ccw",oke);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cke=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],NY=tt("save",cke);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dke=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],uke=tt("scroll-text",dke);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fke=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Pc=tt("search",fke);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hke=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],O8=tt("send",hke);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mke=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],R0=tt("settings",mke);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pke=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],I8=tt("shield-check",pke);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gke=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],tn=tt("shield",gke);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xke=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],vke=tt("shirt",xke);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yke=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],bke=tt("shopping-bag",yke);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wke=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],vi=tt("square-pen",wke);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ske=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],ui=tt("store",Ske);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cke=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],yD=tt("tag",Cke);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jke=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],Eke=tt("test-tube",jke);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nke=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ss=tt("trash-2",Nke);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ke=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],Ake=tt("tree-pine",_ke);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kke=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wC=tt("triangle-alert",kke);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tke=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],bD=tt("trophy",Tke);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pke=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Fd=tt("user-check",Pke);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dke=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],_Y=tt("user-plus",Dke);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rke=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Da=tt("user",Rke);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mke=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ur=tt("users",Mke);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oke=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Kf=tt("x",Oke),l2=({children:e})=>a.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-background",children:[a.jsx("div",{className:"flex flex-col items-center pt-8 pb-4",children:a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("div",{className:"w-12 h-12 bg-primary rounded-lg flex items-center justify-center",children:a.jsx(Da,{className:"w-6 h-6 text-primary-foreground"})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Auth Portal"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Secure Access"})]})]})}),a.jsx("div",{className:"flex-1 flex items-center justify-center px-4",children:a.jsx("div",{className:"w-full max-w-md",children:e})}),a.jsx("div",{className:"h-16 flex items-center justify-center",children:a.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",new Date().getFullYear()," Auth Portal. All rights reserved."]})})]});function AY(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=AY(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ft(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=AY(e))&&(n&&(n+=" "),n+=t);return n}const qM="-",Ike=e=>{const t=Bke(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const c=o.split(qM);return c[0]===""&&c.length!==1&&c.shift(),kY(c,t)||Lke(o)},getConflictingClassGroupIds:(o,c)=>{const d=r[o]||[];return c&&n[o]?[...d,...n[o]]:d}}},kY=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?kY(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(qM);return t.validators.find(({validator:o})=>o(i))?.classGroupId},L8=/^\[(.+)\]$/,Lke=e=>{if(L8.test(e)){const t=L8.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Bke=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const s in r)wD(r[s],n,s,t);return n},wD=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:B8(t,s);i.classGroupId=r;return}if(typeof s=="function"){if($ke(s)){wD(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{wD(o,B8(t,i),r,n)})})},B8=(e,t)=>{let r=e;return t.split(qM).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},$ke=e=>e.isThemeGetter,Fke=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},SD="!",CD=":",Hke=CD.length,zke=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=s=>{const i=[];let o=0,c=0,d=0,u;for(let x=0;x<s.length;x++){let S=s[x];if(o===0&&c===0){if(S===CD){i.push(s.slice(d,x)),d=x+Hke;continue}if(S==="/"){u=x;continue}}S==="["?o++:S==="]"?o--:S==="("?c++:S===")"&&c--}const l=i.length===0?s:s.substring(d),f=Uke(l),p=f!==l,g=u&&u>d?u-d:void 0;return{modifiers:i,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:g}};if(t){const s=t+CD,i=n;n=o=>o.startsWith(s)?i(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(r){const s=n;n=i=>r({className:i,parseClassName:s})}return n},Uke=e=>e.endsWith(SD)?e.substring(0,e.length-1):e.startsWith(SD)?e.substring(1):e,Vke=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const s=[];let i=[];return n.forEach(o=>{o[0]==="["||t[o]?(s.push(...i.sort(),o),i=[]):i.push(o)}),s.push(...i.sort()),s}},Wke=e=>({cache:Fke(e.cacheSize),parseClassName:zke(e),sortModifiers:Vke(e),...Ike(e)}),qke=/\s+/,Gke=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:i}=t,o=[],c=e.trim().split(qke);let d="";for(let u=c.length-1;u>=0;u-=1){const l=c[u],{isExternal:f,modifiers:p,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:S}=r(l);if(f){d=l+(d.length>0?" "+d:d);continue}let m=!!S,y=n(m?x.substring(0,S):x);if(!y){if(!m){d=l+(d.length>0?" "+d:d);continue}if(y=n(x),!y){d=l+(d.length>0?" "+d:d);continue}m=!1}const w=i(p).join(":"),C=g?w+SD:w,E=C+y;if(o.includes(E))continue;o.push(E);const N=s(y,m);for(let k=0;k<N.length;++k){const A=N[k];o.push(C+A)}d=l+(d.length>0?" "+d:d)}return d};function Yke(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=TY(t))&&(n&&(n+=" "),n+=r);return n}const TY=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=TY(e[n]))&&(r&&(r+=" "),r+=t);return r};function Kke(e,...t){let r,n,s,i=o;function o(d){const u=t.reduce((l,f)=>f(l),e());return r=Wke(u),n=r.cache.get,s=r.cache.set,i=c,c(d)}function c(d){const u=n(d);if(u)return u;const l=Gke(d,r);return s(d,l),l}return function(){return i(Yke.apply(null,arguments))}}const Qn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},PY=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,DY=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Zke=/^\d+\/\d+$/,Xke=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Qke=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Jke=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,e2e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,t2e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,im=e=>Zke.test(e),Ht=e=>!!e&&!Number.isNaN(Number(e)),gd=e=>!!e&&Number.isInteger(Number(e)),c2=e=>e.endsWith("%")&&Ht(e.slice(0,-1)),Ul=e=>Xke.test(e),r2e=()=>!0,n2e=e=>Qke.test(e)&&!Jke.test(e),RY=()=>!1,s2e=e=>e2e.test(e),a2e=e=>t2e.test(e),i2e=e=>!ct(e)&&!dt(e),o2e=e=>Zp(e,IY,RY),ct=e=>PY.test(e),Iu=e=>Zp(e,LY,n2e),d2=e=>Zp(e,f2e,Ht),$8=e=>Zp(e,MY,RY),l2e=e=>Zp(e,OY,a2e),uw=e=>Zp(e,BY,s2e),dt=e=>DY.test(e),Lx=e=>Xp(e,LY),c2e=e=>Xp(e,h2e),F8=e=>Xp(e,MY),d2e=e=>Xp(e,IY),u2e=e=>Xp(e,OY),fw=e=>Xp(e,BY,!0),Zp=(e,t,r)=>{const n=PY.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Xp=(e,t,r=!1)=>{const n=DY.exec(e);return n?n[1]?t(n[1]):r:!1},MY=e=>e==="position"||e==="percentage",OY=e=>e==="image"||e==="url",IY=e=>e==="length"||e==="size"||e==="bg-size",LY=e=>e==="length",f2e=e=>e==="number",h2e=e=>e==="family-name",BY=e=>e==="shadow",m2e=()=>{const e=Qn("color"),t=Qn("font"),r=Qn("text"),n=Qn("font-weight"),s=Qn("tracking"),i=Qn("leading"),o=Qn("breakpoint"),c=Qn("container"),d=Qn("spacing"),u=Qn("radius"),l=Qn("shadow"),f=Qn("inset-shadow"),p=Qn("text-shadow"),g=Qn("drop-shadow"),x=Qn("blur"),S=Qn("perspective"),m=Qn("aspect"),y=Qn("ease"),w=Qn("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...E(),dt,ct],k=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],T=()=>[dt,ct,d],P=()=>[im,"full","auto",...T()],M=()=>[gd,"none","subgrid",dt,ct],O=()=>["auto",{span:["full",gd,dt,ct]},gd,dt,ct],R=()=>[gd,"auto",dt,ct],L=()=>["auto","min","max","fr",dt,ct],B=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],F=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...T()],z=()=>[im,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],W=()=>[e,dt,ct],Z=()=>[...E(),F8,$8,{position:[dt,ct]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",d2e,o2e,{size:[dt,ct]}],H=()=>[c2,Lx,Iu],K=()=>["","none","full",u,dt,ct],Y=()=>["",Ht,Lx,Iu],re=()=>["solid","dashed","dotted","double"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],de=()=>[Ht,c2,F8,$8],he=()=>["","none",x,dt,ct],ee=()=>["none",Ht,dt,ct],ie=()=>["none",Ht,dt,ct],ye=()=>[Ht,dt,ct],le=()=>[im,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ul],breakpoint:[Ul],color:[r2e],container:[Ul],"drop-shadow":[Ul],ease:["in","out","in-out"],font:[i2e],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ul],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ul],shadow:[Ul],spacing:["px",Ht],text:[Ul],"text-shadow":[Ul],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",im,ct,dt,m]}],container:["container"],columns:[{columns:[Ht,ct,dt,c]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[gd,"auto",dt,ct]}],basis:[{basis:[im,"full","auto",c,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ht,im,"auto","initial","none",ct]}],grow:[{grow:["",Ht,dt,ct]}],shrink:[{shrink:["",Ht,dt,ct]}],order:[{order:[gd,"first","last","none",dt,ct]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...B(),"normal"]}],"justify-items":[{"justify-items":[...F(),"normal"]}],"justify-self":[{"justify-self":["auto",...F()]}],"align-content":[{content:["normal",...B()]}],"align-items":[{items:[...F(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...F(),{baseline:["","last"]}]}],"place-content":[{"place-content":B()}],"place-items":[{"place-items":[...F(),"baseline"]}],"place-self":[{"place-self":["auto",...F()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:z()}],w:[{w:[c,"screen",...z()]}],"min-w":[{"min-w":[c,"screen","none",...z()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...z()]}],h:[{h:["screen","lh",...z()]}],"min-h":[{"min-h":["screen","lh","none",...z()]}],"max-h":[{"max-h":["screen","lh",...z()]}],"font-size":[{text:["base",r,Lx,Iu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,dt,d2]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",c2,ct]}],"font-family":[{font:[c2e,ct,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,dt,ct]}],"line-clamp":[{"line-clamp":[Ht,"none",dt,d2]}],leading:[{leading:[i,...T()]}],"list-image":[{"list-image":["none",dt,ct]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",dt,ct]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ht,"from-font","auto",dt,Iu]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[Ht,"auto",dt,ct]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",dt,ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",dt,ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Z()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},gd,dt,ct],radial:["",dt,ct],conic:[gd,dt,ct]},u2e,l2e]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:K()}],"rounded-s":[{"rounded-s":K()}],"rounded-e":[{"rounded-e":K()}],"rounded-t":[{"rounded-t":K()}],"rounded-r":[{"rounded-r":K()}],"rounded-b":[{"rounded-b":K()}],"rounded-l":[{"rounded-l":K()}],"rounded-ss":[{"rounded-ss":K()}],"rounded-se":[{"rounded-se":K()}],"rounded-ee":[{"rounded-ee":K()}],"rounded-es":[{"rounded-es":K()}],"rounded-tl":[{"rounded-tl":K()}],"rounded-tr":[{"rounded-tr":K()}],"rounded-br":[{"rounded-br":K()}],"rounded-bl":[{"rounded-bl":K()}],"border-w":[{border:Y()}],"border-w-x":[{"border-x":Y()}],"border-w-y":[{"border-y":Y()}],"border-w-s":[{"border-s":Y()}],"border-w-e":[{"border-e":Y()}],"border-w-t":[{"border-t":Y()}],"border-w-r":[{"border-r":Y()}],"border-w-b":[{"border-b":Y()}],"border-w-l":[{"border-l":Y()}],"divide-x":[{"divide-x":Y()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Y()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...re(),"hidden","none"]}],"divide-style":[{divide:[...re(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ht,dt,ct]}],"outline-w":[{outline:["",Ht,Lx,Iu]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",l,fw,uw]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",f,fw,uw]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[Ht,Iu]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":Y()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",p,fw,uw]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[Ht,dt,ct]}],"mix-blend":[{"mix-blend":[...me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ht]}],"mask-image-linear-from-pos":[{"mask-linear-from":de()}],"mask-image-linear-to-pos":[{"mask-linear-to":de()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":de()}],"mask-image-t-to-pos":[{"mask-t-to":de()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":de()}],"mask-image-r-to-pos":[{"mask-r-to":de()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":de()}],"mask-image-b-to-pos":[{"mask-b-to":de()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":de()}],"mask-image-l-to-pos":[{"mask-l-to":de()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":de()}],"mask-image-x-to-pos":[{"mask-x-to":de()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":de()}],"mask-image-y-to-pos":[{"mask-y-to":de()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[dt,ct]}],"mask-image-radial-from-pos":[{"mask-radial-from":de()}],"mask-image-radial-to-pos":[{"mask-radial-to":de()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[Ht]}],"mask-image-conic-from-pos":[{"mask-conic-from":de()}],"mask-image-conic-to-pos":[{"mask-conic-to":de()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Z()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",dt,ct]}],filter:[{filter:["","none",dt,ct]}],blur:[{blur:he()}],brightness:[{brightness:[Ht,dt,ct]}],contrast:[{contrast:[Ht,dt,ct]}],"drop-shadow":[{"drop-shadow":["","none",g,fw,uw]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",Ht,dt,ct]}],"hue-rotate":[{"hue-rotate":[Ht,dt,ct]}],invert:[{invert:["",Ht,dt,ct]}],saturate:[{saturate:[Ht,dt,ct]}],sepia:[{sepia:["",Ht,dt,ct]}],"backdrop-filter":[{"backdrop-filter":["","none",dt,ct]}],"backdrop-blur":[{"backdrop-blur":he()}],"backdrop-brightness":[{"backdrop-brightness":[Ht,dt,ct]}],"backdrop-contrast":[{"backdrop-contrast":[Ht,dt,ct]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ht,dt,ct]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ht,dt,ct]}],"backdrop-invert":[{"backdrop-invert":["",Ht,dt,ct]}],"backdrop-opacity":[{"backdrop-opacity":[Ht,dt,ct]}],"backdrop-saturate":[{"backdrop-saturate":[Ht,dt,ct]}],"backdrop-sepia":[{"backdrop-sepia":["",Ht,dt,ct]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",dt,ct]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ht,"initial",dt,ct]}],ease:[{ease:["linear","initial",y,dt,ct]}],delay:[{delay:[Ht,dt,ct]}],animate:[{animate:["none",w,dt,ct]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,dt,ct]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:ee()}],"rotate-x":[{"rotate-x":ee()}],"rotate-y":[{"rotate-y":ee()}],"rotate-z":[{"rotate-z":ee()}],scale:[{scale:ie()}],"scale-x":[{"scale-x":ie()}],"scale-y":[{"scale-y":ie()}],"scale-z":[{"scale-z":ie()}],"scale-3d":["scale-3d"],skew:[{skew:ye()}],"skew-x":[{"skew-x":ye()}],"skew-y":[{"skew-y":ye()}],transform:[{transform:[dt,ct,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:le()}],"translate-x":[{"translate-x":le()}],"translate-y":[{"translate-y":le()}],"translate-z":[{"translate-z":le()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",dt,ct]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",dt,ct]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[Ht,Lx,Iu,d2]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},p2e=Kke(m2e);function J(...e){return p2e(ft(e))}const Se=b.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("rounded-xl border bg-card text-card-foreground shadow",e),...t}));Se.displayName="Card";const Me=b.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("flex flex-col space-y-1.5 p-6",e),...t}));Me.displayName="CardHeader";const Ve=b.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("font-semibold leading-none tracking-tight",e),...t}));Ve.displayName="CardTitle";const ts=b.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("text-sm text-muted-foreground",e),...t}));ts.displayName="CardDescription";const Ee=b.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("p-6 pt-0",e),...t}));Ee.displayName="CardContent";const GM=b.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("flex items-center p-6 pt-0",e),...t}));GM.displayName="CardFooter";function H8(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function gc(...e){return t=>{let r=!1;const n=e.map(s=>{const i=H8(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():H8(e[s],null)}}}}function vt(...e){return b.useCallback(gc(...e),e)}function Hd(e){const t=g2e(e),r=b.forwardRef((n,s)=>{const{children:i,...o}=n,c=b.Children.toArray(i),d=c.find(x2e);if(d){const u=d.props.children,l=c.map(f=>f===d?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:b.isValidElement(u)?b.cloneElement(u,void 0,l):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var Jd=Hd("Slot");function g2e(e){const t=b.forwardRef((r,n)=>{const{children:s,...i}=r;if(b.isValidElement(s)){const o=y2e(s),c=v2e(i,s.props);return s.type!==b.Fragment&&(c.ref=n?gc(n,o):o),b.cloneElement(s,c)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $Y=Symbol("radix.slottable");function FY(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=$Y,t}function x2e(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$Y}function v2e(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...c)=>{const d=i(...c);return s(...c),d}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function y2e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const z8=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,U8=ft,Zf=(e,t)=>r=>{var n;if(t?.variants==null)return U8(e,r?.class,r?.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const l=r?.[u],f=i?.[u];if(l===null)return null;const p=z8(l)||z8(f);return s[u][p]}),c=r&&Object.entries(r).reduce((u,l)=>{let[f,p]=l;return p===void 0||(u[f]=p),u},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,l)=>{let{class:f,className:p,...g}=l;return Object.entries(g).every(x=>{let[S,m]=x;return Array.isArray(m)?m.includes({...i,...c}[S]):{...i,...c}[S]===m})?[...u,f,p]:u},[]);return U8(e,o,d,r?.class,r?.className)},cp=Zf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),X=b.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?Jd:"button";return a.jsx(o,{className:J(cp({variant:t,size:r,className:e})),ref:i,...s})});X.displayName="Button";const et=b.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:J("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));et.displayName="Input";var b2e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Je=b2e.reduce((e,t)=>{const r=Hd(`Primitive.${t}`),n=b.forwardRef((s,i)=>{const{asChild:o,...c}=s,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(d,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function lE(e,t){e&&Qd.flushSync(()=>e.dispatchEvent(t))}var w2e="Label",HY=b.forwardRef((e,t)=>a.jsx(Je.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));HY.displayName=w2e;var zY=HY;const S2e=Zf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),$e=b.forwardRef(({className:e,...t},r)=>a.jsx(zY,{ref:r,className:J(S2e(),e),...t}));$e.displayName=zY.displayName;const C2e=Zf("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),at=b.forwardRef(({className:e,variant:t,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:J(C2e({variant:t}),e),...r}));at.displayName="Alert";const j2e=b.forwardRef(({className:e,...t},r)=>a.jsx("h5",{ref:r,className:J("mb-1 font-medium leading-none tracking-tight",e),...t}));j2e.displayName="AlertTitle";const it=b.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("text-sm [&_p]:leading-relaxed",e),...t}));it.displayName="AlertDescription";const E2e=()=>{const e=Ot(),t=Fs(),{login:r,isLoading:n,error:s,isAuthenticated:i,clearError:o}=hl(),[c,d]=b.useState({email:"",password:""}),[u,l]=b.useState({}),[f,p]=b.useState(!1);b.useEffect(()=>{if(i){const w=t.state?.from?.pathname||"/dashboard";e(w,{replace:!0})}},[i,e,t]);const g=()=>{o()},x=w=>{const{name:C,value:E}=w.target;d(N=>({...N,[C]:E})),u[C]&&l(N=>({...N,[C]:void 0})),s&&o()},S=()=>{const w={};return c.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.email)||(w.email="Please enter a valid email address"):w.email="Email is required",c.password.trim()?c.password.length<6&&(w.password="Password must be at least 6 characters"):w.password="Password is required",l(w),Object.keys(w).length===0},m=async w=>{if(w.preventDefault(),l({}),o(),!!S())try{const C=await r({email:c.email.trim(),password:c.password});if(C.meta.requestStatus==="fulfilled"){const E=t.state?.from?.pathname||"/dashboard";e(E,{replace:!0})}else if(C.payload&&typeof C.payload=="string"){const E=Sge(C.payload);Object.keys(E).length>0&&l(E)}}catch(C){console.error("Login error:",C)}},y=()=>{p(!f)};return a.jsx("div",{className:" flex items-center justify-cente  px-4 sm:px-6 lg:px-8",children:a.jsxs(Se,{className:"w-full max-w-md mx-auto",children:[a.jsxs(Me,{className:"space-y-1",children:[a.jsx(Ve,{className:"text-2xl font-bold text-center",children:"Sign In"}),a.jsx(ts,{className:"text-center",children:"Enter your credentials to access your account"})]}),a.jsxs(Ee,{children:[a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s&&a.jsx(at,{variant:"destructive",children:a.jsx(it,{children:s})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Kp,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(et,{id:"email",name:"email",type:"email",placeholder:"Enter your email",value:c.email,onChange:x,className:`pl-10 ${u.email?"border-destructive":""}`,disabled:n,autoComplete:"email"})]}),u.email&&a.jsx("p",{className:"text-sm text-destructive",children:u.email})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"password",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Iv,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(et,{id:"password",name:"password",type:f?"text":"password",placeholder:"Enter your password",value:c.password,onChange:x,className:`pl-10 pr-10 ${u.password?"border-destructive":""}`,disabled:n,autoComplete:"current-password"}),a.jsx(X,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:y,disabled:n,tabIndex:-1,children:f?a.jsx(lp,{className:"h-4 w-4"}):a.jsx(Cs,{className:"h-4 w-4"})})]}),u.password&&a.jsx("p",{className:"text-sm text-destructive",children:u.password})]}),a.jsx(X,{type:"submit",className:"w-full",disabled:n,children:n?"Signing in...":"Sign In"})]}),a.jsx("div",{className:"mt-6 text-center text-sm",children:a.jsx(pc,{to:"/forgot-password",className:"text-primary hover:underline",onClick:g,children:"Forgot your password?"})})]})]})})},N2e=()=>{const e=Ot(),{forgotPassword:t,isLoading:r,error:n,isAuthenticated:s,clearError:i}=hl(),[o,c]=b.useState({email:""}),[d,u]=b.useState({});b.useEffect(()=>{s&&e("/dashboard",{replace:!0})},[s,e]);const l=x=>{const{name:S,value:m}=x.target;c(y=>({...y,[S]:m})),d[S]&&u(y=>({...y,[S]:void 0})),n&&i()},f=()=>{const x={};return o.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)||(x.email="Please enter a valid email address"):x.email="Email is required",u(x),Object.keys(x).length===0},p=async x=>{if(x.preventDefault(),u({}),i(),!!f())try{(await t({email:o.email.trim()})).meta.requestStatus==="fulfilled"&&e("/reset-password",{state:{email:o.email.trim(),message:"Password reset OTP sent to your email. Please check your inbox."}})}catch(S){console.error("Forgot password error:",S)}},g=()=>{i()};return a.jsx("div",{className:" flex items-center justify-cente  px-4 sm:px-6 lg:px-8",children:a.jsxs(Se,{className:"w-full max-w-md mx-auto",children:[a.jsxs(Me,{className:"space-y-1",children:[a.jsx(Ve,{className:"text-2xl font-bold text-center",children:"Forgot Password"}),a.jsx(ts,{className:"text-center",children:"Enter your email address and we'll send you an OTP to reset your password"})]}),a.jsxs(Ee,{children:[a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[n&&a.jsx(at,{variant:"destructive",children:a.jsx(it,{children:n})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"email",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Kp,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(et,{id:"email",name:"email",type:"email",placeholder:"Enter your email address",value:o.email,onChange:l,className:`pl-10 ${d.email?"border-destructive":""}`,disabled:r,autoComplete:"email",autoFocus:!0})]}),d.email&&a.jsx("p",{className:"text-sm text-destructive",children:d.email}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"We'll send a 6-digit OTP to this email address"})]}),a.jsx(X,{type:"submit",className:"w-full",disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx(O8,{className:"mr-2 h-4 w-4 animate-pulse"}),"Sending OTP..."]}):a.jsxs(a.Fragment,{children:[a.jsx(O8,{className:"mr-2 h-4 w-4"}),"Send Reset OTP"]})})]}),a.jsx("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:a.jsx("p",{className:"mb-4",children:"You'll receive a 6-digit OTP code to reset your password. The code will expire in 15 minutes for security reasons."})}),a.jsx("div",{className:"flex flex-col space-y-2 text-center text-sm",children:a.jsxs(pc,{to:"/login",className:"text-primary hover:underline flex items-center justify-center",onClick:g,children:[a.jsx(Bs,{className:"mr-1 h-3 w-3"}),"Back to Sign In"]})})]})]})})},_2e=()=>{const e=Ot(),t=Fs(),{resetPassword:r,forgotPassword:n,isLoading:s,error:i,isAuthenticated:o,clearError:c}=hl(),d=t.state,u=d?.email||"",l=d?.message||"",f=b.useRef(null),[p,g]=b.useState({email:u,otp:"",password:"",password_confirmation:""}),[x,S]=b.useState({}),[m,y]=b.useState(!1),[w,C]=b.useState(!1),[E,N]=b.useState(!1),[k,A]=b.useState(!1),[T,P]=b.useState(0);b.useEffect(()=>{o&&e("/dashboard",{replace:!0})},[o,e]),b.useEffect(()=>{u||e("/forgot-password",{replace:!0})},[u,e]),b.useEffect(()=>{if(T>0){const V=setTimeout(()=>{P(T-1)},1e3);return()=>clearTimeout(V)}},[T]),b.useEffect(()=>{if(k){const V=setTimeout(()=>{A(!1)},5e3);return()=>clearTimeout(V)}},[k]);const M=V=>{const{name:q,value:H}=V.target;g(K=>({...K,[q]:H})),x[q]&&S(K=>({...K,[q]:void 0})),i&&c(),k&&A(!1)},O=V=>{let q=V.target.value.replace(/\D/g,"");q.length>6&&(q=q.slice(0,6)),g(H=>({...H,otp:q})),x.otp&&S(H=>({...H,otp:void 0})),i&&c(),k&&A(!1)},R=V=>{if(V.key==="Backspace"&&p.otp.length>0){const q=p.otp.slice(0,-1);g(H=>({...H,otp:q}))}},L=()=>{const V={};return p.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p.email)||(V.email="Please enter a valid email address"):V.email="Email is required",p.otp.trim()?p.otp.length!==6&&(V.otp="OTP must be 6 digits"):V.otp="OTP is required",p.password.trim()?p.password.length<8&&(V.password="Password must be at least 8 characters"):V.password="Password is required",p.password_confirmation.trim()?p.password!==p.password_confirmation&&(V.password_confirmation="Passwords do not match"):V.password_confirmation="Please confirm your password",S(V),Object.keys(V).length===0},B=async V=>{if(V.preventDefault(),S({}),c(),A(!1),!!L())try{(await r({email:p.email.trim(),otp:p.otp,password:p.password,password_confirmation:p.password_confirmation})).meta.requestStatus==="fulfilled"&&e("/login",{state:{message:"Password reset successfully! Please login with your new password.",email:p.email.trim()}})}catch(q){console.error("Reset password error:",q)}},F=async()=>{if(!(T>0||!p.email.trim())){N(!0),c();try{(await n({email:p.email.trim()})).meta.requestStatus==="fulfilled"&&(A(!0),P(60),g(q=>({...q,otp:""})),setTimeout(()=>{f.current&&f.current.focus()},100))}catch(V){console.error("Resend OTP error:",V)}finally{N(!1)}}},$=V=>V.replace(/(.{3})/g,"$1 ").trim(),z=()=>{y(!m)},W=()=>{C(!w)},Z=()=>{c()};return a.jsx("div",{className:" flex items-center justify-cente  px-4 sm:px-6 lg:px-8",children:a.jsxs(Se,{className:"w-full max-w-md mx-auto",children:[a.jsxs(Me,{className:"space-y-1",children:[a.jsx(Ve,{className:"text-2xl font-bold text-center",children:"Reset Password"}),a.jsx(ts,{className:"text-center",children:"Enter the OTP and your new password to reset your account"})]}),a.jsxs(Ee,{children:[l&&a.jsx(at,{className:"mb-4",children:a.jsx(it,{children:l})}),k&&a.jsx(at,{className:"mb-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Pa,{className:"h-4 w-4 text-green-600"}),a.jsx(it,{className:"text-green-800",children:"New OTP sent successfully! Please check your email."})]})}),a.jsxs("form",{onSubmit:B,className:"space-y-4",children:[i&&a.jsx(at,{variant:"destructive",children:a.jsx(it,{children:i})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"email",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Kp,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(et,{id:"email",name:"email",type:"email",value:p.email,readOnly:!0,className:"pl-10 bg-muted cursor-not-allowed"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"OTP has been sent to this email address"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"otp",children:"Reset Code"}),a.jsx(et,{ref:f,id:"otp",name:"otp",type:"text",placeholder:"Enter 6-digit code",value:$(p.otp),onChange:O,onKeyDown:R,className:`text-center text-lg tracking-widest ${x.otp?"border-destructive":""}`,disabled:s||E,maxLength:7,autoComplete:"one-time-code"}),x.otp&&a.jsx("p",{className:"text-sm text-destructive",children:x.otp})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"password",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Iv,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(et,{id:"password",name:"password",type:m?"text":"password",placeholder:"Enter new password",value:p.password,onChange:M,className:`pl-10 pr-10 ${x.password?"border-destructive":""}`,disabled:s||E,autoComplete:"new-password"}),a.jsx(X,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:z,disabled:s||E,tabIndex:-1,children:m?a.jsx(lp,{className:"h-4 w-4"}):a.jsx(Cs,{className:"h-4 w-4"})})]}),x.password&&a.jsx("p",{className:"text-sm text-destructive",children:x.password})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"password_confirmation",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Iv,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(et,{id:"password_confirmation",name:"password_confirmation",type:w?"text":"password",placeholder:"Confirm new password",value:p.password_confirmation,onChange:M,className:`pl-10 pr-10 ${x.password_confirmation?"border-destructive":""}`,disabled:s||E,autoComplete:"new-password"}),a.jsx(X,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:W,disabled:s||E,tabIndex:-1,children:w?a.jsx(lp,{className:"h-4 w-4"}):a.jsx(Cs,{className:"h-4 w-4"})})]}),x.password_confirmation&&a.jsx("p",{className:"text-sm text-destructive",children:x.password_confirmation})]}),a.jsx(X,{type:"submit",className:"w-full",disabled:s||E,children:s?"Resetting Password...":"Reset Password"})]}),a.jsxs("div",{className:"mt-6 text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Didn't receive the code?"}),a.jsx(X,{type:"button",variant:"outline",onClick:F,disabled:E||T>0,className:"w-full",children:E?a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):T>0?`Resend OTP in ${T}s`:a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-4 w-4"}),"Resend OTP"]})})]}),a.jsxs("div",{className:"mt-6 flex flex-col space-y-2 text-center text-sm",children:[a.jsxs(pc,{to:"/forgot-password",className:"text-primary hover:underline flex items-center justify-center",onClick:Z,children:[a.jsx(Bs,{className:"mr-1 h-3 w-3"}),"Back to Forgot Password"]}),a.jsxs("div",{children:["Remember your password?"," ",a.jsx(pc,{to:"/login",className:"text-primary hover:underline",onClick:Z,children:"Sign in"})]})]})]})]})})},A2e=[a.jsx(Dt,{path:"/login",element:a.jsx(i2,{children:a.jsx(l2,{children:a.jsx(E2e,{})})})},"login"),a.jsx(Dt,{path:"/forgot-password",element:a.jsx(i2,{children:a.jsx(l2,{children:a.jsx(N2e,{})})})},"forgot-password"),a.jsx(Dt,{path:"/reset-password",element:a.jsx(i2,{children:a.jsx(l2,{children:a.jsx(_2e,{})})})},"reset-password")],Lt=({children:e})=>{const{isAuthenticated:t,isLoading:r}=hl(),n=Fs();return r?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"text-lg",children:"Loading..."})}):t?a.jsx(a.Fragment,{children:e}):a.jsx(bC,{to:"/login",state:{from:n},replace:!0})},u2=768;function ea(){const[e,t]=b.useState(void 0);return b.useEffect(()=>{const r=window.matchMedia(`(max-width: ${u2-1}px)`),n=()=>{t(window.innerWidth<u2)};return r.addEventListener("change",n),t(window.innerWidth<u2),()=>r.removeEventListener("change",n)},[]),!!e}var k2e="Separator",V8="horizontal",T2e=["horizontal","vertical"],UY=b.forwardRef((e,t)=>{const{decorative:r,orientation:n=V8,...s}=e,i=P2e(n)?n:V8,c=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(Je.div,{"data-orientation":i,...c,...s,ref:t})});UY.displayName=k2e;function P2e(e){return T2e.includes(e)}var VY=UY;const Xs=b.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(VY,{ref:s,decorative:r,orientation:t,className:J("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Xs.displayName=VY.displayName;function Rd(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),r===!1||!s.defaultPrevented)return t?.(s)}}function D2e(e,t){const r=b.createContext(t),n=i=>{const{children:o,...c}=i,d=b.useMemo(()=>c,Object.values(c));return a.jsx(r.Provider,{value:d,children:o})};n.displayName=e+"Provider";function s(i){const o=b.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function Yn(e,t=[]){let r=[];function n(i,o){const c=b.createContext(o),d=r.length;r=[...r,o];const u=f=>{const{scope:p,children:g,...x}=f,S=p?.[e]?.[d]||c,m=b.useMemo(()=>x,Object.values(x));return a.jsx(S.Provider,{value:m,children:g})};u.displayName=i+"Provider";function l(f,p){const g=p?.[e]?.[d]||c,x=b.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,l]}const s=()=>{const i=r.map(o=>b.createContext(o));return function(c){const d=c?.[e]||i;return b.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[n,R2e(s,...t)]}function R2e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((c,{useScope:d,scopeName:u})=>{const f=d(i)[`__scope${u}`];return{...c,...f}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var wr=globalThis?.document?b.useLayoutEffect:()=>{},M2e=Cf[" useId ".trim().toString()]||(()=>{}),O2e=0;function rs(e){const[t,r]=b.useState(M2e());return wr(()=>{r(n=>n??String(O2e++))},[e]),e||(t?`radix-${t}`:"")}var I2e=Cf[" useInsertionEffect ".trim().toString()]||wr;function qi({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=L2e({defaultProp:t,onChange:r}),c=e!==void 0,d=c?e:s;{const l=b.useRef(e!==void 0);b.useEffect(()=>{const f=l.current;f!==c&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),l.current=c},[c,n])}const u=b.useCallback(l=>{if(c){const f=B2e(l)?l(e):l;f!==e&&o.current?.(f)}else i(l)},[c,e,i,o]);return[d,u]}function L2e({defaultProp:e,onChange:t}){const[r,n]=b.useState(e),s=b.useRef(r),i=b.useRef(t);return I2e(()=>{i.current=t},[t]),b.useEffect(()=>{s.current!==r&&(i.current?.(r),s.current=r)},[r,s]),[r,n,i]}function B2e(e){return typeof e=="function"}function Xr(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...r)=>t.current?.(...r),[])}function YM(e,t=globalThis?.document){const r=Xr(e);b.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var $2e="DismissableLayer",jD="dismissableLayer.update",F2e="dismissableLayer.pointerDownOutside",H2e="dismissableLayer.focusOutside",W8,WY=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qY=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:c,...d}=e,u=b.useContext(WY),[l,f]=b.useState(null),p=l?.ownerDocument??globalThis?.document,[,g]=b.useState({}),x=vt(t,A=>f(A)),S=Array.from(u.layers),[m]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=S.indexOf(m),w=l?S.indexOf(l):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,E=w>=y,N=V2e(A=>{const T=A.target,P=[...u.branches].some(M=>M.contains(T));!E||P||(s?.(A),o?.(A),A.defaultPrevented||c?.())},p),k=W2e(A=>{const T=A.target;[...u.branches].some(M=>M.contains(T))||(i?.(A),o?.(A),A.defaultPrevented||c?.())},p);return YM(A=>{w===u.layers.size-1&&(n?.(A),!A.defaultPrevented&&c&&(A.preventDefault(),c()))},p),b.useEffect(()=>{if(l)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(W8=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(l)),u.layers.add(l),q8(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=W8)}},[l,p,r,u]),b.useEffect(()=>()=>{l&&(u.layers.delete(l),u.layersWithOutsidePointerEventsDisabled.delete(l),q8())},[l,u]),b.useEffect(()=>{const A=()=>g({});return document.addEventListener(jD,A),()=>document.removeEventListener(jD,A)},[]),a.jsx(Je.div,{...d,ref:x,style:{pointerEvents:C?E?"auto":"none":void 0,...e.style},onFocusCapture:Rd(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Rd(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Rd(e.onPointerDownCapture,N.onPointerDownCapture)})});qY.displayName=$2e;var z2e="DismissableLayerBranch",U2e=b.forwardRef((e,t)=>{const r=b.useContext(WY),n=b.useRef(null),s=vt(t,n);return b.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Je.div,{...e,ref:s})});U2e.displayName=z2e;function V2e(e,t=globalThis?.document){const r=Xr(e),n=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=c=>{if(c.target&&!n.current){let d=function(){GY(F2e,r,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function W2e(e,t=globalThis?.document){const r=Xr(e),n=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!n.current&&GY(H2e,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function q8(){const e=new CustomEvent(jD);document.dispatchEvent(e)}function GY(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?lE(s,i):s.dispatchEvent(i)}var f2="focusScope.autoFocusOnMount",h2="focusScope.autoFocusOnUnmount",G8={bubbles:!1,cancelable:!0},q2e="FocusScope",M0=b.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[c,d]=b.useState(null),u=Xr(s),l=Xr(i),f=b.useRef(null),p=vt(t,S=>d(S)),g=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(n){let S=function(C){if(g.paused||!c)return;const E=C.target;c.contains(E)?f.current=E:Cd(f.current,{select:!0})},m=function(C){if(g.paused||!c)return;const E=C.relatedTarget;E!==null&&(c.contains(E)||Cd(f.current,{select:!0}))},y=function(C){if(document.activeElement===document.body)for(const N of C)N.removedNodes.length>0&&Cd(c)};document.addEventListener("focusin",S),document.addEventListener("focusout",m);const w=new MutationObserver(y);return c&&w.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",m),w.disconnect()}}},[n,c,g.paused]),b.useEffect(()=>{if(c){K8.add(g);const S=document.activeElement;if(!c.contains(S)){const y=new CustomEvent(f2,G8);c.addEventListener(f2,u),c.dispatchEvent(y),y.defaultPrevented||(G2e(Q2e(YY(c)),{select:!0}),document.activeElement===S&&Cd(c))}return()=>{c.removeEventListener(f2,u),setTimeout(()=>{const y=new CustomEvent(h2,G8);c.addEventListener(h2,l),c.dispatchEvent(y),y.defaultPrevented||Cd(S??document.body,{select:!0}),c.removeEventListener(h2,l),K8.remove(g)},0)}}},[c,u,l,g]);const x=b.useCallback(S=>{if(!r&&!n||g.paused)return;const m=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,y=document.activeElement;if(m&&y){const w=S.currentTarget,[C,E]=Y2e(w);C&&E?!S.shiftKey&&y===E?(S.preventDefault(),r&&Cd(C,{select:!0})):S.shiftKey&&y===C&&(S.preventDefault(),r&&Cd(E,{select:!0})):y===w&&S.preventDefault()}},[r,n,g.paused]);return a.jsx(Je.div,{tabIndex:-1,...o,ref:p,onKeyDown:x})});M0.displayName=q2e;function G2e(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Cd(n,{select:t}),document.activeElement!==r)return}function Y2e(e){const t=YY(e),r=Y8(t,e),n=Y8(t.reverse(),e);return[r,n]}function YY(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Y8(e,t){for(const r of e)if(!K2e(r,{upTo:t}))return r}function K2e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Z2e(e){return e instanceof HTMLInputElement&&"select"in e}function Cd(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Z2e(e)&&t&&e.select()}}var K8=X2e();function X2e(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=Z8(e,t),e.unshift(t)},remove(t){e=Z8(e,t),e[0]?.resume()}}}function Z8(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Q2e(e){return e.filter(t=>t.tagName!=="A")}var J2e="Portal",Qp=b.forwardRef((e,t)=>{const{container:r,...n}=e,[s,i]=b.useState(!1);wr(()=>i(!0),[]);const o=r||s&&globalThis?.document?.body;return o?z_e.createPortal(a.jsx(Je.div,{...n,ref:t}),o):null});Qp.displayName=J2e;function eTe(e,t){return b.useReducer((r,n)=>t[r][n]??r,e)}var cE=e=>{const{present:t,children:r}=e,n=tTe(t),s=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),i=vt(n.ref,rTe(s));return typeof r=="function"||n.isPresent?b.cloneElement(s,{ref:i}):null};cE.displayName="Presence";function tTe(e){const[t,r]=b.useState(),n=b.useRef(null),s=b.useRef(e),i=b.useRef("none"),o=e?"mounted":"unmounted",[c,d]=eTe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=hw(n.current);i.current=c==="mounted"?u:"none"},[c]),wr(()=>{const u=n.current,l=s.current;if(l!==e){const p=i.current,g=hw(u);e?d("MOUNT"):g==="none"||u?.display==="none"?d("UNMOUNT"):d(l&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),wr(()=>{if(t){let u;const l=t.ownerDocument.defaultView??window,f=g=>{const S=hw(n.current).includes(CSS.escape(g.animationName));if(g.target===t&&S&&(d("ANIMATION_END"),!s.current)){const m=t.style.animationFillMode;t.style.animationFillMode="forwards",u=l.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=m)})}},p=g=>{g.target===t&&(i.current=hw(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{l.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:b.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function hw(e){return e?.animationName||"none"}function rTe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var m2=0;function nTe(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??X8()),document.body.insertAdjacentElement("beforeend",e[1]??X8()),m2++,()=>{m2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),m2--}},[])}function X8(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Go=function(){return Go=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Go.apply(this,arguments)};function KY(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function sTe(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var IS="right-scroll-bar-position",LS="width-before-scroll-bar",aTe="with-scroll-bars-hidden",iTe="--removed-body-scroll-bar-size";function p2(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function oTe(e,t){var r=b.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var lTe=typeof window<"u"?b.useLayoutEffect:b.useEffect,Q8=new WeakMap;function cTe(e,t){var r=oTe(null,function(n){return e.forEach(function(s){return p2(s,n)})});return lTe(function(){var n=Q8.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(c){i.has(c)||p2(c,null)}),i.forEach(function(c){s.has(c)||p2(c,o)})}Q8.set(r,e)},[e]),r}function dTe(e){return e}function uTe(e,t){t===void 0&&(t=dTe);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(c){return c!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(c){return i(c)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var c=r;r=[],c.forEach(i),o=r}var d=function(){var l=o;o=[],l.forEach(i)},u=function(){return Promise.resolve().then(d)};u(),r={push:function(l){o.push(l),u()},filter:function(l){return o=o.filter(l),r}}}};return s}function fTe(e){e===void 0&&(e={});var t=uTe(null);return t.options=Go({async:!0,ssr:!1},e),t}var ZY=function(e){var t=e.sideCar,r=KY(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return b.createElement(n,Go({},r))};ZY.isSideCarExport=!0;function hTe(e,t){return e.useMedium(t),ZY}var XY=fTe(),g2=function(){},dE=b.forwardRef(function(e,t){var r=b.useRef(null),n=b.useState({onScrollCapture:g2,onWheelCapture:g2,onTouchMoveCapture:g2}),s=n[0],i=n[1],o=e.forwardProps,c=e.children,d=e.className,u=e.removeScrollBar,l=e.enabled,f=e.shards,p=e.sideCar,g=e.noRelative,x=e.noIsolation,S=e.inert,m=e.allowPinchZoom,y=e.as,w=y===void 0?"div":y,C=e.gapMode,E=KY(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=p,k=cTe([r,t]),A=Go(Go({},E),s);return b.createElement(b.Fragment,null,l&&b.createElement(N,{sideCar:XY,removeScrollBar:u,shards:f,noRelative:g,noIsolation:x,inert:S,setCallbacks:i,allowPinchZoom:!!m,lockRef:r,gapMode:C}),o?b.cloneElement(b.Children.only(c),Go(Go({},A),{ref:k})):b.createElement(w,Go({},A,{className:d,ref:k}),c))});dE.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dE.classNames={fullWidth:LS,zeroRight:IS};var mTe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pTe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=mTe();return t&&e.setAttribute("nonce",t),e}function gTe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function xTe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var vTe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=pTe())&&(gTe(t,r),xTe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},yTe=function(){var e=vTe();return function(t,r){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},QY=function(){var e=yTe(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},bTe={left:0,top:0,right:0,gap:0},x2=function(e){return parseInt(e||"",10)||0},wTe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[x2(r),x2(n),x2(s)]},STe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return bTe;var t=wTe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},CTe=QY(),Km="data-scroll-locked",jTe=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(aTe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(Km,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(IS,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(LS,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(IS," .").concat(IS,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(LS," .").concat(LS,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Km,`] {
    `).concat(iTe,": ").concat(c,`px;
  }
`)},J8=function(){var e=parseInt(document.body.getAttribute(Km)||"0",10);return isFinite(e)?e:0},ETe=function(){b.useEffect(function(){return document.body.setAttribute(Km,(J8()+1).toString()),function(){var e=J8()-1;e<=0?document.body.removeAttribute(Km):document.body.setAttribute(Km,e.toString())}},[])},NTe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;ETe();var i=b.useMemo(function(){return STe(s)},[s]);return b.createElement(CTe,{styles:jTe(i,!t,s,r?"":"!important")})},ED=!1;if(typeof window<"u")try{var mw=Object.defineProperty({},"passive",{get:function(){return ED=!0,!0}});window.addEventListener("test",mw,mw),window.removeEventListener("test",mw,mw)}catch{ED=!1}var om=ED?{passive:!1}:!1,_Te=function(e){return e.tagName==="TEXTAREA"},JY=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!_Te(e)&&r[t]==="visible")},ATe=function(e){return JY(e,"overflowY")},kTe=function(e){return JY(e,"overflowX")},eH=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=eK(e,n);if(s){var i=tK(e,n),o=i[1],c=i[2];if(o>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},TTe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},PTe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},eK=function(e,t){return e==="v"?ATe(t):kTe(t)},tK=function(e,t){return e==="v"?TTe(t):PTe(t)},DTe=function(e,t){return e==="h"&&t==="rtl"?-1:1},RTe=function(e,t,r,n,s){var i=DTe(e,window.getComputedStyle(t).direction),o=i*n,c=r.target,d=t.contains(c),u=!1,l=o>0,f=0,p=0;do{if(!c)break;var g=tK(e,c),x=g[0],S=g[1],m=g[2],y=S-m-i*x;(x||y)&&eK(e,c)&&(f+=y,p+=x);var w=c.parentNode;c=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(l&&Math.abs(f)<1||!l&&Math.abs(p)<1)&&(u=!0),u},pw=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},tH=function(e){return[e.deltaX,e.deltaY]},rH=function(e){return e&&"current"in e?e.current:e},MTe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},OTe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ITe=0,lm=[];function LTe(e){var t=b.useRef([]),r=b.useRef([0,0]),n=b.useRef(),s=b.useState(ITe++)[0],i=b.useState(QY)[0],o=b.useRef(e);b.useEffect(function(){o.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var S=sTe([e.lockRef.current],(e.shards||[]).map(rH),!0).filter(Boolean);return S.forEach(function(m){return m.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),S.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var c=b.useCallback(function(S,m){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!o.current.allowPinchZoom;var y=pw(S),w=r.current,C="deltaX"in S?S.deltaX:w[0]-y[0],E="deltaY"in S?S.deltaY:w[1]-y[1],N,k=S.target,A=Math.abs(C)>Math.abs(E)?"h":"v";if("touches"in S&&A==="h"&&k.type==="range")return!1;var T=eH(A,k);if(!T)return!0;if(T?N=A:(N=A==="v"?"h":"v",T=eH(A,k)),!T)return!1;if(!n.current&&"changedTouches"in S&&(C||E)&&(n.current=N),!N)return!0;var P=n.current||N;return RTe(P,m,S,P==="h"?C:E)},[]),d=b.useCallback(function(S){var m=S;if(!(!lm.length||lm[lm.length-1]!==i)){var y="deltaY"in m?tH(m):pw(m),w=t.current.filter(function(N){return N.name===m.type&&(N.target===m.target||m.target===N.shadowParent)&&MTe(N.delta,y)})[0];if(w&&w.should){m.cancelable&&m.preventDefault();return}if(!w){var C=(o.current.shards||[]).map(rH).filter(Boolean).filter(function(N){return N.contains(m.target)}),E=C.length>0?c(m,C[0]):!o.current.noIsolation;E&&m.cancelable&&m.preventDefault()}}},[]),u=b.useCallback(function(S,m,y,w){var C={name:S,delta:m,target:y,should:w,shadowParent:BTe(y)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(E){return E!==C})},1)},[]),l=b.useCallback(function(S){r.current=pw(S),n.current=void 0},[]),f=b.useCallback(function(S){u(S.type,tH(S),S.target,c(S,e.lockRef.current))},[]),p=b.useCallback(function(S){u(S.type,pw(S),S.target,c(S,e.lockRef.current))},[]);b.useEffect(function(){return lm.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",d,om),document.addEventListener("touchmove",d,om),document.addEventListener("touchstart",l,om),function(){lm=lm.filter(function(S){return S!==i}),document.removeEventListener("wheel",d,om),document.removeEventListener("touchmove",d,om),document.removeEventListener("touchstart",l,om)}},[]);var g=e.removeScrollBar,x=e.inert;return b.createElement(b.Fragment,null,x?b.createElement(i,{styles:OTe(s)}):null,g?b.createElement(NTe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function BTe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $Te=hTe(XY,LTe);var O0=b.forwardRef(function(e,t){return b.createElement(dE,Go({},e,{ref:t,sideCar:$Te}))});O0.classNames=dE.classNames;var FTe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},cm=new WeakMap,gw=new WeakMap,xw={},v2=0,rK=function(e){return e&&(e.host||rK(e.parentNode))},HTe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=rK(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},zTe=function(e,t,r,n){var s=HTe(t,Array.isArray(e)?e:[e]);xw[r]||(xw[r]=new WeakMap);var i=xw[r],o=[],c=new Set,d=new Set(s),u=function(f){!f||c.has(f)||(c.add(f),u(f.parentNode))};s.forEach(u);var l=function(f){!f||d.has(f)||Array.prototype.forEach.call(f.children,function(p){if(c.has(p))l(p);else try{var g=p.getAttribute(n),x=g!==null&&g!=="false",S=(cm.get(p)||0)+1,m=(i.get(p)||0)+1;cm.set(p,S),i.set(p,m),o.push(p),S===1&&x&&gw.set(p,!0),m===1&&p.setAttribute(r,"true"),x||p.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",p,y)}})};return l(t),c.clear(),v2++,function(){o.forEach(function(f){var p=cm.get(f)-1,g=i.get(f)-1;cm.set(f,p),i.set(f,g),p||(gw.has(f)||f.removeAttribute(n),gw.delete(f)),g||f.removeAttribute(r)}),v2--,v2||(cm=new WeakMap,cm=new WeakMap,gw=new WeakMap,xw={})}},uE=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=FTe(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),zTe(n,s,r,"aria-hidden")):function(){return null}},fE="Dialog",[nK,sK]=Yn(fE),[UTe,_o]=nK(fE),aK=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,c=b.useRef(null),d=b.useRef(null),[u,l]=qi({prop:n,defaultProp:s??!1,onChange:i,caller:fE});return a.jsx(UTe,{scope:t,triggerRef:c,contentRef:d,contentId:rs(),titleId:rs(),descriptionId:rs(),open:u,onOpenChange:l,onOpenToggle:b.useCallback(()=>l(f=>!f),[l]),modal:o,children:r})};aK.displayName=fE;var iK="DialogTrigger",oK=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=_o(iK,r),i=vt(t,s.triggerRef);return a.jsx(Je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":XM(s.open),...n,ref:i,onClick:Rd(e.onClick,s.onOpenToggle)})});oK.displayName=iK;var KM="DialogPortal",[VTe,lK]=nK(KM,{forceMount:void 0}),cK=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=_o(KM,t);return a.jsx(VTe,{scope:t,forceMount:r,children:b.Children.map(n,o=>a.jsx(cE,{present:r||i.open,children:a.jsx(Qp,{asChild:!0,container:s,children:o})}))})};cK.displayName=KM;var SC="DialogOverlay",dK=b.forwardRef((e,t)=>{const r=lK(SC,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=_o(SC,e.__scopeDialog);return i.modal?a.jsx(cE,{present:n||i.open,children:a.jsx(qTe,{...s,ref:t})}):null});dK.displayName=SC;var WTe=Hd("DialogOverlay.RemoveScroll"),qTe=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=_o(SC,r);return a.jsx(O0,{as:WTe,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Je.div,{"data-state":XM(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),kf="DialogContent",uK=b.forwardRef((e,t)=>{const r=lK(kf,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=_o(kf,e.__scopeDialog);return a.jsx(cE,{present:n||i.open,children:i.modal?a.jsx(GTe,{...s,ref:t}):a.jsx(YTe,{...s,ref:t})})});uK.displayName=kf;var GTe=b.forwardRef((e,t)=>{const r=_o(kf,e.__scopeDialog),n=b.useRef(null),s=vt(t,r.contentRef,n);return b.useEffect(()=>{const i=n.current;if(i)return uE(i)},[]),a.jsx(fK,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Rd(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Rd(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&i.preventDefault()}),onFocusOutside:Rd(e.onFocusOutside,i=>i.preventDefault())})}),YTe=b.forwardRef((e,t)=>{const r=_o(kf,e.__scopeDialog),n=b.useRef(!1),s=b.useRef(!1);return a.jsx(fK,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),fK=b.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,c=_o(kf,r),d=b.useRef(null),u=vt(t,d);return nTe(),a.jsxs(a.Fragment,{children:[a.jsx(M0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(qY,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":XM(c.open),...o,ref:u,onDismiss:()=>c.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(ZTe,{titleId:c.titleId}),a.jsx(QTe,{contentRef:d,descriptionId:c.descriptionId})]})]})}),ZM="DialogTitle",hK=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=_o(ZM,r);return a.jsx(Je.h2,{id:s.titleId,...n,ref:t})});hK.displayName=ZM;var mK="DialogDescription",pK=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=_o(mK,r);return a.jsx(Je.p,{id:s.descriptionId,...n,ref:t})});pK.displayName=mK;var gK="DialogClose",xK=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=_o(gK,r);return a.jsx(Je.button,{type:"button",...n,ref:t,onClick:Rd(e.onClick,()=>s.onOpenChange(!1))})});xK.displayName=gK;function XM(e){return e?"open":"closed"}var vK="DialogTitleWarning",[KTe,yK]=D2e(vK,{contentName:kf,titleName:ZM,docsSlug:"dialog"}),ZTe=({titleId:e})=>{const t=yK(vK),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},XTe="DialogDescriptionWarning",QTe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${yK(XTe).contentName}}.`;return b.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},I0=aK,bK=oK,L0=cK,eu=dK,tu=uK,ru=hK,Xf=pK,B0=xK;const JTe=I0,ePe=L0,wK=b.forwardRef(({className:e,...t},r)=>a.jsx(eu,{className:J("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));wK.displayName=eu.displayName;const tPe=Zf("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),SK=b.forwardRef(({side:e="right",className:t,children:r,...n},s)=>a.jsxs(ePe,{children:[a.jsx(wK,{}),a.jsxs(tu,{ref:s,className:J(tPe({side:e}),t),...n,children:[a.jsxs(B0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(Kf,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]}),r]})]}));SK.displayName=tu.displayName;const CK=({className:e,...t})=>a.jsx("div",{className:J("flex flex-col space-y-2 text-center sm:text-left",e),...t});CK.displayName="SheetHeader";const jK=b.forwardRef(({className:e,...t},r)=>a.jsx(ru,{ref:r,className:J("text-lg font-semibold text-foreground",e),...t}));jK.displayName=ru.displayName;const EK=b.forwardRef(({className:e,...t},r)=>a.jsx(Xf,{ref:r,className:J("text-sm text-muted-foreground",e),...t}));EK.displayName=Xf.displayName;function Xe({className:e,...t}){return a.jsx("div",{className:J("animate-pulse rounded-md bg-primary/10",e),...t})}function At(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),r===!1||!s.defaultPrevented)return t?.(s)}}var rPe="DismissableLayer",ND="dismissableLayer.update",nPe="dismissableLayer.pointerDownOutside",sPe="dismissableLayer.focusOutside",nH,NK=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hE=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:c,...d}=e,u=b.useContext(NK),[l,f]=b.useState(null),p=l?.ownerDocument??globalThis?.document,[,g]=b.useState({}),x=vt(t,A=>f(A)),S=Array.from(u.layers),[m]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=S.indexOf(m),w=l?S.indexOf(l):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,E=w>=y,N=oPe(A=>{const T=A.target,P=[...u.branches].some(M=>M.contains(T));!E||P||(s?.(A),o?.(A),A.defaultPrevented||c?.())},p),k=lPe(A=>{const T=A.target;[...u.branches].some(M=>M.contains(T))||(i?.(A),o?.(A),A.defaultPrevented||c?.())},p);return YM(A=>{w===u.layers.size-1&&(n?.(A),!A.defaultPrevented&&c&&(A.preventDefault(),c()))},p),b.useEffect(()=>{if(l)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(nH=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(l)),u.layers.add(l),sH(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=nH)}},[l,p,r,u]),b.useEffect(()=>()=>{l&&(u.layers.delete(l),u.layersWithOutsidePointerEventsDisabled.delete(l),sH())},[l,u]),b.useEffect(()=>{const A=()=>g({});return document.addEventListener(ND,A),()=>document.removeEventListener(ND,A)},[]),a.jsx(Je.div,{...d,ref:x,style:{pointerEvents:C?E?"auto":"none":void 0,...e.style},onFocusCapture:At(e.onFocusCapture,k.onFocusCapture),onBlurCapture:At(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:At(e.onPointerDownCapture,N.onPointerDownCapture)})});hE.displayName=rPe;var aPe="DismissableLayerBranch",iPe=b.forwardRef((e,t)=>{const r=b.useContext(NK),n=b.useRef(null),s=vt(t,n);return b.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Je.div,{...e,ref:s})});iPe.displayName=aPe;function oPe(e,t=globalThis?.document){const r=Xr(e),n=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=c=>{if(c.target&&!n.current){let d=function(){_K(nPe,r,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function lPe(e,t=globalThis?.document){const r=Xr(e),n=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!n.current&&_K(sPe,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function sH(){const e=new CustomEvent(ND);document.dispatchEvent(e)}function _K(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?lE(s,i):s.dispatchEvent(i)}const cPe=["top","right","bottom","left"],zd=Math.min,Ja=Math.max,CC=Math.round,vw=Math.floor,rl=e=>({x:e,y:e}),dPe={left:"right",right:"left",bottom:"top",top:"bottom"},uPe={start:"end",end:"start"};function _D(e,t,r){return Ja(e,zd(t,r))}function xc(e,t){return typeof e=="function"?e(t):e}function vc(e){return e.split("-")[0]}function Jp(e){return e.split("-")[1]}function QM(e){return e==="x"?"y":"x"}function JM(e){return e==="y"?"height":"width"}const fPe=new Set(["top","bottom"]);function Xo(e){return fPe.has(vc(e))?"y":"x"}function eO(e){return QM(Xo(e))}function hPe(e,t,r){r===void 0&&(r=!1);const n=Jp(e),s=eO(e),i=JM(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=jC(o)),[o,jC(o)]}function mPe(e){const t=jC(e);return[AD(e),t,AD(t)]}function AD(e){return e.replace(/start|end/g,t=>uPe[t])}const aH=["left","right"],iH=["right","left"],pPe=["top","bottom"],gPe=["bottom","top"];function xPe(e,t,r){switch(e){case"top":case"bottom":return r?t?iH:aH:t?aH:iH;case"left":case"right":return t?pPe:gPe;default:return[]}}function vPe(e,t,r,n){const s=Jp(e);let i=xPe(vc(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(AD)))),i}function jC(e){return e.replace(/left|right|bottom|top/g,t=>dPe[t])}function yPe(e){return{top:0,right:0,bottom:0,left:0,...e}}function AK(e){return typeof e!="number"?yPe(e):{top:e,right:e,bottom:e,left:e}}function EC(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function oH(e,t,r){let{reference:n,floating:s}=e;const i=Xo(t),o=eO(t),c=JM(o),d=vc(t),u=i==="y",l=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,p=n[c]/2-s[c]/2;let g;switch(d){case"top":g={x:l,y:n.y-s.height};break;case"bottom":g={x:l,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:f};break;case"left":g={x:n.x-s.width,y:f};break;default:g={x:n.x,y:n.y}}switch(Jp(t)){case"start":g[o]-=p*(r&&u?-1:1);break;case"end":g[o]+=p*(r&&u?-1:1);break}return g}const bPe=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,c=i.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:l,y:f}=oH(u,n,d),p=n,g={},x=0;for(let S=0;S<c.length;S++){const{name:m,fn:y}=c[S],{x:w,y:C,data:E,reset:N}=await y({x:l,y:f,initialPlacement:n,placement:p,strategy:s,middlewareData:g,rects:u,platform:o,elements:{reference:e,floating:t}});l=w??l,f=C??f,g={...g,[m]:{...g[m],...E}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:l,y:f}=oH(u,p,d)),S=-1)}return{x:l,y:f,placement:p,strategy:s,middlewareData:g}};async function Lv(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:c,strategy:d}=e,{boundary:u="clippingAncestors",rootBoundary:l="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=xc(t,e),x=AK(g),m=c[p?f==="floating"?"reference":"floating":f],y=EC(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(m)))==null||r?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:u,rootBoundary:l,strategy:d})),w=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),E=await(i.isElement==null?void 0:i.isElement(C))?await(i.getScale==null?void 0:i.getScale(C))||{x:1,y:1}:{x:1,y:1},N=EC(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:w,offsetParent:C,strategy:d}):w);return{top:(y.top-N.top+x.top)/E.y,bottom:(N.bottom-y.bottom+x.bottom)/E.y,left:(y.left-N.left+x.left)/E.x,right:(N.right-y.right+x.right)/E.x}}const wPe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:c,middlewareData:d}=t,{element:u,padding:l=0}=xc(e,t)||{};if(u==null)return{};const f=AK(l),p={x:r,y:n},g=eO(s),x=JM(g),S=await o.getDimensions(u),m=g==="y",y=m?"top":"left",w=m?"bottom":"right",C=m?"clientHeight":"clientWidth",E=i.reference[x]+i.reference[g]-p[g]-i.floating[x],N=p[g]-i.reference[g],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let A=k?k[C]:0;(!A||!await(o.isElement==null?void 0:o.isElement(k)))&&(A=c.floating[C]||i.floating[x]);const T=E/2-N/2,P=A/2-S[x]/2-1,M=zd(f[y],P),O=zd(f[w],P),R=M,L=A-S[x]-O,B=A/2-S[x]/2+T,F=_D(R,B,L),$=!d.arrow&&Jp(s)!=null&&B!==F&&i.reference[x]/2-(B<R?M:O)-S[x]/2<0,z=$?B<R?B-R:B-L:0;return{[g]:p[g]+z,data:{[g]:F,centerOffset:B-F-z,...$&&{alignmentOffset:z}},reset:$}}}),SPe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:c,platform:d,elements:u}=t,{mainAxis:l=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:S=!0,...m}=xc(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=vc(s),w=Xo(c),C=vc(c)===c,E=await(d.isRTL==null?void 0:d.isRTL(u.floating)),N=p||(C||!S?[jC(c)]:mPe(c)),k=x!=="none";!p&&k&&N.push(...vPe(c,S,x,E));const A=[c,...N],T=await Lv(t,m),P=[];let M=((n=i.flip)==null?void 0:n.overflows)||[];if(l&&P.push(T[y]),f){const B=hPe(s,o,E);P.push(T[B[0]],T[B[1]])}if(M=[...M,{placement:s,overflows:P}],!P.every(B=>B<=0)){var O,R;const B=(((O=i.flip)==null?void 0:O.index)||0)+1,F=A[B];if(F&&(!(f==="alignment"?w!==Xo(F):!1)||M.every(W=>Xo(W.placement)===w?W.overflows[0]>0:!0)))return{data:{index:B,overflows:M},reset:{placement:F}};let $=(R=M.filter(z=>z.overflows[0]<=0).sort((z,W)=>z.overflows[1]-W.overflows[1])[0])==null?void 0:R.placement;if(!$)switch(g){case"bestFit":{var L;const z=(L=M.filter(W=>{if(k){const Z=Xo(W.placement);return Z===w||Z==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(Z=>Z>0).reduce((Z,V)=>Z+V,0)]).sort((W,Z)=>W[1]-Z[1])[0])==null?void 0:L[0];z&&($=z);break}case"initialPlacement":$=c;break}if(s!==$)return{reset:{placement:$}}}return{}}}};function lH(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function cH(e){return cPe.some(t=>e[t]>=0)}const CPe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=xc(e,t);switch(n){case"referenceHidden":{const i=await Lv(t,{...s,elementContext:"reference"}),o=lH(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:cH(o)}}}case"escaped":{const i=await Lv(t,{...s,altBoundary:!0}),o=lH(i,r.floating);return{data:{escapedOffsets:o,escaped:cH(o)}}}default:return{}}}}},kK=new Set(["left","top"]);async function jPe(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=vc(r),c=Jp(r),d=Xo(r)==="y",u=kK.has(o)?-1:1,l=i&&d?-1:1,f=xc(t,e);let{mainAxis:p,crossAxis:g,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof x=="number"&&(g=c==="end"?x*-1:x),d?{x:g*l,y:p*u}:{x:p*u,y:g*l}}const EPe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:c}=t,d=await jPe(t,e);return o===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:s+d.x,y:i+d.y,data:{...d,placement:o}}}}},NPe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:c={fn:m=>{let{x:y,y:w}=m;return{x:y,y:w}}},...d}=xc(e,t),u={x:r,y:n},l=await Lv(t,d),f=Xo(vc(s)),p=QM(f);let g=u[p],x=u[f];if(i){const m=p==="y"?"top":"left",y=p==="y"?"bottom":"right",w=g+l[m],C=g-l[y];g=_D(w,g,C)}if(o){const m=f==="y"?"top":"left",y=f==="y"?"bottom":"right",w=x+l[m],C=x-l[y];x=_D(w,x,C)}const S=c.fn({...t,[p]:g,[f]:x});return{...S,data:{x:S.x-r,y:S.y-n,enabled:{[p]:i,[f]:o}}}}}},_Pe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:c=0,mainAxis:d=!0,crossAxis:u=!0}=xc(e,t),l={x:r,y:n},f=Xo(s),p=QM(f);let g=l[p],x=l[f];const S=xc(c,t),m=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(d){const C=p==="y"?"height":"width",E=i.reference[p]-i.floating[C]+m.mainAxis,N=i.reference[p]+i.reference[C]-m.mainAxis;g<E?g=E:g>N&&(g=N)}if(u){var y,w;const C=p==="y"?"width":"height",E=kK.has(vc(s)),N=i.reference[f]-i.floating[C]+(E&&((y=o.offset)==null?void 0:y[f])||0)+(E?0:m.crossAxis),k=i.reference[f]+i.reference[C]+(E?0:((w=o.offset)==null?void 0:w[f])||0)-(E?m.crossAxis:0);x<N?x=N:x>k&&(x=k)}return{[p]:g,[f]:x}}}},APe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:c}=t,{apply:d=()=>{},...u}=xc(e,t),l=await Lv(t,u),f=vc(s),p=Jp(s),g=Xo(s)==="y",{width:x,height:S}=i.floating;let m,y;f==="top"||f==="bottom"?(m=f,y=p===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(y=f,m=p==="end"?"top":"bottom");const w=S-l.top-l.bottom,C=x-l.left-l.right,E=zd(S-l[m],w),N=zd(x-l[y],C),k=!t.middlewareData.shift;let A=E,T=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=C),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(A=w),k&&!p){const M=Ja(l.left,0),O=Ja(l.right,0),R=Ja(l.top,0),L=Ja(l.bottom,0);g?T=x-2*(M!==0||O!==0?M+O:Ja(l.left,l.right)):A=S-2*(R!==0||L!==0?R+L:Ja(l.top,l.bottom))}await d({...t,availableWidth:T,availableHeight:A});const P=await o.getDimensions(c.floating);return x!==P.width||S!==P.height?{reset:{rects:!0}}:{}}}};function mE(){return typeof window<"u"}function eg(e){return TK(e)?(e.nodeName||"").toLowerCase():"#document"}function ii(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ml(e){var t;return(t=(TK(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function TK(e){return mE()?e instanceof Node||e instanceof ii(e).Node:!1}function vo(e){return mE()?e instanceof Element||e instanceof ii(e).Element:!1}function il(e){return mE()?e instanceof HTMLElement||e instanceof ii(e).HTMLElement:!1}function dH(e){return!mE()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ii(e).ShadowRoot}const kPe=new Set(["inline","contents"]);function $0(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=yo(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!kPe.has(s)}const TPe=new Set(["table","td","th"]);function PPe(e){return TPe.has(eg(e))}const DPe=[":popover-open",":modal"];function pE(e){return DPe.some(t=>{try{return e.matches(t)}catch{return!1}})}const RPe=["transform","translate","scale","rotate","perspective"],MPe=["transform","translate","scale","rotate","perspective","filter"],OPe=["paint","layout","strict","content"];function tO(e){const t=rO(),r=vo(e)?yo(e):e;return RPe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||MPe.some(n=>(r.willChange||"").includes(n))||OPe.some(n=>(r.contain||"").includes(n))}function IPe(e){let t=Ud(e);for(;il(t)&&!dp(t);){if(tO(t))return t;if(pE(t))return null;t=Ud(t)}return null}function rO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const LPe=new Set(["html","body","#document"]);function dp(e){return LPe.has(eg(e))}function yo(e){return ii(e).getComputedStyle(e)}function gE(e){return vo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ud(e){if(eg(e)==="html")return e;const t=e.assignedSlot||e.parentNode||dH(e)&&e.host||ml(e);return dH(t)?t.host:t}function PK(e){const t=Ud(e);return dp(t)?e.ownerDocument?e.ownerDocument.body:e.body:il(t)&&$0(t)?t:PK(t)}function Bv(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=PK(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=ii(s);if(i){const c=kD(o);return t.concat(o,o.visualViewport||[],$0(s)?s:[],c&&r?Bv(c):[])}return t.concat(s,Bv(s,[],r))}function kD(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function DK(e){const t=yo(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=il(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,c=CC(r)!==i||CC(n)!==o;return c&&(r=i,n=o),{width:r,height:n,$:c}}function nO(e){return vo(e)?e:e.contextElement}function Zm(e){const t=nO(e);if(!il(t))return rl(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=DK(t);let o=(i?CC(r.width):r.width)/n,c=(i?CC(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const BPe=rl(0);function RK(e){const t=ii(e);return!rO()||!t.visualViewport?BPe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function $Pe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ii(e)?!1:t}function Tf(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=nO(e);let o=rl(1);t&&(n?vo(n)&&(o=Zm(n)):o=Zm(e));const c=$Pe(i,r,n)?RK(i):rl(0);let d=(s.left+c.x)/o.x,u=(s.top+c.y)/o.y,l=s.width/o.x,f=s.height/o.y;if(i){const p=ii(i),g=n&&vo(n)?ii(n):n;let x=p,S=kD(x);for(;S&&n&&g!==x;){const m=Zm(S),y=S.getBoundingClientRect(),w=yo(S),C=y.left+(S.clientLeft+parseFloat(w.paddingLeft))*m.x,E=y.top+(S.clientTop+parseFloat(w.paddingTop))*m.y;d*=m.x,u*=m.y,l*=m.x,f*=m.y,d+=C,u+=E,x=ii(S),S=kD(x)}}return EC({width:l,height:f,x:d,y:u})}function sO(e,t){const r=gE(e).scrollLeft;return t?t.left+r:Tf(ml(e)).left+r}function MK(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:sO(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function FPe(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=ml(n),c=t?pE(t.floating):!1;if(n===o||c&&i)return r;let d={scrollLeft:0,scrollTop:0},u=rl(1);const l=rl(0),f=il(n);if((f||!f&&!i)&&((eg(n)!=="body"||$0(o))&&(d=gE(n)),il(n))){const g=Tf(n);u=Zm(n),l.x=g.x+n.clientLeft,l.y=g.y+n.clientTop}const p=o&&!f&&!i?MK(o,d,!0):rl(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-d.scrollLeft*u.x+l.x+p.x,y:r.y*u.y-d.scrollTop*u.y+l.y+p.y}}function HPe(e){return Array.from(e.getClientRects())}function zPe(e){const t=ml(e),r=gE(e),n=e.ownerDocument.body,s=Ja(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Ja(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+sO(e);const c=-r.scrollTop;return yo(n).direction==="rtl"&&(o+=Ja(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:c}}function UPe(e,t){const r=ii(e),n=ml(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,c=0,d=0;if(s){i=s.width,o=s.height;const u=rO();(!u||u&&t==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}return{width:i,height:o,x:c,y:d}}const VPe=new Set(["absolute","fixed"]);function WPe(e,t){const r=Tf(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=il(e)?Zm(e):rl(1),o=e.clientWidth*i.x,c=e.clientHeight*i.y,d=s*i.x,u=n*i.y;return{width:o,height:c,x:d,y:u}}function uH(e,t,r){let n;if(t==="viewport")n=UPe(e,r);else if(t==="document")n=zPe(ml(e));else if(vo(t))n=WPe(t,r);else{const s=RK(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return EC(n)}function OK(e,t){const r=Ud(e);return r===t||!vo(r)||dp(r)?!1:yo(r).position==="fixed"||OK(r,t)}function qPe(e,t){const r=t.get(e);if(r)return r;let n=Bv(e,[],!1).filter(c=>vo(c)&&eg(c)!=="body"),s=null;const i=yo(e).position==="fixed";let o=i?Ud(e):e;for(;vo(o)&&!dp(o);){const c=yo(o),d=tO(o);!d&&c.position==="fixed"&&(s=null),(i?!d&&!s:!d&&c.position==="static"&&!!s&&VPe.has(s.position)||$0(o)&&!d&&OK(e,o))?n=n.filter(l=>l!==o):s=c,o=Ud(o)}return t.set(e,n),n}function GPe(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?pE(t)?[]:qPe(t,this._c):[].concat(r),n],c=o[0],d=o.reduce((u,l)=>{const f=uH(t,l,s);return u.top=Ja(f.top,u.top),u.right=zd(f.right,u.right),u.bottom=zd(f.bottom,u.bottom),u.left=Ja(f.left,u.left),u},uH(t,c,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function YPe(e){const{width:t,height:r}=DK(e);return{width:t,height:r}}function KPe(e,t,r){const n=il(t),s=ml(t),i=r==="fixed",o=Tf(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const d=rl(0);function u(){d.x=sO(s)}if(n||!n&&!i)if((eg(t)!=="body"||$0(s))&&(c=gE(t)),n){const g=Tf(t,!0,i,t);d.x=g.x+t.clientLeft,d.y=g.y+t.clientTop}else s&&u();i&&!n&&s&&u();const l=s&&!n&&!i?MK(s,c):rl(0),f=o.left+c.scrollLeft-d.x-l.x,p=o.top+c.scrollTop-d.y-l.y;return{x:f,y:p,width:o.width,height:o.height}}function y2(e){return yo(e).position==="static"}function fH(e,t){if(!il(e)||yo(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ml(e)===r&&(r=r.ownerDocument.body),r}function IK(e,t){const r=ii(e);if(pE(e))return r;if(!il(e)){let s=Ud(e);for(;s&&!dp(s);){if(vo(s)&&!y2(s))return s;s=Ud(s)}return r}let n=fH(e,t);for(;n&&PPe(n)&&y2(n);)n=fH(n,t);return n&&dp(n)&&y2(n)&&!tO(n)?r:n||IPe(e)||r}const ZPe=async function(e){const t=this.getOffsetParent||IK,r=this.getDimensions,n=await r(e.floating);return{reference:KPe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function XPe(e){return yo(e).direction==="rtl"}const QPe={convertOffsetParentRelativeRectToViewportRelativeRect:FPe,getDocumentElement:ml,getClippingRect:GPe,getOffsetParent:IK,getElementRects:ZPe,getClientRects:HPe,getDimensions:YPe,getScale:Zm,isElement:vo,isRTL:XPe};function LK(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function JPe(e,t){let r=null,n;const s=ml(e);function i(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function o(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),i();const u=e.getBoundingClientRect(),{left:l,top:f,width:p,height:g}=u;if(c||t(),!p||!g)return;const x=vw(f),S=vw(s.clientWidth-(l+p)),m=vw(s.clientHeight-(f+g)),y=vw(l),C={rootMargin:-x+"px "+-S+"px "+-m+"px "+-y+"px",threshold:Ja(0,zd(1,d))||1};let E=!0;function N(k){const A=k[0].intersectionRatio;if(A!==d){if(!E)return o();A?o(!1,A):n=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!LK(u,e.getBoundingClientRect())&&o(),E=!1}try{r=new IntersectionObserver(N,{...C,root:s.ownerDocument})}catch{r=new IntersectionObserver(N,C)}r.observe(e)}return o(!0),i}function BK(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,u=nO(e),l=s||i?[...u?Bv(u):[],...Bv(t)]:[];l.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const f=u&&c?JPe(u,r):null;let p=-1,g=null;o&&(g=new ResizeObserver(y=>{let[w]=y;w&&w.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var C;(C=g)==null||C.observe(t)})),r()}),u&&!d&&g.observe(u),g.observe(t));let x,S=d?Tf(e):null;d&&m();function m(){const y=Tf(e);S&&!LK(S,y)&&r(),S=y,x=requestAnimationFrame(m)}return r(),()=>{var y;l.forEach(w=>{s&&w.removeEventListener("scroll",r),i&&w.removeEventListener("resize",r)}),f?.(),(y=g)==null||y.disconnect(),g=null,d&&cancelAnimationFrame(x)}}const eDe=EPe,tDe=NPe,rDe=SPe,nDe=APe,sDe=CPe,hH=wPe,aDe=_Pe,iDe=(e,t,r)=>{const n=new Map,s={platform:QPe,...r},i={...s.platform,_c:n};return bPe(e,t,{...s,platform:i})};var oDe=typeof document<"u",lDe=function(){},BS=oDe?b.useLayoutEffect:lDe;function NC(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!NC(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!NC(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function $K(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function mH(e,t){const r=$K(e);return Math.round(t*r)/r}function b2(e){const t=b.useRef(e);return BS(()=>{t.current=e}),t}function FK(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:c=!0,whileElementsMounted:d,open:u}=e,[l,f]=b.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,g]=b.useState(n);NC(p,n)||g(n);const[x,S]=b.useState(null),[m,y]=b.useState(null),w=b.useCallback(W=>{W!==k.current&&(k.current=W,S(W))},[]),C=b.useCallback(W=>{W!==A.current&&(A.current=W,y(W))},[]),E=i||x,N=o||m,k=b.useRef(null),A=b.useRef(null),T=b.useRef(l),P=d!=null,M=b2(d),O=b2(s),R=b2(u),L=b.useCallback(()=>{if(!k.current||!A.current)return;const W={placement:t,strategy:r,middleware:p};O.current&&(W.platform=O.current),iDe(k.current,A.current,W).then(Z=>{const V={...Z,isPositioned:R.current!==!1};B.current&&!NC(T.current,V)&&(T.current=V,Qd.flushSync(()=>{f(V)}))})},[p,t,r,O,R]);BS(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(W=>({...W,isPositioned:!1})))},[u]);const B=b.useRef(!1);BS(()=>(B.current=!0,()=>{B.current=!1}),[]),BS(()=>{if(E&&(k.current=E),N&&(A.current=N),E&&N){if(M.current)return M.current(E,N,L);L()}},[E,N,L,M,P]);const F=b.useMemo(()=>({reference:k,floating:A,setReference:w,setFloating:C}),[w,C]),$=b.useMemo(()=>({reference:E,floating:N}),[E,N]),z=b.useMemo(()=>{const W={position:r,left:0,top:0};if(!$.floating)return W;const Z=mH($.floating,l.x),V=mH($.floating,l.y);return c?{...W,transform:"translate("+Z+"px, "+V+"px)",...$K($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Z,top:V}},[r,c,$.floating,l.x,l.y]);return b.useMemo(()=>({...l,update:L,refs:F,elements:$,floatingStyles:z}),[l,L,F,$,z])}const cDe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?hH({element:n.current,padding:s}).fn(r):{}:n?hH({element:n,padding:s}).fn(r):{}}}},HK=(e,t)=>({...eDe(e),options:[e,t]}),zK=(e,t)=>({...tDe(e),options:[e,t]}),UK=(e,t)=>({...aDe(e),options:[e,t]}),VK=(e,t)=>({...rDe(e),options:[e,t]}),WK=(e,t)=>({...nDe(e),options:[e,t]}),qK=(e,t)=>({...sDe(e),options:[e,t]}),GK=(e,t)=>({...cDe(e),options:[e,t]});var dDe="Arrow",YK=b.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(Je.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});YK.displayName=dDe;var KK=YK;function F0(e){const[t,r]=b.useState(void 0);return wr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,c;if("borderBoxSize"in i){const d=i.borderBoxSize,u=Array.isArray(d)?d[0]:d;o=u.inlineSize,c=u.blockSize}else o=e.offsetWidth,c=e.offsetHeight;r({width:o,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var aO="Popper",[ZK,tg]=Yn(aO),[uDe,XK]=ZK(aO),QK=e=>{const{__scopePopper:t,children:r}=e,[n,s]=b.useState(null);return a.jsx(uDe,{scope:t,anchor:n,onAnchorChange:s,children:r})};QK.displayName=aO;var JK="PopperAnchor",eZ=b.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=XK(JK,r),o=b.useRef(null),c=vt(t,o);return b.useEffect(()=>{i.onAnchorChange(n?.current||o.current)}),n?null:a.jsx(Je.div,{...s,ref:c})});eZ.displayName=JK;var iO="PopperContent",[fDe,hDe]=ZK(iO),tZ=b.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:l=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:x,...S}=e,m=XK(iO,r),[y,w]=b.useState(null),C=vt(t,de=>w(de)),[E,N]=b.useState(null),k=F0(E),A=k?.width??0,T=k?.height??0,P=n+(i!=="center"?"-"+i:""),M=typeof l=="number"?l:{top:0,right:0,bottom:0,left:0,...l},O=Array.isArray(u)?u:[u],R=O.length>0,L={padding:M,boundary:O.filter(pDe),altBoundary:R},{refs:B,floatingStyles:F,placement:$,isPositioned:z,middlewareData:W}=FK({strategy:"fixed",placement:P,whileElementsMounted:(...de)=>BK(...de,{animationFrame:g==="always"}),elements:{reference:m.anchor},middleware:[HK({mainAxis:s+T,alignmentAxis:o}),d&&zK({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?UK():void 0,...L}),d&&VK({...L}),WK({...L,apply:({elements:de,rects:he,availableWidth:ee,availableHeight:ie})=>{const{width:ye,height:le}=he.reference,Te=de.floating.style;Te.setProperty("--radix-popper-available-width",`${ee}px`),Te.setProperty("--radix-popper-available-height",`${ie}px`),Te.setProperty("--radix-popper-anchor-width",`${ye}px`),Te.setProperty("--radix-popper-anchor-height",`${le}px`)}}),E&&GK({element:E,padding:c}),gDe({arrowWidth:A,arrowHeight:T}),p&&qK({strategy:"referenceHidden",...L})]}),[Z,V]=sZ($),q=Xr(x);wr(()=>{z&&q?.()},[z,q]);const H=W.arrow?.x,K=W.arrow?.y,Y=W.arrow?.centerOffset!==0,[re,me]=b.useState();return wr(()=>{y&&me(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:z?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[W.transformOrigin?.x,W.transformOrigin?.y].join(" "),...W.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(fDe,{scope:r,placedSide:Z,onArrowChange:N,arrowX:H,arrowY:K,shouldHideArrow:Y,children:a.jsx(Je.div,{"data-side":Z,"data-align":V,...S,ref:C,style:{...S.style,animation:z?void 0:"none"}})})})});tZ.displayName=iO;var rZ="PopperArrow",mDe={top:"bottom",right:"left",bottom:"top",left:"right"},nZ=b.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=hDe(rZ,n),o=mDe[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(KK,{...s,ref:r,style:{...s.style,display:"block"}})})});nZ.displayName=rZ;function pDe(e){return e!==null}var gDe=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:s}=t,o=s.arrow?.centerOffset!==0,c=o?0:e.arrowWidth,d=o?0:e.arrowHeight,[u,l]=sZ(r),f={start:"0%",center:"50%",end:"100%"}[l],p=(s.arrow?.x??0)+c/2,g=(s.arrow?.y??0)+d/2;let x="",S="";return u==="bottom"?(x=o?f:`${p}px`,S=`${-d}px`):u==="top"?(x=o?f:`${p}px`,S=`${n.floating.height+d}px`):u==="right"?(x=`${-d}px`,S=o?f:`${g}px`):u==="left"&&(x=`${n.floating.width+d}px`,S=o?f:`${g}px`),{data:{x,y:S}}}});function sZ(e){const[t,r="center"]=e.split("-");return[t,r]}var oO=QK,xE=eZ,lO=tZ,cO=nZ;function xDe(e,t){return b.useReducer((r,n)=>t[r][n]??r,e)}var pl=e=>{const{present:t,children:r}=e,n=vDe(t),s=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),i=vt(n.ref,yDe(s));return typeof r=="function"||n.isPresent?b.cloneElement(s,{ref:i}):null};pl.displayName="Presence";function vDe(e){const[t,r]=b.useState(),n=b.useRef(null),s=b.useRef(e),i=b.useRef("none"),o=e?"mounted":"unmounted",[c,d]=xDe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=yw(n.current);i.current=c==="mounted"?u:"none"},[c]),wr(()=>{const u=n.current,l=s.current;if(l!==e){const p=i.current,g=yw(u);e?d("MOUNT"):g==="none"||u?.display==="none"?d("UNMOUNT"):d(l&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),wr(()=>{if(t){let u;const l=t.ownerDocument.defaultView??window,f=g=>{const S=yw(n.current).includes(g.animationName);if(g.target===t&&S&&(d("ANIMATION_END"),!s.current)){const m=t.style.animationFillMode;t.style.animationFillMode="forwards",u=l.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=m)})}},p=g=>{g.target===t&&(i.current=yw(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{l.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:b.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function yw(e){return e?.animationName||"none"}function yDe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var aZ=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),bDe="VisuallyHidden",iZ=b.forwardRef((e,t)=>a.jsx(Je.span,{...e,ref:t,style:{...aZ,...e.style}}));iZ.displayName=bDe;var wDe=iZ,[vE,hxt]=Yn("Tooltip",[tg]),yE=tg(),oZ="TooltipProvider",SDe=700,TD="tooltip.open",[CDe,dO]=vE(oZ),lZ=e=>{const{__scopeTooltip:t,delayDuration:r=SDe,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,o=b.useRef(!0),c=b.useRef(!1),d=b.useRef(0);return b.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),a.jsx(CDe,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:b.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:b.useCallback(u=>{c.current=u},[]),disableHoverableContent:s,children:i})};lZ.displayName=oZ;var $v="Tooltip",[jDe,H0]=vE($v),cZ=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:c}=e,d=dO($v,e.__scopeTooltip),u=yE(t),[l,f]=b.useState(null),p=rs(),g=b.useRef(0),x=o??d.disableHoverableContent,S=c??d.delayDuration,m=b.useRef(!1),[y,w]=qi({prop:n,defaultProp:s??!1,onChange:A=>{A?(d.onOpen(),document.dispatchEvent(new CustomEvent(TD))):d.onClose(),i?.(A)},caller:$v}),C=b.useMemo(()=>y?m.current?"delayed-open":"instant-open":"closed",[y]),E=b.useCallback(()=>{window.clearTimeout(g.current),g.current=0,m.current=!1,w(!0)},[w]),N=b.useCallback(()=>{window.clearTimeout(g.current),g.current=0,w(!1)},[w]),k=b.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{m.current=!0,w(!0),g.current=0},S)},[S,w]);return b.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),a.jsx(oO,{...u,children:a.jsx(jDe,{scope:t,contentId:p,open:y,stateAttribute:C,trigger:l,onTriggerChange:f,onTriggerEnter:b.useCallback(()=>{d.isOpenDelayedRef.current?k():E()},[d.isOpenDelayedRef,k,E]),onTriggerLeave:b.useCallback(()=>{x?N():(window.clearTimeout(g.current),g.current=0)},[N,x]),onOpen:E,onClose:N,disableHoverableContent:x,children:r})})};cZ.displayName=$v;var PD="TooltipTrigger",dZ=b.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=H0(PD,r),i=dO(PD,r),o=yE(r),c=b.useRef(null),d=vt(t,c,s.onTriggerChange),u=b.useRef(!1),l=b.useRef(!1),f=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(xE,{asChild:!0,...o,children:a.jsx(Je.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:d,onPointerMove:At(e.onPointerMove,p=>{p.pointerType!=="touch"&&!l.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),l.current=!0)}),onPointerLeave:At(e.onPointerLeave,()=>{s.onTriggerLeave(),l.current=!1}),onPointerDown:At(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:At(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:At(e.onBlur,s.onClose),onClick:At(e.onClick,s.onClose)})})});dZ.displayName=PD;var uO="TooltipPortal",[EDe,NDe]=vE(uO,{forceMount:void 0}),uZ=e=>{const{__scopeTooltip:t,forceMount:r,children:n,container:s}=e,i=H0(uO,t);return a.jsx(EDe,{scope:t,forceMount:r,children:a.jsx(pl,{present:r||i.open,children:a.jsx(Qp,{asChild:!0,container:s,children:n})})})};uZ.displayName=uO;var up="TooltipContent",fZ=b.forwardRef((e,t)=>{const r=NDe(up,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,o=H0(up,e.__scopeTooltip);return a.jsx(pl,{present:n||o.open,children:o.disableHoverableContent?a.jsx(hZ,{side:s,...i,ref:t}):a.jsx(_De,{side:s,...i,ref:t})})}),_De=b.forwardRef((e,t)=>{const r=H0(up,e.__scopeTooltip),n=dO(up,e.__scopeTooltip),s=b.useRef(null),i=vt(t,s),[o,c]=b.useState(null),{trigger:d,onClose:u}=r,l=s.current,{onPointerInTransitChange:f}=n,p=b.useCallback(()=>{c(null),f(!1)},[f]),g=b.useCallback((x,S)=>{const m=x.currentTarget,y={x:x.clientX,y:x.clientY},w=DDe(y,m.getBoundingClientRect()),C=RDe(y,w),E=MDe(S.getBoundingClientRect()),N=IDe([...C,...E]);c(N),f(!0)},[f]);return b.useEffect(()=>()=>p(),[p]),b.useEffect(()=>{if(d&&l){const x=m=>g(m,l),S=m=>g(m,d);return d.addEventListener("pointerleave",x),l.addEventListener("pointerleave",S),()=>{d.removeEventListener("pointerleave",x),l.removeEventListener("pointerleave",S)}}},[d,l,g,p]),b.useEffect(()=>{if(o){const x=S=>{const m=S.target,y={x:S.clientX,y:S.clientY},w=d?.contains(m)||l?.contains(m),C=!ODe(y,o);w?p():C&&(p(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[d,l,o,u,p]),a.jsx(hZ,{...e,ref:i})}),[ADe,kDe]=vE($v,{isInside:!1}),TDe=FY("TooltipContent"),hZ=b.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...c}=e,d=H0(up,r),u=yE(r),{onClose:l}=d;return b.useEffect(()=>(document.addEventListener(TD,l),()=>document.removeEventListener(TD,l)),[l]),b.useEffect(()=>{if(d.trigger){const f=p=>{p.target?.contains(d.trigger)&&l()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[d.trigger,l]),a.jsx(hE,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:l,children:a.jsxs(lO,{"data-state":d.stateAttribute,...u,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(TDe,{children:n}),a.jsx(ADe,{scope:r,isInside:!0,children:a.jsx(wDe,{id:d.contentId,role:"tooltip",children:s||n})})]})})});fZ.displayName=up;var mZ="TooltipArrow",PDe=b.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=yE(r);return kDe(mZ,r).isInside?null:a.jsx(cO,{...s,...n,ref:t})});PDe.displayName=mZ;function DDe(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function RDe(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function MDe(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function ODe(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const c=t[i],d=t[o],u=c.x,l=c.y,f=d.x,p=d.y;l>n!=p>n&&r<(f-u)*(n-l)/(p-l)+u&&(s=!s)}return s}function IDe(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),LDe(t)}function LDe(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var BDe=lZ,$De=cZ,FDe=dZ,HDe=uZ,pZ=fZ;const zDe=BDe,UDe=$De,VDe=FDe,gZ=b.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(HDe,{children:a.jsx(pZ,{ref:n,sideOffset:t,className:J("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r})}));gZ.displayName=pZ.displayName;const WDe="sidebar_state",qDe=60*60*24*7,GDe="16rem",YDe="18rem",KDe="3rem",ZDe="b",xZ=b.createContext(null);function bE(){const e=b.useContext(xZ);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const vZ=b.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:s,children:i,...o},c)=>{const d=ea(),[u,l]=b.useState(!1),[f,p]=b.useState(e),g=t??f,x=b.useCallback(w=>{const C=typeof w=="function"?w(g):w;r?r(C):p(C),document.cookie=`${WDe}=${C}; path=/; max-age=${qDe}`},[r,g]),S=b.useCallback(()=>d?l(w=>!w):x(w=>!w),[d,x,l]);b.useEffect(()=>{const w=C=>{C.key===ZDe&&(C.metaKey||C.ctrlKey)&&(C.preventDefault(),S())};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[S]);const m=g?"expanded":"collapsed",y=b.useMemo(()=>({state:m,open:g,setOpen:x,isMobile:d,openMobile:u,setOpenMobile:l,toggleSidebar:S}),[m,g,x,d,u,l,S]);return a.jsx(xZ.Provider,{value:y,children:a.jsx(zDe,{delayDuration:0,children:a.jsx("div",{style:{"--sidebar-width":GDe,"--sidebar-width-icon":KDe,...s},className:J("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:c,...o,children:i})})})});vZ.displayName="SidebarProvider";const yZ=b.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:s,...i},o)=>{const{isMobile:c,state:d,openMobile:u,setOpenMobile:l}=bE();return r==="none"?a.jsx("div",{className:J("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:o,...i,children:s}):c?a.jsx(JTe,{open:u,onOpenChange:l,...i,children:a.jsxs(SK,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":YDe},side:e,children:[a.jsxs(CK,{className:"sr-only",children:[a.jsx(jK,{children:"Sidebar"}),a.jsx(EK,{children:"Displays the mobile sidebar."})]}),a.jsx("div",{className:"flex h-full w-full flex-col bg-sidebar",children:s})]})}):a.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":d,"data-collapsible":d==="collapsed"?r:"","data-variant":t,"data-side":e,children:[a.jsx("div",{className:J("relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),a.jsx("div",{className:J("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...i,children:a.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});yZ.displayName="Sidebar";const DD=b.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:s}=bE();return a.jsxs(X,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:J("h-7 w-7",e),onClick:i=>{t?.(i),s()},...r,children:[a.jsx(eke,{}),a.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});DD.displayName="SidebarTrigger";const XDe=b.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=bE();return a.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:J("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});XDe.displayName="SidebarRail";const bZ=b.forwardRef(({className:e,...t},r)=>a.jsx("main",{ref:r,className:J("relative flex w-full flex-1 flex-col bg-background","md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));bZ.displayName="SidebarInset";const QDe=b.forwardRef(({className:e,...t},r)=>a.jsx(et,{ref:r,"data-sidebar":"input",className:J("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));QDe.displayName="SidebarInput";const wZ=b.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"header",className:J("flex flex-col gap-2 p-2",e),...t}));wZ.displayName="SidebarHeader";const SZ=b.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"footer",className:J("flex flex-col gap-2 p-2",e),...t}));SZ.displayName="SidebarFooter";const JDe=b.forwardRef(({className:e,...t},r)=>a.jsx(Xs,{ref:r,"data-sidebar":"separator",className:J("mx-2 w-auto bg-sidebar-border",e),...t}));JDe.displayName="SidebarSeparator";const CZ=b.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"content",className:J("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));CZ.displayName="SidebarContent";const jZ=b.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"group",className:J("relative flex w-full min-w-0 flex-col p-2",e),...t}));jZ.displayName="SidebarGroup";const EZ=b.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const s=t?Jd:"div";return a.jsx(s,{ref:n,"data-sidebar":"group-label",className:J("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});EZ.displayName="SidebarGroupLabel";const eRe=b.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const s=t?Jd:"button";return a.jsx(s,{ref:n,"data-sidebar":"group-action",className:J("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});eRe.displayName="SidebarGroupAction";const NZ=b.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"group-content",className:J("w-full text-sm",e),...t}));NZ.displayName="SidebarGroupContent";const fO=b.forwardRef(({className:e,...t},r)=>a.jsx("ul",{ref:r,"data-sidebar":"menu",className:J("flex w-full min-w-0 flex-col gap-1",e),...t}));fO.displayName="SidebarMenu";const _C=b.forwardRef(({className:e,...t},r)=>a.jsx("li",{ref:r,"data-sidebar":"menu-item",className:J("group/menu-item relative",e),...t}));_C.displayName="SidebarMenuItem";const tRe=Zf("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),AC=b.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:s,className:i,...o},c)=>{const d=e?Jd:"button",{isMobile:u,state:l}=bE(),f=a.jsx(d,{ref:c,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:J(tRe({variant:r,size:n}),i),...o});return s?(typeof s=="string"&&(s={children:s}),a.jsxs(UDe,{children:[a.jsx(VDe,{asChild:!0,children:f}),a.jsx(gZ,{side:"right",align:"center",hidden:l!=="collapsed"||u,...s})]})):f});AC.displayName="SidebarMenuButton";const rRe=b.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},s)=>{const i=t?Jd:"button";return a.jsx(i,{ref:s,"data-sidebar":"menu-action",className:J("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});rRe.displayName="SidebarMenuAction";const nRe=b.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:J("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));nRe.displayName="SidebarMenuBadge";const sRe=b.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const s=b.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return a.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:J("flex h-8 items-center gap-2 rounded-md px-2",e),...r,children:[t&&a.jsx(Xe,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),a.jsx(Xe,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});sRe.displayName="SidebarMenuSkeleton";const aRe=b.forwardRef(({className:e,...t},r)=>a.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:J("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));aRe.displayName="SidebarMenuSub";const iRe=b.forwardRef(({...e},t)=>a.jsx("li",{ref:t,...e}));iRe.displayName="SidebarMenuSubItem";const oRe=b.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...s},i)=>{const o=e?Jd:"a";return a.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:J("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...s})});oRe.displayName="SidebarMenuSubButton";var pH=1,lRe=.9,cRe=.8,dRe=.17,w2=.1,S2=.999,uRe=.9999,fRe=.99,hRe=/[\\\/_+.#"@\[\(\{&]/,mRe=/[\\\/_+.#"@\[\(\{&]/g,pRe=/[\s-]/,_Z=/[\s-]/g;function RD(e,t,r,n,s,i,o){if(i===t.length)return s===e.length?pH:fRe;var c=`${s},${i}`;if(o[c]!==void 0)return o[c];for(var d=n.charAt(i),u=r.indexOf(d,s),l=0,f,p,g,x;u>=0;)f=RD(e,t,r,n,u+1,i+1,o),f>l&&(u===s?f*=pH:hRe.test(e.charAt(u-1))?(f*=cRe,g=e.slice(s,u-1).match(mRe),g&&s>0&&(f*=Math.pow(S2,g.length))):pRe.test(e.charAt(u-1))?(f*=lRe,x=e.slice(s,u-1).match(_Z),x&&s>0&&(f*=Math.pow(S2,x.length))):(f*=dRe,s>0&&(f*=Math.pow(S2,u-s))),e.charAt(u)!==t.charAt(i)&&(f*=uRe)),(f<w2&&r.charAt(u-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(u-1)!==n.charAt(i))&&(p=RD(e,t,r,n,u+1,i+2,o),p*w2>f&&(f=p*w2)),f>l&&(l=f),u=r.indexOf(d,u+1);return o[c]=l,l}function gH(e){return e.toLowerCase().replace(_Z," ")}function gRe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,RD(e,t,gH(e),gH(t),0,0,{})}var Bx='[cmdk-group=""]',C2='[cmdk-group-items=""]',xRe='[cmdk-group-heading=""]',AZ='[cmdk-item=""]',xH=`${AZ}:not([aria-disabled="true"])`,MD="cmdk-item-select",Am="data-value",vRe=(e,t,r)=>gRe(e,t,r),kZ=b.createContext(void 0),z0=()=>b.useContext(kZ),TZ=b.createContext(void 0),hO=()=>b.useContext(TZ),PZ=b.createContext(void 0),DZ=b.forwardRef((e,t)=>{let r=km(()=>{var H,K;return{search:"",value:(K=(H=e.value)!=null?H:e.defaultValue)!=null?K:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=km(()=>new Set),s=km(()=>new Map),i=km(()=>new Map),o=km(()=>new Set),c=RZ(e),{label:d,children:u,value:l,onValueChange:f,filter:p,shouldFilter:g,loop:x,disablePointerSelection:S=!1,vimBindings:m=!0,...y}=e,w=rs(),C=rs(),E=rs(),N=b.useRef(null),k=kRe();Pf(()=>{if(l!==void 0){let H=l.trim();r.current.value=H,A.emit()}},[l]),Pf(()=>{k(6,L)},[]);let A=b.useMemo(()=>({subscribe:H=>(o.current.add(H),()=>o.current.delete(H)),snapshot:()=>r.current,setState:(H,K,Y)=>{var re,me,de,he;if(!Object.is(r.current[H],K)){if(r.current[H]=K,H==="search")R(),M(),k(1,O);else if(H==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ee=document.getElementById(E);ee?ee.focus():(re=document.getElementById(w))==null||re.focus()}if(k(7,()=>{var ee;r.current.selectedItemId=(ee=B())==null?void 0:ee.id,A.emit()}),Y||k(5,L),((me=c.current)==null?void 0:me.value)!==void 0){let ee=K??"";(he=(de=c.current).onValueChange)==null||he.call(de,ee);return}}A.emit()}},emit:()=>{o.current.forEach(H=>H())}}),[]),T=b.useMemo(()=>({value:(H,K,Y)=>{var re;K!==((re=i.current.get(H))==null?void 0:re.value)&&(i.current.set(H,{value:K,keywords:Y}),r.current.filtered.items.set(H,P(K,Y)),k(2,()=>{M(),A.emit()}))},item:(H,K)=>(n.current.add(H),K&&(s.current.has(K)?s.current.get(K).add(H):s.current.set(K,new Set([H]))),k(3,()=>{R(),M(),r.current.value||O(),A.emit()}),()=>{i.current.delete(H),n.current.delete(H),r.current.filtered.items.delete(H);let Y=B();k(4,()=>{R(),Y?.getAttribute("id")===H&&O(),A.emit()})}),group:H=>(s.current.has(H)||s.current.set(H,new Set),()=>{i.current.delete(H),s.current.delete(H)}),filter:()=>c.current.shouldFilter,label:d||e["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:w,inputId:E,labelId:C,listInnerRef:N}),[]);function P(H,K){var Y,re;let me=(re=(Y=c.current)==null?void 0:Y.filter)!=null?re:vRe;return H?me(H,r.current.search,K):0}function M(){if(!r.current.search||c.current.shouldFilter===!1)return;let H=r.current.filtered.items,K=[];r.current.filtered.groups.forEach(re=>{let me=s.current.get(re),de=0;me.forEach(he=>{let ee=H.get(he);de=Math.max(ee,de)}),K.push([re,de])});let Y=N.current;F().sort((re,me)=>{var de,he;let ee=re.getAttribute("id"),ie=me.getAttribute("id");return((de=H.get(ie))!=null?de:0)-((he=H.get(ee))!=null?he:0)}).forEach(re=>{let me=re.closest(C2);me?me.appendChild(re.parentElement===me?re:re.closest(`${C2} > *`)):Y.appendChild(re.parentElement===Y?re:re.closest(`${C2} > *`))}),K.sort((re,me)=>me[1]-re[1]).forEach(re=>{var me;let de=(me=N.current)==null?void 0:me.querySelector(`${Bx}[${Am}="${encodeURIComponent(re[0])}"]`);de?.parentElement.appendChild(de)})}function O(){let H=F().find(Y=>Y.getAttribute("aria-disabled")!=="true"),K=H?.getAttribute(Am);A.setState("value",K||void 0)}function R(){var H,K,Y,re;if(!r.current.search||c.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let me=0;for(let de of n.current){let he=(K=(H=i.current.get(de))==null?void 0:H.value)!=null?K:"",ee=(re=(Y=i.current.get(de))==null?void 0:Y.keywords)!=null?re:[],ie=P(he,ee);r.current.filtered.items.set(de,ie),ie>0&&me++}for(let[de,he]of s.current)for(let ee of he)if(r.current.filtered.items.get(ee)>0){r.current.filtered.groups.add(de);break}r.current.filtered.count=me}function L(){var H,K,Y;let re=B();re&&(((H=re.parentElement)==null?void 0:H.firstChild)===re&&((Y=(K=re.closest(Bx))==null?void 0:K.querySelector(xRe))==null||Y.scrollIntoView({block:"nearest"})),re.scrollIntoView({block:"nearest"}))}function B(){var H;return(H=N.current)==null?void 0:H.querySelector(`${AZ}[aria-selected="true"]`)}function F(){var H;return Array.from(((H=N.current)==null?void 0:H.querySelectorAll(xH))||[])}function $(H){let K=F()[H];K&&A.setState("value",K.getAttribute(Am))}function z(H){var K;let Y=B(),re=F(),me=re.findIndex(he=>he===Y),de=re[me+H];(K=c.current)!=null&&K.loop&&(de=me+H<0?re[re.length-1]:me+H===re.length?re[0]:re[me+H]),de&&A.setState("value",de.getAttribute(Am))}function W(H){let K=B(),Y=K?.closest(Bx),re;for(;Y&&!re;)Y=H>0?_Re(Y,Bx):ARe(Y,Bx),re=Y?.querySelector(xH);re?A.setState("value",re.getAttribute(Am)):z(H)}let Z=()=>$(F().length-1),V=H=>{H.preventDefault(),H.metaKey?Z():H.altKey?W(1):z(1)},q=H=>{H.preventDefault(),H.metaKey?$(0):H.altKey?W(-1):z(-1)};return b.createElement(Je.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:H=>{var K;(K=y.onKeyDown)==null||K.call(y,H);let Y=H.nativeEvent.isComposing||H.keyCode===229;if(!(H.defaultPrevented||Y))switch(H.key){case"n":case"j":{m&&H.ctrlKey&&V(H);break}case"ArrowDown":{V(H);break}case"p":case"k":{m&&H.ctrlKey&&q(H);break}case"ArrowUp":{q(H);break}case"Home":{H.preventDefault(),$(0);break}case"End":{H.preventDefault(),Z();break}case"Enter":{H.preventDefault();let re=B();if(re){let me=new Event(MD);re.dispatchEvent(me)}}}}},b.createElement("label",{"cmdk-label":"",htmlFor:T.inputId,id:T.labelId,style:PRe},d),wE(e,H=>b.createElement(TZ.Provider,{value:A},b.createElement(kZ.Provider,{value:T},H))))}),yRe=b.forwardRef((e,t)=>{var r,n;let s=rs(),i=b.useRef(null),o=b.useContext(PZ),c=z0(),d=RZ(e),u=(n=(r=d.current)==null?void 0:r.forceMount)!=null?n:o?.forceMount;Pf(()=>{if(!u)return c.item(s,o?.id)},[u]);let l=MZ(s,i,[e.value,e.children,i],e.keywords),f=hO(),p=Vd(k=>k.value&&k.value===l.current),g=Vd(k=>u||c.filter()===!1?!0:k.search?k.filtered.items.get(s)>0:!0);b.useEffect(()=>{let k=i.current;if(!(!k||e.disabled))return k.addEventListener(MD,x),()=>k.removeEventListener(MD,x)},[g,e.onSelect,e.disabled]);function x(){var k,A;S(),(A=(k=d.current).onSelect)==null||A.call(k,l.current)}function S(){f.setState("value",l.current,!0)}if(!g)return null;let{disabled:m,value:y,onSelect:w,forceMount:C,keywords:E,...N}=e;return b.createElement(Je.div,{ref:gc(i,t),...N,id:s,"cmdk-item":"",role:"option","aria-disabled":!!m,"aria-selected":!!p,"data-disabled":!!m,"data-selected":!!p,onPointerMove:m||c.getDisablePointerSelection()?void 0:S,onClick:m?void 0:x},e.children)}),bRe=b.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:s,...i}=e,o=rs(),c=b.useRef(null),d=b.useRef(null),u=rs(),l=z0(),f=Vd(g=>s||l.filter()===!1?!0:g.search?g.filtered.groups.has(o):!0);Pf(()=>l.group(o),[]),MZ(o,c,[e.value,e.heading,d]);let p=b.useMemo(()=>({id:o,forceMount:s}),[s]);return b.createElement(Je.div,{ref:gc(c,t),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&b.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),wE(e,g=>b.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},b.createElement(PZ.Provider,{value:p},g))))}),wRe=b.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,s=b.useRef(null),i=Vd(o=>!o.search);return!r&&!i?null:b.createElement(Je.div,{ref:gc(s,t),...n,"cmdk-separator":"",role:"separator"})}),SRe=b.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,s=e.value!=null,i=hO(),o=Vd(u=>u.search),c=Vd(u=>u.selectedItemId),d=z0();return b.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),b.createElement(Je.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":c,id:d.inputId,type:"text",value:s?e.value:o,onChange:u=>{s||i.setState("search",u.target.value),r?.(u.target.value)}})}),CRe=b.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...s}=e,i=b.useRef(null),o=b.useRef(null),c=Vd(u=>u.selectedItemId),d=z0();return b.useEffect(()=>{if(o.current&&i.current){let u=o.current,l=i.current,f,p=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let g=u.offsetHeight;l.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return p.observe(u),()=>{cancelAnimationFrame(f),p.unobserve(u)}}},[]),b.createElement(Je.div,{ref:gc(i,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":c,"aria-label":n,id:d.listId},wE(e,u=>b.createElement("div",{ref:gc(o,d.listInnerRef),"cmdk-list-sizer":""},u)))}),jRe=b.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:i,container:o,...c}=e;return b.createElement(I0,{open:r,onOpenChange:n},b.createElement(L0,{container:o},b.createElement(eu,{"cmdk-overlay":"",className:s}),b.createElement(tu,{"aria-label":e.label,"cmdk-dialog":"",className:i},b.createElement(DZ,{ref:t,...c}))))}),ERe=b.forwardRef((e,t)=>Vd(r=>r.filtered.count===0)?b.createElement(Je.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),NRe=b.forwardRef((e,t)=>{let{progress:r,children:n,label:s="Loading...",...i}=e;return b.createElement(Je.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},wE(e,o=>b.createElement("div",{"aria-hidden":!0},o)))}),La=Object.assign(DZ,{List:CRe,Item:yRe,Input:SRe,Group:bRe,Separator:wRe,Dialog:jRe,Empty:ERe,Loading:NRe});function _Re(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function ARe(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function RZ(e){let t=b.useRef(e);return Pf(()=>{t.current=e}),t}var Pf=typeof window>"u"?b.useEffect:b.useLayoutEffect;function km(e){let t=b.useRef();return t.current===void 0&&(t.current=e()),t}function Vd(e){let t=hO(),r=()=>e(t.snapshot());return b.useSyncExternalStore(t.subscribe,r,r)}function MZ(e,t,r,n=[]){let s=b.useRef(),i=z0();return Pf(()=>{var o;let c=(()=>{var u;for(let l of r){if(typeof l=="string")return l.trim();if(typeof l=="object"&&"current"in l)return l.current?(u=l.current.textContent)==null?void 0:u.trim():s.current}})(),d=n.map(u=>u.trim());i.value(e,c,d),(o=t.current)==null||o.setAttribute(Am,c),s.current=c}),s}var kRe=()=>{let[e,t]=b.useState(),r=km(()=>new Map);return Pf(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,s)=>{r.current.set(n,s),t({})}};function TRe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function wE({asChild:e,children:t},r){return e&&b.isValidElement(t)?b.cloneElement(TRe(t),{ref:t.ref},r(t.props.children)):r(t)}var PRe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const An=I0,OZ=bK,DRe=L0,IZ=b.forwardRef(({className:e,...t},r)=>a.jsx(eu,{ref:r,className:J("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));IZ.displayName=eu.displayName;const hn=b.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(DRe,{children:[a.jsx(IZ,{}),a.jsxs(tu,{ref:n,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(B0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Kf,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));hn.displayName=tu.displayName;const mn=({className:e,...t})=>a.jsx("div",{className:J("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});mn.displayName="DialogHeader";const kn=({className:e,...t})=>a.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});kn.displayName="DialogFooter";const pn=b.forwardRef(({className:e,...t},r)=>a.jsx(ru,{ref:r,className:J("text-lg font-semibold leading-none tracking-tight",e),...t}));pn.displayName=ru.displayName;const In=b.forwardRef(({className:e,...t},r)=>a.jsx(Xf,{ref:r,className:J("text-sm text-muted-foreground",e),...t}));In.displayName=Xf.displayName;const LZ=b.forwardRef(({className:e,...t},r)=>a.jsx(La,{ref:r,className:J("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));LZ.displayName=La.displayName;const BZ=b.forwardRef(({className:e,...t},r)=>a.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[a.jsx(Pc,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),a.jsx(La.Input,{ref:r,className:J("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));BZ.displayName=La.Input.displayName;const $Z=b.forwardRef(({className:e,...t},r)=>a.jsx(La.List,{ref:r,className:J("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));$Z.displayName=La.List.displayName;const FZ=b.forwardRef((e,t)=>a.jsx(La.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));FZ.displayName=La.Empty.displayName;const HZ=b.forwardRef(({className:e,...t},r)=>a.jsx(La.Group,{ref:r,className:J("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));HZ.displayName=La.Group.displayName;const RRe=b.forwardRef(({className:e,...t},r)=>a.jsx(La.Separator,{ref:r,className:J("-mx-1 h-px bg-border",e),...t}));RRe.displayName=La.Separator.displayName;const zZ=b.forwardRef(({className:e,...t},r)=>a.jsx(La.Item,{ref:r,className:J("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));zZ.displayName=La.Item.displayName;var j2=0;function UZ(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??vH()),document.body.insertAdjacentElement("beforeend",e[1]??vH()),j2++,()=>{j2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),j2--}},[])}function vH(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var SE="Popover",[VZ,mxt]=Yn(SE,[tg]),U0=tg(),[MRe,nu]=VZ(SE),WZ=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,c=U0(t),d=b.useRef(null),[u,l]=b.useState(!1),[f,p]=qi({prop:n,defaultProp:s??!1,onChange:i,caller:SE});return a.jsx(oO,{...c,children:a.jsx(MRe,{scope:t,contentId:rs(),triggerRef:d,open:f,onOpenChange:p,onOpenToggle:b.useCallback(()=>p(g=>!g),[p]),hasCustomAnchor:u,onCustomAnchorAdd:b.useCallback(()=>l(!0),[]),onCustomAnchorRemove:b.useCallback(()=>l(!1),[]),modal:o,children:r})})};WZ.displayName=SE;var qZ="PopoverAnchor",ORe=b.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=nu(qZ,r),i=U0(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:c}=s;return b.useEffect(()=>(o(),()=>c()),[o,c]),a.jsx(xE,{...i,...n,ref:t})});ORe.displayName=qZ;var GZ="PopoverTrigger",YZ=b.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=nu(GZ,r),i=U0(r),o=vt(t,s.triggerRef),c=a.jsx(Je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":JZ(s.open),...n,ref:o,onClick:At(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?c:a.jsx(xE,{asChild:!0,...i,children:c})});YZ.displayName=GZ;var mO="PopoverPortal",[IRe,LRe]=VZ(mO,{forceMount:void 0}),KZ=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,i=nu(mO,t);return a.jsx(IRe,{scope:t,forceMount:r,children:a.jsx(pl,{present:r||i.open,children:a.jsx(Qp,{asChild:!0,container:s,children:n})})})};KZ.displayName=mO;var fp="PopoverContent",ZZ=b.forwardRef((e,t)=>{const r=LRe(fp,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,i=nu(fp,e.__scopePopover);return a.jsx(pl,{present:n||i.open,children:i.modal?a.jsx($Re,{...s,ref:t}):a.jsx(FRe,{...s,ref:t})})});ZZ.displayName=fp;var BRe=Hd("PopoverContent.RemoveScroll"),$Re=b.forwardRef((e,t)=>{const r=nu(fp,e.__scopePopover),n=b.useRef(null),s=vt(t,n),i=b.useRef(!1);return b.useEffect(()=>{const o=n.current;if(o)return uE(o)},[]),a.jsx(O0,{as:BRe,allowPinchZoom:!0,children:a.jsx(XZ,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:At(e.onCloseAutoFocus,o=>{o.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:At(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:At(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),FRe=b.forwardRef((e,t)=>{const r=nu(fp,e.__scopePopover),n=b.useRef(!1),s=b.useRef(!1);return a.jsx(XZ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),XZ=b.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:l,...f}=e,p=nu(fp,r),g=U0(r);return UZ(),a.jsx(M0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(hE,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:a.jsx(lO,{"data-state":JZ(p.open),role:"dialog",id:p.contentId,...g,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),QZ="PopoverClose",HRe=b.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=nu(QZ,r);return a.jsx(Je.button,{type:"button",...n,ref:t,onClick:At(e.onClick,()=>s.onOpenChange(!1))})});HRe.displayName=QZ;var zRe="PopoverArrow",URe=b.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=U0(r);return a.jsx(cO,{...s,...n,ref:t})});URe.displayName=zRe;function JZ(e){return e?"open":"closed"}var VRe=WZ,WRe=YZ,qRe=KZ,eX=ZZ;const tX=VRe,rX=WRe,pO=b.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>a.jsx(qRe,{children:a.jsx(eX,{ref:s,align:t,sideOffset:r,className:J("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...n})}));pO.displayName=eX.displayName;const GRe=({stores:e,currentStore:t,onStoreChange:r})=>{const[n,s]=b.useState(!1),i=o=>{const c=e.find(d=>d.id===o);c&&r&&r(c),s(!1)};return a.jsxs(tX,{open:n,onOpenChange:s,children:[a.jsx(rX,{asChild:!0,children:a.jsxs(X,{variant:"outline",role:"combobox","aria-expanded":n,className:"w-full justify-between h-8 md:h-10 text-xs p-1 sm:p-2 bg-sidebar/50 border-sidebar-border hover:bg-sidebar-accent/50 group-data-[collapsible=icon]:w-8 group-data-[collapsible=icon]:h-8 group-data-[collapsible=icon]:p-1.5",children:[a.jsxs("div",{className:"m-1 flex flex-col items-start min-w-0 flex-1 group-data-[collapsible=icon]:hidden",children:[a.jsx("span",{className:"font-medium text-xs truncate w-full text-left",children:t.name}),a.jsx("span",{className:"text-muted-foreground text-xs truncate w-full text-left hidden sm:block",children:t.metadata.address||"No address"})]}),a.jsx(ui,{className:"group-data-[collapsible=icon]:block hidden h-4 w-4"}),a.jsx(Yf,{className:"ml-1 sm:ml-2 h-2 w-2 sm:h-3 sm:w-3 shrink-0 opacity-50 group-data-[collapsible=icon]:hidden"})]})}),a.jsx(pO,{className:"w-[250px] sm:w-[280px] p-0 bg-popover border-border",children:a.jsxs(LZ,{className:"bg-popover",children:[a.jsx(BZ,{placeholder:"Search stores...",className:"h-7 sm:h-8"}),a.jsx(FZ,{children:"No store found."}),a.jsx(HZ,{children:a.jsx($Z,{children:e.map(o=>a.jsxs(zZ,{value:`${o.name} ${o.metadata.address||""}`,onSelect:()=>{i(o.id)},className:"flex items-center space-x-2 p-1.5 sm:p-2",children:[a.jsx(iE,{className:`mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4 ${t.id===o.id?"opacity-100":"opacity-0"}`}),a.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[a.jsx("span",{className:"font-medium text-xs sm:text-sm truncate",children:o.name}),a.jsx("span",{className:"text-xs text-muted-foreground truncate",children:o.metadata.address||"No address"})]})]},o.id))})})]})})]})},YRe=({stores:e,currentStore:t,onStoreChange:r})=>a.jsxs(wZ,{className:"bg-transparent",children:[a.jsxs("div",{className:"px-2 sm:px-3 py-3 sm:py-4",children:[a.jsx("h1",{className:"text-lg sm:text-xl font-bold text-primary group-data-[collapsible=icon]:hidden",children:"Pizza Portal"}),a.jsx("div",{className:"hidden group-data-[collapsible=icon]:flex items-center justify-center",children:a.jsx("span",{className:"text-lg font-bold text-primary",children:"P"})})]}),a.jsx("div",{className:"",children:a.jsx(GRe,{stores:e,currentStore:t,onStoreChange:r})})]}),tr=({role:e,roles:t,checkType:r="any",children:n,fallback:s=null,onRoleDenied:i,showErrorOnDataMissing:o=!1})=>{const c=pe(p=>p.auth.roles),d=pe(p=>p.auth.isAuthenticated);if(!pe(p=>p.auth.isInitialized))return null;if(!d)return i?.(),a.jsx(a.Fragment,{children:s});if(!e&&(!t||t.length===0))return console.error('RoleGuard: Either "role" or "roles" prop must be provided'),o?a.jsx("div",{className:"text-red-500 text-sm",children:"Error: No roles specified for RoleGuard"}):a.jsx(a.Fragment,{children:s});const l=e?[e]:t;let f=!1;try{if(c&&c.length>0)r==="all"?f=l.every(p=>c.includes(p)):f=l.some(p=>c.includes(p));else if(Uj())l.length===1?f=jge(l[0]):r==="all"?f=Nge(l):f=Ege(l);else{if(console.warn("RoleGuard: No roles data found in Redux store or localStorage"),o)return a.jsx("div",{className:"text-yellow-600 text-sm p-2 bg-yellow-50 border border-yellow-200 rounded",children:"Warning: Unable to verify roles. Please refresh the page or contact support."});f=!1}}catch(p){if(console.error("RoleGuard: Error checking roles:",p),o)return a.jsx("div",{className:"text-red-500 text-sm p-2 bg-red-50 border border-red-200 rounded",children:"Error: Failed to check roles. Please try again."});f=!1}return f?a.jsx(a.Fragment,{children:n}):(i?.(),a.jsx(a.Fragment,{children:s}))};function yH(e,t){return t==="/dashboard"||t==="/settings"?e===t:e===t||e.startsWith(t+"/")}const KRe=({menuItems:e})=>{const t=Fs();return a.jsxs(jZ,{children:[a.jsx(EZ,{className:"px-2 sm:px-3 text-xs sm:text-sm group-data-[collapsible=icon]:hidden",children:"Application"}),a.jsx(NZ,{children:a.jsx(fO,{children:e.map(r=>r.url==="/dashboard"||r.url==="/settings"?a.jsx(_C,{children:a.jsx(AC,{asChild:!0,isActive:yH(t.pathname,r.url),className:"px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm hover:bg-sidebar-accent hover:underline data-[active=true]:bg-sidebar-accent/70",tooltip:r.title,children:a.jsxs(pc,{to:r.url,className:"flex items-center space-x-2 sm:space-x-3",children:[a.jsx(r.icon,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:r.title})]})})},r.title):a.jsx(tr,{role:"super-admin",fallback:null,children:a.jsx(_C,{children:a.jsx(AC,{asChild:!0,isActive:yH(t.pathname,r.url),className:"px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm hover:bg-sidebar-accent hover:underline data-[active=true]:bg-sidebar-accent/70",tooltip:r.title,children:a.jsxs(pc,{to:r.url,className:"flex items-center space-x-2 sm:space-x-3",children:[a.jsx(r.icon,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:r.title})]})})})},r.title))})})]})},gO="current_store";function ZRe(e){try{localStorage.setItem(gO,JSON.stringify(e))}catch{}}function bH(){try{const e=localStorage.getItem(gO);return e?JSON.parse(e):null}catch{return null}}function XRe(){try{localStorage.removeItem(gO)}catch{}}const nX=b.createContext(void 0),QRe=({children:e})=>{const[t,r]=b.useState(()=>bH());b.useEffect(()=>{t?ZRe(t):XRe()},[t]),b.useEffect(()=>{const s=i=>{i.key==="current_store"&&r(bH())};return window.addEventListener("storage",s),()=>window.removeEventListener("storage",s)},[]);const n=b.useMemo(()=>({currentStore:t,setCurrentStore:r,clear:()=>r(null)}),[t]);return a.jsx(nX.Provider,{value:n,children:e})};function xO(){const e=b.useContext(nX);if(!e)throw new Error("useCurrentStore must be used within CurrentStoreProvider");return e}const JRe=e=>e.map(t=>({id:t.store.id,name:t.store.name,metadata:t.store.metadata,is_active:t.store.is_active}));function eMe(e,t){return e===t}const tMe=()=>{const e=Fs(),{currentStore:t,setCurrentStore:r}=xO(),[n,s]=b.useState([]),[,i]=b.useState("");b.useEffect(()=>{const d=Cge();if(d&&d.length>0){const l=JRe(d).filter(p=>p.is_active);if(s(l),l.length===0){r(null);return}t&&l.find(p=>p.id===t.id)||r(l[0])}else s([]),r(null)},[r]),b.useEffect(()=>{i(e.pathname)},[e.pathname]);const o=d=>{r(d)},c=[{title:"Dashboard",url:"/dashboard",icon:BAe},{title:"Blank Page",url:"/blank-page",icon:jY},{title:"User Management",url:"/user-management",icon:Ur},{title:"Employees",url:"/employees",icon:Fd},{title:"Employment Information",url:"/employment-information",icon:CY},{title:"Service Client Management",url:"/service-client-management",icon:I8},{title:"Auth Rules",url:"/auth-rules",icon:I8},{title:"Stores",url:"/stores",icon:ui},{title:"User Role Store Assignment",url:"/user-role-store-assignment",icon:Ur},{title:"Positions",url:"/positions",icon:bY},{title:"Schedule Preferences",url:"/schedule-preferences",icon:ua}];return a.jsxs(yZ,{collapsible:"icon",className:"bg-sidebar-gradient border-r border-sidebar-border shadow-md",children:[n.length>0&&t&&a.jsx(YRe,{stores:n,currentStore:t,onStoreChange:o}),a.jsx(CZ,{className:"!bg-sidebar",children:a.jsx(KRe,{menuItems:c})}),a.jsx(SZ,{className:"bg-transparent",children:a.jsx(fO,{children:a.jsx(_C,{children:a.jsx(AC,{asChild:!0,isActive:eMe(e.pathname,"/settings"),className:"px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm hover:bg-sidebar-accent/50 data-[active=true]:bg-sidebar-accent/70",tooltip:"Settings",children:a.jsxs(pc,{to:"/settings",className:"flex items-center space-x-2 sm:space-x-3",children:[a.jsx(R0,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:"Settings"})]})})})})})]})},sX=b.forwardRef(({...e},t)=>a.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));sX.displayName="Breadcrumb";const aX=b.forwardRef(({className:e,...t},r)=>a.jsx("ol",{ref:r,className:J("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));aX.displayName="BreadcrumbList";const iX=b.forwardRef(({className:e,...t},r)=>a.jsx("li",{ref:r,className:J("inline-flex items-center gap-1.5",e),...t}));iX.displayName="BreadcrumbItem";const OD=b.forwardRef(({asChild:e,className:t,...r},n)=>{const s=e?Jd:"a";return a.jsx(s,{ref:n,className:J("transition-colors hover:text-foreground",t),...r})});OD.displayName="BreadcrumbLink";const oX=b.forwardRef(({className:e,...t},r)=>a.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:J("font-normal text-foreground",e),...t}));oX.displayName="BreadcrumbPage";const lX=({children:e,className:t,...r})=>a.jsx("li",{role:"presentation","aria-hidden":"true",className:J("[&>svg]:w-3.5 [&>svg]:h-3.5",t),...r,children:e??a.jsx(Qi,{})});lX.displayName="BreadcrumbSeparator";function rMe(e){const t={"/dashboard":"Dashboard","/blank-page":"Blank Page","/settings":"Settings","/terms":"Terms of Service","/privacy":"Privacy Policy","/user-management":"User Management","/user-management/create/user":"Create User","/user-management/edit/user":"Edit User","/user-management/view/user":"View User","/user-management/create/role":"Create Role","/user-management/roles/assign-permissions":"Assign Permissions","/user-management/create/permission":"Create Permission","/employees":"Employees","/employees/create":"Create Employee","/employees/edit":"Edit Employee","/employees/view":"View Employee","/employment-information":"Employment Information","/service-client-management":"Service Client Management","/auth-rules":"Auth Rules","/auth-rules/create":"Create Auth Rule","/stores":"Stores","/stores/create":"Create Store","/stores/edit":"Edit Store","/stores/view":"View Store","/user-role-store-assignment":"User Role Store Assignment","/user-role-store-assignment/bulk":"Bulk Assignment","/user-role-store-assignment/assign":"Assign Roles","/user-role-store-assignment/view/user":"View User Assignments","/user-role-store-assignment/view/store":"View Store Assignments","/stores-hierarchy":"Stores Hierarchy","/stores-hierarchy/view":"View Hierarchy","/stores-hierarchy/create":"Create Hierarchy","/stores-hierarchy/delete":"Delete Hierarchy","/stores-hierarchy/validate":"Validate Hierarchy","/positions":"Positions","/positions/create":"Create Position","/positions/edit":"Edit Position","/positions/view":"View Position","/schedule-preferences":"Schedule Preferences","/schedule-preferences/create":"Create Schedule Preference","/schedule-preferences/edit":"Edit Schedule Preference","/schedule-preferences/view":"View Schedule Preference","/daily-schedules":"Daily Schedules","/daily-schedules/create":"Create Daily Schedule","/daily-schedules/edit":"Edit Daily Schedule","/daily-schedules/view":"View Daily Schedule","/weekly-schedules":"Weekly Schedules","/weekly-schedules/create":"Create Weekly Schedule","/weekly-schedules/edit":"Edit Weekly Schedule","/weekly-schedules/view":"View Weekly Schedule"},r=[];if(r.push({label:"Dashboard",href:"/dashboard",isActive:e==="/dashboard"}),e==="/dashboard")return r;const n=e.split("/").filter(Boolean);let s="";for(let i=0;i<n.length;i++){s+="/"+n[i];let o=t[s];if(!o){const d=s.replace(/\/[^/]+$/,"");if(o=t[d],!o){const u=n[i];o=u.charAt(0).toUpperCase()+u.slice(1).replace(/-/g," ")}}const c=s===e;r.push({label:o,href:s,isActive:c})}return r}const nMe=({pathname:e})=>{const t=rMe(e);return a.jsx("div",{className:"flex items-center px-2 py-1 sm:py-2 bg-muted/30",children:a.jsx(sX,{children:a.jsx(aX,{className:"text-xs sm:text-sm",children:t.map((r,n)=>a.jsxs(ve.Fragment,{children:[a.jsx(iX,{children:r.isActive?a.jsx(oX,{className:"text-foreground font-medium text-xs sm:text-sm",children:r.label}):r.label.toLowerCase()==="stores"?a.jsx(OD,{href:"/stores",className:"text-muted-foreground hover:text-foreground transition-colors text-xs sm:text-sm cursor-pointer",children:r.label}):a.jsx(OD,{href:r.href,className:"text-muted-foreground hover:text-foreground transition-colors text-xs sm:text-sm",children:r.label})}),n<t.length-1&&a.jsx(lX,{className:"w-3 h-3 sm:w-4 sm:h-4"})]},r.href))})})})},sMe=()=>{const{user:e,isAuthenticated:t}=hl(),r=Fs();return!t||!e?a.jsx("header",{className:"flex h-12 sm:h-16 shrink-0 items-center gap-1 sm:gap-2 transition-[width,height] ease-linear group-has-[[data-collapsible=icon]]/sidebar-wrapper:h-12 border-b border-border",children:a.jsx("div",{className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-4",children:a.jsx(DD,{className:"-ml-0.5 sm:-ml-1"})})}):a.jsx("header",{className:"flex flex-col border-b border-border",children:a.jsx("div",{className:"flex h-12 sm:h-16 shrink-0 items-center gap-1 sm:gap-2 transition-[width,height] ease-linear group-has-[[data-collapsible=icon]]/sidebar-wrapper:h-12",children:a.jsxs("div",{className:"flex items-center px-2 sm:px-4",children:[a.jsx(DD,{className:"-ml-0.5 sm:-ml-1"}),a.jsx(nMe,{pathname:r.pathname})]})})})},Bt=({children:e})=>a.jsx(QRe,{children:a.jsxs(vZ,{children:[a.jsx(tMe,{}),a.jsxs(bZ,{children:[a.jsx(sMe,{}),a.jsx("div",{className:"flex flex-1 flex-col gap-4 p-4 pt-0",children:a.jsx("div",{className:"min-h-[100vh] flex-1 rounded-xl bg-muted/50 md:min-h-min",children:e})})]})]})}),vO=(e={})=>{const{autoClearErrors:t=!0,defaultCacheTTL:r,enableValidation:n=!0,enableLogging:s=!1}=e,i=$t(),o=pe(R=>Ije(R)),c=pe(R=>Lje(R)),d=pe(R=>Bje(R)),u=pe(R=>$je(R)),l=pe(R=>Fje(R)),f=pe(R=>zje(R)),p=pe(R=>Hje(R)),g=pe(R=>Uje(R)),x=pe(R=>Vje(R)),S=pe(R=>Wje(R)),m=!!f;b.useMemo(()=>{r&&r!==p.ttl&&(i(p8(r)),s&&console.log("[useDsprApi] Cache TTL updated",{ttl:r}))},[r,p.ttl,i,s]);const y=b.useCallback(async R=>{try{if(s&&console.log("[useDsprApi] Fetching data",{params:R}),t&&u&&i(iw()),n){const F=bw(R);if(!F.isValid){const $=`Request validation failed: ${F.errors.join(", ")}`;throw console.error("[useDsprApi]",$),new Error($)}}const B=await i(Zs({params:R}));if(Zs.rejected.match(B))throw new Error(B.payload?.message||"Failed to fetch DSPR data");s&&console.log("[useDsprApi] Data fetched successfully")}catch(L){throw console.error("[useDsprApi] Fetch error:",L),L}},[i,t,u,n,s]),w=b.useCallback(async R=>{try{if(s&&console.log("[useDsprApi] Fetching with request object",{request:R}),t&&u&&i(iw()),n){const B=bw(R.params);if(!B.isValid){const F=`Request validation failed: ${B.errors.join(", ")}`;throw console.error("[useDsprApi]",F),new Error(F)}}const L=await i(Zs(R));if(Zs.rejected.match(L))throw new Error(L.payload?.message||"Failed to fetch DSPR data");s&&console.log("[useDsprApi] Data fetched successfully")}catch(L){throw console.error("[useDsprApi] Fetch with request error:",L),L}},[i,t,u,n,s]),C=b.useCallback(async()=>{try{if(!o.currentRequest)throw new Error("No previous request to refresh");s&&console.log("[useDsprApi] Refreshing data"),t&&u&&i(iw());const R=await i(Dd(o.currentRequest));if(Dd.rejected.match(R))throw new Error(R.payload?.message||"Failed to refresh DSPR data");s&&console.log("[useDsprApi] Data refreshed successfully")}catch(R){throw console.error("[useDsprApi] Refresh error:",R),R}},[i,o.currentRequest,t,u,s]),E=b.useCallback(()=>{i(Mje()),s&&console.log("[useDsprApi] API state reset")},[i,s]),N=b.useCallback(()=>{i(iw()),s&&console.log("[useDsprApi] Error cleared")},[i,s]),k=b.useCallback(()=>{i(GG()),s&&console.log("[useDsprApi] Cache cleared")},[i,s]),A=b.useCallback(R=>{i(p8(R)),s&&console.log("[useDsprApi] Cache TTL updated",{ttl:R})},[i,s]),T=b.useCallback(()=>{i(Oje()),s&&console.log("[useDsprApi] Cache invalidated")},[i,s]),P=b.useCallback(R=>bw(R),[]),M=b.useCallback(R=>l?!1:n?bw(R).isValid:!0,[l,n]),O=b.useCallback(()=>{const R={store:x?.store||null,date:x?.date||null},L=o.lastFetched?Date.now()-o.lastFetched:null;return{hasData:!!c,isLoading:l,hasError:!!u,isFresh:m,lastFetched:o.lastFetched,dataAge:L,currentContext:R}},[c,l,u,m,o.lastFetched,x]);return{data:c,status:d,error:u,isLoading:l,isCachedAndFresh:m,cacheInfo:p,requestMetadata:g,filteringValues:x,reportsData:S,fetchData:y,fetchWithRequest:w,refreshData:C,resetState:E,clearApiError:N,clearApiCache:k,updateCacheTTL:A,invalidateApiCache:T,validateRequest:P,canMakeRequest:M,getRequestSummary:O}};function bw(e){const t=[],r=[];if(e.store?HG(e.store)||t.push(`Invalid store ID format: ${e.store}. Expected format: XXXXX-XXXXX`):t.push("Store ID is required"),!e.date)t.push("Date is required");else if(!zG(e.date))t.push(`Invalid date format: ${e.date}. Expected format: YYYY-MM-DD`);else{const n=new Date(e.date),s=new Date;s.setHours(0,0,0,0),n>s&&r.push("Requested date is in the future");const i=new Date(s);i.setDate(s.getDate()-30),n<i&&r.push("Requested date is more than 30 days in the past")}return{isValid:t.length===0,errors:t,warnings:r}}const Ba=(e={})=>{const{enableLogging:t=!1,configOverrides:r,benchmarkOverrides:n}=e,s=$t(),{isLoading:i}=vO(),o=pe(se=>eNe(se)),c=pe(se=>tNe(se)),d=pe(se=>rNe(se)),u=pe(se=>nNe(se)),l=pe(se=>aNe(se)),f=pe(se=>iNe(se)),p=pe(se=>oNe(se)),g=pe(se=>lNe(se)),x=pe(se=>cNe(se)),S=pe(se=>pNe(se)),m=pe(se=>dNe(se)),y=pe(se=>uNe(se)),w=pe(se=>tY(se)),C=pe(se=>sNe(se)),E=pe(se=>mNe(se)),N=pe(se=>fNe(se)),k=pe(se=>hNe(se));b.useMemo(()=>{r&&(s(j8(r)),t&&console.log("[useDSPRMetrics] Configuration overrides applied",r)),n&&(s(E8(n)),t&&console.log("[useDSPRMetrics] Benchmark overrides applied",n))},[r,n,s,t]);const A=b.useCallback(se=>{s(j8(se)),t&&console.log("[useDSPRMetrics] Configuration updated",se)},[s,t]),T=b.useCallback(se=>{s(E8(se)),t&&console.log("[useDSPRMetrics] Benchmarks updated",se)},[s,t]),P=b.useCallback(se=>{s(LEe(se)),t&&console.log("[useDSPRMetrics] Alert dismissed",{alertIndex:se})},[s,t]),M=b.useCallback(()=>{s(BEe()),t&&console.log("[useDSPRMetrics] All alerts cleared")},[s,t]),O=b.useCallback(()=>{s($Ee()),t&&console.log("[useDSPRMetrics] Data reprocessing triggered")},[s,t]),R=b.useCallback(()=>{s(OEe()),t&&console.log("[useDSPRMetrics] State reset")},[s,t]),L=b.useCallback(()=>{s(IEe()),t&&console.log("[useDSPRMetrics] Error cleared")},[s,t]),B=b.useCallback(()=>{if(!l||!c)return null;const se=m?.salesTrend.percentageChange||0,Ne=0,Le=[];return l.digitalSales>l.totalSales*.5&&Le.push("Digital sales exceed 50% of total revenue"),l.laborCostPercentage>.35&&Le.push("Labor costs above recommended threshold"),{totalRevenue:l.totalSales,revenueGrowth:se,profitMargin:(l.totalSales-l.totalSales*l.laborCostPercentage)/l.totalSales*100,averageTicket:l.averageTicket,ticketGrowth:Ne,cashFlow:l.cashSales+l.cashVariance,digitalRevenue:l.digitalSales,digitalPercentage:l.digitalSales/l.totalSales*100,performanceGrade:l.performanceGrade,keyInsights:Le}},[l,c,m]),F=b.useCallback(()=>{if(!l||!x)return null;const se=l.totalSales*l.laborCostPercentage+x.totalWaste,Ne=(l.totalSales-se)/l.totalSales*100,Le=Ne-10,Qe=Le-5;return{gross:Ne,net:Le,operating:Qe,laborCostImpact:l.laborCostPercentage*100,wasteImpact:x.wastePercentage*100,benchmarkComparison:{vs_industry:Le-15,vs_target:Le-20}}},[l,x]),$=b.useCallback(()=>{if(!p||!l)return null;const se={[jn.TRADITIONAL]:{amount:p.traditional.sales,percentage:p.traditional.percentage,growth:0},[jn.DIGITAL]:{amount:p.digital.sales,percentage:p.digital.percentage,growth:0},[jn.DELIVERY]:{amount:p.delivery.sales,percentage:p.delivery.percentage,growth:0},[jn.PHONE]:{amount:p.phone.sales,percentage:p.phone.percentage,growth:0},[jn.DRIVE_THRU]:{amount:0,percentage:0,growth:0}},Ne=Object.values(se).map(Qe=>Qe.percentage),Le=100-(Math.max(...Ne)-Math.min(...Ne));return{byChannel:se,byTimeOfDay:[],diversification:Le,stability:75}},[p,l]),z=b.useCallback(()=>{if(!l||!x)return null;const se=l.totalSales*l.laborCostPercentage,Ne=x.totalWaste,Le=se+Ne,Qe=l.totalSales*.15,kt=se+Ne,Jt=Qe;return{labor:{amount:se,percentage:se/l.totalSales*100},waste:{amount:Ne,percentage:x.wastePercentage*100},overhead:{amount:Qe,percentage:15},variable:{amount:kt,percentage:kt/l.totalSales*100},fixed:{amount:Jt,percentage:15},total:Le+Qe,efficiency:x.laborEfficiency}},[l,x]),W=b.useCallback(()=>{if(!f)return null;const se={speed:f.portalOnTimePercentage*100,accuracy:(1-f.refundRate)*100,consistency:f.portalUtilization*100,utilization:f.customerCountPercentage*100},Ne=Object.values(se).reduce((Le,Qe)=>Le+Qe,0)/4;return{overall:Ne,components:se,benchmark:85,improvement:Ne-85,grade:Ne>=90?"A":Ne>=80?"B":Ne>=70?"C":"D"}},[f]),Z=b.useCallback(()=>!f||!c?null:{peakHours:[12,18,19],averageWaitTime:5,throughputRate:f.customerCount/12,capacity:f.customerCount/f.customerCountPercentage,utilization:f.customerCountPercentage,bottlenecks:f.portalOnTimePercentage<.9?["Order preparation timing"]:[],recommendations:["Optimize staff scheduling for peak hours","Implement queue management system"]},[f,c]),V=b.useCallback(()=>{if(!f||!l)return null;const se=12;return{ordersPerHour:f.customerCount/se,customersPerHour:f.customerCount/se,salesPerHour:l.totalSales/se,efficiency:f.efficiencyScore,capacity:f.customerCount/f.customerCountPercentage,utilization:f.customerCountPercentage}},[f,l]),q=b.useCallback(()=>{if(!g)return null;const se=(g.customerServiceScore*.4+g.orderAccuracy*.3+g.serviceConsistency*.3)*100,Ne=[];return g.customerServiceScore<.9&&Ne.push("Enhance customer service training"),g.orderAccuracy<.95&&Ne.push("Implement order verification process"),g.serviceConsistency<.9&&Ne.push("Standardize service procedures"),{customerSatisfaction:g.customerServiceScore*100,orderAccuracy:g.orderAccuracy*100,serviceSpeed:g.serviceConsistency*100,consistency:g.serviceConsistency*100,overallScore:se,improvements:Ne}},[g]),H=b.useCallback(()=>p?[{channel:jn.TRADITIONAL,metrics:p.traditional},{channel:jn.DIGITAL,metrics:p.digital},{channel:jn.DELIVERY,metrics:p.delivery},{channel:jn.PHONE,metrics:p.phone}].map(({channel:Ne,metrics:Le})=>({channel:Ne,rank:0,score:Le.percentage+Le.averageOrderValue/50,revenue:Le.sales,growth:0,efficiency:Le.averageOrderValue,strengths:Le.percentage>20?["Strong market share"]:[],opportunities:Le.percentage<10?["Growth potential"]:[]})).sort((Ne,Le)=>Le.score-Ne.score).map((Ne,Le)=>({...Ne,rank:Le+1})):[],[p]),K=b.useCallback(()=>{if(!p)return null;const se=p.digitalAdoptionRate*100;return{currentRate:se,targetRate:70,growth:m?.digitalTrend.percentageChange||0,barriers:se<50?["Limited awareness","User experience issues"]:[],opportunities:["Mobile app optimization","Digital marketing campaigns"],roi:1.5,timeline:"3-6 months"}},[p,m]),Y=b.useCallback(()=>{if(!p)return null;const se={[jn.TRADITIONAL]:p.traditional,[jn.DIGITAL]:p.digital,[jn.DELIVERY]:p.delivery,[jn.PHONE]:p.phone,[jn.DRIVE_THRU]:{sales:0,percentage:0,orders:0,averageOrderValue:0,trend:qo.STABLE,performanceLevel:"average"}},Ne=Object.entries(se).reduce((ln,[Dn,Fn])=>(ln[Dn]={efficiency:Fn.averageOrderValue/20,cost:Fn.sales*.05,revenue:Fn.sales,roi:Fn.sales/(Fn.sales*.05)},ln),{}),Le=Object.values(Ne).map(ln=>ln.efficiency),Qe=Le.reduce((ln,Dn)=>ln+Dn,0)/Le.length,kt=Object.entries(Ne).sort(([,ln],[,Dn])=>Dn.efficiency-ln.efficiency),Jt=kt[0][0],Ts=kt[kt.length-1][0];return{byChannel:Ne,overall:Qe,bestPerforming:Jt,leastEfficient:Ts}},[p]),re=b.useCallback(()=>p?{synergies:[{channels:[jn.DIGITAL,jn.DELIVERY],impact:"Digital ordering enhances delivery efficiency",opportunity:15}],conflicts:[{channels:[jn.TRADITIONAL,jn.DIGITAL],issue:"Resource allocation between channels",resolution:"Implement unified order management"}],optimization:["Integrate channel data for unified customer experience","Optimize staff allocation based on channel demand"]}:null,[p]),me=b.useCallback(()=>!!(u&&l&&f),[u,l,f]),de=b.useCallback(()=>{const se={financial:l?100:0,operational:f?100:0,quality:g?100:0,costControl:x?100:0,salesChannel:p?100:0},Ne=Object.values(se).reduce((kt,Jt)=>kt+Jt,0)/Object.keys(se).length,Le=Object.entries(se).filter(([,kt])=>kt===0).map(([kt])=>kt);let Qe="Poor";return Ne>=90?Qe="Excellent":Ne>=75?Qe="Good":Ne>=60&&(Qe="Fair"),{overall:Ne,byCategory:se,missingFields:Le,quality:Qe,recommendations:Le.map(kt=>`Ensure ${kt} data is properly captured`)}},[l,f,g,x,p]),he=b.useCallback((se,Ne={})=>{if(!u)throw new Error("No data available for export");const Le=new Date().toISOString(),Qe=Ne.timeRange||"daily";let kt,Jt;switch(se){case"comprehensive":kt={summary:u,financial:l,operational:f,salesChannels:p,quality:g,costControl:x,trends:m,alerts:w},Jt=`dspr-comprehensive-${Le.split("T")[0]}.json`;break;case"executive":kt={overallGrade:y,keySummary:B(),alerts:C,recommendations:ze().slice(0,5)},Jt=`dspr-executive-${Le.split("T")[0]}.json`;break;case"operational":kt={efficiency:W(),throughput:V(),customerFlow:Z(),serviceQuality:q()},Jt=`dspr-operational-${Le.split("T")[0]}.json`;break;case"financial":kt={summary:B(),margins:F(),revenueAnalysis:$(),costBreakdown:z()},Jt=`dspr-financial-${Le.split("T")[0]}.json`;break;case"alerts":kt={alerts:w,criticalAlerts:C,impact:ce(),recommendations:ze()},Jt=`dspr-alerts-${Le.split("T")[0]}.json`;break;default:throw new Error(`Unsupported export format: ${se}`)}return{format:se,data:kt,filename:Jt,metadata:{exportDate:Le,timeRange:Qe,recordCount:Array.isArray(kt)?kt.length:1}}},[u,l,f,p,g,x,m,w,C,y]),ee=b.useCallback(()=>{const se=o.dailyByDate;return se?Object.keys(se).filter(Le=>typeof se[Le]!="string"):[]},[o]),ie=b.useCallback(se=>{const Ne=o.dailyByDate;if(!Ne)return null;const Le=Ne[se];if(!Le)return null;if(typeof Le=="string")return{date:se,current:null,prevWeek:null,status:Le};const Qe=Le;return{date:se,current:Qe,prevWeek:Qe.PrevWeek??null}},[o]),ye=b.useCallback(se=>{const Ne=o.dailyByDate;return Ne?Object.keys(Ne).map(kt=>{const Jt=Ne[kt];if(!Jt||typeof Jt=="string")return{date:kt,value:null};const Ts=Jt,ln=Ts[se]??null,Dn=Ts.PrevWeek?Ts.PrevWeek[se]??null:void 0;return{date:kt,value:ln,prevWeekValue:Dn}}):[]},[o]),le=b.useCallback(se=>{const Ne=ie(se);if(!Ne||!Ne.current&&!Ne.prevWeek)return null;const Le=Qe=>Qe?{Total_Sales:Qe.Total_Sales,labor:Qe.labor,Customer_count:Qe.Customer_count,waste_total:(Qe.waste_gateway||0)+(Qe.Waste_Alta||0),Digital_Sales_Percent:Qe.Digital_Sales_Percent}:null;return{date:se,current:Le(Ne.current),prevWeek:Le(Ne.prevWeek??null)}},[ie]),Te=b.useCallback(()=>!x||!c?null:{totalWaste:x.totalWaste,wastePercentage:x.wastePercentage*100,wasteByCategory:{"Food Waste":x.totalWaste*.7,Packaging:x.totalWaste*.2,Other:x.totalWaste*.1},trend:m?.wasteTrend.direction||qo.STABLE,causes:["Overproduction","Quality issues","Portion inconsistency"],reductionOpportunities:[{category:"Food Waste",potential:30,effort:"Medium"},{category:"Packaging",potential:15,effort:"Low"}]},[x,c,m]),Ae=b.useCallback(()=>!x||!l?null:{currentEfficiency:x.laborEfficiency,targetEfficiency:85,gap:85-x.laborEfficiency,costPerHour:l.totalSales*l.laborCostPercentage/8,productivityScore:x.laborEfficiency,optimizationAreas:["Schedule optimization","Cross-training","Process automation"],recommendations:["Implement flexible scheduling","Provide efficiency training"]},[x,l]),ae=b.useCallback(()=>{const se=[];return x?.laborEfficiency&&x.laborEfficiency<80&&se.push({category:ti.COST_CONTROL,description:"Optimize labor scheduling and efficiency",potential:l?l.totalSales*.05:0,effort:"Medium",timeline:"2-3 months",impact:"High",requirements:["Schedule analysis","Staff training"]}),x?.wastePercentage&&x.wastePercentage>.03&&se.push({category:ti.COST_CONTROL,description:"Reduce food waste through better inventory management",potential:x.totalWaste*.3,effort:"Low",timeline:"1 month",impact:"Medium",requirements:["Inventory tracking system","Staff training"]}),se},[x,l]),We=b.useCallback(()=>{const se=ae(),Ne=se.reduce((Le,Qe)=>Le+Qe.potential,0);return{totalSavings:Ne,byCategory:se.reduce((Le,Qe)=>(Le[Qe.category]=(Le[Qe.category]||0)+Qe.potential,Le),{}),quickWins:se.filter(Le=>Le.effort==="Low").map(Le=>Le.description),longTermInitiatives:se.filter(Le=>Le.effort==="High").map(Le=>Le.description),roi:Ne>0?Ne/(l?.totalSales||1)*100:0}},[ae,l]),rt=b.useCallback(()=>{if(!m)return null;const se={sales:{trend:m.salesTrend.direction,change:m.salesTrend.percentageChange,significance:m.salesTrend.significance},labor:{trend:m.laborTrend.direction,change:m.laborTrend.percentageChange,significance:m.laborTrend.significance},customers:{trend:m.customerTrend.direction,change:m.customerTrend.percentageChange,significance:m.customerTrend.significance}};return{overall:m.salesTrend.direction,byMetric:se,forecast:[{period:"Next Week",prediction:l?.totalSales||0,confidence:75},{period:"Next Month",prediction:(l?.totalSales||0)*1.05,confidence:60}]}},[m,l]),fe=b.useCallback(()=>{if(!E||!l||!f)return null;const se={"Labor Cost":{current:l.laborCostPercentage*100,benchmark:E.industry.laborCost*100,gap:(l.laborCostPercentage-E.industry.laborCost)*100,status:l.laborCostPercentage<=E.industry.laborCost?"at":"above"},"Customer Service":{current:(g?.customerServiceScore||0)*100,benchmark:E.industry.customerService*100,gap:((g?.customerServiceScore||0)-E.industry.customerService)*100,status:(g?.customerServiceScore||0)>=E.industry.customerService?"above":"below"}},Ne={"Labor Cost":{current:l.laborCostPercentage*100,target:E.targets.laborCost*100,gap:(l.laborCostPercentage-E.targets.laborCost)*100,onTrack:l.laborCostPercentage<=E.targets.laborCost}},Le=Object.values(se).reduce((Qe,kt)=>Qe+(kt.status==="above"?100:kt.status==="at"?90:70),0)/Object.keys(se).length;return{vsIndustry:se,vsTargets:Ne,overallScore:Le}},[E,l,f,g]),Fe=b.useCallback(()=>{if(!y||!l)return null;const se=l.totalSales,Ne=se*1.15;return{current:se,target:Ne,trajectory:[{milestone:"30 days",timeline:"1 month",value:se*1.03},{milestone:"90 days",timeline:"3 months",value:se*1.08},{milestone:"180 days",timeline:"6 months",value:Ne}],feasibility:"Medium",requirements:["Staff training","Process optimization","Technology upgrades"]}},[y,l]),Q=b.useCallback(()=>{if(!m||!l)return null;const se=m.salesTrend.direction===qo.UP?1.05:m.salesTrend.direction===qo.DOWN?.95:1;return{nextPeriod:{prediction:l.totalSales*se,confidence:75,factors:["Current trend direction","Seasonal patterns","Operational changes"]},longTerm:{trend:m.salesTrend.direction,projection:l.totalSales*Math.pow(se,12),scenarios:[{name:"Optimistic",probability:25,outcome:l.totalSales*1.2},{name:"Expected",probability:50,outcome:l.totalSales*1.1},{name:"Conservative",probability:25,outcome:l.totalSales*1.05}]}}},[m,l]),ne=b.useCallback(se=>w.filter(Ne=>Ne.category===se),[w]),ce=b.useCallback(()=>{const se=w.reduce((Qe,kt)=>(Qe[kt.category]=(Qe[kt.category]||0)+Math.abs(kt.variance),Qe),{}),Ne=Object.values(se).reduce((Qe,kt)=>Qe+kt,0),Le=w.filter(Qe=>Qe.priority===Lm.URGENT).length;return{totalImpact:Ne,byCategory:se,urgentCount:Le,averageResolutionTime:24,resourceRequirements:["Management attention","Staff time","Process changes"]}},[w]),ze=b.useCallback(()=>{const se=[];return C.forEach(Ne=>{se.push({title:`Address ${Ne.title}`,description:Ne.message,category:Ne.category,priority:Ne.priority,effort:"Medium",impact:Ne.impact==="severe"?"High":"Medium",timeline:"1-2 weeks",requirements:Ne.recommendations.slice(0,2),expectedOutcome:`Improve ${Ne.metric} performance`,successMetrics:[`${Ne.metric} within target range`]})}),x?.laborEfficiency&&x.laborEfficiency<80&&se.push({title:"Optimize Labor Efficiency",description:"Implement scheduling optimization and staff training programs",category:ti.COST_CONTROL,priority:Lm.MEDIUM,effort:"Medium",impact:"High",timeline:"4-6 weeks",requirements:["Schedule analysis","Training materials","Performance tracking"],expectedOutcome:"Improved labor productivity and reduced costs",successMetrics:["Labor efficiency > 85%","Cost reduction of 5-8%"]}),se.slice(0,10)},[C,x]),qe=b.useCallback(se=>{let Ne=0;switch(se.severity){case Zo.CRITICAL:Ne+=40;break;case Zo.ERROR:Ne+=30;break;case Zo.WARNING:Ne+=20;break;case Zo.INFO:Ne+=10;break}return Ne+=Math.min(Math.abs(se.variance),30),se.category===ti.FINANCIAL?Ne+=15:se.category===ti.OPERATIONAL&&(Ne+=10),Math.min(Ne,100)},[]),Ue=b.useCallback(se=>{const Ne=new Date().toISOString();switch(se){case"executive":return{type:se,summary:`Overall performance grade: ${y}. ${C.length} critical issues require attention.`,keyMetrics:{"Total Sales":l?.totalSales||0,"Labor Cost %":(l?.laborCostPercentage||0)*100,"Customer Service":(g?.customerServiceScore||0)*100,"Digital Sales %":p?.digitalAdoptionRate?p.digitalAdoptionRate*100:0},insights:[`Digital adoption at ${p?.digitalAdoptionRate?(p.digitalAdoptionRate*100).toFixed(1):0}%`,`${C.length} critical operational issues identified`],recommendations:ze().slice(0,3).map(Le=>Le.title),charts:[],generatedAt:Ne};case"operational":return{type:se,summary:`Operational efficiency at ${W()?.overall.toFixed(1)||0}%. Key areas for improvement identified.`,keyMetrics:{"Efficiency Score":W()?.overall||0,"Customer Count":f?.customerCount||0,"Portal Utilization":(f?.portalUtilization||0)*100,"On-time Performance":(f?.portalOnTimePercentage||0)*100},insights:[`Portal utilization at ${((f?.portalUtilization||0)*100).toFixed(1)}%`,`Customer count performance at ${((f?.customerCountPercentage||0)*100).toFixed(1)}%`],recommendations:["Optimize staff scheduling for peak hours","Improve order preparation timing","Enhance portal system efficiency"],charts:[],generatedAt:Ne};default:return{type:se,summary:"Performance report generated successfully.",keyMetrics:{},insights:[],recommendations:[],charts:[],generatedAt:Ne}}},[y,C,l,g,p,f,W,ze]);return{dailyRawData:c,weeklyRawData:d,processedData:u,financialMetrics:l,operationalMetrics:f,salesChannelMetrics:p,qualityMetrics:g,costControlMetrics:x,weeklyTrends:m,overallGrade:y,alerts:w,criticalAlerts:C,benchmarks:E,hnrMetrics:S,isLoading:N||i,error:k,currentConfig:o.config,updateConfig:A,updatePerformanceBenchmarks:T,dismissAlert:P,clearAllAlerts:M,reprocessData:O,resetState:R,clearError:L,getFinancialSummary:B,calculateProfitMargins:F,analyzeRevenueStreams:$,getCostBreakdown:z,getEfficiencyScore:W,analyzeCustomerFlow:Z,calculateThroughput:V,getServiceQuality:q,getChannelRanking:H,analyzeDigitalAdoption:K,calculateChannelEfficiency:Y,getCrossChannelInsights:re,getWasteAnalysis:Te,analyzeLaborEfficiency:Ae,getCostSavingsOpportunities:ae,getExpenseOptimization:We,getPerformanceTrends:rt,compareBenchmarks:fe,getImprovementTrajectory:Fe,predictPerformance:Q,getAlertsByCategory:ne,getAlertImpactAnalysis:ce,getRecommendedActions:ze,calculateAlertPriority:qe,hasValidData:me,getDataCompleteness:de,exportData:he,generateReport:Ue,getAvailableDailyDates:ee,getDailyEntryForDate:ie,buildMetricSeriesFromDailyMap:ye,getPrevWeekComparisonForDate:le}},CE=({title:e,subtitle:t,className:r,actions:n})=>{const s=ea();return a.jsx("header",{className:J("text-center",s?"space-y-1":"space-y-2",r),children:a.jsxs("div",{className:J("flex items-center justify-between",s&&"flex-col space-y-2"),children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:J("font-bold text-foreground",s?"text-lg":"text-xl md:text-2xl lg:text-3xl"),children:e}),t&&a.jsx("p",{className:J("text-muted-foreground mt-1",s?"text-xs":"text-sm"),children:t})]}),n&&a.jsx("div",{className:J("flex items-center",s?"gap-1":"gap-2"),children:n})]})})};function aMe({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const iMe=b.forwardRef(aMe);function oMe({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const lMe=b.forwardRef(oMe);function cMe({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const dMe=b.forwardRef(cMe);function uMe({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const fMe=b.forwardRef(uMe);function hMe({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const mMe=b.forwardRef(hMe);function pMe({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const gMe=b.forwardRef(pMe);function xMe({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))}const vMe=b.forwardRef(xMe);function yMe({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const cX=b.forwardRef(yMe);function bMe({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const wMe=b.forwardRef(bMe);function SMe({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const ol=b.forwardRef(SMe);function CMe({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 0 1-3-3V4.5a3 3 0 1 1 6 0v8.25a3 3 0 0 1-3 3Z"}))}const jMe=b.forwardRef(CMe);function EMe({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const NMe=b.forwardRef(EMe);function _Me({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const AMe=b.forwardRef(_Me);function kMe({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const TMe=b.forwardRef(kMe);function PMe({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const yO=b.forwardRef(PMe),DMe={FlowbiteChartLineDownOutline:fMe,IconParkOutlineRecycling:iMe,TablerPlusMinus:AMe,Fa6SolidPencil:NMe,currency:cX,trophy:TMe,trending:lMe,users:yO,arrowUp:dMe,checkCircle:mMe,computer:vMe,microphone:jMe,clock:gMe,document:wMe},dX=({item:e,isLoading:t=!1,isMobile:r=!1,bgColor:n})=>{const s=DMe[e.icon];return a.jsxs(Se,{className:J("w-full h-full shadow-realistic transition-all duration-200 overflow-hidden","hover:shadow-realistic-lg transform hover:scale-[1.02]",t&&"opacity-50 pointer-events-none"),children:[a.jsxs(Me,{className:J("flex flex-row items-center justify-between space-y-0 rounded-t-md",n||e.bgColor,r?"p-2":"p-4"),children:[a.jsx(Ve,{className:J("font-medium text-foreground truncate",r?"text-sm leading-tight":"text-base"),children:e.title}),a.jsx(s,{className:J("text-foreground",r?"h-4 w-4":"h-6 w-6")})]}),a.jsxs(Ee,{className:J("space-y-2",r?"p-2":"p-4",r?"space-y-2":"space-y-4"),children:[a.jsx(wH,{label:"Daily",value:e.daily,primary:!0,isMobile:r}),a.jsx(wH,{label:"Weekly",value:e.weekly,isMobile:r})]})]})},wH=({label:e,value:t,primary:r=!1,isMobile:n=!1})=>a.jsxs("div",{className:"flex items-center justify-between gap-2 min-w-0",children:[a.jsx("span",{className:J("text-muted-foreground truncate flex-shrink",r&&"font-semibold",n?"text-sm":"text-base"),children:e}),a.jsx("span",{className:J("text-foreground truncate flex-shrink-0",r&&"font-bold",n?"text-sm font-medium":"text-base",r&&!n&&"font-bold"),children:t})]}),uX=({data:e,isLoading:t=!1,className:r})=>{const{theme:n}=P0(),s=ea(),i=n==="dark"||n==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;return a.jsx("div",{className:J("grid w-full","grid-cols-2 grid-rows-3","gap-2 sm:gap-3","md:grid-cols-6 md:grid-rows-2","md:gap-4 lg:gap-6 xl:gap-8",r),children:e.slice(0,5).map((o,c)=>{const f=(i?["bg-primary-500","bg-primary-600","bg-primary-700","bg-primary-800","bg-primary-900"]:["bg-primary-100","bg-primary-200","bg-primary-300","bg-primary-400","bg-primary-500"])[c];let p="";return c===4&&(p="col-span-2"),c===3&&(p=J(p,"md:col-span-2 md:row-start-2 md:col-start-2")),c===4&&(p=J(p,"md:col-span-2 md:row-start-2 md:col-start-4")),c===0?p=J(p,"md:col-span-2 md:row-start-1 md:col-start-1"):c===1?p=J(p,"md:col-span-2 md:row-start-1 md:col-start-3"):c===2&&(p=J(p,"md:col-span-2 md:row-start-1 md:col-start-5")),a.jsx("div",{className:J(p,"transition-all duration-300 ease-in-out","hover:scale-[1.02] hover:shadow-lg","min-h-[120px] sm:min-h-[140px] md:min-h-[160px]"),children:a.jsx(dX,{item:o,isLoading:t,isMobile:s,bgColor:f})},`${o.title}-${c}`)})})},RMe=({title:e="Sales Performance Overview",subtitle:t,data:r,className:n})=>{const{dailyRawData:s,weeklyRawData:i,isLoading:o,error:c}=Ba(),d=ea(),u=b.useMemo(()=>{const x=M=>{if(M==null||isNaN(M))return"$0";const O=Math.abs(M),R=M<0?"-":"";return O>=1e3?`${R}$${(O/1e3).toFixed(2)}k`:`${R}$${O.toFixed(2)}`},S=M=>M==null||isNaN(M)?"0":Math.round(M).toString(),m=s?.Waste_Alta??0,y=s?.waste_gateway??0,w=s?.over_short??0,C=s?.Modified_Order_Qty??0,E=s?.Cash_Sales_Vs_Deposite_Difference??0,N=i?.Waste_Alta??0,k=i?.waste_gateway??0,A=i?.over_short??0,T=i?.Modified_Order_Qty??0,P=i?.Cash_Sales_Vs_Deposite_Difference??0;return[{title:"Waste Altmetrics",bgColor:"bg-blue-500",icon:"FlowbiteChartLineDownOutline",daily:x(m),weekly:x(N)},{title:"Waste Gateway",bgColor:"bg-blue-400",icon:"IconParkOutlineRecycling",daily:x(y),weekly:x(k)},{title:"Over / Short",bgColor:"bg-blue-300",icon:"TablerPlusMinus",daily:x(w),weekly:x(A)},{title:"Modified Orders",bgColor:"bg-green-200",icon:"Fa6SolidPencil",daily:S(C),weekly:S(T)},{title:"Cash vs Deposite",bgColor:"bg-green-200",icon:"Fa6SolidPencil",daily:x(E),weekly:x(P)}]},[s,i]),l=r||u,f=!!(s||i),p=()=>a.jsxs("div",{className:J("w-full bg-card rounded-lg border border-destructive/20 p-6 shadow-realistic","flex flex-col items-center justify-center text-center space-y-4",d?"min-h-48":"min-h-64"),children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-destructive/10",children:a.jsx(ol,{className:"w-6 h-6 text-destructive"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:"Unable to Load Data"}),a.jsxs("p",{className:"text-sm text-muted-foreground max-w-md",children:["We're experiencing difficulties loading your performance metrics. This could be due to a temporary connection issue or data processing error.",a.jsx("p",{className:"font-bold mt-1",children:"Try changing the Date filter."})]})]})]}),g=()=>a.jsxs("div",{className:J("w-full bg-card rounded-lg border border-border p-6 shadow-realistic","flex flex-col items-center justify-center text-center space-y-4",d?"min-h-48":"min-h-64"),children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-muted",children:a.jsx(ol,{className:"w-6 h-6 text-muted-foreground"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:"No Data Available"}),a.jsxs("p",{className:"text-sm text-muted-foreground max-w-md",children:["There's currently no performance data available to display. Please check back later or contact support if this issue persists.",a.jsx("p",{className:"font-bold mt-1",children:"Try changing the Date filter."})]})]})]});return a.jsxs("section",{className:J("w-full p-2 space-y-2",d?" space-y-2":" space-y-6",n),children:[a.jsx(CE,{title:e,subtitle:t}),c?a.jsx(p,{}):!f||!l||l.length===0?a.jsx(g,{}):a.jsx(uX,{data:l,isLoading:o})]})},SH=({data:e,isLoading:t=!1,className:r})=>{const{theme:n}=P0(),s=ea(),i=n==="dark"||n==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;return a.jsx("div",{className:J("grid grid-cols-2 lg:grid-cols-4 grid-rows-2 lg:grid-rows-1",s?"gap-2":"gap-4 md:gap-8",r),children:e.slice(0,4).map((o,c)=>{const f=(i?["bg-primary-600","bg-primary-700","bg-primary-800","bg-primary-900"]:["bg-primary-100","bg-primary-200","bg-primary-300","bg-primary-400"])[c];return a.jsx(dX,{item:o,isLoading:t,isMobile:s,bgColor:f},`${o.title}-${c}`)})})},MMe=({title:e="Customer Services Overview",subtitle:t,className:r})=>{const n=ea(),{dailyRawData:s,weeklyRawData:i,isLoading:o,error:c}=Ba(),d=x=>x==null?"0%":`${(x*100).toFixed(1)}%`,u=x=>x==null?"0":x.toString(),l=b.useMemo(()=>{const x=[{title:"Customer Count",bgColor:"bg-performance-bg-1",icon:"users",daily:u(s?.Customer_count),weekly:u(i?.Customer_count)},{title:"Customer Count %",bgColor:"bg-performance-bg-2",icon:"trending",daily:d(s?.Customer_count_percent),weekly:d(i?.Customer_count_percent)},{title:"Upselling %",bgColor:"bg-performance-bg-3",icon:"arrowUp",daily:d(s?.Upselling),weekly:d(i?.Upselling)},{title:"Digital Sales %",bgColor:"bg-performance-bg-4",icon:"computer",daily:d(s?.Digital_Sales_Percent),weekly:d(i?.Digital_Sales_Percent)}],S=[{title:"Customer Service %",bgColor:"bg-performance-bg-5",icon:"microphone",daily:d(s?.Customer_Service),weekly:d(i?.Customer_Service)},{title:"Put Into Portal %",bgColor:"bg-performance-bg-6",icon:"arrowUp",daily:d(s?.Put_into_Portal_Percent),weekly:d(i?.Put_into_Portal_Percent)},{title:"In Portal On Time %",bgColor:"bg-performance-bg-7",icon:"clock",daily:d(s?.In_Portal_on_Time_Percent),weekly:d(i?.In_Portal_on_Time_Percent)},{title:"Portal Eligible Transactions",bgColor:"bg-performance-bg-8",icon:"document",daily:u(s?.Total_Portal_Eligible_Transactions),weekly:u(i?.Total_Portal_Eligible_Transactions)}];return[...x,...S]},[s,i]),f=!!(s||i),p=()=>a.jsxs("div",{className:J("w-full bg-card rounded-lg border border-destructive/20 p-6 shadow-realistic","flex flex-col items-center justify-center text-center space-y-4",n?"min-h-48":"min-h-64"),children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-destructive/10",children:a.jsx(ol,{className:"w-6 h-6 text-destructive"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:"Unable to Load Data"}),a.jsxs("p",{className:"text-sm text-muted-foreground max-w-md",children:["We're experiencing difficulties loading your customer service metrics. This could be due to a temporary connection issue or data processing error.",a.jsx("p",{className:"font-bold mt-1",children:"Try changing the Date filter."})]})]})]}),g=()=>a.jsxs("div",{className:J("w-full bg-card rounded-lg border border-border p-6 shadow-realistic","flex flex-col items-center justify-center text-center space-y-4",n?"min-h-48":"min-h-64"),children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-muted",children:a.jsx(ol,{className:"w-6 h-6 text-muted-foreground"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:"No Data Available"}),a.jsxs("p",{className:"text-sm text-muted-foreground max-w-md",children:["There's currently no customer service data available to display. Please check back later or contact support if this issue persists.",a.jsx("p",{className:"font-bold mt-1",children:"Try changing the Date filter."})]})]})]});return a.jsxs("section",{className:J("w-full p-2 space-y-2",n?" space-y-2":" space-y-6",r),children:[a.jsx(CE,{title:e,subtitle:t}),c?a.jsx(p,{}):!f||!l||l.length===0?a.jsx(g,{}):a.jsxs("div",{className:"space-y-6",children:[a.jsx(SH,{data:l.slice(0,4),isLoading:o}),a.jsx(SH,{data:l.slice(4,8),isLoading:o})]})]})},OMe=({title:e="Business Overview",subtitle:t,data:r,className:n})=>{const{dailyRawData:s,weeklyRawData:i,isLoading:o,error:c,hasValidData:d}=Ba(),u=ea(),l=b.useMemo(()=>{if(r)return r;if(!d()||!s)return[];const x=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(m),S=m=>`${(m*100).toFixed(1)}%`;return[{title:"Total Sales",bgColor:"bg-blue-500",daily:x(s.Total_Sales||0),weekly:x(i?.Total_Sales||0),icon:"currency",id:"sales-1"},{title:"Total Tips",bgColor:"bg-blue-400",daily:x(s.Total_TIPS||0),weekly:x(i?.Total_TIPS||0),icon:"currency",id:"tips-1"},{title:"Labor Cost",bgColor:"bg-blue-300",daily:S(s.labor||0),weekly:S(i?.labor||0),icon:"users",id:"labor-1"},{title:"Refunded Order Qty",bgColor:"bg-green-200",daily:x(s.Refunded_order_Qty||0),weekly:x(i?.Refunded_order_Qty||0),icon:"trending",id:"refunded-1"},{title:"Average Ticket",bgColor:"bg-green-200",daily:x(s.Avrage_ticket||0),weekly:x(i?.Avrage_ticket||0),icon:"trending",id:"avrage-ticket-1"}]},[r,s,i,d]),f=()=>a.jsxs("div",{className:J("w-full bg-card rounded-lg border border-destructive/20 p-6 shadow-realistic","flex flex-col items-center justify-center text-center space-y-4",u?"min-h-48":"min-h-64"),children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-destructive/10",children:a.jsx(ol,{className:"w-6 h-6 text-destructive"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:"Unable to Load Data"}),a.jsxs("p",{className:"text-sm text-muted-foreground max-w-md",children:["We're experiencing difficulties loading your business metrics. This could be due to a temporary connection issue or data processing error.",a.jsx("p",{className:"font-bold mt-1",children:"Try changing the Date filter."})]})]})]}),p=()=>a.jsxs("div",{className:J("w-full bg-card rounded-lg border border-border p-6 shadow-realistic","flex flex-col items-center justify-center text-center space-y-4",u?"min-h-48":"min-h-64"),children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-muted",children:a.jsx(ol,{className:"w-6 h-6 text-muted-foreground"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:"No Data Available"}),a.jsxs("p",{className:"text-sm text-muted-foreground max-w-md",children:["There's currently no business data available to display. Please check back later or contact support if this issue persists.",a.jsx("p",{className:"font-bold mt-1",children:"Try changing the Date filter."})]})]})]}),g=l.map(x=>{let S;switch(x.icon){case"chart":S="FlowbiteChartLineDownOutline";break;case"currency":S="currency";break;case"trophy":S="trophy";break;case"trending":S="trending";break;default:x.title.toLowerCase().includes("sales")?S="FlowbiteChartLineDownOutline":x.title.toLowerCase().includes("tips")?S="currency":x.title.toLowerCase().includes("labor")?S="users":x.title.toLowerCase().includes("refunded")?S="IconParkOutlineRecycling":x.title.toLowerCase().includes("average")||x.title.toLowerCase().includes("ticket")?S="trending":S="FlowbiteChartLineDownOutline"}return{title:x.title,daily:x.daily,weekly:x.weekly,bgColor:x.bgColor||"#f3f4f6",icon:S}});return a.jsxs("section",{className:J("w-full",u?"p-2 space-y-2":"p-2 space-y-6",n),children:[a.jsx(CE,{title:e,subtitle:t}),a.jsx("div",{className:"flex flex-col gap-6",children:c?a.jsx(f,{}):!d()||l.length===0?a.jsx(p,{}):a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-full",children:a.jsx(uX,{data:g,isLoading:o})})})})]})},IMe=({channel:e,isLast:t=!1,isMobile:r=!1})=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:J("flex items-center justify-between",r?"px-2 py-1":"px-2.5 py-1"),children:[a.jsx(LMe,{channel:e,isMobile:r}),a.jsx(BMe,{channel:e,isMobile:r})]}),!t&&a.jsx(Xs,{className:J("w-[96%] mx-auto")})]}),LMe=({channel:e,isMobile:t})=>a.jsx("div",{className:J("flex flex-col items-center justify-center space-y-1",t?"min-w-[60px]":"min-w-[78px]"),children:a.jsx("h3",{className:J("font-bold text-foreground whitespace-nowrap",t?"text-xs":"text-sm md:text-base"),children:e.name})}),BMe=({channel:e,isMobile:t})=>a.jsxs("div",{className:J("flex flex-col items-center justify-center space-y-1",t?"min-w-[50px]":"min-w-[66px]"),children:[a.jsxs("span",{className:J("text-foreground whitespace-nowrap","font-semibold text-sm md:text-base"),children:["Daily  :  ",e.daily]}),a.jsxs("span",{className:J("text-muted-foreground whitespace-nowrap","text-xs md:text-sm"),children:["Weekly  :  ",e.weekly]})]}),$Me=({channels:e})=>{const t=ea();return a.jsx("div",{className:"space-y-0",children:e.map((r,n)=>a.jsx(IMe,{channel:r,isLast:n===e.length-1,isMobile:t},r.id))})};var E2={},N2={},CH;function FMe(){return CH||(CH=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t}(N2)),N2}var _2={},jH;function fX(){return jH||(jH=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t}(_2)),_2}var A2={},EH;function hX(){return EH||(EH=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t}(A2)),A2}var k2={},NH;function bO(){return NH||(NH=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],s=r.length;if(s===0)return n;let i=0,o="",c="",d=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<s;){const u=r[i];c?u==="\\"&&i+1<s?(i++,o+=r[i]):u===c?c="":o+=u:d?u==='"'||u==="'"?c=u:u==="]"?(d=!1,n.push(o),o=""):o+=u:u==="["?(d=!0,o&&(n.push(o),o="")):u==="."?o&&(n.push(o),o=""):o+=u,i++}return o&&n.push(o),n}e.toPath=t}(k2)),k2}var _H;function wO(){return _H||(_H=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FMe(),r=fX(),n=hX(),s=bO();function i(c,d,u){if(c==null)return u;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return u;const l=c[d];return l===void 0?r.isDeepKey(d)?i(c,s.toPath(d),u):u:l}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const l=c[d];return l===void 0?u:l}default:{if(Array.isArray(d))return o(c,d,u);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return u;const l=c[d];return l===void 0?u:l}}}function o(c,d,u){if(d.length===0)return u;let l=c;for(let f=0;f<d.length;f++){if(l==null||t.isUnsafeProperty(d[f]))return u;l=l[d[f]]}return l===void 0?u:l}e.get=i}(E2)),E2}var T2,AH;function HMe(){return AH||(AH=1,T2=wO().get),T2}var zMe=HMe();const Wd=xi(zMe);var P2={exports:{}},Rr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kH;function UMe(){if(kH)return Rr;kH=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),l=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function x(S){if(typeof S=="object"&&S!==null){var m=S.$$typeof;switch(m){case e:switch(S=S.type,S){case r:case s:case n:case d:case u:case p:return S;default:switch(S=S&&S.$$typeof,S){case o:case c:case f:case l:return S;case i:return S;default:return m}}case t:return m}}}return Rr.ContextConsumer=i,Rr.ContextProvider=o,Rr.Element=e,Rr.ForwardRef=c,Rr.Fragment=r,Rr.Lazy=f,Rr.Memo=l,Rr.Portal=t,Rr.Profiler=s,Rr.StrictMode=n,Rr.Suspense=d,Rr.SuspenseList=u,Rr.isContextConsumer=function(S){return x(S)===i},Rr.isContextProvider=function(S){return x(S)===o},Rr.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===e},Rr.isForwardRef=function(S){return x(S)===c},Rr.isFragment=function(S){return x(S)===r},Rr.isLazy=function(S){return x(S)===f},Rr.isMemo=function(S){return x(S)===l},Rr.isPortal=function(S){return x(S)===t},Rr.isProfiler=function(S){return x(S)===s},Rr.isStrictMode=function(S){return x(S)===n},Rr.isSuspense=function(S){return x(S)===d},Rr.isSuspenseList=function(S){return x(S)===u},Rr.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===r||S===s||S===n||S===d||S===u||typeof S=="object"&&S!==null&&(S.$$typeof===f||S.$$typeof===l||S.$$typeof===o||S.$$typeof===i||S.$$typeof===c||S.$$typeof===g||S.getModuleId!==void 0)},Rr.typeOf=x,Rr}var TH;function VMe(){return TH||(TH=1,P2.exports=UMe()),P2.exports}var SO=VMe(),bs=e=>e===0?0:e>0?1:-1,fi=e=>typeof e=="number"&&e!=+e,Ju=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,nt=e=>(typeof e=="number"||e instanceof Number)&&!fi(e),ll=e=>nt(e)||typeof e=="string",WMe=0,Fv=e=>{var t=++WMe;return"".concat(e||"").concat(t)},ca=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!nt(t)&&typeof t!="string")return n;var i;if(Ju(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return fi(i)&&(i=n),s&&r!=null&&i>r&&(i=r),i},mX=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},PH=(e,t)=>nt(e)&&nt(t)?r=>e+r*(t-e):()=>t;function dm(e,t,r){return nt(e)&&nt(t)?e+r*(t-e):t}function qMe(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Wd(n,t))===r)}var ns=e=>e===null||typeof e>"u",V0=e=>ns(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),GMe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function CO(e){if(typeof e!="string")return!1;var t=GMe;return t.includes(e)}var YMe=["viewBox","children"],DH=["points","pathLength"],D2={svg:YMe,polygon:DH,polyline:DH},KMe=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(b.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{CO(s)&&(n[s]=i=>r[s](r,i))}),n},ZMe=(e,t,r)=>n=>(e(t,r,n),null),W0=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var i=e[s];CO(s)&&typeof i=="function"&&(n||(n={}),n[s]=ZMe(i,t,r))}),n},XMe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function pX(e){if(typeof e!="string")return!1;var t=XMe;return t.includes(e)}function Qf(e){var t=Object.entries(e).filter(r=>{var[n]=r;return pX(n)});return Object.fromEntries(t)}var RH=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",MH=null,R2=null,gX=e=>{if(e===MH&&Array.isArray(R2))return R2;var t=[];return b.Children.forEach(e,r=>{ns(r)||(SO.isFragment(r)?t=t.concat(gX(r.props.children)):t.push(r))}),R2=t,MH=e,t};function q0(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(s=>RH(s)):n=[RH(t)],gX(e).forEach(s=>{var i=Wd(s,"type.displayName")||Wd(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}var QMe=(e,t,r,n)=>{var s;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(s=n&&D2?.[n])!==null&&s!==void 0?s:[],o=t.startsWith("data-"),c=typeof e!="function"&&(!!n&&i.includes(t)||pX(t)),d=!!r&&CO(t);return o||c||d},Wn=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var s={};return Object.keys(n).forEach(i=>{var o;QMe((o=n)===null||o===void 0?void 0:o[i],i,t,r)&&(s[i]=n[i])}),s},JMe=["children","width","height","viewBox","className","style","title","desc"];function ID(){return ID=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ID.apply(null,arguments)}function eOe(e,t){if(e==null)return{};var r,n,s=tOe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function tOe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jO=b.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:i,className:o,style:c,title:d,desc:u}=e,l=eOe(e,JMe),f=i||{width:n,height:s,x:0,y:0},p=ft("recharts-surface",o);return b.createElement("svg",ID({},Wn(l,!0,"svg"),{className:p,width:n,height:s,style:c,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),b.createElement("title",null,d),b.createElement("desc",null,u),r)}),rOe=["children","className"];function LD(){return LD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LD.apply(null,arguments)}function nOe(e,t){if(e==null)return{};var r,n,s=sOe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function sOe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hi=b.forwardRef((e,t)=>{var{children:r,className:n}=e,s=nOe(e,rOe),i=ft("recharts-layer",n);return b.createElement("g",LD({className:i},Wn(s,!0),{ref:t}),r)}),xX=b.createContext(null),aOe=()=>b.useContext(xX);function or(e){return function(){return e}}const vX=Math.cos,kC=Math.sin,Ao=Math.sqrt,TC=Math.PI,pf=2*TC,BD=Math.PI,$D=2*BD,Vu=1e-6,iOe=$D-Vu;function yX(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function oOe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return yX;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class lOe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?yX:oOe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,c=this._y1,d=n-t,u=s-r,l=o-t,f=c-r,p=l*l+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Vu)if(!(Math.abs(f*d-u*l)>Vu)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-o,x=s-c,S=d*d+u*u,m=g*g+x*x,y=Math.sqrt(S),w=Math.sqrt(p),C=i*Math.tan((BD-Math.acos((S+p-m)/(2*y*w)))/2),E=C/w,N=C/y;Math.abs(E-1)>Vu&&this._append`L${t+E*l},${r+E*f}`,this._append`A${i},${i},0,0,${+(f*g>l*x)},${this._x1=t+N*d},${this._y1=r+N*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(s),d=n*Math.sin(s),u=t+c,l=r+d,f=1^o,p=o?s-i:i-s;this._x1===null?this._append`M${u},${l}`:(Math.abs(this._x1-u)>Vu||Math.abs(this._y1-l)>Vu)&&this._append`L${u},${l}`,n&&(p<0&&(p=p%$D+$D),p>iOe?this._append`A${n},${n},0,1,${f},${t-c},${r-d}A${n},${n},0,1,${f},${this._x1=u},${this._y1=l}`:p>Vu&&this._append`A${n},${n},0,${+(p>=BD)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function EO(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new lOe(t)}function jE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function bX(e){this._context=e}bX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function EE(e){return new bX(e)}function wX(e){return e[0]}function SX(e){return e[1]}function CX(e,t){var r=or(!0),n=null,s=EE,i=null,o=EO(c);e=typeof e=="function"?e:e===void 0?wX:or(e),t=typeof t=="function"?t:t===void 0?SX:or(t);function c(d){var u,l=(d=jE(d)).length,f,p=!1,g;for(n==null&&(i=s(g=o())),u=0;u<=l;++u)!(u<l&&r(f=d[u],u,d))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(f,u,d),+t(f,u,d));if(g)return i=null,g+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:or(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:or(+d),c):t},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:or(!!d),c):r},c.curve=function(d){return arguments.length?(s=d,n!=null&&(i=s(n)),c):s},c.context=function(d){return arguments.length?(d==null?n=i=null:i=s(n=d),c):n},c}function ww(e,t,r){var n=null,s=or(!0),i=null,o=EE,c=null,d=EO(u);e=typeof e=="function"?e:e===void 0?wX:or(+e),t=typeof t=="function"?t:or(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?SX:or(+r);function u(f){var p,g,x,S=(f=jE(f)).length,m,y=!1,w,C=new Array(S),E=new Array(S);for(i==null&&(c=o(w=d())),p=0;p<=S;++p){if(!(p<S&&s(m=f[p],p,f))===y)if(y=!y)g=p,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),x=p-1;x>=g;--x)c.point(C[x],E[x]);c.lineEnd(),c.areaEnd()}y&&(C[p]=+e(m,p,f),E[p]=+t(m,p,f),c.point(n?+n(m,p,f):C[p],r?+r(m,p,f):E[p]))}if(w)return c=null,w+""||null}function l(){return CX().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:or(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:or(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:or(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:or(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:or(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:or(+f),u):r},u.lineX0=u.lineY0=function(){return l().x(e).y(t)},u.lineY1=function(){return l().x(e).y(r)},u.lineX1=function(){return l().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:or(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(c=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=c=null:c=o(i=f),u):i},u}function cOe(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function dOe(e){return e}function uOe(){var e=dOe,t=cOe,r=null,n=or(0),s=or(pf),i=or(0);function o(c){var d,u=(c=jE(c)).length,l,f,p=0,g=new Array(u),x=new Array(u),S=+n.apply(this,arguments),m=Math.min(pf,Math.max(-pf,s.apply(this,arguments)-S)),y,w=Math.min(Math.abs(m)/u,i.apply(this,arguments)),C=w*(m<0?-1:1),E;for(d=0;d<u;++d)(E=x[g[d]=d]=+e(c[d],d,c))>0&&(p+=E);for(t!=null?g.sort(function(N,k){return t(x[N],x[k])}):r!=null&&g.sort(function(N,k){return r(c[N],c[k])}),d=0,f=p?(m-u*C)/p:0;d<u;++d,S=y)l=g[d],E=x[l],y=S+(E>0?E*f:0)+C,x[l]={data:c[l],index:d,value:E,startAngle:S,endAngle:y,padAngle:w};return x}return o.value=function(c){return arguments.length?(e=typeof c=="function"?c:or(+c),o):e},o.sortValues=function(c){return arguments.length?(t=c,r=null,o):t},o.sort=function(c){return arguments.length?(r=c,t=null,o):r},o.startAngle=function(c){return arguments.length?(n=typeof c=="function"?c:or(+c),o):n},o.endAngle=function(c){return arguments.length?(s=typeof c=="function"?c:or(+c),o):s},o.padAngle=function(c){return arguments.length?(i=typeof c=="function"?c:or(+c),o):i},o}class jX{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function fOe(e){return new jX(e,!0)}function hOe(e){return new jX(e,!1)}const NO={draw(e,t){const r=Ao(t/TC);e.moveTo(r,0),e.arc(0,0,r,0,pf)}},mOe={draw(e,t){const r=Ao(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},EX=Ao(1/3),pOe=EX*2,gOe={draw(e,t){const r=Ao(t/pOe),n=r*EX;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},xOe={draw(e,t){const r=Ao(t),n=-r/2;e.rect(n,n,r,r)}},vOe=.8908130915292852,NX=kC(TC/10)/kC(7*TC/10),yOe=kC(pf/10)*NX,bOe=-vX(pf/10)*NX,wOe={draw(e,t){const r=Ao(t*vOe),n=yOe*r,s=bOe*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=pf*i/5,c=vX(o),d=kC(o);e.lineTo(d*r,-c*r),e.lineTo(c*n-d*s,d*n+c*s)}e.closePath()}},M2=Ao(3),SOe={draw(e,t){const r=-Ao(t/(M2*3));e.moveTo(0,r*2),e.lineTo(-M2*r,-r),e.lineTo(M2*r,-r),e.closePath()}},Pi=-.5,Di=Ao(3)/2,FD=1/Ao(12),COe=(FD/2+1)*3,jOe={draw(e,t){const r=Ao(t/COe),n=r/2,s=r*FD,i=n,o=r*FD+r,c=-i,d=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(c,d),e.lineTo(Pi*n-Di*s,Di*n+Pi*s),e.lineTo(Pi*i-Di*o,Di*i+Pi*o),e.lineTo(Pi*c-Di*d,Di*c+Pi*d),e.lineTo(Pi*n+Di*s,Pi*s-Di*n),e.lineTo(Pi*i+Di*o,Pi*o-Di*i),e.lineTo(Pi*c+Di*d,Pi*d-Di*c),e.closePath()}};function EOe(e,t){let r=null,n=EO(s);e=typeof e=="function"?e:or(e||NO),t=typeof t=="function"?t:or(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:or(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:or(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function PC(){}function DC(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function _X(e){this._context=e}_X.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:DC(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:DC(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function NOe(e){return new _X(e)}function AX(e){this._context=e}AX.prototype={areaStart:PC,areaEnd:PC,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:DC(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _Oe(e){return new AX(e)}function kX(e){this._context=e}kX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:DC(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function AOe(e){return new kX(e)}function TX(e){this._context=e}TX.prototype={areaStart:PC,areaEnd:PC,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function kOe(e){return new TX(e)}function OH(e){return e<0?-1:1}function IH(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),c=(i*s+o*n)/(n+s);return(OH(i)+OH(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(c))||0}function LH(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function O2(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,c=(i-n)/3;e._context.bezierCurveTo(n+c,s+c*t,i-c,o-c*r,i,o)}function RC(e){this._context=e}RC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:O2(this,this._t0,LH(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,O2(this,LH(this,r=IH(this,e,t)),r);break;default:O2(this,this._t0,r=IH(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function PX(e){this._context=new DX(e)}(PX.prototype=Object.create(RC.prototype)).point=function(e,t){RC.prototype.point.call(this,t,e)};function DX(e){this._context=e}DX.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function TOe(e){return new RC(e)}function POe(e){return new PX(e)}function RX(e){this._context=e}RX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=BH(e),s=BH(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function BH(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function DOe(e){return new RX(e)}function NE(e,t){this._context=e,this._t=t}NE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function ROe(e){return new NE(e,.5)}function MOe(e){return new NE(e,0)}function OOe(e){return new NE(e,1)}function Df(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,c=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<c;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Rf(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function IOe(e,t){return e[t]}function LOe(e){const t=[];return t.key=e,t}function _O(){var e=or([]),t=Rf,r=Df,n=IOe;function s(i){var o=Array.from(e.apply(this,arguments),LOe),c,d=o.length,u=-1,l;for(const f of i)for(c=0,++u;c<d;++c)(o[c][u]=[0,+n(f,o[c].key,u,i)]).data=f;for(c=0,l=jE(t(o));c<d;++c)o[l[c]].index=c;return r(o,l),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:or(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:or(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?Rf:typeof i=="function"?i:or(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Df,s):r},s}function MX(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Df(e,t)}}function BOe(e,t){if((d=e.length)>0)for(var r,n=0,s,i,o,c,d,u=e[t[0]].length;n<u;++n)for(o=c=0,r=0;r<d;++r)(i=(s=e[t[r]][n])[1]-s[0])>0?(s[0]=o,s[1]=o+=i):i<0?(s[1]=c,s[0]=c+=i):(s[0]=0,s[1]=i)}function OX(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,c=0;o<s;++o)c+=e[o][r][1]||0;n[r][1]+=n[r][0]=-c/2}Df(e,t)}}function IX(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var c=0,d=0,u=0;c<o;++c){for(var l=e[t[c]],f=l[n][1]||0,p=l[n-1][1]||0,g=(f-p)/2,x=0;x<c;++x){var S=e[t[x]],m=S[n][1]||0,y=S[n-1][1]||0;g+=m-y}d+=f,u+=g*f}s[n-1][1]+=s[n-1][0]=r,d&&(r-=u/d)}s[n-1][1]+=s[n-1][0]=r,Df(e,t)}}function LX(e){var t=e.map($Oe);return Rf(e).sort(function(r,n){return t[r]-t[n]})}function $Oe(e){for(var t=-1,r=0,n=e.length,s,i=-1/0;++t<n;)(s=+e[t][1])>i&&(i=s,r=t);return r}function BX(e){var t=e.map($X);return Rf(e).sort(function(r,n){return t[r]-t[n]})}function $X(e){for(var t=0,r=-1,n=e.length,s;++r<n;)(s=+e[r][1])&&(t+=s);return t}function FOe(e){return BX(e).reverse()}function HOe(e){var t=e.length,r,n,s=e.map($X),i=LX(e),o=0,c=0,d=[],u=[];for(r=0;r<t;++r)n=i[r],o<c?(o+=s[n],d.push(n)):(c+=s[n],u.push(n));return u.reverse().concat(d)}function zOe(e){return Rf(e).reverse()}var UOe=["type","size","sizeType"];function HD(){return HD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HD.apply(null,arguments)}function $H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function FH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$H(Object(r),!0).forEach(function(n){VOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$H(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VOe(e,t,r){return(t=WOe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WOe(e){var t=qOe(e,"string");return typeof t=="symbol"?t:t+""}function qOe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GOe(e,t){if(e==null)return{};var r,n,s=YOe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function YOe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var FX={symbolCircle:NO,symbolCross:mOe,symbolDiamond:gOe,symbolSquare:xOe,symbolStar:wOe,symbolTriangle:SOe,symbolWye:jOe},KOe=Math.PI/180,ZOe=e=>{var t="symbol".concat(V0(e));return FX[t]||NO},XOe=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*KOe;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},QOe=(e,t)=>{FX["symbol".concat(V0(e))]=t},AO=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,s=GOe(e,UOe),i=FH(FH({},s),{},{type:t,size:r,sizeType:n}),o=()=>{var f=ZOe(t),p=EOe().type(f).size(XOe(r,n,t));return p()},{className:c,cx:d,cy:u}=i,l=Wn(i,!0);return d===+d&&u===+u&&r===+r?b.createElement("path",HD({},l,{className:ft("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(u,")"),d:o()})):null};AO.registerSymbol=QOe;function zD(){return zD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zD.apply(null,arguments)}function HH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function JOe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HH(Object(r),!0).forEach(function(n){kO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HH(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kO(e,t,r){return(t=eIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eIe(e){var t=tIe(e,"string");return typeof t=="symbol"?t:t+""}function tIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ri=32;class TO extends b.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,s=Ri/2,i=Ri/6,o=Ri/3,c=t.inactive?n:t.color,d=r??t.type;if(d==="none")return null;if(d==="plainline")return b.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:s,x2:Ri,y2:s,className:"recharts-legend-icon"});if(d==="line")return b.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(Ri,"M").concat(2*o,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(d==="rect")return b.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ri/8,"h").concat(Ri,"v").concat(Ri*3/4,"h").concat(-Ri,"z"),className:"recharts-legend-icon"});if(b.isValidElement(t.legendIcon)){var u=JOe({},t);return delete u.legendIcon,b.cloneElement(t.legendIcon,u)}return b.createElement(AO,{fill:c,cx:s,cy:s,size:Ri,sizeType:"diameter",type:d})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:s,inactiveColor:i,iconType:o}=this.props,c={x:0,y:0,width:Ri,height:Ri},d={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((l,f)=>{var p=l.formatter||s,g=ft({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:l.inactive});if(l.type==="none")return null;var x=l.inactive?i:l.color,S=p?p(l.value,l,f):l.value;return b.createElement("li",zD({className:g,style:d,key:"legend-item-".concat(f)},W0(this.props,l,f)),b.createElement(jO,{width:r,height:r,viewBox:c,style:u,"aria-label":"".concat(S," legend icon")},this.renderIcon(l,o)),b.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},S))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return b.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}kO(TO,"displayName","Legend");kO(TO,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var I2={},L2={},zH;function rIe(){return zH||(zH=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let i=0;i<r.length;i++){const o=r[i],c=n(o);s.has(c)||s.set(c,o)}return Array.from(s.values())}e.uniqBy=t}(L2)),L2}var B2={},UH;function HX(){return UH||(UH=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t}(B2)),B2}var $2={},F2={},H2={},VH;function nIe(){return VH||(VH=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t}(H2)),H2}var WH;function PO(){return WH||(WH=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nIe();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r}(F2)),F2}var z2={},qH;function sIe(){return qH||(qH=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t}(z2)),z2}var GH;function aIe(){return GH||(GH=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PO(),r=sIe();function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n}($2)),$2}var U2={},V2={},YH;function iIe(){return YH||(YH=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wO();function r(n){return function(s){return t.get(s,n)}}e.property=r}(V2)),V2}var W2={},q2={},G2={},Y2={},KH;function zX(){return KH||(KH=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t}(Y2)),Y2}var K2={},ZH;function UX(){return ZH||(ZH=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t}(K2)),K2}var Z2={},XH;function DO(){return XH||(XH=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t}(Z2)),Z2}var QH;function oIe(){return QH||(QH=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RO(),r=zX(),n=UX(),s=DO();function i(f,p,g){return typeof g!="function"?t.isMatch(f,p):o(f,p,function x(S,m,y,w,C,E){const N=g(S,m,y,w,C,E);return N!==void 0?!!N:o(S,m,x,E)},new Map)}function o(f,p,g,x){if(p===f)return!0;switch(typeof p){case"object":return c(f,p,g,x);case"function":return Object.keys(p).length>0?o(f,{...p},g,x):s.eq(f,p);default:return r.isObject(f)?typeof p=="string"?p==="":!0:s.eq(f,p)}}function c(f,p,g,x){if(p==null)return!0;if(Array.isArray(p))return u(f,p,g,x);if(p instanceof Map)return d(f,p,g,x);if(p instanceof Set)return l(f,p,g,x);const S=Object.keys(p);if(f==null)return S.length===0;if(S.length===0)return!0;if(x&&x.has(p))return x.get(p)===f;x&&x.set(p,f);try{for(let m=0;m<S.length;m++){const y=S[m];if(!n.isPrimitive(f)&&!(y in f)||p[y]===void 0&&f[y]!==void 0||p[y]===null&&f[y]!==null||!g(f[y],p[y],y,f,p,x))return!1}return!0}finally{x&&x.delete(p)}}function d(f,p,g,x){if(p.size===0)return!0;if(!(f instanceof Map))return!1;for(const[S,m]of p.entries()){const y=f.get(S);if(g(y,m,S,f,p,x)===!1)return!1}return!0}function u(f,p,g,x){if(p.length===0)return!0;if(!Array.isArray(f))return!1;const S=new Set;for(let m=0;m<p.length;m++){const y=p[m];let w=!1;for(let C=0;C<f.length;C++){if(S.has(C))continue;const E=f[C];let N=!1;if(g(E,y,m,f,p,x)&&(N=!0),N){S.add(C),w=!0;break}}if(!w)return!1}return!0}function l(f,p,g,x){return p.size===0?!0:f instanceof Set?u([...f],[...p],g,x):!1}e.isMatchWith=i,e.isSetMatch=l}(G2)),G2}var JH;function RO(){return JH||(JH=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oIe();function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r}(q2)),q2}var X2={},Q2={},J2={},ez;function VX(){return ez||(ez=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t}(J2)),J2}var eT={},tz;function MO(){return tz||(tz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t}(eT)),eT}var tT={},rz;function OO(){return rz||(rz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",i="[object Arguments]",o="[object Symbol]",c="[object Date]",d="[object Map]",u="[object Set]",l="[object Array]",f="[object Function]",p="[object ArrayBuffer]",g="[object Object]",x="[object Error]",S="[object DataView]",m="[object Uint8Array]",y="[object Uint8ClampedArray]",w="[object Uint16Array]",C="[object Uint32Array]",E="[object BigUint64Array]",N="[object Int8Array]",k="[object Int16Array]",A="[object Int32Array]",T="[object BigInt64Array]",P="[object Float32Array]",M="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=p,e.arrayTag=l,e.bigInt64ArrayTag=T,e.bigUint64ArrayTag=E,e.booleanTag=s,e.dataViewTag=S,e.dateTag=c,e.errorTag=x,e.float32ArrayTag=P,e.float64ArrayTag=M,e.functionTag=f,e.int16ArrayTag=k,e.int32ArrayTag=A,e.int8ArrayTag=N,e.mapTag=d,e.numberTag=n,e.objectTag=g,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=w,e.uint32ArrayTag=C,e.uint8ArrayTag=m,e.uint8ClampedArrayTag=y}(tT)),tT}var rT={},nz;function lIe(){return nz||(nz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t}(rT)),rT}var sz;function WX(){return sz||(sz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VX(),r=MO(),n=OO(),s=UX(),i=lIe();function o(l,f){return c(l,void 0,l,new Map,f)}function c(l,f,p,g=new Map,x=void 0){const S=x?.(l,f,p,g);if(S!==void 0)return S;if(s.isPrimitive(l))return l;if(g.has(l))return g.get(l);if(Array.isArray(l)){const m=new Array(l.length);g.set(l,m);for(let y=0;y<l.length;y++)m[y]=c(l[y],y,p,g,x);return Object.hasOwn(l,"index")&&(m.index=l.index),Object.hasOwn(l,"input")&&(m.input=l.input),m}if(l instanceof Date)return new Date(l.getTime());if(l instanceof RegExp){const m=new RegExp(l.source,l.flags);return m.lastIndex=l.lastIndex,m}if(l instanceof Map){const m=new Map;g.set(l,m);for(const[y,w]of l)m.set(y,c(w,y,p,g,x));return m}if(l instanceof Set){const m=new Set;g.set(l,m);for(const y of l)m.add(c(y,void 0,p,g,x));return m}if(typeof Buffer<"u"&&Buffer.isBuffer(l))return l.subarray();if(i.isTypedArray(l)){const m=new(Object.getPrototypeOf(l)).constructor(l.length);g.set(l,m);for(let y=0;y<l.length;y++)m[y]=c(l[y],y,p,g,x);return m}if(l instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&l instanceof SharedArrayBuffer)return l.slice(0);if(l instanceof DataView){const m=new DataView(l.buffer.slice(0),l.byteOffset,l.byteLength);return g.set(l,m),d(m,l,p,g,x),m}if(typeof File<"u"&&l instanceof File){const m=new File([l],l.name,{type:l.type});return g.set(l,m),d(m,l,p,g,x),m}if(l instanceof Blob){const m=new Blob([l],{type:l.type});return g.set(l,m),d(m,l,p,g,x),m}if(l instanceof Error){const m=new l.constructor;return g.set(l,m),m.message=l.message,m.name=l.name,m.stack=l.stack,m.cause=l.cause,d(m,l,p,g,x),m}if(typeof l=="object"&&u(l)){const m=Object.create(Object.getPrototypeOf(l));return g.set(l,m),d(m,l,p,g,x),m}return l}function d(l,f,p=l,g,x){const S=[...Object.keys(f),...t.getSymbols(f)];for(let m=0;m<S.length;m++){const y=S[m],w=Object.getOwnPropertyDescriptor(l,y);(w==null||w.writable)&&(l[y]=c(f[y],y,p,g,x))}}function u(l){switch(r.getTag(l)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=c,e.copyProperties=d}(Q2)),Q2}var az;function cIe(){return az||(az=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WX();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r}(X2)),X2}var iz;function dIe(){return iz||(iz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RO(),r=cIe();function n(s){return s=r.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=n}(W2)),W2}var nT={},sT={},aT={},oz;function uIe(){return oz||(oz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WX(),r=OO();function n(s,i){return t.cloneDeepWith(s,(o,c,d,u)=>{const l=i?.(o,c,d,u);if(l!==void 0)return l;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new s.constructor(s?.valueOf());return t.copyProperties(f,s),f}case r.argumentsTag:{const f={};return t.copyProperties(f,s),f.length=s.length,f[Symbol.iterator]=s[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n}(aT)),aT}var lz;function fIe(){return lz||(lz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uIe();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r}(sT)),sT}var iT={},oT={},cz;function qX(){return cz||(cz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r}(oT)),oT}var lT={},dz;function hIe(){return dz||(dz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MO();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r}(lT)),lT}var uz;function mIe(){return uz||(uz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fX(),r=qX(),n=hIe(),s=bO();function i(o,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&t.isDeepKey(c)&&o?.[c]==null?d=s.toPath(c):d=[c],d.length===0)return!1;let u=o;for(let l=0;l<d.length;l++){const f=d[l];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i}(iT)),iT}var fz;function pIe(){return fz||(fz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RO(),r=hX(),n=fIe(),s=wO(),i=mIe();function o(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=r.toKey(c);break}}return d=n.cloneDeep(d),function(u){const l=s.get(u,c);return l===void 0?i.has(u,c):d===void 0?l===void 0:t.isMatch(l,d)}}e.matchesProperty=o}(nT)),nT}var hz;function gIe(){return hz||(hz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HX(),r=iIe(),n=dIe(),s=pIe();function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?s.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i}(U2)),U2}var mz;function xIe(){return mz||(mz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rIe(),r=HX(),n=aIe(),s=gIe();function i(o,c=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),s.iteratee(c)):[]}e.uniqBy=i}(I2)),I2}var cT,pz;function vIe(){return pz||(pz=1,cT=xIe().uniqBy),cT}var yIe=vIe();const gz=xi(yIe);function GX(e,t,r){return t===!0?gz(e,r):typeof t=="function"?gz(e,t):e}var dT={exports:{}},uT={},fT={exports:{}},hT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xz;function bIe(){if(xz)return hT;xz=1;var e=Yd();function t(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function c(f,p){var g=p(),x=n({inst:{value:g,getSnapshot:p}}),S=x[0].inst,m=x[1];return i(function(){S.value=g,S.getSnapshot=p,d(S)&&m({inst:S})},[f,g,p]),s(function(){return d(S)&&m({inst:S}),f(function(){d(S)&&m({inst:S})})},[f]),o(g),g}function d(f){var p=f.getSnapshot;f=f.value;try{var g=p();return!r(f,g)}catch{return!0}}function u(f,p){return p()}var l=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:c;return hT.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:l,hT}var vz;function YX(){return vz||(vz=1,fT.exports=bIe()),fT.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yz;function wIe(){if(yz)return uT;yz=1;var e=Yd(),t=YX();function r(u,l){return u===l&&(u!==0||1/u===1/l)||u!==u&&l!==l}var n=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,c=e.useMemo,d=e.useDebugValue;return uT.useSyncExternalStoreWithSelector=function(u,l,f,p,g){var x=i(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=c(function(){function y(k){if(!w){if(w=!0,C=k,k=p(k),g!==void 0&&S.hasValue){var A=S.value;if(g(A,k))return E=A}return E=k}if(A=E,n(C,k))return A;var T=p(k);return g!==void 0&&g(A,T)?(C=k,A):(C=k,E=T)}var w=!1,C,E,N=f===void 0?null:f;return[function(){return y(l())},N===null?void 0:function(){return y(N())}]},[l,f,p,g]);var m=s(u,x[0],x[1]);return o(function(){S.hasValue=!0,S.value=m},[m]),d(m),m},uT}var bz;function SIe(){return bz||(bz=1,dT.exports=wIe()),dT.exports}var KX=SIe(),IO=b.createContext(null),CIe=e=>e,vn=()=>{var e=b.useContext(IO);return e?e.store.dispatch:CIe},$S=()=>{},jIe=()=>$S,EIe=(e,t)=>e===t;function mt(e){var t=b.useContext(IO);return KX.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:jIe,t?t.store.getState:$S,t?t.store.getState:$S,t?e:$S,EIe)}var mT={},pT={},gT={},wz;function NIe(){return wz||(wz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,i)=>{if(n!==s){const o=t(n),c=t(s);if(o===c&&o===0){if(n<s)return i==="desc"?1:-1;if(n>s)return i==="desc"?-1:1}return i==="desc"?c-o:o-c}return 0};e.compareValues=r}(gT)),gT}var xT={},vT={},Sz;function ZX(){return Sz||(Sz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t}(vT)),vT}var Cz;function _Ie(){return Cz||(Cz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZX(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=s}(xT)),xT}var jz;function AIe(){return jz||(jz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NIe(),r=_Ie(),n=bO();function s(i,o,c,d){if(i==null)return[];c=d?void 0:c,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(g=>String(g));const u=(g,x)=>{let S=g;for(let m=0;m<x.length&&S!=null;++m)S=S[x[m]];return S},l=(g,x)=>x==null||g==null?x:typeof g=="object"&&"key"in g?Object.hasOwn(x,g.key)?x[g.key]:u(x,g.path):typeof g=="function"?g(x):Array.isArray(g)?u(x,g):typeof x=="object"?x[g]:x,f=o.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||r.isKey(g)?g:{key:g,path:n.toPath(g)}));return i.map(g=>({original:g,criteria:f.map(x=>l(x,g))})).slice().sort((g,x)=>{for(let S=0;S<f.length;S++){const m=t.compareValues(g.criteria[S],x.criteria[S],c[S]);if(m!==0)return m}return 0}).map(g=>g.original)}e.orderBy=s}(pT)),pT}var yT={},Ez;function kIe(){return Ez||(Ez=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],i=Math.floor(n),o=(c,d)=>{for(let u=0;u<c.length;u++){const l=c[u];Array.isArray(l)&&d<i?o(l,d+1):s.push(l)}};return o(r,0),s}e.flatten=t}(yT)),yT}var bT={},Nz;function XX(){return Nz||(Nz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qX(),r=PO(),n=zX(),s=DO();function i(o,c,d){return n.isObject(d)&&(typeof c=="number"&&r.isArrayLike(d)&&t.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?s.eq(d[c],o):!1}e.isIterateeCall=i}(bT)),bT}var _z;function TIe(){return _z||(_z=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AIe(),r=kIe(),n=XX();function s(i,...o){const c=o.length;return c>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:c>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=s}(mT)),mT}var wT,Az;function PIe(){return Az||(Az=1,wT=TIe().sortBy),wT}var DIe=PIe();const _E=xi(DIe);var QX=e=>e.legend.settings,RIe=e=>e.legend.size,MIe=e=>e.legend.payload,OIe=xe([MIe,QX],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?_E(n,r):n});function IIe(){return mt(OIe)}var Sw=1;function JX(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=b.useState({height:0,left:0,top:0,width:0}),n=b.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>Sw||Math.abs(o.left-t.left)>Sw||Math.abs(o.top-t.top)>Sw||Math.abs(o.width-t.width)>Sw)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}var LIe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},eQ=nr({name:"chartLayout",initialState:LIe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:BIe,setLayout:$Ie,setChartSize:FIe,setScale:HIe}=eQ.actions,zIe=eQ.reducer;function kz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Tz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kz(Object(r),!0).forEach(function(n){UIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UIe(e,t,r){return(t=VIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VIe(e){var t=WIe(e,"string");return typeof t=="symbol"?t:t+""}function WIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MC=Math.PI/180,qIe=e=>e*180/Math.PI,qn=(e,t,r,n)=>({x:e+Math.cos(-MC*n)*r,y:t+Math.sin(-MC*n)*r}),tQ=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},GIe=(e,t)=>{var{x:r,y:n}=e,{x:s,y:i}=t;return Math.sqrt((r-s)**2+(n-i)**2)},YIe=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:i}=t,o=GIe({x:r,y:n},{x:s,y:i});if(o<=0)return{radius:o,angle:0};var c=(r-s)/o,d=Math.acos(c);return n>i&&(d=2*Math.PI-d),{radius:o,angle:qIe(d),angleInRadian:d}},KIe=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),i=Math.min(n,s);return{startAngle:t-i*360,endAngle:r-i*360}},ZIe=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return e+o*360},XIe=(e,t)=>{var{x:r,y:n}=e,{radius:s,angle:i}=YIe({x:r,y:n},t),{innerRadius:o,outerRadius:c}=t;if(s<o||s>c||s===0)return null;var{startAngle:d,endAngle:u}=KIe(t),l=i,f;if(d<=u){for(;l>u;)l-=360;for(;l<d;)l+=360;f=l>=d&&l<=u}else{for(;l>d;)l-=360;for(;l<u;)l+=360;f=l>=u&&l<=d}return f?Tz(Tz({},t),{},{radius:s,angle:ZIe(l,t)}):null};function rQ(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Pz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pz(Object(r),!0).forEach(function(n){QIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QIe(e,t,r){return(t=JIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JIe(e){var t=e4e(e,"string");return typeof t=="symbol"?t:t+""}function e4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qr(e,t,r){return ns(e)||ns(t)?r:ll(t)?Wd(e,t,r):typeof t=="function"?t(e):r}var t4e=(e,t,r,n,s)=>{var i,o=-1,c=(i=t?.length)!==null&&i!==void 0?i:0;if(c<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var d=0;d<c;d++){var u=d>0?r[d-1].coordinate:r[c-1].coordinate,l=r[d].coordinate,f=d>=c-1?r[0].coordinate:r[d+1].coordinate,p=void 0;if(bs(l-u)!==bs(f-l)){var g=[];if(bs(f-l)===bs(s[1]-s[0])){p=f;var x=l+s[1]-s[0];g[0]=Math.min(x,(x+u)/2),g[1]=Math.max(x,(x+u)/2)}else{p=u;var S=f+s[1]-s[0];g[0]=Math.min(l,(S+l)/2),g[1]=Math.max(l,(S+l)/2)}var m=[Math.min(l,(p+l)/2),Math.max(l,(p+l)/2)];if(e>m[0]&&e<=m[1]||e>=g[0]&&e<=g[1]){({index:o}=r[d]);break}}else{var y=Math.min(u,f),w=Math.max(u,f);if(e>(y+l)/2&&e<=(w+l)/2){({index:o}=r[d]);break}}}else if(t){for(var C=0;C<c;C++)if(C===0&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C>0&&C<c-1&&e>(t[C].coordinate+t[C-1].coordinate)/2&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C===c-1&&e>(t[C].coordinate+t[C-1].coordinate)/2){({index:o}=t[C]);break}}return o},r4e=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:i,verticalAlign:o,layout:c}=t;if((c==="vertical"||c==="horizontal"&&o==="middle")&&i!=="center"&&nt(e[i]))return Bi(Bi({},e),{},{[i]:e[i]+(n||0)});if((c==="horizontal"||c==="vertical"&&i==="center")&&o!=="middle"&&nt(e[o]))return Bi(Bi({},e),{},{[o]:e[o]+(s||0)})}return e},Jf=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",nQ=(e,t,r,n)=>{if(n)return e.map(c=>c.coordinate);var s,i,o=e.map(c=>(c.coordinate===t&&(s=!0),c.coordinate===r&&(i=!0),c.coordinate));return s||o.push(t),i||o.push(r),o},sQ=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:i,scale:o,realScaleType:c,isCategorical:d,categoricalDomain:u,tickCount:l,ticks:f,niceTicks:p,axisType:g}=e;if(!o)return null;var x=c==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,S=s==="category"&&o.bandwidth?o.bandwidth()/x:0;if(S=g==="angleAxis"&&i&&i.length>=2?bs(i[0]-i[1])*2*S:S,f||p){var m=(f||p||[]).map((y,w)=>{var C=n?n.indexOf(y):y;return{coordinate:o(C)+S,value:y,offset:S,index:w}});return m.filter(y=>!fi(y.coordinate))}return d&&u?u.map((y,w)=>({coordinate:o(y)+S,value:y,index:w,offset:S})):o.ticks&&l!=null?o.ticks(l).map((y,w)=>({coordinate:o(y)+S,value:y,offset:S,index:w})):o.domain().map((y,w)=>({coordinate:o(y)+S,value:n?n[y]:y,index:w,offset:S}))},Dz=1e-4,n4e=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-Dz,i=Math.max(n[0],n[1])+Dz,o=e(t[0]),c=e(t[r-1]);(o<s||o>i||c<s||c>i)&&e.domain([t[0],t[r-1]])}},s4e=(e,t)=>{if(!t||t.length!==2||!nt(t[0])||!nt(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!nt(e[0])||e[0]<r)&&(s[0]=r),(!nt(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<r&&(s[1]=r),s},a4e=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0,o=0;o<t;++o){var c=fi(e[o][r][1])?e[o][r][0]:e[o][r][1];c>=0?(e[o][r][0]=s,e[o][r][1]=s+c,s=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+c,i=e[o][r][1])}},i4e=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0;i<t;++i){var o=fi(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},o4e={sign:a4e,expand:MX,none:Df,silhouette:OX,wiggle:IX,positive:i4e},l4e=(e,t,r)=>{var n=o4e[r],s=_O().keys(t).value((i,o)=>+Qr(i,o,0)).order(Rf).offset(n);return s(e)};function c4e(e){return e==null?void 0:String(e)}var Rz=e=>{var{axis:t,ticks:r,offset:n,bandSize:s,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var c=Qr(i,t.dataKey,t.scale.domain()[o]);return ns(c)?null:t.scale(c)-s/2+n},d4e=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return n<=0&&s>=0?0:s<0?s:n}return r[0]},u4e=e=>{var t=e.flat(2).filter(nt);return[Math.min(...t),Math.max(...t)]},f4e=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],h4e=(e,t,r)=>{if(e!=null)return f4e(Object.keys(e).reduce((n,s)=>{var i=e[s],{stackedData:o}=i,c=o.reduce((d,u)=>{var l=rQ(u,t,r),f=u4e(l);return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],n[0]),Math.max(c[1],n[1])]},[1/0,-1/0]))},Mz=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Oz=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,LO=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=_E(t,l=>l.coordinate),i=1/0,o=1,c=s.length;o<c;o++){var d=s[o],u=s[o-1];i=Math.min((d.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function Iz(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:i}=e;return Bi(Bi({},t),{},{dataKey:r,payload:n,value:s,name:i})}function AE(e,t){if(e)return String(e);if(typeof t=="string")return t}function m4e(e,t,r,n,s){if(r==="horizontal"||r==="vertical"){var i=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return i?{x:e,y:t}:null}return n?XIe({x:e,y:t},n):null}var p4e=(e,t,r,n)=>{var s=t.find(u=>u&&u.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,{radius:o}=n;return Bi(Bi(Bi({},n),qn(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var c=s.coordinate,{angle:d}=n;return Bi(Bi(Bi({},n),qn(n.cx,n.cy,c,d)),{},{angle:d,radius:c})}return{x:0,y:0}},g4e=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Dc=e=>e.layout.width,Rc=e=>e.layout.height,x4e=e=>e.layout.scale,aQ=e=>e.layout.margin,BO=xe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),$O=xe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),iQ="data-recharts-item-index",oQ="data-recharts-item-data-key",kE=60;function Lz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lz(Object(r),!0).forEach(function(n){v4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v4e(e,t,r){return(t=y4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y4e(e){var t=b4e(e,"string");return typeof t=="symbol"?t:t+""}function b4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w4e=e=>e.brush.height,ls=xe([Dc,Rc,aQ,w4e,BO,$O,QX,RIe],(e,t,r,n,s,i,o,c)=>{var d=i.reduce((x,S)=>{var{orientation:m}=S;if(!S.mirror&&!S.hide){var y=typeof S.width=="number"?S.width:kE;return xd(xd({},x),{},{[m]:x[m]+y})}return x},{left:r.left||0,right:r.right||0}),u=s.reduce((x,S)=>{var{orientation:m}=S;return!S.mirror&&!S.hide?xd(xd({},x),{},{[m]:Wd(x,"".concat(m))+S.height}):x},{top:r.top||0,bottom:r.bottom||0}),l=xd(xd({},u),d),f=l.bottom;l.bottom+=n,l=r4e(l,o,c);var p=e-l.left-l.right,g=t-l.top-l.bottom;return xd(xd({brushBottom:f},l),{},{width:Math.max(p,0),height:Math.max(g,0)})}),S4e=xe(ls,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),lQ=xe(Dc,Rc,(e,t)=>({x:0,y:0,width:e,height:t})),C4e=b.createContext(null),Ji=()=>b.useContext(C4e)!=null,TE=e=>e.brush,PE=xe([TE,ls,aQ],(e,t,r)=>({height:e.height,x:nt(e.x)?e.x:t.left,y:nt(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:nt(e.width)?e.width:t.width})),FO=()=>{var e,t=Ji(),r=mt(S4e),n=mt(PE),s=(e=mt(TE))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},j4e={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},cQ=()=>{var e;return(e=mt(ls))!==null&&e!==void 0?e:j4e},HO=()=>mt(Dc),zO=()=>mt(Rc),E4e={top:0,right:0,bottom:0,left:0},N4e=()=>{var e;return(e=mt(t=>t.layout.margin))!==null&&e!==void 0?e:E4e},fr=e=>e.layout.layoutType,UO=()=>mt(fr),_4e={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},dQ=nr({name:"legend",initialState:_4e,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=ic(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:Bz,setLegendSettings:A4e,addLegendPayload:uQ,removeLegendPayload:fQ}=dQ.actions,k4e=dQ.reducer,T4e=["contextPayload"];function UD(){return UD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UD.apply(null,arguments)}function $z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$z(Object(r),!0).forEach(function(n){VO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$z(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VO(e,t,r){return(t=P4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P4e(e){var t=D4e(e,"string");return typeof t=="symbol"?t:t+""}function D4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R4e(e,t){if(e==null)return{};var r,n,s=M4e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function M4e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function O4e(e){return e.value}function I4e(e){var{contextPayload:t}=e,r=R4e(e,T4e),n=GX(t,e.payloadUniqBy,O4e),s=hp(hp({},r),{},{payload:n});return b.isValidElement(e.content)?b.cloneElement(e.content,s):typeof e.content=="function"?b.createElement(e.content,s):b.createElement(TO,s)}function L4e(e,t,r,n,s,i){var{layout:o,align:c,verticalAlign:d}=t,u,l;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(c==="center"&&o==="vertical"?u={left:((n||0)-i.width)/2}:u=c==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?l={top:((s||0)-i.height)/2}:l=d==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),hp(hp({},u),l)}function B4e(e){var t=vn();return b.useEffect(()=>{t(A4e(e))},[t,e]),null}function $4e(e){var t=vn();return b.useEffect(()=>(t(Bz(e)),()=>{t(Bz({width:0,height:0}))}),[t,e]),null}function F4e(e){var t=IIe(),r=aOe(),n=N4e(),{width:s,height:i,wrapperStyle:o,portal:c}=e,[d,u]=JX([t]),l=HO(),f=zO(),p=l-(n.left||0)-(n.right||0),g=rg.getWidthOrHeight(e.layout,i,s,p),x=c?o:hp(hp({position:"absolute",width:g?.width||s||"auto",height:g?.height||i||"auto"},L4e(o,e,n,l,f,d)),o),S=c??r;if(S==null)return null;var m=b.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:u},b.createElement(B4e,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),b.createElement($4e,{width:d.width,height:d.height}),b.createElement(I4e,UD({},e,g,{margin:n,chartWidth:l,chartHeight:f,contextPayload:t})));return Qd.createPortal(m,S)}class rg extends b.PureComponent{static getWidthOrHeight(t,r,n,s){return t==="vertical"&&nt(r)?{height:r}:t==="horizontal"?{width:n||s}:null}render(){return b.createElement(F4e,this.props)}}VO(rg,"displayName","Legend");VO(rg,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function VD(){return VD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VD.apply(null,arguments)}function Fz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ST(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fz(Object(r),!0).forEach(function(n){H4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H4e(e,t,r){return(t=z4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z4e(e){var t=U4e(e,"string");return typeof t=="symbol"?t:t+""}function U4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V4e(e){return Array.isArray(e)&&ll(e[0])&&ll(e[1])?e.join(" ~ "):e}var W4e=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:i,formatter:o,itemSorter:c,wrapperClassName:d,labelClassName:u,label:l,labelFormatter:f,accessibilityLayer:p=!1}=e,g=()=>{if(i&&i.length){var N={padding:0,margin:0},k=(c?_E(i,c):i).map((A,T)=>{if(A.type==="none")return null;var P=A.formatter||o||V4e,{value:M,name:O}=A,R=M,L=O;if(P){var B=P(M,O,A,T,i);if(Array.isArray(B))[R,L]=B;else if(B!=null)R=B;else return null}var F=ST({display:"block",paddingTop:4,paddingBottom:4,color:A.color||"#000"},n);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:F},ll(L)?b.createElement("span",{className:"recharts-tooltip-item-name"},L):null,ll(L)?b.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,b.createElement("span",{className:"recharts-tooltip-item-value"},R),b.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:N},k)}return null},x=ST({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),S=ST({margin:0},s),m=!ns(l),y=m?l:"",w=ft("recharts-default-tooltip",d),C=ft("recharts-tooltip-label",u);m&&f&&i!==void 0&&i!==null&&(y=f(l,i));var E=p?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",VD({className:w,style:x},E),b.createElement("p",{className:C,style:S},b.isValidElement(y)?y:"".concat(y)),g())},$x="recharts-tooltip-wrapper",q4e={visibility:"hidden"};function G4e(e){var{coordinate:t,translateX:r,translateY:n}=e;return ft($x,{["".concat($x,"-right")]:nt(r)&&t&&nt(t.x)&&r>=t.x,["".concat($x,"-left")]:nt(r)&&t&&nt(t.x)&&r<t.x,["".concat($x,"-bottom")]:nt(n)&&t&&nt(t.y)&&n>=t.y,["".concat($x,"-top")]:nt(n)&&t&&nt(t.y)&&n<t.y})}function Hz(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:c,viewBox:d,viewBoxDimension:u}=e;if(i&&nt(i[n]))return i[n];var l=r[n]-c-(s>0?s:0),f=r[n]+s;if(t[n])return o[n]?l:f;var p=d[n];if(p==null)return 0;if(o[n]){var g=l,x=p;return g<x?Math.max(f,p):Math.max(l,p)}if(u==null)return 0;var S=f+c,m=p+u;return S>m?Math.max(l,p):Math.max(f,p)}function Y4e(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function K4e(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:i,tooltipBox:o,useTranslate3d:c,viewBox:d}=e,u,l,f;return o.height>0&&o.width>0&&r?(l=Hz({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),f=Hz({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),u=Y4e({translateX:l,translateY:f,useTranslate3d:c})):u=q4e,{cssProperties:u,cssClasses:G4e({translateX:l,translateY:f,coordinate:r})}}function zz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Cw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zz(Object(r),!0).forEach(function(n){WD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WD(e,t,r){return(t=Z4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z4e(e){var t=X4e(e,"string");return typeof t=="symbol"?t:t+""}function X4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Q4e extends b.PureComponent{constructor(){super(...arguments),WD(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),WD(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:i,coordinate:o,hasPayload:c,isAnimationActive:d,offset:u,position:l,reverseDirection:f,useTranslate3d:p,viewBox:g,wrapperStyle:x,lastBoundingBox:S,innerRef:m,hasPortalFromProps:y}=this.props,{cssClasses:w,cssProperties:C}=K4e({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:l,reverseDirection:f,tooltipBox:{height:S.height,width:S.width},useTranslate3d:p,viewBox:g}),E=y?{}:Cw(Cw({transition:d&&t?"transform ".concat(n,"ms ").concat(s):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),N=Cw(Cw({},E),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},x);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:N,ref:m},i)}}var J4e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ng={isSsr:J4e()},hQ=()=>mt(e=>e.rootProps.accessibilityLayer);function mi(e){return Number.isFinite(e)}function mp(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function qD(){return qD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qD.apply(null,arguments)}function Uz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uz(Object(r),!0).forEach(function(n){e3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e3e(e,t,r){return(t=t3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t3e(e){var t=r3e(e,"string");return typeof t=="symbol"?t:t+""}function r3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wz={curveBasisClosed:_Oe,curveBasisOpen:AOe,curveBasis:NOe,curveBumpX:fOe,curveBumpY:hOe,curveLinearClosed:kOe,curveLinear:EE,curveMonotoneX:TOe,curveMonotoneY:POe,curveNatural:DOe,curveStep:ROe,curveStepAfter:OOe,curveStepBefore:MOe},jw=e=>mi(e.x)&&mi(e.y),Fx=e=>e.x,Hx=e=>e.y,n3e=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(V0(e));return(r==="curveMonotone"||r==="curveBump")&&t?Wz["".concat(r).concat(t==="vertical"?"Y":"X")]:Wz[r]||EE},s3e=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:i=!1}=e,o=n3e(t,s),c=i?r.filter(jw):r,d;if(Array.isArray(n)){var u=i?n.filter(f=>jw(f)):n,l=c.map((f,p)=>Vz(Vz({},f),{},{base:u[p]}));return s==="vertical"?d=ww().y(Hx).x1(Fx).x0(f=>f.base.x):d=ww().x(Fx).y1(Hx).y0(f=>f.base.y),d.defined(jw).curve(o),d(l)}return s==="vertical"&&nt(n)?d=ww().y(Hx).x1(Fx).x0(n):nt(n)?d=ww().x(Fx).y1(Hx).y0(n):d=CX().x(Fx).y(Hx),d.defined(jw).curve(o),d(c)},mQ=e=>{var{className:t,points:r,path:n,pathRef:s}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?s3e(e):n;return b.createElement("path",qD({},Qf(e),KMe(e),{className:ft("recharts-curve",t),d:i===null?void 0:i,ref:s}))},a3e=["x","y","top","left","width","height","className"];function GD(){return GD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GD.apply(null,arguments)}function qz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function i3e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qz(Object(r),!0).forEach(function(n){o3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o3e(e,t,r){return(t=l3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l3e(e){var t=c3e(e,"string");return typeof t=="symbol"?t:t+""}function c3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d3e(e,t){if(e==null)return{};var r,n,s=u3e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function u3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var f3e=(e,t,r,n,s,i)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),h3e=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:i=0,height:o=0,className:c}=e,d=d3e(e,a3e),u=i3e({x:t,y:r,top:n,left:s,width:i,height:o},d);return!nt(t)||!nt(r)||!nt(i)||!nt(o)||!nt(n)||!nt(s)?null:b.createElement("path",GD({},Wn(u,!0),{className:ft("recharts-cross",c),d:f3e(t,r,i,o,n,s)}))};function m3e(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Gz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function p3e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gz(Object(r),!0).forEach(function(n){g3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g3e(e,t,r){return(t=x3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x3e(e){var t=v3e(e,"string");return typeof t=="symbol"?t:t+""}function v3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ko(e,t){var r=p3e({},e),n=t,s=Object.keys(t),i=s.reduce((o,c)=>(o[c]===void 0&&n[c]!==void 0&&(o[c]=n[c]),o),r);return i}var CT={},jT={},ET={},Yz;function y3e(){return Yz||(Yz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t}(ET)),ET}var Kz;function b3e(){return Kz||(Kz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y3e(),r=VX(),n=MO(),s=OO(),i=DO();function o(u,l,f){return c(u,l,void 0,void 0,void 0,void 0,f)}function c(u,l,f,p,g,x,S){const m=S(u,l,f,p,g,x);if(m!==void 0)return m;if(typeof u==typeof l)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===l;case"number":return u===l||Object.is(u,l);case"function":return u===l;case"object":return d(u,l,x,S)}return d(u,l,x,S)}function d(u,l,f,p){if(Object.is(u,l))return!0;let g=n.getTag(u),x=n.getTag(l);if(g===s.argumentsTag&&(g=s.objectTag),x===s.argumentsTag&&(x=s.objectTag),g!==x)return!1;switch(g){case s.stringTag:return u.toString()===l.toString();case s.numberTag:{const y=u.valueOf(),w=l.valueOf();return i.eq(y,w)}case s.booleanTag:case s.dateTag:case s.symbolTag:return Object.is(u.valueOf(),l.valueOf());case s.regexpTag:return u.source===l.source&&u.flags===l.flags;case s.functionTag:return u===l}f=f??new Map;const S=f.get(u),m=f.get(l);if(S!=null&&m!=null)return S===l;f.set(u,l),f.set(l,u);try{switch(g){case s.mapTag:{if(u.size!==l.size)return!1;for(const[y,w]of u.entries())if(!l.has(y)||!c(w,l.get(y),y,u,l,f,p))return!1;return!0}case s.setTag:{if(u.size!==l.size)return!1;const y=Array.from(u.values()),w=Array.from(l.values());for(let C=0;C<y.length;C++){const E=y[C],N=w.findIndex(k=>c(E,k,void 0,u,l,f,p));if(N===-1)return!1;w.splice(N,1)}return!0}case s.arrayTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:case s.bigUint64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.bigInt64ArrayTag:case s.float32ArrayTag:case s.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(l)||u.length!==l.length)return!1;for(let y=0;y<u.length;y++)if(!c(u[y],l[y],y,u,l,f,p))return!1;return!0}case s.arrayBufferTag:return u.byteLength!==l.byteLength?!1:d(new Uint8Array(u),new Uint8Array(l),f,p);case s.dataViewTag:return u.byteLength!==l.byteLength||u.byteOffset!==l.byteOffset?!1:d(new Uint8Array(u),new Uint8Array(l),f,p);case s.errorTag:return u.name===l.name&&u.message===l.message;case s.objectTag:{if(!(d(u.constructor,l.constructor,f,p)||t.isPlainObject(u)&&t.isPlainObject(l)))return!1;const w=[...Object.keys(u),...r.getSymbols(u)],C=[...Object.keys(l),...r.getSymbols(l)];if(w.length!==C.length)return!1;for(let E=0;E<w.length;E++){const N=w[E],k=u[N];if(!Object.hasOwn(l,N))return!1;const A=l[N];if(!c(k,A,N,u,l,f,p))return!1}return!0}default:return!1}}finally{f.delete(u),f.delete(l)}}e.isEqualWith=o}(jT)),jT}var NT={},Zz;function w3e(){return Zz||(Zz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(NT)),NT}var Xz;function S3e(){return Xz||(Xz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b3e(),r=w3e();function n(s,i){return t.isEqualWith(s,i,r.noop)}e.isEqual=n}(CT)),CT}var _T,Qz;function C3e(){return Qz||(Qz=1,_T=S3e().isEqual),_T}var j3e=C3e();const E3e=xi(j3e);var OC=1e-4,pQ=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],gQ=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Jz=(e,t)=>r=>{var n=pQ(e,t);return gQ(n,r)},N3e=(e,t)=>r=>{var n=pQ(e,t),s=[...n.map((i,o)=>i*o).slice(1),0];return gQ(s,r)},eU=function(){for(var t,r,n,s,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];if(o.length===1)switch(o[0]){case"linear":[t,n,r,s]=[0,0,1,1];break;case"ease":[t,n,r,s]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,s]=[.42,0,1,1];break;case"ease-out":[t,n,r,s]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,s]=[0,0,.58,1];break;default:{var d=o[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([t,n,r,s]=d[1].split(")")[0].split(",").map(x=>parseFloat(x)))}}else o.length===4&&([t,n,r,s]=o);var u=Jz(t,r),l=Jz(n,s),f=N3e(t,r),p=x=>x>1?1:x<0?0:x,g=x=>{for(var S=x>1?1:x,m=S,y=0;y<8;++y){var w=u(m)-S,C=f(m);if(Math.abs(w-S)<OC||C<OC)return l(m);m=p(m-w/C)}return l(m)};return g.isStepper=!1,g},_3e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,i=(o,c,d)=>{var u=-(o-c)*r,l=d*n,f=d+(u-l)*s/1e3,p=d*s/1e3+o;return Math.abs(p-c)<OC&&Math.abs(f)<OC?[c,0]:[p,f]};return i.isStepper=!0,i.dt=s,i},xQ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return eU(e);case"spring":return _3e();default:if(e.split("(")[0]==="cubic-bezier")return eU(e)}return typeof e=="function"?e:null};function tU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function rU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tU(Object(r),!0).forEach(function(n){A3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A3e(e,t,r){return(t=k3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k3e(e){var t=T3e(e,"string");return typeof t=="symbol"?t:t+""}function T3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P3e=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),D3e=(e,t,r)=>e.map(n=>"".concat(P3e(n)," ").concat(t,"ms ").concat(r)).join(","),R3e=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),Hv=(e,t)=>Object.keys(t).reduce((r,n)=>rU(rU({},r),{},{[n]:e(n,t[n])}),{});function nU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Os(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nU(Object(r),!0).forEach(function(n){M3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M3e(e,t,r){return(t=O3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O3e(e){var t=I3e(e,"string");return typeof t=="symbol"?t:t+""}function I3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IC=(e,t,r)=>e+(t-e)*r,YD=e=>{var{from:t,to:r}=e;return t!==r},vQ=(e,t,r)=>{var n=Hv((s,i)=>{if(YD(i)){var[o,c]=e(i.from,i.to,i.velocity);return Os(Os({},i),{},{from:o,velocity:c})}return i},t);return r<1?Hv((s,i)=>YD(i)?Os(Os({},i),{},{velocity:IC(i.velocity,n[s].velocity,r),from:IC(i.from,n[s].from,r)}):i,t):vQ(e,n,r-1)};function L3e(e,t,r,n,s,i){var o,c=n.reduce((p,g)=>Os(Os({},p),{},{[g]:{from:e[g],velocity:0,to:t[g]}}),{}),d=()=>Hv((p,g)=>g.from,c),u=()=>!Object.values(c).filter(YD).length,l=null,f=p=>{o||(o=p);var g=p-o,x=g/r.dt;c=vQ(r,c,x),s(Os(Os(Os({},e),t),d())),o=p,u()||(l=i.setTimeout(f))};return()=>(l=i.setTimeout(f),()=>{l()})}function B3e(e,t,r,n,s,i,o){var c=null,d=s.reduce((f,p)=>Os(Os({},f),{},{[p]:[e[p],t[p]]}),{}),u,l=f=>{u||(u=f);var p=(f-u)/n,g=Hv((S,m)=>IC(...m,r(p)),d);if(i(Os(Os(Os({},e),t),g)),p<1)c=o.setTimeout(l);else{var x=Hv((S,m)=>IC(...m,r(1)),d);i(Os(Os(Os({},e),t),x))}};return()=>(c=o.setTimeout(l),()=>{c()})}const yQ=(e,t,r,n,s,i)=>{var o=R3e(e,t);return r.isStepper===!0?L3e(e,t,r,o,s,i):B3e(e,t,r,n,o,s,i)};function $3e(e){var t,r=()=>null,n=!1,s=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var c=o,[d,...u]=c;if(typeof d=="number"){s=e.setTimeout(i.bind(null,u),d);return}i(d),s=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,s&&(s(),s=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class F3e{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{cancelAnimationFrame(s)}}}function H3e(){return $3e(new F3e)}var z3e=b.createContext(H3e);function bQ(e,t){var r=b.useContext(z3e);return b.useMemo(()=>t??r(e),[e,t,r])}var U3e=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function KD(){return KD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KD.apply(null,arguments)}function V3e(e,t){if(e==null)return{};var r,n,s=W3e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function W3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sU(Object(r),!0).forEach(function(n){ef(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ef(e,t,r){return(t=q3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q3e(e){var t=G3e(e,"string");return typeof t=="symbol"?t:t+""}function G3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class WO extends b.PureComponent{constructor(t,r){super(t,r),ef(this,"mounted",!1),ef(this,"manager",void 0),ef(this,"stopJSAnimation",null),ef(this,"unSubscribe",null);var{isActive:n,attributeName:s,from:i,to:o,children:c,duration:d,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||d<=0){this.state={style:{}},typeof c=="function"&&(this.state={style:o});return}if(i){if(typeof c=="function"){this.state={style:i};return}this.state={style:s?{[s]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:s,shouldReAnimate:i,to:o,from:c}=this.props,{style:d}=this.state;if(n){if(!r){var u={style:s?{[s]:o}:o};this.state&&d&&(s&&d[s]!==o||!s&&d!==o)&&this.setState(u);return}if(!(E3e(t.to,o)&&t.canBegin&&t.isActive)){var l=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=l||i?c:t.to;if(this.state&&d){var p={style:s?{[s]:f}:f};(s&&d[s]!==f||!s&&d!==f)&&this.setState(p)}this.runAnimation(vd(vd({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:s,easing:i,begin:o,onAnimationEnd:c,onAnimationStart:d}=t,u=yQ(r,n,xQ(i),s,this.changeStyle,this.manager.getTimeoutController()),l=()=>{this.stopJSAnimation=u()};this.manager.start([d,o,l,s,c])}runAnimation(t){var{begin:r,duration:n,attributeName:s,to:i,easing:o,onAnimationStart:c,onAnimationEnd:d,children:u}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof u=="function"||o==="spring"){this.runJSAnimation(t);return}var l=s?{[s]:i}:i,f=D3e(Object.keys(l),n,o);this.manager.start([c,r,vd(vd({},l),{},{transition:f}),n,d])}render(){var t=this.props,{children:r,begin:n,duration:s,attributeName:i,easing:o,isActive:c,from:d,to:u,canBegin:l,onAnimationEnd:f,shouldReAnimate:p,onAnimationReStart:g,animationManager:x}=t,S=V3e(t,U3e),m=b.Children.count(r),y=this.state.style;if(typeof r=="function")return r(y);if(!c||m===0||s<=0)return r;var w=C=>{var{style:E={},className:N}=C.props,k=b.cloneElement(C,vd(vd({},S),{},{style:vd(vd({},E),y),className:N}));return k};return m===1?w(b.Children.only(r)):b.createElement("div",null,b.Children.map(r,C=>w(C)))}}ef(WO,"displayName","Animate");ef(WO,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function LC(e){var t,r=bQ((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return b.createElement(WO,KD({},e,{animationManager:r}))}function BC(){return BC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BC.apply(null,arguments)}var aU=(e,t,r,n,s)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,c=r>=0?1:-1,d=n>=0&&r>=0||n<0&&r<0?1:0,u;if(i>0&&s instanceof Array){for(var l=[0,0,0,0],f=0,p=4;f<p;f++)l[f]=s[f]>i?i:s[f];u="M".concat(e,",").concat(t+o*l[0]),l[0]>0&&(u+="A ".concat(l[0],",").concat(l[0],",0,0,").concat(d,",").concat(e+c*l[0],",").concat(t)),u+="L ".concat(e+r-c*l[1],",").concat(t),l[1]>0&&(u+="A ".concat(l[1],",").concat(l[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(t+o*l[1])),u+="L ".concat(e+r,",").concat(t+n-o*l[2]),l[2]>0&&(u+="A ".concat(l[2],",").concat(l[2],",0,0,").concat(d,`,
        `).concat(e+r-c*l[2],",").concat(t+n)),u+="L ".concat(e+c*l[3],",").concat(t+n),l[3]>0&&(u+="A ".concat(l[3],",").concat(l[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+n-o*l[3])),u+="Z"}else if(i>0&&s===+s&&s>0){var g=Math.min(i,s);u="M ".concat(e,",").concat(t+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(e+c*g,",").concat(t,`
            L `).concat(e+r-c*g,",").concat(t,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(e+r,",").concat(t+o*g,`
            L `).concat(e+r,",").concat(t+n-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(e+r-c*g,",").concat(t+n,`
            L `).concat(e+c*g,",").concat(t+n,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(e,",").concat(t+n-o*g," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},Y3e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wQ=e=>{var t=ko(e,Y3e),r=b.useRef(null),[n,s]=b.useState(-1);b.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&s(y)}catch{}},[]);var{x:i,y:o,width:c,height:d,radius:u,className:l}=t,{animationEasing:f,animationDuration:p,animationBegin:g,isAnimationActive:x,isUpdateAnimationActive:S}=t;if(i!==+i||o!==+o||c!==+c||d!==+d||c===0||d===0)return null;var m=ft("recharts-rectangle",l);return S?b.createElement(LC,{canBegin:n>0,from:{width:c,height:d,x:i,y:o},to:{width:c,height:d,x:i,y:o},duration:p,animationEasing:f,isActive:S},y=>{var{width:w,height:C,x:E,y:N}=y;return b.createElement(LC,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,isActive:x,easing:f},b.createElement("path",BC({},Wn(t,!0),{className:m,d:aU(E,N,w,C,u),ref:r})))}):b.createElement("path",BC({},Wn(t,!0),{className:m,d:aU(i,o,c,d,u)}))};function SQ(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:i}=e,o=qn(t,r,n,s),c=qn(t,r,n,i);return{points:[o,c],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function ZD(){return ZD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZD.apply(null,arguments)}var K3e=(e,t)=>{var r=bs(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Ew=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:i,isExternal:o,cornerRadius:c,cornerIsExternal:d}=e,u=c*(o?1:-1)+n,l=Math.asin(c/u)/MC,f=d?s:s+i*l,p=qn(t,r,u,f),g=qn(t,r,n,f),x=d?s-i*l:s,S=qn(t,r,u*Math.cos(l*MC),x);return{center:p,circleTangency:g,lineTangency:S,theta:l}},CQ=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:i,endAngle:o}=e,c=K3e(i,o),d=i+c,u=qn(t,r,s,i),l=qn(t,r,s,d),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>d),`,
    `).concat(l.x,",").concat(l.y,`
  `);if(n>0){var p=qn(t,r,n,i),g=qn(t,r,n,d);f+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=d),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},Z3e=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:u}=e,l=bs(u-d),{circleTangency:f,lineTangency:p,theta:g}=Ew({cx:t,cy:r,radius:s,angle:d,sign:l,cornerRadius:i,cornerIsExternal:c}),{circleTangency:x,lineTangency:S,theta:m}=Ew({cx:t,cy:r,radius:s,angle:u,sign:-l,cornerRadius:i,cornerIsExternal:c}),y=c?Math.abs(d-u):Math.abs(d-u)-g-m;if(y<0)return o?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):CQ({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:d,endAngle:u});var w="M ".concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(l<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(y>180),",").concat(+(l<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(l<0),",").concat(S.x,",").concat(S.y,`
  `);if(n>0){var{circleTangency:C,lineTangency:E,theta:N}=Ew({cx:t,cy:r,radius:n,angle:d,sign:l,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),{circleTangency:k,lineTangency:A,theta:T}=Ew({cx:t,cy:r,radius:n,angle:u,sign:-l,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),P=c?Math.abs(d-u):Math.abs(d-u)-N-T;if(P<0&&i===0)return"".concat(w,"L").concat(t,",").concat(r,"Z");w+="L".concat(A.x,",").concat(A.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(l<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(P>180),",").concat(+(l>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(l<0),",").concat(E.x,",").concat(E.y,"Z")}else w+="L".concat(t,",").concat(r,"Z");return w},X3e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},jQ=e=>{var t=ko(e,X3e),{cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:l,className:f}=t;if(i<s||u===l)return null;var p=ft("recharts-sector",f),g=i-s,x=ca(o,g,0,!0),S;return x>0&&Math.abs(u-l)<360?S=Z3e({cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:Math.min(x,g/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:l}):S=CQ({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:l}),b.createElement("path",ZD({},Wn(t,!0),{className:p,d:S}))};function Q3e(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:c,cy:d,innerRadius:u,outerRadius:l,angle:f}=t,p=qn(c,d,u,f),g=qn(c,d,l,f);n=p.x,s=p.y,i=g.x,o=g.y}else return SQ(t);return[{x:n,y:s},{x:i,y:o}]}var AT={},kT={},TT={},iU;function J3e(){return iU||(iU=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZX();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r}(TT)),TT}var oU;function e5e(){return oU||(oU=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J3e();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r}(kT)),kT}var lU;function t5e(){return lU||(lU=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XX(),r=e5e();function n(s,i,o){o&&typeof o!="number"&&t.isIterateeCall(s,i,o)&&(i=o=void 0),s=r.toFinite(s),i===void 0?(i=s,s=0):i=r.toFinite(i),o=o===void 0?s<i?1:-1:r.toFinite(o);const c=Math.max(Math.ceil((i-s)/(o||1)),0),d=new Array(c);for(let u=0;u<c;u++)d[u]=s,s+=o;return d}e.range=n}(AT)),AT}var PT,cU;function r5e(){return cU||(cU=1,PT=t5e().range),PT}var n5e=r5e();const EQ=xi(n5e);function Md(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function s5e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qO(e){let t,r,n;e.length!==2?(t=Md,r=(c,d)=>Md(e(c),d),n=(c,d)=>e(c)-d):(t=e===Md||e===s5e?e:a5e,r=e,n=e);function s(c,d,u=0,l=c.length){if(u<l){if(t(d,d)!==0)return l;do{const f=u+l>>>1;r(c[f],d)<0?u=f+1:l=f}while(u<l)}return u}function i(c,d,u=0,l=c.length){if(u<l){if(t(d,d)!==0)return l;do{const f=u+l>>>1;r(c[f],d)<=0?u=f+1:l=f}while(u<l)}return u}function o(c,d,u=0,l=c.length){const f=s(c,d,u,l-1);return f>u&&n(c[f-1],d)>-n(c[f],d)?f-1:f}return{left:s,center:o,right:i}}function a5e(){return 0}function NQ(e){return e===null?NaN:+e}function*i5e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const o5e=qO(Md),G0=o5e.right;qO(NQ).center;class $C extends Map{constructor(t,r=d5e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(dU(this,t))}has(t){return super.has(dU(this,t))}set(t,r){return super.set(l5e(this,t),r)}delete(t){return super.delete(c5e(this,t))}}function dU({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function l5e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function c5e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function d5e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function u5e(e=Md){if(e===Md)return _Q;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function _Q(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const f5e=Math.sqrt(50),h5e=Math.sqrt(10),m5e=Math.sqrt(2);function FC(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=f5e?10:i>=h5e?5:i>=m5e?2:1;let c,d,u;return s<0?(u=Math.pow(10,-s)/o,c=Math.round(e*u),d=Math.round(t*u),c/u<e&&++c,d/u>t&&--d,u=-u):(u=Math.pow(10,s)*o,c=Math.round(e/u),d=Math.round(t/u),c*u<e&&++c,d*u>t&&--d),d<c&&.5<=r&&r<2?FC(e,t,r*2):[c,d,u]}function XD(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?FC(t,e,r):FC(e,t,r);if(!(i>=s))return[];const c=i-s+1,d=new Array(c);if(n)if(o<0)for(let u=0;u<c;++u)d[u]=(i-u)/-o;else for(let u=0;u<c;++u)d[u]=(i-u)*o;else if(o<0)for(let u=0;u<c;++u)d[u]=(s+u)/-o;else for(let u=0;u<c;++u)d[u]=(s+u)*o;return d}function QD(e,t,r){return t=+t,e=+e,r=+r,FC(e,t,r)[2]}function JD(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?QD(t,e,r):QD(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function uU(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function fU(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function AQ(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?_Q:u5e(s);n>r;){if(n-r>600){const d=n-r+1,u=t-r+1,l=Math.log(d),f=.5*Math.exp(2*l/3),p=.5*Math.sqrt(l*f*(d-f)/d)*(u-d/2<0?-1:1),g=Math.max(r,Math.floor(t-u*f/d+p)),x=Math.min(n,Math.floor(t+(d-u)*f/d+p));AQ(e,t,g,x,s)}const i=e[t];let o=r,c=n;for(zx(e,r,t),s(e[n],i)>0&&zx(e,r,n);o<c;){for(zx(e,o,c),++o,--c;s(e[o],i)<0;)++o;for(;s(e[c],i)>0;)--c}s(e[r],i)===0?zx(e,r,c):(++c,zx(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function zx(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function p5e(e,t,r){if(e=Float64Array.from(i5e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return fU(e);if(t>=1)return uU(e);var n,s=(n-1)*t,i=Math.floor(s),o=uU(AQ(e,i).subarray(0,i+1)),c=fU(e.subarray(i+1));return o+(c-o)*(s-i)}}function g5e(e,t,r=NQ){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),c=+r(e[i+1],i+1,e);return o+(c-o)*(s-i)}}function kQ(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function eo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Mc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const eR=Symbol("implicit");function zv(){var e=new $C,t=[],r=[],n=eR;function s(i){let o=e.get(i);if(o===void 0){if(n!==eR)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new $C;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return zv(t,r).unknown(n)},eo.apply(s,arguments),s}function GO(){var e=zv().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,c=!1,d=0,u=0,l=.5;delete e.unknown;function f(){var p=t().length,g=s<n,x=g?s:n,S=g?n:s;i=(S-x)/Math.max(1,p-d+u*2),c&&(i=Math.floor(i)),x+=(S-x-i*(p-d))*l,o=i*(1-d),c&&(x=Math.round(x),o=Math.round(o));var m=kQ(p).map(function(y){return x+i*y});return r(g?m.reverse():m)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([n,s]=p,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(p){return[n,s]=p,n=+n,s=+s,c=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(c=!!p,f()):c},e.padding=function(p){return arguments.length?(d=Math.min(1,u=+p),f()):d},e.paddingInner=function(p){return arguments.length?(d=Math.min(1,p),f()):d},e.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},e.align=function(p){return arguments.length?(l=Math.max(0,Math.min(1,p)),f()):l},e.copy=function(){return GO(t(),[n,s]).round(c).paddingInner(d).paddingOuter(u).align(l)},eo.apply(f(),arguments)}function TQ(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return TQ(t())},e}function x5e(){return TQ(GO.apply(null,arguments).paddingInner(1))}function YO(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function PQ(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Y0(){}var Uv=.7,HC=1/Uv,Xm="\\s*([+-]?\\d+)\\s*",Vv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",v5e=/^#([0-9a-f]{3,8})$/,y5e=new RegExp(`^rgb\\(${Xm},${Xm},${Xm}\\)$`),b5e=new RegExp(`^rgb\\(${nl},${nl},${nl}\\)$`),w5e=new RegExp(`^rgba\\(${Xm},${Xm},${Xm},${Vv}\\)$`),S5e=new RegExp(`^rgba\\(${nl},${nl},${nl},${Vv}\\)$`),C5e=new RegExp(`^hsl\\(${Vv},${nl},${nl}\\)$`),j5e=new RegExp(`^hsla\\(${Vv},${nl},${nl},${Vv}\\)$`),hU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};YO(Y0,Wv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:mU,formatHex:mU,formatHex8:E5e,formatHsl:N5e,formatRgb:pU,toString:pU});function mU(){return this.rgb().formatHex()}function E5e(){return this.rgb().formatHex8()}function N5e(){return DQ(this).formatHsl()}function pU(){return this.rgb().formatRgb()}function Wv(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=v5e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?gU(t):r===3?new Ea(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Nw(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Nw(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=y5e.exec(e))?new Ea(t[1],t[2],t[3],1):(t=b5e.exec(e))?new Ea(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=w5e.exec(e))?Nw(t[1],t[2],t[3],t[4]):(t=S5e.exec(e))?Nw(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=C5e.exec(e))?yU(t[1],t[2]/100,t[3]/100,1):(t=j5e.exec(e))?yU(t[1],t[2]/100,t[3]/100,t[4]):hU.hasOwnProperty(e)?gU(hU[e]):e==="transparent"?new Ea(NaN,NaN,NaN,0):null}function gU(e){return new Ea(e>>16&255,e>>8&255,e&255,1)}function Nw(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ea(e,t,r,n)}function _5e(e){return e instanceof Y0||(e=Wv(e)),e?(e=e.rgb(),new Ea(e.r,e.g,e.b,e.opacity)):new Ea}function tR(e,t,r,n){return arguments.length===1?_5e(e):new Ea(e,t,r,n??1)}function Ea(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}YO(Ea,tR,PQ(Y0,{brighter(e){return e=e==null?HC:Math.pow(HC,e),new Ea(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Uv:Math.pow(Uv,e),new Ea(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ea(gf(this.r),gf(this.g),gf(this.b),zC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xU,formatHex:xU,formatHex8:A5e,formatRgb:vU,toString:vU}));function xU(){return`#${tf(this.r)}${tf(this.g)}${tf(this.b)}`}function A5e(){return`#${tf(this.r)}${tf(this.g)}${tf(this.b)}${tf((isNaN(this.opacity)?1:this.opacity)*255)}`}function vU(){const e=zC(this.opacity);return`${e===1?"rgb(":"rgba("}${gf(this.r)}, ${gf(this.g)}, ${gf(this.b)}${e===1?")":`, ${e})`}`}function zC(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function gf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function tf(e){return e=gf(e),(e<16?"0":"")+e.toString(16)}function yU(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new mo(e,t,r,n)}function DQ(e){if(e instanceof mo)return new mo(e.h,e.s,e.l,e.opacity);if(e instanceof Y0||(e=Wv(e)),!e)return new mo;if(e instanceof mo)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,c=i-s,d=(i+s)/2;return c?(t===i?o=(r-n)/c+(r<n)*6:r===i?o=(n-t)/c+2:o=(t-r)/c+4,c/=d<.5?i+s:2-i-s,o*=60):c=d>0&&d<1?0:o,new mo(o,c,d,e.opacity)}function k5e(e,t,r,n){return arguments.length===1?DQ(e):new mo(e,t,r,n??1)}function mo(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}YO(mo,k5e,PQ(Y0,{brighter(e){return e=e==null?HC:Math.pow(HC,e),new mo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Uv:Math.pow(Uv,e),new mo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Ea(DT(e>=240?e-240:e+120,s,n),DT(e,s,n),DT(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new mo(bU(this.h),_w(this.s),_w(this.l),zC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=zC(this.opacity);return`${e===1?"hsl(":"hsla("}${bU(this.h)}, ${_w(this.s)*100}%, ${_w(this.l)*100}%${e===1?")":`, ${e})`}`}}));function bU(e){return e=(e||0)%360,e<0?e+360:e}function _w(e){return Math.max(0,Math.min(1,e||0))}function DT(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const KO=e=>()=>e;function T5e(e,t){return function(r){return e+r*t}}function P5e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function D5e(e){return(e=+e)==1?RQ:function(t,r){return r-t?P5e(t,r,e):KO(isNaN(t)?r:t)}}function RQ(e,t){var r=t-e;return r?T5e(e,r):KO(isNaN(e)?t:e)}const wU=function e(t){var r=D5e(t);function n(s,i){var o=r((s=tR(s)).r,(i=tR(i)).r),c=r(s.g,i.g),d=r(s.b,i.b),u=RQ(s.opacity,i.opacity);return function(l){return s.r=o(l),s.g=c(l),s.b=d(l),s.opacity=u(l),s+""}}return n.gamma=e,n}(1);function R5e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function M5e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function O5e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=sg(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(c){for(o=0;o<n;++o)i[o]=s[o](c);return i}}function ZO(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function es(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function I5e(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=sg(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var rR=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,RT=new RegExp(rR.source,"g");function L5e(e){return function(){return e}}function B5e(e){return function(t){return e(t)+""}}function $5e(e,t){var r=rR.lastIndex=RT.lastIndex=0,n,s,i,o=-1,c=[],d=[];for(e=e+"",t=t+"";(n=rR.exec(e))&&(s=RT.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),c[o]?c[o]+=i:c[++o]=i),(n=n[0])===(s=s[0])?c[o]?c[o]+=s:c[++o]=s:(c[++o]=null,d.push({i:o,x:es(n,s)})),r=RT.lastIndex;return r<t.length&&(i=t.slice(r),c[o]?c[o]+=i:c[++o]=i),c.length<2?d[0]?B5e(d[0].x):L5e(t):(t=d.length,function(u){for(var l=0,f;l<t;++l)c[(f=d[l]).i]=f.x(u);return c.join("")})}function sg(e,t){var r=typeof t,n;return t==null||r==="boolean"?KO(t):(r==="number"?es:r==="string"?(n=Wv(t))?(t=n,wU):$5e:t instanceof Wv?wU:t instanceof Date?ZO:M5e(t)?R5e:Array.isArray(t)?O5e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?I5e:es)(e,t)}function XO(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function F5e(e,t){t===void 0&&(t=e,e=sg);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var c=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[c](o-c)}}function H5e(e){return function(){return e}}function UC(e){return+e}var SU=[0,1];function oa(e){return e}function nR(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:H5e(isNaN(t)?NaN:.5)}function z5e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function U5e(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=nR(s,n),i=r(o,i)):(n=nR(n,s),i=r(i,o)),function(c){return i(n(c))}}function V5e(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=nR(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(c){var d=G0(e,c,1,n)-1;return i[d](s[d](c))}}function K0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function DE(){var e=SU,t=SU,r=sg,n,s,i,o=oa,c,d,u;function l(){var p=Math.min(e.length,t.length);return o!==oa&&(o=z5e(e[0],e[p-1])),c=p>2?V5e:U5e,d=u=null,f}function f(p){return p==null||isNaN(p=+p)?i:(d||(d=c(e.map(n),t,r)))(n(o(p)))}return f.invert=function(p){return o(s((u||(u=c(t,e.map(n),es)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,UC),l()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),l()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),r=XO,l()},f.clamp=function(p){return arguments.length?(o=p?!0:oa,l()):o!==oa},f.interpolate=function(p){return arguments.length?(r=p,l()):r},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,g){return n=p,s=g,l()}}function QO(){return DE()(oa,oa)}function W5e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function VC(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function pp(e){return e=VC(Math.abs(e)),e?e[1]:NaN}function q5e(e,t){return function(r,n){for(var s=r.length,i=[],o=0,c=e[0],d=0;s>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),i.push(r.substring(s-=c,s+c)),!((d+=c+1)>n));)c=e[o=(o+1)%e.length];return i.reverse().join(t)}}function G5e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Y5e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qv(e){if(!(t=Y5e.exec(e)))throw new Error("invalid format: "+e);var t;return new JO({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}qv.prototype=JO.prototype;function JO(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}JO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function K5e(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var MQ;function Z5e(e,t){var r=VC(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(MQ=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+VC(e,Math.max(0,t+i-1))[0]}function CU(e,t){var r=VC(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const jU={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:W5e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>CU(e*100,t),r:CU,s:Z5e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function EU(e){return e}var NU=Array.prototype.map,_U=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function X5e(e){var t=e.grouping===void 0||e.thousands===void 0?EU:q5e(NU.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?EU:G5e(NU.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function u(f){f=qv(f);var p=f.fill,g=f.align,x=f.sign,S=f.symbol,m=f.zero,y=f.width,w=f.comma,C=f.precision,E=f.trim,N=f.type;N==="n"?(w=!0,N="g"):jU[N]||(C===void 0&&(C=12),E=!0,N="g"),(m||p==="0"&&g==="=")&&(m=!0,p="0",g="=");var k=S==="$"?r:S==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",A=S==="$"?n:/[%p]/.test(N)?o:"",T=jU[N],P=/[defgprs%]/.test(N);C=C===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function M(O){var R=k,L=A,B,F,$;if(N==="c")L=T(O)+L,O="";else{O=+O;var z=O<0||1/O<0;if(O=isNaN(O)?d:T(Math.abs(O),C),E&&(O=K5e(O)),z&&+O==0&&x!=="+"&&(z=!1),R=(z?x==="("?x:c:x==="-"||x==="("?"":x)+R,L=(N==="s"?_U[8+MQ/3]:"")+L+(z&&x==="("?")":""),P){for(B=-1,F=O.length;++B<F;)if($=O.charCodeAt(B),48>$||$>57){L=($===46?s+O.slice(B+1):O.slice(B))+L,O=O.slice(0,B);break}}}w&&!m&&(O=t(O,1/0));var W=R.length+O.length+L.length,Z=W<y?new Array(y-W+1).join(p):"";switch(w&&m&&(O=t(Z+O,Z.length?y-L.length:1/0),Z=""),g){case"<":O=R+O+L+Z;break;case"=":O=R+Z+O+L;break;case"^":O=Z.slice(0,W=Z.length>>1)+R+O+L+Z.slice(W);break;default:O=Z+R+O+L;break}return i(O)}return M.toString=function(){return f+""},M}function l(f,p){var g=u((f=qv(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(pp(p)/3)))*3,S=Math.pow(10,-x),m=_U[8+x/3];return function(y){return g(S*y)+m}}return{format:u,formatPrefix:l}}var Aw,eI,OQ;Q5e({thousands:",",grouping:[3],currency:["$",""]});function Q5e(e){return Aw=X5e(e),eI=Aw.format,OQ=Aw.formatPrefix,Aw}function J5e(e){return Math.max(0,-pp(Math.abs(e)))}function eLe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pp(t)/3)))*3-pp(Math.abs(e)))}function tLe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,pp(t)-pp(e))+1}function IQ(e,t,r,n){var s=JD(e,t,r),i;switch(n=qv(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=eLe(s,o))&&(n.precision=i),OQ(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=tLe(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=J5e(s))&&(n.precision=i-(n.type==="%")*2);break}}return eI(n)}function su(e){var t=e.domain;return e.ticks=function(r){var n=t();return XD(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return IQ(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],c=n[i],d,u,l=10;for(c<o&&(u=o,o=c,c=u,u=s,s=i,i=u);l-- >0;){if(u=QD(o,c,r),u===d)return n[s]=o,n[i]=c,t(n);if(u>0)o=Math.floor(o/u)*u,c=Math.ceil(c/u)*u;else if(u<0)o=Math.ceil(o*u)/u,c=Math.floor(c*u)/u;else break;d=u}return e},e}function RE(){var e=QO();return e.copy=function(){return K0(e,RE())},eo.apply(e,arguments),su(e)}function LQ(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,UC),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return LQ(e).unknown(t)},e=arguments.length?Array.from(e,UC):[0,1],su(r)}function BQ(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function AU(e){return Math.log(e)}function kU(e){return Math.exp(e)}function rLe(e){return-Math.log(-e)}function nLe(e){return-Math.exp(-e)}function sLe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function aLe(e){return e===10?sLe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function iLe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function TU(e){return(t,r)=>-e(-t,r)}function tI(e){const t=e(AU,kU),r=t.domain;let n=10,s,i;function o(){return s=iLe(n),i=aLe(n),r()[0]<0?(s=TU(s),i=TU(i),e(rLe,nLe)):e(AU,kU),t}return t.base=function(c){return arguments.length?(n=+c,o()):n},t.domain=function(c){return arguments.length?(r(c),o()):r()},t.ticks=c=>{const d=r();let u=d[0],l=d[d.length-1];const f=l<u;f&&([u,l]=[l,u]);let p=s(u),g=s(l),x,S;const m=c==null?10:+c;let y=[];if(!(n%1)&&g-p<m){if(p=Math.floor(p),g=Math.ceil(g),u>0){for(;p<=g;++p)for(x=1;x<n;++x)if(S=p<0?x/i(-p):x*i(p),!(S<u)){if(S>l)break;y.push(S)}}else for(;p<=g;++p)for(x=n-1;x>=1;--x)if(S=p>0?x/i(-p):x*i(p),!(S<u)){if(S>l)break;y.push(S)}y.length*2<m&&(y=XD(u,l,m))}else y=XD(p,g,Math.min(g-p,m)).map(i);return f?y.reverse():y},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=qv(d)).precision==null&&(d.trim=!0),d=eI(d)),c===1/0)return d;const u=Math.max(1,n*c/t.ticks().length);return l=>{let f=l/i(Math.round(s(l)));return f*n<n-.5&&(f*=n),f<=u?d(l):""}},t.nice=()=>r(BQ(r(),{floor:c=>i(Math.floor(s(c))),ceil:c=>i(Math.ceil(s(c)))})),t}function Gv(){const e=tI(DE()).domain([1,10]);return e.copy=()=>K0(e,Gv()).base(e.base()),eo.apply(e,arguments),e}function PU(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function DU(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function rI(e){var t=1,r=e(PU(t),DU(t));return r.constant=function(n){return arguments.length?e(PU(t=+n),DU(t)):t},su(r)}function nI(){var e=rI(DE());return e.copy=function(){return K0(e,nI()).constant(e.constant())},eo.apply(e,arguments)}function RU(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function oLe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function lLe(e){return e<0?-e*e:e*e}function sI(e){var t=e(oa,oa),r=1;function n(){return r===1?e(oa,oa):r===.5?e(oLe,lLe):e(RU(r),RU(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},su(t)}function ME(){var e=sI(DE());return e.copy=function(){return K0(e,ME()).exponent(e.exponent())},eo.apply(e,arguments),e}function $Q(){return ME.apply(null,arguments).exponent(.5)}function MU(e){return Math.sign(e)*e*e}function cLe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function FQ(){var e=QO(),t=[0,1],r=!1,n;function s(i){var o=cLe(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(MU(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,UC)).map(MU)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return FQ(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},eo.apply(s,arguments),su(s)}function HQ(){var e=[],t=[],r=[],n;function s(){var o=0,c=Math.max(1,t.length);for(r=new Array(c-1);++o<c;)r[o-1]=g5e(e,o/c);return i}function i(o){return o==null||isNaN(o=+o)?n:t[G0(r,o)]}return i.invertExtent=function(o){var c=t.indexOf(o);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Md),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return HQ().domain(e).range(t).unknown(n)},eo.apply(i,arguments)}function zQ(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(d){return d!=null&&d<=d?s[G0(n,d,0,r)]:i}function c(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return o}return o.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,c()):[e,t]},o.range=function(d){return arguments.length?(r=(s=Array.from(d)).length-1,c()):s.slice()},o.invertExtent=function(d){var u=s.indexOf(d);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(d){return arguments.length&&(i=d),o},o.thresholds=function(){return n.slice()},o.copy=function(){return zQ().domain([e,t]).range(s).unknown(i)},eo.apply(su(o),arguments)}function aI(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[G0(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return aI().domain(e).range(t).unknown(r)},eo.apply(s,arguments)}const MT=new Date,OT=new Date;function cs(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),c=s.ceil(i);return i-o<c-i?o:c},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,c)=>{const d=[];if(i=s.ceil(i),c=c==null?1:Math.floor(c),!(i<o)||!(c>0))return d;let u;do d.push(u=new Date(+i)),t(i,c),e(i);while(u<i&&i<o);return d},s.filter=i=>cs(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!i(o););else for(;--c>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(MT.setTime(+i),OT.setTime(+o),e(MT),e(OT),Math.floor(r(MT,OT))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const WC=cs(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);WC.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?cs(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):WC);WC.range;const rc=1e3,Hi=rc*60,nc=Hi*60,yc=nc*24,iI=yc*7,OU=yc*30,IT=yc*365,rf=cs(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*rc)},(e,t)=>(t-e)/rc,e=>e.getUTCSeconds());rf.range;const oI=cs(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*rc)},(e,t)=>{e.setTime(+e+t*Hi)},(e,t)=>(t-e)/Hi,e=>e.getMinutes());oI.range;const lI=cs(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Hi)},(e,t)=>(t-e)/Hi,e=>e.getUTCMinutes());lI.range;const cI=cs(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*rc-e.getMinutes()*Hi)},(e,t)=>{e.setTime(+e+t*nc)},(e,t)=>(t-e)/nc,e=>e.getHours());cI.range;const dI=cs(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*nc)},(e,t)=>(t-e)/nc,e=>e.getUTCHours());dI.range;const Z0=cs(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Hi)/yc,e=>e.getDate()-1);Z0.range;const OE=cs(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/yc,e=>e.getUTCDate()-1);OE.range;const UQ=cs(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/yc,e=>Math.floor(e/yc));UQ.range;function eh(e){return cs(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Hi)/iI)}const IE=eh(0),qC=eh(1),dLe=eh(2),uLe=eh(3),gp=eh(4),fLe=eh(5),hLe=eh(6);IE.range;qC.range;dLe.range;uLe.range;gp.range;fLe.range;hLe.range;function th(e){return cs(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/iI)}const LE=th(0),GC=th(1),mLe=th(2),pLe=th(3),xp=th(4),gLe=th(5),xLe=th(6);LE.range;GC.range;mLe.range;pLe.range;xp.range;gLe.range;xLe.range;const uI=cs(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());uI.range;const fI=cs(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());fI.range;const bc=cs(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());bc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cs(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});bc.range;const wc=cs(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());wc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cs(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});wc.range;function VQ(e,t,r,n,s,i){const o=[[rf,1,rc],[rf,5,5*rc],[rf,15,15*rc],[rf,30,30*rc],[i,1,Hi],[i,5,5*Hi],[i,15,15*Hi],[i,30,30*Hi],[s,1,nc],[s,3,3*nc],[s,6,6*nc],[s,12,12*nc],[n,1,yc],[n,2,2*yc],[r,1,iI],[t,1,OU],[t,3,3*OU],[e,1,IT]];function c(u,l,f){const p=l<u;p&&([u,l]=[l,u]);const g=f&&typeof f.range=="function"?f:d(u,l,f),x=g?g.range(u,+l+1):[];return p?x.reverse():x}function d(u,l,f){const p=Math.abs(l-u)/f,g=qO(([,,m])=>m).right(o,p);if(g===o.length)return e.every(JD(u/IT,l/IT,f));if(g===0)return WC.every(Math.max(JD(u,l,f),1));const[x,S]=o[p/o[g-1][2]<o[g][2]/p?g-1:g];return x.every(S)}return[c,d]}const[vLe,yLe]=VQ(wc,fI,LE,UQ,dI,lI),[bLe,wLe]=VQ(bc,uI,IE,Z0,cI,oI);function LT(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function BT(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ux(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function SLe(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,c=e.months,d=e.shortMonths,u=Vx(s),l=Wx(s),f=Vx(i),p=Wx(i),g=Vx(o),x=Wx(o),S=Vx(c),m=Wx(c),y=Vx(d),w=Wx(d),C={a:z,A:W,b:Z,B:V,c:null,d:HU,e:HU,f:WLe,g:tBe,G:nBe,H:zLe,I:ULe,j:VLe,L:WQ,m:qLe,M:GLe,p:q,q:H,Q:VU,s:WU,S:YLe,u:KLe,U:ZLe,V:XLe,w:QLe,W:JLe,x:null,X:null,y:eBe,Y:rBe,Z:sBe,"%":UU},E={a:K,A:Y,b:re,B:me,c:null,d:zU,e:zU,f:lBe,g:vBe,G:bBe,H:aBe,I:iBe,j:oBe,L:GQ,m:cBe,M:dBe,p:de,q:he,Q:VU,s:WU,S:uBe,u:fBe,U:hBe,V:mBe,w:pBe,W:gBe,x:null,X:null,y:xBe,Y:yBe,Z:wBe,"%":UU},N={a:M,A:O,b:R,B:L,c:B,d:$U,e:$U,f:BLe,g:BU,G:LU,H:FU,I:FU,j:MLe,L:LLe,m:RLe,M:OLe,p:P,q:DLe,Q:FLe,s:HLe,S:ILe,u:_Le,U:ALe,V:kLe,w:NLe,W:TLe,x:F,X:$,y:BU,Y:LU,Z:PLe,"%":$Le};C.x=k(r,C),C.X=k(n,C),C.c=k(t,C),E.x=k(r,E),E.X=k(n,E),E.c=k(t,E);function k(ee,ie){return function(ye){var le=[],Te=-1,Ae=0,ae=ee.length,We,rt,fe;for(ye instanceof Date||(ye=new Date(+ye));++Te<ae;)ee.charCodeAt(Te)===37&&(le.push(ee.slice(Ae,Te)),(rt=IU[We=ee.charAt(++Te)])!=null?We=ee.charAt(++Te):rt=We==="e"?" ":"0",(fe=ie[We])&&(We=fe(ye,rt)),le.push(We),Ae=Te+1);return le.push(ee.slice(Ae,Te)),le.join("")}}function A(ee,ie){return function(ye){var le=Ux(1900,void 0,1),Te=T(le,ee,ye+="",0),Ae,ae;if(Te!=ye.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(ie&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(Ae=BT(Ux(le.y,0,1)),ae=Ae.getUTCDay(),Ae=ae>4||ae===0?GC.ceil(Ae):GC(Ae),Ae=OE.offset(Ae,(le.V-1)*7),le.y=Ae.getUTCFullYear(),le.m=Ae.getUTCMonth(),le.d=Ae.getUTCDate()+(le.w+6)%7):(Ae=LT(Ux(le.y,0,1)),ae=Ae.getDay(),Ae=ae>4||ae===0?qC.ceil(Ae):qC(Ae),Ae=Z0.offset(Ae,(le.V-1)*7),le.y=Ae.getFullYear(),le.m=Ae.getMonth(),le.d=Ae.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),ae="Z"in le?BT(Ux(le.y,0,1)).getUTCDay():LT(Ux(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(ae+5)%7:le.w+le.U*7-(ae+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,BT(le)):LT(le)}}function T(ee,ie,ye,le){for(var Te=0,Ae=ie.length,ae=ye.length,We,rt;Te<Ae;){if(le>=ae)return-1;if(We=ie.charCodeAt(Te++),We===37){if(We=ie.charAt(Te++),rt=N[We in IU?ie.charAt(Te++):We],!rt||(le=rt(ee,ye,le))<0)return-1}else if(We!=ye.charCodeAt(le++))return-1}return le}function P(ee,ie,ye){var le=u.exec(ie.slice(ye));return le?(ee.p=l.get(le[0].toLowerCase()),ye+le[0].length):-1}function M(ee,ie,ye){var le=g.exec(ie.slice(ye));return le?(ee.w=x.get(le[0].toLowerCase()),ye+le[0].length):-1}function O(ee,ie,ye){var le=f.exec(ie.slice(ye));return le?(ee.w=p.get(le[0].toLowerCase()),ye+le[0].length):-1}function R(ee,ie,ye){var le=y.exec(ie.slice(ye));return le?(ee.m=w.get(le[0].toLowerCase()),ye+le[0].length):-1}function L(ee,ie,ye){var le=S.exec(ie.slice(ye));return le?(ee.m=m.get(le[0].toLowerCase()),ye+le[0].length):-1}function B(ee,ie,ye){return T(ee,t,ie,ye)}function F(ee,ie,ye){return T(ee,r,ie,ye)}function $(ee,ie,ye){return T(ee,n,ie,ye)}function z(ee){return o[ee.getDay()]}function W(ee){return i[ee.getDay()]}function Z(ee){return d[ee.getMonth()]}function V(ee){return c[ee.getMonth()]}function q(ee){return s[+(ee.getHours()>=12)]}function H(ee){return 1+~~(ee.getMonth()/3)}function K(ee){return o[ee.getUTCDay()]}function Y(ee){return i[ee.getUTCDay()]}function re(ee){return d[ee.getUTCMonth()]}function me(ee){return c[ee.getUTCMonth()]}function de(ee){return s[+(ee.getUTCHours()>=12)]}function he(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var ie=k(ee+="",C);return ie.toString=function(){return ee},ie},parse:function(ee){var ie=A(ee+="",!1);return ie.toString=function(){return ee},ie},utcFormat:function(ee){var ie=k(ee+="",E);return ie.toString=function(){return ee},ie},utcParse:function(ee){var ie=A(ee+="",!0);return ie.toString=function(){return ee},ie}}}var IU={"-":"",_:" ",0:"0"},Ns=/^\s*\d+/,CLe=/^%/,jLe=/[\\^$*+?|[\]().{}]/g;function ur(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function ELe(e){return e.replace(jLe,"\\$&")}function Vx(e){return new RegExp("^(?:"+e.map(ELe).join("|")+")","i")}function Wx(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function NLe(e,t,r){var n=Ns.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function _Le(e,t,r){var n=Ns.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function ALe(e,t,r){var n=Ns.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function kLe(e,t,r){var n=Ns.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function TLe(e,t,r){var n=Ns.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function LU(e,t,r){var n=Ns.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function BU(e,t,r){var n=Ns.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function PLe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function DLe(e,t,r){var n=Ns.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function RLe(e,t,r){var n=Ns.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function $U(e,t,r){var n=Ns.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function MLe(e,t,r){var n=Ns.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function FU(e,t,r){var n=Ns.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function OLe(e,t,r){var n=Ns.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function ILe(e,t,r){var n=Ns.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function LLe(e,t,r){var n=Ns.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function BLe(e,t,r){var n=Ns.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function $Le(e,t,r){var n=CLe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function FLe(e,t,r){var n=Ns.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function HLe(e,t,r){var n=Ns.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function HU(e,t){return ur(e.getDate(),t,2)}function zLe(e,t){return ur(e.getHours(),t,2)}function ULe(e,t){return ur(e.getHours()%12||12,t,2)}function VLe(e,t){return ur(1+Z0.count(bc(e),e),t,3)}function WQ(e,t){return ur(e.getMilliseconds(),t,3)}function WLe(e,t){return WQ(e,t)+"000"}function qLe(e,t){return ur(e.getMonth()+1,t,2)}function GLe(e,t){return ur(e.getMinutes(),t,2)}function YLe(e,t){return ur(e.getSeconds(),t,2)}function KLe(e){var t=e.getDay();return t===0?7:t}function ZLe(e,t){return ur(IE.count(bc(e)-1,e),t,2)}function qQ(e){var t=e.getDay();return t>=4||t===0?gp(e):gp.ceil(e)}function XLe(e,t){return e=qQ(e),ur(gp.count(bc(e),e)+(bc(e).getDay()===4),t,2)}function QLe(e){return e.getDay()}function JLe(e,t){return ur(qC.count(bc(e)-1,e),t,2)}function eBe(e,t){return ur(e.getFullYear()%100,t,2)}function tBe(e,t){return e=qQ(e),ur(e.getFullYear()%100,t,2)}function rBe(e,t){return ur(e.getFullYear()%1e4,t,4)}function nBe(e,t){var r=e.getDay();return e=r>=4||r===0?gp(e):gp.ceil(e),ur(e.getFullYear()%1e4,t,4)}function sBe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ur(t/60|0,"0",2)+ur(t%60,"0",2)}function zU(e,t){return ur(e.getUTCDate(),t,2)}function aBe(e,t){return ur(e.getUTCHours(),t,2)}function iBe(e,t){return ur(e.getUTCHours()%12||12,t,2)}function oBe(e,t){return ur(1+OE.count(wc(e),e),t,3)}function GQ(e,t){return ur(e.getUTCMilliseconds(),t,3)}function lBe(e,t){return GQ(e,t)+"000"}function cBe(e,t){return ur(e.getUTCMonth()+1,t,2)}function dBe(e,t){return ur(e.getUTCMinutes(),t,2)}function uBe(e,t){return ur(e.getUTCSeconds(),t,2)}function fBe(e){var t=e.getUTCDay();return t===0?7:t}function hBe(e,t){return ur(LE.count(wc(e)-1,e),t,2)}function YQ(e){var t=e.getUTCDay();return t>=4||t===0?xp(e):xp.ceil(e)}function mBe(e,t){return e=YQ(e),ur(xp.count(wc(e),e)+(wc(e).getUTCDay()===4),t,2)}function pBe(e){return e.getUTCDay()}function gBe(e,t){return ur(GC.count(wc(e)-1,e),t,2)}function xBe(e,t){return ur(e.getUTCFullYear()%100,t,2)}function vBe(e,t){return e=YQ(e),ur(e.getUTCFullYear()%100,t,2)}function yBe(e,t){return ur(e.getUTCFullYear()%1e4,t,4)}function bBe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?xp(e):xp.ceil(e),ur(e.getUTCFullYear()%1e4,t,4)}function wBe(){return"+0000"}function UU(){return"%"}function VU(e){return+e}function WU(e){return Math.floor(+e/1e3)}var um,KQ,ZQ;SBe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function SBe(e){return um=SLe(e),KQ=um.format,um.parse,ZQ=um.utcFormat,um.utcParse,um}function CBe(e){return new Date(e)}function jBe(e){return e instanceof Date?+e:+new Date(+e)}function hI(e,t,r,n,s,i,o,c,d,u){var l=QO(),f=l.invert,p=l.domain,g=u(".%L"),x=u(":%S"),S=u("%I:%M"),m=u("%I %p"),y=u("%a %d"),w=u("%b %d"),C=u("%B"),E=u("%Y");function N(k){return(d(k)<k?g:c(k)<k?x:o(k)<k?S:i(k)<k?m:n(k)<k?s(k)<k?y:w:r(k)<k?C:E)(k)}return l.invert=function(k){return new Date(f(k))},l.domain=function(k){return arguments.length?p(Array.from(k,jBe)):p().map(CBe)},l.ticks=function(k){var A=p();return e(A[0],A[A.length-1],k??10)},l.tickFormat=function(k,A){return A==null?N:u(A)},l.nice=function(k){var A=p();return(!k||typeof k.range!="function")&&(k=t(A[0],A[A.length-1],k??10)),k?p(BQ(A,k)):l},l.copy=function(){return K0(l,hI(e,t,r,n,s,i,o,c,d,u))},l}function mI(){return eo.apply(hI(bLe,wLe,bc,uI,IE,Z0,cI,oI,rf,KQ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function XQ(){return eo.apply(hI(vLe,yLe,wc,fI,LE,OE,dI,lI,rf,ZQ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function BE(){var e=0,t=1,r,n,s,i,o=oa,c=!1,d;function u(f){return f==null||isNaN(f=+f)?d:o(s===0?.5:(f=(i(f)-r)*s,c?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(c=!!f,u):c},u.interpolator=function(f){return arguments.length?(o=f,u):o};function l(f){return function(p){var g,x;return arguments.length?([g,x]=p,o=f(g,x),u):[o(0),o(1)]}}return u.range=l(sg),u.rangeRound=l(XO),u.unknown=function(f){return arguments.length?(d=f,u):d},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function au(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function pI(){var e=su(BE()(oa));return e.copy=function(){return au(e,pI())},Mc.apply(e,arguments)}function QQ(){var e=tI(BE()).domain([1,10]);return e.copy=function(){return au(e,QQ()).base(e.base())},Mc.apply(e,arguments)}function JQ(){var e=rI(BE());return e.copy=function(){return au(e,JQ()).constant(e.constant())},Mc.apply(e,arguments)}function gI(){var e=sI(BE());return e.copy=function(){return au(e,gI()).exponent(e.exponent())},Mc.apply(e,arguments)}function EBe(){return gI.apply(null,arguments).exponent(.5)}function eJ(){var e=[],t=oa;function r(n){if(n!=null&&!isNaN(n=+n))return t((G0(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Md),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>p5e(e,i/n))},r.copy=function(){return eJ(t).domain(e)},Mc.apply(r,arguments)}function $E(){var e=0,t=.5,r=1,n=1,s,i,o,c,d,u=oa,l,f=!1,p;function g(S){return isNaN(S=+S)?p:(S=.5+((S=+l(S))-i)*(n*S<n*i?c:d),u(f?Math.max(0,Math.min(1,S)):S))}g.domain=function(S){return arguments.length?([e,t,r]=S,s=l(e=+e),i=l(t=+t),o=l(r=+r),c=s===i?0:.5/(i-s),d=i===o?0:.5/(o-i),n=i<s?-1:1,g):[e,t,r]},g.clamp=function(S){return arguments.length?(f=!!S,g):f},g.interpolator=function(S){return arguments.length?(u=S,g):u};function x(S){return function(m){var y,w,C;return arguments.length?([y,w,C]=m,u=F5e(S,[y,w,C]),g):[u(0),u(.5),u(1)]}}return g.range=x(sg),g.rangeRound=x(XO),g.unknown=function(S){return arguments.length?(p=S,g):p},function(S){return l=S,s=S(e),i=S(t),o=S(r),c=s===i?0:.5/(i-s),d=i===o?0:.5/(o-i),n=i<s?-1:1,g}}function tJ(){var e=su($E()(oa));return e.copy=function(){return au(e,tJ())},Mc.apply(e,arguments)}function rJ(){var e=tI($E()).domain([.1,1,10]);return e.copy=function(){return au(e,rJ()).base(e.base())},Mc.apply(e,arguments)}function nJ(){var e=rI($E());return e.copy=function(){return au(e,nJ()).constant(e.constant())},Mc.apply(e,arguments)}function xI(){var e=sI($E());return e.copy=function(){return au(e,xI()).exponent(e.exponent())},Mc.apply(e,arguments)}function NBe(){return xI.apply(null,arguments).exponent(.5)}const sv=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:GO,scaleDiverging:tJ,scaleDivergingLog:rJ,scaleDivergingPow:xI,scaleDivergingSqrt:NBe,scaleDivergingSymlog:nJ,scaleIdentity:LQ,scaleImplicit:eR,scaleLinear:RE,scaleLog:Gv,scaleOrdinal:zv,scalePoint:x5e,scalePow:ME,scaleQuantile:HQ,scaleQuantize:zQ,scaleRadial:FQ,scaleSequential:pI,scaleSequentialLog:QQ,scaleSequentialPow:gI,scaleSequentialQuantile:eJ,scaleSequentialSqrt:EBe,scaleSequentialSymlog:JQ,scaleSqrt:$Q,scaleSymlog:nI,scaleThreshold:aI,scaleTime:mI,scaleUtc:XQ,tickFormat:IQ},Symbol.toStringTag,{value:"Module"}));var iu=e=>e.chartData,vI=xe([iu],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),yI=(e,t,r,n)=>n?vI(e):iu(e);function vp(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(mi(t)&&mi(r))return!0}return!1}function qU(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function _Be(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,i;if(mi(r))s=r;else if(typeof r=="function")return;if(mi(n))i=n;else if(typeof n=="function")return;var o=[s,i];if(vp(o))return o}}function ABe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(vp(n))return qU(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,o,c;if(s==="auto")t!=null&&(o=Math.min(...t));else if(nt(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t?.[0]))}catch{}else if(typeof s=="string"&&Mz.test(s)){var d=Mz.exec(s);if(d==null||t==null)o=void 0;else{var u=+d[1];o=t[0]-u}}else o=t?.[0];if(i==="auto")t!=null&&(c=Math.max(...t));else if(nt(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t?.[1]))}catch{}else if(typeof i=="string"&&Oz.test(i)){var l=Oz.exec(i);if(l==null||t==null)c=void 0;else{var f=+l[1];c=t[1]+f}}else c=t?.[1];var p=[o,c];if(vp(p))return t==null?p:qU(p,t,r)}}}var ag=1e9,kBe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},wI,Jr=!0,Gi="[DecimalError] ",xf=Gi+"Invalid argument: ",bI=Gi+"Exponent out of range: ",ig=Math.floor,Wu=Math.pow,TBe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ri,vs=1e7,qr=7,sJ=9007199254740991,YC=ig(sJ/qr),ot={};ot.absoluteValue=ot.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ot.comparedTo=ot.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};ot.decimalPlaces=ot.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*qr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ot.dividedBy=ot.div=function(e){return uc(this,new this.constructor(e))};ot.dividedToIntegerBy=ot.idiv=function(e){var t=this,r=t.constructor;return $r(uc(t,new r(e),0,1),r.precision)};ot.equals=ot.eq=function(e){return!this.cmp(e)};ot.exponent=function(){return Gn(this)};ot.greaterThan=ot.gt=function(e){return this.cmp(e)>0};ot.greaterThanOrEqualTo=ot.gte=function(e){return this.cmp(e)>=0};ot.isInteger=ot.isint=function(){return this.e>this.d.length-2};ot.isNegative=ot.isneg=function(){return this.s<0};ot.isPositive=ot.ispos=function(){return this.s>0};ot.isZero=function(){return this.s===0};ot.lessThan=ot.lt=function(e){return this.cmp(e)<0};ot.lessThanOrEqualTo=ot.lte=function(e){return this.cmp(e)<1};ot.logarithm=ot.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ri))throw Error(Gi+"NaN");if(r.s<1)throw Error(Gi+(r.s?"NaN":"-Infinity"));return r.eq(ri)?new n(0):(Jr=!1,t=uc(Yv(r,i),Yv(e,i),i),Jr=!0,$r(t,s))};ot.minus=ot.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?oJ(t,e):aJ(t,(e.s=-e.s,e))};ot.modulo=ot.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Gi+"NaN");return r.s?(Jr=!1,t=uc(r,e,0,1).times(e),Jr=!0,r.minus(t)):$r(new n(r),s)};ot.naturalExponential=ot.exp=function(){return iJ(this)};ot.naturalLogarithm=ot.ln=function(){return Yv(this)};ot.negated=ot.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ot.plus=ot.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?aJ(t,e):oJ(t,(e.s=-e.s,e))};ot.precision=ot.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(xf+e);if(t=Gn(s)+1,n=s.d.length-1,r=n*qr+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ot.squareRoot=ot.sqrt=function(){var e,t,r,n,s,i,o,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Gi+"NaN")}for(e=Gn(c),Jr=!1,s=Math.sqrt(+c),s==0||s==1/0?(t=Qo(c.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=ig((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(s.toString()),r=d.precision,s=o=r+3;;)if(i=n,n=i.plus(uc(c,i,o+2)).times(.5),Qo(i.d).slice(0,o)===(t=Qo(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if($r(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if(t!="9999")break;o+=4}return Jr=!0,$r(n,r)};ot.times=ot.mul=function(e){var t,r,n,s,i,o,c,d,u,l=this,f=l.constructor,p=l.d,g=(e=new f(e)).d;if(!l.s||!e.s)return new f(0);for(e.s*=l.s,r=l.e+e.e,d=p.length,u=g.length,d<u&&(i=p,p=g,g=i,o=d,d=u,u=o),i=[],o=d+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=d+n;s>n;)c=i[s]+g[n]*p[s-n-1]+t,i[s--]=c%vs|0,t=c/vs|0;i[s]=(i[s]+t)%vs|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Jr?$r(e,f.precision):e};ot.toDecimalPlaces=ot.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(cl(e,0,ag),t===void 0?t=n.rounding:cl(t,0,8),$r(r,e+Gn(r)+1,t))};ot.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Mf(n,!0):(cl(e,0,ag),t===void 0?t=s.rounding:cl(t,0,8),n=$r(new s(n),e+1,t),r=Mf(n,!0,e+1)),r};ot.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?Mf(s):(cl(e,0,ag),t===void 0?t=i.rounding:cl(t,0,8),n=$r(new i(s),e+Gn(s)+1,t),r=Mf(n.abs(),!1,e+Gn(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};ot.toInteger=ot.toint=function(){var e=this,t=e.constructor;return $r(new t(e),Gn(e)+1,t.rounding)};ot.toNumber=function(){return+this};ot.toPower=ot.pow=function(e){var t,r,n,s,i,o,c=this,d=c.constructor,u=12,l=+(e=new d(e));if(!e.s)return new d(ri);if(c=new d(c),!c.s){if(e.s<1)throw Error(Gi+"Infinity");return c}if(c.eq(ri))return c;if(n=d.precision,e.eq(ri))return $r(c,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=c.s,o){if((r=l<0?-l:l)<=sJ){for(s=new d(ri),t=Math.ceil(n/qr+4),Jr=!1;r%2&&(s=s.times(c),YU(s.d,t)),r=ig(r/2),r!==0;)c=c.times(c),YU(c.d,t);return Jr=!0,e.s<0?new d(ri).div(s):$r(s,n)}}else if(i<0)throw Error(Gi+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,Jr=!1,s=e.times(Yv(c,n+u)),Jr=!0,s=iJ(s),s.s=i,s};ot.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=Gn(s),n=Mf(s,r<=i.toExpNeg||r>=i.toExpPos)):(cl(e,1,ag),t===void 0?t=i.rounding:cl(t,0,8),s=$r(new i(s),e,t),r=Gn(s),n=Mf(s,e<=r||r<=i.toExpNeg,e)),n};ot.toSignificantDigits=ot.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(cl(e,1,ag),t===void 0?t=n.rounding:cl(t,0,8)),$r(new n(r),e,t)};ot.toString=ot.valueOf=ot.val=ot.toJSON=ot[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Gn(e),r=e.constructor;return Mf(e,t<=r.toExpNeg||t>=r.toExpPos)};function aJ(e,t){var r,n,s,i,o,c,d,u,l=e.constructor,f=l.precision;if(!e.s||!t.s)return t.s||(t=new l(e)),Jr?$r(t,f):t;if(d=e.d,u=t.d,o=e.e,s=t.e,d=d.slice(),i=o-s,i){for(i<0?(n=d,i=-i,c=u.length):(n=u,s=o,c=d.length),o=Math.ceil(f/qr),c=o>c?o+1:c+1,i>c&&(i=c,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(c=d.length,i=u.length,c-i<0&&(i=c,n=u,u=d,d=n),r=0;i;)r=(d[--i]=d[i]+u[i]+r)/vs|0,d[i]%=vs;for(r&&(d.unshift(r),++s),c=d.length;d[--c]==0;)d.pop();return t.d=d,t.e=s,Jr?$r(t,f):t}function cl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(xf+e)}function Qo(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=qr-n.length,r&&(i+=Ed(r)),i+=n;o=e[t],n=o+"",r=qr-n.length,r&&(i+=Ed(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var uc=function(){function e(n,s){var i,o=0,c=n.length;for(n=n.slice();c--;)i=n[c]*s+o,n[c]=i%vs|0,o=i/vs|0;return o&&n.unshift(o),n}function t(n,s,i,o){var c,d;if(i!=o)d=i>o?1:-1;else for(c=d=0;c<i;c++)if(n[c]!=s[c]){d=n[c]>s[c]?1:-1;break}return d}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*vs+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var c,d,u,l,f,p,g,x,S,m,y,w,C,E,N,k,A,T,P=n.constructor,M=n.s==s.s?1:-1,O=n.d,R=s.d;if(!n.s)return new P(n);if(!s.s)throw Error(Gi+"Division by zero");for(d=n.e-s.e,A=R.length,N=O.length,g=new P(M),x=g.d=[],u=0;R[u]==(O[u]||0);)++u;if(R[u]>(O[u]||0)&&--d,i==null?w=i=P.precision:o?w=i+(Gn(n)-Gn(s))+1:w=i,w<0)return new P(0);if(w=w/qr+2|0,u=0,A==1)for(l=0,R=R[0],w++;(u<N||l)&&w--;u++)C=l*vs+(O[u]||0),x[u]=C/R|0,l=C%R|0;else{for(l=vs/(R[0]+1)|0,l>1&&(R=e(R,l),O=e(O,l),A=R.length,N=O.length),E=A,S=O.slice(0,A),m=S.length;m<A;)S[m++]=0;T=R.slice(),T.unshift(0),k=R[0],R[1]>=vs/2&&++k;do l=0,c=t(R,S,A,m),c<0?(y=S[0],A!=m&&(y=y*vs+(S[1]||0)),l=y/k|0,l>1?(l>=vs&&(l=vs-1),f=e(R,l),p=f.length,m=S.length,c=t(f,S,p,m),c==1&&(l--,r(f,A<p?T:R,p))):(l==0&&(c=l=1),f=R.slice()),p=f.length,p<m&&f.unshift(0),r(S,f,m),c==-1&&(m=S.length,c=t(R,S,A,m),c<1&&(l++,r(S,A<m?T:R,m))),m=S.length):c===0&&(l++,S=[0]),x[u++]=l,c&&S[0]?S[m++]=O[E]||0:(S=[O[E]],m=1);while((E++<N||S[0]!==void 0)&&w--)}return x[0]||x.shift(),g.e=d,$r(g,o?i+Gn(g)+1:i)}}();function iJ(e,t){var r,n,s,i,o,c,d=0,u=0,l=e.constructor,f=l.precision;if(Gn(e)>16)throw Error(bI+Gn(e));if(!e.s)return new l(ri);for(Jr=!1,c=f,o=new l(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Wu(2,u))/Math.LN10*2+5|0,c+=n,r=s=i=new l(ri),l.precision=c;;){if(s=$r(s.times(e),c),r=r.times(++d),o=i.plus(uc(s,r,c)),Qo(o.d).slice(0,c)===Qo(i.d).slice(0,c)){for(;u--;)i=$r(i.times(i),c);return l.precision=f,t==null?(Jr=!0,$r(i,f)):i}i=o}}function Gn(e){for(var t=e.e*qr,r=e.d[0];r>=10;r/=10)t++;return t}function $T(e,t,r){if(t>e.LN10.sd())throw Jr=!0,r&&(e.precision=r),Error(Gi+"LN10 precision limit exceeded");return $r(new e(e.LN10),t)}function Ed(e){for(var t="";e--;)t+="0";return t}function Yv(e,t){var r,n,s,i,o,c,d,u,l,f=1,p=10,g=e,x=g.d,S=g.constructor,m=S.precision;if(g.s<1)throw Error(Gi+(g.s?"NaN":"-Infinity"));if(g.eq(ri))return new S(0);if(t==null?(Jr=!1,u=m):u=t,g.eq(10))return t==null&&(Jr=!0),$T(S,u);if(u+=p,S.precision=u,r=Qo(x),n=r.charAt(0),i=Gn(g),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=Qo(g.d),n=r.charAt(0),f++;i=Gn(g),n>1?(g=new S("0."+r),i++):g=new S(n+"."+r.slice(1))}else return d=$T(S,u+2,m).times(i+""),g=Yv(new S(n+"."+r.slice(1)),u-p).plus(d),S.precision=m,t==null?(Jr=!0,$r(g,m)):g;for(c=o=g=uc(g.minus(ri),g.plus(ri),u),l=$r(g.times(g),u),s=3;;){if(o=$r(o.times(l),u),d=c.plus(uc(o,new S(s),u)),Qo(d.d).slice(0,u)===Qo(c.d).slice(0,u))return c=c.times(2),i!==0&&(c=c.plus($T(S,u+2,m).times(i+""))),c=uc(c,new S(f),u),S.precision=m,t==null?(Jr=!0,$r(c,m)):c;c=d,s+=2}}function GU(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=ig(r/qr),e.d=[],n=(r+1)%qr,r<0&&(n+=qr),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=qr;n<s;)e.d.push(+t.slice(n,n+=qr));t=t.slice(n),n=qr-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Jr&&(e.e>YC||e.e<-YC))throw Error(bI+r)}else e.s=0,e.e=0,e.d=[0];return e}function $r(e,t,r){var n,s,i,o,c,d,u,l,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=qr,s=t,u=f[l=0];else{if(l=Math.ceil((n+1)/qr),i=f.length,l>=i)return e;for(u=i=f[l],o=1;i>=10;i/=10)o++;n%=qr,s=n-qr+o}if(r!==void 0&&(i=Wu(10,o-s-1),c=u/i%10|0,d=t<0||f[l+1]!==void 0||u%i,d=r<4?(c||d)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(n>0?s>0?u/Wu(10,o-s):0:f[l-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return d?(i=Gn(e),f.length=1,t=t-i-1,f[0]=Wu(10,(qr-t%qr)%qr),e.e=ig(-t/qr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=l,i=1,l--):(f.length=l+1,i=Wu(10,qr-n),f[l]=s>0?(u/Wu(10,o-s)%Wu(10,s)|0)*i:0),d)for(;;)if(l==0){(f[0]+=i)==vs&&(f[0]=1,++e.e);break}else{if(f[l]+=i,f[l]!=vs)break;f[l--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Jr&&(e.e>YC||e.e<-YC))throw Error(bI+Gn(e));return e}function oJ(e,t){var r,n,s,i,o,c,d,u,l,f,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Jr?$r(t,g):t;if(d=e.d,f=t.d,n=t.e,u=e.e,d=d.slice(),o=u-n,o){for(l=o<0,l?(r=d,o=-o,c=f.length):(r=f,n=u,c=d.length),s=Math.max(Math.ceil(g/qr),c)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=d.length,c=f.length,l=s<c,l&&(c=s),s=0;s<c;s++)if(d[s]!=f[s]){l=d[s]<f[s];break}o=0}for(l&&(r=d,d=f,f=r,t.s=-t.s),c=d.length,s=f.length-c;s>0;--s)d[c++]=0;for(s=f.length;s>o;){if(d[--s]<f[s]){for(i=s;i&&d[--i]===0;)d[i]=vs-1;--d[i],d[s]+=vs}d[s]-=f[s]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,Jr?$r(t,g):t):new p(0)}function Mf(e,t,r){var n,s=Gn(e),i=Qo(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ed(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Ed(-s-1)+i,r&&(n=r-o)>0&&(i+=Ed(n))):s>=o?(i+=Ed(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+Ed(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=Ed(n))),e.s<0?"-"+i:i}function YU(e,t){if(e.length>t)return e.length=t,!0}function lJ(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(xf+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return GU(o,i.toString())}else if(typeof i!="string")throw Error(xf+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,TBe.test(i))GU(o,i);else throw Error(xf+i)}if(s.prototype=ot,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=lJ,s.config=s.set=PBe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function PBe(e){if(!e||typeof e!="object")throw Error(Gi+"Object expected");var t,r,n,s=["precision",1,ag,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(ig(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(xf+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(xf+r+": "+n);return this}var wI=lJ(kBe);ri=new wI(1);const Ar=wI;var DBe=e=>e,cJ={},dJ=e=>e===cJ,KU=e=>function t(){return arguments.length===0||arguments.length===1&&dJ(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},uJ=(e,t)=>e===1?t:KU(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var i=n.filter(o=>o!==cJ).length;return i>=e?t(...n):uJ(e-i,KU(function(){for(var o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];var u=n.map(l=>dJ(l)?c.shift():l);return t(...u,...c)}))}),FE=e=>uJ(e.length,e),sR=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},RBe=FE((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),MBe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return DBe;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce((c,d)=>d(c),i(...arguments))}},aR=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),fJ=e=>{var t=null,r=null;return function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return t&&s.every((o,c)=>{var d;return o===((d=t)===null||d===void 0?void 0:d[c])})||(t=s,r=e(...s)),r}};function hJ(e){var t;return e===0?t=1:t=Math.floor(new Ar(e).abs().log(10).toNumber())+1,t}function mJ(e,t,r){for(var n=new Ar(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}FE((e,t,r)=>{var n=+e,s=+t;return n+r*(s-n)});FE((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});FE((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var pJ=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},gJ=(e,t,r)=>{if(e.lte(0))return new Ar(0);var n=hJ(e.toNumber()),s=new Ar(10).pow(n),i=e.div(s),o=n!==1?.05:.1,c=new Ar(Math.ceil(i.div(o).toNumber())).add(r).mul(o),d=c.mul(s);return t?new Ar(d.toNumber()):new Ar(Math.ceil(d.toNumber()))},OBe=(e,t,r)=>{var n=new Ar(1),s=new Ar(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Ar(10).pow(hJ(e)-1),s=new Ar(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Ar(Math.floor(e)))}else e===0?s=new Ar(Math.floor((t-1)/2)):r||(s=new Ar(Math.floor(e)));var o=Math.floor((t-1)/2),c=MBe(RBe(d=>s.add(new Ar(d-o).mul(n)).toNumber()),sR);return c(0,t)},xJ=function(t,r,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ar(0),tickMin:new Ar(0),tickMax:new Ar(0)};var o=gJ(new Ar(r).sub(t).div(n-1),s,i),c;t<=0&&r>=0?c=new Ar(0):(c=new Ar(t).add(r).div(2),c=c.sub(new Ar(c).mod(o)));var d=Math.ceil(c.sub(t).div(o).toNumber()),u=Math.ceil(new Ar(r).sub(c).div(o).toNumber()),l=d+u+1;return l>n?xJ(t,r,n,s,i+1):(l<n&&(u=r>0?u+(n-l):u,d=r>0?d:d+(n-l)),{step:o,tickMin:c.sub(new Ar(d).mul(o)),tickMax:c.add(new Ar(u).mul(o))})};function IBe(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[o,c]=pJ([t,r]);if(o===-1/0||c===1/0){var d=c===1/0?[o,...sR(0,n-1).map(()=>1/0)]:[...sR(0,n-1).map(()=>-1/0),c];return t>r?aR(d):d}if(o===c)return OBe(o,n,s);var{step:u,tickMin:l,tickMax:f}=xJ(o,c,i,s,0),p=mJ(l,f.add(new Ar(.1).mul(u)),u);return t>r?aR(p):p}function LBe(e,t){var[r,n]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=pJ([r,n]);if(i===-1/0||o===1/0)return[r,n];if(i===o)return[i];var c=Math.max(t,2),d=gJ(new Ar(o).sub(i).div(c-1),s,0),u=[...mJ(new Ar(i),new Ar(o),d),o];return s===!1&&(u=u.map(l=>Math.round(l))),r>n?aR(u):u}var BBe=fJ(IBe),$Be=fJ(LBe),vJ=e=>e.rootProps.maxBarSize,FBe=e=>e.rootProps.barGap,yJ=e=>e.rootProps.barCategoryGap,HBe=e=>e.rootProps.barSize,X0=e=>e.rootProps.stackOffset,SI=e=>e.options.chartName,CI=e=>e.rootProps.syncId,bJ=e=>e.rootProps.syncMethod,jI=e=>e.options.eventEmitter,Ql={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Xa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},HE=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},zBe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ql.angleAxisId,includeHidden:!1,name:void 0,reversed:Ql.reversed,scale:Ql.scale,tick:Ql.tick,tickCount:void 0,ticks:void 0,type:Ql.type,unit:void 0},UBe={allowDataOverflow:Xa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Xa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xa.scale,tick:Xa.tick,tickCount:Xa.tickCount,ticks:void 0,type:Xa.type,unit:void 0},VBe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ql.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ql.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ql.scale,tick:Ql.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},WBe={allowDataOverflow:Xa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Xa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xa.scale,tick:Xa.tick,tickCount:Xa.tickCount,ticks:void 0,type:"category",unit:void 0},EI=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?VBe:zBe,NI=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?WBe:UBe,zE=e=>e.polarOptions,_I=xe([Dc,Rc,ls],tQ),wJ=xe([zE,_I],(e,t)=>{if(e!=null)return ca(e.innerRadius,t,0)}),SJ=xe([zE,_I],(e,t)=>{if(e!=null)return ca(e.outerRadius,t,t*.8)}),qBe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},CJ=xe([zE],qBe);xe([EI,CJ],HE);var jJ=xe([_I,wJ,SJ],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});xe([NI,jJ],HE);var EJ=xe([fr,zE,wJ,SJ,Dc,Rc],(e,t,r,n,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:c,startAngle:d,endAngle:u}=t;return{cx:ca(o,s,s/2),cy:ca(c,i,i/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:u,clockWise:!1}}}),on=(e,t)=>t,Q0=(e,t,r)=>r;function AI(e){return e?.id}var ds=e=>{var t=fr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},og=e=>e.tooltip.settings.axisId,us=e=>{var t=ds(e),r=og(e);return J0(e,t,r)};function NJ(e,t,r){var{chartData:n=[]}=t,s=r?.dataKey,i=new Map;return e.forEach(o=>{var c,d=(c=o.data)!==null&&c!==void 0?c:n;if(!(d==null||d.length===0)){var u=AI(o);d.forEach((l,f)=>{var p=s==null?f:String(Qr(l,s,null)),g=Qr(l,o.dataKey,0),x;i.has(p)?x=i.get(p):x={},Object.assign(x,{[u]:g}),i.set(p,x)})}}),Array.from(i.values())}function UE(e){return e.stackId!=null&&e.dataKey!=null}function ZU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function KC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZU(Object(r),!0).forEach(function(n){GBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GBe(e,t,r){return(t=YBe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YBe(e){var t=KBe(e,"string");return typeof t=="symbol"?t:t+""}function KBe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iR=[0,"auto"],Ya={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Oc=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??Ya},Ka={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:iR,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:kE},ou=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??Ka},ZBe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},kI=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??ZBe},Bn=(e,t,r)=>{switch(t){case"xAxis":return Oc(e,r);case"yAxis":return ou(e,r);case"zAxis":return kI(e,r);case"angleAxis":return EI(e,r);case"radiusAxis":return NI(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},XBe=(e,t,r)=>{switch(t){case"xAxis":return Oc(e,r);case"yAxis":return ou(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},J0=(e,t,r)=>{switch(t){case"xAxis":return Oc(e,r);case"yAxis":return ou(e,r);case"angleAxis":return EI(e,r);case"radiusAxis":return NI(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},_J=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function TI(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var PI=e=>e.graphicalItems.cartesianItems,QBe=xe([on,Q0],TI),DI=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),ey=xe([PI,Bn,QBe],DI),AJ=xe([ey],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(UE)),kJ=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),TJ=xe([ey],kJ),RI=e=>e.map(t=>t.data).filter(Boolean).flat(1),JBe=xe([ey],RI),MI=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},OI=xe([JBe,yI],MI),II=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:Qr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:Qr(s,n)}))):e.map(n=>({value:n})),VE=xe([OI,Bn,ey],II);function PJ(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function rh(e){return e.filter(t=>ll(t)||t instanceof Date).map(Number).filter(t=>fi(t)===!1)}function e$e(e,t,r){return!r||typeof t!="number"||fi(t)?[]:r.length?rh(r.flatMap(n=>{var s=Qr(e,n.dataKey),i,o;if(Array.isArray(s)?[i,o]=s:i=o=s,!(!mi(i)||!mi(o)))return[t-i,t+o]})):[]}var t$e=xe([AJ,yI,us],NJ),DJ=(e,t,r)=>{var n={},s=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),n);return Object.fromEntries(Object.entries(s).map(i=>{var[o,c]=i,d=c.map(AI);return[o,{stackedData:l4e(e,d,r),graphicalItems:c}]}))},oR=xe([t$e,AJ,X0],DJ),RJ=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:s}=t;if(r!=="zAxis"){var i=h4e(e,n,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},r$e=xe([oR,iu,on],RJ),MJ=(e,t,r,n,s)=>r.length>0?e.flatMap(i=>r.flatMap(o=>{var c,d,u=(c=n[o.id])===null||c===void 0?void 0:c.filter(f=>PJ(s,f)),l=Qr(i,(d=t.dataKey)!==null&&d!==void 0?d:o.dataKey);return{value:l,errorDomain:e$e(i,l,u)}})).filter(Boolean):t?.dataKey!=null?e.map(i=>({value:Qr(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),WE=e=>e.errorBars,OJ=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>PJ(r,n));xe([TJ,WE,on],OJ);var n$e=xe([OI,Bn,TJ,WE,on],MJ);function s$e(e){var{value:t}=e;if(ll(t)||t instanceof Date)return t}var XU=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=rh(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},a$e=(e,t,r)=>{var n=e.map(s$e).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&mX(n))?EQ(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},LI=e=>{var t;if(e==null||!("domain"in e))return iR;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=rh(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:iR},ZC=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var i=s.flat(),o=Math.min(...i),c=Math.max(...i);return[o,c]}},IJ=e=>e.referenceElements.dots,lg=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),i$e=xe([IJ,on,Q0],lg),LJ=e=>e.referenceElements.areas,o$e=xe([LJ,on,Q0],lg),BJ=e=>e.referenceElements.lines,l$e=xe([BJ,on,Q0],lg),$J=(e,t)=>{var r=rh(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},c$e=xe(i$e,on,$J),FJ=(e,t)=>{var r=rh(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},d$e=xe([o$e,on],FJ),HJ=(e,t)=>{var r=rh(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},u$e=xe(l$e,on,HJ),f$e=xe(c$e,u$e,d$e,(e,t,r)=>ZC(e,r,t)),zJ=xe([Bn],LI),BI=(e,t,r,n,s,i,o)=>{var c=_Be(t,e.allowDataOverflow);if(c!=null)return c;var d=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",u=d?ZC(r,s,XU(n)):ZC(s,XU(n));return ABe(t,u,e.allowDataOverflow)},h$e=xe([Bn,zJ,r$e,n$e,f$e,fr,on],BI),m$e=[0,1],$I=(e,t,r,n,s,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:c,type:d}=e,u=Jf(t,i);return u&&c==null?EQ(0,r.length):d==="category"?a$e(n,e,u):s==="expand"?m$e:o}},FI=xe([Bn,fr,OI,VE,X0,on,h$e],$I),UJ=(e,t,r,n,s)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var c="scale".concat(V0(i));return c in sv?c:"point"}}},cg=xe([Bn,fr,_J,SI,on],UJ);function p$e(e){if(e!=null){if(e in sv)return sv[e]();var t="scale".concat(V0(e));if(t in sv)return sv[t]()}}function HI(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=p$e(t);if(s!=null){var i=s.domain(r).range(n);return n4e(i),i}}}var zI=(e,t,r)=>{var n=LI(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&vp(e))return BBe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&vp(e))return $Be(e,t.tickCount,t.allowDecimals)}},UI=xe([FI,J0,cg],zI),VI=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&vp(t)&&Array.isArray(r)&&r.length>0){var s=t[0],i=r[0],o=t[1],c=r[r.length-1];return[Math.min(s,i),Math.max(o,c)]}return t},g$e=xe([Bn,FI,UI,on],VI),x$e=xe(VE,Bn,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(rh(e.map(c=>c.value))).sort((c,d)=>c-d);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/s}}),VJ=xe(x$e,fr,yJ,ls,(e,t,r,n)=>n,(e,t,r,n,s)=>{if(!mi(e))return 0;var i=t==="vertical"?n.height:n.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var o=ca(r,e*i),c=e*i/2;return c-o-(c-o)/i*o}return 0}),v$e=(e,t)=>{var r=Oc(e,t);return r==null||typeof r.padding!="string"?0:VJ(e,"xAxis",t,r.padding)},y$e=(e,t)=>{var r=ou(e,t);return r==null||typeof r.padding!="string"?0:VJ(e,"yAxis",t,r.padding)},b$e=xe(Oc,v$e,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),w$e=xe(ou,y$e,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),S$e=xe([ls,b$e,PE,TE,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:i}=n;return s?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),C$e=xe([ls,fr,w$e,PE,TE,(e,t,r)=>r],(e,t,r,n,s,i)=>{var{padding:o}=s;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),ty=(e,t,r,n)=>{var s;switch(t){case"xAxis":return S$e(e,r,n);case"yAxis":return C$e(e,r,n);case"zAxis":return(s=kI(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return CJ(e);case"radiusAxis":return jJ(e,r);default:return}},WJ=xe([Bn,ty],HE),dg=xe([Bn,cg,g$e,WJ],HI);xe([ey,WE,on],OJ);function qJ(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var qE=(e,t)=>t,GE=(e,t,r)=>r,j$e=xe(BO,qE,GE,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(qJ)),E$e=xe($O,qE,GE,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(qJ)),GJ=(e,t)=>({width:e.width,height:t.height}),N$e=(e,t)=>{var r=typeof t.width=="number"?t.width:kE;return{width:r,height:e.height}},YJ=xe(ls,Oc,GJ),_$e=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},A$e=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},k$e=xe(Rc,ls,j$e,qE,GE,(e,t,r,n,s)=>{var i={},o;return r.forEach(c=>{var d=GJ(t,c);o==null&&(o=_$e(t,n,e));var u=n==="top"&&!s||n==="bottom"&&s;i[c.id]=o-Number(u)*d.height,o+=(u?-1:1)*d.height}),i}),T$e=xe(Dc,ls,E$e,qE,GE,(e,t,r,n,s)=>{var i={},o;return r.forEach(c=>{var d=N$e(t,c);o==null&&(o=A$e(t,n,e));var u=n==="left"&&!s||n==="right"&&s;i[c.id]=o-Number(u)*d.width,o+=(u?-1:1)*d.width}),i}),P$e=(e,t)=>{var r=ls(e),n=Oc(e,t);if(n!=null){var s=k$e(e,n.orientation,n.mirror),i=s[t];return i==null?{x:r.left,y:0}:{x:r.left,y:i}}},D$e=(e,t)=>{var r=ls(e),n=ou(e,t);if(n!=null){var s=T$e(e,n.orientation,n.mirror),i=s[t];return i==null?{x:0,y:r.top}:{x:i,y:r.top}}},KJ=xe(ls,ou,(e,t)=>{var r=typeof t.width=="number"?t.width:kE;return{width:r,height:e.height}}),QU=(e,t,r)=>{switch(t){case"xAxis":return YJ(e,r).width;case"yAxis":return KJ(e,r).height;default:return}},ZJ=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:i,dataKey:o}=r,c=Jf(e,n),d=t.map(u=>u.value);if(o&&c&&i==="category"&&s&&mX(d))return d}},WI=xe([fr,VE,Bn,on],ZJ),XJ=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:i}=r,o=Jf(e,n);if(o&&(s==="number"||i!=="auto"))return t.map(c=>c.value)}},qI=xe([fr,VE,J0,on],XJ),JU=xe([fr,XBe,cg,dg,WI,qI,ty,UI,on],(e,t,r,n,s,i,o,c,d)=>{if(t==null)return null;var u=Jf(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:i,duplicateDomain:s,isCategorical:u,niceTicks:c,range:o,realScaleType:r,scale:n}}),R$e=(e,t,r,n,s,i,o,c,d)=>{if(!(t==null||n==null)){var u=Jf(e,d),{type:l,ticks:f,tickCount:p}=t,g=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,x=l==="category"&&n.bandwidth?n.bandwidth()/g:0;x=d==="angleAxis"&&i!=null&&i.length>=2?bs(i[0]-i[1])*2*x:x;var S=f||s;if(S){var m=S.map((y,w)=>{var C=o?o.indexOf(y):y;return{index:w,coordinate:n(C)+x,value:y,offset:x}});return m.filter(y=>!fi(y.coordinate))}return u&&c?c.map((y,w)=>({coordinate:n(y)+x,value:y,index:w,offset:x})):n.ticks?n.ticks(p).map(y=>({coordinate:n(y)+x,value:y,offset:x})):n.domain().map((y,w)=>({coordinate:n(y)+x,value:o?o[y]:y,index:w,offset:x}))}},QJ=xe([fr,J0,cg,dg,UI,ty,WI,qI,on],R$e),M$e=(e,t,r,n,s,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var c=Jf(e,o),{tickCount:d}=t,u=0;return u=o==="angleAxis"&&n?.length>=2?bs(n[0]-n[1])*2*u:u,c&&i?i.map((l,f)=>({coordinate:r(l)+u,value:l,index:f,offset:u})):r.ticks?r.ticks(d).map(l=>({coordinate:r(l)+u,value:l,offset:u})):r.domain().map((l,f)=>({coordinate:r(l)+u,value:s?s[l]:l,index:f,offset:u}))}},yp=xe([fr,J0,dg,ty,WI,qI,on],M$e),bp=xe(Bn,dg,(e,t)=>{if(!(e==null||t==null))return KC(KC({},e),{},{scale:t})}),O$e=xe([Bn,cg,FI,WJ],HI);xe((e,t,r)=>kI(e,r),O$e,(e,t)=>{if(!(e==null||t==null))return KC(KC({},e),{},{scale:t})});var I$e=xe([fr,BO,$O],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),JJ=e=>e.options.defaultTooltipEventType,eee=e=>e.options.validateTooltipEventTypes;function tee(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function GI(e,t){var r=JJ(e),n=eee(e);return tee(t,r,n)}function L$e(e){return mt(t=>GI(t,e))}var ree=(e,t)=>{var r,n=Number(t);if(!(fi(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},B$e=e=>e.tooltip.settings,Ad={active:!1,index:null,dataKey:void 0,coordinate:void 0},$$e={itemInteraction:{click:Ad,hover:Ad},axisInteraction:{click:Ad,hover:Ad},keyboardInteraction:Ad,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},nee=nr({name:"tooltip",initialState:$$e,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=ic(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:F$e,removeTooltipEntrySettings:H$e,setTooltipSettingsState:z$e,setActiveMouseOverItemIndex:see,mouseLeaveItem:U$e,mouseLeaveChart:aee,setActiveClickItemIndex:V$e,setMouseOverAxisIndex:iee,setMouseClickAxisIndex:W$e,setSyncInteraction:lR,setKeyboardInteraction:cR}=nee.actions,q$e=nee.reducer;function e9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e9(Object(r),!0).forEach(function(n){G$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G$e(e,t,r){return(t=Y$e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y$e(e){var t=K$e(e,"string");return typeof t=="symbol"?t:t+""}function K$e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z$e(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function X$e(e){return e.index!=null}var oee=(e,t,r,n)=>{if(t==null)return Ad;var s=Z$e(e,t,r);if(s==null)return Ad;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(X$e(s)){if(i)return kw(kw({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return kw(kw({},Ad),{},{coordinate:s.coordinate})},YI=(e,t)=>{var r=e?.index;if(r==null)return null;var n=Number(r);if(!mi(n))return r;var s=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(s,Math.min(n,i)))},lee=(e,t,r,n,s,i,o,c)=>{if(!(i==null||c==null)){var d=o[0],u=d==null?void 0:c(d.positions,i);if(u!=null)return u;var l=s?.[Number(i)];if(l)switch(r){case"horizontal":return{x:l.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:l.coordinate}}}},cee=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===s})},ry=e=>e.options.tooltipPayloadSearcher,ug=e=>e.tooltip;function t9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function r9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t9(Object(r),!0).forEach(function(n){Q$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q$e(e,t,r){return(t=J$e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J$e(e){var t=e6e(e,"string");return typeof t=="symbol"?t:t+""}function e6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t6e(e,t){return e??t}var dee=(e,t,r,n,s,i,o)=>{if(!(t==null||i==null)){var{chartData:c,computedData:d,dataStartIndex:u,dataEndIndex:l}=r,f=[];return e.reduce((p,g)=>{var x,{dataDefinedOnItem:S,settings:m}=g,y=t6e(S,c),w=Array.isArray(y)?rQ(y,u,l):y,C=(x=m?.dataKey)!==null&&x!==void 0?x:n?.dataKey,E=m?.nameKey,N;if(n!=null&&n.dataKey&&Array.isArray(w)&&!Array.isArray(w[0])&&o==="axis"?N=qMe(w,n.dataKey,s):N=i(w,t,d,E),Array.isArray(N))N.forEach(A=>{var T=r9(r9({},m),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});p.push(Iz({tooltipEntrySettings:T,dataKey:A.dataKey,payload:A.payload,value:Qr(A.payload,A.dataKey),name:A.name}))});else{var k;p.push(Iz({tooltipEntrySettings:m,dataKey:C,payload:N,value:Qr(N,C),name:(k=Qr(N,E))!==null&&k!==void 0?k:m?.name}))}return p},f)}},KI=xe([us,fr,_J,SI,ds],UJ),r6e=xe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),n6e=xe([ds,og],TI),ny=xe([r6e,us,n6e],DI),s6e=xe([ny],e=>e.filter(UE)),a6e=xe([ny],RI),fg=xe([a6e,iu],MI),i6e=xe([s6e,iu,us],NJ),ZI=xe([fg,us,ny],II),o6e=xe([us],LI),l6e=xe([ny],e=>e.filter(UE)),c6e=xe([i6e,l6e,X0],DJ),d6e=xe([c6e,iu,ds],RJ),u6e=xe([ny],kJ),f6e=xe([fg,us,u6e,WE,ds],MJ),h6e=xe([IJ,ds,og],lg),m6e=xe([h6e,ds],$J),p6e=xe([LJ,ds,og],lg),g6e=xe([p6e,ds],FJ),x6e=xe([BJ,ds,og],lg),v6e=xe([x6e,ds],HJ),y6e=xe([m6e,v6e,g6e],ZC),b6e=xe([us,o6e,d6e,f6e,y6e,fr,ds],BI),uee=xe([us,fr,fg,ZI,X0,ds,b6e],$I),w6e=xe([uee,us,KI],zI),S6e=xe([us,uee,w6e,ds],VI),fee=e=>{var t=ds(e),r=og(e),n=!1;return ty(e,t,r,n)},hee=xe([us,fee],HE),mee=xe([us,KI,S6e,hee],HI),C6e=xe([fr,ZI,us,ds],ZJ),j6e=xe([fr,ZI,us,ds],XJ),E6e=(e,t,r,n,s,i,o,c)=>{if(t){var{type:d}=t,u=Jf(e,c);if(n){var l=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=d==="category"&&n.bandwidth?n.bandwidth()/l:0;return f=c==="angleAxis"&&s!=null&&s?.length>=2?bs(s[0]-s[1])*2*f:f,u&&o?o.map((p,g)=>({coordinate:n(p)+f,value:p,index:g,offset:f})):n.domain().map((p,g)=>({coordinate:n(p)+f,value:i?i[p]:p,index:g,offset:f}))}}},Ic=xe([fr,us,KI,mee,fee,C6e,j6e,ds],E6e),XI=xe([JJ,eee,B$e],(e,t,r)=>tee(r.shared,e,t)),pee=e=>e.tooltip.settings.trigger,QI=e=>e.tooltip.settings.defaultIndex,YE=xe([ug,XI,pee,QI],oee),Of=xe([YE,fg],YI),gee=xe([Ic,Of],ree),xee=xe([YE],e=>{if(e)return e.dataKey}),vee=xe([ug,XI,pee,QI],cee),N6e=xe([Dc,Rc,fr,ls,Ic,QI,vee,ry],lee),_6e=xe([YE,N6e],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),A6e=xe([YE],e=>e.active),k6e=xe([vee,Of,iu,us,gee,ry,XI],dee);xe([k6e],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function n9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function s9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n9(Object(r),!0).forEach(function(n){T6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T6e(e,t,r){return(t=P6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P6e(e){var t=D6e(e,"string");return typeof t=="symbol"?t:t+""}function D6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R6e=()=>mt(us),M6e=()=>{var e=R6e(),t=mt(Ic),r=mt(mee);return LO(s9(s9({},e),{},{scale:r}),t)},O6e=()=>mt(SI),JI=(e,t)=>t,yee=(e,t,r)=>r,e4=(e,t,r,n)=>n,I6e=xe(Ic,e=>_E(e,t=>t.coordinate)),t4=xe([ug,JI,yee,e4],oee),bee=xe([t4,fg],YI),L6e=(e,t,r)=>{if(t!=null){var n=ug(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},wee=xe([ug,JI,yee,e4],cee),XC=xe([Dc,Rc,fr,ls,Ic,e4,wee,ry],lee),B6e=xe([t4,XC],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),See=xe(Ic,bee,ree),$6e=xe([wee,bee,iu,us,See,ry,JI],dee),F6e=xe([t4],e=>({isActive:e.active,activeIndex:e.index})),H6e=(e,t,r,n,s,i,o,c)=>{if(!(!e||!t||!n||!s||!i)){var d=m4e(e.chartX,e.chartY,t,r,c);if(d){var u=g4e(d,t),l=t4e(u,o,i,n,s),f=p4e(t,i,l,d);return{activeIndex:String(l),activeCoordinate:f}}}};function dR(){return dR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dR.apply(null,arguments)}function a9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Tw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a9(Object(r),!0).forEach(function(n){z6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z6e(e,t,r){return(t=U6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U6e(e){var t=V6e(e,"string");return typeof t=="symbol"?t:t+""}function V6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W6e(e){var{coordinate:t,payload:r,index:n,offset:s,tooltipAxisBandSize:i,layout:o,cursor:c,tooltipEventType:d,chartName:u}=e,l=t,f=r,p=n;if(!c||!l||u!=="ScatterChart"&&d!=="axis")return null;var g,x;if(u==="ScatterChart")g=l,x=h3e;else if(u==="BarChart")g=m3e(o,l,s,i),x=wQ;else if(o==="radial"){var{cx:S,cy:m,radius:y,startAngle:w,endAngle:C}=SQ(l);g={cx:S,cy:m,startAngle:w,endAngle:C,innerRadius:y,outerRadius:y},x=jQ}else g={points:Q3e(o,l,s)},x=mQ;var E=typeof c=="object"&&"className"in c?c.className:void 0,N=Tw(Tw(Tw(Tw({stroke:"#ccc",pointerEvents:"none"},s),g),Wn(c,!1)),{},{payload:f,payloadIndex:p,className:ft("recharts-tooltip-cursor",E)});return b.isValidElement(c)?b.cloneElement(c,N):b.createElement(x,N)}function q6e(e){var t=M6e(),r=cQ(),n=UO(),s=O6e();return b.createElement(W6e,dR({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var Cee=b.createContext(null),G6e=()=>b.useContext(Cee),FT={exports:{}},i9;function Y6e(){return i9||(i9=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(d,u,l){this.fn=d,this.context=u,this.once=l||!1}function i(d,u,l,f,p){if(typeof l!="function")throw new TypeError("The listener must be a function");var g=new s(l,f||d,p),x=r?r+u:u;return d._events[x]?d._events[x].fn?d._events[x]=[d._events[x],g]:d._events[x].push(g):(d._events[x]=g,d._eventsCount++),d}function o(d,u){--d._eventsCount===0?d._events=new n:delete d._events[u]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var u=[],l,f;if(this._eventsCount===0)return u;for(f in l=this._events)t.call(l,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},c.prototype.listeners=function(u){var l=r?r+u:u,f=this._events[l];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,g=f.length,x=new Array(g);p<g;p++)x[p]=f[p].fn;return x},c.prototype.listenerCount=function(u){var l=r?r+u:u,f=this._events[l];return f?f.fn?1:f.length:0},c.prototype.emit=function(u,l,f,p,g,x){var S=r?r+u:u;if(!this._events[S])return!1;var m=this._events[S],y=arguments.length,w,C;if(m.fn){switch(m.once&&this.removeListener(u,m.fn,void 0,!0),y){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,l),!0;case 3:return m.fn.call(m.context,l,f),!0;case 4:return m.fn.call(m.context,l,f,p),!0;case 5:return m.fn.call(m.context,l,f,p,g),!0;case 6:return m.fn.call(m.context,l,f,p,g,x),!0}for(C=1,w=new Array(y-1);C<y;C++)w[C-1]=arguments[C];m.fn.apply(m.context,w)}else{var E=m.length,N;for(C=0;C<E;C++)switch(m[C].once&&this.removeListener(u,m[C].fn,void 0,!0),y){case 1:m[C].fn.call(m[C].context);break;case 2:m[C].fn.call(m[C].context,l);break;case 3:m[C].fn.call(m[C].context,l,f);break;case 4:m[C].fn.call(m[C].context,l,f,p);break;default:if(!w)for(N=1,w=new Array(y-1);N<y;N++)w[N-1]=arguments[N];m[C].fn.apply(m[C].context,w)}}return!0},c.prototype.on=function(u,l,f){return i(this,u,l,f,!1)},c.prototype.once=function(u,l,f){return i(this,u,l,f,!0)},c.prototype.removeListener=function(u,l,f,p){var g=r?r+u:u;if(!this._events[g])return this;if(!l)return o(this,g),this;var x=this._events[g];if(x.fn)x.fn===l&&(!p||x.once)&&(!f||x.context===f)&&o(this,g);else{for(var S=0,m=[],y=x.length;S<y;S++)(x[S].fn!==l||p&&!x[S].once||f&&x[S].context!==f)&&m.push(x[S]);m.length?this._events[g]=m.length===1?m[0]:m:o(this,g)}return this},c.prototype.removeAllListeners=function(u){var l;return u?(l=r?r+u:u,this._events[l]&&o(this,l)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c}(FT)),FT.exports}var K6e=Y6e();const Z6e=xi(K6e);var Kv=new Z6e,uR="recharts.syncEvent.tooltip",o9="recharts.syncEvent.brush";function jee(e,t){if(t){var r=Number.parseInt(t,10);if(!fi(r))return e?.[r]}}var X6e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Eee=nr({name:"options",initialState:X6e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Q6e=Eee.reducer,{createEventEmitter:J6e}=Eee.actions;function eFe(e){return e.tooltip.syncInteraction}var tFe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Nee=nr({name:"chartData",initialState:tFe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:l9,setDataStartEndIndexes:rFe,setComputedData:pxt}=Nee.actions,nFe=Nee.reducer,_ee=()=>{};function sFe(){var e=mt(CI),t=mt(jI),r=vn(),n=mt(bJ),s=mt(Ic),i=UO(),o=FO(),c=mt(d=>d.rootProps.className);b.useEffect(()=>{if(e==null)return _ee;var d=(u,l,f)=>{if(t!==f&&e===u){if(n==="index"){r(l);return}if(s!=null){var p;if(typeof n=="function"){var g={activeTooltipIndex:l.payload.index==null?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:l.payload.index==null?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},x=n(s,g);p=s[x]}else n==="value"&&(p=s.find(k=>String(k.value)===l.payload.label));var{coordinate:S}=l.payload;if(p==null||l.payload.active===!1||S==null||o==null){r(lR({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:m,y}=S,w=Math.min(m,o.x+o.width),C=Math.min(y,o.y+o.height),E={x:i==="horizontal"?p.coordinate:w,y:i==="horizontal"?C:p.coordinate},N=lR({active:l.payload.active,coordinate:E,dataKey:l.payload.dataKey,index:String(p.index),label:l.payload.label});r(N)}}};return Kv.on(uR,d),()=>{Kv.off(uR,d)}},[c,r,t,e,n,s,i,o])}function aFe(){var e=mt(CI),t=mt(jI),r=vn();b.useEffect(()=>{if(e==null)return _ee;var n=(s,i,o)=>{t!==o&&e===s&&r(rFe(i))};return Kv.on(o9,n),()=>{Kv.off(o9,n)}},[r,t,e])}function iFe(){var e=vn();b.useEffect(()=>{e(J6e())},[e]),sFe(),aFe()}function oFe(e,t,r,n,s,i){var o=mt(p=>L6e(p,e,t)),c=mt(jI),d=mt(CI),u=mt(bJ),l=mt(eFe),f=l?.active;b.useEffect(()=>{if(!f&&d!=null&&c!=null){var p=lR({active:i,coordinate:r,dataKey:o,index:s,label:typeof n=="number"?String(n):n});Kv.emit(uR,d,p,c)}},[f,r,o,s,n,c,d,u,i])}function c9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function d9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c9(Object(r),!0).forEach(function(n){lFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lFe(e,t,r){return(t=cFe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cFe(e){var t=dFe(e,"string");return typeof t=="symbol"?t:t+""}function dFe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uFe(e){return e.dataKey}function fFe(e,t){return b.isValidElement(e)?b.cloneElement(e,t):typeof e=="function"?b.createElement(e,t):b.createElement(W4e,t)}var u9=[],hFe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ng.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function r4(e){var t=ko(e,hFe),{active:r,allowEscapeViewBox:n,animationDuration:s,animationEasing:i,content:o,filterNull:c,isAnimationActive:d,offset:u,payloadUniqBy:l,position:f,reverseDirection:p,useTranslate3d:g,wrapperStyle:x,cursor:S,shared:m,trigger:y,defaultIndex:w,portal:C,axisId:E}=t,N=vn(),k=typeof w=="number"?String(w):w;b.useEffect(()=>{N(z$e({shared:m,trigger:y,axisId:E,active:r,defaultIndex:k}))},[N,m,y,E,r,k]);var A=FO(),T=hQ(),P=L$e(m),{activeIndex:M,isActive:O}=mt(re=>F6e(re,P,y,k)),R=mt(re=>$6e(re,P,y,k)),L=mt(re=>See(re,P,y,k)),B=mt(re=>B6e(re,P,y,k)),F=R,$=G6e(),z=r??O,[W,Z]=JX([F,z]),V=P==="axis"?L:void 0;oFe(P,y,B,V,M,z);var q=C??$;if(q==null)return null;var H=F??u9;z||(H=u9),c&&H.length&&(H=GX(F.filter(re=>re.value!=null&&(re.hide!==!0||t.includeHidden)),l,uFe));var K=H.length>0,Y=b.createElement(Q4e,{allowEscapeViewBox:n,animationDuration:s,animationEasing:i,isAnimationActive:d,active:z,coordinate:B,hasPayload:K,offset:u,position:f,reverseDirection:p,useTranslate3d:g,viewBox:A,wrapperStyle:x,lastBoundingBox:W,innerRef:Z,hasPortalFromProps:!!C},fFe(o,d9(d9({},t),{},{payload:H,label:V,active:z,coordinate:B,accessibilityLayer:T})));return b.createElement(b.Fragment,null,Qd.createPortal(Y,q),z&&b.createElement(q6e,{cursor:S,tooltipEventType:P,coordinate:B,payload:F,index:M}))}var HT={},zT={},UT={},f9;function mFe(){return f9||(f9=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:i}={}){let o,c=null;const d=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),l=()=>{c!==null&&(r.apply(o,c),o=void 0,c=null)},f=()=>{u&&l(),S()};let p=null;const g=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},n)},x=()=>{p!==null&&(clearTimeout(p),p=null)},S=()=>{x(),o=void 0,c=null},m=()=>{l()},y=function(...w){if(s?.aborted)return;o=this,c=w;const C=p==null;g(),d&&C&&l()};return y.schedule=g,y.cancel=S,y.flush=m,s?.addEventListener("abort",S,{once:!0}),y}e.debounce=t}(UT)),UT}var h9;function pFe(){return h9||(h9=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mFe();function r(n,s=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:c=!0,maxWait:d}=i,u=Array(2);o&&(u[0]="leading"),c&&(u[1]="trailing");let l,f=null;const p=t.debounce(function(...S){l=n.apply(this,S),f=null},s,{edges:u}),g=function(...S){return d!=null&&(f===null&&(f=Date.now()),Date.now()-f>=d)?(l=n.apply(this,S),f=Date.now(),p.cancel(),p.schedule(),l):(p.apply(this,S),l)},x=()=>(p.flush(),l);return g.cancel=p.cancel,g.flush=x,g}e.debounce=r}(zT)),zT}var m9;function gFe(){return m9||(m9=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pFe();function r(n,s=0,i={}){const{leading:o=!0,trailing:c=!0}=i;return t.debounce(n,s,{leading:o,maxWait:s,trailing:c})}e.throttle=r}(HT)),HT}var VT,p9;function xFe(){return p9||(p9=1,VT=gFe().throttle),VT}var vFe=xFe();const yFe=xi(vFe);var Cv=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function g9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function WT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g9(Object(r),!0).forEach(function(n){bFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bFe(e,t,r){return(t=wFe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wFe(e){var t=SFe(e,"string");return typeof t=="symbol"?t:t+""}function SFe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n4=b.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s="100%",height:i="100%",minWidth:o=0,minHeight:c,maxHeight:d,children:u,debounce:l=0,id:f,className:p,onResize:g,style:x={}}=e,S=b.useRef(null),m=b.useRef();m.current=g,b.useImperativeHandle(t,()=>S.current);var[y,w]=b.useState({containerWidth:n.width,containerHeight:n.height}),C=b.useCallback((N,k)=>{w(A=>{var T=Math.round(N),P=Math.round(k);return A.containerWidth===T&&A.containerHeight===P?A:{containerWidth:T,containerHeight:P}})},[]);b.useEffect(()=>{var N=P=>{var M,{width:O,height:R}=P[0].contentRect;C(O,R),(M=m.current)===null||M===void 0||M.call(m,O,R)};l>0&&(N=yFe(N,l,{trailing:!0,leading:!1}));var k=new ResizeObserver(N),{width:A,height:T}=S.current.getBoundingClientRect();return C(A,T),k.observe(S.current),()=>{k.disconnect()}},[C,l]);var E=b.useMemo(()=>{var{containerWidth:N,containerHeight:k}=y;if(N<0||k<0)return null;Cv(Ju(s)||Ju(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,i),Cv(!r||r>0,"The aspect(%s) must be greater than zero.",r);var A=Ju(s)?N:s,T=Ju(i)?k:i;return r&&r>0&&(A?T=A/r:T&&(A=T*r),d&&T>d&&(T=d)),Cv(A>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,A,T,s,i,o,c,r),b.Children.map(u,P=>b.cloneElement(P,{width:A,height:T,style:WT({width:A,height:T},P.props.style)}))},[r,u,i,d,c,o,y,s]);return b.createElement("div",{id:f?"".concat(f):void 0,className:ft("recharts-responsive-container",p),style:WT(WT({},x),{},{width:s,height:i,minWidth:o,minHeight:c,maxHeight:d}),ref:S},b.createElement("div",{style:{width:0,height:0,overflow:"visible"}},E))}),sy=e=>null;sy.displayName="Cell";function CFe(e,t,r){return(t=jFe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jFe(e){var t=EFe(e,"string");return typeof t=="symbol"?t:t+""}function EFe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class NFe{constructor(t){CFe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function x9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _Fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x9(Object(r),!0).forEach(function(n){AFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AFe(e,t,r){return(t=kFe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kFe(e){var t=TFe(e,"string");return typeof t=="symbol"?t:t+""}function TFe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PFe={cacheSize:2e3,enableCache:!0},Aee=_Fe({},PFe),v9=new NFe(Aee.cacheSize),DFe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},y9="recharts_measurement_span";function RFe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",s=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(s,"|").concat(i,"|").concat(o,"|").concat(c)}var b9=(e,t)=>{try{var r=document.getElementById(y9);r||(r=document.createElement("span"),r.setAttribute("id",y9),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,DFe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},jv=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ng.isSsr)return{width:0,height:0};if(!Aee.enableCache)return b9(t,r);var n=RFe(t,r),s=v9.get(n);if(s)return s;var i=b9(t,r);return v9.set(n,i),i},w9=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,S9=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MFe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,OFe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,kee={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},IFe=Object.keys(kee),Bm="NaN";function LFe(e,t){return e*kee[t]}class wa{static parse(t){var r,[,n,s]=(r=OFe.exec(t))!==null&&r!==void 0?r:[];return new wa(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,fi(t)&&(this.unit=""),r!==""&&!MFe.test(r)&&(this.num=NaN,this.unit=""),IFe.includes(r)&&(this.num=LFe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new wa(NaN,""):new wa(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new wa(NaN,""):new wa(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wa(NaN,""):new wa(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wa(NaN,""):new wa(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return fi(this.num)}}function Tee(e){if(e.includes(Bm))return Bm;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,i]=(r=w9.exec(t))!==null&&r!==void 0?r:[],o=wa.parse(n??""),c=wa.parse(i??""),d=s==="*"?o.multiply(c):o.divide(c);if(d.isNaN())return Bm;t=t.replace(w9,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,l,f,p]=(u=S9.exec(t))!==null&&u!==void 0?u:[],g=wa.parse(l??""),x=wa.parse(p??""),S=f==="+"?g.add(x):g.subtract(x);if(S.isNaN())return Bm;t=t.replace(S9,S.toString())}return t}var C9=/\(([^()]*)\)/;function BFe(e){for(var t=e,r;(r=C9.exec(t))!=null;){var[,n]=r;t=t.replace(C9,Tee(n))}return t}function $Fe(e){var t=e.replace(/\s+/g,"");return t=BFe(t),t=Tee(t),t}function FFe(e){try{return $Fe(e)}catch{return Bm}}function qT(e){var t=FFe(e.slice(5,-1));return t===Bm?"":t}var HFe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],zFe=["dx","dy","angle","className","breakAll"];function fR(){return fR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fR.apply(null,arguments)}function j9(e,t){if(e==null)return{};var r,n,s=UFe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function UFe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Pee=/[ \f\n\r\t\v\u2028\u2029]+/,Dee=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];ns(t)||(r?s=t.toString().split(""):s=t.toString().split(Pee));var i=s.map(c=>({word:c,width:jv(c,n).width})),o=r?0:jv("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},VFe=(e,t,r,n,s)=>{var{maxLines:i,children:o,style:c,breakAll:d}=e,u=nt(i),l=o,f=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return O.reduce((R,L)=>{var{word:B,width:F}=L,$=R[R.length-1];if($&&(n==null||s||$.width+F+r<Number(n)))$.words.push(B),$.width+=F+r;else{var z={words:[B],width:F};R.push(z)}return R},[])},p=f(t),g=M=>M.reduce((O,R)=>O.width>R.width?O:R);if(!u||s)return p;var x=p.length>i||g(p).width>Number(n);if(!x)return p;for(var S="",m=M=>{var O=l.slice(0,M),R=Dee({breakAll:d,style:c,children:O+S}).wordsWithComputedWidth,L=f(R),B=L.length>i||g(L).width>Number(n);return[B,L]},y=0,w=l.length-1,C=0,E;y<=w&&C<=l.length-1;){var N=Math.floor((y+w)/2),k=N-1,[A,T]=m(k),[P]=m(N);if(!A&&!P&&(y=N+1),A&&P&&(w=N-1),!A&&P){E=T;break}C++}return E||p},E9=e=>{var t=ns(e)?[]:e.toString().split(Pee);return[{words:t}]},WFe=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:i,maxLines:o}=e;if((t||r)&&!ng.isSsr){var c,d,u=Dee({breakAll:i,children:n,style:s});if(u){var{wordsWithComputedWidth:l,spaceWidth:f}=u;c=l,d=f}else return E9(n);return VFe({breakAll:i,children:n,maxLines:o,style:s},c,d,t,r)}return E9(n)},N9="#808080",KE=b.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:s="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:c="start",verticalAnchor:d="end",fill:u=N9}=e,l=j9(e,HFe),f=b.useMemo(()=>WFe({breakAll:l.breakAll,children:l.children,maxLines:l.maxLines,scaleToFit:o,style:l.style,width:l.width}),[l.breakAll,l.children,l.maxLines,o,l.style,l.width]),{dx:p,dy:g,angle:x,className:S,breakAll:m}=l,y=j9(l,zFe);if(!ll(r)||!ll(n))return null;var w=r+(nt(p)?p:0),C=n+(nt(g)?g:0),E;switch(d){case"start":E=qT("calc(".concat(i,")"));break;case"middle":E=qT("calc(".concat((f.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:E=qT("calc(".concat(f.length-1," * -").concat(s,")"));break}var N=[];if(o){var k=f[0].width,{width:A}=l;N.push("scale(".concat(nt(A)?A/k:1,")"))}return x&&N.push("rotate(".concat(x,", ").concat(w,", ").concat(C,")")),N.length&&(y.transform=N.join(" ")),b.createElement("text",fR({},Wn(y,!0),{ref:t,x:w,y:C,className:ft("recharts-text",S),textAnchor:c,fill:u.includes("url")?N9:u}),f.map((T,P)=>{var M=T.words.join(m?"":" ");return b.createElement("tspan",{x:w,dy:P===0?E:s,key:"".concat(M,"-").concat(P)},M)}))});KE.displayName="Text";var qFe=["offset"],GFe=["labelRef"];function _9(e,t){if(e==null)return{};var r,n,s=YFe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function YFe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function A9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A9(Object(r),!0).forEach(function(n){KFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KFe(e,t,r){return(t=ZFe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZFe(e){var t=XFe(e,"string");return typeof t=="symbol"?t:t+""}function XFe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jl.apply(null,arguments)}var QFe=e=>{var{value:t,formatter:r}=e,n=ns(e.children)?t:e.children;return typeof r=="function"?r(n):n},s4=e=>e!=null&&typeof e=="function",JFe=(e,t)=>{var r=bs(t-e),n=Math.min(Math.abs(t-e),360);return r*n},e8e=(e,t,r,n)=>{var{position:s,offset:i,className:o}=e,{cx:c,cy:d,innerRadius:u,outerRadius:l,startAngle:f,endAngle:p,clockWise:g}=n,x=(u+l)/2,S=JFe(f,p),m=S>=0?1:-1,y,w;s==="insideStart"?(y=f+m*i,w=g):s==="insideEnd"?(y=p-m*i,w=!g):s==="end"&&(y=p+m*i,w=g),w=S<=0?w:!w;var C=qn(c,d,x,y),E=qn(c,d,x,y+(w?1:-1)*359),N="M".concat(C.x,",").concat(C.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(w?0:1,`,
    `).concat(E.x,",").concat(E.y),k=ns(e.id)?Fv("recharts-radial-line-"):e.id;return b.createElement("text",Jl({},r,{dominantBaseline:"central",className:ft("recharts-radial-bar-label",o)}),b.createElement("defs",null,b.createElement("path",{id:k,d:N})),b.createElement("textPath",{xlinkHref:"#".concat(k)},t))},t8e=(e,t,r)=>{var{cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:c,endAngle:d}=e,u=(c+d)/2;if(r==="outside"){var{x:l,y:f}=qn(n,s,o+t,u);return{x:l,y:f,textAnchor:l>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"end"};var p=(i+o)/2,{x:g,y:x}=qn(n,s,p,u);return{x:g,y:x,textAnchor:"middle",verticalAnchor:"middle"}},r8e=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,{x:i,y:o,width:c,height:d}=t,u=d>=0?1:-1,l=u*n,f=u>0?"end":"start",p=u>0?"start":"end",g=c>=0?1:-1,x=g*n,S=g>0?"end":"start",m=g>0?"start":"end";if(s==="top"){var y={x:i+c/2,y:o-u*n,textAnchor:"middle",verticalAnchor:f};return En(En({},y),r?{height:Math.max(o-r.y,0),width:c}:{})}if(s==="bottom"){var w={x:i+c/2,y:o+d+l,textAnchor:"middle",verticalAnchor:p};return En(En({},w),r?{height:Math.max(r.y+r.height-(o+d),0),width:c}:{})}if(s==="left"){var C={x:i-x,y:o+d/2,textAnchor:S,verticalAnchor:"middle"};return En(En({},C),r?{width:Math.max(C.x-r.x,0),height:d}:{})}if(s==="right"){var E={x:i+c+x,y:o+d/2,textAnchor:m,verticalAnchor:"middle"};return En(En({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:d}:{})}var N=r?{width:c,height:d}:{};return s==="insideLeft"?En({x:i+x,y:o+d/2,textAnchor:m,verticalAnchor:"middle"},N):s==="insideRight"?En({x:i+c-x,y:o+d/2,textAnchor:S,verticalAnchor:"middle"},N):s==="insideTop"?En({x:i+c/2,y:o+l,textAnchor:"middle",verticalAnchor:p},N):s==="insideBottom"?En({x:i+c/2,y:o+d-l,textAnchor:"middle",verticalAnchor:f},N):s==="insideTopLeft"?En({x:i+x,y:o+l,textAnchor:m,verticalAnchor:p},N):s==="insideTopRight"?En({x:i+c-x,y:o+l,textAnchor:S,verticalAnchor:p},N):s==="insideBottomLeft"?En({x:i+x,y:o+d-l,textAnchor:m,verticalAnchor:f},N):s==="insideBottomRight"?En({x:i+c-x,y:o+d-l,textAnchor:S,verticalAnchor:f},N):s&&typeof s=="object"&&(nt(s.x)||Ju(s.x))&&(nt(s.y)||Ju(s.y))?En({x:i+ca(s.x,c),y:o+ca(s.y,d),textAnchor:"end",verticalAnchor:"end"},N):En({x:i+c/2,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},n8e=e=>"cx"in e&&nt(e.cx);function ei(e){var{offset:t=5}=e,r=_9(e,qFe),n=En({offset:t},r),{viewBox:s,position:i,value:o,children:c,content:d,className:u="",textBreakAll:l,labelRef:f}=n,p=mt(EJ),g=FO(),x=i==="center"?g:p??g,S=s||x;if(!S||ns(o)&&ns(c)&&!b.isValidElement(d)&&typeof d!="function")return null;var m=En(En({},n),{},{viewBox:S});if(b.isValidElement(d)){var{labelRef:y}=m,w=_9(m,GFe);return b.cloneElement(d,w)}var C;if(typeof d=="function"){if(C=b.createElement(d,m),b.isValidElement(C))return C}else C=QFe(n);var E=n8e(S),N=Wn(n,!0);if(E&&(i==="insideStart"||i==="insideEnd"||i==="end"))return e8e(n,C,N,S);var k=E?t8e(S,n.offset,n.position):r8e(n,S);return b.createElement(KE,Jl({ref:f,className:ft("recharts-label",u)},N,k,{breakAll:l}),C)}ei.displayName="Label";var Ree=e=>{var{cx:t,cy:r,angle:n,startAngle:s,endAngle:i,r:o,radius:c,innerRadius:d,outerRadius:u,x:l,y:f,top:p,left:g,width:x,height:S,clockWise:m,labelViewBox:y}=e;if(y)return y;if(nt(x)&&nt(S)){if(nt(l)&&nt(f))return{x:l,y:f,width:x,height:S};if(nt(p)&&nt(g))return{x:p,y:g,width:x,height:S}}if(nt(l)&&nt(f))return{x:l,y:f,width:0,height:0};if(nt(t)&&nt(r))return{cx:t,cy:r,startAngle:s||n||0,endAngle:i||n||0,innerRadius:d||0,outerRadius:u||c||o||0,clockWise:m};if(e.viewBox)return e.viewBox},s8e=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?b.createElement(ei,Jl({key:"label-implicit"},n)):ll(e)?b.createElement(ei,Jl({key:"label-implicit",value:e},n)):b.isValidElement(e)?e.type===ei?b.cloneElement(e,En({key:"label-implicit"},n)):b.createElement(ei,Jl({key:"label-implicit",content:e},n)):s4(e)?b.createElement(ei,Jl({key:"label-implicit",content:e},n)):e&&typeof e=="object"?b.createElement(ei,Jl({},e,{key:"label-implicit"},n)):null},a8e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:s,labelRef:i}=t,o=Ree(t),c=q0(s,ei).map((u,l)=>b.cloneElement(u,{viewBox:r||o,key:"label-".concat(l)}));if(!n)return c;var d=s8e(t.label,r||o,i);return[d,...c]};ei.parseViewBox=Ree;ei.renderCallByParent=a8e;var GT={},YT={},k9;function i8e(){return k9||(k9=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t}(YT)),YT}var KT={},T9;function o8e(){return T9||(T9=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t}(KT)),KT}var P9;function l8e(){return P9||(P9=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i8e(),r=o8e(),n=PO();function s(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=s}(GT)),GT}var ZT,D9;function c8e(){return D9||(D9=1,ZT=l8e().last),ZT}var d8e=c8e();const u8e=xi(d8e);var f8e=["valueAccessor"],h8e=["data","dataKey","clockWise","id","textBreakAll"];function QC(){return QC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QC.apply(null,arguments)}function R9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function M9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R9(Object(r),!0).forEach(function(n){m8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m8e(e,t,r){return(t=p8e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p8e(e){var t=g8e(e,"string");return typeof t=="symbol"?t:t+""}function g8e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O9(e,t){if(e==null)return{};var r,n,s=x8e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function x8e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var v8e=e=>Array.isArray(e.value)?u8e(e.value):e.value;function vf(e){var{valueAccessor:t=v8e}=e,r=O9(e,f8e),{data:n,dataKey:s,clockWise:i,id:o,textBreakAll:c}=r,d=O9(r,h8e);return!n||!n.length?null:b.createElement(hi,{className:"recharts-label-list"},n.map((u,l)=>{var f=ns(s)?t(u,l):Qr(u&&u.payload,s),p=ns(o)?{}:{id:"".concat(o,"-").concat(l)};return b.createElement(ei,QC({},Wn(u,!0),d,p,{parentViewBox:u.parentViewBox,value:f,textBreakAll:c,viewBox:ei.parseViewBox(ns(i)?u:M9(M9({},u),{},{clockWise:i})),key:"label-".concat(l),index:l}))}))}vf.displayName="LabelList";function y8e(e,t){return e?e===!0?b.createElement(vf,{key:"labelList-implicit",data:t}):b.isValidElement(e)||s4(e)?b.createElement(vf,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?b.createElement(vf,QC({data:t},e,{key:"labelList-implicit"})):null:null}function b8e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,s=q0(n,vf).map((o,c)=>b.cloneElement(o,{data:t,key:"labelList-".concat(c)}));if(!r)return s;var i=y8e(e.label,t);return[i,...s]}vf.renderCallByParent=b8e;var Mee=e=>e.graphicalItems.polarItems,w8e=xe([on,Q0],TI),a4=xe([Mee,Bn,w8e],DI),S8e=xe([a4],RI),i4=xe([S8e,vI],MI),C8e=xe([i4,Bn,a4],II),j8e=xe([i4,Bn,a4],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(s=>{var i,o=Qr(n,(i=t.dataKey)!==null&&i!==void 0?i:s.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:Qr(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),I9=()=>{},E8e=xe([Bn,zJ,I9,j8e,I9,fr,on],BI),Oee=xe([Bn,fr,i4,C8e,X0,on,E8e],$I),N8e=xe([Oee,Bn,cg],zI);xe([Bn,Oee,N8e,on],VI);var _8e={radiusAxis:{},angleAxis:{}},Iee=nr({name:"polarAxis",initialState:_8e,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:gxt,removeRadiusAxis:xxt,addAngleAxis:vxt,removeAngleAxis:yxt}=Iee.actions,A8e=Iee.reducer;function L9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function B9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L9(Object(r),!0).forEach(function(n){k8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k8e(e,t,r){return(t=T8e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T8e(e){var t=P8e(e,"string");return typeof t=="symbol"?t:t+""}function P8e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var D8e=(e,t)=>t,o4=xe([Mee,D8e],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),R8e=[],l4=(e,t,r)=>r?.length===0?R8e:r,Lee=xe([vI,o4,l4],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var s;if(t?.data!=null&&t.data.length>0?s=t.data:s=n,(!s||!s.length)&&r!=null&&(s=r.map(i=>B9(B9({},t.presentationProps),i.props))),s!=null)return s}}),M8e=xe([Lee,o4,l4],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,s)=>{var i,o=Qr(n,t.nameKey,t.name),c;return r!=null&&(i=r[s])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?c=r[s].props.fill:typeof n=="object"&&n!=null&&"fill"in n?c=n.fill:c=t.fill,{value:AE(o,t.dataKey),color:c,payload:n,type:t.legendType}})}),O8e=xe([Lee,o4,l4,ls],(e,t,r,n)=>{if(!(t==null||e==null))return THe({offset:n,pieSettings:t,displayedData:e,cells:r})}),XT={},$9;function I8e(){return $9||($9=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t}(XT)),XT}var QT,F9;function L8e(){return F9||(F9=1,QT=I8e().isPlainObject),QT}var B8e=L8e();const $8e=xi(B8e);function JC(){return JC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JC.apply(null,arguments)}var H9=(e,t,r,n,s)=>{var i=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+s),o+="L ".concat(e+r-i/2-n,",").concat(t+s),o+="L ".concat(e,",").concat(t," Z"),o},F8e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},H8e=e=>{var t=ko(e,F8e),r=b.useRef(),[n,s]=b.useState(-1);b.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var m=r.current.getTotalLength();m&&s(m)}catch{}},[]);var{x:i,y:o,upperWidth:c,lowerWidth:d,height:u,className:l}=t,{animationEasing:f,animationDuration:p,animationBegin:g,isUpdateAnimationActive:x}=t;if(i!==+i||o!==+o||c!==+c||d!==+d||u!==+u||c===0&&d===0||u===0)return null;var S=ft("recharts-trapezoid",l);return x?b.createElement(LC,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:u,x:i,y:o},to:{upperWidth:c,lowerWidth:d,height:u,x:i,y:o},duration:p,animationEasing:f,isActive:x},m=>{var{upperWidth:y,lowerWidth:w,height:C,x:E,y:N}=m;return b.createElement(LC,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,easing:f},b.createElement("path",JC({},Wn(t,!0),{className:S,d:H9(E,N,y,w,C),ref:r})))}):b.createElement("g",null,b.createElement("path",JC({},Wn(t,!0),{className:S,d:H9(i,o,c,d,u)})))},z8e=["option","shapeType","propTransformer","activeClassName","isActive"];function U8e(e,t){if(e==null)return{};var r,n,s=V8e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function V8e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function z9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ej(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z9(Object(r),!0).forEach(function(n){W8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W8e(e,t,r){return(t=q8e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q8e(e){var t=G8e(e,"string");return typeof t=="symbol"?t:t+""}function G8e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y8e(e,t){return ej(ej({},t),e)}function K8e(e,t){return e==="symbols"}function U9(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return b.createElement(wQ,r);case"trapezoid":return b.createElement(H8e,r);case"sector":return b.createElement(jQ,r);case"symbols":if(K8e(t))return b.createElement(AO,r);break;default:return null}}function Z8e(e){return b.isValidElement(e)?e.props:e}function Bee(e){var{option:t,shapeType:r,propTransformer:n=Y8e,activeClassName:s="recharts-active-shape",isActive:i}=e,o=U8e(e,z8e),c;if(b.isValidElement(t))c=b.cloneElement(t,ej(ej({},o),Z8e(t)));else if(typeof t=="function")c=t(o);else if($8e(t)&&typeof t!="boolean"){var d=n(t,o);c=b.createElement(U9,{shapeType:r,elementProps:d})}else{var u=o;c=b.createElement(U9,{shapeType:r,elementProps:u})}return i?b.createElement(hi,{className:s},c):c}var c4=(e,t)=>{var r=vn();return(n,s)=>i=>{e?.(n,s,i),r(see({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},d4=e=>{var t=vn();return(r,n)=>s=>{e?.(r,n,s),t(U$e())}},u4=(e,t)=>{var r=vn();return(n,s)=>i=>{e?.(n,s,i),r(V$e({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function $ee(e){var{fn:t,args:r}=e,n=vn(),s=Ji();return b.useEffect(()=>{if(!s){var i=t(r);return n(F$e(i)),()=>{n(H$e(i))}}},[t,r,n,s]),null}var Fee=()=>{};function X8e(e){var{legendPayload:t}=e,r=vn(),n=Ji();return b.useEffect(()=>n?Fee:(r(uQ(t)),()=>{r(fQ(t))}),[r,n,t]),null}function Q8e(e){var{legendPayload:t}=e,r=vn(),n=mt(fr);return b.useEffect(()=>n!=="centric"&&n!=="radial"?Fee:(r(uQ(t)),()=>{r(fQ(t))}),[r,n,t]),null}function Hee(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=b.useRef(Fv(t)),n=b.useRef(e);return n.current!==e&&(r.current=Fv(t),n.current=e),r.current}var JT,J8e=()=>{var[e]=b.useState(()=>Fv("uid-"));return e},eHe=(JT=Cf.useId)!==null&&JT!==void 0?JT:J8e;function tHe(e,t){var r=eHe();return t||(e?"".concat(e,"-").concat(r):r)}var rHe=b.createContext(void 0),zee=e=>{var{id:t,type:r,children:n}=e,s=tHe("recharts-".concat(r),t);return b.createElement(rHe.Provider,{value:s},n(s))},nHe={cartesianItems:[],polarItems:[]},Uee=nr({name:"graphicalItems",initialState:nHe,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,s=ic(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=n)},removeCartesianGraphicalItem(e,t){var r=ic(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=ic(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:sHe,replaceCartesianGraphicalItem:aHe,removeCartesianGraphicalItem:iHe,addPolarGraphicalItem:oHe,removePolarGraphicalItem:lHe}=Uee.actions,cHe=Uee.reducer;function dHe(e){var t=vn(),r=b.useRef(null);return b.useEffect(()=>{r.current===null?t(sHe(e)):r.current!==e&&t(aHe({prev:r.current,next:e})),r.current=e},[t,e]),b.useEffect(()=>()=>{r.current&&(t(iHe(r.current)),r.current=null)},[t]),null}function uHe(e){var t=vn();return b.useEffect(()=>(t(oHe(e)),()=>{t(lHe(e))}),[t,e]),null}function fHe(){}var hHe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},V9={t:0},eP={t:1};function Vee(e){var t=ko(e,hHe),{isActive:r,canBegin:n,duration:s,easing:i,begin:o,onAnimationEnd:c,onAnimationStart:d,children:u}=t,l=bQ("JavascriptAnimate",t.animationManager),[f,p]=b.useState(r?V9:eP),g=b.useRef(null);return b.useEffect(()=>{r||p(eP)},[r]),b.useEffect(()=>{if(!r||!n)return fHe;var x=yQ(V9,eP,xQ(i),s,p,l.getTimeoutController()),S=()=>{g.current=x()};return l.start([d,o,S,s,c]),()=>{l.stop(),g.current&&g.current(),c()}},[r,n,s,i,o,d,c,l]),u(f.t)}var mHe=["onMouseEnter","onClick","onMouseLeave"],pHe=["id"],gHe=["id"];function f4(e,t){if(e==null)return{};var r,n,s=xHe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function xHe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function W9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W9(Object(r),!0).forEach(function(n){vHe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vHe(e,t,r){return(t=yHe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yHe(e){var t=bHe(e,"string");return typeof t=="symbol"?t:t+""}function bHe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sc.apply(null,arguments)}function wHe(e){var t=b.useMemo(()=>q0(e.children,sy),[e.children]),r=mt(n=>M8e(n,e.id,t));return r==null?null:b.createElement(Q8e,{legendPayload:r})}function SHe(e){var{dataKey:t,nameKey:r,sectors:n,stroke:s,strokeWidth:i,fill:o,name:c,hide:d,tooltipType:u}=e;return{dataDefinedOnItem:n?.map(l=>l.tooltipPayload),positions:n?.map(l=>l.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:AE(c,t),hide:d,type:u,color:o,unit:""}}}var CHe=(e,t)=>e>t?"start":e<t?"end":"middle",jHe=(e,t,r)=>typeof t=="function"?t(e):ca(t,r,r*.8),EHe=(e,t,r)=>{var{top:n,left:s,width:i,height:o}=t,c=tQ(i,o),d=s+ca(e.cx,i,i/2),u=n+ca(e.cy,o,o/2),l=ca(e.innerRadius,c,0),f=jHe(r,e.outerRadius,c),p=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:d,cy:u,innerRadius:l,outerRadius:f,maxRadius:p}},NHe=(e,t)=>{var r=bs(t-e),n=Math.min(Math.abs(t-e),360);return r*n},_He=(e,t)=>{if(b.isValidElement(e))return b.cloneElement(e,t);if(typeof e=="function")return e(t);var r=ft("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return b.createElement(mQ,Sc({},t,{type:"linear",className:r}))},AHe=(e,t,r)=>{if(b.isValidElement(e))return b.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),b.isValidElement(n)))return n;var s=ft("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return b.createElement(KE,Sc({},t,{alignmentBaseline:"middle",className:s}),n)};function kHe(e){var{sectors:t,props:r,showLabels:n}=e,{label:s,labelLine:i,dataKey:o}=r;if(!n||!s||!t)return null;var c=Qf(r),d=Wn(s,!1),u=Wn(i,!1),l=typeof s=="object"&&"offsetRadius"in s&&s.offsetRadius||20,f=t.map((p,g)=>{var x=(p.startAngle+p.endAngle)/2,S=qn(p.cx,p.cy,p.outerRadius+l,x),m=Nn(Nn(Nn(Nn({},c),p),{},{stroke:"none"},d),{},{index:g,textAnchor:CHe(S.x,p.cx)},S),y=Nn(Nn(Nn(Nn({},c),p),{},{fill:"none",stroke:p.fill},u),{},{index:g,points:[qn(p.cx,p.cy,p.outerRadius,x),S],key:"line"});return b.createElement(hi,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(g)},i&&_He(i,y),AHe(s,m,Qr(p,o)))});return b.createElement(hi,{className:"recharts-pie-labels"},f)}function Wee(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:s,showLabels:i}=e,o=mt(Of),{onMouseEnter:c,onClick:d,onMouseLeave:u}=s,l=f4(s,mHe),f=c4(c,s.dataKey),p=d4(u),g=u4(d,s.dataKey);return t==null?null:b.createElement(b.Fragment,null,t.map((x,S)=>{if(x?.startAngle===0&&x?.endAngle===0&&t.length!==1)return null;var m=r&&String(S)===o,y=o?n:null,w=m?r:y,C=Nn(Nn({},x),{},{stroke:x.stroke,tabIndex:-1,[iQ]:S,[oQ]:s.dataKey});return b.createElement(hi,Sc({tabIndex:-1,className:"recharts-pie-sector"},W0(l,x,S),{onMouseEnter:f(x,S),onMouseLeave:p(x,S),onClick:g(x,S),key:"sector-".concat(x?.startAngle,"-").concat(x?.endAngle,"-").concat(x.midAngle,"-").concat(S)}),b.createElement(Bee,Sc({option:w,isActive:m,shapeType:"sector"},C)))}),b.createElement(kHe,{sectors:t,props:s,showLabels:i}))}function THe(e){var t,{pieSettings:r,displayedData:n,cells:s,offset:i}=e,{cornerRadius:o,startAngle:c,endAngle:d,dataKey:u,nameKey:l,tooltipType:f}=r,p=Math.abs(r.minAngle),g=NHe(c,d),x=Math.abs(g),S=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,m=n.filter(k=>Qr(k,u,0)!==0).length,y=(x>=360?m:m-1)*S,w=x-m*p-y,C=n.reduce((k,A)=>{var T=Qr(A,u,0);return k+(nt(T)?T:0)},0),E;if(C>0){var N;E=n.map((k,A)=>{var T=Qr(k,u,0),P=Qr(k,l,A),M=EHe(r,i,k),O=(nt(T)?T:0)/C,R,L=Nn(Nn({},k),s&&s[A]&&s[A].props);A?R=N.endAngle+bs(g)*S*(T!==0?1:0):R=c;var B=R+bs(g)*((T!==0?p:0)+O*w),F=(R+B)/2,$=(M.innerRadius+M.outerRadius)/2,z=[{name:P,value:T,payload:L,dataKey:u,type:f}],W=qn(M.cx,M.cy,$,F);return N=Nn(Nn(Nn(Nn({},r.presentationProps),{},{percent:O,cornerRadius:o,name:P,tooltipPayload:z,midAngle:F,middleRadius:$,tooltipPosition:W},L),M),{},{value:Qr(k,u),startAngle:R,endAngle:B,payload:L,paddingAngle:bs(g)*S}),N})}return E}function PHe(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:c,activeShape:d,inactiveShape:u,onAnimationStart:l,onAnimationEnd:f}=t,p=Hee(t,"recharts-pie-"),g=r.current,[x,S]=b.useState(!0),m=b.useCallback(()=>{typeof f=="function"&&f(),S(!1)},[f]),y=b.useCallback(()=>{typeof l=="function"&&l(),S(!0)},[l]);return b.createElement(Vee,{begin:i,duration:o,isActive:s,easing:c,onAnimationStart:y,onAnimationEnd:m,key:p},w=>{var C=[],E=n&&n[0],N=E.startAngle;return n.forEach((k,A)=>{var T=g&&g[A],P=A>0?Wd(k,"paddingAngle",0):0;if(T){var M=PH(T.endAngle-T.startAngle,k.endAngle-k.startAngle),O=Nn(Nn({},k),{},{startAngle:N+P,endAngle:N+M(w)+P});C.push(O),N=O.endAngle}else{var{endAngle:R,startAngle:L}=k,B=PH(0,R-L),F=B(w),$=Nn(Nn({},k),{},{startAngle:N+P,endAngle:N+F+P});C.push($),N=$.endAngle}}),r.current=C,b.createElement(hi,null,b.createElement(Wee,{sectors:C,activeShape:d,inactiveShape:u,allOtherPieProps:t,showLabels:!x}))})}function DHe(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:s}=e,i=b.useRef(null),o=i.current;return r&&t&&t.length&&(!o||o!==t)?b.createElement(PHe,{props:e,previousSectorsRef:i}):b.createElement(Wee,{sectors:t,activeShape:n,inactiveShape:s,allOtherPieProps:e,showLabels:!0})}function RHe(e){var{hide:t,className:r,rootTabIndex:n}=e,s=ft("recharts-pie",r);return t?null:b.createElement(hi,{tabIndex:n,className:s},b.createElement(DHe,e))}var MHe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!ng.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function OHe(e){var{id:t}=e,r=f4(e,pHe),n=b.useMemo(()=>q0(e.children,sy),[e.children]),s=mt(i=>O8e(i,t,n));return b.createElement(b.Fragment,null,b.createElement($ee,{fn:SHe,args:Nn(Nn({},e),{},{sectors:s})}),b.createElement(RHe,Sc({},r,{sectors:s})))}function qee(e){var t=ko(e,MHe),{id:r}=t,n=f4(t,gHe),s=Qf(n);return b.createElement(zee,{id:r,type:"pie"},i=>b.createElement(b.Fragment,null,b.createElement(uHe,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:s}),b.createElement(wHe,Sc({},n,{id:i})),b.createElement(OHe,Sc({},n,{id:i})),n.children))}qee.displayName="Pie";var IHe=xe([ls],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),LHe=xe([IHe,Dc,Rc],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Gee=()=>mt(LHe),BHe="Invariant failed";function $He(e,t){throw new Error(BHe)}var FHe=["x","y"];function hR(){return hR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hR.apply(null,arguments)}function q9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q9(Object(r),!0).forEach(function(n){HHe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HHe(e,t,r){return(t=zHe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zHe(e){var t=UHe(e,"string");return typeof t=="symbol"?t:t+""}function UHe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VHe(e,t){if(e==null)return{};var r,n,s=WHe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function WHe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qHe(e,t){var{x:r,y:n}=e,s=VHe(e,FHe),i="".concat(r),o=parseInt(i,10),c="".concat(n),d=parseInt(c,10),u="".concat(t.height||s.height),l=parseInt(u,10),f="".concat(t.width||s.width),p=parseInt(f,10);return qx(qx(qx(qx(qx({},t),s),o?{x:o}:{}),d?{y:d}:{}),{},{height:l,width:p,name:t.name,radius:t.radius})}function Yee(e){return b.createElement(Bee,hR({shapeType:"rectangle",propTransformer:qHe,activeClassName:"recharts-active-bar"},e))}var GHe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,s)=>{if(nt(t))return t;var i=nt(n)||ns(n);return i?t(n,s):(i||$He(),r)}},YHe={},Kee=nr({name:"errorBars",initialState:YHe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==n.dataKey||s.direction!==n.direction))}}}),{addErrorBar:bxt,removeErrorBar:wxt}=Kee.actions,KHe=Kee.reducer,ZHe=["children"];function XHe(e,t){if(e==null)return{};var r,n,s=QHe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function QHe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var JHe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},eze=b.createContext(JHe);function tze(e){var{children:t}=e,r=XHe(e,ZHe);return b.createElement(eze.Provider,{value:r},t)}function Zee(e,t){var r,n,s=mt(u=>Oc(u,e)),i=mt(u=>ou(u,t)),o=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Ya.allowDataOverflow,c=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Ka.allowDataOverflow,d=o||c;return{needClip:d,needClipX:o,needClipY:c}}function rze(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=Gee(),{needClipX:i,needClipY:o,needClip:c}=Zee(t,r);if(!c)return null;var{x:d,y:u,width:l,height:f}=s;return b.createElement("clipPath",{id:"clipPath-".concat(n)},b.createElement("rect",{x:i?d:d-l/2,y:o?u:u-f/2,width:i?l:l*2,height:o?f:f*2}))}var nze=["onMouseEnter","onMouseLeave","onClick"],sze=["value","background","tooltipPosition"],aze=["id"],ize=["onMouseEnter","onClick","onMouseLeave"];function wp(){return wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wp.apply(null,arguments)}function G9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G9(Object(r),!0).forEach(function(n){oze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oze(e,t,r){return(t=lze(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lze(e){var t=cze(e,"string");return typeof t=="symbol"?t:t+""}function cze(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tj(e,t){if(e==null)return{};var r,n,s=dze(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function dze(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var uze=e=>{var{dataKey:t,name:r,fill:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:AE(r,t),payload:e}]};function fze(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:s,name:i,hide:o,unit:c}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:s,dataKey:t,nameKey:void 0,name:AE(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:c}}}function hze(e){var t=mt(Of),{data:r,dataKey:n,background:s,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:c,onClick:d}=i,u=tj(i,nze),l=c4(o,n),f=d4(c),p=u4(d,n);if(!s||r==null)return null;var g=Wn(s,!1);return b.createElement(b.Fragment,null,r.map((x,S)=>{var{value:m,background:y,tooltipPosition:w}=x,C=tj(x,sze);if(!y)return null;var E=l(x,S),N=f(x,S),k=p(x,S),A=qs(qs(qs(qs(qs({option:s,isActive:String(S)===t},C),{},{fill:"#eee"},y),g),W0(u,x,S)),{},{onMouseEnter:E,onMouseLeave:N,onClick:k,dataKey:n,index:S,className:"recharts-bar-background-rectangle"});return b.createElement(Yee,wp({key:"background-bar-".concat(S)},A))}))}function Xee(e){var{data:t,props:r,showLabels:n}=e,s=Qf(r),{id:i}=s,o=tj(s,aze),{shape:c,dataKey:d,activeBar:u}=r,l=mt(Of),f=mt(xee),{onMouseEnter:p,onClick:g,onMouseLeave:x}=r,S=tj(r,ize),m=c4(p,d),y=d4(x),w=u4(g,d);return t?b.createElement(b.Fragment,null,t.map((C,E)=>{var N=u&&String(E)===l&&(f==null||d===f),k=N?u:c,A=qs(qs(qs({},o),C),{},{isActive:N,option:k,index:E,dataKey:d});return b.createElement(hi,wp({className:"recharts-bar-rectangle"},W0(S,C,E),{onMouseEnter:m(C,E),onMouseLeave:y(C,E),onClick:w(C,E),key:"rectangle-".concat(C?.x,"-").concat(C?.y,"-").concat(C?.value,"-").concat(E)}),b.createElement(Yee,A))}),n&&vf.renderCallByParent(r,t)):null}function mze(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:s,isAnimationActive:i,animationBegin:o,animationDuration:c,animationEasing:d,onAnimationEnd:u,onAnimationStart:l}=t,f=r.current,p=Hee(t,"recharts-bar-"),[g,x]=b.useState(!1),S=b.useCallback(()=>{typeof u=="function"&&u(),x(!1)},[u]),m=b.useCallback(()=>{typeof l=="function"&&l(),x(!0)},[l]);return b.createElement(Vee,{begin:o,duration:c,isActive:i,easing:d,onAnimationEnd:S,onAnimationStart:m,key:p},y=>{var w=y===1?n:n?.map((C,E)=>{var N=f&&f[E];if(N)return qs(qs({},C),{},{x:dm(N.x,C.x,y),y:dm(N.y,C.y,y),width:dm(N.width,C.width,y),height:dm(N.height,C.height,y)});if(s==="horizontal"){var k=dm(0,C.height,y);return qs(qs({},C),{},{y:C.y+C.height-k,height:k})}var A=dm(0,C.width,y);return qs(qs({},C),{},{width:A})});return y>0&&(r.current=w??null),w==null?null:b.createElement(hi,null,b.createElement(Xee,{props:t,data:w,showLabels:!g}))})}function pze(e){var{data:t,isAnimationActive:r}=e,n=b.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?b.createElement(mze,{previousRectanglesRef:n,props:e}):b.createElement(Xee,{props:e,data:t,showLabels:!0})}var Qee=0,gze=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Qr(e,t)}};class xze extends b.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:s,xAxisId:i,yAxisId:o,needClip:c,background:d,id:u}=this.props;if(t)return null;var l=ft("recharts-bar",s),f=u;return b.createElement(hi,{className:l,id:u},c&&b.createElement("defs",null,b.createElement(rze,{clipPathId:f,xAxisId:i,yAxisId:o})),b.createElement(hi,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(f,")"):void 0},b.createElement(hze,{data:r,dataKey:n,background:d,allOtherBarProps:this.props}),b.createElement(pze,this.props)),this.props.children)}}var vze={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ng.isSsr,legendType:"rect",minPointSize:Qee,xAxisId:0,yAxisId:0};function yze(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:o,animationBegin:c,animationDuration:d,animationEasing:u,isAnimationActive:l}=e,{needClip:f}=Zee(t,r),p=UO(),g=Ji(),x=q0(e.children,sy),S=mt(w=>qze(w,t,r,g,e.id,x));if(p!=="vertical"&&p!=="horizontal")return null;var m,y=S?.[0];return y==null||y.height==null||y.width==null?m=0:m=p==="vertical"?y.height/2:y.width/2,b.createElement(tze,{xAxisId:t,yAxisId:r,data:S,dataPointFormatter:gze,errorBarOffset:m},b.createElement(xze,wp({},e,{layout:p,needClip:f,data:S,xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:o,animationBegin:c,animationDuration:d,animationEasing:u,isAnimationActive:l})))}function bze(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:s,bandSize:i,xAxis:o,yAxis:c,xAxisTicks:d,yAxisTicks:u,stackedData:l,displayedData:f,offset:p,cells:g}=e,x=t==="horizontal"?c:o,S=l?x.scale.domain():null,m=d4e({numericAxis:x});return f.map((y,w)=>{var C,E,N,k,A,T;l?C=s4e(l[w],S):(C=Qr(y,r),Array.isArray(C)||(C=[m,C]));var P=GHe(n,Qee)(C[1],w);if(t==="horizontal"){var M,[O,R]=[c.scale(C[0]),c.scale(C[1])];E=Rz({axis:o,ticks:d,bandSize:i,offset:s.offset,entry:y,index:w}),N=(M=R??O)!==null&&M!==void 0?M:void 0,k=s.size;var L=O-R;if(A=fi(L)?0:L,T={x:E,y:p.top,width:k,height:p.height},Math.abs(P)>0&&Math.abs(A)<Math.abs(P)){var B=bs(A||P)*(Math.abs(P)-Math.abs(A));N-=B,A+=B}}else{var[F,$]=[o.scale(C[0]),o.scale(C[1])];if(E=F,N=Rz({axis:c,ticks:u,bandSize:i,offset:s.offset,entry:y,index:w}),k=$-F,A=s.size,T={x:p.left,y:N,width:p.width,height:A},Math.abs(P)>0&&Math.abs(k)<Math.abs(P)){var z=bs(k||P)*(Math.abs(P)-Math.abs(k));k+=z}}if(E==null||N==null||k==null||A==null)return null;var W=qs(qs({},y),{},{x:E,y:N,width:k,height:A,value:l?C:C[1],payload:y,background:T,tooltipPosition:{x:E+k/2,y:N+A/2}},g&&g[w]&&g[w].props);return W}).filter(Boolean)}function Zv(e){var t=ko(e,vze),r=Ji();return b.createElement(zee,{id:t.id,type:"bar"},n=>b.createElement(b.Fragment,null,b.createElement(X8e,{legendPayload:uze(t)}),b.createElement($ee,{fn:fze,args:t}),b.createElement(dHe,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:c4e(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),b.createElement(yze,wp({},t,{id:n}))))}Zv.displayName="Bar";function Y9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y9(Object(r),!0).forEach(function(n){wze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wze(e,t,r){return(t=Sze(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sze(e){var t=Cze(e,"string");return typeof t=="symbol"?t:t+""}function Cze(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jze=(e,t)=>t,Eze=(e,t,r)=>r,Nze=(e,t,r,n)=>n,_ze=(e,t,r,n,s)=>s,ay=xe([PI,_ze],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Aze=xe([ay],e=>e?.maxBarSize),kze=(e,t,r,n,s,i)=>i,K9=(e,t,r)=>{var n=r??e;if(!ns(n))return ca(n,t,0)},Tze=xe([fr,PI,jze,Eze,Nze],(e,t,r,n,s)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===s).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Pze=(e,t,r,n)=>{var s=fr(e);return s==="horizontal"?oR(e,"yAxis",r,n):oR(e,"xAxis",t,n)},Dze=(e,t,r)=>{var n=fr(e);return n==="horizontal"?QU(e,"xAxis",t):QU(e,"yAxis",r)},Rze=(e,t,r)=>{var n={},s=e.filter(UE),i=e.filter(u=>u.stackId==null),o=s.reduce((u,l)=>(u[l.stackId]||(u[l.stackId]=[]),u[l.stackId].push(l),u),n),c=Object.entries(o).map(u=>{var[l,f]=u,p=f.map(x=>x.dataKey),g=K9(t,r,f[0].barSize);return{stackId:l,dataKeys:p,barSize:g}}),d=i.map(u=>{var l=[u.dataKey].filter(p=>p!=null),f=K9(t,r,u.barSize);return{stackId:void 0,dataKeys:l,barSize:f}});return[...c,...d]},Mze=xe([Tze,HBe,Dze],Rze),Oze=(e,t,r,n,s)=>{var i,o,c=ay(e,t,r,n,s);if(c!=null){var d=fr(e),u=vJ(e),{maxBarSize:l}=c,f=ns(l)?u:l,p,g;return d==="horizontal"?(p=bp(e,"xAxis",t,n),g=yp(e,"xAxis",t,n)):(p=bp(e,"yAxis",r,n),g=yp(e,"yAxis",r,n)),(i=(o=LO(p,g,!0))!==null&&o!==void 0?o:f)!==null&&i!==void 0?i:0}},Jee=(e,t,r,n)=>{var s=fr(e),i,o;return s==="horizontal"?(i=bp(e,"xAxis",t,n),o=yp(e,"xAxis",t,n)):(i=bp(e,"yAxis",r,n),o=yp(e,"yAxis",r,n)),LO(i,o)};function Ize(e,t,r,n,s){var i=n.length;if(!(i<1)){var o=ca(e,r,0,!0),c,d=[];if(mi(n[0].barSize)){var u=!1,l=r/i,f=n.reduce((y,w)=>y+(w.barSize||0),0);f+=(i-1)*o,f>=r&&(f-=(i-1)*o,o=0),f>=r&&l>0&&(u=!0,l*=.9,f=i*l);var p=(r-f)/2>>0,g={offset:p-o,size:0};c=n.reduce((y,w)=>{var C,E={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:g.offset+g.size+o,size:u?l:(C=w.barSize)!==null&&C!==void 0?C:0}},N=[...y,E];return g=N[N.length-1].position,N},d)}else{var x=ca(t,r,0,!0);r-2*x-(i-1)*o<=0&&(o=0);var S=(r-2*x-(i-1)*o)/i;S>1&&(S>>=0);var m=mi(s)?Math.min(S,s):S;c=n.reduce((y,w,C)=>[...y,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:x+(S+o)*C+(S-m)/2,size:m}}],d)}return c}}var Lze=(e,t,r,n,s,i,o)=>{var c=ns(o)?t:o,d=Ize(r,n,s!==i?s:i,e,c);return s!==i&&d!=null&&(d=d.map(u=>Pw(Pw({},u),{},{position:Pw(Pw({},u.position),{},{offset:u.position.offset-s/2})}))),d},Bze=xe([Mze,vJ,FBe,yJ,Oze,Jee,Aze],Lze),$ze=(e,t,r,n)=>bp(e,"xAxis",t,n),Fze=(e,t,r,n)=>bp(e,"yAxis",r,n),Hze=(e,t,r,n)=>yp(e,"xAxis",t,n),zze=(e,t,r,n)=>yp(e,"yAxis",r,n),Uze=xe([Bze,ay],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Vze=(e,t)=>{var r=AI(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var s=e[n];if(s){var{stackedData:i}=s;if(i)return i.find(o=>o.key===r)}}}},Wze=xe([Pze,ay],Vze),qze=xe([ls,$ze,Fze,Hze,zze,Uze,fr,yI,Jee,Wze,ay,kze],(e,t,r,n,s,i,o,c,d,u,l,f)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:x}=c;if(!(l==null||i==null||o!=="horizontal"&&o!=="vertical"||t==null||r==null||n==null||s==null||d==null)){var{data:S}=l,m;if(S!=null&&S.length>0?m=S:m=p?.slice(g,x+1),m!=null)return bze({layout:o,barSettings:l,pos:i,bandSize:d,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,stackedData:u,displayedData:m,offset:e,cells:f})}}),ete=e=>{var{chartData:t}=e,r=vn(),n=Ji();return b.useEffect(()=>n?()=>{}:(r(l9(t)),()=>{r(l9(void 0))}),[t,r,n]),null},Z9={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},tte=nr({name:"brush",initialState:Z9,reducers:{setBrushSettings(e,t){return t.payload==null?Z9:t.payload}}}),{setBrushSettings:Sxt}=tte.actions,Gze=tte.reducer;function Yze(e,t,r){return(t=Kze(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kze(e){var t=Zze(e,"string");return typeof t=="symbol"?t:t+""}function Zze(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class h4{static create(t){return new h4(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}Yze(h4,"EPS",1e-4);function Xze(e){return(e%180+180)%180}var Qze=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Xze(s),o=i*Math.PI/180,c=Math.atan(n/r),d=o>c&&o<Math.PI-c?n/Math.sin(o):r/Math.cos(o);return Math.abs(d)},Jze={dots:[],areas:[],lines:[]},rte=nr({name:"referenceElements",initialState:Jze,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ic(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ic(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ic(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Cxt,removeDot:jxt,addArea:Ext,removeArea:Nxt,addLine:_xt,removeLine:Axt}=rte.actions,eUe=rte.reducer,tUe=b.createContext(void 0),rUe=e=>{var{children:t}=e,[r]=b.useState("".concat(Fv("recharts"),"-clip")),n=Gee();if(n==null)return null;var{x:s,y:i,width:o,height:c}=n;return b.createElement(tUe.Provider,{value:r},b.createElement("defs",null,b.createElement("clipPath",{id:r},b.createElement("rect",{x:s,y:i,height:c,width:o}))),t)};function tP(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function nte(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function nUe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Qze(n,r)}function sUe(e,t,r){var n=r==="width",{x:s,y:i,width:o,height:c}=e;return t===1?{start:n?s:i,end:n?s+o:i+c}:{start:n?s+o:i+c,end:n?s:i}}function rj(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function aUe(e,t){return nte(e,t+1)}function iUe(e,t,r,n,s){for(var i=(n||[]).slice(),{start:o,end:c}=t,d=0,u=1,l=o,f=function(){var x=n?.[d];if(x===void 0)return{v:nte(n,u)};var S=d,m,y=()=>(m===void 0&&(m=r(x,S)),m),w=x.coordinate,C=d===0||rj(e,w,y,l,c);C||(d=0,l=o,u+=1),C&&(l=w+e*(y()/2+s),d+=u)},p;u<=i.length;)if(p=f(),p)return p.v;return[]}function X9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X9(Object(r),!0).forEach(function(n){oUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oUe(e,t,r){return(t=lUe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lUe(e){var t=cUe(e,"string");return typeof t=="symbol"?t:t+""}function cUe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dUe(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,{start:c}=t,{end:d}=t,u=function(p){var g=i[p],x,S=()=>(x===void 0&&(x=r(g,p)),x);if(p===o-1){var m=e*(g.coordinate+e*S()/2-d);i[p]=g=Vs(Vs({},g),{},{tickCoord:m>0?g.coordinate-m*e:g.coordinate})}else i[p]=g=Vs(Vs({},g),{},{tickCoord:g.coordinate});var y=rj(e,g.tickCoord,S,c,d);y&&(d=g.tickCoord-e*(S()/2+s),i[p]=Vs(Vs({},g),{},{isShow:!0}))},l=o-1;l>=0;l--)u(l);return i}function uUe(e,t,r,n,s,i){var o=(n||[]).slice(),c=o.length,{start:d,end:u}=t;if(i){var l=n[c-1],f=r(l,c-1),p=e*(l.coordinate+e*f/2-u);o[c-1]=l=Vs(Vs({},l),{},{tickCoord:p>0?l.coordinate-p*e:l.coordinate});var g=rj(e,l.tickCoord,()=>f,d,u);g&&(u=l.tickCoord-e*(f/2+s),o[c-1]=Vs(Vs({},l),{},{isShow:!0}))}for(var x=i?c-1:c,S=function(w){var C=o[w],E,N=()=>(E===void 0&&(E=r(C,w)),E);if(w===0){var k=e*(C.coordinate-e*N()/2-d);o[w]=C=Vs(Vs({},C),{},{tickCoord:k<0?C.coordinate-k*e:C.coordinate})}else o[w]=C=Vs(Vs({},C),{},{tickCoord:C.coordinate});var A=rj(e,C.tickCoord,N,d,u);A&&(d=C.tickCoord+e*(N()/2+s),o[w]=Vs(Vs({},C),{},{isShow:!0}))},m=0;m<x;m++)S(m);return o}function m4(e,t,r){var{tick:n,ticks:s,viewBox:i,minTickGap:o,orientation:c,interval:d,tickFormatter:u,unit:l,angle:f}=e;if(!s||!s.length||!n)return[];if(nt(d)||ng.isSsr){var p;return(p=aUe(s,nt(d)?d:0))!==null&&p!==void 0?p:[]}var g=[],x=c==="top"||c==="bottom"?"width":"height",S=l&&x==="width"?jv(l,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=(C,E)=>{var N=typeof u=="function"?u(C.value,E):C.value;return x==="width"?nUe(jv(N,{fontSize:t,letterSpacing:r}),S,f):jv(N,{fontSize:t,letterSpacing:r})[x]},y=s.length>=2?bs(s[1].coordinate-s[0].coordinate):1,w=sUe(i,y,x);return d==="equidistantPreserveStart"?iUe(y,w,m,s,o):(d==="preserveStart"||d==="preserveStartEnd"?g=uUe(y,w,m,s,o,d==="preserveStartEnd"):g=dUe(y,w,m,s,o),g.filter(C=>C.isShow))}var fUe=["viewBox"],hUe=["viewBox"];function $m(){return $m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$m.apply(null,arguments)}function Q9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q9(Object(r),!0).forEach(function(n){p4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J9(e,t){if(e==null)return{};var r,n,s=mUe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function mUe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function p4(e,t,r){return(t=pUe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pUe(e){var t=gUe(e,"string");return typeof t=="symbol"?t:t+""}function gUe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class lu extends b.Component{constructor(t){super(t),this.tickRefs=b.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,s=J9(t,fUe),i=this.props,{viewBox:o}=i,c=J9(i,hUe);return!tP(n,o)||!tP(s,c)||!tP(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:s,height:i,orientation:o,tickSize:c,mirror:d,tickMargin:u}=this.props,l,f,p,g,x,S,m=d?-1:1,y=t.tickSize||c,w=nt(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":l=f=t.coordinate,g=n+ +!d*i,p=g-m*y,S=p-m*u,x=w;break;case"left":p=g=t.coordinate,f=r+ +!d*s,l=f-m*y,x=l-m*u,S=w;break;case"right":p=g=t.coordinate,f=r+ +d*s,l=f+m*y,x=l+m*u,S=w;break;default:l=f=t.coordinate,g=n+ +d*i,p=g+m*y,S=p+m*u,x=w;break}return{line:{x1:l,y1:p,x2:f,y2:g},tick:{x,y:S}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:s,orientation:i,mirror:o,axisLine:c}=this.props,d=Jn(Jn(Jn({},Wn(this.props,!1)),Wn(c,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!o||i==="bottom"&&o);d=Jn(Jn({},d),{},{x1:t,y1:r+u*s,x2:t+n,y2:r+u*s})}else{var l=+(i==="left"&&!o||i==="right"&&o);d=Jn(Jn({},d),{},{x1:t+l*n,y1:r,x2:t+l*n,y2:r+s})}return b.createElement("line",$m({},d,{className:ft("recharts-cartesian-axis-line",Wd(c,"className"))}))}static renderTickItem(t,r,n){var s,i=ft(r.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(t))s=b.cloneElement(t,Jn(Jn({},r),{},{className:i}));else if(typeof t=="function")s=t(Jn(Jn({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=ft(o,t.className)),s=b.createElement(KE,$m({},r,{className:o}),n)}return s}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:s,stroke:i,tick:o,tickFormatter:c,unit:d,padding:u}=this.props,l=m4(Jn(Jn({},this.props),{},{ticks:n}),t,r),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),g=Qf(this.props),x=Wn(o,!1),S=Jn(Jn({},g),{},{fill:"none"},Wn(s,!1)),m=l.map((y,w)=>{var{line:C,tick:E}=this.getTickLineCoord(y),N=Jn(Jn(Jn(Jn({textAnchor:f,verticalAnchor:p},g),{},{stroke:"none",fill:i},x),E),{},{index:w,payload:y,visibleTicksCount:l.length,tickFormatter:c,padding:u});return b.createElement(hi,$m({className:"recharts-cartesian-axis-tick",key:"tick-".concat(y.value,"-").concat(y.coordinate,"-").concat(y.tickCoord)},W0(this.props,y,w)),s&&b.createElement("line",$m({},S,C,{className:ft("recharts-cartesian-axis-tick-line",Wd(s,"className"))})),o&&lu.renderTickItem(o,N,"".concat(typeof c=="function"?c(y.value,w):y.value).concat(d||"")))});return m.length>0?b.createElement("g",{className:"recharts-cartesian-axis-ticks"},m):null}render(){var{axisLine:t,width:r,height:n,className:s,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:b.createElement(hi,{className:ft("recharts-cartesian-axis",s),ref:c=>{if(c){var d=c.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(d);var u=d[0];if(u){var l=window.getComputedStyle(u).fontSize,f=window.getComputedStyle(u).letterSpacing;(l!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),ei.renderCallByParent(this.props))}}p4(lu,"displayName","CartesianAxis");p4(lu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var xUe=["x1","y1","x2","y2","key"],vUe=["offset"],yUe=["xAxisId","yAxisId"],bUe=["xAxisId","yAxisId"];function e7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e7(Object(r),!0).forEach(function(n){wUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wUe(e,t,r){return(t=SUe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SUe(e){var t=CUe(e,"string");return typeof t=="symbol"?t:t+""}function CUe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nf.apply(null,arguments)}function nj(e,t){if(e==null)return{};var r,n,s=jUe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function jUe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var EUe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:s,width:i,height:o,ry:c}=e;return b.createElement("rect",{x:n,y:s,ry:c,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function ste(e,t){var r;if(b.isValidElement(e))r=b.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:s,x2:i,y2:o,key:c}=t,d=nj(t,xUe),u=Qf(d),{offset:l}=u,f=nj(u,vUe);r=b.createElement("line",nf({},f,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:c}))}return r}function NUe(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,c=nj(e,yUe),d=s.map((u,l)=>{var f=Gs(Gs({},c),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(l),index:l});return ste(n,f)});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function _Ue(e){var{y:t,height:r,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,c=nj(e,bUe),d=s.map((u,l)=>{var f=Gs(Gs({},c),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(l),index:l});return ste(n,f)});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function AUe(e){var{horizontalFill:t,fillOpacity:r,x:n,y:s,width:i,height:o,horizontalPoints:c,horizontal:d=!0}=e;if(!d||!t||!t.length)return null;var u=c.map(f=>Math.round(f+s-s)).sort((f,p)=>f-p);s!==u[0]&&u.unshift(0);var l=u.map((f,p)=>{var g=!u[p+1],x=g?s+o-f:u[p+1]-f;if(x<=0)return null;var S=p%t.length;return b.createElement("rect",{key:"react-".concat(p),y:f,x:n,height:x,width:i,stroke:"none",fill:t[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},l)}function kUe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:s,y:i,width:o,height:c,verticalPoints:d}=e;if(!t||!r||!r.length)return null;var u=d.map(f=>Math.round(f+s-s)).sort((f,p)=>f-p);s!==u[0]&&u.unshift(0);var l=u.map((f,p)=>{var g=!u[p+1],x=g?s+o-f:u[p+1]-f;if(x<=0)return null;var S=p%r.length;return b.createElement("rect",{key:"react-".concat(p),x:f,y:i,width:x,height:c,stroke:"none",fill:r[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},l)}var TUe=(e,t)=>{var{xAxis:r,width:n,height:s,offset:i}=e;return nQ(m4(Gs(Gs(Gs({},lu.defaultProps),r),{},{ticks:sQ(r),viewBox:{x:0,y:0,width:n,height:s}})),i.left,i.left+i.width,t)},PUe=(e,t)=>{var{yAxis:r,width:n,height:s,offset:i}=e;return nQ(m4(Gs(Gs(Gs({},lu.defaultProps),r),{},{ticks:sQ(r),viewBox:{x:0,y:0,width:n,height:s}})),i.top,i.top+i.height,t)},DUe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function g4(e){var t=HO(),r=zO(),n=cQ(),s=Gs(Gs({},ko(e,DUe)),{},{x:nt(e.x)?e.x:n.left,y:nt(e.y)?e.y:n.top,width:nt(e.width)?e.width:n.width,height:nt(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:c,y:d,width:u,height:l,syncWithTicks:f,horizontalValues:p,verticalValues:g}=s,x=Ji(),S=mt(P=>JU(P,"xAxis",i,x)),m=mt(P=>JU(P,"yAxis",o,x));if(!nt(u)||u<=0||!nt(l)||l<=0||!nt(c)||c!==+c||!nt(d)||d!==+d)return null;var y=s.verticalCoordinatesGenerator||TUe,w=s.horizontalCoordinatesGenerator||PUe,{horizontalPoints:C,verticalPoints:E}=s;if((!C||!C.length)&&typeof w=="function"){var N=p&&p.length,k=w({yAxis:m?Gs(Gs({},m),{},{ticks:N?p:m.ticks}):void 0,width:t,height:r,offset:n},N?!0:f);Cv(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(C=k)}if((!E||!E.length)&&typeof y=="function"){var A=g&&g.length,T=y({xAxis:S?Gs(Gs({},S),{},{ticks:A?g:S.ticks}):void 0,width:t,height:r,offset:n},A?!0:f);Cv(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(E=T)}return b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(EUe,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),b.createElement(AUe,nf({},s,{horizontalPoints:C})),b.createElement(kUe,nf({},s,{verticalPoints:E})),b.createElement(NUe,nf({},s,{offset:n,horizontalPoints:C,xAxis:S,yAxis:m})),b.createElement(_Ue,nf({},s,{offset:n,verticalPoints:E,xAxis:S,yAxis:m})))}g4.displayName="CartesianGrid";function t7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function r7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t7(Object(r),!0).forEach(function(n){RUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RUe(e,t,r){return(t=MUe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MUe(e){var t=OUe(e,"string");return typeof t=="symbol"?t:t+""}function OUe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IUe={xAxis:{},yAxis:{},zAxis:{}},ate=nr({name:"cartesianAxis",initialState:IUe,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=r7(r7({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:LUe,removeXAxis:BUe,addYAxis:$Ue,removeYAxis:FUe,addZAxis:kxt,removeZAxis:Txt,updateYAxisWidth:HUe}=ate.actions,zUe=ate.reducer,UUe=["children"],VUe=["dangerouslySetInnerHTML","ticks"];function ite(e,t,r){return(t=WUe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WUe(e){var t=qUe(e,"string");return typeof t=="symbol"?t:t+""}function qUe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mR(){return mR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mR.apply(null,arguments)}function ote(e,t){if(e==null)return{};var r,n,s=GUe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function GUe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function YUe(e){var t=vn(),r=b.useMemo(()=>{var{children:i}=e,o=ote(e,UUe);return o},[e]),n=mt(i=>Oc(i,r.id)),s=r===n;return b.useEffect(()=>(t(LUe(r)),()=>{t(BUe(r))}),[r,t]),s?e.children:null}var KUe=e=>{var{xAxisId:t,className:r}=e,n=mt(lQ),s=Ji(),i="xAxis",o=mt(g=>dg(g,i,t,s)),c=mt(g=>QJ(g,i,t,s)),d=mt(g=>YJ(g,t)),u=mt(g=>P$e(g,t));if(d==null||u==null)return null;var{dangerouslySetInnerHTML:l,ticks:f}=e,p=ote(e,VUe);return b.createElement(lu,mR({},p,{scale:o,x:u.x,y:u.y,width:d.width,height:d.height,className:ft("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:c}))},ZUe=e=>{var t,r,n,s,i;return b.createElement(YUe,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},b.createElement(KUe,e))};class ZE extends b.Component{render(){return b.createElement(ZUe,this.props)}}ite(ZE,"displayName","XAxis");ite(ZE,"defaultProps",{allowDataOverflow:Ya.allowDataOverflow,allowDecimals:Ya.allowDecimals,allowDuplicatedCategory:Ya.allowDuplicatedCategory,height:Ya.height,hide:!1,mirror:Ya.mirror,orientation:Ya.orientation,padding:Ya.padding,reversed:Ya.reversed,scale:Ya.scale,tickCount:Ya.tickCount,type:Ya.type,xAxisId:0});var XUe=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(l=>{if(l){var f=l.getBoundingClientRect();f.width>o&&(o=f.width)}});var c=r?r.getBoundingClientRect().width:0,d=s+i,u=o+d+c+(r?n:0);return Math.round(u)}return 0},QUe=["dangerouslySetInnerHTML","ticks"];function lte(e,t,r){return(t=JUe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JUe(e){var t=e9e(e,"string");return typeof t=="symbol"?t:t+""}function e9e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pR(){return pR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pR.apply(null,arguments)}function t9e(e,t){if(e==null)return{};var r,n,s=r9e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function r9e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function n9e(e){var t=vn();return b.useEffect(()=>(t($Ue(e)),()=>{t(FUe(e))}),[e,t]),null}var s9e=e=>{var t,{yAxisId:r,className:n,width:s,label:i}=e,o=b.useRef(null),c=b.useRef(null),d=mt(lQ),u=Ji(),l=vn(),f="yAxis",p=mt(C=>dg(C,f,r,u)),g=mt(C=>KJ(C,r)),x=mt(C=>D$e(C,r)),S=mt(C=>QJ(C,f,r,u));if(b.useLayoutEffect(()=>{var C;if(!(s!=="auto"||!g||s4(i)||b.isValidElement(i))){var E=o.current,N=E==null||(C=E.tickRefs)===null||C===void 0?void 0:C.current,{tickSize:k,tickMargin:A}=E.props,T=XUe({ticks:N,label:c.current,labelGapWithTick:5,tickSize:k,tickMargin:A});Math.round(g.width)!==Math.round(T)&&l(HUe({id:r,width:T}))}},[o,o==null||(t=o.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,g?.width,g,l,i,r,s]),g==null||x==null)return null;var{dangerouslySetInnerHTML:m,ticks:y}=e,w=t9e(e,QUe);return b.createElement(lu,pR({},w,{ref:o,labelRef:c,scale:p,x:x.x,y:x.y,width:g.width,height:g.height,className:ft("recharts-".concat(f," ").concat(f),n),viewBox:d,ticks:S}))},a9e=e=>{var t,r,n,s,i;return b.createElement(b.Fragment,null,b.createElement(n9e,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),b.createElement(s9e,e))},i9e={allowDataOverflow:Ka.allowDataOverflow,allowDecimals:Ka.allowDecimals,allowDuplicatedCategory:Ka.allowDuplicatedCategory,hide:!1,mirror:Ka.mirror,orientation:Ka.orientation,padding:Ka.padding,reversed:Ka.reversed,scale:Ka.scale,tickCount:Ka.tickCount,type:Ka.type,width:Ka.width,yAxisId:0};class XE extends b.Component{render(){return b.createElement(a9e,this.props)}}lte(XE,"displayName","YAxis");lte(XE,"defaultProps",i9e);var o9e=(e,t)=>t,x4=xe([o9e,fr,EJ,ds,hee,Ic,I6e,ls],H6e),v4=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},cte=la("mouseClick"),dte=f0();dte.startListening({actionCreator:cte,effect:(e,t)=>{var r=e.payload,n=x4(t.getState(),v4(r));n?.activeIndex!=null&&t.dispatch(W$e({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var gR=la("mouseMove"),ute=f0();ute.startListening({actionCreator:gR,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=GI(n,n.tooltip.settings.shared),i=x4(n,v4(r));s==="axis"&&(i?.activeIndex!=null?t.dispatch(iee({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(aee()))}});function l9e(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var n7={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},fte=nr({name:"rootProps",initialState:n7,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:n7.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),c9e=fte.reducer,{updateOptions:d9e}=fte.actions,hte=nr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:u9e}=hte.actions,f9e=hte.reducer,mte=la("keyDown"),pte=la("focus"),y4=f0();y4.startListening({actionCreator:mte,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(YI(s,fg(r))),c=Ic(r);if(i==="Enter"){var d=XC(r,"axis","hover",String(s.index));t.dispatch(cR({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:d}));return}var u=I$e(r),l=u==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,p=o+f*l;if(!(c==null||p>=c.length||p<0)){var g=XC(r,"axis","hover",String(p));t.dispatch(cR({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}});y4.startListening({actionCreator:pte,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var i="0",o=XC(r,"axis","hover",String(i));t.dispatch(cR({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Mi=la("externalEvent"),gte=f0();gte.startListening({actionCreator:Mi,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:_6e(r),activeDataKey:xee(r),activeIndex:Of(r),activeLabel:gee(r),activeTooltipIndex:Of(r),isTooltipActive:A6e(r)};e.payload.handler(n,e.payload.reactEvent)}}});var h9e=xe([ug],e=>e.tooltipItemPayloads),m9e=xe([h9e,ry,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(c=>c.settings.dataKey===n);if(s!=null){var{positions:i}=s;if(i!=null){var o=t(i,r);return o}}}),xte=la("touchMove"),vte=f0();vte.startListening({actionCreator:xte,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=GI(n,n.tooltip.settings.shared);if(s==="axis"){var i=x4(n,v4({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));i?.activeIndex!=null&&t.dispatch(iee({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(s==="item"){var o,c=r.touches[0],d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var u=d.getAttribute(iQ),l=(o=d.getAttribute(oQ))!==null&&o!==void 0?o:void 0,f=m9e(t.getState(),u,l);t.dispatch(see({activeDataKey:l,activeIndex:u,activeCoordinate:f}))}}});var p9e=RW({brush:Gze,cartesianAxis:zUe,chartData:nFe,errorBars:KHe,graphicalItems:cHe,layout:zIe,legend:k4e,options:Q6e,polarAxis:A8e,polarOptions:f9e,referenceElements:eUe,rootProps:c9e,tooltip:q$e}),g9e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return qW({reducer:p9e,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([dte.middleware,ute.middleware,y4.middleware,gte.middleware,vte.middleware]),devTools:{serialize:{replacer:l9e},name:"recharts-".concat(r)}})};function yte(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=Ji(),i=b.useRef(null);if(s)return r;i.current==null&&(i.current=g9e(t,n));var o=IO;return b.createElement(kW,{context:o,store:i.current},r)}function bte(e){var{layout:t,width:r,height:n,margin:s}=e,i=vn(),o=Ji();return b.useEffect(()=>{o||(i($Ie(t)),i(FIe({width:r,height:n})),i(BIe(s)))},[i,o,t,r,n,s]),null}function wte(e){var t=vn();return b.useEffect(()=>{t(d9e(e))},[t,e]),null}var x9e=["children"];function v9e(e,t){if(e==null)return{};var r,n,s=y9e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function y9e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sj(){return sj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sj.apply(null,arguments)}var b9e={width:"100%",height:"100%"},w9e=b.forwardRef((e,t)=>{var r=HO(),n=zO(),s=hQ();if(!mp(r)||!mp(n))return null;var{children:i,otherAttributes:o,title:c,desc:d}=e,u,l;return typeof o.tabIndex=="number"?u=o.tabIndex:u=s?0:void 0,typeof o.role=="string"?l=o.role:l=s?"application":void 0,b.createElement(jO,sj({},o,{title:c,desc:d,role:l,tabIndex:u,width:r,height:n,style:b9e,ref:t}),i)}),S9e=e=>{var{children:t}=e,r=mt(PE);if(!r)return null;var{width:n,height:s,y:i,x:o}=r;return b.createElement(jO,{width:n,height:s,x:o,y:i},t)},s7=b.forwardRef((e,t)=>{var{children:r}=e,n=v9e(e,x9e),s=Ji();return s?b.createElement(S9e,null,r):b.createElement(w9e,sj({ref:t},n),r)});function C9e(){var e=vn(),[t,r]=b.useState(null),n=mt(x4e);return b.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;mi(i)&&i!==n&&e(HIe(i))}},[t,e,n]),r}function a7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function j9e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a7(Object(r),!0).forEach(function(n){E9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E9e(e,t,r){return(t=N9e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N9e(e){var t=_9e(e,"string");return typeof t=="symbol"?t:t+""}function _9e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A9e=b.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:i,onContextMenu:o,onDoubleClick:c,onMouseDown:d,onMouseEnter:u,onMouseLeave:l,onMouseMove:f,onMouseUp:p,onTouchEnd:g,onTouchMove:x,onTouchStart:S,style:m,width:y}=e,w=vn(),[C,E]=b.useState(null),[N,k]=b.useState(null);iFe();var A=C9e(),T=b.useCallback(H=>{A(H),typeof t=="function"&&t(H),E(H),k(H)},[A,t,E,k]),P=b.useCallback(H=>{w(cte(H)),w(Mi({handler:i,reactEvent:H}))},[w,i]),M=b.useCallback(H=>{w(gR(H)),w(Mi({handler:u,reactEvent:H}))},[w,u]),O=b.useCallback(H=>{w(aee()),w(Mi({handler:l,reactEvent:H}))},[w,l]),R=b.useCallback(H=>{w(gR(H)),w(Mi({handler:f,reactEvent:H}))},[w,f]),L=b.useCallback(()=>{w(pte())},[w]),B=b.useCallback(H=>{w(mte(H.key))},[w]),F=b.useCallback(H=>{w(Mi({handler:o,reactEvent:H}))},[w,o]),$=b.useCallback(H=>{w(Mi({handler:c,reactEvent:H}))},[w,c]),z=b.useCallback(H=>{w(Mi({handler:d,reactEvent:H}))},[w,d]),W=b.useCallback(H=>{w(Mi({handler:p,reactEvent:H}))},[w,p]),Z=b.useCallback(H=>{w(Mi({handler:S,reactEvent:H}))},[w,S]),V=b.useCallback(H=>{w(xte(H)),w(Mi({handler:x,reactEvent:H}))},[w,x]),q=b.useCallback(H=>{w(Mi({handler:g,reactEvent:H}))},[w,g]);return b.createElement(Cee.Provider,{value:C},b.createElement(xX.Provider,{value:N},b.createElement("div",{className:ft("recharts-wrapper",n),style:j9e({position:"relative",cursor:"default",width:y,height:s},m),onClick:P,onContextMenu:F,onDoubleClick:$,onFocus:L,onKeyDown:B,onMouseDown:z,onMouseEnter:M,onMouseLeave:O,onMouseMove:R,onMouseUp:W,onTouchEnd:q,onTouchMove:V,onTouchStart:Z,ref:T},r)))}),k9e=["children","className","width","height","style","compact","title","desc"];function T9e(e,t){if(e==null)return{};var r,n,s=P9e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function P9e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ste=b.forwardRef((e,t)=>{var{children:r,className:n,width:s,height:i,style:o,compact:c,title:d,desc:u}=e,l=T9e(e,k9e),f=Qf(l);return c?b.createElement(s7,{otherAttributes:f,title:d,desc:u},r):b.createElement(A9e,{className:n,style:o,width:s,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},b.createElement(s7,{otherAttributes:f,title:d,desc:u,ref:t},b.createElement(rUe,null,r)))}),D9e=["width","height"];function xR(){return xR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xR.apply(null,arguments)}function R9e(e,t){if(e==null)return{};var r,n,s=M9e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function M9e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var O9e={top:5,right:5,bottom:5,left:5},I9e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:O9e,reverseStackOrder:!1,syncMethod:"index"},L9e=b.forwardRef(function(t,r){var n,s=ko(t.categoricalChartProps,I9e),{width:i,height:o}=s,c=R9e(s,D9e);if(!mp(i)||!mp(o))return null;var{chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:l,tooltipPayloadSearcher:f,categoricalChartProps:p}=t,g={chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:l,tooltipPayloadSearcher:f,eventEmitter:void 0};return b.createElement(yte,{preloadedState:{options:g},reduxStoreName:(n=p.id)!==null&&n!==void 0?n:d},b.createElement(ete,{chartData:p.data}),b.createElement(bte,{width:i,height:o,layout:s.layout,margin:s.margin}),b.createElement(wte,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),b.createElement(Ste,xR({},c,{width:i,height:o,ref:r})))}),B9e=["axis","item"],Cte=b.forwardRef((e,t)=>b.createElement(L9e,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:B9e,tooltipPayloadSearcher:jee,categoricalChartProps:e,ref:t}));function $9e(e){var t=vn();return b.useEffect(()=>{t(u9e(e))},[t,e]),null}var F9e=["width","height","layout"];function vR(){return vR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vR.apply(null,arguments)}function H9e(e,t){if(e==null)return{};var r,n,s=z9e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function z9e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var U9e={top:5,right:5,bottom:5,left:5},V9e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:U9e,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},W9e=b.forwardRef(function(t,r){var n,s=ko(t.categoricalChartProps,V9e),{width:i,height:o,layout:c}=s,d=H9e(s,F9e);if(!mp(i)||!mp(o))return null;var{chartName:u,defaultTooltipEventType:l,validateTooltipEventTypes:f,tooltipPayloadSearcher:p}=t,g={chartName:u,defaultTooltipEventType:l,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,eventEmitter:void 0};return b.createElement(yte,{preloadedState:{options:g},reduxStoreName:(n=s.id)!==null&&n!==void 0?n:u},b.createElement(ete,{chartData:s.data}),b.createElement(bte,{width:i,height:o,layout:c,margin:s.margin}),b.createElement(wte,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),b.createElement($9e,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),b.createElement(Ste,vR({width:i,height:o},d,{ref:r})))}),q9e=["item"],G9e={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Y9e=b.forwardRef((e,t)=>{var r=ko(e,G9e);return b.createElement(W9e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:q9e,tooltipPayloadSearcher:jee,categoricalChartProps:r,ref:t})});const yd={DoorDash:"#E4572E",UberEats:"#2E933C",GrubHub:"#D81B60",Phone:"#1E88E5",Call_Center:"#00897B",Website:"#F9A825",Mobile:"#8E24AA",Drive_Thru:"#6D4C41"},K9e=({title:e="Channel Sales",channels:t,className:r})=>{const{dailyRawData:n,weeklyRawData:s,isLoading:i,error:o}=Ba(),c=ea(),d=b.useMemo(()=>{if(!n)return[];const g=[];if(n.DoorDash_Sales!==void 0){const x=n.DoorDash_Sales||0,S=s?.DoorDash_Sales||0;g.push({id:"doordash",name:"DoorDash",daily:`$${x.toFixed(2)}`,weekly:`$${S.toFixed(2)}`})}if(n.UberEats_Sales!==void 0){const x=n.UberEats_Sales||0,S=s?.UberEats_Sales||0;g.push({id:"ubereats",name:"UberEats",daily:`$${x.toFixed(2)}`,weekly:`$${S.toFixed(2)}`})}if(n.GrubHub_Sales!==void 0){const x=n.GrubHub_Sales||0,S=s?.GrubHub_Sales||0;g.push({id:"grubhub",name:"GrubHub",daily:`$${x.toFixed(2)}`,weekly:`$${S.toFixed(2)}`})}if(n.Phone!==void 0){const x=n.Phone||0,S=s?.Phone||0;g.push({id:"phone",name:"Phone",daily:`$${x.toFixed(2)}`,weekly:`$${S.toFixed(2)}`})}if(n.Call_Center_Agent!==void 0){const x=n.Call_Center_Agent||0,S=s?.Call_Center_Agent||0;g.push({id:"call_center",name:"Call Center",daily:`$${x.toFixed(2)}`,weekly:`$${S.toFixed(2)}`})}if(n.Website!==void 0){const x=n.Website||0,S=s?.Website||0;g.push({id:"website",name:"Website",daily:`$${x.toFixed(2)}`,weekly:`$${S.toFixed(2)}`})}if(n.Mobile!==void 0){const x=n.Mobile||0,S=s?.Mobile||0;g.push({id:"mobile",name:"Mobile",daily:`$${x.toFixed(2)}`,weekly:`$${S.toFixed(2)}`})}if(n.Drive_Thru_Sales!==void 0){const x=n.Drive_Thru_Sales||0,S=s?.Drive_Thru_Sales||0;g.push({id:"drive_thru",name:"Drive Thru",daily:`$${x.toFixed(2)}`,weekly:`$${S.toFixed(2)}`})}return g},[n,s]),u=t||d,l=b.useMemo(()=>{if(!n)return[];const g=[{name:"DoorDash",value:n.DoorDash_Sales||0,fill:yd.DoorDash},{name:"UberEats",value:n.UberEats_Sales||0,fill:yd.UberEats},{name:"GrubHub",value:n.GrubHub_Sales||0,fill:yd.GrubHub},{name:"Phone",value:n.Phone||0,fill:yd.Phone},{name:"Call Center",value:n.Call_Center_Agent||0,fill:yd.Call_Center},{name:"Website",value:n.Website||0,fill:yd.Website},{name:"Mobile",value:n.Mobile||0,fill:yd.Mobile}];return n.Drive_Thru_Sales!==void 0&&g.push({name:"Drive Thru",value:n.Drive_Thru_Sales||0,fill:yd.Drive_Thru}),g.filter(x=>x.value>0)},[n]),f=({cx:g,cy:x,midAngle:S,innerRadius:m,outerRadius:y,percent:w})=>{if(w<.1)return null;const C=Math.PI/180,E=m+(y-m)*.5,N=g+E*Math.cos(-S*C),k=x+E*Math.sin(-S*C);return a.jsx("text",{x:N,y:k,fill:"white",textAnchor:N>g?"start":"end",dominantBaseline:"central",fontSize:12,fontWeight:"bold",children:`${(w*100).toFixed(0)}%`})},p=({active:g,payload:x})=>{if(g&&x&&x.length){const S=x[0];return a.jsxs("div",{className:"bg-white p-3 border border-gray-300 rounded shadow-lg",children:[a.jsx("p",{className:"font-semibold text-black",children:S.name}),a.jsxs("p",{className:"text-blue-600",children:["Sales: $",S.value?.toLocaleString()||0]}),a.jsxs("p",{className:"text-gray-600",children:[(S.value/l.reduce((m,y)=>m+y.value,0)*100).toFixed(1),"%"]})]})}return null};return a.jsxs("div",{className:J("w-full grid grid-cols-1 gap-8 p-2 overflow-hidden",c?"grid-cols-1":"grid-cols-2"),children:[a.jsxs(Se,{className:J("shadow-realistic-lg flex-shrink-0 overflow-hidden","w-full",r),children:[a.jsx(Me,{className:J("bg-channel-header text-channel-header-foreground rounded-t-lg",c?"p-3":"p-6"),children:a.jsx(Ve,{className:J("font-bold text-center",c?"text-base":"text-lg md:text-xl"),children:e})}),a.jsx(Ee,{className:"p-0",children:i?a.jsx("div",{className:"flex items-center justify-center h-48",children:a.jsx("div",{className:"text-gray-500",children:"Loading channel sales data..."})}):o?a.jsx("div",{className:"flex items-center justify-center h-48",children:a.jsx("div",{className:"text-red-500",children:"Error loading channel sales data"})}):u.length===0?a.jsx("div",{className:"flex items-center justify-center h-48",children:a.jsx("div",{className:"text-gray-500",children:"No channel sales data available"})}):a.jsx($Me,{channels:u})})]}),a.jsxs(Se,{className:J("shadow-realistic-lg flex-1 overflow-hidden","w-full"),children:[a.jsx(Me,{className:J("bg-channel-header text-channel-header-foreground rounded-t-lg",c?"p-3":"p-6"),children:a.jsx(Ve,{className:J("font-bold text-center",c?"text-base":"text-lg md:text-xl"),children:"Sales Distribution"})}),a.jsx(Ee,{className:J("p-4 overflow-hidden",c?"h-64":"h-96 "),children:i?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("div",{className:"text-gray-500",children:"Loading sales data..."})}):o?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("div",{className:"text-red-500",children:"Error loading sales data"})}):l.length===0?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("div",{className:"text-gray-500",children:"No sales data available"})}):a.jsx(n4,{width:"100%",height:"100%",children:a.jsxs(Y9e,{children:[a.jsx(qee,{data:l,cx:"50%",cy:"50%",labelLine:!1,label:f,outerRadius:c?60:90,fill:"#8884d8",dataKey:"value",children:l.map((g,x)=>a.jsx(sy,{fill:g.fill},`cell-${x}`))}),a.jsx(r4,{content:a.jsx(p,{})}),a.jsx(rg,{})]})})})]})]})},rn=b.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:J("w-full caption-bottom text-sm",e),...t})}));rn.displayName="Table";const nn=b.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:J("[&_tr]:border-b",e),...t}));nn.displayName="TableHeader";const sn=b.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:J("[&_tr:last-child]:border-0",e),...t}));sn.displayName="TableBody";const Z9e=b.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:J("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Z9e.displayName="TableFooter";const _t=b.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:J("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));_t.displayName="TableRow";const Re=b.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:J("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));Re.displayName="TableHead";const ke=b.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:J("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));ke.displayName="TableCell";const X9e=b.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:J("mt-4 text-sm text-muted-foreground",e),...t}));X9e.displayName="TableCaption";function Q9e(e){const t={};return!e||!e.hours||e.hours.length===0||e.hours.forEach((r,n)=>{const s=!!(r.Total_Sales&&r.Total_Sales>0);t[n]={hour:n,metrics:r,hasActivity:s}}),t}function J9e(e,t,r){const n=Array.from({length:24},(s,i)=>{const o=e[i];return o?o.metrics:{}});return{franchise_store:t,business_date:r,hours:n}}function jte(e){const t=[],r=[];DM(e.hour)||t.push(`Invalid hour index: ${e.hour}`);const n=e.metrics,s=["Total_Sales","Phone_Sales","Call_Center_Agent","Drive_Thru","Website","Mobile","Order_Count"];if(s.forEach(o=>{const c=n[o];c!==void 0&&typeof c!="number"&&t.push(`Field ${String(o)} must be a number`),typeof c=="number"&&c<0&&t.push(`Field ${String(o)} cannot be negative`)}),n.HNR){const{Transactions:o,Transactions_with_CC:c,Promise_Broken_Percent:d,Promise_Met_Percent:u,Promise_Met_Transactions:l}=n.HNR;(o<0||c<0||l<0)&&t.push("HNR numeric fields cannot be negative");const f=d+u;f>100+1e-6&&r.push("HNR percent sum exceeds 100"),f<99-1e-6&&r.push("HNR percent sum below 99")}const i=s.reduce((o,c)=>o+(n[c]!==void 0?1:0),0)/s.length*100;return{isValid:t.length===0,errors:t,warnings:r,completeness:i}}function e7e(e){const t=[],r=[];let n=0;for(let i=0;i<24;i++){const o=e[i];if(!o)continue;const c=jte(o);c.isValid||t.push(...c.errors.map(d=>`Hour ${i}: ${d}`)),r.push(...c.warnings.map(d=>`Hour ${i}: ${d}`)),n++}const s=n/24*100;return{isValid:t.length===0,errors:t,warnings:r,completeness:s}}function t7e(e){return Object.keys(e).map(t=>Number(t)).filter(t=>DM(t)&&(!!e[t]?.hasActivity||!!e[t]))}function r7e(e,t){const r={...e};return Object.entries(t).forEach(([n,s])=>{r[Number(n)]=s}),r}function n7e(e,t,r){const n=Array.from({length:24},(y,w)=>e[w]?.metrics||{}),s=n.reduce((y,w)=>y+(w.Total_Sales||0),0),i=n.reduce((y,w)=>y+(w.Order_Count||0),0),o=i>0?s/i:0;let c=0,d=0,u=0,l=0,f=0,p=0,g=0,x=0;n.forEach((y,w)=>{const C=y.Total_Sales||0;C>0&&u++,C>d&&(d=C,c=w),l+=y.Phone_Sales||0,f+=y.Call_Center_Agent||0,p+=y.Drive_Thru||0,g+=y.Website||0,x+=y.Mobile||0});const S=g+x,m=s>0?S/s*100:0;return{storeId:t,date:r,totalDailySales:s,totalOrderCount:i,averageOrderValue:o,peakSalesHour:c,peakSalesAmount:d,activeHours:u,digitalSalesPercentage:m,channelBreakdown:{phone:{amount:l,percentage:s?l/s*100:0,orderCount:0,averageOrderValue:0},callCenter:{amount:f,percentage:s?f/s*100:0,orderCount:0,averageOrderValue:0},driveThru:{amount:p,percentage:s?p/s*100:0,orderCount:0,averageOrderValue:0},website:{amount:g,percentage:s?g/s*100:0,orderCount:0,averageOrderValue:0},mobile:{amount:x,percentage:s?x/s*100:0,orderCount:0,averageOrderValue:0}}}}const s7e=(e={})=>{const{defaultFilter:t,defaultSort:r="hour_asc",enableLogging:n=!1,configOverrides:s}=e,i=$t(),{isLoading:o}=vO(),c=pe(H=>oEe(H)),d=pe(H=>lEe(H)),u=pe(H=>cEe(H)),l=pe(H=>dEe(H)),f=pe(H=>uEe(H)),p=pe(H=>fEe(H)),g=pe(H=>hEe(H)),x=pe(H=>mEe(H)),S=pe(H=>pEe(H));b.useMemo(()=>{t&&!c.currentFilter&&i(x8(t)),r!==c.currentSort&&i(v8(r))},[t,r,c.currentFilter,c.currentSort,i]),b.useMemo(()=>{s&&(i(y8(s)),n&&console.log("[useHourlySales] Configuration overrides applied",s))},[s,i,n]);const m=b.useCallback(H=>{i(x8(H)),n&&console.log("[useHourlySales] Filter updated",H)},[i,n]),y=b.useCallback(H=>{i(v8(H)),n&&console.log("[useHourlySales] Sort updated",H)},[i,n]),w=b.useCallback(H=>{i(y8(H)),n&&console.log("[useHourlySales] Configuration updated",H)},[i,n]),C=b.useCallback(()=>{i(Jje()),n&&console.log("[useHourlySales] Data reprocessing triggered")},[i,n]),E=b.useCallback(()=>{i(Xje()),n&&console.log("[useHourlySales] State reset")},[i,n]),N=b.useCallback(()=>{i(Qje()),n&&console.log("[useHourlySales] Error cleared")},[i,n]),k=b.useCallback(H=>!u||!DM(H)?null:u.find(K=>K.hour===H)||null,[u]),A=b.useCallback(H=>u?u.filter(K=>K.hour>=H.startHour&&K.hour<=H.endHour):[],[u]),T=b.useCallback(()=>{if(!u||!l)return null;const H=k(l.peakSalesHour);if(!H)return null;const K=Y=>{const re=Y>=12?"PM":"AM";return`${Y===0?12:Y>12?Y-12:Y}:00 ${re}`};return{peakHour:l.peakSalesHour,peakAmount:l.peakSalesAmount,peakOrders:H.Order_Count||0,timeDescription:K(l.peakSalesHour),percentageOfDaily:l.totalDailySales>0?l.peakSalesAmount/l.totalDailySales*100:0}},[u,l,k]),P=b.useCallback((H,K)=>{const Y=u?.filter(le=>le.hour>=H&&le.hour<=K)||[],re=Y.reduce((le,Te)=>le+(Te.Total_Sales||0),0),me=Y.reduce((le,Te)=>le+(Te.Order_Count||0),0),de=Y.filter(le=>le.hasActivity).length,he=K-H+1,ee=Y.reduce((le,Te)=>(Te.Total_Sales||0)>(le.Total_Sales||0)?Te:le),ie=l?l.totalDailySales/24:0,ye=re/he;return{period:{startHour:H,endHour:K},totalSales:re,totalOrders:me,averageOrderValue:me>0?re/me:0,salesPerHour:he>0?re/he:0,activeHours:de,bestHour:ee.hour,vsDaily:ie>0?(ye-ie)/ie*100:0}},[u,l]),M=b.useCallback(()=>{if(!u||!l)return null;const H={};Object.values(ys).forEach(ee=>{let ie=0,ye=0,le=0,Te=0;u.forEach(Ae=>{let ae=0;switch(ee){case ys.WEBSITE:ae=Ae.Website||0;break;case ys.MOBILE:ae=Ae.Mobile||0;break;case ys.PHONE_SALES:ae=Ae.Phone_Sales||0;break;case ys.DRIVE_THRU:ae=Ae.Drive_Thru||0;break;case ys.CALL_CENTER:ae=Ae.Call_Center_Agent||0;break}ie+=ae,Ae.primaryChannel===ee&&(ye+=Ae.Order_Count||0),ae>Te&&(Te=ae,le=Ae.hour)}),H[ee]={sales:ie,orders:ye,averageOrderValue:ye>0?ie/ye:0,percentage:l.totalDailySales>0?ie/l.totalDailySales*100:0,peakHour:le}});const K=Object.entries(H).reduce((ee,[ie,ye])=>ye.sales>ee[1].sales?[ie,ye]:ee)[0],Y=H[ys.WEBSITE].sales+H[ys.MOBILE].sales,re=l.totalDailySales-Y,me=l.totalDailySales>0?Y/l.totalDailySales*100:0,de=Object.values(H).filter(ee=>ee.sales>0),he=de.length>1?Math.min(100,de.length/Object.keys(H).length*100):0;return{channels:H,topChannel:K,digitalVsTraditional:{digital:Y,traditional:re,digitalPercentage:me},diversityScore:he}},[u,l]),O=b.useCallback(H=>u?u.filter(K=>{if(H.minSales!==void 0&&(K.Total_Sales||0)<H.minSales||H.maxSales!==void 0&&(K.Total_Sales||0)>H.maxSales||H.activeOnly&&!K.hasActivity||H.channels&&H.channels.length>0&&(!K.primaryChannel||!H.channels.includes(K.primaryChannel)))return!1;if(H.aboveAverage&&l){const Y=l.totalDailySales/24;if((K.Total_Sales||0)<=Y)return!1}return!0}):[],[u,l]),R=b.useCallback(()=>!!(u&&u.length>0&&g?.isValid),[u,g]),L=b.useCallback(()=>{if(!g||!u)return{overallScore:0,completeness:0,consistency:0,anomalies:0,issues:["No data available"],level:"Critical"};const H=g.completeness,K=u.filter(ie=>ie.hasActivity).map(ie=>ie.Total_Sales||0),Y=K.reduce((ie,ye)=>ie+ye,0)/K.length||0,re=K.reduce((ie,ye)=>ie+Math.pow(ye-Y,2),0)/K.length||0,me=Y>0?Math.max(0,100-Math.sqrt(re)/Y*100):0;let de=0;for(let ie=1;ie<u.length-1;ie++){const ye=u[ie].Total_Sales||0,le=u[ie-1].Total_Sales||0,Te=u[ie+1].Total_Sales||0,Ae=(le+Te)/2;Ae>0&&Math.abs(ye-Ae)/Ae>3&&de++}const he=(H+me)/2;let ee="Critical";return he>=90?ee="Excellent":he>=75?ee="Good":he>=60?ee="Fair":he>=40&&(ee="Poor"),{overallScore:he,completeness:H,consistency:me,anomalies:de,issues:[...g.errors,...g.warnings],level:ee}},[g,u]),B=b.useCallback(H=>{if(!u||!l)throw new Error("No data available for export");const K=new Date().toISOString(),Y=`${l.date}`;let re,me;switch(H){case"csv":const de="Hour,Total Sales,Order Count,Website,Mobile,Phone,Drive Thru,Has Activity,Average Order Value,Digital %",he=u.map(ee=>`${ee.hour},${ee.Total_Sales||0},${ee.Order_Count||0},${ee.Website||0},${ee.Mobile||0},${ee.Phone_Sales||0},${ee.Drive_Thru||0},${ee.hasActivity},${ee.averageOrderValue.toFixed(2)},${ee.digitalSalesPercentage.toFixed(2)}`).join(`
`);re=`${de}
${he}`,me=`hourly-sales-${l.storeId}-${l.date}.csv`;break;case"json":re={summary:l,hourlyData:u,periodAnalysis:f,trends:p,validation:g},me=`hourly-sales-${l.storeId}-${l.date}.json`;break;case"summary":re={store:l.storeId,date:l.date,totalSales:l.totalDailySales,totalOrders:l.totalOrderCount,averageOrderValue:l.averageOrderValue,peakHour:l.peakSalesHour,peakSales:l.peakSalesAmount,activeHours:l.activeHours,digitalPercentage:l.digitalSalesPercentage},me=`sales-summary-${l.storeId}-${l.date}.json`;break;case"chart-data":re={labels:u.map(ee=>`${ee.hour}:00`),datasets:[{label:"Total Sales",data:u.map(ee=>ee.Total_Sales||0)},{label:"Order Count",data:u.map(ee=>ee.Order_Count||0)}]},me=`chart-data-${l.storeId}-${l.date}.json`;break;default:throw new Error(`Unsupported export format: ${H}`)}return{format:H,data:re,filename:me,metadata:{exportDate:K,recordCount:u.length,dateRange:Y}}},[u,l,f,p,g]),F=b.useCallback(H=>Q9e(H),[]),$=b.useCallback((H,K,Y)=>J9e(H,K,Y),[]),z=b.useCallback(H=>jte(H),[]),W=b.useCallback(H=>e7e(H),[]),Z=b.useCallback(H=>t7e(H),[]),V=b.useCallback((H,K)=>r7e(H,K),[]),q=b.useCallback((H,K,Y)=>n7e(H,K,Y),[]);return{rawData:d,processedData:u,summary:l,periodAnalysis:f,trends:p,validation:g,isLoading:x||o,error:S,currentFilter:c.currentFilter,currentSort:c.currentSort,setFilter:m,setSort:y,updateConfig:w,reprocessData:C,resetState:E,clearError:N,getHourData:k,getPeriodData:A,getPeakSalesInfo:T,calculatePeriodPerformance:P,getChannelAnalysis:M,findHours:O,hasValidData:R,getDataQuality:L,exportData:B,createFrontendHourlyMapFromBackend:F,createBackendFromFrontendHourlyMap:$,validateFrontendHourlyEntry:z,validateFrontendHourlyMap:W,getAvailableFrontendHours:Z,mergeFrontendHourlyMaps:V,computeSummaryFromFrontend:q}},a7e=()=>{const{processedData:e,summary:t,isLoading:r,error:n,hasValidData:s}=s7e();return{data:e,summary:t,isLoading:r,error:n,hasData:s()}},fm=e=>{const t=e??0;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)},i7e=e=>`${(e??0).toFixed(1)}%`,o7e=e=>{const t=e>=12?"PM":"AM";return`${e===0?12:e>12?e-12:e}:00 ${t}`},l7e=({title:e="Daily Hours",subtitle:t,className:r})=>{const{data:n,error:s,hasData:i,isLoading:o}=a7e(),c=ea(),d=b.useMemo(()=>[...n||[]].sort((p,g)=>{const x=p.hour<=3?p.hour+24:p.hour,S=g.hour<=3?g.hour+24:g.hour;return x-S}).map(p=>({hourLabel:o7e(p.hour),totalSales:fm(p.Total_Sales),orders:p.Order_Count??0,website:fm(p.Website),mobile:fm(p.Mobile),phone:fm(p.Phone_Sales),driveThru:fm(p.Drive_Thru),aov:fm(p.averageOrderValue),digitalPct:i7e(p.digitalSalesPercentage),hasActivity:p.hasActivity})),[n]),u=()=>a.jsxs("div",{className:J("w-full bg-card rounded-lg border border-border p-6 shadow-realistic","flex flex-col items-center justify-center text-center space-y-2",c?"min-h-40":"min-h-56"),children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-muted",children:a.jsx(ol,{className:"w-5 h-5 text-muted-foreground"})}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"No hourly sales data available"})]}),l=()=>a.jsxs("div",{className:J("w-full bg-card rounded-lg border border-destructive/20 p-6 shadow-realistic","flex flex-col items-center justify-center text-center space-y-2",c?"min-h-40":"min-h-56"),children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-destructive/10",children:a.jsx(ol,{className:"w-5 h-5 text-destructive"})}),a.jsx("div",{className:"text-sm text-destructive",children:"Failed to load hourly sales data"})]});return a.jsxs("section",{className:J(c?"p-2 space-y-2":"p-2 space-y-6",r),children:[a.jsx(CE,{title:e,subtitle:t}),s?a.jsx(l,{}):!i||!n||n.length===0?a.jsx(u,{}):a.jsxs(Se,{className:J("shadow-realistic transition-opacity",o&&"opacity-50 pointer-events-none"),children:[a.jsx(Me,{className:"py-3",children:a.jsx(Ve,{className:"text-base text-center",children:"Hourly Sales"})}),a.jsx(Ee,{className:"p-3",children:a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsxs(rn,{className:"min-w-[800px]",children:[a.jsx(nn,{children:a.jsxs(_t,{children:[a.jsx(Re,{className:"whitespace-nowrap",children:"Hour"}),a.jsx(Re,{className:"whitespace-nowrap",children:"Total Sales"}),a.jsx(Re,{className:"whitespace-nowrap",children:"Orders"}),a.jsx(Re,{className:"whitespace-nowrap",children:"Website"}),a.jsx(Re,{className:"whitespace-nowrap",children:"Mobile"}),a.jsx(Re,{className:"whitespace-nowrap",children:"Phone"}),a.jsx(Re,{className:"whitespace-nowrap",children:"Drive Thru"}),a.jsx(Re,{className:"whitespace-nowrap",children:"Avg Order"}),a.jsx(Re,{className:"whitespace-nowrap",children:"Digital %"})]})}),a.jsx(sn,{children:d.map((f,p)=>a.jsxs(_t,{className:J(!f.hasActivity&&"opacity-60"),children:[a.jsx(ke,{children:f.hourLabel}),a.jsx(ke,{children:f.totalSales}),a.jsx(ke,{children:f.orders}),a.jsx(ke,{children:f.website}),a.jsx(ke,{children:f.mobile}),a.jsx(ke,{children:f.phone}),a.jsx(ke,{children:f.driveThru}),a.jsx(ke,{children:f.aov}),a.jsx(ke,{children:f.digitalPct})]},p))})]})})})]})]})};function c7e(e,t,r="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:r}).format(t).split(/\s/g).slice(2).join(" ")}const d7e={},av={};function sf(e,t){try{const n=(d7e[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return n in av?av[n]:i7(n,n.split(":"))}catch{if(e in av)return av[e];const r=e?.match(u7e);return r?i7(e,r.slice(1)):NaN}}const u7e=/([+-]\d\d):?(\d\d)?/;function i7(e,t){const r=+(t[0]||0),n=+(t[1]||0),s=+(t[2]||0)/60;return av[e]=r*60+n>0?r*60+n+s:r*60-n-s}class Jo extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(sf(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),Ete(this),yR(this)):this.setTime(Date.now())}static tz(t,...r){return r.length?new Jo(...r,t):new Jo(Date.now(),t)}withTimeZone(t){return new Jo(+this,t)}getTimezoneOffset(){const t=-sf(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),yR(this),+this}[Symbol.for("constructDateFrom")](t){return new Jo(+new Date(t),this.timeZone)}}const o7=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!o7.test(e))return;const t=e.replace(o7,"$1UTC");Jo.prototype[t]&&(e.startsWith("get")?Jo.prototype[e]=function(){return this.internal[t]()}:(Jo.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),f7e(this),+this},Jo.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),yR(this),+this}))});function yR(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-sf(e.timeZone,e)*60))}function f7e(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),Ete(e)}function Ete(e){const t=sf(e.timeZone,e),r=t>0?Math.floor(t):Math.ceil(t),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);const s=-new Date(+e).getTimezoneOffset(),i=-new Date(+n).getTimezoneOffset(),o=s-i,c=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();o&&c&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+o);const d=s-r;d&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+d);const u=new Date(+e);u.setUTCSeconds(0);const l=s>0?u.getSeconds():(u.getSeconds()-60)%60,f=Math.round(-(sf(e.timeZone,e)*60))%60;(f||l)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+f),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+f+l));const p=sf(e.timeZone,e),g=p>0?Math.floor(p):Math.ceil(p),S=-new Date(+e).getTimezoneOffset()-g,m=g!==r,y=S-d;if(m&&y){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+y);const w=sf(e.timeZone,e),C=w>0?Math.floor(w):Math.ceil(w),E=g-C;E&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+E),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+E))}}class Ws extends Jo{static tz(t,...r){return r.length?new Ws(...r,t):new Ws(Date.now(),t)}toISOString(){const[t,r,n]=this.tzComponents(),s=`${t}${r}:${n}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,r,n,s]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${n} ${r} ${s}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[r,n,s]=this.tzComponents();return`${t} GMT${r}${n}${s} (${c7e(this.timeZone,this)})`}toLocaleString(t,r){return Date.prototype.toLocaleString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleDateString(t,r){return Date.prototype.toLocaleDateString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleTimeString(t,r){return Date.prototype.toLocaleTimeString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),r=t>0?"-":"+",n=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),s=String(Math.abs(t)%60).padStart(2,"0");return[r,n,s]}withTimeZone(t){return new Ws(+this,t)}[Symbol.for("constructDateFrom")](t){return new Ws(+new Date(t),this.timeZone)}}const Nte=6048e5,h7e=864e5,l7=Symbol.for("constructDateFrom");function as(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&l7 in e?e[l7](t):e instanceof Date?new e.constructor(t):new Date(t)}function Or(e,t){return as(t||e,e)}function _te(e,t,r){const n=Or(e,r?.in);return isNaN(t)?as(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Ate(e,t,r){const n=Or(e,r?.in);if(isNaN(t))return as(e,NaN);if(!t)return n;const s=n.getDate(),i=as(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const o=i.getDate();return s>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}let m7e={};function iy(){return m7e}function Sp(e,t){const r=iy(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Or(e,t?.in),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Xv(e,t){return Sp(e,{...t,weekStartsOn:1})}function kte(e,t){const r=Or(e,t?.in),n=r.getFullYear(),s=as(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=Xv(s),o=as(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const c=Xv(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function c7(e){const t=Or(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function hg(e,...t){const r=as.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function Qv(e,t){const r=Or(e,t?.in);return r.setHours(0,0,0,0),r}function Tte(e,t,r){const[n,s]=hg(r?.in,e,t),i=Qv(n),o=Qv(s),c=+i-c7(i),d=+o-c7(o);return Math.round((c-d)/h7e)}function p7e(e,t){const r=kte(e,t),n=as(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Xv(n)}function g7e(e,t,r){return _te(e,t*7,r)}function x7e(e,t,r){return Ate(e,t*12,r)}function v7e(e,t){let r,n=t?.in;return e.forEach(s=>{!n&&typeof s=="object"&&(n=as.bind(null,s));const i=Or(s,n);(!r||r<i||isNaN(+i))&&(r=i)}),as(n,r||NaN)}function y7e(e,t){let r,n=t?.in;return e.forEach(s=>{!n&&typeof s=="object"&&(n=as.bind(null,s));const i=Or(s,n);(!r||r>i||isNaN(+i))&&(r=i)}),as(n,r||NaN)}function b7e(e,t,r){const[n,s]=hg(r?.in,e,t);return+Qv(n)==+Qv(s)}function Pte(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function w7e(e){return!(!Pte(e)&&typeof e!="number"||isNaN(+Or(e)))}function S7e(e,t,r){const[n,s]=hg(r?.in,e,t),i=n.getFullYear()-s.getFullYear(),o=n.getMonth()-s.getMonth();return i*12+o}function C7e(e,t){const r=Or(e,t?.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function j7e(e,t){const[r,n]=hg(e,t.start,t.end);return{start:r,end:n}}function E7e(e,t){const{start:r,end:n}=j7e(t?.in,e);let s=+r>+n;const i=s?+r:+n,o=s?n:r;o.setHours(0,0,0,0),o.setDate(1);let c=1;const d=[];for(;+o<=i;)d.push(as(r,o)),o.setMonth(o.getMonth()+c);return s?d.reverse():d}function N7e(e,t){const r=Or(e,t?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function _7e(e,t){const r=Or(e,t?.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function Dte(e,t){const r=Or(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Rte(e,t){const r=iy(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Or(e,t?.in),i=s.getDay(),o=(i<n?-7:0)+6-(i-n);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function A7e(e,t){return Rte(e,{...t,weekStartsOn:1})}const k7e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},T7e=(e,t,r)=>{let n;const s=k7e[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function rP(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const P7e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},D7e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},R7e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},M7e={date:rP({formats:P7e,defaultWidth:"full"}),time:rP({formats:D7e,defaultWidth:"full"}),dateTime:rP({formats:R7e,defaultWidth:"full"})},O7e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},I7e=(e,t,r,n)=>O7e[e];function Gx(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,c=r?.width?String(r.width):o;s=e.formattingValues[c]||e.formattingValues[o]}else{const o=e.defaultWidth,c=r?.width?String(r.width):e.defaultWidth;s=e.values[c]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const L7e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},B7e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$7e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},F7e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},H7e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},z7e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},U7e=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},V7e={ordinalNumber:U7e,era:Gx({values:L7e,defaultWidth:"wide"}),quarter:Gx({values:B7e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Gx({values:$7e,defaultWidth:"wide"}),day:Gx({values:F7e,defaultWidth:"wide"}),dayPeriod:Gx({values:H7e,defaultWidth:"wide",formattingValues:z7e,defaultFormattingWidth:"wide"})};function Yx(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(c)?q7e(c,f=>f.test(o)):W7e(c,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(d):d,u=r.valueCallback?r.valueCallback(u):u;const l=t.slice(o.length);return{value:u,rest:l}}}function W7e(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function q7e(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function G7e(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const c=t.slice(s.length);return{value:o,rest:c}}}const Y7e=/^(\d+)(th|st|nd|rd)?/i,K7e=/\d+/i,Z7e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},X7e={any:[/^b/i,/^(a|c)/i]},Q7e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},J7e={any:[/1/i,/2/i,/3/i,/4/i]},eVe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},tVe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},rVe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nVe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},sVe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},aVe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},iVe={ordinalNumber:G7e({matchPattern:Y7e,parsePattern:K7e,valueCallback:e=>parseInt(e,10)}),era:Yx({matchPatterns:Z7e,defaultMatchWidth:"wide",parsePatterns:X7e,defaultParseWidth:"any"}),quarter:Yx({matchPatterns:Q7e,defaultMatchWidth:"wide",parsePatterns:J7e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Yx({matchPatterns:eVe,defaultMatchWidth:"wide",parsePatterns:tVe,defaultParseWidth:"any"}),day:Yx({matchPatterns:rVe,defaultMatchWidth:"wide",parsePatterns:nVe,defaultParseWidth:"any"}),dayPeriod:Yx({matchPatterns:sVe,defaultMatchWidth:"any",parsePatterns:aVe,defaultParseWidth:"any"})},b4={code:"en-US",formatDistance:T7e,formatLong:M7e,formatRelative:I7e,localize:V7e,match:iVe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function oVe(e,t){const r=Or(e,t?.in);return Tte(r,Dte(r))+1}function Mte(e,t){const r=Or(e,t?.in),n=+Xv(r)-+p7e(r);return Math.round(n/Nte)+1}function Ote(e,t){const r=Or(e,t?.in),n=r.getFullYear(),s=iy(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=as(t?.in||e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const c=Sp(o,t),d=as(t?.in||e,0);d.setFullYear(n,0,i),d.setHours(0,0,0,0);const u=Sp(d,t);return+r>=+c?n+1:+r>=+u?n:n-1}function lVe(e,t){const r=iy(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=Ote(e,t),i=as(t?.in||e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Sp(i,t)}function Ite(e,t){const r=Or(e,t?.in),n=+Sp(r,t)-+lVe(r,t);return Math.round(n/Nte)+1}function _r(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const bd={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return _r(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):_r(r+1,2)},d(e,t){return _r(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return _r(e.getHours()%12||12,t.length)},H(e,t){return _r(e.getHours(),t.length)},m(e,t){return _r(e.getMinutes(),t.length)},s(e,t){return _r(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return _r(s,t.length)}},hm={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},d7={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return bd.y(e,t)},Y:function(e,t,r,n){const s=Ote(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return _r(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):_r(i,t.length)},R:function(e,t){const r=kte(e);return _r(r,t.length)},u:function(e,t){const r=e.getFullYear();return _r(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return _r(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return _r(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return bd.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return _r(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=Ite(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):_r(s,t.length)},I:function(e,t,r){const n=Mte(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):_r(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):bd.d(e,t)},D:function(e,t,r){const n=oVe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):_r(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return _r(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return _r(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return _r(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=hm.noon:n===0?s=hm.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=hm.evening:n>=12?s=hm.afternoon:n>=4?s=hm.morning:s=hm.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return bd.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):bd.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):_r(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):_r(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):bd.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):bd.s(e,t)},S:function(e,t){return bd.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return f7(n);case"XXXX":case"XX":return qu(n);case"XXXXX":case"XXX":default:return qu(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return f7(n);case"xxxx":case"xx":return qu(n);case"xxxxx":case"xxx":default:return qu(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+u7(n,":");case"OOOO":default:return"GMT"+qu(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+u7(n,":");case"zzzz":default:return"GMT"+qu(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return _r(n,t.length)},T:function(e,t,r){return _r(+e,t.length)}};function u7(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+_r(i,2)}function f7(e,t){return e%60===0?(e>0?"-":"+")+_r(Math.abs(e)/60,2):qu(e,t)}function qu(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=_r(Math.trunc(n/60),2),i=_r(n%60,2);return r+s+t+i}const h7=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Lte=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},cVe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return h7(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",h7(n,t)).replace("{{time}}",Lte(s,t))},dVe={p:Lte,P:cVe},uVe=/^D+$/,fVe=/^Y+$/,hVe=["D","DD","YY","YYYY"];function mVe(e){return uVe.test(e)}function pVe(e){return fVe.test(e)}function gVe(e,t,r){const n=xVe(e,t,r);if(console.warn(n),hVe.includes(e))throw new RangeError(n)}function xVe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const vVe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yVe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bVe=/^'([^]*?)'?$/,wVe=/''/g,SVe=/[a-zA-Z]/;function CVe(e,t,r){const n=iy(),s=r?.locale??n.locale??b4,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,c=Or(e,r?.in);if(!w7e(c))throw new RangeError("Invalid time value");let d=t.match(yVe).map(l=>{const f=l[0];if(f==="p"||f==="P"){const p=dVe[f];return p(l,s.formatLong)}return l}).join("").match(vVe).map(l=>{if(l==="''")return{isToken:!1,value:"'"};const f=l[0];if(f==="'")return{isToken:!1,value:jVe(l)};if(d7[f])return{isToken:!0,value:l};if(f.match(SVe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:l}});s.localize.preprocessor&&(d=s.localize.preprocessor(c,d));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return d.map(l=>{if(!l.isToken)return l.value;const f=l.value;(!r?.useAdditionalWeekYearTokens&&pVe(f)||!r?.useAdditionalDayOfYearTokens&&mVe(f))&&gVe(f,t,String(e));const p=d7[f[0]];return p(c,f,s.localize,u)}).join("")}function jVe(e){const t=e.match(bVe);return t?t[1].replace(wVe,"'"):e}function EVe(e,t){const r=Or(e,t?.in),n=r.getFullYear(),s=r.getMonth(),i=as(r,0);return i.setFullYear(n,s+1,0),i.setHours(0,0,0,0),i.getDate()}function NVe(e,t){return Or(e,t?.in).getMonth()}function _Ve(e,t){return Or(e,t?.in).getFullYear()}function AVe(e,t){return+Or(e)>+Or(t)}function kVe(e,t){return+Or(e)<+Or(t)}function TVe(e,t,r){const[n,s]=hg(r?.in,e,t);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function PVe(e,t,r){const[n,s]=hg(r?.in,e,t);return n.getFullYear()===s.getFullYear()}function DVe(e,t,r){const n=Or(e,r?.in),s=n.getFullYear(),i=n.getDate(),o=as(e,0);o.setFullYear(s,t,15),o.setHours(0,0,0,0);const c=EVe(o);return n.setMonth(t,Math.min(i,c)),n}function RVe(e,t,r){const n=Or(e,r?.in);return isNaN(+n)?as(e,NaN):(n.setFullYear(t),n)}const m7=5,MVe=4;function OVe(e,t){const r=t.startOfMonth(e),n=r.getDay()>0?r.getDay():7,s=t.addDays(e,-n+1),i=t.addDays(s,m7*7-1);return t.getMonth(e)===t.getMonth(i)?m7:MVe}function Bte(e,t){const r=t.startOfMonth(e),n=r.getDay();return n===1?r:n===0?t.addDays(r,-1*6):t.addDays(r,-1*(n-1))}function IVe(e,t){const r=Bte(e,t),n=OVe(e,t);return t.addDays(r,n*7-1)}class pi{constructor(t,r){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?Ws.tz(this.options.timeZone):new this.Date,this.newDate=(n,s,i)=>this.overrides?.newDate?this.overrides.newDate(n,s,i):this.options.timeZone?new Ws(n,s,i,this.options.timeZone):new Date(n,s,i),this.addDays=(n,s)=>this.overrides?.addDays?this.overrides.addDays(n,s):_te(n,s),this.addMonths=(n,s)=>this.overrides?.addMonths?this.overrides.addMonths(n,s):Ate(n,s),this.addWeeks=(n,s)=>this.overrides?.addWeeks?this.overrides.addWeeks(n,s):g7e(n,s),this.addYears=(n,s)=>this.overrides?.addYears?this.overrides.addYears(n,s):x7e(n,s),this.differenceInCalendarDays=(n,s)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(n,s):Tte(n,s),this.differenceInCalendarMonths=(n,s)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(n,s):S7e(n,s),this.eachMonthOfInterval=n=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(n):E7e(n),this.endOfBroadcastWeek=n=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(n):IVe(n,this),this.endOfISOWeek=n=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(n):A7e(n),this.endOfMonth=n=>this.overrides?.endOfMonth?this.overrides.endOfMonth(n):C7e(n),this.endOfWeek=(n,s)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(n,s):Rte(n,this.options),this.endOfYear=n=>this.overrides?.endOfYear?this.overrides.endOfYear(n):_7e(n),this.format=(n,s,i)=>{const o=this.overrides?.format?this.overrides.format(n,s,this.options):CVe(n,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(o):o},this.getISOWeek=n=>this.overrides?.getISOWeek?this.overrides.getISOWeek(n):Mte(n),this.getMonth=(n,s)=>this.overrides?.getMonth?this.overrides.getMonth(n,this.options):NVe(n,this.options),this.getYear=(n,s)=>this.overrides?.getYear?this.overrides.getYear(n,this.options):_Ve(n,this.options),this.getWeek=(n,s)=>this.overrides?.getWeek?this.overrides.getWeek(n,this.options):Ite(n,this.options),this.isAfter=(n,s)=>this.overrides?.isAfter?this.overrides.isAfter(n,s):AVe(n,s),this.isBefore=(n,s)=>this.overrides?.isBefore?this.overrides.isBefore(n,s):kVe(n,s),this.isDate=n=>this.overrides?.isDate?this.overrides.isDate(n):Pte(n),this.isSameDay=(n,s)=>this.overrides?.isSameDay?this.overrides.isSameDay(n,s):b7e(n,s),this.isSameMonth=(n,s)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(n,s):TVe(n,s),this.isSameYear=(n,s)=>this.overrides?.isSameYear?this.overrides.isSameYear(n,s):PVe(n,s),this.max=n=>this.overrides?.max?this.overrides.max(n):v7e(n),this.min=n=>this.overrides?.min?this.overrides.min(n):y7e(n),this.setMonth=(n,s)=>this.overrides?.setMonth?this.overrides.setMonth(n,s):DVe(n,s),this.setYear=(n,s)=>this.overrides?.setYear?this.overrides.setYear(n,s):RVe(n,s),this.startOfBroadcastWeek=(n,s)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(n,this):Bte(n,this),this.startOfDay=n=>this.overrides?.startOfDay?this.overrides.startOfDay(n):Qv(n),this.startOfISOWeek=n=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(n):Xv(n),this.startOfMonth=n=>this.overrides?.startOfMonth?this.overrides.startOfMonth(n):N7e(n),this.startOfWeek=(n,s)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(n,this.options):Sp(n,this.options),this.startOfYear=n=>this.overrides?.startOfYear?this.overrides.startOfYear(n):Dte(n),this.options={locale:b4,...t},this.overrides=r}getDigitMap(){const{numerals:t="latn"}=this.options,r=new Intl.NumberFormat("en-US",{numberingSystem:t}),n={};for(let s=0;s<10;s++)n[s.toString()]=r.format(s);return n}replaceDigits(t){const r=this.getDigitMap();return t.replace(/\d/g,n=>r[n]||n)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&pi.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:r,timeZone:n,numerals:s}=this.options,i=r?.code;if(i&&pi.yearFirstLocales.has(i))try{return new Intl.DateTimeFormat(i,{month:"long",year:"numeric",timeZone:n,numberingSystem:s}).format(t)}catch{}const o=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,o)}}pi.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const gl=new pi;class $te{constructor(t,r,n=gl){this.date=t,this.displayMonth=r,this.outside=!!(r&&!n.isSameMonth(t,r)),this.dateLib=n}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class LVe{constructor(t,r){this.date=t,this.weeks=r}}class BVe{constructor(t,r){this.days=r,this.weekNumber=t}}function $Ve(e){return ve.createElement("button",{...e})}function FVe(e){return ve.createElement("span",{...e})}function HVe(e){const{size:t=24,orientation:r="left",className:n}=e;return ve.createElement("svg",{className:n,width:t,height:t,viewBox:"0 0 24 24"},r==="up"&&ve.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),r==="down"&&ve.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),r==="left"&&ve.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),r==="right"&&ve.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function zVe(e){const{day:t,modifiers:r,...n}=e;return ve.createElement("td",{...n})}function UVe(e){const{day:t,modifiers:r,...n}=e,s=ve.useRef(null);return ve.useEffect(()=>{r.focused&&s.current?.focus()},[r.focused]),ve.createElement("button",{ref:s,...n})}var yt;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(yt||(yt={}));var dn;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(dn||(dn={}));var go;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(go||(go={}));var Za;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(Za||(Za={}));function VVe(e){const{options:t,className:r,components:n,classNames:s,...i}=e,o=[s[yt.Dropdown],r].join(" "),c=t?.find(({value:d})=>d===i.value);return ve.createElement("span",{"data-disabled":i.disabled,className:s[yt.DropdownRoot]},ve.createElement(n.Select,{className:o,...i},t?.map(({value:d,label:u,disabled:l})=>ve.createElement(n.Option,{key:d,value:d,disabled:l},u))),ve.createElement("span",{className:s[yt.CaptionLabel],"aria-hidden":!0},c?.label,ve.createElement(n.Chevron,{orientation:"down",size:18,className:s[yt.Chevron]})))}function WVe(e){return ve.createElement("div",{...e})}function qVe(e){return ve.createElement("div",{...e})}function GVe(e){const{calendarMonth:t,displayIndex:r,...n}=e;return ve.createElement("div",{...n},e.children)}function YVe(e){const{calendarMonth:t,displayIndex:r,...n}=e;return ve.createElement("div",{...n})}function KVe(e){return ve.createElement("table",{...e})}function ZVe(e){return ve.createElement("div",{...e})}const Fte=b.createContext(void 0);function oy(){const e=b.useContext(Fte);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function XVe(e){const{components:t}=oy();return ve.createElement(t.Dropdown,{...e})}function QVe(e){const{onPreviousClick:t,onNextClick:r,previousMonth:n,nextMonth:s,...i}=e,{components:o,classNames:c,labels:{labelPrevious:d,labelNext:u}}=oy(),l=b.useCallback(p=>{s&&r?.(p)},[s,r]),f=b.useCallback(p=>{n&&t?.(p)},[n,t]);return ve.createElement("nav",{...i},ve.createElement(o.PreviousMonthButton,{type:"button",className:c[yt.PreviousMonthButton],tabIndex:n?void 0:-1,"aria-disabled":n?void 0:!0,"aria-label":d(n),onClick:f},ve.createElement(o.Chevron,{disabled:n?void 0:!0,className:c[yt.Chevron],orientation:"left"})),ve.createElement(o.NextMonthButton,{type:"button",className:c[yt.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":u(s),onClick:l},ve.createElement(o.Chevron,{disabled:s?void 0:!0,orientation:"right",className:c[yt.Chevron]})))}function JVe(e){const{components:t}=oy();return ve.createElement(t.Button,{...e})}function eWe(e){return ve.createElement("option",{...e})}function tWe(e){const{components:t}=oy();return ve.createElement(t.Button,{...e})}function rWe(e){const{rootRef:t,...r}=e;return ve.createElement("div",{...r,ref:t})}function nWe(e){return ve.createElement("select",{...e})}function sWe(e){const{week:t,...r}=e;return ve.createElement("tr",{...r})}function aWe(e){return ve.createElement("th",{...e})}function iWe(e){return ve.createElement("thead",{"aria-hidden":!0},ve.createElement("tr",{...e}))}function oWe(e){const{week:t,...r}=e;return ve.createElement("th",{...r})}function lWe(e){return ve.createElement("th",{...e})}function cWe(e){return ve.createElement("tbody",{...e})}function dWe(e){const{components:t}=oy();return ve.createElement(t.Dropdown,{...e})}const uWe=Object.freeze(Object.defineProperty({__proto__:null,Button:$Ve,CaptionLabel:FVe,Chevron:HVe,Day:zVe,DayButton:UVe,Dropdown:VVe,DropdownNav:WVe,Footer:qVe,Month:GVe,MonthCaption:YVe,MonthGrid:KVe,Months:ZVe,MonthsDropdown:XVe,Nav:QVe,NextMonthButton:JVe,Option:eWe,PreviousMonthButton:tWe,Root:rWe,Select:nWe,Week:sWe,WeekNumber:oWe,WeekNumberHeader:lWe,Weekday:aWe,Weekdays:iWe,Weeks:cWe,YearsDropdown:dWe},Symbol.toStringTag,{value:"Module"}));function sc(e,t,r=!1,n=gl){let{from:s,to:i}=e;const{differenceInCalendarDays:o,isSameDay:c}=n;return s&&i?(o(i,s)<0&&([s,i]=[i,s]),o(t,s)>=(r?1:0)&&o(i,t)>=(r?1:0)):!r&&i?c(i,t):!r&&s?c(s,t):!1}function Hte(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function w4(e){return!!(e&&typeof e=="object"&&"from"in e)}function zte(e){return!!(e&&typeof e=="object"&&"after"in e)}function Ute(e){return!!(e&&typeof e=="object"&&"before"in e)}function Vte(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Wte(e,t){return Array.isArray(e)&&e.every(t.isDate)}function ac(e,t,r=gl){const n=Array.isArray(t)?t:[t],{isSameDay:s,differenceInCalendarDays:i,isAfter:o}=r;return n.some(c=>{if(typeof c=="boolean")return c;if(r.isDate(c))return s(e,c);if(Wte(c,r))return c.includes(e);if(w4(c))return sc(c,e,!1,r);if(Vte(c))return Array.isArray(c.dayOfWeek)?c.dayOfWeek.includes(e.getDay()):c.dayOfWeek===e.getDay();if(Hte(c)){const d=i(c.before,e),u=i(c.after,e),l=d>0,f=u<0;return o(c.before,c.after)?f&&l:l||f}return zte(c)?i(e,c.after)>0:Ute(c)?i(c.before,e)>0:typeof c=="function"?c(e):!1})}function fWe(e,t,r,n,s){const{disabled:i,hidden:o,modifiers:c,showOutsideDays:d,broadcastCalendar:u,today:l}=t,{isSameDay:f,isSameMonth:p,startOfMonth:g,isBefore:x,endOfMonth:S,isAfter:m}=s,y=r&&g(r),w=n&&S(n),C={[dn.focused]:[],[dn.outside]:[],[dn.disabled]:[],[dn.hidden]:[],[dn.today]:[]},E={};for(const N of e){const{date:k,displayMonth:A}=N,T=!!(A&&!p(k,A)),P=!!(y&&x(k,y)),M=!!(w&&m(k,w)),O=!!(i&&ac(k,i,s)),R=!!(o&&ac(k,o,s))||P||M||!u&&!d&&T||u&&d===!1&&T,L=f(k,l??s.today());T&&C.outside.push(N),O&&C.disabled.push(N),R&&C.hidden.push(N),L&&C.today.push(N),c&&Object.keys(c).forEach(B=>{const F=c?.[B];F&&ac(k,F,s)&&(E[B]?E[B].push(N):E[B]=[N])})}return N=>{const k={[dn.focused]:!1,[dn.disabled]:!1,[dn.hidden]:!1,[dn.outside]:!1,[dn.today]:!1},A={};for(const T in C){const P=C[T];k[T]=P.some(M=>M===N)}for(const T in E)A[T]=E[T].some(P=>P===N);return{...k,...A}}}function hWe(e,t,r={}){return Object.entries(e).filter(([,s])=>s===!0).reduce((s,[i])=>(r[i]?s.push(r[i]):t[dn[i]]?s.push(t[dn[i]]):t[go[i]]&&s.push(t[go[i]]),s),[t[yt.Day]])}function mWe(e){return{...uWe,...e}}function pWe(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([r,n])=>{r.startsWith("data-")&&(t[r]=n)}),t}function S4(){const e={};for(const t in yt)e[yt[t]]=`rdp-${yt[t]}`;for(const t in dn)e[dn[t]]=`rdp-${dn[t]}`;for(const t in go)e[go[t]]=`rdp-${go[t]}`;for(const t in Za)e[Za[t]]=`rdp-${Za[t]}`;return e}function qte(e,t,r){return(r??new pi(t)).formatMonthYear(e)}const gWe=qte;function xWe(e,t,r){return(r??new pi(t)).format(e,"d")}function vWe(e,t=gl){return t.format(e,"LLLL")}function yWe(e,t,r){return(r??new pi(t)).format(e,"cccccc")}function bWe(e,t=gl){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function wWe(){return""}function Gte(e,t=gl){return t.format(e,"yyyy")}const SWe=Gte,CWe=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:qte,formatDay:xWe,formatMonthCaption:gWe,formatMonthDropdown:vWe,formatWeekNumber:bWe,formatWeekNumberHeader:wWe,formatWeekdayName:yWe,formatYearCaption:SWe,formatYearDropdown:Gte},Symbol.toStringTag,{value:"Module"}));function jWe(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...CWe,...e}}function EWe(e,t,r,n,s){const{startOfMonth:i,startOfYear:o,endOfYear:c,eachMonthOfInterval:d,getMonth:u}=s;return d({start:o(e),end:c(e)}).map(p=>{const g=n.formatMonthDropdown(p,s),x=u(p),S=t&&p<i(t)||r&&p>i(r)||!1;return{value:x,label:g,disabled:S}})}function NWe(e,t={},r={}){let n={...t?.[yt.Day]};return Object.entries(e).filter(([,s])=>s===!0).forEach(([s])=>{n={...n,...r?.[s]}}),n}function _We(e,t,r){const n=e.today(),s=t?e.startOfISOWeek(n):e.startOfWeek(n),i=[];for(let o=0;o<7;o++){const c=e.addDays(s,o);i.push(c)}return i}function AWe(e,t,r,n,s=!1){if(!e||!t)return;const{startOfYear:i,endOfYear:o,addYears:c,getYear:d,isBefore:u,isSameYear:l}=n,f=i(e),p=o(t),g=[];let x=f;for(;u(x,p)||l(x,p);)g.push(x),x=c(x,1);return s&&g.reverse(),g.map(S=>{const m=r.formatYearDropdown(S,n);return{value:d(S),label:m,disabled:!1}})}function Yte(e,t,r,n){let s=(n??new pi(r)).format(e,"PPPP");return t.today&&(s=`Today, ${s}`),t.selected&&(s=`${s}, selected`),s}const kWe=Yte;function Kte(e,t,r){return(r??new pi(t)).formatMonthYear(e)}const TWe=Kte;function PWe(e,t,r,n){let s=(n??new pi(r)).format(e,"PPPP");return t?.today&&(s=`Today, ${s}`),s}function DWe(e){return"Choose the Month"}function RWe(){return""}function MWe(e){return"Go to the Next Month"}function OWe(e){return"Go to the Previous Month"}function IWe(e,t,r){return(r??new pi(t)).format(e,"cccc")}function LWe(e,t){return`Week ${e}`}function BWe(e){return"Week Number"}function $We(e){return"Choose the Year"}const FWe=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:TWe,labelDay:kWe,labelDayButton:Yte,labelGrid:Kte,labelGridcell:PWe,labelMonthDropdown:DWe,labelNav:RWe,labelNext:MWe,labelPrevious:OWe,labelWeekNumber:LWe,labelWeekNumberHeader:BWe,labelWeekday:IWe,labelYearDropdown:$We},Symbol.toStringTag,{value:"Module"})),ly=e=>e instanceof HTMLElement?e:null,nP=e=>[...e.querySelectorAll("[data-animated-month]")??[]],HWe=e=>ly(e.querySelector("[data-animated-month]")),sP=e=>ly(e.querySelector("[data-animated-caption]")),aP=e=>ly(e.querySelector("[data-animated-weeks]")),zWe=e=>ly(e.querySelector("[data-animated-nav]")),UWe=e=>ly(e.querySelector("[data-animated-weekdays]"));function VWe(e,t,{classNames:r,months:n,focused:s,dateLib:i}){const o=b.useRef(null),c=b.useRef(n),d=b.useRef(!1);b.useLayoutEffect(()=>{const u=c.current;if(c.current=n,!t||!e.current||!(e.current instanceof HTMLElement)||n.length===0||u.length===0||n.length!==u.length)return;const l=i.isSameMonth(n[0].date,u[0].date),f=i.isAfter(n[0].date,u[0].date),p=f?r[Za.caption_after_enter]:r[Za.caption_before_enter],g=f?r[Za.weeks_after_enter]:r[Za.weeks_before_enter],x=o.current,S=e.current.cloneNode(!0);if(S instanceof HTMLElement?(nP(S).forEach(C=>{if(!(C instanceof HTMLElement))return;const E=HWe(C);E&&C.contains(E)&&C.removeChild(E);const N=sP(C);N&&N.classList.remove(p);const k=aP(C);k&&k.classList.remove(g)}),o.current=S):o.current=null,d.current||l||s)return;const m=x instanceof HTMLElement?nP(x):[],y=nP(e.current);if(y?.every(w=>w instanceof HTMLElement)&&m&&m.every(w=>w instanceof HTMLElement)){d.current=!0,e.current.style.isolation="isolate";const w=zWe(e.current);w&&(w.style.zIndex="1"),y.forEach((C,E)=>{const N=m[E];if(!N)return;C.style.position="relative",C.style.overflow="hidden";const k=sP(C);k&&k.classList.add(p);const A=aP(C);A&&A.classList.add(g);const T=()=>{d.current=!1,e.current&&(e.current.style.isolation=""),w&&(w.style.zIndex=""),k&&k.classList.remove(p),A&&A.classList.remove(g),C.style.position="",C.style.overflow="",C.contains(N)&&C.removeChild(N)};N.style.pointerEvents="none",N.style.position="absolute",N.style.overflow="hidden",N.setAttribute("aria-hidden","true");const P=UWe(N);P&&(P.style.opacity="0");const M=sP(N);M&&(M.classList.add(f?r[Za.caption_before_exit]:r[Za.caption_after_exit]),M.addEventListener("animationend",T));const O=aP(N);O&&O.classList.add(f?r[Za.weeks_before_exit]:r[Za.weeks_after_exit]),C.insertBefore(N,C.firstChild)})}})}function WWe(e,t,r,n){const s=e[0],i=e[e.length-1],{ISOWeek:o,fixedWeeks:c,broadcastCalendar:d}=r??{},{addDays:u,differenceInCalendarDays:l,differenceInCalendarMonths:f,endOfBroadcastWeek:p,endOfISOWeek:g,endOfMonth:x,endOfWeek:S,isAfter:m,startOfBroadcastWeek:y,startOfISOWeek:w,startOfWeek:C}=n,E=d?y(s,n):o?w(s):C(s),N=d?p(i):o?g(x(i)):S(x(i)),k=l(N,E),A=f(i,s)+1,T=[];for(let O=0;O<=k;O++){const R=u(E,O);if(t&&m(R,t))break;T.push(R)}const M=(d?35:42)*A;if(c&&T.length<M){const O=M-T.length;for(let R=0;R<O;R++){const L=u(T[T.length-1],1);T.push(L)}}return T}function qWe(e){const t=[];return e.reduce((r,n)=>{const s=n.weeks.reduce((i,o)=>i.concat(o.days.slice()),t.slice());return r.concat(s.slice())},t.slice())}function GWe(e,t,r,n){const{numberOfMonths:s=1}=r,i=[];for(let o=0;o<s;o++){const c=n.addMonths(e,o);if(t&&c>t)break;i.push(c)}return i}function p7(e,t,r,n){const{month:s,defaultMonth:i,today:o=n.today(),numberOfMonths:c=1}=e;let d=s||i||o;const{differenceInCalendarMonths:u,addMonths:l,startOfMonth:f}=n;if(r&&u(r,d)<c-1){const p=-1*(c-1);d=l(r,p)}return t&&u(d,t)<0&&(d=t),f(d)}function YWe(e,t,r,n){const{addDays:s,endOfBroadcastWeek:i,endOfISOWeek:o,endOfMonth:c,endOfWeek:d,getISOWeek:u,getWeek:l,startOfBroadcastWeek:f,startOfISOWeek:p,startOfWeek:g}=n,x=e.reduce((S,m)=>{const y=r.broadcastCalendar?f(m,n):r.ISOWeek?p(m):g(m),w=r.broadcastCalendar?i(m):r.ISOWeek?o(c(m)):d(c(m)),C=t.filter(A=>A>=y&&A<=w),E=r.broadcastCalendar?35:42;if(r.fixedWeeks&&C.length<E){const A=t.filter(T=>{const P=E-C.length;return T>w&&T<=s(w,P)});C.push(...A)}const N=C.reduce((A,T)=>{const P=r.ISOWeek?u(T):l(T),M=A.find(R=>R.weekNumber===P),O=new $te(T,m,n);return M?M.days.push(O):A.push(new BVe(P,[O])),A},[]),k=new LVe(m,N);return S.push(k),S},[]);return r.reverseMonths?x.reverse():x}function KWe(e,t){let{startMonth:r,endMonth:n}=e;const{startOfYear:s,startOfDay:i,startOfMonth:o,endOfMonth:c,addYears:d,endOfYear:u,newDate:l,today:f}=t,{fromYear:p,toYear:g,fromMonth:x,toMonth:S}=e;!r&&x&&(r=x),!r&&p&&(r=t.newDate(p,0,1)),!n&&S&&(n=S),!n&&g&&(n=l(g,11,31));const m=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return r?r=o(r):p?r=l(p,0,1):!r&&m&&(r=s(d(e.today??f(),-100))),n?n=c(n):g?n=l(g,11,31):!n&&m&&(n=u(e.today??f())),[r&&i(r),n&&i(n)]}function ZWe(e,t,r,n){if(r.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:i=1}=r,{startOfMonth:o,addMonths:c,differenceInCalendarMonths:d}=n,u=s?i:1,l=o(e);if(!t)return c(l,u);if(!(d(t,e)<i))return c(l,u)}function XWe(e,t,r,n){if(r.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:i}=r,{startOfMonth:o,addMonths:c,differenceInCalendarMonths:d}=n,u=s?i??1:1,l=o(e);if(!t)return c(l,-u);if(!(d(l,t)<=0))return c(l,-u)}function QWe(e){const t=[];return e.reduce((r,n)=>r.concat(n.weeks.slice()),t.slice())}function QE(e,t){const[r,n]=b.useState(e);return[t===void 0?r:t,n]}function JWe(e,t){const[r,n]=KWe(e,t),{startOfMonth:s,endOfMonth:i}=t,o=p7(e,r,n,t),[c,d]=QE(o,e.month?o:void 0);b.useEffect(()=>{const k=p7(e,r,n,t);d(k)},[e.timeZone]);const u=GWe(c,n,e,t),l=WWe(u,e.endMonth?i(e.endMonth):void 0,e,t),f=YWe(u,l,e,t),p=QWe(f),g=qWe(f),x=XWe(c,r,e,t),S=ZWe(c,n,e,t),{disableNavigation:m,onMonthChange:y}=e,w=k=>p.some(A=>A.days.some(T=>T.isEqualTo(k))),C=k=>{if(m)return;let A=s(k);r&&A<s(r)&&(A=s(r)),n&&A>s(n)&&(A=s(n)),d(A),y?.(A)};return{months:f,weeks:p,days:g,navStart:r,navEnd:n,previousMonth:x,nextMonth:S,goToMonth:C,goToDay:k=>{w(k)||C(k.date)}}}var Uo;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(Uo||(Uo={}));function g7(e){return!e[dn.disabled]&&!e[dn.hidden]&&!e[dn.outside]}function eqe(e,t,r,n){let s,i=-1;for(const o of e){const c=t(o);g7(c)&&(c[dn.focused]&&i<Uo.FocusedModifier?(s=o,i=Uo.FocusedModifier):n?.isEqualTo(o)&&i<Uo.LastFocused?(s=o,i=Uo.LastFocused):r(o.date)&&i<Uo.Selected?(s=o,i=Uo.Selected):c[dn.today]&&i<Uo.Today&&(s=o,i=Uo.Today))}return s||(s=e.find(o=>g7(t(o)))),s}function tqe(e,t,r,n,s,i,o){const{ISOWeek:c,broadcastCalendar:d}=i,{addDays:u,addMonths:l,addWeeks:f,addYears:p,endOfBroadcastWeek:g,endOfISOWeek:x,endOfWeek:S,max:m,min:y,startOfBroadcastWeek:w,startOfISOWeek:C,startOfWeek:E}=o;let k={day:u,week:f,month:l,year:p,startOfWeek:A=>d?w(A,o):c?C(A):E(A),endOfWeek:A=>d?g(A):c?x(A):S(A)}[e](r,t==="after"?1:-1);return t==="before"&&n?k=m([n,k]):t==="after"&&s&&(k=y([s,k])),k}function Zte(e,t,r,n,s,i,o,c=0){if(c>365)return;const d=tqe(e,t,r.date,n,s,i,o),u=!!(i.disabled&&ac(d,i.disabled,o)),l=!!(i.hidden&&ac(d,i.hidden,o)),f=d,p=new $te(d,f,o);return!u&&!l?p:Zte(e,t,p,n,s,i,o,c+1)}function rqe(e,t,r,n,s){const{autoFocus:i}=e,[o,c]=b.useState(),d=eqe(t.days,r,n||(()=>!1),o),[u,l]=b.useState(i?d:void 0);return{isFocusTarget:S=>!!d?.isEqualTo(S),setFocused:l,focused:u,blur:()=>{c(u),l(void 0)},moveFocus:(S,m)=>{if(!u)return;const y=Zte(S,m,u,t.navStart,t.navEnd,e,s);y&&(t.goToDay(y),l(y))}}}function nqe(e,t){const{selected:r,required:n,onSelect:s}=e,[i,o]=QE(r,s?r:void 0),c=s?r:i,{isSameDay:d}=t,u=g=>c?.some(x=>d(x,g))??!1,{min:l,max:f}=e;return{selected:c,select:(g,x,S)=>{let m=[...c??[]];if(u(g)){if(c?.length===l||n&&c?.length===1)return;m=c?.filter(y=>!d(y,g))}else c?.length===f?m=[g]:m=[...m,g];return s||o(m),s?.(m,g,x,S),m},isSelected:u}}function sqe(e,t,r=0,n=0,s=!1,i=gl){const{from:o,to:c}=t||{},{isSameDay:d,isAfter:u,isBefore:l}=i;let f;if(!o&&!c)f={from:e,to:r>0?void 0:e};else if(o&&!c)d(o,e)?r===0?f={from:o,to:e}:s?f={from:o,to:void 0}:f=void 0:l(e,o)?f={from:e,to:o}:f={from:o,to:e};else if(o&&c)if(d(o,e)&&d(c,e))s?f={from:o,to:c}:f=void 0;else if(d(o,e))f={from:o,to:r>0?void 0:e};else if(d(c,e))f={from:e,to:r>0?void 0:e};else if(l(e,o))f={from:e,to:c};else if(u(e,o))f={from:o,to:e};else if(u(e,c))f={from:o,to:e};else throw new Error("Invalid range");if(f?.from&&f?.to){const p=i.differenceInCalendarDays(f.to,f.from);n>0&&p>n?f={from:e,to:void 0}:r>1&&p<r&&(f={from:e,to:void 0})}return f}function aqe(e,t,r=gl){const n=Array.isArray(t)?t:[t];let s=e.from;const i=r.differenceInCalendarDays(e.to,e.from),o=Math.min(i,6);for(let c=0;c<=o;c++){if(n.includes(s.getDay()))return!0;s=r.addDays(s,1)}return!1}function x7(e,t,r=gl){return sc(e,t.from,!1,r)||sc(e,t.to,!1,r)||sc(t,e.from,!1,r)||sc(t,e.to,!1,r)}function iqe(e,t,r=gl){const n=Array.isArray(t)?t:[t];if(n.filter(c=>typeof c!="function").some(c=>typeof c=="boolean"?c:r.isDate(c)?sc(e,c,!1,r):Wte(c,r)?c.some(d=>sc(e,d,!1,r)):w4(c)?c.from&&c.to?x7(e,{from:c.from,to:c.to},r):!1:Vte(c)?aqe(e,c.dayOfWeek,r):Hte(c)?r.isAfter(c.before,c.after)?x7(e,{from:r.addDays(c.after,1),to:r.addDays(c.before,-1)},r):ac(e.from,c,r)||ac(e.to,c,r):zte(c)||Ute(c)?ac(e.from,c,r)||ac(e.to,c,r):!1))return!0;const o=n.filter(c=>typeof c=="function");if(o.length){let c=e.from;const d=r.differenceInCalendarDays(e.to,e.from);for(let u=0;u<=d;u++){if(o.some(l=>l(c)))return!0;c=r.addDays(c,1)}}return!1}function oqe(e,t){const{disabled:r,excludeDisabled:n,selected:s,required:i,onSelect:o}=e,[c,d]=QE(s,o?s:void 0),u=o?s:c;return{selected:u,select:(p,g,x)=>{const{min:S,max:m}=e,y=p?sqe(p,u,S,m,i,t):void 0;return n&&r&&y?.from&&y.to&&iqe({from:y.from,to:y.to},r,t)&&(y.from=p,y.to=void 0),o||d(y),o?.(y,p,g,x),y},isSelected:p=>u&&sc(u,p,!1,t)}}function lqe(e,t){const{selected:r,required:n,onSelect:s}=e,[i,o]=QE(r,s?r:void 0),c=s?r:i,{isSameDay:d}=t;return{selected:c,select:(f,p,g)=>{let x=f;return!n&&c&&c&&d(f,c)&&(x=void 0),s||o(x),s?.(x,f,p,g),x},isSelected:f=>c?d(c,f):!1}}function cqe(e,t){const r=lqe(e,t),n=nqe(e,t),s=oqe(e,t);switch(e.mode){case"single":return r;case"multiple":return n;case"range":return s;default:return}}function dqe(e){let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new Ws(t.today,t.timeZone)),t.month&&(t.month=new Ws(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new Ws(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new Ws(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new Ws(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new Ws(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(Rt=>new Ws(Rt,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new Ws(t.selected.from,t.timeZone):void 0,to:t.selected.to?new Ws(t.selected.to,t.timeZone):void 0}));const{components:r,formatters:n,labels:s,dateLib:i,locale:o,classNames:c}=b.useMemo(()=>{const Rt={...b4,...t.locale};return{dateLib:new pi({locale:Rt,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:mWe(t.components),formatters:jWe(t.formatters),labels:{...FWe,...t.labels},locale:Rt,classNames:{...S4(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:d,mode:u,navLayout:l,numberOfMonths:f=1,onDayBlur:p,onDayClick:g,onDayFocus:x,onDayKeyDown:S,onDayMouseEnter:m,onDayMouseLeave:y,onNextClick:w,onPrevClick:C,showWeekNumber:E,styles:N}=t,{formatCaption:k,formatDay:A,formatMonthDropdown:T,formatWeekNumber:P,formatWeekNumberHeader:M,formatWeekdayName:O,formatYearDropdown:R}=n,L=JWe(t,i),{days:B,months:F,navStart:$,navEnd:z,previousMonth:W,nextMonth:Z,goToMonth:V}=L,q=fWe(B,t,$,z,i),{isSelected:H,select:K,selected:Y}=cqe(t,i)??{},{blur:re,focused:me,isFocusTarget:de,moveFocus:he,setFocused:ee}=rqe(t,L,q,H??(()=>!1),i),{labelDayButton:ie,labelGridcell:ye,labelGrid:le,labelMonthDropdown:Te,labelNav:Ae,labelPrevious:ae,labelNext:We,labelWeekday:rt,labelWeekNumber:fe,labelWeekNumberHeader:Fe,labelYearDropdown:Q}=s,ne=b.useMemo(()=>_We(i,t.ISOWeek),[i,t.ISOWeek]),ce=u!==void 0||g!==void 0,ze=b.useCallback(()=>{W&&(V(W),C?.(W))},[W,V,C]),qe=b.useCallback(()=>{Z&&(V(Z),w?.(Z))},[V,Z,w]),Ue=b.useCallback((Rt,Sr)=>Tt=>{Tt.preventDefault(),Tt.stopPropagation(),ee(Rt),K?.(Rt.date,Sr,Tt),g?.(Rt.date,Sr,Tt)},[K,g,ee]),se=b.useCallback((Rt,Sr)=>Tt=>{ee(Rt),x?.(Rt.date,Sr,Tt)},[x,ee]),Ne=b.useCallback((Rt,Sr)=>Tt=>{re(),p?.(Rt.date,Sr,Tt)},[re,p]),Le=b.useCallback((Rt,Sr)=>Tt=>{const lr={ArrowLeft:[Tt.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[Tt.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[Tt.shiftKey?"year":"week","after"],ArrowUp:[Tt.shiftKey?"year":"week","before"],PageUp:[Tt.shiftKey?"year":"month","before"],PageDown:[Tt.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(lr[Tt.key]){Tt.preventDefault(),Tt.stopPropagation();const[yn,rr]=lr[Tt.key];he(yn,rr)}S?.(Rt.date,Sr,Tt)},[he,S,t.dir]),Qe=b.useCallback((Rt,Sr)=>Tt=>{m?.(Rt.date,Sr,Tt)},[m]),kt=b.useCallback((Rt,Sr)=>Tt=>{y?.(Rt.date,Sr,Tt)},[y]),Jt=b.useCallback(Rt=>Sr=>{const Tt=Number(Sr.target.value),lr=i.setMonth(i.startOfMonth(Rt),Tt);V(lr)},[i,V]),Ts=b.useCallback(Rt=>Sr=>{const Tt=Number(Sr.target.value),lr=i.setYear(i.startOfMonth(Rt),Tt);V(lr)},[i,V]),{className:ln,style:Dn}=b.useMemo(()=>({className:[c[yt.Root],t.className].filter(Boolean).join(" "),style:{...N?.[yt.Root],...t.style}}),[c,t.className,t.style,N]),Fn=pWe(t),bi=b.useRef(null);VWe(bi,!!t.animate,{classNames:c,months:F,focused:me,dateLib:i});const ao={dayPickerProps:t,selected:Y,select:K,isSelected:H,months:F,nextMonth:Z,previousMonth:W,goToMonth:V,getModifiers:q,components:r,classNames:c,styles:N,labels:s,formatters:n};return ve.createElement(Fte.Provider,{value:ao},ve.createElement(r.Root,{rootRef:t.animate?bi:void 0,className:ln,style:Dn,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...Fn},ve.createElement(r.Months,{className:c[yt.Months],style:N?.[yt.Months]},!t.hideNavigation&&!l&&ve.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[yt.Nav],style:N?.[yt.Nav],"aria-label":Ae(),onPreviousClick:ze,onNextClick:qe,previousMonth:W,nextMonth:Z}),F.map((Rt,Sr)=>ve.createElement(r.Month,{"data-animated-month":t.animate?"true":void 0,className:c[yt.Month],style:N?.[yt.Month],key:Sr,displayIndex:Sr,calendarMonth:Rt},l==="around"&&!t.hideNavigation&&Sr===0&&ve.createElement(r.PreviousMonthButton,{type:"button",className:c[yt.PreviousMonthButton],tabIndex:W?void 0:-1,"aria-disabled":W?void 0:!0,"aria-label":ae(W),onClick:ze,"data-animated-button":t.animate?"true":void 0},ve.createElement(r.Chevron,{disabled:W?void 0:!0,className:c[yt.Chevron],orientation:t.dir==="rtl"?"right":"left"})),ve.createElement(r.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:c[yt.MonthCaption],style:N?.[yt.MonthCaption],calendarMonth:Rt,displayIndex:Sr},d?.startsWith("dropdown")?ve.createElement(r.DropdownNav,{className:c[yt.Dropdowns],style:N?.[yt.Dropdowns]},(()=>{const Tt=d==="dropdown"||d==="dropdown-months"?ve.createElement(r.MonthsDropdown,{key:"month",className:c[yt.MonthsDropdown],"aria-label":Te(),classNames:c,components:r,disabled:!!t.disableNavigation,onChange:Jt(Rt.date),options:EWe(Rt.date,$,z,n,i),style:N?.[yt.Dropdown],value:i.getMonth(Rt.date)}):ve.createElement("span",{key:"month"},T(Rt.date,i)),lr=d==="dropdown"||d==="dropdown-years"?ve.createElement(r.YearsDropdown,{key:"year",className:c[yt.YearsDropdown],"aria-label":Q(i.options),classNames:c,components:r,disabled:!!t.disableNavigation,onChange:Ts(Rt.date),options:AWe($,z,n,i,!!t.reverseYears),style:N?.[yt.Dropdown],value:i.getYear(Rt.date)}):ve.createElement("span",{key:"year"},R(Rt.date,i));return i.getMonthYearOrder()==="year-first"?[lr,Tt]:[Tt,lr]})(),ve.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},k(Rt.date,i.options,i))):ve.createElement(r.CaptionLabel,{className:c[yt.CaptionLabel],role:"status","aria-live":"polite"},k(Rt.date,i.options,i))),l==="around"&&!t.hideNavigation&&Sr===f-1&&ve.createElement(r.NextMonthButton,{type:"button",className:c[yt.NextMonthButton],tabIndex:Z?void 0:-1,"aria-disabled":Z?void 0:!0,"aria-label":We(Z),onClick:qe,"data-animated-button":t.animate?"true":void 0},ve.createElement(r.Chevron,{disabled:Z?void 0:!0,className:c[yt.Chevron],orientation:t.dir==="rtl"?"left":"right"})),Sr===f-1&&l==="after"&&!t.hideNavigation&&ve.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[yt.Nav],style:N?.[yt.Nav],"aria-label":Ae(),onPreviousClick:ze,onNextClick:qe,previousMonth:W,nextMonth:Z}),ve.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":u==="multiple"||u==="range","aria-label":le(Rt.date,i.options,i)||void 0,className:c[yt.MonthGrid],style:N?.[yt.MonthGrid]},!t.hideWeekdays&&ve.createElement(r.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:c[yt.Weekdays],style:N?.[yt.Weekdays]},E&&ve.createElement(r.WeekNumberHeader,{"aria-label":Fe(i.options),className:c[yt.WeekNumberHeader],style:N?.[yt.WeekNumberHeader],scope:"col"},M()),ne.map(Tt=>ve.createElement(r.Weekday,{"aria-label":rt(Tt,i.options,i),className:c[yt.Weekday],key:String(Tt),style:N?.[yt.Weekday],scope:"col"},O(Tt,i.options,i)))),ve.createElement(r.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:c[yt.Weeks],style:N?.[yt.Weeks]},Rt.weeks.map(Tt=>ve.createElement(r.Week,{className:c[yt.Week],key:Tt.weekNumber,style:N?.[yt.Week],week:Tt},E&&ve.createElement(r.WeekNumber,{week:Tt,style:N?.[yt.WeekNumber],"aria-label":fe(Tt.weekNumber,{locale:o}),className:c[yt.WeekNumber],scope:"row",role:"rowheader"},P(Tt.weekNumber,i)),Tt.days.map(lr=>{const{date:yn}=lr,rr=q(lr);if(rr[dn.focused]=!rr.hidden&&!!me?.isEqualTo(lr),rr[go.selected]=H?.(yn)||rr.selected,w4(Y)){const{from:Nl,to:Wc}=Y;rr[go.range_start]=!!(Nl&&Wc&&i.isSameDay(yn,Nl)),rr[go.range_end]=!!(Nl&&Wc&&i.isSameDay(yn,Wc)),rr[go.range_middle]=sc(Y,yn,!0,i)}const hh=NWe(rr,N,t.modifiersStyles),mh=hWe(rr,c,t.modifiersClassNames),Vc=!ce&&!rr.hidden?ye(yn,rr,i.options,i):void 0;return ve.createElement(r.Day,{key:`${i.format(yn,"yyyy-MM-dd")}_${i.format(lr.displayMonth,"yyyy-MM")}`,day:lr,modifiers:rr,className:mh.join(" "),style:hh,role:"gridcell","aria-selected":rr.selected||void 0,"aria-label":Vc,"data-day":i.format(yn,"yyyy-MM-dd"),"data-month":lr.outside?i.format(yn,"yyyy-MM"):void 0,"data-selected":rr.selected||void 0,"data-disabled":rr.disabled||void 0,"data-hidden":rr.hidden||void 0,"data-outside":lr.outside||void 0,"data-focused":rr.focused||void 0,"data-today":rr.today||void 0},!rr.hidden&&ce?ve.createElement(r.DayButton,{className:c[yt.DayButton],style:N?.[yt.DayButton],type:"button",day:lr,modifiers:rr,disabled:rr.disabled||void 0,tabIndex:de(lr)?0:-1,"aria-label":ie(yn,rr,i.options,i),onClick:Ue(lr,rr),onBlur:Ne(lr,rr),onFocus:se(lr,rr),onKeyDown:Le(lr,rr),onMouseEnter:Qe(lr,rr),onMouseLeave:kt(lr,rr)},A(yn,i.options,i)):!rr.hidden&&A(lr.date,i.options,i))})))))))),t.footer&&ve.createElement(r.Footer,{className:c[yt.Footer],style:N?.[yt.Footer],role:"status","aria-live":"polite"},t.footer)))}function uqe({className:e,classNames:t,showOutsideDays:r=!0,captionLayout:n="label",buttonVariant:s="ghost",formatters:i,components:o,...c}){const d=S4();return a.jsx(dqe,{showOutsideDays:r,className:J("bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:n,formatters:{formatMonthDropdown:u=>u.toLocaleString("default",{month:"short"}),...i},classNames:{root:J("w-fit",d.root),months:J("relative flex flex-col gap-4 md:flex-row",d.months),month:J("flex w-full flex-col gap-4",d.month),nav:J("absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1",d.nav),button_previous:J(cp({variant:s}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",d.button_previous),button_next:J(cp({variant:s}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",d.button_next),month_caption:J("flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]",d.month_caption),dropdowns:J("flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium",d.dropdowns),dropdown_root:J("has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border",d.dropdown_root),dropdown:J("bg-popover absolute inset-0 opacity-0",d.dropdown),caption_label:J("select-none font-medium",n==="label"?"text-sm":"[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5",d.caption_label),table:"w-full border-collapse",weekdays:J("flex",d.weekdays),weekday:J("text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal",d.weekday),week:J("mt-2 flex w-full",d.week),week_number_header:J("w-[--cell-size] select-none",d.week_number_header),week_number:J("text-muted-foreground select-none text-[0.8rem]",d.week_number),day:J("group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md",d.day),range_start:J("bg-accent rounded-l-md",d.range_start),range_middle:J("rounded-none",d.range_middle),range_end:J("bg-accent rounded-r-md",d.range_end),today:J("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",d.today),outside:J("text-muted-foreground aria-selected:text-muted-foreground",d.outside),disabled:J("text-muted-foreground opacity-50",d.disabled),hidden:J("invisible",d.hidden),...t},components:{Root:({className:u,rootRef:l,...f})=>a.jsx("div",{"data-slot":"calendar",ref:l,className:J(u),...f}),Chevron:({className:u,orientation:l,...f})=>l==="left"?a.jsx(Tc,{className:J("size-4",u),...f}):l==="right"?a.jsx(Qi,{className:J("size-4",u),...f}):a.jsx(Yf,{className:J("size-4",u),...f}),DayButton:fqe,WeekNumber:({children:u,...l})=>a.jsx("td",{...l,children:a.jsx("div",{className:"flex size-[--cell-size] items-center justify-center text-center",children:u})}),...o},...c})}function fqe({className:e,day:t,modifiers:r,...n}){const s=S4(),i=b.useRef(null);return b.useEffect(()=>{r.focused&&i.current?.focus()},[r.focused]),a.jsx(X,{ref:i,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":r.selected&&!r.range_start&&!r.range_end&&!r.range_middle,"data-range-start":r.range_start,"data-range-end":r.range_end,"data-range-middle":r.range_middle,className:J("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70",s.day,e),...n})}const hqe=({value:e,onChange:t,placeholder:r="Pick a date",disabled:n=!1,maxDate:s,minDate:i,className:o=""})=>{const[c,d]=b.useState(!1),u=f=>{t?.(f),d(!1)},l=()=>{const f={};return s&&(f.after=s),i&&(f.before=i),Object.keys(f).length>0?f:void 0};return a.jsxs(tX,{open:c,onOpenChange:d,children:[a.jsx(rX,{asChild:!0,children:a.jsxs(X,{variant:"outline",className:`justify-between font-normal ${o}`,disabled:n,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ua,{className:"h-4 w-4"}),e?e.toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric"}):r]}),a.jsx(Yf,{className:"h-4 w-4"})]})}),a.jsx(pO,{className:"w-auto overflow-hidden p-0",align:"start",children:a.jsx(uqe,{mode:"single",selected:e,onSelect:u,disabled:l(),captionLayout:"dropdown"})})]})},mqe=({className:e="",onFilterChange:t,onError:r})=>{const{currentStore:n}=xO(),{fetchData:s}=vO({enableLogging:!0,autoClearErrors:!0}),[,i]=b.useState(null),o=b.useCallback(y=>{i(y),r&&r(y)},[r]),c=y=>{if(!y)return!1;const[w,C,E]=y.split("-").map(Number),N=new Date(w,C-1,E),k=new Date,A=new Date(k.getFullYear(),k.getMonth(),k.getDate());return N<A},d=y=>{const w=y.getFullYear(),C=String(y.getMonth()+1).padStart(2,"0"),E=String(y.getDate()).padStart(2,"0");return`${w}-${C}-${E}`},u=()=>{const y=new Date,w=new Date(y.getFullYear(),y.getMonth(),y.getDate()-2);return d(w)},l=new Date,f=new Date(l.getFullYear(),l.getMonth(),l.getDate()-1),[p,g]=b.useState(new Date(u())),x=b.useCallback(async(y,w,C="filter-update")=>{try{if(y&&w){const E=d(w);await s({store:y,date:E}),console.log(`[${C}] DSPR API call initiated:`,{store:y,date:E}),o(null)}}catch(E){const N="Date Error: No data available for the selected date at this store. Please select another date.";console.error(`[${C}] DSPR API call failed:`,E),o(N)}},[s,o]),S=b.useRef(x);S.current=x,b.useEffect(()=>{o(n?null:"No store selected. Please select a store to continue.")},[n,o]);const m=y=>{if(!y)return;const w=d(y);if(!c(w)){o("Invalid date selected. Please select a date before today.");return}o(null),g(y),t&&t({date:w})};return b.useEffect(()=>{n?.id&&p&&(c(d(p))?S.current(n.id,p,"filters-changed"):o("Cannot make API call with invalid date."))},[n?.id,p,o]),n?a.jsx(Se,{className:`bg-card border-border shadow-sm ${e}`,children:a.jsx(Me,{className:"px-4 py-2",children:a.jsxs("div",{className:"flex items-center justify-between w-full",children:[a.jsx(Ve,{className:"text-sm sm:text-base md:text-lg text-card-foreground",children:n.name}),a.jsx(hqe,{value:p,onChange:m,maxDate:f,placeholder:"Select date",className:"w-40 bg-background border-border text-foreground focus:ring-ring focus:border-ring text-sm"})]})})}):a.jsx(Se,{className:`bg-yellow-50 border-yellow-200 ${e}`,children:a.jsx(Ee,{className:"p-4",children:a.jsx("p",{className:"text-yellow-800",children:"Please select a store to view filters."})})})},pqe=()=>{const{hnrMetrics:e,isLoading:t,error:r}=Ba(),n=e?.totalTransactions??null,s=e?.promiseMetTransactions??null,i=e?.promiseMetPercent??null;if(t)return a.jsx("div",{className:"rounded-lg border bg-card p-4",children:a.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading HNR data..."})});if(r)return a.jsx("div",{className:"rounded-lg border bg-card p-4",children:a.jsx("div",{className:"text-sm text-destructive",children:r})});if(!e)return a.jsx("div",{className:"rounded-lg border bg-card p-4",children:a.jsx("div",{className:"text-sm text-muted-foreground",children:"No HNR data available."})});const o=i!=null?`${i.toFixed(2)}%`:"N/A";return a.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[a.jsx("div",{className:"mb-2 text-base font-semibold",children:"HNR Overview"}),a.jsxs("ul",{className:"space-y-1 text-sm",children:[a.jsxs("li",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Total transactions"}),a.jsx("span",{className:"font-medium",children:n??"N/A"})]}),a.jsxs("li",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Promise met transactions"}),a.jsx("span",{className:"font-medium",children:s??"N/A"})]}),a.jsxs("li",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Promise met transactions %"}),a.jsx("span",{className:"font-medium",children:o})]})]})]})},gqe=({storeName:e,percent:t,loading:r,error:n,className:s})=>{const i=typeof t=="number"&&!Number.isNaN(t),o=i?t.toFixed(2):null,c=e??"Unknown Store",d="relative overflow-hidden rounded-xl border p-4 md:p-6 flex flex-col md:flex-row items-center gap-4",u="bg-gradient-to-r from-pink-50 via-rose-50 to-red-50 border-rose-200",l="bg-amber-50 border-amber-200",f="text-sm md:text-base",p=i&&!r&&!n;return a.jsx("div",{className:`${d} ${p?u:l} ${s??""}`,children:a.jsxs("div",{className:"flex items-center gap-3 md:gap-4 w-full",children:[a.jsx("img",{src:"/celebrate.png",alt:"Celebrate",className:"h-12 w-12 md:h-16 md:w-16 shrink-0"}),a.jsxs("div",{className:"flex-1",children:[r?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"h-3 w-3 animate-spin rounded-full border-2 border-b-0 border-rose-500"}),a.jsx("span",{className:"text-muted-foreground text-sm",children:"Loading celebration..."})]}):n?a.jsx("div",{className:"text-amber-900 text-sm",children:n}):a.jsxs("div",{className:f,children:[a.jsx("span",{className:"font-semibold text-rose-700",children:"Congrats to store "}),a.jsx("span",{className:"font-bold text-rose-900",children:c}),a.jsx("span",{className:"font-semibold text-rose-700",children:" for passing "}),a.jsxs("span",{className:"font-bold text-rose-900",children:[o??"N/A","%"]})]}),!i&&!r&&!n&&a.jsx("div",{className:"mt-1 text-xs text-amber-800",children:"HNR metrics unavailable. Showing limited celebration info."})]}),p&&a.jsx("div",{className:"text-3xl md:text-4xl select-none","aria-hidden":!0,children:""})]})})};function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ue.apply(null,arguments)}function If(e,...t){const r=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(n=>r.searchParams.append("args[]",n)),`Minified MUI error #${e}; visit ${r} for the full message.`}const JE="$$material";function xqe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function vqe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var yqe=function(){function e(r){var n=this;this._insertTag=function(s){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(s,i),n.tags.push(s)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(vqe(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=xqe(s);try{i.insertRule(n,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var s;return(s=n.parentNode)==null?void 0:s.removeChild(n)}),this.tags=[],this.ctr=0},e}(),Us="-ms-",aj="-moz-",mr="-webkit-",Xte="comm",C4="rule",j4="decl",bqe="@import",Qte="@keyframes",wqe="@layer",Sqe=Math.abs,eN=String.fromCharCode,Cqe=Object.assign;function jqe(e,t){return Ls(e,0)^45?(((t<<2^Ls(e,0))<<2^Ls(e,1))<<2^Ls(e,2))<<2^Ls(e,3):0}function Jte(e){return e.trim()}function Eqe(e,t){return(e=t.exec(e))?e[0]:e}function pr(e,t,r){return e.replace(t,r)}function bR(e,t){return e.indexOf(t)}function Ls(e,t){return e.charCodeAt(t)|0}function Jv(e,t,r){return e.slice(t,r)}function Vo(e){return e.length}function E4(e){return e.length}function Dw(e,t){return t.push(e),e}function Nqe(e,t){return e.map(t).join("")}var tN=1,Cp=1,ere=0,Ra=0,Vn=0,mg="";function rN(e,t,r,n,s,i,o){return{value:e,root:t,parent:r,type:n,props:s,children:i,line:tN,column:Cp,length:o,return:""}}function Kx(e,t){return Cqe(rN("",null,null,"",null,null,0),e,{length:-e.length},t)}function _qe(){return Vn}function Aqe(){return Vn=Ra>0?Ls(mg,--Ra):0,Cp--,Vn===10&&(Cp=1,tN--),Vn}function oi(){return Vn=Ra<ere?Ls(mg,Ra++):0,Cp++,Vn===10&&(Cp=1,tN++),Vn}function sl(){return Ls(mg,Ra)}function FS(){return Ra}function cy(e,t){return Jv(mg,e,t)}function e0(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function tre(e){return tN=Cp=1,ere=Vo(mg=e),Ra=0,[]}function rre(e){return mg="",e}function HS(e){return Jte(cy(Ra-1,wR(e===91?e+2:e===40?e+1:e)))}function kqe(e){for(;(Vn=sl())&&Vn<33;)oi();return e0(e)>2||e0(Vn)>3?"":" "}function Tqe(e,t){for(;--t&&oi()&&!(Vn<48||Vn>102||Vn>57&&Vn<65||Vn>70&&Vn<97););return cy(e,FS()+(t<6&&sl()==32&&oi()==32))}function wR(e){for(;oi();)switch(Vn){case e:return Ra;case 34:case 39:e!==34&&e!==39&&wR(Vn);break;case 40:e===41&&wR(e);break;case 92:oi();break}return Ra}function Pqe(e,t){for(;oi()&&e+Vn!==57;)if(e+Vn===84&&sl()===47)break;return"/*"+cy(t,Ra-1)+"*"+eN(e===47?e:oi())}function Dqe(e){for(;!e0(sl());)oi();return cy(e,Ra)}function Rqe(e){return rre(zS("",null,null,null,[""],e=tre(e),0,[0],e))}function zS(e,t,r,n,s,i,o,c,d){for(var u=0,l=0,f=o,p=0,g=0,x=0,S=1,m=1,y=1,w=0,C="",E=s,N=i,k=n,A=C;m;)switch(x=w,w=oi()){case 40:if(x!=108&&Ls(A,f-1)==58){bR(A+=pr(HS(w),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:A+=HS(w);break;case 9:case 10:case 13:case 32:A+=kqe(x);break;case 92:A+=Tqe(FS()-1,7);continue;case 47:switch(sl()){case 42:case 47:Dw(Mqe(Pqe(oi(),FS()),t,r),d);break;default:A+="/"}break;case 123*S:c[u++]=Vo(A)*y;case 125*S:case 59:case 0:switch(w){case 0:case 125:m=0;case 59+l:y==-1&&(A=pr(A,/\f/g,"")),g>0&&Vo(A)-f&&Dw(g>32?y7(A+";",n,r,f-1):y7(pr(A," ","")+";",n,r,f-2),d);break;case 59:A+=";";default:if(Dw(k=v7(A,t,r,u,l,s,c,C,E=[],N=[],f),i),w===123)if(l===0)zS(A,t,k,k,E,i,f,c,N);else switch(p===99&&Ls(A,3)===110?100:p){case 100:case 108:case 109:case 115:zS(e,k,k,n&&Dw(v7(e,k,k,0,0,s,c,C,s,E=[],f),N),s,N,f,c,n?E:N);break;default:zS(A,k,k,k,[""],N,0,c,N)}}u=l=g=0,S=y=1,C=A="",f=o;break;case 58:f=1+Vo(A),g=x;default:if(S<1){if(w==123)--S;else if(w==125&&S++==0&&Aqe()==125)continue}switch(A+=eN(w),w*S){case 38:y=l>0?1:(A+="\f",-1);break;case 44:c[u++]=(Vo(A)-1)*y,y=1;break;case 64:sl()===45&&(A+=HS(oi())),p=sl(),l=f=Vo(C=A+=Dqe(FS())),w++;break;case 45:x===45&&Vo(A)==2&&(S=0)}}return i}function v7(e,t,r,n,s,i,o,c,d,u,l){for(var f=s-1,p=s===0?i:[""],g=E4(p),x=0,S=0,m=0;x<n;++x)for(var y=0,w=Jv(e,f+1,f=Sqe(S=o[x])),C=e;y<g;++y)(C=Jte(S>0?p[y]+" "+w:pr(w,/&\f/g,p[y])))&&(d[m++]=C);return rN(e,t,r,s===0?C4:c,d,u,l)}function Mqe(e,t,r){return rN(e,t,r,Xte,eN(_qe()),Jv(e,2,-2),0)}function y7(e,t,r,n){return rN(e,t,r,j4,Jv(e,0,n),Jv(e,n+1,-1),n)}function Qm(e,t){for(var r="",n=E4(e),s=0;s<n;s++)r+=t(e[s],s,e,t)||"";return r}function Oqe(e,t,r,n){switch(e.type){case wqe:if(e.children.length)break;case bqe:case j4:return e.return=e.return||e.value;case Xte:return"";case Qte:return e.return=e.value+"{"+Qm(e.children,n)+"}";case C4:e.value=e.props.join(",")}return Vo(r=Qm(e.children,n))?e.return=e.value+"{"+r+"}":""}function Iqe(e){var t=E4(e);return function(r,n,s,i){for(var o="",c=0;c<t;c++)o+=e[c](r,n,s,i)||"";return o}}function Lqe(e){return function(t){t.root||(t=t.return)&&e(t)}}function nre(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var Bqe=function(t,r,n){for(var s=0,i=0;s=i,i=sl(),s===38&&i===12&&(r[n]=1),!e0(i);)oi();return cy(t,Ra)},$qe=function(t,r){var n=-1,s=44;do switch(e0(s)){case 0:s===38&&sl()===12&&(r[n]=1),t[n]+=Bqe(Ra-1,r,n);break;case 2:t[n]+=HS(s);break;case 4:if(s===44){t[++n]=sl()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=eN(s)}while(s=oi());return t},Fqe=function(t,r){return rre($qe(tre(t),r))},b7=new WeakMap,Hqe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,s=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!b7.get(n))&&!s){b7.set(t,!0);for(var i=[],o=Fqe(r,i),c=n.props,d=0,u=0;d<o.length;d++)for(var l=0;l<c.length;l++,u++)t.props[u]=i[d]?o[d].replace(/&\f/g,c[l]):c[l]+" "+o[d]}}},zqe=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function sre(e,t){switch(jqe(e,t)){case 5103:return mr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return mr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return mr+e+aj+e+Us+e+e;case 6828:case 4268:return mr+e+Us+e+e;case 6165:return mr+e+Us+"flex-"+e+e;case 5187:return mr+e+pr(e,/(\w+).+(:[^]+)/,mr+"box-$1$2"+Us+"flex-$1$2")+e;case 5443:return mr+e+Us+"flex-item-"+pr(e,/flex-|-self/,"")+e;case 4675:return mr+e+Us+"flex-line-pack"+pr(e,/align-content|flex-|-self/,"")+e;case 5548:return mr+e+Us+pr(e,"shrink","negative")+e;case 5292:return mr+e+Us+pr(e,"basis","preferred-size")+e;case 6060:return mr+"box-"+pr(e,"-grow","")+mr+e+Us+pr(e,"grow","positive")+e;case 4554:return mr+pr(e,/([^-])(transform)/g,"$1"+mr+"$2")+e;case 6187:return pr(pr(pr(e,/(zoom-|grab)/,mr+"$1"),/(image-set)/,mr+"$1"),e,"")+e;case 5495:case 3959:return pr(e,/(image-set\([^]*)/,mr+"$1$`$1");case 4968:return pr(pr(e,/(.+:)(flex-)?(.*)/,mr+"box-pack:$3"+Us+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+mr+e+e;case 4095:case 3583:case 4068:case 2532:return pr(e,/(.+)-inline(.+)/,mr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Vo(e)-1-t>6)switch(Ls(e,t+1)){case 109:if(Ls(e,t+4)!==45)break;case 102:return pr(e,/(.+:)(.+)-([^]+)/,"$1"+mr+"$2-$3$1"+aj+(Ls(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~bR(e,"stretch")?sre(pr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ls(e,t+1)!==115)break;case 6444:switch(Ls(e,Vo(e)-3-(~bR(e,"!important")&&10))){case 107:return pr(e,":",":"+mr)+e;case 101:return pr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+mr+(Ls(e,14)===45?"inline-":"")+"box$3$1"+mr+"$2$3$1"+Us+"$2box$3")+e}break;case 5936:switch(Ls(e,t+11)){case 114:return mr+e+Us+pr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return mr+e+Us+pr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return mr+e+Us+pr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return mr+e+Us+e+e}return e}var Uqe=function(t,r,n,s){if(t.length>-1&&!t.return)switch(t.type){case j4:t.return=sre(t.value,t.length);break;case Qte:return Qm([Kx(t,{value:pr(t.value,"@","@"+mr)})],s);case C4:if(t.length)return Nqe(t.props,function(i){switch(Eqe(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Qm([Kx(t,{props:[pr(i,/:(read-\w+)/,":"+aj+"$1")]})],s);case"::placeholder":return Qm([Kx(t,{props:[pr(i,/:(plac\w+)/,":"+mr+"input-$1")]}),Kx(t,{props:[pr(i,/:(plac\w+)/,":"+aj+"$1")]}),Kx(t,{props:[pr(i,/:(plac\w+)/,Us+"input-$1")]})],s)}return""})}},Vqe=[Uqe],Wqe=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(S){var m=S.getAttribute("data-emotion");m.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var s=t.stylisPlugins||Vqe,i={},o,c=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(S){for(var m=S.getAttribute("data-emotion").split(" "),y=1;y<m.length;y++)i[m[y]]=!0;c.push(S)});var d,u=[Hqe,zqe];{var l,f=[Oqe,Lqe(function(S){l.insert(S)})],p=Iqe(u.concat(s,f)),g=function(m){return Qm(Rqe(m),p)};d=function(m,y,w,C){l=w,g(m?m+"{"+y.styles+"}":y.styles),C&&(x.inserted[y.name]=!0)}}var x={key:r,sheet:new yqe({key:r,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:d};return x.sheet.hydrate(c),x},iP={exports:{}},yr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w7;function qqe(){if(w7)return yr;w7=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,d=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,l=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,p=e?Symbol.for("react.suspense_list"):60120,g=e?Symbol.for("react.memo"):60115,x=e?Symbol.for("react.lazy"):60116,S=e?Symbol.for("react.block"):60121,m=e?Symbol.for("react.fundamental"):60117,y=e?Symbol.for("react.responder"):60118,w=e?Symbol.for("react.scope"):60119;function C(N){if(typeof N=="object"&&N!==null){var k=N.$$typeof;switch(k){case t:switch(N=N.type,N){case d:case u:case n:case i:case s:case f:return N;default:switch(N=N&&N.$$typeof,N){case c:case l:case x:case g:case o:return N;default:return k}}case r:return k}}}function E(N){return C(N)===u}return yr.AsyncMode=d,yr.ConcurrentMode=u,yr.ContextConsumer=c,yr.ContextProvider=o,yr.Element=t,yr.ForwardRef=l,yr.Fragment=n,yr.Lazy=x,yr.Memo=g,yr.Portal=r,yr.Profiler=i,yr.StrictMode=s,yr.Suspense=f,yr.isAsyncMode=function(N){return E(N)||C(N)===d},yr.isConcurrentMode=E,yr.isContextConsumer=function(N){return C(N)===c},yr.isContextProvider=function(N){return C(N)===o},yr.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===t},yr.isForwardRef=function(N){return C(N)===l},yr.isFragment=function(N){return C(N)===n},yr.isLazy=function(N){return C(N)===x},yr.isMemo=function(N){return C(N)===g},yr.isPortal=function(N){return C(N)===r},yr.isProfiler=function(N){return C(N)===i},yr.isStrictMode=function(N){return C(N)===s},yr.isSuspense=function(N){return C(N)===f},yr.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===n||N===u||N===i||N===s||N===f||N===p||typeof N=="object"&&N!==null&&(N.$$typeof===x||N.$$typeof===g||N.$$typeof===o||N.$$typeof===c||N.$$typeof===l||N.$$typeof===m||N.$$typeof===y||N.$$typeof===w||N.$$typeof===S)},yr.typeOf=C,yr}var S7;function Gqe(){return S7||(S7=1,iP.exports=qqe()),iP.exports}var oP,C7;function Yqe(){if(C7)return oP;C7=1;var e=Gqe(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[e.ForwardRef]=n,i[e.Memo]=s;function o(x){return e.isMemo(x)?s:i[x.$$typeof]||t}var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;function g(x,S,m){if(typeof S!="string"){if(p){var y=f(S);y&&y!==p&&g(x,y,m)}var w=d(S);u&&(w=w.concat(u(S)));for(var C=o(x),E=o(S),N=0;N<w.length;++N){var k=w[N];if(!r[k]&&!(m&&m[k])&&!(E&&E[k])&&!(C&&C[k])){var A=l(S,k);try{c(x,k,A)}catch{}}}}return x}return oP=g,oP}Yqe();var Kqe=!0;function are(e,t,r){var n="";return r.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):s&&(n+=s+" ")}),n}var N4=function(t,r,n){var s=t.key+"-"+r.name;(n===!1||Kqe===!1)&&t.registered[s]===void 0&&(t.registered[s]=r.styles)},ire=function(t,r,n){N4(t,r,n);var s=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var i=r;do t.insert(r===i?"."+s:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function Zqe(e){for(var t=0,r,n=0,s=e.length;s>=4;++n,s-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Xqe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Qqe=/[A-Z]|^ms/g,Jqe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ore=function(t){return t.charCodeAt(1)===45},j7=function(t){return t!=null&&typeof t!="boolean"},lP=nre(function(e){return ore(e)?e:e.replace(Qqe,"-$&").toLowerCase()}),E7=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(Jqe,function(n,s,i){return Wo={name:s,styles:i,next:Wo},s})}return Xqe[t]!==1&&!ore(t)&&typeof r=="number"&&r!==0?r+"px":r};function t0(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var s=r;if(s.anim===1)return Wo={name:s.name,styles:s.styles,next:Wo},s.name;var i=r;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)Wo={name:o.name,styles:o.styles,next:Wo},o=o.next;var c=i.styles+";";return c}return eGe(e,t,r)}case"function":{if(e!==void 0){var d=Wo,u=r(e);return Wo=d,t0(e,t,u)}break}}var l=r;if(t==null)return l;var f=t[l];return f!==void 0?f:l}function eGe(e,t,r){var n="";if(Array.isArray(r))for(var s=0;s<r.length;s++)n+=t0(e,t,r[s])+";";else for(var i in r){var o=r[i];if(typeof o!="object"){var c=o;t!=null&&t[c]!==void 0?n+=i+"{"+t[c]+"}":j7(c)&&(n+=lP(i)+":"+E7(i,c)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var d=0;d<o.length;d++)j7(o[d])&&(n+=lP(i)+":"+E7(i,o[d])+";");else{var u=t0(e,t,o);switch(i){case"animation":case"animationName":{n+=lP(i)+":"+u+";";break}default:n+=i+"{"+u+"}"}}}return n}var N7=/label:\s*([^\s;{]+)\s*(;|$)/g,Wo;function nN(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,s="";Wo=void 0;var i=e[0];if(i==null||i.raw===void 0)n=!1,s+=t0(r,t,i);else{var o=i;s+=o[0]}for(var c=1;c<e.length;c++)if(s+=t0(r,t,e[c]),n){var d=i;s+=d[c]}N7.lastIndex=0;for(var u="",l;(l=N7.exec(s))!==null;)u+="-"+l[1];var f=Zqe(s)+u;return{name:f,styles:s,next:Wo}}var tGe=function(t){return t()},rGe=Cf.useInsertionEffect?Cf.useInsertionEffect:!1,lre=rGe||tGe,cre=b.createContext(typeof HTMLElement<"u"?Wqe({key:"css"}):null);cre.Provider;var dre=function(t){return b.forwardRef(function(r,n){var s=b.useContext(cre);return t(r,s,n)})},_4=b.createContext({}),A4={}.hasOwnProperty,SR="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",nGe=function(t,r){var n={};for(var s in r)A4.call(r,s)&&(n[s]=r[s]);return n[SR]=t,n},sGe=function(t){var r=t.cache,n=t.serialized,s=t.isStringTag;return N4(r,n,s),lre(function(){return ire(r,n,s)}),null},aGe=dre(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var s=e[SR],i=[n],o="";typeof e.className=="string"?o=are(t.registered,i,e.className):e.className!=null&&(o=e.className+" ");var c=nN(i,void 0,b.useContext(_4));o+=t.key+"-"+c.name;var d={};for(var u in e)A4.call(e,u)&&u!=="css"&&u!==SR&&(d[u]=e[u]);return d.className=o,r&&(d.ref=r),b.createElement(b.Fragment,null,b.createElement(sGe,{cache:t,serialized:c,isStringTag:typeof s=="string"}),b.createElement(s,d))}),iGe=aGe,_7=function(t,r){var n=arguments;if(r==null||!A4.call(r,"css"))return b.createElement.apply(void 0,n);var s=n.length,i=new Array(s);i[0]=iGe,i[1]=nGe(t,r);for(var o=2;o<s;o++)i[o]=n[o];return b.createElement.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(_7||(_7={}));function k4(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return nN(t)}function dy(){var e=k4.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var oGe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,lGe=nre(function(e){return oGe.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),cGe=lGe,dGe=function(t){return t!=="theme"},A7=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?cGe:dGe},k7=function(t,r,n){var s;if(r){var i=r.shouldForwardProp;s=t.__emotion_forwardProp&&i?function(o){return t.__emotion_forwardProp(o)&&i(o)}:i}return typeof s!="function"&&n&&(s=t.__emotion_forwardProp),s},uGe=function(t){var r=t.cache,n=t.serialized,s=t.isStringTag;return N4(r,n,s),lre(function(){return ire(r,n,s)}),null},fGe=function e(t,r){var n=t.__emotion_real===t,s=n&&t.__emotion_base||t,i,o;r!==void 0&&(i=r.label,o=r.target);var c=k7(t,r,n),d=c||A7(s),u=!d("as");return function(){var l=arguments,f=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(i!==void 0&&f.push("label:"+i+";"),l[0]==null||l[0].raw===void 0)f.push.apply(f,l);else{var p=l[0];f.push(p[0]);for(var g=l.length,x=1;x<g;x++)f.push(l[x],p[x])}var S=dre(function(m,y,w){var C=u&&m.as||s,E="",N=[],k=m;if(m.theme==null){k={};for(var A in m)k[A]=m[A];k.theme=b.useContext(_4)}typeof m.className=="string"?E=are(y.registered,N,m.className):m.className!=null&&(E=m.className+" ");var T=nN(f.concat(N),y.registered,k);E+=y.key+"-"+T.name,o!==void 0&&(E+=" "+o);var P=u&&c===void 0?A7(C):d,M={};for(var O in m)u&&O==="as"||P(O)&&(M[O]=m[O]);return M.className=E,w&&(M.ref=w),b.createElement(b.Fragment,null,b.createElement(uGe,{cache:y,serialized:T,isStringTag:typeof C=="string"}),b.createElement(C,M))});return S.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",S.defaultProps=t.defaultProps,S.__emotion_real=S,S.__emotion_base=s,S.__emotion_styles=f,S.__emotion_forwardProp=c,Object.defineProperty(S,"toString",{value:function(){return"."+o}}),S.withComponent=function(m,y){var w=e(m,ue({},r,y,{shouldForwardProp:k7(S,y,!0)}));return w.apply(void 0,f)},S}},hGe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],CR=fGe.bind(null);hGe.forEach(function(e){CR[e]=CR(e)});function mGe(e,t){return CR(e,t)}function pGe(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const T7=[];function yf(e){return T7[0]=e,nN(T7)}function Yo(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function ure(e){if(b.isValidElement(e)||SO.isValidElementType(e)||!Yo(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=ure(e[r])}),t}function li(e,t,r={clone:!0}){const n=r.clone?{...e}:e;return Yo(e)&&Yo(t)&&Object.keys(t).forEach(s=>{b.isValidElement(t[s])||SO.isValidElementType(t[s])?n[s]=t[s]:Yo(t[s])&&Object.prototype.hasOwnProperty.call(e,s)&&Yo(e[s])?n[s]=li(e[s],t[s],r):r.clone?n[s]=Yo(t[s])?ure(t[s]):t[s]:n[s]=t[s]}),n}const gGe=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,n)=>r.val-n.val),t.reduce((r,n)=>({...r,[n.key]:n.val}),{})};function xGe(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5,...s}=e,i=gGe(t),o=Object.keys(i);function c(p){return`@media (min-width:${typeof t[p]=="number"?t[p]:p}${r})`}function d(p){return`@media (max-width:${(typeof t[p]=="number"?t[p]:p)-n/100}${r})`}function u(p,g){const x=o.indexOf(g);return`@media (min-width:${typeof t[p]=="number"?t[p]:p}${r}) and (max-width:${(x!==-1&&typeof t[o[x]]=="number"?t[o[x]]:g)-n/100}${r})`}function l(p){return o.indexOf(p)+1<o.length?u(p,o[o.indexOf(p)+1]):c(p)}function f(p){const g=o.indexOf(p);return g===0?c(o[1]):g===o.length-1?d(o[g]):u(p,o[o.indexOf(p)+1]).replace("@media","@media not all and")}return{keys:o,values:i,up:c,down:d,between:u,only:l,not:f,unit:r,...s}}function P7(e,t){if(!e.containerQueries)return t;const r=Object.keys(t).filter(n=>n.startsWith("@container")).sort((n,s)=>{const i=/min-width:\s*([0-9.]+)/;return+(n.match(i)?.[1]||0)-+(s.match(i)?.[1]||0)});return r.length?r.reduce((n,s)=>{const i=t[s];return delete n[s],n[s]=i,n},{...t}):t}function vGe(e,t){return t==="@"||t.startsWith("@")&&(e.some(r=>t.startsWith(`@${r}`))||!!t.match(/^@\d/))}function yGe(e,t){const r=t.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,n,s]=r,i=Number.isNaN(+n)?n||0:+n;return e.containerQueries(s).up(i)}function bGe(e){const t=(i,o)=>i.replace("@media",o?`@container ${o}`:"@container");function r(i,o){i.up=(...c)=>t(e.breakpoints.up(...c),o),i.down=(...c)=>t(e.breakpoints.down(...c),o),i.between=(...c)=>t(e.breakpoints.between(...c),o),i.only=(...c)=>t(e.breakpoints.only(...c),o),i.not=(...c)=>{const d=t(e.breakpoints.not(...c),o);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const n={},s=i=>(r(n,i),n);return r(s),{...e,containerQueries:s}}const wGe={borderRadius:4};function Ev(e,t){return t?li(e,t,{clone:!1}):e}const sN={xs:0,sm:600,md:900,lg:1200,xl:1536},D7={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${sN[e]}px)`},SGe={containerQueries:e=>({up:t=>{let r=typeof t=="number"?t:sN[t]||t;return typeof r=="number"&&(r=`${r}px`),e?`@container ${e} (min-width:${r})`:`@container (min-width:${r})`}})};function Cc(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const i=n.breakpoints||D7;return t.reduce((o,c,d)=>(o[i.up(i.keys[d])]=r(t[d]),o),{})}if(typeof t=="object"){const i=n.breakpoints||D7;return Object.keys(t).reduce((o,c)=>{if(vGe(i.keys,c)){const d=yGe(n.containerQueries?n:SGe,c);d&&(o[d]=r(t[c],c))}else if(Object.keys(i.values||sN).includes(c)){const d=i.up(c);o[d]=r(t[c],c)}else{const d=c;o[d]=t[d]}return o},{})}return r(t)}function CGe(e={}){return e.keys?.reduce((r,n)=>{const s=e.up(n);return r[s]={},r},{})||{}}function R7(e,t){return e.reduce((r,n)=>{const s=r[n];return(!s||Object.keys(s).length===0)&&delete r[n],r},t)}function Br(e){if(typeof e!="string")throw new Error(If(7));return e.charAt(0).toUpperCase()+e.slice(1)}function aN(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const n=`vars.${t}`.split(".").reduce((s,i)=>s&&s[i]?s[i]:null,e);if(n!=null)return n}return t.split(".").reduce((n,s)=>n&&n[s]!=null?n[s]:null,e)}function ij(e,t,r,n=r){let s;return typeof e=="function"?s=e(r):Array.isArray(e)?s=e[r]||n:s=aN(e,r)||n,t&&(s=t(s,n,e)),s}function $n(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:s}=e,i=o=>{if(o[t]==null)return null;const c=o[t],d=o.theme,u=aN(d,n)||{};return Cc(o,c,f=>{let p=ij(u,s,f);return f===p&&typeof f=="string"&&(p=ij(u,s,`${t}${f==="default"?"":Br(f)}`,f)),r===!1?p:{[r]:p}})};return i.propTypes={},i.filterProps=[t],i}function jGe(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const EGe={m:"margin",p:"padding"},NGe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},M7={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},_Ge=jGe(e=>{if(e.length>2)if(M7[e])e=M7[e];else return[e];const[t,r]=e.split(""),n=EGe[t],s=NGe[r]||"";return Array.isArray(s)?s.map(i=>n+i):[n+s]}),T4=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],P4=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...T4,...P4];function uy(e,t,r,n){const s=aN(e,t,!0)??r;return typeof s=="number"||typeof s=="string"?i=>typeof i=="string"?i:typeof s=="string"?s.startsWith("var(")&&i===0?0:s.startsWith("var(")&&i===1?s:`calc(${i} * ${s})`:s*i:Array.isArray(s)?i=>{if(typeof i=="string")return i;const o=Math.abs(i),c=s[o];return i>=0?c:typeof c=="number"?-c:typeof c=="string"&&c.startsWith("var(")?`calc(-1 * ${c})`:`-${c}`}:typeof s=="function"?s:()=>{}}function D4(e){return uy(e,"spacing",8)}function fy(e,t){return typeof t=="string"||t==null?t:e(t)}function AGe(e,t){return r=>e.reduce((n,s)=>(n[s]=fy(t,r),n),{})}function kGe(e,t,r,n){if(!t.includes(r))return null;const s=_Ge(r),i=AGe(s,n),o=e[r];return Cc(e,o,i)}function fre(e,t){const r=D4(e.theme);return Object.keys(e).map(n=>kGe(e,t,n,r)).reduce(Ev,{})}function Sn(e){return fre(e,T4)}Sn.propTypes={};Sn.filterProps=T4;function Cn(e){return fre(e,P4)}Cn.propTypes={};Cn.filterProps=P4;function hre(e=8,t=D4({spacing:e})){if(e.mui)return e;const r=(...n)=>(n.length===0?[1]:n).map(i=>{const o=t(i);return typeof o=="number"?`${o}px`:o}).join(" ");return r.mui=!0,r}function iN(...e){const t=e.reduce((n,s)=>(s.filterProps.forEach(i=>{n[i]=s}),n),{}),r=n=>Object.keys(n).reduce((s,i)=>t[i]?Ev(s,t[i](n)):s,{});return r.propTypes={},r.filterProps=e.reduce((n,s)=>n.concat(s.filterProps),[]),r}function $i(e){return typeof e!="number"?e:`${e}px solid`}function to(e,t){return $n({prop:e,themeKey:"borders",transform:t})}const TGe=to("border",$i),PGe=to("borderTop",$i),DGe=to("borderRight",$i),RGe=to("borderBottom",$i),MGe=to("borderLeft",$i),OGe=to("borderColor"),IGe=to("borderTopColor"),LGe=to("borderRightColor"),BGe=to("borderBottomColor"),$Ge=to("borderLeftColor"),FGe=to("outline",$i),HGe=to("outlineColor"),oN=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=uy(e.theme,"shape.borderRadius",4),r=n=>({borderRadius:fy(t,n)});return Cc(e,e.borderRadius,r)}return null};oN.propTypes={};oN.filterProps=["borderRadius"];iN(TGe,PGe,DGe,RGe,MGe,OGe,IGe,LGe,BGe,$Ge,oN,FGe,HGe);const lN=e=>{if(e.gap!==void 0&&e.gap!==null){const t=uy(e.theme,"spacing",8),r=n=>({gap:fy(t,n)});return Cc(e,e.gap,r)}return null};lN.propTypes={};lN.filterProps=["gap"];const cN=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=uy(e.theme,"spacing",8),r=n=>({columnGap:fy(t,n)});return Cc(e,e.columnGap,r)}return null};cN.propTypes={};cN.filterProps=["columnGap"];const dN=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=uy(e.theme,"spacing",8),r=n=>({rowGap:fy(t,n)});return Cc(e,e.rowGap,r)}return null};dN.propTypes={};dN.filterProps=["rowGap"];const zGe=$n({prop:"gridColumn"}),UGe=$n({prop:"gridRow"}),VGe=$n({prop:"gridAutoFlow"}),WGe=$n({prop:"gridAutoColumns"}),qGe=$n({prop:"gridAutoRows"}),GGe=$n({prop:"gridTemplateColumns"}),YGe=$n({prop:"gridTemplateRows"}),KGe=$n({prop:"gridTemplateAreas"}),ZGe=$n({prop:"gridArea"});iN(lN,cN,dN,zGe,UGe,VGe,WGe,qGe,GGe,YGe,KGe,ZGe);function Jm(e,t){return t==="grey"?t:e}const XGe=$n({prop:"color",themeKey:"palette",transform:Jm}),QGe=$n({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Jm}),JGe=$n({prop:"backgroundColor",themeKey:"palette",transform:Jm});iN(XGe,QGe,JGe);function ni(e){return e<=1&&e!==0?`${e*100}%`:e}const eYe=$n({prop:"width",transform:ni}),R4=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{const n=e.theme?.breakpoints?.values?.[r]||sN[r];return n?e.theme?.breakpoints?.unit!=="px"?{maxWidth:`${n}${e.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:ni(r)}};return Cc(e,e.maxWidth,t)}return null};R4.filterProps=["maxWidth"];const tYe=$n({prop:"minWidth",transform:ni}),rYe=$n({prop:"height",transform:ni}),nYe=$n({prop:"maxHeight",transform:ni}),sYe=$n({prop:"minHeight",transform:ni});$n({prop:"size",cssProperty:"width",transform:ni});$n({prop:"size",cssProperty:"height",transform:ni});const aYe=$n({prop:"boxSizing"});iN(eYe,R4,tYe,rYe,nYe,sYe,aYe);const hy={border:{themeKey:"borders",transform:$i},borderTop:{themeKey:"borders",transform:$i},borderRight:{themeKey:"borders",transform:$i},borderBottom:{themeKey:"borders",transform:$i},borderLeft:{themeKey:"borders",transform:$i},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:$i},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:oN},color:{themeKey:"palette",transform:Jm},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Jm},backgroundColor:{themeKey:"palette",transform:Jm},p:{style:Cn},pt:{style:Cn},pr:{style:Cn},pb:{style:Cn},pl:{style:Cn},px:{style:Cn},py:{style:Cn},padding:{style:Cn},paddingTop:{style:Cn},paddingRight:{style:Cn},paddingBottom:{style:Cn},paddingLeft:{style:Cn},paddingX:{style:Cn},paddingY:{style:Cn},paddingInline:{style:Cn},paddingInlineStart:{style:Cn},paddingInlineEnd:{style:Cn},paddingBlock:{style:Cn},paddingBlockStart:{style:Cn},paddingBlockEnd:{style:Cn},m:{style:Sn},mt:{style:Sn},mr:{style:Sn},mb:{style:Sn},ml:{style:Sn},mx:{style:Sn},my:{style:Sn},margin:{style:Sn},marginTop:{style:Sn},marginRight:{style:Sn},marginBottom:{style:Sn},marginLeft:{style:Sn},marginX:{style:Sn},marginY:{style:Sn},marginInline:{style:Sn},marginInlineStart:{style:Sn},marginInlineEnd:{style:Sn},marginBlock:{style:Sn},marginBlockStart:{style:Sn},marginBlockEnd:{style:Sn},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:lN},rowGap:{style:dN},columnGap:{style:cN},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ni},maxWidth:{style:R4},minWidth:{transform:ni},height:{transform:ni},maxHeight:{transform:ni},minHeight:{transform:ni},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function iYe(...e){const t=e.reduce((n,s)=>n.concat(Object.keys(s)),[]),r=new Set(t);return e.every(n=>r.size===Object.keys(n).length)}function oYe(e,t){return typeof e=="function"?e(t):e}function lYe(){function e(r,n,s,i){const o={[r]:n,theme:s},c=i[r];if(!c)return{[r]:n};const{cssProperty:d=r,themeKey:u,transform:l,style:f}=c;if(n==null)return null;if(u==="typography"&&n==="inherit")return{[r]:n};const p=aN(s,u)||{};return f?f(o):Cc(o,n,x=>{let S=ij(p,l,x);return x===S&&typeof x=="string"&&(S=ij(p,l,`${r}${x==="default"?"":Br(x)}`,x)),d===!1?S:{[d]:S}})}function t(r){const{sx:n,theme:s={},nested:i}=r||{};if(!n)return null;const o=s.unstable_sxConfig??hy;function c(d){let u=d;if(typeof d=="function")u=d(s);else if(typeof d!="object")return d;if(!u)return null;const l=CGe(s.breakpoints),f=Object.keys(l);let p=l;return Object.keys(u).forEach(g=>{const x=oYe(u[g],s);if(x!=null)if(typeof x=="object")if(o[g])p=Ev(p,e(g,x,s,o));else{const S=Cc({theme:s},x,m=>({[g]:m}));iYe(S,x)?p[g]=t({sx:x,theme:s,nested:!0}):p=Ev(p,S)}else p=Ev(p,e(g,x,s,o))}),!i&&s.modularCssLayers?{"@layer sx":P7(s,R7(f,p))}:P7(s,R7(f,p))}return Array.isArray(n)?n.map(c):c(n)}return t}const jp=lYe();jp.filterProps=["sx"];function cYe(e,t){const r=this;if(r.vars){if(!r.colorSchemes?.[e]||typeof r.getColorSchemeSelector!="function")return{};let n=r.getColorSchemeSelector(e);return n==="&"?t:((n.includes("data-")||n.includes("."))&&(n=`*:where(${n.replace(/\s*&$/,"")}) &`),{[n]:t})}return r.palette.mode===e?t:{}}function M4(e={},...t){const{breakpoints:r={},palette:n={},spacing:s,shape:i={},...o}=e,c=xGe(r),d=hre(s);let u=li({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:d,shape:{...wGe,...i}},o);return u=bGe(u),u.applyStyles=cYe,u=t.reduce((l,f)=>li(l,f),u),u.unstable_sxConfig={...hy,...o?.unstable_sxConfig},u.unstable_sx=function(f){return jp({sx:f,theme:this})},u}function dYe(e){return Object.keys(e).length===0}function mre(e=null){const t=b.useContext(_4);return!t||dYe(t)?e:t}const uYe=M4();function pre(e=uYe){return mre(e)}const fYe=e=>{const t={systemProps:{},otherProps:{}},r=e?.theme?.unstable_sxConfig??hy;return Object.keys(e).forEach(n=>{r[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]}),t};function hYe(e){const{sx:t,...r}=e,{systemProps:n,otherProps:s}=fYe(r);let i;return Array.isArray(t)?i=[n,...t]:typeof t=="function"?i=(...o)=>{const c=t(...o);return Yo(c)?{...n,...c}:n}:i={...n,...t},{...s,sx:i}}const O7=e=>e,mYe=()=>{let e=O7;return{configure(t){e=t},generate(t){return e(t)},reset(){e=O7}}},pYe=mYe(),gYe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function _s(e,t,r="Mui"){const n=gYe[t];return n?`${r}-${n}`:`${pYe.generate(e)}-${t}`}function fs(e,t,r="Mui"){const n={};return t.forEach(s=>{n[s]=_s(e,s,r)}),n}function gre(e){const{variants:t,...r}=e,n={variants:t,style:yf(r),isProcessed:!0};return n.style===r||t&&t.forEach(s=>{typeof s.style!="function"&&(s.style=yf(s.style))}),n}const xYe=M4();function US(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function af(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}function vYe(e){return e?(t,r)=>r[e]:null}function yYe(e,t,r){e.theme=SYe(e.theme)?r:e.theme[t]||e.theme}function VS(e,t,r){const n=typeof t=="function"?t(e):t;if(Array.isArray(n))return n.flatMap(s=>VS(e,s,r));if(Array.isArray(n?.variants)){let s;if(n.isProcessed)s=r?af(n.style,r):n.style;else{const{variants:i,...o}=n;s=r?af(yf(o),r):o}return xre(e,n.variants,[s],r)}return n?.isProcessed?r?af(yf(n.style),r):n.style:r?af(yf(n),r):n}function xre(e,t,r=[],n=void 0){let s;e:for(let i=0;i<t.length;i+=1){const o=t[i];if(typeof o.props=="function"){if(s??={...e,...e.ownerState,ownerState:e.ownerState},!o.props(s))continue}else for(const c in o.props)if(e[c]!==o.props[c]&&e.ownerState?.[c]!==o.props[c])continue e;typeof o.style=="function"?(s??={...e,...e.ownerState,ownerState:e.ownerState},r.push(n?af(yf(o.style(s)),n):o.style(s))):r.push(n?af(yf(o.style),n):o.style)}return r}function bYe(e={}){const{themeId:t,defaultTheme:r=xYe,rootShouldForwardProp:n=US,slotShouldForwardProp:s=US}=e;function i(c){yYe(c,t,r)}return(c,d={})=>{pGe(c,k=>k.filter(A=>A!==jp));const{name:u,slot:l,skipVariantsResolver:f,skipSx:p,overridesResolver:g=vYe(jYe(l)),...x}=d,S=u&&u.startsWith("Mui")||l?"components":"custom",m=f!==void 0?f:l&&l!=="Root"&&l!=="root"||!1,y=p||!1;let w=US;l==="Root"||l==="root"?w=n:l?w=s:CYe(c)&&(w=void 0);const C=mGe(c,{shouldForwardProp:w,label:wYe(),...x}),E=k=>{if(k.__emotion_real===k)return k;if(typeof k=="function")return function(T){return VS(T,k,T.theme.modularCssLayers?S:void 0)};if(Yo(k)){const A=gre(k);return function(P){return A.variants?VS(P,A,P.theme.modularCssLayers?S:void 0):P.theme.modularCssLayers?af(A.style,S):A.style}}return k},N=(...k)=>{const A=[],T=k.map(E),P=[];if(A.push(i),u&&g&&P.push(function(L){const F=L.theme.components?.[u]?.styleOverrides;if(!F)return null;const $={};for(const z in F)$[z]=VS(L,F[z],L.theme.modularCssLayers?"theme":void 0);return g(L,$)}),u&&!m&&P.push(function(L){const F=L.theme?.components?.[u]?.variants;return F?xre(L,F,[],L.theme.modularCssLayers?"theme":void 0):null}),y||P.push(jp),Array.isArray(T[0])){const R=T.shift(),L=new Array(A.length).fill(""),B=new Array(P.length).fill("");let F;F=[...L,...R,...B],F.raw=[...L,...R.raw,...B],A.unshift(F)}const M=[...A,...T,...P],O=C(...M);return c.muiName&&(O.muiName=c.muiName),O};return C.withConfig&&(N.withConfig=C.withConfig),N}}function wYe(e,t){return void 0}function SYe(e){for(const t in e)return!1;return!0}function CYe(e){return typeof e=="string"&&e.charCodeAt(0)>96}function jYe(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function Lf(e,t,r=!1){const n={...t};for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)){const i=s;if(i==="components"||i==="slots")n[i]={...e[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const o=e[i],c=t[i];if(!c)n[i]=o||{};else if(!o)n[i]=c;else{n[i]={...c};for(const d in o)if(Object.prototype.hasOwnProperty.call(o,d)){const u=d;n[i][u]=Lf(o[u],c[u],r)}}}else i==="className"&&r&&t.className?n.className=ft(e?.className,t?.className):i==="style"&&r&&t.style?n.style={...e?.style,...t?.style}:n[i]===void 0&&(n[i]=e[i])}return n}function vre(e){const{theme:t,name:r,props:n}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?n:Lf(t.components[r].defaultProps,n)}function EYe({props:e,name:t,defaultTheme:r,themeId:n}){let s=pre(r);return s=s[n]||s,vre({theme:s,name:t,props:e})}const is=typeof window<"u"?b.useLayoutEffect:b.useEffect;function NYe(e,t,r,n,s){const[i,o]=b.useState(()=>s&&r?r(e).matches:n?n(e).matches:t);return is(()=>{if(!r)return;const c=r(e),d=()=>{o(c.matches)};return d(),c.addEventListener("change",d),()=>{c.removeEventListener("change",d)}},[e,r]),i}const _Ye={...Cf},yre=_Ye.useSyncExternalStore;function AYe(e,t,r,n,s){const i=b.useCallback(()=>t,[t]),o=b.useMemo(()=>{if(s&&r)return()=>r(e).matches;if(n!==null){const{matches:l}=n(e);return()=>l}return i},[i,e,n,s,r]),[c,d]=b.useMemo(()=>{if(r===null)return[i,()=>()=>{}];const l=r(e);return[()=>l.matches,f=>(l.addEventListener("change",f),()=>{l.removeEventListener("change",f)})]},[i,r,e]);return yre(d,c,o)}function bre(e={}){const{themeId:t}=e;return function(n,s={}){let i=mre();i&&t&&(i=i[t]||i);const o=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:c=!1,matchMedia:d=o?window.matchMedia:null,ssrMatchMedia:u=null,noSsr:l=!1}=vre({name:"MuiUseMediaQuery",props:s,theme:i});let f=typeof n=="function"?n(i):n;return f=f.replace(/^@media( ?)/m,""),f.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),(yre!==void 0?AYe:NYe)(f,c,d,u,l)}}bre();function kYe(e,t=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,r))}function O4(e,t=0,r=1){return kYe(e,t,r)}function TYe(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,s)=>s<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function qd(e){if(e.type)return e;if(e.charAt(0)==="#")return qd(TYe(e));const t=e.indexOf("("),r=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(If(9,e));let n=e.substring(t+1,e.length-1),s;if(r==="color"){if(n=n.split(" "),s=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(If(10,s))}else n=n.split(",");return n=n.map(i=>parseFloat(i)),{type:r,values:n,colorSpace:s}}const PYe=e=>{const t=qd(e);return t.values.slice(0,3).map((r,n)=>t.type.includes("hsl")&&n!==0?`${r}%`:r).join(" ")},iv=(e,t)=>{try{return PYe(e)}catch{return e}};function uN(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return t.includes("rgb")?n=n.map((s,i)=>i<3?parseInt(s,10):s):t.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.includes("color")?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function wre(e){e=qd(e);const{values:t}=e,r=t[0],n=t[1]/100,s=t[2]/100,i=n*Math.min(s,1-s),o=(u,l=(u+r/30)%12)=>s-i*Math.max(Math.min(l-3,9-l,1),-1);let c="rgb";const d=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(c+="a",d.push(t[3])),uN({type:c,values:d})}function jR(e){e=qd(e);let t=e.type==="hsl"||e.type==="hsla"?qd(wre(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function DYe(e,t){const r=jR(e),n=jR(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function Sre(e,t){return e=qd(e),t=O4(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,uN(e)}function Lu(e,t,r){try{return Sre(e,t)}catch{return e}}function fN(e,t){if(e=qd(e),t=O4(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]*=1-t;return uN(e)}function Er(e,t,r){try{return fN(e,t)}catch{return e}}function hN(e,t){if(e=qd(e),t=O4(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return uN(e)}function Nr(e,t,r){try{return hN(e,t)}catch{return e}}function RYe(e,t=.15){return jR(e)>.5?fN(e,t):hN(e,t)}function Rw(e,t,r){try{return RYe(e,t)}catch{return e}}const MYe=b.createContext(),my=()=>b.useContext(MYe)??!1,OYe=b.createContext(void 0);function IYe(e){const{theme:t,name:r,props:n}=e;if(!t||!t.components||!t.components[r])return n;const s=t.components[r];return s.defaultProps?Lf(s.defaultProps,n,t.components.mergeClassNameAndStyle):!s.styleOverrides&&!s.variants?Lf(s,n,t.components.mergeClassNameAndStyle):n}function LYe({props:e,name:t}){const r=b.useContext(OYe);return IYe({props:e,name:t,theme:{components:r}})}let I7=0;function BYe(e){const[t,r]=b.useState(e),n=e||t;return b.useEffect(()=>{t==null&&(I7+=1,r(`mui-${I7}`))},[t]),n}const $Ye={...Cf},L7=$Ye.useId;function mN(e){if(L7!==void 0){const t=L7();return e??t}return BYe(e)}const B7={theme:void 0};function FYe(e){let t,r;return function(s){let i=t;return(i===void 0||s.theme!==r)&&(B7.theme=s.theme,i=gre(e(B7)),t=i,r=s.theme),i}}function HYe(e=""){function t(...n){if(!n.length)return"";const s=n[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${s}${t(...n.slice(1))})`:`, ${s}`}return(n,...s)=>`var(--${e?`${e}-`:""}${n}${t(...s)})`}const $7=(e,t,r,n=[])=>{let s=e;t.forEach((i,o)=>{o===t.length-1?Array.isArray(s)?s[Number(i)]=r:s&&typeof s=="object"&&(s[i]=r):s&&typeof s=="object"&&(s[i]||(s[i]=n.includes(i)?[]:{}),s=s[i])})},zYe=(e,t,r)=>{function n(s,i=[],o=[]){Object.entries(s).forEach(([c,d])=>{(!r||r&&!r([...i,c]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?n(d,[...i,c],Array.isArray(d)?[...o,c]:o):t([...i,c],d,o))})}n(e)},UYe=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>e.includes(n))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function cP(e,t){const{prefix:r,shouldSkipGeneratingVar:n}=t||{},s={},i={},o={};return zYe(e,(c,d,u)=>{if((typeof d=="string"||typeof d=="number")&&(!n||!n(c,d))){const l=`--${r?`${r}-`:""}${c.join("-")}`,f=UYe(c,d);Object.assign(s,{[l]:f}),$7(i,c,`var(${l})`,u),$7(o,c,`var(${l}, ${f})`,u)}},c=>c[0]==="vars"),{css:s,vars:i,varsWithDefaults:o}}function VYe(e,t={}){const{getSelector:r=y,disableCssColorScheme:n,colorSchemeSelector:s,enableContrastVars:i}=t,{colorSchemes:o={},components:c,defaultColorScheme:d="light",...u}=e,{vars:l,css:f,varsWithDefaults:p}=cP(u,t);let g=p;const x={},{[d]:S,...m}=o;if(Object.entries(m||{}).forEach(([E,N])=>{const{vars:k,css:A,varsWithDefaults:T}=cP(N,t);g=li(g,T),x[E]={css:A,vars:k}}),S){const{css:E,vars:N,varsWithDefaults:k}=cP(S,t);g=li(g,k),x[d]={css:E,vars:N}}function y(E,N){let k=s;if(s==="class"&&(k=".%s"),s==="data"&&(k="[data-%s]"),s?.startsWith("data-")&&!s.includes("%s")&&(k=`[${s}="%s"]`),E){if(k==="media")return e.defaultColorScheme===E?":root":{[`@media (prefers-color-scheme: ${o[E]?.palette?.mode||E})`]:{":root":N}};if(k)return e.defaultColorScheme===E?`:root, ${k.replace("%s",String(E))}`:k.replace("%s",String(E))}return":root"}return{vars:g,generateThemeVars:()=>{let E={...l};return Object.entries(x).forEach(([,{vars:N}])=>{E=li(E,N)}),E},generateStyleSheets:()=>{const E=[],N=e.defaultColorScheme||"light";function k(P,M){Object.keys(M).length&&E.push(typeof P=="string"?{[P]:{...M}}:P)}k(r(void 0,{...f}),f);const{[N]:A,...T}=x;if(A){const{css:P}=A,M=o[N]?.palette?.mode,O=!n&&M?{colorScheme:M,...P}:{...P};k(r(N,{...O}),O)}return Object.entries(T).forEach(([P,{css:M}])=>{const O=o[P]?.palette?.mode,R=!n&&O?{colorScheme:O,...M}:{...M};k(r(P,{...R}),R)}),i&&E.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),E}}}function WYe(e){return function(r){return e==="media"?`@media (prefers-color-scheme: ${r})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${r}"] &`:e==="class"?`.${r} &`:e==="data"?`[data-${r}] &`:`${e.replace("%s",r)} &`:"&"}}function As(e,t,r=void 0){const n={};for(const s in e){const i=e[s];let o="",c=!0;for(let d=0;d<i.length;d+=1){const u=i[d];u&&(o+=(c===!0?"":" ")+t(u),c=!1,r&&r[u]&&(o+=" "+r[u]))}n[s]=o}return n}const r0={black:"#000",white:"#fff"},qYe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},mm={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},pm={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Zx={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},gm={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},xm={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},vm={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function Cre(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:r0.white,default:r0.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const jre=Cre();function Ere(){return{text:{primary:r0.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:r0.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const ER=Ere();function F7(e,t,r,n){const s=n.light||n,i=n.dark||n*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=hN(e.main,s):t==="dark"&&(e.dark=fN(e.main,i)))}function H7(e,t,r,n,s){const i=s.light||s,o=s.dark||s*1.5;t[r]||(t.hasOwnProperty(n)?t[r]=t[n]:r==="light"?t.light=`color-mix(in ${e}, ${t.main}, #fff ${(i*100).toFixed(0)}%)`:r==="dark"&&(t.dark=`color-mix(in ${e}, ${t.main}, #000 ${(o*100).toFixed(0)}%)`))}function GYe(e="light"){return e==="dark"?{main:gm[200],light:gm[50],dark:gm[400]}:{main:gm[700],light:gm[400],dark:gm[800]}}function YYe(e="light"){return e==="dark"?{main:mm[200],light:mm[50],dark:mm[400]}:{main:mm[500],light:mm[300],dark:mm[700]}}function KYe(e="light"){return e==="dark"?{main:pm[500],light:pm[300],dark:pm[700]}:{main:pm[700],light:pm[400],dark:pm[800]}}function ZYe(e="light"){return e==="dark"?{main:xm[400],light:xm[300],dark:xm[700]}:{main:xm[700],light:xm[500],dark:xm[900]}}function XYe(e="light"){return e==="dark"?{main:vm[400],light:vm[300],dark:vm[700]}:{main:vm[800],light:vm[500],dark:vm[900]}}function QYe(e="light"){return e==="dark"?{main:Zx[400],light:Zx[300],dark:Zx[700]}:{main:"#ed6c02",light:Zx[500],dark:Zx[900]}}function JYe(e){return`oklch(from ${e} var(--__l) 0 h / var(--__a))`}function I4(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2,colorSpace:s,...i}=e,o=e.primary||GYe(t),c=e.secondary||YYe(t),d=e.error||KYe(t),u=e.info||ZYe(t),l=e.success||XYe(t),f=e.warning||QYe(t);function p(m){return s?JYe(m):DYe(m,ER.text.primary)>=r?ER.text.primary:jre.text.primary}const g=({color:m,name:y,mainShade:w=500,lightShade:C=300,darkShade:E=700})=>{if(m={...m},!m.main&&m[w]&&(m.main=m[w]),!m.hasOwnProperty("main"))throw new Error(If(11,y?` (${y})`:"",w));if(typeof m.main!="string")throw new Error(If(12,y?` (${y})`:"",JSON.stringify(m.main)));return s?(H7(s,m,"light",C,n),H7(s,m,"dark",E,n)):(F7(m,"light",C,n),F7(m,"dark",E,n)),m.contrastText||(m.contrastText=p(m.main)),m};let x;return t==="light"?x=Cre():t==="dark"&&(x=Ere()),li({common:{...r0},mode:t,primary:g({color:o,name:"primary"}),secondary:g({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:g({color:d,name:"error"}),warning:g({color:f,name:"warning"}),info:g({color:u,name:"info"}),success:g({color:l,name:"success"}),grey:qYe,contrastThreshold:r,getContrastText:p,augmentColor:g,tonalOffset:n,...x},i)}function eKe(e){const t={};return Object.entries(e).forEach(n=>{const[s,i]=n;typeof i=="object"&&(t[s]=`${i.fontStyle?`${i.fontStyle} `:""}${i.fontVariant?`${i.fontVariant} `:""}${i.fontWeight?`${i.fontWeight} `:""}${i.fontStretch?`${i.fontStretch} `:""}${i.fontSize||""}${i.lineHeight?`/${i.lineHeight} `:""}${i.fontFamily||""}`)}),t}function tKe(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function rKe(e){return Math.round(e*1e5)/1e5}const z7={textTransform:"uppercase"},U7='"Roboto", "Helvetica", "Arial", sans-serif';function nKe(e,t){const{fontFamily:r=U7,fontSize:n=14,fontWeightLight:s=300,fontWeightRegular:i=400,fontWeightMedium:o=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:u,pxToRem:l,...f}=typeof t=="function"?t(e):t,p=n/14,g=l||(m=>`${m/d*p}rem`),x=(m,y,w,C,E)=>({fontFamily:r,fontWeight:m,fontSize:g(y),lineHeight:w,...r===U7?{letterSpacing:`${rKe(C/y)}em`}:{},...E,...u}),S={h1:x(s,96,1.167,-1.5),h2:x(s,60,1.2,-.5),h3:x(i,48,1.167,0),h4:x(i,34,1.235,.25),h5:x(i,24,1.334,0),h6:x(o,20,1.6,.15),subtitle1:x(i,16,1.75,.15),subtitle2:x(o,14,1.57,.1),body1:x(i,16,1.5,.15),body2:x(i,14,1.43,.15),button:x(o,14,1.75,.4,z7),caption:x(i,12,1.66,.4),overline:x(i,12,2.66,1,z7),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return li({htmlFontSize:d,pxToRem:g,fontFamily:r,fontSize:n,fontWeightLight:s,fontWeightRegular:i,fontWeightMedium:o,fontWeightBold:c,...S},f,{clone:!1})}const sKe=.2,aKe=.14,iKe=.12;function Kr(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${sKe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${aKe})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${iKe})`].join(",")}const oKe=["none",Kr(0,2,1,-1,0,1,1,0,0,1,3,0),Kr(0,3,1,-2,0,2,2,0,0,1,5,0),Kr(0,3,3,-2,0,3,4,0,0,1,8,0),Kr(0,2,4,-1,0,4,5,0,0,1,10,0),Kr(0,3,5,-1,0,5,8,0,0,1,14,0),Kr(0,3,5,-1,0,6,10,0,0,1,18,0),Kr(0,4,5,-2,0,7,10,1,0,2,16,1),Kr(0,5,5,-3,0,8,10,1,0,3,14,2),Kr(0,5,6,-3,0,9,12,1,0,3,16,2),Kr(0,6,6,-3,0,10,14,1,0,4,18,3),Kr(0,6,7,-4,0,11,15,1,0,4,20,3),Kr(0,7,8,-4,0,12,17,2,0,5,22,4),Kr(0,7,8,-4,0,13,19,2,0,5,24,4),Kr(0,7,9,-4,0,14,21,2,0,5,26,4),Kr(0,8,9,-5,0,15,22,2,0,6,28,5),Kr(0,8,10,-5,0,16,24,2,0,6,30,5),Kr(0,8,11,-5,0,17,26,2,0,6,32,5),Kr(0,9,11,-5,0,18,28,2,0,7,34,6),Kr(0,9,12,-6,0,19,29,2,0,7,36,6),Kr(0,10,13,-6,0,20,31,3,0,8,38,7),Kr(0,10,13,-6,0,21,33,3,0,8,40,7),Kr(0,10,14,-6,0,22,35,3,0,8,42,7),Kr(0,11,14,-7,0,23,36,3,0,9,44,8),Kr(0,11,15,-7,0,24,38,3,0,9,46,8)],lKe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},cKe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function V7(e){return`${Math.round(e)}ms`}function dKe(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function uKe(e){const t={...lKe,...e.easing},r={...cKe,...e.duration};return{getAutoHeightDuration:dKe,create:(s=["all"],i={})=>{const{duration:o=r.standard,easing:c=t.easeInOut,delay:d=0,...u}=i;return(Array.isArray(s)?s:[s]).map(l=>`${l} ${typeof o=="string"?o:V7(o)} ${c} ${typeof d=="string"?d:V7(d)}`).join(",")},...e,easing:t,duration:r}}const fKe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function hKe(e){return Yo(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function Nre(e={}){const t={...e};function r(n){const s=Object.entries(n);for(let i=0;i<s.length;i++){const[o,c]=s[i];!hKe(c)||o.startsWith("unstable_")?delete n[o]:Yo(c)&&(n[o]={...c},r(n[o]))}}return r(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function W7(e){return typeof e=="number"?`${(e*100).toFixed(0)}%`:`calc((${e}) * 100%)`}const mKe=e=>{if(!Number.isNaN(+e))return+e;const t=e.match(/\d*\.?\d+/g);if(!t)return 0;let r=0;for(let n=0;n<t.length;n+=1)r+=+t[n];return r};function pKe(e){Object.assign(e,{alpha(t,r){const n=this||e;return n.colorSpace?`oklch(from ${t} l c h / ${typeof r=="string"?`calc(${r})`:r})`:n.vars?`rgba(${t.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof r=="string"?`calc(${r})`:r})`:Sre(t,mKe(r))},lighten(t,r){const n=this||e;return n.colorSpace?`color-mix(in ${n.colorSpace}, ${t}, #fff ${W7(r)})`:hN(t,r)},darken(t,r){const n=this||e;return n.colorSpace?`color-mix(in ${n.colorSpace}, ${t}, #000 ${W7(r)})`:fN(t,r)}})}function NR(e={},...t){const{breakpoints:r,mixins:n={},spacing:s,palette:i={},transitions:o={},typography:c={},shape:d,colorSpace:u,...l}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(If(20));const f=I4({...i,colorSpace:u}),p=M4(e);let g=li(p,{mixins:tKe(p.breakpoints,n),palette:f,shadows:oKe.slice(),typography:nKe(f,c),transitions:uKe(o),zIndex:{...fKe}});return g=li(g,l),g=t.reduce((x,S)=>li(x,S),g),g.unstable_sxConfig={...hy,...l?.unstable_sxConfig},g.unstable_sx=function(S){return jp({sx:S,theme:this})},g.toRuntimeSource=Nre,pKe(g),g}function gKe(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const xKe=[...Array(25)].map((e,t)=>{if(t===0)return"none";const r=gKe(t);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function _re(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function Are(e){return e==="dark"?xKe:[]}function vKe(e){const{palette:t={mode:"light"},opacity:r,overlays:n,colorSpace:s,...i}=e,o=I4({...t,colorSpace:s});return{palette:o,opacity:{..._re(o.mode),...r},overlays:n||Are(o.mode),...i}}function yKe(e){return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!e[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const bKe=e=>[...[...Array(25)].map((t,r)=>`--${e?`${e}-`:""}overlays-${r}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],wKe=e=>(t,r)=>{const n=e.rootSelector||":root",s=e.colorSchemeSelector;let i=s;if(s==="class"&&(i=".%s"),s==="data"&&(i="[data-%s]"),s?.startsWith("data-")&&!s.includes("%s")&&(i=`[${s}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const o={};return bKe(e.cssVarPrefix).forEach(c=>{o[c]=r[c],delete r[c]}),i==="media"?{[n]:r,"@media (prefers-color-scheme: dark)":{[n]:o}}:i?{[i.replace("%s",t)]:o,[`${n}, ${i.replace("%s",t)}`]:r}:{[n]:{...r,...o}}}if(i&&i!=="media")return`${n}, ${i.replace("%s",String(t))}`}else if(t){if(i==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[n]:r}};if(i)return i.replace("%s",String(t))}return n};function SKe(e,t){t.forEach(r=>{e[r]||(e[r]={})})}function Pe(e,t,r){!e[t]&&r&&(e[t]=r)}function ov(e){return typeof e!="string"||!e.startsWith("hsl")?e:wre(e)}function Vl(e,t){`${t}Channel`in e||(e[`${t}Channel`]=iv(ov(e[t])))}function CKe(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const zo=e=>{try{return e()}catch{}},jKe=(e="mui")=>HYe(e);function dP(e,t,r,n,s){if(!r)return;r=r===!0?{}:r;const i=s==="dark"?"dark":"light";if(!n){t[s]=vKe({...r,palette:{mode:i,...r?.palette},colorSpace:e});return}const{palette:o,...c}=NR({...n,palette:{mode:i,...r?.palette},colorSpace:e});return t[s]={...r,palette:o,opacity:{..._re(i),...r?.opacity},overlays:r?.overlays||Are(i)},c}function EKe(e={},...t){const{colorSchemes:r={light:!0},defaultColorScheme:n,disableCssColorScheme:s=!1,cssVarPrefix:i="mui",nativeColor:o=!1,shouldSkipGeneratingVar:c=yKe,colorSchemeSelector:d=r.light&&r.dark?"media":void 0,rootSelector:u=":root",...l}=e,f=Object.keys(r)[0],p=n||(r.light&&f!=="light"?"light":f),g=jKe(i),{[p]:x,light:S,dark:m,...y}=r,w={...y};let C=x;if((p==="dark"&&!("dark"in r)||p==="light"&&!("light"in r))&&(C=!0),!C)throw new Error(If(21,p));let E;o&&(E="oklch");const N=dP(E,w,C,l,p);S&&!w.light&&dP(E,w,S,void 0,"light"),m&&!w.dark&&dP(E,w,m,void 0,"dark");let k={defaultColorScheme:p,...N,cssVarPrefix:i,colorSchemeSelector:d,rootSelector:u,getCssVar:g,colorSchemes:w,font:{...eKe(N.typography),...N.font},spacing:CKe(l.spacing)};Object.keys(k.colorSchemes).forEach(O=>{const R=k.colorSchemes[O].palette,L=F=>{const $=F.split("-"),z=$[1],W=$[2];return g(F,R[z][W])};R.mode==="light"&&(Pe(R.common,"background","#fff"),Pe(R.common,"onBackground","#000")),R.mode==="dark"&&(Pe(R.common,"background","#000"),Pe(R.common,"onBackground","#fff"));function B(F,$,z){if(E){let W;return F===Lu&&(W=`transparent ${((1-z)*100).toFixed(0)}%`),F===Er&&(W=`#000 ${(z*100).toFixed(0)}%`),F===Nr&&(W=`#fff ${(z*100).toFixed(0)}%`),`color-mix(in ${E}, ${$}, ${W})`}return F($,z)}if(SKe(R,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),R.mode==="light"){Pe(R.Alert,"errorColor",B(Er,R.error.light,.6)),Pe(R.Alert,"infoColor",B(Er,R.info.light,.6)),Pe(R.Alert,"successColor",B(Er,R.success.light,.6)),Pe(R.Alert,"warningColor",B(Er,R.warning.light,.6)),Pe(R.Alert,"errorFilledBg",L("palette-error-main")),Pe(R.Alert,"infoFilledBg",L("palette-info-main")),Pe(R.Alert,"successFilledBg",L("palette-success-main")),Pe(R.Alert,"warningFilledBg",L("palette-warning-main")),Pe(R.Alert,"errorFilledColor",zo(()=>R.getContrastText(R.error.main))),Pe(R.Alert,"infoFilledColor",zo(()=>R.getContrastText(R.info.main))),Pe(R.Alert,"successFilledColor",zo(()=>R.getContrastText(R.success.main))),Pe(R.Alert,"warningFilledColor",zo(()=>R.getContrastText(R.warning.main))),Pe(R.Alert,"errorStandardBg",B(Nr,R.error.light,.9)),Pe(R.Alert,"infoStandardBg",B(Nr,R.info.light,.9)),Pe(R.Alert,"successStandardBg",B(Nr,R.success.light,.9)),Pe(R.Alert,"warningStandardBg",B(Nr,R.warning.light,.9)),Pe(R.Alert,"errorIconColor",L("palette-error-main")),Pe(R.Alert,"infoIconColor",L("palette-info-main")),Pe(R.Alert,"successIconColor",L("palette-success-main")),Pe(R.Alert,"warningIconColor",L("palette-warning-main")),Pe(R.AppBar,"defaultBg",L("palette-grey-100")),Pe(R.Avatar,"defaultBg",L("palette-grey-400")),Pe(R.Button,"inheritContainedBg",L("palette-grey-300")),Pe(R.Button,"inheritContainedHoverBg",L("palette-grey-A100")),Pe(R.Chip,"defaultBorder",L("palette-grey-400")),Pe(R.Chip,"defaultAvatarColor",L("palette-grey-700")),Pe(R.Chip,"defaultIconColor",L("palette-grey-700")),Pe(R.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Pe(R.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Pe(R.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Pe(R.LinearProgress,"primaryBg",B(Nr,R.primary.main,.62)),Pe(R.LinearProgress,"secondaryBg",B(Nr,R.secondary.main,.62)),Pe(R.LinearProgress,"errorBg",B(Nr,R.error.main,.62)),Pe(R.LinearProgress,"infoBg",B(Nr,R.info.main,.62)),Pe(R.LinearProgress,"successBg",B(Nr,R.success.main,.62)),Pe(R.LinearProgress,"warningBg",B(Nr,R.warning.main,.62)),Pe(R.Skeleton,"bg",E?B(Lu,R.text.primary,.11):`rgba(${L("palette-text-primaryChannel")} / 0.11)`),Pe(R.Slider,"primaryTrack",B(Nr,R.primary.main,.62)),Pe(R.Slider,"secondaryTrack",B(Nr,R.secondary.main,.62)),Pe(R.Slider,"errorTrack",B(Nr,R.error.main,.62)),Pe(R.Slider,"infoTrack",B(Nr,R.info.main,.62)),Pe(R.Slider,"successTrack",B(Nr,R.success.main,.62)),Pe(R.Slider,"warningTrack",B(Nr,R.warning.main,.62));const F=E?B(Er,R.background.default,.6825):Rw(R.background.default,.8);Pe(R.SnackbarContent,"bg",F),Pe(R.SnackbarContent,"color",zo(()=>E?ER.text.primary:R.getContrastText(F))),Pe(R.SpeedDialAction,"fabHoverBg",Rw(R.background.paper,.15)),Pe(R.StepConnector,"border",L("palette-grey-400")),Pe(R.StepContent,"border",L("palette-grey-400")),Pe(R.Switch,"defaultColor",L("palette-common-white")),Pe(R.Switch,"defaultDisabledColor",L("palette-grey-100")),Pe(R.Switch,"primaryDisabledColor",B(Nr,R.primary.main,.62)),Pe(R.Switch,"secondaryDisabledColor",B(Nr,R.secondary.main,.62)),Pe(R.Switch,"errorDisabledColor",B(Nr,R.error.main,.62)),Pe(R.Switch,"infoDisabledColor",B(Nr,R.info.main,.62)),Pe(R.Switch,"successDisabledColor",B(Nr,R.success.main,.62)),Pe(R.Switch,"warningDisabledColor",B(Nr,R.warning.main,.62)),Pe(R.TableCell,"border",B(Nr,B(Lu,R.divider,1),.88)),Pe(R.Tooltip,"bg",B(Lu,R.grey[700],.92))}if(R.mode==="dark"){Pe(R.Alert,"errorColor",B(Nr,R.error.light,.6)),Pe(R.Alert,"infoColor",B(Nr,R.info.light,.6)),Pe(R.Alert,"successColor",B(Nr,R.success.light,.6)),Pe(R.Alert,"warningColor",B(Nr,R.warning.light,.6)),Pe(R.Alert,"errorFilledBg",L("palette-error-dark")),Pe(R.Alert,"infoFilledBg",L("palette-info-dark")),Pe(R.Alert,"successFilledBg",L("palette-success-dark")),Pe(R.Alert,"warningFilledBg",L("palette-warning-dark")),Pe(R.Alert,"errorFilledColor",zo(()=>R.getContrastText(R.error.dark))),Pe(R.Alert,"infoFilledColor",zo(()=>R.getContrastText(R.info.dark))),Pe(R.Alert,"successFilledColor",zo(()=>R.getContrastText(R.success.dark))),Pe(R.Alert,"warningFilledColor",zo(()=>R.getContrastText(R.warning.dark))),Pe(R.Alert,"errorStandardBg",B(Er,R.error.light,.9)),Pe(R.Alert,"infoStandardBg",B(Er,R.info.light,.9)),Pe(R.Alert,"successStandardBg",B(Er,R.success.light,.9)),Pe(R.Alert,"warningStandardBg",B(Er,R.warning.light,.9)),Pe(R.Alert,"errorIconColor",L("palette-error-main")),Pe(R.Alert,"infoIconColor",L("palette-info-main")),Pe(R.Alert,"successIconColor",L("palette-success-main")),Pe(R.Alert,"warningIconColor",L("palette-warning-main")),Pe(R.AppBar,"defaultBg",L("palette-grey-900")),Pe(R.AppBar,"darkBg",L("palette-background-paper")),Pe(R.AppBar,"darkColor",L("palette-text-primary")),Pe(R.Avatar,"defaultBg",L("palette-grey-600")),Pe(R.Button,"inheritContainedBg",L("palette-grey-800")),Pe(R.Button,"inheritContainedHoverBg",L("palette-grey-700")),Pe(R.Chip,"defaultBorder",L("palette-grey-700")),Pe(R.Chip,"defaultAvatarColor",L("palette-grey-300")),Pe(R.Chip,"defaultIconColor",L("palette-grey-300")),Pe(R.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Pe(R.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Pe(R.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Pe(R.LinearProgress,"primaryBg",B(Er,R.primary.main,.5)),Pe(R.LinearProgress,"secondaryBg",B(Er,R.secondary.main,.5)),Pe(R.LinearProgress,"errorBg",B(Er,R.error.main,.5)),Pe(R.LinearProgress,"infoBg",B(Er,R.info.main,.5)),Pe(R.LinearProgress,"successBg",B(Er,R.success.main,.5)),Pe(R.LinearProgress,"warningBg",B(Er,R.warning.main,.5)),Pe(R.Skeleton,"bg",E?B(Lu,R.text.primary,.13):`rgba(${L("palette-text-primaryChannel")} / 0.13)`),Pe(R.Slider,"primaryTrack",B(Er,R.primary.main,.5)),Pe(R.Slider,"secondaryTrack",B(Er,R.secondary.main,.5)),Pe(R.Slider,"errorTrack",B(Er,R.error.main,.5)),Pe(R.Slider,"infoTrack",B(Er,R.info.main,.5)),Pe(R.Slider,"successTrack",B(Er,R.success.main,.5)),Pe(R.Slider,"warningTrack",B(Er,R.warning.main,.5));const F=E?B(Nr,R.background.default,.985):Rw(R.background.default,.98);Pe(R.SnackbarContent,"bg",F),Pe(R.SnackbarContent,"color",zo(()=>E?jre.text.primary:R.getContrastText(F))),Pe(R.SpeedDialAction,"fabHoverBg",Rw(R.background.paper,.15)),Pe(R.StepConnector,"border",L("palette-grey-600")),Pe(R.StepContent,"border",L("palette-grey-600")),Pe(R.Switch,"defaultColor",L("palette-grey-300")),Pe(R.Switch,"defaultDisabledColor",L("palette-grey-600")),Pe(R.Switch,"primaryDisabledColor",B(Er,R.primary.main,.55)),Pe(R.Switch,"secondaryDisabledColor",B(Er,R.secondary.main,.55)),Pe(R.Switch,"errorDisabledColor",B(Er,R.error.main,.55)),Pe(R.Switch,"infoDisabledColor",B(Er,R.info.main,.55)),Pe(R.Switch,"successDisabledColor",B(Er,R.success.main,.55)),Pe(R.Switch,"warningDisabledColor",B(Er,R.warning.main,.55)),Pe(R.TableCell,"border",B(Er,B(Lu,R.divider,1),.68)),Pe(R.Tooltip,"bg",B(Lu,R.grey[700],.92))}Vl(R.background,"default"),Vl(R.background,"paper"),Vl(R.common,"background"),Vl(R.common,"onBackground"),Vl(R,"divider"),Object.keys(R).forEach(F=>{const $=R[F];F!=="tonalOffset"&&$&&typeof $=="object"&&($.main&&Pe(R[F],"mainChannel",iv(ov($.main))),$.light&&Pe(R[F],"lightChannel",iv(ov($.light))),$.dark&&Pe(R[F],"darkChannel",iv(ov($.dark))),$.contrastText&&Pe(R[F],"contrastTextChannel",iv(ov($.contrastText))),F==="text"&&(Vl(R[F],"primary"),Vl(R[F],"secondary")),F==="action"&&($.active&&Vl(R[F],"active"),$.selected&&Vl(R[F],"selected")))})}),k=t.reduce((O,R)=>li(O,R),k);const A={prefix:i,disableCssColorScheme:s,shouldSkipGeneratingVar:c,getSelector:wKe(k),enableContrastVars:o},{vars:T,generateThemeVars:P,generateStyleSheets:M}=VYe(k,A);return k.vars=T,Object.entries(k.colorSchemes[k.defaultColorScheme]).forEach(([O,R])=>{k[O]=R}),k.generateThemeVars=P,k.generateStyleSheets=M,k.generateSpacing=function(){return hre(l.spacing,D4(this))},k.getColorSchemeSelector=WYe(d),k.spacing=k.generateSpacing(),k.shouldSkipGeneratingVar=c,k.unstable_sxConfig={...hy,...l?.unstable_sxConfig},k.unstable_sx=function(R){return jp({sx:R,theme:this})},k.toRuntimeSource=Nre,k}function q7(e,t,r){e.colorSchemes&&r&&(e.colorSchemes[t]={...r!==!0&&r,palette:I4({...r===!0?{}:r.palette,mode:t})})}function NKe(e={},...t){const{palette:r,cssVariables:n=!1,colorSchemes:s=r?void 0:{light:!0},defaultColorScheme:i=r?.mode,...o}=e,c=i||"light",d=s?.[c],u={...s,...r?{[c]:{...typeof d!="boolean"&&d,palette:r}}:void 0};if(n===!1){if(!("colorSchemes"in e))return NR(e,...t);let l=r;"palette"in e||u[c]&&(u[c]!==!0?l=u[c].palette:c==="dark"&&(l={mode:"dark"}));const f=NR({...e,palette:l},...t);return f.defaultColorScheme=c,f.colorSchemes=u,f.palette.mode==="light"&&(f.colorSchemes.light={...u.light!==!0&&u.light,palette:f.palette},q7(f,"dark",u.dark)),f.palette.mode==="dark"&&(f.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:f.palette},q7(f,"light",u.light)),f}return!r&&!("light"in u)&&c==="light"&&(u.light=!0),EKe({...o,colorSchemes:u,defaultColorScheme:c,...typeof n!="boolean"&&n},...t)}const L4=NKe();function nh(){const e=pre(L4);return e[JE]||e}function yi({props:e,name:t}){return EYe({props:e,name:t,defaultTheme:L4,themeId:JE})}function _Ke(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const kre=e=>_Ke(e)&&e!=="classes",ar=bYe({themeId:JE,defaultTheme:L4,rootShouldForwardProp:kre});function vr(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function AKe(e){return _s("MuiBarElement",e)}const kKe=fs("MuiBarElement",["root","highlighted","faded","series"]),TKe=e=>{const{classes:t,id:r,isHighlighted:n,isFaded:s}=e,i={root:["root",`series-${r}`,n&&"highlighted",s&&"faded"]};return As(i,AKe,t)};function Gd(...e){const t=b.useRef(void 0),r=b.useCallback(n=>{const s=e.map(i=>{if(i==null)return null;if(typeof i=="function"){const o=i,c=o(n);return typeof c=="function"?c:()=>{o(null)}}return i.current=n,()=>{i.current=null}});return()=>{s.forEach(i=>i?.())}},e);return b.useMemo(()=>e.every(n=>n==null)?null:n=>{t.current&&(t.current(),t.current=void 0),n!=null&&(t.current=r(n))},e)}function PKe(e){return typeof e=="string"}function DKe(e,t,r){return e===void 0||PKe(e)?t:{...t,ownerState:{...t.ownerState,...r}}}function RKe(e,t=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&typeof e[n]=="function"&&!t.includes(n)).forEach(n=>{r[n]=e[n]}),r}function G7(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{t[r]=e[r]}),t}function MKe(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:n,externalForwardedProps:s,className:i}=e;if(!t){const g=ft(r?.className,i,s?.className,n?.className),x={...r?.style,...s?.style,...n?.style},S={...r,...s,...n};return g.length>0&&(S.className=g),Object.keys(x).length>0&&(S.style=x),{props:S,internalRef:void 0}}const o=RKe({...s,...n}),c=G7(n),d=G7(s),u=t(o),l=ft(u?.className,r?.className,i,s?.className,n?.className),f={...u?.style,...r?.style,...s?.style,...n?.style},p={...u,...r,...d,...c};return l.length>0&&(p.className=l),Object.keys(f).length>0&&(p.style=f),{props:p,internalRef:u.ref}}function OKe(e,t,r){return typeof e=="function"?e(t,r):e}function jc(e){const{elementType:t,externalSlotProps:r,ownerState:n,skipResolvingSlotProps:s=!1,...i}=e,o=s?{}:OKe(r,n),{props:c,internalRef:d}=MKe({...i,externalSlotProps:o}),u=Gd(d,o?.ref,e.additionalProps?.ref);return DKe(t,{...c,ref:u},n)}function ws(e){const t=b.useRef(e);return is(()=>{t.current=e}),b.useRef((...r)=>(0,t.current)(...r)).current}const IKe=UW({memoize:Vfe,memoizeOptions:{maxSize:1,equalityCheck:Object.is}}),py=(e,t,r,n,s,i,o,c,...d)=>{if(d.length>0)throw new Error("Unsupported number of selectors");let u;if(e&&t&&r&&n&&s&&i&&o&&c)u=(l,f,p,g)=>{const x=e(l,f,p,g),S=t(l,f,p,g),m=r(l,f,p,g),y=n(l,f,p,g),w=s(l,f,p,g),C=i(l,f,p,g),E=o(l,f,p,g);return c(x,S,m,y,w,C,E,f,p,g)};else if(e&&t&&r&&n&&s&&i&&o)u=(l,f,p,g)=>{const x=e(l,f,p,g),S=t(l,f,p,g),m=r(l,f,p,g),y=n(l,f,p,g),w=s(l,f,p,g),C=i(l,f,p,g);return o(x,S,m,y,w,C,f,p,g)};else if(e&&t&&r&&n&&s&&i)u=(l,f,p,g)=>{const x=e(l,f,p,g),S=t(l,f,p,g),m=r(l,f,p,g),y=n(l,f,p,g),w=s(l,f,p,g);return i(x,S,m,y,w,f,p,g)};else if(e&&t&&r&&n&&s)u=(l,f,p,g)=>{const x=e(l,f,p,g),S=t(l,f,p,g),m=r(l,f,p,g),y=n(l,f,p,g);return s(x,S,m,y,f,p,g)};else if(e&&t&&r&&n)u=(l,f,p,g)=>{const x=e(l,f,p,g),S=t(l,f,p,g),m=r(l,f,p,g);return n(x,S,m,f,p,g)};else if(e&&t&&r)u=(l,f,p,g)=>{const x=e(l,f,p,g),S=t(l,f,p,g);return r(x,S,f,p,g)};else if(e&&t)u=(l,f,p,g)=>{const x=e(l,f,p,g);return t(x,f,p,g)};else if(e)u=e;else throw new Error("Missing arguments");return u},pN=e=>(...t)=>{const r=new WeakMap;let n=1;const s=t[t.length-1],i=t.length-1||1,o=Math.max(s.length-i,0);if(o>3)throw new Error("Unsupported number of arguments");return(d,u,l,f)=>{let p=d.__cacheKey__;p||(p={id:n},d.__cacheKey__=p,n+=1);let g=r.get(p);if(!g){const x=t.length===1?[y=>y,s]:t;let S=t;const m=[void 0,void 0,void 0];switch(o){case 0:break;case 1:{S=[...x.slice(0,-1),()=>m[0],s];break}case 2:{S=[...x.slice(0,-1),()=>m[0],()=>m[1],s];break}case 3:{S=[...x.slice(0,-1),()=>m[0],()=>m[1],()=>m[2],s];break}default:throw new Error("Unsupported number of arguments")}e&&(S=[...S,e]),g=IKe(...S),g.selectorArgs=m,r.set(p,g)}switch(o){case 3:g.selectorArgs[2]=f;case 2:g.selectorArgs[1]=l;case 1:g.selectorArgs[0]=u}switch(o){case 0:return g(d);case 1:return g(d,u);case 2:return g(d,u,l);case 3:return g(d,u,l,f);default:throw new Error("unreachable")}}},hs=pN();function LKe(e,t,r,n,s){const i=o=>t(o,r,n,s);return KX.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,e.getSnapshot,i)}const Y7={};function gN(e,t){const r=b.useRef(Y7);return r.current===Y7&&(r.current=e(t)),r}const BKe=[];function Tre(e){b.useEffect(e,BKe)}const $Ke=()=>{};function FKe(e,t,r){const n=gN(HKe,{store:e,selector:t}).current;n.effect=r,Tre(n.onMount)}function HKe(e){const{store:t,selector:r}=e;let n=r(t.state);const s={effect:$Ke,dispose:null,subscribe:()=>{s.dispose??=t.subscribe(i=>{const o=r(i);s.effect(n,o),n=o})},onMount:()=>(s.subscribe(),()=>{s.dispose?.(),s.dispose=null})};return s.subscribe(),s}class B4{static create(t){return new B4(t)}constructor(t){this.state=t,this.listeners=new Set,this.updateTick=0}subscribe=t=>(this.listeners.add(t),()=>{this.listeners.delete(t)});getSnapshot=()=>this.state;setState(t){this.state=t,this.updateTick+=1;const r=this.updateTick,n=this.listeners.values();let s;for(;s=n.next(),!s.done;){if(r!==this.updateTick)return;const i=s.value;i(t)}}update(t){for(const r in t)if(!Object.is(this.state[r],t[r])){this.setState(ue({},this.state,t));return}}set(t,r){Object.is(this.state[t],r)||this.setState(ue({},this.state,{[t]:r}))}}const xN=({params:e,store:t})=>{b.useEffect(()=>{t.set("animation",ue({},t.state.animation,{skip:e.skipAnimation}))},[t,e.skipAnimation]);const r=b.useCallback(()=>{let n=!1;return t.set("animation",ue({},t.state.animation,{skipAnimationRequests:t.state.animation.skipAnimationRequests+1})),()=>{n||(n=!0,t.set("animation",ue({},t.state.animation,{skipAnimationRequests:t.state.animation.skipAnimationRequests-1})))}},[t]);return is(()=>{if(typeof window>"u"||!window?.matchMedia)return;let s;const i=c=>{c.matches?s=r():s?.()},o=window.matchMedia("(prefers-reduced-motion)");return i(o),o.addEventListener("change",i),()=>{o.removeEventListener("change",i)}},[r,t]),{instance:{disableAnimation:r}}};xN.params={skipAnimation:!0};xN.getDefaultizedParams=({params:e})=>ue({},e,{skipAnimation:e.skipAnimation??!1});xN.getInitialState=({skipAnimation:e})=>({animation:{skip:e,skipAnimationRequests:0}});const Ge=(e,t)=>py(...e,t),zKe=e=>e.animation,UKe=Ge([zKe],e=>e.skip||e.skipAnimationRequests>0);function VKe(e,t){const r=b.useRef(!0);b.useEffect(()=>{if(r.current){r.current=!1;return}return e()},t)}function _R(e){return e&&e.ownerDocument||document}function WKe(e){return _R(e).defaultView||window}const wt=LKe,$4="DEFAULT_X_AXIS_KEY",F4="DEFAULT_Y_AXIS_KEY",qKe={top:20,bottom:20,left:20,right:20},GKe=45,YKe=25,Pre=20,Lc=e=>e.cartesianAxis?.x,cu=e=>e.cartesianAxis?.y,KKe=py(cu,function(t){return(t??[]).reduce((r,n)=>n.position==="left"?r+(n.width||0)+(n.zoom?.slider.enabled?n.zoom.slider.size:0):r,0)}),ZKe=py(cu,function(t){return(t??[]).reduce((r,n)=>n.position==="right"?r+(n.width||0)+(n.zoom?.slider.enabled?n.zoom.slider.size:0):r,0)}),XKe=py(Lc,function(t){return(t??[]).reduce((r,n)=>n.position==="top"?r+(n.height||0)+(n.zoom?.slider.enabled?n.zoom.slider.size:0):r,0)}),QKe=py(Lc,function(t){return(t??[]).reduce((r,n)=>n.position==="bottom"?r+(n.height||0)+(n.zoom?.slider.enabled?n.zoom.slider.size:0):r,0)}),JKe=hs(KKe,ZKe,XKe,QKe,function(t,r,n,s){return{left:t,right:r,top:n,bottom:s}}),gy=e=>e.dimensions,eZe=e=>e.dimensions.margin,$a=hs(gy,eZe,JKe,function({width:t,height:r},{top:n,right:s,bottom:i,left:o},{left:c,right:d,top:u,bottom:l}){return{width:t-o-s-c-d,left:o+c,right:s+d,height:r-n-i-u-l,top:n+u,bottom:i+l}}),tZe=Ge([gy],e=>e.width),rZe=Ge([gy],e=>e.height),Dre=Ge([gy],e=>e.propsWidth),Rre=Ge([gy],e=>e.propsHeight);function nZe(e,t){return typeof e=="number"?{top:e,bottom:e,left:e,right:e}:t?ue({},t,e):e}const sZe=10,vN=({params:e,store:t,svgRef:r})=>{const n=e.width!==void 0&&e.height!==void 0,s=b.useRef({displayError:!1,initialCompute:!0,computeRun:0}),[i,o]=b.useState(0),[c,d]=b.useState(0),u=b.useCallback(()=>{const x=r?.current;if(!x)return{};const m=WKe(x).getComputedStyle(x),y=Math.floor(parseFloat(m.height))||0,w=Math.floor(parseFloat(m.width))||0;return(t.state.dimensions.width!==w||t.state.dimensions.height!==y)&&t.set("dimensions",{margin:{top:e.margin.top,right:e.margin.right,bottom:e.margin.bottom,left:e.margin.left},width:e.width??w,height:e.height??y,propsWidth:e.width,propsHeight:e.height}),{height:y,width:w}},[t,r,e.height,e.width,e.margin.left,e.margin.right,e.margin.top,e.margin.bottom]);VKe(()=>{const x=e.width??t.state.dimensions.width,S=e.height??t.state.dimensions.height;t.set("dimensions",{margin:{top:e.margin.top,right:e.margin.right,bottom:e.margin.bottom,left:e.margin.left},width:x,height:S,propsHeight:e.height,propsWidth:e.width})},[t,e.height,e.width,e.margin.left,e.margin.right,e.margin.top,e.margin.bottom]),b.useEffect(()=>{s.current.displayError=!0},[]),is(()=>{if(n||!s.current.initialCompute||s.current.computeRun>sZe)return;const x=u();x.width!==i||x.height!==c?(s.current.computeRun+=1,x.width!==void 0&&o(x.width),x.height!==void 0&&d(x.height)):s.current.initialCompute&&(s.current.initialCompute=!1)},[c,i,u,n]),is(()=>{if(n)return()=>{};u();const x=r.current;if(typeof ResizeObserver>"u")return()=>{};let S;const m=new ResizeObserver(()=>{S=requestAnimationFrame(()=>{u()})});return x&&m.observe(x),()=>{S&&cancelAnimationFrame(S),x&&m.unobserve(x)}},[u,n,r]);const l=wt(t,$a),f=b.useCallback(x=>x>=l.left-1&&x<=l.left+l.width,[l.left,l.width]),p=b.useCallback(x=>x>=l.top-1&&x<=l.top+l.height,[l.height,l.top]);return{instance:{isPointInside:b.useCallback((x,S,m)=>m&&"closest"in m&&m.closest("[data-drawing-container]")?!0:f(x)&&p(S),[f,p]),isXInside:f,isYInside:p}}};vN.params={width:!0,height:!0,margin:!0};vN.getDefaultizedParams=({params:e})=>ue({},e,{margin:nZe(e.margin,qKe)});vN.getInitialState=({width:e,height:t,margin:r})=>({dimensions:{margin:r,width:e??0,height:t??0,propsWidth:e,propsHeight:t}});const H4=({params:e,store:t})=>(is(()=>{t.set("experimentalFeatures",e.experimentalFeatures)},[t,e.experimentalFeatures]),{});H4.params={experimentalFeatures:!0};H4.getInitialState=({experimentalFeatures:e})=>({experimentalFeatures:e});const aZe=e=>e.experimentalFeatures,yN=Ge([aZe],e=>!!e?.preferStrictDomainInLineCharts);let K7=0;const iZe=()=>(K7+=1,`mui-chart-${K7}`),z4=({params:e,store:t})=>(b.useEffect(()=>{e.id===void 0||e.id===t.state.id.providedChartId&&t.state.id.chartId!==void 0||t.set("id",ue({},t.state.id,{chartId:e.id??iZe()}))},[t,e.id]),{});z4.params={id:!0};z4.getInitialState=({id:e})=>({id:{chartId:e,providedChartId:e}});const oZe=e=>e.id,lZe=Ge([oZe],e=>e.chartId),cZe=["#4254FB","#FFB422","#FA4F58","#0DBEFF","#22BF75","#FA83B4","#FF7511"],dZe=["#495AFB","#FFC758","#F35865","#30C8FF","#44CE8D","#F286B3","#FF8C39"],Mre=e=>e==="dark"?dZe:cZe,Ore=({series:e,colors:t,seriesConfig:r,dataset:n})=>{const s={};e.forEach((o,c)=>{const d=r[o.type].getSeriesWithDefaultValues(o,c,t),u=d.id;if(s[o.type]===void 0&&(s[o.type]={series:{},seriesOrder:[]}),s[o.type]?.series[u]!==void 0)throw new Error(`MUI X Charts: series' id "${u}" is not unique.`);s[o.type].series[u]=d,s[o.type].seriesOrder.push(u)});const i={};return Object.keys(r).forEach(o=>{const c=s[o];c!==void 0&&(i[o]=r[o]?.seriesProcessor?.(c,n)??s[o])}),i},bN=({params:e,store:t,seriesConfig:r})=>{const{series:n,dataset:s,theme:i,colors:o}=e,c=b.useRef(!0);return b.useEffect(()=>{if(c.current){c.current=!1;return}t.set("series",ue({},t.state.series,{processedSeries:Ore({series:n,colors:typeof o=="function"?o(i):o,seriesConfig:r,dataset:s}),dataset:s}))},[o,s,n,i,r,t]),{}};bN.params={dataset:!0,series:!0,colors:!0,theme:!0};const uZe=[];bN.getDefaultizedParams=({params:e})=>ue({},e,{series:e.series?.length?e.series:uZe,colors:e.colors??Mre,theme:e.theme??"light"});bN.getInitialState=({series:e=[],colors:t,theme:r,dataset:n},s,i)=>({series:{seriesConfig:i,processedSeries:Ore({series:e,colors:typeof t=="function"?t(r):t,seriesConfig:i,dataset:n}),dataset:n}});const U4=e=>e.series,ks=Ge([U4],e=>e.processedSeries),ro=Ge([U4],e=>e.seriesConfig);Ge([U4],e=>e.dataset);const fZe={abort:!0,animationcancel:!0,animationend:!0,animationiteration:!0,animationstart:!0,auxclick:!0,beforeinput:!0,beforetoggle:!0,blur:!0,cancel:!0,canplay:!0,canplaythrough:!0,change:!0,click:!0,close:!0,compositionend:!0,compositionstart:!0,compositionupdate:!0,contextlost:!0,contextmenu:!0,contextrestored:!0,copy:!0,cuechange:!0,cut:!0,dblclick:!0,drag:!0,dragend:!0,dragenter:!0,dragleave:!0,dragover:!0,dragstart:!0,drop:!0,durationchange:!0,emptied:!0,ended:!0,error:!0,focus:!0,focusin:!0,focusout:!0,formdata:!0,gotpointercapture:!0,input:!0,invalid:!0,keydown:!0,keypress:!0,keyup:!0,load:!0,loadeddata:!0,loadedmetadata:!0,loadstart:!0,lostpointercapture:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,paste:!0,pause:!0,play:!0,playing:!0,pointercancel:!0,pointerdown:!0,pointerenter:!0,pointerleave:!0,pointermove:!0,pointerout:!0,pointerover:!0,pointerup:!0,progress:!0,ratechange:!0,reset:!0,resize:!0,scroll:!0,scrollend:!0,securitypolicyviolation:!0,seeked:!0,seeking:!0,select:!0,selectionchange:!0,selectstart:!0,slotchange:!0,stalled:!0,submit:!0,suspend:!0,timeupdate:!0,toggle:!0,touchcancel:!0,touchend:!0,touchmove:!0,touchstart:!0,transitioncancel:!0,transitionend:!0,transitionrun:!0,transitionstart:!0,volumechange:!0,waiting:!0,webkitanimationend:!0,webkitanimationiteration:!0,webkitanimationstart:!0,webkittransitionend:!0,wheel:!0,beforematch:!0,pointerrawupdate:!0};class Ire{customData={};constructor(t){if(!t||!t.name)throw new Error("Gesture must be initialized with a valid name.");if(t.name in fZe)throw new Error(`Gesture can't be created with a native event name. Tried to use "${t.name}". Please use a custom name instead.`);this.name=t.name,this.preventDefault=t.preventDefault??!1,this.stopPropagation=t.stopPropagation??!1,this.preventIf=t.preventIf??[],this.requiredKeys=t.requiredKeys??[],this.pointerMode=t.pointerMode??[],this.pointerOptions=t.pointerOptions??{}}init(t,r,n,s){this.element=t,this.pointerManager=r,this.gesturesRegistry=n,this.keyboardManager=s;const i=`${this.name}ChangeOptions`;this.element.addEventListener(i,this.handleOptionsChange);const o=`${this.name}ChangeState`;this.element.addEventListener(o,this.handleStateChange)}handleOptionsChange=t=>{t&&t.detail&&this.updateOptions(t.detail)};updateOptions(t){this.preventDefault=t.preventDefault??this.preventDefault,this.stopPropagation=t.stopPropagation??this.stopPropagation,this.preventIf=t.preventIf??this.preventIf,this.requiredKeys=t.requiredKeys??this.requiredKeys,this.pointerMode=t.pointerMode??this.pointerMode,this.pointerOptions=t.pointerOptions??this.pointerOptions}getBaseConfig(){return{requiredKeys:this.requiredKeys}}getEffectiveConfig(t,r){if(t!=="mouse"&&t!=="touch"&&t!=="pen")return r;const n=this.pointerOptions[t];return n?ue({},r,n):r}handleStateChange=t=>{t&&t.detail&&this.updateState(t.detail)};updateState(t){Object.assign(this.state,t)}getTargetElement(t){return this.isActive||this.element===t.target||"contains"in this.element&&this.element.contains(t.target)||"getRootNode"in this.element&&this.element.getRootNode()instanceof ShadowRoot&&t.composedPath().includes(this.element)?this.element:null}set isActive(t){t?this.gesturesRegistry.registerActiveGesture(this.element,this):this.gesturesRegistry.unregisterActiveGesture(this.element,this)}get isActive(){return this.gesturesRegistry.isGestureActive(this.element,this)??!1}shouldPreventGesture(t,r){const n=this.getEffectiveConfig(r,this.getBaseConfig());if(!this.keyboardManager.areKeysPressed(n.requiredKeys))return!0;if(this.preventIf.length===0)return!1;const s=this.gesturesRegistry.getActiveGestures(t);return this.preventIf.some(i=>s[i])}isPointerTypeAllowed(t){return!this.pointerMode||this.pointerMode.length===0?!0:this.pointerMode.includes(t)}destroy(){const t=`${this.name}ChangeOptions`;this.element.removeEventListener(t,this.handleOptionsChange);const r=`${this.name}ChangeState`;this.element.removeEventListener(r,this.handleStateChange)}}class hZe{activeGestures=new Map;registerActiveGesture(t,r){this.activeGestures.has(t)||this.activeGestures.set(t,new Set);const n=this.activeGestures.get(t),s={gesture:r,element:t};n.add(s)}unregisterActiveGesture(t,r){const n=this.activeGestures.get(t);n&&(n.forEach(s=>{s.gesture===r&&n.delete(s)}),n.size===0&&this.activeGestures.delete(t))}getActiveGestures(t){const r=this.activeGestures.get(t);return r?Array.from(r).reduce((n,s)=>(n[s.gesture.name]=!0,n),{}):{}}isGestureActive(t,r){const n=this.activeGestures.get(t);return n?Array.from(n).some(s=>s.gesture===r):!1}destroy(){this.activeGestures.clear()}unregisterElement(t){this.activeGestures.delete(t)}}class mZe{pressedKeys=new Set;constructor(){this.initialize()}initialize(){typeof window>"u"||(window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp),window.addEventListener("blur",this.clearKeys))}handleKeyDown=t=>{this.pressedKeys.add(t.key)};handleKeyUp=t=>{this.pressedKeys.delete(t.key)};clearKeys=()=>{this.pressedKeys.clear()};areKeysPressed(t){return!t||t.length===0?!0:t.every(r=>r==="ControlOrMeta"?navigator.platform.includes("Mac")?this.pressedKeys.has("Meta"):this.pressedKeys.has("Control"):this.pressedKeys.has(r))}destroy(){typeof window<"u"&&(window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("keyup",this.handleKeyUp),window.removeEventListener("blur",this.clearKeys)),this.clearKeys()}}class pZe{preventEventInterruption=!0;pointers=new Map;gestureHandlers=new Set;constructor(t){this.root=t.root??document.getRootNode({composed:!0})??document.body,this.touchAction=t.touchAction||"auto",this.passive=t.passive??!1,this.preventEventInterruption=t.preventEventInterruption??!0,this.setupEventListeners()}registerGestureHandler(t){return this.gestureHandlers.add(t),()=>{this.gestureHandlers.delete(t)}}getPointers(){return new Map(this.pointers)}setupEventListeners(){this.touchAction!=="auto"&&(this.root.style.touchAction=this.touchAction),this.root.addEventListener("pointerdown",this.handlePointerEvent,{passive:this.passive}),this.root.addEventListener("pointermove",this.handlePointerEvent,{passive:this.passive}),this.root.addEventListener("pointerup",this.handlePointerEvent,{passive:this.passive}),this.root.addEventListener("pointercancel",this.handlePointerEvent,{passive:this.passive}),this.root.addEventListener("forceCancel",this.handlePointerEvent,{passive:this.passive}),this.root.addEventListener("blur",this.handleInterruptEvents),this.root.addEventListener("contextmenu",this.handleInterruptEvents)}handleInterruptEvents=t=>{if(this.preventEventInterruption&&"pointerType"in t&&t.pointerType==="touch"){t.preventDefault();return}const r=new PointerEvent("forceCancel",{bubbles:!1,cancelable:!1}),n=this.pointers.values().next().value;if(this.pointers.size>0&&n){Object.defineProperties(r,{clientX:{value:n.clientX},clientY:{value:n.clientY},pointerId:{value:n.pointerId},pointerType:{value:n.pointerType}});for(const[s,i]of this.pointers.entries()){const o=ue({},i,{type:"forceCancel"});this.pointers.set(s,o)}}this.notifyHandlers(r),this.pointers.clear()};handlePointerEvent=t=>{const{type:r,pointerId:n}=t;if(r==="pointerdown"||r==="pointermove")this.pointers.set(n,this.createPointerData(t));else if(r==="pointerup"||r==="pointercancel"||r==="forceCancel"){this.pointers.set(n,this.createPointerData(t)),this.notifyHandlers(t),this.pointers.delete(n);return}this.notifyHandlers(t)};notifyHandlers(t){this.gestureHandlers.forEach(r=>r(this.pointers,t))}createPointerData(t){return{pointerId:t.pointerId,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,target:t.target,timeStamp:t.timeStamp,type:t.type,isPrimary:t.isPrimary,pressure:t.pressure,width:t.width,height:t.height,pointerType:t.pointerType,srcEvent:t}}destroy(){this.root.removeEventListener("pointerdown",this.handlePointerEvent),this.root.removeEventListener("pointermove",this.handlePointerEvent),this.root.removeEventListener("pointerup",this.handlePointerEvent),this.root.removeEventListener("pointercancel",this.handlePointerEvent),this.root.removeEventListener("forceCancel",this.handlePointerEvent),this.root.removeEventListener("blur",this.handleInterruptEvents),this.root.removeEventListener("contextmenu",this.handleInterruptEvents),this.pointers.clear(),this.gestureHandlers.clear()}}class gZe{gestureTemplates=new Map;elementGestureMap=new Map;activeGesturesRegistry=new hZe;keyboardManager=new mZe;constructor(t){this.pointerManager=new pZe({root:t.root,touchAction:t.touchAction,passive:t.passive}),t.gestures&&t.gestures.length>0&&t.gestures.forEach(r=>{this.addGestureTemplate(r)})}addGestureTemplate(t){this.gestureTemplates.has(t.name)&&console.warn(`Gesture template with name "${t.name}" already exists. It will be overwritten.`),this.gestureTemplates.set(t.name,t)}setGestureOptions(t,r,n){const s=this.elementGestureMap.get(r);if(!s||!s.has(t)){console.error(`Gesture "${t}" not found on the provided element.`);return}const i=new CustomEvent(`${t}ChangeOptions`,{detail:n,bubbles:!1,cancelable:!1,composed:!1});r.dispatchEvent(i)}setGestureState(t,r,n){const s=this.elementGestureMap.get(r);if(!s||!s.has(t)){console.error(`Gesture "${t}" not found on the provided element.`);return}const i=new CustomEvent(`${t}ChangeState`,{detail:n,bubbles:!1,cancelable:!1,composed:!1});r.dispatchEvent(i)}registerElement(t,r,n){return Array.isArray(t)||(t=[t]),t.forEach(s=>{const i=n?.[s];this.registerSingleGesture(s,r,i)}),r}registerSingleGesture(t,r,n){const s=this.gestureTemplates.get(t);if(!s)return console.error(`Gesture template "${t}" not found.`),!1;this.elementGestureMap.has(r)||this.elementGestureMap.set(r,new Map);const i=this.elementGestureMap.get(r);i.has(t)&&(console.warn(`Element already has gesture "${t}" registered. It will be replaced.`),this.unregisterElement(t,r));const o=s.clone(n);return o.init(r,this.pointerManager,this.activeGesturesRegistry,this.keyboardManager),i.set(t,o),!0}unregisterElement(t,r){const n=this.elementGestureMap.get(r);return!n||!n.has(t)?!1:(n.get(t).destroy(),n.delete(t),this.activeGesturesRegistry.unregisterElement(r),n.size===0&&this.elementGestureMap.delete(r),!0)}unregisterAllGestures(t){const r=this.elementGestureMap.get(t);if(r){for(const[,n]of r)n.destroy(),this.activeGesturesRegistry.unregisterElement(t);this.elementGestureMap.delete(t)}}destroy(){for(const[t]of this.elementGestureMap)this.unregisterAllGestures(t);this.gestureTemplates.clear(),this.elementGestureMap.clear(),this.activeGesturesRegistry.destroy(),this.keyboardManager.destroy(),this.pointerManager.destroy()}}class sh extends Ire{unregisterHandler=null;originalTarget=null;constructor(t){super(t),this.minPointers=t.minPointers??1,this.maxPointers=t.maxPointers??1/0}init(t,r,n,s){super.init(t,r,n,s),this.unregisterHandler=this.pointerManager.registerGestureHandler(this.handlePointerEvent)}updateOptions(t){super.updateOptions(t),this.minPointers=t.minPointers??this.minPointers,this.maxPointers=t.maxPointers??this.maxPointers}getBaseConfig(){return{requiredKeys:this.requiredKeys,minPointers:this.minPointers,maxPointers:this.maxPointers}}isWithinPointerCount(t,r){const n=this.getEffectiveConfig(r,this.getBaseConfig());return t.length>=n.minPointers&&t.length<=n.maxPointers}getRelevantPointers(t,r){return t.filter(n=>this.isPointerTypeAllowed(n.pointerType)&&(r===n.target||n.target===this.originalTarget||r===this.originalTarget||"contains"in r&&r.contains(n.target))||"getRootNode"in r&&r.getRootNode()instanceof ShadowRoot&&n.srcEvent.composedPath().includes(r))}destroy(){this.unregisterHandler&&(this.unregisterHandler(),this.unregisterHandler=null),super.destroy()}}function xZe(e,t){const r=t.x-e.x,n=t.y-e.y;return Math.sqrt(r*r+n*n)}function uP(e){if(e.length<2)return 0;let t=0,r=0;for(let n=0;n<e.length;n+=1)for(let s=n+1;s<e.length;s+=1)t+=xZe({x:e[n].clientX,y:e[n].clientY},{x:e[s].clientX,y:e[s].clientY}),r+=1;return r>0?t/r:0}function Ec(e){if(e.length===0)return{x:0,y:0};const t=e.reduce((r,n)=>(r.x+=n.clientX,r.y+=n.clientY,r),{x:0,y:0});return{x:t.x/e.length,y:t.y/e.length}}function zi(e,t){return`${e}${t==="ongoing"?"":t.charAt(0).toUpperCase()+t.slice(1)}`}const Mw=1e-5,wd=1e-5,Z7=.15;function vZe(e,t){const r=t.x-e.x,n=t.y-e.y,s={vertical:null,horizontal:null,mainAxis:null},i=yZe(t,e),o=Math.abs(r)>Math.abs(n)?"horizontal":"vertical",c=i||o==="horizontal"?Mw:Z7,d=i?Mw:o==="horizontal"?Z7:Mw;return Math.abs(r)>c&&(s.horizontal=r>0?"right":"left"),Math.abs(n)>d&&(s.vertical=n>0?"down":"up"),s.mainAxis=i?"diagonal":o,s}function yZe(e,t){const r=t.x-e.x,n=t.y-e.y,s=Math.atan2(n,r)*180/Math.PI;return s>=-45+wd&&s<=-22.5+wd||s>=22.5+wd&&s<=45+wd||s>=135+wd&&s<=157.5+wd||s>=-157.5+wd&&s<=-135+wd}function bZe(e,t){if(!e.vertical&&!e.horizontal)return!1;if(t.length===0)return!0;const r=e.vertical===null||t.includes(e.vertical),n=e.horizontal===null||t.includes(e.horizontal);return r&&n}const X7=0,wZe=e=>e>X7?1:e<-X7?-1:0,Nd=e=>{e.cancelable&&e.preventDefault()};class V4 extends sh{state={lastPosition:null};constructor(t){super(t),this.threshold=t.threshold||0}clone(t){return new V4(ue({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,threshold:this.threshold,minPointers:this.minPointers,maxPointers:this.maxPointers,requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf],pointerOptions:structuredClone(this.pointerOptions)},t))}init(t,r,n,s){super.init(t,r,n,s),this.element.addEventListener("pointerenter",this.handleElementEnter),this.element.addEventListener("pointerleave",this.handleElementLeave)}destroy(){this.element.removeEventListener("pointerenter",this.handleElementEnter),this.element.removeEventListener("pointerleave",this.handleElementLeave),this.resetState(),super.destroy()}updateOptions(t){super.updateOptions(t)}resetState(){this.isActive=!1,this.state={lastPosition:null}}handleElementEnter=t=>{if(t.pointerType!=="mouse"&&t.pointerType!=="pen")return;const r=this.pointerManager.getPointers()||new Map,n=Array.from(r.values());if(this.isWithinPointerCount(n,t.pointerType)){this.isActive=!0;const s={x:t.clientX,y:t.clientY};this.state.lastPosition=s,this.emitMoveEvent(this.element,"start",n,t),this.emitMoveEvent(this.element,"ongoing",n,t)}};handleElementLeave=t=>{if(t.pointerType!=="mouse"&&t.pointerType!=="pen"||!this.isActive)return;const r=this.pointerManager.getPointers()||new Map,n=Array.from(r.values());this.emitMoveEvent(this.element,"end",n,t),this.resetState()};handlePointerEvent=(t,r)=>{if(r.type!=="pointermove"||r.pointerType!=="mouse"&&r.pointerType!=="pen")return;this.preventDefault&&r.preventDefault(),this.stopPropagation&&r.stopPropagation();const n=Array.from(t.values()),s=this.getTargetElement(r);if(!s||!this.isWithinPointerCount(n,r.pointerType))return;if(this.shouldPreventGesture(s,r.pointerType)){if(!this.isActive)return;this.resetState(),this.emitMoveEvent(s,"end",n,r);return}const i={x:r.clientX,y:r.clientY};this.state.lastPosition=i,this.isActive||(this.isActive=!0,this.emitMoveEvent(s,"start",n,r)),this.emitMoveEvent(s,"ongoing",n,r)};emitMoveEvent(t,r,n,s){const i=this.state.lastPosition||Ec(n),o=this.gesturesRegistry.getActiveGestures(t),c={gestureName:this.name,centroid:i,target:s.target,srcEvent:s,phase:r,pointers:n,timeStamp:s.timeStamp,activeGestures:o,customData:this.customData},d=zi(this.name,r),u=new CustomEvent(d,{bubbles:!0,cancelable:!0,composed:!0,detail:c});t.dispatchEvent(u)}}class bf extends sh{state={startPointers:new Map,startCentroid:null,lastCentroid:null,movementThresholdReached:!1,totalDeltaX:0,totalDeltaY:0,activeDeltaX:0,activeDeltaY:0,lastDirection:{vertical:null,horizontal:null,mainAxis:null},lastDeltas:null};constructor(t){super(t),this.direction=t.direction||["up","down","left","right"],this.threshold=t.threshold||0}clone(t){return new bf(ue({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,threshold:this.threshold,minPointers:this.minPointers,maxPointers:this.maxPointers,direction:[...this.direction],requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf],pointerOptions:structuredClone(this.pointerOptions)},t))}destroy(){this.resetState(),super.destroy()}updateOptions(t){super.updateOptions(t),this.direction=t.direction||this.direction,this.threshold=t.threshold??this.threshold}resetState(){this.isActive=!1,this.state=ue({},this.state,{startPointers:new Map,startCentroid:null,lastCentroid:null,lastDeltas:null,activeDeltaX:0,activeDeltaY:0,movementThresholdReached:!1,lastDirection:{vertical:null,horizontal:null,mainAxis:null}})}handlePointerEvent=(t,r)=>{const n=Array.from(t.values());if(r.type==="forceCancel"){this.cancel(r.target,n,r);return}const s=this.getTargetElement(r);if(!s)return;if(this.shouldPreventGesture(s,r.pointerType)){this.cancel(s,n,r);return}const i=this.getRelevantPointers(n,s);if(!this.isWithinPointerCount(i,r.pointerType)){this.cancel(s,i,r);return}switch(r.type){case"pointerdown":!this.isActive&&!this.state.startCentroid&&(i.forEach(o=>{this.state.startPointers.set(o.pointerId,o)}),this.originalTarget=s,this.state.startCentroid=Ec(i),this.state.lastCentroid=ue({},this.state.startCentroid));break;case"pointermove":if(this.state.startCentroid&&this.isWithinPointerCount(n,r.pointerType)){const o=Ec(i),c=o.x-this.state.startCentroid.x,d=o.y-this.state.startCentroid.y,u=Math.sqrt(c*c+d*d),l=vZe(this.state.lastCentroid??this.state.startCentroid,o),f=this.state.lastCentroid?o.x-this.state.lastCentroid.x:0,p=this.state.lastCentroid?o.y-this.state.lastCentroid.y:0;!this.state.movementThresholdReached&&u>=this.threshold&&bZe(l,this.direction)?(this.state.movementThresholdReached=!0,this.isActive=!0,this.state.lastDeltas={x:f,y:p},this.state.totalDeltaX+=f,this.state.totalDeltaY+=p,this.state.activeDeltaX+=f,this.state.activeDeltaY+=p,this.emitPanEvent(s,"start",i,r,o),this.emitPanEvent(s,"ongoing",i,r,o)):this.state.movementThresholdReached&&this.isActive&&(this.state.lastDeltas={x:f,y:p},this.state.totalDeltaX+=f,this.state.totalDeltaY+=p,this.state.activeDeltaX+=f,this.state.activeDeltaY+=p,this.emitPanEvent(s,"ongoing",i,r,o)),this.state.lastCentroid=o,this.state.lastDirection=l}break;case"pointerup":case"pointercancel":case"forceCancel":if(this.isActive&&this.state.movementThresholdReached){const o=i.filter(c=>c.type!=="pointerup"&&c.type!=="pointercancel");if(!this.isWithinPointerCount(o,r.pointerType)){const c=this.state.lastCentroid||this.state.startCentroid;r.type==="pointercancel"&&this.emitPanEvent(s,"cancel",i,r,c),this.emitPanEvent(s,"end",i,r,c),this.resetState()}}else this.resetState();break}};emitPanEvent(t,r,n,s,i){if(!this.state.startCentroid)return;const o=this.state.lastDeltas?.x??0,c=this.state.lastDeltas?.y??0,d=this.state.startPointers.values().next().value,u=d?(s.timeStamp-d.timeStamp)/1e3:0,l=u>0?o/u:0,f=u>0?c/u:0,p=Math.sqrt(l*l+f*f),g=this.gesturesRegistry.getActiveGestures(t),x={gestureName:this.name,initialCentroid:this.state.startCentroid,centroid:i,target:s.target,srcEvent:s,phase:r,pointers:n,timeStamp:s.timeStamp,deltaX:o,deltaY:c,direction:this.state.lastDirection,velocityX:l,velocityY:f,velocity:p,totalDeltaX:this.state.totalDeltaX,totalDeltaY:this.state.totalDeltaY,activeDeltaX:this.state.activeDeltaX,activeDeltaY:this.state.activeDeltaY,activeGestures:g,customData:this.customData},S=zi(this.name,r),m=new CustomEvent(S,{bubbles:!0,cancelable:!0,composed:!0,detail:x});t.dispatchEvent(m),this.preventDefault&&s.preventDefault(),this.stopPropagation&&s.stopPropagation()}cancel(t,r,n){if(this.isActive){const s=t??this.element;this.emitPanEvent(s,"cancel",r,n,this.state.lastCentroid),this.emitPanEvent(s,"end",r,n,this.state.lastCentroid)}this.resetState()}}class W4 extends sh{state={startDistance:0,lastDistance:0,lastScale:1,lastTime:0,velocity:0,totalScale:1,deltaScale:0};constructor(t){super(ue({},t,{minPointers:t.minPointers??2})),this.threshold=t.threshold??0}clone(t){return new W4(ue({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,threshold:this.threshold,minPointers:this.minPointers,maxPointers:this.maxPointers,requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf],pointerOptions:structuredClone(this.pointerOptions)},t))}destroy(){this.resetState(),super.destroy()}updateOptions(t){super.updateOptions(t)}resetState(){this.isActive=!1,this.state=ue({},this.state,{startDistance:0,lastDistance:0,lastScale:1,lastTime:0,velocity:0,deltaScale:0})}handlePointerEvent=(t,r)=>{const n=Array.from(t.values()),s=this.getTargetElement(r);if(!s)return;if(this.shouldPreventGesture(s,r.pointerType)){this.isActive&&(this.emitPinchEvent(s,"cancel",n,r),this.resetState());return}const i=this.getRelevantPointers(n,s);switch(r.type){case"pointerdown":if(i.length>=2&&!this.isActive){const o=uP(i);this.state.startDistance=o,this.state.lastDistance=o,this.state.lastTime=r.timeStamp,this.originalTarget=s}break;case"pointermove":if(this.state.startDistance&&this.isWithinPointerCount(i,r.pointerType)){const o=uP(i),c=Math.abs(o-this.state.lastDistance);if(c!==0&&c>=this.threshold){const d=this.state.startDistance?o/this.state.startDistance:1,u=d/this.state.lastScale;this.state.totalScale*=u;const l=(r.timeStamp-this.state.lastTime)/1e3;if(this.state.lastDistance){const p=(o-this.state.lastDistance)/l;this.state.velocity=Number.isNaN(p)?0:p}this.state.lastDistance=o,this.state.deltaScale=d-this.state.lastScale,this.state.lastScale=d,this.state.lastTime=r.timeStamp,this.isActive?this.emitPinchEvent(s,"ongoing",i,r):(this.isActive=!0,this.emitPinchEvent(s,"start",i,r),this.emitPinchEvent(s,"ongoing",i,r))}}break;case"pointerup":case"pointercancel":case"forceCancel":if(this.isActive){const o=i.filter(c=>c.type!=="pointerup"&&c.type!=="pointercancel");if(!this.isWithinPointerCount(o,r.pointerType))r.type==="pointercancel"&&this.emitPinchEvent(s,"cancel",i,r),this.emitPinchEvent(s,"end",i,r),this.resetState();else if(o.length>=2){const c=uP(o);this.state.startDistance=c/this.state.lastScale}}break}};emitPinchEvent(t,r,n,s){const i=Ec(n),o=this.state.lastDistance,c=this.state.lastScale,d=this.gesturesRegistry.getActiveGestures(t),u={gestureName:this.name,centroid:i,target:s.target,srcEvent:s,phase:r,pointers:n,timeStamp:s.timeStamp,scale:c,deltaScale:this.state.deltaScale,totalScale:this.state.totalScale,distance:o,velocity:this.state.velocity,activeGestures:d,direction:wZe(this.state.velocity),customData:this.customData};this.preventDefault&&s.preventDefault(),this.stopPropagation&&s.stopPropagation();const l=zi(this.name,r),f=new CustomEvent(l,{bubbles:!0,cancelable:!0,composed:!0,detail:u});t.dispatchEvent(f)}}class wN extends sh{state={startCentroid:null,lastPosition:null,timerId:null,startTime:0,pressThresholdReached:!1};constructor(t){super(t),this.duration=t.duration??500,this.maxDistance=t.maxDistance??10}clone(t){return new wN(ue({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,minPointers:this.minPointers,maxPointers:this.maxPointers,duration:this.duration,maxDistance:this.maxDistance,requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf],pointerOptions:structuredClone(this.pointerOptions)},t))}destroy(){this.clearPressTimer(),this.resetState(),super.destroy()}updateOptions(t){super.updateOptions(t),this.duration=t.duration??this.duration,this.maxDistance=t.maxDistance??this.maxDistance}resetState(){this.clearPressTimer(),this.isActive=!1,this.state=ue({},this.state,{startCentroid:null,lastPosition:null,timerId:null,startTime:0,pressThresholdReached:!1})}clearPressTimer(){this.state.timerId!==null&&(clearTimeout(this.state.timerId),this.state.timerId=null)}handlePointerEvent=(t,r)=>{const n=Array.from(t.values());if(r.type==="forceCancel"){this.cancelPress(r.target,n,r);return}const s=this.getTargetElement(r);if(!s)return;if(this.shouldPreventGesture(s,r.pointerType)){this.isActive&&this.cancelPress(s,n,r);return}const i=this.getRelevantPointers(n,s);if(!this.isWithinPointerCount(i,r.pointerType)){this.isActive&&this.cancelPress(s,i,r);return}switch(r.type){case"pointerdown":!this.isActive&&!this.state.startCentroid&&(this.state.startCentroid=Ec(i),this.state.lastPosition=ue({},this.state.startCentroid),this.state.startTime=r.timeStamp,this.isActive=!0,this.originalTarget=s,this.clearPressTimer(),this.state.timerId=setTimeout(()=>{if(this.isActive&&this.state.startCentroid){this.state.pressThresholdReached=!0;const o=this.state.lastPosition;this.emitPressEvent(s,"start",i,r,o),this.emitPressEvent(s,"ongoing",i,r,o)}},this.duration));break;case"pointermove":if(this.isActive&&this.state.startCentroid){const o=Ec(i);this.state.lastPosition=o;const c=o.x-this.state.startCentroid.x,d=o.y-this.state.startCentroid.y;Math.sqrt(c*c+d*d)>this.maxDistance&&this.cancelPress(s,i,r)}break;case"pointerup":if(this.isActive){if(this.state.pressThresholdReached){const o=this.state.lastPosition||this.state.startCentroid;this.emitPressEvent(s,"end",i,r,o)}this.resetState()}break;case"pointercancel":case"forceCancel":this.cancelPress(s,i,r);break}};emitPressEvent(t,r,n,s,i){const o=this.gesturesRegistry.getActiveGestures(t),c=s.timeStamp-this.state.startTime,d={gestureName:this.name,centroid:i,target:s.target,srcEvent:s,phase:r,pointers:n,timeStamp:s.timeStamp,x:i.x,y:i.y,duration:c,activeGestures:o,customData:this.customData},u=zi(this.name,r),l=new CustomEvent(u,{bubbles:!0,cancelable:!0,composed:!0,detail:d});t.dispatchEvent(l),this.preventDefault&&s.preventDefault(),this.stopPropagation&&s.stopPropagation()}cancelPress(t,r,n){if(this.isActive&&this.state.pressThresholdReached){const s=this.state.lastPosition||this.state.startCentroid;this.emitPressEvent(t??this.element,"cancel",r,n,s),this.emitPressEvent(t??this.element,"end",r,n,s)}this.resetState()}}class q4 extends sh{state={phase:"waitingForPress",dragTimeoutId:null};constructor(t){super(t),this.pressDuration=t.pressDuration??500,this.pressMaxDistance=t.pressMaxDistance??10,this.dragTimeout=t.dragTimeout??1e3,this.dragThreshold=t.dragThreshold??0,this.dragDirection=t.dragDirection||["up","down","left","right"],this.pressGesture=new wN({name:`${this.name}-press`,duration:this.pressDuration,maxDistance:this.pressMaxDistance,maxPointers:this.maxPointers,pointerMode:this.pointerMode,requiredKeys:this.requiredKeys,preventIf:this.preventIf,pointerOptions:structuredClone(this.pointerOptions)}),this.panGesture=new bf({name:`${this.name}-pan`,minPointers:this.minPointers,maxPointers:this.maxPointers,threshold:this.dragThreshold,direction:this.dragDirection,pointerMode:this.pointerMode,requiredKeys:this.requiredKeys,preventIf:this.preventIf,pointerOptions:structuredClone(this.pointerOptions)})}clone(t){return new q4(ue({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,minPointers:this.minPointers,maxPointers:this.maxPointers,pressDuration:this.pressDuration,pressMaxDistance:this.pressMaxDistance,dragTimeout:this.dragTimeout,dragThreshold:this.dragThreshold,dragDirection:[...this.dragDirection],requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf],pointerOptions:structuredClone(this.pointerOptions)},t))}init(t,r,n,s){super.init(t,r,n,s),this.pressGesture.init(t,r,n,s),this.panGesture.init(t,r,n,s),this.element.addEventListener(this.pressGesture.name,this.pressHandler),this.element.addEventListener(`${this.panGesture.name}Start`,this.dragStartHandler),this.element.addEventListener(this.panGesture.name,this.dragMoveHandler),this.element.addEventListener(`${this.panGesture.name}End`,this.dragEndHandler),this.element.addEventListener(`${this.panGesture.name}Cancel`,this.dragEndHandler)}destroy(){this.resetState(),this.pressGesture.destroy(),this.panGesture.destroy(),this.element.removeEventListener(this.pressGesture.name,this.pressHandler),this.element.removeEventListener(`${this.panGesture.name}Start`,this.dragStartHandler),this.element.removeEventListener(this.panGesture.name,this.dragMoveHandler),this.element.removeEventListener(`${this.panGesture.name}End`,this.dragEndHandler),this.element.removeEventListener(`${this.panGesture.name}Cancel`,this.dragEndHandler),super.destroy()}updateOptions(t){super.updateOptions(t),this.pressDuration=t.pressDuration??this.pressDuration,this.pressMaxDistance=t.pressMaxDistance??this.pressMaxDistance,this.dragTimeout=t.dragTimeout??this.dragTimeout,this.dragThreshold=t.dragThreshold??this.dragThreshold,this.dragDirection=t.dragDirection||this.dragDirection,this.element.dispatchEvent(new CustomEvent(`${this.panGesture.name}ChangeOptions`,{detail:{minPointers:this.minPointers,maxPointers:this.maxPointers,threshold:this.dragThreshold,direction:this.dragDirection,pointerMode:this.pointerMode,requiredKeys:this.requiredKeys,preventIf:this.preventIf,pointerOptions:structuredClone(this.pointerOptions)}})),this.element.dispatchEvent(new CustomEvent(`${this.pressGesture.name}ChangeOptions`,{detail:{duration:this.pressDuration,maxDistance:this.pressMaxDistance,maxPointers:this.maxPointers,pointerMode:this.pointerMode,requiredKeys:this.requiredKeys,preventIf:this.preventIf,pointerOptions:structuredClone(this.pointerOptions)}}))}resetState(){this.state.dragTimeoutId!==null&&clearTimeout(this.state.dragTimeoutId),this.restoreTouchAction(),this.isActive=!1,this.state={phase:"waitingForPress",dragTimeoutId:null}}handlePointerEvent(){}pressHandler=()=>{this.state.phase==="waitingForPress"&&(this.state.phase="pressDetected",this.setTouchAction(),this.state.dragTimeoutId=setTimeout(()=>{this.resetState()},this.dragTimeout))};dragStartHandler=t=>{this.state.phase==="pressDetected"&&(this.state.dragTimeoutId!==null&&(clearTimeout(this.state.dragTimeoutId),this.state.dragTimeoutId=null),this.restoreTouchAction(),this.state.phase="dragging",this.isActive=!0,this.element.dispatchEvent(new CustomEvent(zi(this.name,t.detail.phase),t)))};dragMoveHandler=t=>{this.state.phase==="dragging"&&this.element.dispatchEvent(new CustomEvent(zi(this.name,t.detail.phase),t))};dragEndHandler=t=>{this.state.phase==="dragging"&&(this.resetState(),this.element.dispatchEvent(new CustomEvent(zi(this.name,t.detail.phase),t)))};setTouchAction(){this.element.addEventListener("touchstart",Nd,{passive:!1}),this.element.addEventListener("touchmove",Nd,{passive:!1}),this.element.addEventListener("touchend",Nd,{passive:!1})}restoreTouchAction(){this.element.removeEventListener("touchstart",Nd),this.element.removeEventListener("touchmove",Nd),this.element.removeEventListener("touchend",Nd)}}class n0 extends sh{state={startCentroid:null,currentTapCount:0,lastTapTime:0,lastPosition:null};constructor(t){super(t),this.maxDistance=t.maxDistance??10,this.taps=t.taps??1}clone(t){return new n0(ue({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,minPointers:this.minPointers,maxPointers:this.maxPointers,maxDistance:this.maxDistance,taps:this.taps,requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf],pointerOptions:structuredClone(this.pointerOptions)},t))}destroy(){this.resetState(),super.destroy()}updateOptions(t){super.updateOptions(t),this.maxDistance=t.maxDistance??this.maxDistance,this.taps=t.taps??this.taps}resetState(){this.isActive=!1,this.state={startCentroid:null,currentTapCount:0,lastTapTime:0,lastPosition:null}}handlePointerEvent=(t,r)=>{const n=Array.from(t.values()),s=this.getTargetElement(r);if(!s)return;const i=this.getRelevantPointers(n,s);if(this.shouldPreventGesture(s,r.pointerType)||!this.isWithinPointerCount(i,r.pointerType)){this.isActive&&this.cancelTap(s,i,r);return}switch(r.type){case"pointerdown":this.isActive||(this.state.startCentroid=Ec(i),this.state.lastPosition=ue({},this.state.startCentroid),this.isActive=!0,this.originalTarget=s);break;case"pointermove":if(this.isActive&&this.state.startCentroid){const o=Ec(i);this.state.lastPosition=o;const c=o.x-this.state.startCentroid.x,d=o.y-this.state.startCentroid.y;Math.sqrt(c*c+d*d)>this.maxDistance&&this.cancelTap(s,i,r)}break;case"pointerup":if(this.isActive){this.state.currentTapCount+=1;const o=this.state.lastPosition||this.state.startCentroid;if(!o){this.cancelTap(s,i,r);return}this.state.currentTapCount>=this.taps?(this.fireTapEvent(s,i,r,o),this.resetState()):(this.state.lastTapTime=r.timeStamp,this.isActive=!1,this.state.startCentroid=null,setTimeout(()=>{this.state&&this.state.currentTapCount>0&&this.state.currentTapCount<this.taps&&(this.state.currentTapCount=0)},300))}break;case"pointercancel":case"forceCancel":this.cancelTap(s,i,r);break}};fireTapEvent(t,r,n,s){const i=this.gesturesRegistry.getActiveGestures(t),o={gestureName:this.name,centroid:s,target:n.target,srcEvent:n,phase:"end",pointers:r,timeStamp:n.timeStamp,x:s.x,y:s.y,tapCount:this.state.currentTapCount,activeGestures:i,customData:this.customData},c=new CustomEvent(this.name,{bubbles:!0,cancelable:!0,composed:!0,detail:o});t.dispatchEvent(c),this.preventDefault&&n.preventDefault(),this.stopPropagation&&n.stopPropagation()}cancelTap(t,r,n){if(this.state.startCentroid||this.state.lastPosition){const s=this.state.lastPosition||this.state.startCentroid,i=this.gesturesRegistry.getActiveGestures(t),o={gestureName:this.name,centroid:s,target:n.target,srcEvent:n,phase:"cancel",pointers:r,timeStamp:n.timeStamp,x:s.x,y:s.y,tapCount:this.state.currentTapCount,activeGestures:i,customData:this.customData},c=zi(this.name,"cancel"),d=new CustomEvent(c,{bubbles:!0,cancelable:!0,composed:!0,detail:o});t.dispatchEvent(d)}this.resetState()}}class G4 extends sh{state={phase:"waitingForTap",dragTimeoutId:null};constructor(t){super(t),this.tapMaxDistance=t.tapMaxDistance??10,this.dragTimeout=t.dragTimeout??1e3,this.dragThreshold=t.dragThreshold??0,this.dragDirection=t.dragDirection||["up","down","left","right"],this.tapGesture=new n0({name:`${this.name}-tap`,maxDistance:this.tapMaxDistance,maxPointers:this.maxPointers,pointerMode:this.pointerMode,requiredKeys:this.requiredKeys,preventIf:this.preventIf,pointerOptions:structuredClone(this.pointerOptions)}),this.panGesture=new bf({name:`${this.name}-pan`,minPointers:this.minPointers,maxPointers:this.maxPointers,threshold:this.dragThreshold,direction:this.dragDirection,pointerMode:this.pointerMode,requiredKeys:this.requiredKeys,preventIf:this.preventIf,pointerOptions:structuredClone(this.pointerOptions)})}clone(t){return new G4(ue({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,minPointers:this.minPointers,maxPointers:this.maxPointers,tapMaxDistance:this.tapMaxDistance,dragTimeout:this.dragTimeout,dragThreshold:this.dragThreshold,dragDirection:[...this.dragDirection],requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf],pointerOptions:structuredClone(this.pointerOptions)},t))}init(t,r,n,s){super.init(t,r,n,s),this.tapGesture.init(t,r,n,s),this.panGesture.init(t,r,n,s),this.element.addEventListener(this.tapGesture.name,this.tapHandler),this.element.addEventListener(`${this.panGesture.name}Start`,this.dragStartHandler),this.element.addEventListener(this.panGesture.name,this.dragMoveHandler),this.element.addEventListener(`${this.panGesture.name}End`,this.dragEndHandler),this.element.addEventListener(`${this.panGesture.name}Cancel`,this.dragEndHandler)}destroy(){this.resetState(),this.tapGesture.destroy(),this.panGesture.destroy(),this.element.removeEventListener(this.tapGesture.name,this.tapHandler),this.element.removeEventListener(`${this.panGesture.name}Start`,this.dragStartHandler),this.element.removeEventListener(this.panGesture.name,this.dragMoveHandler),this.element.removeEventListener(`${this.panGesture.name}End`,this.dragEndHandler),this.element.removeEventListener(`${this.panGesture.name}Cancel`,this.dragEndHandler),super.destroy()}updateOptions(t){super.updateOptions(t),this.tapMaxDistance=t.tapMaxDistance??this.tapMaxDistance,this.dragTimeout=t.dragTimeout??this.dragTimeout,this.dragThreshold=t.dragThreshold??this.dragThreshold,this.dragDirection=t.dragDirection||this.dragDirection,this.element.dispatchEvent(new CustomEvent(`${this.panGesture.name}ChangeOptions`,{detail:{minPointers:this.minPointers,maxPointers:this.maxPointers,threshold:this.dragThreshold,direction:this.dragDirection,pointerMode:this.pointerMode,requiredKeys:this.requiredKeys,preventIf:this.preventIf,pointerOptions:structuredClone(this.pointerOptions)}})),this.element.dispatchEvent(new CustomEvent(`${this.tapGesture.name}ChangeOptions`,{detail:{maxDistance:this.tapMaxDistance,maxPointers:this.maxPointers,pointerMode:this.pointerMode,requiredKeys:this.requiredKeys,preventIf:this.preventIf,pointerOptions:structuredClone(this.pointerOptions)}}))}resetState(){this.state.dragTimeoutId!==null&&clearTimeout(this.state.dragTimeoutId),this.restoreTouchAction(),this.isActive=!1,this.state={phase:"waitingForTap",dragTimeoutId:null}}handlePointerEvent(){}tapHandler=()=>{this.state.phase==="waitingForTap"&&(this.state.phase="tapDetected",this.setTouchAction(),this.state.dragTimeoutId=setTimeout(()=>{this.resetState()},this.dragTimeout))};dragStartHandler=t=>{this.state.phase==="tapDetected"&&(this.state.dragTimeoutId!==null&&(clearTimeout(this.state.dragTimeoutId),this.state.dragTimeoutId=null),this.restoreTouchAction(),this.state.phase="dragging",this.isActive=!0,this.element.dispatchEvent(new CustomEvent(zi(this.name,t.detail.phase),t)))};dragMoveHandler=t=>{this.state.phase==="dragging"&&this.element.dispatchEvent(new CustomEvent(zi(this.name,t.detail.phase),t))};dragEndHandler=t=>{this.state.phase==="dragging"&&(this.resetState(),this.element.dispatchEvent(new CustomEvent(zi(this.name,t.detail.phase),t)))};setTouchAction(){this.element.addEventListener("touchstart",Nd,{passive:!1})}restoreTouchAction(){this.element.removeEventListener("touchstart",Nd)}}class Y4 extends Ire{state={totalDeltaX:0,totalDeltaY:0,totalDeltaZ:0};constructor(t){super(t),this.sensitivity=t.sensitivity??1,this.max=t.max??Number.MAX_SAFE_INTEGER,this.min=t.min??Number.MIN_SAFE_INTEGER,this.initialDelta=t.initialDelta??0,this.invert=t.invert??!1,this.state.totalDeltaX=this.initialDelta,this.state.totalDeltaY=this.initialDelta,this.state.totalDeltaZ=this.initialDelta}clone(t){return new Y4(ue({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,sensitivity:this.sensitivity,max:this.max,min:this.min,initialDelta:this.initialDelta,invert:this.invert,requiredKeys:[...this.requiredKeys],preventIf:[...this.preventIf]},t))}init(t,r,n,s){super.init(t,r,n,s),this.element.addEventListener("wheel",this.handleWheelEvent)}destroy(){this.element.removeEventListener("wheel",this.handleWheelEvent),this.resetState(),super.destroy()}resetState(){this.isActive=!1,this.state={totalDeltaX:0,totalDeltaY:0,totalDeltaZ:0}}updateOptions(t){super.updateOptions(t),this.sensitivity=t.sensitivity??this.sensitivity,this.max=t.max??this.max,this.min=t.min??this.min,this.initialDelta=t.initialDelta??this.initialDelta,this.invert=t.invert??this.invert}handleWheelEvent=t=>{if(this.shouldPreventGesture(this.element,"mouse"))return;const r=this.pointerManager.getPointers()||new Map,n=Array.from(r.values());this.state.totalDeltaX+=t.deltaX*this.sensitivity*(this.invert?-1:1),this.state.totalDeltaY+=t.deltaY*this.sensitivity*(this.invert?-1:1),this.state.totalDeltaZ+=t.deltaZ*this.sensitivity*(this.invert?-1:1),["totalDeltaX","totalDeltaY","totalDeltaZ"].forEach(s=>{this.state[s]<this.min&&(this.state[s]=this.min),this.state[s]>this.max&&(this.state[s]=this.max)}),this.emitWheelEvent(n,t)};emitWheelEvent(t,r){const n=t.length>0?Ec(t):{x:r.clientX,y:r.clientY},s=this.gesturesRegistry.getActiveGestures(this.element),i={gestureName:this.name,centroid:n,target:r.target,srcEvent:r,phase:"ongoing",pointers:t,timeStamp:r.timeStamp,deltaX:r.deltaX*this.sensitivity*(this.invert?-1:1),deltaY:r.deltaY*this.sensitivity*(this.invert?-1:1),deltaZ:r.deltaZ*this.sensitivity*(this.invert?-1:1),deltaMode:r.deltaMode,totalDeltaX:this.state.totalDeltaX,totalDeltaY:this.state.totalDeltaY,totalDeltaZ:this.state.totalDeltaZ,activeGestures:s,customData:this.customData};this.preventDefault&&r.preventDefault(),this.stopPropagation&&r.stopPropagation();const o=zi(this.name,"ongoing"),c=new CustomEvent(o,{bubbles:!0,cancelable:!0,composed:!0,detail:i});this.element.dispatchEvent(c)}}const ym=e=>e.preventDefault(),K4=({svgRef:e})=>{const t=b.useRef(null);b.useEffect(()=>{const s=e.current;t.current||(t.current=new gZe({gestures:[new bf({name:"pan",threshold:0,maxPointers:1}),new V4({name:"move",preventIf:["pan","zoomPinch","zoomPan"]}),new n0({name:"tap",preventIf:["pan","zoomPinch","zoomPan"]}),new wN({name:"quickPress",duration:50}),new bf({name:"brush",threshold:0,maxPointers:1}),new bf({name:"zoomPan",threshold:0,preventIf:["zoomTapAndDrag","zoomPressAndDrag"]}),new W4({name:"zoomPinch",threshold:5}),new Y4({name:"zoomTurnWheel",sensitivity:.01,initialDelta:1}),new G4({name:"zoomTapAndDrag",dragThreshold:10}),new q4({name:"zoomPressAndDrag",dragThreshold:10,preventIf:["zoomPinch"]}),new n0({name:"zoomDoubleTapReset",taps:2})]}));const i=t.current;if(!(!s||!i))return i.registerElement(["pan","move","zoomPinch","zoomPan","zoomTurnWheel","tap","quickPress","zoomTapAndDrag","zoomPressAndDrag","zoomDoubleTapReset","brush"],s),()=>{i.unregisterAllGestures(s)}},[e,t]);const r=b.useCallback((s,i,o)=>{const c=e.current;return c?.addEventListener(s,i,o),{cleanup:()=>c?.removeEventListener(s,i)}},[e]),n=b.useCallback((s,i)=>{const o=e.current,c=t.current;!c||!o||c.setGestureOptions(s,o,i??{})},[e,t]);return b.useEffect(()=>{const s=e.current;return s?.addEventListener("gesturestart",ym),s?.addEventListener("gesturechange",ym),s?.addEventListener("gestureend",ym),()=>{s?.removeEventListener("gesturestart",ym),s?.removeEventListener("gesturechange",ym),s?.removeEventListener("gestureend",ym)}},[e]),{instance:{addInteractionListener:r,updateZoomInteractionListeners:n}}};K4.params={};K4.getInitialState=()=>({});const SZe=[z4,H4,vN,bN,K4,xN],CZe=["apiRef"],jZe=e=>{let{plugins:t}=e,r=vr(e.props,CZe);const n={};t.forEach(o=>{Object.assign(n,o.params)});const s={};return Object.keys(r).forEach(o=>{const c=r[o];n[o]&&(s[o]=c)}),t.reduce((o,c)=>c.getDefaultizedParams?c.getDefaultizedParams({params:o}):o,s)};let Q7=0;function EZe(e,t,r){const n=mN(),s=b.useMemo(()=>[...SZe,...e],[e]),i=jZe({plugins:s,props:t});i.id=i.id??n;const c=b.useRef({}).current,d=_Ze(t.apiRef),u=b.useRef(null),l=b.useRef(null),f=b.useRef(null);if(f.current==null){Q7+=1;const x={cacheKey:{id:Q7}};s.forEach(S=>{S.getInitialState&&Object.assign(x,S.getInitialState(i,x,r))}),f.current=new B4(x)}const p=x=>{const S=x({instance:c,params:i,plugins:s,store:f.current,svgRef:l,chartRootRef:u,seriesConfig:r});S.publicAPI&&Object.assign(d.current,S.publicAPI),S.instance&&Object.assign(c,S.instance)};return s.forEach(p),{contextValue:b.useMemo(()=>({store:f.current,publicAPI:d.current,instance:c,svgRef:l,chartRootRef:u}),[c,d])}}function NZe(e){return e.current==null&&(e.current={}),e}function _Ze(e){const t=b.useRef({});return e?NZe(e):t}const Lre=b.createContext(null);const Bre=()=>{},$re=4,Fre=20+2*$re,AZe=40+2*$re,kZe="hover",Ow={minStart:0,maxEnd:100,step:5,minSpan:10,maxSpan:100,panning:!0,filterMode:"keep",reverse:!1,slider:{enabled:!1,preview:!1,size:Fre,showTooltip:kZe}},Z4=(e,t,r,n)=>{if(e)return e===!0?ue({axisId:t,axisDirection:r},Ow,{reverse:n??!1}):ue({axisId:t,axisDirection:r},Ow,{reverse:n??!1},e,{slider:ue({},Ow.slider,{size:e.slider?.preview??Ow.slider.preview?AZe:Fre},e.slider)})};function Hre(e,t){const r={top:0,bottom:0,none:0};return(e&&e.length>0?e:[{id:$4,scaleType:"linear"}]).map((i,o)=>{const c=i.dataKey,d=o===0?"bottom":"none",u=i.position??d,l=YKe+(i.label?Pre:0),f=i.id??`defaultized-x-axis-${o}`,p=ue({offset:r[u]},i,{id:f,position:u,height:i.height??l,zoom:Z4(i.zoom,f,"x",i.reverse)});if(u!=="none"&&(r[u]+=p.height,p.zoom?.slider.enabled&&(r[u]+=p.zoom.slider.size)),c===void 0||i.data!==void 0)return p;if(t===void 0)throw new Error("MUI X Charts: x-axis uses `dataKey` but no `dataset` is provided.");return ue({},p,{data:t.map(g=>g[c])})})}function zre(e,t){const r={right:0,left:0,none:0};return(e&&e.length>0?e:[{id:F4,scaleType:"linear"}]).map((i,o)=>{const c=i.dataKey,d=o===0?"left":"none",u=i.position??d,l=GKe+(i.label?Pre:0),f=i.id??`defaultized-y-axis-${o}`,p=ue({offset:r[u]},i,{id:f,position:u,width:i.width??l,zoom:Z4(i.zoom,f,"y",i.reverse)});if(u!=="none"&&(r[u]+=p.width,p.zoom?.slider.enabled&&(r[u]+=p.zoom.slider.size)),c===void 0||i.data!==void 0)return p;if(t===void 0)throw new Error("MUI X Charts: y-axis uses `dataKey` but no `dataset` is provided.");return ue({},p,{data:t.map(g=>g[c])})})}function TZe(e,t){return function(n,s){if(s.location==="tick"){const i=s.scale.domain();return i[0]===i[1]?s.scale.tickFormat(1)(n):s.scale.tickFormat(e)(n)}return s.location==="zoom-slider-tooltip"?t.tickFormat(2)(n):`${n}`}}function Nc(e){return e.scaleType==="band"}function du(e){return e.scaleType==="point"}function PZe(e){return e.scaleType!=="point"&&e.scaleType!=="band"}function DZe(e){return e.scaleType==="symlog"}function Ure(e){return e.type==="piecewise"?aI(e.thresholds,e.colors):pI([e.min??0,e.max??100],e.color)}function Ep(e){return e.values?zv(e.values,e.colors).unknown(e.unknownColor??null):zv(e.colors.map((t,r)=>r),e.colors).unknown(e.unknownColor??null)}function ep(e){return e.type==="ordinal"?Ep(e):Ure(e)}function Vre(e,t,r){const{tickMaxStep:n,tickMinStep:s,tickNumber:i}=e,o=s===void 0?999:Math.floor(Math.abs(t[1]-t[0])/s),c=n===void 0?2:Math.ceil(Math.abs(t[1]-t[0])/n);return Math.min(o,Math.max(c,i??r))}function Wre(e,t){return t[1]-t[0]===0?1:e/((t[1]-t[0])/100)}function X4(e){return Math.floor(Math.abs(e)/50)}function J7(e){return Array.isArray(e)?JSON.stringify(e):typeof e=="object"&&e!==null?e.valueOf():e}function SN(...e){let t=new $C(void 0,J7),r=[],n=[],s=0,i=1,o,c,d=!1,u=0,l=0,f=.5;const p=m=>{const y=t.get(m);if(y!==void 0)return n[y%n.length]},g=()=>{const m=r.length,y=i<s,w=y?i:s,C=y?s:i;o=(C-w)/Math.max(1,m-u+l*2),d&&(o=Math.floor(o));const E=w+(C-w-o*(m-u))*f;c=o*(1-u);const N=d?Math.round(E):E;c=d?Math.round(c):c;const A=kQ(m).map(T=>N+o*T);return n=y?A.reverse():A,p};p.domain=function(m){if(!arguments.length)return r.slice();r=[],t=new $C(void 0,J7);for(const y of m)t.has(y)||t.set(y,r.push(y)-1);return g()},p.range=function(m){if(!arguments.length)return[s,i];const[y,w]=m;return s=+y,i=+w,g()},p.rangeRound=function(m){const[y,w]=m;return s=+y,i=+w,d=!0,g()},p.bandwidth=function(){return c},p.step=function(){return o},p.round=function(m){return arguments.length?(d=!!m,g()):d},p.padding=function(m){return arguments.length?(u=Math.min(1,l=+m),g()):u},p.paddingInner=function(m){return arguments.length?(u=Math.min(1,m),g()):u},p.paddingOuter=function(m){return arguments.length?(l=+m,g()):l},p.align=function(m){return arguments.length?(f=Math.max(0,Math.min(1,m)),g()):f},p.copy=()=>SN(r,[s,i]).round(d).paddingInner(u).paddingOuter(l).align(f);const[x,S]=e;return e.length>1?(p.domain(x),p.range(S)):x?p.range(x):g(),p}function qre(...e){const t=SN(...e).paddingInner(1),r=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=()=>{const n=r();return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=t.copy,n},t}function Gre(...e){const t=nI(...e),r=t.ticks,{negativeScale:n,linearScale:s,positiveScale:i}=RZe(t);return t.ticks=o=>{const c=r(o),d=t.constant();let u=0,l=0,f=0;c.forEach(g=>{g>-d&&g<d&&(l+=1),g<=-d&&(u+=1),g>=d&&(f+=1)});const p=[];if(u>0&&p.push(...n.ticks(u)),l>0){const g=s.ticks(l);p.at(-1)===g[0]?p.push(...g.slice(1)):p.push(...g)}if(f>0){const g=i.ticks(f);p.at(-1)===g[0]?p.push(...g.slice(1)):p.push(...g)}return p},t.tickFormat=(o=10,c)=>{const d=t.constant(),[u,l]=t.domain(),f=l-u,p=n.domain(),g=p[1]-p[0],S=(f===0?0:g/f)*o,m=s.domain(),y=m[1]-m[0],C=(f===0?0:y/f)*o,E=i.domain(),N=E[1]-E[0],A=(f===0?0:N/f)*o,T=n.tickFormat(S,c),P=s.tickFormat(C,c),M=i.tickFormat(A,c);return O=>(O.valueOf()<=-d?T:O.valueOf()>=d?M:P)(O)},t.copy=()=>Gre(t.domain(),t.range()).constant(t.constant()),t}function RZe(e){const t=e.constant(),r=e.domain(),n=[r[0],Math.min(r[1],-t)],s=Gv(n,e.range()),i=[Math.max(r[0],-t),Math.min(r[1],t)],o=RE(i,e.range()),c=[Math.max(r[0],t),r[1]],d=Gv(c,e.range());return{negativeScale:s,linearScale:o,positiveScale:d}}function CN(e,t,r){switch(e){case"log":return Gv(t,r);case"pow":return ME(t,r);case"sqrt":return $Q(t,r);case"time":return mI(t,r);case"utc":return XQ(t,r);case"symlog":return Gre(t,r);default:return RE(t,r)}}const AR=e=>e?.[0]instanceof Date;function kR(e,t,r){const n=mI(e,t);return(s,{location:i})=>i==="tick"?n.tickFormat(r)(s):`${s.toLocaleString()}`}let eV,tV;class MZe{types=new Set;constructor(){if(eV)throw new Error("You can only create one instance!");eV=this.types}addType(t){this.types.add(t)}getTypes(){return this.types}}class OZe{types=new Set;constructor(){if(tV)throw new Error("You can only create one instance!");tV=this.types}addType(t){this.types.add(t)}getTypes(){return this.types}}const jN=new MZe;jN.addType("bar");jN.addType("line");jN.addType("scatter");const Yre=new OZe;Yre.addType("radar");function EN(e){return jN.getTypes().has(e)}function oj(e){return EN(e.type)}const IZe=(e,t,r,n)=>{const s=new Set;return Object.keys(t).filter(EN).forEach(o=>{const c=r[o]?.series??{},d=t[o].axisTooltipGetter?.(c);d!==void 0&&d.forEach(({axisId:u,direction:l})=>{l===e&&s.add(u??n)})}),s};function ta(e){return e.bandwidth!==void 0}function LZe(e){return ta(e)&&e.paddingOuter!==void 0}function BZe(e,t,r){const n=t==="x"?[e.left,e.left+e.width]:[e.top+e.height,e.top];return r?[n[1],n[0]]:n}const $Ze=.2,FZe=.1;function Kre({scales:e,drawingArea:t,formattedSeries:r,axis:n,seriesConfig:s,axisDirection:i,zoomMap:o,domains:c}){if(n===void 0)return{axis:{},axisIds:[]};const d=IZe(i,s,r,n[0].id),u={};return n.forEach(l=>{const f=l,p=e[f.id],g=o?.get(f.id),x=g?[g.start,g.end]:[0,100],S=BZe(t,i,f.reverse??!1),m=!f.ignoreTooltip&&d.has(f.id),y=f.data??[];if(ta(p)){const k=i==="y"?[S[1],S[0]]:S;if(LZe(p)&&Nc(f)){const A=f.categoryGapRatio??$Ze,T=f.barGapRatio??FZe;u[f.id]=ue({offset:0,height:0,categoryGapRatio:A,barGapRatio:T,triggerTooltip:m},f,{data:y,scale:p,tickNumber:f.data.length,colorScale:f.colorMap&&(f.colorMap.type==="ordinal"?Ep(ue({values:f.data},f.colorMap)):ep(f.colorMap))})}if(du(f)&&(u[f.id]=ue({offset:0,height:0,triggerTooltip:m},f,{data:y,scale:p,tickNumber:f.data.length,colorScale:f.colorMap&&(f.colorMap.type==="ordinal"?Ep(ue({values:f.data},f.colorMap)):ep(f.colorMap))})),AR(f.data)){const A=kR(f.data,k,f.tickNumber);u[f.id].valueFormatter=f.valueFormatter??A}return}if(f.scaleType==="band"||f.scaleType==="point")return;const w=c[f.id].tickNumber,C=f,E=C.scaleType??"linear",N=Wre(w,x);u[f.id]=ue({offset:0,height:0,triggerTooltip:m},C,{data:y,scaleType:E,scale:p,tickNumber:N,colorScale:C.colorMap&&Ure(C.colorMap),valueFormatter:f.valueFormatter??TZe(N,CN(E,S.map(k=>p.invert(k)),S))})}),{axis:u,axisIds:n.map(({id:l})=>l)}}function HZe(e){return e!=null}function zZe(e,t,r,n){const s=e?.length??0,i=Math.floor(t*s/100),o=Math.ceil(r*s/100);return function(d,u){return(d[n]??e?.[u])==null?!0:u>=i&&u<o}}function UZe(e,t,r,n,s){const i=e[0].valueOf(),o=e[1].valueOf(),c=i+t*(o-i)/100,d=i+r*(o-i)/100;return function(l,f){const p=l[n]??s?.[f];return p==null?!0:p>=c&&p<=d}}const VZe=e=>({currentAxisId:t,seriesXAxisId:r,seriesYAxisId:n,isDefaultAxis:s})=>(i,o)=>!(t===r?n:r)||s?Object.values(e??{})[0]?.(i,o)??!0:[n,r].filter(u=>u!==t).map(u=>e[u??""]).filter(HZe).every(u=>u(i,o)),rV=e=>(t=[])=>t.reduce((r,n)=>{const{zoom:s,id:i,reverse:o}=n,c=Z4(s,i,e,o);return c&&(r[i]=c),r},{}),WZe=.2;function Zre(e,t,r){const n=t==="x"?[e.left,e.left+e.width]:[e.top+e.height,e.top];return r.reverse?[n[1],n[0]]:n}function Xre(e,t){const r=[0,1];if(Nc(e)){const i=e.categoryGapRatio??WZe;return SN(t,r).paddingInner(i).paddingOuter(i/2)}if(du(e))return qre(t,r);const n=e.scaleType??"linear",s=CN(n,t,r);return DZe(e)&&e.constant!=null&&s.constant(e.constant),s}const Qre=(e,t)=>{const r=e[1]-e[0],n=t[1]-t[0],s=e[0]-t[0]*r/n,i=e[1]+(100-t[1])*r/n;return[s,i]},qZe=(e,t,r,n,s,i,o)=>{const c=r==="x"?n[e].xExtremumGetter:n[e].yExtremumGetter,d=i[e]?.series??{};return c?.({series:d,axis:t,axisIndex:s,isDefaultAxis:s===0,getFilters:o})??[1/0,-1/0]};function NN(e,t,r,n,s,i){const o=Object.keys(r).filter(EN);let c=[1/0,-1/0];for(const d of o){const[u,l]=qZe(d,e,t,r,n,s,i);c=[Math.min(c[0],u),Math.max(c[1],l)]}return Number.isNaN(c[0])||Number.isNaN(c[1])?[1/0,-1/0]:c}const GZe=(e,t,r,n)=>{if(e.domainLimit!==void 0)return e.domainLimit;if(t==="x")for(const s of n.line?.seriesOrder??[]){const i=n.line.series[s];if(i.xAxisId===e.id||i.xAxisId===void 0&&r===0)return"strict"}return"nice"};function Jre(e,t,r){return CN(e??"linear",t,[0,1]).nice(r).domain()}function ene(e,t,r,n,[s,i],o,c){const d=rne(e,t,r,n,c);let u=nne(e,s,i);if(typeof d=="function"){const{min:f,max:p}=d(s.valueOf(),i.valueOf());u[0]=f,u[1]=p}const l=Vre(e,u,o);return d==="nice"&&(u=Jre(e.scaleType,u,l)),u=["min"in e?e.min??u[0]:u[0],"max"in e?e.max??u[1]:u[1]],{domain:u,tickNumber:l}}function tne(e,t,r,n,[s,i],o,c){const d=rne(e,t,r,n,c);let u=nne(e,s,i);if(typeof d=="function"){const{min:l,max:f}=d(s.valueOf(),i.valueOf());u[0]=l,u[1]=f}return d==="nice"&&(u=Jre(e.scaleType,u,o)),[e.min??u[0],e.max??u[1]]}function rne(e,t,r,n,s){return s?GZe(e,t,r,n):e.domainLimit??"nice"}function nne(e,t,r){let n=t,s=r;return"max"in e&&e.max!=null&&e.max<t&&(n=e.max),"min"in e&&e.min!=null&&e.min>t&&(s=e.min),!("min"in e)&&!("max"in e)?[n,s]:[e.min??n,e.max??s]}class YZe{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(t,r){let n=this.length++;for(;n>0;){const s=n-1>>1,i=this.values[s];if(r>=i)break;this.ids[n]=this.ids[s],this.values[n]=i,n=s}this.ids[n]=t,this.values[n]=r}pop(){if(this.length===0)return;const t=this.ids,r=this.values,n=t[0],s=--this.length;if(s>0){const i=t[s],o=r[s];let c=0;const d=s>>1;for(;c<d;){const u=(c<<1)+1,l=u+1,f=u+(+(l<s)&+(r[l]<r[u]));if(r[f]>=o)break;t[c]=t[f],r[c]=r[f],c=f}t[c]=i,r[c]=o}return n}peek(){return this.length>0?this.ids[0]:void 0}peekValue(){return this.length>0?this.values[0]:void 0}shrink(){this.ids.length=this.values.length=this.length}}const nV=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],fP=3;class Q4{static from(t,r=0){if(r%8!==0)throw new Error("byteOffset must be 8-byte aligned.");if(!t||t.byteLength===void 0||t.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");const[n,s]=new Uint8Array(t,r+0,2);if(n!==251)throw new Error("Data does not appear to be in a Flatbush format.");const i=s>>4;if(i!==fP)throw new Error(`Got v${i} data when expected v${fP}.`);const o=nV[s&15];if(!o)throw new Error("Unrecognized array type.");const[c]=new Uint16Array(t,r+2,1),[d]=new Uint32Array(t,r+4,1);return new Q4(d,c,o,void 0,t,r)}constructor(t,r=16,n=Float64Array,s=ArrayBuffer,i,o=0){if(t===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(t)||t<=0)throw new Error(`Unexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+r,2),65535),this.byteOffset=o;let c=t,d=c;this._levelBounds=[c*4];do c=Math.ceil(c/this.nodeSize),d+=c,this._levelBounds.push(d*4);while(c!==1);this.ArrayType=n,this.IndexArrayType=d<16384?Uint16Array:Uint32Array;const u=nV.indexOf(n),l=d*4*n.BYTES_PER_ELEMENT;if(u<0)throw new Error(`Unexpected typed array class: ${n}.`);if(i)this.data=i,this._boxes=new n(i,o+8,d*4),this._indices=new this.IndexArrayType(i,o+8+l,d),this._pos=d*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1];else{const f=this.data=new s(8+l+d*this.IndexArrayType.BYTES_PER_ELEMENT);this._boxes=new n(f,8,d*4),this._indices=new this.IndexArrayType(f,8+l,d),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(f,0,2).set([251,(fP<<4)+u]),new Uint16Array(f,2,1)[0]=r,new Uint32Array(f,4,1)[0]=t}this._queue=new YZe}add(t,r,n=t,s=r){const i=this._pos>>2,o=this._boxes;return this._indices[i]=i,o[this._pos++]=t,o[this._pos++]=r,o[this._pos++]=n,o[this._pos++]=s,t<this.minX&&(this.minX=t),r<this.minY&&(this.minY=r),n>this.maxX&&(this.maxX=n),s>this.maxY&&(this.maxY=s),i}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);const t=this._boxes;if(this.numItems<=this.nodeSize){t[this._pos++]=this.minX,t[this._pos++]=this.minY,t[this._pos++]=this.maxX,t[this._pos++]=this.maxY;return}const r=this.maxX-this.minX||1,n=this.maxY-this.minY||1,s=new Uint32Array(this.numItems),i=65535;for(let o=0,c=0;o<this.numItems;o++){const d=t[c++],u=t[c++],l=t[c++],f=t[c++],p=Math.floor(i*((d+l)/2-this.minX)/r),g=Math.floor(i*((u+f)/2-this.minY)/n);s[o]=XZe(p,g)}TR(s,t,this._indices,0,this.numItems-1,this.nodeSize);for(let o=0,c=0;o<this._levelBounds.length-1;o++){const d=this._levelBounds[o];for(;c<d;){const u=c;let l=t[c++],f=t[c++],p=t[c++],g=t[c++];for(let x=1;x<this.nodeSize&&c<d;x++)l=Math.min(l,t[c++]),f=Math.min(f,t[c++]),p=Math.max(p,t[c++]),g=Math.max(g,t[c++]);this._indices[this._pos>>2]=u,t[this._pos++]=l,t[this._pos++]=f,t[this._pos++]=p,t[this._pos++]=g}}}search(t,r,n,s,i){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let o=this._boxes.length-4;const c=[],d=[];for(;o!==void 0;){const u=Math.min(o+this.nodeSize*4,sV(o,this._levelBounds));for(let l=o;l<u;l+=4){if(n<this._boxes[l]||s<this._boxes[l+1]||t>this._boxes[l+2]||r>this._boxes[l+3])continue;const f=this._indices[l>>2]|0;o>=this.numItems*4?c.push(f):(i===void 0||i(f))&&(d.push(f),d.push(this._boxes[l]),d.push(this._boxes[l+1]))}o=c.pop()}return d}neighbors(t,r,n=1/0,s=1/0,i,o=KZe){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let c=this._boxes.length-4;const d=this._queue,u=[];e:for(;c!==void 0;){const l=Math.min(c+this.nodeSize*4,sV(c,this._levelBounds));for(let f=c;f<l;f+=4){const p=this._indices[f>>2]|0,g=this._boxes[f],x=this._boxes[f+1],S=this._boxes[f+2],m=this._boxes[f+3],y=t<g?g-t:t>S?t-S:0,w=r<x?x-r:r>m?r-m:0,C=o(y,w);C>s||(c>=this.numItems*4?d.push(p<<1,C):(i===void 0||i(p))&&d.push((p<<1)+1,C))}for(;d.length&&d.peek()&1;)if(d.peekValue()>s||(u.push(d.pop()>>1),u.length===n))break e;c=d.length?d.pop()>>1:void 0}return d.clear(),u}}function KZe(e,t){return e*e+t*t}function sV(e,t){let r=0,n=t.length-1;for(;r<n;){const s=r+n>>1;t[s]>e?n=s:r=s+1}return t[r]}function TR(e,t,r,n,s,i){if(Math.floor(n/i)>=Math.floor(s/i))return;const o=e[n],c=e[n+s>>1],d=e[s];let u=d;const l=Math.max(o,c);d>l?u=l:l===o?u=Math.max(c,d):l===c&&(u=Math.max(o,d));let f=n-1,p=s+1;for(;;){do f++;while(e[f]<u);do p--;while(e[p]>u);if(f>=p)break;ZZe(e,t,r,f,p)}TR(e,t,r,n,p,i),TR(e,t,r,p+1,s,i)}function ZZe(e,t,r,n,s){const i=e[n];e[n]=e[s],e[s]=i;const o=4*n,c=4*s,d=t[o],u=t[o+1],l=t[o+2],f=t[o+3];t[o]=t[c],t[o+1]=t[c+1],t[o+2]=t[c+2],t[o+3]=t[c+3],t[c]=d,t[c+1]=u,t[c+2]=l,t[c+3]=f;const p=r[n];r[n]=r[s],r[s]=p}function XZe(e,t){let r=e^t,n=65535^r,s=65535^(e|t),i=e&(t^65535),o=r|n>>1,c=r>>1^r,d=s>>1^n&i>>1^s,u=r&s>>1^i>>1^i;r=o,n=c,s=d,i=u,o=r&r>>2^n&n>>2,c=r&n>>2^n&(r^n)>>2,d^=r&s>>2^n&i>>2,u^=n&s>>2^(r^n)&i>>2,r=o,n=c,s=d,i=u,o=r&r>>4^n&n>>4,c=r&n>>4^n&(r^n)>>4,d^=r&s>>4^n&i>>4,u^=n&s>>4^(r^n)&i>>4,r=o,n=c,s=d,i=u,d^=r&s>>8^n&i>>8,u^=n&s>>8^(r^n)&i>>8,r=d^d>>1,n=u^u>>1;let l=e^t,f=n|65535^(l|r);return l=(l|l<<8)&16711935,l=(l|l<<4)&252645135,l=(l|l<<2)&858993459,l=(l|l<<1)&1431655765,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,(f<<1|l)>>>0}const QZe=e=>{const t=new Map;return e.forEach(r=>{t.set(r.axisId,r)}),t},sne=e=>e.zoom,ane=Ge([sne],e=>e?.isInteracting),uu=hs(sne,function(t){return t?.zoomData&&QZe(t?.zoomData)}),aV=Ge([uu],(e,t)=>e?.get(t)),xy=hs(Lc,cu,function(t,r){return ue({},rV("x")(t),rV("y")(r))});Ge([xy],(e,t)=>e[t]);const JZe=Ge([$a],function(t){return X4(t.width)}),eXe=Ge([$a],function(t){return X4(t.height)}),J4=hs(Lc,ks,ro,yN,JZe,function(t,r,n,s,i){const o="x",c={};return t?.forEach((d,u)=>{const l=d;if(Nc(l)||du(l)){c[l.id]={domain:l.data};return}const f=NN(l,o,n,u,r);c[l.id]=ene(l,"x",u,r,f,i,s)}),{axes:t,domains:c}}),e3=hs(cu,ks,ro,yN,eXe,function(t,r,n,s,i){const o="y",c={};return t?.forEach((d,u)=>{const l=d;if(Nc(l)||du(l)){c[l.id]={domain:l.data};return}const f=NN(l,o,n,u,r);c[l.id]=ene(l,"y",u,r,f,i,s)}),{axes:t,domains:c}}),ine=hs(uu,xy,J4,e3,function(t,r,{axes:n,domains:s},{axes:i,domains:o}){if(!t||!r)return;let c=!1;const d={},u=[...n??[],...i??[]];for(let l=0;l<u.length;l+=1){const f=u[l];if(!r[f.id]||r[f.id].filterMode!=="discard")continue;const p=t.get(f.id);if(p===void 0||p.start<=0&&p.end>=100)continue;const g=l<(n?.length??0)?"x":"y";if(f.scaleType==="band"||f.scaleType==="point")d[f.id]=zZe(f.data,p.start,p.end,g);else{const{domain:x}=g==="x"?s[f.id]:o[f.id];d[f.id]=UZe(x,p.start,p.end,g,f.data)}c=!0}if(c)return VZe(d)}),tXe=hs(ks,ro,uu,xy,ine,yN,J4,function(t,r,n,s,i,o,{axes:c,domains:d}){const u={};return c?.forEach((l,f)=>{const p=d[l.id].domain;if(Nc(l)||du(l)){u[l.id]=p;return}const g=n?.get(l.id),x=s?.[l.id],S=g===void 0&&!x?i:void 0;if(!S){u[l.id]=p;return}const m=d[l.id].tickNumber,y=NN(l,"x",r,f,t,S);u[l.id]=tne(l,"x",f,t,y,m,o)}),u}),rXe=hs(ks,ro,uu,xy,ine,yN,e3,function(t,r,n,s,i,o,{axes:c,domains:d}){const u={};return c?.forEach((l,f)=>{const p=d[l.id].domain;if(Nc(l)||du(l)){u[l.id]=p;return}const g=n?.get(l.id),x=s?.[l.id],S=g===void 0&&!x?i:void 0;if(!S){u[l.id]=p;return}const m=d[l.id].tickNumber,y=NN(l,"y",r,f,t,S);u[l.id]=tne(l,"y",f,t,y,m,o)}),u}),one=hs(Lc,tXe,function(t,r){const n={};return t?.forEach(s=>{const i=s,o=r[i.id];n[i.id]=Xre(i,o)}),n}),lne=hs(cu,rXe,function(t,r){const n={};return t?.forEach(s=>{const i=s,o=r[i.id];n[i.id]=Xre(i,o)}),n}),nXe=hs(Lc,one,$a,uu,function(t,r,n,s){const i={};return t?.forEach(o=>{const c=o,d=s?.get(c.id),u=d?[d.start,d.end]:[0,100],l=Zre(n,"x",c),f=r[c.id].copy(),p=Qre(l,u);f.range(p),i[c.id]=f}),i}),sXe=hs(cu,lne,$a,uu,function(t,r,n,s){const i={};return t?.forEach(o=>{const c=o,d=s?.get(c.id),u=d?[d.start,d.end]:[0,100],l=Zre(n,"y",c),f=r[c.id].copy(),p=ta(f)?l.reverse():l,g=Qre(p,u);f.range(g),i[c.id]=f}),i}),ha=hs($a,ks,ro,uu,J4,nXe,function(t,r,n,s,{axes:i,domains:o},c){return Kre({scales:c,drawingArea:t,formattedSeries:r,axis:i,seriesConfig:n,axisDirection:"x",zoomMap:s,domains:o})}),ma=hs($a,ks,ro,uu,e3,sXe,function(t,r,n,s,{axes:i,domains:o},c){return Kre({scales:c,drawingArea:t,formattedSeries:r,axis:i,seriesConfig:n,axisDirection:"y",zoomMap:s,domains:o})});Ge([ha,ma],(e,t,r)=>e?.axis[r]??t?.axis[r]);Ge([Lc,cu],(e,t,r)=>{const n=e?.find(s=>s.id===r)??t?.find(s=>s.id===r)??null;if(n)return n});const aXe=Ge([Lc],e=>e[0].id),iXe=Ge([cu],e=>e[0].id),oXe=new Map,lXe=()=>oXe,cXe=hs(ks,one,lne,aXe,iXe,function(t,r,n,s,i){const o=t.scatter,c=new Map;return o&&o.seriesOrder.forEach(d=>{const{data:u,xAxisId:l=s,yAxisId:f=i}=o.series[d],p=new Q4(u.length),g=r[l],x=n[f];for(const S of u)p.add(g(S.x),x(S.y));p.finish(),c.set(d,p)}),c});function bm(e){return e instanceof Date?e.getTime():e}function Np(e,t){const{scale:r,data:n,reverse:s}=e;if(!ta(r)){const o=r.invert(t);if(n===void 0)return-1;const c=bm(o);return n?.findIndex((u,l)=>{const f=bm(u);return f>c&&(l===0||Math.abs(c-f)<=Math.abs(c-bm(n[l-1])))||f<=c&&(l===n.length-1||Math.abs(bm(o)-f)<Math.abs(bm(o)-bm(n[l+1])))})}const i=r.bandwidth()===0?Math.floor((t-Math.min(...r.range())+r.step()/2)/r.step()):Math.floor((t-Math.min(...r.range()))/r.step());return i<0||i>=n.length?-1:s?n.length-1-i:i}function iV(e,t,r,n){if(!ta(e)){if(n===null){const s=e.invert(r);return Number.isNaN(s)?null:s}return t[n]}return n===null||n<0||n>=t.length?null:t[n]}function s0(e,t){const r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r.matrixTransform(e.getScreenCTM().inverse())}const dXe=Object.is;function cne(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;let r=0,n=0;for(const s in e)if(r+=1,!dXe(e[s],t[s])||!(s in t))return!1;for(const s in t)n+=1;return r===n}const vy=({store:e})=>{const t=ws(function(){e.set("interaction",ue({},e.state.interaction,{pointer:null,item:null}))}),r=ws(function(o){const c=e.state.interaction.item;if(!o){c!==null&&e.set("interaction",ue({},e.state.interaction,{item:null}));return}c===null||Object.keys(o).some(d=>o[d]!==c[d])||e.set("interaction",ue({},e.state.interaction,{item:null}))}),n=ws(function(o,c){cne(e.state.interaction.item,o)||e.set("interaction",ue({},e.state.interaction,{lastUpdate:c.interaction,item:o}))}),s=ws(function(o){e.set("interaction",ue({},e.state.interaction,{pointer:o,lastUpdate:o!==null?"pointer":e.state.interaction.lastUpdate}))});return{instance:{cleanInteraction:t,setItemInteraction:n,removeItemInteraction:r,setPointerCoordinate:s}}};vy.getInitialState=()=>({interaction:{item:null,pointer:null,lastUpdate:"pointer"}});vy.params={};const _N=e=>e.interaction,uXe=Ge([_N],e=>e!==void 0),dne=Ge([_N],e=>e?.item??null),une=Ge([_N],e=>e?.pointer??null),yy=Ge([une],e=>e&&e.x),by=Ge([une],e=>e&&e.y),fXe=Ge([dne],e=>e!==null),wy=Ge([_N],e=>e?.lastUpdate),hXe=new Set(["bar","line","scatter","pie"]);function fne(e){return hXe.has(e)}function hne(e,t,r){const n=Object.keys(e),s=t!==void 0&&e[t]?n.indexOf(t):0,i=t!==void 0&&r!==void 0&&e[t]&&e[t].series[r]?e[t].seriesOrder.indexOf(r):-1,o=n.filter(fne);for(let l=0;l<o.length;l+=1){const f=(s+l)%o.length,p=e[o[f]],g=l===0?i+1:0;for(let x=g;x<p.seriesOrder.length;x+=1)if(p.series[p.seriesOrder[x]].data.length>0)return{type:o[f],seriesId:p.seriesOrder[x]}}const c=s,d=e[o[c]],u=i;for(let l=0;l<u;l+=1)if(d.series[d.seriesOrder[l]].data.length>0)return{type:o[c],seriesId:d.seriesOrder[l]};return null}function mne(e,t,r){const n=Object.keys(e),s=t!==void 0&&e[t]?n.indexOf(t):0,i=t!==void 0&&r!==void 0&&e[t]&&e[t].series[r]?e[t].seriesOrder.indexOf(r):1,o=n.filter(fne);for(let l=0;l<o.length;l+=1){const f=(o.length+s-l)%o.length,p=e[o[f]],g=l===0?i+1:p.seriesOrder.length;for(let x=1;x<g;x+=1){const S=(p.seriesOrder.length+i-x)%p.seriesOrder.length;if(p.series[p.seriesOrder[S]].data.length>0)return{type:o[f],seriesId:p.seriesOrder[S]}}}const c=s,d=e[o[c]],u=d.seriesOrder;for(let l=u.length-1;l>i;l-=1)if(d.series[d.seriesOrder[l]].data.length>0)return{type:o[c],seriesId:d.seriesOrder[l]};return null}function pne(e,t,r){if(t==="sankey")return!1;const n=e[t]?.series[r]?.data;return n&&n.length>0}function mXe(e){let{type:t,seriesId:r}=e.keyboardNavigation.item??{};if(t===void 0||t==="sankey"||r===void 0||!pne(e.series.processedSeries,t,r)){const s=hne(e.series.processedSeries,t,r);if(s===null)return null;t=s.type,r=s.seriesId}const n=e.series.processedSeries[t].series[r].data.length;return{type:t,seriesId:r,dataIndex:((e.keyboardNavigation.item?.dataIndex??-1)+1)%n}}function pXe(e){let{type:t,seriesId:r}=e.keyboardNavigation.item??{};if(t===void 0||t==="sankey"||r===void 0||!pne(e.series.processedSeries,t,r)){const s=mne(e.series.processedSeries,t,r);if(s===null)return null;t=s.type,r=s.seriesId}const n=e.series.processedSeries[t].series[r].data.length;return{type:t,seriesId:r,dataIndex:(n+(e.keyboardNavigation.item?.dataIndex??1)-1)%n}}function gXe(e){let{type:t,seriesId:r}=e.keyboardNavigation.item??{};const n=hne(e.series.processedSeries,t,r);if(n===null)return null;t=n.type,r=n.seriesId;const s=e.series.processedSeries[t].series[r].data.length;return{type:t,seriesId:r,dataIndex:Math.min(s-1,e.keyboardNavigation.item?.dataIndex??0)}}function xXe(e){let{type:t,seriesId:r}=e.keyboardNavigation.item??{};const n=mne(e.series.processedSeries,t,r);if(n===null)return null;t=n.type,r=n.seriesId;const s=e.series.processedSeries[t].series[r].data.length;return{type:t,seriesId:r,dataIndex:Math.min(s-1,e.keyboardNavigation.item?.dataIndex??0)}}const AN=({params:e,store:t,svgRef:r})=>{const n=ws(function(){t.state.keyboardNavigation.item!==null&&t.set("keyboardNavigation",ue({},t.state.keyboardNavigation,{item:null}))});return b.useEffect(()=>{const s=r.current;if(!s||!e.enableKeyboardNavigation)return;function i(o){let c=t.state.keyboardNavigation.item;switch(o.key){case"ArrowRight":c=mXe(t.state);break;case"ArrowLeft":c=pXe(t.state);break;case"ArrowDown":{c=xXe(t.state);break}case"ArrowUp":{c=gXe(t.state);break}}c!==t.state.keyboardNavigation.item&&(o.preventDefault(),t.update(ue({},t.state.highlight&&{highlight:ue({},t.state.highlight,{lastUpdate:"keyboard"})},t.state.interaction&&{interaction:ue({},t.state.interaction,{lastUpdate:"keyboard"})},{keyboardNavigation:ue({},t.state.keyboardNavigation,{item:c})})))}return s.addEventListener("keydown",i),s.addEventListener("blur",n),()=>{s.removeEventListener("keydown",i),s.removeEventListener("blur",n)}},[r,n,e.enableKeyboardNavigation,t]),is(()=>{t.state.keyboardNavigation.enableKeyboardNavigation!==e.enableKeyboardNavigation&&t.set("keyboardNavigation",ue({},t.state.keyboardNavigation,{enableKeyboardNavigation:!!e.enableKeyboardNavigation}))},[t,e.enableKeyboardNavigation]),{}};AN.getInitialState=e=>({keyboardNavigation:{item:null,enableKeyboardNavigation:!!e.enableKeyboardNavigation}});AN.params={enableKeyboardNavigation:!0};const ah=e=>e.keyboardNavigation,vXe=Ge([ah],(e,t)=>e?.item!=null&&e.item.type===t.seriesType&&e.item.seriesId===t.seriesId&&e.item.dataIndex===t.dataIndex),yXe=Ge([ah],e=>e?.item!=null),t3=Ge([ah],e=>e?.item?.type),r3=Ge([ah],e=>e?.item?.seriesId),n3=Ge([ah],e=>e?.item?.dataIndex),bXe=Ge([ah],e=>!!e?.enableKeyboardNavigation),gne=e=>(t,r,n,s,i)=>{if(t===void 0||r===void 0||n===void 0)return;const o=i[t]?.series[r];if(!o)return;let c=e==="x"?"xAxisId"in o&&o.xAxisId:"yAxisId"in o&&o.yAxisId;return(c===void 0||c===!1)&&(c=s.axisIds[0]),{axisId:c,dataIndex:n}},wXe=Ge([t3,r3,n3,ha,ks],gne("x")),SXe=Ge([t3,r3,n3,ma,ks],gne("y")),xne=Ge([ah],function(t){if(t?.item==null)return null;const{type:r,seriesId:n}=t.item;return r===void 0||n===void 0?null:t.item}),CXe=Ge([t3,r3,n3],function(t,r,n){return r!==void 0&&n!==void 0}),vne=Ge([wy,dne,xne],(e,t,r)=>e==="keyboard"?r:t??null),jXe=Ge([wy,fXe,CXe],(e,t,r)=>e==="keyboard"?r:t),EXe=Ge([vne,$a,ro,ha,ma,ks,(e,t)=>t],function(t,r,n,{axis:s,axisIds:i},{axis:o,axisIds:c},d,u="top"){if(!t)return null;const l=d[t.type]?.series[t.seriesId];if(l){const f={},p=oj(l)?l.xAxisId??i[0]:void 0,g=oj(l)?l.yAxisId??c[0]:void 0;return p!==void 0&&(f.x=s[p]),g!==void 0&&(f.y=o[g]),n[l.type].tooltipItemPositionGetter?.({series:d,drawingArea:r,axesConfig:f,identifier:t,placement:u})??null}return null});function tp(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){const s=e.length;if(s!==t.length)return!1;for(let i=0;i<s;i+=1)if(!tp(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;const s=Array.from(e.entries());for(let i=0;i<s.length;i+=1)if(!t.has(s[i][0]))return!1;for(let i=0;i<s.length;i+=1){const o=s[i];if(!tp(o[1],t.get(o[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;const s=Array.from(e.entries());for(let i=0;i<s.length;i+=1)if(!t.has(s[i][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){const s=e.length;if(s!==t.length)return!1;for(let i=0;i<s;i+=1)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const r=Object.keys(e),n=r.length;if(n!==Object.keys(t).length)return!1;for(let s=0;s<n;s+=1)if(!Object.prototype.hasOwnProperty.call(t,r[s]))return!1;for(let s=0;s<n;s+=1){const i=r[s];if(!tp(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function PR(e,t,r=t.axisIds[0]){return Array.isArray(r)?r.map(n=>Np(t.axis[n],e)):Np(t.axis[r],e)}const yne=(e,t,r)=>{if(e===null)return null;const n=PR(e,t,r);return n===-1?null:n},s3=Ge([yy,ha],yne),a3=Ge([by,ma],yne),NXe=Ge([yy,by,ha,ma],(e,t,r,n)=>[...e===null?[]:r.axisIds.map(s=>({axisId:s,dataIndex:PR(e,r,s)})),...t===null?[]:n.axisIds.map(s=>({axisId:s,dataIndex:PR(t,n,s)}))].filter(s=>s.dataIndex!==null&&s.dataIndex>=0));function bne(e,t,r,n=t.axisIds[0]){return Array.isArray(n)?n.map((s,i)=>{const o=t.axis[s];return iV(o.scale,o.data,e,r[i])}):iV(t.axis[n].scale,t.axis[n].data,e,r)}const _Xe=Ge([yy,ha,s3],(e,t,r,n)=>e===null||t.axisIds.length===0?null:bne(e,t,r,n)),AXe=Ge([by,ma,a3],(e,t,r,n)=>e===null||t.axisIds.length===0?null:bne(e,t,r,n)),wne=[],Sne=pN({memoizeOptions:{resultEqualityCheck:tp}})(yy,ha,(e,t)=>e===null?wne:t.axisIds.filter(r=>t.axis[r].triggerTooltip).map(r=>({axisId:r,dataIndex:Np(t.axis[r],e)})).filter(({dataIndex:r})=>r>=0)),Cne=pN({memoizeOptions:{resultEqualityCheck:tp}})(by,ma,(e,t)=>e===null?wne:t.axisIds.filter(r=>t.axis[r].triggerTooltip).map(r=>({axisId:r,dataIndex:Np(t.axis[r],e)})).filter(({dataIndex:r})=>r>=0)),kXe=Ge([Sne,Cne],(e,t)=>e.length>0||t.length>0);function TXe(e){return e.setPointerCoordinate!==void 0}const pg=({params:e,store:t,seriesConfig:r,svgRef:n,instance:s})=>{const{xAxis:i,yAxis:o,dataset:c,onHighlightedAxisChange:d}=e,u=wt(t,$a),l=wt(t,ks),f=wt(t,uXe),{axis:p,axisIds:g}=wt(t,ha),{axis:x,axisIds:S}=wt(t,ma);Bre({controlled:e.highlightedAxis}),is(()=>{e.highlightedAxis!==void 0&&t.set("controlledCartesianAxisHighlight",e.highlightedAxis)},[t,e.highlightedAxis]);const m=b.useRef(!0);b.useEffect(()=>{if(m.current){m.current=!1;return}t.set("cartesianAxis",{x:Hre(i,c),y:zre(o,c)})},[r,u,i,o,c,t]);const y=g[0],w=S[0];FKe(t,NXe,(E,N)=>{if(d&&!Object.is(E,N)){if(E.length!==N.length){d(N);return}E?.some(({axisId:k,dataIndex:A},T)=>N[T].axisId!==k||N[T].dataIndex!==A)&&d(N)}});const C=TXe(s);return b.useEffect(()=>{const E=n.current;if(!f||!C||!E||e.disableAxisListener)return()=>{};const N=s.addInteractionListener("moveEnd",R=>{R.detail.activeGestures.pan||s.cleanInteraction()}),k=s.addInteractionListener("panEnd",R=>{R.detail.activeGestures.move||s.cleanInteraction()}),A=s.addInteractionListener("quickPressEnd",R=>{!R.detail.activeGestures.move&&!R.detail.activeGestures.pan&&s.cleanInteraction()}),T=R=>{const L=R.detail.srcEvent,B=R.detail.target,F=s0(E,L);if(R.detail.srcEvent.buttons>=1&&B?.hasPointerCapture(R.detail.srcEvent.pointerId)&&!B?.closest("[data-charts-zoom-slider]")&&B?.releasePointerCapture(R.detail.srcEvent.pointerId),!s.isPointInside(F.x,F.y,B)){s.cleanInteraction?.();return}s.setPointerCoordinate(F)},P=s.addInteractionListener("move",T),M=s.addInteractionListener("pan",T),O=s.addInteractionListener("quickPress",T);return()=>{P.cleanup(),N.cleanup(),M.cleanup(),k.cleanup(),O.cleanup(),A.cleanup()}},[n,t,p,y,x,w,s,e.disableAxisListener,f,C]),b.useEffect(()=>{const E=n.current,N=e.onAxisClick;if(E===null||!N)return()=>{};const k=s.addInteractionListener("tap",A=>{let T=null,P=!1;const M=s0(E,A.detail.srcEvent),O=Np(p[y],M.x);P=O!==-1,T=P?O:Np(x[w],M.y);const R=P?g[0]:S[0];if(T==null||T===-1)return;const L=(P?p:x)[R].data[T],B={};Object.keys(l).filter(F=>["bar","line"].includes(F)).forEach(F=>{l[F]?.seriesOrder.forEach($=>{const z=l[F].series[$],W=z.xAxisId,Z=z.yAxisId,V=P?W:Z;(V===void 0||V===R)&&(B[$]=z.data[T])})}),N(A.detail.srcEvent,{dataIndex:T,axisValue:L,seriesValues:B})});return()=>{k.cleanup()}},[e.onAxisClick,l,n,p,g,x,S,y,w,s]),{}};pg.params={xAxis:!0,yAxis:!0,dataset:!0,onAxisClick:!0,disableAxisListener:!0,onHighlightedAxisChange:!0,highlightedAxis:!0};pg.getDefaultizedParams=({params:e})=>ue({},e,{colors:e.colors??Mre,theme:e.theme??"light",defaultizedXAxis:Hre(e.xAxis,e.dataset),defaultizedYAxis:zre(e.yAxis,e.dataset)});pg.getInitialState=e=>ue({cartesianAxis:{x:e.defaultizedXAxis,y:e.defaultizedYAxis}},e.highlightedAxis===void 0?{}:{controlledCartesianAxisHighlight:e.highlightedAxis});const xl=e=>e.brush;Ge([xl],e=>e?.start);Ge([xl],e=>e?.current);const PXe=Ge([xl],e=>e?.start?.x??null),DXe=Ge([xl],e=>e?.start?.y??null),RXe=Ge([xl],e=>e?.current?.x??null),MXe=Ge([xl],e=>e?.current?.y??null);Ge([PXe,DXe,RXe,MXe],(e,t,r,n)=>e===null||t===null||r===null||n===null?null:{start:{x:e,y:t},current:{x:r,y:n}});const OXe=Ge([ks],e=>{let t=!1,r=!1;return e&&Object.entries(e).forEach(([n,s])=>{Object.values(s.series).some(i=>i.layout==="horizontal")&&(t=!0),n==="scatter"&&s.seriesOrder.length>0&&(r=!0)}),r?"xy":t?"y":"x"}),IXe=Ge([xy],function(t){let r=!1,n=!1;return Object.values(t).forEach(s=>{s.axisDirection==="y"&&(n=!0),s.axisDirection==="x"&&(r=!0)}),r&&n?"xy":n?"y":r?"x":null});Ge([OXe,IXe],(e,t)=>t??e);const jne=Ge([xl],e=>e?.enabled||e?.isZoomBrushEnabled),Ene=Ge([jne,xl],(e,t)=>e&&t?.start!==null&&t?.current!==null),kN=Ge([xl,Ene],(e,t)=>t&&e?.preventHighlight),LXe=Ge([xl,Ene],(e,t)=>t&&e?.preventTooltip),Sy=({store:e,svgRef:t,instance:r,params:n})=>{const s=wt(e,jne);is(()=>{e.set("brush",ue({},e.state.brush,{enabled:n.brushConfig.enabled,preventTooltip:n.brushConfig.preventTooltip,preventHighlight:n.brushConfig.preventHighlight}))},[e,n.brushConfig.enabled,n.brushConfig.preventTooltip,n.brushConfig.preventHighlight]);const i=ws(function(u){e.set("brush",ue({},e.state.brush,{start:e.state.brush.start??u,current:u}))}),o=ws(function(){e.set("brush",ue({},e.state.brush,{start:null,current:null}))}),c=ws(function(u){e.state.brush.isZoomBrushEnabled!==u&&e.set("brush",ue({},e.state.brush,{isZoomBrushEnabled:u}))});return b.useEffect(()=>{const d=t.current;if(d===null||!s)return()=>{};const u=S=>{if(S.detail.target?.closest("[data-charts-zoom-slider]"))return;const m=s0(d,{clientX:S.detail.initialCentroid.x,clientY:S.detail.initialCentroid.y});i(m)},l=S=>{const m=s0(d,{clientX:S.detail.centroid.x,clientY:S.detail.centroid.y});i(m)},f=r.addInteractionListener("brushStart",u),p=r.addInteractionListener("brush",l),g=r.addInteractionListener("brushCancel",o),x=r.addInteractionListener("brushEnd",o);return()=>{f.cleanup(),p.cleanup(),x.cleanup(),g.cleanup()}},[t,r,e,o,i,s]),{instance:{setBrushCoordinates:i,clearBrush:o,setZoomBrushEnabled:c}}};Sy.params={brushConfig:!0};Sy.getDefaultizedParams=({params:e})=>ue({},e,{brushConfig:{enabled:e?.brushConfig?.enabled??!1,preventTooltip:e?.brushConfig?.preventTooltip??!0,preventHighlight:e?.brushConfig?.preventHighlight??!0}});Sy.getInitialState=e=>({brush:{enabled:e.brushConfig.enabled,isZoomBrushEnabled:!1,preventTooltip:e.brushConfig.preventTooltip,preventHighlight:e.brushConfig.preventHighlight,start:null,current:null}});const gg=e=>e.controlledCartesianAxisHighlight,Nne=(e,t,r,n)=>n?[]:r!==void 0?r.filter(s=>t.axis[s.axisId]!==void 0).map(s=>s):e===null?[]:[{axisId:t.axisIds[0],dataIndex:e}];hs(s3,ha,gg,kN,Nne);hs(a3,ma,gg,kN,Nne);const _ne=(e,t,r,n,s,i,o)=>{if(o)return[];if(n!==void 0)return n.map(l=>ue({},l,{value:r.axis[l.axisId]?.data?.[l.dataIndex]})).filter(({value:l})=>l!==void 0);const c=t!==null&&{axisId:r.axisIds[0],dataIndex:e,value:t},d=s&&r.axis[s.axisId]?.data?.[s.dataIndex],u=s&&d!=null&&ue({},s,{value:d});if(i==="pointer"){if(c)return[c];if(u)return[u]}if(i==="keyboard"){if(u)return[u];if(c)return[c]}return[]},BXe=Ge([s3,_Xe,ha,gg,wXe,wy,kN],_ne),$Xe=Ge([a3,AXe,ma,gg,SXe,wy,kN],_ne),Ane=(e,t)=>e===void 0?[t.axis[t.axisIds[0]]]:e.map(n=>t.axis[n.axisId]??null).filter(n=>n!==null);Ge([gg,ha],Ane);Ge([gg,ma],Ane);function oV(e,t){return e.id!==void 0?e:ue({id:t},e)}function lV(e){return e.colorMap?ue({},e,{colorScale:e.colorMap.type==="ordinal"&&e.data?Ep(ue({values:e.data},e.colorMap)):ep(e.colorMap.type==="continuous"?ue({min:e.min,max:e.max},e.colorMap):e.colorMap)}):e}function kne(e,t){if(!e||e.length===0)return{axis:{},axisIds:[]};const r={},n=[];return e.forEach((s,i)=>{const o=s.dataKey,c=s.id??`defaultized-z-axis-${i}`;if(o===void 0||s.data!==void 0){r[c]=lV(oV(s,c)),n.push(c);return}if(t===void 0)throw new Error("MUI X Charts: z-axis uses `dataKey` but no `dataset` is provided.");r[c]=lV(oV(ue({},s,{data:t.map(d=>d[o])}),c)),n.push(c)}),{axis:r,axisIds:n}}const Cy=({params:e,store:t})=>{const{zAxis:r,dataset:n}=e,s=b.useRef(!0);return b.useEffect(()=>{if(s.current){s.current=!1;return}t.set("zAxis",kne(r,n))},[r,n,t]),{}};Cy.params={zAxis:!0,dataset:!0};Cy.getInitialState=e=>({zAxis:kne(e.zAxis,e.dataset)});const FXe=e=>e,HXe=Ge([FXe],e=>e.zAxis),xg=({store:e,params:t})=>{Bre({controlled:t.highlightedItem}),is(()=>{e.state.highlight.item!==t.highlightedItem&&e.set("highlight",ue({},e.state.highlight,{item:t.highlightedItem}))},[e,t.highlightedItem]);const r=ws(()=>{t.onHighlightChange?.(null),e.getSnapshot().highlight.item!==null&&e.set("highlight",{item:null,lastUpdate:"pointer"})}),n=ws(s=>{const i=e.getSnapshot().highlight.item;cne(i,s)||(t.onHighlightChange?.(s),e.set("highlight",{item:s,lastUpdate:"pointer"}))});return{instance:{clearHighlight:r,setHighlight:n}}};xg.getDefaultizedParams=({params:e})=>ue({},e,{highlightedItem:e.highlightedItem??null});xg.getInitialState=e=>({highlight:{item:e.highlightedItem,lastUpdate:"pointer"}});xg.params={highlightedItem:!0,onHighlightChange:!0};function lj(e){let t=1/0,r=-1/0;for(const n of e??[])n<t&&(t=n),n>r&&(r=n);return[t,r]}const cV=(e,t)=>t==="x"?{x:e,y:null}:{x:null,y:e},Tne=e=>{const{axis:t,getFilters:r,isDefaultAxis:n}=e,s=r?.({currentAxisId:t.id,isDefaultAxis:n}),i=s?t.data?.filter((o,c)=>s({x:null,y:null},c)):t.data;return lj(i??[])},Pne=e=>t=>{const{series:r,axis:n,getFilters:s,isDefaultAxis:i}=t;return Object.keys(r).filter(o=>{const c=e==="x"?r[o].xAxisId:r[o].yAxisId;return c===n.id||i&&c===void 0}).reduce((o,c)=>{const{stackedData:d}=r[c],u=s?.({currentAxisId:n.id,isDefaultAxis:i,seriesXAxisId:r[c].xAxisId,seriesYAxisId:r[c].yAxisId}),[l,f]=d?.reduce((p,g,x)=>u&&(!u(cV(g[0],e),x)||!u(cV(g[1],e),x))?p:[Math.min(...g,p[0]),Math.max(...g,p[1])],[1/0,-1/0])??[1/0,-1/0];return[Math.min(l,o[0]),Math.max(f,o[1])]},[1/0,-1/0])},zXe=e=>Object.keys(e.series).some(r=>e.series[r].layout==="horizontal")?Pne("x")(e):Tne(e),UXe=e=>Object.keys(e.series).some(r=>e.series[r].layout==="horizontal")?Tne(e):Pne("y")(e),hP={appearance:LX,ascending:BX,descending:FOe,insideOut:HOe,none:Rf,reverse:zOe},mP={expand:MX,diverging:BOe,none:Df,silhouette:OX,wiggle:IX},Dne=e=>{const{series:t,seriesOrder:r,defaultStrategy:n}=e,s=[],i={};return r.forEach(o=>{const{stack:c,stackOrder:d,stackOffset:u}=t[o];c===void 0?s.push({ids:[o],stackingOrder:hP.none,stackingOffset:mP.none}):i[c]===void 0?(i[c]=s.length,s.push({ids:[o],stackingOrder:hP[d??n?.stackOrder??"none"],stackingOffset:mP[u??n?.stackOffset??"diverging"]})):(s[i[c]].ids.push(o),d!==void 0&&(s[i[c]].stackingOrder=hP[d]),u!==void 0&&(s[i[c]].stackingOffset=mP[u]))}),s},VXe=e=>e==null?"":e.toLocaleString(),WXe=(e,t)=>{const{seriesOrder:r,series:n}=e,s=Dne(e),i=t??[];r.forEach(c=>{const d=n[c].data;if(d!==void 0)d.forEach((u,l)=>{i.length<=l?i.push({[c]:u}):i[l][c]=u});else if(t===void 0)throw new Error([`MUI X Charts: bar series with id='${c}' has no data.`,"Either provide a data property to the series or use the dataset prop."].join(`
`))});const o={};return s.forEach(c=>{const{ids:d,stackingOffset:u,stackingOrder:l}=c,f=_O().keys(d.map(p=>{const g=n[p].dataKey;return n[p].data===void 0&&g!==void 0?g:p})).value((p,g)=>p[g]??0).order(l).offset(u)(i);d.forEach((p,g)=>{const x=n[p].dataKey;o[p]=ue({layout:"vertical",labelMarkType:"square",minBarSize:0,valueFormatter:n[p].valueFormatter??VXe},n[p],{data:x?t.map(S=>{const m=S[x];return typeof m!="number"?null:m}):n[p].data,stackedData:f[g].map(([S,m])=>[S,m])})})}),{seriesOrder:r,stackingGroups:s,series:o}};function bo(e,t){return typeof e=="function"?e(t):e}const qXe=e=>{const{seriesOrder:t,series:r}=e;return t.reduce((n,s)=>{const i=bo(r[s].label,"legend");return i===void 0||n.push({markType:r[s].labelMarkType,id:s,seriesId:s,color:r[s].color,label:i}),n},[])};function i3(e){return e.colorGetter?e.colorGetter:()=>e.color}const Rne=(e,t,r)=>{const n=e.layout==="vertical",s=n?t?.colorScale:r?.colorScale,i=n?r?.colorScale:t?.colorScale,o=n?t?.data:r?.data,c=i3(e);return i?d=>{if(d===void 0)return e.color;const u=e.data[d],l=u===null?c({value:u,dataIndex:d}):i(u);return l===null?c({value:u,dataIndex:d}):l}:s&&o?d=>{if(d===void 0)return e.color;const u=o[d],l=u===null?c({value:u,dataIndex:d}):s(u);return l===null?c({value:u,dataIndex:d}):l}:d=>{if(d===void 0)return e.color;const u=e.data[d];return c({value:u,dataIndex:d})}},GXe=e=>{const{series:t,getColor:r,identifier:n}=e;if(!n||n.dataIndex===void 0)return null;const s=bo(t.label,"tooltip"),i=t.data[n.dataIndex];if(i==null)return null;const o=t.valueFormatter(i,{dataIndex:n.dataIndex});return{identifier:n,color:r(n.dataIndex),label:s,value:i,formattedValue:o,markType:t.labelMarkType}},YXe=e=>Object.values(e).map(t=>t.layout==="horizontal"?{direction:"y",axisId:t.yAxisId}:{direction:"x",axisId:t.xAxisId});function Vr(){const e=Hc();if(!e)throw new Error(["MUI X Charts: Could not find the charts context.","It looks like you rendered your component outside of a ChartContainer parent component."].join(`
`));return e.store}function no(){const e=Vr();return wt(e,$a)}function o3(){const e=Vr();return wt(e,lZe)}function l3(e){return Yre.getTypes().has(e)}const KXe=(e,t,r,n,s,i,o)=>{const c=n==="rotation"?s[t].rotationExtremumGetter:s[t].radiusExtremumGetter,d=o[t]?.series??{},[u,l]=c?.({series:d,axis:r,axisIndex:i,isDefaultAxis:i===0})??[1/0,-1/0],[f,p]=e;return[Math.min(u,f),Math.max(l,p)]},ZXe=(e,t,r,n,s)=>{const o=Object.keys(r).filter(l3).reduce((c,d)=>KXe(c,d,e,t,r,n,s),[1/0,-1/0]);return Number.isNaN(o[0])||Number.isNaN(o[1])?[1/0,-1/0]:o},Td=(e,t)=>e===void 0?t:Math.PI*e/180,XXe=(e,t,r,n)=>{const s=new Set;return Object.keys(t).filter(l3).forEach(o=>{const c=r[o]?.series??{},d=t[o].axisTooltipGetter?.(c);d!==void 0&&d.forEach(({axisId:u,direction:l})=>{l===e&&s.add(u??n)})}),s};function QXe(e,t,r){if(t==="rotation"){if(r.scaleType==="point"){const n=[Td(r.startAngle,0),Td(r.endAngle,2*Math.PI)],s=n[1]-n[0];return s>Math.PI*2-.1&&(n[1]-=s/r.data.length),n}return[Td(r.startAngle,0),Td(r.endAngle,2*Math.PI)]}return[0,Math.min(e.height,e.width)/2]}const JXe=.2,eQe=.1;function Mne({drawingArea:e,formattedSeries:t,axis:r,seriesConfig:n,axisDirection:s}){if(r===void 0)return{axis:{},axisIds:[]};const i=XXe(s,n,t,r[0].id),o={};return r.forEach((c,d)=>{const u=c,l=QXe(e,s,u),[f,p]=ZXe(u,s,n,d,t),g=!u.ignoreTooltip&&i.has(u.id),x=u.data??[];if(Nc(u)){const P=u.categoryGapRatio??JXe,M=u.barGapRatio??eQe;if(o[u.id]=ue({offset:0,categoryGapRatio:P,barGapRatio:M,triggerTooltip:g},u,{data:x,scale:SN(u.data,l).paddingInner(P).paddingOuter(P/2),tickNumber:u.data.length,colorScale:u.colorMap&&(u.colorMap.type==="ordinal"?Ep(ue({values:u.data},u.colorMap)):ep(u.colorMap))}),AR(u.data)){const O=kR(u.data,l,u.tickNumber);o[u.id].valueFormatter=u.valueFormatter??O}}if(du(u)&&(o[u.id]=ue({offset:0,triggerTooltip:g},u,{data:x,scale:qre(u.data,l),tickNumber:u.data.length,colorScale:u.colorMap&&(u.colorMap.type==="ordinal"?Ep(ue({values:u.data},u.colorMap)):ep(u.colorMap))}),AR(u.data))){const P=kR(u.data,l,u.tickNumber);o[u.id].valueFormatter=u.valueFormatter??P}if(!PZe(u))return;const S=u.scaleType??"linear",m=u.domainLimit??"nice",y=[u.min??f,u.max??p];if(typeof m=="function"){const{min:P,max:M}=m(f,p);y[0]=P,y[1]=M}const w=Vre(u,y,X4(Math.abs(l[1]-l[0]))),C=Wre(w,l),E=CN(S,y,l),N=m==="nice"?E.nice(w):E,[k,A]=N.domain(),T=[u.min??k,u.max??A];o[u.id]=ue({offset:0,triggerTooltip:g},u,{data:x,scaleType:S,scale:N.domain(T),tickNumber:C,colorScale:u.colorMap&&ep(u.colorMap)})}),{axis:o,axisIds:r.map(({id:c})=>c)}}const One=e=>e.polarAxis,Ine=Ge([One],e=>e?.rotation),tQe=Ge([One],e=>e?.radius),ih=Ge([Ine,$a,ks,ro],(e,t,r,n)=>Mne({drawingArea:t,formattedSeries:r,axis:e,seriesConfig:n,axisDirection:"rotation"}));Ge([tQe,$a,ks,ro],(e,t,r,n)=>Mne({drawingArea:t,formattedSeries:r,axis:e,seriesConfig:n,axisDirection:"radius"}));const rQe=Ge([$a],e=>({cx:e.left+e.width/2,cy:e.top+e.height/2})),nQe=e=>(t,r)=>Math.atan2(t-e.cx,e.cy-r);function TN(e){return(e%360+360)%360}const pP=2*Math.PI;function sQe(e){return(e%pP+pP)%pP}function dV(e,t){const{scale:r,data:n,reverse:s}=e;if(!ta(r))throw new Error("MUI X Charts: getAxisValue is not implemented for polare continuous axes.");if(!n)return-1;const i=sQe(t-Math.min(...r.range())),o=r.bandwidth()===0?Math.floor((i+r.step()/2)/r.step())%n.length:Math.floor(i/r.step());return o<0||o>=n.length?-1:s?n.length-1-o:o}function Bc(){const e=Vr(),{axis:t,axisIds:r}=wt(e,ha);return{xAxis:t,xAxisIds:r}}function $c(){const e=Vr(),{axis:t,axisIds:r}=wt(e,ma);return{yAxis:t,yAxisIds:r}}function aQe(e){const t=Vr(),{axis:r,axisIds:n}=wt(t,ha),s=n[0];return r[s]}function iQe(e){const t=Vr(),{axis:r,axisIds:n}=wt(t,ma),s=n[0];return r[s]}function Lne(){const e=Vr(),{axis:t,axisIds:r}=wt(e,ih);return{rotationAxis:t,rotationAxisIds:r}}function oQe(e){const t=Vr(),{axis:r,axisIds:n}=wt(t,ih),s=n[0];return r[s]}function Bne(e){if(ta(e))return r=>(e(r)??0)+e.bandwidth()/2;const t=e.domain();return t[0]===t[1]?r=>r===t[0]?e(r):NaN:r=>e(r)}function c3(){const e=Vr(),{axis:t,axisIds:r}=wt(e,HXe)??{axis:{},axisIds:[]};return{zAxis:t,zAxisIds:r}}function d3(){const e=Hc();if(!e)throw new Error(["MUI X Charts: Could not find the svg ref context.","It looks like you rendered your component outside of a ChartContainer parent component."].join(`
`));return e.svgRef}function PN(){const e=Vr();return wt(e,ks)}function lQe(e){const t=Ge([ks],(r,n)=>{if(!n||Array.isArray(n)&&n.length===0)return r[e]?.seriesOrder?.map(i=>r[e]?.series[i])??[];if(!Array.isArray(n))return r[e]?.series?.[n];const s=[];for(const i of n){const o=r[e]?.series?.[i];o&&s.push(o)}return s});return r=>{const n=Vr();return wt(n,t,r)}}function cQe(e){const t=Ge([ks],r=>r[e]);return()=>{const r=Vr();return wt(r,t)}}lQe("bar");const dQe=cQe("bar");function uQe(){return dQe()}function fQe(){return!1}function $ne(e,t){return!e||!t?fQe:function(n){return n?e.highlight==="series"?n.seriesId===t.seriesId:e.highlight==="item"?n.dataIndex===t.dataIndex&&n.seriesId===t.seriesId:!1:!1}}function hQe(){return!1}function Fne(e,t){return!e||!t?hQe:function(n){return n?e.fade==="series"?n.seriesId===t.seriesId&&n.dataIndex!==t.dataIndex:e.fade==="global"?n.seriesId!==t.seriesId||n.dataIndex!==t.dataIndex:!1:!1}}function u3(e,t,r){return e?.highlight==="series"&&t?.seriesId===r}function mQe(e,t,r){return u3(e,t,r)?!1:e?.fade==="global"&&t!=null||e?.fade==="series"&&t?.seriesId===r}function Hne(e,t,r){return e?.highlight==="item"&&t?.seriesId===r?t.dataIndex:null}function pQe(e,t,r){return u3(e,t,r)||Hne(e,t,r)===t?.dataIndex?null:(e?.fade==="series"||e?.fade==="global")&&t?.seriesId===r?t.dataIndex:null}const gQe=e=>e.highlight,xQe=e=>e.series,vQe=Ge([xQe],e=>{const t=new Map;return Object.keys(e.processedSeries).forEach(r=>{const n=e.processedSeries[r];n?.seriesOrder?.forEach(s=>{const i=n?.series[s];t.set(s,i?.highlightScope)})}),t}),Fc=hs(gQe,xne,function(t,r){return t.lastUpdate==="pointer"?t.item:r}),fu=Ge([vQe,Fc],function(t,r){if(!r)return null;const n=t.get(r.seriesId);return n===void 0?null:n});Ge([fu,Fc],$ne);Ge([fu,Fc],Fne);const yQe=Ge([fu,Fc],function(t,r,n){return $ne(t,r)(n)});Ge([fu,Fc],u3);Ge([fu,Fc],mQe);Ge([fu,Fc],pQe);Ge([fu,Fc],Hne);const bQe=Ge([fu,Fc],function(t,r,n){return Fne(t,r)(n)});function zne(e){const t=Vr(),r=wt(t,yQe,e),n=wt(t,bQe,e);return{isHighlighted:r,isFaded:!r&&n}}function wQe(e,t){return Object.keys(e).flatMap(r=>{const n=t[r].legendGetter;return n===void 0?[]:n(e[r])})}function SQe(){const e=PN(),t=Vr(),r=wt(t,ro);return{items:wQe(e,r)}}function CQe(){const e=o3();return b.useCallback(t=>`${e}-gradient-${t}`,[e])}function jQe(){const e=o3();return b.useCallback(t=>`${e}-gradient-${t}-object-bound`,[e])}var gP,uV;function EQe(){if(uV)return gP;uV=1;var e=4,t=.001,r=1e-7,n=10,s=11,i=1/(s-1),o=typeof Float32Array=="function";function c(S,m){return 1-3*m+3*S}function d(S,m){return 3*m-6*S}function u(S){return 3*S}function l(S,m,y){return((c(m,y)*S+d(m,y))*S+u(m))*S}function f(S,m,y){return 3*c(m,y)*S*S+2*d(m,y)*S+u(m)}function p(S,m,y,w,C){var E,N,k=0;do N=m+(y-m)/2,E=l(N,w,C)-S,E>0?y=N:m=N;while(Math.abs(E)>r&&++k<n);return N}function g(S,m,y,w){for(var C=0;C<e;++C){var E=f(m,y,w);if(E===0)return m;var N=l(m,y,w)-S;m-=N/E}return m}function x(S){return S}return gP=function(m,y,w,C){if(!(0<=m&&m<=1&&0<=w&&w<=1))throw new Error("bezier x values must be in [0, 1] range");if(m===y&&w===C)return x;for(var E=o?new Float32Array(s):new Array(s),N=0;N<s;++N)E[N]=l(N*i,m,w);function k(A){for(var T=0,P=1,M=s-1;P!==M&&E[P]<=A;++P)T+=i;--P;var O=(A-E[P])/(E[P+1]-E[P]),R=T+O*i,L=f(R,m,w);return L>=t?g(A,R,m,w):L===0?R:p(A,T,T+i,m,w)}return function(T){return T===0?0:T===1?1:l(k(T),y,C)}},gP}var NQe=EQe();const _Qe=xi(NQe),AQe=300,kQe=_Qe(.66,0,.34,1);var _p=0,lv=0,Xx=0,Une=1e3,cj,cv,dj=0,Bf=0,DN=0,a0=typeof performance=="object"&&performance.now?performance:Date,Vne=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function f3(){return Bf||(Vne(TQe),Bf=a0.now()+DN)}function TQe(){Bf=0}function uj(){this._call=this._time=this._next=null}uj.prototype=Wne.prototype={constructor:uj,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?f3():+r)+(t==null?0:+t),!this._next&&cv!==this&&(cv?cv._next=this:cj=this,cv=this),this._call=e,this._time=r,DR()},stop:function(){this._call&&(this._call=null,this._time=1/0,DR())}};function Wne(e,t,r){var n=new uj;return n.restart(e,t,r),n}function PQe(){f3(),++_p;for(var e=cj,t;e;)(t=Bf-e._time)>=0&&e._call.call(void 0,t),e=e._next;--_p}function fV(){Bf=(dj=a0.now())+DN,_p=lv=0;try{PQe()}finally{_p=0,RQe(),Bf=0}}function DQe(){var e=a0.now(),t=e-dj;t>Une&&(DN-=t,dj=e)}function RQe(){for(var e,t=cj,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:cj=r);cv=e,DR(n)}function DR(e){if(!_p){lv&&(lv=clearTimeout(lv));var t=e-Bf;t>24?(e<1/0&&(lv=setTimeout(fV,e-a0.now()-DN)),Xx&&(Xx=clearInterval(Xx))):(Xx||(dj=a0.now(),Xx=setInterval(DQe,Une)),_p=1,Vne(fV))}}function MQe(e,t,r){var n=new uj;return t=t==null?0:+t,n.restart(s=>{n.stop(),e(s+t)},t,r),n}class OQe{elapsed=0;timer=null;constructor(t,r,n){this.duration=t,this.easingFn=r,this.onTickCallback=n,this.resume()}get running(){return this.timer!==null}timerCallback(t){this.elapsed=Math.min(t,this.duration);const r=this.duration===0?1:this.elapsed/this.duration,n=this.easingFn(r);this.onTickCallback(n),this.elapsed>=this.duration&&this.stop()}resume(){if(this.running||this.elapsed>=this.duration)return this;const t=f3()-this.elapsed;return this.timer=Wne(r=>this.timerCallback(r),0,t),this}stop(){return this.running?(this.timer&&(this.timer.stop(),this.timer=null),this):this}finish(){return this.stop(),MQe(()=>this.timerCallback(this.duration)),this}}function IQe(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let s=0;s<r.length;s+=1){const i=r[s];if(!Object.prototype.hasOwnProperty.call(t,i)||!Object.is(e[i],t[i]))return!1}return!0}function LQe(e,{createInterpolator:t,applyProps:r,skip:n,initialProps:s=e}){const i=b.useRef(s),o=b.useRef(null),c=b.useRef(null),d=b.useRef(e);is(()=>{d.current=e},[e]),is(()=>{n&&(o.current?.finish(),o.current=null,c.current=null,i.current=e)},[e,n]);const u=b.useCallback(f=>{const p=i.current,g=t(p,e);o.current=new OQe(AQe,kQe,x=>{const S=g(x);i.current=S,r(f,S)})},[r,t,e]);return[b.useCallback(f=>{if(f===null){o.current?.stop();return}const p=c.current;if(p===f){if(IQe(d.current,e)){o.current?.resume();return}o.current?.stop()}p&&o.current?.stop(),c.current=f,(o.current||!n)&&u(f)},[u,e,n]),i.current]}function h3(e,{createInterpolator:t,transformProps:r,applyProps:n,skip:s,initialProps:i=e,ref:o}){const c=r??(f=>f),[d,u]=LQe(e,{initialProps:i,createInterpolator:t,applyProps:(f,p)=>n(f,c(p)),skip:s}),l=r(s?e:u);return ue({},l,{ref:Gd(d,o)})}function BQe(e,t){const r=es(e.x,t.x),n=es(e.y,t.y),s=es(e.width,t.width),i=es(e.height,t.height);return o=>({x:r(o),y:n(o),width:s(o),height:i(o)})}function $Qe(e){const t={x:e.layout==="vertical"?e.x:e.xOrigin,y:e.layout==="vertical"?e.yOrigin:e.y,width:e.layout==="vertical"?e.width:0,height:e.layout==="vertical"?0:e.height};return h3({x:e.x,y:e.y,width:e.width,height:e.height},{createInterpolator:BQe,applyProps(r,n){r.setAttribute("x",n.x.toString()),r.setAttribute("y",n.y.toString()),r.setAttribute("width",n.width.toString()),r.setAttribute("height",n.height.toString())},transformProps:r=>r,initialProps:t,skip:e.skipAnimation,ref:e.ref})}function FQe(e,t){const r=es(e.x,t.x),n=es(e.y,t.y),s=es(e.width,t.width),i=es(e.height,t.height);return o=>({x:r(o),y:n(o),width:s(o),height:i(o)})}function HQe(e){const{initialX:t,currentX:r,initialY:n,currentY:s}=e.placement==="outside"?UQe(e):zQe(e),i={x:t,y:n,width:e.width,height:e.height},o={x:r,y:s,width:e.width,height:e.height};return h3(o,{createInterpolator:FQe,transformProps:c=>c,applyProps(c,d){c.setAttribute("x",d.x.toString()),c.setAttribute("y",d.y.toString()),c.setAttribute("width",d.width.toString()),c.setAttribute("height",d.height.toString())},initialProps:i,skip:e.skipAnimation,ref:e.ref})}const wm=4;function zQe(e){return{initialX:e.layout==="vertical"?e.x+e.width/2:e.xOrigin,initialY:e.layout==="vertical"?e.yOrigin:e.y+e.height/2,currentX:e.x+e.width/2,currentY:e.y+e.height/2}}function UQe(e){let t=0,r=0,n=0,s=0;return e.layout==="vertical"?(e.y<e.yOrigin?(t=e.yOrigin-wm,r=e.y-wm):(t=e.yOrigin+wm,r=e.y+e.height+wm),{initialX:e.x+e.width/2,currentX:e.x+e.width/2,initialY:t,currentY:r}):(e.x<e.xOrigin?(n=e.xOrigin,s=e.x-wm):(n=e.xOrigin,s=e.x+e.width+wm),{initialX:n,currentX:s,initialY:e.y+e.height/2,currentY:e.y+e.height/2})}function VQe(){return Hc().chartRootRef}const WQe={"image/png":"PNG","image/jpeg":"JPEG","image/webp":"WebP"},qQe=e=>({components:{MuiChartsLocalizationProvider:{defaultProps:{localeText:ue({},e)}}}}),qne={loading:"Loading data",noData:"No data to display",zoomIn:"Zoom in",zoomOut:"Zoom out",toolbarExport:"Export",toolbarExportPrint:"Print",toolbarExportImage:e=>`Export as ${WQe[e]??e}`,chartTypeBar:"Bar",chartTypeColumn:"Column",chartTypeLine:"Line",chartTypeArea:"Area",chartTypePie:"Pie",chartPaletteLabel:"Color palette",chartPaletteNameRainbowSurge:"Rainbow Surge",chartPaletteNameBlueberryTwilight:"Blueberry Twilight",chartPaletteNameMangoFusion:"Mango Fusion",chartPaletteNameCheerfulFiesta:"Cheerful Fiesta",chartPaletteNameStrawberrySky:"Strawberry Sky",chartPaletteNameBlue:"Blue",chartPaletteNameGreen:"Green",chartPaletteNamePurple:"Purple",chartPaletteNameRed:"Red",chartPaletteNameOrange:"Orange",chartPaletteNameYellow:"Yellow",chartPaletteNameCyan:"Cyan",chartPaletteNamePink:"Pink",chartConfigurationSectionChart:"Chart",chartConfigurationSectionColumns:"Columns",chartConfigurationSectionBars:"Bars",chartConfigurationSectionAxes:"Axes",chartConfigurationGrid:"Grid",chartConfigurationBorderRadius:"Border radius",chartConfigurationCategoryGapRatio:"Category gap ratio",chartConfigurationBarGapRatio:"Series gap ratio",chartConfigurationStacked:"Stacked",chartConfigurationShowToolbar:"Show toolbar",chartConfigurationSkipAnimation:"Skip animation",chartConfigurationInnerRadius:"Inner radius",chartConfigurationOuterRadius:"Outer radius",chartConfigurationColors:"Colors",chartConfigurationHideLegend:"Hide legend",chartConfigurationShowMark:"Show mark",chartConfigurationHeight:"Height",chartConfigurationWidth:"Width",chartConfigurationSeriesGap:"Series gap",chartConfigurationTickPlacement:"Tick placement",chartConfigurationTickLabelPlacement:"Tick label placement",chartConfigurationCategoriesAxisLabel:"Categories axis label",chartConfigurationSeriesAxisLabel:"Series axis label",chartConfigurationXAxisPosition:"X-axis position",chartConfigurationYAxisPosition:"Y-axis position",chartConfigurationSeriesAxisReverse:"Reverse series axis",chartConfigurationTooltipPlacement:"Placement",chartConfigurationTooltipTrigger:"Trigger",chartConfigurationLegendPosition:"Position",chartConfigurationLegendDirection:"Direction",chartConfigurationBarLabels:"Bar labels",chartConfigurationColumnLabels:"Column labels",chartConfigurationInterpolation:"Interpolation",chartConfigurationSectionTooltip:"Tooltip",chartConfigurationSectionLegend:"Legend",chartConfigurationSectionLines:"Lines",chartConfigurationSectionAreas:"Areas",chartConfigurationSectionArcs:"Arcs",chartConfigurationPaddingAngle:"Padding angle",chartConfigurationCornerRadius:"Corner radius",chartConfigurationArcLabels:"Arc labels",chartConfigurationStartAngle:"Start angle",chartConfigurationEndAngle:"End angle",chartConfigurationPieTooltipTrigger:"Trigger",chartConfigurationPieLegendPosition:"Position",chartConfigurationPieLegendDirection:"Direction",chartConfigurationOptionNone:"None",chartConfigurationOptionValue:"Value",chartConfigurationOptionAuto:"Auto",chartConfigurationOptionTop:"Top",chartConfigurationOptionTopLeft:"Top Left",chartConfigurationOptionTopRight:"Top Right",chartConfigurationOptionBottom:"Bottom",chartConfigurationOptionBottomLeft:"Bottom Left",chartConfigurationOptionBottomRight:"Bottom Right",chartConfigurationOptionLeft:"Left",chartConfigurationOptionRight:"Right",chartConfigurationOptionAxis:"Axis",chartConfigurationOptionItem:"Item",chartConfigurationOptionHorizontal:"Horizontal",chartConfigurationOptionVertical:"Vertical",chartConfigurationOptionBoth:"Both",chartConfigurationOptionStart:"Start",chartConfigurationOptionMiddle:"Middle",chartConfigurationOptionEnd:"End",chartConfigurationOptionExtremities:"Extremities",chartConfigurationOptionTick:"Tick",chartConfigurationOptionMonotoneX:"Monotone X",chartConfigurationOptionMonotoneY:"Monotone Y",chartConfigurationOptionCatmullRom:"Catmull-Rom",chartConfigurationOptionLinear:"Linear",chartConfigurationOptionNatural:"Natural",chartConfigurationOptionStep:"Step",chartConfigurationOptionStepBefore:"Step Before",chartConfigurationOptionStepAfter:"Step After",chartConfigurationOptionBumpX:"Bump X",chartConfigurationOptionBumpY:"Bump Y"},GQe=qne;qQe(qne);const YQe=["localeText"],RR=b.createContext(null);function KQe(e){const{localeText:t}=e,r=vr(e,YQe),{localeText:n}=b.useContext(RR)??{localeText:void 0},s=yi({props:r,name:"MuiChartsLocalizationProvider"}),{children:i,localeText:o}=s,c=b.useMemo(()=>ue({},GQe,o,n,t),[o,n,t]),d=b.useMemo(()=>({localeText:c}),[c]);return a.jsx(RR.Provider,{value:d,children:i})}const Gne=()=>{const e=b.useContext(RR);if(e===null)throw new Error(["MUI X Charts: Can not find the charts localization context.","It looks like you forgot to wrap your component in ChartsLocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-charts` package"].join(`
`));return e},xP=(e,t)=>{const r=`${e}-axis`,n=`${e}Axis`;return t===(e==="x"?$4:F4)?`The first \`${n}\``:`The ${r} with id "${t}"`};function ZQe(e,t,r,n,s,i,o){const c=s[n],d=o[i],u=e?c:d,l=e?d:c,f=e?n:i,p=e?i:n,g=e?"x":"y",x=e?"y":"x";if(!Nc(u))throw new Error(`MUI X Charts: ${xP(g,f)} should be of type "band" to display the bar series of id "${t}".`);if(u.data===void 0)throw new Error(`MUI X Charts: ${xP(g,f)} should have data property.`);if(Nc(l)||du(l))throw new Error(`MUI X Charts: ${xP(x,p)} should be a continuous type to display the bar series of id "${t}".`)}function XQe(e,t,r){const n=uQe()??{series:{},stackingGroups:[]},s=Bc().xAxisIds[0],i=$c().yAxisIds[0],o=o3(),{series:c,stackingGroups:d}=n,u={};return{completedData:d.flatMap(({ids:f},p)=>{const g=e.left,x=e.left+e.width,S=e.top,m=e.top+e.height;return f.map(y=>{const w=c[y].xAxisId??s,C=c[y].yAxisId??i,E=t[w],N=r[C],k=c[y].layout==="vertical",A=(k?N.reverse:E.reverse)??!1;ZQe(k,y,c[y],w,t,C,r);const T=k?E:N,P=E.scale,M=N.scale,O=Rne(c[y],t[w],r[C]),R=[];for(let L=0;L<T.data.length;L+=1){const B=Yne({verticalLayout:k,xAxisConfig:E,yAxisConfig:N,series:c[y],dataIndex:L,numberOfGroups:d.length,groupIndex:p});if(B==null)continue;const F=c[y].stack,$=ue({seriesId:y,dataIndex:L,layout:c[y].layout,xOrigin:Math.round(P(0)??0),yOrigin:Math.round(M(0)??0)},B,{color:O(L),value:c[y].data[L],maskId:`${o}_${F||y}_${p}_${L}`});if($.x>x||$.x+$.width<g||$.y>m||$.y+$.height<S)continue;u[$.maskId]||(u[$.maskId]={id:$.maskId,width:0,height:0,hasNegative:!1,hasPositive:!1,layout:$.layout,xOrigin:P(0),yOrigin:M(0),x:0,y:0});const z=u[$.maskId];z.width=$.layout==="vertical"?$.width:z.width+$.width,z.height=$.layout==="vertical"?z.height+$.height:$.height,z.x=Math.min(z.x===0?1/0:z.x,$.x),z.y=Math.min(z.y===0?1/0:z.y,$.y);const W=$.value??0;z.hasNegative=z.hasNegative||(A?W>0:W<0),z.hasPositive=z.hasPositive||(A?W<0:W>0),R.push($)}return{seriesId:y,barLabel:c[y].barLabel,barLabelPlacement:c[y].barLabelPlacement,data:R}})}),masksData:Object.values(u)}}function QQe({bandWidth:e,numberOfGroups:t,gapRatio:r}){if(r===0)return{barWidth:e/t,offset:0};const n=e/(t+(t-1)*r),s=r*n;return{barWidth:n,offset:s}}function JQe(e,t,r){const n=e&&t>0,s=!e&&t<0,i=n||s;return r?!i:i}function Yne(e){const{verticalLayout:t,xAxisConfig:r,yAxisConfig:n,series:s,dataIndex:i,numberOfGroups:o,groupIndex:c}=e,d=t?r:n,u=(t?n.reverse:r.reverse)??!1,{barWidth:l,offset:f}=QQe({bandWidth:d.scale.bandwidth(),numberOfGroups:o,gapRatio:d.barGapRatio}),p=c*(l+f),g=r.scale,x=n.scale,S=d.data[i],m=s.data[i];if(m==null)return null;const w=s.stackedData[i].map(A=>t?x(A):g(A)),C=Math.round(Math.min(...w)),E=Math.round(Math.max(...w)),N=m===0?0:Math.max(s.minBarSize,E-C),k=JQe(t,m,u)?E-N:C;return{x:t?g(S)+p:k,y:t?k:x(S)+p,height:t?N:l,width:t?l:N}}const eJe=e=>{const{series:t,identifier:r,axesConfig:n,placement:s}=e;if(!r||r.dataIndex===void 0)return null;const i=t.bar?.series[r.seriesId];if(t.bar==null||i==null||n.x===void 0||n.y===void 0)return null;const o=Yne({verticalLayout:i.layout==="vertical",xAxisConfig:n.x,yAxisConfig:n.y,series:i,dataIndex:r.dataIndex,numberOfGroups:t.bar.stackingGroups.length,groupIndex:t.bar.stackingGroups.findIndex(f=>f.ids.includes(i.id))});if(o==null)return null;const{x:c,y:d,width:u,height:l}=o;switch(s){case"right":return{x:c+u,y:d+l/2};case"bottom":return{x:c+u/2,y:d+l};case"left":return{x:c,y:d+l/2};case"top":default:return{x:c+u/2,y:d}}},tJe=(e,t,r)=>ue({},e,{id:e.id??`auto-generated-id-${t}`,color:e.color??r[t%r.length]}),rJe={seriesProcessor:WXe,colorProcessor:Rne,legendGetter:qXe,tooltipGetter:GXe,tooltipItemPositionGetter:eJe,axisTooltipGetter:YXe,xExtremumGetter:zXe,yExtremumGetter:UXe,getSeriesWithDefaultValues:tJe},nJe=e=>{const{series:t,axis:r,isDefaultAxis:n,getFilters:s}=e;let i=1/0,o=-1/0;for(const c in t){if(!Object.hasOwn(t,c))continue;const d=t[c].xAxisId;if(!(d===r.id||d===void 0&&n))continue;const u=s?.({currentAxisId:r.id,isDefaultAxis:n,seriesXAxisId:t[c].xAxisId,seriesYAxisId:t[c].yAxisId}),l=t[c].data??[];for(let f=0;f<l.length;f+=1){const p=l[f];u&&!u(p,f)||p.x!==null&&(p.x<i&&(i=p.x),p.x>o&&(o=p.x))}}return[i,o]},sJe=e=>{const{series:t,axis:r,isDefaultAxis:n,getFilters:s}=e;let i=1/0,o=-1/0;for(const c in t){if(!Object.hasOwn(t,c))continue;const d=t[c].yAxisId;if(!(d===r.id||d===void 0&&n))continue;const u=s?.({currentAxisId:r.id,isDefaultAxis:n,seriesXAxisId:t[c].xAxisId,seriesYAxisId:t[c].yAxisId}),l=t[c].data??[];for(let f=0;f<l.length;f+=1){const p=l[f];u&&!u(p,f)||p.y!==null&&(p.y<i&&(i=p.y),p.y>o&&(o=p.y))}}return[i,o]},aJe=({series:e,seriesOrder:t},r)=>({series:Object.fromEntries(Object.entries(e).map(([s,i])=>{const o=i?.datasetKeys,c=["x","y"].filter(u=>typeof o?.[u]!="string");if(i?.datasetKeys&&c.length>0)throw new Error([`MUI X Charts: scatter series with id='${s}' has incomplete datasetKeys.`,`Properties ${c.map(u=>`"${u}"`).join(", ")} are missing.`].join(`
`));const d=o?r?.map(u=>({x:u[o.x]??null,y:u[o.y]??null,z:o.z&&u[o.z],id:o.id&&u[o.id]}))??[]:i.data??[];return[s,ue({labelMarkType:"circle",markerSize:4},i,{preview:ue({markerSize:1},i?.preview),data:d,valueFormatter:i.valueFormatter??(u=>u&&`(${u.x}, ${u.y})`)})]})),seriesOrder:t}),iJe=(e,t,r,n)=>{const s=n?.colorScale,i=r?.colorScale,o=t?.colorScale,c=i3(e);return s?d=>{if(d===void 0)return e.color;if(n?.data?.[d]!==void 0){const f=s(n?.data?.[d]);if(f!==null)return f}const u=e.data[d],l=u===null?c({value:u,dataIndex:d}):s(u.z);return l===null?c({value:u,dataIndex:d}):l}:i?d=>{if(d===void 0)return e.color;const u=e.data[d],l=u===null?c({value:u,dataIndex:d}):i(u.y);return l===null?c({value:u,dataIndex:d}):l}:o?d=>{if(d===void 0)return e.color;const u=e.data[d],l=u===null?c({value:u,dataIndex:d}):o(u.x);return l===null?c({value:u,dataIndex:d}):l}:d=>{if(d===void 0)return e.color;const u=e.data[d];return c({value:u,dataIndex:d})}},oJe=e=>{const{seriesOrder:t,series:r}=e;return t.reduce((n,s)=>{const i=bo(r[s].label,"legend");return i===void 0||n.push({markType:r[s].labelMarkType,id:s,seriesId:s,color:r[s].color,label:i}),n},[])},lJe=e=>{const{series:t,getColor:r,identifier:n}=e;if(!n||n.dataIndex===void 0)return null;const s=bo(t.label,"tooltip"),i=t.data[n.dataIndex],o=t.valueFormatter(i,{dataIndex:n.dataIndex});return{identifier:n,color:r(n.dataIndex),label:s,value:i,formattedValue:o,markType:t.labelMarkType}},cJe=(e,t,r)=>ue({},e,{id:e.id??`auto-generated-id-${t}`,color:e.color??r[t%r.length]}),dJe=e=>{const{series:t,identifier:r,axesConfig:n}=e;if(!r||r.dataIndex===void 0)return null;const s=t.scatter?.series[r.seriesId];if(s==null||n.x===void 0||n.y===void 0)return null;const i=s.data?.[r.dataIndex].x,o=s.data?.[r.dataIndex].y;return i==null||o==null?null:{x:n.x.scale(i),y:n.y.scale(o)}},uJe={seriesProcessor:aJe,colorProcessor:iJe,legendGetter:oJe,tooltipGetter:lJe,tooltipItemPositionGetter:dJe,xExtremumGetter:nJe,yExtremumGetter:sJe,getSeriesWithDefaultValues:cJe},fJe=e=>{const{axis:t}=e;return lj(t.data??[])};function hJe(e,t,r,n){return r.reduce((s,i,o)=>{if(t[o]===null)return s;const[c,d]=e(i);return n&&(!n({y:c,x:null},o)||!n({y:d,x:null},o))?s:[Math.min(c,d,s[0]),Math.max(c,d,s[1])]},[1/0,-1/0])}const mJe=e=>{const{series:t,axis:r,isDefaultAxis:n,getFilters:s}=e;return Object.keys(t).filter(i=>{const o=t[i].yAxisId;return o===r.id||n&&o===void 0}).reduce((i,o)=>{const{area:c,stackedData:d,data:u}=t[o],l=c!==void 0,f=s?.({currentAxisId:r.id,isDefaultAxis:n,seriesXAxisId:t[o].xAxisId,seriesYAxisId:t[o].yAxisId}),p=l&&r.scaleType!=="log"&&typeof t[o].baseline!="string"?m=>m:m=>[m[1],m[1]],g=hJe(p,u,d,f),[x,S]=g;return[Math.min(x,i[0]),Math.max(S,i[1])]},[1/0,-1/0])};function pJe(e,t){const r={};return Object.keys(e).forEach(n=>{r[n]=ue({},e[n],{valueFormatter:e[n].valueFormatter??t})}),r}const gJe=(e,t)=>{const{seriesOrder:r,series:n}=e,s=Dne(ue({},e,{defaultStrategy:{stackOffset:"none"}})),i=t??[];r.forEach(c=>{const d=n[c].data;d!==void 0&&d.forEach((u,l)=>{i.length<=l?i.push({[c]:u}):i[l][c]=u})});const o={};return s.forEach(c=>{const{ids:d,stackingOrder:u,stackingOffset:l}=c,f=_O().keys(d.map(p=>{const g=n[p].dataKey;return n[p].data===void 0&&g!==void 0?g:p})).value((p,g)=>p[g]??0).order(u).offset(l)(i);d.forEach((p,g)=>{const x=n[p].dataKey;o[p]=ue({labelMarkType:"line"},n[p],{data:x?t.map(S=>{const m=S[x];return typeof m!="number"?null:m}):n[p].data,stackedData:f[g].map(([S,m])=>[S,m])})})}),{seriesOrder:r,stackingGroups:s,series:pJe(o,c=>c==null?"":c.toLocaleString())}},xJe=(e,t,r)=>{const n=r?.colorScale,s=t?.colorScale,i=i3(e);return n?o=>{if(o===void 0)return e.color;const c=e.data[o],d=c===null?i({value:c,dataIndex:o}):n(c);return d===null?i({value:c,dataIndex:o}):d}:s?o=>{if(o===void 0)return e.color;const c=t.data?.[o],d=c===null?i({value:c,dataIndex:o}):s(c);return d===null?i({value:c,dataIndex:o}):d}:o=>{if(o===void 0)return e.color;const c=e.data[o];return i({value:c,dataIndex:o})}},vJe=e=>{const{seriesOrder:t,series:r}=e;return t.reduce((n,s)=>{const i=bo(r[s].label,"legend");return i===void 0||n.push({markType:r[s].labelMarkType,id:s,seriesId:s,color:r[s].color,label:i}),n},[])},yJe=e=>{const{series:t,getColor:r,identifier:n}=e;if(!n||n.dataIndex===void 0)return null;const s=bo(t.label,"tooltip"),i=t.data[n.dataIndex],o=t.valueFormatter(i,{dataIndex:n.dataIndex});return{identifier:n,color:r(n.dataIndex),label:s,value:i,formattedValue:o,markType:t.labelMarkType}},bJe=e=>Object.values(e).map(t=>({direction:"x",axisId:t.xAxisId})),wJe=(e,t,r)=>ue({},e,{id:e.id??`auto-generated-id-${t}`,color:e.color??r[t%r.length]}),SJe=e=>{const{series:t,identifier:r,axesConfig:n}=e;if(!r||r.dataIndex===void 0)return null;const s=t.line?.series[r.seriesId];if(s==null||n.x===void 0||n.y===void 0)return null;const i=n.x.data?.[r.dataIndex],o=s.data[r.dataIndex];return i==null||o==null?null:{x:n.x.scale(i),y:n.y.scale(o)}},CJe={colorProcessor:xJe,seriesProcessor:gJe,legendGetter:vJe,tooltipGetter:yJe,tooltipItemPositionGetter:SJe,axisTooltipGetter:bJe,xExtremumGetter:fJe,yExtremumGetter:mJe,getSeriesWithDefaultValues:wJe},jJe=(e="none")=>{if(typeof e=="function")return e;switch(e){case"none":return null;case"desc":return(t,r)=>r-t;case"asc":return(t,r)=>t-r;default:return null}},EJe=e=>{const{seriesOrder:t,series:r}=e,n={};return t.forEach(s=>{const i=uOe().startAngle(Td(r[s].startAngle??0)).endAngle(Td(r[s].endAngle??360)).padAngle(Td(r[s].paddingAngle??0)).sortValues(jJe(r[s].sortingValues??"none"))(r[s].data.map(o=>o.value));n[s]=ue({labelMarkType:"circle",valueFormatter:o=>o.value.toLocaleString()},r[s],{data:r[s].data.map((o,c)=>ue({},o,{id:o.id??`auto-generated-pie-id-${s}-${c}`},i[c])).map((o,c)=>ue({labelMarkType:"circle"},o,{formattedValue:r[s].valueFormatter?.(ue({},o,{label:bo(o.label,"arc")}),{dataIndex:c})??o.value.toLocaleString()}))})}),{seriesOrder:t,series:n}},NJe=e=>t=>e.data[t].color,_Je=e=>{const{seriesOrder:t,series:r}=e;return t.reduce((n,s)=>(r[s].data.forEach((i,o)=>{const c=bo(i.label,"legend");c!==void 0&&n.push({markType:i.labelMarkType??r[s].labelMarkType,id:i.id??o,seriesId:s,color:i.color,label:c,itemId:i.id??o})}),n),[])},AJe=e=>{const{series:t,getColor:r,identifier:n}=e;if(!n||n.dataIndex===void 0)return null;const s=t.data[n.dataIndex];if(s==null)return null;const i=bo(s.label,"tooltip"),o=ue({},s,{label:i}),c=t.valueFormatter(o,{dataIndex:n.dataIndex});return{identifier:n,color:r(n.dataIndex),label:i,value:o,formattedValue:c,markType:s.labelMarkType??t.labelMarkType}},kJe=(e,t,r)=>ue({},e,{id:e.id??`auto-generated-id-${t}`,data:e.data.map((n,s)=>ue({},n,{color:n.color??r[s%r.length]}))});function fj(e,t){if(typeof e=="number")return e;if(e==="100%")return t;if(e.endsWith("%")){const r=Number.parseFloat(e.slice(0,e.length-1));if(!Number.isNaN(r))return r*t/100}if(e.endsWith("px")){const r=Number.parseFloat(e.slice(0,e.length-2));if(!Number.isNaN(r))return r}throw new Error(`MUI X Charts: Received an unknown value "${e}". It should be a number, or a string with a percentage value.`)}function TJe(e,t){const{height:r,width:n}=t,{cx:s,cy:i}=e,o=Math.min(n,r)/2,c=fj(s??"50%",n),d=fj(i??"50%",r);return{cx:c,cy:d,availableRadius:o}}const PJe=e=>{const{series:t,drawingArea:r,identifier:n,placement:s}=e;if(!n||n.dataIndex===void 0)return null;const i=t.pie?.series[n.seriesId];if(i==null)return null;const{cx:o,cy:c,availableRadius:d}=TJe({cx:i.cx,cy:i.cy},r),{data:u,innerRadius:l=0,outerRadius:f}=i,p=Math.max(0,fj(l??0,d)),g=Math.max(0,fj(f??d,d)),x=u[n.dataIndex];if(!x)return null;const S=[[p,x.startAngle],[p,x.endAngle],[g,x.startAngle],[g,x.endAngle]].map(([E,N])=>({x:o+E*Math.sin(N),y:c-E*Math.cos(N)})),[m,y]=lj(S.map(E=>E.x)),[w,C]=lj(S.map(E=>E.y));switch(s){case"bottom":return{x:(y+m)/2,y:C};case"left":return{x:m,y:(C+w)/2};case"right":return{x:y,y:(C+w)/2};case"top":default:return{x:(y+m)/2,y:w}}},DJe={colorProcessor:NJe,seriesProcessor:EJe,legendGetter:_Je,tooltipGetter:AJe,tooltipItemPositionGetter:PJe,getSeriesWithDefaultValues:kJe},RJe={bar:rJe,scatter:uJe,line:CJe,pie:DJe},MJe=[Cy,vy,pg,xg];function OJe(e){const{children:t,plugins:r=MJe,pluginParams:n={},seriesConfig:s=RJe}=e,{contextValue:i}=EZe(r,n,s);return a.jsx(Lre.Provider,{value:i,children:t})}const Hc=()=>{const e=b.useContext(Lre);if(e==null)throw new Error(["MUI X Charts: Could not find the Chart context.","It looks like you rendered your component outside of a ChartDataProvider.","This can also happen if you are bundling multiple versions of the library."].join(`
`));return e};function IJe(e){"hasPointerCapture"in e.currentTarget&&e.currentTarget.hasPointerCapture(e.pointerId)&&e.currentTarget.releasePointerCapture(e.pointerId)}const LJe=(e,t)=>{const{instance:r}=Hc(),n=b.useRef(!1),s=ws(()=>{n.current=!0,r.setItemInteraction(e,{interaction:"pointer"}),r.setHighlight(e)}),i=ws(()=>{n.current=!1,r.removeItemInteraction(e),r.clearHighlight()});return b.useEffect(()=>()=>{n.current&&i()},[i]),b.useMemo(()=>({onPointerEnter:s,onPointerLeave:i,onPointerDown:IJe}),[t,s,i])},BJe=["ownerState","skipAnimation","id","dataIndex","xOrigin","yOrigin"];function $Je(e){const{ownerState:t}=e,r=vr(e,BJe),n=$Qe(e);return a.jsx("rect",ue({},r,{filter:t.isHighlighted?"brightness(120%)":void 0,opacity:t.isFaded?.3:1,"data-highlighted":t.isHighlighted||void 0,"data-faded":t.isFaded||void 0},n))}function FJe(e){const t=Vr();return wt(t,vXe,e)}const HJe=["id","dataIndex","classes","color","slots","slotProps","style","onClick","skipAnimation","layout","x","xOrigin","y","yOrigin","width","height"];function zJe(e){const{id:t,dataIndex:r,classes:n,color:s,slots:i,slotProps:o,style:c,onClick:d,skipAnimation:u,layout:l,x:f,xOrigin:p,y:g,yOrigin:x,width:S,height:m}=e,y=vr(e,HJe),w=b.useMemo(()=>({type:"bar",seriesId:t,dataIndex:r}),[t,r]),C=LJe(w),{isFaded:E,isHighlighted:N}=zne(w),k=FJe(b.useMemo(()=>({seriesType:"bar",seriesId:t,dataIndex:r}),[t,r])),A={id:t,dataIndex:r,classes:n,color:s,isFaded:E,isHighlighted:N,isFocused:k},T=TKe(A),P=i?.bar??$Je,M=jc({elementType:P,externalSlotProps:o?.bar,externalForwardedProps:y,additionalProps:ue({},C,{id:t,dataIndex:r,color:s,x:f,xOrigin:p,y:g,yOrigin:x,width:S,height:m,style:c,onClick:d,cursor:d?"pointer":"unset",stroke:"none",fill:s,skipAnimation:u,layout:l,"data-focused":k||void 0}),className:T.root,ownerState:A});return a.jsx(P,ue({},M))}function UJe(e,t){const r=es(e.x,t.x),n=es(e.y,t.y),s=es(e.width,t.width),i=es(e.height,t.height),o=es(e.borderRadius,t.borderRadius);return c=>({x:r(c),y:n(c),width:s(c),height:i(c),borderRadius:o(c)})}function VJe(e){const t={x:e.layout==="vertical"?e.x:e.xOrigin,y:e.layout==="vertical"?e.yOrigin:e.y,width:e.layout==="vertical"?e.width:0,height:e.layout==="vertical"?0:e.height,borderRadius:e.borderRadius};return h3({x:e.x,y:e.y,width:e.width,height:e.height,borderRadius:e.borderRadius},{createInterpolator:UJe,transformProps:r=>({d:qJe(e.hasNegative,e.hasPositive,e.layout,r.x,r.y,r.width,r.height,e.xOrigin,e.yOrigin,r.borderRadius)}),applyProps(r,{d:n}){n&&r.setAttribute("d",n)},initialProps:t,skip:e.skipAnimation,ref:e.ref})}function WJe(e){const{maskId:t,x:r,y:n,width:s,height:i,skipAnimation:o}=e,{ref:c,d}=VJe({layout:e.layout??"vertical",hasNegative:e.hasNegative,hasPositive:e.hasPositive,xOrigin:e.xOrigin,yOrigin:e.yOrigin,x:r,y:n,width:s,height:i,borderRadius:e.borderRadius??0,skipAnimation:o});return!e.borderRadius||e.borderRadius<=0?null:a.jsx("clipPath",{id:t,children:a.jsx("path",{ref:c,d})})}function qJe(e,t,r,n,s,i,o,c,d,u){if(r==="vertical"){if(t&&e){const f=Math.min(u,i/2,o/2);return`M${n},${s+o/2} v${-(o/2-f)} a${f},${f} 0 0 1 ${f},${-f} h${i-f*2} a${f},${f} 0 0 1 ${f},${f} v${o-2*f} a${f},${f} 0 0 1 ${-f},${f} h${-(i-f*2)} a${f},${f} 0 0 1 ${-f},${-f} v${-(o/2-f)}`}const l=Math.min(u,i/2);if(t)return`M${n},${Math.max(d,s+l)} v${Math.min(0,-(d-s-l))} a${l},${l} 0 0 1 ${l},${-l} h${i-l*2} a${l},${l} 0 0 1 ${l},${l} v${Math.max(0,d-s-l)} Z`;if(e)return`M${n},${Math.min(d,s+o-l)} v${Math.max(0,o-l)} a${l},${l} 0 0 0 ${l},${l} h${i-l*2} a${l},${l} 0 0 0 ${l},${-l} v${-Math.max(0,o-l)} Z`}if(r==="horizontal"){if(t&&e){const f=Math.min(u,i/2,o/2);return`M${n+i/2},${s} h${i/2-f} a${f},${f} 0 0 1 ${f},${f} v${o-f*2} a${f},${f} 0 0 1 ${-f},${f} h${-(i-2*f)} a${f},${f} 0 0 1 ${-f},${-f} v${-(o-f*2)} a${f},${f} 0 0 1 ${f},${-f} h${i/2-f}`}const l=Math.min(u,o/2);if(t)return`M${Math.min(c,n-l)},${s} h${i} a${l},${l} 0 0 1 ${l},${l} v${o-l*2} a${l},${l} 0 0 1 ${-l},${l} h${-i} Z`;if(e)return`M${Math.max(c,n+i+l)},${s} h${-i} a${l},${l} 0 0 0 ${-l},${l} v${o-l*2} a${l},${l} 0 0 0 ${l},${l} h${i} Z`}}function GJe(e){return _s("MuiBarLabel",e)}const vP=fs("MuiBarLabel",["root","highlighted","faded","animate"]),YJe=e=>{const{classes:t,seriesId:r,isFaded:n,isHighlighted:s,skipAnimation:i}=e,o={root:["root",`series-${r}`,s&&"highlighted",n&&"faded",!i&&"animate"]};return As(o,GJe,t)},KJe=e=>{const{barLabel:t,value:r,dataIndex:n,seriesId:s,height:i,width:o}=e;return t==="value"?r?r?.toString():null:t({seriesId:s,dataIndex:n,value:r},{bar:{height:i,width:o}})},ZJe=["seriesId","dataIndex","color","isFaded","isHighlighted","classes","skipAnimation","layout","xOrigin","yOrigin","placement"],XJe=ar("text",{name:"MuiBarLabel",slot:"Root",overridesResolver:(e,t)=>[{[`&.${vP.faded}`]:t.faded},{[`&.${vP.highlighted}`]:t.highlighted},t.root]})(({theme:e})=>ue({},e?.typography?.body2,{stroke:"none",fill:(e.vars||e)?.palette?.text?.primary,transition:"opacity 0.2s ease-in, fill 0.2s ease-in",pointerEvents:"none",opacity:1,[`&.${vP.faded}`]:{opacity:.3}}));function QJe(e){const t=yi({props:e,name:"MuiBarLabel"}),r=vr(t,ZJe),n=HQe(t),s=JJe(t),i=eet(t);return a.jsx(XJe,ue({textAnchor:s,dominantBaseline:i},r,n))}function JJe({placement:e,layout:t,xOrigin:r,x:n}){return e==="outside"&&t==="horizontal"?n<r?"end":"start":"middle"}function eet({placement:e,layout:t,yOrigin:r,y:n}){return e==="outside"?t==="horizontal"?"central":n<r?"auto":"hanging":"central"}const tet=["seriesId","classes","color","dataIndex","barLabel","slots","slotProps","xOrigin","yOrigin","x","y","width","height","value","skipAnimation","layout","barLabelPlacement"],ret=["ownerState"];function net(e){const{seriesId:t,classes:r,color:n,dataIndex:s,barLabel:i,slots:o,slotProps:c,xOrigin:d,yOrigin:u,x:l,y:f,width:p,height:g,value:x,skipAnimation:S,layout:m,barLabelPlacement:y}=e,w=vr(e,tet),{isFaded:C,isHighlighted:E}=zne({seriesId:t,dataIndex:s}),N={seriesId:t,classes:r,color:n,isFaded:C,isHighlighted:E,dataIndex:s,skipAnimation:S,layout:m},k=YJe(N),A=o?.barLabel??QJe,T=jc({elementType:A,externalSlotProps:c?.barLabel,additionalProps:ue({},w,{xOrigin:d,yOrigin:u,x:l,y:f,width:p,height:g,placement:y,className:k.root}),ownerState:N}),{ownerState:P}=T,M=vr(T,ret);if(!i)return null;const O=KJe({barLabel:i,value:x,dataIndex:s,seriesId:t,height:g,width:p});return O?a.jsx(A,ue({},M,P,{children:O})):null}function set(e){return _s("MuiBar",e)}fs("MuiBar",["root","series","seriesLabels"]);const Kne=e=>As({root:["root"],series:["series"],seriesLabels:["seriesLabels"]},set,e),aet=["processedSeries","skipAnimation"];function iet(e){const{processedSeries:t,skipAnimation:r}=e,n=vr(e,aet),{seriesId:s,data:i}=t,o=Kne(),c=t.barLabel??e.barLabel;return c?a.jsx("g",{className:o.seriesLabels,"data-series":s,children:i.map(({xOrigin:d,yOrigin:u,x:l,y:f,dataIndex:p,color:g,value:x,width:S,height:m,layout:y})=>a.jsx(net,ue({seriesId:s,dataIndex:p,value:x,color:g,xOrigin:d,yOrigin:u,x:l,y:f,width:S,height:m,skipAnimation:r??!1,layout:y??"vertical"},n,{barLabel:c,barLabelPlacement:t.barLabelPlacement||"center"}),p))},s):null}function oet(e){const t=Vr(),r=wt(t,UKe);return e||r}function cet(){const e=Vr();return wt(e,ane)}const det=["skipAnimation","onItemClick","borderRadius","barLabel"],uet=ar("g",{name:"MuiBarPlot",slot:"Root"})({[`& .${kKe.root}`]:{transition:"opacity 0.2s ease-in, fill 0.2s ease-in"}});function fet(e){const{skipAnimation:t,onItemClick:r,borderRadius:n,barLabel:s}=e,i=vr(e,det),o=cet(),c=oet(o||t),{xAxis:d}=Bc(),{yAxis:u}=$c(),{completedData:l,masksData:f}=XQe(no(),d,u),p=!n||n<=0,g=Kne();return a.jsxs(uet,{className:g.root,children:[!p&&f.map(({id:x,x:S,y:m,xOrigin:y,yOrigin:w,width:C,height:E,hasPositive:N,hasNegative:k,layout:A})=>a.jsx(WJe,{maskId:x,borderRadius:n,hasNegative:k,hasPositive:N,layout:A,x:S,y:m,xOrigin:y,yOrigin:w,width:C,height:E,skipAnimation:c??!1},x)),l.map(({seriesId:x,data:S})=>a.jsx("g",{"data-series":x,className:g.series,children:S.map(({dataIndex:m,color:y,maskId:w,layout:C,x:E,xOrigin:N,y:k,yOrigin:A,width:T,height:P})=>{const M=a.jsx(zJe,ue({id:x,dataIndex:m,color:y,skipAnimation:c??!1,layout:C??"vertical",x:E,xOrigin:N,y:k,yOrigin:A,width:T,height:P},i,{onClick:r&&(O=>{r(O,{type:"bar",seriesId:x,dataIndex:m})})}),m);return p?M:a.jsx("g",{clipPath:`url(#${w})`,children:M},m)})},x)),l.map(x=>a.jsx(iet,ue({processedSeries:x,skipAnimation:c,barLabel:s},i),x.seriesId))]})}function RN(){const[e,t]=b.useState(typeof window<"u"||!1);return b.useEffect(()=>{t(!0)},[]),e}function m3(e){return typeof e=="number"&&!Number.isFinite(e)}const yP={start:0,extremities:0,end:1,middle:.5};function het(e){const{scale:t,tickNumber:r,valueFormatter:n,tickInterval:s,tickPlacement:i="extremities",tickLabelPlacement:o,isInside:c}=e;if(ta(t)){const p=t.domain(),g=o??"middle";return t.bandwidth()>0?[...(typeof s=="function"&&p.filter(s)||typeof s=="object"&&s||p).map(m=>{const y=`${m}`;return{value:m,formattedValue:n?.(m,{location:"tick",scale:t,tickNumber:r,defaultTickLabel:y})??y,offset:t(m)-(t.step()-t.bandwidth())/2+yP[i]*t.step(),labelOffset:g==="tick"?0:t.step()*(yP[g]-yP[i])}}),...i==="extremities"?[{formattedValue:void 0,offset:t.range()[1],labelOffset:0}]:[]]:(typeof s=="function"&&p.filter(s)||typeof s=="object"&&s||p).map(S=>{const m=`${S}`;return{value:S,formattedValue:n?.(S,{location:"tick",scale:t,tickNumber:r,defaultTickLabel:m})??m,offset:t(S),labelOffset:0}})}if(t.domain().some(m3))return[];const u=o,l=typeof s=="object"?s:met(t,r),f=[];for(let p=0;p<l.length;p+=1){const g=l[p],x=t(g);if(c(x)){const S=t.tickFormat(r)(g);f.push({value:g,formattedValue:n?.(g,{location:"tick",scale:t,tickNumber:r,defaultTickLabel:S})??S,offset:x,labelOffset:u==="middle"?t(l[p-1]??0)-(x+t(l[p-1]??0))/2:0})}}return f}function met(e,t){const r=e.domain();return r[0]===r[1]?[r[0]]:e.ticks(t)}function MN(e){const{scale:t,tickNumber:r,valueFormatter:n,tickInterval:s,tickPlacement:i="extremities",tickLabelPlacement:o,direction:c}=e,{instance:d}=Hc(),u=c==="x"?d.isXInside:d.isYInside;return b.useMemo(()=>het({scale:t,tickNumber:r,tickPlacement:i,tickInterval:s,tickLabelPlacement:o,valueFormatter:n,isInside:u}),[t,r,i,s,o,n,u])}function pet(e=!1){const[t,r]=b.useState(!1);return is(()=>{e||r(!0)},[e]),b.useEffect(()=>{e&&r(!0)},[e]),t}const Zne=typeof window<"u"&&"Intl"in window&&"Segmenter"in Intl?new Intl.Segmenter(void 0,{granularity:"grapheme"}):null;function get(e){return e.length}function xet(e){const t=Zne.segment(e);let r=0;for(const n of t)r+=1;return r}const vet=Zne?xet:get;function yet(e){return e*(Math.PI/180)}const Xne=typeof window<"u"&&"Intl"in window&&"Segmenter"in Intl?new Intl.Segmenter(void 0,{granularity:"grapheme"}):null;function bet(e,t){return e.slice(0,t)}function wet(e,t){const r=Xne.segment(e);let n="",s=0;for(const i of r)if(n+=i.segment,s+=1,s>=t)break;return n}const Cet=Xne?wet:bet,hV="";function Qne(e,t){const{width:r,height:n,measureText:s}=t,i=yet(t.angle),o=s(e),c=Math.abs(o.width*Math.cos(i))+Math.abs(o.height*Math.sin(i)),d=Math.abs(o.width*Math.sin(i))+Math.abs(o.height*Math.cos(i));return c<=r&&d<=n}function Jne(e,t){if(t(e))return e;let r=e,n=1,s=1/2;const i=vet(e);let o=i,c=i,d=null;do{if(c=o,o=Math.floor(i*s),o===0)break;r=Cet(e,o).trim();const u=t(r+hV);n+=1,u?(d=r,s+=1/2**n):s-=1/2**n}while(Math.abs(o-c)!==1);return d?d+hV:""}function ese(){return typeof window>"u"}const Pd=new Map,tse=2e3,jet=new Set(["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"]);function p3(e,t){return jet.has(e)&&t===+t?`${t}px`:t}const Eet=/([A-Z])/g;function g3(e){return String(e).replace(Eet,t=>`-${t.toLowerCase()}`)}function rse(e){let t="";for(const r in e)if(Object.hasOwn(e,r)){const n=r,s=e[n];if(s===void 0)continue;t+=`${g3(n)}:${p3(n,s)};`}return t}const jy=(e,t={})=>{if(e==null||ese())return{width:0,height:0};const r=String(e),n=rse(t),s=`${r}-${n}`,i=Pd.get(s);if(i)return i;try{const o=nse(),c=document.createElementNS("http://www.w3.org/2000/svg","text");Object.keys(t).map(l=>(c.style[g3(l)]=p3(l,t[l]),l)),c.textContent=r,o.replaceChildren(c);const d=c.getBoundingClientRect(),u={width:d.width,height:d.height};return Pd.set(s,u),Pd.size+1>tse&&Pd.clear(),u}catch{return{width:0,height:0}}};function Net(e,t={}){if(ese())return new Map(Array.from(e).map(d=>[d,{width:0,height:0}]));const r=new Map,n=[],s=rse(t);for(const d of e){const u=`${d}-${s}`,l=Pd.get(u);l?r.set(d,l):n.push(d)}const i=nse(),o=ue({},t);Object.keys(o).map(d=>(i.style[g3(d)]=p3(d,o[d]),d));const c=[];for(const d of n){const u=document.createElementNS("http://www.w3.org/2000/svg","text");u.textContent=`${d}`,c.push(u)}i.replaceChildren(...c);for(let d=0;d<n.length;d+=1){const u=n[d],f=i.children[d].getBoundingClientRect(),p={width:f.width,height:f.height},g=`${u}-${s}`;Pd.set(g,p),r.set(u,p)}return Pd.size+1>tse&&Pd.clear(),r}let ba=null;function nse(){return ba===null&&(ba=document.createElementNS("http://www.w3.org/2000/svg","svg"),ba.setAttribute("aria-hidden","true"),ba.style.position="absolute",ba.style.top="-20000px",ba.style.left="0",ba.style.padding="0",ba.style.margin="0",ba.style.border="none",ba.style.pointerEvents="none",ba.style.visibility="hidden",ba.style.contain="strict",document.body.appendChild(ba)),ba}function _et(e,t,r,n,s){const i=new Map,o=TN(s?.angle??0);let c=1,d=1;s?.textAnchor==="start"?(c=1/0,d=1):s?.textAnchor==="end"?(c=1,d=1/0):(c=2,d=2),o>90&&o<270&&([c,d]=[d,c]),n&&([c,d]=[d,c]);for(const u of e)if(u.formattedValue){const l=Math.min((u.offset+u.labelOffset)*c,(t.left+t.width+t.right-u.offset-u.labelOffset)*d),f=p=>Qne(p,{width:l,height:r,angle:o,measureText:g=>jy(g,s)});i.set(u,Jne(u.formattedValue.toString(),f))}return i}const mV=5;function Aet(e,t,r=0){const n=Math.min(Math.abs(r)%180,Math.abs(Math.abs(r)%180-180)%180);if(n<mV)return e;if(n>90-mV)return t;const s=Td(n),i=Math.atan2(t,e);return s<i?e/Math.cos(s):t/Math.sin(s)}function ket(e,{tickLabelStyle:t,tickLabelInterval:r,tickLabelMinGap:n,reverse:s,isMounted:i,isXInside:o}){if(typeof r=="function")return new Set(e.filter((f,p)=>r(f.value,p)));let c=0;const d=s?-1:1,u=e.filter(f=>{const{offset:p,labelOffset:g,formattedValue:x}=f;if(x==="")return!1;const S=p+g;return o(S)}),l=Pet(u,t);return new Set(u.filter((f,p)=>{const{offset:g,labelOffset:x}=f,S=g+x;if(p>0&&d*S<d*(c+n))return!1;const{width:m,height:y}=i?Tet(l,f):{width:0,height:0},w=Aet(m,y,t?.angle),C=S-d*w/2;return p>0&&d*C<d*(c+n)?!1:(c=S+d*w/2,!0)}))}function Tet(e,t){if(t.formattedValue===void 0)return{width:0,height:0};let r=0,n=0;for(const s of t.formattedValue.split(`
`)){const i=e.get(s);i&&(r=Math.max(r,i.width),n+=i.height)}return{width:r,height:n}}function Pet(e,t){const r=new Set;for(const n of e)n.formattedValue&&n.formattedValue.split(`
`).forEach(s=>r.add(s));return Net(r,t)}function sse(e){return _s("MuiChartsAxis",e)}const Iw=fs("MuiChartsAxis",["root","line","tickContainer","tick","tickLabel","label","directionX","directionY","top","bottom","left","right","id"]),ase=e=>{const{classes:t,position:r,id:n}=e,s={root:["root","directionX",r,`id-${n}`],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]};return As(s,sse,t)},MR=3,Det=4,ise={disableLine:!1,disableTicks:!1,tickSize:6,tickLabelMinGap:4};function Ret({style:e,needsComputation:t,text:r}){return r.split(`
`).map(n=>ue({text:n},t?jy(n,e):{width:0,height:0}))}const Met=["x","y","style","text","ownerState"],Oet=["angle","textAnchor","dominantBaseline"];function ON(e){const{x:t,y:r,style:n,text:s}=e,i=vr(e,Met),o=n??{},{angle:c,textAnchor:d,dominantBaseline:u}=o,l=vr(o,Oet),f=RN(),p=b.useMemo(()=>Ret({style:l,needsComputation:f&&s.includes(`
`),text:s}),[l,s,f]);let g;switch(u){case"hanging":case"text-before-edge":g=0;break;case"central":g=(p.length-1)/2*-p[0].height;break;default:g=(p.length-1)*-p[0].height;break}return a.jsx("text",ue({},i,{transform:c?`rotate(${c}, ${t}, ${r})`:void 0,x:t,y:r,textAnchor:d,dominantBaseline:u,style:l,children:p.map((x,S)=>a.jsx("tspan",{x:t,dy:`${S===0?g:p[0].height}px`,dominantBaseline:u,children:x.text},S))}))}function ose(e){const t=TN(e);return t<=30||t>=330||t<=210&&t>=150?"middle":t<=180?"end":"start"}function lse(e){const t=TN(e);return t<=30||t>=330?"hanging":t<=210&&t>=150?"auto":"central"}function cse(e){switch(e){case"start":return"end";case"end":return"start";default:return e}}const Iet=["scale","tickNumber","reverse"];function dse(e){const{xAxis:t,xAxisIds:r}=Bc(),n=t[e.axisId??r[0]],{scale:s,tickNumber:i,reverse:o}=n,c=vr(n,Iet),d=yi({props:ue({},c,e),name:"MuiChartsXAxis"}),u=ue({},ise,d),{position:l,tickLabelStyle:f,slots:p,slotProps:g}=u,x=nh(),S=my(),m=ase(u),y=l==="bottom"?1:-1,w=p?.axisTick??"line",C=p?.axisTickLabel??ON,E=ose((l==="bottom"?0:180)-(f?.angle??0)),N=lse((l==="bottom"?0:180)-(f?.angle??0)),k=jc({elementType:C,externalSlotProps:g?.axisTickLabel,additionalProps:{style:ue({},x.typography.caption,{fontSize:12,lineHeight:1.25,textAnchor:S?cse(E):E,dominantBaseline:N},f)},className:m.tickLabel,ownerState:{}});return{xScale:s,defaultizedProps:u,tickNumber:i,positionSign:y,classes:m,Tick:w,TickLabel:C,axisTickLabelProps:k,reverse:o}}function Let(e){const{axisLabelHeight:t}=e,{xScale:r,defaultizedProps:n,tickNumber:s,positionSign:i,classes:o,Tick:c,TickLabel:d,axisTickLabelProps:u,reverse:l}=dse(e),f=my(),p=pet(),{disableTicks:g,tickSize:x,valueFormatter:S,slotProps:m,tickInterval:y,tickLabelInterval:w,tickPlacement:C,tickLabelPlacement:E,tickLabelMinGap:N,height:k}=n,A=no(),{instance:T}=Hc(),P=RN(),M=g?4:x,O=MN({scale:r,tickNumber:s,valueFormatter:S,tickInterval:y,tickPlacement:C,tickLabelPlacement:E,direction:"x"}),R=ket(O,{tickLabelStyle:u.style,tickLabelInterval:w,tickLabelMinGap:N,reverse:l,isMounted:p,isXInside:T.isXInside}),L=Math.max(0,k-(t>0?t+Det:0)-M-MR),B=P?_et(R,A,L,f,u.style):new Map(Array.from(R).map(F=>[F,F.formattedValue]));return a.jsx(b.Fragment,{children:O.map((F,$)=>{const{offset:z,labelOffset:W}=F,Z=W??0,V=i*(M+MR),q=T.isXInside(z),H=B.get(F),K=R.has(F);return a.jsxs("g",{transform:`translate(${z}, 0)`,className:o.tickContainer,children:[!g&&q&&a.jsx(c,ue({y2:i*M,className:o.tick},m?.axisTick)),H!==void 0&&K&&a.jsx(d,ue({x:Z,y:V},u,{text:H}))]},$)})})}const Qx={start:0,extremities:0,end:1,middle:.5,tick:0};function use(e){const{scale:t,tickInterval:r,tickLabelPlacement:n="middle",tickPlacement:s="extremities",groups:i}=e;return b.useMemo(()=>{const o=t.domain(),c=typeof r=="function"&&o.filter(r)||typeof r=="object"&&r||o;if(t.bandwidth()>0){const d=pV(c,i,s,n,t);return d[0]&&(d[0].ignoreTick=!0),[{formattedValue:void 0,offset:t.range()[0],labelOffset:0,groupIndex:i.length-1},...d,{formattedValue:void 0,offset:t.range()[1],labelOffset:0,groupIndex:i.length-1}]}return pV(c,i,s,n,t)},[t,r,i,s,n])}function pV(e,t,r,n,s){const i=[],o=new Map;let c=0;for(let d=0;d<t.length;d+=1)for(let u=0;u<e.length;u+=1){const l=e[u],f=t[d].getValue(l,u),p=i[i.length-1];if(p?.value!==f||p?.groupIndex!==d){c=1;const x=ta(s)?s(l)-(s.step()-s.bandwidth())/2+Qx[r]*s.step():s(l),S=s.step()*c*(Qx[n]-Qx[r]);i.push({value:f,formattedValue:`${f}`,offset:x,groupIndex:d,dataIndex:u,ignoreTick:!1,labelOffset:S}),o.has(u)||o.set(u,new Set);const m=o.get(u);for(const y of m.values())i[y].ignoreTick=!0;m.add(i.length-1)}else{c+=1;const x=s.step()*c*(Qx[n]-Qx[r]);p.labelOffset=x}}return i}const gV={tickSize:6},Bet=(e,t,r)=>{const n=e[t]??{},s=r??gV.tickSize,i=s*t*2+s;return ue({},gV,n,{tickSize:n.tickSize??i})};function $et(e){const{xScale:t,defaultizedProps:r,positionSign:n,classes:s,Tick:i,TickLabel:o,axisTickLabelProps:c}=dse(e);if(!ta(t))throw new Error("MUI X Charts: ChartsGroupedXAxis only supports the `band` and `point` scale types.");const{disableTicks:d,tickSize:u,valueFormatter:l,slotProps:f,tickInterval:p,tickPlacement:g,tickLabelPlacement:x}=r,S=r.groups,{instance:m}=Hc(),y=use({scale:t,tickInterval:p,tickPlacement:g,tickLabelPlacement:x,groups:S});return a.jsx(b.Fragment,{children:y.map((w,C)=>{const{offset:E,labelOffset:N}=w,k=N??0,A=m.isXInside(E),T=w.formattedValue,P=w.ignoreTick??!1,M=w.groupIndex??0,O=Bet(S,M,u),R=n*O.tickSize,L=n*(O.tickSize+MR);return a.jsxs("g",{transform:`translate(${E}, 0)`,className:s.tickContainer,"data-group-index":M,children:[!d&&!P&&A&&a.jsx(i,ue({y2:R,className:s.tick},f?.axisTick)),T!==void 0&&a.jsx(o,ue({x:k,y:L},c,{style:ue({},c.style,O.tickLabelStyle),text:T}))]},C)})})}const fse=ar("g",{name:"MuiChartsAxis",slot:"Root"})(({theme:e})=>({[`& .${Iw.tickLabel}`]:ue({},e.typography.caption,{fill:(e.vars||e).palette.text.primary}),[`& .${Iw.label}`]:{fill:(e.vars||e).palette.text.primary},[`& .${Iw.line}`]:{stroke:(e.vars||e).palette.text.primary,shapeRendering:"crispEdges",strokeWidth:1},[`& .${Iw.tick}`]:{stroke:(e.vars||e).palette.text.primary,shapeRendering:"crispEdges"}})),Fet=["axis"],Het=["scale","tickNumber","reverse"],zet=ar(fse,{name:"MuiChartsXAxis",slot:"Root"})({});function Uet(e){let{axis:t}=e,r=vr(e,Fet);const{scale:n}=t,s=vr(t,Het),i=yi({props:ue({},s,r),name:"MuiChartsXAxis"}),o=ue({},ise,i),{position:c,labelStyle:d,offset:u,slots:l,slotProps:f,sx:p,disableLine:g,label:x,height:S}=o,m=nh(),y=ase(o),{left:w,top:C,width:E,height:N}=no(),k=c==="bottom"?1:-1,A=l?.axisLine??"line",T=l?.axisLabel??ON,P=jc({elementType:T,externalSlotProps:f?.axisLabel,additionalProps:{style:ue({},m.typography.body1,{lineHeight:1,fontSize:14,textAnchor:"middle",dominantBaseline:c==="bottom"?"text-after-edge":"text-before-edge"},d)},ownerState:{}});if(c==="none")return null;const M=x?jy(x,P.style).height:0,O=n.domain(),L=ta(n)?O.length===0:O.some(m3);let B=null;L||(B="groups"in t&&Array.isArray(t.groups)?a.jsx($et,ue({},r)):a.jsx(Let,ue({},r,{axisLabelHeight:M})));const F={x:w+E/2,y:k*S};return a.jsxs(zet,{transform:`translate(0, ${c==="bottom"?C+N+u:C-u})`,className:y.root,sx:p,children:[!g&&a.jsx(A,ue({x1:w,x2:w+E,className:y.line},f?.axisLine)),B,x&&a.jsx("g",{className:y.label,children:a.jsx(T,ue({},F,P,{text:x}))})]})}function Vet(e){const{xAxis:t,xAxisIds:r}=Bc(),n=t[e.axisId??r[0]];return n?a.jsx(Uet,ue({},e,{axis:n})):(`${e.axisId}`,null)}function Wet(e,t,r,n,s){const i=new Map,o=TN(s?.angle??0);let c=1,d=1;s?.textAnchor==="start"?(c=1/0,d=1):s?.textAnchor==="end"?(c=1,d=1/0):(c=2,d=2),o>180&&([c,d]=[d,c]),n&&([c,d]=[d,c]);for(const u of e)if(u.formattedValue){const l=Math.min((u.offset+u.labelOffset)*c,(t.top+t.height+t.bottom-u.offset-u.labelOffset)*d),f=p=>Qne(p,{width:r,height:l,angle:o,measureText:g=>jy(g,s)});i.set(u,Jne(u.formattedValue.toString(),f))}return i}const hse=e=>{const{classes:t,position:r,id:n}=e,s={root:["root","directionY",r,`id-${n}`],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]};return As(s,sse,t)},OR=2,qet=2,mse={disableLine:!1,disableTicks:!1,tickSize:6},Get=["scale","tickNumber","reverse"];function pse(e){const{yAxis:t,yAxisIds:r}=$c(),n=t[e.axisId??r[0]],{scale:s,tickNumber:i}=n,o=vr(n,Get),c=yi({props:ue({},o,e),name:"MuiChartsYAxis"}),d=ue({},mse,c),{position:u,tickLabelStyle:l,slots:f,slotProps:p}=d,g=nh(),x=my(),S=hse(d),m=u==="right"?1:-1,y=typeof l?.fontSize=="number"?l.fontSize:12,w=f?.axisTick??"line",C=f?.axisTickLabel??ON,E=ose((u==="right"?-90:90)-(l?.angle??0)),N=lse((u==="right"?-90:90)-(l?.angle??0)),k=jc({elementType:C,externalSlotProps:p?.axisTickLabel,additionalProps:{style:ue({},g.typography.caption,{fontSize:y,textAnchor:x?cse(E):E,dominantBaseline:N},l)},className:S.tickLabel,ownerState:{}});return{yScale:s,defaultizedProps:d,tickNumber:i,positionSign:m,classes:S,Tick:w,TickLabel:C,axisTickLabelProps:k}}function Yet(e){const{axisLabelHeight:t}=e,{yScale:r,defaultizedProps:n,tickNumber:s,positionSign:i,classes:o,Tick:c,TickLabel:d,axisTickLabelProps:u}=pse(e),l=my(),{disableTicks:f,tickSize:p,valueFormatter:g,slotProps:x,tickPlacement:S,tickLabelPlacement:m,tickInterval:y,tickLabelInterval:w,width:C}=n,E=no(),{instance:N}=Hc(),k=RN(),A=f?4:p,T=MN({scale:r,tickNumber:s,valueFormatter:g,tickPlacement:S,tickLabelPlacement:m,tickInterval:y,direction:"y"}),P=Math.max(0,C-(t>0?t+qet:0)-A-OR),M=k?Wet(T,E,P,l,u.style):new Map(Array.from(T).map(O=>[O,O.formattedValue]));return a.jsx(b.Fragment,{children:T.map((O,R)=>{const{offset:L,labelOffset:B,value:F}=O,$=i*(A+OR),z=B,W=typeof w=="function"&&!w?.(F,R),Z=N.isYInside(L),V=M.get(O);return Z?a.jsxs("g",{transform:`translate(0, ${L})`,className:o.tickContainer,children:[!f&&a.jsx(c,ue({x2:i*A,className:o.tick},x?.axisTick)),V!==void 0&&!W&&a.jsx(d,ue({x:$,y:z,text:V},u))]},R):null})})}const xV={tickSize:6},Ket=(e,t,r)=>{const n=e[t]??{},s=r??xV.tickSize,i=s*t*2+s;return ue({},xV,n,{tickSize:n.tickSize??i})};function Zet(e){const{yScale:t,defaultizedProps:r,positionSign:n,classes:s,Tick:i,TickLabel:o,axisTickLabelProps:c}=pse(e);if(!ta(t))throw new Error("MUI X Charts: ChartsGroupedYAxis only supports the `band` and `point` scale types.");const{disableTicks:d,tickSize:u,valueFormatter:l,slotProps:f,tickInterval:p,tickPlacement:g,tickLabelPlacement:x}=r,S=r.groups,{instance:m}=Hc(),y=use({scale:t,tickInterval:p,tickPlacement:g,tickLabelPlacement:x,groups:S});return a.jsx(b.Fragment,{children:y.map((w,C)=>{const{offset:E,labelOffset:N}=w,k=N??0,A=m.isYInside(E),T=w.formattedValue,P=w.ignoreTick??!1,M=w.groupIndex??0,O=Ket(S,M,u),R=n*O.tickSize,L=n*(O.tickSize+OR);return a.jsxs("g",{transform:`translate(0, ${E})`,className:s.tickContainer,"data-group-index":M,children:[!d&&!P&&A&&a.jsx(i,ue({x2:R,className:s.tick},f?.axisTick)),T!==void 0&&a.jsx(o,ue({x:L,y:k},c,{style:ue({},c.style,O.tickLabelStyle),text:T}))]},C)})})}const Xet=["axis"],Qet=["scale","tickNumber","reverse"],Jet=ar(fse,{name:"MuiChartsYAxis",slot:"Root"})({});function ett(e){let{axis:t}=e,r=vr(e,Xet);const{scale:n}=t,s=vr(t,Qet),i=RN(),o=yi({props:ue({},s,r),name:"MuiChartsYAxis"}),c=ue({},mse,o),{position:d,disableLine:u,label:l,labelStyle:f,offset:p,width:g,sx:x,slots:S,slotProps:m}=c,y=nh(),w=hse(c),{left:C,top:E,width:N,height:k}=no(),A=d==="right"?1:-1,T=S?.axisLine??"line",P=S?.axisLabel??ON,M=jc({elementType:T,externalSlotProps:m?.axisLine,additionalProps:{strokeLinecap:"square"},ownerState:{}}),O=jc({elementType:P,externalSlotProps:m?.axisLabel,additionalProps:{style:ue({},y.typography.body1,{lineHeight:1,fontSize:14,angle:A*90,textAnchor:"middle",dominantBaseline:"text-before-edge"},f)},ownerState:{}});if(d==="none")return null;const R={x:A*g,y:E+k/2},L=l==null?0:jy(l,O.style).height,B=n.domain(),$=ta(n)?B.length===0:B.some(m3);let z=null;return $||(z="groups"in t&&Array.isArray(t.groups)?a.jsx(Zet,ue({},r)):a.jsx(Yet,ue({},r,{axisLabelHeight:L}))),a.jsxs(Jet,{transform:`translate(${d==="right"?C+N+p:C-p}, 0)`,className:w.root,sx:x,children:[!u&&a.jsx(T,ue({y1:E,y2:E+k,className:w.line},M)),z,l&&i&&a.jsx("g",{className:w.label,children:a.jsx(P,ue({},R,O,{text:l}))})]})}function ttt(e){const{yAxis:t,yAxisIds:r}=$c(),n=t[e.axisId??r[0]];return n?a.jsx(ett,ue({},e,{axis:n})):(`${e.axisId}`,null)}function rtt(e){const{slots:t,slotProps:r}=e,{xAxisIds:n,xAxis:s}=Bc(),{yAxisIds:i,yAxis:o}=$c();return a.jsxs(b.Fragment,{children:[n.map(c=>!s[c].position||s[c].position==="none"?null:a.jsx(Vet,{slots:t,slotProps:r,axisId:c},c)),i.map(c=>!o[c].position||o[c].position==="none"?null:a.jsx(ttt,{slots:t,slotProps:r,axisId:c},c))]})}function ntt(){return hYe}const $f=FYe;function oh(e){return LYe(e)}function stt(e){return typeof e.main=="string"}function att(e,t=[]){if(!stt(e))return!1;for(const r of t)if(!e.hasOwnProperty(r)||typeof e[r]!="string")return!1;return!0}function i0(e=[]){return([,t])=>t&&att(t,e)}function itt(e){return _s("MuiTypography",e)}fs("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const ott={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},ltt=ntt(),ctt=e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:s,variant:i,classes:o}=e,c={root:["root",i,e.align!=="inherit"&&`align${Br(t)}`,r&&"gutterBottom",n&&"noWrap",s&&"paragraph"]};return As(c,itt,o)},dtt=ar("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${Br(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})($f(({theme:e})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([t,r])=>t!=="inherit"&&r&&typeof r=="object").map(([t,r])=>({props:{variant:t},style:r})),...Object.entries(e.palette).filter(i0()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette?.text||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${Br(t)}`},style:{color:(e.vars||e).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}))),vV={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},x3=b.forwardRef(function(t,r){const{color:n,...s}=oh({props:t,name:"MuiTypography"}),i=!ott[n],o=ltt({...s,...i&&{color:n}}),{align:c="inherit",className:d,component:u,gutterBottom:l=!1,noWrap:f=!1,paragraph:p=!1,variant:g="body1",variantMapping:x=vV,...S}=o,m={...o,align:c,color:n,className:d,component:u,gutterBottom:l,noWrap:f,paragraph:p,variant:g,variantMapping:x},y=u||(p?"p":x[g]||vV[g])||"span",w=ctt(m);return a.jsx(dtt,{as:y,ref:r,className:ft(w.root,d),...S,ownerState:m,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...S.style}})});function utt(e){return _s("MuiChartsTooltip",e)}const Tm=fs("MuiChartsTooltip",["root","paper","table","row","cell","mark","markContainer","labelCell","valueCell","axisValueCell"]),IN=e=>As({root:["root"],paper:["paper"],table:["table"],row:["row"],cell:["cell"],mark:["mark"],markContainer:["markContainer"],labelCell:["labelCell"],valueCell:["valueCell"],axisValueCell:["axisValueCell"]},utt,e);function ftt(){const e=Vr(),t=wt(e,vne),r=wt(e,ro),n=PN(),{xAxis:s,xAxisIds:i}=Bc(),{yAxis:o,yAxisIds:c}=$c(),{zAxis:d,zAxisIds:u}=c3(),{rotationAxis:l,rotationAxisIds:f}=Lne();if(!t)return null;const p=n[t.type]?.series[t.seriesId];if(!p)return null;const g=oj(p)?p.xAxisId??i[0]:void 0,x=oj(p)?p.yAxisId??c[0]:void 0,S="zAxisId"in p?p.zAxisId??u[0]:u[0],m=f[0],y=r[p.type].colorProcessor?.(p,g!==void 0?s[g]:void 0,x!==void 0?o[x]:void 0,S!==void 0?d[S]:void 0)??(()=>""),w={};return g!==void 0&&(w.x=s[g]),x!==void 0&&(w.y=o[x]),m!==void 0&&(w.rotation=l[m]),r[p.type].tooltipGetter({series:p,axesConfig:w,getColor:y,identifier:t})}const IR=ar("div",{name:"MuiChartsTooltip",slot:"Container",overridesResolver:(e,t)=>t.paper})(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,borderRadius:(e.vars||e).shape?.borderRadius,border:`solid ${(e.vars||e).palette.divider} 1px`})),LR=ar("table",{name:"MuiChartsTooltip",slot:"Table"})(({theme:e})=>({borderSpacing:0,[`& .${Tm.markContainer}`]:{display:"inline-block",width:`calc(20px + ${e.spacing(1.5)})`,verticalAlign:"middle"},"& caption":{borderBottom:`solid ${(e.vars||e).palette.divider} 1px`,padding:e.spacing(.5,1.5),textAlign:"start",whiteSpace:"nowrap","& span":{marginRight:e.spacing(1.5)}}})),BR=ar("tr",{name:"MuiChartsTooltip",slot:"Row"})(({theme:e})=>({"tr:first-of-type& td":{paddingTop:e.spacing(.5)},"tr:last-of-type& td":{paddingBottom:e.spacing(.5)}})),Fm=ar(x3,{name:"MuiChartsTooltip",slot:"Cell"})(({theme:e})=>({verticalAlign:"middle",color:(e.vars||e).palette.text.secondary,textAlign:"start",[`&.${Tm.cell}`]:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},[`&.${Tm.labelCell}`]:{whiteSpace:"nowrap",fontWeight:e.typography.fontWeightRegular},[`&.${Tm.valueCell}, &.${Tm.axisValueCell}`]:{color:(e.vars||e).palette.text.primary,fontWeight:e.typography.fontWeightMedium},[`&.${Tm.valueCell}`]:{paddingLeft:e.spacing(1.5),paddingRight:e.spacing(1.5)},"td:first-of-type&, th:first-of-type&":{paddingLeft:e.spacing(1.5)},"td:last-of-type&, th:last-of-type&":{paddingRight:e.spacing(1.5)}}));function htt(e){return _s("MuiChartsLabelMark",e)}const Sm=fs("MuiChartsLabelMark",["root","line","square","circle","mask","fill"]),mtt=e=>{const{type:t}=e;return As({root:typeof t=="function"?["root"]:["root",t],mask:["mask"],fill:["fill"]},htt,e.classes)},gse=(e,t,r)=>b.forwardRef(function(s,i){const o=yi({props:s,name:e}),c=typeof t.defaultProps=="function"?t.defaultProps(o):t.defaultProps??{},d=Lf(c,o),u=nh(),l=t.classesResolver?.(d,u),f=b.forwardRef(r);return a.jsx(f,ue({},d,{classes:l,ref:i}))}),ptt=["type","color","className","classes"],gtt=ar("div",{name:"MuiChartsLabelMark",slot:"Root"})(()=>({display:"flex",width:14,height:14,[`&.${Sm.line}`]:{width:16,height:"unset",alignItems:"center",[`.${Sm.mask}`]:{height:4,width:"100%",borderRadius:1,overflow:"hidden"}},[`&.${Sm.square}`]:{height:13,width:13,borderRadius:2,overflow:"hidden"},[`&.${Sm.circle}`]:{height:15,width:15},svg:{display:"block"},[`& .${Sm.mask} > *`]:{height:"100%",width:"100%"},[`& .${Sm.mask}`]:{height:"100%",width:"100%"}})),hj=gse("MuiChartsLabelMark",{defaultProps:{type:"square"},classesResolver:mtt},function(t,r){const{type:n,color:s,className:i,classes:o}=t,c=vr(t,ptt),d=n;return a.jsx(gtt,ue({className:ft(o?.root,i),ownerState:t,"aria-hidden":"true",ref:r},c,{children:a.jsx("div",{className:o?.mask,children:typeof d=="function"?a.jsx(d,{className:o?.fill,color:s}):a.jsx("svg",{viewBox:"0 0 24 24",preserveAspectRatio:n==="line"?"none":void 0,children:n==="circle"?a.jsx("circle",{className:o?.fill,r:"12",cx:"12",cy:"12",fill:s}):a.jsx("rect",{className:o?.fill,width:"24",height:"24",fill:s})})})}))});function xtt(e){const{classes:t,sx:r}=e,n=ftt(),s=IN(t);if(!n)return null;if("values"in n){const{label:u,color:l,markType:f}=n;return a.jsx(IR,{sx:r,className:s.paper,children:a.jsxs(LR,{className:s.table,children:[a.jsxs(x3,{component:"caption",children:[a.jsx("div",{className:s.markContainer,children:a.jsx(hj,{type:f,color:l,className:s.mark})}),u]}),a.jsx("tbody",{children:n.values.map(({formattedValue:p,label:g})=>a.jsxs(BR,{className:s.row,children:[a.jsx(Fm,{className:ft(s.labelCell,s.cell),component:"th",children:g}),a.jsx(Fm,{className:ft(s.valueCell,s.cell),component:"td",children:p})]},g))})]})})}const{color:i,label:o,formattedValue:c,markType:d}=n;return a.jsx(IR,{sx:r,className:s.paper,children:a.jsx(LR,{className:s.table,children:a.jsx("tbody",{children:a.jsxs(BR,{className:s.row,children:[a.jsxs(Fm,{className:ft(s.labelCell,s.cell),component:"th",children:[a.jsx("div",{className:s.markContainer,children:a.jsx(hj,{type:d,color:i,className:s.mark})}),o]}),a.jsx(Fm,{className:ft(s.valueCell,s.cell),component:"td",children:c})]})})})})}function vtt(e){const t=Vr(),r=wt(t,ro);return b.useMemo(()=>{const s={};return Object.keys(r).forEach(i=>{s[i]=r[i].colorProcessor}),s},[r])}const ytt=bre({themeId:JE});function btt(){const e=d3(),[t,r]=b.useState(null);return b.useEffect(()=>{const n=e.current;if(n===null)return()=>{};const s=o=>{o.pointerType!=="mouse"&&r(null)},i=o=>{r({pointerType:o.pointerType})};return n.addEventListener("pointerenter",i),n.addEventListener("pointerup",s),()=>{n.removeEventListener("pointerenter",i),n.removeEventListener("pointerup",s)}},[e]),t}function wtt(e){return e instanceof Date?e.toUTCString():e.toLocaleString()}const Stt="@media (pointer: fine)",Ctt=()=>ytt(Stt,{defaultMatches:!0}),xse=(e,t)=>t,vse=(e,t)=>t;function yse(e,t,r){return Array.isArray(r)?r.map(n=>dV(t.axis[n],e)):dV(t.axis[r],e)}const bse=Ge([yy,by,rQe],(e,t,r)=>e===null||t===null?null:nQe(r)(e,t)),jtt=Ge([bse,ih,xse],(e,t,r=t.axisIds[0])=>e===null?null:yse(e,t,r)),wse=Ge([bse,ih,vse],(e,t,r=t.axisIds)=>e===null?null:yse(e,t,r));Ge([ih,jtt,xse],(e,t,r=e.axisIds[0])=>{if(t===null||t===-1||e.axisIds.length===0)return null;const n=e.axis[r]?.data;return n?n[t]:null});Ge([ih,wse,vse],(e,t,r=e.axisIds)=>t===null?null:r.map((n,s)=>{const i=t[s];return i===-1?null:e.axis[n].data?.[i]}));const Sse=pN({memoizeOptions:{resultEqualityCheck:tp}})(wse,ih,(e,t)=>e===null?[]:t.axisIds.map((r,n)=>({axisId:r,dataIndex:e[n]})).filter(({axisId:r,dataIndex:n})=>t.axis[r].triggerTooltip&&n>=0)),Ett=Ge([Sse],e=>e.length>0);function bP(e,t,r){const n=e.data?.[t]??null,i=(e.valueFormatter??(o=>e.scaleType==="utc"?wtt(o):o.toLocaleString()))(n,{location:"tooltip",scale:e.scale});return{axisDirection:r,axisId:e.id,mainAxis:e,dataIndex:t,axisValue:n,axisFormattedValue:i,seriesItems:[]}}function Ntt(e={}){const{multipleAxes:t,directions:r}=e,n=aQe(),s=iQe(),i=oQe(),o=Vr(),c=wt(o,Sne),d=wt(o,Cne),u=wt(o,Sse),l=PN(),{xAxis:f}=Bc(),{yAxis:p}=$c(),{zAxis:g,zAxisIds:x}=c3(),{rotationAxis:S}=Lne(),m=vtt();if(c.length===0&&d.length===0&&u.length===0)return null;const y=[];return(r===void 0||r.includes("x"))&&c.forEach(({axisId:w,dataIndex:C})=>{!t&&y.length>1||y.push(bP(f[w],C,"x"))}),(r===void 0||r.includes("y"))&&d.forEach(({axisId:w,dataIndex:C})=>{!t&&y.length>1||y.push(bP(p[w],C,"y"))}),(r===void 0||r.includes("rotation"))&&u.forEach(({axisId:w,dataIndex:C})=>{!t&&y.length>1||y.push(bP(S[w],C,"rotation"))}),Object.keys(l).filter(EN).forEach(w=>{const C=l[w];return C?C.seriesOrder.forEach(E=>{const N=C.series[E],k=N.xAxisId??n.id,A=N.yAxisId??s.id,T=y.findIndex(({axisDirection:P,axisId:M})=>P==="x"&&M===k||P==="y"&&M===A);if(T>=0){const P="zAxisId"in N?N.zAxisId:x[0],{dataIndex:M}=y[T],O=m[w]?.(N,f[k],p[A],P?g[P]:void 0)(M)??"",R=N.data[M]??null,L=N.valueFormatter(R,{dataIndex:M}),B=bo(N.label,"tooltip")??null;y[T].seriesItems.push({seriesId:E,color:O,value:R,formattedValue:L,formattedLabel:B,markType:N.labelMarkType})}}):[]}),Object.keys(l).filter(l3).forEach(w=>{const C=l[w];return C?C.seriesOrder.forEach(E=>{const N=C.series[E],k=N.rotationAxisId??i?.id,A=y.findIndex(({axisDirection:T,axisId:P})=>T==="rotation"&&P===k);if(A>=0){const{dataIndex:T}=y[A],P=m[w]?.(N)(T)??"",M=N.data[T]??null,O=N.valueFormatter(M,{dataIndex:T}),R=bo(N.label,"tooltip")??null;y[A].seriesItems.push({seriesId:E,color:P,value:M,formattedValue:O,formattedLabel:R,markType:N.labelMarkType})}}):[]}),t?y:y.length===0?y[0]:null}function _tt(e){return Ntt(ue({},e,{multipleAxes:!0}))}function Att(e){const t=IN(e.classes),r=_tt();return r===null?null:a.jsx(IR,{sx:e.sx,className:t.paper,children:r.map(({axisId:n,mainAxis:s,axisValue:i,axisFormattedValue:o,seriesItems:c})=>a.jsxs(LR,{className:t.table,children:[i!=null&&!s.hideTooltip&&a.jsx(x3,{component:"caption",children:o}),a.jsx("tbody",{children:c.map(({seriesId:d,color:u,formattedValue:l,formattedLabel:f,markType:p})=>l==null?null:a.jsxs(BR,{className:t.row,children:[a.jsxs(Fm,{className:ft(t.labelCell,t.cell),component:"th",children:[a.jsx("div",{className:t.markContainer,children:a.jsx(hj,{type:p,color:u,className:t.mark})}),f||null]}),a.jsx(Fm,{className:ft(t.valueCell,t.cell),component:"td",children:l})]},d))})]},n))})}var ka="top",Yi="bottom",Ki="right",Ta="left",v3="auto",Ey=[ka,Yi,Ki,Ta],Ap="start",o0="end",ktt="clippingParents",Cse="viewport",Jx="popper",Ttt="reference",yV=Ey.reduce(function(e,t){return e.concat([t+"-"+Ap,t+"-"+o0])},[]),jse=[].concat(Ey,[v3]).reduce(function(e,t){return e.concat([t,t+"-"+Ap,t+"-"+o0])},[]),Ptt="beforeRead",Dtt="read",Rtt="afterRead",Mtt="beforeMain",Ott="main",Itt="afterMain",Ltt="beforeWrite",Btt="write",$tt="afterWrite",Ftt=[Ptt,Dtt,Rtt,Mtt,Ott,Itt,Ltt,Btt,$tt];function dl(e){return e?(e.nodeName||"").toLowerCase():null}function gi(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ff(e){var t=gi(e).Element;return e instanceof t||e instanceof Element}function Ui(e){var t=gi(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function y3(e){if(typeof ShadowRoot>"u")return!1;var t=gi(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Htt(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},s=t.attributes[r]||{},i=t.elements[r];!Ui(i)||!dl(i)||(Object.assign(i.style,n),Object.keys(s).forEach(function(o){var c=s[o];c===!1?i.removeAttribute(o):i.setAttribute(o,c===!0?"":c)}))})}function ztt(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var s=t.elements[n],i=t.attributes[n]||{},o=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),c=o.reduce(function(d,u){return d[u]="",d},{});!Ui(s)||!dl(s)||(Object.assign(s.style,c),Object.keys(i).forEach(function(d){s.removeAttribute(d)}))})}}const Utt={name:"applyStyles",enabled:!0,phase:"write",fn:Htt,effect:ztt,requires:["computeStyles"]};function al(e){return e.split("-")[0]}var wf=Math.max,mj=Math.min,kp=Math.round;function $R(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Ese(){return!/^((?!chrome|android).)*safari/i.test($R())}function Tp(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),s=1,i=1;t&&Ui(e)&&(s=e.offsetWidth>0&&kp(n.width)/e.offsetWidth||1,i=e.offsetHeight>0&&kp(n.height)/e.offsetHeight||1);var o=Ff(e)?gi(e):window,c=o.visualViewport,d=!Ese()&&r,u=(n.left+(d&&c?c.offsetLeft:0))/s,l=(n.top+(d&&c?c.offsetTop:0))/i,f=n.width/s,p=n.height/i;return{width:f,height:p,top:l,right:u+f,bottom:l+p,left:u,x:u,y:l}}function b3(e){var t=Tp(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function Nse(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&y3(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function _c(e){return gi(e).getComputedStyle(e)}function Vtt(e){return["table","td","th"].indexOf(dl(e))>=0}function hu(e){return((Ff(e)?e.ownerDocument:e.document)||window.document).documentElement}function LN(e){return dl(e)==="html"?e:e.assignedSlot||e.parentNode||(y3(e)?e.host:null)||hu(e)}function bV(e){return!Ui(e)||_c(e).position==="fixed"?null:e.offsetParent}function Wtt(e){var t=/firefox/i.test($R()),r=/Trident/i.test($R());if(r&&Ui(e)){var n=_c(e);if(n.position==="fixed")return null}var s=LN(e);for(y3(s)&&(s=s.host);Ui(s)&&["html","body"].indexOf(dl(s))<0;){var i=_c(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function Ny(e){for(var t=gi(e),r=bV(e);r&&Vtt(r)&&_c(r).position==="static";)r=bV(r);return r&&(dl(r)==="html"||dl(r)==="body"&&_c(r).position==="static")?t:r||Wtt(e)||t}function w3(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Nv(e,t,r){return wf(e,mj(t,r))}function qtt(e,t,r){var n=Nv(e,t,r);return n>r?r:n}function _se(){return{top:0,right:0,bottom:0,left:0}}function Ase(e){return Object.assign({},_se(),e)}function kse(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var Gtt=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,Ase(typeof t!="number"?t:kse(t,Ey))};function Ytt(e){var t,r=e.state,n=e.name,s=e.options,i=r.elements.arrow,o=r.modifiersData.popperOffsets,c=al(r.placement),d=w3(c),u=[Ta,Ki].indexOf(c)>=0,l=u?"height":"width";if(!(!i||!o)){var f=Gtt(s.padding,r),p=b3(i),g=d==="y"?ka:Ta,x=d==="y"?Yi:Ki,S=r.rects.reference[l]+r.rects.reference[d]-o[d]-r.rects.popper[l],m=o[d]-r.rects.reference[d],y=Ny(i),w=y?d==="y"?y.clientHeight||0:y.clientWidth||0:0,C=S/2-m/2,E=f[g],N=w-p[l]-f[x],k=w/2-p[l]/2+C,A=Nv(E,k,N),T=d;r.modifiersData[n]=(t={},t[T]=A,t.centerOffset=A-k,t)}}function Ktt(e){var t=e.state,r=e.options,n=r.element,s=n===void 0?"[data-popper-arrow]":n;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||Nse(t.elements.popper,s)&&(t.elements.arrow=s))}const Ztt={name:"arrow",enabled:!0,phase:"main",fn:Ytt,effect:Ktt,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Pp(e){return e.split("-")[1]}var Xtt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Qtt(e,t){var r=e.x,n=e.y,s=t.devicePixelRatio||1;return{x:kp(r*s)/s||0,y:kp(n*s)/s||0}}function wV(e){var t,r=e.popper,n=e.popperRect,s=e.placement,i=e.variation,o=e.offsets,c=e.position,d=e.gpuAcceleration,u=e.adaptive,l=e.roundOffsets,f=e.isFixed,p=o.x,g=p===void 0?0:p,x=o.y,S=x===void 0?0:x,m=typeof l=="function"?l({x:g,y:S}):{x:g,y:S};g=m.x,S=m.y;var y=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),C=Ta,E=ka,N=window;if(u){var k=Ny(r),A="clientHeight",T="clientWidth";if(k===gi(r)&&(k=hu(r),_c(k).position!=="static"&&c==="absolute"&&(A="scrollHeight",T="scrollWidth")),k=k,s===ka||(s===Ta||s===Ki)&&i===o0){E=Yi;var P=f&&k===N&&N.visualViewport?N.visualViewport.height:k[A];S-=P-n.height,S*=d?1:-1}if(s===Ta||(s===ka||s===Yi)&&i===o0){C=Ki;var M=f&&k===N&&N.visualViewport?N.visualViewport.width:k[T];g-=M-n.width,g*=d?1:-1}}var O=Object.assign({position:c},u&&Xtt),R=l===!0?Qtt({x:g,y:S},gi(r)):{x:g,y:S};if(g=R.x,S=R.y,d){var L;return Object.assign({},O,(L={},L[E]=w?"0":"",L[C]=y?"0":"",L.transform=(N.devicePixelRatio||1)<=1?"translate("+g+"px, "+S+"px)":"translate3d("+g+"px, "+S+"px, 0)",L))}return Object.assign({},O,(t={},t[E]=w?S+"px":"",t[C]=y?g+"px":"",t.transform="",t))}function Jtt(e){var t=e.state,r=e.options,n=r.gpuAcceleration,s=n===void 0?!0:n,i=r.adaptive,o=i===void 0?!0:i,c=r.roundOffsets,d=c===void 0?!0:c,u={placement:al(t.placement),variation:Pp(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,wV(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:d})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,wV(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const ert={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Jtt,data:{}};var Lw={passive:!0};function trt(e){var t=e.state,r=e.instance,n=e.options,s=n.scroll,i=s===void 0?!0:s,o=n.resize,c=o===void 0?!0:o,d=gi(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&u.forEach(function(l){l.addEventListener("scroll",r.update,Lw)}),c&&d.addEventListener("resize",r.update,Lw),function(){i&&u.forEach(function(l){l.removeEventListener("scroll",r.update,Lw)}),c&&d.removeEventListener("resize",r.update,Lw)}}const rrt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:trt,data:{}};var nrt={left:"right",right:"left",bottom:"top",top:"bottom"};function WS(e){return e.replace(/left|right|bottom|top/g,function(t){return nrt[t]})}var srt={start:"end",end:"start"};function SV(e){return e.replace(/start|end/g,function(t){return srt[t]})}function S3(e){var t=gi(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function C3(e){return Tp(hu(e)).left+S3(e).scrollLeft}function art(e,t){var r=gi(e),n=hu(e),s=r.visualViewport,i=n.clientWidth,o=n.clientHeight,c=0,d=0;if(s){i=s.width,o=s.height;var u=Ese();(u||!u&&t==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}return{width:i,height:o,x:c+C3(e),y:d}}function irt(e){var t,r=hu(e),n=S3(e),s=(t=e.ownerDocument)==null?void 0:t.body,i=wf(r.scrollWidth,r.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=wf(r.scrollHeight,r.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),c=-n.scrollLeft+C3(e),d=-n.scrollTop;return _c(s||r).direction==="rtl"&&(c+=wf(r.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:c,y:d}}function j3(e){var t=_c(e),r=t.overflow,n=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+s+n)}function Tse(e){return["html","body","#document"].indexOf(dl(e))>=0?e.ownerDocument.body:Ui(e)&&j3(e)?e:Tse(LN(e))}function _v(e,t){var r;t===void 0&&(t=[]);var n=Tse(e),s=n===((r=e.ownerDocument)==null?void 0:r.body),i=gi(n),o=s?[i].concat(i.visualViewport||[],j3(n)?n:[]):n,c=t.concat(o);return s?c:c.concat(_v(LN(o)))}function FR(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ort(e,t){var r=Tp(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function CV(e,t,r){return t===Cse?FR(art(e,r)):Ff(t)?ort(t,r):FR(irt(hu(e)))}function lrt(e){var t=_v(LN(e)),r=["absolute","fixed"].indexOf(_c(e).position)>=0,n=r&&Ui(e)?Ny(e):e;return Ff(n)?t.filter(function(s){return Ff(s)&&Nse(s,n)&&dl(s)!=="body"}):[]}function crt(e,t,r,n){var s=t==="clippingParents"?lrt(e):[].concat(t),i=[].concat(s,[r]),o=i[0],c=i.reduce(function(d,u){var l=CV(e,u,n);return d.top=wf(l.top,d.top),d.right=mj(l.right,d.right),d.bottom=mj(l.bottom,d.bottom),d.left=wf(l.left,d.left),d},CV(e,o,n));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function Pse(e){var t=e.reference,r=e.element,n=e.placement,s=n?al(n):null,i=n?Pp(n):null,o=t.x+t.width/2-r.width/2,c=t.y+t.height/2-r.height/2,d;switch(s){case ka:d={x:o,y:t.y-r.height};break;case Yi:d={x:o,y:t.y+t.height};break;case Ki:d={x:t.x+t.width,y:c};break;case Ta:d={x:t.x-r.width,y:c};break;default:d={x:t.x,y:t.y}}var u=s?w3(s):null;if(u!=null){var l=u==="y"?"height":"width";switch(i){case Ap:d[u]=d[u]-(t[l]/2-r[l]/2);break;case o0:d[u]=d[u]+(t[l]/2-r[l]/2);break}}return d}function l0(e,t){t===void 0&&(t={});var r=t,n=r.placement,s=n===void 0?e.placement:n,i=r.strategy,o=i===void 0?e.strategy:i,c=r.boundary,d=c===void 0?ktt:c,u=r.rootBoundary,l=u===void 0?Cse:u,f=r.elementContext,p=f===void 0?Jx:f,g=r.altBoundary,x=g===void 0?!1:g,S=r.padding,m=S===void 0?0:S,y=Ase(typeof m!="number"?m:kse(m,Ey)),w=p===Jx?Ttt:Jx,C=e.rects.popper,E=e.elements[x?w:p],N=crt(Ff(E)?E:E.contextElement||hu(e.elements.popper),d,l,o),k=Tp(e.elements.reference),A=Pse({reference:k,element:C,placement:s}),T=FR(Object.assign({},C,A)),P=p===Jx?T:k,M={top:N.top-P.top+y.top,bottom:P.bottom-N.bottom+y.bottom,left:N.left-P.left+y.left,right:P.right-N.right+y.right},O=e.modifiersData.offset;if(p===Jx&&O){var R=O[s];Object.keys(M).forEach(function(L){var B=[Ki,Yi].indexOf(L)>=0?1:-1,F=[ka,Yi].indexOf(L)>=0?"y":"x";M[L]+=R[F]*B})}return M}function drt(e,t){t===void 0&&(t={});var r=t,n=r.placement,s=r.boundary,i=r.rootBoundary,o=r.padding,c=r.flipVariations,d=r.allowedAutoPlacements,u=d===void 0?jse:d,l=Pp(n),f=l?c?yV:yV.filter(function(x){return Pp(x)===l}):Ey,p=f.filter(function(x){return u.indexOf(x)>=0});p.length===0&&(p=f);var g=p.reduce(function(x,S){return x[S]=l0(e,{placement:S,boundary:s,rootBoundary:i,padding:o})[al(S)],x},{});return Object.keys(g).sort(function(x,S){return g[x]-g[S]})}function urt(e){if(al(e)===v3)return[];var t=WS(e);return[SV(e),t,SV(t)]}function frt(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var s=r.mainAxis,i=s===void 0?!0:s,o=r.altAxis,c=o===void 0?!0:o,d=r.fallbackPlacements,u=r.padding,l=r.boundary,f=r.rootBoundary,p=r.altBoundary,g=r.flipVariations,x=g===void 0?!0:g,S=r.allowedAutoPlacements,m=t.options.placement,y=al(m),w=y===m,C=d||(w||!x?[WS(m)]:urt(m)),E=[m].concat(C).reduce(function(Y,re){return Y.concat(al(re)===v3?drt(t,{placement:re,boundary:l,rootBoundary:f,padding:u,flipVariations:x,allowedAutoPlacements:S}):re)},[]),N=t.rects.reference,k=t.rects.popper,A=new Map,T=!0,P=E[0],M=0;M<E.length;M++){var O=E[M],R=al(O),L=Pp(O)===Ap,B=[ka,Yi].indexOf(R)>=0,F=B?"width":"height",$=l0(t,{placement:O,boundary:l,rootBoundary:f,altBoundary:p,padding:u}),z=B?L?Ki:Ta:L?Yi:ka;N[F]>k[F]&&(z=WS(z));var W=WS(z),Z=[];if(i&&Z.push($[R]<=0),c&&Z.push($[z]<=0,$[W]<=0),Z.every(function(Y){return Y})){P=O,T=!1;break}A.set(O,Z)}if(T)for(var V=x?3:1,q=function(re){var me=E.find(function(de){var he=A.get(de);if(he)return he.slice(0,re).every(function(ee){return ee})});if(me)return P=me,"break"},H=V;H>0;H--){var K=q(H);if(K==="break")break}t.placement!==P&&(t.modifiersData[n]._skip=!0,t.placement=P,t.reset=!0)}}const hrt={name:"flip",enabled:!0,phase:"main",fn:frt,requiresIfExists:["offset"],data:{_skip:!1}};function jV(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function EV(e){return[ka,Ki,Yi,Ta].some(function(t){return e[t]>=0})}function mrt(e){var t=e.state,r=e.name,n=t.rects.reference,s=t.rects.popper,i=t.modifiersData.preventOverflow,o=l0(t,{elementContext:"reference"}),c=l0(t,{altBoundary:!0}),d=jV(o,n),u=jV(c,s,i),l=EV(d),f=EV(u);t.modifiersData[r]={referenceClippingOffsets:d,popperEscapeOffsets:u,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}const prt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:mrt};function grt(e,t,r){var n=al(e),s=[Ta,ka].indexOf(n)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=i[0],c=i[1];return o=o||0,c=(c||0)*s,[Ta,Ki].indexOf(n)>=0?{x:c,y:o}:{x:o,y:c}}function xrt(e){var t=e.state,r=e.options,n=e.name,s=r.offset,i=s===void 0?[0,0]:s,o=jse.reduce(function(l,f){return l[f]=grt(f,t.rects,i),l},{}),c=o[t.placement],d=c.x,u=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=d,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=o}const vrt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:xrt};function yrt(e){var t=e.state,r=e.name;t.modifiersData[r]=Pse({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const brt={name:"popperOffsets",enabled:!0,phase:"read",fn:yrt,data:{}};function wrt(e){return e==="x"?"y":"x"}function Srt(e){var t=e.state,r=e.options,n=e.name,s=r.mainAxis,i=s===void 0?!0:s,o=r.altAxis,c=o===void 0?!1:o,d=r.boundary,u=r.rootBoundary,l=r.altBoundary,f=r.padding,p=r.tether,g=p===void 0?!0:p,x=r.tetherOffset,S=x===void 0?0:x,m=l0(t,{boundary:d,rootBoundary:u,padding:f,altBoundary:l}),y=al(t.placement),w=Pp(t.placement),C=!w,E=w3(y),N=wrt(E),k=t.modifiersData.popperOffsets,A=t.rects.reference,T=t.rects.popper,P=typeof S=="function"?S(Object.assign({},t.rects,{placement:t.placement})):S,M=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),O=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,R={x:0,y:0};if(k){if(i){var L,B=E==="y"?ka:Ta,F=E==="y"?Yi:Ki,$=E==="y"?"height":"width",z=k[E],W=z+m[B],Z=z-m[F],V=g?-T[$]/2:0,q=w===Ap?A[$]:T[$],H=w===Ap?-T[$]:-A[$],K=t.elements.arrow,Y=g&&K?b3(K):{width:0,height:0},re=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:_se(),me=re[B],de=re[F],he=Nv(0,A[$],Y[$]),ee=C?A[$]/2-V-he-me-M.mainAxis:q-he-me-M.mainAxis,ie=C?-A[$]/2+V+he+de+M.mainAxis:H+he+de+M.mainAxis,ye=t.elements.arrow&&Ny(t.elements.arrow),le=ye?E==="y"?ye.clientTop||0:ye.clientLeft||0:0,Te=(L=O?.[E])!=null?L:0,Ae=z+ee-Te-le,ae=z+ie-Te,We=Nv(g?mj(W,Ae):W,z,g?wf(Z,ae):Z);k[E]=We,R[E]=We-z}if(c){var rt,fe=E==="x"?ka:Ta,Fe=E==="x"?Yi:Ki,Q=k[N],ne=N==="y"?"height":"width",ce=Q+m[fe],ze=Q-m[Fe],qe=[ka,Ta].indexOf(y)!==-1,Ue=(rt=O?.[N])!=null?rt:0,se=qe?ce:Q-A[ne]-T[ne]-Ue+M.altAxis,Ne=qe?Q+A[ne]+T[ne]-Ue-M.altAxis:ze,Le=g&&qe?qtt(se,Q,Ne):Nv(g?se:ce,Q,g?Ne:ze);k[N]=Le,R[N]=Le-Q}t.modifiersData[n]=R}}const Crt={name:"preventOverflow",enabled:!0,phase:"main",fn:Srt,requiresIfExists:["offset"]};function jrt(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Ert(e){return e===gi(e)||!Ui(e)?S3(e):jrt(e)}function Nrt(e){var t=e.getBoundingClientRect(),r=kp(t.width)/e.offsetWidth||1,n=kp(t.height)/e.offsetHeight||1;return r!==1||n!==1}function _rt(e,t,r){r===void 0&&(r=!1);var n=Ui(t),s=Ui(t)&&Nrt(t),i=hu(t),o=Tp(e,s,r),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(n||!n&&!r)&&((dl(t)!=="body"||j3(i))&&(c=Ert(t)),Ui(t)?(d=Tp(t,!0),d.x+=t.clientLeft,d.y+=t.clientTop):i&&(d.x=C3(i))),{x:o.left+c.scrollLeft-d.x,y:o.top+c.scrollTop-d.y,width:o.width,height:o.height}}function Art(e){var t=new Map,r=new Set,n=[];e.forEach(function(i){t.set(i.name,i)});function s(i){r.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(c){if(!r.has(c)){var d=t.get(c);d&&s(d)}}),n.push(i)}return e.forEach(function(i){r.has(i.name)||s(i)}),n}function krt(e){var t=Art(e);return Ftt.reduce(function(r,n){return r.concat(t.filter(function(s){return s.phase===n}))},[])}function Trt(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function Prt(e){var t=e.reduce(function(r,n){var s=r[n.name];return r[n.name]=s?Object.assign({},s,n,{options:Object.assign({},s.options,n.options),data:Object.assign({},s.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var NV={placement:"bottom",modifiers:[],strategy:"absolute"};function _V(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Drt(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,s=t.defaultOptions,i=s===void 0?NV:s;return function(c,d,u){u===void 0&&(u=i);var l={placement:"bottom",orderedModifiers:[],options:Object.assign({},NV,i),modifiersData:{},elements:{reference:c,popper:d},attributes:{},styles:{}},f=[],p=!1,g={state:l,setOptions:function(y){var w=typeof y=="function"?y(l.options):y;S(),l.options=Object.assign({},i,l.options,w),l.scrollParents={reference:Ff(c)?_v(c):c.contextElement?_v(c.contextElement):[],popper:_v(d)};var C=krt(Prt([].concat(n,l.options.modifiers)));return l.orderedModifiers=C.filter(function(E){return E.enabled}),x(),g.update()},forceUpdate:function(){if(!p){var y=l.elements,w=y.reference,C=y.popper;if(_V(w,C)){l.rects={reference:_rt(w,Ny(C),l.options.strategy==="fixed"),popper:b3(C)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(M){return l.modifiersData[M.name]=Object.assign({},M.data)});for(var E=0;E<l.orderedModifiers.length;E++){if(l.reset===!0){l.reset=!1,E=-1;continue}var N=l.orderedModifiers[E],k=N.fn,A=N.options,T=A===void 0?{}:A,P=N.name;typeof k=="function"&&(l=k({state:l,options:T,name:P,instance:g})||l)}}}},update:Trt(function(){return new Promise(function(m){g.forceUpdate(),m(l)})}),destroy:function(){S(),p=!0}};if(!_V(c,d))return g;g.setOptions(u).then(function(m){!p&&u.onFirstUpdate&&u.onFirstUpdate(m)});function x(){l.orderedModifiers.forEach(function(m){var y=m.name,w=m.options,C=w===void 0?{}:w,E=m.effect;if(typeof E=="function"){var N=E({state:l,name:y,instance:g,options:C}),k=function(){};f.push(N||k)}})}function S(){f.forEach(function(m){return m()}),f=[]}return g}}var Rrt=[rrt,brt,ert,Utt,vrt,hrt,Crt,Ztt,prt],Mrt=Drt({defaultModifiers:Rrt});function AV(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Ort(e){return parseInt(b.version,10)>=19?e?.props?.ref||null:e?.ref||null}function Irt(e){return typeof e=="function"?e():e}const Lrt=b.forwardRef(function(t,r){const{children:n,container:s,disablePortal:i=!1}=t,[o,c]=b.useState(null),d=Gd(b.isValidElement(n)?Ort(n):null,r);if(is(()=>{i||c(Irt(s)||document.body)},[s,i]),is(()=>{if(o&&!i)return AV(r,o),()=>{AV(r,null)}},[r,o,i]),i){if(b.isValidElement(n)){const u={ref:d};return b.cloneElement(n,u)}return n}return o&&Qd.createPortal(n,o)});function Brt(e){return _s("MuiPopper",e)}fs("MuiPopper",["root"]);function $rt(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function HR(e){return typeof e=="function"?e():e}function Frt(e){return e.nodeType!==void 0}const Hrt=e=>{const{classes:t}=e;return As({root:["root"]},Brt,t)},zrt={},Urt=b.forwardRef(function(t,r){const{anchorEl:n,children:s,direction:i,disablePortal:o,modifiers:c,open:d,placement:u,popperOptions:l,popperRef:f,slotProps:p={},slots:g={},TransitionProps:x,ownerState:S,...m}=t,y=b.useRef(null),w=Gd(y,r),C=b.useRef(null),E=Gd(C,f),N=b.useRef(E);is(()=>{N.current=E},[E]),b.useImperativeHandle(f,()=>C.current,[]);const k=$rt(u,i),[A,T]=b.useState(k),[P,M]=b.useState(HR(n));b.useEffect(()=>{C.current&&C.current.forceUpdate()}),b.useEffect(()=>{n&&M(HR(n))},[n]),is(()=>{if(!P||!d)return;const F=W=>{T(W.placement)};let $=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:W})=>{F(W)}}];c!=null&&($=$.concat(c)),l&&l.modifiers!=null&&($=$.concat(l.modifiers));const z=Mrt(P,y.current,{placement:k,...l,modifiers:$});return N.current(z),()=>{z.destroy(),N.current(null)}},[P,o,c,d,l,k]);const O={placement:A};x!==null&&(O.TransitionProps=x);const R=Hrt(t),L=g.root??"div",B=jc({elementType:L,externalSlotProps:p.root,externalForwardedProps:m,additionalProps:{role:"tooltip",ref:w},ownerState:t,className:R.root});return a.jsx(L,{...B,children:typeof s=="function"?s(O):s})}),Vrt=b.forwardRef(function(t,r){const{anchorEl:n,children:s,container:i,direction:o="ltr",disablePortal:c=!1,keepMounted:d=!1,modifiers:u,open:l,placement:f="bottom",popperOptions:p=zrt,popperRef:g,style:x,transition:S=!1,slotProps:m={},slots:y={},...w}=t,[C,E]=b.useState(!0),N=()=>{E(!1)},k=()=>{E(!0)};if(!d&&!l&&(!S||C))return null;let A;if(i)A=i;else if(n){const M=HR(n);A=M&&Frt(M)?_R(M).body:_R(null).body}const T=!l&&d&&(!S||C)?"none":void 0,P=S?{in:l,onEnter:N,onExited:k}:void 0;return a.jsx(Lrt,{disablePortal:c,container:A,children:a.jsx(Urt,{anchorEl:n,direction:o,disablePortal:c,modifiers:u,ref:r,open:S?!C:l,placement:f,popperOptions:p,popperRef:g,slotProps:m,slots:y,...w,style:{position:"fixed",top:0,left:0,display:T,...x},TransitionProps:P,children:s})})}),Wrt=ar(Vrt,{name:"MuiPopper",slot:"Root"})({}),qrt=b.forwardRef(function(t,r){const n=my(),s=oh({props:t,name:"MuiPopper"}),{anchorEl:i,component:o,components:c,componentsProps:d,container:u,disablePortal:l,keepMounted:f,modifiers:p,open:g,placement:x,popperOptions:S,popperRef:m,transition:y,slots:w,slotProps:C,...E}=s,N=w?.root??c?.Root,k={anchorEl:i,container:u,disablePortal:l,keepMounted:f,modifiers:p,open:g,placement:x,popperOptions:S,popperRef:m,transition:y,...E};return a.jsx(Wrt,{as:o,direction:n?"rtl":"ltr",slots:{root:N},slotProps:C??d,...k,ref:r})});function Grt(e){const{children:t,defer:r=!1,fallback:n=null}=e,[s,i]=b.useState(!1);return is(()=>{r||i(!0)},[r]),b.useEffect(()=>{r&&i(!0)},[r]),s?t:n}function kV(e){let t,r;const n=()=>{r=null,e(...t)};function s(...i){t=i,r||(r=requestAnimationFrame(n))}return s.clear=()=>{r&&(cancelAnimationFrame(r),r=null)},s}function Yrt(){const e=Vr(),t=wt(e,Ine),r=wt(e,Lc);return t!==void 0?"polar":r!==void 0?"cartesian":"none"}const Krt=["trigger","position","anchor","classes","children"],TV=()=>!1;function Zrt(e,t,r){return r?TV:e==="item"?jXe:t==="polar"?Ett:t==="cartesian"?kXe:TV}const Xrt=ar(qrt,{name:"MuiChartsTooltip",slot:"Root"})(({theme:e})=>({pointerEvents:"none",zIndex:e.zIndex.modal}));function Qrt(e){const t=yi({props:e,name:"MuiChartsTooltipContainer"}),{trigger:r="axis",position:n,anchor:s="pointer",classes:i,children:o}=t,c=vr(t,Krt),d=d3(),u=IN(i),l=btt(),f=Ctt(),p=b.useRef(null),g=gN(()=>({x:0,y:0})),x=Yrt(),S=Vr(),m=wt(S,LXe),y=wt(S,Zrt(r,x,m)),C=wt(S,wy)==="keyboard"?"node":s,E=wt(S,r==="item"&&C==="node"?EXe:()=>null,[n]);b.useEffect(()=>{const P=d.current;if(P===null)return()=>{};if(E!==null){const R=kV(()=>{g.current={x:P.getBoundingClientRect().left+(E?.x??0),y:P.getBoundingClientRect().top+(E?.y??0)},p.current?.update()});return R(),()=>R.clear()}const M=kV((R,L)=>{g.current={x:R,y:L},p.current?.update()}),O=R=>{M(R.clientX,R.clientY)};return P.addEventListener("pointerdown",O),P.addEventListener("pointermove",O),P.addEventListener("pointerenter",O),()=>{P.removeEventListener("pointerdown",O),P.removeEventListener("pointermove",O),P.removeEventListener("pointerenter",O),M.clear()}},[d,g,E]);const N=b.useMemo(()=>({getBoundingClientRect:()=>({x:g.current.x,y:g.current.y,top:g.current.y,left:g.current.x,right:g.current.x,bottom:g.current.y,width:0,height:0,toJSON:()=>""})}),[g]),k=l?.pointerType==="mouse"||f,A=l?.pointerType==="touch"||!f,T=b.useMemo(()=>[{name:"offset",options:{offset:()=>A?[0,64]:[0,8]}},...k?[]:[{name:"flip",options:{fallbackPlacements:["top-end","top-start","bottom-end","bottom"]}}],{name:"preventOverflow",options:{altAxis:!0}}],[k,A]);return r==="none"?null:a.jsx(Grt,{children:y&&a.jsx(Xrt,ue({},c,{className:u?.root,open:y,placement:c.placement??n??(k?"right-start":"top"),popperRef:p,anchorEl:N,modifiers:T,children:o}))})}function Jrt(e){const{classes:t,trigger:r="axis"}=e,n=IN(t);return a.jsx(Qrt,ue({},e,{classes:t,children:r==="axis"?a.jsx(Att,{classes:n}):a.jsx(xtt,{classes:n})}))}const ent=e=>({type:"series",color:e.color,label:e.label,seriesId:e.seriesId,itemId:e.itemId});function tnt(e){return _s("MuiChartsLegend",e)}const rnt=e=>{const{classes:t,direction:r}=e;return As({root:["root",r],item:["item"],mark:["mark"],label:["label"],series:["series"]},tnt,t)},PV=fs("MuiChartsLegend",["root","item","series","mark","label","vertical","horizontal"]),nnt=["slots","slotProps"],snt=["ownerState"],ant=(e,t,r,n)=>{function s(i,o){const c=yi({props:i,name:e}),d=typeof r.defaultProps=="function"?r.defaultProps(c):r.defaultProps??{},u=Lf(d,c),l=u,{slots:f,slotProps:p}=l,g=vr(l,nnt),x=nh(),S=r.classesResolver?.(u,x),m=f?.[t]??n,y=r.propagateSlots&&!f?.[t],w=jc({elementType:m,externalSlotProps:p?.[t],additionalProps:ue({},g,{classes:S},y&&{slots:f,slotProps:p}),ownerState:{}}),C=vr(w,snt),E=ue({},C);for(const N of r.omitProps??[])delete E[N];return a.jsx(m,ue({},E,{ref:o}))}return b.forwardRef(s)};function int(e){return _s("MuiChartsLabel",e)}fs("MuiChartsLabel",["root"]);const ont=e=>As({root:["root"]},int,e.classes),lnt=["children","className","classes"],cnt=gse("MuiChartsLabel",{classesResolver:ont},function(t,r){const{children:n,className:s,classes:i}=t,o=vr(t,lnt);return a.jsx("span",ue({className:ft(i?.root,s),ref:r},o,{children:n}))}),dnt=["direction","onItemClick","className","classes"],unt=ar("ul",{name:"MuiChartsLegend",slot:"Root"})(({ownerState:e,theme:t})=>ue({},t.typography.caption,{color:(t.vars||t).palette.text.primary,lineHeight:"100%",display:"flex",flexDirection:e.direction==="vertical"?"column":"row",alignItems:e.direction==="vertical"?void 0:"center",flexShrink:0,gap:t.spacing(2),listStyleType:"none",paddingInlineStart:0,marginBlock:t.spacing(1),marginInline:t.spacing(1),flexWrap:"wrap",li:{display:e.direction==="horizontal"?"inline-flex":void 0},[`button.${PV.series}`]:{background:"none",border:"none",padding:0,fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",letterSpacing:"inherit",color:"inherit"},[`& .${PV.series}`]:{display:e.direction==="vertical"?"flex":"inline-flex",alignItems:"center",gap:t.spacing(1)},gridArea:"legend"})),fnt=ant("MuiChartsLegend","legend",{defaultProps:{direction:"horizontal"},omitProps:["position"],classesResolver:rnt},b.forwardRef(function(t,r){const n=SQe(),{onItemClick:s,className:i,classes:o}=t,c=vr(t,dnt);if(n.items.length===0)return null;const d=s?"button":"div";return a.jsx(unt,ue({className:ft(o?.root,i),ref:r},c,{ownerState:t,children:n.items.map((u,l)=>a.jsx("li",{className:o?.item,"data-series":u.id,children:a.jsxs(d,{className:o?.series,role:s?"button":void 0,type:s?"button":void 0,onClick:s?f=>s(f,ent(u),l):void 0,children:[a.jsx(hj,{className:o?.mark,color:u.color,type:u.markType}),a.jsx(cnt,{className:o?.label,children:u.label})]})},u.id))}))}));function hnt(e){return _s("MuiChartsAxisHighlight",e)}fs("MuiChartsAxisHighlight",["root"]);const pj=ar("path",{name:"MuiChartsAxisHighlight",slot:"Root"})(({theme:e})=>({pointerEvents:"none",variants:[{props:{axisHighlight:"band"},style:ue({fill:"white",fillOpacity:.1},e.applyStyles("light",{fill:"gray"}))},{props:{axisHighlight:"line"},style:ue({strokeDasharray:"5 2",stroke:"#ffffff"},e.applyStyles("light",{stroke:"#000000"}))}]}));function mnt(e){const{type:t,classes:r}=e,{left:n,width:s}=no(),i=Vr(),o=wt(i,$Xe),c=wt(i,ma);return o.length===0?null:o.map(({axisId:d,value:u})=>{const f=c.axis[d].scale,p=Bne(f),g=t==="band"&&u!==null&&ta(f);return a.jsxs(b.Fragment,{children:[g&&f(u)!==void 0&&a.jsx(pj,{d:`M ${n} ${f(u)-(f.step()-f.bandwidth())/2} l 0 ${f.step()} l ${s} 0 l 0 ${-f.step()} Z`,className:r.root,ownerState:{axisHighlight:"band"}}),t==="line"&&u!==null&&a.jsx(pj,{d:`M ${n} ${p(u)} L ${n+s} ${p(u)}`,className:r.root,ownerState:{axisHighlight:"line"}})]},`${d}-${u}`)})}function pnt(e){const{type:t,classes:r}=e,{top:n,height:s}=no(),i=Vr(),o=wt(i,BXe),c=wt(i,ha);return o.length===0?null:o.map(({axisId:d,value:u})=>{const f=c.axis[d].scale,p=Bne(f),g=t==="band"&&u!==null&&ta(f);return a.jsxs(b.Fragment,{children:[g&&f(u)!==void 0&&a.jsx(pj,{d:`M ${f(u)-(f.step()-f.bandwidth())/2} ${n} l ${f.step()} 0 l 0 ${s} l ${-f.step()} 0 Z`,className:r.root,ownerState:{axisHighlight:"band"}}),t==="line"&&u!==null&&a.jsx(pj,{d:`M ${p(u)} ${n} L ${p(u)} ${n+s}`,className:r.root,ownerState:{axisHighlight:"line"}})]},`${d}-${u}`)})}const gnt=()=>As({root:["root"]},hnt);function xnt(e){const{x:t,y:r}=e,n=gnt();return a.jsxs(b.Fragment,{children:[t&&t!=="none"&&a.jsx(pnt,{type:t,classes:n}),r&&r!=="none"&&a.jsx(mnt,{type:r,classes:n})]})}function vnt(e){const{id:t,offset:r}=e,{left:n,top:s,width:i,height:o}=no(),c=ue({top:0,right:0,bottom:0,left:0},r);return a.jsx("clipPath",{id:t,children:a.jsx("rect",{x:n-c.left,y:s-c.top,width:i+c.left+c.right,height:o+c.top+c.bottom})})}function ynt(e){return _s("MuiChartsGrid",e)}const DV=fs("MuiChartsGrid",["root","line","horizontalLine","verticalLine"]),bnt=ar("g",{name:"MuiChartsGrid",slot:"Root",overridesResolver:(e,t)=>[{[`&.${DV.verticalLine}`]:t.verticalLine},{[`&.${DV.horizontalLine}`]:t.horizontalLine},t.root]})({}),Dse=ar("line",{name:"MuiChartsGrid",slot:"Line"})(({theme:e})=>({stroke:(e.vars||e).palette.divider,shapeRendering:"crispEdges",strokeWidth:1}));function wnt(e){const{axis:t,start:r,end:n,classes:s}=e,{scale:i,tickNumber:o,tickInterval:c}=t,d=MN({scale:i,tickNumber:o,tickInterval:c,direction:"x"});return a.jsx(b.Fragment,{children:d.map(({value:u,offset:l})=>a.jsx(Dse,{y1:r,y2:n,x1:l,x2:l,className:s.verticalLine},`vertical-${u?.getTime?.()??u}`))})}function Snt(e){const{axis:t,start:r,end:n,classes:s}=e,{scale:i,tickNumber:o,tickInterval:c}=t,d=MN({scale:i,tickNumber:o,tickInterval:c,direction:"y"});return a.jsx(b.Fragment,{children:d.map(({value:u,offset:l})=>a.jsx(Dse,{y1:l,y2:l,x1:r,x2:n,className:s.horizontalLine},`horizontal-${u?.getTime?.()??u}`))})}const Cnt=["vertical","horizontal"],jnt=({classes:e})=>As({root:["root"],verticalLine:["line","verticalLine"],horizontalLine:["line","horizontalLine"]},ynt,e);function Ent(e){const t=yi({props:e,name:"MuiChartsGrid"}),r=no(),{vertical:n,horizontal:s}=t,i=vr(t,Cnt),{xAxis:o,xAxisIds:c}=Bc(),{yAxis:d,yAxisIds:u}=$c(),l=jnt(t),f=d[u[0]],p=o[c[0]];return a.jsxs(bnt,ue({},i,{className:l.root,children:[n&&a.jsx(wnt,{axis:p,start:r.top,end:r.height+r.top,classes:l}),s&&a.jsx(Snt,{axis:f,start:r.left,end:r.width+r.left,classes:l})]}))}const Nnt=["message"],_nt=ar("text")(({theme:e})=>ue({},e.typography.body2,{stroke:"none",fill:(e.vars||e).palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"}));function Ant(e){const{message:t}=e,r=vr(e,Nnt),{top:n,left:s,height:i,width:o}=no(),{localeText:c}=Gne();return a.jsx(_nt,ue({x:s+o/2,y:n+i/2},r,{children:t??c.loading}))}const knt=["message"],Tnt=ar("text")(({theme:e})=>ue({},e.typography.body2,{stroke:"none",fill:(e.vars||e).palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"}));function Pnt(e){const{message:t}=e,r=vr(e,knt),{top:n,left:s,height:i,width:o}=no(),{localeText:c}=Gne();return a.jsx(Tnt,ue({x:s+o/2,y:n+i/2},r,{children:t??c.noData}))}function Dnt(){const e=PN();return Object.values(e).every(t=>{if(!t)return!0;const{series:r,seriesOrder:n}=t;return n.every(s=>{const i=r[s];return i.type==="sankey"?i.data.links.length===0:i.data.length===0})})}function Rnt(e){const t=Dnt();if(e.loading){const r=e.slots?.loadingOverlay??Ant;return a.jsx(r,ue({},e.slotProps?.loadingOverlay))}if(t){const r=e.slots?.noDataOverlay??Pnt;return a.jsx(r,ue({},e.slotProps?.noDataOverlay))}return null}const Mnt=[Cy,Sy,vy,pg,xg,AN],Ont=["xAxis","yAxis","series","width","height","margin","colors","dataset","sx","axisHighlight","grid","children","slots","slotProps","skipAnimation","loading","layout","onItemClick","highlightedItem","onHighlightChange","borderRadius","barLabel","className","hideLegend","showToolbar","brushConfig"],Int=e=>{const{xAxis:t,yAxis:r,series:n,width:s,height:i,margin:o,colors:c,dataset:d,sx:u,axisHighlight:l,grid:f,children:p,slots:g,slotProps:x,skipAnimation:S,loading:m,layout:y,onItemClick:w,highlightedItem:C,onHighlightChange:E,borderRadius:N,barLabel:k,className:A,brushConfig:T}=e,P=vr(e,Ont),O=`${mN()}-clip-path`,R=y==="horizontal"||y===void 0&&n.some(ie=>ie.layout==="horizontal"),L=b.useMemo(()=>[{id:$4,scaleType:"band",data:Array.from({length:Math.max(...n.map(ie=>(ie.data??d??[]).length))},(ie,ye)=>ye)}],[d,n]),B=b.useMemo(()=>[{id:F4,scaleType:"band",data:Array.from({length:Math.max(...n.map(ie=>(ie.data??d??[]).length))},(ie,ye)=>ye)}],[d,n]),F=b.useMemo(()=>n.map(ie=>ue({type:"bar"},ie,{layout:R?"horizontal":"vertical"})),[R,n]),$=R?void 0:L,z=b.useMemo(()=>t?R?t:t.map(ie=>ue({scaleType:"band"},ie)):$,[$,R,t]),W=R?B:void 0,Z=b.useMemo(()=>r?R?r.map(ie=>ue({scaleType:"band"},ie)):r:W,[W,R,r]),V=ue({},P,{series:F,width:s,height:i,margin:o,colors:c,dataset:d,xAxis:z,yAxis:Z,highlightedItem:C,onHighlightChange:E,disableAxisListener:x?.tooltip?.trigger!=="axis"&&l?.x==="none"&&l?.y==="none",className:A,skipAnimation:S,brushConfig:T,plugins:Mnt}),q={onItemClick:w,slots:g,slotProps:x,borderRadius:N,barLabel:k},H={vertical:f?.vertical,horizontal:f?.horizontal},K={clipPath:`url(#${O})`},Y={id:O},re={slots:g,slotProps:x,loading:m},me={slots:g,slotProps:x},de=ue({},R?{y:"band"}:{x:"band"},l),he={slots:g,slotProps:x};return{chartsWrapperProps:{sx:u,legendPosition:e.slotProps?.legend?.position,legendDirection:e.slotProps?.legend?.direction,hideLegend:e.hideLegend??!1},chartContainerProps:V,barPlotProps:q,gridProps:H,clipPathProps:Y,clipPathGroupProps:K,overlayProps:re,chartsAxisProps:me,axisHighlightProps:de,legendProps:he,children:p}};function RV(e){try{return e.matches(":focus-visible")}catch{}return!1}class gj{static create(){return new gj}static use(){const t=gN(gj.create).current,[r,n]=b.useState(!1);return t.shouldMount=r,t.setShouldMount=n,b.useEffect(t.mountEffect,[r]),t}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=Bnt(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...t){this.mount().then(()=>this.ref.current?.start(...t))}stop(...t){this.mount().then(()=>this.ref.current?.stop(...t))}pulsate(...t){this.mount().then(()=>this.ref.current?.pulsate(...t))}}function Lnt(){return gj.use()}function Bnt(){let e,t;const r=new Promise((n,s)=>{e=n,t=s});return r.resolve=e,r.reject=t,r}function zR(e,t){return zR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},zR(e,t)}function $nt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,zR(e,t)}const MV=ve.createContext(null);function Fnt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E3(e,t){var r=function(i){return t&&b.isValidElement(i)?t(i):i},n=Object.create(null);return e&&b.Children.map(e,function(s){return s}).forEach(function(s){n[s.key]=r(s)}),n}function Hnt(e,t){e=e||{},t=t||{};function r(l){return l in t?t[l]:e[l]}var n=Object.create(null),s=[];for(var i in e)i in t?s.length&&(n[i]=s,s=[]):s.push(i);var o,c={};for(var d in t){if(n[d])for(o=0;o<n[d].length;o++){var u=n[d][o];c[n[d][o]]=r(u)}c[d]=r(d)}for(o=0;o<s.length;o++)c[s[o]]=r(s[o]);return c}function of(e,t,r){return r[t]!=null?r[t]:e.props[t]}function znt(e,t){return E3(e.children,function(r){return b.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:of(r,"appear",e),enter:of(r,"enter",e),exit:of(r,"exit",e)})})}function Unt(e,t,r){var n=E3(e.children),s=Hnt(t,n);return Object.keys(s).forEach(function(i){var o=s[i];if(b.isValidElement(o)){var c=i in t,d=i in n,u=t[i],l=b.isValidElement(u)&&!u.props.in;d&&(!c||l)?s[i]=b.cloneElement(o,{onExited:r.bind(null,o),in:!0,exit:of(o,"exit",e),enter:of(o,"enter",e)}):!d&&c&&!l?s[i]=b.cloneElement(o,{in:!1}):d&&c&&b.isValidElement(u)&&(s[i]=b.cloneElement(o,{onExited:r.bind(null,o),in:u.props.in,exit:of(o,"exit",e),enter:of(o,"enter",e)}))}}),s}var Vnt=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Wnt={component:"div",childFactory:function(t){return t}},N3=function(e){$nt(t,e);function t(n,s){var i;i=e.call(this,n,s)||this;var o=i.handleExited.bind(Fnt(i));return i.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},i}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(s,i){var o=i.children,c=i.handleExited,d=i.firstRender;return{children:d?znt(s,c):Unt(s,o,c),firstRender:!1}},r.handleExited=function(s,i){var o=E3(this.props.children);s.key in o||(s.props.onExited&&s.props.onExited(i),this.mounted&&this.setState(function(c){var d=ue({},c.children);return delete d[s.key],{children:d}}))},r.render=function(){var s=this.props,i=s.component,o=s.childFactory,c=vr(s,["component","childFactory"]),d=this.state.contextValue,u=Vnt(this.state.children).map(o);return delete c.appear,delete c.enter,delete c.exit,i===null?ve.createElement(MV.Provider,{value:d},u):ve.createElement(MV.Provider,{value:d},ve.createElement(i,c,u))},t}(ve.Component);N3.propTypes={};N3.defaultProps=Wnt;class _3{static create(){return new _3}currentId=null;start(t,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},t)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function qnt(){const e=gN(_3.create).current;return Tre(e.disposeEffect),e}function Gnt(e){const{className:t,classes:r,pulsate:n=!1,rippleX:s,rippleY:i,rippleSize:o,in:c,onExited:d,timeout:u}=e,[l,f]=b.useState(!1),p=ft(t,r.ripple,r.rippleVisible,n&&r.ripplePulsate),g={width:o,height:o,top:-(o/2)+i,left:-(o/2)+s},x=ft(r.child,l&&r.childLeaving,n&&r.childPulsate);return!c&&!l&&f(!0),b.useEffect(()=>{if(!c&&d!=null){const S=setTimeout(d,u);return()=>{clearTimeout(S)}}},[d,c,u]),a.jsx("span",{className:p,style:g,children:a.jsx("span",{className:x})})}const Li=fs("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),UR=550,Ynt=80,Knt=dy`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,Znt=dy`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,Xnt=dy`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,Qnt=ar("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Jnt=ar(Gnt,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Li.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Knt};
    animation-duration: ${UR}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${Li.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${Li.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Li.childLeaving} {
    opacity: 0;
    animation-name: ${Znt};
    animation-duration: ${UR}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${Li.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${Xnt};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,est=b.forwardRef(function(t,r){const n=oh({props:t,name:"MuiTouchRipple"}),{center:s=!1,classes:i={},className:o,...c}=n,[d,u]=b.useState([]),l=b.useRef(0),f=b.useRef(null);b.useEffect(()=>{f.current&&(f.current(),f.current=null)},[d]);const p=b.useRef(!1),g=qnt(),x=b.useRef(null),S=b.useRef(null),m=b.useCallback(E=>{const{pulsate:N,rippleX:k,rippleY:A,rippleSize:T,cb:P}=E;u(M=>[...M,a.jsx(Jnt,{classes:{ripple:ft(i.ripple,Li.ripple),rippleVisible:ft(i.rippleVisible,Li.rippleVisible),ripplePulsate:ft(i.ripplePulsate,Li.ripplePulsate),child:ft(i.child,Li.child),childLeaving:ft(i.childLeaving,Li.childLeaving),childPulsate:ft(i.childPulsate,Li.childPulsate)},timeout:UR,pulsate:N,rippleX:k,rippleY:A,rippleSize:T},l.current)]),l.current+=1,f.current=P},[i]),y=b.useCallback((E={},N={},k=()=>{})=>{const{pulsate:A=!1,center:T=s||N.pulsate,fakeElement:P=!1}=N;if(E?.type==="mousedown"&&p.current){p.current=!1;return}E?.type==="touchstart"&&(p.current=!0);const M=P?null:S.current,O=M?M.getBoundingClientRect():{width:0,height:0,left:0,top:0};let R,L,B;if(T||E===void 0||E.clientX===0&&E.clientY===0||!E.clientX&&!E.touches)R=Math.round(O.width/2),L=Math.round(O.height/2);else{const{clientX:F,clientY:$}=E.touches&&E.touches.length>0?E.touches[0]:E;R=Math.round(F-O.left),L=Math.round($-O.top)}if(T)B=Math.sqrt((2*O.width**2+O.height**2)/3),B%2===0&&(B+=1);else{const F=Math.max(Math.abs((M?M.clientWidth:0)-R),R)*2+2,$=Math.max(Math.abs((M?M.clientHeight:0)-L),L)*2+2;B=Math.sqrt(F**2+$**2)}E?.touches?x.current===null&&(x.current=()=>{m({pulsate:A,rippleX:R,rippleY:L,rippleSize:B,cb:k})},g.start(Ynt,()=>{x.current&&(x.current(),x.current=null)})):m({pulsate:A,rippleX:R,rippleY:L,rippleSize:B,cb:k})},[s,m,g]),w=b.useCallback(()=>{y({},{pulsate:!0})},[y]),C=b.useCallback((E,N)=>{if(g.clear(),E?.type==="touchend"&&x.current){x.current(),x.current=null,g.start(0,()=>{C(E,N)});return}x.current=null,u(k=>k.length>0?k.slice(1):k),f.current=N},[g]);return b.useImperativeHandle(r,()=>({pulsate:w,start:y,stop:C}),[w,y,C]),a.jsx(Qnt,{className:ft(Li.root,i.root,o),ref:S,...c,children:a.jsx(N3,{component:null,exit:!0,children:d})})});function tst(e){return _s("MuiButtonBase",e)}const rst=fs("MuiButtonBase",["root","disabled","focusVisible"]),nst=e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:n,classes:s}=e,o=As({root:["root",t&&"disabled",r&&"focusVisible"]},tst,s);return r&&n&&(o.root+=` ${n}`),o},sst=ar("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${rst.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Rse=b.forwardRef(function(t,r){const n=oh({props:t,name:"MuiButtonBase"}),{action:s,centerRipple:i=!1,children:o,className:c,component:d="button",disabled:u=!1,disableRipple:l=!1,disableTouchRipple:f=!1,focusRipple:p=!1,focusVisibleClassName:g,LinkComponent:x="a",onBlur:S,onClick:m,onContextMenu:y,onDragLeave:w,onFocus:C,onFocusVisible:E,onKeyDown:N,onKeyUp:k,onMouseDown:A,onMouseLeave:T,onMouseUp:P,onTouchEnd:M,onTouchMove:O,onTouchStart:R,tabIndex:L=0,TouchRippleProps:B,touchRippleRef:F,type:$,...z}=n,W=b.useRef(null),Z=Lnt(),V=Gd(Z.ref,F),[q,H]=b.useState(!1);u&&q&&H(!1),b.useImperativeHandle(s,()=>({focusVisible:()=>{H(!0),W.current.focus()}}),[]);const K=Z.shouldMount&&!l&&!u;b.useEffect(()=>{q&&p&&!l&&Z.pulsate()},[l,p,q,Z]);const Y=Wl(Z,"start",A,f),re=Wl(Z,"stop",y,f),me=Wl(Z,"stop",w,f),de=Wl(Z,"stop",P,f),he=Wl(Z,"stop",ce=>{q&&ce.preventDefault(),T&&T(ce)},f),ee=Wl(Z,"start",R,f),ie=Wl(Z,"stop",M,f),ye=Wl(Z,"stop",O,f),le=Wl(Z,"stop",ce=>{RV(ce.target)||H(!1),S&&S(ce)},!1),Te=ws(ce=>{W.current||(W.current=ce.currentTarget),RV(ce.target)&&(H(!0),E&&E(ce)),C&&C(ce)}),Ae=()=>{const ce=W.current;return d&&d!=="button"&&!(ce.tagName==="A"&&ce.href)},ae=ws(ce=>{p&&!ce.repeat&&q&&ce.key===" "&&Z.stop(ce,()=>{Z.start(ce)}),ce.target===ce.currentTarget&&Ae()&&ce.key===" "&&ce.preventDefault(),N&&N(ce),ce.target===ce.currentTarget&&Ae()&&ce.key==="Enter"&&!u&&(ce.preventDefault(),m&&m(ce))}),We=ws(ce=>{p&&ce.key===" "&&q&&!ce.defaultPrevented&&Z.stop(ce,()=>{Z.pulsate(ce)}),k&&k(ce),m&&ce.target===ce.currentTarget&&Ae()&&ce.key===" "&&!ce.defaultPrevented&&m(ce)});let rt=d;rt==="button"&&(z.href||z.to)&&(rt=x);const fe={};rt==="button"?(fe.type=$===void 0?"button":$,fe.disabled=u):(!z.href&&!z.to&&(fe.role="button"),u&&(fe["aria-disabled"]=u));const Fe=Gd(r,W),Q={...n,centerRipple:i,component:d,disabled:u,disableRipple:l,disableTouchRipple:f,focusRipple:p,tabIndex:L,focusVisible:q},ne=nst(Q);return a.jsxs(sst,{as:rt,className:ft(ne.root,c),ownerState:Q,onBlur:le,onClick:m,onContextMenu:re,onFocus:Te,onKeyDown:ae,onKeyUp:We,onMouseDown:Y,onMouseLeave:he,onMouseUp:de,onDragLeave:me,onTouchEnd:ie,onTouchMove:ye,onTouchStart:ee,ref:Fe,tabIndex:u?-1:L,type:$,...fe,...z,children:[o,K?a.jsx(est,{ref:V,center:i,...B}):null]})});function Wl(e,t,r,n=!1){return ws(s=>(r&&r(s),n||e[t](s),!0))}function ast(e){return _s("MuiCircularProgress",e)}fs("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const uo=44,VR=dy`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,WR=dy`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,ist=typeof VR!="string"?k4`
        animation: ${VR} 1.4s linear infinite;
      `:null,ost=typeof WR!="string"?k4`
        animation: ${WR} 1.4s ease-in-out infinite;
      `:null,lst=e=>{const{classes:t,variant:r,color:n,disableShrink:s}=e,i={root:["root",r,`color${Br(n)}`],svg:["svg"],track:["track"],circle:["circle",`circle${Br(r)}`,s&&"circleDisableShrink"]};return As(i,ast,t)},cst=ar("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`color${Br(r.color)}`]]}})($f(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:ist||{animation:`${VR} 1.4s linear infinite`}},...Object.entries(e.palette).filter(i0()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),dst=ar("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),ust=ar("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.circle,t[`circle${Br(r.variant)}`],r.disableShrink&&t.circleDisableShrink]}})($f(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:ost||{animation:`${WR} 1.4s ease-in-out infinite`}}]}))),fst=ar("circle",{name:"MuiCircularProgress",slot:"Track"})($f(({theme:e})=>({stroke:"currentColor",opacity:(e.vars||e).palette.action.activatedOpacity}))),Mse=b.forwardRef(function(t,r){const n=oh({props:t,name:"MuiCircularProgress"}),{className:s,color:i="primary",disableShrink:o=!1,enableTrackSlot:c=!1,size:d=40,style:u,thickness:l=3.6,value:f=0,variant:p="indeterminate",...g}=n,x={...n,color:i,disableShrink:o,size:d,thickness:l,value:f,variant:p,enableTrackSlot:c},S=lst(x),m={},y={},w={};if(p==="determinate"){const C=2*Math.PI*((uo-l)/2);m.strokeDasharray=C.toFixed(3),w["aria-valuenow"]=Math.round(f),m.strokeDashoffset=`${((100-f)/100*C).toFixed(3)}px`,y.transform="rotate(-90deg)"}return a.jsx(cst,{className:ft(S.root,s),style:{width:d,height:d,...y,...u},ownerState:x,ref:r,role:"progressbar",...w,...g,children:a.jsxs(dst,{className:S.svg,ownerState:x,viewBox:`${uo/2} ${uo/2} ${uo} ${uo}`,children:[c?a.jsx(fst,{className:S.track,ownerState:x,cx:uo,cy:uo,r:(uo-l)/2,fill:"none",strokeWidth:l,"aria-hidden":"true"}):null,a.jsx(ust,{className:S.circle,style:m,ownerState:x,cx:uo,cy:uo,r:(uo-l)/2,fill:"none",strokeWidth:l})]})})});function hst(e){return _s("MuiIconButton",e)}const OV=fs("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),mst=e=>{const{classes:t,disabled:r,color:n,edge:s,size:i,loading:o}=e,c={root:["root",o&&"loading",r&&"disabled",n!=="default"&&`color${Br(n)}`,s&&`edge${Br(s)}`,`size${Br(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return As(c,hst,t)},pst=ar(Rse,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.loading&&t.loading,r.color!=="default"&&t[`color${Br(r.color)}`],r.edge&&t[`edge${Br(r.edge)}`],t[`size${Br(r.size)}`]]}})($f(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),$f(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(i0()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(i0()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${OV.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${OV.loading}`]:{color:"transparent"}}))),gst=ar("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),xst=b.forwardRef(function(t,r){const n=oh({props:t,name:"MuiIconButton"}),{edge:s=!1,children:i,className:o,color:c="default",disabled:d=!1,disableFocusRipple:u=!1,size:l="medium",id:f,loading:p=null,loadingIndicator:g,...x}=n,S=mN(f),m=g??a.jsx(Mse,{"aria-labelledby":S,color:"inherit",size:16}),y={...n,edge:s,color:c,disabled:d,disableFocusRipple:u,loading:p,loadingIndicator:m,size:l},w=mst(y);return a.jsxs(pst,{id:p?S:f,className:ft(w.root,o),centerRipple:!0,focusRipple:!u,disabled:d||p,ref:r,...x,ownerState:y,children:[typeof p=="boolean"&&a.jsx("span",{className:w.loadingWrapper,style:{display:"contents"},children:a.jsx(gst,{className:w.loadingIndicator,ownerState:y,children:p&&m})}),i]})});function vst(e){return _s("MuiButton",e)}const Bu=fs("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),yst=b.createContext({}),bst=b.createContext(void 0),wst=e=>{const{color:t,disableElevation:r,fullWidth:n,size:s,variant:i,loading:o,loadingPosition:c,classes:d}=e,u={root:["root",o&&"loading",i,`${i}${Br(t)}`,`size${Br(s)}`,`${i}Size${Br(s)}`,`color${Br(t)}`,r&&"disableElevation",n&&"fullWidth",o&&`loadingPosition${Br(c)}`],startIcon:["icon","startIcon",`iconSize${Br(s)}`],endIcon:["icon","endIcon",`iconSize${Br(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},l=As(u,vst,d);return{...d,...l}},Ose=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],Sst=ar(Rse,{shouldForwardProp:e=>kre(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${Br(r.color)}`],t[`size${Br(r.size)}`],t[`${r.variant}Size${Br(r.size)}`],r.color==="inherit"&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth,r.loading&&t.loading]}})($f(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],r=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Bu.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${Bu.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${Bu.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Bu.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(i0()).map(([n])=>({props:{color:n},style:{"--variant-textColor":(e.vars||e).palette[n].main,"--variant-outlinedColor":(e.vars||e).palette[n].main,"--variant-outlinedBorder":e.alpha((e.vars||e).palette[n].main,.5),"--variant-containedColor":(e.vars||e).palette[n].contrastText,"--variant-containedBg":(e.vars||e).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[n].dark,"--variant-textBg":e.alpha((e.vars||e).palette[n].main,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[n].main,"--variant-outlinedBg":e.alpha((e.vars||e).palette[n].main,(e.vars||e).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Bu.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Bu.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${Bu.loading}`]:{color:"transparent"}}}]}})),Cst=ar("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,r.loading&&t.startIconLoadingStart,t[`iconSize${Br(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...Ose]})),jst=ar("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,r.loading&&t.endIconLoadingEnd,t[`iconSize${Br(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...Ose]})),Est=ar("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),IV=ar("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Nst=b.forwardRef(function(t,r){const n=b.useContext(yst),s=b.useContext(bst),i=Lf(n,t),o=oh({props:i,name:"MuiButton"}),{children:c,color:d="primary",component:u="button",className:l,disabled:f=!1,disableElevation:p=!1,disableFocusRipple:g=!1,endIcon:x,focusVisibleClassName:S,fullWidth:m=!1,id:y,loading:w=null,loadingIndicator:C,loadingPosition:E="center",size:N="medium",startIcon:k,type:A,variant:T="text",...P}=o,M=mN(y),O=C??a.jsx(Mse,{"aria-labelledby":M,color:"inherit",size:16}),R={...o,color:d,component:u,disabled:f,disableElevation:p,disableFocusRipple:g,fullWidth:m,loading:w,loadingIndicator:O,loadingPosition:E,size:N,type:A,variant:T},L=wst(R),B=(k||w&&E==="start")&&a.jsx(Cst,{className:L.startIcon,ownerState:R,children:k||a.jsx(IV,{className:L.loadingIconPlaceholder,ownerState:R})}),F=(x||w&&E==="end")&&a.jsx(jst,{className:L.endIcon,ownerState:R,children:x||a.jsx(IV,{className:L.loadingIconPlaceholder,ownerState:R})}),$=s||"",z=typeof w=="boolean"?a.jsx("span",{className:L.loadingWrapper,style:{display:"contents"},children:w&&a.jsx(Est,{className:L.loadingIndicator,ownerState:R,children:O})}):null;return a.jsxs(Sst,{ownerState:R,className:ft(n.className,L.root,l,$),component:u,disabled:f||w,focusRipple:!g,focusVisibleClassName:ft(L.focusVisible,S),ref:r,type:A,id:w?M:y,...P,classes:L,children:[B,E!=="end"&&z,c,E==="end"&&z,F]})}),_st={baseButton:Nst,baseIconButton:xst},Ast={},kst=ue({},_st,Ast),Tst=b.createContext(null);function Pst(e){const{slots:t,slotProps:r={},defaultSlots:n,children:s}=e,i=b.useMemo(()=>({slots:ue({},n,t),slotProps:r}),[n,t,r]);return a.jsx(Tst.Provider,{value:i,children:s})}function Dst(e,t,r,n,s,i,o,c,d,u,l,f=1/0,p=1){const g=n.copy(),x=s.copy();g.range([0,1]),x.range([0,1]);const S=function(T){const P=g(r[T].x),M=x(r[T].y);return P>=i&&P<=o&&M>=c&&M<=d},m=n.range()[1]-n.range()[0],y=s.range()[1]-s.range()[0],w=m*m,C=y*y;function E(A,T){return w*A*A+C*T*T}const N=g(LV(n,u,A=>r[A].x)),k=x(LV(s,l,A=>r[A].y));return e.neighbors(N,k,p,f!=null?f*f:1/0,S,E)}function LV(e,t,r){if(ta(e)){const n=e.bandwidth()===0?Math.floor((t-Math.min(...e.range())+e.step()/2)/e.step()):Math.floor((t-Math.min(...e.range()))/e.step());return r(n)}return e.invert(t)}const BN=({svgRef:e,params:t,store:r,instance:n})=>{const{disableVoronoi:s,voronoiMaxRadius:i,onItemClick:o}=t,c=wt(r,$a),{axis:d,axisIds:u}=wt(r,ha),{axis:l,axisIds:f}=wt(r,ma),p=wt(r,ane),{series:g,seriesOrder:x}=wt(r,ks)?.scatter??{},S=wt(r,p?lXe:cXe),m=u[0],y=f[0];is(()=>{r.set("voronoi",{isVoronoiEnabled:!s})},[r,s]),b.useEffect(()=>{if(e.current===null||s)return;const E=e.current;function N(B){const F=s0(E,B);if(!n.isPointInside(F.x,F.y))return"outside-chart";let $;for(const z of x??[]){const W=(g??{})[z],Z=S.get(z);if(!Z)continue;const V=W.xAxisId??m,q=W.yAxisId??y,H=aV(r.getSnapshot(),V),K=aV(r.getSnapshot(),q),Y=i==="item"?W.markerSize:i,re=(H?.start??0)/100,me=(H?.end??100)/100,de=(K?.start??0)/100,he=(K?.end??100)/100,ee=d[V].scale,ie=l[q].scale,ye=Dst(Z,c,W.data,ee,ie,re,me,de,he,F.x,F.y,Y)[0];if(ye===void 0)continue;const le=W.data[ye],Te=ee(le.x),Ae=ie(le.y),ae=(Te-F.x)**2+(Ae-F.y)**2;($===void 0||ae<$.distanceSq)&&($={dataIndex:ye,seriesId:z,distanceSq:ae})}return $===void 0?"no-point-found":{seriesId:$.seriesId,dataIndex:$.dataIndex}}const k=n.addInteractionListener("moveEnd",B=>{B.detail.activeGestures.pan||(n.cleanInteraction?.(),n.clearHighlight?.())}),A=n.addInteractionListener("panEnd",B=>{B.detail.activeGestures.move||(n.cleanInteraction?.(),n.clearHighlight?.())}),T=n.addInteractionListener("quickPressEnd",B=>{!B.detail.activeGestures.move&&!B.detail.activeGestures.pan&&(n.cleanInteraction?.(),n.clearHighlight?.())}),P=B=>{const F=N(B.detail.srcEvent);if(F==="outside-chart"){n.cleanInteraction?.(),n.clearHighlight?.();return}if(F==="outside-voronoi-max-radius"||F==="no-point-found"){n.removeItemInteraction?.(),n.clearHighlight?.();return}const{seriesId:$,dataIndex:z}=F;n.setItemInteraction?.({type:"scatter",seriesId:$,dataIndex:z},{interaction:"pointer"}),n.setHighlight?.({seriesId:$,dataIndex:z})},M=n.addInteractionListener("tap",B=>{const F=N(B.detail.srcEvent);if(typeof F!="string"&&o){const{seriesId:$,dataIndex:z}=F;o(B.detail.srcEvent,{type:"scatter",seriesId:$,dataIndex:z})}}),O=n.addInteractionListener("move",P),R=n.addInteractionListener("pan",P),L=n.addInteractionListener("quickPress",P);return()=>{M.cleanup(),O.cleanup(),k.cleanup(),R.cleanup(),A.cleanup(),L.cleanup(),T.cleanup()}},[e,l,d,i,o,s,c,n,x,g,S,m,y,r]);const w=ws(()=>{r.set("voronoi",{isVoronoiEnabled:!0})}),C=ws(()=>{r.set("voronoi",{isVoronoiEnabled:!1})});return{instance:{enableVoronoi:w,disableVoronoi:C}}};BN.getDefaultizedParams=({params:e})=>ue({},e,{disableVoronoi:e.disableVoronoi??!e.series.some(t=>t.type==="scatter")});BN.getInitialState=e=>({voronoi:{isVoronoiEnabled:!e.disableVoronoi}});BN.params={disableVoronoi:!0,voronoiMaxRadius:!0,onItemClick:!0};const Ise=[Cy,Sy,vy,pg,xg,BN,AN],Rst=["children","localeText","plugins","seriesConfig","slots","slotProps"],Mst=e=>{const t=yi({props:e,name:"MuiChartDataProvider"}),{children:r,localeText:n,plugins:s=Ise,seriesConfig:i,slots:o,slotProps:c}=t,d=vr(t,Rst),u=nh(),l={plugins:s,seriesConfig:i,pluginParams:ue({theme:u.palette.mode},d)};return{children:r,localeText:n,chartProviderProps:l,slots:o,slotProps:c}};function Ost(e){const{children:t,localeText:r,chartProviderProps:n,slots:s,slotProps:i}=Mst(e);return a.jsx(OJe,ue({},n,{children:a.jsx(KQe,{localeText:r,children:a.jsx(Pst,{slots:s,slotProps:i,defaultSlots:kst,children:t})})}))}function BV(e){const{isReversed:t,gradientId:r,size:n,direction:s,scale:i,colorMap:o}=e;return n<=0?null:a.jsx("linearGradient",{id:r,x1:"0",x2:"0",y1:"0",y2:"0",[`${s}${t?1:2}`]:`${n}px`,gradientUnits:"userSpaceOnUse",children:o.thresholds.map((c,d)=>{const u=i(c);if(u===void 0)return null;const l=t?1-u/n:u/n;return Number.isNaN(l)?null:a.jsxs(b.Fragment,{children:[a.jsx("stop",{offset:l,stopColor:o.colors[d],stopOpacity:1}),a.jsx("stop",{offset:l,stopColor:o.colors[d+1],stopOpacity:1})]},c.toString()+d)})})}const Ist=10;function $V(e){const{gradientUnits:t,isReversed:r,gradientId:n,size:s,direction:i,scale:o,colorScale:c,colorMap:d}=e,u=[d.min??0,d.max??100],l=u.map(o).filter(x=>x!==void 0);if(l.length!==2)return null;const f=typeof u[0]=="number"?es(u[0],u[1]):ZO(u[0],u[1]),p=Math.round((Math.max(...l)-Math.min(...l))/Ist),g=`${u[0]}-${u[1]}-`;return a.jsx("linearGradient",{id:n,x1:"0",x2:"0",y1:"0",y2:"0",[`${i}${r?1:2}`]:t==="objectBoundingBox"?1:`${s}px`,gradientUnits:t??"userSpaceOnUse",children:Array.from({length:p+1},(x,S)=>{const m=f(S/p);if(m===void 0)return null;const y=o(m);if(y===void 0)return null;const w=r?1-y/s:y/s,C=c(m);return C===null?null:a.jsx("stop",{offset:w,stopColor:C,stopOpacity:1},g+S)})})}const Lst=10,Bst=e=>e?{x1:"1",x2:"0",y1:"0",y2:"0"}:{x1:"0",x2:"1",y1:"0",y2:"0"};function wP(e){const{isReversed:t,gradientId:r,colorScale:n,colorMap:s}=e,i=[s.min??0,s.max??100],o=typeof i[0]=="number"?es(i[0],i[1]):ZO(i[0],i[1]),c=Lst,d=`${i[0]}-${i[1]}-`;return a.jsx("linearGradient",ue({id:r},Bst(t),{gradientUnits:"objectBoundingBox",children:Array.from({length:c+1},(u,l)=>{const f=l/c,p=o(f);if(p===void 0)return null;const g=n(p);return g===null?null:a.jsx("stop",{offset:f,stopColor:g,stopOpacity:1},d+l)})}))}function $st(){const{top:e,height:t,bottom:r,left:n,width:s,right:i}=no(),o=e+t+r,c=n+s+i,d=CQe(),u=jQe(),{xAxis:l,xAxisIds:f}=Bc(),{yAxis:p,yAxisIds:g}=$c(),{zAxis:x,zAxisIds:S}=c3(),m=g.filter(C=>p[C].colorMap!==void 0),y=f.filter(C=>l[C].colorMap!==void 0),w=S.filter(C=>x[C].colorMap!==void 0);return m.length===0&&y.length===0&&w.length===0?null:a.jsxs("defs",{children:[m.map(C=>{const E=d(C),N=u(C),{colorMap:k,scale:A,colorScale:T,reverse:P}=p[C];return k?.type==="piecewise"?a.jsx(BV,{isReversed:!P,scale:A,colorMap:k,size:o,gradientId:E,direction:"y"},E):k?.type==="continuous"?a.jsxs(b.Fragment,{children:[a.jsx($V,{isReversed:!P,scale:A,colorScale:T,colorMap:k,size:o,gradientId:E,direction:"y"}),a.jsx(wP,{isReversed:P,colorScale:T,colorMap:k,gradientId:N})]},E):null}),y.map(C=>{const E=d(C),N=u(C),{colorMap:k,scale:A,reverse:T,colorScale:P}=l[C];return k?.type==="piecewise"?a.jsx(BV,{isReversed:T,scale:A,colorMap:k,size:c,gradientId:E,direction:"x"},E):k?.type==="continuous"?a.jsxs(b.Fragment,{children:[a.jsx($V,{isReversed:T,scale:A,colorScale:P,colorMap:k,size:c,gradientId:E,direction:"x"}),a.jsx(wP,{isReversed:T,colorScale:P,colorMap:k,gradientId:N})]},E):null}),w.map(C=>{const E=u(C),{colorMap:N,colorScale:k}=x[C];return N?.type==="continuous"?a.jsx(wP,{colorScale:k,colorMap:N,gradientId:E},E):null})]})}function Fst(e){return _s("MuiChartsSurface",e)}const Hst=()=>As({root:["root"]},Fst);fs("MuiChartsSurface",["root"]);const zst=["children","className","title","desc"],Ust=ar("svg",{name:"MuiChartsSurface",slot:"Root"})(({ownerState:e,theme:t})=>({width:e.width??"100%",height:e.height??"100%",display:"flex",position:"relative",flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden",touchAction:"pan-y",userSelect:"none",gridArea:"chart","&:focus":{outline:"none"},"&:focus-visible":{outline:`${(t.vars??t).palette.text.primary} solid 2px`,"&[data-has-focused-item=true]":{outline:"none"}},"& [data-focused=true]":{outline:`${(t.vars??t).palette.text.primary} solid 2px`}})),Vst=b.forwardRef(function(t,r){const n=Vr(),s=wt(n,tZe),i=wt(n,rZe),o=wt(n,Dre),c=wt(n,Rre),d=wt(n,bXe),u=wt(n,yXe),l=d3(),f=Gd(l,r),p=yi({props:t,name:"MuiChartsSurface"}),{children:g,className:x,title:S,desc:m}=p,y=vr(p,zst),w=Hst(),C=i>0&&s>0;return a.jsxs(Ust,ue({ownerState:{width:o,height:c},viewBox:`0 0 ${s} ${i}`,className:ft(w.root,x),tabIndex:d?0:void 0,"data-has-focused-item":u||void 0},y,{ref:f,children:[S&&a.jsx("title",{children:S}),m&&a.jsx("desc",{children:m}),a.jsx($st,{}),C&&g]}))}),Wst=["width","height","margin","children","series","colors","dataset","desc","onAxisClick","highlightedAxis","onHighlightedAxisChange","disableVoronoi","voronoiMaxRadius","onItemClick","disableAxisListener","highlightedItem","onHighlightChange","sx","title","xAxis","yAxis","zAxis","rotationAxis","radiusAxis","skipAnimation","seriesConfig","plugins","localeText","slots","slotProps","experimentalFeatures","enableKeyboardNavigation","brushConfig"],qst=(e,t)=>{const r=e,{width:n,height:s,margin:i,children:o,series:c,colors:d,dataset:u,desc:l,onAxisClick:f,highlightedAxis:p,onHighlightedAxisChange:g,disableVoronoi:x,voronoiMaxRadius:S,onItemClick:m,disableAxisListener:y,highlightedItem:w,onHighlightChange:C,sx:E,title:N,xAxis:k,yAxis:A,zAxis:T,rotationAxis:P,radiusAxis:M,skipAnimation:O,seriesConfig:R,plugins:L,localeText:B,slots:F,slotProps:$,experimentalFeatures:z,enableKeyboardNavigation:W,brushConfig:Z}=r,V=vr(r,Wst),q=ue({title:N,desc:l,sx:E,ref:t},V);return{chartDataProviderProps:{margin:i,series:c,colors:d,dataset:u,disableAxisListener:y,highlightedItem:w,onHighlightChange:C,onAxisClick:f,highlightedAxis:p,onHighlightedAxisChange:g,disableVoronoi:x,voronoiMaxRadius:S,onItemClick:m,xAxis:k,yAxis:A,zAxis:T,rotationAxis:P,radiusAxis:M,skipAnimation:O,width:n,height:s,localeText:B,seriesConfig:R,experimentalFeatures:z,enableKeyboardNavigation:W,brushConfig:Z,plugins:L??Ise,slots:F,slotProps:$},chartsSurfaceProps:q,children:o}},FV=fs("MuiChartsToolbar",["root"]),Gst=e=>e?.horizontal==="start"?"start":e?.horizontal==="end"?"end":"center",Yst=e=>e?.vertical==="top"?"flex-start":e?.vertical==="bottom"?"flex-end":"center",Kst=(e,t,r)=>e?'"chart"':t==="vertical"?r?.horizontal==="start"?'"legend chart"':'"chart legend"':r?.vertical==="bottom"?`"chart"
            "legend"`:`"legend"
          "chart"`,Zst=(e=!1,t="horizontal",r="end",n=void 0)=>{const s=n?"auto":"1fr";return t==="horizontal"||e?s:r==="start"?`auto ${s}`:`${s} auto`},Xst=(e=!1,t="horizontal",r="top")=>{const n="1fr";return t==="vertical"||e?n:r==="bottom"?`${n} auto`:`auto ${n}`},Qst=ar("div",{name:"MuiChartsWrapper",slot:"Root",shouldForwardProp:e=>US(e)&&e!=="extendVertically"&&e!=="width"})(({ownerState:e,width:t})=>{const r=Zst(e.hideLegend,e.legendDirection,e.legendPosition?.horizontal,t),n=Xst(e.hideLegend,e.legendDirection,e.legendPosition?.vertical),s=Kst(e.hideLegend,e.legendDirection,e.legendPosition);return{variants:[{props:{extendVertically:!0},style:{height:"100%",minHeight:0}}],flex:1,display:"grid",gridTemplateColumns:r,gridTemplateRows:n,gridTemplateAreas:s,[`&:has(.${FV.root})`]:{gridTemplateRows:`auto ${n}`,gridTemplateAreas:`"${r.split(" ").map(()=>"toolbar").join(" ")}"
        ${s}`},[`& .${FV.root}`]:{gridArea:"toolbar",justifySelf:"center"},justifyContent:"safe center",justifyItems:Gst(e.legendPosition),alignItems:Yst(e.legendPosition)}});function Jst(e){const{children:t,sx:r,extendVertically:n}=e,s=VQe(),i=Vr(),o=wt(i,Dre),c=wt(i,Rre);return a.jsx(Qst,{ref:s,ownerState:e,sx:r,extendVertically:n??c===void 0,width:o,children:t})}const Lse=b.forwardRef(function(t,r){const n=yi({props:t,name:"MuiBarChart"}),{chartsWrapperProps:s,chartContainerProps:i,barPlotProps:o,gridProps:c,clipPathProps:d,clipPathGroupProps:u,overlayProps:l,chartsAxisProps:f,axisHighlightProps:p,legendProps:g,children:x}=Int(n),{chartDataProviderProps:S,chartsSurfaceProps:m}=qst(i,r),y=n.slots?.tooltip??Jrt,w=n.slots?.toolbar;return a.jsx(Ost,ue({},S,{children:a.jsxs(Jst,ue({},s,{children:[n.showToolbar&&w?a.jsx(w,ue({},n.slotProps?.toolbar)):null,!n.hideLegend&&a.jsx(fnt,ue({},g)),a.jsxs(Vst,ue({},m,{children:[a.jsx(Ent,ue({},c)),a.jsxs("g",ue({},u,{children:[a.jsx(fet,ue({},o)),a.jsx(Rnt,ue({},l)),a.jsx(xnt,ue({},p))]})),a.jsx(rtt,ue({},f)),a.jsx(vnt,ue({},d)),x]})),!n.loading&&a.jsx(y,ue({},n.slotProps?.tooltip))]}))}))}),HV=({title:e="Total Sales by Date",className:t})=>{const{isLoading:r,error:n,buildMetricSeriesFromDailyMap:s}=Ba(),i=ea(),o=b.useRef(null),[c,d]=b.useState(800);b.useEffect(()=>{const f=o.current;if(!f)return;const p=new ResizeObserver(g=>{const x=g[0]?.contentRect?.width||800;d(Math.max(320,Math.floor(x)))});return p.observe(f),()=>{p.disconnect()}},[]),b.useEffect(()=>{},[r,n]);const u=b.useMemo(()=>{const p=[...s("Total_Sales")].sort((C,E)=>C.date.localeCompare(E.date)),g=p.map(C=>C.date),x=p.map(C=>C.value==null?null:Number(C.value)),S=p.map(C=>C.prevWeekValue==null?null:Number(C.prevWeekValue)),m=x.map(C=>C??0),y=S.map(C=>C??0),w=S.some(C=>C!==null);return{labels:g,currentValuesNum:m,prevValuesNum:y,hasPrev:w,hasCurrent:x.some(C=>C!==null)}},[s]),l=b.useMemo(()=>!u.hasCurrent&&!u.hasPrev,[u]);return a.jsxs(Se,{className:t,children:[a.jsx(Me,{children:a.jsx(Ve,{className:"text-base sm:text-lg",children:e})}),a.jsx(Ee,{children:a.jsx("div",{ref:o,className:"w-full",children:r?a.jsx("div",{className:"flex items-center justify-center h-48",children:a.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})}):n?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center text-red-700",children:n}):l?a.jsx("div",{className:"text-muted-foreground text-sm p-4",children:"No sales data available."}):a.jsx(Lse,{width:c,height:i?260:360,xAxis:[{data:u.labels,scaleType:"band"}],series:[{data:u.currentValuesNum,label:"Current",color:"var(--chart-1)"},...u.hasPrev?[{data:u.prevValuesNum,label:"Prev Week",color:"var(--chart-2)"}]:[]],margin:{top:20,right:20,bottom:40,left:50}})})})]})},eat=({title:e="Total Sales by Date",className:t})=>{const{isLoading:r,error:n,buildMetricSeriesFromDailyMap:s}=Ba(),i=ea(),o=b.useMemo(()=>[...s("Total_Sales")].sort((f,p)=>f.date.localeCompare(p.date)).map(f=>({name:f.date,current:f.value==null?0:Number(f.value),prev:f.prevWeekValue==null?0:Number(f.prevWeekValue)})),[s]),c=b.useMemo(()=>o.some(u=>u.prev!==0),[o]),d=b.useMemo(()=>o.length===0||o.every(u=>u.current===0)&&!c,[o,c]);return a.jsxs(Se,{className:t,children:[a.jsx(Me,{children:a.jsx(Ve,{className:"text-base sm:text-lg",children:e})}),a.jsx(Ee,{children:r?a.jsx("div",{className:"flex items-center justify-center h-48",children:a.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})}):n?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center text-red-700",children:n}):d?a.jsx("div",{className:"text-muted-foreground text-sm p-4",children:"No sales data available."}):a.jsx("div",{className:"w-full",style:{height:i?260:360},children:a.jsx(n4,{width:"100%",height:"100%",children:a.jsxs(Cte,{data:o,margin:{top:20,right:20,bottom:40,left:50},children:[a.jsx(g4,{strokeDasharray:"3 3",stroke:"var(--border)"}),a.jsx(ZE,{dataKey:"name",stroke:"var(--muted-foreground)"}),a.jsx(XE,{stroke:"var(--muted-foreground)"}),a.jsx(r4,{contentStyle:{backgroundColor:"var(--popover)",border:"1px solid var(--border)",borderRadius:"var(--radius)",color:"var(--popover-foreground)"}}),a.jsx(rg,{}),a.jsx(Zv,{dataKey:"current",name:"Current",fill:"var(--chart-1)"}),c&&a.jsx(Zv,{dataKey:"prev",name:"Prev Week",fill:"var(--chart-2)"})]})})})})]})},zV=e=>{try{return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(e)}catch{return e.toLocaleString()}},tat=({title:e="Total Sales by Date",className:t})=>{const{isLoading:r,error:n,buildMetricSeriesFromDailyMap:s}=Ba(),i=ea(),o=b.useMemo(()=>[...s("Total_Sales")].sort((f,p)=>f.date.localeCompare(p.date)).map(f=>({name:f.date,current:f.value==null?0:Number(f.value),prev:f.prevWeekValue==null?0:Number(f.prevWeekValue)})),[s]),c=b.useMemo(()=>o.some(u=>u.prev!==0),[o]),d=b.useMemo(()=>o.length===0||o.every(u=>u.current===0)&&!c,[o,c]);return a.jsxs(Se,{className:t,children:[a.jsx(Me,{children:a.jsx(Ve,{className:"text-base sm:text-lg",children:e})}),a.jsx(Ee,{children:r?a.jsx("div",{className:"flex items-center justify-center h-48",children:a.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})}):n?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center text-red-700",children:n}):d?a.jsx("div",{className:"text-muted-foreground text-sm p-4",children:"No sales data available."}):a.jsx("div",{className:"w-full",style:{height:i?260:360},children:a.jsx(n4,{width:"100%",height:"100%",children:a.jsxs(Cte,{data:o,margin:{top:20,right:20,bottom:40,left:50},children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"barGradientCurrent",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"var(--chart-1)",stopOpacity:1}),a.jsx("stop",{offset:"100%",stopColor:"var(--chart-1)",stopOpacity:.2})]}),a.jsxs("linearGradient",{id:"barGradientPrev",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"var(--chart-4)",stopOpacity:1}),a.jsx("stop",{offset:"100%",stopColor:"var(--chart-4)",stopOpacity:.2})]})]}),a.jsx(g4,{strokeDasharray:"3 3",stroke:"var(--border)"}),a.jsx(ZE,{dataKey:"name",stroke:"var(--muted-foreground)",tick:{fontSize:i?10:12},tickMargin:8}),a.jsx(XE,{stroke:"var(--muted-foreground)",tick:{fontSize:i?10:12},tickFormatter:u=>zV(Number(u)),width:60}),a.jsx(r4,{formatter:(u,l)=>[zV(u),l],contentStyle:{backgroundColor:"var(--popover)",border:"1px solid var(--border)",borderRadius:"var(--radius)",color:"var(--popover-foreground)"}}),a.jsx(rg,{wrapperStyle:{color:"var(--muted-foreground)"}}),a.jsx(Zv,{dataKey:"current",name:"Current",fill:"url(#barGradientCurrent)",radius:[10,10,0,0]}),c&&a.jsx(Zv,{dataKey:"prev",name:"Prev Week",fill:"url(#barGradientPrev)",radius:[10,10,0,0]})]})})})})]})},UV=({title:e="Labor % by Date",className:t})=>{const{isLoading:r,error:n,buildMetricSeriesFromDailyMap:s}=Ba(),i=ea(),o=b.useRef(null),[c,d]=b.useState(800);b.useEffect(()=>{const f=o.current;if(!f)return;const p=new ResizeObserver(g=>{const x=g[0]?.contentRect?.width||800;d(Math.max(320,Math.floor(x)))});return p.observe(f),()=>{p.disconnect()}},[]);const u=b.useMemo(()=>{const p=[...s("labor")].sort((C,E)=>C.date.localeCompare(E.date)),g=p.map(C=>C.date),x=p.map(C=>C.value==null?null:Number(C.value)*100),S=p.map(C=>C.prevWeekValue==null?null:Number(C.prevWeekValue)*100),m=x.map(C=>C??0),y=S.map(C=>C??0),w=S.some(C=>C!==null);return{labels:g,currentValuesNum:m,prevValuesNum:y,hasPrev:w,hasCurrent:x.some(C=>C!==null)}},[s]),l=b.useMemo(()=>!u.hasCurrent&&!u.hasPrev,[u]);return a.jsxs(Se,{className:t,children:[a.jsx(Me,{children:a.jsx(Ve,{className:"text-base sm:text-lg",children:e})}),a.jsx(Ee,{children:a.jsx("div",{ref:o,className:"w-full",children:r?a.jsx("div",{className:"flex items-center justify-center h-48",children:a.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})}):n?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center text-red-700",children:n}):l?a.jsx("div",{className:"text-muted-foreground text-sm p-4",children:"No labor data available."}):a.jsx(Lse,{width:c,height:i?260:360,xAxis:[{data:u.labels,scaleType:"band"}],series:[{data:u.currentValuesNum,label:"Current",color:"var(--chart-1)"},...u.hasPrev?[{data:u.prevValuesNum,label:"Prev Week",color:"var(--chart-2)"}]:[]],margin:{top:20,right:20,bottom:40,left:50}})})})]})},SP=e=>{if(e==null||Number.isNaN(e))return"";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:0}).format(e)}catch{return`${e}`}},rat=({title:e="Total Sales",Icon:t=cX,iconColorClass:r="text-primary",iconBgClass:n="bg-primary-50 dark:bg-primary-900",className:s,hover:i=!0})=>{const{financialMetrics:o,processedData:c,isLoading:d,error:u,getPrevWeekComparisonForDate:l}=Ba(),f=c?.weekly?.financial?.totalSales??null,p=o?.totalSales??null,g=c?.date,x=g?l(g)?.prevWeek?.Total_Sales??null:null;return a.jsxs(Se,{className:J("relative overflow-hidden p-6 w-full","shadow-lg border-0 border-b-2  border-primary-400",i?"transition-all hover:border-b-4":"",s),children:[a.jsx("div",{className:"flex w-full items-center justify-between",children:a.jsxs("div",{className:"relative flex items-center justify-between w-full gap-2",children:[a.jsx("div",{className:J("rounded-md p-2",n),children:a.jsx(t,{className:J("h-6 w-6",r),"aria-hidden":"true"})}),a.jsx("div",{className:"text-primary-500 text-sm md:text-base font-medium",children:e})]})}),a.jsx(Ee,{className:"p-0",children:d?a.jsxs("div",{className:"animate-pulse space-y-3",children:[a.jsx("div",{className:"h-5 w-32 bg-primary-50 rounded"}),a.jsx("div",{className:"h-8 w-48 bg-primary-50 rounded"}),a.jsx("div",{className:"h-6 w-44 bg-primary-50 rounded"}),a.jsx("div",{className:"h-6 w-56 bg-primary-50 rounded"})]}):u?a.jsx("div",{className:"text-sm text-red-600",children:u}):a.jsxs("div",{className:"flex flex-col gap-4 mt-4",children:[a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsxs("div",{className:"grid grid-cols-3 gap-x-6 sm:gap-x-8 md:gap-x-10 w-full",children:[a.jsx("span",{className:"text-primary-500 text-xs text-start",children:"Weekly"}),a.jsx("span",{className:"text-primary-500 text-base font-semibold text-center",children:"Daily"}),a.jsx("span",{className:"text-primary-500 text-xs text-end",children:"Prev Week"})]})}),a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsxs("div",{className:"grid grid-cols-3 gap-x-6 sm:gap-x-8 md:gap-x-10 w-full",children:[a.jsx("span",{className:"text-muted-foreground text-base font-medium text-start",children:SP(f)}),a.jsx("span",{className:"text-card-foreground text-lg md:text-xl font-semibold text-center",children:SP(p)}),a.jsx("span",{className:"text-muted-foreground text-base font-medium text-end",children:SP(x)})]})})]})})]})},CP=e=>{if(e==null||Number.isNaN(e))return"";try{return new Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:1}).format(e)}catch{return`${(e*100).toFixed(1)}%`}},nat=({title:e="Labor Percentage",Icon:t=yO,iconColorClass:r="text-primary",iconBgClass:n="bg-primary-50 dark:bg-primary-900",className:s,hover:i=!0})=>{const{financialMetrics:o,processedData:c,isLoading:d,error:u,getPrevWeekComparisonForDate:l}=Ba(),f=c?.weekly?.financial?.laborCostPercentage??null,p=o?.laborCostPercentage??null,g=c?.date,x=g?l(g)?.prevWeek?.labor??null:null;return a.jsxs(Se,{className:J("relative overflow-hidden p-6 w-full","shadow-lg border-0 border-b-2  border-primary-400",i?"transition-all hover:border-b-4":"",s),children:[a.jsxs("div",{className:"flex w-full items-center justify-between",children:[a.jsx("div",{className:"flex flex-col items-center gap-1",children:d?a.jsx("div",{className:"h-6 w-20 bg-primary-50 rounded animate-pulse"}):u?null:a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-primary-500 text-lg font-semibold",children:"Daily"}),a.jsx("span",{className:"text-card-foreground text-lg md:text-xl font-semibold",children:CP(p)})]})}),a.jsxs("div",{className:"relative flex flex-col items-center gap-2",children:[a.jsx("div",{className:J("rounded-md p-2",n),children:a.jsx(t,{className:J("h-6 w-6",r),"aria-hidden":"true"})}),a.jsx("div",{className:"text-primary-500 text-sm md:text-base font-medium",children:e})]})]}),a.jsx(Ee,{className:"p-0",children:d?a.jsxs("div",{className:"animate-pulse space-y-3",children:[a.jsx("div",{className:"h-5 w-32 bg-primary-50 rounded"}),a.jsx("div",{className:"h-8 w-48 bg-primary-50 rounded"}),a.jsx("div",{className:"h-6 w-44 bg-primary-50 rounded"}),a.jsx("div",{className:"h-6 w-56 bg-primary-50 rounded"})]}):u?a.jsx("div",{className:"text-sm text-red-600",children:u}):a.jsxs("div",{className:"flex flex-col gap-2 mt-6",children:[a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsxs("div",{className:"grid grid-cols-2 gap-x-6 sm:gap-x-8 md:gap-x-10 w-full",children:[a.jsx("span",{className:"text-primary-500 text-xs text-start",children:"Weekly"}),a.jsx("span",{className:"text-chart-4 text-xs text-end",children:"Prev Week"})]})}),a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsxs("div",{className:"grid grid-cols-2 gap-x-6 sm:gap-x-8 md:gap-x-10 w-full",children:[a.jsx("span",{className:"text-muted-foreground text-base font-medium text-start",children:CP(f)}),a.jsx("span",{className:"text-muted-foreground text-base font-medium text-end",children:CP(x)})]})})]})})]})};var A3="Progress",k3=100,[sat,Pxt]=Yn(A3),[aat,iat]=sat(A3),Bse=b.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=oat,...o}=e;(s||s===0)&&!VV(s)&&console.error(lat(`${s}`,"Progress"));const c=VV(s)?s:k3;n!==null&&!WV(n,c)&&console.error(cat(`${n}`,"Progress"));const d=WV(n,c)?n:null,u=xj(d)?i(d,c):void 0;return a.jsx(aat,{scope:r,value:d,max:c,children:a.jsx(Je.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":xj(d)?d:void 0,"aria-valuetext":u,role:"progressbar","data-state":Hse(d,c),"data-value":d??void 0,"data-max":c,...o,ref:t})})});Bse.displayName=A3;var $se="ProgressIndicator",Fse=b.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=iat($se,r);return a.jsx(Je.div,{"data-state":Hse(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});Fse.displayName=$se;function oat(e,t){return`${Math.round(e/t*100)}%`}function Hse(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function xj(e){return typeof e=="number"}function VV(e){return xj(e)&&!isNaN(e)&&e>0}function WV(e,t){return xj(e)&&!isNaN(e)&&e<=t&&e>=0}function lat(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${k3}\`.`}function cat(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${k3} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var zse=Bse,dat=Fse;const c0=b.forwardRef(({className:e,value:t,...r},n)=>a.jsx(zse,{ref:n,className:J("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...r,children:a.jsx(dat,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));c0.displayName=zse.displayName;const jP=e=>{if(e==null||Number.isNaN(e))return"";try{return new Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:1}).format(e)}catch{return`${(e*100).toFixed(1)}%`}},qV=e=>{if(e==null||Number.isNaN(e))return 0;const t=e*100;return Number.isNaN(t)?0:Math.max(0,Math.min(100,t))},uat=({title:e="Labor Percentage",Icon:t=yO,iconColorClass:r="text-dashboard-green-500",iconBgClass:n="bg-dashboard-green-50 dark:bg-dashboard-green-900",className:s,hover:i=!0})=>{const{financialMetrics:o,processedData:c,isLoading:d,error:u,getPrevWeekComparisonForDate:l}=Ba(),f=c?.weekly?.financial?.laborCostPercentage??null,p=o?.laborCostPercentage??null,g=c?.date,x=g?l(g)?.prevWeek?.labor??null:null;return a.jsxs(Se,{className:J("relative overflow-hidden p-6 w-full","shadow-lg border-0 border-b-2  border-primary-400",i?"transition-all hover:border-b-4":"",s),children:[a.jsxs("div",{className:"flex w-full items-center justify-between",children:[a.jsx("div",{className:"flex flex-col items-center gap-1",children:d?a.jsx("div",{className:"h-6 w-20 bg-primary-50 rounded animate-pulse"}):u?null:a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-dashboard-green text-lg font-semibold",children:"Daily"}),a.jsx("span",{className:"text-card-foreground text-lg md:text-xl font-semibold",children:jP(p)})]})}),a.jsxs("div",{className:"relative flex flex-col items-center gap-2",children:[a.jsx("div",{className:J("rounded-md p-2",n),children:a.jsx(t,{className:J("h-6 w-6",r),"aria-hidden":"true"})}),a.jsx("div",{className:"text-dashboard-green text-sm md:text-base font-medium",children:e})]})]}),a.jsx(Ee,{className:"p-0",children:d?a.jsxs("div",{className:"animate-pulse space-y-3",children:[a.jsx("div",{className:"h-5 w-32 bg-primary-50 rounded"}),a.jsx("div",{className:"h-8 w-48 bg-primary-50 rounded"}),a.jsx("div",{className:"h-6 w-44 bg-primary-50 rounded"}),a.jsx("div",{className:"h-6 w-56 bg-primary-50 rounded"})]}):u?a.jsx("div",{className:"text-sm text-red-600",children:u}):a.jsxs("div",{className:"flex flex-col gap-3 mt-6",children:[a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"grid grid-cols-2 gap-x-6 sm:gap-x-8 md:gap-x-10 w-full",children:[a.jsx("span",{className:"text-dashboard-green text-xs text-start",children:"Weekly"}),a.jsx("span",{className:"text-chart-4 text-xs text-end",children:"Prev Week"})]})}),a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"grid grid-cols-2 gap-x-6 sm:gap-x-8 md:gap-x-10 w-full items-center",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("span",{className:"text-dashboard-green text-sm font-medium text-start",children:jP(f)}),a.jsx(c0,{value:qV(f),className:"h-3 md:h-4 bg-primary/30 ring-1 ring-primary/40"})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("span",{className:"text-chart-4 text-sm font-medium text-end",children:jP(x)}),a.jsx(c0,{value:qV(x),className:"h-3 md:h-4 bg-primary/30 ring-1 ring-primary/40"})]})]})})]})})]})},fat=Zf("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ze({className:e,variant:t,...r}){return a.jsx("div",{className:J(fat({variant:t}),e),...r})}const hat={"dashboard-green":"bg-[var(--dashboard-green-100)] dark:bg-[var(--dashboard-green-900)] text-[var(--dashboard-green)]","dashboard-blue":"bg-[var(--dashboard-blue-100)] dark:bg-[var(--dashboard-blue-900)] text-[var(--dashboard-blue)]","dashboard-ocean":"bg-[var(--dashboard-ocean-100)] dark:bg-[var(--dashboard-ocean-900)] text-[var(--dashboard-ocean)]","dashboard-yellow":"bg-[var(--dashboard-yellow-100)] dark:bg-[var(--dashboard-yellow-900)] text-[var(--dashboard-yellow)]","dashboard-purble":"bg-[var(--dashboard-purble-100)] dark:bg-[var(--dashboard-purble-900)] text-[var(--dashboard-purble)]"},mat=({title:e="Metrics",description:t,rows:r,className:n})=>{const{dailyRawData:s,weeklyRawData:i,getAvailableDailyDates:o,buildMetricSeriesFromDailyMap:c,isLoading:d,error:u}=Ba(),l=ea(),f=!!(s||i),p=b.useMemo(()=>{const E=o();if(!E||E.length===0)return null;const N=[...E].sort();return N[N.length-1]||null},[o]),g=b.useMemo(()=>{const E=T=>{if(!s)return 0;const P=T,M=s.Avrage_ticket??s.Average_ticket??0;return T==="Average_ticket"?M||0:s[P]??0},N=T=>{if(!i)return 0;const P=T,M=i.Avrage_ticket??i.Average_ticket??0;return T==="Average_ticket"?M||0:i[P]??0},k=T=>p?c(T).find(O=>O.date===p)?.prevWeekValue??0:0;return[{label:"Total_TIPS",weekly:N("Total_TIPS"),daily:E("Total_TIPS"),prev:k("Total_TIPS"),color:"dashboard-green"},{label:"Average_ticket",weekly:N("Average_ticket"),daily:E("Average_ticket"),prev:k("Average_ticket"),color:"dashboard-blue"},{label:"Total_Cash_Sales",weekly:N("Total_Cash_Sales"),daily:E("Total_Cash_Sales"),prev:k("Total_Cash_Sales"),color:"dashboard-ocean"}]},[s,i,p,c]),x=r&&r.length>0?r:g,S=ve.useId(),m=ve.useId(),y=()=>a.jsxs("div",{className:J("w-full bg-card rounded-lg border border-destructive/20 p-6 shadow-realistic","flex flex-col items-center justify-center text-center space-y-4",l?"min-h-48":"min-h-64"),children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-destructive/10",children:a.jsx(ol,{className:"w-6 h-6 text-destructive"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:"Unable to Load Data"}),a.jsxs("p",{className:"text-sm text-muted-foreground max-w-md",children:["We're experiencing difficulties loading your customer service metrics. This could be due to a temporary connection issue or data processing error.",a.jsx("p",{className:"font-bold mt-1",children:"Try changing the Date filter."})]})]})]}),w=()=>a.jsxs("div",{className:J("w-full bg-card rounded-lg border border-border p-6 shadow-realistic","flex flex-col items-center justify-center text-center space-y-4",l?"min-h-48":"min-h-64"),children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-muted",children:a.jsx(ol,{className:"w-6 h-6 text-muted-foreground"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:"No Data Available"}),a.jsxs("p",{className:"text-sm text-muted-foreground max-w-md",children:["There's currently no customer service data available to display. Please check back later or contact support if this issue persists.",a.jsx("p",{className:"font-bold mt-1",children:"Try changing the Date filter."})]})]})]}),C=()=>a.jsxs(rn,{"aria-label":e??"Metrics","aria-labelledby":e?S:void 0,"aria-describedby":t?m:void 0,className:"text-xs sm:text-sm",children:[a.jsx(nn,{children:a.jsxs(_t,{children:[a.jsx(Re,{children:a.jsx("span",{className:"sr-only",children:"Metric"})}),a.jsx(Re,{children:"Weekly"}),a.jsx(Re,{className:"text-lg font-semibold text-foreground",children:"Daily"}),a.jsx(Re,{children:"Prev"})]})}),a.jsx(sn,{children:[0,1,2].map(E=>a.jsxs(_t,{children:[a.jsx(ke,{className:"font-medium",children:a.jsx(Xe,{className:"h-4 w-24"})}),a.jsx(ke,{className:"text-muted-foreground",children:a.jsx(Xe,{className:"h-4 w-16"})}),a.jsx(ke,{className:"text-lg font-semibold",children:a.jsx(Xe,{className:"h-5 w-24"})}),a.jsx(ke,{className:"text-muted-foreground",children:a.jsx(Xe,{className:"h-4 w-16"})})]},E))})]});return a.jsxs(Se,{className:J("bg-card border-border shadow-sm w-1/3",n),children:[a.jsxs(Me,{className:"pb-4",children:[e?a.jsx(Ve,{id:S,className:"text-base sm:text-lg",children:e}):null,t?a.jsx(ts,{id:m,children:t}):null]}),a.jsx(Ee,{"aria-busy":d?!0:void 0,children:u?a.jsx(y,{}):d?a.jsx(C,{}):!f||!x||x.length===0?a.jsx(w,{}):a.jsxs(rn,{"aria-label":e??"Metrics","aria-labelledby":e?S:void 0,"aria-describedby":t?m:void 0,className:"text-xs sm:text-sm",children:[a.jsx(nn,{children:a.jsxs(_t,{children:[a.jsx(Re,{children:a.jsx("span",{className:"sr-only",children:"Metric"})}),a.jsx(Re,{children:"Weekly"}),a.jsx(Re,{className:"text-lg font-semibold text-foreground",children:"Daily"}),a.jsx(Re,{children:"Prev"})]})}),a.jsx(sn,{children:x.map(E=>{const N=E.color?`var(--${E.color})`:void 0,k=E.color?hat[E.color]:"";return a.jsxs(_t,{className:"hover:bg-muted/50 transition-colors",children:[a.jsx(ke,{className:"font-medium",style:N?{color:N}:void 0,children:E.label}),a.jsx(ke,{className:"text-muted-foreground",children:E.weekly}),a.jsx(ke,{className:"text-lg font-semibold",style:N?{color:N}:void 0,children:E.daily}),a.jsx(ke,{className:"text-muted-foreground",children:a.jsx(Ze,{variant:"outline",className:J(k),children:E.prev})})]},E.label)})})]})})]})},pat=()=>{const{isAuthenticated:e,isLoading:t}=hl(),r=Ot(),{currentStore:n}=xO(),{hnrMetrics:s,isLoading:i,error:o}=Ba(),[c,d]=b.useState(null);b.useEffect(()=>{!e&&!t&&r("/login")},[e,t,r]);const u=b.useCallback(l=>{d(l)},[]);return t?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading..."})]})}):e?a.jsxs("div",{className:"container mx-auto space-y-4 md:space-y-6 p-2 md:p-4 max-w-7xl",children:[a.jsx(mqe,{className:"mb-6",onError:u}),c?a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[a.jsx("div",{className:"text-red-600 font-semibold text-lg mb-2",children:"Store Date Filter Error"}),a.jsx("div",{className:"text-red-700 mb-4",children:c}),a.jsx("div",{className:"text-red-600 text-sm",children:"Dashboard components are unavailable due to filter processing failure."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsx(gqe,{storeName:n?.name,percent:s?.promiseMetPercent??null,loading:i,error:o||null,className:"mt-2"}),a.jsx(rat,{className:"mt-2"}),a.jsx(nat,{className:"mt-2"})]}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:a.jsx(uat,{className:"mt-2"})}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx(HV,{className:"mt-2"}),a.jsx(UV,{className:"mt-2"})]}),a.jsx(mat,{className:"mt-2",title:"Key Metrics"}),a.jsx(OMe,{}),a.jsx(RMe,{}),a.jsx(HV,{className:"mt-2"}),a.jsx(eat,{className:"mt-2"}),a.jsx(tat,{className:"mt-2"}),a.jsx(UV,{className:"mt-2"}),a.jsx(MMe,{}),a.jsx(K9e,{}),a.jsx(l7e,{}),a.jsx(pqe,{})]})]}):null},Qt=({title:e,subtitle:t,mainButtons:r,subButtons:n,backButton:s,children:i,className:o,headerClassName:c,contentClassName:d})=>{const u=Ot(),l=ea(),f=()=>{s?.onClick?s.onClick():s?.to?u(s.to):u(-1)};return a.jsxs("div",{className:J("flex-1 flex-col min-h-full space-y-6 p-4 md:p-6 lg:p-8",o),children:[a.jsx("header",{className:J("flex flex-col space-y-4 pb-4 sm:pb-6 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",c),children:a.jsxs("div",{className:"flex flex-col space-y-3 lg:flex-row lg:items-start lg:justify-between lg:space-y-0 ",children:[a.jsx("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4",children:a.jsxs("div",{className:"flex items-center space-x-5 flex-1 ",children:[s?.show&&a.jsx(X,{onClick:f,variant:"outline",size:l?"sm":"default",className:"hover:bg-accent w-fit p-2 flex-shrink-0","aria-label":s.text||"Back",children:a.jsx(Bs,{className:"h-4 w-4"})}),a.jsxs("div",{className:"space-y-1 flex-1",children:[a.jsx("h1",{className:J("font-bold text-foreground",l?"text-lg":"text-xl sm:text-2xl lg:text-3xl"),children:e}),t&&a.jsx("p",{className:J("text-muted-foreground",l?"text-xs":"text-sm sm:text-base"),children:t})]})]})}),(r||n)&&a.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-col sm:space-y-2 sm:items-end",children:[r&&a.jsx("div",{className:"flex flex-wrap mx-auto md:m-0 items-center gap-4",children:r}),n&&a.jsx("div",{className:"flex flex-wrap mx-auto md:m-0 items-center gap-4",children:n})]})]})}),a.jsx("main",{className:J("flex-1 pt-4 sm:pt-6","px-0 sm:px-0","space-y-4 sm:space-y-6",d),children:i})]})},gat=()=>a.jsx(Qt,{title:"",subtitle:"",children:a.jsx("div",{})}),xat=()=>a.jsxs("div",{className:"container mx-auto p-3 sm:p-4 lg:p-6 ",children:[a.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[a.jsxs("div",{className:"flex items-center justify-center mb-3 sm:mb-4",children:[a.jsx(uke,{className:"h-6 w-6 sm:h-8 sm:w-8 text-primary mr-2 sm:mr-3"}),a.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-foreground",children:"Terms of Service"})]}),a.jsx("p",{className:"text-muted-foreground text-sm sm:text-lg px-2 sm:px-0",children:"Please read these terms carefully before using our pizza ordering service."}),a.jsxs("div",{className:"flex items-center justify-center mt-3 sm:mt-4 text-xs sm:text-sm text-muted-foreground",children:[a.jsx(ua,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),a.jsxs("span",{children:["Last updated: ",new Date().toLocaleDateString()]})]})]}),a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs(Se,{className:"border-border bg-card",children:[a.jsx(Me,{className:"pb-3 sm:pb-6",children:a.jsxs(Ve,{className:"flex items-center text-lg sm:text-xl text-card-foreground",children:[a.jsx(tn,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-primary"}),"1. Acceptance of Terms"]})}),a.jsx(Ee,{className:"space-y-3 sm:space-y-4 pt-0",children:a.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"By accessing and using Pizza Portal, you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to abide by the above, please do not use this service."})})]}),a.jsxs(Se,{className:"border-border bg-card",children:[a.jsx(Me,{className:"pb-3 sm:pb-6",children:a.jsx(Ve,{className:"text-lg sm:text-xl text-card-foreground",children:"2. Service Description"})}),a.jsxs(Ee,{className:"space-y-3 sm:space-y-4 pt-0",children:[a.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"Pizza Portal is an online platform that allows users to browse, customize, and order pizzas for delivery or pickup. Our service includes:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 sm:space-y-2 text-muted-foreground ml-3 sm:ml-4 text-sm sm:text-base",children:[a.jsx("li",{children:"Online pizza ordering and customization"}),a.jsx("li",{children:"Real-time order tracking"}),a.jsx("li",{children:"Payment processing"}),a.jsx("li",{children:"Customer account management"}),a.jsx("li",{children:"Delivery and pickup coordination"})]})]})]}),a.jsxs(Se,{className:"border-border bg-card",children:[a.jsx(Me,{className:"pb-3 sm:pb-6",children:a.jsx(Ve,{className:"text-lg sm:text-xl text-card-foreground",children:"3. User Responsibilities"})}),a.jsxs(Ee,{className:"space-y-3 sm:space-y-4 pt-0",children:[a.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"As a user of our service, you agree to:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 sm:space-y-2 text-muted-foreground ml-3 sm:ml-4 text-sm sm:text-base",children:[a.jsx("li",{children:"Provide accurate and complete information when placing orders"}),a.jsx("li",{children:"Use the service only for lawful purposes"}),a.jsx("li",{children:"Maintain the security of your account credentials"}),a.jsx("li",{children:"Pay for all orders placed through your account"}),a.jsx("li",{children:"Respect our staff and delivery personnel"})]})]})]}),a.jsxs(Se,{className:"border-border bg-card",children:[a.jsx(Me,{className:"pb-3 sm:pb-6",children:a.jsx(Ve,{className:"text-lg sm:text-xl text-card-foreground",children:"4. Payment Terms"})}),a.jsxs(Ee,{className:"space-y-3 sm:space-y-4 pt-0",children:[a.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"Payment is required at the time of order placement. We accept major credit cards, debit cards, and digital payment methods. All prices are subject to change without notice. Taxes and delivery fees may apply."}),a.jsx("div",{className:"bg-destructive/5 dark:bg-destructive/10 p-3 sm:p-4 rounded-lg border border-destructive/20",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(wC,{className:"h-4 w-4 sm:h-5 sm:w-5 text-destructive mr-2 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm font-medium text-destructive",children:"Refund Policy"}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1",children:"Refunds are available for cancelled orders before preparation begins. Contact customer service within 30 minutes of order placement."})]})]})})]})]}),a.jsxs(Se,{className:"border-border bg-card",children:[a.jsx(Me,{className:"pb-3 sm:pb-6",children:a.jsx(Ve,{className:"text-lg sm:text-xl text-card-foreground",children:"5. Delivery Terms"})}),a.jsx(Ee,{className:"space-y-3 sm:space-y-4 pt-0",children:a.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"Delivery times are estimates and may vary based on location, weather, and order volume. We are not responsible for delays beyond our control. Delivery is available within our designated service areas only."})})]}),a.jsxs(Se,{className:"border-border bg-card",children:[a.jsx(Me,{className:"pb-3 sm:pb-6",children:a.jsx(Ve,{className:"text-lg sm:text-xl text-card-foreground",children:"6. Limitation of Liability"})}),a.jsx(Ee,{className:"space-y-3 sm:space-y-4 pt-0",children:a.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"Pizza Portal shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses."})})]}),a.jsxs(Se,{className:"border-border bg-card",children:[a.jsx(Me,{className:"pb-3 sm:pb-6",children:a.jsx(Ve,{className:"text-lg sm:text-xl text-card-foreground",children:"7. Privacy"})}),a.jsx(Ee,{className:"space-y-3 sm:space-y-4 pt-0",children:a.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"Your privacy is important to us. Please review our Privacy Policy, which also governs your use of the service, to understand our practices."})})]}),a.jsxs(Se,{className:"border-border bg-card",children:[a.jsx(Me,{className:"pb-3 sm:pb-6",children:a.jsx(Ve,{className:"text-lg sm:text-xl text-card-foreground",children:"8. Modifications to Terms"})}),a.jsx(Ee,{className:"space-y-3 sm:space-y-4 pt-0",children:a.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"We reserve the right to modify these terms at any time. Changes will be effective immediately upon posting. Your continued use of the service constitutes acceptance of the modified terms."})})]}),a.jsxs(Se,{className:"border-border bg-card",children:[a.jsx(Me,{className:"pb-3 sm:pb-6",children:a.jsx(Ve,{className:"text-lg sm:text-xl text-card-foreground",children:"9. Contact Information"})}),a.jsxs(Ee,{className:"space-y-3 sm:space-y-4 pt-0",children:[a.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"If you have any questions about these Terms of Service, please contact us at:"}),a.jsxs("div",{className:"bg-muted/50 p-3 sm:p-4 rounded-lg",children:[a.jsx("p",{className:"font-medium text-foreground text-sm sm:text-base",children:"Pizza Portal Support"}),a.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Email: legal@pizzaportal.com"}),a.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Phone: 1-800-PIZZA-01"}),a.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Address: 123 Pizza Street, Food City, FC 12345"})]})]})]})]}),a.jsx(Xs,{className:"my-6 sm:my-8"}),a.jsx("div",{className:"text-center text-xs sm:text-sm text-muted-foreground px-2 sm:px-0",children:a.jsx("p",{children:"By using Pizza Portal, you acknowledge that you have read, understood, and agree to be bound by these Terms of Service."})})]}),vat=()=>a.jsxs("div",{className:"container mx-auto p-3 sm:p-4 md:p-6 lg:p-8",children:[a.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[a.jsxs("div",{className:"flex items-center justify-center mb-3 sm:mb-4",children:[a.jsx(tn,{className:"h-6 w-6 sm:h-7 sm:w-7 md:h-8 md:w-8 text-primary mr-2 sm:mr-3"}),a.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-foreground",children:"Privacy Policy"})]}),a.jsx("p",{className:"text-muted-foreground text-base sm:text-lg px-4 sm:px-0",children:"Your privacy is important to us. This policy explains how we collect, use, and protect your information."}),a.jsxs("div",{className:"flex items-center justify-center mt-3 sm:mt-4 text-xs sm:text-sm text-muted-foreground",children:[a.jsx(ua,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),a.jsxs("span",{children:["Last updated: ",new Date().toLocaleDateString()]})]})]}),a.jsxs("div",{className:"space-y-4 sm:space-y-6 mx-2 sm:mx-0",children:[a.jsxs(Se,{className:"border-border bg-card",children:[a.jsx(Me,{className:"pb-3 sm:pb-6",children:a.jsxs(Ve,{className:"flex items-center text-lg sm:text-xl text-card-foreground",children:[a.jsx(_Ae,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-primary"}),"1. Information We Collect"]})}),a.jsxs(Ee,{className:"space-y-3 sm:space-y-4 pt-0",children:[a.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"We collect information you provide directly to us, such as when you create an account, place an order, or contact us for support."}),a.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-foreground mb-2 text-sm sm:text-base",children:"Personal Information:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground ml-3 sm:ml-4 text-sm sm:text-base",children:[a.jsx("li",{children:"Name, email address, and phone number"}),a.jsx("li",{children:"Delivery address and billing information"}),a.jsx("li",{children:"Payment method details (processed securely)"}),a.jsx("li",{children:"Order history and preferences"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-foreground mb-2 text-sm sm:text-base",children:"Automatically Collected Information:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground ml-3 sm:ml-4 text-sm sm:text-base",children:[a.jsx("li",{children:"Device information and IP address"}),a.jsx("li",{children:"Browser type and operating system"}),a.jsx("li",{children:"Usage patterns and interaction data"}),a.jsx("li",{children:"Location data (with your permission)"})]})]})]})]})]}),a.jsxs(Se,{className:"border-border bg-card",children:[a.jsx(Me,{className:"pb-3 sm:pb-6",children:a.jsxs(Ve,{className:"flex items-center text-lg sm:text-xl text-card-foreground",children:[a.jsx(Cs,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-primary"}),"2. How We Use Your Information"]})}),a.jsxs(Ee,{className:"space-y-3 sm:space-y-4 pt-0",children:[a.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"We use the information we collect to provide, maintain, and improve our services:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 sm:space-y-2 text-muted-foreground ml-3 sm:ml-4 text-sm sm:text-base",children:[a.jsx("li",{children:"Process and fulfill your pizza orders"}),a.jsx("li",{children:"Communicate with you about your orders and account"}),a.jsx("li",{children:"Provide customer support and respond to inquiries"}),a.jsx("li",{children:"Send promotional offers and updates (with your consent)"}),a.jsx("li",{children:"Improve our website and services"}),a.jsx("li",{children:"Prevent fraud and ensure security"}),a.jsx("li",{children:"Comply with legal obligations"})]})]})]}),a.jsxs(Se,{className:"border-border bg-card",children:[a.jsx(Me,{className:"pb-3 sm:pb-6",children:a.jsx(Ve,{className:"text-lg sm:text-xl text-card-foreground",children:"3. Information Sharing and Disclosure"})}),a.jsxs(Ee,{className:"space-y-3 sm:space-y-4 pt-0",children:[a.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"We do not sell, trade, or otherwise transfer your personal information to third parties except in the following circumstances:"}),a.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"bg-primary/5 dark:bg-primary/10 p-3 sm:p-4 rounded-lg border border-primary/20",children:[a.jsx("h4",{className:"font-semibold text-primary mb-2 text-sm sm:text-base",children:"Service Providers:"}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"We share information with trusted third-party service providers who help us operate our business, such as payment processors, delivery services, and cloud hosting providers."})]}),a.jsxs("div",{className:"bg-destructive/5 dark:bg-destructive/10 p-3 sm:p-4 rounded-lg border border-destructive/20",children:[a.jsx("h4",{className:"font-semibold text-destructive mb-2 text-sm sm:text-base",children:"Legal Requirements:"}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"We may disclose information when required by law, court order, or government request, or to protect our rights and safety."})]})]})]})]}),a.jsxs(Se,{className:"border-border bg-card",children:[a.jsx(Me,{className:"pb-3 sm:pb-6",children:a.jsxs(Ve,{className:"flex items-center text-lg sm:text-xl text-card-foreground",children:[a.jsx(Iv,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-primary"}),"4. Data Security"]})}),a.jsxs(Ee,{className:"space-y-3 sm:space-y-4 pt-0",children:[a.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"We implement appropriate technical and organizational measures to protect your personal information:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 sm:space-y-2 text-muted-foreground ml-3 sm:ml-4 text-sm sm:text-base",children:[a.jsx("li",{children:"SSL encryption for data transmission"}),a.jsx("li",{children:"Secure servers and databases"}),a.jsx("li",{children:"Regular security audits and updates"}),a.jsx("li",{children:"Access controls and employee training"}),a.jsx("li",{children:"Payment card industry (PCI) compliance"})]}),a.jsx("div",{className:"bg-destructive/5 dark:bg-destructive/10 p-3 sm:p-4 rounded-lg border border-destructive/20 mt-3 sm:mt-4",children:a.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:[a.jsx("strong",{className:"text-destructive",children:"Important:"})," While we strive to protect your information, no method of transmission over the internet or electronic storage is 100% secure. We cannot guarantee absolute security."]})})]})]}),a.jsxs(Se,{className:"border-border bg-card",children:[a.jsx(Me,{className:"pb-3 sm:pb-6",children:a.jsx(Ve,{className:"text-lg sm:text-xl text-card-foreground",children:"5. Your Rights and Choices"})}),a.jsxs(Ee,{className:"space-y-3 sm:space-y-4 pt-0",children:[a.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"You have several rights regarding your personal information:"}),a.jsxs("div",{className:"grid sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-foreground text-sm sm:text-base",children:"Access & Update"}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"View and update your account information anytime"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-foreground text-sm sm:text-base",children:"Delete Account"}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Request deletion of your account and data"})]})]}),a.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-foreground text-sm sm:text-base",children:"Marketing Opt-out"}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Unsubscribe from promotional emails"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-foreground text-sm sm:text-base",children:"Data Portability"}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Request a copy of your data"})]})]})]})]})]}),a.jsxs(Se,{className:"border-border bg-card",children:[a.jsx(Me,{className:"pb-3 sm:pb-6",children:a.jsx(Ve,{className:"text-lg sm:text-xl text-card-foreground",children:"6. Cookies and Tracking Technologies"})}),a.jsxs(Ee,{className:"space-y-3 sm:space-y-4 pt-0",children:[a.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"We use cookies and similar technologies to enhance your experience:"}),a.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[a.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-foreground text-sm sm:text-base",children:"Essential Cookies"}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Required for basic website functionality"})]})]}),a.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-foreground text-sm sm:text-base",children:"Analytics Cookies"}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Help us understand how you use our website"})]})]}),a.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-foreground text-sm sm:text-base",children:"Marketing Cookies"}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Used to show relevant advertisements"})]})]})]})]})]}),a.jsxs(Se,{className:"border-border bg-card",children:[a.jsx(Me,{className:"pb-3 sm:pb-6",children:a.jsx(Ve,{className:"text-lg sm:text-xl text-card-foreground",children:"7. Children's Privacy"})}),a.jsx(Ee,{className:"space-y-3 sm:space-y-4 pt-0",children:a.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"Our service is not intended for children under 13 years of age. We do not knowingly collect personal information from children under 13. If you are a parent or guardian and believe your child has provided us with personal information, please contact us immediately."})})]}),a.jsxs(Se,{className:"border-border bg-card",children:[a.jsx(Me,{className:"pb-3 sm:pb-6",children:a.jsx(Ve,{className:"text-lg sm:text-xl text-card-foreground",children:"8. Changes to This Privacy Policy"})}),a.jsx(Ee,{className:"space-y-3 sm:space-y-4 pt-0",children:a.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:'We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last updated" date. You are advised to review this Privacy Policy periodically for any changes.'})})]}),a.jsxs(Se,{className:"border-border bg-card",children:[a.jsx(Me,{className:"pb-3 sm:pb-6",children:a.jsxs(Ve,{className:"flex items-center text-lg sm:text-xl text-card-foreground",children:[a.jsx(Kp,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-primary"}),"9. Contact Us"]})}),a.jsxs(Ee,{className:"space-y-3 sm:space-y-4 pt-0",children:[a.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"If you have any questions about this Privacy Policy or our privacy practices, please contact us:"}),a.jsxs("div",{className:"bg-muted/50 p-3 sm:p-4 rounded-lg",children:[a.jsx("p",{className:"font-medium text-foreground text-sm sm:text-base",children:"Privacy Officer - Pizza Portal"}),a.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Email: privacy@pizzaportal.com"}),a.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Phone: 1-800-PRIVACY"}),a.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Address: 123 Pizza Street, Food City, FC 12345"})]})]})]})]}),a.jsx(Xs,{className:"my-6 sm:my-8"}),a.jsx("div",{className:"text-center text-xs sm:text-sm text-muted-foreground",children:a.jsx("p",{children:"By using Pizza Portal, you consent to the collection and use of your information as described in this Privacy Policy."})})]});function $N(e){const t=e+"CollectionProvider",[r,n]=Yn(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=S=>{const{scope:m,children:y}=S,w=ve.useRef(null),C=ve.useRef(new Map).current;return a.jsx(s,{scope:m,itemMap:C,collectionRef:w,children:y})};o.displayName=t;const c=e+"CollectionSlot",d=Hd(c),u=ve.forwardRef((S,m)=>{const{scope:y,children:w}=S,C=i(c,y),E=vt(m,C.collectionRef);return a.jsx(d,{ref:E,children:w})});u.displayName=c;const l=e+"CollectionItemSlot",f="data-radix-collection-item",p=Hd(l),g=ve.forwardRef((S,m)=>{const{scope:y,children:w,...C}=S,E=ve.useRef(null),N=vt(m,E),k=i(l,y);return ve.useEffect(()=>(k.itemMap.set(E,{ref:E,...C}),()=>void k.itemMap.delete(E))),a.jsx(p,{[f]:"",ref:N,children:w})});g.displayName=l;function x(S){const m=i(e+"CollectionConsumer",S);return ve.useCallback(()=>{const w=m.collectionRef.current;if(!w)return[];const C=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(m.itemMap.values()).sort((k,A)=>C.indexOf(k.ref.current)-C.indexOf(A.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},x,n]}var yat=b.createContext(void 0);function lh(e){const t=b.useContext(yat);return e||t||"ltr"}var EP="rovingFocusGroup.onEntryFocus",bat={bubbles:!1,cancelable:!0},_y="RovingFocusGroup",[qR,Use,wat]=$N(_y),[Sat,FN]=Yn(_y,[wat]),[Cat,jat]=Sat(_y),Vse=b.forwardRef((e,t)=>a.jsx(qR.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(qR.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Eat,{...e,ref:t})})}));Vse.displayName=_y;var Eat=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:l=!1,...f}=e,p=b.useRef(null),g=vt(t,p),x=lh(i),[S,m]=qi({prop:o,defaultProp:c??null,onChange:d,caller:_y}),[y,w]=b.useState(!1),C=Xr(u),E=Use(r),N=b.useRef(!1),[k,A]=b.useState(0);return b.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(EP,C),()=>T.removeEventListener(EP,C)},[C]),a.jsx(Cat,{scope:r,orientation:n,dir:x,loop:s,currentTabStopId:S,onItemFocus:b.useCallback(T=>m(T),[m]),onItemShiftTab:b.useCallback(()=>w(!0),[]),onFocusableItemAdd:b.useCallback(()=>A(T=>T+1),[]),onFocusableItemRemove:b.useCallback(()=>A(T=>T-1),[]),children:a.jsx(Je.div,{tabIndex:y||k===0?-1:0,"data-orientation":n,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:At(e.onMouseDown,()=>{N.current=!0}),onFocus:At(e.onFocus,T=>{const P=!N.current;if(T.target===T.currentTarget&&P&&!y){const M=new CustomEvent(EP,bat);if(T.currentTarget.dispatchEvent(M),!M.defaultPrevented){const O=E().filter($=>$.focusable),R=O.find($=>$.active),L=O.find($=>$.id===S),F=[R,L,...O].filter(Boolean).map($=>$.ref.current);Gse(F,l)}}N.current=!1}),onBlur:At(e.onBlur,()=>w(!1))})})}),Wse="RovingFocusGroupItem",qse=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...c}=e,d=rs(),u=i||d,l=jat(Wse,r),f=l.currentTabStopId===u,p=Use(r),{onFocusableItemAdd:g,onFocusableItemRemove:x,currentTabStopId:S}=l;return b.useEffect(()=>{if(n)return g(),()=>x()},[n,g,x]),a.jsx(qR.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(Je.span,{tabIndex:f?0:-1,"data-orientation":l.orientation,...c,ref:t,onMouseDown:At(e.onMouseDown,m=>{n?l.onItemFocus(u):m.preventDefault()}),onFocus:At(e.onFocus,()=>l.onItemFocus(u)),onKeyDown:At(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){l.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const y=Aat(m,l.orientation,l.dir);if(y!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let C=p().filter(E=>E.focusable).map(E=>E.ref.current);if(y==="last")C.reverse();else if(y==="prev"||y==="next"){y==="prev"&&C.reverse();const E=C.indexOf(m.currentTarget);C=l.loop?kat(C,E+1):C.slice(E+1)}setTimeout(()=>Gse(C))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:S!=null}):o})})});qse.displayName=Wse;var Nat={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _at(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Aat(e,t,r){const n=_at(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Nat[n]}function Gse(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function kat(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Yse=Vse,Kse=qse,HN="Tabs",[Tat,Dxt]=Yn(HN,[FN]),Zse=FN(),[Pat,T3]=Tat(HN),Xse=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:c,activationMode:d="automatic",...u}=e,l=lh(c),[f,p]=qi({prop:n,onChange:s,defaultProp:i??"",caller:HN});return a.jsx(Pat,{scope:r,baseId:rs(),value:f,onValueChange:p,orientation:o,dir:l,activationMode:d,children:a.jsx(Je.div,{dir:l,"data-orientation":o,...u,ref:t})})});Xse.displayName=HN;var Qse="TabsList",Jse=b.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=T3(Qse,r),o=Zse(r);return a.jsx(Yse,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(Je.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});Jse.displayName=Qse;var eae="TabsTrigger",tae=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=T3(eae,r),c=Zse(r),d=sae(o.baseId,n),u=aae(o.baseId,n),l=n===o.value;return a.jsx(Kse,{asChild:!0,...c,focusable:!s,active:l,children:a.jsx(Je.button,{type:"button",role:"tab","aria-selected":l,"aria-controls":u,"data-state":l?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:d,...i,ref:t,onMouseDown:At(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:At(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:At(e.onFocus,()=>{const f=o.activationMode!=="manual";!l&&!s&&f&&o.onValueChange(n)})})})});tae.displayName=eae;var rae="TabsContent",nae=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,c=T3(rae,r),d=sae(c.baseId,n),u=aae(c.baseId,n),l=n===c.value,f=b.useRef(l);return b.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),a.jsx(pl,{present:s||l,children:({present:p})=>a.jsx(Je.div,{"data-state":l?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!p,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});nae.displayName=rae;function sae(e,t){return`${e}-trigger-${t}`}function aae(e,t){return`${e}-content-${t}`}var Dat=Xse,iae=Jse,oae=tae,lae=nae;const ch=Dat,mu=b.forwardRef(({className:e,...t},r)=>a.jsx(iae,{ref:r,className:J("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));mu.displayName=iae.displayName;const Qs=b.forwardRef(({className:e,...t},r)=>a.jsx(oae,{ref:r,className:J("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));Qs.displayName=oae.displayName;const Js=b.forwardRef(({className:e,...t},r)=>a.jsx(lae,{ref:r,className:J("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Js.displayName=lae.displayName;const Rat=()=>{const{user:e,getUserProfile:t,logout:r}=hl(),{theme:n,setTheme:s}=P0(),i=Ot(),[o,c]=b.useState(e),[d,u]=b.useState(!1),[l,f]=b.useState(""),[p,g]=b.useState(!1),[x]=b.useState(null);b.useEffect(()=>{c(e)},[e]),b.useEffect(()=>{e||S()},[]);const S=async()=>{u(!0),f("");try{const C=await t();C.type.endsWith("/fulfilled")?(f(""),c(C.payload||e)):f("Failed to load user profile")}catch(C){f("Failed to load user profile"),console.error("Profile refresh error:",C)}finally{u(!1)}},m=async()=>{g(!0);try{await r(),i("/login")}catch(C){console.error("Logout error:",C)}finally{g(!1)}},y=()=>{i("/settings/terms")},w=()=>{i("/settings/privacy")};return a.jsxs("div",{className:"container mx-auto p-3 sm:p-4 md:p-6 lg:p-8 max-w-4xl",children:[a.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[a.jsxs("div",{className:"flex items-center justify-center mb-3 sm:mb-4",children:[a.jsx(R0,{className:"h-6 w-6 sm:h-7 sm:w-7 md:h-8 md:w-8 text-primary mr-2 sm:mr-3"}),a.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-foreground",children:"Settings"})]}),a.jsx("p",{className:"text-muted-foreground text-base sm:text-lg px-4 sm:px-0",children:"Manage your account preferences and privacy settings."})]}),x&&a.jsxs(at,{className:`mb-4 sm:mb-6 mx-2 sm:mx-0 ${x.includes("successfully")?"border-green-200 bg-green-50 dark:bg-green-900/20":"border-red-200 bg-red-50 dark:bg-red-900/20"}`,children:[a.jsx(Pa,{className:`h-4 w-4 ${x.includes("successfully")?"text-green-600":"text-red-600"}`}),a.jsx(it,{className:x.includes("successfully")?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300",children:x})]}),a.jsxs(ch,{defaultValue:"profile",className:"space-y-4 sm:space-y-6",children:[a.jsxs(mu,{className:"grid w-full grid-cols-2 mx-2 sm:mx-0",children:[a.jsxs(Qs,{value:"profile",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm",children:[a.jsx(Da,{className:"h-3 w-3 sm:h-4 sm:w-4"}),a.jsx("span",{className:"hidden xs:inline sm:inline",children:"Profile"})]}),a.jsxs(Qs,{value:"appearance",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm",children:[a.jsx(QAe,{className:"h-3 w-3 sm:h-4 sm:w-4"}),a.jsx("span",{className:"hidden xs:inline sm:inline",children:"Appearance"})]})]}),a.jsxs(Js,{value:"profile",className:"space-y-4 sm:space-y-6 mx-2 sm:mx-0",children:[a.jsxs(Se,{className:"border-border bg-card",children:[a.jsxs(Me,{className:"pb-3 sm:pb-6",children:[a.jsx(Ve,{className:"text-lg sm:text-xl text-card-foreground",children:"Current Profile Information"}),a.jsx(ts,{className:"text-sm sm:text-base text-muted-foreground",children:"View your current account information and details"})]}),a.jsxs(Ee,{className:"pt-0",children:[l&&a.jsx("div",{className:"bg-destructive/10 border border-destructive/20 text-destructive px-3 sm:px-4 py-2 sm:py-3 rounded-md text-sm mb-3 sm:mb-4",children:l}),d?a.jsxs("div",{className:"text-center py-6 sm:py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 border-b-2 border-primary mx-auto"}),a.jsx("p",{className:"mt-2 text-muted-foreground text-sm sm:text-base",children:"Loading profile..."})]}):o?a.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Name"}),a.jsx("p",{className:"mt-1 text-sm sm:text-base text-foreground font-medium",children:o.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Email"}),a.jsx("p",{className:"mt-1 text-sm sm:text-base text-foreground font-medium break-all",children:o.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Email Verified"}),a.jsx("p",{className:"mt-1",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${o.email_verified_at?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-destructive/10 text-destructive"}`,children:o.email_verified_at?"Verified":"Not Verified"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Member Since"}),a.jsx("p",{className:"mt-1 text-sm sm:text-base text-foreground",children:new Date(o.created_at).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Last Updated"}),a.jsx("p",{className:"mt-1 text-sm sm:text-base text-foreground",children:new Date(o.updated_at).toLocaleDateString()})]})]}):a.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"No profile data available"})]})]}),a.jsxs(Se,{className:"border-border bg-card",children:[a.jsxs(Me,{className:"pb-3 sm:pb-6",children:[a.jsx(Ve,{className:"text-lg sm:text-xl text-card-foreground",children:"Account Actions"}),a.jsx(ts,{className:"text-sm sm:text-base text-muted-foreground",children:"Manage your account and access important information"})]}),a.jsx(Ee,{className:"pt-0",children:a.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[a.jsxs(X,{variant:"outline",onClick:y,className:"flex items-center gap-2 justify-center sm:justify-start",children:[a.jsx(jY,{className:"h-4 w-4"}),"Terms & Services"]}),a.jsxs(X,{variant:"outline",onClick:w,className:"flex items-center gap-2 justify-center sm:justify-start",children:[a.jsx(tn,{className:"h-4 w-4"}),"Privacy Policy"]})]}),a.jsx("div",{className:"pt-2 border-t border-border",children:a.jsxs(X,{variant:"destructive",onClick:m,disabled:p,className:"flex items-center gap-2 w-full sm:w-auto",children:[a.jsx(WAe,{className:"h-4 w-4"}),p?"Logging out...":"Logout"]})})]})})]})]}),a.jsx(Js,{value:"appearance",className:"space-y-4 sm:space-y-6 mx-2 sm:mx-0",children:a.jsxs(Se,{className:"border-border bg-card",children:[a.jsxs(Me,{className:"pb-3 sm:pb-6",children:[a.jsx(Ve,{className:"text-lg sm:text-xl text-card-foreground",children:"Theme Preferences"}),a.jsx(ts,{className:"text-sm sm:text-base text-muted-foreground",children:"Customize the appearance of your Pizza Portal experience."})]}),a.jsx(Ee,{className:"space-y-3 sm:space-y-4 pt-0",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[a.jsxs(X,{variant:n==="light"?"default":"outline",onClick:()=>s("light"),className:"h-16 sm:h-20 flex flex-col items-center justify-center space-y-1 sm:space-y-2 text-sm sm:text-base",children:[a.jsx("div",{className:"w-6 h-6 bg-white border-2 border-gray-300 rounded"}),a.jsx("span",{children:"Light"})]}),a.jsxs(X,{variant:n==="dark"?"default":"outline",onClick:()=>s("dark"),className:"h-16 sm:h-20 flex flex-col items-center justify-center space-y-1 sm:space-y-2 text-sm sm:text-base",children:[a.jsx("div",{className:"w-6 h-6 bg-gray-800 border-2 border-gray-600 rounded"}),a.jsx("span",{children:"Dark"})]}),a.jsxs(X,{variant:n==="system"?"default":"outline",onClick:()=>s("system"),className:"h-16 sm:h-20 flex flex-col items-center justify-center space-y-1 sm:space-y-2 text-sm sm:text-base sm:col-span-1 col-span-1",children:[a.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-white to-gray-800 border-2 border-gray-400 rounded"}),a.jsx("span",{children:"System"})]})]})})]})})]})]})},Mat=[a.jsx(Dt,{path:"/dashboard",element:a.jsx(Lt,{children:a.jsx(Bt,{children:a.jsx(pat,{})})})},"dashboard"),a.jsx(Dt,{path:"/blank-page",element:a.jsx(Lt,{children:a.jsx(Bt,{children:a.jsx(gat,{})})})},"blank-page"),a.jsx(Dt,{path:"/settings",element:a.jsx(Lt,{children:a.jsx(Bt,{children:a.jsx(Rat,{})})})},"settings"),a.jsx(Dt,{path:"/settings/terms",element:a.jsx(Lt,{children:a.jsx(Bt,{children:a.jsx(xat,{})})})},"terms"),a.jsx(Dt,{path:"/settings/privacy",element:a.jsx(Lt,{children:a.jsx(Bt,{children:a.jsx(vat,{})})})},"privacy")],_d={validateName:e=>{if(!e||!e.trim())return{isValid:!1,error:"User name is required"};const t=e.trim();return t.length<Ga.NAME_MIN_LENGTH?{isValid:!1,error:`Name must be at least ${Ga.NAME_MIN_LENGTH} characters`}:t.length>Ga.NAME_MAX_LENGTH?{isValid:!1,error:`Name must be less than ${Ga.NAME_MAX_LENGTH} characters`}:/^[a-zA-Z\s'-]+$/.test(t)?{isValid:!0}:{isValid:!1,error:"Name can only contain letters, spaces, apostrophes, and hyphens"}},validateEmail:e=>{if(!e||!e.trim())return{isValid:!1,error:"Email is required"};const t=e.trim().toLowerCase();return t.length>Ga.EMAIL_MAX_LENGTH?{isValid:!1,error:`Email must be less than ${Ga.EMAIL_MAX_LENGTH} characters`}:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)?{isValid:!0}:{isValid:!1,error:"Please enter a valid email address"}},validatePassword:(e,t={minLength:Ga.PASSWORD_MIN_LENGTH,requireUppercase:!0,requireLowercase:!0,requireNumbers:!0,requireSpecialChars:!0})=>e?e.length<t.minLength?{isValid:!1,error:`Password must be at least ${t.minLength} characters long`}:e.length>Ga.PASSWORD_MAX_LENGTH?{isValid:!1,error:`Password must be less than ${Ga.PASSWORD_MAX_LENGTH} characters`}:t.requireUppercase&&!/[A-Z]/.test(e)?{isValid:!1,error:"Password must contain at least one uppercase letter"}:t.requireLowercase&&!/[a-z]/.test(e)?{isValid:!1,error:"Password must contain at least one lowercase letter"}:t.requireNumbers&&!/\d/.test(e)?{isValid:!1,error:"Password must contain at least one number"}:t.requireSpecialChars&&!/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\?]/.test(e)?{isValid:!1,error:"Password must contain at least one special character"}:t.forbiddenPasswords?.some(r=>e.toLowerCase().includes(r.toLowerCase()))?{isValid:!1,error:"Password contains forbidden words"}:{isValid:!0}:{isValid:!1,error:"Password is required"},validatePasswordConfirmation:(e,t)=>t?e!==t?{isValid:!1,error:"Password confirmation does not match"}:{isValid:!0}:{isValid:!1,error:"Password confirmation is required"},validateRoles:e=>Array.isArray(e)?e.length>Ga.MAX_ROLES_PER_USER?{isValid:!1,error:`Cannot assign more than ${Ga.MAX_ROLES_PER_USER} roles to a user`}:e.filter(r=>!r||!r.trim()).length>0?{isValid:!1,error:"All roles must have valid names"}:{isValid:!0}:{isValid:!1,error:"Roles must be an array"},validatePermissions:e=>Array.isArray(e)?e.length>Ga.MAX_PERMISSIONS_PER_USER?{isValid:!1,error:`Cannot assign more than ${Ga.MAX_PERMISSIONS_PER_USER} permissions to a user`}:e.filter(r=>!r||!r.trim()).length>0?{isValid:!1,error:"All permissions must have valid names"}:{isValid:!0}:{isValid:!1,error:"Permissions must be an array"},validateUserForm:(e,t=!1)=>{const r={},n=_d.validateName(e.name);!n.isValid&&n.error&&(r.name=n.error);const s=_d.validateEmail(e.email);if(!s.isValid&&s.error&&(r.email=s.error),!t||e.password){if(!e.password&&!t)r.password="Password is required";else if(e.password){const c=_d.validatePassword(e.password);!c.isValid&&c.error&&(r.password=c.error);const d=_d.validatePasswordConfirmation(e.password,e.password_confirmation||"");!d.isValid&&d.error&&(r.password_confirmation=d.error)}}const i=_d.validateRoles(e.roles);!i.isValid&&i.error&&(r.roles=i.error);const o=_d.validatePermissions(e.permissions);return!o.isValid&&o.error&&(r.permissions=o.error),{isValid:Object.keys(r).length===0,errors:r}}},Zr={formatDisplayName:e=>e?e.trim().toLowerCase().replace(/\b\w/g,t=>t.toUpperCase()):"",formatEmail:e=>e?e.trim().toLowerCase():"",formatCreatedAt:e=>{try{const t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)}catch{return"Invalid Date"}},formatRelativeTime:e=>{try{const t=new Date(e),n=Math.floor((new Date().getTime()-t.getTime())/1e3);return n<60?"Just now":n<3600?`${Math.floor(n/60)} minutes ago`:n<86400?`${Math.floor(n/3600)} hours ago`:n<2592e3?`${Math.floor(n/86400)} days ago`:n<31536e3?`${Math.floor(n/2592e3)} months ago`:`${Math.floor(n/31536e3)} years ago`}catch{return"Unknown"}},formatEmailVerificationStatus:e=>e?"Verified":"Unverified",formatRoleCount:e=>e===0?"No roles":e===1?"1 role":`${e} roles`,formatPermissionCount:e=>e===0?"No permissions":e===1?"1 permission":`${e} permissions`,formatInitials:e=>{if(!e)return"";const t=e.trim().split(" ");return t.length===1?t[0].charAt(0).toUpperCase():(t[0].charAt(0)+t[t.length-1].charAt(0)).toUpperCase()}},Cm={sortByName:(e,t="asc")=>[...e].sort((r,n)=>{const s=r.name.localeCompare(n.name);return t==="asc"?s:-s}),sortByEmail:(e,t="asc")=>[...e].sort((r,n)=>{const s=r.email.localeCompare(n.email);return t==="asc"?s:-s}),sortByCreatedAt:(e,t="desc")=>[...e].sort((r,n)=>{const s=new Date(r.created_at).getTime(),i=new Date(n.created_at).getTime();return t==="asc"?s-i:i-s}),sortByRoleCount:(e,t="desc")=>[...e].sort((r,n)=>{const s=r.roles?.length||0,i=n.roles?.length||0;return t==="asc"?s-i:i-s}),sortByPermissionCount:(e,t="desc")=>[...e].sort((r,n)=>{const s=r.permissions?.length||0,i=n.permissions?.length||0;return t==="asc"?s-i:i-s}),sortByVerificationStatus:(e,t="desc")=>[...e].sort((r,n)=>{const s=!!r.email_verified_at,i=!!n.email_verified_at;return s===i?0:t==="desc"?s?-1:1:s?1:-1})},$u={filterBySearch:(e,t)=>{if(!t.trim())return e;const r=t.toLowerCase().trim();return e.filter(n=>n.name.toLowerCase().includes(r)||n.email.toLowerCase().includes(r))},filterByVerificationStatus:(e,t)=>e.filter(r=>t?!!r.email_verified_at:!r.email_verified_at),filterByRoles:(e,t)=>!t||t.length===0?e:e.filter(r=>r.roles?.some(n=>t.includes(n.name))),filterByPermissions:(e,t)=>!t||t.length===0?e:e.filter(r=>r.permissions?.some(n=>t.includes(n.name))||r.roles?.some(n=>n.permissions?.some(s=>t.includes(s.name)))),filterWithRoles:e=>e.filter(t=>t.roles&&t.roles.length>0),filterWithPermissions:e=>e.filter(t=>t.permissions&&t.permissions.length>0||t.roles&&t.roles.some(r=>r.permissions&&r.permissions.length>0)),filterByStores:(e,t)=>!t||t.length===0?e:e.filter(r=>r.stores?.some(n=>t.includes(n.store.id)))},cae={toSelectOption:e=>({value:e.id,label:`${Zr.formatDisplayName(e.name)} (${e.email})`,user:e}),toSelectOptions:e=>e.map(cae.toSelectOption),toSearchResult:e=>({id:e.id,title:Zr.formatDisplayName(e.name),subtitle:e.email,meta:`${Zr.formatRoleCount(e.roles?.length||0)}  ${Zr.formatEmailVerificationStatus(e.email_verified_at)}`,user:e}),toCsvData:e=>e.map(t=>({ID:t.id,Name:t.name,Email:t.email,"Email Verified":Zr.formatEmailVerificationStatus(t.email_verified_at),"Role Count":t.roles?.length||0,"Permission Count":t.permissions?.length||0,"Store Count":t.stores?.length||0,"Role Names":t.roles?.map(r=>r.name).join("; ")||"","Permission Names":t.permissions?.map(r=>r.name).join("; ")||"","Created At":Zr.formatCreatedAt(t.created_at),"Updated At":Zr.formatCreatedAt(t.updated_at)})),toAnalyticsData:e=>({id:e.id,name:e.name,email:e.email,is_verified:!!e.email_verified_at,role_count:e.roles?.length||0,permission_count:e.permissions?.length||0,store_count:e.stores?.length||0,created_date:e.created_at.split("T")[0],days_since_creation:Math.floor((new Date().getTime()-new Date(e.created_at).getTime())/(1e3*60*60*24))})},Oat=e=>{const t=e.length,r=e.filter(l=>l.email_verified_at).length,n=e.filter(l=>l.roles&&l.roles.length>0).length,s=e.filter(l=>l.permissions&&l.permissions.length>0).length,i=e.filter(l=>l.stores&&l.stores.length>0).length,o=e.reduce((l,f)=>l+(f.roles?.length||0),0),c=e.reduce((l,f)=>l+(f.permissions?.length||0),0),d=t>0?o/t:0,u=t>0?c/t:0;return{totalUsers:t,verifiedUsers:r,unverifiedUsers:t-r,verificationRate:t>0?r/t*100:0,usersWithRoles:n,usersWithPermissions:s,usersWithStores:i,usersWithoutRoles:t-n,avgRolesPerUser:Math.round(d*100)/100,avgPermissionsPerUser:Math.round(u*100)/100}},vg=(e=!0,t)=>{const r=$t(),[n,s]=b.useState("name"),[i,o]=b.useState("asc"),c=pe(Rxe),d=pe(Exe),u=pe(Uq),l=pe(Vq),f=pe(Nxe),p=pe(Lxe),g=pe(Bxe),x=pe($xe),S=pe(Ixe),m=pe(Mxe),y=pe(Wq),w=b.useMemo(()=>{let O=[...d];switch(n){case"name":O=Cm.sortByName(O,i);break;case"email":O=Cm.sortByEmail(O,i);break;case"created_at":O=Cm.sortByCreatedAt(O,i);break;case"role_count":O=Cm.sortByRoleCount(O,i);break;case"permission_count":O=Cm.sortByPermissionCount(O,i);break;default:O=Cm.sortByName(O,i)}return O},[d,n,i]),C=b.useMemo(()=>{let O=w;return c&&(O=$u.filterBySearch(O,c)),m.emailVerified!==void 0&&(O=$u.filterByVerificationStatus(O,m.emailVerified)),m.roleNames&&m.roleNames.length>0&&(O=$u.filterByRoles(O,m.roleNames)),m.permissionNames&&m.permissionNames.length>0&&(O=$u.filterByPermissions(O,m.permissionNames)),m.storeIds&&m.storeIds.length>0&&(O=$u.filterByStores(O,m.storeIds)),m.hasRoles===!0?O=$u.filterWithRoles(O):m.hasRoles===!1&&(O=O.filter(R=>!R.roles||R.roles.length===0)),m.hasPermissions===!0?O=$u.filterWithPermissions(O):m.hasPermissions===!1&&(O=O.filter(R=>(!R.permissions||R.permissions.length===0)&&(!R.roles||!R.roles.some(L=>L.permissions&&L.permissions.length>0)))),O},[w,c,m]),E=b.useMemo(()=>cae.toSelectOptions(C),[C]),N=b.useMemo(()=>Oat(d),[d]),k=b.useRef(t);k.current=t;const A=b.useCallback(async O=>{const R={page:f?.currentPage||1,per_page:y,search:c,...m,...O};try{await r(oc(R)).unwrap()}catch(L){throw console.error("Failed to fetch users:",L),L}},[r,f?.currentPage,y,c,m]),T=b.useCallback(async()=>{await A(k.current)},[A]),P=b.useCallback(O=>{r(Cxe(O))},[r]),M=b.useCallback(O=>{r(zq(O))},[r]);return b.useEffect(()=>{e&&!p&&!u&&!l&&A(k.current)},[e,p,u,l,A]),b.useEffect(()=>()=>{l&&r(yxe())},[r,l]),b.useMemo(()=>({users:d,loading:u,error:l,pagination:f,hasUsers:p,isEmpty:g,totalUsers:x,fetchUsers:A,refetch:T,sortedUsers:w,setSortField:s,setSortDirection:o,sortField:n,sortDirection:i,searchTerm:c,setSearchTerm:P,filteredUsers:C,selectOptions:E,usersWithCounts:S,userStats:N,perPage:y,setPerPage:M}),[d,u,l,f,p,g,x,A,T,w,s,o,n,i,c,P,C,E,S,N,y,M])},Iat=()=>{const e=$t(),t=pe(_xe),r=pe(Axe),n=b.useCallback(c=>_d.validateUserForm(c,!1),[]),s=b.useCallback(c=>({name:Zr.formatDisplayName(c.name),email:Zr.formatEmail(c.email),password:c.password,password_confirmation:c.password_confirmation,roles:c.roles,permissions:c.permissions}),[]),i=b.useCallback(async c=>{const d={name:c.name,email:c.email,password:c.password,password_confirmation:c.password_confirmation,roles:c.roles,permissions:c.permissions},u=n(d);if(!u.isValid){const f=Object.values(u.errors)[0];throw new Error(f)}const l=s(d);try{return await e(L1(l)).unwrap()}catch(f){throw console.error("Failed to create user:",f),f}},[e,n,s]),o=b.useCallback(()=>{e(bxe())},[e]);return b.useMemo(()=>({createUser:i,loading:t,error:r,reset:o,validateForm:n,formatForApi:s}),[i,t,r,o,n,s])},Lat=()=>{const e=$t(),t=pe(kxe),r=pe(Txe),n=b.useCallback(c=>_d.validateUserForm(c,!0),[]),s=b.useCallback(c=>{const d={name:Zr.formatDisplayName(c.name),email:Zr.formatEmail(c.email),roles:c.roles,permissions:c.permissions};return c.password&&(d.password=c.password,d.password_confirmation=c.password_confirmation),d},[]),i=b.useCallback(async(c,d)=>{const u={name:d.name||"",email:d.email||"",password:d.password,password_confirmation:d.password_confirmation,roles:d.roles||[],permissions:d.permissions||[]},l=n(u);if(!l.isValid){const f=Object.values(l.errors)[0];throw new Error(f)}try{return await e(B1({userId:c,data:d})).unwrap()}catch(f){throw console.error("Failed to update user:",f),f}},[e,n]),o=b.useCallback(()=>{e(wxe())},[e]);return b.useMemo(()=>({updateUser:i,loading:t,error:r,reset:o,validateForm:n,formatForApi:s}),[i,t,r,o,n,s])},Bat=()=>{const e=$t(),t=pe(Pxe),r=pe(Dxe),n=b.useCallback(async i=>{try{await e($1(i)).unwrap()}catch(o){throw console.error("Failed to delete user:",o),o}},[e]),s=b.useCallback(()=>{e(Sxe())},[e]);return b.useMemo(()=>({deleteUser:n,loading:t,error:r,reset:s}),[n,t,r,s])},dae=e=>{const t=$t(),r=pe(o=>e?Oxe(o,e):void 0),n=pe(Uq),s=pe(Vq);b.useEffect(()=>{e&&!r&&!n&&t(F1(e))},[e,r,n,t]);const i=b.useMemo(()=>r?{displayName:Zr.formatDisplayName(r.name),formattedEmail:Zr.formatEmail(r.email),createdAt:Zr.formatCreatedAt(r.created_at),updatedAt:Zr.formatCreatedAt(r.updated_at),relativeTime:Zr.formatRelativeTime(r.created_at),verificationStatus:Zr.formatEmailVerificationStatus(r.email_verified_at),roleCount:r.roles?.length||0,permissionCount:r.permissions?.length||0,storeCount:r.stores?.length||0,roleNames:r.roles?.map(o=>o.name).join(", ")||"No roles",permissionNames:r.permissions?.map(o=>o.name).join(", ")||"No permissions",initials:Zr.formatInitials(r.name)}:null,[r]);return b.useMemo(()=>({user:r,formattedData:i,loading:n,error:s,exists:!!r}),[r,i,n,s])},$at=({user:e,onView:t,onEdit:r,onDelete:n,deleteLoading:s=!1})=>a.jsxs(_t,{className:"border-border bg-card hover:bg-muted/50",children:[a.jsx(ke,{className:"font-medium text-xs sm:text-sm p-2 sm:p-4 text-foreground",children:a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[a.jsx("div",{className:"h-6 w-6 sm:h-8 sm:w-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium bg-primary text-primary-foreground",children:Zr.formatInitials(e.name)}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"text-xs sm:text-sm font-medium truncate text-foreground",title:Zr.formatDisplayName(e.name),children:Zr.formatDisplayName(e.name)}),a.jsxs("div",{className:"sm:hidden mt-1 space-y-1",children:[e.roles&&e.roles.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.roles.slice(0,2).map(i=>a.jsx(Ze,{variant:"outline",className:"text-xs px-1 py-0.5 bg-secondary text-secondary-foreground border-border",children:i.name},i.id)),e.roles.length>2&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.roles.length-2]})]}),e.stores&&e.stores.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.stores.slice(0,2).map(i=>a.jsx(Ze,{variant:"secondary",className:"text-xs px-1 py-0.5 bg-accent text-accent-foreground border-border",children:i.store.name},i.store.id)),e.stores.length>2&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.stores.length-2]})]})]})]})]})}),a.jsx(ke,{className:"p-2 sm:p-4 hidden sm:table-cell",children:a.jsx("div",{className:"space-y-1 max-w-[20rem] lg:max-w-none",children:e.roles&&e.roles.length>0?a.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.roles.slice(0,4).map(i=>a.jsx(Ze,{variant:"outline",className:"text-xs px-1 py-0.5 bg-secondary text-secondary-foreground border-border",children:a.jsx("span",{className:"truncate max-w-[7rem]",title:i.name,children:i.name})},i.id)),e.roles.length>4&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.roles.length-4]})]}):a.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"No roles"})})}),a.jsx(ke,{className:"p-2 sm:p-4 hidden md:table-cell",children:a.jsx("div",{className:"space-y-1 max-w-[20rem] lg:max-w-none",children:e.stores&&e.stores.length>0?a.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.stores.slice(0,4).map(i=>a.jsx(Ze,{variant:"secondary",className:"text-xs px-1 py-0.5 bg-accent text-accent-foreground border-border",children:a.jsx("span",{className:"truncate max-w-[7rem]",title:i.store.name,children:i.store.name})},i.store.id)),e.stores.length>4&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.stores.length-4]})]}):a.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"No stores"})})}),a.jsx(ke,{className:"text-right p-2 sm:p-4",children:a.jsxs("div",{className:"flex items-center justify-end gap-1 sm:gap-2",children:[a.jsx(X,{variant:"ghost",size:"sm",onClick:()=>t(e.id),className:"h-7 w-7 sm:h-8 sm:w-8 p-0 text-muted-foreground bg-transparent hover:bg-muted/50",title:"View user",children:a.jsx(Cs,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),a.jsx(X,{variant:"ghost",size:"sm",onClick:()=>r(e.id),className:"h-7 w-7 sm:h-8 sm:w-8 p-0 text-muted-foreground bg-transparent hover:bg-muted/50",title:"Edit user",children:a.jsx(vi,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),a.jsx(X,{variant:"ghost",size:"sm",onClick:()=>n({id:e.id,name:e.name}),className:"h-7 w-7 sm:h-8 sm:w-8 p-0 text-destructive bg-transparent hover:bg-destructive/10",disabled:s,title:"Delete user",children:a.jsx(ss,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})})]}),Fat=()=>a.jsx(nn,{className:"bg-muted border-b border-border",children:a.jsxs(_t,{className:"border-border",children:[a.jsx(Re,{className:"min-w-[10rem] text-xs sm:text-sm text-foreground font-semibold",children:"Name"}),a.jsx(Re,{className:"min-w-[8rem] text-xs sm:text-sm hidden sm:table-cell text-foreground font-semibold",children:"Roles"}),a.jsx(Re,{className:"min-w-[8rem] text-xs sm:text-sm hidden md:table-cell text-foreground font-semibold",children:"Stores"}),a.jsx(Re,{className:"min-w-[6rem] text-xs sm:text-sm text-right text-foreground font-semibold",children:"Actions"})]})});function GR(e,[t,r]){return Math.min(r,Math.max(t,e))}function Un(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),r===!1||!s.defaultPrevented)return t?.(s)}}var Hat="DismissableLayer",YR="dismissableLayer.update",zat="dismissableLayer.pointerDownOutside",Uat="dismissableLayer.focusOutside",GV,uae=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fae=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:c,...d}=e,u=b.useContext(uae),[l,f]=b.useState(null),p=l?.ownerDocument??globalThis?.document,[,g]=b.useState({}),x=vt(t,A=>f(A)),S=Array.from(u.layers),[m]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=S.indexOf(m),w=l?S.indexOf(l):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,E=w>=y,N=qat(A=>{const T=A.target,P=[...u.branches].some(M=>M.contains(T));!E||P||(s?.(A),o?.(A),A.defaultPrevented||c?.())},p),k=Gat(A=>{const T=A.target;[...u.branches].some(M=>M.contains(T))||(i?.(A),o?.(A),A.defaultPrevented||c?.())},p);return YM(A=>{w===u.layers.size-1&&(n?.(A),!A.defaultPrevented&&c&&(A.preventDefault(),c()))},p),b.useEffect(()=>{if(l)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(GV=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(l)),u.layers.add(l),YV(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=GV)}},[l,p,r,u]),b.useEffect(()=>()=>{l&&(u.layers.delete(l),u.layersWithOutsidePointerEventsDisabled.delete(l),YV())},[l,u]),b.useEffect(()=>{const A=()=>g({});return document.addEventListener(YR,A),()=>document.removeEventListener(YR,A)},[]),a.jsx(Je.div,{...d,ref:x,style:{pointerEvents:C?E?"auto":"none":void 0,...e.style},onFocusCapture:Un(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Un(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Un(e.onPointerDownCapture,N.onPointerDownCapture)})});fae.displayName=Hat;var Vat="DismissableLayerBranch",Wat=b.forwardRef((e,t)=>{const r=b.useContext(uae),n=b.useRef(null),s=vt(t,n);return b.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Je.div,{...e,ref:s})});Wat.displayName=Vat;function qat(e,t=globalThis?.document){const r=Xr(e),n=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=c=>{if(c.target&&!n.current){let d=function(){hae(zat,r,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Gat(e,t=globalThis?.document){const r=Xr(e),n=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!n.current&&hae(Uat,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function YV(){const e=new CustomEvent(YR);document.dispatchEvent(e)}function hae(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?lE(s,i):s.dispatchEvent(i)}var NP=0;function Yat(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??KV()),document.body.insertAdjacentElement("beforeend",e[1]??KV()),NP++,()=>{NP===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),NP--}},[])}function KV(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var P3="Popper",[mae,pae]=Yn(P3),[Kat,gae]=mae(P3),xae=e=>{const{__scopePopper:t,children:r}=e,[n,s]=b.useState(null);return a.jsx(Kat,{scope:t,anchor:n,onAnchorChange:s,children:r})};xae.displayName=P3;var vae="PopperAnchor",yae=b.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=gae(vae,r),o=b.useRef(null),c=vt(t,o),d=b.useRef(null);return b.useEffect(()=>{const u=d.current;d.current=n?.current||o.current,u!==d.current&&i.onAnchorChange(d.current)}),n?null:a.jsx(Je.div,{...s,ref:c})});yae.displayName=vae;var D3="PopperContent",[Zat,Xat]=mae(D3),bae=b.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:l=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:x,...S}=e,m=gae(D3,r),[y,w]=b.useState(null),C=vt(t,de=>w(de)),[E,N]=b.useState(null),k=F0(E),A=k?.width??0,T=k?.height??0,P=n+(i!=="center"?"-"+i:""),M=typeof l=="number"?l:{top:0,right:0,bottom:0,left:0,...l},O=Array.isArray(u)?u:[u],R=O.length>0,L={padding:M,boundary:O.filter(Jat),altBoundary:R},{refs:B,floatingStyles:F,placement:$,isPositioned:z,middlewareData:W}=FK({strategy:"fixed",placement:P,whileElementsMounted:(...de)=>BK(...de,{animationFrame:g==="always"}),elements:{reference:m.anchor},middleware:[HK({mainAxis:s+T,alignmentAxis:o}),d&&zK({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?UK():void 0,...L}),d&&VK({...L}),WK({...L,apply:({elements:de,rects:he,availableWidth:ee,availableHeight:ie})=>{const{width:ye,height:le}=he.reference,Te=de.floating.style;Te.setProperty("--radix-popper-available-width",`${ee}px`),Te.setProperty("--radix-popper-available-height",`${ie}px`),Te.setProperty("--radix-popper-anchor-width",`${ye}px`),Te.setProperty("--radix-popper-anchor-height",`${le}px`)}}),E&&GK({element:E,padding:c}),eit({arrowWidth:A,arrowHeight:T}),p&&qK({strategy:"referenceHidden",...L})]}),[Z,V]=Cae($),q=Xr(x);wr(()=>{z&&q?.()},[z,q]);const H=W.arrow?.x,K=W.arrow?.y,Y=W.arrow?.centerOffset!==0,[re,me]=b.useState();return wr(()=>{y&&me(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:z?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[W.transformOrigin?.x,W.transformOrigin?.y].join(" "),...W.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(Zat,{scope:r,placedSide:Z,onArrowChange:N,arrowX:H,arrowY:K,shouldHideArrow:Y,children:a.jsx(Je.div,{"data-side":Z,"data-align":V,...S,ref:C,style:{...S.style,animation:z?void 0:"none"}})})})});bae.displayName=D3;var wae="PopperArrow",Qat={top:"bottom",right:"left",bottom:"top",left:"right"},Sae=b.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=Xat(wae,n),o=Qat[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(KK,{...s,ref:r,style:{...s.style,display:"block"}})})});Sae.displayName=wae;function Jat(e){return e!==null}var eit=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:s}=t,o=s.arrow?.centerOffset!==0,c=o?0:e.arrowWidth,d=o?0:e.arrowHeight,[u,l]=Cae(r),f={start:"0%",center:"50%",end:"100%"}[l],p=(s.arrow?.x??0)+c/2,g=(s.arrow?.y??0)+d/2;let x="",S="";return u==="bottom"?(x=o?f:`${p}px`,S=`${-d}px`):u==="top"?(x=o?f:`${p}px`,S=`${n.floating.height+d}px`):u==="right"?(x=`${-d}px`,S=o?f:`${g}px`):u==="left"&&(x=`${n.floating.width+d}px`,S=o?f:`${g}px`),{data:{x,y:S}}}});function Cae(e){const[t,r="center"]=e.split("-");return[t,r]}var tit=xae,rit=yae,nit=bae,sit=Sae;function zN(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ait=[" ","Enter","ArrowUp","ArrowDown"],iit=[" ","Enter"],Hf="Select",[UN,VN,oit]=$N(Hf),[yg,Rxt]=Yn(Hf,[oit,pae]),WN=pae(),[lit,pu]=yg(Hf),[cit,dit]=yg(Hf),jae=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:c,onValueChange:d,dir:u,name:l,autoComplete:f,disabled:p,required:g,form:x}=e,S=WN(t),[m,y]=b.useState(null),[w,C]=b.useState(null),[E,N]=b.useState(!1),k=lh(u),[A,T]=qi({prop:n,defaultProp:s??!1,onChange:i,caller:Hf}),[P,M]=qi({prop:o,defaultProp:c,onChange:d,caller:Hf}),O=b.useRef(null),R=m?x||!!m.closest("form"):!0,[L,B]=b.useState(new Set),F=Array.from(L).map($=>$.props.value).join(";");return a.jsx(tit,{...S,children:a.jsxs(lit,{required:g,scope:t,trigger:m,onTriggerChange:y,valueNode:w,onValueNodeChange:C,valueNodeHasChildren:E,onValueNodeHasChildrenChange:N,contentId:rs(),value:P,onValueChange:M,open:A,onOpenChange:T,dir:k,triggerPointerDownPosRef:O,disabled:p,children:[a.jsx(UN.Provider,{scope:t,children:a.jsx(cit,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback($=>{B(z=>new Set(z).add($))},[]),onNativeOptionRemove:b.useCallback($=>{B(z=>{const W=new Set(z);return W.delete($),W})},[]),children:r})}),R?a.jsxs(Yae,{"aria-hidden":!0,required:g,tabIndex:-1,name:l,autoComplete:f,value:P,onChange:$=>M($.target.value),disabled:p,form:x,children:[P===void 0?a.jsx("option",{value:""}):null,Array.from(L)]},F):null]})})};jae.displayName=Hf;var Eae="SelectTrigger",Nae=b.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=WN(r),o=pu(Eae,r),c=o.disabled||n,d=vt(t,o.onTriggerChange),u=VN(r),l=b.useRef("touch"),[f,p,g]=Zae(S=>{const m=u().filter(C=>!C.disabled),y=m.find(C=>C.value===o.value),w=Xae(m,S,y);w!==void 0&&o.onValueChange(w.value)}),x=S=>{c||(o.onOpenChange(!0),g()),S&&(o.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return a.jsx(rit,{asChild:!0,...i,children:a.jsx(Je.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Kae(o.value)?"":void 0,...s,ref:d,onClick:Un(s.onClick,S=>{S.currentTarget.focus(),l.current!=="mouse"&&x(S)}),onPointerDown:Un(s.onPointerDown,S=>{l.current=S.pointerType;const m=S.target;m.hasPointerCapture(S.pointerId)&&m.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(x(S),S.preventDefault())}),onKeyDown:Un(s.onKeyDown,S=>{const m=f.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&p(S.key),!(m&&S.key===" ")&&ait.includes(S.key)&&(x(),S.preventDefault())})})})});Nae.displayName=Eae;var _ae="SelectValue",Aae=b.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...c}=e,d=pu(_ae,r),{onValueNodeHasChildrenChange:u}=d,l=i!==void 0,f=vt(t,d.onValueNodeChange);return wr(()=>{u(l)},[u,l]),a.jsx(Je.span,{...c,ref:f,style:{pointerEvents:"none"},children:Kae(d.value)?a.jsx(a.Fragment,{children:o}):i})});Aae.displayName=_ae;var uit="SelectIcon",kae=b.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(Je.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});kae.displayName=uit;var fit="SelectPortal",Tae=e=>a.jsx(Qp,{asChild:!0,...e});Tae.displayName=fit;var zf="SelectContent",Pae=b.forwardRef((e,t)=>{const r=pu(zf,e.__scopeSelect),[n,s]=b.useState();if(wr(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Qd.createPortal(a.jsx(Dae,{scope:e.__scopeSelect,children:a.jsx(UN.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(Rae,{...e,ref:t})});Pae.displayName=zf;var fo=10,[Dae,gu]=yg(zf),hit="SelectContentImpl",mit=Hd("SelectContent.RemoveScroll"),Rae=b.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:c,sideOffset:d,align:u,alignOffset:l,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:x,hideWhenDetached:S,avoidCollisions:m,...y}=e,w=pu(zf,r),[C,E]=b.useState(null),[N,k]=b.useState(null),A=vt(t,de=>E(de)),[T,P]=b.useState(null),[M,O]=b.useState(null),R=VN(r),[L,B]=b.useState(!1),F=b.useRef(!1);b.useEffect(()=>{if(C)return uE(C)},[C]),Yat();const $=b.useCallback(de=>{const[he,...ee]=R().map(le=>le.ref.current),[ie]=ee.slice(-1),ye=document.activeElement;for(const le of de)if(le===ye||(le?.scrollIntoView({block:"nearest"}),le===he&&N&&(N.scrollTop=0),le===ie&&N&&(N.scrollTop=N.scrollHeight),le?.focus(),document.activeElement!==ye))return},[R,N]),z=b.useCallback(()=>$([T,C]),[$,T,C]);b.useEffect(()=>{L&&z()},[L,z]);const{onOpenChange:W,triggerPointerDownPosRef:Z}=w;b.useEffect(()=>{if(C){let de={x:0,y:0};const he=ie=>{de={x:Math.abs(Math.round(ie.pageX)-(Z.current?.x??0)),y:Math.abs(Math.round(ie.pageY)-(Z.current?.y??0))}},ee=ie=>{de.x<=10&&de.y<=10?ie.preventDefault():C.contains(ie.target)||W(!1),document.removeEventListener("pointermove",he),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",he),document.addEventListener("pointerup",ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",he),document.removeEventListener("pointerup",ee,{capture:!0})}}},[C,W,Z]),b.useEffect(()=>{const de=()=>W(!1);return window.addEventListener("blur",de),window.addEventListener("resize",de),()=>{window.removeEventListener("blur",de),window.removeEventListener("resize",de)}},[W]);const[V,q]=Zae(de=>{const he=R().filter(ye=>!ye.disabled),ee=he.find(ye=>ye.ref.current===document.activeElement),ie=Xae(he,de,ee);ie&&setTimeout(()=>ie.ref.current.focus())}),H=b.useCallback((de,he,ee)=>{const ie=!F.current&&!ee;(w.value!==void 0&&w.value===he||ie)&&(P(de),ie&&(F.current=!0))},[w.value]),K=b.useCallback(()=>C?.focus(),[C]),Y=b.useCallback((de,he,ee)=>{const ie=!F.current&&!ee;(w.value!==void 0&&w.value===he||ie)&&O(de)},[w.value]),re=n==="popper"?KR:Mae,me=re===KR?{side:c,sideOffset:d,align:u,alignOffset:l,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:x,hideWhenDetached:S,avoidCollisions:m}:{};return a.jsx(Dae,{scope:r,content:C,viewport:N,onViewportChange:k,itemRefCallback:H,selectedItem:T,onItemLeave:K,itemTextRefCallback:Y,focusSelectedItem:z,selectedItemText:M,position:n,isPositioned:L,searchRef:V,children:a.jsx(O0,{as:mit,allowPinchZoom:!0,children:a.jsx(M0,{asChild:!0,trapped:w.open,onMountAutoFocus:de=>{de.preventDefault()},onUnmountAutoFocus:Un(s,de=>{w.trigger?.focus({preventScroll:!0}),de.preventDefault()}),children:a.jsx(fae,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:de=>de.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:a.jsx(re,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:de=>de.preventDefault(),...y,...me,onPlaced:()=>B(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Un(y.onKeyDown,de=>{const he=de.ctrlKey||de.altKey||de.metaKey;if(de.key==="Tab"&&de.preventDefault(),!he&&de.key.length===1&&q(de.key),["ArrowUp","ArrowDown","Home","End"].includes(de.key)){let ie=R().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(de.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(de.key)){const ye=de.target,le=ie.indexOf(ye);ie=ie.slice(le+1)}setTimeout(()=>$(ie)),de.preventDefault()}})})})})})})});Rae.displayName=hit;var pit="SelectItemAlignedPosition",Mae=b.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=pu(zf,r),o=gu(zf,r),[c,d]=b.useState(null),[u,l]=b.useState(null),f=vt(t,A=>l(A)),p=VN(r),g=b.useRef(!1),x=b.useRef(!0),{viewport:S,selectedItem:m,selectedItemText:y,focusSelectedItem:w}=o,C=b.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&u&&S&&m&&y){const A=i.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),M=y.getBoundingClientRect();if(i.dir!=="rtl"){const ye=M.left-T.left,le=P.left-ye,Te=A.left-le,Ae=A.width+Te,ae=Math.max(Ae,T.width),We=window.innerWidth-fo,rt=GR(le,[fo,Math.max(fo,We-ae)]);c.style.minWidth=Ae+"px",c.style.left=rt+"px"}else{const ye=T.right-M.right,le=window.innerWidth-P.right-ye,Te=window.innerWidth-A.right-le,Ae=A.width+Te,ae=Math.max(Ae,T.width),We=window.innerWidth-fo,rt=GR(le,[fo,Math.max(fo,We-ae)]);c.style.minWidth=Ae+"px",c.style.right=rt+"px"}const O=p(),R=window.innerHeight-fo*2,L=S.scrollHeight,B=window.getComputedStyle(u),F=parseInt(B.borderTopWidth,10),$=parseInt(B.paddingTop,10),z=parseInt(B.borderBottomWidth,10),W=parseInt(B.paddingBottom,10),Z=F+$+L+W+z,V=Math.min(m.offsetHeight*5,Z),q=window.getComputedStyle(S),H=parseInt(q.paddingTop,10),K=parseInt(q.paddingBottom,10),Y=A.top+A.height/2-fo,re=R-Y,me=m.offsetHeight/2,de=m.offsetTop+me,he=F+$+de,ee=Z-he;if(he<=Y){const ye=O.length>0&&m===O[O.length-1].ref.current;c.style.bottom="0px";const le=u.clientHeight-S.offsetTop-S.offsetHeight,Te=Math.max(re,me+(ye?K:0)+le+z),Ae=he+Te;c.style.height=Ae+"px"}else{const ye=O.length>0&&m===O[0].ref.current;c.style.top="0px";const Te=Math.max(Y,F+S.offsetTop+(ye?H:0)+me)+ee;c.style.height=Te+"px",S.scrollTop=he-Y+S.offsetTop}c.style.margin=`${fo}px 0`,c.style.minHeight=V+"px",c.style.maxHeight=R+"px",n?.(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,c,u,S,m,y,i.dir,n]);wr(()=>C(),[C]);const[E,N]=b.useState();wr(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const k=b.useCallback(A=>{A&&x.current===!0&&(C(),w?.(),x.current=!1)},[C,w]);return a.jsx(xit,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:g,onScrollButtonChange:k,children:a.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:a.jsx(Je.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Mae.displayName=pit;var git="SelectPopperPosition",KR=b.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=fo,...i}=e,o=WN(r);return a.jsx(nit,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});KR.displayName=git;var[xit,R3]=yg(zf,{}),ZR="SelectViewport",Oae=b.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=gu(ZR,r),o=R3(ZR,r),c=vt(t,i.onViewportChange),d=b.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(UN.Slot,{scope:r,children:a.jsx(Je.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Un(s.onScroll,u=>{const l=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p?.current&&f){const g=Math.abs(d.current-l.scrollTop);if(g>0){const x=window.innerHeight-fo*2,S=parseFloat(f.style.minHeight),m=parseFloat(f.style.height),y=Math.max(S,m);if(y<x){const w=y+g,C=Math.min(x,w),E=w-C;f.style.height=C+"px",f.style.bottom==="0px"&&(l.scrollTop=E>0?E:0,f.style.justifyContent="flex-end")}}}d.current=l.scrollTop})})})]})});Oae.displayName=ZR;var Iae="SelectGroup",[vit,yit]=yg(Iae),bit=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=rs();return a.jsx(vit,{scope:r,id:s,children:a.jsx(Je.div,{role:"group","aria-labelledby":s,...n,ref:t})})});bit.displayName=Iae;var Lae="SelectLabel",Bae=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=yit(Lae,r);return a.jsx(Je.div,{id:s.id,...n,ref:t})});Bae.displayName=Lae;var vj="SelectItem",[wit,$ae]=yg(vj),Fae=b.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,c=pu(vj,r),d=gu(vj,r),u=c.value===n,[l,f]=b.useState(i??""),[p,g]=b.useState(!1),x=vt(t,w=>d.itemRefCallback?.(w,n,s)),S=rs(),m=b.useRef("touch"),y=()=>{s||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(wit,{scope:r,value:n,disabled:s,textId:S,isSelected:u,onItemTextChange:b.useCallback(w=>{f(C=>C||(w?.textContent??"").trim())},[]),children:a.jsx(UN.ItemSlot,{scope:r,value:n,disabled:s,textValue:l,children:a.jsx(Je.div,{role:"option","aria-labelledby":S,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:Un(o.onFocus,()=>g(!0)),onBlur:Un(o.onBlur,()=>g(!1)),onClick:Un(o.onClick,()=>{m.current!=="mouse"&&y()}),onPointerUp:Un(o.onPointerUp,()=>{m.current==="mouse"&&y()}),onPointerDown:Un(o.onPointerDown,w=>{m.current=w.pointerType}),onPointerMove:Un(o.onPointerMove,w=>{m.current=w.pointerType,s?d.onItemLeave?.():m.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Un(o.onPointerLeave,w=>{w.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:Un(o.onKeyDown,w=>{d.searchRef?.current!==""&&w.key===" "||(iit.includes(w.key)&&y(),w.key===" "&&w.preventDefault())})})})})});Fae.displayName=vj;var dv="SelectItemText",Hae=b.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=pu(dv,r),c=gu(dv,r),d=$ae(dv,r),u=dit(dv,r),[l,f]=b.useState(null),p=vt(t,y=>f(y),d.onItemTextChange,y=>c.itemTextRefCallback?.(y,d.value,d.disabled)),g=l?.textContent,x=b.useMemo(()=>a.jsx("option",{value:d.value,disabled:d.disabled,children:g},d.value),[d.disabled,d.value,g]),{onNativeOptionAdd:S,onNativeOptionRemove:m}=u;return wr(()=>(S(x),()=>m(x)),[S,m,x]),a.jsxs(a.Fragment,{children:[a.jsx(Je.span,{id:d.textId,...i,ref:p}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Qd.createPortal(i.children,o.valueNode):null]})});Hae.displayName=dv;var zae="SelectItemIndicator",Uae=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return $ae(zae,r).isSelected?a.jsx(Je.span,{"aria-hidden":!0,...n,ref:t}):null});Uae.displayName=zae;var XR="SelectScrollUpButton",Vae=b.forwardRef((e,t)=>{const r=gu(XR,e.__scopeSelect),n=R3(XR,e.__scopeSelect),[s,i]=b.useState(!1),o=vt(t,n.onScrollButtonChange);return wr(()=>{if(r.viewport&&r.isPositioned){let c=function(){const u=d.scrollTop>0;i(u)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),s?a.jsx(qae,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});Vae.displayName=XR;var QR="SelectScrollDownButton",Wae=b.forwardRef((e,t)=>{const r=gu(QR,e.__scopeSelect),n=R3(QR,e.__scopeSelect),[s,i]=b.useState(!1),o=vt(t,n.onScrollButtonChange);return wr(()=>{if(r.viewport&&r.isPositioned){let c=function(){const u=d.scrollHeight-d.clientHeight,l=Math.ceil(d.scrollTop)<u;i(l)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),s?a.jsx(qae,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});Wae.displayName=QR;var qae=b.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=gu("SelectScrollButton",r),o=b.useRef(null),c=VN(r),d=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>d(),[d]),wr(()=>{c().find(l=>l.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),a.jsx(Je.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Un(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Un(s.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Un(s.onPointerLeave,()=>{d()})})}),Sit="SelectSeparator",Gae=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Je.div,{"aria-hidden":!0,...n,ref:t})});Gae.displayName=Sit;var JR="SelectArrow",Cit=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=WN(r),i=pu(JR,r),o=gu(JR,r);return i.open&&o.position==="popper"?a.jsx(sit,{...s,...n,ref:t}):null});Cit.displayName=JR;var jit="SelectBubbleInput",Yae=b.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=b.useRef(null),i=vt(n,s),o=zN(t);return b.useEffect(()=>{const c=s.current;if(!c)return;const d=window.HTMLSelectElement.prototype,l=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==t&&l){const f=new Event("change",{bubbles:!0});l.call(c,t),c.dispatchEvent(f)}},[o,t]),a.jsx(Je.select,{...r,style:{...aZ,...r.style},ref:i,defaultValue:t})});Yae.displayName=jit;function Kae(e){return e===""||e===void 0}function Zae(e){const t=Xr(e),r=b.useRef(""),n=b.useRef(0),s=b.useCallback(o=>{const c=r.current+o;t(c),function d(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>d(""),1e3))}(c)},[t]),i=b.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function Xae(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Eit(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const d=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==r?d:void 0}function Eit(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Nit=jae,Qae=Nae,_it=Aae,Ait=kae,kit=Tae,Jae=Pae,Tit=Oae,eie=Bae,tie=Fae,Pit=Hae,Dit=Uae,rie=Vae,nie=Wae,sie=Gae;const Wt=Nit,qt=_it,zt=b.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(Qae,{ref:n,className:J("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(Ait,{asChild:!0,children:a.jsx(Yf,{className:"h-4 w-4 opacity-50"})})]}));zt.displayName=Qae.displayName;const aie=b.forwardRef(({className:e,...t},r)=>a.jsx(rie,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(wY,{className:"h-4 w-4"})}));aie.displayName=rie.displayName;const iie=b.forwardRef(({className:e,...t},r)=>a.jsx(nie,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Yf,{className:"h-4 w-4"})}));iie.displayName=nie.displayName;const Ut=b.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(kit,{children:a.jsxs(Jae,{ref:s,className:J("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(aie,{}),a.jsx(Tit,{className:J("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(iie,{})]})}));Ut.displayName=Jae.displayName;const Rit=b.forwardRef(({className:e,...t},r)=>a.jsx(eie,{ref:r,className:J("px-2 py-1.5 text-sm font-semibold",e),...t}));Rit.displayName=eie.displayName;const pt=b.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(tie,{ref:n,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Dit,{children:a.jsx(iE,{className:"h-4 w-4"})})}),a.jsx(Pit,{children:t})]}));pt.displayName=tie.displayName;const Mit=b.forwardRef(({className:e,...t},r)=>a.jsx(sie,{ref:r,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));Mit.displayName=sie.displayName;const Oit=["5","10","15","20","25","50"],oie=b.memo(({loading:e,users:t,pagination:r,currentPage:n,perPage:s,onPerPageChange:i,onPreviousPage:o,onNextPage:c})=>{const d=b.useMemo(()=>s.toString(),[s]),u=b.useMemo(()=>!e&&t.length>0,[e,t.length]),l=b.useMemo(()=>r&&r.lastPage>1,[r]),f=b.useMemo(()=>n<=1,[n]),p=b.useMemo(()=>n>=(r?.lastPage||1),[n,r?.lastPage]),g=b.useMemo(()=>r?`${r.from} to ${r.to} of ${r.total} users`:`1 to ${t.length} of ${t.length} users`,[r,t.length]);return u?a.jsxs("div",{className:"px-4 py-3 border-t border-border bg-card flex flex-col lg:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Show"}),a.jsxs(Wt,{value:d,onValueChange:i,children:[a.jsx(zt,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:a.jsx(qt,{})}),a.jsx(Ut,{className:"bg-popover border-border",children:Oit.map(x=>a.jsx(pt,{value:x,children:x},x))})]}),a.jsx("span",{className:"text-muted-foreground",children:"per page"})]}),l&&r&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(X,{variant:"outline",size:"sm",onClick:o,disabled:f,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Prev"}),a.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground",children:["Page ",n," of ",r.lastPage]}),a.jsx(X,{variant:"outline",size:"sm",onClick:c,disabled:p,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Next"})]}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:g})]}):null});oie.displayName="UsersTableFooter";const Iit=()=>a.jsx("div",{className:"text-center py-6 sm:py-8 bg-card",children:a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No users found."})}),xu=({message:e="Loading...",showLogo:t=!0,showProgressBar:r=!0,size:n="medium",className:s=""})=>{const{theme:i}=P0(),[o,c]=b.useState(0),d=i==="dark"||i==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;b.useEffect(()=>{let f=0;const p=setInterval(()=>{f+=.02,f>=1&&(f=1,clearInterval(p)),c(f)},10);return()=>clearInterval(p)},[]);const l={small:{logo:{width:"80px",height:"40px"},spinner:"h-6 w-6",text:"text-xs",title:"text-sm",progressBar:"w-24 h-1",spacing:"space-y-2"},medium:{logo:{width:"120px",height:"60px"},spinner:"h-8 w-8",text:"text-xs",title:"text-sm",progressBar:"w-32 h-1.5",spacing:"space-y-4"},large:{logo:{width:"220px",height:"110px"},spinner:"h-12 w-12",text:"text-base",title:"text-xl",progressBar:"w-48 h-2",spacing:"space-y-6"}}[n];return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          20%, 60% { transform: translateX(-4px); }
          40%, 80% { transform: translateX(4px); }
        }
        .shake {
          animation: shake 0.5s ease-in-out infinite;
        }
      `}),a.jsxs("div",{className:`flex flex-col items-center justify-center ${l.spacing} ${s}`,children:[t&&a.jsx("img",{src:"/image.svg",alt:"PNE Empowering Logo",className:"shake",style:{transition:"clip-path 0.3s linear",width:l.logo.width,height:l.logo.height,objectFit:"contain",filter:d?"brightness(0) invert(1)":"none",clipPath:`inset(${100-o*100}% 0 0 0)`}}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:`animate-spin rounded-full border-4 ${l.spinner} ${d?"border-gray-600":"border-border"}`}),a.jsx("div",{className:`animate-spin rounded-full border-4 absolute top-0 left-0 border-t-transparent ${l.spinner} border-primary`})]}),a.jsxs("div",{className:"text-center space-y-1",children:[t&&a.jsx("p",{className:`font-medium ${d?"text-white":"text-card-foreground"} ${l.title}`,children:"Empowering a Brighter Future"}),a.jsx("p",{className:`${d?"text-gray-300":"text-muted-foreground"} ${l.text}`,children:e})]}),r&&a.jsx("div",{className:`rounded-full bg-muted ${l.progressBar}`,children:a.jsx("div",{className:"h-full rounded-full bg-primary transition-all duration-300",style:{width:`${Math.round(o*100)}%`}})})]})]})},Lit=()=>a.jsx(xu,{message:"Loading users...",size:"medium",className:"h-48 sm:h-64 bg-card text-muted-foreground"});function Bit(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),r===!1||!s.defaultPrevented)return t?.(s)}}var lie="AlertDialog",[$it,Mxt]=Yn(lie,[sK]),zc=sK(),cie=e=>{const{__scopeAlertDialog:t,...r}=e,n=zc(t);return a.jsx(I0,{...n,...r,modal:!0})};cie.displayName=lie;var Fit="AlertDialogTrigger",Hit=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zc(r);return a.jsx(bK,{...s,...n,ref:t})});Hit.displayName=Fit;var zit="AlertDialogPortal",die=e=>{const{__scopeAlertDialog:t,...r}=e,n=zc(t);return a.jsx(L0,{...n,...r})};die.displayName=zit;var Uit="AlertDialogOverlay",uie=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zc(r);return a.jsx(eu,{...s,...n,ref:t})});uie.displayName=Uit;var rp="AlertDialogContent",[Vit,Wit]=$it(rp),qit=FY("AlertDialogContent"),fie=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,i=zc(r),o=b.useRef(null),c=vt(t,o),d=b.useRef(null);return a.jsx(KTe,{contentName:rp,titleName:hie,docsSlug:"alert-dialog",children:a.jsx(Vit,{scope:r,cancelRef:d,children:a.jsxs(tu,{role:"alertdialog",...i,...s,ref:c,onOpenAutoFocus:Bit(s.onOpenAutoFocus,u=>{u.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(qit,{children:n}),a.jsx(Yit,{contentRef:o})]})})})});fie.displayName=rp;var hie="AlertDialogTitle",mie=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zc(r);return a.jsx(ru,{...s,...n,ref:t})});mie.displayName=hie;var pie="AlertDialogDescription",gie=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zc(r);return a.jsx(Xf,{...s,...n,ref:t})});gie.displayName=pie;var Git="AlertDialogAction",xie=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zc(r);return a.jsx(B0,{...s,...n,ref:t})});xie.displayName=Git;var vie="AlertDialogCancel",yie=b.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=Wit(vie,r),i=zc(r),o=vt(t,s);return a.jsx(B0,{...i,...n,ref:o})});yie.displayName=vie;var Yit=({contentRef:e})=>{const t=`\`${rp}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${rp}\` by passing a \`${pie}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${rp}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Kit=cie,Zit=die,bie=uie,wie=fie,Sie=xie,Cie=yie,jie=mie,Eie=gie;const Uc=Kit,Xit=Zit,Nie=b.forwardRef(({className:e,...t},r)=>a.jsx(bie,{className:J("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Nie.displayName=bie.displayName;const vl=b.forwardRef(({className:e,...t},r)=>a.jsxs(Xit,{children:[a.jsx(Nie,{}),a.jsx(wie,{ref:r,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));vl.displayName=wie.displayName;const yl=({className:e,...t})=>a.jsx("div",{className:J("flex flex-col space-y-2 text-center sm:text-left",e),...t});yl.displayName="AlertDialogHeader";const bl=({className:e,...t})=>a.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});bl.displayName="AlertDialogFooter";const wl=b.forwardRef(({className:e,...t},r)=>a.jsx(jie,{ref:r,className:J("text-lg font-semibold",e),...t}));wl.displayName=jie.displayName;const Sl=b.forwardRef(({className:e,...t},r)=>a.jsx(Eie,{ref:r,className:J("text-sm text-muted-foreground",e),...t}));Sl.displayName=Eie.displayName;const Cl=b.forwardRef(({className:e,...t},r)=>a.jsx(Sie,{ref:r,className:J(cp(),e),...t}));Cl.displayName=Sie.displayName;const jl=b.forwardRef(({className:e,...t},r)=>a.jsx(Cie,{ref:r,className:J(cp({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));jl.displayName=Cie.displayName;const Qit=({open:e,onOpenChange:t,userToDelete:r,onConfirm:n,loading:s=!1})=>a.jsx(Uc,{open:e,onOpenChange:t,children:a.jsxs(vl,{className:"w-[90vw] max-w-md mx-auto",children:[a.jsxs(yl,{className:"space-y-3",children:[a.jsx(wl,{className:"text-lg sm:text-xl",children:"Are you absolutely sure?"}),a.jsxs(Sl,{className:"text-sm sm:text-base leading-relaxed",children:["This action cannot be undone. This will permanently delete the user"," ",a.jsx("span",{className:"font-semibold text-foreground",children:r?.name})," ","and remove all their data from our servers."]})]}),a.jsxs(bl,{className:"flex-col sm:flex-row gap-2 sm:gap-0",children:[a.jsx(jl,{className:"w-full sm:w-auto order-2 sm:order-1",children:"Cancel"}),a.jsxs(Cl,{onClick:n,className:"w-full sm:w-auto order-1 sm:order-2 bg-destructive hover:bg-destructive/90 text-destructive-foreground",disabled:s,children:[s&&a.jsx(bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Delete User"]})]})]})}),Jit=()=>{const e=Ot(),t=$t(),{users:r,loading:n,error:s,pagination:i,refetch:o,perPage:c,setPerPage:d}=vg(),{deleteUser:u,loading:l}=Bat(),[f,p]=b.useState(!1),[g,x]=b.useState(null),S=P=>{e(`/user-management/view/user/${P}`)},m=P=>{e(`/user-management/edit/user/${P}`)},y=()=>{e("/user-management/create/user")},w=P=>{x(P),p(!0)},C=async()=>{if(g)try{await u(g.id),p(!1),x(null)}catch(P){console.error("Failed to delete user:",P)}},E=P=>{t(oc({page:P,per_page:c}))},N=async P=>{const M=parseInt(P,10);d(M),t(oc({page:1,per_page:M}))},k=()=>{i&&i.currentPage>1&&E(i.currentPage-1)},A=()=>{i&&i.currentPage<i.lastPage&&E(i.currentPage+1)},T=()=>n?a.jsx(Lit,{}):r.length?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(rn,{className:"min-w-full",children:[a.jsx(Fat,{}),a.jsx(sn,{children:r.map(P=>a.jsx($at,{user:P,onView:S,onEdit:m,onDelete:w,deleteLoading:l},P.id))})]})}):a.jsx(Iit,{});return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[s&&a.jsxs(at,{variant:"destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsxs(it,{children:["Error loading users: ",s]})]}),a.jsxs(Se,{className:"rounded-sm bg-card border border-border shadow-sm",children:[a.jsx(Me,{className:"mb-0 bg-muted border-b border-border",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[a.jsx(Ve,{className:"text-lg sm:text-xl text-card-foreground",children:"Users"}),a.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4 w-full sm:w-auto",children:a.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:()=>o(),disabled:n,className:`flex items-center gap-2 bg-secondary text-secondary-foreground border-border ${n?"bg-muted opacity-60":""}`,children:[a.jsx(Tn,{className:`h-4 w-4 ${n?"animate-spin":""}`}),a.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]}),a.jsxs(X,{onClick:y,className:"flex items-center justify-center gap-2 text-sm bg-primary text-primary-foreground shadow-sm",children:[a.jsx(br,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden xs:inline",children:"Create User"}),a.jsx("span",{className:"xs:hidden",children:"Create"})]})]})})]})}),a.jsx(Ee,{className:"p-0 bg-card",children:T()}),a.jsx(oie,{loading:n,users:r,pagination:i,currentPage:i?.currentPage||1,perPage:c,onPerPageChange:N,onPreviousPage:k,onNextPage:A})]})]}),a.jsx(Qit,{open:f,onOpenChange:p,userToDelete:g,onConfirm:C,loading:l})]})},Av={validateName:e=>{if(!e||!e.trim())return{isValid:!1,error:"Role name is required"};const t=e.trim();return t.length<em.NAME_MIN_LENGTH?{isValid:!1,error:`Role name must be at least ${em.NAME_MIN_LENGTH} characters`}:t.length>em.NAME_MAX_LENGTH?{isValid:!1,error:`Role name must be less than ${em.NAME_MAX_LENGTH} characters`}:/^[a-zA-Z0-9\s\-_]+$/.test(t)?{isValid:!0}:{isValid:!1,error:"Role name can only contain letters, numbers, spaces, hyphens, and underscores"}},validateGuardName:e=>{if(!e||!e.trim())return{isValid:!1,error:"Guard name is required"};const t=Object.values(Wj);return t.includes(e)?{isValid:!0}:{isValid:!1,error:`Guard name must be one of: ${t.join(", ")}`}},validatePermissions:e=>Array.isArray(e)?e.length===0?{isValid:!1,error:"At least one permission must be selected"}:e.length>em.MAX_PERMISSIONS_PER_ROLE?{isValid:!1,error:`Cannot assign more than ${em.MAX_PERMISSIONS_PER_ROLE} permissions to a role`}:e.filter(r=>!r||!r.trim()).length>0?{isValid:!1,error:"All permissions must have valid names"}:{isValid:!0}:{isValid:!1,error:"Permissions must be an array"},validateRoleForm:e=>{const t={},r=Av.validateName(e.name);!r.isValid&&r.error&&(t.name=r.error);const n=Av.validateGuardName(e.guard_name);!n.isValid&&n.error&&(t.guard_name=n.error);const s=Av.validatePermissions(e.permissions);return!s.isValid&&s.error&&(t.permissions=s.error),{isValid:Object.keys(t).length===0,errors:t}}},Ko={formatDisplayName:e=>e?e.trim().toLowerCase().replace(/[_-]/g," ").replace(/\s+/g," ").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "):"",formatApiName:e=>e?e.trim().toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9\-]/g,""):"",formatCreatedAt:e=>{try{const t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)}catch{return"Invalid Date"}},formatRelativeTime:e=>{try{const t=new Date(e),n=Math.floor((new Date().getTime()-t.getTime())/1e3);return n<60?"Just now":n<3600?`${Math.floor(n/60)} minutes ago`:n<86400?`${Math.floor(n/3600)} hours ago`:n<2592e3?`${Math.floor(n/86400)} days ago`:n<31536e3?`${Math.floor(n/2592e3)} months ago`:`${Math.floor(n/31536e3)} years ago`}catch{return"Unknown"}},formatPermissionCount:e=>e===0?"No permissions":e===1?"1 permission":`${e} permissions`},Bw={sortByName:(e,t="asc")=>[...e].sort((r,n)=>{const s=r.name.localeCompare(n.name);return t==="asc"?s:-s}),sortByCreatedAt:(e,t="desc")=>[...e].sort((r,n)=>{const s=new Date(r.created_at).getTime(),i=new Date(n.created_at).getTime();return t==="asc"?s-i:i-s}),sortByPermissionCount:(e,t="desc")=>[...e].sort((r,n)=>{const s=r.permissions?.length||0,i=n.permissions?.length||0;return t==="asc"?s-i:i-s})},eot={filterBySearch:(e,t)=>{if(!t.trim())return e;const r=t.toLowerCase().trim();return e.filter(n=>n.name.toLowerCase().includes(r)||n.permissions?.some(s=>s.name.toLowerCase().includes(r)))},filterByGuardName:(e,t)=>t.trim()?e.filter(r=>r.guard_name===t.trim()):e,filterByPermissions:(e,t)=>!t||t.length===0?e:e.filter(r=>r.permissions?.some(n=>t.includes(n.name))),filterWithPermissions:e=>e.filter(t=>t.permissions&&t.permissions.length>0),filterWithoutPermissions:e=>e.filter(t=>!t.permissions||t.permissions.length===0)},_ie={toSelectOption:e=>({value:e.id,label:Ko.formatDisplayName(e.name),role:e}),toSelectOptions:e=>e.map(_ie.toSelectOption),toSearchResult:e=>({id:e.id,title:Ko.formatDisplayName(e.name),subtitle:`Guard: ${e.guard_name}`,meta:Ko.formatPermissionCount(e.permissions?.length||0),role:e}),toCsvData:e=>e.map(t=>({ID:t.id,Name:t.name,"Guard Name":t.guard_name,"Permission Count":t.permissions?.length||0,"Permission Names":t.permissions?.map(r=>r.name).join("; ")||"","Created At":Ko.formatCreatedAt(t.created_at),"Updated At":Ko.formatCreatedAt(t.updated_at)})),toAnalyticsData:e=>({id:e.id,name:e.name,permission_count:e.permissions?.length||0,guard_name:e.guard_name,created_date:e.created_at.split("T")[0],days_since_creation:Math.floor((new Date().getTime()-new Date(e.created_at).getTime())/(1e3*60*60*24))})};Wj.WEB;const To=(e=!0,t)=>{const r=$t(),[n,s]=b.useState("name"),[i,o]=b.useState("asc"),[c,d]=b.useState(""),u=pe(nxe),l=pe(sxe),f=pe(axe),p=pe(ixe),g=pe(fxe),x=pe(hxe),S=pe(mxe),m=pe(uxe),y=b.useMemo(()=>{let A=[...u];switch(n){case"name":A=Bw.sortByName(A,i);break;case"created_at":A=Bw.sortByCreatedAt(A,i);break;case"permission_count":A=Bw.sortByPermissionCount(A,i);break;default:A=Bw.sortByName(A,i)}return A},[u,n,i]),w=b.useMemo(()=>eot.filterBySearch(y,c),[y,c]),C=b.useMemo(()=>_ie.toSelectOptions(w),[w]),E=b.useRef(t);E.current=t;const N=b.useCallback(async A=>{try{await r(pv(A)).unwrap()}catch(T){throw console.error("Failed to fetch roles:",T),T}},[r]),k=b.useCallback(async()=>{await N(E.current)},[N]);return b.useEffect(()=>{e&&!g&&!l&&!f&&N(E.current)},[e,g,l,f,N]),b.useEffect(()=>()=>{f&&r(Qge())},[r,f]),b.useMemo(()=>({roles:u,loading:l,error:f,pagination:p,hasRoles:g,isEmpty:x,totalRoles:S,fetchRoles:N,refetch:k,sortedRoles:y,setSortField:s,setSortDirection:o,sortField:n,sortDirection:i,searchTerm:c,setSearchTerm:d,filteredRoles:w,selectOptions:C,rolesWithCounts:m}),[u,l,f,p,g,x,S,N,k,y,s,o,n,i,c,d,w,C,m])},tot=()=>{const e=$t(),t=pe(oxe),r=pe(lxe),n=b.useCallback(c=>Av.validateRoleForm(c),[]),s=b.useCallback(c=>({name:Ko.formatApiName(c.name),guard_name:c.guard_name,permissions:c.permissions}),[]),i=b.useCallback(async c=>{const d={name:c.name,guard_name:c.guard_name,permissions:c.permissions},u=n(d);if(!u.isValid){const g=Object.values(u.errors)[0];throw new Error(g)}const l=s(d),f=Date.now(),p={id:f,name:l.name,guard_name:l.guard_name,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),permissions:[]};try{e(txe(p));const g=await e(O1(l)).unwrap();return e(EF(f)),g}catch(g){throw e(EF(f)),g}},[e,n,s]),o=b.useCallback(()=>{e(Jge())},[e]);return b.useMemo(()=>({createRole:i,loading:t,error:r,reset:o,validateForm:n,formatForApi:s}),[i,t,r,o,n,s])},rot=()=>{const e=$t(),t=pe(cxe),r=pe(dxe),n=b.useCallback(o=>Av.validatePermissions(o),[]),s=b.useCallback(async(o,c)=>{const d=n(c);if(!d.isValid&&d.error)throw new Error(d.error);try{return await e(I1({roleId:o,permissions:c})).unwrap()}catch(u){throw console.error("Failed to assign permissions:",u),u}},[e,n]),i=b.useCallback(()=>{e(exe())},[e]);return b.useMemo(()=>({assignPermissions:s,loading:t,error:r,reset:i,validatePermissions:n}),[s,t,r,i,n])},not=({loading:e,onRefresh:t,onAssignPermissions:r,onCreateRole:n})=>a.jsx(Me,{className:"mb-0 bg-muted border border-border border-b",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[a.jsx(Ve,{className:"text-lg sm:text-xl text-card-foreground",children:"Roles"}),a.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4 w-full sm:w-auto",children:a.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:t,disabled:e,className:"flex items-center gap-2",style:{backgroundColor:e?"var(--muted)":"var(--secondary)",color:"var(--secondary-foreground)",borderColor:"var(--border)",opacity:e?.6:1},children:[a.jsx(Tn,{className:`h-4 w-4 ${e?"animate-spin":""}`}),a.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]}),a.jsxs(X,{onClick:r,variant:"outline",size:"sm",className:"flex items-center gap-2 bg-secondary text-secondary-foreground border-border ",children:[a.jsx(R0,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden xs:inline",children:"Assign"})]}),a.jsxs(X,{onClick:n,className:"flex items-center justify-center gap-2 text-sm bg-primary text-primary-foreground",style:{boxShadow:"var(--shadow-sm)"},children:[a.jsx(br,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden xs:inline",children:"Create Role"}),a.jsx("span",{className:"xs:hidden",children:"Create"})]})]})})]})}),sot=({role:e})=>a.jsxs(_t,{className:"hover:bg-muted/50 border-border bg-card",children:[a.jsx(ke,{className:"font-medium text-xs sm:text-sm p-2 sm:p-4 text-foreground",children:a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[a.jsx("div",{className:"bg-primary text-primary-foreground h-6 w-6 sm:h-8 sm:w-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium",children:Ko.formatDisplayName(e.name).charAt(0).toUpperCase()}),a.jsx("div",{className:"min-w-0 flex-1",children:a.jsx("div",{className:"text-xs sm:text-sm font-medium truncate text-foreground",title:Ko.formatDisplayName(e.name),children:Ko.formatDisplayName(e.name)})})]})}),a.jsx(ke,{className:"p-2 sm:p-4",children:a.jsxs("div",{className:"space-y-1 max-w-[10rem] lg:max-w-none",children:[a.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:Ko.formatPermissionCount(e.permissions?.length||0)}),e.permissions&&e.permissions.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.permissions.slice(0,4).map(t=>a.jsx(Ze,{variant:"secondary",className:"text-xs px-1 py-0.5 bg-accent text-accent-foreground border-border",children:a.jsx("span",{className:"truncate max-w-[10rem]",title:t.name,children:t.name})},t.id)),e.permissions.length>4&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.permissions.length-4]})]})]})})]}),aot=({roles:e,loading:t})=>t?a.jsx("div",{className:"flex items-center justify-center h-48 sm:h-64 bg-card",children:a.jsx(xu,{message:"Loading roles...",size:"medium",className:"h-48 sm:h-64 bg-card text-muted-foreground"})}):e.length?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(rn,{className:"min-w-full",children:[a.jsx(nn,{className:"bg-muted border-border border border-b",children:a.jsxs(_t,{className:"border-border",children:[a.jsx(Re,{className:"min-w-[8rem] text-xs sm:text-sm text-foreground font-semibold",children:"Name"}),a.jsx(Re,{className:"min-w-[12rem] text-xs sm:text-sm text-foreground font-semibold",children:"Permissions"})]})}),a.jsx(sn,{children:e.map(r=>a.jsx(sot,{role:r},r.id))})]})}):a.jsx("div",{className:"text-center py-6 sm:py-8 bg-card",children:a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No roles found."})}),iot=({paginationInfo:e,perPage:t,loading:r,onPerPageChange:n,onPreviousPage:s,onNextPage:i})=>{const o=[5,10,15,25,50];return e?a.jsxs("div",{className:"bg-card border-border flex flex-col sm:flex-row items-center justify-between gap-4 px-4 py-3 border-t",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Show"}),a.jsxs(Wt,{value:t.toString(),onValueChange:n,children:[a.jsx(zt,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:a.jsx(qt,{})}),a.jsx(Ut,{className:"bg-popover border-border",children:o.map(c=>a.jsx(pt,{value:c.toString(),children:c},c))})]}),a.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"per page"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(X,{variant:"outline",size:"sm",onClick:s,disabled:r||e.currentPage<=1,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Prev"}),a.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground",children:["Page ",e.currentPage," of ",e.lastPage]}),a.jsx(X,{variant:"outline",size:"sm",onClick:i,disabled:r||e.currentPage>=e.lastPage,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Next"})]}),a.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground",children:[a.jsxs("span",{className:"hidden sm:inline",children:[e.from," to ",e.to," of ",e.total," ","roles"]}),a.jsxs("span",{className:"sm:hidden",children:[e.from,"-",e.to," of ",e.total]})]})]}):null},oot=()=>{const e=Ot(),[t,r]=b.useState(10),[n,s]=b.useState(1),{roles:i,loading:o,error:c,pagination:d,fetchRoles:u,refetch:l}=To(!0,{per_page:t,page:n}),f=b.useCallback(()=>{e("/user-management/roles/assign-permissions")},[e]),p=b.useCallback(()=>{e("/user-management/create/role")},[e]),g=b.useCallback(w=>{const C=parseInt(w,10);r(C),s(1),u({per_page:C,page:1})},[u]),x=b.useCallback(w=>{s(w),u({per_page:t,page:w})},[u,t]),S=b.useCallback(()=>{n>1&&x(n-1)},[n,x]),m=b.useCallback(()=>{d&&n<d.lastPage&&x(n+1)},[n,d,x]),y=d?{from:d.from||(n-1)*t+1,to:d.to||Math.min(n*t,d.total),total:d.total,currentPage:d.currentPage||n,lastPage:d.lastPage||Math.ceil(d.total/t)}:null;return a.jsxs("div",{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[c&&a.jsxs(at,{variant:"destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsxs(it,{children:["Error loading roles: ",c]})]}),a.jsxs(Se,{className:"rounded-sm bg-card border-border",style:{boxShadow:"var(--shadow-realistic)"},children:[a.jsx(not,{totalRoles:y?.total||i.length,loading:o,onRefresh:l,onAssignPermissions:f,onCreateRole:p}),a.jsxs(Ee,{className:"p-0 bg-card ",children:[a.jsx(aot,{roles:i,loading:o}),a.jsx(iot,{paginationInfo:y,perPage:t,loading:o,onPerPageChange:g,onPreviousPage:S,onNextPage:m})]})]})]})},lot={WEB:"web",API:"api"},$w={NAME_MIN_LENGTH:3,NAME_MAX_LENGTH:255},eM={validateName:e=>{if(!e||!e.trim())return{isValid:!1,error:"Permission name is required"};const t=e.trim();return t.length<$w.NAME_MIN_LENGTH?{isValid:!1,error:`Permission name must be at least ${$w.NAME_MIN_LENGTH} characters`}:t.length>$w.NAME_MAX_LENGTH?{isValid:!1,error:`Permission name must be less than ${$w.NAME_MAX_LENGTH} characters`}:/^[a-zA-Z0-9\s\-_]+$/.test(t)?{isValid:!0}:{isValid:!1,error:"Permission name can only contain letters, numbers, spaces, hyphens, and underscores"}},validateGuardName:e=>{if(!e||!e.trim())return{isValid:!1,error:"Guard name is required"};const t=Object.values(lot);return t.includes(e)?{isValid:!0}:{isValid:!1,error:`Guard name must be one of: ${t.join(", ")}`}},validatePermissionForm:e=>{const t={},r=eM.validateName(e.name);!r.isValid&&r.error&&(t.name=r.error);const n=eM.validateGuardName(e.guard_name);return!n.isValid&&n.error&&(t.guard_name=n.error),{isValid:Object.keys(t).length===0,errors:t}}},Hm={formatDisplayName:e=>e?e.trim().toLowerCase().replace(/[_-]/g," ").replace(/\s+/g," ").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "):"",formatApiName:e=>e?e.trim().toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""):"",formatCreatedAt:e=>{try{const t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)}catch{return"Invalid Date"}},formatRelativeTime:e=>{try{const t=new Date(e),n=Math.floor((new Date().getTime()-t.getTime())/1e3);return n<60?"Just now":n<3600?`${Math.floor(n/60)} minutes ago`:n<86400?`${Math.floor(n/3600)} hours ago`:n<2592e3?`${Math.floor(n/86400)} days ago`:n<31536e3?`${Math.floor(n/2592e3)} months ago`:`${Math.floor(n/31536e3)} years ago`}catch{return"Unknown"}}},_P={sortByName:(e,t="asc")=>[...e].sort((r,n)=>{const s=r.name.localeCompare(n.name);return t==="asc"?s:-s}),sortByCreatedAt:(e,t="desc")=>[...e].sort((r,n)=>{const s=new Date(r.created_at).getTime(),i=new Date(n.created_at).getTime();return t==="asc"?s-i:i-s}),sortByRoleCount:(e,t="desc")=>[...e].sort((r,n)=>{const s=r.roles?.length||0,i=n.roles?.length||0;return t==="asc"?s-i:i-s})},cot={filterBySearch:(e,t)=>{if(!t.trim())return e;const r=t.toLowerCase().trim();return e.filter(n=>n.name.toLowerCase().includes(r))},filterByGuardName:(e,t)=>t.trim()?e.filter(r=>r.guard_name===t.trim()):e,filterWithRoles:e=>e.filter(t=>t.roles&&t.roles.length>0),filterWithoutRoles:e=>e.filter(t=>!t.roles||t.roles.length===0)},Aie={toSelectOption:e=>({value:e.id,label:Hm.formatDisplayName(e.name),permission:e}),toSelectOptions:e=>e.map(Aie.toSelectOption),toSearchResult:e=>({id:e.id,title:Hm.formatDisplayName(e.name),subtitle:`Guard: ${e.guard_name}`,meta:`${e.roles?.length||0} roles`,permission:e}),toCsvData:e=>e.map(t=>({ID:t.id,Name:t.name,"Guard Name":t.guard_name,"Role Count":t.roles?.length||0,"Created At":Hm.formatCreatedAt(t.created_at),"Updated At":Hm.formatCreatedAt(t.updated_at)}))},bg=(e=!0,t)=>{const r=$t(),[n,s]=b.useState("name"),[i,o]=b.useState("asc"),[c,d]=b.useState(""),u=pe($ge),l=pe(Fge),f=pe(Hge),p=pe(zge),g=pe(Wge),x=pe(qge),S=pe(Gge),m=b.useMemo(()=>{let k=[...u];switch(n){case"name":k=_P.sortByName(k,i);break;case"created_at":k=_P.sortByCreatedAt(k,i);break;default:k=_P.sortByName(k,i)}return k},[u,n,i]),y=b.useMemo(()=>cot.filterBySearch(m,c),[m,c]),w=b.useMemo(()=>Aie.toSelectOptions(y),[y]),C=b.useRef(t);C.current=t;const E=b.useCallback(async k=>{try{await r(mv(k)).unwrap()}catch(A){throw console.error("Failed to fetch permissions:",A),A}},[r]),N=b.useCallback(async()=>{await E(C.current)},[E]);return b.useEffect(()=>{e&&!g&&!l&&!f&&E(C.current)},[e,g,l,f,E]),b.useEffect(()=>()=>{f&&r(Oge())},[r,f]),b.useMemo(()=>({permissions:u,loading:l,error:f,pagination:p,hasPermissions:g,isEmpty:x,totalPermissions:S,fetchPermissions:E,refetch:N,sortedPermissions:m,setSortField:s,setSortDirection:o,sortField:n,sortDirection:i,searchTerm:c,setSearchTerm:d,filteredPermissions:y,selectOptions:w}),[u,l,f,p,g,x,S,E,N,m,s,o,n,i,c,d,y,w])},dot=()=>{const e=$t(),t=pe(Uge),r=pe(Vge),n=b.useCallback(c=>eM.validatePermissionForm(c),[]),s=b.useCallback(c=>({name:Hm.formatApiName(c.name),guard_name:c.guard_name}),[]),i=b.useCallback(async c=>{const d={name:c.name,guard_name:c.guard_name},u=n(d);if(!u.isValid){const g=Object.values(u.errors)[0];throw new Error(g)}const l=s(d),f=Date.now(),p={id:f,name:l.name,guard_name:l.guard_name,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),roles:[]};try{e(Lge(p));const g=await e(M1(l)).unwrap();return e(CF(f)),g}catch(g){throw e(CF(f)),g}},[e,n,s]),o=b.useCallback(()=>{e(Ige())},[e]);return b.useMemo(()=>({createPermission:i,loading:t,error:r,reset:o,validateForm:n,formatForApi:s}),[i,t,r,o,n,s])},kie=b.memo(({loading:e,onRefresh:t,onCreatePermission:r})=>{const n=b.useMemo(()=>`h-4 w-4 ${e?"animate-spin":""}`,[e]);return a.jsx(Me,{className:"mb-0 bg-muted border-b border-border",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[a.jsx(Ve,{className:"text-lg sm:text-xl text-card-foreground",children:"Permissions"}),a.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4 w-full sm:w-auto",children:a.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:t,disabled:e,className:"flex items-center gap-2 bg-secondary text-secondary-foreground border-border disabled:bg-muted disabled:opacity-60",children:[a.jsx(Tn,{className:n}),a.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]}),a.jsxs(X,{onClick:r,className:"flex items-center justify-center gap-2 text-sm bg-primary text-primary-foreground shadow-sm",children:[a.jsx(br,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden xs:inline",children:"Create Permission"}),a.jsx("span",{className:"xs:hidden",children:"Create"})]})]})})]})})});kie.displayName="PermissionsTableHeader";const ZV=4,Tie=b.memo(({permission:e})=>{const t=b.useMemo(()=>Hm.formatDisplayName(e.name),[e.name]),r=b.useMemo(()=>t.charAt(0).toUpperCase(),[t]),n=b.useMemo(()=>{const s=e.roles?.length||0,i=e.roles?.slice(0,ZV)||[],o=Math.max(0,s-ZV);return{rolesCount:s,visibleRoles:i,extraCount:o}},[e.roles]);return a.jsxs(_t,{className:"border-border bg-card hover:bg-muted/50",children:[a.jsx(ke,{className:"font-medium text-xs sm:text-sm p-2 sm:p-4 text-foreground",children:a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[a.jsx("div",{className:"h-6 w-6 sm:h-8 sm:w-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium bg-primary text-primary-foreground",children:r}),a.jsx("div",{className:"min-w-0 flex-1",children:a.jsx("div",{className:"text-xs sm:text-sm font-medium truncate text-foreground",title:t,children:t})})]})}),a.jsx(ke,{className:"p-2 sm:p-4",children:a.jsxs("div",{className:"space-y-1 max-w-[10rem] lg:max-w-none",children:[a.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground",children:[n.rolesCount," roles"]}),n.rolesCount>0&&a.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.visibleRoles.map(s=>a.jsx(Ze,{variant:"secondary",className:"text-xs px-1 py-0.5 bg-accent text-accent-foreground border-border",children:a.jsx("span",{className:"truncate max-w-[7rem]",title:s.name,children:s.name})},s.id)),n.extraCount>0&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",n.extraCount]})]})]})})]})});Tie.displayName="PermissionTableRow";const Pie=b.memo(()=>a.jsx("div",{className:"flex items-center justify-center h-48 sm:h-64 bg-card",children:a.jsx(xu,{message:"Loading permissions...",size:"medium",className:"h-48 sm:h-64 bg-card text-muted-foreground"})}));Pie.displayName="LoadingState";const Die=b.memo(()=>a.jsx("div",{className:"text-center py-6 sm:py-8 bg-card",children:a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No permissions found."})}));Die.displayName="EmptyState";const Rie=b.memo(()=>a.jsx(nn,{className:"bg-muted border-b border-border",children:a.jsxs(_t,{className:"border-border",children:[a.jsx(Re,{className:"min-w-[8rem] text-xs sm:text-sm text-foreground font-semibold",children:"Name"}),a.jsx(Re,{className:"min-w-[12rem] text-xs sm:text-sm text-foreground font-semibold",children:"Used by Roles"})]})}));Rie.displayName="TableHeaderComponent";const Mie=b.memo(({permissions:e,loading:t})=>t?a.jsx(Pie,{}):e.length?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(rn,{className:"min-w-full",children:[a.jsx(Rie,{}),a.jsx(sn,{children:e.map(r=>a.jsx(Tie,{permission:r},r.id))})]})}):a.jsx(Die,{}));Mie.displayName="PermissionsTableContent";const uot=["5","10","15","20","50"],Oie=b.memo(({loading:e,permissions:t,pagination:r,currentPage:n,perPage:s,onPerPageChange:i,onPreviousPage:o,onNextPage:c})=>{const d=b.useMemo(()=>s.toString(),[s]),u=b.useMemo(()=>!e&&t.length>0,[e,t.length]),l=b.useMemo(()=>r&&r.lastPage>1,[r]),f=b.useMemo(()=>n<=1,[n]),p=b.useMemo(()=>n>=(r?.lastPage||1),[n,r?.lastPage]),g=b.useMemo(()=>r?`${r.from} to ${r.to} of ${r.total} permissions`:`1 to ${t.length} of ${t.length} permissions`,[r,t.length]);return u?a.jsxs("div",{className:"px-4 py-3 border-t border-border bg-card flex flex-col lg:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Show"}),a.jsxs(Wt,{value:d,onValueChange:i,children:[a.jsx(zt,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:a.jsx(qt,{})}),a.jsx(Ut,{className:"bg-popover border-border",children:uot.map(x=>a.jsx(pt,{value:x,children:x},x))})]}),a.jsx("span",{className:"text-muted-foreground",children:"per page"})]}),l&&r&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(X,{variant:"outline",size:"sm",onClick:o,disabled:f,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Prev"}),a.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground",children:["Page ",n," of ",r.lastPage]}),a.jsx(X,{variant:"outline",size:"sm",onClick:c,disabled:p,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Next"})]}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:g})]}):null});Oie.displayName="PermissionsTableFooter";const fot=()=>{const e=Ot(),[t,r]=b.useState(1),[n,s]=b.useState(10),i=b.useMemo(()=>({page:t,per_page:n}),[t,n]),{permissions:o,loading:c,error:d,refetch:u,pagination:l,fetchPermissions:f}=bg(!0,i),p=b.useCallback(()=>{e("/user-management/create/permission")},[e]),g=b.useCallback(async w=>{const C=parseInt(w,10);s(C),r(1),await f({page:1,per_page:C})},[f]),x=b.useCallback(async w=>{r(w),await f({page:w,per_page:n})},[f,n]),S=b.useCallback(()=>{l&&t>1&&x(t-1)},[l,t,x]),m=b.useCallback(()=>{l&&t<l.lastPage&&x(t+1)},[l,t,x]),y=b.useMemo(()=>l?.total||o.length,[l?.total,o.length]);return a.jsxs("div",{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[d&&a.jsxs(at,{variant:"destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsxs(it,{children:["Error loading permissions: ",d]})]}),a.jsxs(Se,{className:"rounded-sm bg-card border border-border shadow-[var(--shadow-realistic)]",children:[a.jsx(kie,{permissionsCount:y,loading:c,onRefresh:u,onCreatePermission:p}),a.jsx(Ee,{className:"p-0 bg-card",children:a.jsx(Mie,{permissions:o,loading:c})}),a.jsx(Oie,{loading:c,permissions:o,pagination:l,currentPage:t,perPage:n,onPerPageChange:g,onPreviousPage:S,onNextPage:m})]})]})},hot=()=>a.jsx(Qt,{title:"User Management",subtitle:"Manage users, roles, and permissions for your application.",children:a.jsxs("div",{className:"grid gap-6 sm:gap-8 lg:gap-10",children:[a.jsx(Jit,{}),a.jsx(oot,{}),a.jsx(fot,{})]})});var Ay=e=>e.type==="checkbox",lf=e=>e instanceof Date,ia=e=>e==null;const Iie=e=>typeof e=="object";var Ln=e=>!ia(e)&&!Array.isArray(e)&&Iie(e)&&!lf(e),Lie=e=>Ln(e)&&e.target?Ay(e.target)?e.target.checked:e.target.value:e,mot=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Bie=(e,t)=>e.has(mot(t)),pot=e=>{const t=e.constructor&&e.constructor.prototype;return Ln(t)&&t.hasOwnProperty("isPrototypeOf")},M3=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Wr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(M3&&(e instanceof Blob||n))&&(r||Ln(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!pot(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Wr(e[s]));else return e;return t}var qN=e=>/^\w*$/.test(e),Gr=e=>e===void 0,GN=e=>Array.isArray(e)?e.filter(Boolean):[],O3=e=>GN(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ke=(e,t,r)=>{if(!t||!Ln(e))return r;const n=(qN(t)?[t]:O3(t)).reduce((s,i)=>ia(s)?s:s[i],e);return Gr(n)||n===e?Gr(e[t])?r:e[t]:n},Qa=e=>typeof e=="boolean",gr=(e,t,r)=>{let n=-1;const s=qN(t)?[t]:O3(t),i=s.length,o=i-1;for(;++n<i;){const c=s[n];let d=r;if(n!==o){const u=e[c];d=Ln(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=d,e=e[c]}};const yj={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Fi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ql={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},I3=ve.createContext(null);I3.displayName="HookFormContext";const ky=()=>ve.useContext(I3),got=e=>{const{children:t,...r}=e;return ve.createElement(I3.Provider,{value:r},t)};var $ie=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Fi.all&&(t._proxyFormState[o]=!n||Fi.all),r&&(r[o]=!0),e[o]}});return s};const YN=typeof window<"u"?ve.useLayoutEffect:ve.useEffect;function xot(e){const t=ky(),{control:r=t.control,disabled:n,name:s,exact:i}=e||{},[o,c]=ve.useState(r._formState),d=ve.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return YN(()=>r._subscribe({name:s,formState:d.current,exact:i,callback:u=>{!n&&c({...r._formState,...u})}}),[s,n,i]),ve.useEffect(()=>{d.current.isValid&&r._setValid(!0)},[r]),ve.useMemo(()=>$ie(o,r,d.current,!1),[o,r])}var el=e=>typeof e=="string",Fie=(e,t,r,n,s)=>el(e)?(n&&t.watch.add(e),Ke(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Ke(r,i))):(n&&(t.watchAll=!0),r),tM=e=>ia(e)||!Iie(e);function ec(e,t,r=new WeakSet){if(tM(e)||tM(t))return e===t;if(lf(e)&&lf(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const c=t[i];if(lf(o)&&lf(c)||Ln(o)&&Ln(c)||Array.isArray(o)&&Array.isArray(c)?!ec(o,c,r):o!==c)return!1}}return!0}function vot(e){const t=ky(),{control:r=t.control,name:n,defaultValue:s,disabled:i,exact:o,compute:c}=e||{},d=ve.useRef(s),u=ve.useRef(c),l=ve.useRef(void 0);u.current=c;const f=ve.useMemo(()=>r._getWatch(n,d.current),[r,n]),[p,g]=ve.useState(u.current?u.current(f):f);return YN(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:x=>{if(!i){const S=Fie(n,r._names,x.values||r._formValues,!1,d.current);if(u.current){const m=u.current(S);ec(m,l.current)||(g(m),l.current=m)}else g(S)}}}),[r,i,n,o]),ve.useEffect(()=>r._removeUnmounted()),p}function yot(e){const t=ky(),{name:r,disabled:n,control:s=t.control,shouldUnregister:i,defaultValue:o}=e,c=Bie(s._names.array,r),d=ve.useMemo(()=>Ke(s._formValues,r,Ke(s._defaultValues,r,o)),[s,r,o]),u=vot({control:s,name:r,defaultValue:d,exact:!0}),l=xot({control:s,name:r,exact:!0}),f=ve.useRef(e),p=ve.useRef(s.register(r,{...e.rules,value:u,...Qa(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const g=ve.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ke(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ke(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ke(l.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ke(l.validatingFields,r)},error:{enumerable:!0,get:()=>Ke(l.errors,r)}}),[l,r]),x=ve.useCallback(w=>p.current.onChange({target:{value:Lie(w),name:r},type:yj.CHANGE}),[r]),S=ve.useCallback(()=>p.current.onBlur({target:{value:Ke(s._formValues,r),name:r},type:yj.BLUR}),[r,s._formValues]),m=ve.useCallback(w=>{const C=Ke(s._fields,r);C&&w&&(C._f.ref={focus:()=>w.focus&&w.focus(),select:()=>w.select&&w.select(),setCustomValidity:E=>w.setCustomValidity(E),reportValidity:()=>w.reportValidity()})},[s._fields,r]),y=ve.useMemo(()=>({name:r,value:u,...Qa(n)||l.disabled?{disabled:l.disabled||n}:{},onChange:x,onBlur:S,ref:m}),[r,n,l.disabled,x,S,m,u]);return ve.useEffect(()=>{const w=s._options.shouldUnregister||i;s.register(r,{...f.current.rules,...Qa(f.current.disabled)?{disabled:f.current.disabled}:{}});const C=(E,N)=>{const k=Ke(s._fields,E);k&&k._f&&(k._f.mount=N)};if(C(r,!0),w){const E=Wr(Ke(s._options.defaultValues,r));gr(s._defaultValues,r,E),Gr(Ke(s._formValues,r))&&gr(s._formValues,r,E)}return!c&&s.register(r),()=>{(c?w&&!s._state.action:w)?s.unregister(r):C(r,!1)}},[r,s,c,i]),ve.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),ve.useMemo(()=>({field:y,formState:l,fieldState:g}),[y,l,g])}const L3=e=>e.render(yot(e));var B3=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Na=e=>Array.isArray(e)?e:[e],XV=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},aa=e=>Ln(e)&&!Object.keys(e).length,$3=e=>e.type==="file",po=e=>typeof e=="function",bj=e=>{if(!M3)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Hie=e=>e.type==="select-multiple",F3=e=>e.type==="radio",bot=e=>F3(e)||Ay(e),AP=e=>bj(e)&&e.isConnected;function wot(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Gr(e)?n++:e[t[n++]];return e}function Sot(e){for(const t in e)if(e.hasOwnProperty(t)&&!Gr(e[t]))return!1;return!0}function On(e,t){const r=Array.isArray(t)?t:qN(t)?[t]:O3(t),n=r.length===1?e:wot(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Ln(n)&&aa(n)||Array.isArray(n)&&Sot(n))&&On(e,r.slice(0,-1)),e}var zie=e=>{for(const t in e)if(po(e[t]))return!0;return!1};function wj(e,t={}){const r=Array.isArray(e);if(Ln(e)||r)for(const n in e)Array.isArray(e[n])||Ln(e[n])&&!zie(e[n])?(t[n]=Array.isArray(e[n])?[]:{},wj(e[n],t[n])):ia(e[n])||(t[n]=!0);return t}function Uie(e,t,r){const n=Array.isArray(e);if(Ln(e)||n)for(const s in e)Array.isArray(e[s])||Ln(e[s])&&!zie(e[s])?Gr(t)||tM(r[s])?r[s]=Array.isArray(e[s])?wj(e[s],[]):{...wj(e[s])}:Uie(e[s],ia(t)?{}:t[s],r[s]):r[s]=!ec(e[s],t[s]);return r}var ev=(e,t)=>Uie(e,t,wj(t));const QV={value:!1,isValid:!1},JV={value:!0,isValid:!0};var Vie=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Gr(e[0].attributes.value)?Gr(e[0].value)||e[0].value===""?JV:{value:e[0].value,isValid:!0}:JV:QV}return QV},Wie=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Gr(e)?e:t?e===""?NaN:e&&+e:r&&el(e)?new Date(e):n?n(e):e;const eW={isValid:!1,value:null};var qie=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,eW):eW;function tW(e){const t=e.ref;return $3(t)?t.files:F3(t)?qie(e.refs).value:Hie(t)?[...t.selectedOptions].map(({value:r})=>r):Ay(t)?Vie(e.refs).value:Wie(Gr(t.value)?e.ref.value:t.value,e)}var Cot=(e,t,r,n)=>{const s={};for(const i of e){const o=Ke(t,i);o&&gr(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Sj=e=>e instanceof RegExp,tv=e=>Gr(e)?e:Sj(e)?e.source:Ln(e)?Sj(e.value)?e.value.source:e.value:e,zm=e=>({isOnSubmit:!e||e===Fi.onSubmit,isOnBlur:e===Fi.onBlur,isOnChange:e===Fi.onChange,isOnAll:e===Fi.all,isOnTouch:e===Fi.onTouched});const rW="AsyncFunction";var jot=e=>!!e&&!!e.validate&&!!(po(e.validate)&&e.validate.constructor.name===rW||Ln(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===rW)),Eot=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),rM=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const np=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=Ke(e,s);if(i){const{_f:o,...c}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(np(c,t))break}else if(Ln(c)&&np(c,t))break}}};function nW(e,t,r){const n=Ke(e,r);if(n||qN(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=Ke(t,i),c=Ke(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(c&&c.type)return{name:i,error:c};if(c&&c.root&&c.root.type)return{name:`${i}.root`,error:c.root};s.pop()}return{name:r}}var Not=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return aa(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Fi.all))},_ot=(e,t,r)=>!e||!t||e===t||Na(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Aot=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,kot=(e,t)=>!GN(Ke(e,t)).length&&On(e,t),Gie=(e,t,r)=>{const n=Na(Ke(e,r));return gr(n,"root",t[r]),gr(e,r,n),e},qS=e=>el(e);function sW(e,t,r="validate"){if(qS(e)||Array.isArray(e)&&e.every(qS)||Qa(e)&&!e)return{type:r,message:qS(e)?e:"",ref:t}}var jm=e=>Ln(e)&&!Sj(e)?e:{value:e,message:""},nM=async(e,t,r,n,s,i)=>{const{ref:o,refs:c,required:d,maxLength:u,minLength:l,min:f,max:p,pattern:g,validate:x,name:S,valueAsNumber:m,mount:y}=e._f,w=Ke(r,S);if(!y||t.has(S))return{};const C=c?c[0]:o,E=R=>{s&&C.reportValidity&&(C.setCustomValidity(Qa(R)?"":R||""),C.reportValidity())},N={},k=F3(o),A=Ay(o),T=k||A,P=(m||$3(o))&&Gr(o.value)&&Gr(w)||bj(o)&&o.value===""||w===""||Array.isArray(w)&&!w.length,M=B3.bind(null,S,n,N),O=(R,L,B,F=ql.maxLength,$=ql.minLength)=>{const z=R?L:B;N[S]={type:R?F:$,message:z,ref:o,...M(R?F:$,z)}};if(i?!Array.isArray(w)||!w.length:d&&(!T&&(P||ia(w))||Qa(w)&&!w||A&&!Vie(c).isValid||k&&!qie(c).isValid)){const{value:R,message:L}=qS(d)?{value:!!d,message:d}:jm(d);if(R&&(N[S]={type:ql.required,message:L,ref:C,...M(ql.required,L)},!n))return E(L),N}if(!P&&(!ia(f)||!ia(p))){let R,L;const B=jm(p),F=jm(f);if(!ia(w)&&!isNaN(w)){const $=o.valueAsNumber||w&&+w;ia(B.value)||(R=$>B.value),ia(F.value)||(L=$<F.value)}else{const $=o.valueAsDate||new Date(w),z=V=>new Date(new Date().toDateString()+" "+V),W=o.type=="time",Z=o.type=="week";el(B.value)&&w&&(R=W?z(w)>z(B.value):Z?w>B.value:$>new Date(B.value)),el(F.value)&&w&&(L=W?z(w)<z(F.value):Z?w<F.value:$<new Date(F.value))}if((R||L)&&(O(!!R,B.message,F.message,ql.max,ql.min),!n))return E(N[S].message),N}if((u||l)&&!P&&(el(w)||i&&Array.isArray(w))){const R=jm(u),L=jm(l),B=!ia(R.value)&&w.length>+R.value,F=!ia(L.value)&&w.length<+L.value;if((B||F)&&(O(B,R.message,L.message),!n))return E(N[S].message),N}if(g&&!P&&el(w)){const{value:R,message:L}=jm(g);if(Sj(R)&&!w.match(R)&&(N[S]={type:ql.pattern,message:L,ref:o,...M(ql.pattern,L)},!n))return E(L),N}if(x){if(po(x)){const R=await x(w,r),L=sW(R,C);if(L&&(N[S]={...L,...M(ql.validate,L.message)},!n))return E(L.message),N}else if(Ln(x)){let R={};for(const L in x){if(!aa(R)&&!n)break;const B=sW(await x[L](w,r),C,L);B&&(R={...B,...M(L,B.message)},E(B.message),n&&(N[S]=R))}if(!aa(R)&&(N[S]={ref:C,...R},!n))return N}}return E(!0),N};const Tot={mode:Fi.onSubmit,reValidateMode:Fi.onChange,shouldFocusError:!0};function Pot(e={}){let t={...Tot,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:po(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Ln(t.defaultValues)||Ln(t.values)?Wr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Wr(s),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,u=0;const l={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...l};const p={array:XV(),state:XV()},g=t.criteriaMode===Fi.all,x=Q=>ne=>{clearTimeout(u),u=setTimeout(Q,ne)},S=async Q=>{if(!t.disabled&&(l.isValid||f.isValid||Q)){const ne=t.resolver?aa((await A()).errors):await P(n,!0);ne!==r.isValid&&p.state.next({isValid:ne})}},m=(Q,ne)=>{!t.disabled&&(l.isValidating||l.validatingFields||f.isValidating||f.validatingFields)&&((Q||Array.from(c.mount)).forEach(ce=>{ce&&(ne?gr(r.validatingFields,ce,ne):On(r.validatingFields,ce))}),p.state.next({validatingFields:r.validatingFields,isValidating:!aa(r.validatingFields)}))},y=(Q,ne=[],ce,ze,qe=!0,Ue=!0)=>{if(ze&&ce&&!t.disabled){if(o.action=!0,Ue&&Array.isArray(Ke(n,Q))){const se=ce(Ke(n,Q),ze.argA,ze.argB);qe&&gr(n,Q,se)}if(Ue&&Array.isArray(Ke(r.errors,Q))){const se=ce(Ke(r.errors,Q),ze.argA,ze.argB);qe&&gr(r.errors,Q,se),kot(r.errors,Q)}if((l.touchedFields||f.touchedFields)&&Ue&&Array.isArray(Ke(r.touchedFields,Q))){const se=ce(Ke(r.touchedFields,Q),ze.argA,ze.argB);qe&&gr(r.touchedFields,Q,se)}(l.dirtyFields||f.dirtyFields)&&(r.dirtyFields=ev(s,i)),p.state.next({name:Q,isDirty:O(Q,ne),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else gr(i,Q,ne)},w=(Q,ne)=>{gr(r.errors,Q,ne),p.state.next({errors:r.errors})},C=Q=>{r.errors=Q,p.state.next({errors:r.errors,isValid:!1})},E=(Q,ne,ce,ze)=>{const qe=Ke(n,Q);if(qe){const Ue=Ke(i,Q,Gr(ce)?Ke(s,Q):ce);Gr(Ue)||ze&&ze.defaultChecked||ne?gr(i,Q,ne?Ue:tW(qe._f)):B(Q,Ue),o.mount&&S()}},N=(Q,ne,ce,ze,qe)=>{let Ue=!1,se=!1;const Ne={name:Q};if(!t.disabled){if(!ce||ze){(l.isDirty||f.isDirty)&&(se=r.isDirty,r.isDirty=Ne.isDirty=O(),Ue=se!==Ne.isDirty);const Le=ec(Ke(s,Q),ne);se=!!Ke(r.dirtyFields,Q),Le?On(r.dirtyFields,Q):gr(r.dirtyFields,Q,!0),Ne.dirtyFields=r.dirtyFields,Ue=Ue||(l.dirtyFields||f.dirtyFields)&&se!==!Le}if(ce){const Le=Ke(r.touchedFields,Q);Le||(gr(r.touchedFields,Q,ce),Ne.touchedFields=r.touchedFields,Ue=Ue||(l.touchedFields||f.touchedFields)&&Le!==ce)}Ue&&qe&&p.state.next(Ne)}return Ue?Ne:{}},k=(Q,ne,ce,ze)=>{const qe=Ke(r.errors,Q),Ue=(l.isValid||f.isValid)&&Qa(ne)&&r.isValid!==ne;if(t.delayError&&ce?(d=x(()=>w(Q,ce)),d(t.delayError)):(clearTimeout(u),d=null,ce?gr(r.errors,Q,ce):On(r.errors,Q)),(ce?!ec(qe,ce):qe)||!aa(ze)||Ue){const se={...ze,...Ue&&Qa(ne)?{isValid:ne}:{},errors:r.errors,name:Q};r={...r,...se},p.state.next(se)}},A=async Q=>{m(Q,!0);const ne=await t.resolver(i,t.context,Cot(Q||c.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return m(Q),ne},T=async Q=>{const{errors:ne}=await A(Q);if(Q)for(const ce of Q){const ze=Ke(ne,ce);ze?gr(r.errors,ce,ze):On(r.errors,ce)}else r.errors=ne;return ne},P=async(Q,ne,ce={valid:!0})=>{for(const ze in Q){const qe=Q[ze];if(qe){const{_f:Ue,...se}=qe;if(Ue){const Ne=c.array.has(Ue.name),Le=qe._f&&jot(qe._f);Le&&l.validatingFields&&m([ze],!0);const Qe=await nM(qe,c.disabled,i,g,t.shouldUseNativeValidation&&!ne,Ne);if(Le&&l.validatingFields&&m([ze]),Qe[Ue.name]&&(ce.valid=!1,ne))break;!ne&&(Ke(Qe,Ue.name)?Ne?Gie(r.errors,Qe,Ue.name):gr(r.errors,Ue.name,Qe[Ue.name]):On(r.errors,Ue.name))}!aa(se)&&await P(se,ne,ce)}}return ce.valid},M=()=>{for(const Q of c.unMount){const ne=Ke(n,Q);ne&&(ne._f.refs?ne._f.refs.every(ce=>!AP(ce)):!AP(ne._f.ref))&&de(Q)}c.unMount=new Set},O=(Q,ne)=>!t.disabled&&(Q&&ne&&gr(i,Q,ne),!ec(V(),s)),R=(Q,ne,ce)=>Fie(Q,c,{...o.mount?i:Gr(ne)?s:el(Q)?{[Q]:ne}:ne},ce,ne),L=Q=>GN(Ke(o.mount?i:s,Q,t.shouldUnregister?Ke(s,Q,[]):[])),B=(Q,ne,ce={})=>{const ze=Ke(n,Q);let qe=ne;if(ze){const Ue=ze._f;Ue&&(!Ue.disabled&&gr(i,Q,Wie(ne,Ue)),qe=bj(Ue.ref)&&ia(ne)?"":ne,Hie(Ue.ref)?[...Ue.ref.options].forEach(se=>se.selected=qe.includes(se.value)):Ue.refs?Ay(Ue.ref)?Ue.refs.forEach(se=>{(!se.defaultChecked||!se.disabled)&&(Array.isArray(qe)?se.checked=!!qe.find(Ne=>Ne===se.value):se.checked=qe===se.value||!!qe)}):Ue.refs.forEach(se=>se.checked=se.value===qe):$3(Ue.ref)?Ue.ref.value="":(Ue.ref.value=qe,Ue.ref.type||p.state.next({name:Q,values:Wr(i)})))}(ce.shouldDirty||ce.shouldTouch)&&N(Q,qe,ce.shouldTouch,ce.shouldDirty,!0),ce.shouldValidate&&Z(Q)},F=(Q,ne,ce)=>{for(const ze in ne){if(!ne.hasOwnProperty(ze))return;const qe=ne[ze],Ue=Q+"."+ze,se=Ke(n,Ue);(c.array.has(Q)||Ln(qe)||se&&!se._f)&&!lf(qe)?F(Ue,qe,ce):B(Ue,qe,ce)}},$=(Q,ne,ce={})=>{const ze=Ke(n,Q),qe=c.array.has(Q),Ue=Wr(ne);gr(i,Q,Ue),qe?(p.array.next({name:Q,values:Wr(i)}),(l.isDirty||l.dirtyFields||f.isDirty||f.dirtyFields)&&ce.shouldDirty&&p.state.next({name:Q,dirtyFields:ev(s,i),isDirty:O(Q,Ue)})):ze&&!ze._f&&!ia(Ue)?F(Q,Ue,ce):B(Q,Ue,ce),rM(Q,c)&&p.state.next({...r,name:Q}),p.state.next({name:o.mount?Q:void 0,values:Wr(i)})},z=async Q=>{o.mount=!0;const ne=Q.target;let ce=ne.name,ze=!0;const qe=Ke(n,ce),Ue=Le=>{ze=Number.isNaN(Le)||lf(Le)&&isNaN(Le.getTime())||ec(Le,Ke(i,ce,Le))},se=zm(t.mode),Ne=zm(t.reValidateMode);if(qe){let Le,Qe;const kt=ne.type?tW(qe._f):Lie(Q),Jt=Q.type===yj.BLUR||Q.type===yj.FOCUS_OUT,Ts=!Eot(qe._f)&&!t.resolver&&!Ke(r.errors,ce)&&!qe._f.deps||Aot(Jt,Ke(r.touchedFields,ce),r.isSubmitted,Ne,se),ln=rM(ce,c,Jt);gr(i,ce,kt),Jt?(!ne||!ne.readOnly)&&(qe._f.onBlur&&qe._f.onBlur(Q),d&&d(0)):qe._f.onChange&&qe._f.onChange(Q);const Dn=N(ce,kt,Jt),Fn=!aa(Dn)||ln;if(!Jt&&p.state.next({name:ce,type:Q.type,values:Wr(i)}),Ts)return(l.isValid||f.isValid)&&(t.mode==="onBlur"?Jt&&S():Jt||S()),Fn&&p.state.next({name:ce,...ln?{}:Dn});if(!Jt&&ln&&p.state.next({...r}),t.resolver){const{errors:bi}=await A([ce]);if(Ue(kt),ze){const ao=nW(r.errors,n,ce),Rt=nW(bi,n,ao.name||ce);Le=Rt.error,ce=Rt.name,Qe=aa(bi)}}else m([ce],!0),Le=(await nM(qe,c.disabled,i,g,t.shouldUseNativeValidation))[ce],m([ce]),Ue(kt),ze&&(Le?Qe=!1:(l.isValid||f.isValid)&&(Qe=await P(n,!0)));ze&&(qe._f.deps&&Z(qe._f.deps),k(ce,Qe,Le,Dn))}},W=(Q,ne)=>{if(Ke(r.errors,ne)&&Q.focus)return Q.focus(),1},Z=async(Q,ne={})=>{let ce,ze;const qe=Na(Q);if(t.resolver){const Ue=await T(Gr(Q)?Q:qe);ce=aa(Ue),ze=Q?!qe.some(se=>Ke(Ue,se)):ce}else Q?(ze=(await Promise.all(qe.map(async Ue=>{const se=Ke(n,Ue);return await P(se&&se._f?{[Ue]:se}:se)}))).every(Boolean),!(!ze&&!r.isValid)&&S()):ze=ce=await P(n);return p.state.next({...!el(Q)||(l.isValid||f.isValid)&&ce!==r.isValid?{}:{name:Q},...t.resolver||!Q?{isValid:ce}:{},errors:r.errors}),ne.shouldFocus&&!ze&&np(n,W,Q?qe:c.mount),ze},V=Q=>{const ne={...o.mount?i:s};return Gr(Q)?ne:el(Q)?Ke(ne,Q):Q.map(ce=>Ke(ne,ce))},q=(Q,ne)=>({invalid:!!Ke((ne||r).errors,Q),isDirty:!!Ke((ne||r).dirtyFields,Q),error:Ke((ne||r).errors,Q),isValidating:!!Ke(r.validatingFields,Q),isTouched:!!Ke((ne||r).touchedFields,Q)}),H=Q=>{Q&&Na(Q).forEach(ne=>On(r.errors,ne)),p.state.next({errors:Q?r.errors:{}})},K=(Q,ne,ce)=>{const ze=(Ke(n,Q,{_f:{}})._f||{}).ref,qe=Ke(r.errors,Q)||{},{ref:Ue,message:se,type:Ne,...Le}=qe;gr(r.errors,Q,{...Le,...ne,ref:ze}),p.state.next({name:Q,errors:r.errors,isValid:!1}),ce&&ce.shouldFocus&&ze&&ze.focus&&ze.focus()},Y=(Q,ne)=>po(Q)?p.state.subscribe({next:ce=>"values"in ce&&Q(R(void 0,ne),ce)}):R(Q,ne,!0),re=Q=>p.state.subscribe({next:ne=>{_ot(Q.name,ne.name,Q.exact)&&Not(ne,Q.formState||l,rt,Q.reRenderRoot)&&Q.callback({values:{...i},...r,...ne,defaultValues:s})}}).unsubscribe,me=Q=>(o.mount=!0,f={...f,...Q.formState},re({...Q,formState:f})),de=(Q,ne={})=>{for(const ce of Q?Na(Q):c.mount)c.mount.delete(ce),c.array.delete(ce),ne.keepValue||(On(n,ce),On(i,ce)),!ne.keepError&&On(r.errors,ce),!ne.keepDirty&&On(r.dirtyFields,ce),!ne.keepTouched&&On(r.touchedFields,ce),!ne.keepIsValidating&&On(r.validatingFields,ce),!t.shouldUnregister&&!ne.keepDefaultValue&&On(s,ce);p.state.next({values:Wr(i)}),p.state.next({...r,...ne.keepDirty?{isDirty:O()}:{}}),!ne.keepIsValid&&S()},he=({disabled:Q,name:ne})=>{(Qa(Q)&&o.mount||Q||c.disabled.has(ne))&&(Q?c.disabled.add(ne):c.disabled.delete(ne))},ee=(Q,ne={})=>{let ce=Ke(n,Q);const ze=Qa(ne.disabled)||Qa(t.disabled);return gr(n,Q,{...ce||{},_f:{...ce&&ce._f?ce._f:{ref:{name:Q}},name:Q,mount:!0,...ne}}),c.mount.add(Q),ce?he({disabled:Qa(ne.disabled)?ne.disabled:t.disabled,name:Q}):E(Q,!0,ne.value),{...ze?{disabled:ne.disabled||t.disabled}:{},...t.progressive?{required:!!ne.required,min:tv(ne.min),max:tv(ne.max),minLength:tv(ne.minLength),maxLength:tv(ne.maxLength),pattern:tv(ne.pattern)}:{},name:Q,onChange:z,onBlur:z,ref:qe=>{if(qe){ee(Q,ne),ce=Ke(n,Q);const Ue=Gr(qe.value)&&qe.querySelectorAll&&qe.querySelectorAll("input,select,textarea")[0]||qe,se=bot(Ue),Ne=ce._f.refs||[];if(se?Ne.find(Le=>Le===Ue):Ue===ce._f.ref)return;gr(n,Q,{_f:{...ce._f,...se?{refs:[...Ne.filter(AP),Ue,...Array.isArray(Ke(s,Q))?[{}]:[]],ref:{type:Ue.type,name:Q}}:{ref:Ue}}}),E(Q,!1,void 0,Ue)}else ce=Ke(n,Q,{}),ce._f&&(ce._f.mount=!1),(t.shouldUnregister||ne.shouldUnregister)&&!(Bie(c.array,Q)&&o.action)&&c.unMount.add(Q)}}},ie=()=>t.shouldFocusError&&np(n,W,c.mount),ye=Q=>{Qa(Q)&&(p.state.next({disabled:Q}),np(n,(ne,ce)=>{const ze=Ke(n,ce);ze&&(ne.disabled=ze._f.disabled||Q,Array.isArray(ze._f.refs)&&ze._f.refs.forEach(qe=>{qe.disabled=ze._f.disabled||Q}))},0,!1))},le=(Q,ne)=>async ce=>{let ze;ce&&(ce.preventDefault&&ce.preventDefault(),ce.persist&&ce.persist());let qe=Wr(i);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:Ue,values:se}=await A();r.errors=Ue,qe=Wr(se)}else await P(n);if(c.disabled.size)for(const Ue of c.disabled)On(qe,Ue);if(On(r.errors,"root"),aa(r.errors)){p.state.next({errors:{}});try{await Q(qe,ce)}catch(Ue){ze=Ue}}else ne&&await ne({...r.errors},ce),ie(),setTimeout(ie);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:aa(r.errors)&&!ze,submitCount:r.submitCount+1,errors:r.errors}),ze)throw ze},Te=(Q,ne={})=>{Ke(n,Q)&&(Gr(ne.defaultValue)?$(Q,Wr(Ke(s,Q))):($(Q,ne.defaultValue),gr(s,Q,Wr(ne.defaultValue))),ne.keepTouched||On(r.touchedFields,Q),ne.keepDirty||(On(r.dirtyFields,Q),r.isDirty=ne.defaultValue?O(Q,Wr(Ke(s,Q))):O()),ne.keepError||(On(r.errors,Q),l.isValid&&S()),p.state.next({...r}))},Ae=(Q,ne={})=>{const ce=Q?Wr(Q):s,ze=Wr(ce),qe=aa(Q),Ue=qe?s:ze;if(ne.keepDefaultValues||(s=ce),!ne.keepValues){if(ne.keepDirtyValues){const se=new Set([...c.mount,...Object.keys(ev(s,i))]);for(const Ne of Array.from(se))Ke(r.dirtyFields,Ne)?gr(Ue,Ne,Ke(i,Ne)):$(Ne,Ke(Ue,Ne))}else{if(M3&&Gr(Q))for(const se of c.mount){const Ne=Ke(n,se);if(Ne&&Ne._f){const Le=Array.isArray(Ne._f.refs)?Ne._f.refs[0]:Ne._f.ref;if(bj(Le)){const Qe=Le.closest("form");if(Qe){Qe.reset();break}}}}if(ne.keepFieldsRef)for(const se of c.mount)$(se,Ke(Ue,se));else n={}}i=t.shouldUnregister?ne.keepDefaultValues?Wr(s):{}:Wr(Ue),p.array.next({values:{...Ue}}),p.state.next({values:{...Ue}})}c={mount:ne.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!l.isValid||!!ne.keepIsValid||!!ne.keepDirtyValues,o.watch=!!t.shouldUnregister,p.state.next({submitCount:ne.keepSubmitCount?r.submitCount:0,isDirty:qe?!1:ne.keepDirty?r.isDirty:!!(ne.keepDefaultValues&&!ec(Q,s)),isSubmitted:ne.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:qe?{}:ne.keepDirtyValues?ne.keepDefaultValues&&i?ev(s,i):r.dirtyFields:ne.keepDefaultValues&&Q?ev(s,Q):ne.keepDirty?r.dirtyFields:{},touchedFields:ne.keepTouched?r.touchedFields:{},errors:ne.keepErrors?r.errors:{},isSubmitSuccessful:ne.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},ae=(Q,ne)=>Ae(po(Q)?Q(i):Q,ne),We=(Q,ne={})=>{const ce=Ke(n,Q),ze=ce&&ce._f;if(ze){const qe=ze.refs?ze.refs[0]:ze.ref;qe.focus&&(qe.focus(),ne.shouldSelect&&po(qe.select)&&qe.select())}},rt=Q=>{r={...r,...Q}},Fe={control:{register:ee,unregister:de,getFieldState:q,handleSubmit:le,setError:K,_subscribe:re,_runSchema:A,_focusError:ie,_getWatch:R,_getDirty:O,_setValid:S,_setFieldArray:y,_setDisabledField:he,_setErrors:C,_getFieldArray:L,_reset:Ae,_resetDefaultValues:()=>po(t.defaultValues)&&t.defaultValues().then(Q=>{ae(Q,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:M,_disableForm:ye,_subjects:p,_proxyFormState:l,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(Q){o=Q},get _defaultValues(){return s},get _names(){return c},set _names(Q){c=Q},get _formState(){return r},get _options(){return t},set _options(Q){t={...t,...Q}}},subscribe:me,trigger:Z,register:ee,handleSubmit:le,watch:Y,setValue:$,getValues:V,reset:ae,resetField:Te,clearErrors:H,unregister:de,setError:K,setFocus:We,getFieldState:q};return{...Fe,formControl:Fe}}var Sd=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},kP=(e,t,r={})=>r.shouldFocus||Gr(r.shouldFocus)?r.focusName||`${e}.${Gr(r.focusIndex)?t:r.focusIndex}.`:"",TP=(e,t)=>[...e,...Na(t)],PP=e=>Array.isArray(e)?e.map(()=>{}):void 0;function DP(e,t,r){return[...e.slice(0,t),...Na(r),...e.slice(t)]}var RP=(e,t,r)=>Array.isArray(e)?(Gr(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],MP=(e,t)=>[...Na(t),...Na(e)];function Dot(e,t){let r=0;const n=[...e];for(const s of t)n.splice(s-r,1),r++;return GN(n).length?n:[]}var OP=(e,t)=>Gr(t)?[]:Dot(e,Na(t).sort((r,n)=>r-n)),IP=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]},aW=(e,t,r)=>(e[t]=r,e);function Rot(e){const t=ky(),{control:r=t.control,name:n,keyName:s="id",shouldUnregister:i,rules:o}=e,[c,d]=ve.useState(r._getFieldArray(n)),u=ve.useRef(r._getFieldArray(n).map(Sd)),l=ve.useRef(c),f=ve.useRef(!1);l.current=c,r._names.array.add(n),ve.useMemo(()=>o&&r.register(n,o),[r,o,n]),YN(()=>r._subjects.array.subscribe({next:({values:N,name:k})=>{if(k===n||!k){const A=Ke(N,n);Array.isArray(A)&&(d(A),u.current=A.map(Sd))}}}).unsubscribe,[r,n]);const p=ve.useCallback(N=>{f.current=!0,r._setFieldArray(n,N)},[r,n]),g=(N,k)=>{const A=Na(Wr(N)),T=TP(r._getFieldArray(n),A);r._names.focus=kP(n,T.length-1,k),u.current=TP(u.current,A.map(Sd)),p(T),d(T),r._setFieldArray(n,T,TP,{argA:PP(N)})},x=(N,k)=>{const A=Na(Wr(N)),T=MP(r._getFieldArray(n),A);r._names.focus=kP(n,0,k),u.current=MP(u.current,A.map(Sd)),p(T),d(T),r._setFieldArray(n,T,MP,{argA:PP(N)})},S=N=>{const k=OP(r._getFieldArray(n),N);u.current=OP(u.current,N),p(k),d(k),!Array.isArray(Ke(r._fields,n))&&gr(r._fields,n,void 0),r._setFieldArray(n,k,OP,{argA:N})},m=(N,k,A)=>{const T=Na(Wr(k)),P=DP(r._getFieldArray(n),N,T);r._names.focus=kP(n,N,A),u.current=DP(u.current,N,T.map(Sd)),p(P),d(P),r._setFieldArray(n,P,DP,{argA:N,argB:PP(k)})},y=(N,k)=>{const A=r._getFieldArray(n);IP(A,N,k),IP(u.current,N,k),p(A),d(A),r._setFieldArray(n,A,IP,{argA:N,argB:k},!1)},w=(N,k)=>{const A=r._getFieldArray(n);RP(A,N,k),RP(u.current,N,k),p(A),d(A),r._setFieldArray(n,A,RP,{argA:N,argB:k},!1)},C=(N,k)=>{const A=Wr(k),T=aW(r._getFieldArray(n),N,A);u.current=[...T].map((P,M)=>!P||M===N?Sd():u.current[M]),p(T),d([...T]),r._setFieldArray(n,T,aW,{argA:N,argB:A},!0,!1)},E=N=>{const k=Na(Wr(N));u.current=k.map(Sd),p([...k]),d([...k]),r._setFieldArray(n,[...k],A=>A,{},!0,!1)};return ve.useEffect(()=>{if(r._state.action=!1,rM(n,r._names)&&r._subjects.state.next({...r._formState}),f.current&&(!zm(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!zm(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(N=>{const k=Ke(N.errors,n),A=Ke(r._formState.errors,n);(A?!k&&A.type||k&&(A.type!==k.type||A.message!==k.message):k&&k.type)&&(k?gr(r._formState.errors,n,k):On(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const N=Ke(r._fields,n);N&&N._f&&!(zm(r._options.reValidateMode).isOnSubmit&&zm(r._options.mode).isOnSubmit)&&nM(N,r._names.disabled,r._formValues,r._options.criteriaMode===Fi.all,r._options.shouldUseNativeValidation,!0).then(k=>!aa(k)&&r._subjects.state.next({errors:Gie(r._formState.errors,k,n)}))}r._subjects.state.next({name:n,values:Wr(r._formValues)}),r._names.focus&&np(r._fields,(N,k)=>{if(r._names.focus&&k.startsWith(r._names.focus)&&N.focus)return N.focus(),1}),r._names.focus="",r._setValid(),f.current=!1},[c,n,r]),ve.useEffect(()=>(!Ke(r._formValues,n)&&r._setFieldArray(n),()=>{const N=(k,A)=>{const T=Ke(r._fields,k);T&&T._f&&(T._f.mount=A)};r._options.shouldUnregister||i?r.unregister(n):N(n,!1)}),[n,r,s,i]),{swap:ve.useCallback(y,[p,n,r]),move:ve.useCallback(w,[p,n,r]),prepend:ve.useCallback(x,[p,n,r]),append:ve.useCallback(g,[p,n,r]),remove:ve.useCallback(S,[p,n,r]),insert:ve.useCallback(m,[p,n,r]),update:ve.useCallback(C,[p,n,r]),replace:ve.useCallback(E,[p,n,r]),fields:ve.useMemo(()=>c.map((N,k)=>({...N,[s]:u.current[k]||Sd()})),[c,s])}}function fa(e={}){const t=ve.useRef(void 0),r=ve.useRef(void 0),[n,s]=ve.useState({isDirty:!1,isValidating:!1,isLoading:po(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:po(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!po(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...c}=Pot(e);t.current={...c,formState:n}}const i=t.current.control;return i._options=e,YN(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(c=>({...c,isReady:!0})),i._formState.isReady=!0,o},[i]),ve.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ve.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),ve.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),ve.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),ve.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),ve.useEffect(()=>{e.values&&!ec(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),ve.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=$ie(n,i),t.current}const iW=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Ke(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},sM=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?iW(n.ref,r,e):n&&n.refs&&n.refs.forEach(s=>iW(s,r,e))}},oW=(e,t)=>{t.shouldUseNativeValidation&&sM(e,t);const r={};for(const n in e){const s=Ke(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(Mot(t.names||Object.keys(e),n)){const o=Object.assign({},Ke(r,n));gr(o,"root",i),gr(r,n,o)}else gr(r,n,i)}return r},Mot=(e,t)=>{const r=lW(t);return e.some(n=>lW(n).match(`^${r}\\.\\d+`))};function lW(e){return e.replace(/\]|\[/g,"")}function cW(e,t){try{var r=e()}catch(n){return t(n)}return r&&r.then?r.then(void 0,t):r}function Oot(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var c=n.unionErrors[0].errors[0];r[o]={message:c.message,type:c.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(l){return l.errors.forEach(function(f){return e.push(f)})}),t){var d=r[o].types,u=d&&d[n.code];r[o]=B3(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r}function Iot(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if(n.code==="invalid_union"&&n.errors.length>0){var c=n.errors[0][0];r[o]={message:c.message,type:c.code}}else r[o]={message:i,type:s};if(n.code==="invalid_union"&&n.errors.forEach(function(l){return l.forEach(function(f){return e.push(f)})}),t){var d=r[o].types,u=d&&d[n.code];r[o]=B3(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r}function Ma(e,t,r){if(r===void 0&&(r={}),function(n){return"_def"in n&&typeof n._def=="object"&&"typeName"in n._def}(e))return function(n,s,i){try{return Promise.resolve(cW(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(o){return i.shouldUseNativeValidation&&sM({},i),{errors:{},values:r.raw?Object.assign({},n):o}})},function(o){if(function(c){return Array.isArray(c?.issues)}(o))return{values:{},errors:oW(Oot(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};if(function(n){return"_zod"in n&&typeof n._zod=="object"}(e))return function(n,s,i){try{return Promise.resolve(cW(function(){return Promise.resolve((r.mode==="sync"?Xbe:Qbe)(e,n,t)).then(function(o){return i.shouldUseNativeValidation&&sM({},i),{errors:{},values:r.raw?Object.assign({},n):o}})},function(o){if(function(c){return c instanceof TM}(o))return{values:{},errors:oW(Iot(o.issues,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};throw new Error("Invalid input: not a Zod schema")}const Zi=got,Yie=b.createContext({}),er=e=>a.jsx(Yie.Provider,{value:{name:e.name},children:a.jsx(L3,{...e})}),KN=()=>{const e=b.useContext(Yie),t=b.useContext(Kie),{getFieldState:r,formState:n}=ky(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},Kie=b.createContext({}),Kt=b.forwardRef(({className:e,...t},r)=>{const n=b.useId();return a.jsx(Kie.Provider,{value:{id:n},children:a.jsx("div",{ref:r,className:J("space-y-2",e),...t})})});Kt.displayName="FormItem";const Zt=b.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=KN();return a.jsx($e,{ref:r,className:J(n&&"text-destructive",e),htmlFor:s,...t})});Zt.displayName="FormLabel";const Xt=b.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:i}=KN();return a.jsx(Jd,{ref:t,id:n,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...e})});Xt.displayName="FormControl";const Is=b.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=KN();return a.jsx("p",{ref:r,id:n,className:J("text-sm text-muted-foreground",e),...t})});Is.displayName="FormDescription";const xr=b.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:i}=KN(),o=s?String(s?.message):t;return o?a.jsx("p",{ref:n,id:i,className:J("text-sm font-medium text-destructive",e),...r,children:o}):null});xr.displayName="FormMessage";function dW(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),r===!1||!s.defaultPrevented)return t?.(s)}}function Lot(e,t){return b.useReducer((r,n)=>t[r][n]??r,e)}var Zie=e=>{const{present:t,children:r}=e,n=Bot(t),s=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),i=vt(n.ref,$ot(s));return typeof r=="function"||n.isPresent?b.cloneElement(s,{ref:i}):null};Zie.displayName="Presence";function Bot(e){const[t,r]=b.useState(),n=b.useRef(null),s=b.useRef(e),i=b.useRef("none"),o=e?"mounted":"unmounted",[c,d]=Lot(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=Fw(n.current);i.current=c==="mounted"?u:"none"},[c]),wr(()=>{const u=n.current,l=s.current;if(l!==e){const p=i.current,g=Fw(u);e?d("MOUNT"):g==="none"||u?.display==="none"?d("UNMOUNT"):d(l&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),wr(()=>{if(t){let u;const l=t.ownerDocument.defaultView??window,f=g=>{const S=Fw(n.current).includes(CSS.escape(g.animationName));if(g.target===t&&S&&(d("ANIMATION_END"),!s.current)){const m=t.style.animationFillMode;t.style.animationFillMode="forwards",u=l.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=m)})}},p=g=>{g.target===t&&(i.current=Fw(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{l.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:b.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Fw(e){return e?.animationName||"none"}function $ot(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ZN="Checkbox",[Fot,Oxt]=Yn(ZN),[Hot,H3]=Fot(ZN);function zot(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:i,form:o,name:c,onCheckedChange:d,required:u,value:l="on",internal_do_not_use_render:f}=e,[p,g]=qi({prop:r,defaultProp:s??!1,onChange:d,caller:ZN}),[x,S]=b.useState(null),[m,y]=b.useState(null),w=b.useRef(!1),C=x?!!o||!!x.closest("form"):!0,E={checked:p,disabled:i,setChecked:g,control:x,setControl:S,name:c,form:o,value:l,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:Od(s)?!1:s,isFormControl:C,bubbleInput:m,setBubbleInput:y};return a.jsx(Hot,{scope:t,...E,children:Uot(f)?f(E):n})}var Xie="CheckboxTrigger",Qie=b.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:i,value:o,disabled:c,checked:d,required:u,setControl:l,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:g,bubbleInput:x}=H3(Xie,e),S=vt(s,l),m=b.useRef(d);return b.useEffect(()=>{const y=i?.form;if(y){const w=()=>f(m.current);return y.addEventListener("reset",w),()=>y.removeEventListener("reset",w)}},[i,f]),a.jsx(Je.button,{type:"button",role:"checkbox","aria-checked":Od(d)?"mixed":d,"aria-required":u,"data-state":noe(d),"data-disabled":c?"":void 0,disabled:c,value:o,...n,ref:S,onKeyDown:dW(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:dW(r,y=>{f(w=>Od(w)?!0:!w),x&&g&&(p.current=y.isPropagationStopped(),p.current||y.stopPropagation())})})});Qie.displayName=Xie;var z3=b.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:o,disabled:c,value:d,onCheckedChange:u,form:l,...f}=e;return a.jsx(zot,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:c,required:o,onCheckedChange:u,name:n,form:l,value:d,internal_do_not_use_render:({isFormControl:p})=>a.jsxs(a.Fragment,{children:[a.jsx(Qie,{...f,ref:t,__scopeCheckbox:r}),p&&a.jsx(roe,{__scopeCheckbox:r})]})})});z3.displayName=ZN;var Jie="CheckboxIndicator",eoe=b.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,i=H3(Jie,r);return a.jsx(Zie,{present:n||Od(i.checked)||i.checked===!0,children:a.jsx(Je.span,{"data-state":noe(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});eoe.displayName=Jie;var toe="CheckboxBubbleInput",roe=b.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:c,disabled:d,name:u,value:l,form:f,bubbleInput:p,setBubbleInput:g}=H3(toe,e),x=vt(r,g),S=zN(i),m=F0(n);b.useEffect(()=>{const w=p;if(!w)return;const C=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(C,"checked").set,k=!s.current;if(S!==i&&N){const A=new Event("click",{bubbles:k});w.indeterminate=Od(i),N.call(w,Od(i)?!1:i),w.dispatchEvent(A)}},[p,S,i,s]);const y=b.useRef(Od(i)?!1:i);return a.jsx(Je.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:c,disabled:d,name:u,value:l,form:f,...t,tabIndex:-1,ref:x,style:{...t.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});roe.displayName=toe;function Uot(e){return typeof e=="function"}function Od(e){return e==="indeterminate"}function noe(e){return Od(e)?"indeterminate":e?"checked":"unchecked"}const $s=b.forwardRef(({className:e,...t},r)=>a.jsx(z3,{ref:r,className:J("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(eoe,{className:J("flex items-center justify-center text-current"),children:a.jsx(iE,{className:"h-4 w-4"})})}));$s.displayName=z3.displayName;const soe=ve.memo(({role:e,checked:t,onRoleChange:r})=>{const n=b.useCallback(s=>{r(e.name,s)},[e.name,r]);return a.jsxs("div",{className:`flex items-start space-x-2 sm:space-x-3 p-3 sm:p-4 rounded-lg border transition-all duration-200 hover:shadow-md hover:scale-[1.02] ${t?"bg-accent border-primary border-2":"bg-muted border-border border"}`,children:[a.jsx($s,{id:`role-${e.id}`,checked:t,onCheckedChange:n,className:`mt-0.5 sm:mt-1 ${t?"border-primary bg-primary":"border-border bg-background"}`}),a.jsxs("div",{className:"grid gap-1 sm:gap-1.5 leading-none flex-1",children:[a.jsx($e,{htmlFor:`role-${e.id}`,className:`text-xs sm:text-sm md:text-base font-medium leading-tight cursor-pointer transition-colors duration-200 ${t?"text-accent-foreground":"text-foreground"}`,children:e.name}),e.permissions&&e.permissions.length>0&&a.jsxs("p",{className:"text-xs sm:text-sm leading-tight text-muted-foreground",children:[e.permissions.length," permission",e.permissions.length>1?"s":""]})]})]})});soe.displayName="RoleCard";const aoe=ve.memo(({permission:e,checked:t,onPermissionChange:r})=>{const n=b.useCallback(s=>{r(e.name,s)},[e.name,r]);return a.jsxs("div",{className:`flex items-start space-x-2 sm:space-x-3 p-3 sm:p-4 rounded-lg border transition-all duration-200 hover:shadow-md hover:scale-[1.02] ${t?"bg-accent border-primary border-2":"bg-muted border-border border"}`,children:[a.jsx($s,{id:`permission-${e.id}`,checked:t,onCheckedChange:n,className:`mt-0.5 sm:mt-1 ${t?"border-primary bg-primary":"border-border bg-background"}`}),a.jsx("div",{className:"grid gap-1 sm:gap-1.5 leading-none flex-1",children:a.jsx($e,{htmlFor:`permission-${e.id}`,className:`text-xs sm:text-sm md:text-base font-medium leading-tight cursor-pointer transition-colors duration-200 ${t?"text-accent-foreground":"text-foreground"}`,children:e.name})})]})});aoe.displayName="PermissionCard";const U3=ve.memo(({paginationInfo:e,onPageChange:t,className:r=""})=>{const{currentPage:n,totalPages:s,hasPrevPage:i,hasNextPage:o}=e,c=()=>{i&&t(n-1)},d=()=>{o&&t(n+1)},u=f=>{t(f)},l=()=>{const f=[];if(s<=5)for(let g=1;g<=s;g++)f.push(g);else{const g=Math.max(1,n-2),x=Math.min(s,g+5-1);for(let S=g;S<=x;S++)f.push(S)}return f};return s<=1?null:a.jsxs("div",{className:`flex items-center justify-center space-x-2 ${r}`,children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:c,disabled:!i,className:"flex items-center space-x-1",children:[a.jsx(Tc,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),a.jsx("div",{className:"flex items-center space-x-1",children:l().map(f=>a.jsx(X,{variant:f===n?"default":"outline",size:"sm",onClick:()=>u(f),className:"min-w-[2.5rem]",children:f},f))}),a.jsxs(X,{variant:"outline",size:"sm",onClick:d,disabled:!o,className:"flex items-center space-x-1",children:[a.jsx("span",{className:"hidden sm:inline",children:"Next"}),a.jsx(Qi,{className:"h-4 w-4"})]})]})});U3.displayName="PaginationControls";const aM=ve.memo(({className:e,...t})=>{const[r,n]=b.useState(!1),s=b.useCallback(()=>{n(i=>!i)},[]);return a.jsxs("div",{className:"relative",children:[a.jsx(et,{...t,type:r?"text":"password",className:J("pr-10",e)}),a.jsxs(X,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:s,tabIndex:-1,children:[r?a.jsx(lp,{className:"h-4 w-4 text-muted-foreground"}):a.jsx(Cs,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"sr-only",children:r?"Hide password":"Show password"})]})]})});aM.displayName="PasswordInput";const V3=ve.memo(({form:e,isEditMode:t=!1,showPasswordFields:r=!0})=>a.jsx("div",{className:"space-y-4 sm:space-y-6",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-foreground mb-3 sm:mb-4",children:t?"Edit User Information":"Basic Information"}),a.jsxs("div",{className:"grid gap-4 sm:gap-6",children:[a.jsx(er,{control:e.control,name:"name",render:({field:n})=>a.jsxs(Kt,{children:[a.jsx(Zt,{className:"text-sm font-medium text-foreground",children:"Full Name *"}),a.jsx(Xt,{children:a.jsx(et,{...n,placeholder:"Enter full name",className:"w-full"})}),a.jsx(xr,{})]})}),a.jsx(er,{control:e.control,name:"email",render:({field:n})=>a.jsxs(Kt,{children:[a.jsx(Zt,{className:"text-sm font-medium text-foreground",children:"Email Address *"}),a.jsx(Xt,{children:a.jsx(et,{...n,type:"email",placeholder:"Enter email address",className:"w-full"})}),a.jsx(xr,{})]})}),r&&a.jsxs(a.Fragment,{children:[a.jsx(er,{control:e.control,name:"password",render:({field:n})=>a.jsxs(Kt,{children:[a.jsxs(Zt,{className:"text-sm font-medium text-foreground",children:["Password ",!t&&"*",t&&a.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:"(Leave blank to keep current password)"})]}),a.jsx(Xt,{children:a.jsx(aM,{...n,placeholder:t?"Enter new password (optional)":"Enter password",className:"w-full"})}),a.jsx(xr,{})]})}),a.jsx(er,{control:e.control,name:"password_confirmation",render:({field:n})=>a.jsxs(Kt,{children:[a.jsxs(Zt,{className:"text-sm font-medium text-foreground",children:["Confirm Password ",!t&&"*"]}),a.jsx(Xt,{children:a.jsx(aM,{...n,placeholder:t?"Confirm new password":"Confirm password",className:"w-full"})}),a.jsx(xr,{})]})})]})]})]})}));V3.displayName="BasicInfoSection";const W3=ve.memo(({roles:e,selectedRoles:t,onRoleChange:r,paginationInfo:n,onPageChange:s,isLoading:i=!1})=>{const o=c=>t.includes(c);return a.jsx("div",{className:"space-y-4 sm:space-y-6",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-foreground mb-3 sm:mb-4",children:"Assign Roles"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Select one or more roles for this user. Each role comes with its own set of permissions."}),i?a.jsx("div",{className:"grid gap-3 sm:gap-4",children:Array.from({length:6}).map((c,d)=>a.jsx("div",{className:"animate-pulse",children:a.jsxs("div",{className:"flex items-start space-x-3 p-4 rounded-lg border bg-muted",children:[a.jsx("div",{className:"w-4 h-4 bg-muted-foreground/20 rounded mt-1"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-muted-foreground/20 rounded w-3/4 mb-2"}),a.jsx("div",{className:"h-3 bg-muted-foreground/20 rounded w-1/2"})]})]})},d))}):e.length===0?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"No roles available."})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid gap-3 sm:gap-4",children:e.map(c=>a.jsx(soe,{role:c,checked:o(c.name),onRoleChange:r},c.id))}),a.jsx(U3,{paginationInfo:n,onPageChange:s,className:"mt-6"})]}),t.length>0&&a.jsxs("div",{className:"mt-4 p-3 bg-accent/50 rounded-lg border",children:[a.jsxs("p",{className:"text-sm font-medium text-foreground mb-2",children:["Selected Roles (",t.length,"):"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(c=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-primary text-primary-foreground",children:c},c))})]})]})})});W3.displayName="RoleSelectionSection";const q3=ve.memo(({permissions:e,selectedPermissions:t,roleBasedPermissions:r=[],onPermissionChange:n,paginationInfo:s,onPageChange:i,isLoading:o=!1})=>{const c=u=>t.includes(u),d=u=>r.includes(u);return a.jsx("div",{className:"space-y-4 sm:space-y-6",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-foreground mb-3 sm:mb-4",children:"Additional Permissions"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Grant additional permissions beyond those provided by roles. Permissions from roles are automatically included."}),o?a.jsx("div",{className:"grid gap-3 sm:gap-4",children:Array.from({length:8}).map((u,l)=>a.jsx("div",{className:"animate-pulse",children:a.jsxs("div",{className:"flex items-start space-x-3 p-4 rounded-lg border bg-muted",children:[a.jsx("div",{className:"w-4 h-4 bg-muted-foreground/20 rounded mt-1"}),a.jsx("div",{className:"flex-1",children:a.jsx("div",{className:"h-4 bg-muted-foreground/20 rounded w-2/3"})})]})},l))}):e.length===0?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"No permissions available."})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid gap-3 sm:gap-4",children:e.map(u=>{const l=d(u.name),f=c(u.name);return a.jsxs("div",{className:"relative",children:[a.jsx(aoe,{permission:u,checked:f,onPermissionChange:n}),l&&a.jsx("div",{className:"absolute top-2 right-2",children:a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:"From Role"})})]},u.id)})}),a.jsx(U3,{paginationInfo:s,onPageChange:i,className:"mt-6"})]}),a.jsxs("div",{className:"mt-4 space-y-3",children:[r.length>0&&a.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsxs("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-2",children:["Permissions from Roles (",r.length,"):"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(u=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-100",children:u},u))})]}),t.filter(u=>!r.includes(u)).length>0&&a.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[a.jsxs("p",{className:"text-sm font-medium text-green-900 dark:text-green-100 mb-2",children:["Additional Permissions (",t.filter(u=>!r.includes(u)).length,"):"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:t.filter(u=>!r.includes(u)).map(u=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100",children:u},u))})]})]})]})})});q3.displayName="PermissionSelectionSection";const ioe=({roles:e,initialSelectedRoles:t=[],initialSelectedPermissions:r=[]})=>{const[n,s]=b.useState(t),[i,o]=b.useState(r),c=b.useCallback((m,y)=>{s(C=>y?C.includes(m)?C:[...C,m]:C.filter(E=>E!==m));const w=e.find(C=>C.name===m);if(w?.permissions){const C=w.permissions.map(E=>E.name);o(E=>{if(y){const N=C.filter(k=>!E.includes(k));return[...E,...N]}else return E.filter(N=>!C.includes(N))})}},[e]),d=b.useCallback((m,y)=>{o(w=>y?w.includes(m)?w:[...w,m]:w.filter(C=>C!==m))},[]),u=b.useCallback(m=>n.includes(m),[n]),l=b.useCallback(m=>i.includes(m),[i]),f=b.useMemo(()=>{const m=new Set;return n.forEach(y=>{const w=e.find(C=>C.name===y);w?.permissions&&w.permissions.forEach(C=>m.add(C.name))}),Array.from(m)},[n,e]),p=b.useMemo(()=>i.filter(m=>!f.includes(m)),[i,f]),g=b.useMemo(()=>Array.from(new Set([...f,...i])),[f,i]),x=b.useCallback(()=>{s([]),o([])},[]),S=b.useCallback((m,y)=>{s(m),o(y)},[]);return{selectedRoles:n,selectedPermissions:i,handleRoleChange:c,handlePermissionChange:d,isRoleSelected:u,isPermissionSelected:l,roleBasedPermissions:f,manualPermissions:p,allEffectivePermissions:g,resetSelections:x,setSelections:S}},Cj=({totalItems:e,itemsPerPage:t,initialPage:r=1})=>{const[n,s]=b.useState(r),i=b.useMemo(()=>{const x=Math.max(1,Math.ceil(e/t)),S=Math.min(Math.max(1,n),x);return{totalPages:x,currentPage:S,totalItems:e,hasNextPage:S<x,hasPrevPage:S>1}},[e,t,n]),o=b.useCallback(x=>{const S=Math.ceil(e/t),m=Math.min(Math.max(1,x),S);s(m)},[e,t]),c=b.useCallback(()=>{i.hasNextPage&&o(n+1)},[i.hasNextPage,n,o]),d=b.useCallback(()=>{i.hasPrevPage&&o(n-1)},[i.hasPrevPage,n,o]),u=b.useCallback(()=>{o(1)},[o]),l=b.useCallback(()=>{o(i.totalPages)},[i.totalPages,o]),f=b.useCallback(x=>{const S=(i.currentPage-1)*t,m=S+t;return x.slice(S,m)},[i.currentPage,t]),p=b.useCallback(()=>{const x=(i.currentPage-1)*t+1,S=Math.min(i.currentPage*t,e);return{startItem:x,endItem:S,totalItems:e}},[i.currentPage,t,e]),g=b.useCallback(()=>{s(1)},[]);return{paginationInfo:i,currentPage:i.currentPage,totalPages:i.totalPages,hasNextPage:i.hasNextPage,hasPrevPage:i.hasPrevPage,handlePageChange:o,goToNextPage:c,goToPrevPage:d,goToFirstPage:u,goToLastPage:l,getCurrentPageItems:f,getPaginationRange:p,resetToFirstPage:g}},ooe={name:st().min(1,"Full name is required").min(2,"Full name must be at least 2 characters").max(100,"Full name must not exceed 100 characters").regex(/^[a-zA-Z\s]+$/,"Full name can only contain letters and spaces"),email:st().min(1,"Email address is required").email("Please enter a valid email address").max(255,"Email address must not exceed 255 characters"),roles:dr(st()),permissions:dr(st())},Vot={password:st().min(8,"Password must be at least 8 characters").max(128,"Password must not exceed 128 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter, one lowercase letter, and one number"),password_confirmation:st().min(1,"Please confirm your password")},Wot={password:st().optional().refine(e=>!e||e.trim()===""?!0:e.length>=8,"Password must be at least 8 characters").refine(e=>!e||e.trim()===""?!0:e.length<=128,"Password must not exceed 128 characters").refine(e=>!e||e.trim()===""?!0:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(e),"Password must contain at least one uppercase letter, one lowercase letter, and one number"),password_confirmation:st().optional()},qot=Ct({...ooe,...Vot}).refine(e=>e.password===e.password_confirmation,{message:"Passwords don't match",path:["password_confirmation"]}),Got=Ct({...ooe,...Wot}).refine(e=>e.password&&e.password.trim()!==""?e.password===e.password_confirmation:!0,{message:"Passwords don't match",path:["password_confirmation"]}),Yot=()=>{const e=Ot(),t=Iat(),{roles:r,loading:n}=To(),{permissions:s,loading:i}=bg(),o=fa({resolver:Ma(qot),defaultValues:{name:"",email:"",password:"",password_confirmation:"",roles:[],permissions:[]}}),c=r||[],d=s||[],{selectedRoles:u,selectedPermissions:l,handleRoleChange:f,handlePermissionChange:p,roleBasedPermissions:g}=ioe({roles:c,initialSelectedRoles:o.watch("roles"),initialSelectedPermissions:o.watch("permissions")}),x=6,S=Cj({totalItems:c.length,itemsPerPage:x,initialPage:1}),m=Cj({totalItems:d.length,itemsPerPage:x,initialPage:1});ve.useEffect(()=>{o.setValue("roles",u),o.setValue("permissions",l)},[u,l,o]);const y=S.getCurrentPageItems(c),w=m.getCurrentPageItems(d),C=b.useCallback(async N=>{try{await t.createUser({name:N.name,email:N.email,password:N.password,password_confirmation:N.password_confirmation,roles:N.roles,permissions:N.permissions}),e("/user-management")}catch(k){console.error("Failed to create user:",k)}},[t,e]),E=b.useCallback(()=>{e("/user-management")},[e]);return a.jsx(Qt,{title:"Create New User",subtitle:"Add a new user to the system with roles and permissions",backButton:{show:!0},children:a.jsx(Zi,{...o,children:a.jsxs("form",{onSubmit:o.handleSubmit(C),className:"space-y-6 sm:space-y-8 max-w-full",children:[a.jsx(V3,{form:o,isEditMode:!1,showPasswordFields:!0}),a.jsx(W3,{roles:y,selectedRoles:u,onRoleChange:f,isLoading:n,paginationInfo:S.paginationInfo,onPageChange:S.handlePageChange}),a.jsx(q3,{permissions:w,selectedPermissions:l,roleBasedPermissions:g,onPermissionChange:p,isLoading:i,paginationInfo:m.paginationInfo,onPageChange:m.handlePageChange}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end gap-3 sm:gap-4 pt-6 sm:pt-8 px-4 sm:px-2 lg:px-0 border-t border-border",children:[a.jsx(X,{type:"button",variant:"outline",onClick:E,disabled:o.formState.isSubmitting,className:"w-full sm:w-auto h-11 sm:h-12 text-sm sm:text-base font-medium transition-all duration-200 hover:scale-105 border-border bg-background text-foreground",children:"Cancel"}),a.jsx(X,{type:"submit",disabled:o.formState.isSubmitting||n||i,className:"w-full sm:w-auto min-w-[140px] sm:min-w-[160px] h-11 sm:h-12 text-sm sm:text-base font-medium transition-all duration-200 hover:scale-105 shadow-lg bg-primary text-primary-foreground border-primary",children:o.formState.isSubmitting?a.jsxs(a.Fragment,{children:[a.jsx(bt,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5 animate-spin text-primary-foreground"}),a.jsx("span",{className:"text-sm sm:text-base",children:"Creating..."})]}):a.jsx("span",{className:"text-sm sm:text-base",children:"Create User"})})]})]})})})},Kot=()=>{const e=Ot(),{id:t}=Ia(),r=parseInt(t||"0",10),{user:n,loading:s,error:i}=dae(r),{updateUser:o,error:c}=Lat(),d=fa({resolver:Ma(Got),defaultValues:{name:"",email:"",password:"",password_confirmation:"",roles:[],permissions:[]},mode:"onBlur"}),{handleSubmit:u,setValue:l,formState:{isSubmitting:f}}=d,p=To(!0),g=bg(!0),x=p.roles||[],S=g.permissions||[],m=p.loading,y=g.loading,w=ioe({roles:x,initialSelectedRoles:[],initialSelectedPermissions:[]}),C=Cj({totalItems:x.length,itemsPerPage:8,initialPage:1}),E=Cj({totalItems:S.length,itemsPerPage:12,initialPage:1}),[N,k]=b.useState(!1),A=C.getCurrentPageItems(x),T=E.getCurrentPageItems(S);b.useEffect(()=>{N&&(l("roles",Array.from(w.selectedRoles)),l("permissions",Array.from(w.selectedPermissions)))},[w.selectedRoles,w.selectedPermissions,N,l]),b.useEffect(()=>{if(n&&!N){l("name",n.name||""),l("email",n.email||""),l("password",""),l("password_confirmation","");const M=n.roles?.map(L=>L.name)||[],O=n.permissions?.map(L=>L.name)||[];M.forEach(L=>{w.handleRoleChange(L,!0)});const R=new Set;n.roles?.forEach(L=>{L.permissions?.forEach(B=>{R.add(B.name)})}),O.forEach(L=>{R.has(L)||w.handlePermissionChange(L,!0)}),k(!0)}},[n,N,l,w]);const P=async M=>{const O={name:M.name,email:M.email,roles:M.roles,permissions:M.permissions};M.password&&M.password.trim()!==""&&(O.password=M.password,O.password_confirmation=M.password_confirmation);try{await o(r,O),e("/user-management")}catch(R){console.error("Failed to update user:",R)}};return s?a.jsx(Qt,{title:"Edit User",subtitle:"Update user information and permissions",backButton:{show:!0},children:a.jsxs("div",{className:"flex items-center justify-center py-12",children:[a.jsx(bt,{className:"h-8 w-8 animate-spin mr-3 text-muted-foreground"}),a.jsx("span",{className:"text-lg text-muted-foreground",children:"Loading user..."})]})}):i||!n?a.jsx(Qt,{title:"Edit User",subtitle:"Update user information and permissions",backButton:{show:!0},children:a.jsxs(at,{className:"mb-6 border-destructive bg-destructive/10",children:[a.jsx(ht,{className:"h-4 w-4 text-destructive"}),a.jsx(it,{className:"text-destructive",children:i||"User not found"})]})}):a.jsxs(Qt,{title:"Edit User",subtitle:"Update user information and permissions",backButton:{show:!0},children:[c&&a.jsxs(at,{className:"mb-6 border-destructive bg-destructive/10",children:[a.jsx(ht,{className:"h-4 w-4 text-destructive"}),a.jsx(it,{className:"text-destructive",children:c})]}),a.jsx(Zi,{...d,children:a.jsxs("form",{onSubmit:u(P),className:"space-y-6 sm:space-y-8 max-w-full",children:[a.jsx(V3,{form:d,isEditMode:!0,showPasswordFields:!0}),a.jsx(W3,{roles:A,isLoading:m,selectedRoles:w.selectedRoles,onRoleChange:w.handleRoleChange,paginationInfo:C.paginationInfo,onPageChange:C.handlePageChange}),a.jsx(q3,{permissions:T,isLoading:y,selectedPermissions:w.selectedPermissions,roleBasedPermissions:w.roleBasedPermissions,onPermissionChange:w.handlePermissionChange,paginationInfo:E.paginationInfo,onPageChange:E.handlePageChange}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end gap-3 sm:gap-4 pt-6 sm:pt-8 px-4 sm:px-2 lg:px-0 border-t border-border",children:[a.jsx(X,{type:"button",variant:"outline",onClick:()=>e("/user-management"),disabled:f,className:"w-full sm:w-auto h-11 sm:h-12 text-sm sm:text-base font-medium transition-all duration-200 hover:scale-105 border-border bg-background text-foreground",children:"Cancel"}),a.jsx(X,{type:"submit",disabled:f||m||y||!N,className:"w-full sm:w-auto min-w-[140px] sm:min-w-[160px] h-11 sm:h-12 text-sm sm:text-base font-medium transition-all duration-200 hover:scale-105 shadow-lg bg-primary text-primary-foreground border-primary",children:f?a.jsxs(a.Fragment,{children:[a.jsx(bt,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5 animate-spin text-primary-foreground"}),a.jsx("span",{className:"text-sm sm:text-base",children:"Updating..."})]}):a.jsx("span",{className:"text-sm sm:text-base",children:"Update User"})})]})]})})]})},Zot=({user:e,formattedData:t})=>a.jsxs(a.Fragment,{children:[a.jsx(Se,{className:"bg-card border-border",children:a.jsx(Ee,{className:"pt-4 sm:pt-5 md:pt-6 p-4 sm:p-5 md:p-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4 sm:gap-6",children:[a.jsx("div",{className:"h-16 w-16 sm:h-18 sm:w-18 md:h-20 md:w-20 rounded-full flex items-center justify-center text-lg sm:text-xl md:text-2xl font-bold mx-auto sm:mx-0 bg-primary/10 text-primary",children:t?.initials}),a.jsxs("div",{className:"flex-1 space-y-2 text-center sm:text-left",children:[a.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-card-foreground",children:t?.displayName}),a.jsxs("div",{className:"flex items-center gap-2 justify-center sm:justify-start text-muted-foreground",children:[a.jsx(Kp,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm sm:text-base",children:t?.formattedEmail})]}),a.jsx("div",{className:"flex items-center gap-2 justify-center sm:justify-start",children:a.jsx(Ze,{variant:e.email_verified_at?"default":"secondary",className:"text-xs sm:text-sm",children:t?.verificationStatus})})]})]})})}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-5 md:gap-6",children:a.jsxs(Se,{className:"bg-card border-border",children:[a.jsx(Me,{className:"pb-3 sm:pb-4",children:a.jsxs(Ve,{className:"flex items-center gap-2 text-base sm:text-lg text-card-foreground",children:[a.jsx(Da,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Account Information"]})}),a.jsxs(Ee,{className:"space-y-3 sm:space-y-4 p-4 sm:p-5 md:p-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"User ID"}),a.jsx("p",{className:"text-sm sm:text-base mt-1 text-card-foreground",children:e.id})]}),a.jsx(Xs,{className:"bg-border"}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Created"}),a.jsxs("p",{className:"text-sm sm:text-base mt-1 flex items-center gap-2 text-card-foreground",children:[a.jsx(ua,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"}),t?.createdAt]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Last Updated"}),a.jsx("p",{className:"text-sm sm:text-base mt-1 text-card-foreground",children:t?.updatedAt})]})]})]})})]}),Xot=({user:e,formattedData:t})=>{const[r,n]=b.useState(new Set),s=b.useCallback(c=>{n(d=>{const u=new Set(d);return u.has(c)?u.delete(c):u.add(c),u})},[]),i=b.useMemo(()=>!e?.roles||e.roles.length===0?a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"No roles assigned"}):e.roles.map(c=>a.jsxs("div",{className:"border border-border rounded-lg p-3 bg-muted/50",children:[a.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>s(c.id),children:[a.jsx(Ze,{variant:"outline",className:"text-xs sm:text-sm px-2 py-1",children:c.name}),c.permissions&&c.permissions.length>0&&a.jsx("button",{className:"text-muted-foreground hover:text-foreground",children:r.has(c.id)?a.jsx(wY,{className:"h-4 w-4"}):a.jsx(Yf,{className:"h-4 w-4"})})]}),r.has(c.id)&&c.permissions&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-border",children:[a.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Permissions (",c.permissions.length,")"]}),a.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2",children:c.permissions.map(d=>a.jsx(Ze,{variant:"secondary",className:"text-xs px-2 py-1",children:d.name},d.id))})]}),!c.permissions||c.permissions.length===0?a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"No permissions assigned to this role"}):null]},c.id)),[e?.roles,r,s]),o=b.useMemo(()=>!e?.permissions||e.permissions.length===0?a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"No direct permissions"}):e.permissions.map(c=>a.jsx(Ze,{variant:"secondary",className:"text-xs sm:text-sm px-2 py-1",children:c.name},c.id)),[e?.permissions]);return a.jsxs(Se,{className:"bg-card border-border",children:[a.jsx(Me,{className:"pb-3 sm:pb-4",children:a.jsxs(Ve,{className:"flex items-center gap-2 text-base sm:text-lg text-card-foreground",children:[a.jsx(tn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Roles & Permissions"]})}),a.jsxs(Ee,{className:"space-y-3 sm:space-y-4 p-4 sm:p-5 md:p-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:["Roles (",t?.roleCount,")"]}),a.jsx("div",{className:"space-y-3 mt-2",children:i})]}),a.jsx(Xs,{className:"bg-border"}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:["Direct Permissions (",t?.permissionCount,")"]}),a.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 mt-2",children:o})]})]})]})},Qot=({user:e,formattedData:t})=>{const r=b.useMemo(()=>!e?.stores||e.stores.length===0?a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No store access assigned"}):e.stores.map(n=>a.jsxs("div",{className:"rounded-lg p-3 sm:p-4 border border-border bg-muted",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-3 mb-3",children:[a.jsx("h4",{className:"font-semibold text-sm sm:text-base text-card-foreground",children:n.store.name}),a.jsx(Ze,{variant:"outline",className:"text-xs sm:text-sm px-2 py-1 w-fit",children:n.store.id})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Store Roles"}),a.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 mt-1",children:n.roles.map(s=>a.jsx(Ze,{variant:"secondary",className:"text-xs sm:text-sm px-2 py-1",children:s.name},s.id))})]})]},n.store.id)),[e?.stores]);return a.jsxs(Se,{className:"lg:col-span-2 bg-card border-border",children:[a.jsx(Me,{className:"pb-3 sm:pb-4",children:a.jsxs(Ve,{className:"flex items-center gap-2 text-base sm:text-lg text-card-foreground",children:[a.jsx(ui,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Store Access (",t?.storeCount,")"]})}),a.jsx(Ee,{className:"p-4 sm:p-5 md:p-6",children:e.stores&&e.stores.length>0?a.jsx("div",{className:"space-y-3 sm:space-y-4",children:r}):a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No store access assigned"})})]})},Jot=()=>{const e=Ot(),{id:t}=Ia(),r=b.useMemo(()=>{if(!t)return;const u=parseInt(t,10);return isNaN(u)?void 0:u},[t]),{user:n,loading:s,error:i,formattedData:o}=dae(r),c=b.useCallback(()=>{e(`/user-management/edit/user/${r}`)},[e,r]),d=b.useMemo(()=>a.jsxs(X,{onClick:c,className:"flex items-center gap-2 bg-primary text-primary-foreground hover:bg-primary/90",children:[a.jsx(vi,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm sm:text-base",children:"Edit User"})]}),[c]);return s?a.jsx(Qt,{title:"User Details",subtitle:"View all information about this user",backButton:{show:!0},children:a.jsxs("div",{className:"flex items-center justify-center py-8 sm:py-10 md:py-12 lg:py-16",children:[a.jsx(bt,{className:"h-6 w-6 sm:h-7 sm:w-7 md:h-8 md:w-8 animate-spin text-primary"}),a.jsx("span",{className:"ml-2 text-sm sm:text-base text-foreground",children:"Loading user..."})]})}):i||!n?a.jsx(Qt,{title:"User Details",subtitle:"View all information about this user",backButton:{show:!0},children:a.jsx("div",{className:"text-center py-3 sm:py-4 text-sm sm:text-base text-destructive",children:i||"User not found"})}):a.jsxs(Qt,{title:"User Details",subtitle:"View all information about this user",backButton:{show:!0},mainButtons:d,children:[a.jsx(Zot,{user:n,formattedData:o}),a.jsx(Xot,{user:n,formattedData:o}),a.jsx(Qot,{user:n,formattedData:o})]})},elt=({permissions:e,selectedPermissions:t,onPermissionChange:r,loading:n,validationError:s})=>{const i=(d,u)=>{const l=u?[...t,d]:t.filter(f=>f!==d);r(l)},o=()=>{const d=e.map(u=>u.name);r(d)},c=()=>{r([])};return a.jsxs(Se,{className:"bg-card border-border shadow-sm",children:[a.jsx(Me,{className:"pb-3 sm:pb-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Ve,{className:"text-lg sm:text-xl text-card-foreground",children:"Permissions"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select permissions for this role"})]}),!n&&e.length>0&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:o,className:"text-xs",children:"Select All"}),a.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:c,className:"text-xs",children:"Deselect All"})]})]})}),a.jsxs(Ee,{children:[n?a.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[a.jsx(bt,{className:"h-4 w-4 animate-spin mr-2 text-primary"}),a.jsx("span",{className:"text-muted-foreground",children:"Loading permissions..."})]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 max-h-60 sm:max-h-80 overflow-y-auto border border-border rounded-md p-3 sm:p-4 bg-background/50",children:e.map(d=>a.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3 space-y-0 p-2 rounded-md hover:bg-accent/50 transition-colors",children:[a.jsx($s,{id:`permission-${d.id}`,checked:t.includes(d.name),onCheckedChange:u=>i(d.name,u),className:"border-border data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),a.jsx("div",{className:"grid gap-1.5 leading-none flex-1",children:a.jsx($e,{htmlFor:`permission-${d.id}`,className:"text-sm font-medium leading-none text-foreground cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:d.name})})]},d.id))}),s&&a.jsx("p",{className:"text-sm text-destructive mt-2",children:s}),t.length>0&&a.jsxs("div",{className:"mt-4 p-3 sm:p-4 bg-muted rounded-lg border border-border",children:[a.jsxs("p",{className:"text-sm font-medium mb-2 text-muted-foreground",children:["Selected permissions (",t.length,"):"]}),a.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:t.map(d=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-primary/10 text-primary text-xs font-medium border border-primary/20",children:d},d))})]})]})]})},tlt=Ct({name:st().min(1,"Role name is required").min(2,"Role name must be at least 2 characters").max(50,"Role name must be less than 50 characters").regex(/^[a-zA-Z0-9\s-_]+$/,"Role name can only contain letters, numbers, spaces, hyphens, and underscores"),guard_name:DCe(Wj),permissions:dr(st()).min(1,"At least one permission must be selected")}),rlt=()=>{const e=Ot(),{createRole:t,loading:r,error:n}=tot(),{permissions:s,loading:i}=bg(),{register:o,handleSubmit:c,control:d,formState:{errors:u,isSubmitting:l}}=fa({resolver:Ma(tlt),defaultValues:{name:"",guard_name:Wj.WEB,permissions:[]},mode:"onChange"}),f=()=>{e("/user-management")},p=async g=>{try{const x={name:g.name.trim(),guard_name:g.guard_name,permissions:g.permissions};await t(x),e("/user-management")}catch(x){console.error("Failed to create role:",x)}};return a.jsxs(Qt,{title:"Create Role",subtitle:"Add a new role to the system",backButton:{show:!0},children:[n&&a.jsxs(at,{variant:"destructive",className:"border-destructive bg-destructive/10",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{className:"text-destructive-foreground",children:n})]}),a.jsxs("form",{onSubmit:c(p),className:"space-y-4 sm:space-y-6",children:[a.jsxs(Se,{className:"bg-card border-border shadow-sm",children:[a.jsx(Me,{className:"pb-3 sm:pb-6",children:a.jsx(Ve,{className:"text-lg sm:text-xl text-card-foreground",children:"Role Information"})}),a.jsx(Ee,{className:"space-y-3 sm:space-y-4",children:a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"name",className:"text-sm font-medium text-foreground",children:"Role Name *"}),a.jsx(et,{id:"name",type:"text",...o("name"),placeholder:"Enter role name (e.g., Manager, Editor)",className:`bg-background border-input text-foreground placeholder:text-muted-foreground ${u.name?"border-destructive focus:ring-destructive":"focus:ring-ring"}`}),u.name&&a.jsx("p",{className:"text-sm text-destructive",children:u.name.message})]})})})]}),a.jsx(L3,{name:"permissions",control:d,render:({field:{value:g,onChange:x}})=>a.jsx(elt,{permissions:s,selectedPermissions:g,onPermissionChange:x,loading:i,validationError:u.permissions?.message})}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end space-y-2 sm:space-y-0 sm:space-x-4 pt-4 sm:pt-6",children:[a.jsx(X,{type:"button",variant:"outline",onClick:f,disabled:l,className:"w-full sm:w-auto bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:"Cancel"}),a.jsx(X,{type:"submit",disabled:l||r,className:"w-full sm:w-auto min-w-[120px] bg-primary text-primary-foreground hover:bg-primary/90 focus:ring-ring",children:l?a.jsxs(a.Fragment,{children:[a.jsx(bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Role"})]})]})]})},nlt=({roles:e,permissions:t,onSuccess:r})=>{const{assignPermissions:n,loading:s,error:i,reset:o}=rot(),{getUserProfile:c}=hl(),[d,u]=b.useState(""),[l,f]=b.useState(new Set),[p,g]=b.useState(!1),[x,S]=b.useState({}),[m,y]=b.useState(""),w=b.useMemo(()=>d&&e.find(O=>O.id.toString()===d)||null,[d,e]),C=b.useMemo(()=>w?.permissions?new Set(w.permissions.map(O=>O.name)):new Set,[w]),E=b.useMemo(()=>t.filter(O=>!C.has(O.name)),[t,C]);b.useEffect(()=>{f(new Set),S({}),y(""),o()},[d,o]),b.useEffect(()=>{if(m){const O=setTimeout(()=>y(""),5e3);return()=>clearTimeout(O)}},[m]);const N=O=>{u(O)},k=(O,R)=>{f(L=>{const B=new Set(L);return R?B.add(O):B.delete(O),B}),x.permissions&&S(L=>({...L,permissions:""}))},A=()=>{const O=new Set(E.map(R=>R.name));f(O)},T=()=>{f(new Set)},P=()=>{const O={};return d||(O.role="Please select a role"),l.size===0&&(O.permissions="Please select at least one permission to assign"),S(O),Object.keys(O).length===0};return{selectedRoleId:d,selectedPermissions:l,isSubmitting:p,formErrors:x,successMessage:m,selectedRole:w,currentRolePermissions:C,availablePermissions:E,assignLoading:s,assignError:i,handleRoleChange:N,handlePermissionChange:k,handleSelectAll:A,handleClearAll:T,handleSubmit:async O=>{if(O.preventDefault(),!!P()){g(!0);try{await n(parseInt(d),Array.from(l)),y(`Successfully assigned ${l.size} permission(s) to ${w?.name}`),f(new Set),c(),r?.()}catch(R){console.error("Failed to assign permissions:",R),R.response?.status===403?S({permissions:"Insufficient permissions to assign these roles"}):R.response?.status===422?S({validation:R.response.data.errors||{}}):S({network:"Network error occurred. Please try again."})}finally{g(!1)}}},validateForm:P}},slt=({message:e})=>e?a.jsxs(at,{className:"border-primary/20 bg-primary/10",children:[a.jsx(tn,{className:"h-4 w-4 text-primary"}),a.jsx(it,{className:"text-primary",children:e})]}):null,alt=({error:e})=>e?a.jsxs(at,{variant:"destructive",className:"border-destructive bg-destructive/10",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{className:"text-destructive-foreground",children:e})]}):null,ilt=({roles:e,selectedRoleId:t,selectedRole:r,currentRolePermissions:n,rolesLoading:s,formErrors:i,onRoleChange:o})=>a.jsxs(Se,{className:"bg-card border-border shadow-sm",children:[a.jsxs(Me,{className:"pb-3 sm:pb-6",children:[a.jsx(Ve,{className:"text-lg sm:text-xl text-card-foreground",children:"Select Role"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose the role to assign permissions to"})]}),a.jsxs(Ee,{className:"space-y-3 sm:space-y-4",children:[s?a.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[a.jsx(bt,{className:"h-4 w-4 animate-spin mr-2 text-primary"}),a.jsx("span",{className:"text-muted-foreground",children:"Loading roles..."})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"role-select",className:"text-sm font-medium text-foreground",children:"Role *"}),a.jsxs(Wt,{value:t,onValueChange:o,children:[a.jsx(zt,{className:`bg-background border-input text-foreground ${i.role?"border-destructive focus:ring-destructive":"focus:ring-ring"}`,children:a.jsx(qt,{placeholder:"Select a role",className:"text-muted-foreground"})}),a.jsx(Ut,{className:"bg-popover border-border",children:e.map(c=>a.jsx(pt,{value:c.id.toString(),className:"text-popover-foreground hover:bg-accent hover:text-accent-foreground",children:a.jsxs("div",{className:"flex items-center justify-between w-full",children:[a.jsx("span",{children:c.name}),a.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[c.permissions?.length||0," permissions"]})]})},c.id))})]}),i.role&&a.jsx("p",{className:"text-sm text-destructive",children:i.role})]}),r&&n.size>0&&a.jsx(olt,{roleName:r.name,permissions:n})]})]}),olt=({permissions:e})=>a.jsxs("div",{className:"mt-4 p-3 sm:p-4 bg-muted rounded-lg border border-border",children:[a.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center gap-2 text-muted-foreground",children:[a.jsx(Iv,{className:"h-4 w-4"}),"Current Permissions (",e.size,")"]}),a.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:Array.from(e).map(t=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-secondary text-secondary-foreground border border-border",children:t},t))})]}),llt=({selectedRole:e,availablePermissions:t,selectedPermissions:r,permissionsLoading:n,formErrors:s,onPermissionChange:i,onSelectAll:o,onClearAll:c})=>e?a.jsxs(Se,{className:"bg-card border-border shadow-sm",children:[a.jsx(Me,{className:"pb-3 sm:pb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx(Ve,{className:"text-lg sm:text-xl text-card-foreground",children:"Available Permissions"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Select permissions to assign to ",e.name]})]}),t.length>0&&a.jsx(clt,{selectedPermissions:r,availablePermissions:t,onSelectAll:o,onClearAll:c})]})}),a.jsxs(Ee,{children:[n?a.jsx(dlt,{}):t.length===0?a.jsx(ult,{}):a.jsx(flt,{availablePermissions:t,selectedPermissions:r,onPermissionChange:i}),s.permissions&&a.jsx("p",{className:"text-sm text-destructive mt-2",children:s.permissions}),a.jsx(hlt,{count:r.size})]})]}):null,clt=({selectedPermissions:e,availablePermissions:t,onSelectAll:r,onClearAll:n})=>a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[a.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:r,disabled:e.size===t.length,className:"bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:"Select All"}),a.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:n,disabled:e.size===0,className:"bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:"Clear All"})]}),dlt=()=>a.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[a.jsx(bt,{className:"h-4 w-4 animate-spin mr-2 text-primary"}),a.jsx("span",{className:"text-muted-foreground",children:"Loading permissions..."})]}),ult=()=>a.jsxs("div",{className:"text-center py-8 sm:py-12 text-muted-foreground",children:[a.jsx(tn,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm sm:text-base",children:"All available permissions are already assigned to this role."})]}),flt=({availablePermissions:e,selectedPermissions:t,onPermissionChange:r})=>a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 max-h-60 sm:max-h-80 overflow-y-auto border border-border rounded-md p-3 sm:p-4 bg-background/50",children:e.map(n=>{const s=t.has(n.name);return a.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3 space-y-0 p-2 rounded-md hover:bg-accent/50 transition-colors",children:[a.jsx($s,{id:`permission-${n.id}`,checked:s,onCheckedChange:i=>r(n.name,i),className:"border-border data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),a.jsxs("div",{className:"grid gap-1.5 leading-none flex-1",children:[a.jsx($e,{htmlFor:`permission-${n.id}`,className:"text-sm font-medium leading-none text-foreground cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:n.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Guard: ",n.guard_name]})]})]},n.id)})}),hlt=({count:e})=>e===0?null:a.jsx("div",{className:"mt-4 p-3 sm:p-4 bg-primary/10 rounded-lg border border-primary/20",children:a.jsxs("p",{className:"text-sm text-primary font-medium",children:[e," permission(s) selected for assignment"]})}),mlt=({isSubmitting:e,assignLoading:t,selectedRole:r,selectedPermissionsCount:n,onCancel:s})=>a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end space-y-2 sm:space-y-0 sm:space-x-4 pt-4 sm:pt-6",children:[a.jsx(X,{type:"button",variant:"outline",onClick:s,disabled:e,className:"w-full sm:w-auto bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:"Cancel"}),a.jsx(X,{type:"submit",disabled:e||t||!r||n===0,className:"w-full sm:w-auto min-w-[140px] bg-primary text-primary-foreground hover:bg-primary/90 focus:ring-ring",children:e?a.jsxs(a.Fragment,{children:[a.jsx(bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Assigning..."]}):"Assign Permissions"})]}),plt=()=>{const e=Ot(),{roles:t,loading:r}=To(),{permissions:n,loading:s}=bg(),i=nlt({roles:t,permissions:n,onSuccess:()=>{setTimeout(()=>{e("/user-management")},2e3)}}),o=()=>{e("/user-management")};return a.jsxs(Qt,{title:"Assign Permissions",subtitle:"Assign permissions to roles - users with these roles will inherit the permissions",backButton:{show:!0},children:[a.jsx(slt,{message:i.successMessage}),a.jsx(alt,{error:i.assignError}),a.jsxs("form",{onSubmit:i.handleSubmit,className:"space-y-4 sm:space-y-6",children:[a.jsx(ilt,{roles:t,selectedRoleId:i.selectedRoleId,selectedRole:i.selectedRole,currentRolePermissions:i.currentRolePermissions,rolesLoading:r,formErrors:i.formErrors,onRoleChange:i.handleRoleChange}),a.jsx(llt,{selectedRole:i.selectedRole,availablePermissions:i.availablePermissions,selectedPermissions:i.selectedPermissions,permissionsLoading:s,formErrors:i.formErrors,onPermissionChange:i.handlePermissionChange,onSelectAll:i.handleSelectAll,onClearAll:i.handleClearAll}),a.jsx(mlt,{isSubmitting:i.isSubmitting,assignLoading:i.assignLoading,selectedRole:i.selectedRole,selectedPermissionsCount:i.selectedPermissions.size,onCancel:o})]})]})},glt=()=>{const e=Ot(),{createPermission:t,loading:r,error:n,reset:s,validateForm:i,formatForApi:o}=dot(),[c,d]=b.useState(null),[u,l]=b.useState({name:""}),[f,p]=b.useState({}),g=(w,C)=>{l(E=>({...E,[w]:C})),f[w]&&p(E=>({...E,[w]:void 0})),(n||c)&&(d(null),s())},x=()=>{const w={};return u.name.trim()?u.name.length<3&&(w.name="Permission name must be at least 3 characters"):w.name="Permission name is required",p(w),Object.keys(w).length===0},S=async w=>{if(w.preventDefault(),!!x()){d(null),s();try{const C={name:u.name,guard_name:"web"},E=i(C);if(!E.isValid){const N=Object.values(E.errors)[0];d(N);return}await t(o(C)),e("/user-management",{state:{message:"Permission created successfully!"}})}catch(C){const E=C instanceof Error?C.message:"Failed to create permission. Please try again.";d(E)}}},m=()=>{e(-1)},y=c||(n?"Failed to create permission. Please try again.":null);return a.jsxs(Qt,{title:"Create Permission",subtitle:"Add a new permission to the system",backButton:{show:!0},children:[y&&a.jsx(at,{variant:"destructive",className:"border-destructive bg-destructive/10 text-destructive",children:a.jsx(it,{className:"text-sm sm:text-base",children:y})}),a.jsxs("form",{onSubmit:S,className:"space-y-4 sm:space-y-6",children:[a.jsxs(Se,{className:"bg-card border-border shadow-sm hover:shadow-md transition-shadow",children:[a.jsxs(Me,{className:"pb-4 sm:pb-6",children:[a.jsxs(Ve,{className:"flex items-center gap-2 text-lg sm:text-xl text-card-foreground",children:[a.jsx(FAe,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Permission Details"]}),a.jsx(ts,{className:"text-sm sm:text-base text-muted-foreground",children:"Enter the permission name"})]}),a.jsx(Ee,{className:"space-y-4 sm:space-y-6",children:a.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[a.jsx($e,{htmlFor:"name",className:"text-sm sm:text-base font-medium text-foreground",children:"Permission Name *"}),a.jsx(et,{id:"name",type:"text",placeholder:"e.g., manage-users, view-reports",value:u.name,onChange:w=>g("name",w.target.value),className:`bg-background border-input text-foreground placeholder:text-muted-foreground focus:ring-ring focus:border-ring transition-colors ${f.name?"border-destructive focus:border-destructive focus:ring-destructive":""}`,disabled:r}),f.name&&a.jsx("p",{className:"text-xs sm:text-sm text-destructive font-medium",children:f.name}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Use lowercase letters, numbers, and hyphens only"})]})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end gap-3 sm:gap-4 pt-4 sm:pt-6",children:[a.jsx(X,{type:"button",variant:"outline",onClick:m,disabled:r,className:"order-2 sm:order-1 bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground transition-colors",children:"Cancel"}),a.jsx(X,{type:"submit",disabled:r,className:"order-1 sm:order-2 min-w-[120px] sm:min-w-[140px] bg-primary text-primary-foreground hover:bg-primary/90 transition-colors shadow-sm",children:r?a.jsxs(a.Fragment,{children:[a.jsx(bt,{className:"mr-2 h-4 w-4 animate-spin"}),a.jsx("span",{className:"text-sm sm:text-base",children:"Creating..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(br,{className:"mr-2 h-4 w-4"}),a.jsx("span",{className:"text-sm sm:text-base",children:"Create Permission"})]})})]})]})]})},xlt=[a.jsx(Dt,{path:"/user-management",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(hot,{})})})})},"user-management"),a.jsx(Dt,{path:"/user-management/create/user",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(Yot,{})})})})},"create-user"),a.jsx(Dt,{path:"/user-management/edit/user/:id",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(Kot,{})})})})},"edit-user"),a.jsx(Dt,{path:"/user-management/view/user/:id",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(Jot,{})})})})},"view-user"),a.jsx(Dt,{path:"/user-management/create/role",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(rlt,{})})})})},"create-role"),a.jsx(Dt,{path:"/user-management/roles/assign-permissions",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(plt,{})})})})},"assign-permissions"),a.jsx(Dt,{path:"/user-management/create/permission",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(glt,{})})})})},"create-permission")],vlt=1,ylt=1e6;let LP=0;function blt(){return LP=(LP+1)%Number.MAX_SAFE_INTEGER,LP.toString()}const BP=new Map,uW=e=>{if(BP.has(e))return;const t=setTimeout(()=>{BP.delete(e),kv({type:"REMOVE_TOAST",toastId:e})},ylt);BP.set(e,t)},wlt=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,vlt)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?uW(r):e.toasts.forEach(n=>{uW(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},GS=[];let YS={toasts:[]};function kv(e){YS=wlt(YS,e),GS.forEach(t=>{t(YS)})}function Slt({...e}){const t=blt(),r=s=>kv({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>kv({type:"DISMISS_TOAST",toastId:t});return kv({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function loe(){const[e,t]=b.useState(YS);return b.useEffect(()=>(GS.push(t),()=>{const r=GS.indexOf(t);r>-1&&GS.splice(r,1)}),[e]),{...e,toast:Slt,dismiss:r=>kv({type:"DISMISS_TOAST",toastId:r})}}const G3=()=>{const e=$t(),t=pe(x=>yve(x)),r=pe(x=>bve(x)),n=pe(x=>wve(x)),s=pe(x=>Sve(x)),i=pe(x=>Cve(x)),o=pe(x=>jve(x)),c=b.useCallback(async x=>{try{await e(V1(x)).unwrap()}catch(S){console.error("Failed to fetch service clients:",S)}},[e]),d=b.useCallback(async x=>{try{return(await e(W1(x)).unwrap()).token}catch(S){return console.error("Failed to create service client:",S),null}},[e]),u=b.useCallback(async(x,S)=>{try{return(await e(q1({clientId:x,data:S})).unwrap()).token}catch(m){return console.error("Failed to rotate service token:",m),null}},[e]),l=b.useCallback(async x=>{try{return await e(G1(x)).unwrap(),!0}catch(S){return console.error("Failed to toggle service status:",S),!1}},[e]),f=b.useCallback(x=>{e(gve(x))},[e]),p=b.useCallback(()=>{e(xve())},[e]),g=b.useCallback(()=>{e(vve())},[e]);return{clients:t,pagination:r,loading:n,errors:s,selectedClient:i,lastCreatedToken:o,fetchClients:c,createClient:d,rotateToken:u,toggleStatus:l,selectClient:f,clearErrors:p,clearLastCreatedToken:g}},Clt=({errors:e})=>!e.fetch&&!e.create&&!e.rotate&&!e.toggle?null:a.jsxs(at,{variant:"destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{children:e.fetch||e.create||e.rotate||e.toggle||"An error occurred"})]}),jlt=({loading:e,onRefresh:t,onCreateClick:r})=>a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[a.jsx(Ve,{className:"text-lg sm:text-xl text-card-foreground",children:"Service Clients"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:t,disabled:e,className:"flex items-center gap-2 bg-secondary text-secondary-foreground border-border hover:bg-secondary/80 disabled:opacity-60",children:[a.jsx(Tn,{className:`h-4 w-4 ${e?"animate-spin":""}`}),a.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]}),a.jsxs(X,{onClick:r,className:"flex items-center justify-center gap-2 text-sm bg-primary text-primary-foreground shadow-sm hover:bg-primary/90",children:[a.jsx(br,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden xs:inline",children:"Create Client"}),a.jsx("span",{className:"xs:hidden",children:"Create"})]})]})]}),fW=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"}):"Never expires",Elt=({client:e,loading:t,onToggleStatus:r,onRotateToken:n})=>a.jsxs(_t,{className:"border-border bg-card hover:bg-muted/50",children:[a.jsx(ke,{className:"font-medium text-xs sm:text-sm p-2 sm:p-4 text-foreground",children:a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"text-xs sm:text-sm font-medium truncate text-foreground",title:e.name,children:e.name}),e.notes&&a.jsx("div",{className:"text-xs mt-1 truncate text-muted-foreground",title:e.notes,children:e.notes}),a.jsxs("div",{className:"sm:hidden mt-1 space-y-1",children:[a.jsx(Ze,{variant:e.is_active?"default":"secondary",className:"text-xs px-1 py-0.5",children:e.is_active?"Active":"Inactive"}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Expires: ",fW(e.expires_at)]})]})]})}),a.jsx(ke,{className:"p-2 sm:p-4 hidden sm:table-cell",children:a.jsx(Ze,{variant:e.is_active?"default":"secondary",className:"text-xs px-2 py-1",children:e.is_active?"Active":"Inactive"})}),a.jsx(ke,{className:"p-2 sm:p-4 hidden md:table-cell text-xs sm:text-sm text-foreground",children:fW(e.expires_at)}),a.jsx(ke,{className:"text-right p-2 sm:p-4",children:a.jsxs("div",{className:"flex items-center justify-end gap-1 sm:gap-2",children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:()=>n(e),disabled:t.rotating,className:"text-xs px-2 sm:px-3 bg-secondary text-secondary-foreground border-border hover:bg-secondary/80",children:[a.jsx(lke,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"Rotate"})]}),a.jsxs(X,{variant:e.is_active?"destructive":"default",size:"sm",onClick:()=>r(e),disabled:t.toggling,className:"text-xs px-2 sm:px-3",children:[a.jsx(ake,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:e.is_active?"Deactivate":"Activate"}),a.jsx("span",{className:"sm:hidden",children:e.is_active?"Off":"On"})]})]})})]},e.id),Nlt=({clients:e,loading:t,onToggleStatus:r,onRotateToken:n})=>t.fetching?a.jsx("div",{className:"flex items-center justify-center h-48 sm:h-64 bg-card",children:a.jsx(xu,{message:"Loading service clients...",size:"medium",className:"h-48 sm:h-64 bg-card text-muted-foreground"})}):e.length?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(rn,{className:"min-w-full",children:[a.jsx(nn,{className:"bg-muted border-b border-border",children:a.jsxs(_t,{className:"border-border",children:[a.jsx(Re,{className:"min-w-[8rem] text-xs sm:text-sm text-foreground font-semibold",children:"Name"}),a.jsx(Re,{className:"min-w-[4rem] text-xs sm:text-sm hidden sm:table-cell text-foreground font-semibold",children:"Status"}),a.jsx(Re,{className:"min-w-[6rem] text-xs sm:text-sm hidden md:table-cell text-foreground font-semibold",children:"Expires"}),a.jsx(Re,{className:"min-w-[6rem] text-xs sm:text-sm text-right text-foreground font-semibold",children:"Actions"})]})}),a.jsx(sn,{children:e.map(s=>a.jsx(Elt,{client:s,loading:t,onToggleStatus:r,onRotateToken:n},s.id))})]})}):a.jsx("div",{className:"text-center py-6 sm:py-8 bg-card",children:a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No service clients found."})}),_lt=({pagination:e,perPage:t,perPageOptions:r,loading:n,onPerPageChange:s,onPageChange:i})=>a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Show"}),a.jsxs(Wt,{value:t.toString(),onValueChange:s,disabled:n,children:[a.jsx(zt,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:a.jsx(qt,{})}),a.jsx(Ut,{className:"bg-popover border-border",children:r.map(o=>a.jsx(pt,{value:o.toString(),children:o},o))})]}),a.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"per page"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(X,{variant:"outline",size:"sm",onClick:()=>i(e.current_page-1),disabled:n||e.current_page<=1,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Prev"}),a.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground",children:["Page ",e.current_page," of ",e.last_page]}),a.jsx(X,{variant:"outline",size:"sm",onClick:()=>i(e.current_page+1),disabled:n||e.current_page>=e.last_page,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Next"})]}),a.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground",children:[a.jsxs("span",{className:"hidden sm:inline",children:[e.from," to ",e.to," of ",e.total," ","clients"]}),a.jsxs("span",{className:"sm:hidden",children:[e.from,"-",e.to," of ",e.total]})]})]}),wo=b.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:J("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));wo.displayName="Textarea";var XN="Switch",[Alt,Ixt]=Yn(XN),[klt,Tlt]=Alt(XN),coe=b.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:c,value:d="on",onCheckedChange:u,form:l,...f}=e,[p,g]=b.useState(null),x=vt(t,C=>g(C)),S=b.useRef(!1),m=p?l||!!p.closest("form"):!0,[y,w]=qi({prop:s,defaultProp:i??!1,onChange:u,caller:XN});return a.jsxs(klt,{scope:r,checked:y,disabled:c,children:[a.jsx(Je.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":hoe(y),"data-disabled":c?"":void 0,disabled:c,value:d,...f,ref:x,onClick:At(e.onClick,C=>{w(E=>!E),m&&(S.current=C.isPropagationStopped(),S.current||C.stopPropagation())})}),m&&a.jsx(foe,{control:p,bubbles:!S.current,name:n,value:d,checked:y,required:o,disabled:c,form:l,style:{transform:"translateX(-100%)"}})]})});coe.displayName=XN;var doe="SwitchThumb",uoe=b.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=Tlt(doe,r);return a.jsx(Je.span,{"data-state":hoe(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});uoe.displayName=doe;var Plt="SwitchBubbleInput",foe=b.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const o=b.useRef(null),c=vt(o,i),d=zN(r),u=F0(t);return b.useEffect(()=>{const l=o.current;if(!l)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==r&&g){const x=new Event("click",{bubbles:n});g.call(l,r),l.dispatchEvent(x)}},[d,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:c,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});foe.displayName=Plt;function hoe(e){return e?"checked":"unchecked"}var moe=coe,Dlt=uoe;const Ss=b.forwardRef(({className:e,...t},r)=>a.jsx(moe,{className:J("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:a.jsx(Dlt,{className:J("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ss.displayName=moe.displayName;const $P={name:"",is_active:!0,expires_at:"",notes:""},Hw=500,Rlt=7,Mlt=({open:e,onOpenChange:t,onSuccess:r})=>{const{createClient:n,loading:s}=G3(),[i,o]=b.useState($P),[c,d]=b.useState({}),[u,l]=b.useState(null),f=b.useMemo(()=>{const N={};return i.name.trim()?i.name.trim().length<2&&(N.name="Name must be at least 2 characters long"):N.name="Name is required",i.expires_at&&new Date(i.expires_at)<=new Date&&(N.expires_at="Expiration date must be in the future"),i.notes&&i.notes.length>Hw&&(N.notes=`Notes must be ${Hw} characters or less`),N},[i]);b.useEffect(()=>{d(f)},[f]);const p=b.useCallback(()=>Object.keys(f).length===0,[f]),g=b.useCallback(N=>{const k=N.target.value;o(A=>({...A,name:k}))},[]),x=b.useCallback(N=>{o(k=>({...k,is_active:N}))},[]),S=b.useCallback(N=>{const k=N.target.value;o(A=>({...A,expires_at:k}))},[]),m=b.useCallback(N=>{const k=N.target.value;o(A=>({...A,notes:k}))},[]),y=b.useCallback(()=>{o($P),d({}),l(null),t(!1)},[t]),w=async N=>{if(N.preventDefault(),l(null),!!p()){if(i.expires_at){const k=new Date(i.expires_at),A=Math.ceil((k.getTime()-Date.now())/(1e3*60*60*24));if(A<=Rlt){const T=A===1?"This token will expire tomorrow. Continue?":`This token will expire in ${A} days. Continue?`;if(!window.confirm(T))return}}try{const k=await n({...i,name:i.name.trim(),expires_at:i.expires_at||null});k&&(o($P),d({}),l(null),t(!1),r?.(k))}catch(k){console.error("Failed to create service client:",k),l("Failed to create service client. Please try again.")}}},C=Hw-i.notes.length,E=s.creating;return a.jsx(An,{open:e,onOpenChange:t,children:a.jsxs(hn,{className:"sm:max-w-[425px] mx-2 sm:mx-0 max-h-[90vh] overflow-y-auto",children:[a.jsxs(mn,{children:[a.jsx(pn,{className:"text-lg sm:text-xl",children:"Create Service Client"}),a.jsx(In,{className:"text-sm sm:text-base",children:"Create a new API service client with authentication token"})]}),u&&a.jsx(at,{variant:"destructive",children:a.jsx(it,{children:u})}),a.jsxs("form",{onSubmit:w,className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{children:[a.jsxs($e,{htmlFor:"name",className:"text-sm sm:text-base",children:["Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(et,{id:"name",value:i.name,onChange:g,placeholder:"Enter service client name",className:`mt-1 ${c.name?"border-red-500 focus:border-red-500":""}`,"aria-describedby":c.name?"name-error":void 0}),c.name&&a.jsx("p",{id:"name-error",className:"text-red-500 text-xs mt-1",children:c.name})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ss,{id:"is_active",checked:i.is_active,onCheckedChange:x}),a.jsx($e,{htmlFor:"is_active",className:"text-sm sm:text-base",children:"Active"})]}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"expires_at",className:"text-sm sm:text-base",children:"Expires At (Optional)"}),a.jsx(et,{id:"expires_at",type:"date",value:i.expires_at,onChange:S,className:`mt-1 ${c.expires_at?"border-red-500 focus:border-red-500":""}`,"aria-describedby":c.expires_at?"expires-error":void 0}),c.expires_at&&a.jsx("p",{id:"expires-error",className:"text-red-500 text-xs mt-1",children:c.expires_at})]}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"notes",className:"text-sm sm:text-base",children:"Notes"}),a.jsx(wo,{id:"notes",value:i.notes,onChange:m,placeholder:"Enter notes about this service client",rows:3,className:`mt-1 resize-none ${c.notes?"border-red-500 focus:border-red-500":""}`,maxLength:Hw,"aria-describedby":c.notes?"notes-error":"notes-count"}),a.jsxs("div",{className:"flex justify-between items-center mt-1",children:[c.notes?a.jsx("p",{id:"notes-error",className:"text-red-500 text-xs",children:c.notes}):a.jsx("span",{}),a.jsxs("span",{id:"notes-count",className:`text-xs ${C<50?"text-orange-500":"text-gray-500"}`,children:[C," characters remaining"]})]})]}),a.jsxs(kn,{className:"flex flex-col sm:flex-row gap-2 sm:gap-0",children:[a.jsx(X,{type:"button",variant:"outline",onClick:y,className:"w-full sm:w-auto order-2 sm:order-1",disabled:s.creating,children:"Cancel"}),a.jsx(X,{type:"submit",disabled:E,className:"w-full sm:w-auto order-1 sm:order-2",children:s.creating?"Creating...":"Create Client"})]})]})]})})},Olt=({open:e,onOpenChange:t,serviceClient:r,onSuccess:n})=>{const{rotateToken:s,loading:i}=G3(),[o,c]=b.useState(null),{register:d,handleSubmit:u,reset:l,formState:{errors:f,isSubmitting:p}}=fa({defaultValues:{expires_at:""}}),g=p||i.rotating,x=async y=>{if(r){c(null);try{const w=await s(r.id,{expires_at:y.expires_at||void 0});w&&(l(),t(!1),n?.(w))}catch(w){console.error("Failed to rotate token:",w),c("Failed to rotate token. Please try again.")}}},S=y=>{if(!y)return!0;const w=new Date(y);if(isNaN(w.getTime()))return"Please enter a valid date";const C=new Date;return C.setHours(0,0,0,0),w<=C?"Expiration date must be in the future":!0},m=b.useCallback(y=>{y||l(),c(null),t(y)},[l,t]);return r?a.jsx(An,{open:e,onOpenChange:m,children:a.jsxs(hn,{className:"sm:max-w-[425px] mx-2 sm:mx-0 max-h-[90vh] overflow-y-auto",children:[a.jsxs(mn,{children:[a.jsx(pn,{className:"text-lg sm:text-xl",children:"Rotate Service Token"}),a.jsxs(In,{className:"text-sm sm:text-base",children:['Generate a new token for "',r.name,'". The old token will be invalidated.']})]}),a.jsxs("form",{onSubmit:u(x),className:"space-y-3 sm:space-y-4",children:[o&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:a.jsx("p",{className:"text-sm text-red-600",role:"alert",children:o})}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"expires_at",className:"text-sm sm:text-base",children:"New Expiration Date (Optional)"}),a.jsx(et,{id:"expires_at",type:"date",...d("expires_at",{validate:S}),className:"mt-1","aria-invalid":f.expires_at?"true":"false",disabled:g}),f.expires_at&&a.jsx("p",{className:"text-sm text-red-600 mt-1",role:"alert",children:f.expires_at.message})]}),a.jsxs(kn,{className:"flex flex-col sm:flex-row gap-2 sm:gap-0",children:[a.jsx(X,{type:"button",variant:"outline",onClick:()=>m(!1),className:"w-full sm:w-auto order-2 sm:order-1",disabled:g,children:"Cancel"}),a.jsx(X,{type:"submit",disabled:g,className:"w-full sm:w-auto order-1 sm:order-2",children:g?"Rotating...":"Rotate Token"})]})]})]})}):null},Ilt=({open:e,onOpenChange:t,token:r,onClose:n,autoClearTimeout:s=3e5})=>{const{toast:i}=loe(),[o,c]=b.useState(!1),[d,u]=b.useState(!1),[l,f]=b.useState(r);b.useEffect(()=>{if(!e||!l)return;const w=setTimeout(()=>{f(""),i({title:"Security Notice",description:"Token has been cleared from memory for security.",variant:"destructive"})},s);return()=>clearTimeout(w)},[e,l,s,i]);const p=b.useCallback(async w=>{if(!w){i({title:"Error",description:"No token available to copy.",variant:"destructive"});return}try{await navigator.clipboard.writeText(w),u(!0),i({title:"Success",description:"Token copied to clipboard!"})}catch{const E=document.createElement("textarea");E.value=w,E.style.position="fixed",E.style.left="-999999px",E.style.top="-999999px",document.body.appendChild(E),E.focus(),E.select();try{document.execCommand("copy"),u(!0),i({title:"Success",description:"Token copied to clipboard!"})}catch{i({title:"Error",description:"Failed to copy token. Please copy manually.",variant:"destructive"})}finally{document.body.removeChild(E)}}},[i]),g=b.useCallback(()=>{if(!l){i({title:"Error",description:"Token is no longer available for viewing.",variant:"destructive"});return}c(!o),u(!0)},[l,o,i]),x=b.useCallback(()=>{d&&(c(!1),u(!1),f(r),t(!1),n?.())},[d,t,n,r]),S=b.useCallback(w=>{!w&&!d||w||x()},[d,x]),m=b.useCallback(w=>{d||w.preventDefault()},[d]),y=b.useCallback(w=>{d||w.preventDefault()},[d]);return b.useEffect(()=>{e&&!l&&f(r)},[e,r,l]),a.jsx(An,{open:e,onOpenChange:S,children:a.jsxs(hn,{className:"sm:max-w-[500px]",onPointerDownOutside:m,onEscapeKeyDown:y,"aria-describedby":"token-warning",children:[a.jsxs(mn,{children:[a.jsx(pn,{children:"Service Client Token"}),a.jsx(In,{children:"Save this token securely. You won't be able to see it again."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx($e,{htmlFor:"token-input",children:"Token"}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(et,{id:"token-input",type:o?"text":"password",value:l,readOnly:!0,className:"font-mono text-sm","aria-describedby":"token-warning"}),a.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:g,disabled:!l,"aria-label":o?"Hide token":"Show token",children:o?a.jsx(lp,{className:"h-4 w-4"}):a.jsx(Cs,{className:"h-4 w-4"})}),a.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:()=>p(l),disabled:!l,"aria-label":"Copy token to clipboard",children:a.jsx(CAe,{className:"h-4 w-4"})})]})]}),a.jsx("div",{id:"token-warning",className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3",role:"alert","aria-live":"polite",children:a.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[a.jsx("strong",{children:"Important:"})," Store this token securely. You won't be able to retrieve it again.",!l&&a.jsx("span",{className:"block mt-1 font-medium text-red-600 dark:text-red-400",children:"Token has been cleared from memory for security."}),l&&!d&&a.jsx("span",{className:"block mt-1 font-medium",children:"Please view or copy the token before closing this dialog."})]})})]}),a.jsxs(kn,{children:[a.jsx(X,{onClick:x,disabled:!d,variant:d?"default":"secondary","aria-describedby":d?void 0:"interaction-required",children:"I've Saved the Token"}),!d&&a.jsx("span",{id:"interaction-required",className:"sr-only","aria-live":"polite",children:"You must view or copy the token before you can close this dialog"})]})]})})},Llt=({createDialogOpen:e,rotateDialogOpen:t,tokenDialogOpen:r,selectedClient:n,currentToken:s,onCreateDialogChange:i,onRotateDialogChange:o,onTokenDialogChange:c,onCreateSuccess:d,onRotateSuccess:u,onCloseTokenDialog:l})=>a.jsxs(a.Fragment,{children:[a.jsx(Mlt,{open:e,onOpenChange:i,onSuccess:d}),a.jsx(Olt,{open:t,onOpenChange:o,serviceClient:n,onSuccess:u}),a.jsx(Ilt,{open:r,onOpenChange:c,token:s,onClose:l})]}),Blt=({onCreateSuccess:e})=>{const{clients:t,loading:r,errors:n,pagination:s,toggleStatus:i,fetchClients:o}=G3(),{toast:c}=loe(),[d,u]=b.useState(!1),[l,f]=b.useState(1),[p,g]=b.useState(10),[x,S]=b.useState(!1),[m,y]=b.useState(!1),[w,C]=b.useState(null),[E,N]=b.useState(""),k=[5,10,15,20,25,50],A=async F=>{await i(F.id)},T=F=>{u(!1),N(F),y(!0),c({title:"Success",description:"Service client created successfully!"}),o({per_page:p,page:l}),e&&e(F)},P=F=>{N(F),y(!0),C(null),c({title:"Success",description:"Service token rotated successfully!"})},M=F=>{C(F),S(!0)},O=()=>{y(!1),N("")};b.useEffect(()=>{o({per_page:p,page:l})},[l,p,o]);const R=F=>{f(F)},L=F=>{const $=Number(F);g($),f(1)},B=()=>{o({per_page:p,page:l})};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[a.jsx(Clt,{errors:n}),a.jsxs(Se,{className:"rounded-sm bg-card border border-border shadow-sm",children:[a.jsx(Me,{className:"mb-0 bg-muted border-b border-border",children:a.jsx(jlt,{loading:r.fetching,onRefresh:B,onCreateClick:()=>u(!0)})}),a.jsx(Ee,{className:"p-0 bg-card",children:a.jsx(Nlt,{clients:t,loading:r,onToggleStatus:A,onRotateToken:M})}),s&&s.last_page>0&&a.jsx(GM,{className:"bg-card border-t border-border flex flex-col sm:flex-row items-center justify-between gap-4 px-4 py-3",children:a.jsx(_lt,{pagination:s,perPage:p,perPageOptions:k,loading:r.fetching,onPerPageChange:L,onPageChange:R})})]})]}),a.jsx(Llt,{createDialogOpen:d,rotateDialogOpen:x,tokenDialogOpen:m,selectedClient:w,currentToken:E,onCreateDialogChange:u,onRotateDialogChange:S,onTokenDialogChange:y,onCreateSuccess:T,onRotateSuccess:P,onCloseTokenDialog:O})]})},$lt=()=>a.jsx(Qt,{title:"Service Client Management",subtitle:"Manage API service clients and their authentication tokens",children:a.jsx(Blt,{onRotateToken:()=>{},onCreateSuccess:()=>{}})}),Flt=[a.jsx(Dt,{path:"/service-client-management",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx($lt,{})})})})},"service-client-management")];function Hlt(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Array(12).fill(0);let iM=1;class zlt{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...s}=t,i=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:iM++,o=this.toasts.find(d=>d.id===i),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...t,id:i,title:n}),{...d,...t,id:i,dismissible:c,title:n}):d):this.addToast({title:n,...s,dismissible:c,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,o;const c=s.then(async u=>{if(o=["resolve",u],ve.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(Vlt(u)&&!u.ok){i=!1;const f=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,p=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,x=typeof f=="object"&&!ve.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:p,...x})}else if(u instanceof Error){i=!1;const f=typeof r.error=="function"?await r.error(u):r.error,p=typeof r.description=="function"?await r.description(u):r.description,x=typeof f=="object"&&!ve.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:p,...x})}else if(r.success!==void 0){i=!1;const f=typeof r.success=="function"?await r.success(u):r.success,p=typeof r.description=="function"?await r.description(u):r.description,x=typeof f=="object"&&!ve.isValidElement(f)?f:{message:f};this.create({id:n,type:"success",description:p,...x})}}).catch(async u=>{if(o=["reject",u],r.error!==void 0){i=!1;const l=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description,g=typeof l=="object"&&!ve.isValidElement(l)?l:{message:l};this.create({id:n,type:"error",description:f,...g})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((u,l)=>c.then(()=>o[0]==="reject"?l(o[1]):u(o[1])).catch(l));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(t,r)=>{const n=r?.id||iM++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Oi=new zlt,Ult=(e,t)=>{const r=t?.id||iM++;return Oi.addToast({title:e,...t,id:r}),r},Vlt=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Wlt=Ult,qlt=()=>Oi.toasts,Glt=()=>Oi.getActiveToasts(),Ye=Object.assign(Wlt,{success:Oi.success,info:Oi.info,warning:Oi.warning,error:Oi.error,custom:Oi.custom,message:Oi.message,promise:Oi.promise,dismiss:Oi.dismiss,loading:Oi.loading},{getHistory:qlt,getToasts:Glt});Hlt("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const Y3=(e={})=>{const{autoFetch:t=!0,showToasts:r=!0,debounceMs:n=300}=e,s=$t(),i=pe(sa.selectRules),o=pe(sa.selectPagination),c=pe(sa.selectTestResult),d=pe(sa.selectFilters),u=pe(sa.selectTogglingStates),l={fetching:pe(sa.selectIsFetching),creating:pe(sa.selectIsCreating),testing:pe(sa.selectIsTesting),isToggling:b.useCallback(M=>u[M]||!1,[u])},f=pe(sa.selectError),p=pe(sa.selectSuccessMessage),g=pe(sa.selectHasRules),x=pe(sa.selectTotalRules),S=pe(sa.selectActiveRules),m=pe(sa.selectInactiveRules);b.useEffect(()=>{if(f&&r){Ye.error(_F(f),{description:f.type==="validation"?"Please fix the highlighted errors and try again.":f.details,duration:5e3,action:f.type==="unauthorized"?{label:"Login",onClick:()=>{window.location.href="/login"}}:void 0});const M=setTimeout(()=>{s(AF())},100);return()=>clearTimeout(M)}},[f,r,s]),b.useEffect(()=>{if(p&&r){Ye.success(p,{duration:3e3});const M=setTimeout(()=>{s(kF())},100);return()=>clearTimeout(M)}},[p,r,s]),b.useEffect(()=>{t&&!l.fetching&&i.length===0&&s(Kl({service:d.service,search:d.search,page:d.currentPage,per_page:d.perPage}))},[t,s,d]);const y=b.useCallback(async M=>{const O=M||{service:d.service,search:d.search,page:d.currentPage,per_page:d.perPage};await s(Kl(O)).unwrap()},[s,d]),w=b.useCallback(async()=>{await y()},[y]),C=b.useCallback(async M=>{const O=r?Ye.loading("Creating authorization rule..."):null;try{return await s(H1(M)).unwrap(),O&&Ye.dismiss(O),!0}catch(R){return O&&Ye.dismiss(O),console.error("Failed to create auth rule:",R),!1}},[s,r]),E=b.useCallback(async M=>{const O=r?Ye.loading("Testing path pattern..."):null;try{return await s(z1(M)).unwrap(),O&&Ye.dismiss(O),!0}catch(R){return O&&Ye.dismiss(O),console.error("Failed to test auth rule:",R),!1}},[s,r]),N=b.useCallback(async M=>{try{return await s(gv(M)).unwrap(),!0}catch(O){return console.error("Failed to toggle rule status:",O),!1}},[s]),k=b.useCallback(async M=>{const O=r?Ye.loading(`Updating ${M.length} rule${M.length>1?"s":""}...`):null;try{return await s(U1(M)).unwrap(),O&&Ye.dismiss(O),!0}catch(R){return O&&Ye.dismiss(O),console.error("Failed to batch toggle rules:",R),!1}},[s,r]),A=b.useCallback(M=>{if(s(Wxe(M)),M.currentPage!==void 0){s(Kl({service:M.service??d.service,search:M.search??d.search,page:M.currentPage,per_page:M.perPage??d.perPage}));return}if(M.perPage!==void 0){s(Kl({service:M.service??d.service,search:M.search??d.search,page:1,per_page:M.perPage}));return}if(M.search!==void 0||M.service!==void 0){const O=setTimeout(()=>{s(Kl({service:M.service??d.service,search:M.search??d.search,page:1,per_page:d.perPage}))},n);return()=>clearTimeout(O)}},[s,d,n]),T=b.useCallback(M=>{const O=[];M.service.trim()||O.push({field:"service",messages:["Service is required"]}),M.method||O.push({field:"method",messages:["HTTP method is required"]}),M.pathType==="dsl"&&!M.path_dsl?.trim()&&O.push({field:"path_dsl",messages:["Path DSL is required when using DSL type"]}),M.pathType==="route"&&!M.route_name?.trim()&&O.push({field:"route_name",messages:["Route name is required when using route type"]});const R=M.roles.length>0,L=M.permissions_any.length>0,B=M.permissions_all.length>0;return!R&&!L&&!B&&O.push({field:"authorization",messages:["At least one role, permissions_any, or permissions_all is required"]}),(M.priority<1||M.priority>1e3)&&O.push({field:"priority",messages:["Priority must be between 1 and 1000"]}),O},[]),P=b.useCallback(M=>i.filter(O=>O.service===M),[i]);return b.useMemo(()=>({rules:i,pagination:o,testResult:c,filters:d,loading:l,error:f,successMessage:p,actions:{fetchRules:y,refreshRules:w,createRule:C,testRule:E,toggleRuleStatus:N,batchToggleRules:k,clearError:()=>s(AF()),clearSuccessMessage:()=>s(kF()),clearTestResult:()=>s(Vxe()),updateFilters:A,resetFilters:()=>s(qxe()),resetState:()=>s(Gxe())},helpers:{getDisplayErrorMessage:()=>_F(f),getValidationErrors:M=>Uxe(f,M),isValidationError:()=>Ik(f,"validation"),isUnauthorizedError:()=>Ik(f,"unauthorized"),isNetworkError:()=>Ik(f,"network_error"),hasRules:g,totalRules:x,activeRulesCount:S.length,inactiveRulesCount:m.length,validateRuleForm:T,getActiveRules:()=>S,getInactiveRules:()=>m,getRulesByService:P}}),[i,o,c,d,l,f,p,y,w,C,E,N,k,A,g,x,S,m,T,P,s])},poe=()=>{const{actions:e,helpers:t,loading:r,error:n}=Y3({showToasts:!1});return{createRule:e.createRule,testRule:e.testRule,clearTestResult:e.clearTestResult,validateForm:t.validateRuleForm,getValidationErrors:t.getValidationErrors,isValidationError:t.isValidationError,testResult:pe(sa.selectTestResult),isCreating:r.creating,isTesting:r.testing,error:n}},Ylt=({loading:e,onRefresh:t})=>{const r=Ot(),n=()=>{r("/auth-rules/create")};return a.jsx(Me,{className:"mb-0 bg-muted border-b border-border",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[a.jsx(Ve,{className:"text-lg sm:text-xl text-card-foreground",children:"Authorization Rules"}),a.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4 w-full sm:w-auto",children:a.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:t,disabled:e,className:`flex items-center gap-2 text-secondary-foreground border-border ${e?"bg-muted opacity-60":"bg-secondary"}`,children:[a.jsx(Tn,{className:`h-4 w-4 ${e?"animate-spin":""}`}),a.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]}),a.jsxs(X,{onClick:n,className:"flex items-center justify-center gap-2 text-sm bg-primary text-primary-foreground shadow-[var(--shadow-sm)]",children:[a.jsx(br,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden xs:inline",children:"Create Rule"}),a.jsx("span",{className:"xs:hidden",children:"Create"})]})]})})]})})},Klt=({isActive:e,showIcon:t=!0,variant:r="default"})=>r==="compact"?a.jsx(Ze,{variant:e?"default":"secondary",className:"text-xs sm:text-sm px-1.5 py-0.5 sm:px-2 sm:py-1",style:{backgroundColor:e?"var(--chart-2)":"var(--muted)",color:e?"var(--primary-foreground)":"var(--muted-foreground)",borderColor:e?"var(--chart-2)":"var(--border)",fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},children:e?"Active":"Inactive"}):a.jsxs(Ze,{variant:e?"default":"secondary",className:"flex items-center gap-0.5 sm:gap-1 text-xs sm:text-sm px-1.5 py-0.5 sm:px-2 sm:py-1",style:{backgroundColor:e?"var(--chart-2)":"var(--muted)",color:e?"var(--primary-foreground)":"var(--muted-foreground)",borderColor:e?"var(--chart-2)":"var(--border)",fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},children:[t&&(e?a.jsx(Pa,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3",style:{color:"var(--primary-foreground)",minWidth:"0.625rem",minHeight:"0.625rem"}}):a.jsx(zM,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3",style:{color:"var(--muted-foreground)",minWidth:"0.625rem",minHeight:"0.625rem"}})),a.jsx("span",{className:"whitespace-nowrap",children:e?"Active":"Inactive"})]}),KS=ve.memo(({items:e,label:t,variant:r,maxDisplay:n=2})=>{if(!e||e.length===0)return null;const s=i=>{switch(i){case"secondary":return"bg-secondary text-secondary-foreground";case"outline":return"bg-accent text-accent-foreground border-border";case"default":return"bg-primary text-primary-foreground";default:return"bg-secondary text-secondary-foreground"}};return a.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.jsxs("span",{className:"text-xs whitespace-nowrap text-muted-foreground",children:[t,":"]}),e.slice(0,n).map((i,o)=>a.jsx(Ze,{variant:r,className:`text-xs px-1 py-0.5 ${s(r)}`,children:a.jsx("span",{className:"truncate max-w-[3rem]",title:i,children:i})},o)),e.length>n&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.length-n]})]})});KS.displayName="AuthorizationBadges";const goe=ve.memo(({rule:e,onToggleStatus:t,isToggling:r})=>a.jsxs(_t,{className:"border-border bg-card hover:bg-muted/50",children:[a.jsx(ke,{className:"font-medium text-xs sm:text-sm p-2 sm:p-4 text-foreground",children:a.jsx("div",{className:"truncate max-w-[4rem] sm:max-w-none",title:e.service,children:e.service})}),a.jsx(ke,{className:"p-2 sm:p-4",children:a.jsx(Ze,{variant:"outline",className:"text-xs px-1 py-0.5 sm:px-2 sm:py-1 bg-secondary text-secondary-foreground border-border",children:e.method})}),a.jsx(ke,{className:"p-2 sm:p-4",children:a.jsx("div",{className:"max-w-[6rem] sm:max-w-xs",children:e.path_dsl?a.jsxs("div",{children:[a.jsx("div",{className:"text-xs sm:text-sm font-mono px-1 py-0.5 sm:px-2 sm:py-1 rounded truncate bg-muted text-foreground border border-border",title:e.path_dsl,children:e.path_dsl}),a.jsx("div",{className:"text-xs mt-1 hidden sm:block text-muted-foreground",children:"DSL Pattern"})]}):a.jsxs("div",{children:[a.jsx("div",{className:"text-xs sm:text-sm truncate text-foreground",title:e.route_name||void 0,children:e.route_name}),a.jsx("div",{className:"text-xs hidden sm:block text-muted-foreground",children:"Named Route"})]})})}),a.jsx(ke,{className:"p-2 sm:p-4 hidden sm:table-cell",children:a.jsxs("div",{className:"space-y-1 max-w-[8rem] lg:max-w-none",children:[a.jsx(KS,{items:e.roles_any,label:"Roles",variant:"secondary"}),a.jsx(KS,{items:e.permissions_any,label:"Perms",variant:"outline"}),a.jsx(KS,{items:e.permissions_all,label:"All",variant:"default"})]})}),a.jsx(ke,{className:"p-2 sm:p-4",children:a.jsx(Klt,{isActive:e.is_active})}),a.jsx(ke,{className:"text-right p-2 sm:p-4",children:a.jsx("div",{className:"flex justify-end",children:a.jsx(Ss,{checked:e.is_active,onCheckedChange:t(e.id),disabled:r(e.id),className:"scale-75 sm:scale-100",style:{"--switch-thumb":"var(--primary-foreground)","--switch-track-checked":"var(--primary)","--switch-track-unchecked":"var(--input)"}})})})]}));goe.displayName="AuthRuleRow";const Zlt=({rules:e,loading:t,onToggleStatus:r,isToggling:n})=>a.jsx(Ee,{className:"p-0 bg-card",children:t?a.jsx("div",{className:"flex items-center justify-center h-48 sm:h-64 bg-card",children:a.jsx(xu,{message:"Loading rules...",size:"medium",className:"h-48 sm:h-64 bg-card text-muted-foreground"})}):e.length?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(rn,{className:"min-w-full",children:[a.jsx(nn,{className:"bg-muted border-b border-border",children:a.jsxs(_t,{className:"border-border",children:[a.jsx(Re,{className:"min-w-[5rem] text-xs sm:text-sm text-foreground font-semibold",children:"Service"}),a.jsx(Re,{className:"min-w-[4rem] text-xs sm:text-sm text-foreground font-semibold",children:"Method"}),a.jsx(Re,{className:"min-w-[8rem] text-xs sm:text-sm text-foreground font-semibold",children:"Path/Route"}),a.jsx(Re,{className:"min-w-[10rem] text-xs sm:text-sm hidden sm:table-cell text-foreground font-semibold",children:"Authorization"}),a.jsx(Re,{className:"min-w-[4rem] text-foreground font-semibold text-xs sm:text-sm",children:"Status"}),a.jsx(Re,{className:"min-w-[5rem] text-right text-xs sm:text-sm text-foreground font-semibold",children:"Active"})]})}),a.jsx(sn,{children:e.map(s=>a.jsx(goe,{rule:s,onToggleStatus:r,isToggling:n},s.id))})]})}):a.jsx("div",{className:"text-center py-6 sm:py-8 bg-card",children:a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No authorization rules found."})})}),Xlt=({pagination:e,filters:t,loading:r,totalRules:n,onUpdateFilters:s})=>{const i=c=>{s({currentPage:c})},o=c=>{s({perPage:c,currentPage:1})};return a.jsx(GM,{className:"pt-4 sm:pt-5 lg:pt-6 bg-card border-t border-border",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 w-full",children:[a.jsxs("div",{className:"flex items-center gap-2 order-2 sm:order-1",children:[a.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground whitespace-nowrap",children:"Show:"}),a.jsxs("select",{value:t.perPage,onChange:c=>o(Number(c.target.value)),disabled:r,className:`text-xs sm:text-sm px-2 py-1 border rounded focus:outline-none focus:ring-2 focus:ring-primary text-foreground border-border ${r?"bg-muted opacity-60":"bg-background"}`,children:[a.jsx("option",{value:5,children:"5"}),a.jsx("option",{value:10,children:"10"}),a.jsx("option",{value:15,children:"15"}),a.jsx("option",{value:25,children:"25"}),a.jsx("option",{value:50,children:"50"}),a.jsx("option",{value:100,children:"100"})]}),a.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground whitespace-nowrap",children:[a.jsx("span",{className:"hidden sm:inline",children:"per page"}),a.jsx("span",{className:"sm:hidden",children:"/page"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[a.jsxs(X,{variant:"outline",size:"sm",disabled:!e||e.current_page<=1||r,onClick:()=>i((e?.current_page||1)-1),className:`text-secondary-foreground border-border ${!e||e.current_page<=1||r?"bg-muted opacity-50":"bg-secondary"}`,children:[a.jsx("span",{className:"hidden xs:inline",children:"Previous"}),a.jsx("span",{className:"xs:hidden",children:"Prev"})]}),a.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground whitespace-nowrap px-2",children:e?a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"hidden sm:inline",children:["Page ",e.current_page," of ",e.last_page]}),a.jsxs("span",{className:"sm:hidden",children:[e.current_page,"/",e.last_page]})]}):a.jsx("span",{className:"hidden sm:inline",children:"Page 1 of 1"})}),a.jsxs(X,{variant:"outline",size:"sm",disabled:!e||e.current_page>=e.last_page||r,onClick:()=>i((e?.current_page||1)+1),className:`text-secondary-foreground border-border ${!e||e.current_page>=e.last_page||r?"bg-muted opacity-50":"bg-secondary"}`,children:[a.jsx("span",{className:"hidden xs:inline",children:"Next"}),a.jsx("span",{className:"xs:hidden",children:"Next"})]})]}),a.jsx("div",{className:"flex items-center order-3",children:a.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground whitespace-nowrap",children:e?a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"hidden sm:inline",children:["Showing ",e.from,"-",e.to," of"," ",e.total," rules"]}),a.jsxs("span",{className:"sm:hidden",children:[e.from,"-",e.to," of ",e.total]})]}):a.jsxs("span",{className:"hidden sm:inline",children:["Showing ",n," ",n===1?"rule":"rules"]})})})]})})},Qlt=()=>{const{rules:e,loading:t,error:r,pagination:n,filters:s,helpers:i,actions:o}=Y3(),c=b.useCallback(d=>()=>o.toggleRuleStatus(d),[o.toggleRuleStatus]);return a.jsxs("div",{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[r&&a.jsxs(at,{variant:"destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{children:i.getDisplayErrorMessage()})]}),a.jsxs(Se,{className:"rounded-sm bg-card border border-border shadow-[var(--shadow-realistic)]",children:[a.jsx(Ylt,{loading:t.fetching,onRefresh:o.refreshRules}),a.jsx(Zlt,{rules:e,loading:t.fetching,onToggleStatus:c,isToggling:t.isToggling}),n&&a.jsx(Xlt,{pagination:n,filters:s,loading:t.fetching,totalRules:i.totalRules,onUpdateFilters:o.updateFilters})]})]})},xoe=({pathDsl:e="",onClose:t})=>{const{testRule:r,testResult:n,isTesting:s,clearTestResult:i}=poe(),[o,c]=b.useState(e),[d,u]=b.useState(""),l=async()=>{!o.trim()||!d.trim()||await r({path_dsl:o.trim(),test_path:d.trim()})},f=()=>{i(),t()};return a.jsx(An,{open:!0,onOpenChange:f,children:a.jsxs(hn,{className:"w-[95vw] max-w-sm sm:max-w-md lg:max-w-lg max-h-[90vh] overflow-y-auto bg-card border border-border",style:{boxShadow:"var(--shadow-realistic)"},children:[a.jsx(mn,{className:"pb-3 sm:pb-4",children:a.jsx(pn,{className:"text-lg sm:text-xl text-center sm:text-left text-foreground",children:"Test Path DSL Pattern"})}),a.jsxs("div",{className:"space-y-3 sm:space-y-4 px-1",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{className:"text-sm sm:text-base font-medium text-foreground",children:"DSL Pattern"}),a.jsx(wo,{value:o,onChange:p=>c(p.target.value),placeholder:"/api/users/{id}/posts/*",className:"font-mono text-xs sm:text-sm min-h-[3rem] sm:min-h-[4rem] resize-none bg-input border-border text-foreground"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{className:"text-sm sm:text-base font-medium text-foreground",children:"Test Path"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[a.jsx(et,{placeholder:"/api/users/123/posts/456",value:d,onChange:p=>u(p.target.value),onKeyPress:p=>p.key==="Enter"&&l(),className:"text-xs sm:text-sm font-mono flex-1 bg-input border-border text-foreground"}),a.jsx(X,{onClick:l,disabled:!o.trim()||!d.trim()||s,size:"sm",className:"w-full sm:w-auto min-w-[4rem] text-sm disabled:bg-muted disabled:opacity-60",style:{backgroundColor:!o.trim()||!d.trim()||s?void 0:"var(--primary)",color:"var(--primary-foreground)"},children:s?a.jsx(bt,{className:"h-4 w-4 animate-spin text-primary-foreground"}):"Test"})]})]}),n&&a.jsxs("div",{className:"space-y-3 p-3 sm:p-4 border rounded-md bg-muted border-border",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[n.matches?a.jsx(Pa,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0",style:{color:"var(--chart-2)"}}):a.jsx(zM,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0 text-destructive"}),a.jsx("span",{className:"font-medium text-sm sm:text-base text-foreground",children:n.matches?"Pattern Matches!":"No Match"})]}),a.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Generated Regex:"}),a.jsx("div",{className:"font-mono text-xs sm:text-sm p-2 sm:p-3 rounded mt-1 break-all bg-card border border-border text-foreground",children:n.path_regex})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[a.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Compilation:"}),a.jsx(Ze,{variant:n.compiled_successfully?"default":"destructive",className:"text-xs w-fit",children:n.compiled_successfully?"Success":"Failed"})]})]})]}),a.jsx("div",{className:"flex justify-end gap-2 pt-2 sm:pt-3",children:a.jsx(X,{variant:"outline",onClick:f,className:"w-full sm:w-auto min-w-[5rem] text-sm bg-secondary text-secondary-foreground border-border",children:"Close"})})]})]})})},Jlt=()=>{const[e,t]=b.useState(!1),r=()=>{t(!0)};return a.jsxs(Qt,{title:"Authorization Rules",subtitle:"Manage access control rules for your application",mainButtons:a.jsxs(X,{variant:"outline",onClick:r,className:"flex items-center justify-center gap-2 text-sm",style:{backgroundColor:"var(--secondary)",color:"var(--secondary-foreground)",borderColor:"var(--border)"},children:[a.jsx(Eke,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden md:inline",children:"Test Path"}),a.jsx("span",{className:"inline md:hidden",children:"Test"})]}),children:[a.jsx(Qlt,{}),e&&a.jsx(xoe,{pathDsl:"",onClose:()=>t(!1)})]})},ect=()=>{const[e,t]=b.useState({}),r=b.useCallback(d=>{e[d]&&t(u=>({...u,[d]:""}))},[e]),n=b.useCallback(()=>{e.authorization&&t(d=>({...d,authorization:""}))},[e]),s=b.useCallback((d,u)=>{const l={};d.service.trim()||(l.service="Service is required"),d.method||(l.method="HTTP method is required"),d.pathType==="dsl"&&!d.pathDsl.trim()&&(l.pathDsl="Path DSL is required when using DSL type"),d.pathType==="route"&&!d.routeName.trim()&&(l.routeName="Route name is required when using route type");const{selectedRoles:f,selectedPermissionsAny:p,selectedPermissionsAll:g}=u;return f.length===0&&p.length===0&&g.length===0&&(l.authorization="At least one role or permission is required"),l},[]),i=b.useCallback(d=>{t(d)},[]),o=b.useCallback(()=>Object.keys(e).some(d=>e[d]),[e]),c=b.useCallback(d=>e[d]||"",[e]);return{validationErrors:e,clearFieldError:r,clearAuthorizationError:n,validateForm:s,setErrors:i,hasErrors:o,getFieldError:c}},tct=()=>{const[e,t]=b.useState([]),[r,n]=b.useState([]),[s,i]=b.useState([]),o=b.useCallback(w=>{t(C=>C.includes(w)?C.filter(E=>E!==w):[...C,w])},[]),c=b.useCallback(w=>{n(C=>C.includes(w)?C.filter(E=>E!==w):(i(E=>E.filter(N=>N!==w)),[...C,w]))},[]),d=b.useCallback(w=>{i(C=>C.includes(w)?C.filter(E=>E!==w):(n(E=>E.filter(N=>N!==w)),[...C,w]))},[]),u=b.useCallback(w=>{const C=w.map(E=>E.name);t(C)},[]),l=b.useCallback(()=>{t([])},[]),f=b.useCallback(w=>{const C=w.map(E=>E.name);n(C),i([])},[]),p=b.useCallback(()=>{n([])},[]),g=b.useCallback(w=>{const C=w.map(E=>E.name);i(C),n([])},[]),x=b.useCallback(()=>{i([])},[]),S=b.useCallback(()=>{t([]),n([]),i([])},[]),m=b.useCallback(()=>({selectedRoles:e,selectedPermissionsAny:r,selectedPermissionsAll:s}),[e,r,s]),y=b.useCallback(()=>e.length>0||r.length>0||s.length>0,[e,r,s]);return{selectedRoles:e,selectedPermissionsAny:r,selectedPermissionsAll:s,toggleRoleSelection:o,selectAllRoles:u,clearAllRoles:l,togglePermissionAnySelection:c,selectAllPermissionsAny:f,clearAllPermissionsAny:p,togglePermissionAllSelection:d,selectAllPermissionsAll:g,clearAllPermissionsAll:x,resetSelections:S,getAuthorizationData:m,hasAnySelection:y}},rct=({availableRoles:e,selectedRoles:t,rolesLoading:r,onToggleRole:n,onSelectAllRoles:s,onClearAllRoles:i})=>{const o=b.useMemo(()=>new Set(t),[t]),c=b.useCallback(d=>()=>n(d),[n]);return a.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ur,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"}),a.jsx($e,{className:"text-sm sm:text-base font-medium",children:"Roles"})]}),a.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"(User must have ANY of these roles)"})]}),r?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(bt,{className:"h-6 w-6 animate-spin mr-2"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading roles..."})]}):e&&e.length>0?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(X,{type:"button",variant:"outline",size:"sm",className:"text-xs sm:text-sm flex-1 sm:flex-none",onClick:s,children:"Select All"}),a.jsx(X,{type:"button",variant:"ghost",size:"sm",className:"text-xs sm:text-sm flex-1 sm:flex-none",onClick:i,children:"Clear All"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-3 max-h-48 overflow-y-auto border rounded-md p-2 sm:p-3",children:e.map(d=>a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx($s,{id:`role-${d.id}`,checked:o.has(d.name),onCheckedChange:()=>n(d.name)}),a.jsx($e,{htmlFor:`role-${d.id}`,className:"text-xs sm:text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:d.name})]},d.id))}),t.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs($e,{className:"text-xs sm:text-sm text-muted-foreground",children:["Selected Roles (",t.length,")"]}),a.jsx("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:t.map(d=>a.jsxs(Ze,{variant:"secondary",className:"flex items-center gap-1 text-xs",children:[a.jsx("span",{className:"truncate max-w-[8rem] sm:max-w-none",children:d}),a.jsx(Kf,{className:"h-3 w-3 cursor-pointer hover:text-red-500 flex-shrink-0",onClick:c(d)})]},d))})]})]}):a.jsxs("div",{className:"text-center py-8 border rounded-md bg-gray-50",children:[a.jsx(Ur,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No roles available"})]})]})},hW=({mode:e,description:t,bgColorClass:r,badgeVariant:n,availablePermissions:s,selectedPermissions:i,onTogglePermission:o,onSelectAll:c,onClearAll:d})=>{const u=e.toLowerCase();return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:`text-xs sm:text-sm text-muted-foreground ${r} p-2 sm:p-3 rounded-md`,children:[a.jsxs("strong",{children:[e," mode:"]})," ",t]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(X,{type:"button",variant:"outline",size:"sm",className:"text-xs sm:text-sm flex-1 sm:flex-none",onClick:c,children:["Select All ",e]}),a.jsxs(X,{type:"button",variant:"ghost",size:"sm",className:"text-xs sm:text-sm flex-1 sm:flex-none",onClick:d,children:["Clear All ",e]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-3 max-h-48 overflow-y-auto border rounded-md p-2 sm:p-3",children:s.map(l=>a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx($s,{id:`permission-${u}-${l.id}`,checked:i.includes(l.name),onCheckedChange:()=>o(l.name)}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsx($e,{htmlFor:`permission-${u}-${l.id}`,className:"text-xs sm:text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70 block",children:l.name})})]},`${u}-${l.id}`))}),i.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs($e,{className:"text-xs sm:text-sm text-muted-foreground",children:["Selected ",e," Permissions (",i.length,")"]}),a.jsx("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:i.map(l=>a.jsxs(Ze,{variant:n,className:"flex items-center gap-1 text-xs",children:[a.jsx("span",{className:"truncate max-w-[8rem] sm:max-w-none",children:l}),a.jsx(Kf,{className:"h-3 w-3 cursor-pointer hover:text-red-500 flex-shrink-0",onClick:()=>o(l)})]},`${u}-${l}`))})]})]})},nct=({availablePermissions:e,selectedPermissionsAny:t,selectedPermissionsAll:r,permissionsLoading:n,onTogglePermissionAny:s,onTogglePermissionAll:i,onSelectAllPermissionsAny:o,onClearAllPermissionsAny:c,onSelectAllPermissionsAll:d,onClearAllPermissionsAll:u})=>a.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(tn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"}),a.jsx($e,{className:"text-sm sm:text-base font-medium",children:"Permissions"})]}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Configure permissions for both ANY and ALL authorization modes"})]}),n?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(bt,{className:"h-6 w-6 animate-spin mr-2"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading permissions..."})]}):e&&e.length>0?a.jsxs("div",{className:"space-y-6",children:[a.jsx(hW,{mode:"ANY",description:"User needs at least ONE of the selected permissions",bgColorClass:"bg-blue-50",badgeVariant:"default",availablePermissions:e,selectedPermissions:t,onTogglePermission:s,onSelectAll:o,onClearAll:c}),a.jsx(hW,{mode:"ALL",description:"User needs ALL of the selected permissions",bgColorClass:"bg-green-50",badgeVariant:"secondary",availablePermissions:e,selectedPermissions:r,onTogglePermission:i,onSelectAll:d,onClearAll:u})]}):a.jsxs("div",{className:"text-center py-8 border rounded-md bg-gray-50",children:[a.jsx(tn,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No permissions available"})]})]}),sct=({error:e,className:t})=>e?a.jsxs(at,{variant:"destructive",className:t,children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{children:e?.message||"An error occurred"})]}):null,act=["GET","POST","PUT","PATCH","DELETE"],ict=({service:e,method:t,onServiceChange:r,onMethodChange:n,getFieldError:s})=>a.jsxs(Se,{children:[a.jsx(Me,{className:"pb-3 sm:pb-4",children:a.jsx(Ve,{className:"text-lg sm:text-xl",children:"Basic Information"})}),a.jsx(Ee,{className:"space-y-3 sm:space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[a.jsx($e,{htmlFor:"service",className:"text-sm sm:text-base font-medium",children:"Service *"}),a.jsx(et,{id:"service",value:e,onChange:i=>r(i.target.value),placeholder:"e.g., data, auth, api",className:`text-sm sm:text-base ${s("service")?"border-red-500":""}`}),s("service")&&a.jsx("p",{className:"text-xs sm:text-sm text-red-500",children:s("service")})]}),a.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[a.jsx($e,{htmlFor:"method",className:"text-sm sm:text-base font-medium",children:"HTTP Method *"}),a.jsx("select",{id:"method",value:t,onChange:i=>n(i.target.value),className:`flex h-9 sm:h-10 w-full rounded-md border border-input bg-background px-2 sm:px-3 py-1 sm:py-2 text-sm ring-offset-background ${s("method")?"border-red-500":""}`,children:act.map(i=>a.jsx("option",{value:i,children:i},i))}),s("method")&&a.jsx("p",{className:"text-xs sm:text-sm text-red-500",children:s("method")})]})]})})]}),oct=({pathType:e,pathDsl:t,routeName:r,onPathTypeChange:n,onPathDslChange:s,onRouteNameChange:i,onTestClick:o,getFieldError:c})=>a.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[a.jsx($e,{className:"text-sm sm:text-base font-medium",children:"Path Configuration *"}),a.jsxs(ch,{value:e,onValueChange:n,children:[a.jsxs(mu,{className:"grid w-full grid-cols-2 h-9 sm:h-10",children:[a.jsx(Qs,{value:"dsl",className:"text-xs sm:text-sm",children:"Path DSL"}),a.jsx(Qs,{value:"route",className:"text-xs sm:text-sm",children:"Route Name"})]}),a.jsx(Js,{value:"dsl",className:"mt-3 sm:mt-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"pathDsl",className:"text-sm sm:text-base",children:"Path DSL Pattern"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[a.jsx(wo,{id:"pathDsl",value:t,onChange:d=>s(d.target.value),placeholder:"/api/users/{id}/posts/*",className:`text-sm font-mono min-h-[2.5rem] sm:min-h-[3rem] flex-1 ${c("pathDsl")?"border-red-500":""}`}),t.trim()&&a.jsx(X,{type:"button",variant:"outline",size:"sm",className:"w-full sm:w-auto text-sm",onClick:o,children:"Test"})]}),c("pathDsl")&&a.jsx("p",{className:"text-xs sm:text-sm text-red-500",children:c("pathDsl")})]})}),a.jsx(Js,{value:"route",className:"mt-3 sm:mt-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"routeName",className:"text-sm sm:text-base",children:"Route Name"}),a.jsx(et,{id:"routeName",value:r,onChange:d=>i(d.target.value),placeholder:"users.posts.index",className:`text-sm sm:text-base ${c("routeName")?"border-red-500":""}`}),c("routeName")&&a.jsx("p",{className:"text-xs sm:text-sm text-red-500",children:c("routeName")})]})})]})]}),lct=({isActive:e,onActiveChange:t})=>a.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-2 sm:p-3",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx($e,{className:"text-sm sm:text-base",children:"Active Rule"}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Enable this rule immediately"})]}),a.jsx(Ss,{checked:e,onCheckedChange:t})]}),cct=({onCancel:e,isSubmitting:t,isCreating:r})=>a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end gap-3 sm:gap-4 pt-4",children:[e&&a.jsx(X,{type:"button",variant:"outline",onClick:e,disabled:t,className:"w-full sm:w-auto",children:"Cancel"}),a.jsx(X,{type:"submit",disabled:t||r,className:"w-full sm:w-auto min-w-[120px]",children:t?a.jsxs(a.Fragment,{children:[a.jsx(bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Rule"})]}),dct=({onSuccess:e,onCancel:t})=>{const{createRule:r,isCreating:n,error:s}=poe(),{roles:i,loading:o}=To(!0),{permissions:c,loading:d}=bg(!0),{clearFieldError:u,clearAuthorizationError:l,validateForm:f,setErrors:p,getFieldError:g}=ect(),{selectedRoles:x,selectedPermissionsAny:S,selectedPermissionsAll:m,toggleRoleSelection:y,selectAllRoles:w,clearAllRoles:C,togglePermissionAnySelection:E,selectAllPermissionsAny:N,clearAllPermissionsAny:k,togglePermissionAllSelection:A,selectAllPermissionsAll:T,clearAllPermissionsAll:P,getAuthorizationData:M}=tct(),[O,R]=b.useState(""),[L,B]=b.useState("GET"),[F,$]=b.useState("dsl"),[z,W]=b.useState(""),[Z,V]=b.useState(""),[q,H]=b.useState(!0),[K,Y]=b.useState(!1),[re,me]=b.useState(!1),de=ae=>{y(ae),l()},he=ae=>{E(ae),l()},ee=ae=>{A(ae),l()},ie=()=>{w(i),l()},ye=()=>{N(c),l()},le=()=>{T(c),l()},Te=(ae,We)=>{switch(u(ae),ae){case"service":R(We);break;case"method":B(We);break;case"pathDsl":W(We);break;case"routeName":V(We);break;case"isActive":H(We);break}},Ae=async ae=>{ae.preventDefault();const We={service:O,method:L,pathType:F,pathDsl:z,routeName:Z,isActive:q},rt=M(),fe=f(We,rt);if(Object.keys(fe).length>0){p(fe);return}me(!0);try{const Fe={service:O.trim(),method:L,is_active:q,...F==="dsl"?{path_dsl:z.trim()}:{route_name:Z.trim()},...rt.selectedRoles.length>0&&{roles_any:rt.selectedRoles},...rt.selectedPermissionsAny.length>0&&{permissions_any:rt.selectedPermissionsAny},...rt.selectedPermissionsAll.length>0&&{permissions_all:rt.selectedPermissionsAll}};await r(Fe)&&e?.()}catch(Fe){console.error("Failed to create auth rule:",Fe)}finally{me(!1)}};return a.jsx("div",{className:"container mx-auto py-4 px-3 sm:py-6 sm:px-4 lg:py-8 lg:px-6",children:a.jsxs("div",{className:"mx-auto space-y-4 sm:space-y-5 lg:space-y-6",children:[a.jsx(sct,{error:s}),a.jsxs("form",{onSubmit:Ae,className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[a.jsx(ict,{service:O,method:L,onServiceChange:ae=>Te("service",ae),onMethodChange:ae=>Te("method",ae),getFieldError:g}),a.jsxs(Se,{children:[a.jsx(Me,{className:"pb-3 sm:pb-4",children:a.jsx(Ve,{className:"text-lg sm:text-xl",children:"Configuration"})}),a.jsxs(Ee,{className:"space-y-3 sm:space-y-4",children:[a.jsx(oct,{pathType:F,pathDsl:z,routeName:Z,onPathTypeChange:ae=>$(ae),onPathDslChange:ae=>Te("pathDsl",ae),onRouteNameChange:ae=>Te("routeName",ae),onTestClick:()=>Y(!0),getFieldError:g}),a.jsx(lct,{isActive:q,onActiveChange:ae=>Te("isActive",ae)})]})]}),a.jsxs(Se,{children:[a.jsxs(Me,{className:"pb-3 sm:pb-4",children:[a.jsx(Ve,{className:"text-lg sm:text-xl",children:"Authorization Requirements"}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Select roles and permissions required to access this endpoint"})]}),a.jsxs(Ee,{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[g("authorization")&&a.jsxs(at,{variant:"destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{children:g("authorization")})]}),a.jsx(rct,{availableRoles:i,selectedRoles:x,rolesLoading:o,onToggleRole:de,onSelectAllRoles:ie,onClearAllRoles:C}),a.jsx(Xs,{}),a.jsx(nct,{availablePermissions:c,selectedPermissionsAny:S,selectedPermissionsAll:m,permissionsLoading:d,onTogglePermissionAny:he,onTogglePermissionAll:ee,onSelectAllPermissionsAny:ye,onClearAllPermissionsAny:k,onSelectAllPermissionsAll:le,onClearAllPermissionsAll:P})]})]}),a.jsx(cct,{onCancel:t,isSubmitting:re,isCreating:n})]}),K&&z&&a.jsx(xoe,{pathDsl:z,onClose:()=>Y(!1)})]})})},uct=()=>{const e=Ot(),{error:t,helpers:r}=Y3({autoFetch:!1,showToasts:!0}),n=()=>{e("/auth-rules")},s=()=>{e("/auth-rules")};return a.jsx(Qt,{title:"Create Authorization Rule",subtitle:"Define a new access control rule for your application",backButton:{show:!0},children:a.jsxs("div",{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[t&&r.isNetworkError()&&a.jsxs(at,{variant:"destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{children:"Unable to connect to the server. Please check your internet connection and try again."})]}),t&&r.isUnauthorizedError()&&a.jsxs(at,{variant:"destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsxs(it,{children:["Your session has expired. Please ",a.jsx("a",{href:"/login",className:"underline",children:"login again"})," to continue."]})]}),a.jsxs("div",{className:"bg-primary-50 border border-primary-200 rounded-lg p-3 sm:p-4",children:[a.jsx("h3",{className:"font-medium text-primary-900 mb-2 text-sm sm:text-base",children:"Creating Authorization Rules"}),a.jsxs("div",{className:"text-xs sm:text-sm text-primary-800 space-y-1 sm:space-y-1.5",children:[a.jsxs("p",{className:"break-words",children:[" ",a.jsx("strong",{children:"Service:"})," The application service this rule applies to (e.g., api, data, auth)"]}),a.jsxs("p",{className:"break-words",children:[" ",a.jsx("strong",{children:"Path DSL:"})," Dynamic path pattern with variables like ",a.jsxs("code",{className:"bg-primary-100 px-1 rounded text-xs",children:["/users/","{id}","/posts/*"]})]}),a.jsxs("p",{className:"break-words",children:[" ",a.jsx("strong",{children:"Route Name:"})," Named route identifier like ",a.jsx("code",{className:"bg-primary-100 px-1 rounded text-xs",children:"users.posts.show"})]}),a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Roles:"})," User must have ANY of the specified roles"]}),a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Permissions (Any):"})," User needs ANY of these permissions"]}),a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Permissions (All):"})," User needs ALL of these permissions"]})]})]}),a.jsx(dct,{onSuccess:n,onCancel:s}),a.jsxs("div",{className:"border-t pt-4 sm:pt-5 lg:pt-6",children:[a.jsx("h3",{className:"font-medium mb-3 text-sm sm:text-base",children:"Common Examples"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-5 text-xs sm:text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium text-chart-3 text-sm sm:text-base",children:"Path DSL Examples:"}),a.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[a.jsxs("li",{className:"break-all",children:[a.jsxs("code",{className:"bg-muted px-1 rounded text-xs",children:["/api/users/","{id}"]})," - Matches /api/users/123"]}),a.jsxs("li",{className:"break-all",children:[a.jsx("code",{className:"bg-muted px-1 rounded text-xs",children:"/files/*"})," - Matches any path starting with /files/"]}),a.jsxs("li",{className:"break-all",children:[a.jsxs("code",{className:"bg-muted px-1 rounded text-xs",children:["/admin/","{section}","/settings"]})," - Matches admin sections"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium text-chart-4 text-sm sm:text-base",children:"Route Name Examples:"}),a.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[a.jsxs("li",{className:"break-all",children:[a.jsx("code",{className:"bg-muted px-1 rounded text-xs",children:"users.show"})," - Show user profile"]}),a.jsxs("li",{className:"break-all",children:[a.jsx("code",{className:"bg-muted px-1 rounded text-xs",children:"admin.dashboard"})," - Admin dashboard"]}),a.jsxs("li",{className:"break-all",children:[a.jsx("code",{className:"bg-muted px-1 rounded text-xs",children:"api.data.export"})," - Data export endpoint"]})]})]})]})]}),a.jsxs("div",{className:"bg-chart-2/10 border border-chart-2/30 rounded-lg p-3 sm:p-4",children:[a.jsx("h3",{className:"font-medium text-chart-2 mb-2 text-sm sm:text-base",children:" Pro Tips"}),a.jsxs("ul",{className:"text-xs sm:text-sm text-chart-2/80 space-y-1",children:[a.jsxs("li",{children:[" Use the ",a.jsx("strong",{children:"Test"})," button to validate your Path DSL patterns before saving"]}),a.jsx("li",{children:" Either Path DSL OR Route Name is required, not both"}),a.jsx("li",{children:" At least one role or permission must be specified"}),a.jsx("li",{children:" Inactive rules won't be enforced but are kept for future use"})]})]})]})})},fct=[a.jsx(Dt,{path:"/auth-rules",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(Jlt,{})})})})},"auth-rules"),a.jsx(Dt,{path:"/auth-rules/create",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(uct,{})})})})},"create-auth-rule")],Po=(e=!0,t)=>{const r=$t(),[n,s]=b.useState(""),i=b.useRef(t);i.current=t;const o=pe(Rve),c=pe($ve),d=pe(Hve),u=pe(Mve),l=pe(Bve),f=pe(y0),p=pe(Lve),g=o.length>0,x=!c&&o.length===0,S=u?.total||0,m=b.useMemo(()=>({from:u?.from||0,to:u?.to||0,total:u?.total||0}),[u]),y=b.useCallback(async C=>{try{const E={page:C?.page||l,per_page:C?.per_page||f,search:C?.search!==void 0?C.search:p};await r(qm(E)).unwrap()}catch(E){throw console.error("Failed to fetch stores:",E),E}},[r,l,f,p]);b.useEffect(()=>{e&&!g&&!c&&!d&&y(i.current)},[e,g,c,d,y]),b.useEffect(()=>()=>{d&&r(Kq("fetchStores"))},[r,d]);const w=b.useCallback(C=>{C!==l&&C>0&&(!u||C<=u.last_page)&&(r(Tve(C)),y({page:C}))},[r,l,u,y]);return b.useMemo(()=>({stores:o,pagination:u||null,loading:c,error:d,refetch:y,changePage:w,searchTerm:n,setSearchTerm:s,totalStores:S,hasStores:g,isEmpty:x,currentPageData:m}),[o,u,c,d,y,w,n,s,S,g,x,m])},hct=(e,t=!0)=>{const r=$t(),n=pe(Ove),s=pe(Fve),i=pe(zve),o=pe(Ive),c=pe(p=>e?Uve(e)(p):null),d=b.useMemo(()=>n&&n.id===e?n:c&&c.id===e?c:null,[n,c,e]),u=!!d,l=o===e,f=b.useCallback(async p=>{try{if(!p.trim())throw new Error("Store ID is required");await r(xv(p)).unwrap()}catch(g){throw console.error(`Failed to fetch store ${p}:`,g),g}},[r]);return b.useEffect(()=>{t&&e&&e!==o&&!s&&!i&&f(e)},[t,e,o,s,i,f]),b.useEffect(()=>{e||r(Pve())},[e,r]),b.useEffect(()=>()=>{i&&r(Kq("fetchStore"))},[r,i]),b.useMemo(()=>({store:d,loading:s,error:i,refetch:f,exists:u,isSelected:l}),[d,s,i,f,u,l])},mct=({error:e})=>a.jsxs(at,{variant:"destructive",className:"bg-destructive/10 border-destructive/20 text-destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsxs(it,{className:"text-destructive",children:["Failed to load stores: ",e]})]}),pct=({onCreateStore:e,onRefresh:t,loading:r})=>a.jsx(Me,{className:"mb-0 bg-muted border-b border-border",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[a.jsx(Ve,{className:"text-lg sm:text-xl text-card-foreground",children:"Stores"}),a.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4 w-full sm:w-auto",children:a.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:t,disabled:r,className:`flex items-center gap-2 border-border ${r?"bg-muted text-muted-foreground opacity-60":"bg-secondary text-secondary-foreground hover:bg-secondary/80"}`,children:[a.jsx(Tn,{className:`h-4 w-4 ${r?"animate-spin":""}`}),a.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]}),a.jsxs(X,{onClick:e,className:"flex items-center justify-center gap-2 text-sm bg-primary text-primary-foreground shadow-sm hover:bg-primary/90",children:[a.jsx(br,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden xs:inline",children:"Create Store"}),a.jsx("span",{className:"xs:hidden",children:"Create"})]})]})})]})});var oM=["Enter"," "],gct=["ArrowDown","PageUp","Home"],voe=["ArrowUp","PageDown","End"],xct=[...gct,...voe],vct={ltr:[...oM,"ArrowRight"],rtl:[...oM,"ArrowLeft"]},yct={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ty="Menu",[d0,bct,wct]=$N(Ty),[dh,yoe]=Yn(Ty,[wct,tg,FN]),QN=tg(),boe=FN(),[Sct,uh]=dh(Ty),[Cct,Py]=dh(Ty),woe=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,c=QN(t),[d,u]=b.useState(null),l=b.useRef(!1),f=Xr(i),p=lh(s);return b.useEffect(()=>{const g=()=>{l.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>l.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),a.jsx(oO,{...c,children:a.jsx(Sct,{scope:t,open:r,onOpenChange:f,content:d,onContentChange:u,children:a.jsx(Cct,{scope:t,onClose:b.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:l,dir:p,modal:o,children:n})})})};woe.displayName=Ty;var jct="MenuAnchor",K3=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=QN(r);return a.jsx(xE,{...s,...n,ref:t})});K3.displayName=jct;var Z3="MenuPortal",[Ect,Soe]=dh(Z3,{forceMount:void 0}),Coe=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=uh(Z3,t);return a.jsx(Ect,{scope:t,forceMount:r,children:a.jsx(pl,{present:r||i.open,children:a.jsx(Qp,{asChild:!0,container:s,children:n})})})};Coe.displayName=Z3;var Vi="MenuContent",[Nct,X3]=dh(Vi),joe=b.forwardRef((e,t)=>{const r=Soe(Vi,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=uh(Vi,e.__scopeMenu),o=Py(Vi,e.__scopeMenu);return a.jsx(d0.Provider,{scope:e.__scopeMenu,children:a.jsx(pl,{present:n||i.open,children:a.jsx(d0.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(_ct,{...s,ref:t}):a.jsx(Act,{...s,ref:t})})})})}),_ct=b.forwardRef((e,t)=>{const r=uh(Vi,e.__scopeMenu),n=b.useRef(null),s=vt(t,n);return b.useEffect(()=>{const i=n.current;if(i)return uE(i)},[]),a.jsx(Q3,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:At(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Act=b.forwardRef((e,t)=>{const r=uh(Vi,e.__scopeMenu);return a.jsx(Q3,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),kct=Hd("MenuContent.ScrollLock"),Q3=b.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:u,onPointerDownOutside:l,onFocusOutside:f,onInteractOutside:p,onDismiss:g,disableOutsideScroll:x,...S}=e,m=uh(Vi,r),y=Py(Vi,r),w=QN(r),C=boe(r),E=bct(r),[N,k]=b.useState(null),A=b.useRef(null),T=vt(t,A,m.onContentChange),P=b.useRef(0),M=b.useRef(""),O=b.useRef(0),R=b.useRef(null),L=b.useRef("right"),B=b.useRef(0),F=x?O0:b.Fragment,$=x?{as:kct,allowPinchZoom:!0}:void 0,z=Z=>{const V=M.current+Z,q=E().filter(de=>!de.disabled),H=document.activeElement,K=q.find(de=>de.ref.current===H)?.textValue,Y=q.map(de=>de.textValue),re=Hct(Y,V,K),me=q.find(de=>de.textValue===re)?.ref.current;(function de(he){M.current=he,window.clearTimeout(P.current),he!==""&&(P.current=window.setTimeout(()=>de(""),1e3))})(V),me&&setTimeout(()=>me.focus())};b.useEffect(()=>()=>window.clearTimeout(P.current),[]),UZ();const W=b.useCallback(Z=>L.current===R.current?.side&&Uct(Z,R.current?.area),[]);return a.jsx(Nct,{scope:r,searchRef:M,onItemEnter:b.useCallback(Z=>{W(Z)&&Z.preventDefault()},[W]),onItemLeave:b.useCallback(Z=>{W(Z)||(A.current?.focus(),k(null))},[W]),onTriggerLeave:b.useCallback(Z=>{W(Z)&&Z.preventDefault()},[W]),pointerGraceTimerRef:O,onPointerGraceIntentChange:b.useCallback(Z=>{R.current=Z},[]),children:a.jsx(F,{...$,children:a.jsx(M0,{asChild:!0,trapped:s,onMountAutoFocus:At(i,Z=>{Z.preventDefault(),A.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(hE,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:l,onFocusOutside:f,onInteractOutside:p,onDismiss:g,children:a.jsx(Yse,{asChild:!0,...C,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:k,onEntryFocus:At(d,Z=>{y.isUsingKeyboardRef.current||Z.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(lO,{role:"menu","aria-orientation":"vertical","data-state":Foe(m.open),"data-radix-menu-content":"",dir:y.dir,...w,...S,ref:T,style:{outline:"none",...S.style},onKeyDown:At(S.onKeyDown,Z=>{const q=Z.target.closest("[data-radix-menu-content]")===Z.currentTarget,H=Z.ctrlKey||Z.altKey||Z.metaKey,K=Z.key.length===1;q&&(Z.key==="Tab"&&Z.preventDefault(),!H&&K&&z(Z.key));const Y=A.current;if(Z.target!==Y||!xct.includes(Z.key))return;Z.preventDefault();const me=E().filter(de=>!de.disabled).map(de=>de.ref.current);voe.includes(Z.key)&&me.reverse(),$ct(me)}),onBlur:At(e.onBlur,Z=>{Z.currentTarget.contains(Z.target)||(window.clearTimeout(P.current),M.current="")}),onPointerMove:At(e.onPointerMove,u0(Z=>{const V=Z.target,q=B.current!==Z.clientX;if(Z.currentTarget.contains(V)&&q){const H=Z.clientX>B.current?"right":"left";L.current=H,B.current=Z.clientX}}))})})})})})})});joe.displayName=Vi;var Tct="MenuGroup",J3=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Je.div,{role:"group",...n,ref:t})});J3.displayName=Tct;var Pct="MenuLabel",Eoe=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Je.div,{...n,ref:t})});Eoe.displayName=Pct;var jj="MenuItem",mW="menu.itemSelect",JN=b.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=b.useRef(null),o=Py(jj,e.__scopeMenu),c=X3(jj,e.__scopeMenu),d=vt(t,i),u=b.useRef(!1),l=()=>{const f=i.current;if(!r&&f){const p=new CustomEvent(mW,{bubbles:!0,cancelable:!0});f.addEventListener(mW,g=>n?.(g),{once:!0}),lE(f,p),p.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(Noe,{...s,ref:d,disabled:r,onClick:At(e.onClick,l),onPointerDown:f=>{e.onPointerDown?.(f),u.current=!0},onPointerUp:At(e.onPointerUp,f=>{u.current||f.currentTarget?.click()}),onKeyDown:At(e.onKeyDown,f=>{const p=c.searchRef.current!=="";r||p&&f.key===" "||oM.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});JN.displayName=jj;var Noe=b.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=X3(jj,r),c=boe(r),d=b.useRef(null),u=vt(t,d),[l,f]=b.useState(!1),[p,g]=b.useState("");return b.useEffect(()=>{const x=d.current;x&&g((x.textContent??"").trim())},[i.children]),a.jsx(d0.ItemSlot,{scope:r,disabled:n,textValue:s??p,children:a.jsx(Kse,{asChild:!0,...c,focusable:!n,children:a.jsx(Je.div,{role:"menuitem","data-highlighted":l?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:At(e.onPointerMove,u0(x=>{n?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:At(e.onPointerLeave,u0(x=>o.onItemLeave(x))),onFocus:At(e.onFocus,()=>f(!0)),onBlur:At(e.onBlur,()=>f(!1))})})})}),Dct="MenuCheckboxItem",_oe=b.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(Doe,{scope:e.__scopeMenu,checked:r,children:a.jsx(JN,{role:"menuitemcheckbox","aria-checked":Ej(r)?"mixed":r,...s,ref:t,"data-state":t5(r),onSelect:At(s.onSelect,()=>n?.(Ej(r)?!0:!r),{checkForDefaultPrevented:!1})})})});_oe.displayName=Dct;var Aoe="MenuRadioGroup",[Rct,Mct]=dh(Aoe,{value:void 0,onValueChange:()=>{}}),koe=b.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=Xr(n);return a.jsx(Rct,{scope:e.__scopeMenu,value:r,onValueChange:i,children:a.jsx(J3,{...s,ref:t})})});koe.displayName=Aoe;var Toe="MenuRadioItem",Poe=b.forwardRef((e,t)=>{const{value:r,...n}=e,s=Mct(Toe,e.__scopeMenu),i=r===s.value;return a.jsx(Doe,{scope:e.__scopeMenu,checked:i,children:a.jsx(JN,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":t5(i),onSelect:At(n.onSelect,()=>s.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});Poe.displayName=Toe;var e5="MenuItemIndicator",[Doe,Oct]=dh(e5,{checked:!1}),Roe=b.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=Oct(e5,r);return a.jsx(pl,{present:n||Ej(i.checked)||i.checked===!0,children:a.jsx(Je.span,{...s,ref:t,"data-state":t5(i.checked)})})});Roe.displayName=e5;var Ict="MenuSeparator",Moe=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Je.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Moe.displayName=Ict;var Lct="MenuArrow",Ooe=b.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=QN(r);return a.jsx(cO,{...s,...n,ref:t})});Ooe.displayName=Lct;var Bct="MenuSub",[Lxt,Ioe]=dh(Bct),uv="MenuSubTrigger",Loe=b.forwardRef((e,t)=>{const r=uh(uv,e.__scopeMenu),n=Py(uv,e.__scopeMenu),s=Ioe(uv,e.__scopeMenu),i=X3(uv,e.__scopeMenu),o=b.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=i,u={__scopeMenu:e.__scopeMenu},l=b.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return b.useEffect(()=>l,[l]),b.useEffect(()=>{const f=c.current;return()=>{window.clearTimeout(f),d(null)}},[c,d]),a.jsx(K3,{asChild:!0,...u,children:a.jsx(Noe,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":Foe(r.open),...e,ref:gc(t,s.onTriggerChange),onClick:f=>{e.onClick?.(f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:At(e.onPointerMove,u0(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),l()},100))})),onPointerLeave:At(e.onPointerLeave,u0(f=>{l();const p=r.content?.getBoundingClientRect();if(p){const g=r.content?.dataset.side,x=g==="right",S=x?-5:5,m=p[x?"left":"right"],y=p[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+S,y:f.clientY},{x:m,y:p.top},{x:y,y:p.top},{x:y,y:p.bottom},{x:m,y:p.bottom}],side:g}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:At(e.onKeyDown,f=>{const p=i.searchRef.current!=="";e.disabled||p&&f.key===" "||vct[n.dir].includes(f.key)&&(r.onOpenChange(!0),r.content?.focus(),f.preventDefault())})})})});Loe.displayName=uv;var Boe="MenuSubContent",$oe=b.forwardRef((e,t)=>{const r=Soe(Vi,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=uh(Vi,e.__scopeMenu),o=Py(Vi,e.__scopeMenu),c=Ioe(Boe,e.__scopeMenu),d=b.useRef(null),u=vt(t,d);return a.jsx(d0.Provider,{scope:e.__scopeMenu,children:a.jsx(pl,{present:n||i.open,children:a.jsx(d0.Slot,{scope:e.__scopeMenu,children:a.jsx(Q3,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:l=>{o.isUsingKeyboardRef.current&&d.current?.focus(),l.preventDefault()},onCloseAutoFocus:l=>l.preventDefault(),onFocusOutside:At(e.onFocusOutside,l=>{l.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:At(e.onEscapeKeyDown,l=>{o.onClose(),l.preventDefault()}),onKeyDown:At(e.onKeyDown,l=>{const f=l.currentTarget.contains(l.target),p=yct[o.dir].includes(l.key);f&&p&&(i.onOpenChange(!1),c.trigger?.focus(),l.preventDefault())})})})})})});$oe.displayName=Boe;function Foe(e){return e?"open":"closed"}function Ej(e){return e==="indeterminate"}function t5(e){return Ej(e)?"indeterminate":e?"checked":"unchecked"}function $ct(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Fct(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Hct(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Fct(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const d=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return d!==r?d:void 0}function zct(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const c=t[i],d=t[o],u=c.x,l=c.y,f=d.x,p=d.y;l>n!=p>n&&r<(f-u)*(n-l)/(p-l)+u&&(s=!s)}return s}function Uct(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return zct(r,t)}function u0(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Vct=woe,Wct=K3,qct=Coe,Gct=joe,Yct=J3,Kct=Eoe,Zct=JN,Xct=_oe,Qct=koe,Jct=Poe,edt=Roe,tdt=Moe,rdt=Ooe,ndt=Loe,sdt=$oe,e_="DropdownMenu",[adt,Bxt]=Yn(e_,[yoe]),pa=yoe(),[idt,Hoe]=adt(e_),zoe=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:c=!0}=e,d=pa(t),u=b.useRef(null),[l,f]=qi({prop:s,defaultProp:i??!1,onChange:o,caller:e_});return a.jsx(idt,{scope:t,triggerId:rs(),triggerRef:u,contentId:rs(),open:l,onOpenChange:f,onOpenToggle:b.useCallback(()=>f(p=>!p),[f]),modal:c,children:a.jsx(Vct,{...d,open:l,onOpenChange:f,dir:n,modal:c,children:r})})};zoe.displayName=e_;var Uoe="DropdownMenuTrigger",Voe=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=Hoe(Uoe,r),o=pa(r);return a.jsx(Wct,{asChild:!0,...o,children:a.jsx(Je.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:gc(t,i.triggerRef),onPointerDown:At(e.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:At(e.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});Voe.displayName=Uoe;var odt="DropdownMenuPortal",Woe=e=>{const{__scopeDropdownMenu:t,...r}=e,n=pa(t);return a.jsx(qct,{...n,...r})};Woe.displayName=odt;var qoe="DropdownMenuContent",Goe=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Hoe(qoe,r),i=pa(r),o=b.useRef(!1);return a.jsx(Gct,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:At(e.onCloseAutoFocus,c=>{o.current||s.triggerRef.current?.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:At(e.onInteractOutside,c=>{const d=c.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0,l=d.button===2||u;(!s.modal||l)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Goe.displayName=qoe;var ldt="DropdownMenuGroup",cdt=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=pa(r);return a.jsx(Yct,{...s,...n,ref:t})});cdt.displayName=ldt;var ddt="DropdownMenuLabel",Yoe=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=pa(r);return a.jsx(Kct,{...s,...n,ref:t})});Yoe.displayName=ddt;var udt="DropdownMenuItem",Koe=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=pa(r);return a.jsx(Zct,{...s,...n,ref:t})});Koe.displayName=udt;var fdt="DropdownMenuCheckboxItem",Zoe=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=pa(r);return a.jsx(Xct,{...s,...n,ref:t})});Zoe.displayName=fdt;var hdt="DropdownMenuRadioGroup",mdt=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=pa(r);return a.jsx(Qct,{...s,...n,ref:t})});mdt.displayName=hdt;var pdt="DropdownMenuRadioItem",Xoe=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=pa(r);return a.jsx(Jct,{...s,...n,ref:t})});Xoe.displayName=pdt;var gdt="DropdownMenuItemIndicator",Qoe=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=pa(r);return a.jsx(edt,{...s,...n,ref:t})});Qoe.displayName=gdt;var xdt="DropdownMenuSeparator",Joe=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=pa(r);return a.jsx(tdt,{...s,...n,ref:t})});Joe.displayName=xdt;var vdt="DropdownMenuArrow",ydt=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=pa(r);return a.jsx(rdt,{...s,...n,ref:t})});ydt.displayName=vdt;var bdt="DropdownMenuSubTrigger",ele=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=pa(r);return a.jsx(ndt,{...s,...n,ref:t})});ele.displayName=bdt;var wdt="DropdownMenuSubContent",tle=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=pa(r);return a.jsx(sdt,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tle.displayName=wdt;var Sdt=zoe,Cdt=Voe,jdt=Woe,rle=Goe,nle=Yoe,sle=Koe,ale=Zoe,ile=Xoe,ole=Qoe,lle=Joe,cle=ele,dle=tle;const Dy=Sdt,Ry=Cdt,Edt=b.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(cle,{ref:s,className:J("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,a.jsx(Qi,{className:"ml-auto"})]}));Edt.displayName=cle.displayName;const Ndt=b.forwardRef(({className:e,...t},r)=>a.jsx(dle,{ref:r,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));Ndt.displayName=dle.displayName;const wg=b.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(jdt,{children:a.jsx(rle,{ref:n,sideOffset:t,className:J("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));wg.displayName=rle.displayName;const xo=b.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(sle,{ref:n,className:J("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...r}));xo.displayName=sle.displayName;const _dt=b.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(ale,{ref:s,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(ole,{children:a.jsx(iE,{className:"h-4 w-4"})})}),t]}));_dt.displayName=ale.displayName;const Adt=b.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(ile,{ref:n,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(ole,{children:a.jsx(SY,{className:"h-2 w-2 fill-current"})})}),t]}));Adt.displayName=ile.displayName;const kdt=b.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(nle,{ref:n,className:J("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));kdt.displayName=nle.displayName;const Tdt=b.forwardRef(({className:e,...t},r)=>a.jsx(lle,{ref:r,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));Tdt.displayName=lle.displayName;const Pdt=({storeId:e,onView:t,onEdit:r,onViewHierarchy:n})=>a.jsxs(Dy,{children:[a.jsx(Ry,{asChild:!0,children:a.jsxs(X,{variant:"ghost",className:"h-6 w-6 sm:h-8 sm:w-8 p-0 text-muted-foreground bg-transparent hover:bg-muted/50",children:[a.jsx("span",{className:"sr-only",children:"Open menu"}),a.jsx(D0,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})}),a.jsxs(wg,{align:"end",className:"min-w-[140px] sm:min-w-[160px] bg-popover border border-border shadow-md",children:[a.jsxs(xo,{onClick:()=>t(e),className:"text-xs sm:text-sm px-2 py-1.5 sm:px-3 sm:py-2 cursor-pointer text-popover-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",children:[a.jsx(Cs,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),a.jsx("span",{children:"View Details"})]}),a.jsxs(xo,{onClick:()=>r(e),className:"text-xs sm:text-sm px-2 py-1.5 sm:px-3 sm:py-2 cursor-pointer text-popover-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",children:[a.jsx(vi,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),a.jsx("span",{children:"Edit Store"})]}),a.jsxs(xo,{onClick:()=>n(e),className:"text-xs sm:text-sm px-2 py-1.5 sm:px-3 sm:py-2 cursor-pointer text-popover-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",children:[a.jsx(Ake,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),a.jsx("span",{children:"View Hierarchy"})]})]})]}),Ddt=({store:e,onView:t,onEdit:r,onViewHierarchy:n})=>a.jsxs(_t,{className:"border-border bg-card hover:bg-muted/50 transition-colors",children:[a.jsx(ke,{className:"font-medium text-xs sm:text-sm p-2 sm:p-4 text-foreground",children:a.jsx("div",{className:"truncate max-w-[5rem] sm:max-w-none",title:e.id,children:e.id})}),a.jsx(ke,{className:"p-2 sm:p-4",children:a.jsx("div",{className:"text-xs sm:text-sm truncate max-w-[8rem] sm:max-w-none text-foreground",title:e.name,children:e.name})}),a.jsx(ke,{className:"p-2 sm:p-4",children:a.jsx(Ze,{variant:e.statusBadgeVariant,className:`text-xs px-1 py-0.5 sm:px-2 sm:py-1 ${e.statusBadgeClassName}`,children:e.statusText})}),a.jsx(ke,{className:"text-xs sm:text-sm p-2 sm:p-4 hidden sm:table-cell text-muted-foreground",children:e.formattedDate}),a.jsx(ke,{className:"text-right p-2 sm:p-4",children:a.jsx("div",{className:"flex justify-end",children:a.jsx(Pdt,{storeId:e.id,onView:t,onEdit:r,onViewHierarchy:n})})})]},e.id),Rdt=({storeRowsData:e,onView:t,onEdit:r,onViewHierarchy:n})=>a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(rn,{className:"min-w-full",children:[a.jsx(nn,{className:"bg-muted border-b border-border",children:a.jsxs(_t,{className:"border-border",children:[a.jsx(Re,{className:"min-w-[6rem] text-xs sm:text-sm text-foreground font-semibold",children:"Store ID"}),a.jsx(Re,{className:"min-w-[10rem] text-xs sm:text-sm text-foreground font-semibold",children:"Name"}),a.jsx(Re,{className:"min-w-[5rem] text-xs sm:text-sm text-foreground font-semibold",children:"Status"}),a.jsx(Re,{className:"min-w-[8rem] text-xs sm:text-sm hidden sm:table-cell text-foreground font-semibold",children:"Created"}),a.jsx(Re,{className:"min-w-[5rem] text-right text-xs sm:text-sm text-foreground font-semibold",children:"Actions"})]})}),a.jsx(sn,{children:e.map(s=>a.jsx(Ddt,{store:s,onView:t,onEdit:r,onViewHierarchy:n},s.id))})]})}),Mdt=({loading:e,stores:t,storeRowsData:r,onView:n,onEdit:s,onViewHierarchy:i})=>a.jsx(Ee,{className:"p-0 bg-card",children:e?a.jsx("div",{className:"flex items-center justify-center h-48 sm:h-64 bg-card",children:a.jsx(xu,{message:"Loading stores...",size:"medium",className:"h-48 sm:h-64 bg-card text-muted-foreground"})}):t.length?a.jsx(Rdt,{storeRowsData:r,onView:n,onEdit:s,onViewHierarchy:i}):a.jsx("div",{className:"text-center py-6 sm:py-8 bg-card",children:a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No stores found."})})}),Odt=({perPage:e,perPageOptions:t,loading:r,paginationState:n,pagination:s,resultsText:i,onPerPageChange:o,onPreviousPage:c,onNextPage:d})=>a.jsxs("div",{className:"px-4 py-3 border-t border-border bg-card flex flex-col lg:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Show"}),a.jsxs(Wt,{value:e.toString(),onValueChange:o,disabled:r,children:[a.jsx(zt,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:a.jsx(qt,{})}),a.jsx(Ut,{className:"bg-popover border-border",children:t.map(u=>a.jsx(pt,{value:u,children:u},u))})]}),a.jsx("span",{className:"text-muted-foreground",children:"per page"})]}),n.shouldShowPagination&&s&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(X,{variant:"outline",size:"sm",onClick:c,disabled:n.isPrevDisabled,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Prev"}),a.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground",children:["Page ",n.currentPage," of ",s.last_page]}),a.jsx(X,{variant:"outline",size:"sm",onClick:d,disabled:n.isNextDisabled,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Next"})]}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:i})]}),Idt=["5","10","15","25","50"],Ldt=({onCreateStore:e})=>{const t=Ot(),r=$t(),{stores:n,loading:s,error:i,pagination:o,refetch:c,changePage:d,currentPageData:u}=Po(),l=pe(y0),f=b.useMemo(()=>n,[n]),p=b.useCallback(P=>{t(`/stores/view/${P}`)},[t]),g=b.useCallback(P=>{t(`/stores/edit/${P}`)},[t]),x=b.useCallback(()=>{c()},[c]),S=b.useCallback(()=>{e?e():t("/stores/create")},[e,t]),m=b.useCallback(P=>{t(`/stores-hierarchy/view/${P}`)},[t]),y=b.useCallback(P=>{d(P)},[d]),w=b.useCallback(async P=>{const M=parseInt(P,10);r(Kj(M)),await c({per_page:M,page:1})},[r,c]),C=b.useCallback(P=>new Date(P).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),[]),E=b.useMemo(()=>{const P=!!(o&&o.last_page>1),M=o?.current_page||1,O=M<=1||s,R=M>=(o?.last_page||1)||s;return{shouldShowPagination:P,currentPage:M,isPrevDisabled:O,isNextDisabled:R}},[o,s]),N=b.useMemo(()=>{if(s)return"Loading...";if(!f.length)return"No results";const{from:P,to:M,total:O}=u;return O<=l?`${O} result${O!==1?"s":""}`:`Showing ${P} to ${M} of ${O} results`},[s,f.length,u,l]),k=b.useCallback(()=>{y(E.currentPage-1)},[y,E.currentPage]),A=b.useCallback(()=>{y(E.currentPage+1)},[y,E.currentPage]),T=b.useMemo(()=>f.map(P=>({...P,formattedDate:C(P.created_at),statusBadgeVariant:P.is_active?"default":"secondary",statusBadgeClassName:P.is_active?"bg-primary text-primary-foreground border-primary":"bg-secondary text-secondary-foreground border-border",statusText:P.is_active?"Active":"Inactive"})),[f,C]);return a.jsxs("div",{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[i&&a.jsx(mct,{error:i}),a.jsxs(Se,{className:"rounded-sm bg-card border border-border shadow-lg",children:[a.jsx(pct,{onCreateStore:S,onRefresh:x,loading:s}),a.jsx(Mdt,{loading:s,stores:f,storeRowsData:T,onView:p,onEdit:g,onViewHierarchy:m}),a.jsx(Odt,{perPage:l,perPageOptions:Idt,loading:s,paginationState:E,pagination:o,resultsText:N,onPerPageChange:w,onPreviousPage:k,onNextPage:A})]})]})},Bdt=()=>{const e=Ot(),t=()=>{e("/stores/create")};return a.jsx(Qt,{title:"Stores Management",subtitle:"Manage your store locations and settings",children:a.jsx(Ldt,{onCreateStore:t})})},$dt=Ct({key:st().min(1,"Key is required").min(2,"Key must be at least 2 characters"),value:st().min(1,"Value is required")}),ule=Ct({name:st().min(1,"Store name is required").min(2,"Store name must be at least 2 characters"),is_active:_n(),metadata:dr($dt).refine(e=>{const t=e.map(r=>r.key.toLowerCase());return t.length===new Set(t).size},{message:"Duplicate metadata keys are not allowed"})}),Fdt=ule.extend({id:st().min(1,"Store ID is required").min(3,"Store ID must be at least 3 characters")}),Hdt=ule.extend({id:st().min(1,"Store ID is required")}),pW=e=>Object.entries(e).map(([t,r])=>({key:t,value:String(r)})),zdt=e=>e.reduce((t,{key:r,value:n})=>(r.trim()&&n.trim()&&(t[r.trim()]=n.trim()),t),{}),FP={base:"w-full bg-background text-foreground border-input focus:ring-ring",error:"border-destructive focus:ring-destructive",small:"text-xs sm:text-sm",normal:"text-sm sm:text-base"},gW={base:"font-medium text-foreground",small:"text-xs sm:text-sm",normal:"text-sm sm:text-base"},xW={responsive:"text-sm sm:text-base px-4 sm:px-6 py-2 sm:py-3"},Nj=(e,t="normal")=>`${FP.base} ${FP[t]} ${e?FP.error:""}`,Dp=(e="normal")=>`${gW.base} ${gW[e]}`,Udt=({mode:e})=>a.jsxs("div",{className:"mb-6 sm:mb-8",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-foreground mb-2",children:e==="create"?"Store Information":"Edit Store Information"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e==="create"?"Please fill in all required fields to create a new store.":"Update the store information below."})]}),Vdt=({mode:e,initialData:t,register:r,formErrors:n})=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs($e,{htmlFor:"id",className:Dp("normal"),children:["Store ID ",e==="create"?"*":""]}),a.jsx(et,{id:"id",type:"text",placeholder:e==="create"?"Enter unique store ID":"",value:e==="edit"&&t?t.id:void 0,disabled:e==="edit",className:Nj(!!n.id,"normal"),...e==="create"?r("id"):{}}),n.id&&a.jsx("p",{className:"text-xs sm:text-sm text-destructive",children:n.id.message})]}),Wdt=({register:e,formErrors:t})=>a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"name",className:Dp("normal"),children:"Store Name *"}),a.jsx(et,{id:"name",type:"text",placeholder:"Enter store name",className:Nj(!!t.name,"normal"),...e("name")}),t.name&&a.jsx("p",{className:"text-xs sm:text-sm text-destructive",children:t.name.message})]}),qdt=({index:e,register:t,formErrors:r,remove:n,loading:s,isSubmitting:i})=>a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 p-4 border border-border rounded-lg bg-card",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{className:Dp("small"),children:"Key"}),a.jsx(et,{type:"text",placeholder:"Enter key",className:Nj(!!r.metadata?.[e]?.key,"small"),...t(`metadata.${e}.key`)}),r.metadata?.[e]?.key&&a.jsx("p",{className:"text-xs text-destructive",children:r.metadata[e].key.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx($e,{className:Dp("small"),children:"Value"}),a.jsx(X,{type:"button",variant:"ghost",size:"sm",onClick:()=>n(e),disabled:s||i,className:"text-destructive hover:text-destructive hover:bg-destructive/10 p-1 h-auto",children:a.jsx(ZAe,{className:"h-3 w-3"})})]}),a.jsx(et,{type:"text",placeholder:"Enter value",className:Nj(!!r.metadata?.[e]?.value,"small"),...t(`metadata.${e}.value`)}),r.metadata?.[e]?.value&&a.jsx("p",{className:"text-xs text-destructive",children:r.metadata[e].value.message})]})]}),Gdt=({fields:e,append:t,remove:r,register:n,formErrors:s,loading:i,isSubmitting:o})=>{const c=()=>{t({key:"",value:""})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx($e,{className:Dp("normal"),children:"Metadata"}),a.jsxs(X,{type:"button",variant:"outline",size:"sm",onClick:c,disabled:i||o,className:"text-xs sm:text-sm",children:[a.jsx(br,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),"Add Metadata"]})]}),e.length===0&&a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:'No metadata entries. Click "Add Metadata" to add key-value pairs.'}),s.metadata&&a.jsx("p",{className:"text-xs sm:text-sm text-destructive",children:s.metadata.message}),e.map((d,u)=>a.jsx(qdt,{index:u,register:n,formErrors:s,remove:r,loading:i,isSubmitting:o},d.id))]})},Ydt=({control:e})=>a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 py-2",children:[a.jsx(L3,{name:"is_active",control:e,render:({field:t})=>a.jsx(Ss,{id:"is_active",checked:t.value,onCheckedChange:t.onChange,className:"data-[state=checked]:bg-primary data-[state=unchecked]:bg-input"})}),a.jsx($e,{htmlFor:"is_active",className:`${Dp("normal")} cursor-pointer`,children:"Store is active"})]}),Kdt=({mode:e,loading:t,isSubmitting:r})=>a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 sm:gap-4 pt-6 sm:pt-8 border-t border-border",children:[a.jsx(X,{type:"button",variant:"outline",onClick:()=>window.history.back(),disabled:t||r,className:`w-full sm:w-auto order-2 sm:order-1 ${xW.responsive} border-border hover:bg-accent hover:text-accent-foreground`,children:"Cancel"}),a.jsxs(X,{type:"submit",disabled:t||r,className:`w-full sm:w-auto order-1 sm:order-2 ${xW.responsive} bg-primary hover:bg-primary/90 text-primary-foreground`,children:[(t||r)&&a.jsx(bt,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4 animate-spin"}),e==="create"?"Create Store":"Update Store"]})]}),fle=({mode:e,initialData:t,onSubmit:r,loading:n=!1,error:s})=>{const i=e==="create"?Fdt:Hdt,o=b.useMemo(()=>e==="edit"&&t?{id:t.id,name:t.name,is_active:t.is_active,metadata:pW(t.metadata||{})}:{...e==="create"&&{id:""},name:"",is_active:!0,metadata:[]},[e,t]),{control:c,register:d,handleSubmit:u,formState:{errors:l,isSubmitting:f},reset:p}=fa({resolver:Ma(i),defaultValues:o,mode:"onBlur"}),{fields:g,append:x,remove:S}=Rot({control:c,name:"metadata"});b.useEffect(()=>{e==="edit"&&t&&p({id:t.id,name:t.name,is_active:t.is_active,metadata:pW(t.metadata||{})})},[e,t,p]);const m=async y=>{try{const w=zdt(y.metadata);if(e==="create"){const C={id:y.id,name:y.name,metadata:w,is_active:y.is_active};await r(C)}else{const C={name:y.name,metadata:w,is_active:y.is_active};await r(C)}}catch(w){console.error("Form submission error:",w)}};return a.jsxs("div",{className:"w-full",children:[a.jsx(Udt,{mode:e}),s&&a.jsxs(at,{variant:"destructive",className:"mb-6",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{children:s})]}),a.jsxs("form",{onSubmit:u(m),className:"space-y-4 sm:space-y-6",children:[a.jsx(Vdt,{mode:e,initialData:t,register:d,formErrors:l}),a.jsx(Wdt,{register:d,formErrors:l}),a.jsx(Gdt,{fields:g,append:x,remove:S,register:d,formErrors:l,loading:n,isSubmitting:f}),a.jsx(Ydt,{control:c}),a.jsx(Kdt,{mode:e,loading:n,isSubmitting:f})]})]})},Zdt=()=>{const e=Ot(),t=$t(),r=pe(i=>i.stores.asyncStates.createStore.loading),n=pe(i=>i.stores.asyncStates.createStore.error),s=async i=>{try{await t(Y1(i)).unwrap(),Ye.success("Store created successfully!",{description:`Store "${"name"in i?i.name:"New store"}" has been created.`}),e("/stores")}catch(o){console.error("Failed to create store:",o),Ye.error("Failed to create store",{description:"Please check the form and try again."})}};return a.jsx(Qt,{title:"Create New Store",subtitle:"Add a new store to your system with all the necessary details.",backButton:{show:!0},children:a.jsx("div",{className:"bg-card border border-border rounded-lg shadow-sm",children:a.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:a.jsx(fle,{mode:"create",onSubmit:s,loading:r,error:n})})})})},Xdt=()=>{const e=Ot(),t=$t(),{storeId:r}=Ia(),n=pe(u=>u.stores.currentStore),s=pe(u=>u.stores.asyncStates.fetchStore.loading),i=pe(u=>u.stores.asyncStates.fetchStore.error),o=pe(u=>u.stores.asyncStates.updateStore.loading),c=pe(u=>u.stores.asyncStates.updateStore.error);b.useEffect(()=>{r&&t(xv(r))},[t,r]);const d=async u=>{if(!r){Ye.error("Store ID is missing");return}try{await t(K1({storeId:r,payload:u})).unwrap(),Ye.success("Store updated successfully!",{description:`Store "${u.name}" has been updated.`}),e(`/stores/view/${r}`)}catch(l){console.error("Failed to update store:",l),Ye.error("Failed to update store",{description:"Please check the form and try again."})}};return r?i&&!s?a.jsx(Qt,{title:"Edit Store",subtitle:"Failed to load store data",backButton:{show:!0},children:a.jsxs(at,{variant:"destructive",className:"max-w-2xl mx-auto",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsxs(it,{children:["Failed to load store data: ",i]})]})}):s||!n?a.jsx(Qt,{title:"Edit Store",subtitle:"Loading store data...",backButton:{show:!0},children:a.jsx(Se,{className:"w-full max-w-2xl mx-auto",children:a.jsx(Ee,{className:"p-6",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{className:"h-4 w-20"}),a.jsx(Xe,{className:"h-10 w-full"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{className:"h-4 w-16"}),a.jsx(Xe,{className:"h-10 w-full"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{className:"h-4 w-24"}),a.jsx(Xe,{className:"h-10 w-full"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{className:"h-4 w-16"}),a.jsx(Xe,{className:"h-20 w-full"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Xe,{className:"h-6 w-10"}),a.jsx(Xe,{className:"h-4 w-24"})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[a.jsx(Xe,{className:"h-10 w-20"}),a.jsx(Xe,{className:"h-10 w-28"})]})]})})})}):a.jsx(Qt,{title:"Edit Store",subtitle:`Update the details for store: ${n.name}`,backButton:{show:!0},children:a.jsx("div",{className:"w-full max-w-4xl mx-auto",children:a.jsx(Se,{children:a.jsx(Ee,{className:"p-6",children:a.jsx(fle,{mode:"edit",initialData:n,onSubmit:d,loading:o,error:c})})})})}):a.jsx(Qt,{title:"Edit Store",subtitle:"Store ID is missing",backButton:{show:!0},children:a.jsxs(at,{variant:"destructive",className:"max-w-2xl mx-auto",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{children:"Store ID is missing from the URL. Please navigate to this page from the stores list."})]})})},r5=()=>{const e=$t(),t=pe(Dm("assign"))==="pending",r=pe(Dm("remove"))==="pending",n=pe(Dm("toggle"))==="pending",s=pe(Dm("bulkAssign"))==="pending",i=pe(Rm("assign")),o=pe(Rm("remove")),c=pe(Rm("toggle")),d=pe(Rm("bulkAssign")),u=b.useCallback(g=>e(Z1(g)),[e]),l=b.useCallback(g=>e(X1(g)),[e]),f=b.useCallback(g=>e(Q1(g)),[e]),p=b.useCallback(g=>e(J1(g)),[e]);return b.useMemo(()=>({assignUserRole:u,removeUserRole:l,toggleUserRoleStatus:f,bulkAssignUserRoles:p,isAssigning:t,isRemoving:r,isToggling:n,isBulkAssigning:s,assignError:i,removeError:o,toggleError:c,bulkAssignError:d}),[u,l,f,p,t,r,n,s,i,o,c,d])},n5=()=>{const e=$t(),t=pe(t0e),r=pe(r0e),n=pe(Dm("fetchStoreAssignments"))==="pending",s=pe(Dm("fetchUserAssignments"))==="pending",i=pe(Rm("fetchStoreAssignments")),o=pe(Rm("fetchUserAssignments")),c=b.useCallback(m=>t.storeAssignments[m]||[],[t.storeAssignments]),d=b.useCallback(m=>t.userAssignments[m]||[],[t.userAssignments]),u=b.useCallback(()=>t.assignments,[t.assignments]),l=b.useCallback(m=>e(eS({store_id:m})),[e]),f=b.useCallback(m=>e(tS({user_id:m})),[e]),p=b.useCallback(()=>n,[n]),g=b.useCallback(()=>s,[s]),x=b.useCallback(()=>i,[i]),S=b.useCallback(()=>o,[o]);return b.useMemo(()=>({getStoreAssignments:c,getUserAssignments:d,getAllAssignments:u,fetchStoreAssignments:l,fetchUserAssignments:f,isLoadingStoreAssignments:p,isLoadingUserAssignments:g,isLoading:r,getStoreAssignmentsError:x,getUserAssignmentsError:S}),[c,d,u,l,f,p,g,r,x,S])},hle=()=>{const e=r5(),t=n5();return b.useMemo(()=>({...e,...t}),[e,t])},mle=ve.memo(({assignment:e})=>a.jsxs(_t,{children:[a.jsx(ke,{className:"py-2 sm:py-4",children:a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[a.jsx("div",{className:"h-6 w-6 sm:h-8 sm:w-8 rounded-full flex items-center justify-center bg-primary/10",children:a.jsx("span",{className:"text-xs sm:text-sm font-medium text-primary",children:e.userInitials||a.jsx(Da,{className:"h-3 w-3"})})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"font-medium text-xs sm:text-sm truncate",children:e.user?.name||`User ID: ${e.user_id}`}),a.jsxs("div",{className:"text-xs text-muted-foreground truncate",children:["ID: ",e.user_id]}),e.user?.email&&a.jsxs("div",{className:"sm:hidden text-xs text-muted-foreground truncate mt-1",children:[e.user.email,e.user.email_verified_at&&a.jsx("span",{className:"ml-2 text-xs text-green-500",children:" Verified"})]})]})]})}),a.jsx(ke,{className:"hidden sm:table-cell py-2 sm:py-4",children:e.user?.email?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Kp,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"}),a.jsx("span",{className:"text-xs sm:text-sm truncate max-w-[150px] lg:max-w-none",children:e.user.email})]}),e.user.email_verified_at&&a.jsx("div",{className:"text-xs mt-1 text-green-500",children:"Verified"})]}):a.jsx("div",{className:"text-xs text-muted-foreground",children:"No email available"})}),a.jsx(ke,{className:"py-2 sm:py-4",children:a.jsx(Ze,{variant:"outline",className:"text-xs",children:e.formattedRole})}),a.jsx(ke,{className:"py-2 sm:py-4",children:a.jsx(Ze,{variant:e.is_active?"default":"secondary",className:`text-xs ${e.is_active?"bg-green-500 text-white hover:bg-green-600":""}`,children:e.is_active?"Active":"Inactive"})}),a.jsx(ke,{className:"hidden md:table-cell py-2 sm:py-4",children:a.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-muted-foreground",children:[a.jsx(ua,{className:"h-3 w-3 sm:h-4 sm:w-4"}),a.jsx("span",{className:"whitespace-nowrap",children:e.formattedDate})]})})]}));mle.displayName="StoreUsersTableRow";const ple=ve.memo(({assignments:e})=>a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(rn,{children:[a.jsx(nn,{children:a.jsxs(_t,{children:[a.jsx(Re,{className:"min-w-[200px] sm:min-w-[250px]",children:"User"}),a.jsx(Re,{className:"hidden sm:table-cell min-w-[200px]",children:"Email"}),a.jsx(Re,{className:"min-w-[100px]",children:"Role"}),a.jsx(Re,{className:"min-w-[80px]",children:"Status"}),a.jsx(Re,{className:"hidden md:table-cell min-w-[120px]",children:"Assigned"})]})}),a.jsx(sn,{children:e.map(t=>a.jsx(mle,{assignment:t},t.uniqueKey))})]})}));ple.displayName="StoreUsersTable";const gle=ve.memo(()=>a.jsxs("div",{className:"text-center py-6 sm:py-8 px-4",children:[a.jsx(Ur,{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 text-muted-foreground mb-3 sm:mb-4"}),a.jsx("h3",{className:"text-base sm:text-lg font-medium text-muted-foreground mb-2",children:"No user assignments"}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-4 max-w-sm mx-auto",children:"This store doesn't have any user role assignments yet."})]}));gle.displayName="StoreUsersEmptyState";const Qdt=3,xle=ve.memo(()=>a.jsx("div",{className:"space-y-2 sm:space-y-3",children:[...Array(Qdt)].map((e,t)=>a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 p-2 sm:p-4",children:[a.jsx(Xe,{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full"}),a.jsxs("div",{className:"space-y-1 sm:space-y-2 flex-1",children:[a.jsx(Xe,{className:"h-3 sm:h-4 w-24 sm:w-32"}),a.jsx(Xe,{className:"h-2 sm:h-3 w-32 sm:w-48"})]}),a.jsx(Xe,{className:"h-5 sm:h-6 w-16 sm:w-20"}),a.jsx(Xe,{className:"h-3 sm:h-4 w-20 sm:w-24"})]},t))}));xle.displayName="StoreUsersLoadingSkeleton";const Jdt={year:"numeric",month:"short",day:"numeric"},vle=ve.memo(({storeId:e})=>{const{getStoreAssignments:t,fetchStoreAssignments:r,isLoadingStoreAssignments:n,getStoreAssignmentsError:s}=n5(),i=t(e),o=n(),c=s(),d=b.useCallback(()=>{e&&r(e)},[e,r]);b.useEffect(()=>{d()},[d]);const u=b.useCallback(()=>{d()},[d]),l=b.useCallback(x=>new Date(x).toLocaleDateString("en-US",Jdt),[]),f=b.useCallback(x=>x.role?.name||`Role ID: ${x.role_id}`,[]),p=b.useCallback(x=>x.split(" ").map(S=>S.charAt(0)).join("").toUpperCase().substring(0,2),[]),g=b.useMemo(()=>i.map(x=>({...x,formattedDate:l(x.created_at),formattedRole:f(x),userInitials:x.user?.name?p(x.user.name):null,uniqueKey:x.id||`${x.user_id}-${x.role_id}`})),[i,l,f,p]);return a.jsxs(Se,{className:"w-full",children:[a.jsx(Me,{className:"px-3 sm:px-6 py-3 sm:py-4",children:a.jsx("div",{className:"flex items-center justify-between flex-wrap gap-2",children:a.jsxs("div",{className:"flex items-center space-x-2 min-w-0 flex-1",children:[a.jsx(Ur,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"}),a.jsx(Ve,{className:"text-sm sm:text-base lg:text-lg truncate",children:"Store User Assignments"}),a.jsx(Ze,{variant:"secondary",className:"ml-2 text-xs px-2 py-1 flex-shrink-0",children:i.length})]})})}),a.jsxs(Ee,{className:"px-3 sm:px-6 py-3 sm:py-4",children:[c&&a.jsxs(at,{variant:"destructive",className:"mb-3 sm:mb-4",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsxs(it,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[a.jsxs("span",{className:"text-xs sm:text-sm",children:["Failed to load user assignments: ",c.message]}),a.jsxs(X,{variant:"outline",size:"sm",onClick:u,className:"h-8 text-xs self-start sm:self-auto",children:[a.jsx(Tn,{className:"mr-2 h-3 w-3"}),"Retry"]})]})]}),o&&a.jsx(xle,{}),!o&&!c&&i.length===0&&a.jsx(gle,{}),!o&&!c&&i.length>0&&a.jsx("div",{className:"rounded-md border overflow-hidden",children:a.jsx(ple,{assignments:g})})]})]})});vle.displayName="StoreUsersSection";const yle=ve.memo(({assignment:e,formatDate:t,getRoleIcon:r})=>a.jsxs(_t,{children:[a.jsx(ke,{className:"py-3 sm:py-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[a.jsx("div",{className:"h-6 w-6 sm:h-8 sm:w-8 rounded bg-primary/10 flex items-center justify-center mx-auto sm:mx-0 flex-shrink-0",children:a.jsx("span",{className:"text-sm sm:text-lg",children:r(e.role?.name||"Role")})}),a.jsxs("div",{className:"text-center sm:text-left min-w-0",children:[a.jsx("div",{className:"font-medium text-sm sm:text-base truncate",children:e.role?.name||`Role ID: ${e.role_id}`}),a.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground",children:["Role ID: ",e.role_id]}),a.jsx("div",{className:"md:hidden mt-1 space-y-1",children:a.jsxs("div",{className:"flex items-center justify-center space-x-1 text-xs text-muted-foreground",children:[a.jsx(Da,{className:"h-3 w-3"}),a.jsx("span",{children:e.user?.name||`User ID: ${e.user_id}`})]})})]})]})}),a.jsx(ke,{className:"hidden md:table-cell py-3 sm:py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Da,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground flex-shrink-0"}),a.jsx("span",{className:"text-xs sm:text-sm truncate",children:e.user?.name||`User ID: ${e.user_id}`})]})}),a.jsxs(ke,{className:"py-3 sm:py-4",children:[a.jsx("div",{className:"flex justify-center sm:justify-start",children:a.jsx(Ze,{variant:e.is_active?"default":"secondary",className:`text-xs sm:text-sm ${e.is_active?"bg-[#d1fae5] text-[#065f46] dark:bg-[#064e3b] dark:text-[#10b981]":""}`,children:e.is_active?"Active":"Inactive"})}),a.jsxs("div",{className:"lg:hidden mt-1 flex items-center justify-center sm:justify-start space-x-1 text-xs text-muted-foreground",children:[a.jsx(ua,{className:"h-3 w-3"}),a.jsx("span",{children:t(e.created_at)})]})]}),a.jsx(ke,{className:"hidden lg:table-cell py-3 sm:py-4",children:a.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-muted-foreground",children:[a.jsx(ua,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),a.jsx("span",{children:t(e.created_at)})]})})]}));yle.displayName="AssignmentRow";const eut=({assignments:e})=>{const t=b.useCallback(n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),[]),r=b.useCallback(n=>{const s=n.toLowerCase();return s.includes("admin")||s.includes("manager")?"":s.includes("user")||s.includes("member")?"":s.includes("viewer")||s.includes("read")?"":""},[]);return a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(rn,{children:[a.jsx(nn,{children:a.jsxs(_t,{children:[a.jsx(Re,{className:"min-w-[200px] sm:min-w-[250px]",children:"Role"}),a.jsx(Re,{className:"hidden md:table-cell min-w-[140px]",children:"User"}),a.jsx(Re,{className:"min-w-[80px]",children:"Status"}),a.jsx(Re,{className:"hidden lg:table-cell min-w-[120px]",children:"Assigned"})]})}),a.jsx(sn,{children:e.map(n=>a.jsx(yle,{assignment:n,formatDate:t,getRoleIcon:r},n.id||`${n.role_id}-${n.user_id}`))})]})})},ble=ve.memo(()=>a.jsx("div",{className:"space-y-2 sm:space-y-3",children:[...Array(3)].map((e,t)=>a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-4 p-3 sm:p-4",children:[a.jsx(Xe,{className:"h-8 w-8 sm:h-10 sm:w-10 rounded mx-auto sm:mx-0"}),a.jsxs("div",{className:"space-y-2 flex-1 text-center sm:text-left",children:[a.jsx(Xe,{className:"h-3 sm:h-4 w-24 sm:w-32 mx-auto sm:mx-0"}),a.jsx(Xe,{className:"h-3 w-32 sm:w-48 mx-auto sm:mx-0"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-2",children:[a.jsx(Xe,{className:"h-5 sm:h-6 w-16 sm:w-20"}),a.jsx(Xe,{className:"h-3 sm:h-4 w-20 sm:w-24"})]})]},t))}));ble.displayName="LoadingSkeleton";const wle=ve.memo(()=>a.jsxs("div",{className:"text-center py-6 sm:py-8 lg:py-12 px-4",children:[a.jsx(tn,{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 lg:h-16 lg:w-16 text-muted-foreground mb-3 sm:mb-4"}),a.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-medium text-muted-foreground mb-2",children:"No role assignments"}),a.jsx("p",{className:"text-xs sm:text-sm lg:text-base text-muted-foreground mb-4 max-w-md mx-auto",children:"This store doesn't have any role assignments yet."})]}));wle.displayName="EmptyState";const tut=({storeId:e})=>{const{getStoreAssignments:t,fetchStoreAssignments:r,isLoadingStoreAssignments:n,getStoreAssignmentsError:s}=n5(),i=t(e),o=n(),c=s();b.useEffect(()=>{e&&r(e)},[e,r]);const d=b.useCallback(()=>{e&&r(e)},[e,r]),u=b.useMemo(()=>i.length,[i.length]);return a.jsxs(Se,{className:"w-full",children:[a.jsx(Me,{className:"pb-3 sm:pb-6",children:a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:a.jsxs("div",{className:"flex items-center justify-center sm:justify-start space-x-2",children:[a.jsx(tn,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-primary"}),a.jsx(Ve,{className:"text-base sm:text-lg lg:text-xl",children:"Store Role Assignments"}),a.jsx(Ze,{variant:"secondary",className:"ml-1 sm:ml-2 text-xs sm:text-sm",children:u})]})})}),a.jsxs(Ee,{className:"px-3 sm:px-6 pb-3 sm:pb-6",children:[c&&a.jsxs(at,{variant:"destructive",className:"mb-3 sm:mb-4",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsxs(it,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[a.jsxs("span",{className:"text-sm",children:["Failed to load role assignments: ",c.message]}),a.jsxs(X,{variant:"outline",size:"sm",onClick:d,className:"sm:ml-4 h-8 text-xs sm:text-sm w-full sm:w-auto",children:[a.jsx(Tn,{className:"mr-1 sm:mr-2 h-3 w-3"}),"Retry"]})]})]}),o&&a.jsx(ble,{}),!o&&!c&&u===0&&a.jsx(wle,{}),!o&&!c&&u>0&&a.jsx("div",{className:"rounded-md border border-border bg-card",children:a.jsx(eut,{assignments:i})})]})]})},rut=e=>{switch(e.toLowerCase()){case"active":return"bg-[#d1fae5] text-[#064e3b] border-[#a7f3d0] dark:bg-[#064e3b] dark:text-[#d1fae5] dark:border-[#065f46]";case"inactive":return"bg-[#fecaca] text-[#7f1d1d] border-[#fca5a5] dark:bg-[#7f1d1d] dark:text-[#fecaca] dark:border-[#991b1b]";case"pending":return"bg-[#fef3c7] text-[#92400e] border-[#fde68a] dark:bg-[#92400e] dark:text-[#fef3c7] dark:border-[#b45309]";default:return"bg-secondary text-secondary-foreground border-border"}},nut=({store:e})=>a.jsxs(Se,{children:[a.jsx(Me,{className:"pb-3 sm:pb-6",children:a.jsxs(Ve,{className:"flex items-center space-x-2 text-base sm:text-lg",children:[a.jsx(un,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a.jsx("span",{children:"Basic Information"})]})}),a.jsxs(Ee,{className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1 sm:gap-0",children:[a.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Store ID"}),a.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[a.jsx(oE,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"}),a.jsx("span",{className:"font-mono text-xs sm:text-sm break-all",children:e.id})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1 sm:gap-0",children:[a.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Name"}),a.jsx("span",{className:"font-medium text-sm sm:text-base break-words",children:e.name})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1 sm:gap-0",children:[a.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Status"}),a.jsx(Ze,{className:`text-xs sm:text-sm ${rut(e.is_active?"active":"inactive")}`,children:e.is_active?"Active":"Inactive"})]})]})]}),vW=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),sut=({store:e})=>a.jsxs(Se,{children:[a.jsx(Me,{className:"pb-3 sm:pb-6",children:a.jsxs(Ve,{className:"flex items-center space-x-2 text-base sm:text-lg",children:[a.jsx(M8,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a.jsx("span",{children:"Location & Contact"})]})}),a.jsxs(Ee,{className:"space-y-3 sm:space-y-4",children:[e.metadata?.address&&a.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[a.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Address"}),a.jsxs("div",{className:"flex items-start space-x-1 sm:space-x-2",children:[a.jsx(M8,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground mt-0.5 shrink-0"}),a.jsx("span",{className:"text-xs sm:text-sm break-words",children:e.metadata.address})]})]}),e.metadata?.phone&&a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1 sm:gap-0",children:[a.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Phone"}),a.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[a.jsx(rke,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"}),a.jsx("span",{className:"text-xs sm:text-sm break-all",children:e.metadata.phone})]})]}),a.jsx(Xs,{className:"my-2 sm:my-4"}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1 sm:gap-0",children:[a.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Created"}),a.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[a.jsx(ua,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"}),a.jsx("span",{className:"text-xs sm:text-sm break-words",children:vW(e.created_at)})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1 sm:gap-0",children:[a.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Last Updated"}),a.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[a.jsx(dc,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"}),a.jsx("span",{className:"text-xs sm:text-sm break-words",children:vW(e.updated_at)})]})]})]})]}),aut=()=>a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[a.jsxs(Se,{children:[a.jsx(Me,{className:"pb-3 sm:pb-6",children:a.jsx(Xe,{className:"h-5 w-28 sm:h-6 sm:w-32"})}),a.jsx(Ee,{className:"space-y-3 sm:space-y-4",children:[...Array(4)].map((e,t)=>a.jsxs("div",{className:"flex justify-between",children:[a.jsx(Xe,{className:"h-3 w-20 sm:h-4 sm:w-24"}),a.jsx(Xe,{className:"h-3 w-24 sm:h-4 sm:w-32"})]},t))})]}),a.jsxs(Se,{children:[a.jsx(Me,{className:"pb-3 sm:pb-6",children:a.jsx(Xe,{className:"h-5 w-28 sm:h-6 sm:w-32"})}),a.jsx(Ee,{className:"space-y-3 sm:space-y-4",children:[...Array(3)].map((e,t)=>a.jsxs("div",{className:"flex justify-between",children:[a.jsx(Xe,{className:"h-3 w-20 sm:h-4 sm:w-24"}),a.jsx(Xe,{className:"h-3 w-24 sm:h-4 sm:w-32"})]},t))})]})]}),iut=()=>{const{id:e}=Ia(),t=Ot(),{store:r,loading:n,error:s}=hct(e||null),i=b.useCallback(()=>{e&&t(`/stores/edit/${e}`)},[e,t]),o=b.useCallback(c=>{t(`/stores-hierarchy/view/${c}`)},[t]);return n?a.jsx(Qt,{title:"Loading...",subtitle:"Please wait while we load the store details",backButton:{show:!0,to:"/stores"},children:a.jsx(aut,{})}):s?a.jsx(Qt,{title:"Error",subtitle:"Failed to load store details",backButton:{show:!0,to:"/stores"},children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs(at,{variant:"destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsxs(it,{className:"text-sm sm:text-base",children:["Failed to load store details: ",s]})]})})}):r?a.jsx(Qt,{title:r.name,subtitle:`Store ID: ${r.id}`,backButton:{show:!0,to:"/stores"},mainButtons:a.jsxs(X,{onClick:i,children:[a.jsx(vi,{className:"mr-2 h-4 w-4"}),"Edit Store"]}),subButtons:a.jsxs(X,{variant:"outline",onClick:()=>o(r.id),children:[a.jsx(OAe,{className:"mr-2 h-4 w-4"}),"View Hierarchy"]}),children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[a.jsx(nut,{store:r}),a.jsx(sut,{store:r})]}),a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsx(vle,{storeId:r.id}),a.jsx(tut,{storeId:r.id})]})]})}):a.jsx(Qt,{title:"Store Not Found",subtitle:"The store may have been deleted or the ID is invalid",backButton:{show:!0,to:"/stores"},children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs(at,{children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{className:"text-sm sm:text-base",children:"Store not found. The store may have been deleted or the ID is invalid."})]})})})},out=[a.jsx(Dt,{path:"/stores",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(Bdt,{})})})})},"stores-list"),a.jsx(Dt,{path:"/stores/create",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(Zdt,{})})})})},"create-store"),a.jsx(Dt,{path:"/stores/edit/:storeId",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(Xdt,{})})})})},"edit-store"),a.jsx(Dt,{path:"/stores/view/:id",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(iut,{})})})})},"view-store")],lut=({loading:e,onRefresh:t})=>a.jsx(Me,{className:"mb-0 bg-muted border-b",style:{color:"var(--card-foreground)"},children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[a.jsx(Ve,{className:"text-lg sm:text-xl text-card-foreground",children:"Users"}),a.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4 w-full sm:w-auto",children:a.jsx("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:a.jsxs(X,{variant:"outline",size:"sm",onClick:t,disabled:e,className:`flex items-center gap-2 bg-secondary text-secondary-foreground border-border ${e?"opacity-60":""}`,children:[a.jsx(Tn,{className:`h-4 w-4 ${e?"animate-spin":""}`}),a.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]})})})]})}),cut=({user:e,onView:t,onAssign:r})=>a.jsxs(_t,{className:"border-border bg-card hover:bg-muted/50",children:[a.jsx(ke,{className:"font-medium text-xs sm:text-sm p-2 sm:p-4 text-foreground",children:a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[a.jsx("div",{className:"h-6 w-6 sm:h-8 sm:w-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium text-primary-foreground",style:{backgroundColor:"var(--primary)"},children:Zr.formatInitials(e.name)}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"text-xs sm:text-sm font-medium truncate text-foreground",title:Zr.formatDisplayName(e.name),children:Zr.formatDisplayName(e.name)}),a.jsxs("div",{className:"sm:hidden mt-1 space-y-1",children:[e.roles&&e.roles.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.roles.slice(0,2).map(n=>a.jsx(Ze,{variant:"outline",className:"text-xs px-1 py-0.5 bg-secondary text-secondary-foreground border-border",children:n.name},n.id)),e.roles.length>2&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.roles.length-2]})]}),e.stores&&e.stores.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.stores.slice(0,2).map(n=>a.jsx(Ze,{variant:"secondary",className:"text-xs px-1 py-0.5 bg-accent text-accent-foreground border-border",children:n.store.name},n.store.id)),e.stores.length>2&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.stores.length-2]})]})]})]})]})}),a.jsx(ke,{className:"p-2 sm:p-4 hidden sm:table-cell",children:a.jsx("div",{className:"space-y-1 max-w-[20rem] lg:max-w-none",children:e.roles&&e.roles.length>0?a.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.roles.slice(0,4).map(n=>a.jsx(Ze,{variant:"outline",className:"text-xs px-1 py-0.5 bg-secondary text-secondary-foreground border-border",children:a.jsx("span",{className:"truncate max-w-[8rem]",title:n.name,children:n.name})},n.id)),e.roles.length>4&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.roles.length-4]})]}):a.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"No roles"})})}),a.jsx(ke,{className:"p-2 sm:p-4 hidden md:table-cell",children:a.jsx("div",{className:"space-y-1 max-w-[20rem] lg:max-w-none",children:e.stores&&e.stores.length>0?a.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.stores.slice(0,4).map(n=>a.jsx(Ze,{variant:"secondary",className:"text-xs px-1 py-0.5 bg-accent text-accent-foreground border-border",children:a.jsx("span",{className:"truncate max-w-[7rem]",title:n.store.name,children:n.store.name})},n.store.id)),e.stores.length>4&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.stores.length-4]})]}):a.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"No stores"})})}),a.jsx(ke,{className:"text-right p-2 sm:p-4",children:a.jsxs("div",{className:"flex items-center justify-end gap-1 sm:gap-2",children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:()=>r(e.id),className:"text-xs px-2 py-1 sm:px-3 sm:py-2 h-auto bg-secondary text-secondary-foreground border-border",children:[a.jsx(_Y,{className:"h-3 w-3 sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"Assign"})]}),a.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>t(e.id),className:"text-xs px-2 py-1 sm:px-3 sm:py-2 h-auto text-muted-foreground bg-transparent",children:[a.jsx(Cs,{className:"h-3 w-3 sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"View"})]})]})})]}),dut=()=>a.jsx("div",{className:"flex items-center justify-center h-48 sm:h-64 bg-card",children:a.jsx(xu,{message:"Loading users...",size:"medium",className:"h-48 sm:h-64 bg-card text-muted-foreground"})}),uut=()=>a.jsx("div",{className:"text-center py-6 sm:py-8 bg-card",children:a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No users found."})}),fut=({users:e,loading:t,onView:r,onAssign:n})=>t?a.jsx(dut,{}):e.length?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(rn,{className:"min-w-full",children:[a.jsx(nn,{className:"bg-muted border-b",children:a.jsxs(_t,{className:"border-border",children:[a.jsx(Re,{className:"min-w-[10rem] text-xs sm:text-sm text-foreground font-semibold",children:"Name"}),a.jsx(Re,{className:"min-w-[8rem] text-xs sm:text-sm hidden sm:table-cell text-foreground font-semibold",children:"Roles"}),a.jsx(Re,{className:"min-w-[8rem] text-xs sm:text-sm hidden md:table-cell text-foreground font-semibold",children:"Stores"}),a.jsx(Re,{className:"min-w-[6rem] text-xs sm:text-sm text-right text-foreground font-semibold",children:"Actions"})]})}),a.jsx(sn,{children:e.map(s=>a.jsx(cut,{user:s,onView:r,onAssign:n},s.id))})]})}):a.jsx(uut,{}),hut=["5","10","15","20","25","50"],Sle=b.memo(({loading:e,users:t,pagination:r,currentPage:n,perPage:s,onPerPageChange:i,onPreviousPage:o,onNextPage:c})=>{const d=b.useMemo(()=>s.toString(),[s]),u=b.useMemo(()=>!e&&t.length>0,[e,t.length]),l=b.useMemo(()=>r&&r.lastPage>1,[r]),f=b.useMemo(()=>n<=1,[n]),p=b.useMemo(()=>n>=(r?.lastPage||1),[n,r?.lastPage]),g=b.useMemo(()=>r?`${r.from} to ${r.to} of ${r.total} users`:`1 to ${t.length} of ${t.length} users`,[r,t.length]);return u?a.jsxs("div",{className:"px-4 py-3 border-t bg-card flex flex-col lg:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Show"}),a.jsxs(Wt,{value:d,onValueChange:i,children:[a.jsx(zt,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:a.jsx(qt,{})}),a.jsx(Ut,{className:"bg-popover border-border",children:hut.map(x=>a.jsx(pt,{value:x,children:x},x))})]}),a.jsx("span",{className:"text-muted-foreground",children:"per page"})]}),l&&r&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(X,{variant:"outline",size:"sm",onClick:o,disabled:f,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Prev"}),a.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground",children:["Page ",n," of ",r.lastPage]}),a.jsx(X,{variant:"outline",size:"sm",onClick:c,disabled:p,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Next"})]}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:g})]}):null});Sle.displayName="UsersTableFooter";const mut=()=>{const e=Ot(),t=$t(),{users:r,loading:n,error:s,pagination:i,refetch:o,perPage:c,setPerPage:d}=vg(),u=S=>{e(`/user-role-store-assignment/view/user/${S}`)},l=S=>{e(`/user-role-store-assignment/assign?userId=${S}`)},f=S=>{t(oc({page:S,per_page:c}))},p=async S=>{const m=parseInt(S,10);d(m),t(oc({page:1,per_page:m}))},g=()=>{i&&i.currentPage>1&&f(i.currentPage-1)},x=()=>{i&&i.currentPage<i.lastPage&&f(i.currentPage+1)};return a.jsxs("div",{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[s&&a.jsxs(at,{variant:"destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsxs(it,{children:["Error loading users: ",s]})]}),a.jsxs(Se,{className:"rounded-sm border shadow-sm",style:{backgroundColor:"var(--card)",boxShadow:"var(--shadow-realistic)"},children:[a.jsx(lut,{loading:n,onRefresh:o}),a.jsx(Ee,{className:"p-0 bg-card",children:a.jsx(fut,{users:r,loading:n,onView:u,onAssign:l})}),a.jsx(Sle,{loading:n,users:r,pagination:i,currentPage:i?.currentPage||1,perPage:c,onPerPageChange:p,onPreviousPage:g,onNextPage:x})]})]})},put=({loading:e,onRetry:t})=>a.jsx(Me,{className:"mb-0 bg-muted border-b border-border",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[a.jsx(Ve,{className:"text-lg sm:text-xl text-card-foreground",children:"Stores"}),a.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4 w-full sm:w-auto",children:a.jsx("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:a.jsxs(X,{variant:"outline",size:"sm",onClick:t,disabled:e,className:`flex items-center gap-2 border-border ${e?"bg-muted text-secondary-foreground opacity-60":"bg-secondary text-secondary-foreground"}`,children:[a.jsx(Tn,{className:`h-4 w-4 ${e?"animate-spin":""}`}),a.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]})})})]})}),gut=({store:e,onView:t,onAssign:r})=>a.jsxs(_t,{className:"border-border bg-card hover:bg-muted/50",children:[a.jsx(ke,{className:"font-medium text-xs sm:text-sm p-2 sm:p-4 text-foreground",children:a.jsx("div",{className:"truncate max-w-[5rem] sm:max-w-none",title:e.id,children:e.id})}),a.jsx(ke,{className:"p-2 sm:p-4",children:a.jsx("div",{className:"text-xs sm:text-sm truncate max-w-[8rem] sm:max-w-none text-foreground",title:e.name,children:e.name})}),a.jsx(ke,{className:"p-2 sm:p-4",children:a.jsx(Ze,{variant:e.is_active?"default":"secondary",className:`text-xs px-1 py-0.5 sm:px-2 sm:py-1 ${e.is_active?"bg-primary text-primary-foreground border-primary":"bg-secondary text-secondary-foreground border-border"}`,children:e.is_active?"Active":"Inactive"})}),a.jsx(ke,{className:"text-right p-2 sm:p-4",children:a.jsxs("div",{className:"flex items-center justify-end gap-1 sm:gap-2",children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:()=>r(e.id),className:"text-xs px-2 py-1 sm:px-3 sm:py-2 h-auto bg-secondary text-secondary-foreground border-border",children:[a.jsx(_Y,{className:"h-3 w-3 sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"Assign"})]}),a.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>t(e.id),className:"text-xs px-2 py-1 sm:px-3 sm:py-2 h-auto text-muted-foreground bg-transparent",children:[a.jsx(Cs,{className:"h-3 w-3 sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"View"})]})]})})]}),xut=({stores:e,loading:t,onView:r,onAssign:n})=>t?a.jsx("div",{className:"flex items-center justify-center h-48 sm:h-64 bg-card",children:a.jsx(xu,{message:"Loading stores...",size:"medium",className:"h-48 sm:h-64 bg-card text-muted-foreground"})}):e.length?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(rn,{className:"min-w-full",children:[a.jsx(nn,{className:"bg-muted border-b border-border",children:a.jsxs(_t,{className:"border-border",children:[a.jsx(Re,{className:"min-w-[6rem] text-xs sm:text-sm text-foreground font-semibold",children:"Store ID"}),a.jsx(Re,{className:"min-w-[10rem] text-xs sm:text-sm text-foreground font-semibold",children:"Name"}),a.jsx(Re,{className:"min-w-[5rem] text-xs sm:text-sm text-foreground font-semibold",children:"Status"}),a.jsx(Re,{className:"min-w-[5rem] text-right text-xs sm:text-sm text-foreground font-semibold",children:"Actions"})]})}),a.jsx(sn,{children:e.map(s=>a.jsx(gut,{store:s,onView:r,onAssign:n},s.id))})]})}):a.jsx("div",{className:"text-center py-6 sm:py-8 bg-card",children:a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No stores found."})}),vut=["5","10","15","25","50"],yut=({stores:e,loading:t,pagination:r,perPage:n,currentPageData:s,onPageChange:i,onPerPageChange:o})=>{const c=b.useMemo(()=>{const f=!!(r&&r.last_page>1),p=r?.current_page||1,g=p<=1||t,x=p>=(r?.last_page||1)||t;return{shouldShowPagination:f,currentPage:p,isPrevDisabled:g,isNextDisabled:x}},[r,t]),d=b.useMemo(()=>{if(t)return"Loading...";if(!e.length)return"No results";const{from:f,to:p,total:g}=s;return g<=n?`${g} result${g!==1?"s":""}`:`Showing ${f} to ${p} of ${g} results`},[t,e.length,s,n]),u=b.useCallback(()=>{i(c.currentPage-1)},[i,c.currentPage]),l=b.useCallback(()=>{i(c.currentPage+1)},[i,c.currentPage]);return a.jsxs("div",{className:"px-4 py-3 border-t border-border bg-card flex flex-col lg:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Show"}),a.jsxs(Wt,{value:n.toString(),onValueChange:o,disabled:t,children:[a.jsx(zt,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:a.jsx(qt,{})}),a.jsx(Ut,{className:"bg-popover border-border",children:vut.map(f=>a.jsx(pt,{value:f,children:f},f))})]}),a.jsx("span",{className:"text-muted-foreground",children:"per page"})]}),c.shouldShowPagination&&r&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(X,{variant:"outline",size:"sm",onClick:u,disabled:c.isPrevDisabled,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Prev"}),a.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground",children:["Page ",c.currentPage," of ",r.last_page]}),a.jsx(X,{variant:"outline",size:"sm",onClick:l,disabled:c.isNextDisabled,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Next"})]}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:d})]})},but=({stores:e,loading:t,pagination:r,perPage:n,currentPageData:s,onView:i,onAssign:o,onRetry:c,onPageChange:d,onPerPageChange:u})=>a.jsxs(Se,{className:"rounded-sm bg-card border border-border",style:{boxShadow:"var(--shadow-realistic)"},children:[a.jsx(put,{loading:t,onRetry:c}),a.jsx(Ee,{className:"p-0 bg-card",children:a.jsx(xut,{stores:e,loading:t,onView:i,onAssign:o})}),a.jsx(yut,{stores:e,loading:t,pagination:r,perPage:n,currentPageData:s,onPageChange:d,onPerPageChange:u})]}),wut=()=>{const e=Ot(),t=$t(),{stores:r,loading:n,error:s,pagination:i,refetch:o,changePage:c,currentPageData:d}=Po(),u=pe(y0),l=b.useCallback(S=>{e(`/user-role-store-assignment/view/store/${S}`)},[e]),f=b.useCallback(S=>{e(`/user-role-store-assignment/assign?storeId=${S}`)},[e]),p=b.useCallback(()=>{o()},[o]),g=b.useCallback(S=>{c(S)},[c]),x=b.useCallback(async S=>{const m=parseInt(S,10);t(Kj(m)),await o({per_page:m,page:1})},[t,o]);return a.jsxs("div",{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[s&&a.jsxs(at,{variant:"destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsxs(it,{children:["Failed to load stores: ",s]})]}),a.jsx(but,{stores:r,loading:n,pagination:i,perPage:u,currentPageData:d,onView:l,onAssign:f,onRetry:p,onPageChange:g,onPerPageChange:x})]})},Sut=()=>{const e=Ot(),t=b.useCallback(()=>{e("/user-role-store-assignment/assign")},[e]),r=b.useCallback(()=>{e("/user-role-store-assignment/bulk")},[e]),n=b.useMemo(()=>a.jsxs(X,{onClick:t,className:"flex items-center justify-center gap-2 w-full sm:w-auto px-4 py-2 sm:px-6 sm:py-3 text-sm sm:text-base",children:[a.jsx(Ur,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Assign Roles"]}),[t]),s=b.useMemo(()=>a.jsxs(X,{onClick:r,variant:"outline",className:"flex items-center justify-center gap-2 w-full sm:w-auto px-4 py-2 sm:px-6 sm:py-3 text-sm sm:text-base",children:[a.jsx(bke,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Bulk Assign"]}),[r]);return a.jsxs(Qt,{title:"User Role Store Assignment",subtitle:"Manage user role assignments across different stores. Search and assign roles to users and stores.",mainButtons:n,subButtons:s,children:[a.jsx(mut,{}),a.jsx(wut,{})]})},Cle=b.memo(({assignment:e,getRoleName:t,getStoreName:r,onToggleStatus:n,onDelete:s,isUpdating:i,formatDate:o})=>{const c=b.useMemo(()=>t(e.role_id),[t,e.role_id]),d=b.useMemo(()=>r(e.store_id),[r,e.store_id]),u=b.useMemo(()=>o(e.created_at),[o,e.created_at]),l=b.useMemo(()=>o(e.updated_at),[o,e.updated_at]),f=b.useCallback(()=>{n(e)},[n,e]),p=b.useCallback(()=>{s(e)},[s,e]);return a.jsxs(_t,{children:[a.jsx(ke,{className:"font-mono text-xs sm:text-sm py-2 sm:py-4",children:a.jsx("div",{className:"truncate max-w-[80px] sm:max-w-none",children:e.id})}),a.jsx(ke,{className:"py-2 sm:py-4",children:a.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[a.jsx(tn,{className:"h-3 w-3 sm:h-4 sm:w-4 text-chart-4 flex-shrink-0"}),a.jsxs("span",{className:"font-medium text-xs sm:text-sm truncate",children:[c," "]})]})}),a.jsx(ke,{className:"py-2 sm:py-4 hidden sm:table-cell",children:a.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[a.jsx(ui,{className:"h-3 w-3 sm:h-4 sm:w-4 text-chart-3 flex-shrink-0"}),a.jsxs("span",{className:"font-medium text-xs sm:text-sm truncate",children:[d," "]})]})}),a.jsx(ke,{className:"py-2 sm:py-4",children:a.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[a.jsx(Ss,{checked:e.is_active,onCheckedChange:f,disabled:!e.id||i,className:"scale-75 sm:scale-100"}),a.jsxs(Ze,{variant:e.is_active?"default":"secondary",className:"text-xs px-1 sm:px-2 py-0.5",children:[a.jsx("span",{className:"hidden sm:inline",children:e.is_active?"Active":"Inactive"}),a.jsx("span",{className:"sm:hidden",children:e.is_active?"A":"I"})]}),e.id&&i&&a.jsx(bt,{className:"h-3 w-3 sm:h-4 sm:w-4 animate-spin"})]})}),a.jsx(ke,{className:"text-xs sm:text-sm text-muted-foreground py-2 sm:py-4 hidden md:table-cell",children:a.jsxs("div",{className:"truncate",children:[u," "]})}),a.jsx(ke,{className:"text-xs sm:text-sm text-muted-foreground py-2 sm:py-4 hidden lg:table-cell",children:a.jsxs("div",{className:"truncate",children:[l," "]})}),a.jsx(ke,{className:"text-right py-2 sm:py-4",children:a.jsxs(Dy,{modal:!1,children:[a.jsx(Ry,{asChild:!0,children:a.jsxs(X,{variant:"ghost",className:"h-6 w-6 sm:h-8 sm:w-8 p-0",children:[a.jsx("span",{className:"sr-only",children:"Open menu"}),a.jsx(D0,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})}),a.jsx(wg,{align:"end",className:"w-48",children:a.jsxs(xo,{onClick:p,className:"text-destructive focus:text-destructive text-xs sm:text-sm",children:[a.jsx(ss,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Delete Assignment"}),a.jsx("span",{className:"sm:hidden",children:"Delete"})]})})]})})]})});Cle.displayName="AssignmentTableRow";const Cut=({assignments:e,loading:t,error:r,getRoleName:n,getStoreName:s,onToggleStatus:i,onDelete:o,updatingAssignments:c,formatDate:d,onAssignRole:u})=>a.jsxs(Se,{className:"w-full",children:[a.jsx(Me,{className:"px-4 sm:px-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Da,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a.jsx(Ve,{className:"text-lg sm:text-xl",children:"Role Assignments"})]}),a.jsxs(X,{onClick:u,className:"flex items-center gap-2",children:[a.jsx(br,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Assign Role"})]})]})}),a.jsx(Ee,{className:"px-0 sm:px-6",children:r?a.jsxs("div",{className:"text-destructive text-center py-4 px-4 sm:px-0",children:["Error loading assignments: ",r.message||"Unknown error"]}):t?a.jsxs("div",{className:"flex items-center justify-center py-8 px-4 sm:px-0",children:[a.jsx(bt,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin"}),a.jsx("span",{className:"ml-2 text-sm sm:text-base",children:"Loading assignments..."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(rn,{className:"min-w-full",children:[a.jsx(nn,{children:a.jsxs(_t,{children:[a.jsx(Re,{className:"text-xs sm:text-sm font-medium",children:"Assignment ID"}),a.jsx(Re,{className:"text-xs sm:text-sm font-medium",children:"Role"}),a.jsx(Re,{className:"text-xs sm:text-sm font-medium hidden sm:table-cell",children:"Store"}),a.jsx(Re,{className:"text-xs sm:text-sm font-medium",children:"Status"}),a.jsx(Re,{className:"text-xs sm:text-sm font-medium hidden md:table-cell",children:"Assigned Date"}),a.jsx(Re,{className:"text-xs sm:text-sm font-medium hidden lg:table-cell",children:"Updated Date"}),a.jsx(Re,{className:"text-xs sm:text-sm font-medium text-right",children:"Actions"})]})}),a.jsx(sn,{children:e.length===0?a.jsx(_t,{children:a.jsx(ke,{colSpan:7,className:"text-center py-6 sm:py-8 text-muted-foreground text-sm sm:text-base",children:"No role assignments found for this user"})}):e.map(l=>a.jsx(Cle,{assignment:l,getRoleName:n,getStoreName:s,onToggleStatus:i,onDelete:o,isUpdating:l.id?c.has(l.id):!1,formatDate:d},l.id))})]})})})]}),jle=b.memo(({open:e,onOpenChange:t,assignment:r,onConfirm:n,getRoleName:s,getStoreName:i})=>{const o=b.useMemo(()=>r?s(r.role_id):"",[r,s]),c=b.useMemo(()=>r?i(r.store_id):"",[r,i]),d=b.useMemo(()=>r?a.jsxs("span",{className:"font-medium",children:[" ","for ",o," in ",c]}):null,[r,o,c]),u=b.useCallback(()=>{n()},[n]),l=b.useCallback(f=>{t(f)},[t]);return a.jsx(Uc,{open:e,onOpenChange:l,children:a.jsxs(vl,{className:"mx-4 sm:mx-auto max-w-sm sm:max-w-lg",children:[a.jsxs(yl,{className:"space-y-2 sm:space-y-3",children:[a.jsx(wl,{className:"text-lg sm:text-xl",children:"Are you absolutely sure?"}),a.jsxs(Sl,{className:"text-sm sm:text-base",children:["This action cannot be undone. This will permanently delete the role assignment",d,"."]})]}),a.jsxs(bl,{className:"flex-col sm:flex-row gap-2 sm:gap-0",children:[a.jsx(jl,{className:"w-full sm:w-auto order-2 sm:order-1",children:"Cancel"}),a.jsxs(Cl,{onClick:u,className:"w-full sm:w-auto order-1 sm:order-2 bg-destructive hover:bg-destructive/90 text-destructive-foreground",children:[a.jsx("span",{className:"hidden sm:inline",children:"Delete Assignment"}),a.jsx("span",{className:"sm:hidden",children:"Delete"})]})]})]})})});jle.displayName="DeleteAssignmentDialog";const jut={year:"numeric",month:"short",day:"numeric"},Eut=()=>{const{userId:e}=Ia(),t=Ot(),r=b.useMemo(()=>e?parseInt(e):0,[e]),{getUserAssignments:n,fetchUserAssignments:s,isLoadingUserAssignments:i,getUserAssignmentsError:o,toggleUserRoleStatus:c,removeUserRole:d}=hle(),[u,l]=b.useState(!1),[f,p]=b.useState(null),[g,x]=b.useState(new Set);b.useEffect(()=>{r&&s(r)},[r,s]);const S=b.useMemo(()=>n(r),[n,r]),m=b.useMemo(()=>i(),[i]),y=b.useMemo(()=>o(),[o]),w=b.useCallback(()=>{t("/user-role-store-assignment")},[t]),C=b.useCallback(()=>{t(`/user-role-store-assignment/assign?userId=${e}`)},[t,e]),E=b.useCallback(B=>S.find($=>$.role_id===B)?.role?.name||`Role ID: ${B}`,[S]),N=b.useCallback(B=>S.find($=>$.store_id===B)?.store?.name||B,[S]),k=b.useCallback(async B=>{if(!(!B.id||g.has(B.id))){x(F=>new Set(F).add(B.id));try{await c({user_id:B.user_id,role_id:B.role_id,store_id:B.store_id}),s(r)}catch(F){console.error("Failed to toggle assignment status:",F)}finally{x(F=>{const $=new Set(F);return B.id&&$.delete(B.id),$})}}},[g,c,s,r]),A=b.useCallback(B=>{p(B),l(!0)},[]),T=b.useCallback(async()=>{if(f)try{await d({user_id:f.user_id,role_id:f.role_id,store_id:f.store_id}),l(!1),p(null),s(r)}catch(B){console.error("Failed to delete assignment:",B)}},[f,d,s,r]),P=b.useCallback(B=>{l(B),B||p(null)},[]),M=b.useCallback(B=>new Date(B).toLocaleDateString("en-US",jut),[]),O=b.useMemo(()=>({title:"User Role Assignments",subtitle:`View all role assignments for User ID: ${e}`,backButton:{show:!0,onClick:w}}),[e,w]),R=b.useMemo(()=>({assignments:S,loading:m,error:y,getRoleName:E,getStoreName:N,onToggleStatus:k,onDelete:A,updatingAssignments:g,formatDate:M,onAssignRole:C}),[S,m,y,E,N,k,A,g,M,C]),L=b.useMemo(()=>({open:u,onOpenChange:P,assignment:f,onConfirm:T,getRoleName:E,getStoreName:N}),[u,P,f,T,E,N]);return a.jsxs(Qt,{...O,children:[a.jsx(Cut,{...R}),a.jsx(jle,{...L})]})},Nut=()=>a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 sm:py-12 space-y-3",children:[a.jsx(bt,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-primary"}),a.jsx("span",{className:"text-sm sm:text-base text-primary",children:"Loading assignments..."})]}),_ut=({error:e})=>a.jsxs("div",{className:"text-center py-6 sm:py-8 text-destructive",children:[a.jsx("p",{className:"text-sm sm:text-base font-medium",children:"Error loading assignments"}),a.jsx("p",{className:"text-xs sm:text-sm mt-1 opacity-80",children:e?.message||"Unknown error"})]}),Aut=()=>a.jsx(_t,{children:a.jsx(ke,{colSpan:7,className:"text-center py-8 sm:py-12 text-muted-foreground",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(ui,{className:"h-8 w-8 sm:h-12 sm:w-12 opacity-50 text-muted-foreground"}),a.jsx("p",{className:"text-sm sm:text-base font-medium",children:"No role assignments found"}),a.jsx("p",{className:"text-xs sm:text-sm opacity-75",children:"This store has no role assignments yet"})]})})}),kut=({assignment:e,getUserName:t,getRoleName:r,formatDate:n,onToggleStatus:s,onDeleteClick:i,isUpdating:o})=>a.jsxs(_t,{children:[a.jsx(ke,{className:"font-mono text-xs sm:text-sm py-3",children:a.jsx("span",{className:"px-2 py-1 rounded text-xs bg-muted text-muted-foreground",children:e.id})}),a.jsx(ke,{className:"py-3",children:a.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[a.jsx(Da,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0 text-chart-4"}),a.jsx("span",{className:"font-medium text-xs sm:text-sm truncate",children:t(e.user_id)})]})}),a.jsx(ke,{className:"py-3",children:a.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[a.jsx(tn,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0 text-chart-3"}),a.jsx("span",{className:"font-medium text-xs sm:text-sm truncate",children:r(e.role_id)})]})}),a.jsx(ke,{className:"py-3",children:a.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[a.jsx(Ss,{checked:e.is_active,onCheckedChange:()=>s(e),disabled:!e.id||o,className:"scale-75 sm:scale-100"}),a.jsxs(Ze,{variant:e.is_active?"default":"secondary",className:"text-xs px-1.5 py-0.5 sm:px-2 sm:py-1",children:[a.jsx("span",{className:"hidden sm:inline",children:e.is_active?"Active":"Inactive"}),a.jsx("span",{className:"sm:hidden",children:e.is_active?"On":"Off"})]}),o&&a.jsx(bt,{className:"h-3 w-3 sm:h-4 sm:w-4 animate-spin text-primary"})]})}),a.jsx(ke,{className:"text-xs sm:text-sm py-3 hidden md:table-cell text-muted-foreground",children:a.jsx("div",{className:"flex flex-col",children:a.jsx("span",{children:n(e.created_at)})})}),a.jsx(ke,{className:"text-xs sm:text-sm py-3 hidden lg:table-cell text-muted-foreground",children:a.jsx("div",{className:"flex flex-col",children:a.jsx("span",{children:n(e.updated_at)})})}),a.jsx(ke,{className:"text-right py-3",children:a.jsxs(Dy,{modal:!1,children:[a.jsx(Ry,{asChild:!0,children:a.jsxs(X,{variant:"ghost",className:"h-6 w-6 p-0 sm:h-8 sm:w-8",size:"sm",children:[a.jsx("span",{className:"sr-only",children:"Open menu"}),a.jsx(D0,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})}),a.jsx(wg,{align:"end",className:"w-48",children:a.jsxs(xo,{onClick:()=>i(e),className:"text-xs sm:text-sm text-destructive",children:[a.jsx(ss,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Delete Assignment"}),a.jsx("span",{className:"sm:hidden",children:"Delete"})]})})]})})]},e.id),Ele=ve.memo(({assignments:e,loading:t,error:r,getUserName:n,getRoleName:s,formatDate:i,onToggleStatus:o,onDeleteClick:c,onAssignRole:d,updatingAssignments:u})=>{const l=b.useMemo(()=>e.length===0?a.jsx(Aut,{}):e.map(p=>a.jsx(kut,{assignment:p,getUserName:n,getRoleName:s,formatDate:i,onToggleStatus:o,onDeleteClick:c,isUpdating:p.id?u.has(p.id):!1},p.id)),[e,n,s,i,o,c,u]),f=b.useMemo(()=>r?a.jsx(_ut,{error:r}):t?a.jsx(Nut,{}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(rn,{className:"min-w-full",children:[a.jsx(nn,{children:a.jsxs(_t,{children:[a.jsx(Re,{className:"text-xs sm:text-sm min-w-[100px]",children:"Assignment ID"}),a.jsx(Re,{className:"text-xs sm:text-sm min-w-[120px]",children:"User"}),a.jsx(Re,{className:"text-xs sm:text-sm min-w-[100px]",children:"Role"}),a.jsx(Re,{className:"text-xs sm:text-sm min-w-[120px]",children:"Status"}),a.jsx(Re,{className:"text-xs sm:text-sm min-w-[120px] hidden md:table-cell",children:"Assigned Date"}),a.jsx(Re,{className:"text-xs sm:text-sm min-w-[120px] hidden lg:table-cell",children:"Updated Date"}),a.jsx(Re,{className:"text-xs sm:text-sm text-right min-w-[80px]",children:"Actions"})]})}),a.jsx(sn,{children:l})]})}),[r,t,l]);return a.jsxs(Se,{className:"shadow-md",children:[a.jsx(Me,{className:"pb-4",children:a.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ui,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),a.jsx(Ve,{className:"text-lg sm:text-xl",children:"Role Assignments"})]}),a.jsxs(X,{onClick:d,className:"flex items-center gap-2 w-full sm:w-auto",size:"sm",children:[a.jsx(br,{className:"h-4 w-4"}),a.jsx("span",{className:"sm:inline",children:"Assign Role"})]})]})}),a.jsx(Ee,{className:"px-3 sm:px-6",children:f})]})});Ele.displayName="AssignmentsCard";const Tut=({open:e,onOpenChange:t,assignmentToDelete:r,getUserName:n,getRoleName:s,onConfirm:i})=>a.jsx(Uc,{open:e,onOpenChange:t,children:a.jsxs(vl,{className:"mx-4 max-w-md sm:max-w-lg",children:[a.jsxs(yl,{className:"space-y-3",children:[a.jsx(wl,{className:"text-lg sm:text-xl",children:"Are you absolutely sure?"}),a.jsxs(Sl,{className:"text-sm sm:text-base leading-relaxed",children:["This action cannot be undone. This will permanently delete the role assignment",r&&a.jsxs("span",{className:"font-medium block mt-2 p-2 rounded bg-muted text-foreground",children:["User: ",n(r.user_id),a.jsx("br",{}),"Role: ",s(r.role_id)]}),"."]})]}),a.jsxs(bl,{className:"flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:[a.jsx(jl,{className:"w-full sm:w-auto order-2 sm:order-1",children:"Cancel"}),a.jsxs(Cl,{onClick:i,className:"w-full sm:w-auto order-1 sm:order-2 text-destructive-foreground bg-destructive",children:[a.jsx(ss,{className:"mr-2 h-4 w-4"}),"Delete Assignment"]})]})]})}),Put=()=>{const{storeId:e}=Ia(),t=Ot(),{getStoreAssignments:r,fetchStoreAssignments:n,isLoadingStoreAssignments:s,getStoreAssignmentsError:i,toggleUserRoleStatus:o,removeUserRole:c}=hle(),[d,u]=b.useState(!1),[l,f]=b.useState(null),[p,g]=b.useState(new Set),[x,S]=b.useState(null),m=r(e||""),y=s(),w=i();b.useEffect(()=>{e&&n(e)},[e,n]),b.useEffect(()=>{if(x){const O=setTimeout(()=>{S(null)},5e3);return()=>clearTimeout(O)}},[x]);const C=b.useCallback(O=>m.find(L=>L.user_id===O)?.user?.name||`User ID: ${O}`,[m]),E=b.useCallback(O=>m.find(L=>L.role_id===O)?.role?.name||`Role ID: ${O}`,[m]),N=b.useCallback(async O=>{if(!(!O.id||p.has(O.id))){g(R=>new Set(R).add(O.id)),S(null);try{await o({user_id:O.user_id,role_id:O.role_id,store_id:O.store_id}),e&&n(e)}catch(R){console.error("Failed to toggle assignment status:",R),S("Failed to update assignment status. Please try again.")}finally{g(R=>{const L=new Set(R);return O.id&&L.delete(O.id),L})}}},[o,e,n,p]),k=b.useCallback(O=>{f(O),u(!0)},[]),A=b.useCallback(async()=>{if(l){S(null);try{await c({user_id:l.user_id,role_id:l.role_id,store_id:l.store_id}),u(!1),f(null),e&&n(e)}catch(O){console.error("Failed to delete assignment:",O),S("Failed to delete assignment. Please try again.")}}},[l,c,e,n]),T=b.useCallback(()=>{t(`/user-role-store-assignment/assign?storeId=${e}`)},[t,e]),P=b.useCallback(()=>{t("/user-role-store-assignment")},[t]),M=b.useCallback(O=>new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),[]);return a.jsxs(Qt,{title:"Store Role Assignments",subtitle:`View all role assignments for Store ID: ${e||""}`,backButton:{show:!0,onClick:P},children:[x&&a.jsx("div",{style:{backgroundColor:"#fee2e2",border:"1px solid #fecaca",color:"#dc2626",padding:"12px",marginBottom:"16px",borderRadius:"6px",fontSize:"14px"},children:x}),a.jsx(Ele,{assignments:m,loading:y,error:w,getUserName:C,getRoleName:E,formatDate:M,onToggleStatus:N,onDeleteClick:k,onAssignRole:T,updatingAssignments:p}),a.jsx(Tut,{open:d,onOpenChange:u,assignmentToDelete:l,getUserName:C,getRoleName:E,onConfirm:A})]})},Dut=({open:e,onOpenChange:t,assignmentData:r,canAssign:n,isAssigning:s,onConfirm:i})=>a.jsxs(An,{open:e,onOpenChange:t,children:[a.jsx(OZ,{asChild:!0,children:a.jsxs(X,{disabled:!n||s,className:"flex items-center gap-2 w-full sm:w-auto text-sm sm:text-base px-3 sm:px-4 py-2 bg-primary hover:bg-primary/90 text-primary-foreground",children:[s?a.jsx(bt,{className:"h-3 w-3 sm:h-4 sm:w-4 animate-spin"}):a.jsx(Fd,{className:"h-3 w-3 sm:h-4 sm:w-4"}),a.jsx("span",{className:"hidden sm:inline",children:s?"Assigning...":"Assign Roles"}),a.jsx("span",{className:"sm:hidden",children:s?"Assigning...":"Assign"})]})}),a.jsxs(hn,{children:[a.jsxs(mn,{children:[a.jsx(pn,{children:"Confirm Role Assignment"}),a.jsxs(In,{children:["You are about to assign ",r.selectedRoles.length," roles to"," ",r.selectedUsers.length," users across"," ",r.selectedStores.length," stores."]})]}),a.jsxs(kn,{children:[a.jsx(X,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(X,{onClick:i,children:"Confirm Assignment"})]})]})]}),Rut=({assignmentData:e,canAssign:t,isAssigning:r,showConfirmDialog:n,onShowConfirmDialog:s,onClearSelection:i,onConfirmAssignment:o})=>a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 justify-end mb-4",children:[a.jsxs(X,{variant:"outline",onClick:i,disabled:!t,className:"flex items-center gap-2 w-full sm:w-auto text-sm sm:text-base px-3 sm:px-4 py-2",children:[a.jsx(Kf,{className:"h-3 w-3 sm:h-4 sm:w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Clear Selection"}),a.jsx("span",{className:"sm:hidden",children:"Clear"})]}),a.jsx(Dut,{open:n,onOpenChange:s,assignmentData:e,canAssign:t,isAssigning:r,onConfirm:o})]}),Mut=({assignmentSteps:e,completedSteps:t,progressPercentage:r})=>a.jsx(Se,{className:"bg-card border-border shadow-sm",children:a.jsx(Ee,{className:"pt-4 sm:pt-6 p-3 sm:p-6",children:a.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[a.jsx("span",{className:"text-xs sm:text-sm font-medium text-card-foreground",children:"Assignment Progress"}),a.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground",children:[t," of ",e.length," steps completed"]})]}),a.jsx(c0,{value:r,className:"h-1.5 sm:h-2 bg-secondary"}),a.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-2 sm:gap-4",children:e.map((n,s)=>a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[n.completed?a.jsx(Pa,{className:"h-3 w-3 sm:h-4 sm:w-4 text-[#10b981]"}):a.jsx("div",{className:"h-3 w-3 sm:h-4 sm:w-4 rounded-full border-2 border-muted bg-background"}),a.jsxs("span",{className:`text-xs sm:text-sm ${n.completed?"font-medium text-green-600":"text-muted-foreground"}`,children:[a.jsx("span",{className:"hidden sm:inline",children:n.title}),a.jsx("span",{className:"sm:hidden",children:n.title.split(" ")[1]||n.title})]}),s<e.length-1&&a.jsx(yY,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 text-muted-foreground ml-1 sm:ml-2 hidden sm:block"})]},n.id))})]})})}),Out=({result:e})=>e?a.jsxs(at,{className:`border-2 ${e.success?"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-950":"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-950"}`,children:[e.success?a.jsx(Pa,{className:"h-4 w-4 text-green-600 dark:text-green-400"}):a.jsx(zM,{className:"h-4 w-4 text-red-600 dark:text-red-400"}),a.jsx(it,{className:`text-sm ${e.success?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"}`,children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"font-medium",children:e.message}),(e.successCount!==void 0||e.failureCount!==void 0)&&a.jsxs("div",{className:"text-xs space-y-1",children:[e.successCount!==void 0&&e.successCount>0&&a.jsxs("div",{className:"text-green-700 dark:text-green-300",children:[" ",e.successCount," assignment",e.successCount!==1?"s":""," completed successfully"]}),e.failureCount!==void 0&&e.failureCount>0&&a.jsxs("div",{className:"text-red-700 dark:text-red-300",children:[" ",e.failureCount," assignment",e.failureCount!==1?"s":""," failed"]})]}),e.details&&e.details.length>0&&a.jsxs("div",{className:"mt-3 space-y-1",children:[a.jsx("div",{className:"text-xs font-medium opacity-80",children:"Details:"}),a.jsx("ul",{className:"text-xs space-y-1 ml-4",children:e.details.map((t,r)=>a.jsx("li",{className:"list-disc",children:t},r))})]})]})})]}):null,Iut=e=>({id:e,name:`User ${e}`,email:"",email_verified_at:null,created_at:"",updated_at:""}),Lut=e=>({id:e,name:`Role ${e}`,guard_name:"web",created_at:"",updated_at:""}),But=e=>({id:e,name:`Store ${e}`,is_active:!0,created_at:"",metadata:{}}),HP=(e,t,r,n)=>b.useMemo(()=>t.map(s=>e.find(i=>r(i)===s)??n(s)),[e,t,r,n]),$ut=e=>{const{users:t}=vg(),{roles:r}=To(),{stores:n}=Po(),s=HP(t,e.selectedUsers,c=>c.id,Iut),i=HP(r,e.selectedRoles,c=>c.id,Lut),o=HP(n,e.selectedStores,c=>c.id,But);return{selectedUsers:s,selectedRoles:i,selectedStores:o}},zP=({icon:e,title:t,count:r,items:n,maxDisplay:s=3})=>a.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(e,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary"}),a.jsxs("span",{className:"font-medium text-xs sm:text-sm text-card-foreground",children:[t," (",r,")"]})]}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.slice(0,s).map(i=>a.jsx(Ze,{variant:"secondary",className:"text-xs bg-secondary text-secondary-foreground border-border",children:i.name},i.id)),r>s&&a.jsxs(Ze,{variant:"outline",className:"text-xs border-border text-muted-foreground",children:["+",r-s," more"]})]})]}),Fut=({assignmentData:e})=>{const{selectedUsers:t,selectedRoles:r,selectedStores:n}=$ut(e);return e.selectedUsers.length>0||e.selectedRoles.length>0||e.selectedStores.length>0?a.jsxs(Se,{className:"bg-card border-border shadow-sm",children:[a.jsx(Me,{className:"pb-3 sm:pb-6",children:a.jsxs(Ve,{className:"flex items-center gap-2 text-card-foreground text-base sm:text-lg",children:[a.jsx(R0,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Selection Summary"]})}),a.jsx(Ee,{className:"pt-0 p-3 sm:p-6",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6",children:[a.jsx(zP,{icon:Ur,title:"Selected Users",count:e.selectedUsers.length,items:t}),a.jsx(zP,{icon:tn,title:"Selected Roles",count:e.selectedRoles.length,items:r}),a.jsx(zP,{icon:ui,title:"Selected Stores",count:e.selectedStores.length,items:n})]})})]}):null},Hut=({assignmentSteps:e,completedSteps:t,progressPercentage:r,assignmentResult:n,assignmentData:s})=>{const i=s.selectedUsers.length>0||s.selectedRoles.length>0||s.selectedStores.length>0;return a.jsxs(a.Fragment,{children:[a.jsx(Mut,{assignmentSteps:e,completedSteps:t,progressPercentage:r}),n&&a.jsx(Out,{result:n}),i&&a.jsx(Fut,{assignmentData:s})]})};var zut=YX();function Uut(){return zut.useSyncExternalStore(Vut,()=>!0,()=>!1)}function Vut(){return()=>{}}var s5="Avatar",[Wut,$xt]=Yn(s5),[qut,Nle]=Wut(s5),_le=b.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=b.useState("idle");return a.jsx(qut,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(Je.span,{...n,ref:t})})});_le.displayName=s5;var Ale="AvatarImage",kle=b.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=Nle(Ale,r),c=Gut(n,i),d=Xr(u=>{s(u),o.onImageLoadingStatusChange(u)});return wr(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?a.jsx(Je.img,{...i,ref:t,src:n}):null});kle.displayName=Ale;var Tle="AvatarFallback",Ple=b.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=Nle(Tle,r),[o,c]=b.useState(n===void 0);return b.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(d)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(Je.span,{...s,ref:t}):null});Ple.displayName=Tle;function yW(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Gut(e,{referrerPolicy:t,crossOrigin:r}){const n=Uut(),s=b.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[o,c]=b.useState(()=>yW(i,e));return wr(()=>{c(yW(i,e))},[i,e]),wr(()=>{const d=f=>()=>{c(f)};if(!i)return;const u=d("loaded"),l=d("error");return i.addEventListener("load",u),i.addEventListener("error",l),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",l)}},[i,r,t]),o}var Dle=_le,Rle=kle,Mle=Ple;const Ole=b.forwardRef(({className:e,...t},r)=>a.jsx(Dle,{ref:r,className:J("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Ole.displayName=Dle.displayName;const Yut=b.forwardRef(({className:e,...t},r)=>a.jsx(Rle,{ref:r,className:J("aspect-square h-full w-full",e),...t}));Yut.displayName=Rle.displayName;const Kut=b.forwardRef(({className:e,...t},r)=>a.jsx(Mle,{ref:r,className:J("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Kut.displayName=Mle.displayName;const Zut=({selectedUserIds:e,onUserToggle:t})=>{const[r,n]=b.useState(""),[s,i]=b.useState("all"),{users:o,loading:c,error:d,pagination:u,fetchUsers:l,perPage:f,setPerPage:p}=vg(),g=b.useMemo(()=>new Set(e),[e]),x=b.useMemo(()=>{if(!o||o.length===0)return[];let A=o;if(r.trim()){const T=r.toLowerCase();A=o.filter(P=>P.name.toLowerCase().includes(T)||P.email.toLowerCase().includes(T))}return s!=="all"&&(A=A.filter(T=>{const P=T.roles&&T.roles.length>0;return s==="with-roles"?P:!P})),A},[o,r,s]),S=b.useMemo(()=>x.map(A=>A.id),[x]),m=b.useMemo(()=>{if(x.length===0)return{allSelected:!1,someSelected:!1};const A=S.filter(T=>g.has(T)).length;return{allSelected:A===S.length,someSelected:A>0&&A<S.length}},[S,g]),y=A=>new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),w=A=>A.split(" ").map(T=>T.charAt(0)).join("").toUpperCase().slice(0,2),C=b.useCallback(async A=>{try{await l({page:A,per_page:f})}catch(T){console.error("Failed to fetch users for page:",A,T)}},[l,f]),E=b.useCallback(async A=>{const T=parseInt(A,10);p(T);try{await l({page:1,per_page:T})}catch(P){console.error("Failed to fetch users with new per page:",T,P)}},[p,l]),N=b.useCallback(()=>{S.length!==0&&(m.allSelected?S.forEach(A=>{g.has(A)&&t(A)}):S.forEach(A=>{g.has(A)||t(A)}))},[S,m.allSelected,g,t]),k=b.useMemo(()=>u?{currentPage:u.currentPage||1,lastPage:u.lastPage||1,from:u.from||0,to:u.to||0,total:u.total||0}:null,[u]);return a.jsxs(Se,{className:"bg-card border-border shadow-sm",children:[a.jsxs(Me,{className:"px-4 sm:px-6 py-4 sm:py-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0 gap-3 sm:gap-4",children:[a.jsxs(Ve,{className:"flex items-center gap-2 text-base sm:text-lg text-card-foreground",children:[a.jsx(Ur,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Select Users"]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Pc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(et,{placeholder:"Search users...",value:r,onChange:A=>n(A.target.value),className:"pl-10 w-full sm:w-64 bg-background border-border text-foreground placeholder:text-muted-foreground focus:ring-ring focus:border-ring text-sm sm:text-base"})]}),a.jsxs(Wt,{value:s,onValueChange:A=>i(A),children:[a.jsxs(zt,{className:"w-full sm:w-40 bg-background border-border text-foreground text-sm sm:text-base",children:[a.jsx(VM,{className:"h-4 w-4 mr-2 text-muted-foreground"}),a.jsx(qt,{})]}),a.jsxs(Ut,{className:"bg-popover border-border",children:[a.jsx(pt,{value:"all",className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:"All Users"}),a.jsx(pt,{value:"with-roles",className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:"With Roles"}),a.jsx(pt,{value:"without-roles",className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:"Without Roles"})]})]})]})]}),x.length>0&&a.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[a.jsx($s,{checked:m.allSelected,ref:A=>{A&&(A.indeterminate=m.someSelected)},onCheckedChange:N,className:"border-border"}),a.jsxs(X,{variant:"ghost",size:"sm",onClick:N,className:"text-xs sm:text-sm text-muted-foreground hover:text-foreground",children:[m.allSelected?"Deselect All":"Select All"," (",x.length,")"]})]})]}),a.jsxs(Ee,{className:"px-4 sm:px-6 pb-4 sm:pb-6",children:[d?a.jsxs("div",{className:"text-destructive text-center py-4 text-sm sm:text-base",children:["Error loading users: ",d]}):c?a.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[a.jsx(bt,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-primary"}),a.jsx("span",{className:"ml-2 text-sm sm:text-base text-muted-foreground",children:"Loading users..."})]}):a.jsx("div",{className:"space-y-3 sm:space-y-4",children:x.length===0?a.jsx("div",{className:"text-center py-6 sm:py-8 text-muted-foreground text-sm sm:text-base",children:r?"No users found matching your search":"No users found"}):x.map(A=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 sm:p-4 border border-border rounded-lg hover:bg-muted/50 transition-colors",children:[a.jsx($s,{checked:g.has(A.id),onCheckedChange:()=>t(A.id),className:"border-border"}),a.jsx("div",{className:"flex-1 cursor-pointer",onClick:()=>t(A.id),children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ole,{className:"h-8 w-8 sm:h-10 sm:w-10 bg-primary/10 text-primary flex items-center justify-center text-xs sm:text-sm font-medium",children:w(A.name)}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"font-medium text-sm sm:text-base text-card-foreground truncate",children:A.name}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:A.email})]})]}),a.jsxs("div",{className:"flex flex-col items-start sm:items-end gap-2 sm:gap-1",children:[a.jsxs("div",{className:"flex flex-wrap gap-1",children:[A.roles&&A.roles.length>0?A.roles.slice(0,2).map((T,P)=>a.jsx(Ze,{variant:"secondary",className:"text-xs bg-secondary text-secondary-foreground",children:T.name||T},P)):a.jsx(Ze,{variant:"outline",className:"text-xs border-border text-muted-foreground",children:"No roles"}),A.roles&&A.roles.length>2&&a.jsxs(Ze,{variant:"outline",className:"text-xs border-border text-muted-foreground",children:["+",A.roles.length-2]})]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:y(A.created_at)})]})]})})]},A.id))}),k&&k.total>0&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-4 sm:px-6 py-3 border-t border-border bg-card/50",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Show"}),a.jsxs(Wt,{value:f.toString(),onValueChange:E,disabled:c,children:[a.jsx(zt,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:a.jsx(qt,{})}),a.jsx(Ut,{className:"bg-popover border-border",children:[5,10,15,25,50].map(A=>a.jsx(pt,{value:A.toString(),className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:A},A))})]}),a.jsx("span",{className:"text-muted-foreground",children:"per page"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:()=>C(k.currentPage-1),disabled:c||k.currentPage<=1,className:"h-8 px-3 text-xs bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:[a.jsx(Tc,{className:"h-3 w-3 mr-1"}),"Prev"]}),a.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground font-medium",children:["Page ",k.currentPage," of ",k.lastPage]}),a.jsxs(X,{variant:"outline",size:"sm",onClick:()=>C(k.currentPage+1),disabled:c||k.currentPage>=k.lastPage,className:"h-8 px-3 text-xs bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:["Next",a.jsx(Qi,{className:"h-3 w-3 ml-1"})]})]}),a.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground",children:[a.jsxs("span",{className:"hidden sm:inline",children:[k.from," to ",k.to," of ",k.total," users"]}),a.jsxs("span",{className:"sm:hidden",children:[k.from,"-",k.to," of ",k.total]})]})]})]})]})},Xut=({selectedRoleIds:e,onRoleToggle:t})=>{const[r,n]=b.useState(""),[s,i]=b.useState(1),[o,c]=b.useState(10),d={page:s,per_page:o,search:r||void 0},{roles:u,loading:l,error:f,pagination:p,fetchRoles:g}=To(!0,d),x=b.useCallback(async T=>{i(T),await g({page:T,per_page:o,search:r||void 0})},[g,o,r]),S=b.useCallback(async T=>{const P=parseInt(T,10);c(P),i(1),await g({page:1,per_page:P,search:r||void 0})},[g,r]),m=b.useCallback(async T=>{n(T),i(1),await g({page:1,per_page:o,search:T||void 0})},[g,o]),y=b.useCallback(()=>{p&&s>1&&x(s-1)},[s,p,x]),w=b.useCallback(()=>{p&&s<p.lastPage&&x(s+1)},[s,p,x]),C=u,E=T=>new Date(T).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),N=C.length>0&&C.every(T=>e.includes(T.id)),k=C.some(T=>e.includes(T.id))&&!N,A=b.useCallback(()=>{const T=C.map(P=>P.id);N?T.forEach(P=>{e.includes(P)&&t(P)}):T.forEach(P=>{e.includes(P)||t(P)})},[C,N,e,t]);return a.jsxs(Se,{className:"bg-card border-border shadow-sm",children:[a.jsxs(Me,{className:"px-4 sm:px-6 py-4 sm:py-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0 gap-3 sm:gap-4",children:[a.jsxs(Ve,{className:"flex items-center gap-2 text-base sm:text-lg text-card-foreground",children:[a.jsx(tn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Select Roles"]}),a.jsxs("div",{className:"relative",children:[a.jsx(Pc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(et,{placeholder:"Search roles...",value:r,onChange:T=>m(T.target.value),className:"pl-10 w-full sm:w-64 bg-background border-border text-foreground placeholder:text-muted-foreground focus:ring-ring focus:border-ring text-sm sm:text-base"})]})]}),C.length>0&&a.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[a.jsx($s,{checked:N,ref:T=>{T&&(T.indeterminate=k)},onCheckedChange:A,className:"border-border"}),a.jsxs(X,{variant:"ghost",size:"sm",onClick:A,className:"text-xs sm:text-sm text-muted-foreground hover:text-foreground",children:[N?"Deselect All":"Select All"," (",C.length,")"]})]})]}),a.jsx(Ee,{className:"px-4 sm:px-6 pb-4 sm:pb-6",children:f?a.jsxs("div",{className:"text-destructive text-center py-4 text-sm sm:text-base",children:["Error loading roles: ",f]}):l?a.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[a.jsx(bt,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-primary"}),a.jsx("span",{className:"ml-2 text-sm sm:text-base text-muted-foreground",children:"Loading roles..."})]}):a.jsx("div",{className:"space-y-3 sm:space-y-4",children:C.length===0?a.jsx("div",{className:"text-center py-6 sm:py-8 text-muted-foreground text-sm sm:text-base",children:r?"No roles found matching your search":"No roles found"}):C.map(T=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 sm:p-4 border border-border rounded-lg hover:bg-muted/50 transition-colors",children:[a.jsx($s,{checked:e.includes(T.id),onCheckedChange:()=>t(T.id),className:"border-border"}),a.jsx("div",{className:"flex-1 cursor-pointer",onClick:()=>t(T.id),children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(tn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})}),a.jsx("div",{className:"min-w-0 flex-1",children:a.jsx("div",{className:"font-medium text-sm sm:text-base text-card-foreground truncate",children:T.name})})]}),a.jsx("div",{className:"flex flex-col items-start sm:items-end gap-2 sm:gap-1",children:a.jsx("span",{className:"text-xs text-muted-foreground",children:E(T.created_at)})})]})})]},T.id))})}),p&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-4 sm:px-6 py-3 border-t border-border bg-card/50",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Show"}),a.jsxs(Wt,{value:o.toString(),onValueChange:S,disabled:l,children:[a.jsx(zt,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:a.jsx(qt,{})}),a.jsxs(Ut,{className:"bg-popover border-border",children:[a.jsx(pt,{value:"5",className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:"5"}),a.jsx(pt,{value:"10",className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:"10"}),a.jsx(pt,{value:"25",className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:"25"}),a.jsx(pt,{value:"50",className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:"50"}),a.jsx(pt,{value:"100",className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:"100"})]})]}),a.jsx("span",{className:"text-muted-foreground",children:"per page"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:y,disabled:l||s<=1,className:"h-8 px-3 text-xs bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:[a.jsx(Tc,{className:"h-3 w-3 mr-1"}),"Prev"]}),a.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground font-medium",children:["Page ",s," of ",p.lastPage||1]}),a.jsxs(X,{variant:"outline",size:"sm",onClick:w,disabled:l||s>=(p.lastPage||1),className:"h-8 px-3 text-xs bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:["Next",a.jsx(Qi,{className:"h-3 w-3 ml-1"})]})]}),a.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground",children:[a.jsxs("span",{className:"hidden sm:inline",children:[p.from||0," to ",p.to||0," of ",p.total||0," roles"]}),a.jsxs("span",{className:"sm:hidden",children:[p.from||0,"-",p.to||0," of ",p.total||0]})]})]})]})},Qut=({selectedStoreIds:e,onStoreToggle:t})=>{const r=$t(),[n,s]=b.useState(""),i=pe(y0),{stores:o,pagination:c,loading:d,error:u,changePage:l,currentPageData:f,refetch:p}=Po(!0,{search:n}),g=o,x=[5,10,15,25,50],S=b.useCallback(async P=>{const M=parseInt(P,10);r(Kj(M)),await p({per_page:M,page:1,search:n})},[r,p,n]),m=b.useCallback(P=>{s(P),c&&c.current_page!==1&&l(1)},[c,l]),y=b.useMemo(()=>c?{shouldShowPagination:c.last_page>1,currentPage:c.current_page,isPrevDisabled:c.current_page<=1,isNextDisabled:c.current_page>=c.last_page}:{shouldShowPagination:!1,currentPage:1,isPrevDisabled:!0,isNextDisabled:!0},[c]),w=b.useCallback(()=>{y.isPrevDisabled||l(y.currentPage-1)},[y.isPrevDisabled,y.currentPage,l]),C=b.useCallback(()=>{y.isNextDisabled||l(y.currentPage+1)},[y.isNextDisabled,y.currentPage,l]),E=b.useMemo(()=>{if(!f||f.total===0)return"No stores found";const{from:P,to:M,total:O}=f;return a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"hidden sm:inline",children:[P," to ",M," of ",O," stores"]}),a.jsxs("span",{className:"sm:hidden",children:[P,"-",M," of ",O]})]})},[f]),N=P=>new Date(P).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),k=g.length>0&&g.every(P=>e.includes(P.id)),A=g.some(P=>e.includes(P.id))&&!k,T=b.useCallback(()=>{const P=g.map(M=>M.id);k?P.forEach(M=>{e.includes(M)&&t(M)}):P.forEach(M=>{e.includes(M)||t(M)})},[g,k,e,t]);return a.jsxs(Se,{className:"bg-card border-border shadow-sm",children:[a.jsxs(Me,{className:"px-4 sm:px-6 py-4 sm:py-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0 gap-3 sm:gap-4",children:[a.jsxs(Ve,{className:"flex items-center gap-2 text-base sm:text-lg text-card-foreground",children:[a.jsx(ui,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Select Stores"]}),a.jsxs("div",{className:"relative",children:[a.jsx(Pc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(et,{placeholder:"Search stores...",value:n,onChange:P=>m(P.target.value),className:"pl-10 w-full sm:w-64 bg-background border-border text-foreground placeholder:text-muted-foreground focus:ring-ring focus:border-ring text-sm sm:text-base"})]})]}),g.length>0&&a.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[a.jsx($s,{checked:k,ref:P=>{P&&(P.indeterminate=A)},onCheckedChange:T,className:"border-border"}),a.jsxs(X,{variant:"ghost",size:"sm",onClick:T,className:"text-xs sm:text-sm text-muted-foreground hover:text-foreground",children:[k?"Deselect All":"Select All"," (",g.length,")"]})]})]}),a.jsxs(Ee,{className:"px-4 sm:px-6 pb-4 sm:pb-6",children:[u?a.jsxs("div",{className:"text-destructive text-center py-4 text-sm sm:text-base",children:["Error loading stores: ",u]}):d?a.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[a.jsx(bt,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-primary"}),a.jsx("span",{className:"ml-2 text-sm sm:text-base text-muted-foreground",children:"Loading stores..."})]}):a.jsx("div",{className:"space-y-3 sm:space-y-4",children:g.length===0?a.jsx("div",{className:"text-center py-6 sm:py-8 text-muted-foreground text-sm sm:text-base",children:n?"No stores found matching your search":"No stores found"}):g.map(P=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 sm:p-4 border border-border rounded-lg hover:bg-muted/50 transition-colors",children:[a.jsx($s,{checked:e.includes(P.id),onCheckedChange:()=>t(P.id),className:"border-border"}),a.jsx("div",{className:"flex-1 cursor-pointer",onClick:()=>t(P.id),children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(ui,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"font-medium text-sm sm:text-base text-card-foreground truncate",children:P.name}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:P.metadata?.address})]})]}),a.jsxs("div",{className:"flex flex-col items-start sm:items-end gap-2 sm:gap-1",children:[a.jsx(Ze,{variant:P.is_active?"default":"secondary",className:`text-xs ${P.is_active?"bg-green-600 text-white":"bg-secondary text-secondary-foreground"}`,children:P.is_active?"Active":"Inactive"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:N(P.created_at)})]})]})})]},P.id))}),(g.length>0||y.shouldShowPagination)&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-4 sm:px-6 py-3 border-t border-border bg-card/50",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Show"}),a.jsxs(Wt,{value:i.toString(),onValueChange:S,disabled:d,children:[a.jsx(zt,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:a.jsx(qt,{})}),a.jsx(Ut,{className:"bg-popover border-border",children:x.map(P=>a.jsx(pt,{value:P.toString(),className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:P},P))})]}),a.jsx("span",{className:"text-muted-foreground",children:"per page"})]}),y.shouldShowPagination&&c&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:w,disabled:y.isPrevDisabled||d,className:"h-8 px-3 text-xs bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:[a.jsx(Tc,{className:"h-3 w-3 mr-1"}),"Prev"]}),a.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground font-medium",children:["Page ",y.currentPage," of ",c.last_page]}),a.jsxs(X,{variant:"outline",size:"sm",onClick:C,disabled:y.isNextDisabled||d,className:"h-8 px-3 text-xs bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:["Next",a.jsx(Qi,{className:"h-3 w-3 ml-1"})]})]}),a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:E})]})]})]})},Jut=({assignmentData:e,onUserToggle:t,onRoleToggle:r,onStoreToggle:n,onSelectAllUsers:s,onSelectAllRoles:i,onSelectAllStores:o})=>a.jsxs(ch,{defaultValue:"users",className:"space-y-4 sm:space-y-6",children:[a.jsxs(mu,{className:"grid w-full grid-cols-3 bg-muted p-1 rounded-md",children:[a.jsxs(Qs,{value:"users",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-4 py-2 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm transition-all",children:[a.jsx(Ur,{className:"h-3 w-3 sm:h-4 sm:w-4"}),a.jsxs("span",{className:"hidden sm:inline",children:["Users (",e.selectedUsers.length,")"]}),a.jsx("span",{className:"sm:hidden",children:"Users"})]}),a.jsxs(Qs,{value:"roles",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-4 py-2 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm transition-all",children:[a.jsx(tn,{className:"h-3 w-3 sm:h-4 sm:w-4"}),a.jsxs("span",{className:"hidden sm:inline",children:["Roles (",e.selectedRoles.length,")"]}),a.jsx("span",{className:"sm:hidden",children:"Roles"})]}),a.jsxs(Qs,{value:"stores",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-4 py-2 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm transition-all",children:[a.jsx(ui,{className:"h-3 w-3 sm:h-4 sm:w-4"}),a.jsxs("span",{className:"hidden sm:inline",children:["Stores (",e.selectedStores.length,")"]}),a.jsx("span",{className:"sm:hidden",children:"Stores"})]})]}),a.jsx(Js,{value:"users",children:a.jsx(Zut,{selectedUserIds:e.selectedUsers,onUserToggle:t,onSelectAllUsers:s})}),a.jsx(Js,{value:"roles",children:a.jsx(Xut,{selectedRoleIds:e.selectedRoles,onRoleToggle:r,onSelectAllRoles:i})}),a.jsx(Js,{value:"stores",children:a.jsx(Qut,{selectedStoreIds:e.selectedStores,onStoreToggle:n,onSelectAllStores:o})})]}),eft=()=>{const[e,t]=b.useState({selectedUsers:[],selectedRoles:[],selectedStores:[]}),[r,n]=b.useState(!1),[s,i]=b.useState(null),[o,c]=b.useState(!1),d=b.useMemo(()=>[{id:"users",title:"Select Users",description:"Choose users to assign roles to",completed:e.selectedUsers.length>0},{id:"roles",title:"Select Roles",description:"Choose roles to assign",completed:e.selectedRoles.length>0},{id:"stores",title:"Select Stores",description:"Choose stores for the assignment",completed:e.selectedStores.length>0}],[e.selectedUsers.length,e.selectedRoles.length,e.selectedStores.length]),u=b.useMemo(()=>d.filter(T=>T.completed).length,[d]),l=b.useMemo(()=>u/d.length*100,[u,d.length]),f=b.useCallback(T=>{t(P=>({...P,selectedUsers:P.selectedUsers.includes(T)?P.selectedUsers.filter(M=>M!==T):[...P.selectedUsers,T]}))},[]),p=b.useCallback(T=>{t(P=>({...P,selectedRoles:P.selectedRoles.includes(T)?P.selectedRoles.filter(M=>M!==T):[...P.selectedRoles,T]}))},[]),g=b.useCallback(T=>{t(P=>({...P,selectedStores:P.selectedStores.includes(T)?P.selectedStores.filter(M=>M!==T):[...P.selectedStores,T]}))},[]),x=b.useCallback(()=>{},[]),S=b.useCallback(()=>{},[]),m=b.useCallback(()=>{},[]),y=b.useCallback(()=>{t({selectedUsers:[],selectedRoles:[],selectedStores:[]}),i(null)},[]),{bulkAssignUserRoles:w,isBulkAssigning:C,bulkAssignError:E}=r5(),N=b.useCallback(async()=>{n(!0),c(!1);try{const T=[];let P=0;for(const L of e.selectedUsers){const B=[];for(const $ of e.selectedRoles)for(const z of e.selectedStores)B.push({role_id:$,store_id:z,metadata:{start_date:new Date().toISOString(),notes:"Bulk assignment via Assignment Page"}}),P++;const F={user_id:L,assignments:B};T.push(w(F))}const M=await Promise.allSettled(T),O=M.filter(L=>L.status==="fulfilled").length,R=M.filter(L=>L.status==="rejected").length;R===0?(i({success:!0,message:`Successfully assigned ${e.selectedRoles.length} roles to ${e.selectedUsers.length} users across ${e.selectedStores.length} stores (${P} total assignments).`}),setTimeout(()=>{y()},3e3)):i({success:!1,message:`Partial success: ${O} users assigned successfully, ${R} failed. Please check the failed assignments and try again.`})}catch(T){console.error("Assignment error:",T),i({success:!1,message:E?.message||"Failed to assign roles. Please try again."})}finally{n(!1)}},[e,w,E,y]),k=b.useMemo(()=>e.selectedUsers.length>0&&e.selectedRoles.length>0&&e.selectedStores.length>0,[e]),A=b.useMemo(()=>r||C,[r,C]);return a.jsxs(Qt,{title:"Role Assignment",subtitle:"Assign roles to users across different stores with an intuitive interface",backButton:{show:!0},children:[a.jsx(Rut,{assignmentData:e,canAssign:k,isAssigning:A,showConfirmDialog:o,onShowConfirmDialog:c,onClearSelection:y,onConfirmAssignment:N}),a.jsx(Hut,{assignmentSteps:d,completedSteps:u,progressPercentage:l,assignmentResult:s,assignmentData:e}),a.jsx(Jut,{assignmentData:e,onUserToggle:f,onRoleToggle:p,onStoreToggle:g,onSelectAllUsers:x,onSelectAllRoles:S,onSelectAllStores:m})]})},tft=({assignmentSteps:e,completedSteps:t,progressPercentage:r})=>a.jsx(Se,{className:"bg-[var(--card)] border-[var(--border)]",children:a.jsx(Ee,{className:"pt-4 sm:pt-6 px-4 sm:px-6",children:a.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4",children:[a.jsx("span",{className:"text-sm sm:text-base font-medium text-[var(--card-foreground)]",children:"Assignment Progress"}),a.jsxs("span",{className:"text-xs sm:text-sm text-[var(--muted-foreground)]",children:[t," of ",e.length," steps completed"]})]}),a.jsx(c0,{value:r,className:"h-2 sm:h-3"}),a.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-3 sm:gap-2",children:e.map((n,s)=>a.jsxs("div",{className:"flex items-center gap-2 sm:gap-1 lg:gap-2",children:[n.completed?a.jsx(Pa,{className:"h-4 w-4 sm:h-3 sm:w-3 lg:h-4 lg:w-4 text-[#10b981] flex-shrink-0"}):a.jsx("div",{className:"h-4 w-4 sm:h-3 sm:w-3 lg:h-4 lg:w-4 rounded-full border-2 border-[var(--muted)] flex-shrink-0"}),a.jsx("span",{className:`text-xs sm:text-[10px] lg:text-xs ${n.completed?"text-[#059669]":"text-[var(--muted-foreground)]"} truncate`,children:n.title}),s<e.length-1&&a.jsx(yY,{className:"h-3 w-3 sm:h-2 sm:w-2 lg:h-3 lg:w-3 text-[var(--muted-foreground)] ml-1 sm:ml-0 lg:ml-2 hidden sm:block flex-shrink-0"})]},n.id))})]})})}),rft=({result:e})=>e?a.jsxs(at,{className:`px-4 sm:px-6 py-3 sm:py-4 ${e.success?"border-[#10b981] bg-[#dcfce7]":"border-[#ef4444] bg-[#fef2f2]"} dark:${e.success?"border-[#059669] bg-[#064e3b]":"border-[#dc2626] bg-[#7f1d1d]"}`,children:[e.success?a.jsx(Pa,{className:"h-4 w-4 sm:h-5 sm:w-5 text-[#059669] flex-shrink-0"}):a.jsx(ht,{className:"h-4 w-4 sm:h-5 sm:w-5 text-[#dc2626] flex-shrink-0"}),a.jsx(it,{className:`text-sm sm:text-base ${e.success?"text-[#065f46]":"text-[#991b1b]"} dark:${e.success?"text-[#10b981]":"text-[#f87171]"} ml-2`,children:e.message})]}):null,nft=({assignmentData:e,users:t,roles:r,stores:n})=>e.selectedUser||e.selectedRole||e.selectedStore?a.jsxs(Se,{className:"bg-[var(--card)] border-[var(--border)]",children:[a.jsx(Me,{className:"px-4 sm:px-6 py-4 sm:py-6",children:a.jsxs(Ve,{className:"flex items-center gap-2 text-base sm:text-lg text-[var(--card-foreground)]",children:[a.jsx(R0,{className:"h-4 w-4 sm:h-5 sm:w-5 text-[var(--primary)]"}),"Current Selection"]})}),a.jsx(Ee,{className:"px-4 sm:px-6 pb-4 sm:pb-6",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[a.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ur,{className:"h-4 w-4 text-[var(--primary)] flex-shrink-0"}),a.jsx("span",{className:"font-medium text-sm sm:text-base text-[var(--card-foreground)]",children:"Selected User"})]}),a.jsx("div",{children:e.selectedUser?(()=>{const i=t.find(o=>o.id===e.selectedUser);return i?a.jsx(Ze,{variant:"secondary",className:"text-xs sm:text-sm bg-[var(--secondary)] text-[var(--secondary-foreground)] border-[var(--border)]",children:i.name}):a.jsx("span",{className:"text-[var(--muted-foreground)] text-xs sm:text-sm",children:"User not found"})})():a.jsx("span",{className:"text-[var(--muted-foreground)] text-xs sm:text-sm",children:"No user selected"})})]}),a.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(tn,{className:"h-4 w-4 text-[var(--primary)] flex-shrink-0"}),a.jsx("span",{className:"font-medium text-sm sm:text-base text-[var(--card-foreground)]",children:"Selected Role"})]}),a.jsx("div",{children:e.selectedRole?(()=>{const i=r.find(o=>o.id===e.selectedRole);return i?a.jsx(Ze,{variant:"secondary",className:"text-xs sm:text-sm bg-[var(--secondary)] text-[var(--secondary-foreground)] border-[var(--border)]",children:i.name}):a.jsx("span",{className:"text-[var(--muted-foreground)] text-xs sm:text-sm",children:"Role not found"})})():a.jsx("span",{className:"text-[var(--muted-foreground)] text-xs sm:text-sm",children:"No role selected"})})]}),a.jsxs("div",{className:"space-y-2 sm:space-y-3 sm:col-span-2 lg:col-span-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ui,{className:"h-4 w-4 text-[var(--primary)] flex-shrink-0"}),a.jsx("span",{className:"font-medium text-sm sm:text-base text-[var(--card-foreground)]",children:"Selected Store"})]}),a.jsx("div",{children:e.selectedStore?(()=>{const i=n.find(o=>o.id===e.selectedStore);return i?a.jsx(Ze,{variant:"secondary",className:"text-xs sm:text-sm bg-[var(--secondary)] text-[var(--secondary-foreground)] border-[var(--border)]",children:i.name}):a.jsx("span",{className:"text-[var(--muted-foreground)] text-xs sm:text-sm",children:"Store not found"})})():a.jsx("span",{className:"text-[var(--muted-foreground)] text-xs sm:text-sm",children:"No store selected"})})]})]})})]}):null;function fc(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),r===!1||!s.defaultPrevented)return t?.(s)}}var UP="rovingFocusGroup.onEntryFocus",sft={bubbles:!1,cancelable:!0},My="RovingFocusGroup",[lM,Ile,aft]=$N(My),[ift,Lle]=Yn(My,[aft]),[oft,lft]=ift(My),Ble=b.forwardRef((e,t)=>a.jsx(lM.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(lM.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(cft,{...e,ref:t})})}));Ble.displayName=My;var cft=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:l=!1,...f}=e,p=b.useRef(null),g=vt(t,p),x=lh(i),[S,m]=qi({prop:o,defaultProp:c??null,onChange:d,caller:My}),[y,w]=b.useState(!1),C=Xr(u),E=Ile(r),N=b.useRef(!1),[k,A]=b.useState(0);return b.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(UP,C),()=>T.removeEventListener(UP,C)},[C]),a.jsx(oft,{scope:r,orientation:n,dir:x,loop:s,currentTabStopId:S,onItemFocus:b.useCallback(T=>m(T),[m]),onItemShiftTab:b.useCallback(()=>w(!0),[]),onFocusableItemAdd:b.useCallback(()=>A(T=>T+1),[]),onFocusableItemRemove:b.useCallback(()=>A(T=>T-1),[]),children:a.jsx(Je.div,{tabIndex:y||k===0?-1:0,"data-orientation":n,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:fc(e.onMouseDown,()=>{N.current=!0}),onFocus:fc(e.onFocus,T=>{const P=!N.current;if(T.target===T.currentTarget&&P&&!y){const M=new CustomEvent(UP,sft);if(T.currentTarget.dispatchEvent(M),!M.defaultPrevented){const O=E().filter($=>$.focusable),R=O.find($=>$.active),L=O.find($=>$.id===S),F=[R,L,...O].filter(Boolean).map($=>$.ref.current);Hle(F,l)}}N.current=!1}),onBlur:fc(e.onBlur,()=>w(!1))})})}),$le="RovingFocusGroupItem",Fle=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...c}=e,d=rs(),u=i||d,l=lft($le,r),f=l.currentTabStopId===u,p=Ile(r),{onFocusableItemAdd:g,onFocusableItemRemove:x,currentTabStopId:S}=l;return b.useEffect(()=>{if(n)return g(),()=>x()},[n,g,x]),a.jsx(lM.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(Je.span,{tabIndex:f?0:-1,"data-orientation":l.orientation,...c,ref:t,onMouseDown:fc(e.onMouseDown,m=>{n?l.onItemFocus(u):m.preventDefault()}),onFocus:fc(e.onFocus,()=>l.onItemFocus(u)),onKeyDown:fc(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){l.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const y=fft(m,l.orientation,l.dir);if(y!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let C=p().filter(E=>E.focusable).map(E=>E.ref.current);if(y==="last")C.reverse();else if(y==="prev"||y==="next"){y==="prev"&&C.reverse();const E=C.indexOf(m.currentTarget);C=l.loop?hft(C,E+1):C.slice(E+1)}setTimeout(()=>Hle(C))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:S!=null}):o})})});Fle.displayName=$le;var dft={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function uft(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function fft(e,t,r){const n=uft(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return dft[n]}function Hle(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function hft(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var mft=Ble,pft=Fle;function gft(e,t){return b.useReducer((r,n)=>t[r][n]??r,e)}var zle=e=>{const{present:t,children:r}=e,n=xft(t),s=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),i=vt(n.ref,vft(s));return typeof r=="function"||n.isPresent?b.cloneElement(s,{ref:i}):null};zle.displayName="Presence";function xft(e){const[t,r]=b.useState(),n=b.useRef(null),s=b.useRef(e),i=b.useRef("none"),o=e?"mounted":"unmounted",[c,d]=gft(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=zw(n.current);i.current=c==="mounted"?u:"none"},[c]),wr(()=>{const u=n.current,l=s.current;if(l!==e){const p=i.current,g=zw(u);e?d("MOUNT"):g==="none"||u?.display==="none"?d("UNMOUNT"):d(l&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),wr(()=>{if(t){let u;const l=t.ownerDocument.defaultView??window,f=g=>{const S=zw(n.current).includes(CSS.escape(g.animationName));if(g.target===t&&S&&(d("ANIMATION_END"),!s.current)){const m=t.style.animationFillMode;t.style.animationFillMode="forwards",u=l.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=m)})}},p=g=>{g.target===t&&(i.current=zw(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{l.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:b.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function zw(e){return e?.animationName||"none"}function vft(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var a5="Radio",[yft,Ule]=Yn(a5),[bft,wft]=yft(a5),Vle=b.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:i,disabled:o,value:c="on",onCheck:d,form:u,...l}=e,[f,p]=b.useState(null),g=vt(t,m=>p(m)),x=b.useRef(!1),S=f?u||!!f.closest("form"):!0;return a.jsxs(bft,{scope:r,checked:s,disabled:o,children:[a.jsx(Je.button,{type:"button",role:"radio","aria-checked":s,"data-state":Yle(s),"data-disabled":o?"":void 0,disabled:o,value:c,...l,ref:g,onClick:fc(e.onClick,m=>{s||d?.(),S&&(x.current=m.isPropagationStopped(),x.current||m.stopPropagation())})}),S&&a.jsx(Gle,{control:f,bubbles:!x.current,name:n,value:c,checked:s,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});Vle.displayName=a5;var Wle="RadioIndicator",qle=b.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,i=wft(Wle,r);return a.jsx(zle,{present:n||i.checked,children:a.jsx(Je.span,{"data-state":Yle(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})})});qle.displayName=Wle;var Sft="RadioBubbleInput",Gle=b.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const o=b.useRef(null),c=vt(o,i),d=zN(r),u=F0(t);return b.useEffect(()=>{const l=o.current;if(!l)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==r&&g){const x=new Event("click",{bubbles:n});g.call(l,r),l.dispatchEvent(x)}},[d,r,n]),a.jsx(Je.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:c,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Gle.displayName=Sft;function Yle(e){return e?"checked":"unchecked"}var Cft=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],t_="RadioGroup",[jft,Fxt]=Yn(t_,[Lle,Ule]),Kle=Lle(),Zle=Ule(),[Eft,Nft]=jft(t_),Xle=b.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:i,required:o=!1,disabled:c=!1,orientation:d,dir:u,loop:l=!0,onValueChange:f,...p}=e,g=Kle(r),x=lh(u),[S,m]=qi({prop:i,defaultProp:s??null,onChange:f,caller:t_});return a.jsx(Eft,{scope:r,name:n,required:o,disabled:c,value:S,onValueChange:m,children:a.jsx(mft,{asChild:!0,...g,orientation:d,dir:x,loop:l,children:a.jsx(Je.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":c?"":void 0,dir:x,...p,ref:t})})})});Xle.displayName=t_;var Qle="RadioGroupItem",Jle=b.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,i=Nft(Qle,r),o=i.disabled||n,c=Kle(r),d=Zle(r),u=b.useRef(null),l=vt(t,u),f=i.value===s.value,p=b.useRef(!1);return b.useEffect(()=>{const g=S=>{Cft.includes(S.key)&&(p.current=!0)},x=()=>p.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",x)}},[]),a.jsx(pft,{asChild:!0,...c,focusable:!o,active:f,children:a.jsx(Vle,{disabled:o,required:i.required,checked:f,...d,...s,name:i.name,ref:l,onCheck:()=>i.onValueChange(s.value),onKeyDown:fc(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:fc(s.onFocus,()=>{p.current&&u.current?.click()})})})});Jle.displayName=Qle;var _ft="RadioGroupIndicator",ece=b.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=Zle(r);return a.jsx(qle,{...s,...n,ref:t})});ece.displayName=_ft;var tce=Xle,rce=Jle,Aft=ece;const Oy=b.forwardRef(({className:e,...t},r)=>a.jsx(tce,{className:J("grid gap-2",e),...t,ref:r}));Oy.displayName=tce.displayName;const Iy=b.forwardRef(({className:e,...t},r)=>a.jsx(rce,{ref:r,className:J("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(Aft,{className:"flex items-center justify-center",children:a.jsx(SY,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Iy.displayName=rce.displayName;const kft=({selectedUserId:e,onUserSelect:t})=>{const r=$t(),[n,s]=b.useState(""),[i,o]=b.useState("all"),c=pe(Wq),d=T=>{o(T)},{users:u,pagination:l,loading:f,error:p,fetchUsers:g}=vg(!0,{per_page:c,search:n}),x=b.useMemo(()=>{let T=u;switch(i){case"with-roles":T=T.filter(P=>P.roles&&P.roles.length>0);break;case"without-roles":T=T.filter(P=>!P.roles||P.roles.length===0);break}return T},[u,i]),S=[5,10,15,25,50],m=b.useCallback(async T=>{const P=parseInt(T,10);r(zq(P)),await g({per_page:P,page:1,search:n})},[r,g,n]),y=b.useCallback(T=>{s(T),l&&l.currentPage!==1&&g({page:1,per_page:c,search:T})},[l,g,c]),w=b.useMemo(()=>l?{shouldShowPagination:l.lastPage>1,currentPage:l.currentPage,isPrevDisabled:l.currentPage<=1,isNextDisabled:l.currentPage>=l.lastPage}:{shouldShowPagination:!1,currentPage:1,isPrevDisabled:!0,isNextDisabled:!0},[l]),C=b.useCallback(()=>{w.isPrevDisabled||g({page:w.currentPage-1,per_page:c,search:n})},[w.isPrevDisabled,w.currentPage,g,c,n]),E=b.useCallback(()=>{w.isNextDisabled||g({page:w.currentPage+1,per_page:c,search:n})},[w.isNextDisabled,w.currentPage,g,c,n]),N=b.useMemo(()=>{if(!l||l.total===0)return"No users found";const{from:T,to:P,total:M}=l;return a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"hidden sm:inline",children:[T," to ",P," of ",M," users"]}),a.jsxs("span",{className:"sm:hidden",children:[T,"-",P," of ",M]})]})},[l]),k=T=>new Date(T).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),A=T=>T.split(" ").map(P=>P.charAt(0)).join("").toUpperCase().slice(0,2);return a.jsxs(Se,{className:"bg-[var(--card)] border-[var(--border)]",children:[a.jsx(Me,{className:"px-4 sm:px-6 py-4 sm:py-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0 gap-3 sm:gap-4",children:[a.jsx(Ve,{className:"text-base sm:text-lg text-[var(--card-foreground)]",children:"Select User"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Pc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[var(--muted-foreground)]"}),a.jsx(et,{placeholder:"Search users...",value:n,onChange:T=>y(T.target.value),className:"pl-10 w-full sm:w-64 bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] placeholder:text-[var(--muted-foreground)] focus:ring-[var(--ring)] focus:border-[var(--ring)] text-sm sm:text-base"})]}),a.jsxs(Wt,{value:i,onValueChange:d,children:[a.jsxs(zt,{className:"w-full sm:w-40 bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] text-sm sm:text-base",children:[a.jsx(VM,{className:"h-4 w-4 mr-2 text-[var(--muted-foreground)]"}),a.jsx(qt,{})]}),a.jsxs(Ut,{className:"bg-[var(--popover)] border-[var(--border)]",children:[a.jsx(pt,{value:"all",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"All Users"}),a.jsx(pt,{value:"with-roles",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"With Roles"}),a.jsx(pt,{value:"without-roles",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"Without Roles"})]})]})]})]})}),a.jsxs(Ee,{className:"px-4 sm:px-6 pb-4 sm:pb-6",children:[p?a.jsxs("div",{className:"text-[#dc2626] dark:text-[#f87171] text-center py-4 text-sm sm:text-base",children:["Error loading users: ",p]}):f?a.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[a.jsx(bt,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-[var(--primary)]"}),a.jsx("span",{className:"ml-2 text-sm sm:text-base text-[var(--muted-foreground)]",children:"Loading users..."})]}):a.jsx(Oy,{value:e?.toString()||"",onValueChange:t,className:"space-y-3 sm:space-y-4",children:x.length===0?a.jsx("div",{className:"text-center py-6 sm:py-8 text-[var(--muted-foreground)] text-sm sm:text-base",children:n?"No users found matching your search":"No users found"}):a.jsx(a.Fragment,{children:x.map(T=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 sm:p-4 border border-[var(--border)] rounded-lg hover:bg-[var(--muted)]/50 transition-colors",children:[a.jsx(Iy,{value:T.id.toString(),id:`user-${T.id}`,className:"text-[var(--primary)] border-[var(--border)]"}),a.jsx($e,{htmlFor:`user-${T.id}`,className:"flex-1 cursor-pointer",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-[var(--primary)]/10 flex items-center justify-center text-xs sm:text-sm font-medium text-[var(--primary)] flex-shrink-0",children:A(T.name)}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"font-medium text-sm sm:text-base text-[var(--card-foreground)] truncate",children:T.name}),a.jsx("div",{className:"text-xs sm:text-sm text-[var(--muted-foreground)] truncate",children:T.email})]})]}),a.jsxs("div",{className:"flex flex-col items-start sm:items-end gap-2 sm:gap-1",children:[a.jsxs("div",{className:"flex flex-wrap gap-1",children:[T.roles&&T.roles.length>0?T.roles.slice(0,2).map(P=>a.jsx(Ze,{variant:"outline",className:"text-xs bg-[var(--secondary)] text-[var(--secondary-foreground)] border-[var(--border)]",children:P.name},P.id)):a.jsx("span",{className:"text-[var(--muted-foreground)] text-xs",children:"No roles"}),T.roles&&T.roles.length>2&&a.jsxs(Ze,{variant:"outline",className:"text-xs bg-[var(--secondary)] text-[var(--secondary-foreground)] border-[var(--border)]",children:["+",T.roles.length-2]})]}),a.jsx("div",{className:"text-xs text-[var(--muted-foreground)]",children:k(T.created_at)})]})]})})]},T.id))})}),(x.length>0||w.shouldShowPagination)&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-4 sm:px-6 py-3 border-t border-[var(--border)] bg-[var(--card)]/50",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[a.jsx("span",{className:"text-[var(--muted-foreground)]",children:"Show"}),a.jsxs(Wt,{value:c.toString(),onValueChange:m,disabled:f,children:[a.jsx(zt,{className:"w-16 h-8 text-xs bg-[var(--background)] border-[var(--border)] text-[var(--foreground)]",children:a.jsx(qt,{})}),a.jsx(Ut,{className:"bg-[var(--popover)] border-[var(--border)]",children:S.map(T=>a.jsx(pt,{value:T.toString(),className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:T},T))})]}),a.jsx("span",{className:"text-[var(--muted-foreground)]",children:"per page"})]}),w.shouldShowPagination&&l&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:C,disabled:w.isPrevDisabled||f,className:"h-8 px-3 text-xs bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] hover:bg-[var(--accent)] hover:text-[var(--accent-foreground)]",children:[a.jsx(Tc,{className:"h-3 w-3 mr-1"}),"Prev"]}),a.jsxs("span",{className:"text-xs sm:text-sm px-3 text-[var(--foreground)] font-medium",children:["Page ",w.currentPage," of ",l.lastPage]}),a.jsxs(X,{variant:"outline",size:"sm",onClick:E,disabled:w.isNextDisabled||f,className:"h-8 px-3 text-xs bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] hover:bg-[var(--accent)] hover:text-[var(--accent-foreground)]",children:["Next",a.jsx(Qi,{className:"h-3 w-3 ml-1"})]})]}),a.jsx("div",{className:"text-xs sm:text-sm text-[var(--muted-foreground)]",children:N})]})]})]})},Tft=({selectedRoleId:e,onRoleSelect:t})=>{const[r,n]=b.useState(""),[s,i]=b.useState(1),[o,c]=b.useState(10),d={page:s,per_page:o,search:r||void 0},{roles:u,loading:l,error:f,pagination:p,fetchRoles:g}=To(!0,d),x=u,S=b.useCallback(async N=>{i(N),await g({page:N,per_page:o,search:r||void 0})},[g,o,r]),m=b.useCallback(async N=>{const k=parseInt(N,10);c(k),i(1),await g({page:1,per_page:k,search:r||void 0})},[g,r]),y=b.useCallback(async N=>{n(N),i(1),await g({page:1,per_page:o,search:N||void 0})},[g,o]),w=b.useCallback(()=>{p&&s>1&&S(s-1)},[s,p,S]),C=b.useCallback(()=>{p&&s<p.lastPage&&S(s+1)},[s,p,S]),E=N=>new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return a.jsxs(Se,{className:"bg-[var(--card)] border-[var(--border)]",children:[a.jsx(Me,{className:"px-4 sm:px-6 py-4 sm:py-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0 gap-3 sm:gap-4",children:[a.jsx(Ve,{className:"text-base sm:text-lg text-[var(--card-foreground)]",children:"Select Role"}),a.jsxs("div",{className:"relative",children:[a.jsx(Pc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[var(--muted-foreground)]"}),a.jsx(et,{placeholder:"Search roles...",value:r,onChange:N=>y(N.target.value),className:"pl-10 w-full sm:w-64 bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] placeholder:text-[var(--muted-foreground)] focus:ring-[var(--ring)] focus:border-[var(--ring)] text-sm sm:text-base"})]})]})}),a.jsxs(Ee,{className:"px-4 sm:px-6 pb-4 sm:pb-6",children:[f?a.jsxs("div",{className:"text-[#dc2626] dark:text-[#f87171] text-center py-4 text-sm sm:text-base",children:["Error loading roles: ",f]}):l?a.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[a.jsx(bt,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-[var(--primary)]"}),a.jsx("span",{className:"ml-2 text-sm sm:text-base text-[var(--muted-foreground)]",children:"Loading roles..."})]}):a.jsx(Oy,{value:e?.toString()||"",onValueChange:t,className:"space-y-3 sm:space-y-4",children:x.length===0?a.jsx("div",{className:"text-center py-6 sm:py-8 text-[var(--muted-foreground)] text-sm sm:text-base",children:r?"No roles found matching your search":"No roles found"}):x.map(N=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 sm:p-4 border border-[var(--border)] rounded-lg hover:bg-[var(--muted)]/50 transition-colors",children:[a.jsx(Iy,{value:N.id.toString(),id:`role-${N.id}`,className:"text-[var(--primary)] border-[var(--border)]"}),a.jsx($e,{htmlFor:`role-${N.id}`,className:"flex-1 cursor-pointer",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-[var(--primary)]/10 flex items-center justify-center flex-shrink-0",children:a.jsx(tn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-[var(--primary)]"})}),a.jsx("div",{className:"min-w-0 flex-1",children:a.jsx("div",{className:"font-medium text-sm sm:text-base text-[var(--card-foreground)] truncate",children:N.name})})]}),a.jsx("div",{className:"flex flex-col items-start sm:items-end gap-2 sm:gap-1",children:a.jsx("div",{className:"text-xs text-[var(--muted-foreground)]",children:E(N.created_at)})})]})})]},N.id))}),p&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-4 sm:px-6 py-3 border-t border-[var(--border)] bg-[var(--card)]/50",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[a.jsx("span",{className:"text-[var(--muted-foreground)]",children:"Show"}),a.jsxs(Wt,{value:o.toString(),onValueChange:m,disabled:l,children:[a.jsx(zt,{className:"w-16 h-8 text-xs bg-[var(--background)] border-[var(--border)] text-[var(--foreground)]",children:a.jsx(qt,{})}),a.jsxs(Ut,{className:"bg-[var(--popover)] border-[var(--border)]",children:[a.jsx(pt,{value:"5",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"5"}),a.jsx(pt,{value:"10",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"10"}),a.jsx(pt,{value:"25",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"25"}),a.jsx(pt,{value:"50",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"50"}),a.jsx(pt,{value:"100",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"100"})]})]}),a.jsx("span",{className:"text-[var(--muted-foreground)]",children:"per page"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:w,disabled:l||s<=1,className:"h-8 px-3 text-xs bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] hover:bg-[var(--accent)] hover:text-[var(--accent-foreground)]",children:[a.jsx(Tc,{className:"h-3 w-3 mr-1"}),"Prev"]}),a.jsxs("span",{className:"text-xs sm:text-sm px-3 text-[var(--foreground)] font-medium",children:["Page ",s," of ",p.lastPage||1]}),a.jsxs(X,{variant:"outline",size:"sm",onClick:C,disabled:l||s>=(p.lastPage||1),className:"h-8 px-3 text-xs bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] hover:bg-[var(--accent)] hover:text-[var(--accent-foreground)]",children:["Next",a.jsx(Qi,{className:"h-3 w-3 ml-1"})]})]}),a.jsxs("div",{className:"text-xs sm:text-sm text-[var(--muted-foreground)]",children:[a.jsxs("span",{className:"hidden sm:inline",children:[p.from||0," to ",p.to||0," of ",p.total||0," roles"]}),a.jsxs("span",{className:"sm:hidden",children:[p.from||0,"-",p.to||0," of ",p.total||0]})]})]})]})]})},Pft=({selectedStoreId:e,onStoreSelect:t})=>{const r=$t(),[n,s]=b.useState(""),[i,o]=b.useState("all"),c=pe(y0),d=P=>{o(P)},{stores:u,pagination:l,loading:f,error:p,changePage:g,currentPageData:x,refetch:S}=Po(!0,{search:n}),m=b.useMemo(()=>{let P=u;switch(i){case"active":P=P.filter(M=>M.is_active);break;case"inactive":P=P.filter(M=>!M.is_active);break}return P},[u,i]),y=[5,10,15,25,50],w=b.useCallback(async P=>{const M=parseInt(P,10);r(Kj(M)),await S({per_page:M,page:1,search:n})},[r,S,n]),C=b.useCallback(P=>{s(P),l&&l.current_page!==1&&g(1)},[l,g]),E=b.useMemo(()=>l?{shouldShowPagination:l.last_page>1,currentPage:l.current_page,isPrevDisabled:l.current_page<=1,isNextDisabled:l.current_page>=l.last_page}:{shouldShowPagination:!1,currentPage:1,isPrevDisabled:!0,isNextDisabled:!0},[l]),N=b.useCallback(()=>{E.isPrevDisabled||g(E.currentPage-1)},[E.isPrevDisabled,E.currentPage,g]),k=b.useCallback(()=>{E.isNextDisabled||g(E.currentPage+1)},[E.isNextDisabled,E.currentPage,g]),A=b.useMemo(()=>{if(!x||x.total===0)return"No stores found";const{from:P,to:M,total:O}=x;return a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"hidden sm:inline",children:[P," to ",M," of ",O," stores"]}),a.jsxs("span",{className:"sm:hidden",children:[P,"-",M," of ",O]})]})},[x]),T=P=>new Date(P).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return a.jsxs(Se,{className:"bg-[var(--card)] border-[var(--border)]",children:[a.jsx(Me,{className:"px-4 sm:px-6 py-4 sm:py-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0 gap-3 sm:gap-4",children:[a.jsx(Ve,{className:"text-base sm:text-lg text-[var(--card-foreground)]",children:"Select Store"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Pc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[var(--muted-foreground)]"}),a.jsx(et,{placeholder:"Search stores...",value:n,onChange:P=>C(P.target.value),className:"pl-10 w-full sm:w-64 bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] placeholder:text-[var(--muted-foreground)] focus:ring-[var(--ring)] focus:border-[var(--ring)] text-sm sm:text-base"})]}),a.jsxs(Wt,{value:i,onValueChange:d,children:[a.jsxs(zt,{className:"w-full sm:w-40 bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] text-sm sm:text-base",children:[a.jsx(VM,{className:"h-4 w-4 mr-2 text-[var(--muted-foreground)]"}),a.jsx(qt,{})]}),a.jsxs(Ut,{className:"bg-[var(--popover)] border-[var(--border)]",children:[a.jsx(pt,{value:"all",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"All Stores"}),a.jsx(pt,{value:"active",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"Active"}),a.jsx(pt,{value:"inactive",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"Inactive"})]})]})]})]})}),a.jsxs(Ee,{className:"px-4 sm:px-6 pb-4 sm:pb-6",children:[p?a.jsxs("div",{className:"text-[#dc2626] dark:text-[#f87171] text-center py-4 text-sm sm:text-base",children:["Error loading stores: ",p]}):f?a.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[a.jsx(bt,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-[var(--primary)]"}),a.jsx("span",{className:"ml-2 text-sm sm:text-base text-[var(--muted-foreground)]",children:"Loading stores..."})]}):a.jsx(Oy,{value:e?.toString()||"",onValueChange:t,className:"space-y-3 sm:space-y-4",children:m.length===0?a.jsx("div",{className:"text-center py-6 sm:py-8 text-[var(--muted-foreground)] text-sm sm:text-base",children:n?"No stores found matching your search":"No stores found"}):m.map(P=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 sm:p-4 border border-[var(--border)] rounded-lg hover:bg-[var(--muted)]/50 transition-colors",children:[a.jsx(Iy,{value:P.id.toString(),id:`store-${P.id}`,className:"text-[var(--primary)] border-[var(--border)]"}),a.jsx($e,{htmlFor:`store-${P.id}`,className:"flex-1 cursor-pointer",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-[var(--primary)]/10 flex items-center justify-center flex-shrink-0",children:a.jsx(ui,{className:"h-4 w-4 sm:h-5 sm:w-5 text-[var(--primary)]"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"font-medium text-sm sm:text-base text-[var(--card-foreground)] truncate",children:P.name}),a.jsxs("div",{className:"text-xs sm:text-sm text-[var(--muted-foreground)] truncate",children:["ID: ",P.id]}),a.jsx("div",{className:"text-xs sm:text-sm text-[var(--muted-foreground)] truncate",children:P.metadata.address}),a.jsx("div",{className:"text-xs sm:text-sm text-[var(--muted-foreground)] truncate",children:P.metadata.phone})]})]}),a.jsxs("div",{className:"flex flex-col items-start sm:items-end gap-2 sm:gap-1",children:[a.jsx(Ze,{variant:P.is_active?"default":"secondary",className:`text-xs ${P.is_active?"bg-[#16a34a] text-white":"bg-[var(--secondary)] text-[var(--secondary-foreground)]"}`,children:P.is_active?"Active":"Inactive"}),a.jsx("div",{className:"text-xs text-[var(--muted-foreground)]",children:T(P.created_at)})]})]})})]},P.id))}),(m.length>0||E.shouldShowPagination)&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-4 sm:px-6 py-3 border-t border-[var(--border)] bg-[var(--card)]/50",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[a.jsx("span",{className:"text-[var(--muted-foreground)]",children:"Show"}),a.jsxs(Wt,{value:c.toString(),onValueChange:w,disabled:f,children:[a.jsx(zt,{className:"w-16 h-8 text-xs bg-[var(--background)] border-[var(--border)] text-[var(--foreground)]",children:a.jsx(qt,{})}),a.jsx(Ut,{className:"bg-[var(--popover)] border-[var(--border)]",children:y.map(P=>a.jsx(pt,{value:P.toString(),className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:P},P))})]}),a.jsx("span",{className:"text-[var(--muted-foreground)]",children:"per page"})]}),E.shouldShowPagination&&l&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:N,disabled:E.isPrevDisabled||f,className:"h-8 px-3 text-xs bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] hover:bg-[var(--accent)] hover:text-[var(--accent-foreground)]",children:[a.jsx(Tc,{className:"h-3 w-3 mr-1"}),"Prev"]}),a.jsxs("span",{className:"text-xs sm:text-sm px-3 text-[var(--foreground)] font-medium",children:["Page ",E.currentPage," of ",l.last_page]}),a.jsxs(X,{variant:"outline",size:"sm",onClick:k,disabled:E.isNextDisabled||f,className:"h-8 px-3 text-xs bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] hover:bg-[var(--accent)] hover:text-[var(--accent-foreground)]",children:["Next",a.jsx(Qi,{className:"h-3 w-3 ml-1"})]})]}),a.jsx("div",{className:"text-xs sm:text-sm text-[var(--muted-foreground)]",children:A})]})]})]})},Dft=()=>{const[e]=gY(),t=e.get("userId"),r=e.get("storeId"),[n,s]=b.useState({selectedUser:t?parseInt(t):null,selectedRole:null,selectedStore:r||null}),[i,o]=b.useState(!1),[c,d]=b.useState(null),[u,l]=b.useState(!1),{users:f}=vg(),{roles:p}=To(),{stores:g}=Po(),{assignUserRole:x,assignError:S}=r5(),m=[{id:"user",title:"Select User",description:"Choose a user to assign role to",completed:n.selectedUser!==null},{id:"role",title:"Select Role",description:"Choose a role to assign",completed:n.selectedRole!==null},{id:"store",title:"Select Store",description:"Choose a store for the assignment",completed:n.selectedStore!==null}],y=m.filter(P=>P.completed).length,w=y/m.length*100,C=P=>{s(M=>({...M,selectedUser:parseInt(P)}))},E=P=>{s(M=>({...M,selectedRole:parseInt(P)}))},N=P=>{s(M=>({...M,selectedStore:P}))},k=()=>{s({selectedUser:t?parseInt(t):null,selectedRole:null,selectedStore:r||null}),d(null)},A=async()=>{if(!(!n.selectedUser||!n.selectedRole||!n.selectedStore)){o(!0),l(!1);try{const P={user_id:n.selectedUser,role_id:n.selectedRole,store_id:n.selectedStore,is_active:!0,metadata:{start_date:new Date().toISOString(),notes:"Single assignment via Assignment Page"}};await x(P),d({success:!0,message:"Successfully assigned role to user for the selected store."}),setTimeout(()=>{k()},3e3)}catch(P){console.error("Assignment error:",P),d({success:!1,message:S?.message||"Failed to assign role. Please try again."})}finally{o(!1)}}},T=n.selectedUser!==null&&n.selectedRole!==null&&n.selectedStore!==null;return a.jsxs(Qt,{title:"Single Role Assignment",subtitle:"Assign a single role to a user for a specific store",backButton:{show:!0},children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 mb-6",children:[a.jsxs(X,{variant:"outline",onClick:k,disabled:!T,className:"flex items-center gap-2",children:[a.jsx(Kf,{className:"h-4 w-4"}),"Clear Selection"]}),a.jsxs(An,{open:u,onOpenChange:l,children:[a.jsx(OZ,{asChild:!0,children:a.jsxs(X,{disabled:!T||i,className:"flex items-center gap-2",children:[i?a.jsx(bt,{className:"h-4 w-4 animate-spin"}):a.jsx(Fd,{className:"h-4 w-4"}),i?"Assigning...":"Assign Role"]})}),a.jsxs(hn,{children:[a.jsxs(mn,{children:[a.jsx(pn,{children:"Confirm Role Assignment"}),a.jsx(In,{children:"You are about to assign a role to the selected user for the selected store."})]}),a.jsxs(kn,{children:[a.jsx(X,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),a.jsx(X,{onClick:A,children:"Confirm Assignment"})]})]})]})]}),a.jsx(tft,{assignmentSteps:m,completedSteps:y,progressPercentage:w}),c&&a.jsx(rft,{result:c}),(n.selectedUser||n.selectedRole||n.selectedStore)&&a.jsx(nft,{assignmentData:n,users:f,roles:p,stores:g}),a.jsxs(ch,{defaultValue:"users",className:"space-y-4 sm:space-y-6",children:[a.jsxs(mu,{className:"grid w-full grid-cols-3 bg-[var(--muted)] p-1 rounded-lg",children:[a.jsxs(Qs,{value:"users",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-4 py-2 sm:py-3 data-[state=active]:bg-[var(--background)] data-[state=active]:text-[var(--foreground)] data-[state=active]:shadow-sm",children:[a.jsx(Ur,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),a.jsx("span",{className:"hidden sm:inline",children:"Users"}),a.jsx("span",{className:"sm:hidden",children:"U"}),n.selectedUser&&a.jsx("span",{className:"hidden lg:inline text-[var(--primary)]",children:"(1 selected)"})]}),a.jsxs(Qs,{value:"roles",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-4 py-2 sm:py-3 data-[state=active]:bg-[var(--background)] data-[state=active]:text-[var(--foreground)] data-[state=active]:shadow-sm",children:[a.jsx(tn,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),a.jsx("span",{className:"hidden sm:inline",children:"Roles"}),a.jsx("span",{className:"sm:hidden",children:"R"}),n.selectedRole&&a.jsx("span",{className:"hidden lg:inline text-[var(--primary)]",children:"(1 selected)"})]}),a.jsxs(Qs,{value:"stores",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-4 py-2 sm:py-3 data-[state=active]:bg-[var(--background)] data-[state=active]:text-[var(--foreground)] data-[state=active]:shadow-sm",children:[a.jsx(ui,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),a.jsx("span",{className:"hidden sm:inline",children:"Stores"}),a.jsx("span",{className:"sm:hidden",children:"S"}),n.selectedStore&&a.jsx("span",{className:"hidden lg:inline text-[var(--primary)]",children:"(1 selected)"})]})]}),a.jsx(Js,{value:"users",className:"space-y-4 sm:space-y-6",children:a.jsx(kft,{selectedUserId:n.selectedUser,onUserSelect:C})}),a.jsx(Js,{value:"roles",className:"space-y-4 sm:space-y-6",children:a.jsx(Tft,{selectedRoleId:n.selectedRole,onRoleSelect:E})}),a.jsx(Js,{value:"stores",className:"space-y-4 sm:space-y-6",children:a.jsx(Pft,{selectedStoreId:n.selectedStore,onStoreSelect:N})})]})]})},Rft=[a.jsx(Dt,{path:"/user-role-store-assignment",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(Sut,{})})})})},"user-role-store-assignment"),a.jsx(Dt,{path:"/user-role-store-assignment/bulk",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(eft,{})})})})},"bulk-assign"),a.jsx(Dt,{path:"/user-role-store-assignment/assign",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(Dft,{})})})})},"single-assign"),a.jsx(Dt,{path:"/user-role-store-assignment/view/user/:userId",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(Eut,{})})})})},"view-user-assignments"),a.jsx(Dt,{path:"/user-role-store-assignment/view/store/:storeId",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(Put,{})})})})},"view-store-assignments")],Mft=()=>{const e=$t(),{creating:t}=pe(w0),{createError:r}=pe(S0),n=b.useCallback(async i=>{const o=await e(vv(i));if(vv.fulfilled.match(o))return o.payload;throw o.payload||new Error("Failed to create hierarchy")},[e]),s=b.useCallback(()=>{e(Jq("createError"))},[e]);return{createHierarchy:n,isLoading:t,error:r,clearError:s}},nce=e=>{const t=$t(),{fetchingHierarchies:r}=pe(w0),{fetchError:n}=pe(S0),s=b.useMemo(()=>p0e(),[]),i=b.useMemo(()=>Qq(),[]),o=pe(l=>e?s(l,e):[]),c=pe(l=>e?i(l,e):null),d=b.useCallback(async l=>{t(eG(l));const f=await t(ff(l));if(ff.fulfilled.match(f))return f.payload;throw f.payload||new Error("Failed to fetch store hierarchies")},[t]),u=b.useCallback(()=>{e&&(!c?.hierarchiesIsFresh||o.length===0)&&t(ff(e))},[e,c?.hierarchiesIsFresh,o.length,t]);return b.useMemo(()=>{u()},[u]),{hierarchies:o,refetch:d,isLoading:r,error:n,isStale:c?!c.hierarchiesIsFresh:!1}},sce=e=>{const t=$t(),{fetchingTree:r}=pe(w0),{treeError:n}=pe(S0),s=b.useMemo(()=>x0e(),[]),i=b.useMemo(()=>Qq(),[]),o=pe(f=>e?s(f,e):[]),c=pe(f=>e?i(f,e):null),d=b.useCallback(async f=>{t(eG(f));const p=await t(hf(f));if(hf.fulfilled.match(p))return p.payload;throw p.payload||new Error("Failed to fetch hierarchy tree")},[t]),u=b.useMemo(()=>{const f=y=>{const w=C=>{for(const E of C){if(E.role.id===y)return E;const N=w(E.children);if(N)return N}return null};return w(o)};return{findNodeByRoleId:f,getAggregatedPermissions:(y,w={})=>{const{includeInherited:C=!0,deduplicate:E=!0,guardFilter:N}=w,k=f(y);if(!k)return[];let A=[...k.permissions||[]];if(C&&(M=>{const O=[],R=(L,B)=>{for(const F of L){if(O.push(F),F.role.id===B.role.id||R(F.children,B))return!0;O.pop()}return!1};return R(o,M),O})(k).forEach(M=>{M.role.id!==y&&A.push(...M.permissions||[])}),N&&(A=A.filter(T=>T.guard_name===N)),E){const T=new Set;A=A.filter(P=>T.has(P.id)?!1:(T.add(P.id),!0))}return A},getPathToRole:y=>{const w=[],C=E=>{for(const N of E){if(w.push(N),N.role.id===y||C(N.children))return!0;w.pop()}return!1};return C(o),w},validateHierarchy:()=>{const y=[],w=[],C=[],E=new Set,N=(k,A=0)=>{const T=k.role.id;if(E.has(T)){y.push(`Circular reference detected for role: ${k.role.name}`);return}E.add(T),A>10&&w.push(`Deep nesting detected (depth: ${A}) for role: ${k.role.name}`),k.children.length===0&&A===0&&C.push(`Root role "${k.role.name}" has no subordinates`),(!k.permissions||k.permissions.length===0)&&w.push(`Role "${k.role.name}" has no permissions assigned`),k.children.forEach(P=>{N(P,A+1)}),E.delete(T)};return o.forEach(k=>N(k)),{isValid:y.length===0,errors:y,warnings:w,suggestions:C}},transformTree:(y={})=>{const{maxDepth:w=1/0,includePermissions:C=!0,includeMetadata:E=!0}=y,N=(k,A=0)=>{const T={role:k.role,children:A<w?k.children.map(P=>N(P,A+1)):[],permissions:C?k.permissions:[]};return E&&k.treeMetadata&&(T.treeMetadata=k.treeMetadata),T};return o.map(k=>N(k))},searchTree:y=>{const w=[],C=E=>{let N=!0;y.roleId&&E.role.id!==y.roleId&&(N=!1),y.roleName&&!E.role.name.toLowerCase().includes(y.roleName.toLowerCase())&&(N=!1),y.permissionName&&(E.permissions?.some(A=>A.name.toLowerCase().includes(y.permissionName.toLowerCase()))||(N=!1)),N&&w.push(E),E.children.forEach(C)};return o.forEach(C),w}}},[o]),l=b.useCallback(()=>{e&&(!c?.treeIsFresh||o.length===0)&&t(hf(e))},[e,c?.treeIsFresh,o.length,t]);return b.useMemo(()=>{l()},[l]),{tree:o,refetchTree:d,isLoading:r,error:n,utils:u}},Oft=()=>{const e=$t(),{removing:t}=pe(w0),{removeError:r}=pe(S0),n=b.useCallback(async i=>{const o=await e(yv(i));if(!yv.fulfilled.match(o))throw o.payload||new Error("Failed to remove hierarchy")},[e]),s=b.useCallback(()=>{e(Jq("removeError"))},[e]);return{removeHierarchy:n,isLoading:t,error:r,clearError:s}};function Ift(e,t){return b.useReducer((r,n)=>t[r][n]??r,e)}var Ly=e=>{const{present:t,children:r}=e,n=Lft(t),s=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),i=vt(n.ref,Bft(s));return typeof r=="function"||n.isPresent?b.cloneElement(s,{ref:i}):null};Ly.displayName="Presence";function Lft(e){const[t,r]=b.useState(),n=b.useRef(null),s=b.useRef(e),i=b.useRef("none"),o=e?"mounted":"unmounted",[c,d]=Ift(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=Uw(n.current);i.current=c==="mounted"?u:"none"},[c]),wr(()=>{const u=n.current,l=s.current;if(l!==e){const p=i.current,g=Uw(u);e?d("MOUNT"):g==="none"||u?.display==="none"?d("UNMOUNT"):d(l&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),wr(()=>{if(t){let u;const l=t.ownerDocument.defaultView??window,f=g=>{const S=Uw(n.current).includes(CSS.escape(g.animationName));if(g.target===t&&S&&(d("ANIMATION_END"),!s.current)){const m=t.style.animationFillMode;t.style.animationFillMode="forwards",u=l.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=m)})}},p=g=>{g.target===t&&(i.current=Uw(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{l.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:b.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Uw(e){return e?.animationName||"none"}function Bft(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Sf(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),r===!1||!s.defaultPrevented)return t?.(s)}}function $ft(e,t){return b.useReducer((r,n)=>t[r][n]??r,e)}var i5="ScrollArea",[ace,Hxt]=Yn(i5),[Fft,so]=ace(i5),ice=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=e,[c,d]=b.useState(null),[u,l]=b.useState(null),[f,p]=b.useState(null),[g,x]=b.useState(null),[S,m]=b.useState(null),[y,w]=b.useState(0),[C,E]=b.useState(0),[N,k]=b.useState(!1),[A,T]=b.useState(!1),P=vt(t,O=>d(O)),M=lh(s);return a.jsx(Fft,{scope:r,type:n,dir:M,scrollHideDelay:i,scrollArea:c,viewport:u,onViewportChange:l,content:f,onContentChange:p,scrollbarX:g,onScrollbarXChange:x,scrollbarXEnabled:N,onScrollbarXEnabledChange:k,scrollbarY:S,onScrollbarYChange:m,scrollbarYEnabled:A,onScrollbarYEnabledChange:T,onCornerWidthChange:w,onCornerHeightChange:E,children:a.jsx(Je.div,{dir:M,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":C+"px",...e.style}})})});ice.displayName=i5;var oce="ScrollAreaViewport",lce=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,o=so(oce,r),c=b.useRef(null),d=vt(t,c,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(Je.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});lce.displayName=oce;var El="ScrollAreaScrollbar",o5=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=so(El,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,c=e.orientation==="horizontal";return b.useEffect(()=>(c?i(!0):o(!0),()=>{c?i(!1):o(!1)}),[c,i,o]),s.type==="hover"?a.jsx(Hft,{...n,ref:t,forceMount:r}):s.type==="scroll"?a.jsx(zft,{...n,ref:t,forceMount:r}):s.type==="auto"?a.jsx(cce,{...n,ref:t,forceMount:r}):s.type==="always"?a.jsx(l5,{...n,ref:t}):null});o5.displayName=El;var Hft=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=so(El,e.__scopeScrollArea),[i,o]=b.useState(!1);return b.useEffect(()=>{const c=s.scrollArea;let d=0;if(c){const u=()=>{window.clearTimeout(d),o(!0)},l=()=>{d=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return c.addEventListener("pointerenter",u),c.addEventListener("pointerleave",l),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",u),c.removeEventListener("pointerleave",l)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(Ly,{present:r||i,children:a.jsx(cce,{"data-state":i?"visible":"hidden",...n,ref:t})})}),zft=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=so(El,e.__scopeScrollArea),i=e.orientation==="horizontal",o=n_(()=>d("SCROLL_END"),100),[c,d]=$ft("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(c==="idle"){const u=window.setTimeout(()=>d("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[c,s.scrollHideDelay,d]),b.useEffect(()=>{const u=s.viewport,l=i?"scrollLeft":"scrollTop";if(u){let f=u[l];const p=()=>{const g=u[l];f!==g&&(d("SCROLL"),o()),f=g};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[s.viewport,i,d,o]),a.jsx(Ly,{present:r||c!=="hidden",children:a.jsx(l5,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Sf(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Sf(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),cce=b.forwardRef((e,t)=>{const r=so(El,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,o]=b.useState(!1),c=e.orientation==="horizontal",d=n_(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,l=r.viewport.offsetHeight<r.viewport.scrollHeight;o(c?u:l)}},10);return Rp(r.viewport,d),Rp(r.content,d),a.jsx(Ly,{present:n||i,children:a.jsx(l5,{"data-state":i?"visible":"hidden",...s,ref:t})})}),l5=b.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=so(El,e.__scopeScrollArea),i=b.useRef(null),o=b.useRef(0),[c,d]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=mce(c.viewport,c.content),l={...n,sizes:c,onSizesChange:d,hasThumb:u>0&&u<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function f(p,g){return Yft(p,o.current,c,g)}return r==="horizontal"?a.jsx(Uft,{...l,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,g=bW(p,c,s.dir);i.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=f(p,s.dir))}}):r==="vertical"?a.jsx(Vft,{...l,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,g=bW(p,c);i.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=f(p))}}):null}),Uft=b.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=so(El,e.__scopeScrollArea),[o,c]=b.useState(),d=b.useRef(null),u=vt(t,d,i.onScrollbarXChange);return b.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),a.jsx(uce,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":r_(r)+"px",...e.style},onThumbPointerDown:l=>e.onThumbPointerDown(l.x),onDragScroll:l=>e.onDragScroll(l.x),onWheelScroll:(l,f)=>{if(i.viewport){const p=i.viewport.scrollLeft+l.deltaX;e.onWheelScroll(p),gce(p,f)&&l.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Aj(o.paddingLeft),paddingEnd:Aj(o.paddingRight)}})}})}),Vft=b.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=so(El,e.__scopeScrollArea),[o,c]=b.useState(),d=b.useRef(null),u=vt(t,d,i.onScrollbarYChange);return b.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),a.jsx(uce,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":r_(r)+"px",...e.style},onThumbPointerDown:l=>e.onThumbPointerDown(l.y),onDragScroll:l=>e.onDragScroll(l.y),onWheelScroll:(l,f)=>{if(i.viewport){const p=i.viewport.scrollTop+l.deltaY;e.onWheelScroll(p),gce(p,f)&&l.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Aj(o.paddingTop),paddingEnd:Aj(o.paddingBottom)}})}})}),[Wft,dce]=ace(El),uce=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:u,onWheelScroll:l,onResize:f,...p}=e,g=so(El,r),[x,S]=b.useState(null),m=vt(t,P=>S(P)),y=b.useRef(null),w=b.useRef(""),C=g.viewport,E=n.content-n.viewport,N=Xr(l),k=Xr(d),A=n_(f,10);function T(P){if(y.current){const M=P.clientX-y.current.left,O=P.clientY-y.current.top;u({x:M,y:O})}}return b.useEffect(()=>{const P=M=>{const O=M.target;x?.contains(O)&&N(M,E)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[C,x,E,N]),b.useEffect(k,[n,k]),Rp(x,A),Rp(g.content,A),a.jsx(Wft,{scope:r,scrollbar:x,hasThumb:s,onThumbChange:Xr(i),onThumbPointerUp:Xr(o),onThumbPositionChange:k,onThumbPointerDown:Xr(c),children:a.jsx(Je.div,{...p,ref:m,style:{position:"absolute",...p.style},onPointerDown:Sf(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),y.current=x.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),T(P))}),onPointerMove:Sf(e.onPointerMove,T),onPointerUp:Sf(e.onPointerUp,P=>{const M=P.target;M.hasPointerCapture(P.pointerId)&&M.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=w.current,g.viewport&&(g.viewport.style.scrollBehavior=""),y.current=null})})})}),_j="ScrollAreaThumb",fce=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=dce(_j,e.__scopeScrollArea);return a.jsx(Ly,{present:r||s.hasThumb,children:a.jsx(qft,{ref:t,...n})})}),qft=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=so(_j,r),o=dce(_j,r),{onThumbPositionChange:c}=o,d=vt(t,f=>o.onThumbChange(f)),u=b.useRef(void 0),l=n_(()=>{u.current&&(u.current(),u.current=void 0)},100);return b.useEffect(()=>{const f=i.viewport;if(f){const p=()=>{if(l(),!u.current){const g=Kft(f,c);u.current=g,c()}};return c(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[i.viewport,l,c]),a.jsx(Je.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Sf(e.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),x=f.clientX-g.left,S=f.clientY-g.top;o.onThumbPointerDown({x,y:S})}),onPointerUp:Sf(e.onPointerUp,o.onThumbPointerUp)})});fce.displayName=_j;var c5="ScrollAreaCorner",hce=b.forwardRef((e,t)=>{const r=so(c5,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(Gft,{...e,ref:t}):null});hce.displayName=c5;var Gft=b.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=so(c5,r),[i,o]=b.useState(0),[c,d]=b.useState(0),u=!!(i&&c);return Rp(s.scrollbarX,()=>{const l=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(l),d(l)}),Rp(s.scrollbarY,()=>{const l=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(l),o(l)}),u?a.jsx(Je.div,{...n,ref:t,style:{width:i,height:c,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Aj(e){return e?parseInt(e,10):0}function mce(e,t){const r=e/t;return isNaN(r)?0:r}function r_(e){const t=mce(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Yft(e,t,r,n="ltr"){const s=r_(r),i=s/2,o=t||i,c=s-o,d=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-c,l=r.content-r.viewport,f=n==="ltr"?[0,l]:[l*-1,0];return pce([d,u],f)(e)}function bW(e,t,r="ltr"){const n=r_(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,c=i-n,d=r==="ltr"?[0,o]:[o*-1,0],u=GR(e,d);return pce([0,o],[0,c])(u)}function pce(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function gce(e,t){return e>0&&e<t}var Kft=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,c=r.top!==i.top;(o||c)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function n_(e,t){const r=Xr(e),n=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),b.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Rp(e,t){const r=Xr(t);wr(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var xce=ice,Zft=lce,Xft=hce;const By=b.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(xce,{ref:n,className:J("relative overflow-hidden",e),...r,children:[a.jsx(Zft,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(vce,{}),a.jsx(Xft,{})]}));By.displayName=xce.displayName;const vce=b.forwardRef(({className:e,orientation:t="vertical",...r},n)=>a.jsx(o5,{ref:n,orientation:t,className:J("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx(fce,{className:"relative flex-1 rounded-full bg-border"})}));vce.displayName=o5.displayName;const d5=ve.memo(({node:e,level:t,onToggleExpand:r,onSelectRole:n,expandedNodes:s,selectedRoleId:i,searchTerm:o})=>{const c=b.useMemo(()=>({isExpanded:s.has(e.role.id),hasChildren:e.children&&e.children.length>0,isSelected:i===e.role.id,isHighlighted:o&&e.role.name.toLowerCase().includes(o.toLowerCase()),indentWidth:t*24}),[s,e.role.id,e.children,i,o,e.role.name,t]),{isExpanded:d,hasChildren:u,isSelected:l,isHighlighted:f,indentWidth:p}=c,g=b.useCallback(C=>{C.stopPropagation(),r(e.role.id)},[r,e.role.id]),x=b.useCallback(()=>{n(e.role)},[n,e.role]),S=b.useMemo(()=>J("flex items-center space-x-2 p-3 rounded-lg border transition-all duration-200 cursor-pointer",l?"bg-primary/10 border-primary shadow-sm":"hover:bg-muted/50 border-transparent",f&&"ring-2 ring-yellow-400/50 bg-yellow-50"),[l,f]),m=b.useMemo(()=>J("p-1.5 rounded-md",t===0?"bg-yellow-100":t===1?"bg-blue-100":"bg-gray-100"),[t]),y=b.useMemo(()=>J("h-4 w-4",t===0?"text-yellow-600":t===1?"text-blue-600":"text-gray-600"),[t]),w=b.useMemo(()=>J("font-medium truncate",l?"text-primary":"text-foreground"),[l]);return a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:S,style:{marginLeft:`${p}px`},onClick:x,children:[a.jsx("div",{className:"flex-shrink-0",children:u?a.jsx(X,{onClick:g,variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-primary/10",children:d?a.jsx(Yf,{className:"h-4 w-4"}):a.jsx(Qi,{className:"h-4 w-4"})}):a.jsx("div",{className:"h-6 w-6"})}),a.jsx("div",{className:m,children:t===0?a.jsx(UM,{className:"h-4 w-4 text-yellow-600"}):a.jsx(Fd,{className:y})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h4",{className:w,children:e.role.name}),a.jsx(Ze,{variant:"default",className:"text-xs",children:"Active"})]}),a.jsx("p",{className:"text-sm text-muted-foreground truncate",children:"No description"})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[a.jsx(tn,{className:"h-4 w-4"}),a.jsx("span",{children:e.role.permissions?.length||0})]}),u&&a.jsxs("div",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[a.jsx(Ur,{className:"h-4 w-4"}),a.jsx("span",{children:e.children.length})]})]}),d&&u&&a.jsx("div",{className:"space-y-1",children:e.children.map(C=>a.jsx(d5,{node:C,level:t+1,onToggleExpand:r,onSelectRole:n,expandedNodes:s,selectedRoleId:i,searchTerm:o},C.role.id))})]})});d5.displayName="RoleNode";const Qft=({role:e,onClose:t})=>a.jsxs(Se,{className:"h-full",children:[a.jsx(Me,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Ve,{className:"text-lg",children:"Role Details"}),a.jsx(X,{onClick:t,variant:"ghost",size:"sm",children:a.jsx(Bs,{className:"h-4 w-4"})})]})}),a.jsxs(Ee,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Role Name"}),a.jsx("p",{className:"text-lg font-semibold",children:e.name})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),a.jsx("div",{className:"mt-1",children:a.jsx(Ze,{variant:"default",children:"Active"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Role ID"}),a.jsx("p",{className:"text-sm font-mono",children:e.id})]})]})]}),a.jsx(Xs,{}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("h4",{className:"font-medium flex items-center space-x-2",children:[a.jsx(tn,{className:"h-4 w-4"}),a.jsxs("span",{children:["Permissions (",e.permissions?.length||0,")"]})]})}),e.permissions&&e.permissions.length>0?a.jsx(By,{className:"h-48",children:a.jsx("div",{className:"space-y-2",children:e.permissions.map(r=>a.jsx("div",{className:"p-3 border rounded-lg bg-muted/30",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h5",{className:"font-medium text-sm",children:r.name}),a.jsx(Ze,{variant:"outline",className:"text-xs",children:r.guard_name})]})},r.id))})}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(tn,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"No permissions assigned"})]})]})]})]}),yce=ve.memo(({searchTerm:e,onSearchChange:t,onExpandAll:r,onCollapseAll:n})=>a.jsxs(Me,{className:"pb-3 p-4 sm:p-6",children:[a.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[a.jsxs(Ve,{className:"flex items-center space-x-2 text-lg sm:text-xl text-foreground",children:[a.jsx(Ur,{className:"h-5 w-5"}),a.jsx("span",{children:"Role Hierarchy Tree"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(X,{onClick:r,variant:"outline",size:"sm",className:"hover:bg-accent text-xs sm:text-sm",children:[a.jsx("span",{className:"hidden sm:inline",children:"Expand All"}),a.jsx("span",{className:"sm:hidden",children:"Expand"})]}),a.jsxs(X,{onClick:n,variant:"outline",size:"sm",className:"hover:bg-accent text-xs sm:text-sm",children:[a.jsx("span",{className:"hidden sm:inline",children:"Collapse All"}),a.jsx("span",{className:"sm:hidden",children:"Collapse"})]})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Pc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(et,{placeholder:"Search roles...",value:e,onChange:s=>t(s.target.value),className:"pl-10"})]})]}));yce.displayName="HierarchyTreeHeader";const Jft=({onCreateHierarchy:e})=>a.jsxs("div",{className:"text-center py-8 sm:py-12",children:[a.jsx(un,{className:"h-10 w-10 sm:h-12 sm:w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-2 text-foreground",children:"No hierarchy found"}),a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mb-4",children:"This store doesn't have any role hierarchy configured yet."}),a.jsxs(X,{onClick:e,className:"text-sm sm:text-base",children:[a.jsx(EY,{className:"h-4 w-4 mr-2"}),"Create Hierarchy"]})]}),eht=()=>a.jsx(Se,{children:a.jsxs(Ee,{className:"p-6 sm:p-8 lg:p-12 text-center",children:[a.jsx(Cs,{className:"h-10 w-10 sm:h-12 sm:w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-2 text-foreground",children:"Select a Role"}),a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Click on any role in the hierarchy tree to view its details and permissions."})]})}),tht=e=>{const t=new Set,r=n=>{n.forEach(s=>{t.add(s.role.id),s.children&&r(s.children)})};return r(e),t},rht=()=>{const{storeId:e}=Ia(),t=Ot(),[r,n]=b.useState(""),[s,i]=b.useState(new Set),[o,c]=b.useState(null),{tree:d,isLoading:u,error:l,refetchTree:f,utils:p}=sce(e),g=b.useMemo(()=>d?.map(C=>C.role.id)||[],[d]);b.useEffect(()=>{d&&d.length>0&&i(new Set(g))},[d,g]);const x=b.useCallback(C=>{i(E=>{const N=new Set(E);return N.has(C)?N.delete(C):N.add(C),N})},[]),S=b.useCallback(C=>{c(C)},[]),m=b.useCallback(()=>{if(d&&p){const C=tht(d);i(C)}},[d,p]),y=b.useCallback(()=>{i(new Set)},[]);if(!e)return a.jsx("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8",children:a.jsxs(at,{variant:"destructive",className:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{className:"text-sm sm:text-base",children:"Store ID is required to view hierarchy."})]})});const w=a.jsxs(a.Fragment,{children:[a.jsxs(X,{onClick:()=>t(`/stores-hierarchy/create/${e}`),variant:"outline",size:"sm",className:"hover:bg-accent text-xs sm:text-sm","aria-label":"Create new hierarchy for this store",children:[a.jsx(EY,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Create Hierarchy"}),a.jsx("span",{className:"sm:hidden",children:"Create"})]}),a.jsxs(X,{onClick:()=>t(`/stores-hierarchy/delete/${e}`),variant:"outline",size:"sm",className:"hover:bg-accent text-xs sm:text-sm","aria-label":"Remove hierarchy for this store",children:[a.jsx(ss,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Remove Hierarchy"}),a.jsx("span",{className:"sm:hidden",children:"Remove"})]}),a.jsxs(X,{onClick:()=>t(`/stores-hierarchy/validate/${e}`),variant:"outline",size:"sm",className:"hover:bg-accent text-xs sm:text-sm","aria-label":"Validate hierarchy for this store",children:[a.jsx(Pa,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Validate Hierarchy"}),a.jsx("span",{className:"sm:hidden",children:"Validate"})]}),a.jsxs(X,{onClick:()=>f(e),variant:"outline",size:"sm",disabled:u,className:"hover:bg-accent text-xs sm:text-sm","aria-label":"Refresh hierarchy data",children:[a.jsx(Tn,{className:J("h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2",u&&"animate-spin")}),a.jsx("span",{className:"hidden sm:inline",children:"Refresh"}),a.jsx("span",{className:"sm:hidden",children:""})]})]});return a.jsxs(Qt,{title:"Store Hierarchy",subtitle:`Role hierarchy for store: ${e}`,backButton:{show:!0},subButtons:w,children:[l&&a.jsxs(at,{variant:"destructive",className:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{className:"text-sm sm:text-base",children:l?.message||"An error occurred while loading the hierarchy."})]}),a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4 sm:gap-6",children:[a.jsx("div",{className:"xl:col-span-2 space-y-4",children:a.jsxs(Se,{children:[a.jsx(yce,{searchTerm:r,onSearchChange:n,onExpandAll:m,onCollapseAll:y}),a.jsx(Ee,{className:"p-4 sm:p-6",children:u?a.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((C,E)=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Xe,{className:"h-6 w-6"}),a.jsx(Xe,{className:"h-8 w-8 rounded-md"}),a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsx(Xe,{className:"h-4 w-32"}),a.jsx(Xe,{className:"h-3 w-48"})]}),a.jsx(Xe,{className:"h-6 w-12"})]},E))}):d&&d.length>0?a.jsx(By,{className:"h-[400px] sm:h-[500px] lg:h-[600px]",children:a.jsx("div",{className:"space-y-2",children:d.map(C=>a.jsx(d5,{node:C,level:0,onToggleExpand:x,onSelectRole:S,expandedNodes:s,selectedRoleId:o?.id,searchTerm:r},C.role.id))})}):a.jsx(Jft,{onCreateHierarchy:()=>t(`/stores-hierarchy/create/${e}`)})})]})}),a.jsx("div",{className:"space-y-4",children:o?a.jsx(Qft,{role:o,onClose:()=>c(null)}):a.jsx(eht,{})})]})]})},kj=({title:e,description:t,icon:r,roles:n,selectedRoleId:s,disabledRoleId:i,isLoading:o,validationError:c,onRoleChange:d})=>{const u=r==="crown"?UM:Fd,l=r==="crown"?"text-yellow-600":"text-blue-600";return a.jsxs(Se,{children:[a.jsxs(Me,{className:"pb-3 sm:pb-6",children:[a.jsxs(Ve,{className:"flex items-center space-x-2 text-base sm:text-lg",children:[a.jsx(u,{className:`h-4 w-4 sm:h-5 sm:w-5 ${l}`}),a.jsx("span",{className:"text-foreground",children:e})]}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:t})]}),a.jsxs(Ee,{className:"pt-0 sm:pt-6",children:[o?a.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[a.jsx(bt,{className:"h-4 w-4 animate-spin mr-2"}),a.jsx("span",{className:"text-sm sm:text-base text-muted-foreground",children:"Loading roles..."})]}):a.jsx(Oy,{value:s,onValueChange:d,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:n.map(f=>a.jsxs("div",{className:"flex items-center space-x-2 p-2 rounded-md hover:bg-accent/50",children:[a.jsx(Iy,{value:f.id.toString(),id:`${r}-role-${f.id}`,disabled:i===f.id.toString()}),a.jsxs($e,{htmlFor:`${r}-role-${f.id}`,className:J("text-xs sm:text-sm font-medium leading-none cursor-pointer flex-1",i===f.id.toString()&&"text-muted-foreground cursor-not-allowed"),children:[a.jsx("span",{className:"text-foreground",children:f.name}),f.permissions&&f.permissions.length>0&&a.jsxs("span",{className:"text-xs text-muted-foreground ml-1 block sm:inline",children:["(",f.permissions.length," permission",f.permissions.length>1?"s":"",")"]})]})]},f.id))}),c&&a.jsx("p",{className:"text-xs sm:text-sm text-destructive mt-2",children:c})]})]})},bce=ve.memo(({createdBy:e,reason:t,validationErrors:r,onInputChange:n})=>a.jsxs(Se,{children:[a.jsxs(Me,{className:"pb-3 sm:pb-6",children:[a.jsx(Ve,{className:"text-base sm:text-lg text-foreground",children:"Metadata"}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Additional information about this hierarchy relationship"})]}),a.jsx(Ee,{className:"space-y-4 sm:space-y-6 pt-0 sm:pt-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"created_by",className:"text-sm font-medium text-foreground",children:"Created By"}),a.jsx(et,{id:"created_by",name:"created_by",type:"text",value:e,onChange:n,placeholder:"Enter creator name",className:J("text-sm sm:text-base",r.created_by&&"border-destructive")}),r.created_by&&a.jsx("p",{className:"text-xs sm:text-sm text-destructive",children:r.created_by})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"reason",className:"text-sm font-medium text-foreground",children:"Reason (Optional)"}),a.jsx(wo,{id:"reason",name:"reason",value:t,onChange:n,placeholder:"e.g., Store manager manages assistant manager",className:J("text-sm sm:text-base min-h-[80px] sm:min-h-[100px]",r.reason&&"border-destructive"),rows:3}),r.reason&&a.jsx("p",{className:"text-xs sm:text-sm text-destructive",children:r.reason})]})]})})]}));bce.displayName="MetadataSection";const nht=({isSubmitting:e,isLoading:t,rolesLoading:r,onCancel:n})=>a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 sm:gap-4 pt-2",children:[a.jsx(X,{type:"button",variant:"outline",onClick:n,className:"w-full sm:w-auto text-sm sm:text-base hover:bg-accent",children:"Cancel"}),a.jsx(X,{type:"submit",disabled:e||t||r,className:"w-full sm:w-auto min-w-[120px] sm:min-w-[140px] text-sm sm:text-base",children:e||t?a.jsxs(a.Fragment,{children:[a.jsx(bt,{className:"h-4 w-4 animate-spin mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Creating..."}),a.jsx("span",{className:"sm:hidden",children:"Creating"})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"hidden sm:inline",children:"Create Hierarchy"}),a.jsx("span",{className:"sm:hidden",children:"Create"})]})})]}),sht=({formData:e,roles:t,rolesLoading:r,isSubmitting:n,isLoading:s,validationErrors:i,onSubmit:o,onInputChange:c,onRoleChange:d,onCancel:u})=>{const l=b.useCallback(p=>{d("higher_role_id",p)},[d]),f=b.useCallback(p=>{d("lower_role_id",p)},[d]);return a.jsxs("form",{onSubmit:o,className:"space-y-4 sm:space-y-6",children:[a.jsx(kj,{title:"Higher Role",description:"Select the role that will be higher in the hierarchy (parent role)",icon:"crown",roles:t,selectedRoleId:e.higher_role_id,disabledRoleId:e.lower_role_id,isLoading:r,validationError:i.higher_role_id,onRoleChange:l}),a.jsx(kj,{title:"Lower Role",description:"Select the role that will be lower in the hierarchy (child role)",icon:"usercheck",roles:t,selectedRoleId:e.lower_role_id,disabledRoleId:e.higher_role_id,isLoading:r,validationError:i.lower_role_id,onRoleChange:f}),a.jsx(bce,{createdBy:e.created_by,reason:e.reason,validationErrors:i,onInputChange:c}),a.jsx(nht,{isSubmitting:n,isLoading:s,rolesLoading:r,onCancel:u})]})},wW="system",aht=!0,iht=()=>a.jsx(Qt,{title:"Create Hierarchy",subtitle:"Store ID is required to create hierarchy",backButton:{show:!0},children:a.jsxs(at,{variant:"destructive",className:"border-destructive/50 text-destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{className:"text-sm sm:text-base",children:"Store ID is required to create hierarchy."})]})}),oht=({storeId:e})=>{const t=Ot(),r=Fs(),{createHierarchy:n,isLoading:s,error:i}=Mft(),{roles:o,loading:c}=To(),d=r.state,u=b.useMemo(()=>({higher_role_id:d?.preselectedHigherRole||"",lower_role_id:d?.preselectedLowerRole||"",created_by:wW,reason:""}),[d?.preselectedHigherRole,d?.preselectedLowerRole]),[l,f]=b.useState(u),[p,g]=b.useState({}),[x,S]=b.useState(!1),m=b.useCallback(()=>{t(`/stores-hierarchy/view/${e}`)},[t,e]),y=b.useCallback(A=>{g(T=>{if(T[A]){const{[A]:P,...M}=T;return M}return T})},[]),w=b.useCallback(A=>{const{name:T,value:P}=A.target;f(M=>({...M,[T]:P})),y(T)},[y]),C=b.useCallback((A,T)=>{f(P=>({...P,[A]:T})),y(A)},[y]),E=b.useCallback(()=>{const A={};l.higher_role_id.trim()||(A.higher_role_id="Please select a higher role"),l.lower_role_id.trim()||(A.lower_role_id="Please select a lower role");const T=Number(l.higher_role_id),P=Number(l.lower_role_id);return l.higher_role_id&&(isNaN(T)||T<=0)&&(A.higher_role_id="Please select a valid higher role"),l.lower_role_id&&(isNaN(P)||P<=0)&&(A.lower_role_id="Please select a valid lower role"),l.higher_role_id&&l.lower_role_id&&l.higher_role_id===l.lower_role_id&&(A.lower_role_id="Higher role and lower role cannot be the same"),{isValid:Object.keys(A).length===0,errors:A}},[l.higher_role_id,l.lower_role_id]),N=b.useCallback(async A=>{A.preventDefault();const T=E();if(!T.isValid){g(T.errors);return}S(!0),g({});try{const P=Number(l.higher_role_id),M=Number(l.lower_role_id);if(isNaN(P)||isNaN(M))throw new Error("Invalid role selection");const O={higher_role_id:P,lower_role_id:M,store_id:e,metadata:{created_by:l.created_by.trim()||wW,reason:l.reason.trim()},is_active:aht};await n(O),t(`/stores-hierarchy/view/${e}`)}catch(P){console.error("Failed to create hierarchy:",P);const M=P instanceof Error?P.message:"Failed to create hierarchy. Please try again.";g({general:M})}finally{S(!1)}},[l,e,E,n,t]),k=s||c||x;return a.jsxs(Qt,{title:"Create Hierarchy",subtitle:`Create a new role hierarchy for store: ${e}`,backButton:{show:!0},children:[(i||p.general)&&a.jsxs(at,{variant:"destructive",className:"border-destructive/50 text-destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{className:"text-sm sm:text-base",children:i?.message||p.general})]}),a.jsx(sht,{formData:l,roles:o,rolesLoading:c,isSubmitting:x,isLoading:k,validationErrors:p,onSubmit:N,onInputChange:w,onRoleChange:C,onCancel:m})]})},lht=()=>{const{storeId:e}=Ia();return e?a.jsx(oht,{storeId:e}):a.jsx(iht,{})},wce=ve.memo(({isValidating:e,isLoading:t,canValidate:r,validationResult:n,hierarchiesCount:s,onValidate:i,onCreateHierarchy:o,onRemoveHierarchy:c})=>a.jsxs(a.Fragment,{children:[a.jsx(Se,{children:a.jsx(Ee,{className:"pt-6",children:a.jsx("div",{className:"flex justify-center",children:a.jsx(X,{onClick:i,disabled:e||t||!r,className:"min-w-[200px] px-6 sm:px-8 py-2 text-sm sm:text-base w-full sm:w-auto",size:"lg",children:e?a.jsxs(a.Fragment,{children:[a.jsx(bt,{className:"h-4 w-4 animate-spin mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Validating..."}),a.jsx("span",{className:"sm:hidden",children:"Validating"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Pc,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Validate Hierarchy"}),a.jsx("span",{className:"sm:hidden",children:"Validate"})]})})})})}),n&&a.jsxs(Se,{children:[a.jsx(Me,{className:"p-4 sm:p-6",children:a.jsxs(Ve,{className:"flex items-center space-x-2 text-lg sm:text-xl",children:[n.success?a.jsx(Pa,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"}):a.jsx(ht,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"}),a.jsx("span",{children:"Validation Results"})]})}),a.jsx(Ee,{className:"p-4 sm:p-6 pt-0",children:n.success?a.jsxs("div",{className:"space-y-4",children:[a.jsxs(at,{children:[a.jsx(Pa,{className:"h-4 w-4"}),a.jsx(it,{children:"Hierarchy relationship found: This hierarchy already exists for this store."})]}),n.errors&&n.errors.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Validation Details:"}),n.errors.map((d,u)=>a.jsxs(at,{variant:u===0?"default":"destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{children:d})]},u))]}),a.jsx("div",{className:"flex justify-center pt-4",children:a.jsxs(X,{onClick:c,variant:"destructive",className:"min-w-[200px]",children:[a.jsx(ss,{className:"h-4 w-4 mr-2"}),"Remove Hierarchy"]})})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs(at,{children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsxs(it,{children:["Hierarchy relationship not found: This hierarchy does not exist for this store.",s>0&&a.jsxs("span",{className:"block mt-1 text-sm",children:["Checked against ",s," existing hierarchy relationships."]})]})]}),n.errors&&n.errors.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Additional Validation Notes:"}),n.errors.map((d,u)=>a.jsxs(at,{variant:"default",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{children:d})]},u))]}),a.jsx("div",{className:"flex justify-center pt-4",children:a.jsxs(X,{onClick:o,className:"min-w-[200px]",children:[a.jsx(br,{className:"h-4 w-4 mr-2"}),"Create Hierarchy"]})})]})})]})]}));wce.displayName="ValidationSection";const cht=()=>{const e=Ot(),{storeId:t}=Ia(),{roles:r,loading:n}=To(),{hierarchies:s,isLoading:i,error:o}=nce(t),{tree:c,utils:d,isLoading:u,error:l}=sce(t),[f,p]=b.useState({higher_role_id:"",lower_role_id:""}),[g,x]=b.useState(null),[S,m]=b.useState(!1),[y,w]=b.useState({}),C=b.useMemo(()=>n||i||u,[n,i,u]),E=b.useMemo(()=>{if(!s||s.length===0||!f.higher_role_id||!f.lower_role_id)return!1;const O=parseInt(f.higher_role_id),R=parseInt(f.lower_role_id);return s.some(L=>L.higher_role_id===O&&L.lower_role_id===R)},[s,f.higher_role_id,f.lower_role_id]),N=b.useMemo(()=>!!f.higher_role_id&&!!f.lower_role_id,[f.higher_role_id,f.lower_role_id]),k=b.useCallback((O,R)=>{p(L=>({...L,[O]:R})),y[O]&&w(L=>({...L,[O]:""})),g&&x(null)},[y,g]),A=b.useCallback(()=>{const O={};return f.higher_role_id||(O.higher_role_id="Please select a higher role"),f.lower_role_id||(O.lower_role_id="Please select a lower role"),f.higher_role_id===f.lower_role_id&&f.higher_role_id&&(O.lower_role_id="Higher role and lower role cannot be the same"),w(O),Object.keys(O).length===0},[f.higher_role_id,f.lower_role_id]),T=b.useCallback(async()=>{if(A()){if(!t){w({general:"Store ID is required"});return}m(!0);try{const O=parseInt(f.higher_role_id),R=parseInt(f.lower_role_id);let L=[];if(d&&c.length>0){const B=d.findNodeByRoleId(O),F=d.findNodeByRoleId(R);B||L.push(`Higher role (ID: ${O}) not found in hierarchy tree`),F||L.push(`Lower role (ID: ${R}) not found in hierarchy tree`),B&&F&&d.getPathToRole(R).some(Z=>Z.role.id===O)&&!E&&L.push("Roles are already connected through an indirect hierarchy path");const $=d.validateHierarchy();$.isValid||L.push(...$.errors)}x(E?{success:!0,valid:!0,errors:["This hierarchy relationship already exists",...L]}:{success:!1,valid:!1,errors:L})}catch(O){console.error("Failed to validate hierarchy:",O),w({general:"Failed to validate hierarchy. Please try again."})}finally{m(!1)}}},[f.higher_role_id,f.lower_role_id,t,d,c,E,A]),P=b.useCallback(()=>{e(`/stores-hierarchy/create/${t}`,{state:{preselectedHigherRole:f.higher_role_id,preselectedLowerRole:f.lower_role_id}})},[e,t,f.higher_role_id,f.lower_role_id]),M=b.useCallback(()=>{e(`/stores-hierarchy/delete/${t}`,{state:{preselectedHigherRole:f.higher_role_id,preselectedLowerRole:f.lower_role_id,validatedHierarchy:{higher_role_id:parseInt(f.higher_role_id),lower_role_id:parseInt(f.lower_role_id),store_id:t}}})},[e,t,f.higher_role_id,f.lower_role_id]);return b.useEffect(()=>{Object.keys(y).length>0&&w({})},[f,y]),t?a.jsxs(Qt,{title:"Validate Hierarchy",subtitle:`Check if a role hierarchy exists for store: ${t}${s.length>0?` (${s.length} existing hierarchies loaded)`:""}`,backButton:{show:!0},children:[y.general&&a.jsxs(at,{variant:"destructive",className:"border-destructive/50",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{className:"text-destructive text-sm sm:text-base",children:y.general})]}),o&&a.jsxs(at,{variant:"destructive",className:"border-destructive/50",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsxs(it,{className:"text-destructive text-sm sm:text-base",children:["Failed to load hierarchies: ",o?.message||"Unknown error"]})]}),l&&a.jsxs(at,{variant:"destructive",className:"border-destructive/50",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsxs(it,{className:"text-destructive text-sm sm:text-base",children:["Failed to load hierarchy tree: ",l?.message||"Unknown error"]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(kj,{title:"Higher Role",description:"Select the role that should be higher in the hierarchy (parent role)",icon:"crown",roles:r,selectedRoleId:f.higher_role_id,disabledRoleId:f.lower_role_id,isLoading:C,validationError:y.higher_role_id,onRoleChange:O=>k("higher_role_id",O)}),a.jsx(kj,{title:"Lower Role",description:"Select the role that should be lower in the hierarchy (child role)",icon:"usercheck",roles:r,selectedRoleId:f.lower_role_id,disabledRoleId:f.higher_role_id,isLoading:C,validationError:y.lower_role_id,onRoleChange:O=>k("lower_role_id",O)}),a.jsx(wce,{isValidating:S,isLoading:C,canValidate:N,validationResult:g,hierarchiesCount:s.length,onValidate:T,onCreateHierarchy:P,onRemoveHierarchy:M})]})]}):a.jsx(Qt,{title:"Validate Hierarchy",subtitle:"Store ID is required to validate hierarchy",backButton:{show:!0},children:a.jsxs(at,{variant:"destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{children:"Store ID is required to validate hierarchy."})]})})},dht=({totalCount:e,selectedCount:t,allSelected:r,someSelected:n,onSelectAll:s,onDeleteSelected:i,isDeleting:o})=>{const c=b.useRef(null);return b.useEffect(()=>{if(c.current){const d=c.current.querySelector('input[type="checkbox"]');d&&(d.indeterminate=n)}},[n]),e===0?null:a.jsx(Se,{children:a.jsx(Me,{className:"pb-3",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0",children:[a.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[a.jsx($s,{ref:c,checked:r,onCheckedChange:s}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"Select Hierarchies"}),a.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:[t," of ",e," selected"]})]})]}),a.jsxs(X,{onClick:i,variant:"destructive",size:"sm",disabled:t===0||o,className:"w-full sm:w-auto text-sm sm:text-base",children:[a.jsx(ss,{className:"h-4 w-4 mr-2"}),a.jsxs("span",{className:"hidden sm:inline",children:["Delete Selected (",t,")"]}),a.jsxs("span",{className:"sm:hidden",children:["Delete (",t,")"]})]})]})})})},uht=({hierarchy:e,onSelect:t,isSelected:r,isDeleting:n})=>{const s=b.useCallback(i=>{typeof i=="boolean"&&t(e,i)},[e,t]);return a.jsx("div",{className:J("p-3 sm:p-4 border rounded-lg transition-all duration-200",r?"border-red-300 bg-red-50 dark:bg-red-950/20 dark:border-red-800/30":"border-border hover:border-accent-foreground/20",n&&"opacity-50 pointer-events-none"),children:a.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[a.jsx($s,{checked:r,onCheckedChange:s,disabled:n,className:"mt-1"}),a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-3 lg:space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-blue-50 dark:bg-blue-950/20 rounded-md w-full sm:w-auto",children:[a.jsx(UM,{className:"h-3 w-3 sm:h-4 sm:w-4 text-blue-600"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-xs sm:text-sm text-blue-900 dark:text-blue-200 truncate",children:e.higher_role?.name}),a.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-300",children:["Higher Role (ID: ",e.higher_role?.id,")"]})]})]}),a.jsx("div",{className:"flex items-center justify-center w-full sm:w-auto",children:a.jsx(Bs,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground rotate-180"})}),a.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-green-50 dark:bg-green-950/20 rounded-md w-full sm:w-auto",children:[a.jsx(Fd,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-600"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-xs sm:text-sm text-green-900 dark:text-green-200 truncate",children:e.lower_role?.name}),a.jsxs("p",{className:"text-xs text-green-600 dark:text-green-300",children:["Lower Role (ID: ",e.lower_role?.id,")"]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Store ID"}),a.jsx("p",{className:"font-mono text-foreground text-xs sm:text-sm",children:e.store_id})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Hierarchy ID"}),a.jsx("p",{className:"font-mono text-foreground text-xs sm:text-sm",children:e.id})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-1 sm:space-y-0 sm:space-x-6 text-xs sm:text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(tn,{className:"h-3 w-3 sm:h-4 sm:w-4"}),a.jsxs("span",{children:["Higher: ",e.higher_role?.permissions?.length||0," permissions"]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(tn,{className:"h-3 w-3 sm:h-4 sm:w-4"}),a.jsxs("span",{children:["Lower: ",e.lower_role?.permissions?.length||0," permissions"]})]})]})]}),a.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[a.jsx(Ze,{variant:"default",className:"text-xs",children:"Active"}),r&&a.jsxs(Ze,{variant:"destructive",className:"text-xs",children:[a.jsx(ss,{className:"h-3 w-3 mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"To Delete"}),a.jsx("span",{className:"sm:hidden",children:"Delete"})]})]})]})})},fht=({hierarchies:e,loading:t,selectedHierarchies:r,deletingIds:n,onSelectHierarchy:s,onBack:i})=>a.jsxs(Se,{children:[a.jsx(Me,{className:"p-4 sm:p-6",children:a.jsxs(Ve,{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(un,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a.jsx("span",{className:"text-lg sm:text-xl",children:"Store Hierarchy Relationships"})]}),a.jsxs(Ze,{variant:"outline",className:"text-xs sm:text-sm",children:[e.length," items"]})]})}),a.jsx(Ee,{className:"p-4 sm:p-6",children:t?a.jsx("div",{className:"space-y-3 sm:space-y-4",children:Array.from({length:3}).map((o,c)=>a.jsx("div",{className:"p-3 sm:p-4 border rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Xe,{className:"h-4 w-4"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Xe,{className:"h-12 w-32"}),a.jsx(Xe,{className:"h-4 w-4"}),a.jsx(Xe,{className:"h-12 w-32"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(Xe,{className:"h-8 w-full"}),a.jsx(Xe,{className:"h-8 w-full"})]})]}),a.jsx(Xe,{className:"h-6 w-16"})]})},c))}):e.length>0?a.jsx(By,{className:"h-[600px]",children:a.jsx("div",{className:"space-y-3 sm:space-y-4",children:e.map(o=>a.jsx(uht,{hierarchy:o,onSelect:s,isSelected:r.has(o.id),isDeleting:n.has(o.id)},o.id))})}):a.jsxs("div",{className:"text-center py-8 sm:py-12",children:[a.jsx(un,{className:"h-10 w-10 sm:h-12 sm:w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-2",children:"No hierarchies found"}),a.jsx("p",{className:"text-muted-foreground mb-4 text-sm sm:text-base",children:"This store doesn't have any role hierarchy relationships configured."}),a.jsxs(X,{onClick:i,variant:"outline",className:"hover:bg-accent",children:[a.jsx(Bs,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Go Back"}),a.jsx("span",{className:"sm:hidden",children:"Back"})]})]})})]}),hht=({selectedHierarchies:e,onConfirm:t,onCancel:r,isDeleting:n,open:s})=>{const i=b.useCallback(o=>{o||r()},[r]);return a.jsx(An,{open:s,onOpenChange:i,children:a.jsxs(hn,{className:"sm:max-w-[500px] p-4 sm:p-6",children:[a.jsx(mn,{children:a.jsxs(pn,{className:"flex items-center space-x-2 text-lg sm:text-xl",children:[a.jsx(wC,{className:"h-4 w-4 sm:h-5 sm:w-5 text-red-500"}),a.jsx("span",{children:"Confirm Deletion"})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(at,{variant:"destructive",className:"border-destructive/50",children:[a.jsx(wC,{className:"h-4 w-4"}),a.jsxs(it,{className:"text-destructive text-sm sm:text-base",children:["You are about to delete ",e.length," hierarchy relationship",e.length>1?"s":"",". This action cannot be undone."]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium text-sm sm:text-base",children:"Hierarchies to be deleted:"}),a.jsx(By,{className:"h-32 border rounded-md p-2",children:a.jsx("div",{className:"space-y-2",children:e.map(o=>a.jsxs("div",{className:"text-xs sm:text-sm p-2 bg-red-50 dark:bg-red-950/20 rounded border border-red-200 dark:border-red-800/30",children:[a.jsx("span",{className:"font-medium text-foreground",children:o.higher_role?.name}),a.jsx("span",{className:"mx-2 text-muted-foreground",children:""}),a.jsx("span",{className:"font-medium text-foreground",children:o.lower_role?.name})]},o.id))})})]})]}),a.jsxs(kn,{className:"flex flex-col sm:flex-row gap-2 sm:gap-0",children:[a.jsx(X,{type:"button",variant:"outline",onClick:r,disabled:n,className:"w-full sm:w-auto text-sm sm:text-base hover:bg-accent",children:"Cancel"}),a.jsx(X,{type:"button",variant:"destructive",onClick:t,disabled:n,className:"w-full sm:w-auto text-sm sm:text-base",children:n?a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"h-4 w-4 mr-2 animate-spin"}),a.jsx("span",{className:"hidden sm:inline",children:"Deleting..."}),a.jsx("span",{className:"sm:hidden",children:"Deleting"})]}):a.jsxs(a.Fragment,{children:[a.jsx(ss,{className:"h-4 w-4 mr-2"}),a.jsxs("span",{className:"hidden sm:inline",children:["Delete ",e.length," Item",e.length>1?"s":""]}),a.jsxs("span",{className:"sm:hidden",children:["Delete (",e.length,")"]})]})})]})]})})},mht=(e,t,r)=>e.find(n=>n.higher_role?.id===t&&n.lower_role?.id===r),pht=()=>{const{storeId:e}=Ia(),t=Ot(),r=Fs(),[n,s]=b.useState(new Set),[i,o]=b.useState(!1),[c,d]=b.useState(new Set),u=b.useMemo(()=>r.state,[r.state]),{hierarchies:l,isLoading:f,error:p,refetch:g}=nce(e),{removeHierarchy:x,isLoading:S}=Oft(),m=b.useMemo(()=>l.filter(P=>n.has(P.id)),[l,n]),y=b.useMemo(()=>l.length>0&&n.size===l.length,[l.length,n.size]),w=b.useMemo(()=>n.size>0&&n.size<l.length,[n.size,l.length]),C=b.useCallback((P,M)=>{s(O=>{const R=new Set(O);return M?R.add(P.id):R.delete(P.id),R})},[]),E=b.useCallback(P=>{s(P?new Set(l.map(M=>M.id)):new Set)},[l]),N=b.useCallback(()=>{n.size>0&&o(!0)},[n.size]),k=b.useCallback(async()=>{if(m.length!==0)try{d(new Set(n));const P=m.map(R=>{const L={higher_role_id:R.higher_role?.id,lower_role_id:R.lower_role?.id,store_id:e};return x(L)}),O=(await Promise.allSettled(P)).filter(R=>R.status==="rejected");O.length>0&&console.error("Some deletions failed:",O),await g(e),s(new Set),o(!1),d(new Set)}catch(P){console.error("Failed to delete hierarchies:",P),d(new Set)}},[m,n,e,x,g]),A=b.useCallback(()=>{t(`/stores-hierarchy/view/${e}`)},[t,e]),T=b.useCallback(()=>{o(!1)},[]);return b.useEffect(()=>{if(u?.validatedHierarchy&&l.length>0){const{higher_role_id:P,lower_role_id:M}=u.validatedHierarchy,O=mht(l,P,M);O&&s(new Set([O.id]))}},[l,u]),e?a.jsxs(Qt,{title:`Delete Store Hierarchy - Store ${e}`,subtitle:"Select and remove role hierarchies from your store",backButton:{show:!0},children:[p&&a.jsxs(at,{variant:"destructive",className:"border-destructive/50",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{className:"text-destructive text-sm sm:text-base",children:p?.message||"An error occurred while loading the hierarchies."})]}),a.jsx(dht,{totalCount:l.length,selectedCount:n.size,allSelected:y,someSelected:w,onSelectAll:E,onDeleteSelected:N,isDeleting:S}),a.jsx(fht,{hierarchies:l,loading:f,selectedHierarchies:n,deletingIds:c,onSelectHierarchy:C,onBack:A}),a.jsx(hht,{selectedHierarchies:m,onConfirm:k,onCancel:T,isDeleting:S,open:i})]}):a.jsx(Qt,{title:"Delete Store Hierarchy",subtitle:"Manage role hierarchies for your store",backButton:{show:!0},children:a.jsxs(at,{variant:"destructive",className:"border-destructive/50",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{className:"text-destructive text-sm sm:text-base",children:"Store ID is required to view hierarchy."})]})})},ght=[a.jsx(Dt,{path:"/stores-hierarchy/view/:storeId",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(rht,{})})})})},"view-store-hierarchy"),a.jsx(Dt,{path:"/stores-hierarchy/create/:storeId",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(lht,{})})})})},"create-hierarchy"),a.jsx(Dt,{path:"/stores-hierarchy/delete/:storeId",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(pht,{})})})})},"delete-hierarchy"),a.jsx(Dt,{path:"/stores-hierarchy/validate/:storeId",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(cht,{})})})})},"validate-hierarchy")],xht=()=>$t(),Fu=pe,Sce=()=>{const e=xht(),t=Fu(M0e),r=Fu(O0e),n=Fu(I0e),s=Fu(L0e),i=Fu(B0e),o=Fu($0e),c=Fu(F0e),d=b.useCallback(L=>t.find(B=>B.id===L),[t]),u=b.useCallback(async L=>{try{console.log(" Hook: Fetching positions with params:",L);const B=await e(rS(L)),F=Ys(B);return console.log(` Hook: Successfully fetched ${F.length} positions`),F}catch(B){const F=B;throw console.error(" Hook: Failed to fetch positions:",F),F}},[e]),l=b.useCallback(async L=>{try{console.log(` Hook: Fetching position with ID: ${L}`);const B=await e(nS(L)),F=Ys(B);return console.log(` Hook: Successfully fetched position: ${F.name}`),F}catch(B){const F=B;throw console.error(` Hook: Failed to fetch position ${L}:`,F),F}},[e]),f=b.useCallback(async L=>{try{console.log(" Hook: Creating position with data:",L);const B=await e(sS(L)),F=Ys(B);return console.log(` Hook: Successfully created position: ${F.name} (ID: ${F.id})`),F}catch(B){const F=B;throw console.error(" Hook: Failed to create position:",F),F}},[e]),p=b.useCallback(async(L,B)=>{try{console.log(` Hook: Updating position ${L} with data:`,B);const F=await e(aS({id:L,data:B})),$=Ys(F);return console.log(` Hook: Successfully updated position: ${$.name} (ID: ${$.id})`),$}catch(F){const $=F;throw console.error(` Hook: Failed to update position ${L}:`,$),$}},[e]),g=b.useCallback(async L=>{try{console.log(` Hook: Deleting position with ID: ${L}`);const B=await e(iS(L));Ys(B),console.log(` Hook: Successfully deleted position with ID: ${L}`)}catch(B){const F=B;throw console.error(` Hook: Failed to delete position ${L}:`,F),F}},[e]),x=b.useCallback(L=>{console.log(" Hook: Setting selected position:",L?.name||"null"),e(C0e(L))},[e]),S=b.useCallback(()=>{console.log(" Hook: Clearing selected position"),e(j0e())},[e]),m=b.useCallback(()=>{console.log(" Hook: Opening create modal"),e(E0e())},[e]),y=b.useCallback(()=>{console.log(" Hook: Closing create modal"),e(N0e())},[e]),w=b.useCallback(()=>{console.log(" Hook: Opening edit modal"),e(_0e())},[e]),C=b.useCallback(()=>{console.log(" Hook: Closing edit modal"),e(A0e())},[e]),E=b.useCallback(L=>{console.log(` Hook: Setting deleting ID: ${L}`),e(k0e(L))},[e]),N=b.useCallback(()=>{console.log(" Hook: Clearing all errors"),e(T0e())},[e]),k=b.useCallback(L=>{console.log(` Hook: Clearing ${L} error`),e(P0e(L))},[e]),A=b.useCallback(L=>{console.log(" Hook: Updating pagination:",L),e(D0e(L))},[e]),T=b.useCallback(()=>{console.log(" Hook: Resetting positions state"),e(R0e())},[e]),P=b.useCallback(async()=>{const L={per_page:i.perPage,page:i.currentPage};return u(L)},[u,i.perPage,i.currentPage]),M=b.useCallback(L=>n[L],[n]),O=b.useCallback(L=>s[L]!==null,[s]),R=b.useCallback(L=>s[L],[s]);return b.useMemo(()=>({positions:t,selectedPosition:r,loading:n,error:s,pagination:i,ui:o,isAnyLoading:c,fetchPositions:u,fetchPositionById:l,createPosition:f,updatePosition:p,deletePosition:g,setSelectedPosition:x,clearSelectedPosition:S,getPositionById:d,openCreateModal:m,closeCreateModal:y,openEditModal:w,closeEditModal:C,setDeletingId:E,clearAllErrors:N,clearError:k,updatePagination:A,resetState:T,refreshPositions:P,isPositionLoading:M,hasError:O,getErrorMessage:R}),[t,r,n,s,i,o,c,u,l,f,p,g,x,S,d,m,y,w,C,E,N,k,A,T,P,M,O,R])},vht=Ct({name:st().min(1,"Position name is required").max(255,"Name must be less than 255 characters"),slug:st().max(255,"Slug must be less than 255 characters").optional().or(fl(""))}),yht=Ct({name:st().min(1,"Position name is required").max(255,"Name must be less than 255 characters"),slug:st().max(255,"Slug must be less than 255 characters").optional().or(fl(""))}),bht=()=>{const{positions:e,loading:t,error:r,ui:n,fetchPositions:s,createPosition:i,updatePosition:o,deletePosition:c,openCreateModal:d,closeCreateModal:u,openEditModal:l,closeEditModal:f,setSelectedPosition:p,setDeletingId:g,clearError:x}=Sce(),[S,m]=b.useState(null),y=fa({resolver:Ma(vht),defaultValues:{name:"",slug:""}}),w=fa({resolver:Ma(yht),defaultValues:{name:"",slug:""}});b.useEffect(()=>{C()},[]),b.useEffect(()=>{r.list&&(Ye.error("Error loading positions",{description:r.list}),x("list"))},[r.list,x]),b.useEffect(()=>{r.create&&(Ye.error("Error creating position",{description:r.create}),x("create"))},[r.create,x]),b.useEffect(()=>{r.update&&(Ye.error("Error updating position",{description:r.update}),x("update"))},[r.update,x]),b.useEffect(()=>{r.delete&&(Ye.error("Error deleting position",{description:r.delete}),x("delete"))},[r.delete,x]);const C=async()=>{try{await s({per_page:50}),Ye.success("Positions refreshed",{description:"Position list has been updated successfully."})}catch{}},E=()=>{y.reset(),d()},N=B=>{m(B),p(B),w.reset({name:B.name,slug:B.slug||""}),l()},k=B=>{g(B.id)},A=async B=>{try{const F={name:B.name,slug:B.slug||void 0};await i(F),Ye.success("Position created",{description:`Position "${B.name}" has been created successfully.`}),y.reset(),u()}catch{}},T=async B=>{if(S)try{const F={name:B.name,slug:B.slug||void 0};await o(S.id,F),Ye.success("Position updated",{description:`Position "${B.name}" has been updated successfully.`}),w.reset(),f(),m(null)}catch{}},P=async()=>{if(!n.deletingId)return;const B=e.find(F=>F.id===n.deletingId);try{await c(n.deletingId),Ye.success("Position deleted",{description:`Position "${B?.name||"Unknown"}" has been deleted successfully.`}),g(null)}catch{}},M=()=>{y.reset(),u()},O=()=>{w.reset(),f(),m(null)},R=()=>{g(null)},L=e.find(B=>B.id===n.deletingId);return a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsx(Se,{children:a.jsx(Me,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Positions"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage your organization's positions"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:C,disabled:t.list,className:"flex items-center space-x-2",children:[a.jsx(Tn,{className:`h-4 w-4 ${t.list?"animate-spin":""}`}),a.jsx("span",{children:"Refresh"})]}),a.jsxs(X,{size:"sm",onClick:E,disabled:t.create,className:"flex items-center space-x-2",children:[a.jsx(br,{className:"h-4 w-4"}),a.jsx("span",{children:"Create Position"})]})]})]})})}),a.jsx(Se,{children:a.jsx(Ee,{className:"p-0",children:t.list?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[a.jsx(bt,{className:"h-5 w-5 animate-spin"}),a.jsx("span",{children:"Loading positions..."})]})}):e.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(ht,{className:"h-12 w-12 text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No positions found"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Get started by creating your first position."}),a.jsxs(X,{onClick:E,className:"flex items-center space-x-2",children:[a.jsx(br,{className:"h-4 w-4"}),a.jsx("span",{children:"Create Position"})]})]}):a.jsxs(rn,{children:[a.jsx(nn,{children:a.jsxs(_t,{children:[a.jsx(Re,{className:"font-semibold",children:"Name"}),a.jsx(Re,{className:"font-semibold",children:"Slug"}),a.jsx(Re,{className:"font-semibold",children:"Created"}),a.jsx(Re,{className:"font-semibold",children:"Updated"}),a.jsx(Re,{className:"text-right font-semibold",children:"Actions"})]})}),a.jsx(sn,{children:e.map(B=>a.jsxs(_t,{className:"hover:bg-gray-50",children:[a.jsx(ke,{className:"font-medium",children:B.name}),a.jsx(ke,{className:"text-gray-600",children:B.slug||a.jsx("span",{className:"text-gray-400 italic",children:"No slug"})}),a.jsx(ke,{className:"text-gray-600",children:new Date(B.created_at).toLocaleDateString()}),a.jsx(ke,{className:"text-gray-600",children:new Date(B.updated_at).toLocaleDateString()}),a.jsx(ke,{className:"text-right",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:()=>N(B),disabled:t.update,className:"flex items-center space-x-1",children:[a.jsx(vi,{className:"h-3 w-3"}),a.jsx("span",{children:"Edit"})]}),a.jsxs(X,{variant:"outline",size:"sm",onClick:()=>k(B),disabled:t.delete,className:"flex items-center space-x-1 text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200",children:[a.jsx(ss,{className:"h-3 w-3"}),a.jsx("span",{children:"Delete"})]})]})})]},B.id))})]})})}),a.jsx(An,{open:n.isCreateModalOpen,onOpenChange:M,children:a.jsxs(hn,{className:"sm:max-w-[425px]",children:[a.jsxs(mn,{children:[a.jsx(pn,{children:"Create New Position"}),a.jsx(In,{children:"Add a new position to your organization. The slug field is optional and will be used for URL-friendly identification."})]}),a.jsx(Zi,{...y,children:a.jsxs("form",{onSubmit:y.handleSubmit(A),className:"space-y-4",children:[a.jsx(er,{control:y.control,name:"name",render:({field:B})=>a.jsxs(Kt,{children:[a.jsx(Zt,{children:"Position Name *"}),a.jsx(Xt,{children:a.jsx(et,{placeholder:"Enter position name",...B,disabled:t.create})}),a.jsx(xr,{})]})}),a.jsx(er,{control:y.control,name:"slug",render:({field:B})=>a.jsxs(Kt,{children:[a.jsx(Zt,{children:"Slug (Optional)"}),a.jsx(Xt,{children:a.jsx(et,{placeholder:"Enter URL-friendly slug",...B,disabled:t.create})}),a.jsx(xr,{})]})}),a.jsxs(kn,{children:[a.jsx(X,{type:"button",variant:"outline",onClick:M,disabled:t.create,children:"Cancel"}),a.jsxs(X,{type:"submit",disabled:t.create,className:"flex items-center space-x-2",children:[t.create&&a.jsx(bt,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{children:"Create Position"})]})]})]})})]})}),a.jsx(An,{open:n.isEditModalOpen,onOpenChange:O,children:a.jsxs(hn,{className:"sm:max-w-[425px]",children:[a.jsxs(mn,{children:[a.jsx(pn,{children:"Edit Position"}),a.jsx(In,{children:"Update the position details. Changes will be saved immediately."})]}),a.jsx(Zi,{...w,children:a.jsxs("form",{onSubmit:w.handleSubmit(T),className:"space-y-4",children:[a.jsx(er,{control:w.control,name:"name",render:({field:B})=>a.jsxs(Kt,{children:[a.jsx(Zt,{children:"Position Name *"}),a.jsx(Xt,{children:a.jsx(et,{placeholder:"Enter position name",...B,disabled:t.update})}),a.jsx(xr,{})]})}),a.jsx(er,{control:w.control,name:"slug",render:({field:B})=>a.jsxs(Kt,{children:[a.jsx(Zt,{children:"Slug (Optional)"}),a.jsx(Xt,{children:a.jsx(et,{placeholder:"Enter URL-friendly slug",...B,disabled:t.update})}),a.jsx(xr,{})]})}),a.jsxs(kn,{children:[a.jsx(X,{type:"button",variant:"outline",onClick:O,disabled:t.update,children:"Cancel"}),a.jsxs(X,{type:"submit",disabled:t.update,className:"flex items-center space-x-2",children:[t.update&&a.jsx(bt,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{children:"Update Position"})]})]})]})})]})}),a.jsx(Uc,{open:!!n.deletingId,onOpenChange:R,children:a.jsxs(vl,{children:[a.jsxs(yl,{children:[a.jsx(wl,{children:"Are you sure?"}),a.jsxs(Sl,{children:["This action cannot be undone. This will permanently delete the position"," ",a.jsxs("span",{className:"font-semibold",children:['"',L?.name,'"']})," and all associated data."]})]}),a.jsxs(bl,{children:[a.jsx(jl,{disabled:t.delete,children:"Cancel"}),a.jsxs(Cl,{onClick:P,disabled:t.delete,className:"bg-red-600 hover:bg-red-700 flex items-center space-x-2",children:[t.delete&&a.jsx(bt,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{children:"Delete Position"})]})]})]})})]})},wht=()=>$t(),Em=pe,Cce=()=>{const e=wht(),t=Em(pye),r=Em(gye),n=Em(xye),s=Em(vye),i=Em(yye),o=Em(bye),c=b.useCallback(A=>t.find(T=>T.id===A),[t]),d=b.useCallback(async()=>{try{console.log(" Hook: Fetching skills");const A=await e(uS()),T=Ys(A);return console.log(` Hook: Successfully fetched ${T.length} skills`),T}catch(A){const T=A;throw console.error(" Hook: Failed to fetch skills:",T),T}},[e]),u=b.useCallback(async A=>{try{console.log(` Hook: Fetching skill with ID: ${A}`);const T=await e(fS(A)),P=Ys(T);return console.log(` Hook: Successfully fetched skill: ${P?.name}`),P}catch(T){const P=T;throw console.error(` Hook: Failed to fetch skill ${A}:`,P),P}},[e]),l=b.useCallback(async A=>{try{console.log(" Hook: Creating skill with data:",A);const T=await e(hS(A)),P=Ys(T);return console.log(` Hook: Successfully created skill: ${P.name} (ID: ${P.id})`),P}catch(T){const P=T;throw console.error(" Hook: Failed to create skill:",P),P}},[e]),f=b.useCallback(async(A,T)=>{try{console.log(` Hook: Updating skill ${A} with data:`,T);const P=await e(mS({id:A,data:T})),M=Ys(P);return console.log(` Hook: Successfully updated skill: ${M.name} (ID: ${M.id})`),M}catch(P){const M=P;throw console.error(` Hook: Failed to update skill ${A}:`,M),M}},[e]),p=b.useCallback(async A=>{try{console.log(` Hook: Deleting skill with ID: ${A}`);const T=await e(pS(A));Ys(T),console.log(` Hook: Successfully deleted skill with ID: ${A}`)}catch(T){const P=T;throw console.error(` Hook: Failed to delete skill ${A}:`,P),P}},[e]),g=b.useCallback(A=>{console.log(" Hook: Setting selected skill:",A?.name||"null"),e(aye(A))},[e]),x=b.useCallback(()=>{console.log(" Hook: Clearing selected skill"),e(iye())},[e]),S=b.useCallback(()=>{console.log(" Hook: Opening create modal"),e(oye())},[e]),m=b.useCallback(()=>{console.log(" Hook: Closing create modal"),e(lye())},[e]),y=b.useCallback(()=>{console.log(" Hook: Opening edit modal"),e(cye())},[e]),w=b.useCallback(()=>{console.log(" Hook: Closing edit modal"),e(dye())},[e]),C=b.useCallback(A=>{console.log(` Hook: Setting deleting ID: ${A}`),e(uye(A))},[e]),E=b.useCallback(()=>{console.log(" Hook: Clearing all errors"),e(fye())},[e]),N=b.useCallback(A=>{console.log(` Hook: Clearing ${A} error`),e(hye(A))},[e]),k=b.useCallback(()=>{console.log(" Hook: Resetting skills state"),e(mye())},[e]);return b.useMemo(()=>({skills:t,selectedSkill:r,loading:n,error:s,ui:i,isAnyLoading:o,fetchSkills:d,fetchSkillById:u,createSkill:l,updateSkill:f,deleteSkill:p,setSelectedSkill:g,clearSelectedSkill:x,getSkillById:c,openCreateModal:S,closeCreateModal:m,openEditModal:y,closeEditModal:w,setDeletingId:C,clearAllErrors:E,clearError:N,resetState:k}),[t,r,n,s,i,o,d,u,l,f,p,g,x,c,S,m,y,w,C,E,N,k])},Sht=Ct({name:st().min(1,"Skill name is required").max(255,"Name must be less than 255 characters"),slug:st().max(255,"Slug must be less than 255 characters").optional().or(fl(""))}),Cht=Ct({name:st().min(1,"Skill name is required").max(255,"Name must be less than 255 characters"),slug:st().max(255,"Slug must be less than 255 characters").optional().or(fl(""))}),jce=()=>{const{skills:e,loading:t,error:r,ui:n,fetchSkills:s,createSkill:i,updateSkill:o,deleteSkill:c,openCreateModal:d,closeCreateModal:u,openEditModal:l,closeEditModal:f,setSelectedSkill:p,setDeletingId:g,clearError:x}=Cce(),[S,m]=b.useState(null),y=Ot(),w=fa({resolver:Ma(Sht),defaultValues:{name:"",slug:""}}),C=fa({resolver:Ma(Cht),defaultValues:{name:"",slug:""}});b.useEffect(()=>{E()},[]),b.useEffect(()=>{r.list&&(Ye.error("Error loading skills",{description:r.list}),x("list"))},[r.list,x]),b.useEffect(()=>{r.create&&(Ye.error("Error creating skill",{description:r.create}),x("create"))},[r.create,x]),b.useEffect(()=>{r.update&&(Ye.error("Error updating skill",{description:r.update}),x("update"))},[r.update,x]),b.useEffect(()=>{r.delete&&(Ye.error("Error deleting skill",{description:r.delete}),x("delete"))},[r.delete,x]);const E=async()=>{try{await s(),Ye.success("Skills refreshed",{description:"Skill list updated successfully."})}catch{}},N=()=>{w.reset(),d()},k=$=>{m($),p($),C.reset({name:$.name,slug:$.slug||""}),l()},A=$=>{y(`/skills/${$.id}`)},T=$=>{g($.id)},P=async $=>{try{const z={name:$.name,slug:$.slug||void 0};await i(z),Ye.success("Skill created",{description:`Skill "${$.name}" created successfully.`}),w.reset(),u()}catch{}},M=async $=>{if(S)try{const z={name:$.name,slug:$.slug||void 0};await o(S.id,z),Ye.success("Skill updated",{description:`Skill "${$.name}" updated successfully.`}),C.reset(),f(),m(null)}catch{}},O=async()=>{if(!n.deletingId)return;const $=e.find(z=>z.id===n.deletingId);try{await c(n.deletingId),Ye.success("Skill deleted",{description:`Skill "${$?.name||"Unknown"}" deleted successfully.`}),g(null)}catch{}},R=()=>{w.reset(),u()},L=()=>{C.reset(),f(),m(null)},B=()=>{g(null)},F=e.find($=>$.id===n.deletingId);return a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsx(Se,{children:a.jsx(Me,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Skills"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage your organization's skills"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:E,disabled:t.list,className:"flex items-center space-x-2",children:[a.jsx(Tn,{className:`h-4 w-4 ${t.list?"animate-spin":""}`}),a.jsx("span",{children:"Refresh"})]}),a.jsxs(X,{size:"sm",onClick:N,disabled:t.create,className:"flex items-center space-x-2",children:[a.jsx(br,{className:"h-4 w-4"}),a.jsx("span",{children:"Create Skill"})]})]})]})})}),a.jsx(Se,{children:a.jsx(Ee,{className:"p-0",children:t.list?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[a.jsx(bt,{className:"h-5 w-5 animate-spin"}),a.jsx("span",{children:"Loading skills..."})]})}):e.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(ht,{className:"h-12 w-12 text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No skills found"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Get started by creating your first skill."}),a.jsxs(X,{onClick:N,className:"flex items-center space-x-2",children:[a.jsx(br,{className:"h-4 w-4"}),a.jsx("span",{children:"Create Skill"})]})]}):a.jsxs(rn,{children:[a.jsx(nn,{children:a.jsxs(_t,{children:[a.jsx(Re,{className:"font-semibold",children:"Name"}),a.jsx(Re,{className:"font-semibold",children:"Slug"}),a.jsx(Re,{className:"font-semibold",children:"Created"}),a.jsx(Re,{className:"font-semibold",children:"Updated"}),a.jsx(Re,{className:"text-right font-semibold",children:"Actions"})]})}),a.jsx(sn,{children:e.map($=>a.jsxs(_t,{className:"hover:bg-gray-50",children:[a.jsx(ke,{className:"font-medium",children:$.name}),a.jsx(ke,{className:"text-gray-600",children:$.slug||a.jsx("span",{className:"text-gray-400 italic",children:"No slug"})}),a.jsx(ke,{className:"text-gray-600",children:new Date($.created_at).toLocaleDateString()}),a.jsx(ke,{className:"text-gray-600",children:new Date($.updated_at).toLocaleDateString()}),a.jsx(ke,{className:"text-right",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:()=>A($),className:"flex items-center space-x-1",children:[a.jsx(Cs,{className:"h-3 w-3"}),a.jsx("span",{children:"View"})]}),a.jsxs(X,{variant:"outline",size:"sm",onClick:()=>k($),disabled:t.update,className:"flex items-center space-x-1",children:[a.jsx(vi,{className:"h-3 w-3"}),a.jsx("span",{children:"Edit"})]}),a.jsxs(X,{variant:"outline",size:"sm",onClick:()=>T($),disabled:t.delete,className:"flex items-center space-x-1 text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200",children:[a.jsx(ss,{className:"h-3 w-3"}),a.jsx("span",{children:"Delete"})]})]})})]},$.id))})]})})}),a.jsx(An,{open:n.isCreateModalOpen,onOpenChange:R,children:a.jsxs(hn,{className:"sm:max-w-[425px]",children:[a.jsxs(mn,{children:[a.jsx(pn,{children:"Create New Skill"}),a.jsx(In,{children:"Add a new skill to your organization. The slug field is optional and will be used for URL-friendly identification."})]}),a.jsx(Zi,{...w,children:a.jsxs("form",{onSubmit:w.handleSubmit(P),className:"space-y-4",children:[a.jsx(er,{control:w.control,name:"name",render:({field:$})=>a.jsxs(Kt,{children:[a.jsx(Zt,{children:"Skill Name *"}),a.jsx(Xt,{children:a.jsx(et,{placeholder:"Enter skill name",...$,disabled:t.create})}),a.jsx(xr,{})]})}),a.jsx(er,{control:w.control,name:"slug",render:({field:$})=>a.jsxs(Kt,{children:[a.jsx(Zt,{children:"Slug (Optional)"}),a.jsx(Xt,{children:a.jsx(et,{placeholder:"Enter URL-friendly slug",...$,disabled:t.create})}),a.jsx(xr,{})]})}),a.jsxs(kn,{children:[a.jsx(X,{type:"button",variant:"outline",onClick:R,disabled:t.create,children:"Cancel"}),a.jsxs(X,{type:"submit",disabled:t.create,className:"flex items-center space-x-2",children:[t.create&&a.jsx(bt,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{children:"Create Skill"})]})]})]})})]})}),a.jsx(An,{open:n.isEditModalOpen,onOpenChange:L,children:a.jsxs(hn,{className:"sm:max-w-[425px]",children:[a.jsxs(mn,{children:[a.jsx(pn,{children:"Edit Skill"}),a.jsx(In,{children:"Update the skill details. Changes will be saved immediately."})]}),a.jsx(Zi,{...C,children:a.jsxs("form",{onSubmit:C.handleSubmit(M),className:"space-y-4",children:[a.jsx(er,{control:C.control,name:"name",render:({field:$})=>a.jsxs(Kt,{children:[a.jsx(Zt,{children:"Skill Name *"}),a.jsx(Xt,{children:a.jsx(et,{placeholder:"Enter skill name",...$,disabled:t.update})}),a.jsx(xr,{})]})}),a.jsx(er,{control:C.control,name:"slug",render:({field:$})=>a.jsxs(Kt,{children:[a.jsx(Zt,{children:"Slug (Optional)"}),a.jsx(Xt,{children:a.jsx(et,{placeholder:"Enter URL-friendly slug",...$,disabled:t.update})}),a.jsx(xr,{})]})}),a.jsxs(kn,{children:[a.jsx(X,{type:"button",variant:"outline",onClick:L,disabled:t.update,children:"Cancel"}),a.jsxs(X,{type:"submit",disabled:t.update,className:"flex items-center space-x-2",children:[t.update&&a.jsx(bt,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{children:"Update Skill"})]})]})]})})]})}),a.jsx(Uc,{open:!!n.deletingId,onOpenChange:B,children:a.jsxs(vl,{children:[a.jsxs(yl,{children:[a.jsx(wl,{children:"Are you sure?"}),a.jsxs(Sl,{children:["This action cannot be undone. This will permanently delete the skill"," ",a.jsxs("span",{className:"font-semibold",children:['"',F?.name,'"']})," and all associated data."]})]}),a.jsxs(bl,{children:[a.jsx(jl,{disabled:t.delete,children:"Cancel"}),a.jsxs(Cl,{onClick:O,disabled:t.delete,className:"bg-red-600 hover:bg-red-700 flex items-center space-x-2",children:[t.delete&&a.jsx(bt,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{children:"Delete Skill"})]})]})]})})]})},jht=(e={})=>{const{autoFetch:t=!0,refetchInterval:r=0}=e,n=$t(),s=pe(K0e),i=pe(Z0e),o=pe(X0e),c=pe(Q0e),d=pe(J0e),u=pe(eye),l=b.useCallback(async()=>{try{await n(oS()).unwrap()}catch(w){console.error("Failed to fetch statuses:",w)}},[n]),f=b.useCallback(async w=>{try{return await n(lS(w)).unwrap()}catch(C){return console.error("Failed to create status:",C),null}},[n]),p=b.useCallback(async(w,C)=>{try{const E={id:w,description:C.description,slug:C.slug||"",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return n(Y0e(E)),await n(cS({id:w,data:C})).unwrap()}catch(E){return console.error("Failed to update status:",E),null}},[n]),g=b.useCallback(async w=>{try{return await n(dS({id:w})).unwrap(),!0}catch(C){return console.error("Failed to delete status:",C),!1}},[n]),x=b.useCallback(()=>{n(W0e())},[n]),S=b.useCallback(w=>{n(q0e(w))},[n]),m=b.useCallback(()=>{n(G0e())},[n]),y=b.useCallback(async()=>{await l()},[l]);return b.useEffect(()=>{t&&l()},[t,l]),b.useEffect(()=>{if(r>0){const w=setInterval(()=>{l()},r);return()=>clearInterval(w)}},[r,l]),{statuses:s,statusCount:c.total,lastFetched:c.lastFetched,loading:i,isAnyLoading:d,errors:o,hasErrors:u,fetchStatuses:l,createNewStatus:f,updateExistingStatus:p,deleteExistingStatus:g,clearAllErrors:x,clearSpecificError:S,resetState:m,refetch:y}},Eht=Ct({description:st().min(1,"Description is required"),slug:st().max(255,"Slug must be less than 255 characters").optional().or(fl(""))}),Nht=Ct({description:st().min(1,"Description is required"),slug:st().max(255,"Slug must be less than 255 characters").optional().or(fl(""))}),_ht=({description:e,maxLength:t=100})=>{const[r,n]=b.useState(!1),s=e.length>t,i=s&&!r?`${e.substring(0,t)}...`:e;return a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:`text-gray-600 ${r?"whitespace-pre-wrap":""}`,children:i}),s&&a.jsx(X,{variant:"ghost",size:"sm",onClick:()=>n(!r),className:"h-6 px-2 text-xs text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:r?a.jsxs(a.Fragment,{children:[a.jsx(lp,{className:"h-3 w-3 mr-1"}),"Show less"]}):a.jsxs(a.Fragment,{children:[a.jsx(Cs,{className:"h-3 w-3 mr-1"}),"Show more"]})})]})},Aht=()=>{const{statuses:e,statusCount:t,loading:r,errors:n,fetchStatuses:s,createNewStatus:i,updateExistingStatus:o,deleteExistingStatus:c,clearSpecificError:d}=jht(),[u,l]=b.useState(!1),[f,p]=b.useState(!1),[g,x]=b.useState(null),[S,m]=b.useState(null),y=fa({resolver:Ma(Eht),defaultValues:{description:"",slug:""}}),w=fa({resolver:Ma(Nht),defaultValues:{description:"",slug:""}});b.useEffect(()=>{C()},[]),b.useEffect(()=>{n.fetchAll&&(Ye.error("Error loading statuses",{description:n.fetchAll}),d("fetchAll"))},[n.fetchAll,d]),b.useEffect(()=>{n.create&&(Ye.error("Error creating status",{description:n.create}),d("create"))},[n.create,d]),b.useEffect(()=>{n.update&&(Ye.error("Error updating status",{description:n.update}),d("update"))},[n.update,d]),b.useEffect(()=>{n.delete&&(Ye.error("Error deleting status",{description:n.delete}),d("delete"))},[n.delete,d]);const C=async()=>{try{await s(),Ye.success("Statuses refreshed",{description:"Status list has been updated successfully."})}catch{}},E=()=>{y.reset(),l(!0)},N=B=>{x(B),w.reset({description:B.description,slug:B.slug||""}),p(!0)},k=B=>{m(B.id)},A=async B=>{try{const F={description:B.description,slug:B.slug||void 0};await i(F)&&(Ye.success("Status created",{description:`Status "${B.description.substring(0,50)}..." has been created successfully.`}),y.reset(),l(!1))}catch{}},T=async B=>{if(g)try{const F={description:B.description,slug:B.slug||void 0};await o(g.id,F)&&(Ye.success("Status updated",{description:"Status has been updated successfully."}),w.reset(),p(!1),x(null))}catch{}},P=async()=>{if(!S)return;const B=e.find(F=>F.id===S);try{await c(S)&&(Ye.success("Status deleted",{description:`Status "${B?.description.substring(0,50)||"Unknown"}..." has been deleted successfully.`}),m(null))}catch{}},M=()=>{y.reset(),l(!1)},O=()=>{w.reset(),p(!1),x(null)},R=()=>{m(null)},L=e.find(B=>B.id===S);return a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsx(Se,{children:a.jsx(Me,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Statuses"}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Manage your organization's statuses (",t," total)"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:C,disabled:r.fetchAll,className:"flex items-center space-x-2",children:[a.jsx(Tn,{className:`h-4 w-4 ${r.fetchAll?"animate-spin":""}`}),a.jsx("span",{children:"Refresh"})]}),a.jsxs(X,{size:"sm",onClick:E,disabled:r.create,className:"flex items-center space-x-2",children:[a.jsx(br,{className:"h-4 w-4"}),a.jsx("span",{children:"Create Status"})]})]})]})})}),a.jsx(Se,{children:a.jsx(Ee,{className:"p-0",children:r.fetchAll?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[a.jsx(bt,{className:"h-5 w-5 animate-spin"}),a.jsx("span",{children:"Loading statuses..."})]})}):e.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(ht,{className:"h-12 w-12 text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No statuses found"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Get started by creating your first status."}),a.jsxs(X,{onClick:E,className:"flex items-center space-x-2",children:[a.jsx(br,{className:"h-4 w-4"}),a.jsx("span",{children:"Create Status"})]})]}):a.jsxs(rn,{children:[a.jsx(nn,{children:a.jsxs(_t,{children:[a.jsx(Re,{className:"font-semibold w-1/3",children:"Description"}),a.jsx(Re,{className:"font-semibold",children:"Slug"}),a.jsx(Re,{className:"font-semibold",children:"Created"}),a.jsx(Re,{className:"font-semibold",children:"Updated"}),a.jsx(Re,{className:"text-right font-semibold",children:"Actions"})]})}),a.jsx(sn,{children:e.map(B=>a.jsxs(_t,{className:"hover:bg-gray-50",children:[a.jsx(ke,{className:"font-medium max-w-xs",children:a.jsx(_ht,{description:B.description,maxLength:100})}),a.jsx(ke,{className:"text-gray-600",children:B.slug||a.jsx("span",{className:"text-gray-400 italic",children:"No slug"})}),a.jsx(ke,{className:"text-gray-600",children:new Date(B.created_at).toLocaleDateString()}),a.jsx(ke,{className:"text-gray-600",children:new Date(B.updated_at).toLocaleDateString()}),a.jsx(ke,{className:"text-right",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:()=>N(B),disabled:r.update,className:"flex items-center space-x-1",children:[a.jsx(vi,{className:"h-3 w-3"}),a.jsx("span",{children:"Edit"})]}),a.jsxs(X,{variant:"outline",size:"sm",onClick:()=>k(B),disabled:r.delete,className:"flex items-center space-x-1 text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200",children:[a.jsx(ss,{className:"h-3 w-3"}),a.jsx("span",{children:"Delete"})]})]})})]},B.id))})]})})}),a.jsx(An,{open:u,onOpenChange:M,children:a.jsxs(hn,{className:"sm:max-w-[500px]",children:[a.jsxs(mn,{children:[a.jsx(pn,{children:"Create New Status"}),a.jsx(In,{children:"Add a new status to your organization. The slug field is optional and will be used for URL-friendly identification."})]}),a.jsx(Zi,{...y,children:a.jsxs("form",{onSubmit:y.handleSubmit(A),className:"space-y-4",children:[a.jsx(er,{control:y.control,name:"description",render:({field:B})=>a.jsxs(Kt,{children:[a.jsx(Zt,{children:"Description *"}),a.jsx(Xt,{children:a.jsx(wo,{placeholder:"Enter status description",rows:4,...B,disabled:r.create})}),a.jsx(xr,{})]})}),a.jsx(er,{control:y.control,name:"slug",render:({field:B})=>a.jsxs(Kt,{children:[a.jsx(Zt,{children:"Slug (Optional)"}),a.jsx(Xt,{children:a.jsx(et,{placeholder:"Enter URL-friendly slug",...B,disabled:r.create})}),a.jsx(xr,{})]})}),a.jsxs(kn,{children:[a.jsx(X,{type:"button",variant:"outline",onClick:M,disabled:r.create,children:"Cancel"}),a.jsxs(X,{type:"submit",disabled:r.create,className:"flex items-center space-x-2",children:[r.create&&a.jsx(bt,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{children:"Create Status"})]})]})]})})]})}),a.jsx(An,{open:f,onOpenChange:O,children:a.jsxs(hn,{className:"sm:max-w-[500px]",children:[a.jsxs(mn,{children:[a.jsx(pn,{children:"Edit Status"}),a.jsx(In,{children:"Update the status details. Changes will be saved immediately."})]}),a.jsx(Zi,{...w,children:a.jsxs("form",{onSubmit:w.handleSubmit(T),className:"space-y-4",children:[a.jsx(er,{control:w.control,name:"description",render:({field:B})=>a.jsxs(Kt,{children:[a.jsx(Zt,{children:"Description *"}),a.jsx(Xt,{children:a.jsx(wo,{placeholder:"Enter status description",rows:4,...B,disabled:r.update})}),a.jsx(xr,{})]})}),a.jsx(er,{control:w.control,name:"slug",render:({field:B})=>a.jsxs(Kt,{children:[a.jsx(Zt,{children:"Slug (Optional)"}),a.jsx(Xt,{children:a.jsx(et,{placeholder:"Enter URL-friendly slug",...B,disabled:r.update})}),a.jsx(xr,{})]})}),a.jsxs(kn,{children:[a.jsx(X,{type:"button",variant:"outline",onClick:O,disabled:r.update,children:"Cancel"}),a.jsxs(X,{type:"submit",disabled:r.update,className:"flex items-center space-x-2",children:[r.update&&a.jsx(bt,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{children:"Update Status"})]})]})]})})]})}),a.jsx(Uc,{open:!!S,onOpenChange:R,children:a.jsxs(vl,{children:[a.jsxs(yl,{children:[a.jsx(wl,{children:"Are you sure?"}),a.jsxs(Sl,{children:["This action cannot be undone. This will permanently delete the status"," ",a.jsxs("span",{className:"font-semibold",children:['"',L?.description.substring(0,50),'..."']})," and all associated data."]})]}),a.jsxs(bl,{children:[a.jsx(jl,{disabled:r.delete,children:"Cancel"}),a.jsxs(Cl,{onClick:P,disabled:r.delete,className:"bg-red-600 hover:bg-red-700 flex items-center space-x-2",children:[r.delete&&a.jsx(bt,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{children:"Delete Status"})]})]})]})})]})},kht=()=>$t(),Nm=pe,Ece=()=>{const e=kht(),t=Nm(Oye),r=Nm(Iye),n=Nm(Lye),s=Nm(Bye),i=Nm($ye),o=Nm(Fye),c=b.useCallback(A=>t.find(T=>T.id===A),[t]),d=b.useCallback(async()=>{try{console.log(" Hook: Fetching preferences");const A=await e(gS()),T=Ys(A);return console.log(` Hook: Successfully fetched ${T.length} preferences`),T}catch(A){const T=A;throw console.error(" Hook: Failed to fetch preferences:",T),T}},[e]),u=b.useCallback(async A=>{try{console.log(` Hook: Fetching preference with ID: ${A}`);const T=await e(xS(A)),P=Ys(T);return console.log(` Hook: Successfully fetched preference: ${P?.name}`),P}catch(T){const P=T;throw console.error(` Hook: Failed to fetch preference ${A}:`,P),P}},[e]),l=b.useCallback(async A=>{try{console.log(" Hook: Creating preference with data:",A);const T=await e(vS(A)),P=Ys(T);return console.log(` Hook: Successfully created preference: ${P.name} (ID: ${P.id})`),P}catch(T){const P=T;throw console.error(" Hook: Failed to create preference:",P),P}},[e]),f=b.useCallback(async(A,T)=>{try{console.log(` Hook: Updating preference ${A} with data:`,T);const P=await e(yS({id:A,data:T})),M=Ys(P);return console.log(` Hook: Successfully updated preference: ${M.name} (ID: ${M.id})`),M}catch(P){const M=P;throw console.error(` Hook: Failed to update preference ${A}:`,M),M}},[e]),p=b.useCallback(async A=>{try{console.log(` Hook: Deleting preference with ID: ${A}`);const T=await e(bS(A));Ys(T),console.log(` Hook: Successfully deleted preference with ID: ${A}`)}catch(T){const P=T;throw console.error(` Hook: Failed to delete preference ${A}:`,P),P}},[e]),g=b.useCallback(A=>{console.log(" Hook: Setting selected preference:",A?.name||"null"),e(Eye(A))},[e]),x=b.useCallback(()=>{console.log(" Hook: Clearing selected preference"),e(Nye())},[e]),S=b.useCallback(()=>{console.log(" Hook: Opening create modal"),e(_ye())},[e]),m=b.useCallback(()=>{console.log(" Hook: Closing create modal"),e(Aye())},[e]),y=b.useCallback(()=>{console.log(" Hook: Opening edit modal"),e(kye())},[e]),w=b.useCallback(()=>{console.log(" Hook: Closing edit modal"),e(Tye())},[e]),C=b.useCallback(A=>{console.log(` Hook: Setting deleting ID: ${A}`),e(Pye(A))},[e]),E=b.useCallback(()=>{console.log(" Hook: Clearing all errors"),e(Dye())},[e]),N=b.useCallback(A=>{console.log(` Hook: Clearing ${A} error`),e(Rye(A))},[e]),k=b.useCallback(()=>{console.log(" Hook: Resetting preferences state"),e(Mye())},[e]);return b.useMemo(()=>({preferences:t,selectedPreference:r,loading:n,error:s,ui:i,isAnyLoading:o,fetchPreferences:d,fetchPreferenceById:u,createPreference:l,updatePreference:f,deletePreference:p,setSelectedPreference:g,clearSelectedPreference:x,getPreferenceById:c,openCreateModal:S,closeCreateModal:m,openEditModal:y,closeEditModal:w,setDeletingId:C,clearAllErrors:E,clearError:N,resetState:k}),[t,r,n,s,i,o,d,u,l,f,p,g,x,c,S,m,y,w,C,E,N,k])},Tht=Ct({name:st().min(1,"Preference name is required").max(255,"Name must be less than 255 characters"),slug:st().max(255,"Slug must be less than 255 characters").optional().or(fl(""))}),Pht=Ct({name:st().min(1,"Preference name is required").max(255,"Name must be less than 255 characters"),slug:st().max(255,"Slug must be less than 255 characters").optional().or(fl(""))}),Nce=()=>{const{preferences:e,loading:t,error:r,ui:n,fetchPreferences:s,createPreference:i,updatePreference:o,deletePreference:c,openCreateModal:d,closeCreateModal:u,openEditModal:l,closeEditModal:f,setSelectedPreference:p,setDeletingId:g,clearError:x}=Ece(),[S,m]=b.useState(null),y=Ot(),w=fa({resolver:Ma(Tht),defaultValues:{name:"",slug:""}}),C=fa({resolver:Ma(Pht),defaultValues:{name:"",slug:""}});b.useEffect(()=>{E()},[]),b.useEffect(()=>{r.list&&(Ye.error("Error loading preferences",{description:r.list}),x("list"))},[r.list,x]),b.useEffect(()=>{r.create&&(Ye.error("Error creating preference",{description:r.create}),x("create"))},[r.create,x]),b.useEffect(()=>{r.update&&(Ye.error("Error updating preference",{description:r.update}),x("update"))},[r.update,x]),b.useEffect(()=>{r.delete&&(Ye.error("Error deleting preference",{description:r.delete}),x("delete"))},[r.delete,x]);const E=async()=>{try{await s(),Ye.success("Preferences refreshed",{description:"Preference list updated successfully."})}catch{}},N=()=>{w.reset(),d()},k=$=>{m($),p($),C.reset({name:$.name,slug:$.slug||""}),l()},A=$=>{y(`/preferences/${$.id}`)},T=$=>{g($.id)},P=async $=>{try{const z={name:$.name,slug:$.slug||void 0};await i(z),Ye.success("Preference created",{description:`Preference "${$.name}" created successfully.`}),w.reset(),u()}catch{}},M=async $=>{if(S)try{const z={name:$.name,slug:$.slug||void 0};await o(S.id,z),Ye.success("Preference updated",{description:`Preference "${$.name}" updated successfully.`}),C.reset(),f(),m(null)}catch{}},O=async()=>{if(!n.deletingId)return;const $=e.find(z=>z.id===n.deletingId);try{await c(n.deletingId),Ye.success("Preference deleted",{description:`Preference "${$?.name||"Unknown"}" deleted successfully.`}),g(null)}catch{}},R=()=>{w.reset(),u()},L=()=>{C.reset(),f(),m(null)},B=()=>{g(null)},F=e.find($=>$.id===n.deletingId);return a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsx(Se,{children:a.jsx(Me,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Preferences"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage your organization's preferences"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:E,disabled:t.list,className:"flex items-center space-x-2",children:[a.jsx(Tn,{className:`h-4 w-4 ${t.list?"animate-spin":""}`}),a.jsx("span",{children:"Refresh"})]}),a.jsxs(X,{size:"sm",onClick:N,disabled:t.create,className:"flex items-center space-x-2",children:[a.jsx(br,{className:"h-4 w-4"}),a.jsx("span",{children:"Create Preference"})]})]})]})})}),a.jsx(Se,{children:a.jsx(Ee,{className:"p-0",children:t.list?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[a.jsx(bt,{className:"h-5 w-5 animate-spin"}),a.jsx("span",{children:"Loading preferences..."})]})}):e.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(ht,{className:"h-12 w-12 text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No preferences found"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Get started by creating your first preference."}),a.jsxs(X,{onClick:N,className:"flex items-center space-x-2",children:[a.jsx(br,{className:"h-4 w-4"}),a.jsx("span",{children:"Create Preference"})]})]}):a.jsxs(rn,{children:[a.jsx(nn,{children:a.jsxs(_t,{children:[a.jsx(Re,{className:"font-semibold",children:"Name"}),a.jsx(Re,{className:"font-semibold",children:"Slug"}),a.jsx(Re,{className:"font-semibold",children:"Created"}),a.jsx(Re,{className:"font-semibold",children:"Updated"}),a.jsx(Re,{className:"text-right font-semibold",children:"Actions"})]})}),a.jsx(sn,{children:e.map($=>a.jsxs(_t,{className:"hover:bg-gray-50",children:[a.jsx(ke,{className:"font-medium",children:$.name}),a.jsx(ke,{className:"text-gray-600",children:$.slug||a.jsx("span",{className:"text-gray-400 italic",children:"No slug"})}),a.jsx(ke,{className:"text-gray-600",children:new Date($.created_at).toLocaleDateString()}),a.jsx(ke,{className:"text-gray-600",children:new Date($.updated_at).toLocaleDateString()}),a.jsx(ke,{className:"text-right",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:()=>A($),className:"flex items-center space-x-1",children:[a.jsx(Cs,{className:"h-3 w-3"}),a.jsx("span",{children:"View"})]}),a.jsxs(X,{variant:"outline",size:"sm",onClick:()=>k($),disabled:t.update,className:"flex items-center space-x-1",children:[a.jsx(vi,{className:"h-3 w-3"}),a.jsx("span",{children:"Edit"})]}),a.jsxs(X,{variant:"outline",size:"sm",onClick:()=>T($),disabled:t.delete,className:"flex items-center space-x-1 text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200",children:[a.jsx(ss,{className:"h-3 w-3"}),a.jsx("span",{children:"Delete"})]})]})})]},$.id))})]})})}),a.jsx(An,{open:n.isCreateModalOpen,onOpenChange:R,children:a.jsxs(hn,{className:"sm:max-w-[425px]",children:[a.jsxs(mn,{children:[a.jsx(pn,{children:"Create New Preference"}),a.jsx(In,{children:"Add a new preference to your organization. The slug field is optional and will be used for URL-friendly identification."})]}),a.jsx(Zi,{...w,children:a.jsxs("form",{onSubmit:w.handleSubmit(P),className:"space-y-4",children:[a.jsx(er,{control:w.control,name:"name",render:({field:$})=>a.jsxs(Kt,{children:[a.jsx(Zt,{children:"Preference Name *"}),a.jsx(Xt,{children:a.jsx(et,{placeholder:"Enter preference name",...$,disabled:t.create})}),a.jsx(xr,{})]})}),a.jsx(er,{control:w.control,name:"slug",render:({field:$})=>a.jsxs(Kt,{children:[a.jsx(Zt,{children:"Slug (Optional)"}),a.jsx(Xt,{children:a.jsx(et,{placeholder:"Enter URL-friendly slug",...$,disabled:t.create})}),a.jsx(xr,{})]})}),a.jsxs(kn,{children:[a.jsx(X,{type:"button",variant:"outline",onClick:R,disabled:t.create,children:"Cancel"}),a.jsxs(X,{type:"submit",disabled:t.create,className:"flex items-center space-x-2",children:[t.create&&a.jsx(bt,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{children:"Create Preference"})]})]})]})})]})}),a.jsx(An,{open:n.isEditModalOpen,onOpenChange:L,children:a.jsxs(hn,{className:"sm:max-w-[425px]",children:[a.jsxs(mn,{children:[a.jsx(pn,{children:"Edit Preference"}),a.jsx(In,{children:"Update the preference details. Changes will be saved immediately."})]}),a.jsx(Zi,{...C,children:a.jsxs("form",{onSubmit:C.handleSubmit(M),className:"space-y-4",children:[a.jsx(er,{control:C.control,name:"name",render:({field:$})=>a.jsxs(Kt,{children:[a.jsx(Zt,{children:"Preference Name *"}),a.jsx(Xt,{children:a.jsx(et,{placeholder:"Enter preference name",...$,disabled:t.update})}),a.jsx(xr,{})]})}),a.jsx(er,{control:C.control,name:"slug",render:({field:$})=>a.jsxs(Kt,{children:[a.jsx(Zt,{children:"Slug (Optional)"}),a.jsx(Xt,{children:a.jsx(et,{placeholder:"Enter URL-friendly slug",...$,disabled:t.update})}),a.jsx(xr,{})]})}),a.jsxs(kn,{children:[a.jsx(X,{type:"button",variant:"outline",onClick:L,disabled:t.update,children:"Cancel"}),a.jsxs(X,{type:"submit",disabled:t.update,className:"flex items-center space-x-2",children:[t.update&&a.jsx(bt,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{children:"Update Preference"})]})]})]})})]})}),a.jsx(Uc,{open:!!n.deletingId,onOpenChange:B,children:a.jsxs(vl,{children:[a.jsxs(yl,{children:[a.jsx(wl,{children:"Are you sure?"}),a.jsxs(Sl,{children:["This action cannot be undone. This will permanently delete the preference"," ",a.jsxs("span",{className:"font-semibold",children:['"',F?.name,'"']})," and all associated data."]})]}),a.jsxs(bl,{children:[a.jsx(jl,{disabled:t.delete,children:"Cancel"}),a.jsxs(Cl,{onClick:O,disabled:t.delete,className:"bg-red-600 hover:bg-red-700 flex items-center space-x-2",children:[t.delete&&a.jsx(bt,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{children:"Delete Preference"})]})]})]})})]})},Dht=()=>{const e=[{id:"positions",label:"Positions",icon:a.jsx(bY,{className:"h-4 w-4"}),component:a.jsx(bht,{}),description:"Manage organizational positions and roles"},{id:"skills",label:"Skills",icon:a.jsx(o2,{className:"h-4 w-4"}),component:a.jsx(jce,{}),description:"Manage organizational skills and related employee info"},{id:"statuses",label:"Statuses",icon:a.jsx(o2,{className:"h-4 w-4"}),component:a.jsx(Aht,{}),description:"Manage organizational statuses and their descriptions"},{id:"preferences",label:"Preferences",icon:a.jsx(o2,{className:"h-4 w-4"}),component:a.jsx(Nce,{}),description:"Manage organizational preferences"}],[t,r]=b.useState("positions"),n=e.find(s=>s.id===t);return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"container mx-auto px-6 py-4",children:a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Management Dashboard"}),a.jsx("p",{className:"text-gray-600",children:n?.description||"Manage your organization settings and data"})]})})}),a.jsx("div",{className:"container mx-auto px-6 py-6",children:a.jsxs(ch,{value:t,onValueChange:r,className:"w-full space-y-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-1",children:a.jsx(mu,{className:"grid w-full grid-cols-2 lg:grid-cols-4 gap-1 bg-transparent",children:e.map(s=>a.jsxs(Qs,{value:s.id,className:"flex items-center space-x-2 px-4 py-3 text-sm font-medium rounded-md transition-all duration-200 data-[state=active]:bg-blue-50 data-[state=active]:text-blue-700 data-[state=active]:shadow-sm hover:bg-gray-50",children:[s.icon,a.jsx("span",{children:s.label})]},s.id))})}),e.map(s=>a.jsx(Js,{value:s.id,className:"space-y-6 mt-6",children:a.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:s.component})},s.id))]})}),a.jsx("div",{className:"fixed bottom-6 right-6 space-y-2"})]})},Rht=[a.jsx(Dt,{path:"/positions",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(Dht,{})})})})},"positions-management")],Mht=e=>!!e&&"emp_infos"in e&&Array.isArray(e.emp_infos),Oht=()=>{const{id:e}=Ia(),t=Ot(),[r,n]=b.useState(null),[s,i]=b.useState(!0),[o,c]=b.useState(null);b.useEffect(()=>{(async()=>{if(!e||isNaN(Number(e))){c("Invalid skill ID"),i(!1);return}try{i(!0),c(null);const f=await BF(Number(e));n(f)}catch(f){const g=f.message||"Failed to fetch skill details";c(g),Ye.error("Error loading skill",{description:g})}finally{i(!1)}})()},[e]);const d=()=>{t(-1)},u=()=>{e&&!isNaN(Number(e))&&(async()=>{try{i(!0),c(null);const f=await BF(Number(e));n(f)}catch(f){const g=f.message||"Failed to fetch skill details";c(g),Ye.error("Error loading skill",{description:g})}finally{i(!1)}})()};return s?a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsx(Se,{children:a.jsx(Me,{children:a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs(X,{variant:"outline",size:"sm",onClick:d,className:"flex items-center space-x-2",children:[a.jsx(Bs,{className:"h-4 w-4"}),a.jsx("span",{children:"Back to Skills"})]})})})}),a.jsx(Se,{children:a.jsx(Ee,{className:"p-12",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[a.jsx(bt,{className:"h-6 w-6 animate-spin"}),a.jsx("span",{className:"text-lg",children:"Loading skill details..."})]})})})})]}):o?a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsx(Se,{children:a.jsx(Me,{children:a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs(X,{variant:"outline",size:"sm",onClick:d,className:"flex items-center space-x-2",children:[a.jsx(Bs,{className:"h-4 w-4"}),a.jsx("span",{children:"Back to Skills"})]})})})}),a.jsx(Se,{children:a.jsx(Ee,{className:"p-12",children:a.jsxs("div",{className:"flex flex-col items-center justify-center text-center space-y-4",children:[a.jsx(ht,{className:"h-12 w-12 text-red-500"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Error Loading Skill"}),a.jsx("p",{className:"text-sm text-gray-500 max-w-md",children:o}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(X,{onClick:u,className:"flex items-center space-x-2",children:a.jsx("span",{children:"Try Again"})}),a.jsx(X,{variant:"outline",onClick:d,children:"Back to Skills"})]})]})})})]}):a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsx(Se,{children:a.jsx(Me,{children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:d,className:"flex items-center space-x-2",children:[a.jsx(Bs,{className:"h-4 w-4"}),a.jsx("span",{children:"Back to Skills"})]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r?.name}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Skill Details"})]})]})})})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(Se,{children:[a.jsx(Me,{children:a.jsxs("h2",{className:"text-lg font-semibold flex items-center space-x-2",children:[a.jsx(yD,{className:"h-5 w-5"}),a.jsx("span",{children:"Basic Information"})]})}),a.jsxs(Ee,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"ID"}),a.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[a.jsx(oE,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-gray-900",children:r?.id})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),a.jsx("p",{className:"text-gray-900 mt-1 font-medium",children:r?.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Slug"}),a.jsx("p",{className:"text-gray-900 mt-1",children:r?.slug||a.jsx("em",{className:"text-gray-400",children:"No slug assigned"})})]})]})]}),a.jsxs(Se,{children:[a.jsx(Me,{children:a.jsxs("h2",{className:"text-lg font-semibold flex items-center space-x-2",children:[a.jsx(ua,{className:"h-5 w-5"}),a.jsx("span",{children:"Timestamps"})]})}),a.jsxs(Ee,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Created At"}),a.jsx("p",{className:"text-gray-900 mt-1",children:r?new Date(r.created_at).toLocaleString():"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Last Updated"}),a.jsx("p",{className:"text-gray-900 mt-1",children:r?new Date(r.updated_at).toLocaleString():"-"})]})]})]})]}),a.jsxs(Se,{children:[a.jsx(Me,{children:a.jsxs("h2",{className:"text-lg font-semibold flex items-center space-x-2",children:[a.jsx(Da,{className:"h-5 w-5"}),a.jsx("span",{children:"Associated Employees"})]})}),a.jsx(Ee,{children:Mht(r)&&r.emp_infos.length>0?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[r.emp_infos.length," employee",r.emp_infos.length!==1?"s":""," have this skill"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.emp_infos.map(l=>a.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:l.full_name}),a.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:["Rating: ",l.pivot.rating]})]}),a.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[a.jsxs("p",{children:["Store: ",l.store_id]}),a.jsxs("p",{children:["Status: ",l.status]}),a.jsxs("p",{children:["Arabic Team: ",l.is_arabic_team?"Yes":"No"]})]})]})},l.id))})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Da,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No employees assigned"}),a.jsx("p",{className:"text-sm text-gray-500",children:"This skill has not been assigned to any employees yet."})]})})]})]})},Iht=[a.jsx(Dt,{path:"/skills",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(jce,{})})})})},"skills-management"),a.jsx(Dt,{path:"/skills/:id",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(Oht,{})})})})},"skill-details")],Lht=()=>{const{id:e}=Ia(),t=Ot(),[r,n]=b.useState(null),[s,i]=b.useState(!0),[o,c]=b.useState(null);b.useEffect(()=>{(async()=>{if(!e||isNaN(Number(e))){c("Invalid preference ID"),i(!1);return}try{i(!0),c(null);const p=await Ld.getPreferenceById(Number(e));n(p)}catch(p){const x=p.message||"Failed to fetch preference details";c(x),Ye.error("Error loading preference",{description:x})}finally{i(!1)}})()},[e]);const d=()=>{t(-1)},u=()=>{e&&!isNaN(Number(e))&&(async()=>{try{i(!0),c(null);const p=await Ld.getPreferenceById(Number(e));n(p)}catch(p){const x=p.message||"Failed to fetch preference details";c(x),Ye.error("Error loading preference",{description:x})}finally{i(!1)}})()};if(s)return a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsx(Se,{children:a.jsx(Me,{children:a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs(X,{variant:"outline",size:"sm",onClick:d,className:"flex items-center space-x-2",children:[a.jsx(Bs,{className:"h-4 w-4"}),a.jsx("span",{children:"Back to Preferences"})]})})})}),a.jsx(Se,{children:a.jsx(Ee,{className:"p-12",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[a.jsx(bt,{className:"h-6 w-6 animate-spin"}),a.jsx("span",{className:"text-lg",children:"Loading preference details..."})]})})})})]});if(o)return a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsx(Se,{children:a.jsx(Me,{children:a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs(X,{variant:"outline",size:"sm",onClick:d,className:"flex items-center space-x-2",children:[a.jsx(Bs,{className:"h-4 w-4"}),a.jsx("span",{children:"Back to Preferences"})]})})})}),a.jsx(Se,{children:a.jsx(Ee,{className:"p-12",children:a.jsxs("div",{className:"flex flex-col items-center justify-center text-center space-y-4",children:[a.jsx(ht,{className:"h-12 w-12 text-red-500"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Error Loading Preference"}),a.jsx("p",{className:"text-sm text-gray-500 max-w-md",children:o}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(X,{onClick:u,className:"flex items-center space-x-2",children:a.jsx("span",{children:"Try Again"})}),a.jsx(X,{variant:"outline",onClick:d,children:"Back to Preferences"})]})]})})})]});const l=f=>f.length?a.jsx("ul",{className:"divide-y divide-gray-200",children:f.map(p=>a.jsxs("li",{className:"py-2 flex justify-between",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:p.employment_type})," - Max Hours: ",p.maximum_hours]}),a.jsxs("div",{className:"text-gray-500 text-sm",children:["Emp Info ID: ",p.emp_info_id]})]},p.id))}):a.jsx("p",{className:"text-gray-500",children:"No schedule preferences associated."});return a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsx(Se,{children:a.jsx(Me,{children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:d,className:"flex items-center space-x-2",children:[a.jsx(Bs,{className:"h-4 w-4"}),a.jsx("span",{children:"Back to Preferences"})]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r?.name}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Preference Details"})]})]})})})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(Se,{children:[a.jsx(Me,{children:a.jsxs("h2",{className:"text-lg font-semibold flex items-center space-x-2",children:[a.jsx(yD,{className:"h-5 w-5"}),a.jsx("span",{children:"Basic Information"})]})}),a.jsxs(Ee,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"ID"}),a.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[a.jsx(oE,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-gray-900",children:r?.id})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),a.jsx("p",{className:"text-gray-900 mt-1 font-medium",children:r?.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Slug"}),a.jsx("p",{className:"text-gray-900 mt-1",children:r?.slug||a.jsx("em",{className:"text-gray-400",children:"No slug assigned"})})]})]})]}),a.jsxs(Se,{children:[a.jsx(Me,{children:a.jsxs("h2",{className:"text-lg font-semibold flex items-center space-x-2",children:[a.jsx(ua,{className:"h-5 w-5"}),a.jsx("span",{children:"Timestamps"})]})}),a.jsxs(Ee,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Created At"}),a.jsx("p",{className:"text-gray-900 mt-1",children:r?new Date(r.created_at).toLocaleString():"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Last Updated"}),a.jsx("p",{className:"text-gray-900 mt-1",children:r?new Date(r.updated_at).toLocaleString():"-"})]})]})]})]}),a.jsxs(Se,{children:[a.jsx(Me,{children:a.jsxs("h2",{className:"text-lg font-semibold flex items-center space-x-2",children:[a.jsx(yD,{className:"h-5 w-5"}),a.jsx("span",{children:"Associated Schedule Preferences"})]})}),a.jsx(Ee,{children:r?.schedule_preferences&&r.schedule_preferences.length>0?l(r.schedule_preferences):a.jsx("p",{className:"text-center text-gray-500 py-6",children:"No schedule preferences assigned."})})]})]})},Bht=[a.jsx(Dt,{path:"/preferences",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(Nce,{})})})})},"preferences-management"),a.jsx(Dt,{path:"/preferences/:id",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(Lht,{})})})})},"preference-details")],fh=()=>{const e=$t(),t=pe(B=>abe(B)),r=pe(B=>ibe(B)),n=pe(B=>obe(B)),s=pe(B=>lbe(B)),i=pe(B=>cbe(B)),o=pe(B=>dbe(B)),c=pe(B=>ube(B)),d=pe(B=>fbe(B)),u=b.useCallback(async()=>{try{await e(wS()).unwrap()}catch(B){console.error("Failed to fetch all employees:",B)}},[e]),l=b.useCallback(async B=>{try{await e(SS(B)).unwrap()}catch(F){console.error(`Failed to fetch employee ${B}:`,F)}},[e]),f=b.useCallback(async B=>{try{return await e(CS(B)).unwrap()}catch(F){return console.error("Failed to create employee:",F),null}},[e]),p=b.useCallback(async(B,F)=>{try{return(await e(jS({id:B,data:F})).unwrap()).data}catch($){return console.error(`Failed to update employee ${B}:`,$),null}},[e]),g=b.useCallback(async B=>{try{return e(nbe(B)),await e(ES(B)).unwrap(),!0}catch(F){return console.error(`Failed to delete employee ${B}:`,F),!1}},[e]),x=b.useCallback(async(B,F)=>{try{await e(NS({storeId:B,options:F})).unwrap()}catch($){console.error(`Failed to fetch employees for store ${B}:`,$)}},[e]),S=b.useCallback(async B=>{if(!i.currentStoreId){console.warn("Cannot change per page: no current store selected");return}e(zF({perPage:B,currentPage:1})),await x(i.currentStoreId,{page:1,per_page:B})},[e,i.currentStoreId,x]),m=b.useCallback(async B=>{if(!i.currentStoreId){console.warn("Cannot navigate to page: no current store selected");return}if(B<1||B>i.totalPages){console.warn(`Invalid page number: ${B}. Valid range: 1-${i.totalPages}`);return}e(zF({currentPage:B})),await x(i.currentStoreId,{page:B,per_page:i.perPage})},[e,i.currentStoreId,i.totalPages,i.perPage,x]),y=b.useCallback(async()=>{i.hasNextPage&&await m(i.currentPage+1)},[i.hasNextPage,i.currentPage,m]),w=b.useCallback(async()=>{i.hasPrevPage&&await m(i.currentPage-1)},[i.hasPrevPage,i.currentPage,m]),C=b.useCallback(async(B,F,$)=>{try{return await e(_S({employeeId:B,skillId:F,data:$})).unwrap(),await l(B),!0}catch(z){return console.error(`Failed to attach skill ${F} to employee ${B}:`,z),!1}},[e,l]),E=b.useCallback(async(B,F,$)=>{try{return await e(AS({employeeId:B,skillId:F,data:$})).unwrap(),!0}catch(z){return console.error(`Failed to update skill ${F} for employee ${B}:`,z),!1}},[e]),N=b.useCallback(async(B,F)=>{try{return await e(kS({employeeId:B,skillId:F})).unwrap(),!0}catch($){return console.error(`Failed to detach skill ${F} from employee ${B}:`,$),!1}},[e]),k=b.useCallback(()=>{e(Jye())},[e]),A=b.useCallback(B=>{e(ebe(B))},[e]),T=b.useCallback(()=>{e(tbe())},[e]),P=b.useCallback(async()=>{i.currentStoreId?await x(i.currentStoreId,{page:i.currentPage,per_page:i.perPage}):await u()},[i.currentStoreId,i.currentPage,i.perPage,x,u]),M=b.useCallback(()=>{e(rbe())},[e]);b.useEffect(()=>{M(),o.isStale&&t.length===0&&u()},[o.isStale,t.length,M,u]);const O=b.useMemo(()=>({...i,isFirstPage:i.currentPage===1,isLastPage:i.currentPage===i.totalPages,totalPagesArray:Array.from({length:i.totalPages},(B,F)=>F+1),startRecord:(i.currentPage-1)*i.perPage+1,endRecord:Math.min(i.currentPage*i.perPage,i.totalRecords)}),[i]),R=b.useMemo(()=>({...n,isAnyLoading:c,activeOperations:Object.entries(n).filter(([,B])=>B.isLoading).map(([B,F])=>({operation:B,description:F.operation}))}),[n,c]),L=b.useMemo(()=>({...s,hasAnyError:d,activeErrors:Object.entries(s).filter(([,B])=>B.hasError).map(([B,F])=>({operation:B,message:F.message,details:F.details}))}),[s,d]);return{employees:t,currentEmployee:r,loading:R,errors:L,pagination:O,actions:{fetchAllEmployees:u,fetchEmployeeById:l,createEmployee:f,updateEmployee:p,deleteEmployee:g,fetchEmployeesByStore:x,changePerPage:S,goToPage:m,nextPage:y,prevPage:w,attachSkill:C,updateSkill:E,detachSkill:N,clearCurrentEmployee:k,clearError:A,clearAllErrors:T,refreshEmployees:P}}},_ce=({className:e,...t})=>a.jsx("nav",{role:"navigation","aria-label":"pagination",className:J("mx-auto flex w-full justify-center",e),...t});_ce.displayName="Pagination";const Ace=b.forwardRef(({className:e,...t},r)=>a.jsx("ul",{ref:r,className:J("flex flex-row items-center gap-1",e),...t}));Ace.displayName="PaginationContent";const ZS=b.forwardRef(({className:e,...t},r)=>a.jsx("li",{ref:r,className:J("",e),...t}));ZS.displayName="PaginationItem";const s_=({className:e,isActive:t,size:r="icon",...n})=>a.jsx("a",{"aria-current":t?"page":void 0,className:J(cp({variant:t?"outline":"ghost",size:r}),e),...n});s_.displayName="PaginationLink";const kce=({className:e,...t})=>a.jsxs(s_,{"aria-label":"Go to previous page",size:"default",className:J("gap-1 pl-2.5",e),...t,children:[a.jsx(Tc,{className:"h-4 w-4"}),a.jsx("span",{children:"Previous"})]});kce.displayName="PaginationPrevious";const Tce=({className:e,...t})=>a.jsxs(s_,{"aria-label":"Go to next page",size:"default",className:J("gap-1 pr-2.5",e),...t,children:[a.jsx("span",{children:"Next"}),a.jsx(Qi,{className:"h-4 w-4"})]});Tce.displayName="PaginationNext";const $ht=({status:e})=>{const t=n=>{switch(n){case"Active":return"default";case"Suspension":return"secondary";case"Terminated":return"destructive";case"On Leave":return"outline";default:return"secondary"}},r=n=>{switch(n){case"Active":return"";case"Suspension":return"";case"Terminated":return"";case"On Leave":return"";default:return""}};return a.jsxs(Ze,{variant:t(e),className:"gap-1",children:[a.jsx("span",{className:"text-xs",children:r(e)}),e]})},Fht=({employee:e,onView:t,onEdit:r,onDelete:n})=>a.jsxs(Dy,{children:[a.jsx(Ry,{asChild:!0,children:a.jsxs(X,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[a.jsx(D0,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Open actions menu"})]})}),a.jsxs(wg,{align:"end",className:"w-48",children:[a.jsxs(xo,{onClick:()=>t(e),className:"cursor-pointer",children:[a.jsx(Cs,{className:"mr-2 h-4 w-4"}),"View Details"]}),a.jsxs(xo,{onClick:()=>r(e),className:"cursor-pointer",children:[a.jsx(vi,{className:"mr-2 h-4 w-4"}),"Edit Employee"]}),a.jsxs(xo,{onClick:()=>n(e),className:"cursor-pointer text-destructive focus:text-destructive",children:[a.jsx(ss,{className:"mr-2 h-4 w-4"}),"Delete Employee"]})]})]}),Hht=({employee:e,onView:t,onEdit:r,onDelete:n})=>{const s=b.useCallback(o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),[]),i=b.useCallback(o=>{const c=new Date,d=new Date(o);let u=c.getFullYear()-d.getFullYear();const l=c.getMonth()-d.getMonth();return(l<0||l===0&&c.getDate()<d.getDate())&&u--,u},[]);return a.jsxs(_t,{className:"hover:bg-muted/50",children:[a.jsx(ke,{className:"font-medium",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-semibold",children:e.full_name}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["ID: ",e.id]})]})}),a.jsx(ke,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(un,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium",children:e.store.name}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",e.store.number]})]})]})}),a.jsx(ke,{children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{children:s(e.date_of_birth)}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Age: ",i(e.date_of_birth)]})]})}),a.jsx(ke,{children:a.jsx($ht,{status:e.status})}),a.jsx(ke,{children:a.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.has_family&&a.jsx(Ze,{variant:"outline",className:"text-xs",children:" Family"}),e.has_car&&a.jsx(Ze,{variant:"outline",className:"text-xs",children:" Car"}),e.is_arabic_team&&a.jsx(Ze,{variant:"outline",className:"text-xs",children:" Arabic"})]})}),a.jsx(ke,{children:a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[a.jsx("span",{className:"font-medium",children:"Skills:"}),a.jsx("span",{className:"text-muted-foreground",children:e.skills.length})]}),e.employment_info&&a.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[a.jsx("span",{className:"font-medium",children:"Pay:"}),a.jsxs("span",{className:"text-muted-foreground",children:["$",e.employment_info.base_pay]})]})]})}),a.jsx(ke,{children:a.jsx("span",{className:"text-sm text-muted-foreground",children:s(e.created_at)})}),a.jsx(ke,{children:a.jsx(Fht,{employee:e,onView:t,onEdit:r,onDelete:n})})]})},zht=()=>a.jsx(a.Fragment,{children:Array.from({length:5}).map((e,t)=>a.jsxs(_t,{children:[a.jsx(ke,{children:a.jsx(Xe,{className:"h-12 w-full"})}),a.jsx(ke,{children:a.jsx(Xe,{className:"h-8 w-32"})}),a.jsx(ke,{children:a.jsx(Xe,{className:"h-8 w-24"})}),a.jsx(ke,{children:a.jsx(Xe,{className:"h-6 w-16"})}),a.jsx(ke,{children:a.jsx(Xe,{className:"h-8 w-20"})}),a.jsx(ke,{children:a.jsx(Xe,{className:"h-8 w-24"})}),a.jsx(ke,{children:a.jsx(Xe,{className:"h-6 w-20"})}),a.jsx(ke,{children:a.jsx(Xe,{className:"h-8 w-8"})})]},t))}),Uht=({currentPerPage:e,availableOptions:t,onChange:r,disabled:n=!1})=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($e,{htmlFor:"per-page",className:"text-sm font-medium",children:"Show:"}),a.jsxs(Wt,{value:e.toString(),onValueChange:s=>r(Number(s)),disabled:n,children:[a.jsx(zt,{id:"per-page",className:"w-20",children:a.jsx(qt,{})}),a.jsx(Ut,{children:t.map(s=>a.jsx(pt,{value:s.toString(),children:s},s))})]})]}),Vht=({className:e})=>{const t=Ot(),[r,n]=b.useState(""),{stores:s,loading:i,error:o}=Po(!0,{per_page:100}),{employees:c,pagination:d,loading:u,errors:l,actions:f}=fh(),p=b.useMemo(()=>s.find(F=>F.id===r),[s,r]),g=b.useMemo(()=>u.fetchByStore.isLoading,[u.fetchByStore.isLoading]),x=b.useMemo(()=>l.fetchByStore.hasError,[l.fetchByStore.hasError]),S=b.useMemo(()=>x?[]:r?g&&c.length===0?[]:d.currentStoreId!==r?[]:c.filter(F=>F.store_id===r):[],[c,x,r,g,d.currentStoreId]),m=b.useMemo(()=>S.length>0,[S.length]),y=b.useMemo(()=>{const F=d.totalRecords>0?(d.currentPage-1)*d.perPage+1:0,$=d.totalRecords>0?Math.min(d.currentPage*d.perPage,d.totalRecords):0,z=Array.from({length:d.totalPages},(W,Z)=>Z+1);return{...d,startRecord:F,endRecord:$,totalPagesArray:z}},[d]);b.useEffect(()=>{r&&!g&&(f.clearAllErrors(),f.fetchEmployeesByStore(r,{page:1,per_page:d.perPage}))},[r]),b.useEffect(()=>{(x||!r&&c.length>0)&&console.log("Clearing employee display due to error or store change")},[x,r,c.length]);const w=b.useCallback(F=>{n(F),f.clearAllErrors()},[f]),C=b.useCallback(()=>{r?t(`/employees/create?storeId=${r}`):alert("Please select a store first")},[t,r]),E=b.useCallback(F=>{t(`/employees/view/${F.id}`)},[t]),N=b.useCallback(F=>{t(`/employees/edit/${F.id}`)},[t]),k=b.useCallback(async F=>{window.confirm(`Are you sure you want to delete ${F.full_name}?`)&&await f.deleteEmployee(F.id)&&console.log("Employee deleted successfully")},[f]),A=b.useCallback(F=>{r&&f.changePerPage(F)},[f,r]),T=b.useCallback(F=>{r&&f.goToPage(F)},[f,r]),P=b.useCallback(()=>{r&&(f.clearAllErrors(),f.refreshEmployees())},[f,r]),M=b.useMemo(()=>a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx($e,{htmlFor:"store-select",className:"text-sm font-medium",children:"Select Store"}),a.jsxs(Wt,{value:r,onValueChange:w,disabled:i,children:[a.jsx(zt,{id:"store-select",className:"w-64",children:a.jsx(qt,{placeholder:"Choose a store..."})}),a.jsx(Ut,{children:s.map(F=>a.jsx(pt,{value:F.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(un,{className:"h-4 w-4"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium",children:F.name}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["ID: ",F.id]})]})]})},F.id))})]}),s.length>0&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.length," store",s.length!==1?"s":""," available"]})]}),[r,w,i,s]),O=b.useMemo(()=>a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[a.jsxs("span",{children:["Showing ",y.startRecord," to ",y.endRecord," of"," ",y.totalRecords," employees"]}),a.jsx(Uht,{currentPerPage:y.perPage,availableOptions:y.availablePerPageOptions,onChange:A,disabled:g})]}),[y,A,g]),R=b.useMemo(()=>y.totalPages<=1?null:a.jsx(_ce,{children:a.jsxs(Ace,{children:[a.jsx(ZS,{children:a.jsx(kce,{onClick:()=>T(y.currentPage-1),className:J(!y.hasPrevPage&&"pointer-events-none opacity-50")})}),y.totalPagesArray.map(F=>a.jsx(ZS,{children:a.jsx(s_,{onClick:()=>T(F),isActive:F===y.currentPage,children:F})},F)),a.jsx(ZS,{children:a.jsx(Tce,{onClick:()=>T(y.currentPage+1),className:J(!y.hasNextPage&&"pointer-events-none opacity-50")})})]})}),[y,T]),L=b.useMemo(()=>a.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ur,{className:"h-5 w-5 text-muted-foreground"}),a.jsx("h2",{className:"text-lg font-semibold",children:p?`${p.name} Employees`:"Store Employees"})]}),r&&a.jsxs(Ze,{variant:"outline",className:"gap-1",children:[a.jsx(un,{className:"h-3 w-3"}),r]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:P,disabled:!r||g,children:[a.jsx(Tn,{className:J("h-4 w-4",g&&"animate-spin")}),"Refresh"]}),a.jsxs(X,{onClick:C,disabled:!r,className:"gap-2",children:[a.jsx(br,{className:"h-4 w-4"}),"Create Employee"]})]})]}),[p,r,P,g,C]),B=b.useMemo(()=>r?!m&&!g&&!x?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Ur,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Employees Found"}),a.jsxs("p",{className:"text-muted-foreground mb-4 max-w-md",children:[p?.name," doesn't have any employees yet. Create the first employee to get started."]}),a.jsxs(X,{onClick:C,className:"gap-2",children:[a.jsx(br,{className:"h-4 w-4"}),"Create First Employee"]})]}):null:a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(un,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select a Store"}),a.jsx("p",{className:"text-muted-foreground mb-4 max-w-md",children:"Choose a store from the dropdown above to view and manage its employees."}),s.length===0&&!i&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"No stores available. Please create a store first."})]}),[r,m,g,x,p?.name,C,s.length,i]);return a.jsxs("div",{className:J("space-y-6",e),children:[a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Store Employees"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage employees across different store locations"})]})}),a.jsxs(Se,{children:[a.jsxs(Me,{children:[a.jsx(Ve,{className:"text-lg",children:"Store Selection"}),a.jsx(ts,{children:"Select a store to view and manage its employees"})]}),a.jsx(Ee,{children:i?a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{className:"h-4 w-24"}),a.jsx(Xe,{className:"h-10 w-64"}),a.jsx(Xe,{className:"h-3 w-32"})]}):o?a.jsxs(at,{variant:"destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{children:"Failed to load stores. Please refresh the page and try again."})]}):M})]})]}),r&&a.jsxs(Se,{children:[a.jsx(Me,{className:"pb-4",children:L}),a.jsxs(Ee,{children:[x&&a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsxs(at,{className:"mb-6 max-w-md",variant:"destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{children:l.fetchByStore.message||"Failed to load employees for this store"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-muted-foreground",children:["Unable to load employees for ",p?.name||"the selected store","."]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(X,{variant:"outline",onClick:P,disabled:g,children:[a.jsx(Tn,{className:J("h-4 w-4 mr-2",g&&"animate-spin")}),"Try Again"]}),a.jsx(X,{variant:"outline",onClick:()=>n(""),children:"Select Different Store"})]})]})]}),!x&&(B||a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"rounded-md border",children:a.jsxs(rn,{children:[a.jsx(nn,{children:a.jsxs(_t,{children:[a.jsx(Re,{children:"Employee"}),a.jsx(Re,{children:"Store"}),a.jsx(Re,{children:"Date of Birth"}),a.jsx(Re,{children:"Status"}),a.jsx(Re,{children:"Attributes"}),a.jsx(Re,{children:"Details"}),a.jsx(Re,{children:"Created"}),a.jsx(Re,{className:"w-12",children:"Actions"})]})}),a.jsx(sn,{children:g?a.jsx(zht,{}):S.map(F=>a.jsx(Hht,{employee:F,onView:E,onEdit:N,onDelete:k},F.id))})]})}),m&&!x&&a.jsxs("div",{className:"flex items-center justify-between pt-4",children:[O,R]})]}))]})]})]})},Wht=Ct({store_id:st().min(1,"Store selection is required"),full_name:st().min(2,"Name must be at least 2 characters").max(100,"Name must not exceed 100 characters").regex(/^[a-zA-Z\s'-]+$/,"Name can only contain letters, spaces, hyphens, and apostrophes"),date_of_birth:st().min(1,"Date of birth is required").refine(e=>{const t=new Date(e),r=new Date,n=r.getFullYear()-t.getFullYear(),s=r.getMonth()-t.getMonth();return s<0||s===0&&r.getDate()<t.getDate()?n-1>=16:n>=16},"Employee must be at least 16 years old").refine(e=>new Date(e)<=new Date,"Date of birth cannot be in the future"),has_family:_n(),has_car:_n(),is_arabic_team:_n(),notes:st().optional(),status:nE(["Active","Suspension","Terminated","On Leave"])}),qht=({value:e,onChange:t,disabled:r})=>{const n=i=>{switch(i){case"Active":return{icon:"",color:"text-green-600",description:"Employee is actively working"};case"Suspension":return{icon:"",color:"text-yellow-600",description:"Employee is temporarily suspended"};case"Terminated":return{icon:"",color:"text-red-600",description:"Employee is no longer with the company"};case"On Leave":return{icon:"",color:"text-orange-600",description:"Employee is on temporary leave"};default:return{icon:"",color:"text-gray-600",description:"Unknown status"}}},s=["Active","Suspension","Terminated","On Leave"];return a.jsxs(Wt,{value:e,onValueChange:t,disabled:r,children:[a.jsx(zt,{children:a.jsx(qt,{children:e&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:n(e).icon}),a.jsx("span",{children:e})]})})}),a.jsx(Ut,{children:s.map(i=>{const o=n(i);return a.jsx(pt,{value:i,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:o.icon}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium",children:i}),a.jsx("span",{className:"text-xs text-muted-foreground",children:o.description})]})]})},i)})})]})},Ght=({className:e})=>{const t=Ot(),[r]=gY(),n=r.get("storeId"),[s,i]=b.useState(!1),[o,c]=b.useState(null),[d,u]=b.useState(!1),{stores:l,loading:f,error:p}=Po(!0,{per_page:100}),{actions:g}=fh(),x=fa({resolver:Ma(Wht),mode:"onChange",reValidateMode:"onChange",defaultValues:{store_id:n||"",full_name:"",date_of_birth:"",has_family:!1,has_car:!1,is_arabic_team:!1,notes:"",status:"Active"}}),S=b.useMemo(()=>{const k=x.watch("store_id");return l.find(A=>A.id===k)},[l,x.watch("store_id")]),m=b.useMemo(()=>{const k=x.formState,A=x.getValues(),T=A.store_id&&A.full_name&&A.date_of_birth&&A.status;return console.log("Form validation check:",{isValid:k.isValid,isDirty:k.isDirty,isSubmitting:s,hasRequiredFields:T,errors:k.errors,values:A}),k.isValid&&T&&!s},[x.formState,s,x]);b.useEffect(()=>{n&&l.length>0&&l.some(A=>A.id===n)&&x.setValue("store_id",n,{shouldValidate:!0,shouldDirty:!0,shouldTouch:!0})},[n,l,x]),b.useEffect(()=>{const k=x.watch(()=>{x.trigger(),o&&c(null),d&&u(!1)});return()=>k.unsubscribe()},[x,o,d]);const y=async k=>{try{i(!0),c(null),u(!1);const A={store_id:k.store_id,full_name:k.full_name.trim(),date_of_birth:k.date_of_birth,has_family:k.has_family,has_car:k.has_car,is_arabic_team:k.is_arabic_team,notes:k.notes?.trim()||void 0,status:k.status};if(console.log("Creating employee with data:",A),await g.createEmployee(A))u(!0),setTimeout(()=>{t("/employees",{replace:!0,state:{message:`Employee "${k.full_name}" created successfully`}})},1e3);else throw new Error("Failed to create employee")}catch(A){console.error("Error creating employee:",A),c(A?.message||"Failed to create employee. Please check your information and try again.")}finally{i(!1)}},w=()=>{t(n?`/employees/store?selected=${n}`:"/employees/store")},C=()=>{x.reset(),c(null),u(!1)},E=()=>a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(X,{variant:"ghost",size:"sm",onClick:w,className:"gap-2",children:[a.jsx(Bs,{className:"h-4 w-4"}),"Back to Employees"]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Create Employee"}),a.jsx("p",{className:"text-muted-foreground",children:"Add a new employee to the system"})]})]})}),N=()=>a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(X,{type:"button",variant:"outline",onClick:w,disabled:s,children:"Cancel"}),a.jsx(X,{type:"button",variant:"ghost",onClick:C,disabled:s,children:"Reset Form"}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Valid: ",String(x.formState.isValid)," | Errors: ",Object.keys(x.formState.errors).length," | Submitting: ",String(s)]}),a.jsx(X,{type:"submit",disabled:!m,className:"gap-2",children:s?a.jsxs(a.Fragment,{children:[a.jsx(bt,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(NY,{className:"h-4 w-4"}),"Create Employee ",!m&&"(Form Invalid)"]})})]});return f?a.jsxs("div",{className:J("space-y-6",e),children:[E(),a.jsxs(Se,{children:[a.jsxs(Me,{children:[a.jsx(Xe,{className:"h-6 w-48"}),a.jsx(Xe,{className:"h-4 w-64"})]}),a.jsx(Ee,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(Xe,{className:"h-10 w-full"}),a.jsx(Xe,{className:"h-10 w-full"}),a.jsx(Xe,{className:"h-20 w-full"})]})})]})]}):p?a.jsxs("div",{className:J("space-y-6",e),children:[E(),a.jsx(Se,{children:a.jsx(Ee,{className:"pt-6",children:a.jsxs(at,{variant:"destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{children:"Failed to load stores. Please refresh the page and try again."})]})})})]}):l.length===0?a.jsxs("div",{className:J("space-y-6",e),children:[E(),a.jsx(Se,{children:a.jsx(Ee,{className:"pt-6",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(un,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Stores Available"}),a.jsx("p",{className:"text-muted-foreground mb-4 max-w-md",children:"You need to create at least one store before adding employees."}),a.jsxs(X,{onClick:()=>t("/stores/create"),className:"gap-2",children:[a.jsx(un,{className:"h-4 w-4"}),"Create Store"]})]})})})]}):a.jsxs("div",{className:J("space-y-6",e),children:[E(),d&&a.jsxs(at,{className:"border-green-200 bg-green-50 text-green-800",children:[a.jsx(Pa,{className:"h-4 w-4"}),a.jsx(it,{children:"Employee created successfully! Redirecting to employees list..."})]}),o&&a.jsxs(at,{variant:"destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{children:o})]}),a.jsx(Zi,{...x,children:a.jsxs("form",{onSubmit:x.handleSubmit(y),className:"space-y-8",children:[a.jsxs(Se,{children:[a.jsxs(Me,{children:[a.jsxs(Ve,{className:"flex items-center gap-2",children:[a.jsx(Da,{className:"h-5 w-5"}),"Basic Information"]}),a.jsx(ts,{children:"Enter the employee's personal and contact information"})]}),a.jsxs(Ee,{className:"space-y-6",children:[a.jsx(er,{control:x.control,name:"store_id",render:({field:k})=>a.jsxs(Kt,{children:[a.jsx(Zt,{children:"Store Assignment"}),a.jsxs(Wt,{value:k.value,onValueChange:k.onChange,disabled:s,children:[a.jsx(Xt,{children:a.jsx(zt,{children:a.jsx(qt,{placeholder:"Select a store..."})})}),a.jsx(Ut,{children:l.map(A=>a.jsx(pt,{value:A.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(un,{className:"h-4 w-4"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium",children:A.name}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["ID: ",A.id]})]})]})},A.id))})]}),a.jsx(Is,{children:"Choose which store this employee will be assigned to"}),a.jsx(xr,{})]})}),S&&a.jsxs("div",{className:"rounded-lg bg-muted/50 p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(un,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm font-medium",children:"Selected Store"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"font-semibold",children:S.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Store ID: ",S.id]}),S.metadata?.address&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",S.metadata.address]})]})]}),a.jsx(Xs,{}),a.jsx(er,{control:x.control,name:"full_name",render:({field:k})=>a.jsxs(Kt,{children:[a.jsx(Zt,{children:"Full Name"}),a.jsx(Xt,{children:a.jsx(et,{...k,placeholder:"Enter employee's full name",disabled:s})}),a.jsx(Is,{children:"Enter the employee's complete name (first and last name)"}),a.jsx(xr,{})]})}),a.jsx(er,{control:x.control,name:"date_of_birth",render:({field:k})=>a.jsxs(Kt,{children:[a.jsx(Zt,{children:"Date of Birth"}),a.jsx(Xt,{children:a.jsx(et,{...k,type:"date",disabled:s,max:new Date().toISOString().split("T")[0]})}),a.jsx(Is,{children:"Employee must be at least 16 years old"}),a.jsx(xr,{})]})}),a.jsx(er,{control:x.control,name:"status",render:({field:k})=>a.jsxs(Kt,{children:[a.jsx(Zt,{children:"Employment Status"}),a.jsx(Xt,{children:a.jsx(qht,{value:k.value,onChange:k.onChange,disabled:s})}),a.jsx(Is,{children:"Set the initial employment status for this employee"}),a.jsx(xr,{})]})})]})]}),a.jsxs(Se,{children:[a.jsxs(Me,{children:[a.jsxs(Ve,{className:"flex items-center gap-2",children:[a.jsx(Ur,{className:"h-5 w-5"}),"Employee Attributes"]}),a.jsx(ts,{children:"Additional information about the employee's circumstances and capabilities"})]}),a.jsxs(Ee,{className:"space-y-6",children:[a.jsx(er,{control:x.control,name:"has_family",render:({field:k})=>a.jsxs(Kt,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Zt,{className:"text-base flex items-center gap-2",children:" Has Family"}),a.jsx(Is,{children:"Employee has family responsibilities that may affect scheduling"})]}),a.jsx(Xt,{children:a.jsx(Ss,{checked:k.value,onCheckedChange:k.onChange,disabled:s})})]})}),a.jsx(er,{control:x.control,name:"has_car",render:({field:k})=>a.jsxs(Kt,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs(Zt,{className:"text-base flex items-center gap-2",children:[a.jsx(HM,{className:"h-4 w-4"}),"Has Car"]}),a.jsx(Is,{children:"Employee has reliable transportation"})]}),a.jsx(Xt,{children:a.jsx(Ss,{checked:k.value,onCheckedChange:k.onChange,disabled:s})})]})}),a.jsx(er,{control:x.control,name:"is_arabic_team",render:({field:k})=>a.jsxs(Kt,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Zt,{className:"text-base flex items-center gap-2",children:" Arabic Team"}),a.jsx(Is,{children:"Employee can serve Arabic-speaking customers"})]}),a.jsx(Xt,{children:a.jsx(Ss,{checked:k.value,onCheckedChange:k.onChange,disabled:s})})]})})]})]}),a.jsxs(Se,{children:[a.jsxs(Me,{children:[a.jsxs(Ve,{className:"flex items-center gap-2",children:[a.jsx(WM,{className:"h-5 w-5"}),"Additional Notes"]}),a.jsx(ts,{children:"Any additional information about the employee (optional)"})]}),a.jsx(Ee,{children:a.jsx(er,{control:x.control,name:"notes",render:({field:k})=>a.jsxs(Kt,{children:[a.jsx(Zt,{children:"Notes"}),a.jsx(Xt,{children:a.jsx(wo,{...k,placeholder:"Enter any additional notes about the employee...",className:"min-h-[100px]",disabled:s})}),a.jsx(Is,{children:"Optional notes about skills, preferences, or other relevant information"}),a.jsx(xr,{})]})})})]}),a.jsx(Se,{children:a.jsx(Ee,{className:"pt-6",children:a.jsx("div",{className:"flex justify-end",children:N()})})})]})})]})},Yht=Ct({store_id:st().min(1,"Store selection is required"),full_name:st().min(2,"Name must be at least 2 characters").max(100,"Name must not exceed 100 characters").regex(/^[a-zA-Z\s'-]+$/,"Name can only contain letters, spaces, hyphens, and apostrophes"),date_of_birth:st().min(1,"Date of birth is required").refine(e=>{const t=new Date(e),r=new Date,n=r.getFullYear()-t.getFullYear(),s=r.getMonth()-t.getMonth();return s<0||s===0&&r.getDate()<t.getDate()?n-1>=16:n>=16},"Employee must be at least 16 years old").refine(e=>new Date(e)<=new Date,"Date of birth cannot be in the future"),has_family:_n(),has_car:_n(),is_arabic_team:_n(),notes:st().optional(),status:nE(["Active","Suspension","Terminated","On Leave"])}),Kht=({value:e,onChange:t,disabled:r})=>{const n=i=>{switch(i){case"Active":return{icon:"",color:"text-green-600",description:"Employee is actively working"};case"Suspension":return{icon:"",color:"text-yellow-600",description:"Employee is temporarily suspended"};case"Terminated":return{icon:"",color:"text-red-600",description:"Employee is no longer with the company"};case"On Leave":return{icon:"",color:"text-orange-600",description:"Employee is on temporary leave"};default:return{icon:"",color:"text-gray-600",description:"Unknown status"}}},s=["Active","Suspension","Terminated","On Leave"];return a.jsxs(Wt,{value:e,onValueChange:t,disabled:r,children:[a.jsx(zt,{children:a.jsx(qt,{children:e&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:n(e).icon}),a.jsx("span",{children:e})]})})}),a.jsx(Ut,{children:s.map(i=>{const o=n(i);return a.jsx(pt,{value:i,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:o.icon}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium",children:i}),a.jsx("span",{className:"text-xs text-muted-foreground",children:o.description})]})]})},i)})})]})},Zht=({employee:e})=>{const t=b.useCallback(n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),[]),r=b.useCallback(n=>{const s=new Date,i=new Date(n);let o=s.getFullYear()-i.getFullYear();const c=s.getMonth()-i.getMonth();return(c<0||c===0&&s.getDate()<i.getDate())&&o--,o},[]);return a.jsxs("div",{className:"rounded-lg bg-muted/50 p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Da,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm font-medium",children:"Current Employee Information"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Employee ID:"}),a.jsx("span",{className:"ml-2 text-muted-foreground",children:e.id})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Current Age:"}),a.jsxs("span",{className:"ml-2 text-muted-foreground",children:[r(e.date_of_birth)," years old"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Skills:"}),a.jsxs("span",{className:"ml-2 text-muted-foreground",children:[e.skills.length," skill(s)"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Created:"}),a.jsx("span",{className:"ml-2 text-muted-foreground",children:t(e.created_at)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Last Updated:"}),a.jsx("span",{className:"ml-2 text-muted-foreground",children:t(e.updated_at)})]}),e.employment_info&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Base Pay:"}),a.jsxs("span",{className:"ml-2 text-muted-foreground",children:["$",e.employment_info.base_pay]})]})]})]})},Xht=({className:e})=>{const t=Ot(),{id:r}=Ia(),n=r?parseInt(r,10):null,[s,i]=b.useState(!1),[o,c]=b.useState(null),[d,u]=b.useState(!1),[l,f]=b.useState(!1),[p,g]=b.useState(!1),{stores:x,loading:S,error:m}=Po(!0,{per_page:100}),{currentEmployee:y,loading:w,errors:C,actions:E}=fh(),N=fa({resolver:Ma(Yht),mode:"onChange",reValidateMode:"onChange",defaultValues:{store_id:"",full_name:"",date_of_birth:"",has_family:!1,has_car:!1,is_arabic_team:!1,notes:"",status:"Active"}}),k=b.useCallback(()=>{n&&!p&&!w.fetchById.isLoading&&(console.log("Initiating employee fetch for ID:",n),g(!0),E.fetchEmployeeById(n))},[n,p,w.fetchById.isLoading,E]),A=b.useMemo(()=>{const z=N.watch("store_id");return x.find(W=>W.id===z)},[x,N.watch("store_id")]),T=b.useMemo(()=>{const z=N.formState,W=N.getValues(),Z=W.store_id&&W.full_name&&W.date_of_birth&&W.status;return z.isValid&&Z&&l&&!s},[N.formState,l,s,N]),P=b.useMemo(()=>N.formState.isDirty&&l,[N.formState.isDirty,l]),M=b.useMemo(()=>y!==null&&y.id===n,[y,n]);b.useEffect(()=>{k()},[n]),b.useEffect(()=>{if(M&&y&&!l){console.log("Populating form with employee data:",y);const z={store_id:y.store_id,full_name:y.full_name,date_of_birth:y.date_of_birth,has_family:y.has_family,has_car:y.has_car,is_arabic_team:y.is_arabic_team,notes:y.notes||"",status:y.status};N.reset(z),f(!0),console.log("Form populated and data loaded set to true")}},[M,y,l,N]),b.useEffect(()=>{const z=N.watch(()=>{o&&c(null),d&&u(!1)});return()=>z.unsubscribe()},[N,o,d]),b.useEffect(()=>{f(!1),g(!1),c(null),u(!1)},[n]);const O=async z=>{if(n)try{i(!0),c(null),u(!1);const W={store_id:z.store_id,full_name:z.full_name.trim(),date_of_birth:z.date_of_birth,has_family:z.has_family,has_car:z.has_car,is_arabic_team:z.is_arabic_team,notes:z.notes?.trim()||void 0,status:z.status};if(console.log("Updating employee with data:",W),await E.updateEmployee(n,W))u(!0),setTimeout(()=>{t("/employees",{replace:!0,state:{message:`Employee "${z.full_name}" updated successfully`}})},1500);else throw new Error("Failed to update employee")}catch(W){console.error("Error updating employee:",W),c(W?.message||"Failed to update employee. Please check your information and try again.")}finally{i(!1)}},R=b.useCallback(()=>{t("/employees")},[t,n]),L=b.useCallback(()=>{if(y){const z={store_id:y.store_id,full_name:y.full_name,date_of_birth:y.date_of_birth,has_family:y.has_family,has_car:y.has_car,is_arabic_team:y.is_arabic_team,notes:y.notes||"",status:y.status};N.reset(z)}c(null),u(!1)},[y,N]),B=b.useCallback(()=>{n&&t(`/employees/${n}`)},[t,n]),F=()=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(X,{variant:"ghost",size:"sm",onClick:R,className:"gap-2",children:[a.jsx(Bs,{className:"h-4 w-4"}),"Back"]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Edit Employee"}),a.jsx("p",{className:"text-muted-foreground",children:M&&y?`Editing: ${y.full_name}`:"Update employee information"})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:M&&y&&a.jsxs(X,{variant:"outline",size:"sm",onClick:B,className:"gap-2",children:[a.jsx(Cs,{className:"h-4 w-4"}),"View Details"]})})]}),$=()=>a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(X,{type:"button",variant:"outline",onClick:R,disabled:s,children:"Cancel"}),a.jsx(X,{type:"button",variant:"ghost",onClick:L,disabled:s||!P,children:"Reset Changes"}),a.jsx(X,{type:"submit",disabled:!T||!P,className:"gap-2",children:s?a.jsxs(a.Fragment,{children:[a.jsx(bt,{className:"h-4 w-4 animate-spin"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(NY,{className:"h-4 w-4"}),"Update Employee"]})})]});return n?w.fetchById.isLoading||S||!l?a.jsxs("div",{className:J("space-y-6",e),children:[F(),a.jsxs(Se,{children:[a.jsxs(Me,{children:[a.jsx(Xe,{className:"h-6 w-48"}),a.jsx(Xe,{className:"h-4 w-64"})]}),a.jsx(Ee,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(Xe,{className:"h-20 w-full"}),a.jsx(Xe,{className:"h-10 w-full"}),a.jsx(Xe,{className:"h-10 w-full"}),a.jsx(Xe,{className:"h-20 w-full"})]})})]})]}):C.fetchById.hasError?a.jsxs("div",{className:J("space-y-6",e),children:[F(),a.jsx(Se,{children:a.jsx(Ee,{className:"pt-6",children:a.jsxs(at,{variant:"destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{children:C.fetchById.message||"Failed to load employee data. Please try again."})]})})})]}):!M||!y?a.jsxs("div",{className:J("space-y-6",e),children:[F(),a.jsx(Se,{children:a.jsx(Ee,{className:"pt-6",children:a.jsxs(at,{variant:"destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{children:"Employee not found. The employee may have been deleted or you may not have permission to view it."})]})})})]}):m?a.jsxs("div",{className:J("space-y-6",e),children:[F(),a.jsx(Se,{children:a.jsx(Ee,{className:"pt-6",children:a.jsxs(at,{variant:"destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{children:"Failed to load stores. Please refresh the page and try again."})]})})})]}):a.jsxs("div",{className:J("space-y-6",e),children:[F(),d&&a.jsxs(at,{className:"border-green-200 bg-green-50 text-green-800",children:[a.jsx(Pa,{className:"h-4 w-4"}),a.jsx(it,{children:"Employee updated successfully! Redirecting to employee details..."})]}),o&&a.jsxs(at,{variant:"destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{children:o})]}),P&&!d&&a.jsxs(at,{children:[a.jsx(dc,{className:"h-4 w-4"}),a.jsx(it,{children:"You have unsaved changes. Don't forget to update the employee before leaving this page."})]}),a.jsxs(Se,{children:[a.jsxs(Me,{children:[a.jsx(Ve,{className:"text-lg",children:"Current Employee Information"}),a.jsx(ts,{children:"Review the current employee details before making changes"})]}),a.jsx(Ee,{children:a.jsx(Zht,{employee:y})})]}),a.jsx(Zi,{...N,children:a.jsxs("form",{onSubmit:N.handleSubmit(O),className:"space-y-8",children:[a.jsxs(Se,{children:[a.jsxs(Me,{children:[a.jsxs(Ve,{className:"flex items-center gap-2",children:[a.jsx(Da,{className:"h-5 w-5"}),"Basic Information"]}),a.jsx(ts,{children:"Update the employee's personal and contact information"})]}),a.jsxs(Ee,{className:"space-y-6",children:[a.jsx(er,{control:N.control,name:"store_id",render:({field:z})=>a.jsxs(Kt,{children:[a.jsx(Zt,{children:"Store Assignment"}),a.jsxs(Wt,{value:z.value,onValueChange:z.onChange,disabled:s,children:[a.jsx(Xt,{children:a.jsx(zt,{children:a.jsx(qt,{placeholder:"Select a store..."})})}),a.jsx(Ut,{children:x.map(W=>a.jsx(pt,{value:W.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(un,{className:"h-4 w-4"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium",children:W.name}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["ID: ",W.id]})]})]})},W.id))})]}),a.jsx(Is,{children:"Choose which store this employee is assigned to"}),a.jsx(xr,{})]})}),A&&a.jsxs("div",{className:"rounded-lg bg-muted/50 p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(un,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm font-medium",children:"Selected Store"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"font-semibold",children:A.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Store ID: ",A.id]}),A.metadata?.address&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",A.metadata.address]})]})]}),a.jsx(Xs,{}),a.jsx(er,{control:N.control,name:"full_name",render:({field:z})=>a.jsxs(Kt,{children:[a.jsx(Zt,{children:"Full Name"}),a.jsx(Xt,{children:a.jsx(et,{...z,placeholder:"Enter employee's full name",disabled:s})}),a.jsx(Is,{children:"Update the employee's complete name (first and last name)"}),a.jsx(xr,{})]})}),a.jsx(er,{control:N.control,name:"date_of_birth",render:({field:z})=>a.jsxs(Kt,{children:[a.jsx(Zt,{children:"Date of Birth"}),a.jsx(Xt,{children:a.jsx(et,{...z,type:"date",disabled:s,max:new Date().toISOString().split("T")[0]})}),a.jsx(Is,{children:"Employee must be at least 16 years old"}),a.jsx(xr,{})]})}),a.jsx(er,{control:N.control,name:"status",render:({field:z})=>a.jsxs(Kt,{children:[a.jsx(Zt,{children:"Employment Status"}),a.jsx(Xt,{children:a.jsx(Kht,{value:z.value,onChange:z.onChange,disabled:s})}),a.jsx(Is,{children:"Update the employment status for this employee"}),a.jsx(xr,{})]})})]})]}),a.jsxs(Se,{children:[a.jsxs(Me,{children:[a.jsxs(Ve,{className:"flex items-center gap-2",children:[a.jsx(Ur,{className:"h-5 w-5"}),"Employee Attributes"]}),a.jsx(ts,{children:"Update additional information about the employee's circumstances and capabilities"})]}),a.jsxs(Ee,{className:"space-y-6",children:[a.jsx(er,{control:N.control,name:"has_family",render:({field:z})=>a.jsxs(Kt,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Zt,{className:"text-base flex items-center gap-2",children:" Has Family"}),a.jsx(Is,{children:"Employee has family responsibilities that may affect scheduling"})]}),a.jsx(Xt,{children:a.jsx(Ss,{checked:z.value,onCheckedChange:z.onChange,disabled:s})})]})}),a.jsx(er,{control:N.control,name:"has_car",render:({field:z})=>a.jsxs(Kt,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs(Zt,{className:"text-base flex items-center gap-2",children:[a.jsx(HM,{className:"h-4 w-4"}),"Has Car"]}),a.jsx(Is,{children:"Employee has reliable transportation"})]}),a.jsx(Xt,{children:a.jsx(Ss,{checked:z.value,onCheckedChange:z.onChange,disabled:s})})]})}),a.jsx(er,{control:N.control,name:"is_arabic_team",render:({field:z})=>a.jsxs(Kt,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Zt,{className:"text-base flex items-center gap-2",children:" Arabic Team"}),a.jsx(Is,{children:"Employee can serve Arabic-speaking customers"})]}),a.jsx(Xt,{children:a.jsx(Ss,{checked:z.value,onCheckedChange:z.onChange,disabled:s})})]})})]})]}),a.jsxs(Se,{children:[a.jsxs(Me,{children:[a.jsxs(Ve,{className:"flex items-center gap-2",children:[a.jsx(WM,{className:"h-5 w-5"}),"Additional Notes"]}),a.jsx(ts,{children:"Update additional information about the employee (optional)"})]}),a.jsx(Ee,{children:a.jsx(er,{control:N.control,name:"notes",render:({field:z})=>a.jsxs(Kt,{children:[a.jsx(Zt,{children:"Notes"}),a.jsx(Xt,{children:a.jsx(wo,{...z,placeholder:"Enter any additional notes about the employee...",className:"min-h-[100px]",disabled:s})}),a.jsx(Is,{children:"Optional notes about skills, preferences, or other relevant information"}),a.jsx(xr,{})]})})})]}),a.jsx(Se,{children:a.jsx(Ee,{className:"pt-6",children:a.jsx("div",{className:"flex justify-end",children:$()})})})]})})]}):a.jsxs("div",{className:J("space-y-6",e),children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>t("/employees/store"),className:"gap-2",children:[a.jsx(Bs,{className:"h-4 w-4"}),"Back to Employees"]})}),a.jsx(Se,{children:a.jsx(Ee,{className:"pt-6",children:a.jsxs(at,{variant:"destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{children:"Invalid employee ID. Please select a valid employee to edit."})]})})})]})},Qht=({status:e})=>{const t=n=>{switch(n){case"Active":return"default";case"Suspension":return"secondary";case"Terminated":return"destructive";case"On Leave":return"outline";default:return"secondary"}},r=n=>{switch(n){case"Active":return"";case"Suspension":return"";case"Terminated":return"";case"On Leave":return"";default:return""}};return a.jsxs(Ze,{variant:t(e),className:"gap-1",children:[a.jsx("span",{className:"text-xs",children:r(e)}),e]})},cM=({rating:e,size:t="sm"})=>{const r=i=>{switch(i){case"A+":return"bg-green-600 text-white";case"A":return"bg-green-500 text-white";case"B":return"bg-blue-500 text-white";case"C":return"bg-yellow-500 text-white";case"D":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},n=i=>{switch(i){case"A+":return"Exceptional";case"A":return"Excellent";case"B":return"Good";case"C":return"Satisfactory";case"D":return"Needs Improvement";default:return"Unknown"}},s={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1.5",lg:"text-base px-4 py-2"};return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ze,{className:J(r(e),s[t],"font-mono font-bold"),children:e}),a.jsx("span",{className:"text-xs text-muted-foreground",children:n(e)})]})},Jht=({employee:e,onEdit:t})=>{const r=b.useCallback(s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),[]),n=b.useCallback(s=>{const i=new Date,o=new Date(s);let c=i.getFullYear()-o.getFullYear();const d=i.getMonth()-o.getMonth();return(d<0||d===0&&i.getDate()<o.getDate())&&c--,c},[]);return a.jsxs(Se,{children:[a.jsx(Me,{className:"pb-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:a.jsx(Da,{className:"h-6 w-6 text-muted-foreground"})}),a.jsxs("div",{children:[a.jsx(Ve,{className:"text-xl",children:e.full_name}),a.jsxs(ts,{children:["Employee ID: ",e.id]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Qht,{status:e.status}),a.jsxs(X,{onClick:t,size:"sm",className:"gap-2",children:[a.jsx(vi,{className:"h-4 w-4"}),"Edit Employee"]})]})]})}),a.jsxs(Ee,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[a.jsx(ua,{className:"h-4 w-4 text-muted-foreground"}),"Date of Birth"]}),a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{children:r(e.date_of_birth)}),a.jsxs("div",{className:"text-muted-foreground",children:["Age: ",n(e.date_of_birth)," years old"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[a.jsx(un,{className:"h-4 w-4 text-muted-foreground"}),"Store Assignment"]}),a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium",children:e.store.name}),a.jsxs("div",{className:"text-muted-foreground",children:["Store #",e.store.number,"  ID: ",e.store_id]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[a.jsx(dc,{className:"h-4 w-4 text-muted-foreground"}),"Employment Info"]}),a.jsxs("div",{className:"text-sm",children:[a.jsxs("div",{children:["Created: ",r(e.created_at)]}),a.jsxs("div",{className:"text-muted-foreground",children:["Updated: ",r(e.updated_at)]})]})]})]}),a.jsx(Xs,{}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(Ur,{className:"h-4 w-4"}),"Employee Attributes"]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.has_family&&a.jsx(Ze,{variant:"outline",className:"gap-1",children:" Has Family"}),e.has_car&&a.jsxs(Ze,{variant:"outline",className:"gap-1",children:[a.jsx(HM,{className:"h-3 w-3"}),"Has Car"]}),e.is_arabic_team&&a.jsx(Ze,{variant:"outline",className:"gap-1",children:" Arabic Team"}),!e.has_family&&!e.has_car&&!e.is_arabic_team&&a.jsx("span",{className:"text-sm text-muted-foreground",children:"No special attributes"})]})]}),e.employment_info&&a.jsxs(a.Fragment,{children:[a.jsx(Xs,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(tc,{className:"h-4 w-4"}),"Employment Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2 font-medium text-muted-foreground",children:[a.jsx(nv,{className:"h-3 w-3"}),"Compensation"]}),a.jsxs("div",{children:["Base Pay:"," ",a.jsxs("span",{className:"font-medium",children:["$",e.employment_info.base_pay]})]}),a.jsxs("div",{children:["Performance Pay:"," ",a.jsxs("span",{className:"font-medium",children:["$",e.employment_info.performance_pay]})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2 font-medium text-muted-foreground",children:[a.jsx(tc,{className:"h-3 w-3"}),"Employment Type"]}),a.jsx("div",{children:a.jsx(Ze,{variant:"outline",children:e.employment_info.employment_type})}),e.employment_info.hired_date&&a.jsxs("div",{className:"text-muted-foreground",children:["Hired: ",r(e.employment_info.hired_date)]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2 font-medium text-muted-foreground",children:[a.jsx(oE,{className:"h-3 w-3"}),"Additional Info"]}),e.employment_info.paychex_ids?.length>0&&a.jsxs("div",{children:["Paychex IDs:"," ",a.jsx("span",{className:"font-medium",children:e.employment_info.paychex_ids.join(", ")})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(vke,{className:"h-3 w-3"}),a.jsxs("span",{children:["Uniform:"," ",e.employment_info.has_uniform?"Yes":"No"]})]})]})]})]})]}),e.schedule_preferences&&e.schedule_preferences.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(Xs,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(lAe,{className:"h-4 w-4"}),"Schedule Preferences"]}),a.jsx("div",{className:"space-y-3",children:e.schedule_preferences.map(s=>a.jsxs("div",{className:"rounded-lg border p-3 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Maximum Hours:"}),a.jsxs("span",{className:"ml-2",children:[s.maximum_hours,"h"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Employment Type:"}),a.jsx(Ze,{variant:"outline",className:"ml-2",children:s.employment_type})]})]}),s.preference_id&&a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Preference ID: ",s.preference_id]})]},s.id))})]})]}),e.notes&&a.jsxs(a.Fragment,{children:[a.jsx(Xs,{}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(WM,{className:"h-4 w-4"}),"Notes"]}),a.jsx("div",{className:"text-sm bg-muted/50 rounded-lg p-3",children:e.notes})]})]})]})]})},emt=({employeeSkill:e,onUpdateRating:t,onRemoveSkill:r})=>{const[n,s]=b.useState(!1),[i,o]=b.useState(e.pivot.rating),c=["A+","A","B","C","D"],d=()=>{i!==e.pivot.rating&&c.includes(i)&&t(e.id,i),s(!1)},u=()=>{o(e.pivot.rating),s(!1)};return a.jsxs(_t,{children:[a.jsx(ke,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-md bg-primary/10",children:a.jsx(bD,{className:"h-4 w-4 text-primary"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:e.name}),e.slug&&a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Slug: ",e.slug]})]})]})}),a.jsx(ke,{}),a.jsx(ke,{children:n?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Wt,{value:i,onValueChange:l=>o(l),children:[a.jsx(zt,{className:"w-24",children:a.jsx(qt,{})}),a.jsx(Ut,{children:c.map(l=>a.jsx(pt,{value:l,children:a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(cM,{rating:l,size:"sm"})})},l))})]}),a.jsx(X,{size:"sm",onClick:d,children:a.jsx(Pa,{className:"h-3 w-3"})}),a.jsx(X,{size:"sm",variant:"outline",onClick:u,children:""})]}):a.jsx("button",{onClick:()=>s(!0),className:"hover:bg-muted rounded p-1 transition-colors",children:a.jsx(cM,{rating:e.pivot.rating})})}),a.jsx(ke,{children:a.jsxs("div",{className:"text-sm space-y-1",children:[a.jsxs("div",{children:["Created:"," ",new Date(e.pivot.created_at).toLocaleDateString()]}),a.jsxs("div",{className:"text-muted-foreground",children:["Updated:"," ",new Date(e.pivot.updated_at).toLocaleDateString()]})]})}),a.jsx(ke,{children:a.jsxs(Dy,{children:[a.jsx(Ry,{asChild:!0,children:a.jsx(X,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:a.jsx(D0,{className:"h-4 w-4"})})}),a.jsxs(wg,{align:"end",children:[a.jsxs(xo,{onClick:()=>s(!0),className:"cursor-pointer",children:[a.jsx(vi,{className:"mr-2 h-4 w-4"}),"Update Rating"]}),a.jsxs(xo,{onClick:()=>r(e.id),className:"cursor-pointer text-destructive focus:text-destructive",children:[a.jsx(ss,{className:"mr-2 h-4 w-4"}),"Remove Skill"]})]})]})})]})},tmt=({isOpen:e,onOpenChange:t,employee:r,onSkillAttached:n})=>{const[s,i]=b.useState(""),[o,c]=b.useState("B"),[d,u]=b.useState(!1),[l,f]=b.useState(null),p=["A+","A","B","C","D"],{skills:g,loading:x,fetchSkills:S}=Cce(),{actions:m}=fh();b.useEffect(()=>{e&&g.length===0&&S()},[e,g.length,S]);const y=b.useMemo(()=>{const E=r.skills.map(N=>N.id);return g.filter(N=>!E.includes(N.id))},[g,r.skills]),w=async()=>{if(!(!s||!o))try{u(!0),f(null);const E=parseInt(s,10);await m.attachSkill(r.id,E,{rating:o}),i(""),c("B"),t(!1),n()}catch(E){console.error("Error attaching skill:",E),f(E.message||"Failed to attach skill")}finally{u(!1)}},C=()=>{i(""),c("B"),f(null),t(!1)};return a.jsx(An,{open:e,onOpenChange:C,children:a.jsxs(hn,{className:"sm:max-w-md",children:[a.jsxs(mn,{children:[a.jsx(pn,{children:"Attach Skill to Employee"}),a.jsxs(In,{children:["Add a new skill to ",r.full_name,"'s skill set with an initial rating."]})]}),l&&a.jsxs(at,{variant:"destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{children:l})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"skill-select",children:"Select Skill"}),a.jsxs(Wt,{value:s,onValueChange:i,disabled:d||x.list,children:[a.jsx(zt,{id:"skill-select",children:a.jsx(qt,{placeholder:"Choose a skill..."})}),a.jsx(Ut,{children:x.list?a.jsx(pt,{value:"loading",disabled:!0,children:"Loading skills..."}):y.length===0?a.jsx(pt,{value:"no-skills",disabled:!0,children:"No skills available"}):y.map(E=>a.jsx(pt,{value:E.id.toString(),children:a.jsx("span",{className:"font-medium",children:E.name})},E.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"rating-select",children:"Initial Rating"}),a.jsxs(Wt,{value:o,onValueChange:E=>c(E),disabled:d,children:[a.jsx(zt,{id:"rating-select",children:a.jsx(qt,{})}),a.jsx(Ut,{children:p.map(E=>a.jsx(pt,{value:E,children:a.jsx("div",{className:"flex items-center gap-2 w-full",children:a.jsx(cM,{rating:E,size:"sm"})})},E))})]})]})]}),a.jsxs(kn,{children:[a.jsx(X,{variant:"outline",onClick:C,disabled:d,children:"Cancel"}),a.jsx(X,{onClick:w,disabled:!s||!o||d||y.length===0,className:"gap-2",children:d?a.jsxs(a.Fragment,{children:[a.jsx(bt,{className:"h-4 w-4 animate-spin"}),"Attaching..."]}):a.jsxs(a.Fragment,{children:[a.jsx(br,{className:"h-4 w-4"}),"Attach Skill"]})})]})]})})},rmt=({className:e})=>{const t=Ot(),{id:r}=Ia(),n=r?parseInt(r,10):null,[s,i]=b.useState(!1),[o,c]=b.useState(!1),{currentEmployee:d,loading:u,errors:l,actions:f}=fh(),p=b.useCallback(()=>{n&&!o&&!u.fetchById.isLoading&&(console.log("Fetching employee data for ID:",n),c(!0),f.fetchEmployeeById(n))},[n,o,u.fetchById.isLoading,f]),g=b.useMemo(()=>d!==null&&d.id===n,[d,n]);b.useEffect(()=>{p()},[n]),b.useEffect(()=>{c(!1)},[n]);const x=b.useCallback(()=>{t("/employees/store")},[t]),S=b.useCallback(()=>{n&&t(`/employees/${n}/edit`)},[t,n]),m=b.useCallback(async(N,k)=>{if(n)try{await f.updateSkill(n,N,{rating:k}),f.fetchEmployeeById(n)}catch(A){console.error("Failed to update skill rating:",A)}},[n,f]),y=b.useCallback(async N=>{if(!n||!d)return;const k=d.skills.find(T=>T.id===N);if(!k)return;if(window.confirm(`Are you sure you want to remove "${k.name}" from ${d.full_name}'s skills?`))try{await f.detachSkill(n,N),f.fetchEmployeeById(n)}catch(T){console.error("Failed to remove skill:",T)}},[n,d,f]),w=b.useCallback(()=>{n&&f.fetchEmployeeById(n)},[n,f]),C=()=>a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(X,{variant:"ghost",size:"sm",onClick:x,className:"gap-2",children:[a.jsx(Bs,{className:"h-4 w-4"}),"Back to Employees"]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Employee Details"}),a.jsx("p",{className:"text-muted-foreground",children:g&&d?`Viewing: ${d.full_name}`:"View employee information"})]})]})}),E=()=>d?a.jsxs(Se,{children:[a.jsx(Me,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(Ve,{className:"flex items-center gap-2",children:[a.jsx(bD,{className:"h-5 w-5"}),"Employee Skills"]}),a.jsxs(ts,{children:["Skills and competencies for ",d.full_name," with letter grade ratings"]})]}),a.jsxs(X,{onClick:()=>i(!0),className:"gap-2",children:[a.jsx(br,{className:"h-4 w-4"}),"Attach Skill"]})]})}),a.jsx(Ee,{children:d.skills.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[a.jsx(bD,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Skills Assigned"}),a.jsx("p",{className:"text-muted-foreground mb-4 max-w-md",children:"This employee doesn't have any skills assigned yet. Attach skills to track their competencies with A+ through D ratings."}),a.jsxs(X,{onClick:()=>i(!0),className:"gap-2",children:[a.jsx(br,{className:"h-4 w-4"}),"Attach First Skill"]})]}):a.jsx("div",{className:"rounded-md border",children:a.jsxs(rn,{children:[a.jsx(nn,{children:a.jsxs(_t,{children:[a.jsx(Re,{children:"Skill"}),a.jsx(Re,{children:"Category"}),a.jsx(Re,{children:"Rating"}),a.jsx(Re,{children:"Dates"}),a.jsx(Re,{className:"w-12",children:"Actions"})]})}),a.jsx(sn,{children:d.skills.map(N=>a.jsx(emt,{employeeSkill:N,onUpdateRating:m,onRemoveSkill:y},N.id))})]})})})]}):null;return n?u.fetchById.isLoading?a.jsxs("div",{className:J("space-y-6",e),children:[C(),a.jsxs(Se,{children:[a.jsx(Me,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Xe,{className:"h-12 w-12 rounded-full"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{className:"h-6 w-48"}),a.jsx(Xe,{className:"h-4 w-32"})]})]}),a.jsx(Xe,{className:"h-9 w-32"})]})}),a.jsx(Ee,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(Xe,{className:"h-16 w-full"}),a.jsx(Xe,{className:"h-16 w-full"}),a.jsx(Xe,{className:"h-16 w-full"})]}),a.jsx(Xe,{className:"h-32 w-full"})]})})]}),a.jsxs(Se,{children:[a.jsx(Me,{children:a.jsx(Xe,{className:"h-6 w-48"})}),a.jsx(Ee,{children:a.jsx(Xe,{className:"h-32 w-full"})})]})]}):l.fetchById.hasError?a.jsxs("div",{className:J("space-y-6",e),children:[C(),a.jsx(Se,{children:a.jsx(Ee,{className:"pt-6",children:a.jsxs(at,{variant:"destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{children:l.fetchById.message||"Failed to load employee data. Please try again."})]})})})]}):!g||!d?a.jsxs("div",{className:J("space-y-6",e),children:[C(),a.jsx(Se,{children:a.jsx(Ee,{className:"pt-6",children:a.jsxs(at,{variant:"destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{children:"Employee not found. The employee may have been deleted or you may not have permission to view it."})]})})})]}):a.jsxs("div",{className:J("space-y-6",e),children:[C(),a.jsx(Jht,{employee:d,onEdit:S}),E(),a.jsx(tmt,{isOpen:s,onOpenChange:i,employee:d,onSkillAttached:w})]}):a.jsxs("div",{className:J("space-y-6",e),children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs(X,{variant:"ghost",size:"sm",onClick:x,className:"gap-2",children:[a.jsx(Bs,{className:"h-4 w-4"}),"Back to Employees"]})}),a.jsx(Se,{children:a.jsx(Ee,{className:"pt-6",children:a.jsxs(at,{variant:"destructive",children:[a.jsx(ht,{className:"h-4 w-4"}),a.jsx(it,{children:"Invalid employee ID. Please select a valid employee to view."})]})})})]})},nmt=[a.jsx(Dt,{path:"/employees",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(Vht,{})})})})},"employees-management"),a.jsx(Dt,{path:"/employees/create",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(Ght,{})})})})},"create-employee"),a.jsx(Dt,{path:"/employees/edit/:id",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(Xht,{})})})})},"edit-employee"),a.jsx(Dt,{path:"/employees/view/:id",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(rmt,{})})})})},"view-employee")],smt=()=>{const e=$t(),t=pe(kbe),r=pe(Tbe),n=pe(Pbe),s=pe(Dbe),i=pe(Rbe),o=b.useCallback(async()=>{try{console.log("[useEmploymentInformations] Initiating fetchAll"),await e(mf()).unwrap(),console.log("[useEmploymentInformations] fetchAll completed successfully")}catch(y){console.error("[useEmploymentInformations] fetchAll failed:",y)}},[e]),c=b.useCallback(async y=>{if(!y||y<=0){console.warn("[useEmploymentInformations] fetchById: Invalid ID provided:",y);return}try{console.log(`[useEmploymentInformations] Fetching employment info with ID: ${y}`),await e(TS(y)).unwrap(),console.log(`[useEmploymentInformations] fetchById(${y}) completed successfully`)}catch(w){console.error(`[useEmploymentInformations] fetchById(${y}) failed:`,w)}},[e]),d=b.useCallback(async y=>{if(!y)return console.warn("[useEmploymentInformations] create: No data provided"),null;try{console.log("[useEmploymentInformations] Creating new employment information");const w=await e(PS(y)).unwrap();return console.log("[useEmploymentInformations] create completed successfully:",w.id),w}catch(w){return console.error("[useEmploymentInformations] create failed:",w),null}},[e]),u=b.useCallback(async(y,w)=>{if(!y||y<=0)return console.warn("[useEmploymentInformations] update: Invalid ID provided:",y),null;if(!w)return console.warn("[useEmploymentInformations] update: No data provided"),null;try{console.log(`[useEmploymentInformations] Updating employment info with ID: ${y}`);const C=await e(DS({id:y,data:w})).unwrap();return console.log(`[useEmploymentInformations] update(${y}) completed successfully`),C}catch(C){return console.error(`[useEmploymentInformations] update(${y}) failed:`,C),null}},[e]),l=b.useCallback(async y=>{if(!y||y<=0)return console.warn("[useEmploymentInformations] delete: Invalid ID provided:",y),!1;try{return console.log(`[useEmploymentInformations] Deleting employment info with ID: ${y}`),await e(RS(y)).unwrap(),console.log(`[useEmploymentInformations] delete(${y}) completed successfully`),!0}catch(w){return console.error(`[useEmploymentInformations] delete(${y}) failed:`,w),!1}},[e]),f=b.useCallback(()=>{console.log("[useEmploymentInformations] Clearing all errors"),e(jbe())},[e]),p=b.useCallback(()=>{console.log("[useEmploymentInformations] Clearing current item"),e(Ebe())},[e]),g=b.useCallback(y=>{console.log(`[useEmploymentInformations] Setting current item: ${y.id}`),e(Nbe(y))},[e]),x=b.useCallback(y=>{console.log(`[useEmploymentInformations] Clearing ${y} error`),e(_be(y))},[e]),S=b.useCallback(()=>{console.log("[useEmploymentInformations] Resetting state"),e(Abe())},[e]),m=b.useMemo(()=>({fetchAll:o,fetchById:c,create:d,update:u,delete:l,clearErrors:f,clearCurrent:p,setCurrent:g,clearSpecificError:x,reset:S}),[o,c,d,u,l,f,p,g,x,S]);return b.useEffect(()=>{t.length===0&&!n.list&&!i.lastFetch&&(console.log("[useEmploymentInformations] Auto-fetching data on mount"),o())},[]),{employmentInformations:t,currentEmploymentInformation:r,loading:n,errors:s,actions:m}},amt=()=>{const{employmentInformations:e,loading:t,errors:r,actions:n}=smt(),s=Po(!0,{per_page:100}),i=fh(),o=Sce(),[c,d]=b.useState({open:!1,selectedStoreId:"",selectedEmployeeId:"",selectedPositionId:"",paychexIds:[""],employmentType:"",hiredDate:new Date().toISOString().split("T")[0],basePay:"0",performancePay:"0",hasUniform:!1}),[u,l]=b.useState({open:!1,employmentInformation:null,selectedStoreId:"",selectedEmployeeId:"",selectedPositionId:"",paychexIds:[""],employmentType:"",hiredDate:new Date().toISOString().split("T")[0],basePay:"0",performancePay:"0",hasUniform:!1}),[f,p]=b.useState({open:!1,employmentInformation:null}),[g,x]=b.useState({open:!1,employmentInformation:null}),[S,m]=b.useState(!1),[y,w]=b.useState(""),[C,E]=b.useState(!1);b.useEffect(()=>{(async()=>{if(!C)try{E(!0),await n.fetchAll()}catch(Fe){console.error("Failed to fetch employment information:",Fe),E(!1)}})()},[n.fetchAll,C]);const N=b.useCallback(async()=>{try{await o.fetchPositions()}catch(fe){console.error("Failed to fetch positions:",fe)}},[o.fetchPositions]);b.useEffect(()=>{N()},[]),b.useEffect(()=>{y&&i.actions.fetchEmployeesByStore(y,{per_page:100}).catch(console.error)},[y]),b.useEffect(()=>{c.selectedStoreId&&w(c.selectedStoreId)},[c.selectedStoreId]),b.useEffect(()=>{u.selectedStoreId&&w(u.selectedStoreId)},[u.selectedStoreId]);const k=b.useMemo(()=>y?i.employees.filter(fe=>fe.store_id===y):[],[i.employees,y]),A=t.list,T=t.list||t.create||t.update||t.delete||s.loading||o.isAnyLoading,P=b.useMemo(()=>Object.values(r).some(fe=>fe!==null),[r]),M=b.useMemo(()=>P?Object.values(r).find(fe=>fe!==null):null,[P,r]),O=b.useMemo(()=>e.filter(fe=>fe.employment_type==="W2"),[e]),R=b.useMemo(()=>e.filter(fe=>fe.employment_type==="1099"),[e]),L=b.useCallback(()=>{d({open:!0,selectedStoreId:"",selectedEmployeeId:"",selectedPositionId:"",paychexIds:[""],employmentType:"",hiredDate:new Date().toISOString().split("T")[0],basePay:"0",performancePay:"0",hasUniform:!1})},[]),B=b.useCallback(()=>{d(fe=>({...fe,open:!1})),w("")},[]),F=b.useCallback(fe=>{const Fe=fe.hired_date?new Date(fe.hired_date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0];l({open:!0,employmentInformation:fe,selectedStoreId:fe.emp_info?.store_id||"",selectedEmployeeId:fe.emp_info_id.toString(),selectedPositionId:fe.position_id?.toString()||"",paychexIds:fe.paychex_ids||[""],employmentType:fe.employment_type,hiredDate:Fe,basePay:fe.base_pay||"0",performancePay:fe.performance_pay||"0",hasUniform:fe.has_uniform})},[]),$=b.useCallback(()=>{l(fe=>({...fe,open:!1})),w("")},[]),z=b.useCallback(fe=>{p({open:!0,employmentInformation:fe})},[]),W=b.useCallback(()=>{p({open:!1,employmentInformation:null})},[]),Z=b.useCallback(fe=>{x({open:!0,employmentInformation:fe})},[]),V=b.useCallback(()=>{x({open:!1,employmentInformation:null})},[]),q=b.useCallback(async()=>{try{if(m(!0),!c.selectedStoreId||!c.selectedEmployeeId||!c.employmentType||c.paychexIds.some(ne=>!ne.trim())){Ye.error("Validation Error",{description:"Please fill in all required fields"});return}const fe={emp_info_id:c.selectedEmployeeId,position_id:c.selectedPositionId||void 0,paychex_ids:c.paychexIds.filter(ne=>ne.trim()),employment_type:c.employmentType,hired_date:c.hiredDate,base_pay:c.basePay,performance_pay:c.performancePay,has_uniform:c.hasUniform},Fe=Ye.loading("Creating employment information...",{description:"Please wait while we save your changes."});if(await n.create(fe))Ye.dismiss(Fe),Ye.success("Employment information created successfully",{description:"The new employment record has been added to the system."}),B();else throw new Error("Failed to create employment information")}catch(fe){console.error("Failed to create employment information:",fe);const Fe=fe instanceof Error?fe.message:"Unknown error occurred";Ye.error("Failed to create employment information",{description:Fe})}finally{m(!1)}},[c,n.create,B]),H=b.useCallback(async()=>{if(u.employmentInformation)try{if(m(!0),!u.selectedStoreId||!u.selectedEmployeeId||!u.employmentType||u.paychexIds.some(ne=>!ne.trim())){Ye.error("Validation Error",{description:"Please fill in all required fields"});return}const fe={emp_info_id:u.selectedEmployeeId,position_id:u.selectedPositionId||void 0,paychex_ids:u.paychexIds.filter(ne=>ne.trim()),employment_type:u.employmentType,hired_date:u.hiredDate,base_pay:u.basePay,performance_pay:u.performancePay,has_uniform:u.hasUniform},Fe=Ye.loading("Updating employment information...",{description:"Please wait while we save your changes."});if(await n.update(u.employmentInformation.id,fe))Ye.dismiss(Fe),Ye.success("Employment information updated successfully",{description:"The employment record changes have been saved."}),$();else throw new Error("Failed to update employment information")}catch(fe){console.error("Failed to update employment information:",fe);const Fe=fe instanceof Error?fe.message:"Unknown error occurred";Ye.error("Failed to update employment information",{description:Fe})}finally{m(!1)}},[u,n.update,$]),K=b.useCallback(async()=>{if(g.employmentInformation)try{const fe=Ye.loading("Deleting employment information...",{description:"Please wait while we remove the record."});if(await n.delete(g.employmentInformation.id))Ye.dismiss(fe),Ye.success("Employment information deleted successfully",{description:"The employment record has been removed from the system."}),V();else throw new Error("Failed to delete employment information")}catch(fe){console.error("Failed to delete employment information:",fe);const Fe=fe instanceof Error?fe.message:"Unknown error occurred";Ye.error("Failed to delete employment information",{description:Fe})}},[g.employmentInformation,n.delete,V]),Y=b.useCallback(async()=>{try{Ye.info("Refreshing data...",{description:"Fetching the latest employment information."}),await n.fetchAll(),Ye.success("Data refreshed successfully",{description:"Employment information has been updated."})}catch(fe){console.error("Failed to refresh employment information:",fe),Ye.error("Failed to refresh data",{description:"Please try again later."})}},[n.fetchAll]),re=b.useCallback(fe=>s.stores.find(Q=>Q.id===fe)?.name||fe,[s.stores]),me=b.useCallback(fe=>fe?o.positions.find(Q=>Q.id===fe)?.name||`Position ${fe}`:"No Position",[o.positions]),de=b.useCallback(fe=>fe==="W2"?"default":"secondary",[]),he=b.useCallback(fe=>fe==="W2"?"W-2 Employee":"1099 Contractor",[]),ee=b.useCallback((fe=!1)=>{fe?l(Fe=>({...Fe,paychexIds:[...Fe.paychexIds,""]})):d(Fe=>({...Fe,paychexIds:[...Fe.paychexIds,""]}))},[]),ie=b.useCallback((fe,Fe=!1)=>{Fe?l(Q=>({...Q,paychexIds:Q.paychexIds.filter((ne,ce)=>ce!==fe)})):d(Q=>({...Q,paychexIds:Q.paychexIds.filter((ne,ce)=>ce!==fe)}))},[]),ye=b.useCallback((fe,Fe,Q=!1)=>{Q?l(ne=>({...ne,paychexIds:ne.paychexIds.map((ce,ze)=>ze===fe?Fe:ce)})):d(ne=>({...ne,paychexIds:ne.paychexIds.map((ce,ze)=>ze===fe?Fe:ce)}))},[]),le=()=>A?a.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((fe,Fe)=>a.jsx(Xe,{className:"h-16 w-full"},Fe))}):e.length===0?a.jsx(Se,{children:a.jsxs(Ee,{className:"flex flex-col items-center justify-center py-16",children:[a.jsx(Fd,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Employment Information"}),a.jsx("p",{className:"text-muted-foreground text-center mb-6",children:"Get started by creating your first employment record"}),a.jsxs(X,{onClick:L,children:[a.jsx(br,{className:"h-4 w-4 mr-2"}),"Create Employment Record"]})]})}):a.jsx(Se,{children:a.jsx(Ee,{className:"p-0",children:a.jsxs(rn,{children:[a.jsx(nn,{children:a.jsxs(_t,{children:[a.jsx(Re,{children:"Employee"}),a.jsx(Re,{children:"Store"}),a.jsx(Re,{children:"Position"}),a.jsx(Re,{children:"Employment Type"}),a.jsx(Re,{children:"Base Pay"}),a.jsx(Re,{children:"Performance Pay"}),a.jsx(Re,{children:"Uniform"}),a.jsx(Re,{children:"Hired Date"}),a.jsx(Re,{className:"text-right",children:"Actions"})]})}),a.jsx(sn,{children:e.map(fe=>a.jsxs(_t,{children:[a.jsx(ke,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ur,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:fe.emp_info?.full_name||"Unknown Employee"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Status: ",fe.emp_info?.status||"Unknown"]})]})]})}),a.jsx(ke,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(un,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:re(fe.emp_info?.store_id||"")})]})}),a.jsx(ke,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(tc,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:me(fe.position_id)})]})}),a.jsx(ke,{children:a.jsx(Ze,{variant:de(fe.employment_type),children:he(fe.employment_type)})}),a.jsx(ke,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nv,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("span",{children:["$",fe.base_pay]})]})}),a.jsx(ke,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nv,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("span",{children:["$",fe.performance_pay]})]})}),a.jsx(ke,{children:a.jsx(Ze,{variant:fe.has_uniform?"default":"secondary",children:fe.has_uniform?"Yes":"No"})}),a.jsx(ke,{className:"text-sm text-muted-foreground",children:fe.hired_date?new Date(fe.hired_date).toLocaleDateString():"Not set"}),a.jsx(ke,{className:"text-right",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx(X,{variant:"ghost",size:"sm",onClick:()=>z(fe),children:a.jsx(Cs,{className:"h-4 w-4"})}),a.jsx(X,{variant:"ghost",size:"sm",onClick:()=>F(fe),children:a.jsx(vi,{className:"h-4 w-4"})}),a.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Z(fe),children:a.jsx(ss,{className:"h-4 w-4 text-destructive"})})]})})]},fe.id))})]})})}),Te=b.useCallback((fe,Fe,Q="Select store...")=>a.jsxs(Wt,{value:fe,onValueChange:Fe,children:[a.jsx(zt,{children:a.jsx(qt,{placeholder:Q})}),a.jsx(Ut,{children:s.stores.map(ne=>a.jsx(pt,{value:ne.id,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(un,{className:"h-4 w-4"}),a.jsx("span",{children:ne.name})]})},ne.id))})]}),[s.stores]),Ae=b.useCallback((fe,Fe,Q=!1)=>a.jsxs(Wt,{value:fe,onValueChange:Fe,disabled:Q,children:[a.jsx(zt,{children:a.jsx(qt,{placeholder:Q?"Select store first...":"Select employee..."})}),a.jsx(Ut,{children:k.map(ne=>a.jsx(pt,{value:ne.id.toString(),children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ur,{className:"h-4 w-4"}),a.jsxs("div",{children:[a.jsx("span",{children:ne.full_name}),a.jsxs("span",{className:"text-sm text-muted-foreground ml-1",children:["(",ne.status,")"]})]})]})},ne.id))})]}),[k]),ae=b.useCallback((fe,Fe)=>a.jsxs(Wt,{value:fe,onValueChange:Fe,children:[a.jsx(zt,{children:a.jsx(qt,{placeholder:"Select position (optional)..."})}),a.jsx(Ut,{children:o.positions.map(Q=>a.jsx(pt,{value:Q.id.toString(),children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(tc,{className:"h-4 w-4"}),a.jsx("span",{children:Q.name})]})},Q.id))})]}),[o.positions]),We=b.useCallback((fe,Fe)=>a.jsxs(Wt,{value:fe,onValueChange:Fe,children:[a.jsx(zt,{children:a.jsx(qt,{placeholder:"Select employment type..."})}),a.jsxs(Ut,{children:[a.jsx(pt,{value:"W2",children:a.jsx(Ze,{variant:"default",children:"W-2 Employee"})}),a.jsx(pt,{value:"1099",children:a.jsx(Ze,{variant:"secondary",children:"1099 Contractor"})})]})]}),[]),rt=b.useCallback((fe,Fe=!1)=>a.jsxs("div",{className:"space-y-2",children:[fe.map((Q,ne)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(et,{value:Q,onChange:ce=>ye(ne,ce.target.value,Fe),placeholder:`Paychex ID ${ne+1}`}),fe.length>1&&a.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:()=>ie(ne,Fe),children:a.jsx(ss,{className:"h-4 w-4"})})]},ne)),a.jsxs(X,{type:"button",variant:"outline",size:"sm",onClick:()=>ee(Fe),children:[a.jsx(br,{className:"h-4 w-4 mr-2"}),"Add Paychex ID"]})]}),[ye,ie,ee]);return a.jsxs("div",{className:"container mx-auto py-8 space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Employment Information"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage employee employment details and compensation information"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(X,{variant:"outline",onClick:Y,disabled:T,children:[a.jsx(Tn,{className:`h-4 w-4 mr-2 ${T?"animate-spin":""}`}),"Refresh"]}),a.jsxs(X,{onClick:L,disabled:T,children:[a.jsx(br,{className:"h-4 w-4 mr-2"}),"Create Employment Record"]})]})]}),P&&a.jsx(Se,{className:"border-destructive",children:a.jsxs(Ee,{className:"pt-6",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-destructive",children:[a.jsx(ht,{className:"h-5 w-5"}),a.jsx("p",{className:"font-medium",children:"Error loading employment information"})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:M})]})}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs(Se,{children:[a.jsxs(Me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ve,{className:"text-sm font-medium",children:"Total Records"}),a.jsx(Fd,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Ee,{children:a.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),a.jsxs(Se,{children:[a.jsxs(Me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ve,{className:"text-sm font-medium",children:"W-2 Employees"}),a.jsx(Ur,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Ee,{children:a.jsx("div",{className:"text-2xl font-bold",children:O.length})})]}),a.jsxs(Se,{children:[a.jsxs(Me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ve,{className:"text-sm font-medium",children:"1099 Contractors"}),a.jsx(CY,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Ee,{children:a.jsx("div",{className:"text-2xl font-bold",children:R.length})})]}),a.jsxs(Se,{children:[a.jsxs(Me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ve,{className:"text-sm font-medium",children:"Stores"}),a.jsx(un,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Ee,{children:a.jsx("div",{className:"text-2xl font-bold",children:s.totalStores})})]})]}),le(),a.jsx(An,{open:c.open,onOpenChange:fe=>{fe||B()},children:a.jsxs(hn,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[a.jsxs(mn,{children:[a.jsx(pn,{children:"Create Employment Record"}),a.jsx(In,{children:"Set up employment information for an employee"})]}),a.jsxs("div",{className:"grid gap-6 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{htmlFor:"store",children:"Store *"}),Te(c.selectedStoreId,fe=>d(Fe=>({...Fe,selectedStoreId:fe,selectedEmployeeId:""})))]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{htmlFor:"employee",children:"Employee *"}),Ae(c.selectedEmployeeId,fe=>d(Fe=>({...Fe,selectedEmployeeId:fe})),!c.selectedStoreId)]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{htmlFor:"position",children:"Position"}),ae(c.selectedPositionId,fe=>d(Fe=>({...Fe,selectedPositionId:fe})))]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{htmlFor:"employmentType",children:"Employment Type *"}),We(c.employmentType,fe=>d(Fe=>({...Fe,employmentType:fe})))]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{children:"Paychex IDs *"}),rt(c.paychexIds)]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{htmlFor:"hiredDate",children:"Hired Date *"}),a.jsx(et,{id:"hiredDate",type:"date",value:c.hiredDate,onChange:fe=>d(Fe=>({...Fe,hiredDate:fe.target.value}))})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{htmlFor:"basePay",children:"Base Pay ($) *"}),a.jsx(et,{id:"basePay",type:"number",min:"0",step:"0.01",value:c.basePay,onChange:fe=>d(Fe=>({...Fe,basePay:fe.target.value})),placeholder:"0.00"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{htmlFor:"performancePay",children:"Performance Pay ($) *"}),a.jsx(et,{id:"performancePay",type:"number",min:"0",step:"0.01",value:c.performancePay,onChange:fe=>d(Fe=>({...Fe,performancePay:fe.target.value})),placeholder:"0.00"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($s,{id:"hasUniform",checked:c.hasUniform,onCheckedChange:fe=>d(Fe=>({...Fe,hasUniform:!!fe}))}),a.jsx($e,{htmlFor:"hasUniform",children:"Employee has uniform"})]})]}),a.jsxs(kn,{children:[a.jsx(X,{variant:"outline",onClick:B,disabled:S,children:"Cancel"}),a.jsxs(X,{onClick:q,disabled:S,children:[S&&a.jsx(bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Employment Record"]})]})]})}),a.jsx(An,{open:u.open,onOpenChange:fe=>{fe||$()},children:a.jsxs(hn,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[a.jsxs(mn,{children:[a.jsx(pn,{children:"Edit Employment Record"}),a.jsx(In,{children:"Update the employment information details"})]}),a.jsxs("div",{className:"grid gap-6 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{htmlFor:"editStore",children:"Store *"}),Te(u.selectedStoreId,fe=>l(Fe=>({...Fe,selectedStoreId:fe,selectedEmployeeId:""})))]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{htmlFor:"editEmployee",children:"Employee *"}),Ae(u.selectedEmployeeId,fe=>l(Fe=>({...Fe,selectedEmployeeId:fe})),!u.selectedStoreId)]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{htmlFor:"editPosition",children:"Position"}),ae(u.selectedPositionId,fe=>l(Fe=>({...Fe,selectedPositionId:fe})))]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{htmlFor:"editEmploymentType",children:"Employment Type *"}),We(u.employmentType,fe=>l(Fe=>({...Fe,employmentType:fe})))]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{children:"Paychex IDs *"}),rt(u.paychexIds,!0)]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{htmlFor:"editHiredDate",children:"Hired Date *"}),a.jsx(et,{id:"editHiredDate",type:"date",value:u.hiredDate,onChange:fe=>l(Fe=>({...Fe,hiredDate:fe.target.value}))})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{htmlFor:"editBasePay",children:"Base Pay ($) *"}),a.jsx(et,{id:"editBasePay",type:"number",min:"0",step:"0.01",value:u.basePay,onChange:fe=>l(Fe=>({...Fe,basePay:fe.target.value}))})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{htmlFor:"editPerformancePay",children:"Performance Pay ($) *"}),a.jsx(et,{id:"editPerformancePay",type:"number",min:"0",step:"0.01",value:u.performancePay,onChange:fe=>l(Fe=>({...Fe,performancePay:fe.target.value}))})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($s,{id:"editHasUniform",checked:u.hasUniform,onCheckedChange:fe=>l(Fe=>({...Fe,hasUniform:!!fe}))}),a.jsx($e,{htmlFor:"editHasUniform",children:"Employee has uniform"})]})]}),a.jsxs(kn,{children:[a.jsx(X,{variant:"outline",onClick:$,disabled:S,children:"Cancel"}),a.jsxs(X,{onClick:H,disabled:S,children:[S&&a.jsx(bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Employment Record"]})]})]})}),a.jsx(An,{open:f.open,onOpenChange:fe=>{fe||W()},children:a.jsxs(hn,{className:"sm:max-w-[500px]",children:[a.jsxs(mn,{children:[a.jsx(pn,{children:"Employment Information Details"}),a.jsx(In,{children:"View employment record information"})]}),f.employmentInformation&&a.jsx("div",{className:"space-y-6 py-4",children:a.jsxs("div",{className:"grid gap-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium",children:"Employee:"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ur,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:f.employmentInformation.emp_info?.full_name||"Unknown Employee"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium",children:"Store:"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(un,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:re(f.employmentInformation.emp_info?.store_id||"")})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium",children:"Position:"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(tc,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:me(f.employmentInformation.position_id)})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium",children:"Employment Type:"}),a.jsx(Ze,{variant:de(f.employmentInformation.employment_type),children:he(f.employmentInformation.employment_type)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium",children:"Paychex IDs:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:f.employmentInformation.paychex_ids.map((fe,Fe)=>a.jsx(Ze,{variant:"outline",children:fe},Fe))})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium",children:"Base Pay:"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nv,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("span",{children:["$",f.employmentInformation.base_pay]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium",children:"Performance Pay:"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nv,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("span",{children:["$",f.employmentInformation.performance_pay]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium",children:"Has Uniform:"}),a.jsx(Ze,{variant:f.employmentInformation.has_uniform?"default":"secondary",children:f.employmentInformation.has_uniform?"Yes":"No"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium",children:"Hired Date:"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ua,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:f.employmentInformation.hired_date?new Date(f.employmentInformation.hired_date).toLocaleDateString():"Not set"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium",children:"Employee Status:"}),a.jsx(Ze,{variant:"outline",children:f.employmentInformation.emp_info?.status||"Unknown"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium",children:"Created:"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(f.employmentInformation.created_at).toLocaleString()})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium",children:"Updated:"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(f.employmentInformation.updated_at).toLocaleString()})]})]})}),a.jsx(kn,{children:a.jsx(X,{onClick:W,children:"Close"})})]})}),a.jsx(Uc,{open:g.open,onOpenChange:V,children:a.jsxs(vl,{children:[a.jsxs(yl,{children:[a.jsx(wl,{children:"Delete Employment Information"}),a.jsxs(Sl,{children:["Are you sure you want to delete this employment record? This action cannot be undone.",g.employmentInformation&&a.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-md",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Employee:"})," ",g.employmentInformation.emp_info?.full_name||"Unknown Employee"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Store:"})," ",re(g.employmentInformation.emp_info?.store_id||"")]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Position:"})," ",me(g.employmentInformation.position_id)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Employment Type:"})," ",he(g.employmentInformation.employment_type)]})]})]})]}),a.jsxs(bl,{children:[a.jsx(jl,{onClick:V,children:"Cancel"}),a.jsx(Cl,{onClick:K,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete Employment Record"})]})]})})]})},imt=[a.jsx(Dt,{path:"/employment-information",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(amt,{})})})})},"employment-information-management")],omt=()=>{const e=$t(),t=pe(ae=>vbe(ae)),r=pe(ae=>ybe(ae)),n=pe(ae=>bbe(ae)),s=pe(ae=>wbe(ae)),i=pe(ae=>Sbe(ae)),o=Po(!0,{per_page:100}),c=fh(),d=Ece(),[u,l]=b.useState({open:!1,selectedStoreId:"",selectedEmployeeId:"",selectedPreferenceId:"",maximumHours:"8",employmentType:""}),[f,p]=b.useState({open:!1,schedulePreference:null,selectedStoreId:"",selectedEmployeeId:"",selectedPreferenceId:"",maximumHours:"8",employmentType:""}),[g,x]=b.useState({open:!1,schedulePreference:null}),[S,m]=b.useState({open:!1,schedulePreference:null}),[y,w]=b.useState(!1),[C,E]=b.useState(""),[N,k]=b.useState(!1);b.useEffect(()=>{(async()=>{if(!N)try{k(!0),await e(Gm()).unwrap()}catch(We){console.error("Failed to fetch schedule preferences:",We),k(!1)}})()},[e,N]);const A=b.useCallback(async()=>{try{await d.fetchPreferences()}catch(ae){console.error("Failed to fetch preferences:",ae)}},[d.fetchPreferences]);b.useEffect(()=>{A()},[]),b.useEffect(()=>{C&&c.actions.fetchEmployeesByStore(C,{per_page:100}).catch(console.error)},[C]),b.useEffect(()=>{u.selectedStoreId&&E(u.selectedStoreId)},[u.selectedStoreId]),b.useEffect(()=>{f.selectedStoreId&&E(f.selectedStoreId)},[f.selectedStoreId]);const T=b.useMemo(()=>C?c.employees.filter(ae=>ae.store_id===C):[],[c.employees,C]),P=n.fetchAll==="loading",M=i||o.loading||d.isAnyLoading,O=b.useMemo(()=>Object.values(s).some(ae=>ae!==null),[s]),R=b.useMemo(()=>O?Object.values(s).find(ae=>ae!==null):null,[O,s]),L=b.useMemo(()=>t.filter(ae=>ae.employment_type==="FT"),[t]),B=b.useMemo(()=>t.filter(ae=>ae.employment_type==="PT"),[t]),F=b.useCallback(()=>{l({open:!0,selectedStoreId:"",selectedEmployeeId:"",selectedPreferenceId:"",maximumHours:"8",employmentType:""})},[]),$=b.useCallback(()=>{l(ae=>({...ae,open:!1})),E("")},[]),z=b.useCallback(ae=>{p({open:!0,schedulePreference:ae,selectedStoreId:ae.emp_info.store_id,selectedEmployeeId:ae.emp_info_id.toString(),selectedPreferenceId:ae.preference_id.toString(),maximumHours:ae.maximum_hours.toString(),employmentType:ae.employment_type})},[]),W=b.useCallback(()=>{p(ae=>({...ae,open:!1})),E("")},[]),Z=b.useCallback(ae=>{x({open:!0,schedulePreference:ae})},[]),V=b.useCallback(()=>{x({open:!1,schedulePreference:null})},[]),q=b.useCallback(ae=>{m({open:!0,schedulePreference:ae})},[]),H=b.useCallback(()=>{m({open:!1,schedulePreference:null})},[]),K=b.useCallback(async()=>{try{if(w(!0),!u.selectedStoreId||!u.selectedEmployeeId||!u.selectedPreferenceId||!u.employmentType){Ye.error("Validation Error",{description:"Please fill in all required fields"});return}const ae={emp_info_id:parseInt(u.selectedEmployeeId),preference_id:parseInt(u.selectedPreferenceId),maximum_hours:parseInt(u.maximumHours)||8,employment_type:u.employmentType},We=Ye.loading("Creating schedule preference...",{description:"Please wait while we save your changes."}),rt=await e(bv(ae));if(bv.fulfilled.match(rt))Ye.dismiss(We),Ye.success("Schedule preference created successfully",{description:"The new schedule preference has been added to the system."}),$();else throw new Error(rt.payload||"Failed to create schedule preference")}catch(ae){console.error("Failed to create schedule preference:",ae);const We=ae instanceof Error?ae.message:"Unknown error occurred";Ye.error("Failed to create schedule preference",{description:We})}finally{w(!1)}},[u,e,$]),Y=b.useCallback(async()=>{if(f.schedulePreference)try{if(w(!0),!f.selectedStoreId||!f.selectedEmployeeId||!f.selectedPreferenceId||!f.employmentType){Ye.error("Validation Error",{description:"Please fill in all required fields"});return}const ae={emp_info_id:parseInt(f.selectedEmployeeId),preference_id:parseInt(f.selectedPreferenceId),maximum_hours:parseInt(f.maximumHours)||8,employment_type:f.employmentType},We=Ye.loading("Updating schedule preference...",{description:"Please wait while we save your changes."}),rt=await e(wv({id:f.schedulePreference.id,data:ae}));if(wv.fulfilled.match(rt))Ye.dismiss(We),Ye.success("Schedule preference updated successfully",{description:"The schedule preference changes have been saved."}),W();else throw new Error(rt.payload||"Failed to update schedule preference")}catch(ae){console.error("Failed to update schedule preference:",ae);const We=ae instanceof Error?ae.message:"Unknown error occurred";Ye.error("Failed to update schedule preference",{description:We})}finally{w(!1)}},[f,e,W]),re=b.useCallback(async()=>{if(S.schedulePreference)try{const ae=Ye.loading("Deleting schedule preference...",{description:"Please wait while we remove the preference."}),We=await e(Sv({id:S.schedulePreference.id}));if(Sv.fulfilled.match(We))Ye.dismiss(ae),Ye.success("Schedule preference deleted successfully",{description:"The schedule preference has been removed from the system."}),H();else throw new Error(We.payload||"Failed to delete schedule preference")}catch(ae){console.error("Failed to delete schedule preference:",ae);const We=ae instanceof Error?ae.message:"Unknown error occurred";Ye.error("Failed to delete schedule preference",{description:We})}},[S.schedulePreference,e,H]),me=b.useCallback(async()=>{try{Ye.info("Refreshing data...",{description:"Fetching the latest schedule preferences."});const ae=await e(Gm());if(Gm.fulfilled.match(ae))Ye.success("Data refreshed successfully",{description:"Schedule preferences have been updated."});else throw new Error(ae.payload||"Failed to refresh data")}catch(ae){console.error("Failed to refresh schedule preferences:",ae),Ye.error("Failed to refresh data",{description:"Please try again later."})}},[e]),de=b.useCallback(ae=>o.stores.find(rt=>rt.id===ae)?.name||ae,[o.stores]),he=b.useCallback(ae=>ae==="FT"?"default":"secondary",[]),ee=b.useCallback(ae=>ae==="FT"?"Full Time":"Part Time",[]),ie=()=>P?a.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((ae,We)=>a.jsx(Xe,{className:"h-16 w-full"},We))}):t.length===0?a.jsx(Se,{children:a.jsxs(Ee,{className:"flex flex-col items-center justify-center py-16",children:[a.jsx(ua,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Schedule Preferences"}),a.jsx("p",{className:"text-muted-foreground text-center mb-6",children:"Get started by creating your first schedule preference"}),a.jsxs(X,{onClick:F,children:[a.jsx(br,{className:"h-4 w-4 mr-2"}),"Create Schedule Preference"]})]})}):a.jsx(Se,{children:a.jsx(Ee,{className:"p-0",children:a.jsxs(rn,{children:[a.jsx(nn,{children:a.jsxs(_t,{children:[a.jsx(Re,{children:"Employee"}),a.jsx(Re,{children:"Store"}),a.jsx(Re,{children:"Preference"}),a.jsx(Re,{children:"Max Hours"}),a.jsx(Re,{children:"Employment Type"}),a.jsx(Re,{children:"Created At"}),a.jsx(Re,{className:"text-right",children:"Actions"})]})}),a.jsx(sn,{children:t.map(ae=>a.jsxs(_t,{children:[a.jsx(ke,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ur,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:ae.emp_info.full_name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Status: ",ae.emp_info.status]})]})]})}),a.jsx(ke,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(un,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:de(ae.emp_info.store_id)})]})}),a.jsx(ke,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(tc,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:ae.preference.name})]})}),a.jsx(ke,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(dc,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("span",{children:[ae.maximum_hours," hours"]})]})}),a.jsx(ke,{children:a.jsx(Ze,{variant:he(ae.employment_type),children:ee(ae.employment_type)})}),a.jsx(ke,{className:"text-sm text-muted-foreground",children:new Date(ae.created_at).toLocaleDateString()}),a.jsx(ke,{className:"text-right",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Z(ae),children:a.jsx(Cs,{className:"h-4 w-4"})}),a.jsx(X,{variant:"ghost",size:"sm",onClick:()=>z(ae),children:a.jsx(vi,{className:"h-4 w-4"})}),a.jsx(X,{variant:"ghost",size:"sm",onClick:()=>q(ae),children:a.jsx(ss,{className:"h-4 w-4 text-destructive"})})]})})]},ae.id))})]})})}),ye=b.useCallback((ae,We,rt="Select store...")=>a.jsxs(Wt,{value:ae,onValueChange:We,children:[a.jsx(zt,{children:a.jsx(qt,{placeholder:rt})}),a.jsx(Ut,{children:o.stores.map(fe=>a.jsx(pt,{value:fe.id,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(un,{className:"h-4 w-4"}),a.jsx("span",{children:fe.name})]})},fe.id))})]}),[o.stores]),le=b.useCallback((ae,We,rt=!1)=>a.jsxs(Wt,{value:ae,onValueChange:We,disabled:rt,children:[a.jsx(zt,{children:a.jsx(qt,{placeholder:rt?"Select store first...":"Select employee..."})}),a.jsx(Ut,{children:T.map(fe=>a.jsx(pt,{value:fe.id.toString(),children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ur,{className:"h-4 w-4"}),a.jsxs("div",{children:[a.jsx("span",{children:fe.full_name}),a.jsxs("span",{className:"text-sm text-muted-foreground ml-1",children:["(",fe.status,")"]})]})]})},fe.id))})]}),[T]),Te=b.useCallback((ae,We)=>a.jsxs(Wt,{value:ae,onValueChange:We,children:[a.jsx(zt,{children:a.jsx(qt,{placeholder:"Select preference..."})}),a.jsx(Ut,{children:d.preferences.map(rt=>a.jsx(pt,{value:rt.id.toString(),children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(tc,{className:"h-4 w-4"}),a.jsx("span",{children:rt.name})]})},rt.id))})]}),[d.preferences]),Ae=b.useCallback((ae,We)=>a.jsxs(Wt,{value:ae,onValueChange:We,children:[a.jsx(zt,{children:a.jsx(qt,{placeholder:"Select employment type..."})}),a.jsxs(Ut,{children:[a.jsx(pt,{value:"FT",children:a.jsx(Ze,{variant:"default",children:"Full Time"})}),a.jsx(pt,{value:"PT",children:a.jsx(Ze,{variant:"secondary",children:"Part Time"})})]})]}),[]);return a.jsxs("div",{className:"container mx-auto py-8 space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Schedule Preferences"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage employee schedule preferences and work arrangements"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(X,{variant:"outline",onClick:me,disabled:M,children:[a.jsx(Tn,{className:`h-4 w-4 mr-2 ${M?"animate-spin":""}`}),"Refresh"]}),a.jsxs(X,{onClick:F,disabled:M,children:[a.jsx(br,{className:"h-4 w-4 mr-2"}),"Create Schedule Preference"]})]})]}),O&&a.jsx(Se,{className:"border-destructive",children:a.jsxs(Ee,{className:"pt-6",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-destructive",children:[a.jsx(ht,{className:"h-5 w-5"}),a.jsx("p",{className:"font-medium",children:"Error loading schedule preferences"})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:R})]})}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs(Se,{children:[a.jsxs(Me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ve,{className:"text-sm font-medium",children:"Total Preferences"}),a.jsx(ua,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Ee,{children:a.jsx("div",{className:"text-2xl font-bold",children:r})})]}),a.jsxs(Se,{children:[a.jsxs(Me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ve,{className:"text-sm font-medium",children:"Full Time"}),a.jsx(tc,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Ee,{children:a.jsx("div",{className:"text-2xl font-bold",children:L.length})})]}),a.jsxs(Se,{children:[a.jsxs(Me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ve,{className:"text-sm font-medium",children:"Part Time"}),a.jsx(dc,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Ee,{children:a.jsx("div",{className:"text-2xl font-bold",children:B.length})})]}),a.jsxs(Se,{children:[a.jsxs(Me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ve,{className:"text-sm font-medium",children:"Stores"}),a.jsx(un,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Ee,{children:a.jsx("div",{className:"text-2xl font-bold",children:o.totalStores})})]})]}),ie(),a.jsx(An,{open:u.open,onOpenChange:ae=>{ae||$()},children:a.jsxs(hn,{className:"sm:max-w-[600px]",children:[a.jsxs(mn,{children:[a.jsx(pn,{children:"Create Schedule Preference"}),a.jsx(In,{children:"Set up a new schedule preference for an employee"})]}),a.jsxs("div",{className:"grid gap-6 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{htmlFor:"store",children:"Store"}),ye(u.selectedStoreId,ae=>l(We=>({...We,selectedStoreId:ae,selectedEmployeeId:""})))]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{htmlFor:"employee",children:"Employee"}),le(u.selectedEmployeeId,ae=>l(We=>({...We,selectedEmployeeId:ae})),!u.selectedStoreId)]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{htmlFor:"preference",children:"Preference"}),Te(u.selectedPreferenceId,ae=>l(We=>({...We,selectedPreferenceId:ae})))]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{htmlFor:"maximumHours",children:"Maximum Hours"}),a.jsx(et,{id:"maximumHours",type:"number",min:"1",max:"24",value:u.maximumHours,onChange:ae=>l(We=>({...We,maximumHours:ae.target.value})),placeholder:"8"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{htmlFor:"employmentType",children:"Employment Type"}),Ae(u.employmentType,ae=>l(We=>({...We,employmentType:ae})))]})]}),a.jsxs(kn,{children:[a.jsx(X,{variant:"outline",onClick:$,disabled:y,children:"Cancel"}),a.jsxs(X,{onClick:K,disabled:y,children:[y&&a.jsx(bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Schedule Preference"]})]})]})}),a.jsx(An,{open:f.open,onOpenChange:ae=>{ae||W()},children:a.jsxs(hn,{className:"sm:max-w-[600px]",children:[a.jsxs(mn,{children:[a.jsx(pn,{children:"Edit Schedule Preference"}),a.jsx(In,{children:"Update the schedule preference details"})]}),a.jsxs("div",{className:"grid gap-6 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{htmlFor:"editStore",children:"Store"}),ye(f.selectedStoreId,ae=>p(We=>({...We,selectedStoreId:ae,selectedEmployeeId:""})))]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{htmlFor:"editEmployee",children:"Employee"}),le(f.selectedEmployeeId,ae=>p(We=>({...We,selectedEmployeeId:ae})),!f.selectedStoreId)]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{htmlFor:"editPreference",children:"Preference"}),Te(f.selectedPreferenceId,ae=>p(We=>({...We,selectedPreferenceId:ae})))]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{htmlFor:"editMaximumHours",children:"Maximum Hours"}),a.jsx(et,{id:"editMaximumHours",type:"number",min:"1",max:"24",value:f.maximumHours,onChange:ae=>p(We=>({...We,maximumHours:ae.target.value}))})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx($e,{htmlFor:"editEmploymentType",children:"Employment Type"}),Ae(f.employmentType,ae=>p(We=>({...We,employmentType:ae})))]})]}),a.jsxs(kn,{children:[a.jsx(X,{variant:"outline",onClick:W,disabled:y,children:"Cancel"}),a.jsxs(X,{onClick:Y,disabled:y,children:[y&&a.jsx(bt,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Schedule Preference"]})]})]})}),a.jsx(An,{open:g.open,onOpenChange:ae=>{ae||V()},children:a.jsxs(hn,{className:"sm:max-w-[500px]",children:[a.jsxs(mn,{children:[a.jsx(pn,{children:"Schedule Preference Details"}),a.jsx(In,{children:"View schedule preference information"})]}),g.schedulePreference&&a.jsx("div",{className:"space-y-6 py-4",children:a.jsxs("div",{className:"grid gap-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium",children:"Employee:"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ur,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:g.schedulePreference.emp_info.full_name})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium",children:"Store:"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(un,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:de(g.schedulePreference.emp_info.store_id)})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium",children:"Preference:"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(tc,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:g.schedulePreference.preference.name})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium",children:"Maximum Hours:"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(dc,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("span",{children:[g.schedulePreference.maximum_hours," hours"]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium",children:"Employment Type:"}),a.jsx(Ze,{variant:he(g.schedulePreference.employment_type),children:ee(g.schedulePreference.employment_type)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium",children:"Employee Status:"}),a.jsx(Ze,{variant:"outline",children:g.schedulePreference.emp_info.status})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium",children:"Created:"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(g.schedulePreference.created_at).toLocaleString()})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium",children:"Updated:"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(g.schedulePreference.updated_at).toLocaleString()})]})]})}),a.jsx(kn,{children:a.jsx(X,{onClick:V,children:"Close"})})]})}),a.jsx(Uc,{open:S.open,onOpenChange:H,children:a.jsxs(vl,{children:[a.jsxs(yl,{children:[a.jsx(wl,{children:"Delete Schedule Preference"}),a.jsxs(Sl,{children:["Are you sure you want to delete this schedule preference? This action cannot be undone.",S.schedulePreference&&a.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-md",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Employee:"})," ",S.schedulePreference.emp_info.full_name]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Store:"})," ",de(S.schedulePreference.emp_info.store_id)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Preference:"})," ",S.schedulePreference.preference.name]})]})]})]}),a.jsxs(bl,{children:[a.jsx(jl,{onClick:H,children:"Cancel"}),a.jsx(Cl,{onClick:re,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete Schedule Preference"})]})]})})]})},lmt=[a.jsx(Dt,{path:"/schedule-preferences",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(omt,{})})})})},"schedule-preferences-management")];var VP={exports:{}};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var WP,SW;function cmt(){if(SW)return WP;SW=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function n(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function s(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var o={},c=0;c<10;c++)o["_"+String.fromCharCode(c)]=c;var d=Object.getOwnPropertyNames(o).map(function(l){return o[l]});if(d.join("")!=="0123456789")return!1;var u={};return"abcdefghijklmnopqrst".split("").forEach(function(l){u[l]=l}),Object.keys(Object.assign({},u)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return WP=s()?Object.assign:function(i,o){for(var c,d=n(i),u,l=1;l<arguments.length;l++){c=Object(arguments[l]);for(var f in c)t.call(c,f)&&(d[f]=c[f]);if(e){u=e(c);for(var p=0;p<u.length;p++)r.call(c,u[p])&&(d[u[p]]=c[u[p]])}}return d},WP}var qP,CW;function dmt(){if(CW)return qP;CW=1;var e=cmt(),t={};function r(o,c,d,u,l,f,p,g){if(!o){var x;if(c===void 0)x=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var S=[d,u,l,f,p,g],m=0;x=new Error(c.replace(/%s/g,function(){return S[m++]})),x.name="Invariant Violation"}throw x.framesToPop=1,x}}var n="mixins";function s(o){return o}function i(o,c,d){var u=[],l={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},f={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},p={displayName:function(M,O){M.displayName=O},mixins:function(M,O){if(O)for(var R=0;R<O.length;R++)x(M,O[R])},childContextTypes:function(M,O){M.childContextTypes=e({},M.childContextTypes,O)},contextTypes:function(M,O){M.contextTypes=e({},M.contextTypes,O)},getDefaultProps:function(M,O){M.getDefaultProps?M.getDefaultProps=y(M.getDefaultProps,O):M.getDefaultProps=O},propTypes:function(M,O){M.propTypes=e({},M.propTypes,O)},statics:function(M,O){S(M,O)},autobind:function(){}};function g(M,O){var R=l.hasOwnProperty(O)?l[O]:null;A.hasOwnProperty(O)&&r(R==="OVERRIDE_BASE","ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",O),M&&r(R==="DEFINE_MANY"||R==="DEFINE_MANY_MERGED","ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",O)}function x(M,O){if(O){r(typeof O!="function","ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),r(!c(O),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var R=M.prototype,L=R.__reactAutoBindPairs;O.hasOwnProperty(n)&&p.mixins(M,O.mixins);for(var B in O)if(O.hasOwnProperty(B)&&B!==n){var F=O[B],$=R.hasOwnProperty(B);if(g($,B),p.hasOwnProperty(B))p[B](M,F);else{var z=l.hasOwnProperty(B),W=typeof F=="function",Z=W&&!z&&!$&&O.autobind!==!1;if(Z)L.push(B,F),R[B]=F;else if($){var V=l[B];r(z&&(V==="DEFINE_MANY_MERGED"||V==="DEFINE_MANY"),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",V,B),V==="DEFINE_MANY_MERGED"?R[B]=y(R[B],F):V==="DEFINE_MANY"&&(R[B]=w(R[B],F))}else R[B]=F}}}}function S(M,O){if(O)for(var R in O){var L=O[R];if(O.hasOwnProperty(R)){var B=R in p;r(!B,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',R);var F=R in M;if(F){var $=f.hasOwnProperty(R)?f[R]:null;r($==="DEFINE_MANY_MERGED","ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",R),M[R]=y(M[R],L);return}M[R]=L}}}function m(M,O){r(M&&O&&typeof M=="object"&&typeof O=="object","mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var R in O)O.hasOwnProperty(R)&&(r(M[R]===void 0,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",R),M[R]=O[R]);return M}function y(M,O){return function(){var L=M.apply(this,arguments),B=O.apply(this,arguments);if(L==null)return B;if(B==null)return L;var F={};return m(F,L),m(F,B),F}}function w(M,O){return function(){M.apply(this,arguments),O.apply(this,arguments)}}function C(M,O){var R=O.bind(M);return R}function E(M){for(var O=M.__reactAutoBindPairs,R=0;R<O.length;R+=2){var L=O[R],B=O[R+1];M[L]=C(M,B)}}var N={componentDidMount:function(){this.__isMounted=!0}},k={componentWillUnmount:function(){this.__isMounted=!1}},A={replaceState:function(M,O){this.updater.enqueueReplaceState(this,M,O)},isMounted:function(){return!!this.__isMounted}},T=function(){};e(T.prototype,o.prototype,A);function P(M){var O=function(L,B,F){this.__reactAutoBindPairs.length&&E(this),this.props=L,this.context=B,this.refs=t,this.updater=F||d,this.state=null;var $=this.getInitialState?this.getInitialState():null;r(typeof $=="object"&&!Array.isArray($),"%s.getInitialState(): must return an object or null",O.displayName||"ReactCompositeComponent"),this.state=$};O.prototype=new T,O.prototype.constructor=O,O.prototype.__reactAutoBindPairs=[],u.forEach(x.bind(null,O)),x(O,N),x(O,M),x(O,k),O.getDefaultProps&&(O.defaultProps=O.getDefaultProps()),r(O.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var R in l)O.prototype[R]||(O.prototype[R]=null);return O}return P}return qP=i,qP}var GP,jW;function umt(){if(jW)return GP;jW=1;var e=Yd(),t=dmt();if(typeof e>"u")throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var r=new e.Component().updater;return GP=t(e.Component,e.isValidElement,r),GP}var EW;function fmt(){if(EW)return VP.exports;EW=1;var e={};if(typeof e>"u")var e={};if(function(){function t(o){var c=e.Date.Cache.Ticks;if(c[o])return e.Stats.cacheHitsTicks+=1,c[o];var d,u=new Date(o),l=u.getUTCMilliseconds();d=l===0?"":l<10?".00"+l:l<100?".0"+l:"."+l;var f=u.getUTCSeconds();f<10&&(f="0"+f);var p=u.getUTCMinutes();p<10&&(p="0"+p);var g=u.getUTCHours();g<10&&(g="0"+g);var x=u.getUTCDate();x<10&&(x="0"+x);var S=u.getUTCMonth()+1;S<10&&(S="0"+S);var m=u.getUTCFullYear();if(m<=0)throw"The minimum year supported is 1.";m<10?m="000"+m:m<100?m="00"+m:m<1e3&&(m="0"+m);var y=m+"-"+S+"-"+x+"T"+g+":"+p+":"+f+d;return c[o]=y,y}function r(o,c){return!e.Util.isNullOrUndefined(o)&&!e.Util.isNullOrUndefined(c)&&o.toLocaleLowerCase()===c.toLocaleLowerCase()}function n(o){o=Math.min(o,255),o=Math.max(o,0);var c=o.toString(16);return o<16?"0"+c:c}if(typeof e.$>"u"){typeof e.Global>"u"&&(e.Global={}),e.$=function(o){return document.getElementById(o)},Object.defineProperty(e,"isKhtml",{get:function(){return typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.indexOf("KHTML")!==-1}}),e.touch={},e.touch.start="touchstart",e.touch.move="touchmove",e.touch.end="touchend",e.mo2=function(o,c){if(typeof c.offsetX<"u"){var d={x:c.offsetX+1,y:c.offsetY+1};if(!o)return d;for(var u=c.srcElement;u&&u!==o;)u.tagName!=="SPAN"&&(d.x+=u.offsetLeft,u.offsetTop>0&&(d.y+=u.offsetTop-u.scrollTop)),u=u.offsetParent;return u?d:null}if(typeof c.layerX<"u"){var d={x:c.layerX,y:c.layerY,src:c.target};if(!o)return d;for(var u=c.target;u&&u.style.position!=="absolute"&&u.style.position!=="relative";)u=u.parentNode,e.isKhtml&&(d.y+=u.scrollTop);for(;u&&u!==o;)d.x+=u.offsetLeft,d.y+=u.offsetTop-u.scrollTop,u=u.offsetParent;return u?d:null}return null},e.mo3=function(o,c){var d,u=e.page(c);if(u)if(o){var l=e.abs(o);if(!l)throw new Error("no abs");d={x:u.x-l.x,y:u.y-l.y}}else d={x:u.x,y:u.y};else if(d=e.mo2(o,c),!d)return null;return d.shift=c.shiftKey,d.meta=c.metaKey,d.ctrl=c.ctrlKey,d.alt=c.altKey,d},e.browser={},Object.defineProperty(e.browser,"hover",{get:function(){return!window.matchMedia("(any-hover: none)").matches}}),e.touch={},e.debounce=function(o,c){var d;return function(){var u=this,l=arguments,f=function(){d=null,o.apply(u,l)};clearTimeout(d),d=setTimeout(f,c)}},e.page=function(o){var c=o.changedTouches&&o.changedTouches[0]?o.changedTouches[0]:o;return typeof c.pageX<"u"?{x:c.pageX,y:c.pageY}:typeof o.clientX<"u"&&document.body&&document.documentElement?{x:o.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,y:o.clientY+document.body.scrollTop+document.documentElement.scrollTop}:null},e.abs=function(o,c){if(!o)return null;if(o.getBoundingClientRect){var d=e.absBoundingClientBased(o);if(c){var u=e.absOffsetBased(o,!1),c=e.absOffsetBased(o,!0);d.x+=c.x-u.x,d.y+=c.y-u.y,d.w=c.w,d.h=c.h}return d}return e.absOffsetBased(o,c)},e.absBoundingClientBased=function(o){var c=o.getBoundingClientRect();return{x:c.left+window.pageXOffset,y:c.top+window.pageYOffset,w:o.clientWidth,h:o.clientHeight,toString:function(){return"x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h}}},e.absOffsetBased=function(o,c){for(var d={x:o.offsetLeft,y:o.offsetTop,w:o.clientWidth,h:o.clientHeight,toString:function(){return"x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h}};o.offsetParent;)o=o.offsetParent,d.x-=o.scrollLeft,d.y-=o.scrollTop,c&&(d.x<0&&(d.w+=d.x,d.x=0),d.y<0&&(d.h+=d.y,d.y=0),o.scrollLeft>0&&d.x+d.w>o.clientWidth&&(d.w-=d.x+d.w-o.clientWidth),o.scrollTop&&d.y+d.h>o.clientHeight&&(d.h-=d.y+d.h-o.clientHeight)),d.x+=o.offsetLeft,d.y+=o.offsetTop;var u=e.pageOffset();return d.x+=u.x,d.y+=u.y,d},e.isArray=function(o){return Object.prototype.toString.call(o)==="[object Array]"},e.distance=function(o,c){return Math.sqrt(Math.pow(o.x-c.x,2)+Math.pow(o.y-c.y,2))},e.sheet=function(){function o(){for(var l=document.querySelectorAll("style[nonce]"),f=0;f<l.length;f++){var p=l[f];if(p.nonce)return p.nonce}if(document.currentScript&&document.currentScript.nonce)return document.currentScript.nonce;for(var g=document.querySelectorAll("script[nonce]"),x=0;x<g.length;x++){var S=g[x];if(S.nonce)return S.nonce}return""}if(typeof window>"u"){var u={};return u.add=function(){},u.commit=function(){},u}var c=document.createElement("style");c.nonce=o(),c.styleSheet||c.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(c);var d=!!c.styleSheet,u={};return u.rules=[],u.commit=function(){d&&(c.styleSheet.cssText=this.rules.join(`
`))},u.add=function(l,f,p){return d?void this.rules.push(l+"{"+f+"}"):void(c.sheet.insertRule?(typeof p>"u"&&(p=c.sheet.cssRules.length),c.sheet.insertRule(l+"{"+f+"}",p)):c.sheet.addRule&&c.sheet.addRule(l,f,p))},u},e.gs=function(o,c){return window.getComputedStyle(o,null).getPropertyValue(c)||""},e.StyleReader=function(o){this.get=function(c){return o?e.gs(o,c):null},this.getPx=function(c){var d=this.get(c);return d.indexOf("px")===-1?void 0:parseInt(d,10)}},function(){if(!e.Global.defaultCss){var o=e.sheet();o.add(".menu_default_main","user-select:none; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;font-size: 13px;border: 1px solid #dddddd;background-color: white;padding: 0px;cursor: default;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAABCAIAAABG0om7AAAAKXRFWHRDcmVhdGlvbiBUaW1lAHBvIDEwIDUgMjAxMCAyMjozMzo1OSArMDEwMGzy7+IAAAAHdElNRQfaBQoUJAesj4VUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAABGdBTUEAALGPC/xhBQAAABVJREFUeNpj/P//PwO1weMnT2RlZAAYuwX/4oA3BgAAAABJRU5ErkJggg==);background-repeat: repeat-y;xborder-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);"),o.add(".menu_default_main, .menu_default_main *, .menu_default_main *:before, .menu_default_main *:after","box-sizing: content-box;"),o.add(".menu_default_title","background-color: #f2f2f2;border-bottom: 1px solid gray;padding: 4px 4px 4px 37px;"),o.add(".menu_default_main a","padding: 2px 2px 2px 35px;color: black;text-decoration: none;cursor: default;"),o.add(".menu_default_main.menu_default_withchildren a","padding: 2px 35px 2px 35px;"),o.add(".menu_default_main a img","margin-left: 6px;margin-top: 2px;"),o.add(".menu_default_item_text","display: block;height: 20px;line-height: 20px; overflow:hidden;padding-left: 2px;padding-right: 20px; white-space: nowrap;"),o.add(".menu_default_main a:hover","background-color: #f3f3f3;"),o.add(".menu_default_main div div","border-top: 1px solid #dddddd;margin-top: 2px;margin-bottom: 2px;margin-left: 28px;"),o.add(".menu_default_main a.menu_default_item_disabled","color: #ccc"),o.add(".menu_default_item_haschildren.menu_default_item_haschildren_active","background-color: #f3f3f3;"),o.add(".menu_default_item_haschildren a:before","content: ''; border-width: 5px; border-color: transparent transparent transparent #666; border-style: solid; width: 0px; height:0px; position: absolute; right: 5px; margin-top: 5px;"),o.add(".menu_default_item_icon","position: absolute; top:0px; left: 0px; padding: 2px 2px 2px 8px;"),o.add(".menu_default_item a i","height: 20px;line-height: 20px;"),o.add(".menu_default_item .menu_default_item_symbol","width: 18px; height: 18px; color: #999; margin-left: 6px;margin-top: 2px;"),o.add(".menubar_default_main","border-bottom: 1px solid #ccc; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px; user-select:none;"),o.add(".menubar_default_item","display: inline-block;  padding: 6px 10px; cursor: default;"),o.add(".menubar_default_item:hover","background-color: #f2f2f2;"),o.add(".menubar_default_item_active","background-color: #f2f2f2;"),o.add(".calendar_default_main","  --dp-calendar-border-color: #c0c0c0;  --dp-calendar-font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;  --dp-calendar-font-size: 13px;  --dp-calendar-header-bg-color: #f3f3f3;  --dp-calendar-header-color: #333;  --dp-calendar-colheader-padding: 0px;  --dp-calendar-rowheader-font-size: 16pt;  --dp-calendar-rowheader-padding: 3px;  --dp-calendar-cell-bg-color: #f9f9f9;  --dp-calendar-cell-business-bg-color: #ffffff;  --dp-calendar-cell-border-color: #ddd;  --dp-calendar-colheader-horizontal-align: center;  --dp-calendar-colheader-vertical-align: center;  --dp-calendar-allday-event-color: #333;  --dp-calendar-allday-event-border-color: #999;  --dp-calendar-allday-event-border: 1px solid var(--dp-calendar-allday-event-border-color);  --dp-calendar-allday-event-border-radius: 0px;  --dp-calendar-allday-event-bg-top-color: #ffffff;  --dp-calendar-allday-event-bg-bottom-color: #eeeeee;  --dp-calendar-allday-event-background: linear-gradient(to bottom, var(--dp-calendar-allday-event-bg-top-color) 0%, var(--dp-calendar-allday-event-bg-bottom-color) 100%);  --dp-calendar-allday-event-box-shadow: none;  --dp-calendar-allday-event-padding: 4px;  --dp-calendar-allday-event-horizontal-align: flex-start;  --dp-calendar-event-color: #333;  --dp-calendar-event-border-color: #999;  --dp-calendar-event-border: 1px solid var(--dp-calendar-event-border-color);  --dp-calendar-event-border-radius: 0px;  --dp-calendar-event-box-shadow: none;  --dp-calendar-event-bg-top-color: #ffffff;  --dp-calendar-event-bg-bottom-color: #eeeeee;  --dp-calendar-event-background: linear-gradient(to bottom, var(--dp-calendar-event-bg-top-color) 0%, var(--dp-calendar-event-bg-bottom-color) 100%);  --dp-calendar-event-bar-bg-color: #9dc8e8;  --dp-calendar-event-bar-color: #1066a8;  --dp-calendar-event-bar-width: 6px;  --dp-calendar-event-bar-left: 0px;  --dp-calendar-event-bar-bottom: 0px;  --dp-calendar-event-bar-top: 0px;  --dp-calendar-event-bar-display: block;  --dp-calendar-event-padding: 2px;  --dp-calendar-event-padding-left: 8px;  --dp-calendar-message-bg-color: #ffa216;  --dp-calendar-message-color: #ffffff;  --dp-calendar-message-padding: 10px;  --dp-calendar-message-opacity: 0.9;  --dp-calendar-selected-event-bg-color: #ddd;  --dp-calendar-shadow-color: #bbbbbb;  --dp-calendar-shadow-border-color: #888888;  --dp-calendar-forbidden-shadow-border-color: #cc0000;  --dp-calendar-forbidden-shadow-bg-color: #cc4125;  --dp-calendar-now-indicator-color: red;  --dp-calendar-scroll-bg-color: #f3f3f3;"),o.add(".calendar_default_main *, .calendar_default_main *:before, .calendar_default_main *:after","box-sizing: content-box;"),o.add(".calendar_default_main","border:1px solid var(--dp-calendar-border-color); font-family:var(--dp-calendar-font-family); font-size:var(--dp-calendar-font-size);"),o.add(".calendar_default_rowheader_inner, .calendar_default_cornerright_inner, .calendar_default_corner_inner, .calendar_default_colheader_inner, .calendar_default_alldayheader_inner","color: var(--dp-calendar-header-color); background: var(--dp-calendar-header-bg-color);"),o.add(".calendar_default_colheader_back","background: var(--dp-calendar-header-bg-color); border-bottom: 1px solid red;"),o.add(".calendar_default_colheader_back_inner","position: absolute; inset: 0; border-bottom: 1px solid var(--dp-calendar-border-color);"),o.add(".calendar_default_cornerright_inner","position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; border-bottom: 1px solid var(--dp-calendar-border-color);"),o.add(".calendar_default_direction_rtl .calendar_default_cornerright_inner","border-right: 1px solid var(--dp-calendar-border-color);"),o.add(".calendar_default_rowheader_inner","font-size: var(--dp-calendar-rowheader-font-size); text-align: right; position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; border-right: 1px solid var(--dp-calendar-border-color); border-bottom: 1px solid var(--dp-calendar-border-color); padding: var(--dp-calendar-rowheader-padding);"),o.add(".calendar_default_rowheader_simple .calendar_default_rowheader_inner","font-size: inherit; display: flex; align-items: center; justify-content: center; white-space: nowrap;"),o.add(".calendar_default_direction_rtl .calendar_default_rowheader_inner","border-right: none;"),o.add(".calendar_default_corner_inner","position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; border-right: 1px solid var(--dp-calendar-border-color); border-bottom: 1px solid var(--dp-calendar-border-color);"),o.add(".calendar_default_direction_rtl .calendar_default_corner_inner","border-right: none;"),o.add(".calendar_default_rowheader_minutes","font-size: 10px; vertical-align: super; padding-left: 2px; padding-right: 2px;"),o.add(".calendar_default_colheader_inner","position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; padding: var(--dp-calendar-colheader-padding);border-right: 1px solid var(--dp-calendar-border-color); border-bottom: 1px solid var(--dp-calendar-border-color); display: flex; align-items: var(--dp-calendar-colheader-vertical-align); justify-content: var(--dp-calendar-colheader-horizontal-align);"),o.add(".calendar_default_cell_inner","position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; border-right: 1px solid var(--dp-calendar-cell-border-color); border-bottom: 1px solid var(--dp-calendar-cell-border-color); background: var(--dp-calendar-cell-bg-color);"),o.add(".calendar_default_cell_business .calendar_default_cell_inner","background: var(--dp-calendar-cell-business-bg-color);"),o.add(".calendar_default_alldayheader_inner","text-align: center; position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; border-right: 1px solid var(--dp-calendar-border-color); border-bottom: 1px solid var(--dp-calendar-border-color);"),o.add(".calendar_default_message","opacity: var(--dp-calendar-message-opacity); padding: var(--dp-calendar-message-padding); color: var(--dp-calendar-message-color); background: var(--dp-calendar-message-bg-color);"),o.add(".calendar_default_event_inner","color: var(--dp-calendar-event-color); border: var(--dp-calendar-event-border); border-radius: var(--dp-calendar-event-border-radius); background: var(--dp-calendar-event-background);"),o.add(".calendar_default_alldayevent","box-shadow: var(--dp-calendar-allday-event-box-shadow); border-radius: var(--dp-calendar-allday-event-border-radius);"),o.add(".calendar_default_alldayevent_inner","color: var(--dp-calendar-allday-event-color); border: var(--dp-calendar-allday-event-border); border-radius: var(--dp-calendar-allday-event-border-radius); background: var(--dp-calendar-allday-event-background);"),o.add(".calendar_default_event_bar","display: var(--dp-calendar-event-bar-display); top: var(--dp-calendar-event-bar-top); bottom: var(--dp-calendar-event-bar-bottom); left: var(--dp-calendar-event-bar-left); width: var(--dp-calendar-event-bar-width); background-color: var(--dp-calendar-event-bar-bg-color);"),o.add(".calendar_default_direction_rtl .calendar_default_event_bar","top: 0px; bottom: 0px; right: 0px; width: var(--dp-calendar-event-bar-width); background-color: var(--dp-calendar-event-bar-bg-color);"),o.add(".calendar_default_event_bar_inner","position: absolute; width: var(--dp-calendar-event-bar-width); background-color: var(--dp-calendar-event-bar-color);"),o.add(".calendar_default_selected .calendar_default_event_inner","background: var(--dp-calendar-selected-event-bg-color);"),o.add(".calendar_default_alldayevent_inner","position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px; overflow: hidden; padding: var(--dp-calendar-allday-event-padding); margin-right: 0px; display: flex; align-items: center; justify-content: var(--dp-calendar-allday-event-horizontal-align);"),o.add(".calendar_default_event_withheader .calendar_default_event_inner","padding-top: 15px;"),o.add(".calendar_default_event","box-shadow: var(--dp-calendar-event-box-shadow); border-radius: var(--dp-calendar-event-border-radius); cursor: default;"),o.add(".calendar_default_event_inner","position: absolute; overflow: hidden; top: 0px; bottom: 0px; left: 0px; right: 0px; padding: var(--dp-calendar-event-padding) var(--dp-calendar-event-padding) var(--dp-calendar-event-padding) var(--dp-calendar-event-padding-left);"),o.add(".calendar_default_direction_rtl .calendar_default_event_inner","padding: 2px 8px 2px 2px;"),o.add(".calendar_default_shadow_inner","box-sizing: border-box; background-color: var(--dp-calendar-shadow-color); border: 1px solid var(--dp-calendar-shadow-border-color); opacity: 0.5; height: 100%;"),o.add(".calendar_default_shadow","box-shadow: 0 2px 5px rgba(0,0,0,0.2);"),o.add(".calendar_default_shadow_forbidden:after","content: ''; position: absolute; top: 5px; left: calc(50% - 10px); border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; background-image: url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2720%27 height=%2720%27 viewBox=%270 0 20 20%27%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%279%27 fill=%27%23cc0000aa%27 /%3E%3Cline x1=%275%27 y1=%275%27 x2=%2715%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3Cline x1=%2715%27 y1=%275%27 x2=%275%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3C/svg%3E'); background-repeat: no-repeat; background-position: center; background-size: contain;"),o.add(".calendar_default_shadow_forbidden .calendar_default_shadow_inner","border: 1px solid var(--dp-calendar-forbidden-shadow-border-color); background: var(--dp-calendar-forbidden-shadow-bg-color);"),o.add(".calendar_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"),o.add(".calendar_default_event_delete:hover","opacity: 1; -ms-filter: none;"),o.add(".calendar_default_scroll_up","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAB3RJTUUH2wESDiYcrhwCiQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAARnQU1BAACxjwv8YQUAAACcSURBVHjaY2AgF9wWsTW6yGMlhi7OhC7AyMDQzMnBXIpFHAFuCtuaMTP+P8nA8P/b1x//FfW/HHuF1UQmxv+NUP1c3OxMVVhNvCVi683E8H8LXOY/w9+fTH81tF8fv4NiIpBRj+YoZtZ/LDUoJmKYhsVUpv0MDiyMDP96sIYV0FS2/8z9ICaLlOhvS4b/jC//MzC8xBG0vJeF7GQBlK0xdiUzCtsAAAAASUVORK5CYII=);"),o.add(".calendar_default_scroll_down","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAACqSURBVChTY7wpam3L9J+xmQEP+PGPKZZxP4MDi4zI78uMDIwa2NT+Z2DYovrmiC+TI8OBP/8ZmEqwGvif4e8vxr+FIDkmEKH25vBWBgbG0+iK/zEwLtF+ffwOXCGI8Y+BoRFFIdC030x/WmBiYBNhpgLdswNJ8RSYaSgmgk39z1gPUfj/29ef/9rwhQTDHRHbrbdEbLvRFcGthkkAra/9/uMvhkK8piNLAgCRpTnNn4AEmAAAAABJRU5ErkJggg==);"),o.add(".calendar_default_now","background-color: var(--dp-calendar-now-indicator-color);"),o.add(".calendar_default_now:before","content: ''; top: -5px; border-width: 5px; border-color: transparent transparent transparent var(--dp-calendar-now-indicator-color); border-style: solid; width: 0px; height: 0px; position: absolute; -moz-transform: scale(.9999);"),o.add(".calendar_default_shadow_top","box-sizing: border-box; padding: 2px; border: 1px solid var(--dp-calendar-border-color); background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); pointer-events: none;"),o.add(".calendar_default_shadow_bottom","box-sizing: border-box; padding: 2px; border: 1px solid var(--dp-calendar-border-color); background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); pointer-events: none;"),o.add(".calendar_default_crosshair_vertical, .calendar_default_crosshair_horizontal, .calendar_default_crosshair_left, .calendar_default_crosshair_top","background-color: gray; opacity: 0.2;"),o.add(".calendar_default_loading","background-color: orange; color: white; padding: 2px;"),o.add(".calendar_default_scroll","background-color: var(--dp-calendar-header-bg-color);"),o.add(".calendar_default_event_moving_source","opacity: 0.5;"),o.add(".calendar_default_colmove_handle","background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),o.add(".calendar_default_colheader:hover .calendar_default_colheader_splitter","background-color: #c0c0c0;"),o.add(".calendar_default_colmove_source","background-color: black; opacity: 0.5;"),o.add(".calendar_default_colmove_position_before","box-sizing: border-box; border-left: 2px solid #999999;"),o.add(".calendar_default_colmove_position_before:before","content: ''; border-width: 6px; border-color: transparent #999999 transparent transparent; border-style: solid; width: 0px; height: 0px; position: absolute;"),o.add(".calendar_default_colmove_position_after","box-sizing: border-box; border-right: 2px solid #999999;"),o.add(".calendar_default_colmove_position_after:before","content: ''; border-width: 6px; border-color: transparent transparent transparent #999999; border-style: solid; width: 0px; height: 0px; position: absolute;"),o.add(".calendar_default_colmove_position_child","box-sizing: border-box; border-bottom: 2px solid #999999;"),o.add(".calendar_default_colmove_position_child:before","content: ''; border-width: 6px; border-color: #999999 transparent transparent transparent; border-style: solid; width: 0px; height: 0px; position: absolute;"),o.add(".calendar_default_colmove_position_forbidden","border-top: 2px solid red;"),o.add(".calendar_default_colheader .calendar_default_colheader_splitter:hover","background-color: #999999;"),o.add(".calendar_default_block","background-color: #808080; opacity: 0.5;"),o.add(".month_default_main","  --dp-month-border-color: #c0c0c0;  --dp-month-font-family: -apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;  --dp-month-font-size: 13px;  --dp-month-cell-border-color: #ddd;  --dp-month-cell-bg-color: #f9f9f9;  --dp-month-cell-business-bg-color: #ffffff;  --dp-month-event-color: #333;  --dp-month-event-border-color: #999;  --dp-month-event-border: 1px solid var(--dp-month-event-border-color);  --dp-month-event-bg-top-color: #ffffff;  --dp-month-event-bg-bottom-color: #eeeeee;  --dp-month-event-background: linear-gradient(to bottom, var(--dp-month-event-bg-top-color) 0%, var(--dp-month-event-bg-bottom-color) 100%);  --dp-month-event-horizontal-align: flex-start;  --dp-month-event-vertical-align: center;  --dp-month-event-padding: 2px;  --dp-month-event-padding-left: 10px;  --dp-month-event-padding-rtl: 2px 10px 2px 1px;  --dp-month-event-border-radius: 0px;  --dp-month-event-box-shadow: none;  --dp-month-event-bar-top: 1px;  --dp-month-event-bar-left: 2px;  --dp-month-event-bar-bottom: 1px;  --dp-month-event-bar-width: 6px;  --dp-month-event-bar-color: #1066a8;  --dp-month-event-bar-display: block;  --dp-month-header-bg-color: #f3f3f3;  --dp-month-header-color: #333;  --dp-month-header-horizontal-align: center;  --dp-month-header-vertical-align: center;  --dp-month-header-padding: 0px;  --dp-month-message-bg-color: #ffa216;  --dp-month-message-color: #ffffff;  --dp-month-message-padding: 10px;  --dp-month-selected-event-bg-color: #ddd;  --dp-month-shadow-color: #bbbbbb;  --dp-month-shadow-border-color: #888888;"),o.add(".month_default_main *, .month_default_main *:before, .month_default_main *:after","box-sizing: content-box; "),o.add(".month_default_main","border: 1px solid var(--dp-month-border-color); font-family: var(--dp-month-font-family); font-size: var(--dp-month-font-size); color: #333; "),o.add(".month_default_cell_inner","border-right: 1px solid var(--dp-month-cell-border-color); border-bottom: 1px solid var(--dp-month-cell-border-color); position: absolute; top: 0; left: 0; bottom: 0; right: 0; background-color: var(--dp-month-cell-bg-color); "),o.add(".month_default_cell_business .month_default_cell_inner","background-color: var(--dp-month-cell-business-bg-color); "),o.add(".month_default_cell_header","text-align: right; padding: 4px; box-sizing: border-box; "),o.add(".month_default_header_inner","position: absolute; inset: 0; border-right: 1px solid var(--dp-month-border-color); border-bottom: 1px solid var(--dp-month-border-color); cursor: default; color: var(--dp-month-header-color); background: var(--dp-month-header-bg-color); overflow: hidden; display: flex; align-items: var(--dp-month-header-vertical-align); justify-content: var(--dp-month-header-horizontal-align); padding: var(--dp-month-header-padding);"),o.add(".month_default_message","opacity: 0.9; color: var(--dp-month-message-color); background: var(--dp-month-message-bg-color); padding: var(--dp-month-message-padding); "),o.add(".month_default_event","border-radius: var(--dp-month-event-border-radius); box-shadow: var(--dp-month-event-box-shadow); "),o.add(".month_default_event_inner","position: absolute; top: 0; bottom: 0; left: 1px; right: 1px; overflow: hidden; padding: var(--dp-month-event-padding) var(--dp-month-event-padding) var(--dp-month-event-padding) var(--dp-month-event-padding-left); color: var(--dp-month-event-color); background: var(--dp-month-event-background); border: var(--dp-month-event-border); border-radius: var(--dp-month-event-border-radius); display: flex; align-items: var(--dp-month-event-vertical-align); justify-content: var(--dp-month-event-horizontal-align); "),o.add(".month_default_direction_rtl .month_default_event_inner","right: 2px; padding: var(--dp-month-event-padding-rtl); "),o.add(".month_default_event_continueright .month_default_event_inner","border-top-right-radius: 0; border-bottom-right-radius: 0; border-right-style: dotted; "),o.add(".month_default_event_continueleft .month_default_event_inner","border-top-left-radius: 0; border-bottom-left-radius: 0; border-left-style: dotted; "),o.add(".month_default_event_bar","display: var(--dp-month-event-bar-display); top: var(--dp-month-event-bar-top); bottom: var(--dp-month-event-bar-bottom); left: var(--dp-month-event-bar-left); width: var(--dp-month-event-bar-width); "),o.add(".month_default_direction_rtl .month_default_event_bar","top: 1px; bottom: 1px; right: 3px; width: var(--dp-month-event-bar-width); "),o.add(".month_default_event_bar_inner","position: absolute; width: var(--dp-month-event-bar-width); background-color: var(--dp-month-event-bar-color); "),o.add(".month_default_event_continueleft .month_default_event_bar","display: none; "),o.add(".month_default_selected .month_default_event_inner","background: var(--dp-month-selected-event-bg-color); "),o.add(".month_default_shadow_inner","box-sizing: border-box; background-color: var(--dp-month-shadow-color); border: 1px solid var(--dp-month-shadow-border-color); opacity: 0.5; height: 100%; "),o.add(".month_default_shadow","box-shadow: 0 2px 5px rgba(0, 0, 0, .2); "),o.add(".month_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer; "),o.add(".month_default_event_delete:hover","opacity: 1; "),o.add(".month_default_event_timeleft","color: #ccc; font-size: 11px; display: flex; align-items: center; "),o.add(".month_default_event_timeright","color: #ccc; font-size: 11px; display: flex; align-items: center; justify-content: end; "),o.add(".month_default_loading","background-color: orange; color: white; padding: 2px; "),o.add(".month_default_shadow_forbidden:after","content: ''; position: absolute; top: calc(50% - 10px); left: 10px; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; background-image: url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2720%27 height=%2720%27 viewBox=%270 0 20 20%27%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%279%27 fill=%27%23cc0000aa%27 /%3E%3Cline x1=%275%27 y1=%275%27 x2=%2715%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3Cline x1=%2715%27 y1=%275%27 x2=%275%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3C/svg%3E'); background-repeat: no-repeat; background-position: center; background-size: contain; "),o.add(".month_default_shadow_forbidden .month_default_shadow_inner","border: 1px solid #cc0000; background: #cc4125; "),o.add(".navigator_default_main","  --dp-nav-border-color: #c0c0c0;  --dp-nav-font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;  --dp-nav-font-size: 12px;  --dp-nav-title-color: #333;  --dp-nav-title-bg-color: #f3f3f3;  --dp-nav-dayheader-color: #333;  --dp-nav-dayheader-bg-color: #ffffff;  --dp-nav-weeknumber-color: #999;  --dp-nav-weeknumber-bg-color: #ffffff;  --dp-nav-day-color: #000;  --dp-nav-day-bg-color: #ffffff;  --dp-nav-dayother-color: gray;  --dp-nav-dayother-bg-color: #ffffff;  --dp-nav-weekend-bg-color: #f0f0f0;  --dp-nav-select-bg-color: #FFE794;  --dp-nav-text-align: center;"),o.add(".navigator_default_main *, .navigator_default_main *:before, .navigator_default_main *:after","box-sizing: content-box;"),o.add(".navigator_default_main","border-left: 1px solid var(--dp-nav-border-color);border-right: 1px solid var(--dp-nav-border-color);border-bottom: 1px solid var(--dp-nav-border-color);background-color: white;color: var(--dp-nav-day-color);box-sizing: content-box;"),o.add(".navigator_default_month","font-family: var(--dp-nav-font-family);font-size: var(--dp-nav-font-size);"),o.add(".navigator_default_day","color: var(--dp-nav-day-color); background-color: var(--dp-nav-day-bg-color);"),o.add(".navigator_default_weekend","background-color: var(--dp-nav-weekend-bg-color);"),o.add(".navigator_default_dayheader","color: var(--dp-nav-dayheader-color);background-color: var(--dp-nav-dayheader-bg-color);text-align: var(--dp-nav-text-align);padding: 0px;"),o.add(".navigator_default_line","border-bottom: 1px solid var(--dp-nav-border-color);"),o.add(".navigator_default_dayother","color: var(--dp-nav-dayother-color); background-color: var(--dp-nav-dayother-bg-color);"),o.add(".navigator_default_todaybox","border: 1px solid red;"),o.add(".navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright","box-sizing: border-box; border-top: 1px solid var(--dp-nav-border-color);border-bottom: 1px solid var(--dp-nav-border-color);color: var(--dp-nav-title-color);background: var(--dp-nav-title-bg-color);text-align: var(--dp-nav-text-align);"),o.add(".navigator_default_busy","font-weight: bold;"),o.add(".navigator_default_cell","text-align: var(--dp-nav-text-align);"),o.add(".navigator_default_select .navigator_default_cell_box","background-color: var(--dp-nav-select-bg-color);opacity: 0.5;"),o.add(".navigator_default_weeknumber","text-align: var(--dp-nav-text-align);color: var(--dp-nav-weeknumber-color);background: var(--dp-nav-weeknumber-bg-color);"),o.add(".navigator_default_cell_text","cursor: pointer;"),o.add(".navigator_default_todaysection","box-sizing: border-box; display: flex; align-items: center; justify-content: center; border-top: 1px solid var(--dp-nav-border-color);"),o.add(".navigator_default_todaysection_button","cursor: pointer; color: #333; background-color: #f0f0f0; border: 1px solid var(--dp-nav-border-color); padding: 5px 10px; border-radius: 0px; "),o.add(".scheduler_default_main",'  --dp-scheduler-border-color: #c0c0c0;  --dp-scheduler-border-inner-color: #e0e0e0;  --dp-scheduler-cell-bg-color: #f9f9f9;  --dp-scheduler-cell-business-bg-color: #ffffff;  --dp-scheduler-event-background: linear-gradient(to bottom, var(--dp-scheduler-event-bg-top-color) 0%, var(--dp-scheduler-event-bg-bottom-color) 100%);  --dp-scheduler-event-bg-bottom-color: #eeeeee;  --dp-scheduler-event-bg-top-color: #ffffff;  --dp-scheduler-event-bar-bg-color: #9dc8e8;  --dp-scheduler-event-bar-color: #1066a8;  --dp-scheduler-event-bar-display: block;  --dp-scheduler-event-bar-height: 4px;  --dp-scheduler-event-bar-left: 0px;  --dp-scheduler-event-bar-right: 0px;  --dp-scheduler-event-bar-top: 0px;  --dp-scheduler-event-border: 1px solid var(--dp-scheduler-event-border-color);  --dp-scheduler-event-border-color: #ccc;  --dp-scheduler-event-border-radius: 10px;  --dp-scheduler-event-box-shadow: none;  --dp-scheduler-event-color: #333;  --dp-scheduler-event-horizontal-align: flex-start;  --dp-scheduler-event-milestone-color: #38761d;  --dp-scheduler-event-padding: 2px;  --dp-scheduler-event-selected-bg-color: #ddd;  --dp-scheduler-event-vertical-align: center;  --dp-scheduler-focus-outline-color: red;  --dp-scheduler-font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;  --dp-scheduler-font-size: 13px;  --dp-scheduler-grid-line-break-color: #999;  --dp-scheduler-grid-line-color: #eee;  --dp-scheduler-header-bg-color: #f3f3f3;  --dp-scheduler-header-color: #333;  --dp-scheduler-link-color: #cc0000;  --dp-scheduler-message-bg-color: #ffa216;  --dp-scheduler-message-color: #ffffff;  --dp-scheduler-message-padding: 10px;  --dp-scheduler-rowheader-padding: 7px;  --dp-scheduler-rowheader-vertical-align: center;  --dp-scheduler-selectionrectangle-color: #1066a8;  --dp-scheduler-shadow-border-color: #888888;  --dp-scheduler-shadow-color: #bbbbbb;  --dp-scheduler-timeheader-horizontal-align: center;  --dp-scheduler-timeheader-padding: 0px;  --dp-scheduler-timeheader-vertical-align: center;'),o.add(".scheduler_default_main *, .scheduler_default_main *:before, .scheduler_default_main *:after","box-sizing: content-box;"),o.add(".scheduler_default_main, .scheduler_default_main svg text","box-sizing: content-box; border: 1px solid var(--dp-scheduler-border-color); font-family: var(--dp-scheduler-font-family); font-size: var(--dp-scheduler-font-size);"),o.add(".scheduler_default_selected .scheduler_default_event_inner","background: var(--dp-scheduler-event-selected-bg-color);"),o.add(".scheduler_default_timeheader_scroll","background: var(--dp-scheduler-header-bg-color);"),o.add(".scheduler_default_message","opacity: 0.9; padding: var(--dp-scheduler-message-padding); color: var(--dp-scheduler-message-color); background: var(--dp-scheduler-message-bg-color);"),o.add(".scheduler_default_timeheadergroup,.scheduler_default_timeheadercol","color: var(--dp-scheduler-header-color); background: var(--dp-scheduler-header-bg-color);"),o.add(".scheduler_default_rowheader,.scheduler_default_corner","color: var(--dp-scheduler-header-color); background: var(--dp-scheduler-header-bg-color);"),o.add(".scheduler_default_rowheader.scheduler_default_rowheader_selected","background-color: #aaa; background-image: linear-gradient(45deg, rgba(255,255,255,0.2) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.2) 75%, transparent 75%, transparent); background-size: 20px 20px;"),o.add(".scheduler_default_rowheader_inner","position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; border-right: 1px solid var(--dp-scheduler-border-inner-color); padding: var(--dp-scheduler-rowheader-padding); display: flex; align-items: var(--dp-scheduler-rowheader-vertical-align);"),o.add(".scheduler_default_timeheadergroup_inner, .scheduler_default_timeheadercol_inner","position: absolute; left: 0; right: 0; top: 0; bottom: 0;  border-right: 1px solid var(--dp-scheduler-border-color);"),o.add(".scheduler_default_timeheadergroup_inner","border-bottom: 1px solid var(--dp-scheduler-border-color);"),o.add(".scheduler_default_timeheadergroup_inner, .scheduler_default_timeheadercol_inner, .scheduler_default_timeheader_float","display: flex; align-items: var(--dp-scheduler-timeheader-vertical-align); justify-content: var(--dp-scheduler-timeheader-horizontal-align); padding: var(--dp-scheduler-timeheader-padding);"),o.add(".scheduler_default_divider, .scheduler_default_splitter","background-color: var(--dp-scheduler-border-color);"),o.add(".scheduler_default_divider_horizontal","background-color: var(--dp-scheduler-border-color);"),o.add(".scheduler_default_matrix_vertical_line","background-color: var(--dp-scheduler-grid-line-color);"),o.add(".scheduler_default_matrix_vertical_break","background-color: var(--dp-scheduler-grid-line-break-color);"),o.add(".scheduler_default_matrix_horizontal_line","background-color: var(--dp-scheduler-grid-line-color);"),o.add(".scheduler_default_resourcedivider","background-color: var(--dp-scheduler-border-color);"),o.add(".scheduler_default_shadow_inner","box-sizing: border-box; background-color: var(--dp-scheduler-shadow-color); border: 1px solid var(--dp-scheduler-shadow-border-color); border-radius: var(--dp-scheduler-event-border-radius); opacity: 0.5; height: 100%;"),o.add(".scheduler_default_shadow","box-shadow: 0 2px 5px rgba(0,0,0,.2); border-radius: var(--dp-scheduler-event-border-radius);"),o.add(".scheduler_default_event","font-size: var(--dp-scheduler-font-size); color: var(--dp-scheduler-event-color); border-radius: var(--dp-scheduler-event-border-radius); box-shadow: var(--dp-scheduler-event-box-shadow);"),o.add(".scheduler_default_event_inner","position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px; border-radius: var(--dp-scheduler-event-border-radius); padding: var(--dp-scheduler-event-padding); overflow: hidden; border: var(--dp-scheduler-event-border); display: flex; align-items: var(--dp-scheduler-event-vertical-align); justify-content: var(--dp-scheduler-event-horizontal-align); background: var(--dp-scheduler-event-background);"),o.add(".scheduler_default_event_bar","display: var(--dp-scheduler-event-bar-display);top: var(--dp-scheduler-event-bar-top); left: var(--dp-scheduler-event-bar-left); right: var(--dp-scheduler-event-bar-right); height: var(--dp-scheduler-event-bar-height); background-color: var(--dp-scheduler-event-bar-bg-color);"),o.add(".scheduler_default_event_bar_inner","position:absolute; height: var(--dp-scheduler-event-bar-height); background-color: var(--dp-scheduler-event-bar-color);"),o.add(".scheduler_default_event_float","display: flex; align-items: center;"),o.add(".scheduler_default_event_float_inner","padding: var(--dp-scheduler-event-padding) var(--dp-scheduler-event-padding) var(--dp-scheduler-event-padding) 8px; position: relative;"),o.add(".scheduler_default_event_float_inner:after",'content:""; border-color: transparent #666 transparent transparent; border-style:solid; border-width:5px; width:0; height:0; position:absolute; top: calc(50% - 5px); left:-4px;'),o.add(".scheduler_default_event_focus","outline: var(--dp-scheduler-focus-outline-color) 2px solid; z-index: 100; opacity: 0.5;"),o.add(".scheduler_default_columnheader_inner","font-weight: bold;"),o.add(".scheduler_default_columnheader_splitter","box-sizing: border-box; border-right: 1px solid var(--dp-scheduler-border-color);"),o.add(".scheduler_default_columnheader_splitter:hover","background-color: var(--dp-scheduler-border-color);"),o.add(".scheduler_default_columnheader_cell_inner","position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; padding: 2px; display: flex; align-items: center;"),o.add(".scheduler_default_cell","background-color: var(--dp-scheduler-cell-bg-color);"),o.add(".scheduler_default_cell.scheduler_default_cell_business","background-color: var(--dp-scheduler-cell-business-bg-color);"),o.add(".scheduler_default_cell.scheduler_default_cell_business.scheduler_default_cell_selected, .scheduler_default_cell.scheduler_default_cell_selected","background-color: #ccc; background-image: linear-gradient(45deg, rgba(255,255,255,0.2) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.2) 75%, transparent 75%, transparent); background-size: 20px 20px;"),o.add(".scheduler_default_tree_image_no_children",""),o.add(".scheduler_default_tree_image_expand","background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxwYXRoIGQ9J00gMS41IDAuNSBMIDYuNSA1IEwgMS41IDkuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6Izk5OTk5OTtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=);"),o.add(".scheduler_default_tree_image_collapse","background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMS41IEwgNSA2LjUgTCA5LjUgMS41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==);"),o.add(".scheduler_default_event_delete","background: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTInIGhlaWdodD0nMTInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgMTEuNSAxMS41IE0gMC41IDExLjUgTCAxMS41IDAuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6IzQ2NDY0NjtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=) no-repeat center center; opacity: 0.6; cursor: pointer;"),o.add(".scheduler_default_event_delete:hover","opacity: 1;"),o.add(".scheduler_default_rowmove_handle","background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),o.add(".scheduler_default_rowmove_source","background-color: black; opacity: 0.2;"),o.add(".scheduler_default_rowmove_position_before, .scheduler_default_rowmove_position_after","background-color: #999; height: 2px;"),o.add(".scheduler_default_rowmove_position_child","margin-left: 20px; background-color: #999; height: 2px;"),o.add(".scheduler_default_rowmove_position_forbidden","background-color: #cc0000; height: 2px; margin-left: 20px;"),o.add(".scheduler_default_link_horizontal","border-bottom-style: solid; border-bottom-color: var(--dp-scheduler-link-color);"),o.add(".scheduler_default_link_vertical","border-right-style: solid; border-right-color: var(--dp-scheduler-link-color);"),o.add(".scheduler_default_link_arrow_right:before","content: ''; border-width: 6px; border-color: transparent transparent transparent var(--dp-scheduler-link-color); border-style: solid; width: 0; height:0; position: absolute;"),o.add(".scheduler_default_link_arrow_left:before","content: ''; border-width: 6px; border-color: transparent var(--dp-scheduler-link-color) transparent transparent; border-style: solid; width: 0; height:0; position: absolute;"),o.add(".scheduler_default_link_arrow_down:before","content: ''; border-width: 6px; border-color: var(--dp-scheduler-link-color) transparent transparent transparent; border-style: solid; width: 0; height:0; position: absolute;"),o.add(".scheduler_default_link_arrow_up:before","content: ''; border-width: 6px; border-color: transparent transparent var(--dp-scheduler-link-color) transparent; border-style: solid; width: 0; height:0; position: absolute;"),o.add(".scheduler_default_link_mshadow.scheduler_default_link_horizontal","border-bottom-color: #aaaaaa;"),o.add(".scheduler_default_link_mshadow.scheduler_default_link_vertical","border-right-color: #aaaaaa;"),o.add(".scheduler_default_link_mshadow.scheduler_default_link_arrow_right:before","border-color: transparent transparent transparent #aaaaaa;"),o.add(".scheduler_default_link_mshadow.scheduler_default_link_arrow_left:before","border-color: transparent #aaaaaa transparent transparent;"),o.add(".scheduler_default_link_mshadow.scheduler_default_link_arrow_down:before","border-color: #aaaaaa transparent transparent transparent;"),o.add(".scheduler_default_link_mshadow.scheduler_default_link_arrow_up:before","border-color: transparent transparent #aaaaaa transparent;"),o.add(".scheduler_default_block","background-color: #808080; opacity: 0.5;"),o.add(".scheduler_default_main .scheduler_default_event_group","box-sizing: border-box; font-size: 13px; color: #666; padding: 2px; overflow:hidden; border:1px solid var(--dp-scheduler-event-border-color); background-color: #fff; display: flex; align-items: center; white-space: nowrap;"),o.add(".scheduler_default_main .scheduler_default_header_icon","box-sizing: border-box; border: 1px solid var(--dp-scheduler-border-color); background-color: var(--dp-scheduler-header-bg-color); color: var(--dp-scheduler-header-color);"),o.add(".scheduler_default_header_icon:hover","background-color: #ccc;"),o.add(".scheduler_default_header_icon_hide:before","content: '\\00AB';"),o.add(".scheduler_default_header_icon_show:before","content: '\\00BB';"),o.add(".scheduler_default_row_new .scheduler_default_rowheader_inner","padding-left: 10px; color: #666; cursor: text; background-position: 0px 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),o.add(".scheduler_default_row_new .scheduler_default_rowheader_inner:hover","background: white; color: white;"),o.add(".scheduler_default_rowheader textarea","padding: 3px;"),o.add(".scheduler_default_rowheader_scroll","cursor: default; background: var(--dp-scheduler-header-bg-color);"),o.add(".scheduler_default_shadow_forbidden .scheduler_default_shadow_inner, .scheduler_default_shadow_overlap .scheduler_default_shadow_inner","border: 1px solid #cc0000; background: #cc4125;"),o.add(".scheduler_default_event_moving_source","opacity: 0.5;"),o.add(".scheduler_default_linkpoint","background-color: white; border: 1px solid gray; border-radius: 5px;"),o.add(".scheduler_default_linkpoint.scheduler_default_linkpoint_hover","background-color: black;"),o.add(".scheduler_default_event.scheduler_default_event_version .scheduler_default_event_inner","overflow:hidden; background-color: #cfdde8; background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent); background-size: 20px 20px;"),o.add(".scheduler_default_crosshair_vertical, .scheduler_default_crosshair_horizontal, .scheduler_default_crosshair_left, .scheduler_default_crosshair_top","background-color: gray; opacity: 0.2;"),o.add(".scheduler_default_link_dot","border-radius: 10px; background-color: var(--dp-scheduler-link-color);"),o.add(".scheduler_default_task_milestone .scheduler_default_event_inner","position:absolute; top:16%; left:16%; right:16%; bottom:16%; background: var(--dp-scheduler-event-milestone-color); border: 0px none; transform: rotate(45deg); filter: none;"),o.add(".scheduler_default_event_left, .scheduler_default_event_right","white-space: nowrap; color: #666; cursor: default; display: flex; align-items: center;"),o.add(".scheduler_default_main:focus","outline: none;"),o.add(".scheduler_default_cell_focus","outline: var(--dp-scheduler-focus-outline-color) 2px solid; outline-offset: -2px; z-index: 100; opacity: 0.5;"),o.add(".scheduler_default_cell_focus.scheduler_default_cell_focus_top","border-top: 4px solid var(--dp-scheduler-focus-outline-color);"),o.add(".scheduler_default_cell_focus.scheduler_default_cell_focus_bottom","border-bottom: 4px solid var(--dp-scheduler-focus-outline-color);"),o.add(".scheduler_default_selectionrectangle","background-color: var(--dp-scheduler-selectionrectangle-color); border: 1px solid #000033; opacity: 0.4;"),o.add(".scheduler_default_link_shadow","border:1px solid black;"),o.add(".scheduler_default_link_shadow_circle","background-color:black;"),o.add(".scheduler_default_event_move_left","box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); display: flex; align-items: center;"),o.add(".scheduler_default_event_move_right","box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); display: flex; align-items: center;"),o.add(".scheduler_default_link_hover","box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"),o.add(".scheduler_default_sorticon","opacity: 0.2;background-position: center center; background-repeat: no-repeat; cursor: pointer;"),o.add(".scheduler_default_sorticon.scheduler_default_sorticon_asc","background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDEuNSwgMTAgMTAsIDAgMTAiLz48L3N2Zz4=');"),o.add(".scheduler_default_sorticon.scheduler_default_sorticon_desc","background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDguNSwgMCAwLCAxMCAwIi8+PC9zdmc+');"),o.add(".scheduler_default_sorticon.scheduler_default_sorticon_active","opacity: 1;"),o.add(".scheduler_default_loading","background-color: orange; color: white; padding: 2px;"),o.add(".scheduler_default_link_curve","stroke: var(--dp-scheduler-link-color); fill: none; stroke-width: 2;"),o.add(".scheduler_default_link_curve:hover","stroke-opacity: 0.5;"),o.add(".scheduler_default_link_curve_dot","fill: var(--dp-scheduler-link-color);"),o.add(".scheduler_default_link_curve_marker","fill: var(--dp-scheduler-link-color);"),o.add(".scheduler_default_link_curve_text","fill: var(--dp-scheduler-link-color);"),o.add(".scheduler_default_link_curve_mshadow.scheduler_default_link_curve","stroke: #aaaaaa;"),o.add(".scheduler_default_link_curve_mshadow.scheduler_default_link_curve_dot","fill: #aaaaaa;"),o.add(".scheduler_default_link_curve_mshadow.scheduler_default_link_curve_marker","fill: #aaaaaa;"),o.add(".scheduler_default_link_curve_mshadow.scheduler_default_link_curve_text","fill: #aaaaaa;"),o.commit(),e.Global.defaultCss=!0}}(),e.doc=function(){var o=document.documentElement;return o&&o.clientHeight?o:document.body},e.sh=function(o){return o?o.offsetHeight-o.clientHeight:0},e.guid=function(){var o=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return""+o()+o()+"-"+o()+"-"+o()+"-"+o()+"-"+o()+o()+o()},e.ua=function(o){if(!e.isArray(o))throw new e.Exception("DayPilot.ua() - array required");var c=[];return o.forEach(function(d){e.contains(c,d)||c.push(d)}),c},e.pageOffset=function(){if(typeof pageXOffset<"u")return{x:pageXOffset,y:pageYOffset};var o=e.doc();return{x:o.scrollLeft,y:o.scrollTop}},e.indexOf=function(o,c){if(!o||!o.length)return-1;for(var d=0;d<o.length;d++)if(o[d]===c)return d;return-1},e.contains=function(o,c){if(arguments.length!==2)throw new e.Exception("DayPilot.contains() requires two arguments.");return!!o&&(o===c&&!e.isArray(o)||e.indexOf(o,c)!==-1)},e.ac=function(o,d){if(!d)var d=[];for(var u=0;o.children&&u<o.children.length;u++)d.push(o.children[u]),e.ac(o.children[u],d);return d},e.rfa=function(o,c){var d=e.indexOf(o,c);d!==-1&&o.splice(d,1)},e.mc=function(o){return o.pageX||o.pageY?{x:o.pageX,y:o.pageY}:{x:o.clientX+document.documentElement.scrollLeft,y:o.clientY+document.documentElement.scrollTop}},e.Stats={},e.Stats.eventObjects=0,e.Stats.dateObjects=0,e.Stats.cacheHitsCtor=0,e.Stats.cacheHitsParsing=0,e.Stats.cacheHitsTicks=0,e.re=function(o,c,d){d&&c&&o&&o.addEventListener(c,d,!1)},e.rePassive=function(o,c,d){d&&c&&o&&o.addEventListener(c,d,{passive:!0})},e.reNonPassive=function(o,c,d){d&&c&&o&&o.addEventListener(c,d,{passive:!1})},e.ue=function(o,c,d){o.removeEventListener(c,d,!1)},e.pu=function(o){var c,d,u,l=o.attributes;if(l)for(d=l.length,c=0;c<d;c+=1)l[c]&&(u=l[c].name,typeof o[u]=="function"&&(o[u]=null));if(l=o.childNodes)for(d=l.length,c=0;c<d;c+=1)e.pu(o.childNodes[c])},e.de=function(o){if(o)if(e.isArray(o))for(var c=0;c<o.length;c++)e.de(o[c]);else o.parentNode&&o.parentNode.removeChild(o)},e.sw=function(o){return o?o.offsetWidth-o.clientWidth:0},e.am=function(){return typeof angular>"u"?null:(e.am.cached||(e.am.cached=angular.module("daypilot",[])),e.am.cached)},e.Selection=function(o,c,d,u){this.type="selection",this.start=o.isDayPilotDate?o:new e.Date(o),this.end=c.isDayPilotDate?c:new e.Date(c),this.resource=d,this.root=u,this.toJSON=function(l){var f={};return f.start=this.start,f.end=this.end,f.resource=this.resource,f}},e.request=function(o,c,d,u){var l=e.createXmlHttp();l&&(l.open("POST",o,!0),l.setRequestHeader("Content-type","text/plain"),l.onreadystatechange=function(){if(l.readyState===4)return l.status!==200&&l.status!==304?void(u?u(l):window.console&&console.log("HTTP error "+l.status)):void c(l)},l.readyState!==4&&(typeof d=="object"&&(d=JSON.stringify(d)),l.send(d)))},e.ajax=function(o){if(!o)throw new e.Exception("Parameter object required.");if(typeof o.url!="string")throw new e.Exception("The parameter object must have 'url' property.");var c=e.createXmlHttp();if(!c)throw new e.Exception("Unable to create XMLHttpRequest object");var d=typeof o.data=="object",u=o.data,l=o.method||(o.data?"POST":"GET"),f=o.success||function(){},p=o.error||function(){},g=o.url,x=o.contentType||(d?"application/json":"text/plain"),S=o.headers||{};c.open(l,g,!0),c.setRequestHeader("Content-type",x),e.Util.ownPropsAsArray(S).forEach(function(m){c.setRequestHeader(m.key,m.val)}),c.onreadystatechange=function(){if(c.readyState===4)if(c.status===200||c.status===201||c.status===204||c.status===304){var m={};m.request=c,c.responseText&&(m.data=JSON.parse(c.responseText)),f(m)}else if(p){var m={};m.request=c,p(m)}else window.console&&console.log("HTTP error "+c.status)},c.readyState!==4&&(d&&(u=JSON.stringify(u)),c.send(u))},e.createXmlHttp=function(){return new XMLHttpRequest},e.Http={},e.Http.ajax=function(o){e.ajax(o)},e.Http.get=function(o,c){return c=c||{},new Promise(function(d,u){var l={};l.url=o,l.method="GET",l.success=function(f){d(f)},l.error=function(f){u(f)},l.contentType=c.contentType,l.headers=c.headers,e.ajax(l)})},e.Http.post=function(o,c,d){return d=d||{},new Promise(function(u,l){var f={};f.url=o,f.method="POST",f.data=c,f.success=function(p){u(p)},f.error=function(p){l(p)},f.contentType=d.contentType,f.headers=d.headers,e.ajax(f)})},e.Http.put=function(o,c,d){return d=d||{},new Promise(function(u,l){var f={};f.url=o,f.method="PUT",f.data=c,f.success=function(p){u(p)},f.error=function(p){l(p)},f.contentType=d.contentType,f.headers=d.headers,e.ajax(f)})},e.Http.delete=function(o,c){return c=c||{},new Promise(function(d,u){var l={};l.url=o,l.method="DELETE",l.success=function(f){d(f)},l.error=function(f){u(f)},l.contentType=c.contentType,l.headers=c.headers,e.ajax(l)})},e.Util={},e.Util.addClass=function(o,c){if(o){if(!o.className)return void(o.className=c);new RegExp("(^|\\s)"+c+"($|\\s)").test(o.className)||(o.className=o.className+" "+c)}},e.Util.removeClass=function(o,c){if(o){var d=new RegExp("(^|\\s)"+c+"($|\\s)");o.className=o.className.replace(d," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}},e.Util.copyProps=function(o,c,d){if(c||(c={}),!o)return c;if(typeof d>"u")for(var u in o)o.hasOwnProperty(u)&&typeof o[u]<"u"&&(c[u]=o[u]);else for(var l=0;l<d.length;l++){var u=d[l];typeof o[u]<"u"&&(c[u]=o[u])}return c},e.Util.ownPropsAsArray=function(o){var c=[];if(!o)return c;for(var d in o)if(o.hasOwnProperty(d)){var u={};u.key=d,u.val=o[d],c.push(u)}return c},e.Util.atLeast=function(o,c){return Math.max(o,c)},e.Util.mouseButton=function(o){var c={};switch(o.button){case 0:c.left=!0;break;case 1:c.middle=!0;break;case 2:c.right=!0}return c},e.Util.replaceCharAt=function(o,c,d){return o.substr(0,c)+d+o.substr(c+d.length)},e.Util.isNullOrUndefined=function(o){return o===null||typeof o>"u"},e.Util.escapeHtml=function(o){var c=document.createElement("div");return c.innerText=o,c.innerHTML},e.Util.escapeTextHtml=function(o,c){return e.Util.isNullOrUndefined(c)?e.Util.isNullOrUndefined(o)?"":e.Util.escapeHtml(o):c},e.Util.isSameEvent=function(o,c){return!(!o||!c)&&(o=o instanceof e.Event?o.data:o,c=c instanceof e.Event?c.data:c,o===c||!e.Util.isNullOrUndefined(o.id)&&o.id===c.id)},e.Util.overlaps=function(o,c,d,u){return!(c<=d||o>=u)},e.Util.isVueVNode=function(o){return!!o&&(e.isArray(o)?e.Util.isVueVNode(o[0]):o.__v_isVNode)},e.Util.isMouseEvent=function(o){return!!o&&(o.pointerType==="mouse"||o instanceof MouseEvent)},e.Areas={},e.Areas.attach=function(o,c,u){var u=u||{},l=u.areas,f=u.allowed||function(){return!0},p=u.offsetX||0;l=s(c,l),l&&e.isArray(l)&&l.length!==0&&(e.re(o,"mousemove",function(g){o.active||o.areasDisabled||!f()||e.Areas.showAreas(o,c,g,l,{offsetX:p,eventDiv:u.eventDiv})}),e.re(o,"mouseleave",function(g){e.Areas.hideAreas(o,g)}),l.forEach(function(g){if(e.Areas.isVisible(g)){var x=e.Areas.createArea(o,c,g,{offsetX:p,eventDiv:u.eventDiv});o.appendChild(x)}}))},e.Areas.disable=function(o){o.areasDisabled=!0,Array.from(o.childNodes).filter(function(c){return c.isActiveArea&&!c.area.start}).forEach(function(c){c.c=c.style.display,c.style.display="none"})},e.Areas.enable=function(o){o.areasDisabled=!1,Array.from(o.childNodes).filter(function(c){return c.isActiveArea&&!c.area.start}).forEach(function(c){c.c?c.style.display=c.c:c.style.display=""})},e.Areas.remove=function(o){var c=Array.from(o.childNodes).filter(function(d){return d.isActiveArea});e.de(c)},e.Areas.isVisible=function(o){var c=o.visibility||o.v||"Visible";return c==="Visible"||c==="TouchVisible"&&!e.browser.hover},e.Areas.copy=function(o){return e.isArray(o)?o.map(function(c){return e.Util.copyProps(c,{})}):[]};var s=function(o,c){return e.isArray(c)||(c=o.areas,c||(o.cache?c=o.cache.areas:o.data&&(c=o.data.areas))),c};e.Areas.showAreas=function(o,c,d,u,l){if(!e.Global.resizing&&!e.Global.moving&&!e.Global.selecting&&!o.active&&e.browser.hover){if(e.Areas.all&&e.Areas.all.length>0)for(var f=0;f<e.Areas.all.length;f++){var p=e.Areas.all[f];p!==o&&e.Areas.hideAreas(p,d)}if(o.active={},e.isArray(u)||(u=c.areas,u||(c.cache?u=c.cache.areas:c.data&&(u=c.data.areas))),u&&u.length!==0&&!(o.areas&&o.areas.length>0)){o.areas=[];for(var f=0;f<u.length;f++){var g=u[f];if(!e.Areas.isVisible(g)){var x=e.Areas.createArea(o,c,g,l);o.areas.push(x),o.appendChild(x),e.Areas.all.push(o)}}o.active.children=e.ac(o)}}},e.Areas.createArea=function(o,c,d,x){function l(O,R,L){var B={};return B.area=O,B.source=R,B.originalEvent=L,B.preventDefault=function(){B.preventDefault.value=!0},typeof O.onClick=="function"&&O.onClick(B),B}function f(O,R,L){e.Bubble&&e.Bubble.touchPosition(L),O.calendar.bubble&&O.calendar.bubble.showEvent(O,!0)}function p(O,R,L,B){e.Menu&&e.Menu.touchPosition(B);var F=L.contextMenu||L.menu;if(F instanceof e.Menu||(R.isEvent&&R.client.contextMenu()?F=R.client.contextMenu():R.isEvent&&R.calendar.contextMenu&&(F=R.calendar.contextMenu)),F&&F.show){var $={type:"area",div:O,e:R,area:L,a:m};F.show(R,{initiator:$})}}function g(O){return typeof O=="string"&&isNaN(O)?O:typeof O<"u"?O+"px":void 0}var x=x||{},S=(x.offsetX,x.eventDiv||o),m=document.createElement("div");m.isActiveArea=!0,m.area=d,m.setAttribute("unselectable","on");var y=d.w||d.width,w=d.h||d.height,C=d.cssClass||d.css||d.className;if(typeof d.style<"u"&&m.setAttribute("style",d.style),m.style.position="absolute",m.style.width=g(y),m.style.height=g(w),m.style.right=g(d.right),m.style.top=g(d.top),m.style.left=g(d.left),m.style.bottom=g(d.bottom),m.style.borderRadius=g(d.borderRadius),typeof d.html<"u"||typeof d.text<"u")m.innerHTML=e.Util.escapeTextHtml(d.text,d.html);else if(d.icon){var E=document.createElement("i");E.className=d.icon,m.appendChild(E)}else if(d.image){var N=document.createElement("img");N.src=d.image,m.appendChild(N)}else if(d.symbol){var k="http://www.w3.org/2000/svg",A=document.createElementNS(k,"svg");A.setAttribute("width","100%"),A.setAttribute("height","100%");var T=document.createElementNS(k,"use");T.setAttribute("href",d.symbol),A.appendChild(T),m.appendChild(A)}if(C&&(m.className=C),d.toolTip&&m.setAttribute("title",d.toolTip),d.backColor&&(m.style.background=d.backColor),d.background&&(m.style.background=d.background),d.fontColor&&(m.style.color=d.fontColor),d.padding&&(m.style.padding=d.padding+"px",m.style.boxSizing="border-box"),d.borderColor){const O=d.borders;O?(O.top&&(m.style.borderTop="1px solid "+d.borderColor),O.right&&(m.style.borderRight="1px solid "+d.borderColor),O.bottom&&(m.style.borderBottom="1px solid "+d.borderColor),O.left&&(m.style.borderLeft="1px solid "+d.borderColor)):m.style.border="1px solid "+d.borderColor,m.style.boxSizing="border-box"}if(d.verticalAlignment)switch(m.style.display="flex",d.verticalAlignment){case"center":m.style.alignItems="center";break;case"top":m.style.alignItems="flex-start";break;case"bottom":m.style.alignItems="flex-end"}if(d.horizontalAlignment)switch(m.style.display="flex",d.horizontalAlignment){case"right":m.style.justifyContent="flex-end";break;case"left":m.style.justifyContent="flex-start";break;case"center":m.style.justifyContent="center"}if(d.action==="ResizeEnd"||d.action==="ResizeStart"||d.action==="Move"){if(c.calendar.isCalendar)switch(d.action){case"ResizeEnd":d.cursor="s-resize",d.dpBorder="bottom";break;case"ResizeStart":d.cursor="n-resize",d.dpBorder="top";break;case"Move":d.cursor="move"}if(c.calendar.isScheduler||c.calendar.isMonth)switch(d.action){case"ResizeEnd":d.cursor="e-resize",d.dpBorder="right";break;case"ResizeStart":d.cursor="w-resize",d.dpBorder="left";break;case"Move":d.cursor="move"}m.onmousemove=function(O,R,L){return function(B){R.calendar.internal&&R.calendar.internal.dragInProgress&&R.calendar.internal.dragInProgress()||(B.cancelBubble=!0,O.style.cursor=L.cursor,L.dpBorder&&(O.dpBorder=L.dpBorder))}}(S,c,d),m.onmouseout=function(O,R,L){return function(B){O.style.cursor=""}}(S)}if((d.action==="ResizeEnd"||d.action==="ResizeStart")&&c.isEvent&&c.calendar.internal.touch){var P=function(O,R,L){return function(B){B.cancelBubble=!0;var F=R.calendar.internal.touch,$=B.touches?B.touches[0]:B,z={x:$.pageX,y:$.pageY};R.calendar.coords=F.relativeCoords(B),F.preventEventTap=!0,R.calendar.isScheduler?F.startResizing(O,L.action==="ResizeEnd"?"right":"left"):R.calendar.isCalendar&&F.startResizing(O,L.action==="ResizeEnd"?"bottom":"top",z)}}(S,c,d);e.rePassive(m,e.touch.start,P)}if(d.action==="ContextMenu"&&c.isEvent&&c.calendar.internal.touch){var P=function(R,L,B){return function(F){F.cancelBubble=!0,F.preventDefault(),p(R,L,B,F),L.calendar.internal.touch.preventEventTap=!0}}(S,c,d),M=function(R,L,B){return function(F){F.cancelBubble=!0,F.preventDefault()}}();e.reNonPassive(m,e.touch.start,P),e.reNonPassive(m,e.touch.end,M)}if(d.action==="Bubble"&&c.isEvent&&c.calendar.internal.touch){var P=function(L,B,F){return function($){$.cancelBubble=!0,$.preventDefault();var z=l(F,B,$);z.preventDefault.value||(f(B,F,$),B.calendar.internal.touch.preventEventTap=!0,typeof F.onClicked=="function"&&F.onClicked(z))}}(S,c,d),M=function(L,B,F){return function($){$.cancelBubble=!0,$.preventDefault()}}();e.reNonPassive(m,e.touch.start,P),e.reNonPassive(m,e.touch.end,M)}if(d.action==="Move"&&c.isEvent&&c.calendar.internal.touch){var P=function(R,L,B){return function(F){F.cancelBubble=!0;var $=L.calendar.internal.touch,z=F.touches?F.touches[0]:F,W={x:z.pageX,y:z.pageY};L.calendar.coords=$.relativeCoords(F),e.Global&&e.Global.touch&&(e.Global.touch.active=!0),$.preventEventTap=!0,$.startMoving(R,W)}}(S,c);e.rePassive(m,e.touch.start,P)}if(d.action==="Bubble"&&c.isEvent?(m.onmousemove=function(O,R,L){return function(B){L.bubble?L.bubble.showEvent(R,!0):R.calendar.bubble&&R.calendar.bubble.showEvent(R,!0)}}(o,c,d),m.onmouseout=function(O,R,L){return function(B){typeof e.Bubble<"u"&&(L.bubble?L.bubble.hideOnMouseOut():R.calendar.bubble&&R.calendar.bubble.hideOnMouseOut())}}(o,c,d)):d.action==="Bubble"&&c.isRow?(m.onmousemove=function(O,R,L){return function(B){L.bubble?L.bubble.showResource(R,!0):R.calendar.resourceBubble&&R.calendar.resourceBubble.showResource(R,!0)}}(o,c,d),m.onmouseout=function(O,R,L){return function(B){typeof e.Bubble<"u"&&(L.bubble?L.bubble.hideOnMouseOut():R.calendar.resourceBubble&&R.calendar.resourceBubble.hideOnMouseOut())}}(o,c,d)):d.action==="Bubble"&&typeof e.Bubble<"u"&&d.bubble instanceof e.Bubble&&(m.onmousemove=function(O,R,L){return function(B){L.bubble.showHtml(null,null)}}(o,c,d),m.onmouseout=function(O,R,L){return function(B){typeof e.Bubble<"u"&&L.bubble&&L.bubble.hideOnMouseOut()}}(o,c,d)),d.action==="HoverMenu"&&(m.onmousemove=function(O,R,L){return function(B){var F=L.menu;F&&F.show&&(F.visible?F.source&&typeof F.source.id<"u"&&F.source.id!==R.id&&F.show(R):F.show(R),F.cancelHideTimeout())}}(o,c,d),m.onmouseout=function(O,R,L){return function(B){var F=L.menu;F&&F.hideOnMouseOver&&F.delayedHide()}}(o,c,d)),d.action==="None"){var P=function(R,L,B){return function(F){var $=l(B,L,F);typeof B.onClicked=="function"&&B.onClicked($),F.preventDefault(),F.stopPropagation()}}(S,c,d);e.reNonPassive(m,e.touch.start,P)}return m.onmousedown=function(O,R,L){return function(B){if(typeof L.onmousedown=="function"&&L.onmousedown(B),typeof L.mousedown=="function"){var F={};F.area=L,F.div=O,F.originalEvent=B,F.source=R,L.mousedown(F)}if(L.action==="Move"&&R.isRow){var $=R.$.row;(0,R.calendar.internal.rowStartMoving)($)}typeof e.Bubble<"u"&&e.Bubble.hideActive(),L.action==="Move"&&(e.Global.movingAreaData=L.data),L.action==="Move"&&R.isEvent&&R.calendar.internal&&R.calendar.internal.startMoving&&R.calendar.internal.startMoving(O,B),L.action!=="Move"&&L.action!=="ResizeEnd"&&L.action!=="ResizeStart"&&L.action&&L.action!=="Default"&&(B.preventDefault(),B.cancelBubble=!0)}}(o,c,d),m.onclick=function(O,R,L){return function(B){var F=l(L,R,B);if(!F.preventDefault.value){switch(L.action){case"ContextMenu":p(O,R,L,B),B.cancelBubble=!0;break;case"None":B.cancelBubble=!0}typeof L.onClicked=="function"&&L.onClicked(F)}}}(o,c,d),typeof d.onMouseEnter=="function"&&m.addEventListener("mouseenter",function(O,R,L){return function(B){var F={};F.area=L,F.source=R,F.originalEvent=B,L.onMouseEnter(F)}}(o,c,d)),typeof d.onMouseLeave=="function"&&m.addEventListener("mouseleave",function(O,R,L){return function(B){var F={};F.area=L,F.source=R,F.originalEvent=B,L.onMouseLeave(F)}}(o,c,d)),m},e.Areas.all=[],e.Areas.hideAreas=function(o,c){if(o&&o&&o.active){var d=o.active,u=o.areas;if(d&&d.children&&c){var l=c.toElement||c.relatedTarget;if(~e.indexOf(d.children,l))return}if(!u||u.length===0)return void(o.active=null);e.de(u),o.active=null,o.areas=[],e.rfa(e.Areas.all,o),d.children=null}},e.Areas.hideAll=function(o){if(e.Areas.all&&e.Areas.all.length!==0)for(var c=0;c<e.Areas.all.length;c++)e.Areas.hideAreas(e.Areas.all[c],o)},e.Exception=function(o){return new Error(o)},e.Locale=function(o,c){if(this.id=o,this.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.dayNamesShort=["Su","Mo","Tu","We","Th","Fr","Sa"],this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.datePattern="M/d/yyyy",this.timePattern="H:mm",this.dateTimePattern="M/d/yyyy H:mm",this.timeFormat="Clock12Hours",this.weekStarts=0,c)for(var d in c)this[d]=c[d]},e.Locale.all={},e.Locale.find=function(o){if(!o)return null;var c=o.toLowerCase();return c.length>2&&(c=e.Util.replaceCharAt(c,2,"-")),e.Locale.all[c]},e.Locale.register=function(o){e.Locale.all[o.id]=o},e.Locale.register(new e.Locale("ca-es",{dayNames:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],dayNamesShort:["dg","dl","dt","dc","dj","dv","ds"],monthNames:["gener","febrer","mar","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre",""],monthNamesShort:["gen.","febr.","mar","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des.",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("cs-cz",{dayNames:["nedle","pondl","ter","steda","tvrtek","ptek","sobota"],dayNamesShort:["ne","po","t","st","t","p","so"],monthNames:["leden","nor","bezen","duben","kvten","erven","ervenec","srpen","z","jen","listopad","prosinec",""],monthNamesShort:["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII",""],timePattern:"H:mm",datePattern:"d. M. yyyy",dateTimePattern:"d. M. yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("da-dk",{dayNames:["sndag","mandag","tirsdag","onsdag","torsdag","fredag","lrdag"],dayNamesShort:["s","ma","ti","on","to","fr","l"],monthNames:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december",""],monthNamesShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"dd-MM-yyyy",dateTimePattern:"dd-MM-yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("de-at",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Jnner","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jn","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("de-ch",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("de-de",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("de-lu",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("en-au",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"d/MM/yyyy",dateTimePattern:"d/MM/yyyy h:mm tt",timeFormat:"Clock12Hours",weekStarts:1})),e.Locale.register(new e.Locale("en-ca",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd h:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),e.Locale.register(new e.Locale("en-gb",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("en-us",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"M/d/yyyy",dateTimePattern:"M/d/yyyy h:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),e.Locale.register(new e.Locale("es-es",{dayNames:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],dayNamesShort:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],monthNamesShort:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic.",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("es-mx",{dayNames:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],dayNamesShort:["do.","lu.","ma.","mi.","ju.","vi.","s."],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],monthNamesShort:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic.",""],timePattern:"hh:mm tt",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy hh:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),e.Locale.register(new e.Locale("eu-es",{dayNames:["igandea","astelehena","asteartea","asteazkena","osteguna","ostirala","larunbata"],dayNamesShort:["ig","al","as","az","og","or","lr"],monthNames:["urtarrila","otsaila","martxoa","apirila","maiatza","ekaina","uztaila","abuztua","iraila","urria","azaroa","abendua",""],monthNamesShort:["urt.","ots.","mar.","api.","mai.","eka.","uzt.","abu.","ira.","urr.","aza.","abe.",""],timePattern:"H:mm",datePattern:"yyyy/MM/dd",dateTimePattern:"yyyy/MM/dd H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("fi-fi",{dayNames:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],dayNamesShort:["su","ma","ti","ke","to","pe","la"],monthNames:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","keskuu","heinkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu",""],monthNamesShort:["tammi","helmi","maalis","huhti","touko","kes","hein","elo","syys","loka","marras","joulu",""],timePattern:"H:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("fr-be",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],monthNamesShort:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""],timePattern:"HH:mm",datePattern:"dd-MM-yy",dateTimePattern:"dd-MM-yy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("fr-ca",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],monthNamesShort:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),e.Locale.register(new e.Locale("fr-ch",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],monthNamesShort:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("fr-fr",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],monthNamesShort:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("fr-lu",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],monthNamesShort:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("gl-es",{dayNames:["domingo","luns","martes","mrcores","xoves","venres","sbado"],dayNamesShort:["do","lu","ma","m","xo","ve","s"],monthNames:["xaneiro","febreiro","marzo","abril","maio","xuo","xullo","agosto","setembro","outubro","novembro","decembro",""],monthNamesShort:["xan","feb","mar","abr","maio","xuo","xul","ago","set","out","nov","dec",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("it-it",{dayNames:["domenica","luned","marted","mercoled","gioved","venerd","sabato"],dayNamesShort:["do","lu","ma","me","gi","ve","sa"],monthNames:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],monthNamesShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("it-ch",{dayNames:["domenica","luned","marted","mercoled","gioved","venerd","sabato"],dayNamesShort:["do","lu","ma","me","gi","ve","sa"],monthNames:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],monthNamesShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("ja-jp",{dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],monthNames:["1","2","3","4","5","6","7","8","9","10","11","12",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"H:mm",datePattern:"yyyy/MM/dd",dateTimePattern:"yyyy/MM/dd H:mm",timeFormat:"Clock24Hours",weekStarts:0})),e.Locale.register(new e.Locale("ko-kr",{dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],monthNames:["1","2","3","4","5","6","7","8","9","10","11","12",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"tt h:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd tt h:mm",timeFormat:"Clock12Hours",weekStarts:0})),e.Locale.register(new e.Locale("nb-no",{dayNames:["sndag","mandag","tirsdag","onsdag","torsdag","fredag","lrdag"],dayNamesShort:["s","ma","ti","on","to","fr","l"],monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("nl-nl",{dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zo","ma","di","wo","do","vr","za"],monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"d-M-yyyy",dateTimePattern:"d-M-yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("nl-be",{dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zo","ma","di","wo","do","vr","za"],monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"H:mm",datePattern:"d/MM/yyyy",dateTimePattern:"d/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("nn-no",{dayNames:["sndag","mndag","tysdag","onsdag","torsdag","fredag","laurdag"],dayNamesShort:["s","m","ty","on","to","fr","la"],monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("pt-br",{dayNames:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"],dayNamesShort:["D","S","T","Q","Q","S","S"],monthNames:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],monthNamesShort:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),e.Locale.register(new e.Locale("pl-pl",{dayNames:["niedziela","poniedziaek","wtorek","roda","czwartek","pitek","sobota"],dayNamesShort:["N","Pn","Wt","r","Cz","Pt","So"],monthNames:["stycze","luty","marzec","kwiecie","maj","czerwiec","lipiec","sierpie","wrzesie","padziernik","listopad","grudzie",""],monthNamesShort:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa","lis","gru",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("pt-pt",{dayNames:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"],dayNamesShort:["D","S","T","Q","Q","S","S"],monthNames:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],monthNamesShort:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),e.Locale.register(new e.Locale("ro-ro",{dayNames:["duminic","luni","mari","miercuri","joi","vineri","smbt"],dayNamesShort:["D","L","Ma","Mi","J","V","S"],monthNames:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie",""],monthNamesShort:["ian.","feb.","mar.","apr.","mai.","iun.","iul.","aug.","sep.","oct.","nov.","dec.",""],timePattern:"H:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("ru-ru",{dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],monthNames:["","","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","","",""],timePattern:"H:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("sk-sk",{dayNames:["nedea","pondelok","utorok","streda","tvrtok","piatok","sobota"],dayNamesShort:["ne","po","ut","st","t","pi","so"],monthNames:["janur","februr","marec","aprl","mj","jn","jl","august","september","oktber","november","december",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"H:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("sv-se",{dayNames:["sndag","mndag","tisdag","onsdag","torsdag","fredag","lrdag"],dayNamesShort:["s","m","ti","on","to","fr","l"],monthNames:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december",""],monthNamesShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("tr-tr",{dayNames:["Pazar","Pazartesi","Sal","aramba","Perembe","Cuma","Cumartesi"],dayNamesShort:["Pz","Pt","Sa","a","Pe","Cu","Ct"],monthNames:["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk",""],monthNamesShort:["Oca","ub","Mar","Nis","May","Haz","Tem","Au","Eyl","Eki","Kas","Ara",""],timePattern:"HH:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("uk-ua",{dayNames:["","","","","","'",""],dayNamesShort:["","","","","","",""],monthNames:["","","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","","",""],timePattern:"H:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("zh-cn",{dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],monthNames:["","","","","","","","","","","","",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"H:mm",datePattern:"yyyy/M/d",dateTimePattern:"yyyy/M/d H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("zh-tw",{dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],monthNames:["","","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","","",""],timePattern:"tt hh:mm",datePattern:"yyyy/M/d",dateTimePattern:"yyyy/M/d tt hh:mm",timeFormat:"Clock12Hours",weekStarts:0})),e.Locale.US=e.Locale.find("en-us"),e.Switcher=function(o){function c(u,l,f){var p={};p.start=u,p.end=l,p.day=f,p.target=d.l.control,p.preventDefault=function(){this.preventDefault.value=!0};var g=d.I;g&&g.start===p.start&&g.end===p.end&&g.day===p.day&&g.target===p.target||(d.I=p,typeof d.onChange=="function"&&(d.onChange(p),p.preventDefault.value)||typeof d.onTimeRangeSelect=="function"&&(d.onTimeRangeSelect(p),p.preventDefault.value)||(d.l.t(d.m),typeof d.onChanged=="function"&&d.onChanged(p),typeof d.onTimeRangeSelected=="function"&&d.onTimeRangeSelected(p)))}var d=this;this.f=[],this.j=[],this.k={},this.selectedClass=null,this.syncScrollbar=!0,this.l=null,this.m=e.Date.today(),this.n=null,this.onChange=null,this.onChanged=null,this.onSelect=null,this.k.updateMode=function(u){var l=d.k.control;l&&(l.selectMode=u,l.select(d.m))},this.addView=function(u,l){var f;if(typeof u=="string"){if(f=document.getElementById(u),!f)throw"Element not found: "+u}else f=u;var p=f,g={};return g.o=!0,g.p=p.id,g.control=p,g.q=l||{},g.s=function(){p.hide?p.hide():p.nav&&p.nav.top?p.nav.top.style.display="none":p.style.display="none"},g.t=function(x){(function(){return!!p.backendUrl||!(typeof WebForm_DoCallback!="function"||!p.uniqueID)})()?p.commandCallBack&&p.commandCallBack("navigate",{day:x}):(p.startDate=x,p.update())},g.u=function(){d.z(),p.show?p.show():p.nav&&p.nav.top?p.nav.top.style.display="":p.style.display=""},g.A=function(){if(g.q.navigatorSelectMode)return g.q.navigatorSelectMode;if(p.isCalendar)switch(p.viewType){case"Day":return"day";case"Week":return"week";case"WorkWeek":return"week";default:return"day"}else if(p.isMonth)switch(p.viewType){case"Month":return"month";case"Weeks":return"week";default:return"day"}return"day"},this.f.push(g),g},this.addTrigger=function(u,l){var f;if(typeof u=="string"){if(f=document.getElementById(u),!f)throw"Element not found: "+u}else f=u;var p=this.B(l);p||(p=this.addView(l));var g={};return g.C=!0,g.D=f,g.p=f.id,g.E=p,g.F=function(x){d.show(g),d.G(g),x&&(x.preventDefault?x.preventDefault():x.returnValue=!1)},e.re(f,"click",g.F),this.j.push(g),g},this.addButton=this.addTrigger,this.select=function(u){var l=this.H(u);l?l.F():this.j.length>0&&this.j[0].F()},this.H=function(u){for(var l=0;l<this.j.length;l++){var f=this.j[l];if(f.p===u)return f}return null},this.G=function(u){if(this.selectedClass){for(var l=0;l<this.j.length;l++){var f=this.j[l];e.Util.removeClass(f.D,this.selectedClass)}e.Util.addClass(u.D,this.selectedClass)}},this.addNavigator=function(u){d.k.control=u,u.timeRangeSelectedHandling="JavaScript",u.onTimeRangeSelected=function(){var l,f,p;if(u.api===1)l=arguments[0],f=arguments[1],p=arguments[2];else{var g=arguments[0];l=g.start,f=g.end,p=g.day}d.m=p,c(l,f,p)}},this.show=function(u){var l,f;if(u.C)f=u,l=f.E;else if(l=u.o?u:this.B(u),this.l===l)return;if(d.onSelect){var p={};p.source=f?f.D:null,p.target=l.control,d.onSelect(p)}if(d.syncScrollbar){var g=this.l&&this.l.control;g&&g.isCalendar&&(d.n=g.getScrollY())}this.l=l,l.u(),d.n!==null&&l.control.isCalendar&&l.control.setScrollY(d.n);var x=l.A();d.k.updateMode(x),c(d.k.control.selectionStart,d.k.control.selectionEnd.addDays(1),d.k.control.selectionDay)},this.B=function(u){for(var l=0;l<this.f.length;l++)if(this.f[l].control===u)return this.f[l];return null},this.z=function(){for(var u=0;u<this.f.length;u++)this.f[u].s()},Object.defineProperty(this,"active",{get:function(){return d.l}}),this.events={},this.events.load=function(u,l,f){if(!d.l||!d.l.control)throw"DayPilot.Switcher.events.load(): Active view not found";d.l.control.events.load(u,l,f)},this.I=null,this.J=function(){if(o)for(var u in o)if(u==="triggers"){var l=o.triggers||[];l.forEach(function(f){d.addTrigger(f.id,f.view)})}else u==="navigator"?d.addNavigator(o.navigator):d[u]=o[u]},this.J()},e.Duration=function(o){var c=this,d=864e5,u=36e5,l=6e4,f=1e3;if(arguments.length===2){var p=arguments[0],g=arguments[1];if(!(p instanceof e.Date)&&typeof p!="string")throw"DayPilot.Duration(): Invalid start argument, DayPilot.Date expected";if(!(g instanceof e.Date)&&typeof g!="string")throw"DayPilot.Duration(): Invalid end argument, DayPilot.Date expected";typeof p=="string"&&(p=new e.Date(p)),typeof g=="string"&&(g=new e.Date(g)),o=g.getTime()-p.getTime()}return this.ticks=o,e.Date.Cache.DurationCtor[""+o]?e.Date.Cache.DurationCtor[""+o]:(e.Date.Cache.DurationCtor[""+o]=this,this.toString=function(x){if(!x)return c.days()+"."+c.hours()+":"+c.minutes()+":"+c.seconds()+"."+c.milliseconds();var S=c.minutes();S=(S<10?"0":"")+S;var m=x;return m=m.replace("mm",S),m=m.replace("m",c.minutes()),m=m.replace("H",c.hours()),m=m.replace("h",c.hours()),m=m.replace("d",c.days()),m=m.replace("s",c.seconds())},this.totalHours=function(){return c.ticks/u},this.totalDays=function(){return c.ticks/d},this.totalMinutes=function(){return c.ticks/l},this.totalSeconds=function(){return c.ticks/f},this.days=function(){return Math.floor(c.totalDays())},this.hours=function(){var x=c.ticks-c.days()*d;return Math.floor(x/u)},this.minutes=function(){var x=c.ticks-Math.floor(c.totalHours())*u;return Math.floor(x/l)},this.seconds=function(){var x=c.ticks-Math.floor(c.totalMinutes())*l;return Math.floor(x/f)},void(this.milliseconds=function(){return c.ticks%f}))},e.Duration.weeks=function(o){return new e.Duration(1e3*o*60*60*24*7)},e.Duration.days=function(o){return new e.Duration(1e3*o*60*60*24)},e.Duration.hours=function(o){return new e.Duration(1e3*o*60*60)},e.Duration.minutes=function(o){return new e.Duration(1e3*o*60)},e.Duration.seconds=function(o){return new e.Duration(1e3*o)},e.TimeSpan=function(){throw"Please use DayPilot.Duration class instead of DayPilot.TimeSpan."};try{e.TimeSpan.prototype=Object.create(e.Duration.prototype)}catch{}e.Date=function(o,c){if(o instanceof e.Date)return o;var d;e.Util.isNullOrUndefined(o)&&(d=e.DateUtil.fromLocal().getTime(),o=d);var u=e.Date.Cache.Ctor;if(u[o])return e.Stats.cacheHitsCtor+=1,u[o];var l=!1;if(typeof o=="string"||o instanceof String)d=e.DateUtil.fromStringSortable(o,c).getTime(),l=!0;else if(typeof o=="number"||o instanceof Number){if(isNaN(o))throw"Cannot create DayPilot.Date from NaN";d=o}else{if(!(o instanceof Date))throw"Unrecognized parameter: use Date, number or string in ISO 8601 format";d=c?e.DateUtil.fromLocal(o).getTime():o.getTime()}var f=t(d);return u[f]?u[f]:(u[f]=this,u[d]=this,l&&f!==o&&e.DateUtil.hasTzSpec(o)&&(u[o]=this),Object.defineProperty?(Object.defineProperty(this,"ticks",{get:function(){return d}}),Object.defineProperty(this,"value",{value:f,writable:!1,enumerable:!0})):(this.ticks=d,this.value=f),e.Date.Config.legacyShowD&&(this.d=new Date(d)),void(e.Stats.dateObjects+=1))},e.Date.Config={},e.Date.Config.legacyShowD=!1,e.Date.Cache={},e.Date.Cache.Parsing={},e.Date.Cache.Ctor={},e.Date.Cache.Ticks={},e.Date.Cache.DurationCtor={},e.Date.Cache.clear=function(){e.Date.Cache.Parsing={},e.Date.Cache.Ctor={},e.Date.Cache.Ticks={},e.Date.Cache.DurationCtor={}},e.Date.prototype.addDays=function(o){return o?new e.Date(this.ticks+24*o*60*60*1e3):this},e.Date.prototype.addHours=function(o){return o?this.addTime(60*o*60*1e3):this},e.Date.prototype.addMilliseconds=function(o){return o?this.addTime(o):this},e.Date.prototype.addMinutes=function(o){return o?this.addTime(60*o*1e3):this},e.Date.prototype.addMonths=function(o){if(!o)return this;var c=new Date(this.ticks),d=c.getUTCFullYear(),u=c.getUTCMonth()+1;if(o>0){for(;o>=12;)o-=12,d++;o>12-u?(d++,u=o-(12-u)):u+=o}else{for(;o<=-12;)o+=12,d--;u+o<=0?(d--,u=12+u+o):u+=o}var l=new Date(c.getTime());l.setUTCDate(1),l.setUTCFullYear(d),l.setUTCMonth(u-1);var f=new e.Date(l).daysInMonth();return l.setUTCDate(Math.min(f,c.getUTCDate())),new e.Date(l)},e.Date.prototype.addSeconds=function(o){return o?this.addTime(1e3*o):this},e.Date.prototype.addTime=function(o){return o?(o instanceof e.Duration&&(o=o.ticks),new e.Date(this.ticks+o)):this},e.Date.prototype.addYears=function(o){var c=new Date(this.ticks),d=new Date(this.ticks),u=this.getYear()+o,l=this.getMonth();d.setUTCDate(1),d.setUTCFullYear(u),d.setUTCMonth(l);var f=new e.Date(d).daysInMonth();return d.setUTCDate(Math.min(f,c.getUTCDate())),new e.Date(d)},e.Date.prototype.dayOfWeek=function(){return new Date(this.ticks).getUTCDay()},e.Date.prototype.getDayOfWeek=function(){return new Date(this.ticks).getUTCDay()},e.Date.prototype.getDayOfYear=function(){var o=this.firstDayOfYear();return e.DateUtil.daysDiff(o,this)+1},e.Date.prototype.daysInMonth=function(){var o=new Date(this.ticks),c=o.getUTCMonth()+1,d=o.getUTCFullYear(),u=[31,28,31,30,31,30,31,31,30,31,30,31];return c!==2?u[c-1]:d%4!==0||d%100===0&&d%400!==0?u[1]:u[1]+1},e.Date.prototype.daysInYear=function(){var o=this.getYear();return o%4!==0||o%100===0&&o%400!==0?365:366},e.Date.prototype.dayOfYear=function(){return Math.ceil((this.getDatePart().getTime()-this.firstDayOfYear().getTime())/864e5)+1},e.Date.prototype.equals=function(o){if(o===null)return!1;if(o instanceof e.Date)return this===o;throw"The parameter must be a DayPilot.Date object (DayPilot.Date.equals())"},e.Date.prototype.firstDayOfMonth=function(){var o=new Date;return o.setUTCFullYear(this.getYear(),this.getMonth(),1),o.setUTCHours(0),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMilliseconds(0),new e.Date(o)},e.Date.prototype.firstDayOfYear=function(){var o=this.getYear(),c=new Date;return c.setUTCFullYear(o,0,1),c.setUTCHours(0),c.setUTCMinutes(0),c.setUTCSeconds(0),c.setUTCMilliseconds(0),new e.Date(c)},e.Date.prototype.firstDayOfWeek=function(o){var c=this;if(o instanceof e.Locale)o=o.weekStarts;else if(typeof o=="string"&&e.Locale.find(o)){var d=e.Locale.find(o);o=d.weekStarts}else o=o||0;for(var u=c.dayOfWeek();u!==o;)c=c.addDays(-1),u=c.dayOfWeek();return new e.Date(c)},e.Date.prototype.getDay=function(){return new Date(this.ticks).getUTCDate()},e.Date.prototype.getDatePart=function(){var o=new Date(this.ticks);return o.setUTCHours(0),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMilliseconds(0),new e.Date(o)},e.Date.prototype.getYear=function(){return new Date(this.ticks).getUTCFullYear()},e.Date.prototype.getHours=function(){return new Date(this.ticks).getUTCHours()},e.Date.prototype.getMilliseconds=function(){return new Date(this.ticks).getUTCMilliseconds()},e.Date.prototype.getMinutes=function(){return new Date(this.ticks).getUTCMinutes()},e.Date.prototype.getMonth=function(){return new Date(this.ticks).getUTCMonth()},e.Date.prototype.getSeconds=function(){return new Date(this.ticks).getUTCSeconds()},e.Date.prototype.getTotalTicks=function(){return this.getTime()},e.Date.prototype.getTime=function(){return this.ticks},e.Date.prototype.getTimePart=function(){var o=this.getDatePart();return e.DateUtil.diff(this,o)},e.Date.prototype.lastDayOfMonth=function(){var o=new Date(this.firstDayOfMonth().getTime()),c=this.daysInMonth();return o.setUTCDate(c),new e.Date(o)},e.Date.prototype.weekNumber=function(){var o=this.firstDayOfYear(),c=(this.getTime()-o.getTime())/864e5;return Math.ceil((c+o.dayOfWeek()+1)/7)},e.Date.prototype.weekNumberISO=function(){var o=!1,c=this.dayOfYear(),d=this.firstDayOfYear().dayOfWeek(),u=this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();d===0&&(d=7),u===0&&(u=7);var l=8-d;d!==4&&u!==4||(o=!0);var f=Math.ceil((c-l)/7),p=f;return l>=4&&(p+=1),p>52&&!o&&(p=1),p===0&&(p=this.firstDayOfYear().addDays(-1).weekNumberISO()),p},e.Date.prototype.toDateLocal=function(){var o=new Date(this.ticks),c=new Date;return c.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),c.setHours(o.getUTCHours()),c.setMinutes(o.getUTCMinutes()),c.setSeconds(o.getUTCSeconds()),c.setMilliseconds(o.getUTCMilliseconds()),c},e.Date.prototype.toDate=function(){return new Date(this.ticks)},e.Date.prototype.toJSON=function(){return this.value},e.Date.prototype.toString=function(o,c){return o?new i(o,c).print(this):this.toStringSortable()},e.Date.prototype.toStringSortable=function(){return t(this.ticks)},e.Date.parse=function(o,c,d){return new i(c,d).parse(o)},e.Date.today=function(){return new e.Date(e.DateUtil.localToday(),!0)},e.Date.now=function(){return new e.Date},e.Date.fromYearMonthDay=function(o,c,d){c=c||1,d=d||1;var u=new Date(0);return u.setUTCFullYear(o),u.setUTCMonth(c-1),u.setUTCDate(d),new e.Date(u)},e.DateUtil={},e.DateUtil.fromStringSortable=function(o,c){if(!o)throw"Can't create DayPilot.Date from an empty string";var d=o.length,u=d===10,l=d===19,f=d>19;if(!u&&!l&&!f)throw"Invalid string format (use '2010-01-01' or '2010-01-01T00:00:00'): "+o;if(e.Date.Cache.Parsing[o]&&!c)return e.Stats.cacheHitsParsing+=1,e.Date.Cache.Parsing[o];var p=o.substring(0,4),g=o.substring(5,7),x=o.substring(8,10),S=new Date(0);if(S.setUTCFullYear(p,g-1,x),u)return e.Date.Cache.Parsing[o]=S,S;var m=o.substring(11,13),y=o.substring(14,16),w=o.substring(17,19);if(S.setUTCHours(m),S.setUTCMinutes(y),S.setUTCSeconds(w),l)return e.Date.Cache.Parsing[o]=S,S;var C=o[19],E=0;if(C==="."){var N=parseInt(o.substring(20,23));S.setUTCMilliseconds(N),E=e.DateUtil.getTzOffsetMinutes(o.substring(23))}else E=e.DateUtil.getTzOffsetMinutes(o.substring(19));var k=new e.Date(S);return c||(k=k.addMinutes(-E)),S=k.toDate(),e.Date.Cache.Parsing[o]=S,S},e.DateUtil.getTzOffsetMinutes=function(o){if(e.Util.isNullOrUndefined(o)||o===""||o==="Z")return 0;var c=o[0],d=parseInt(o.substring(1,3)),u=parseInt(o.substring(4)),l=60*d+u;if(c==="-")return-l;if(c==="+")return l;throw"Invalid timezone spec: "+o},e.DateUtil.hasTzSpec=function(o){return!!o.indexOf("+")||!!o.indexOf("-")},e.DateUtil.daysDiff=function(o,c){if(o&&c||function(){throw"two parameters required"}(),o=new e.Date(o),c=new e.Date(c),o.getTime()>c.getTime())return null;for(var d=0,u=o.getDatePart(),l=c.getDatePart();u<l;)u=u.addDays(1),d++;return d},e.DateUtil.daysSpan=function(o,c){if(o&&c||function(){throw"two parameters required"}(),o=new e.Date(o),c=new e.Date(c),o.getTime()===c.getTime())return 0;var d=e.DateUtil.daysDiff(o,c);return c.getTime()==c.getDatePart().getTime()&&d--,d},e.DateUtil.diff=function(o,c){if(!(o&&c&&o.getTime&&c.getTime))throw"Both compared objects must be Date objects (DayPilot.Date.diff).";return o.getTime()-c.getTime()},e.DateUtil.fromLocal=function(o){o||(o=new Date);var c=new Date;return c.setUTCFullYear(o.getFullYear(),o.getMonth(),o.getDate()),c.setUTCHours(o.getHours()),c.setUTCMinutes(o.getMinutes()),c.setUTCSeconds(o.getSeconds()),c.setUTCMilliseconds(o.getMilliseconds()),c},e.DateUtil.localToday=function(){var o=new Date;return o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0),o},e.DateUtil.hours=function(o,c){var d=o.getUTCMinutes();d<10&&(d="0"+d);var u=o.getUTCHours();if(c){var l=u<12,u=u%12;return u===0&&(u=12),u+":"+d+" "+(l?"AM":"PM")}return u+":"+d},e.DateUtil.max=function(o,c){return o.getTime()>c.getTime()?o:c},e.DateUtil.min=function(o,c){return o.getTime()<c.getTime()?o:c};var i=function(o,d){typeof d=="string"&&(d=e.Locale.find(d));var d=d||e.Locale.US,u=[{seq:"yyyy",expr:"[0-9]{4,4}",str:function(f){return f.getYear()}},{seq:"yy",expr:"[0-9]{2,2}",str:function(f){return f.getYear()%100}},{seq:"mm",expr:"[0-9]{2,2}",str:function(f){var p=f.getMinutes();return p<10?"0"+p:p}},{seq:"m",expr:"[0-9]{1,2}",str:function(f){return f.getMinutes()}},{seq:"HH",expr:"[0-9]{2,2}",str:function(f){var p=f.getHours();return p<10?"0"+p:p}},{seq:"H",expr:"[0-9]{1,2}",str:function(f){return f.getHours()}},{seq:"hh",expr:"[0-9]{2,2}",str:function(f){var p=f.getHours(),p=p%12;p===0&&(p=12);var g=p;return g<10?"0"+g:g}},{seq:"h",expr:"[0-9]{1,2}",str:function(f){var p=f.getHours(),p=p%12;return p===0&&(p=12),p}},{seq:"ss",expr:"[0-9]{2,2}",str:function(f){var p=f.getSeconds();return p<10?"0"+p:p}},{seq:"s",expr:"[0-9]{1,2}",str:function(f){return f.getSeconds()}},{seq:"MMMM",expr:"[^\\s0-9]*",str:function(f){return d.monthNames[f.getMonth()]},transform:function(f){var p=e.indexOf(d.monthNames,f,r);return p<0?null:p+1}},{seq:"MMM",expr:"[^\\s0-9]*",str:function(f){return d.monthNamesShort[f.getMonth()]},transform:function(f){var p=e.indexOf(d.monthNamesShort,f,r);return p<0?null:p+1}},{seq:"MM",expr:"[0-9]{2,2}",str:function(f){var p=f.getMonth()+1;return p<10?"0"+p:p}},{seq:"M",expr:"[0-9]{1,2}",str:function(f){return f.getMonth()+1}},{seq:"dddd",expr:"[^\\s0-9]*",str:function(f){return d.dayNames[f.getDayOfWeek()]}},{seq:"ddd",expr:"[^\\s0-9]*",str:function(f){return d.dayNamesShort[f.getDayOfWeek()]}},{seq:"dd",expr:"[0-9]{2,2}",str:function(f){var p=f.getDay();return p<10?"0"+p:p}},{seq:"%d",expr:"[0-9]{1,2}",str:function(f){return f.getDay()}},{seq:"d",expr:"[0-9]{1,2}",str:function(f){return f.getDay()}},{seq:"tt",expr:"(AM|PM|am|pm)",str:function(f){return f.getHours()<12?"AM":"PM"},transform:function(f){return f.toUpperCase()}}],l=function(f){return f.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};this.init=function(){this.year=this.findSequence("yyyy"),this.month=this.findSequence("MMMM")||this.findSequence("MMM")||this.findSequence("MM")||this.findSequence("M"),this.day=this.findSequence("dd")||this.findSequence("d"),this.hours=this.findSequence("HH")||this.findSequence("H"),this.minutes=this.findSequence("mm")||this.findSequence("m"),this.seconds=this.findSequence("ss")||this.findSequence("s"),this.ampm=this.findSequence("tt"),this.hours12=this.findSequence("hh")||this.findSequence("h")},this.findSequence=function(f){function p(g){return parseInt(g)}return o.indexOf(f)===-1?null:{findValue:function(g){for(var x=l(o),S=null,m=0;m<u.length;m++){var y=(u[m].length,f===u[m].seq),w=u[m].expr;y&&(w="("+w+")",S=u[m].transform),x=x.replace(u[m].seq,w)}x="^"+x+"$";try{var C=new RegExp(x),E=C.exec(g);return E?(S=S||p)(E[1]):null}catch{throw"unable to create regex from: "+x}}}},this.print=function(f){for(var p=function(k){for(var A=0;A<u.length;A++)if(u[A]&&u[A].seq===k)return u[A];return null},g=o.length<=0,x=0,S=[];!g;){var m=o.substring(x),y=/%?(.)\1*/.exec(m);if(y&&y.length>0){var w=y[0],C=p(w);C?S.push(C):S.push(w),x+=w.length,g=o.length<=x}else g=!0}for(var E=0;E<S.length;E++){var N=S[E];typeof N!="string"&&(S[E]=N.str(f))}return S.join("")},this.parse=function(f){var p=this.year.findValue(f);if(!p)return null;var g=this.month.findValue(f);if(e.Util.isNullOrUndefined(g)||g>12||g<1)return null;var x=this.day.findValue(f),S=e.Date.fromYearMonthDay(p,g).daysInMonth();if(x<1||x>S)return null;var m=this.hours?this.hours.findValue(f):0,y=this.minutes?this.minutes.findValue(f):0,w=this.seconds?this.seconds.findValue(f):0,C=this.ampm?this.ampm.findValue(f):null;if(this.ampm&&this.hours12){var E=this.hours12.findValue(f);if(E<1||E>12)return null;m=C==="PM"?E===12?12:E+12:E===12?0:E}if(m<0||m>23||y<0||y>59||w<0||w>59)return null;var N=new Date;return N.setUTCFullYear(p,g-1,x),N.setUTCHours(m),N.setUTCMinutes(y),N.setUTCSeconds(w),N.setUTCMilliseconds(0),new e.Date(N)},this.init()};e.ColorUtil={},e.ColorUtil.hexToRgb=function(o){if(!/^#[0-9a-f]{6}$/i.test(o))throw new e.Exception("Invalid color, only full hex color string accepted, eg. '#ffaaff'.");return o=o.replace("#",""),{r:parseInt(o.substring(0,2),16),g:parseInt(o.substring(2,4),16),b:parseInt(o.substring(4,6),16)}},e.ColorUtil.rgbToHex=function(o){return"#"+n(o.r)+n(o.g)+n(o.b)},e.ColorUtil.adjustLuminance=function(o,c){return{r:o.r+c,g:o.g+c,b:o.b+c}},e.ColorUtil.darker=function(o,c){var d="";o.length===9&&(d=o.slice(7,9),o=o.slice(0,7));var u=e.ColorUtil.hexToRgb(o);typeof c!="number"&&(c=1);var l=17,f=Math.round(c*l),p=e.ColorUtil.adjustLuminance(u,-f);return e.ColorUtil.rgbToHex(p)+d},e.ColorUtil.lighter=function(o,c){return typeof c!="number"&&(c=1),e.ColorUtil.darker(o,-c)},e.ColorUtil.pl=function(o){var c=e.ColorUtil.hexToRgb(o),d=c.r/255,u=c.g/255,l=c.b/255;return Math.sqrt(.299*d*d+.587*u*u+.114*l*l)},e.ColorUtil.contrasting=function(o,c,d){var u=e.ColorUtil.pl(o);return c=c||"#ffffff",d=d||"#000000",u>.5?d:c},e.Event=function(o,c,d){var u=this;this.calendar=c,this.data=o||{},this.part=d||{},typeof this.data.id>"u"&&(this.data.id=this.data.value);var l={},f=["id","text","start","end","resource"];this.isEvent=!0,this.temp=function(){if(l.dirty)return l;for(var p=0;p<f.length;p++)l[f[p]]=u.data[f[p]];return l.dirty=!0,l},this.copy=function(){for(var p={},g=0;g<f.length;g++)p[f[g]]=u.data[f[g]];return p},this.commit=function(){if(l.dirty){for(var p=0;p<f.length;p++)u.data[f[p]]=l[f[p]];l.dirty=!1}},this.dirty=function(){return l.dirty},this.id=function(p){return typeof p>"u"?u.data.id:void(this.temp().id=p)},this.value=function(p){return typeof p>"u"?u.id():void u.id(p)},this.text=function(p){return typeof p>"u"?u.data.text:(this.temp().text=p,void this.client.innerHTML(p))},this.start=function(p){return typeof p>"u"?new e.Date(u.data.start):void(this.temp().start=new e.Date(p))},this.end=function(p){return typeof p>"u"?new e.Date(u.data.end):void(this.temp().end=new e.Date(p))},this.resource=function(p){return typeof p>"u"?u.data.resource:void(this.temp().resource=p)},this.duration=function(){return new e.Duration(this.start(),this.end())},this.rawend=function(p){if(typeof p>"u")return c&&c.internal.adjustEndIn?c.internal.adjustEndIn(new e.Date(u.data.end)):new e.Date(u.data.end);throw new e.Exception("DayPilot.Event.rawend() is readonly")},this.partStart=function(){return new e.Date(this.part.start)},this.partEnd=function(){return new e.Date(this.part.end)},this.tag=function(p){var g=u.data.tag;if(!g)return null;if(typeof p>"u")return u.data.tag;for(var x=u.calendar.tagFields,S=-1,m=0;m<x.length;m++)p===x[m]&&(S=m);if(S===-1)throw"Field name not found.";return g[S]},this.client={},this.client.innerHTML=function(p){if(typeof p>"u"){var g=u.cache||u.data,x=u.calendar&&u.calendar.internal&&u.calendar.internal.xssTextHtml;return x?x(g.text,g.html):e.Util.escapeTextHtml(g.text,g.html)}u.data.html=p},this.client.html=this.client.innerHTML,this.client.header=function(p){return typeof p>"u"?u.data.header:void(u.data.header=p)},this.client.cssClass=function(p){return typeof p>"u"?u.cache&&typeof u.cache.cssClass<"u"?u.cache.cssClass:u.data.cssClass:void(u.data.cssClass=p)},this.client.toolTip=function(p){return typeof p>"u"?u.cache&&typeof u.cache.toolTip<"u"?u.cache.toolTip:typeof u.data.toolTip<"u"?u.data.toolTip:u.data.text:void(u.data.toolTip=p)},this.client.barVisible=function(p){return typeof p>"u"?u.cache&&typeof u.cache.barHidden<"u"?!u.cache.barHidden:u.calendar.durationBarVisible&&!u.data.barHidden:void(u.data.barHidden=!p)},this.client.backColor=function(p){return typeof p>"u"?u.cache&&typeof u.cache.backColor<"u"?u.cache.backColor:typeof u.data.backColor<"u"?u.data.backColor:u.calendar.eventBackColor:void(u.data.backColor=p)},this.client.borderColor=function(p){return typeof p>"u"?u.cache&&typeof u.cache.borderColor<"u"?u.cache.borderColor:typeof u.data.borderColor<"u"?u.data.borderColor:u.calendar.eventBorderColor:void(u.data.borderColor=p)},this.client.contextMenu=function(p){if(typeof p>"u"){if(u.oContextMenu)return u.oContextMenu;u.cache?u.cache.contextMenu:u.data.contextMenu}else u.oContextMenu=p},this.client.moveEnabled=function(p){return typeof p>"u"?u.cache&&typeof u.cache.moveDisabled<"u"?!u.cache.moveDisabled:u.calendar.eventMoveHandling!=="Disabled"&&!u.data.moveDisabled:void(u.data.moveDisabled=!p)},this.client.resizeEnabled=function(p){return typeof p>"u"?u.cache&&typeof u.cache.resizeDisabled<"u"?!u.cache.resizeDisabled:u.calendar.eventResizeHandling!=="Disabled"&&!u.data.resizeDisabled:void(u.data.resizeDisabled=!p)},this.client.clickEnabled=function(p){return typeof p>"u"?u.cache&&typeof u.cache.clickDisabled<"u"?!u.cache.clickDisabled:u.calendar.eventClickHandling!=="Disabled"&&!u.data.clickDisabled:void(u.data.clickDisabled=!p)},this.client.rightClickEnabled=function(p){return typeof p>"u"?u.cache&&typeof u.cache.rightClickDisabled<"u"?!u.cache.rightClickDisabled:u.calendar.eventRightClickHandling!=="Disabled"&&!u.data.rightClickDisabled:void(u.data.rightClickDisabled=!p)},this.client.deleteEnabled=function(p){return typeof p>"u"?u.cache&&typeof u.cache.deleteDisabled<"u"?!u.cache.deleteDisabled:u.calendar.eventDeleteHandling!=="Disabled"&&!u.data.deleteDisabled:void(u.data.deleteDisabled=!p)},this.toJSON=function(p){var g={};if(g.value=this.id(),g.id=this.id(),g.text=this.text(),g.start=this.start(),g.end=this.end(),g.tag={},u.calendar&&u.calendar.tagFields)for(var x=u.calendar.tagFields,S=0;S<x.length;S++)g.tag[x[S]]=this.tag(x[S]);return g}}}}(),e.JSON={},function(){function t(u){return u<10?"0"+u:u}function r(u){return c.lastIndex=0,c.test(u)?'"'+u.replace(c,function(l){var f=d[l];return typeof f=="string"?f:"\\u"+("0000"+l.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+u+'"'}function n(u,l){var f,p,g,x,S,m=s,y=l[u];switch(y&&typeof y=="object"&&typeof y.toJSON2=="function"?y=y.toJSON2(u):y&&typeof y=="object"&&typeof y.toJSON=="function"&&!y.ignoreToJSON&&(y=y.toJSON(u)),typeof o=="function"&&(y=o.call(l,u,y)),typeof y){case"string":return r(y);case"number":return isFinite(y)?String(y):"null";case"boolean":case"null":return String(y);case"object":if(!y)return"null";if(s+=i,S=[],typeof y.length=="number"&&!y.propertyIsEnumerable("length")){for(x=y.length,f=0;f<x;f+=1)S[f]=n(f,y)||"null";return g=S.length===0?"[]":s?`[
`+s+S.join(`,
`+s)+`
`+m+"]":"["+S.join(",")+"]",s=m,g}if(o&&typeof o=="object")for(x=o.length,f=0;f<x;f+=1)p=o[f],typeof p=="string"&&(g=n(p,y),g&&S.push(r(p)+(s?": ":":")+g));else for(p in y)Object.hasOwnProperty.call(y,p)&&(g=n(p,y),g&&S.push(r(p)+(s?": ":":")+g));return g=S.length===0?"{}":s?`{
`+s+S.join(`,
`+s)+`
`+m+"}":"{"+S.join(",")+"}",s=m,g}}typeof Date.prototype.toJSON2!="function"&&(Date.prototype.toJSON2=function(u){return this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(u){return this.valueOf()});var s,i,o,c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,d={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};typeof e.JSON.stringify!="function"&&(e.JSON.stringify=function(u,l,f){var p;if(s="",i="",typeof f=="number")for(p=0;p<f;p+=1)i+=" ";else typeof f=="string"&&(i=f);if(o=l,l&&typeof l!="function"&&(typeof l!="object"||typeof l.length!="number"))throw new Error("JSON.stringify");return n("",{"":u})})}(),typeof e>"u")var e={};if(typeof e.Global>"u"&&(e.Global={}),function(){var t=function(){};if(typeof e.Calendar>"u"||!e.Calendar.events){var r={};r.selectedCells=[],r.topSelectedCell=null,r.bottomSelectedCell=null,r.column=null,r.firstSelected=null,r.firstMousePos=null,r.originalMouse=null,r.originalHeight=null,r.originalTop=null,r.resizing=null,r.globalHandlers=!1,r.moving=null,r.register=function(i){r.registered||(r.registered=[]);for(var o=r.registered,c=0;c<o.length;c++)if(o[c]===i)return;o.push(i)},r.unregister=function(i){var o=r.registered;if(o){var c=e.indexOf(o,i);c!==-1&&o.splice(c,1)}},r.getCellsAbove=function(i){for(var o=[],c=r.getColumn(i),d=i.parentNode,u=null;d&&u!==r.firstSelected;)for(u=d.getElementsByTagName("td")[c],o.push(u),d=d.previousSibling;d&&d.tagName!=="TR";)d=d.previousSibling;return o},r.getCellsBelow=function(i){for(var o=[],c=r.getColumn(i),d=i.parentNode,u=null;d&&u!==r.firstSelected;)for(u=d.getElementsByTagName("td")[c],o.push(u),d=d.nextSibling;d&&d.tagName!=="TR";)d=d.nextSibling;return o},r.getColumn=function(i){for(var o=0;i.previousSibling;)i=i.previousSibling,i.tagName==="TD"&&o++;return o},r.gUnload=function(i){if(r.registered)for(var o=r.registered,c=0;c<o.length;c++){var d=o[c];d.dispose(),r.unregister(d)}},r.gMouseUp=function(i){if(r.resizing){if(!r.resizingShadow)return r.resizing.style.cursor="default",document.body.style.cursor="default",r.resizing=null,void(e.Global.resizing=null);var o=r.resizing.event,c=r.resizingShadow.clientHeight,d=r.resizingShadow.offsetTop,u=r.resizing.dpBorder;r.deleteShadow(r.resizingShadow),r.resizingShadow=null,r.resizing.style.cursor="default",o.calendar.nav.top.style.cursor="auto",r.resizing.onclick=null,r.resizing=null,e.Global.resizing=null,o.calendar.K(o,c,d,u)}else if(r.moving){if(!r.movingShadow)return r.moving=null,e.Global.moving=null,void(document.body.style.cursor="default");var d=r.movingShadow.offsetTop,o=r.moving.event;r.deleteShadow(r.movingShadow),e.Util.removeClass(r.moving,o.calendar.L("_event_moving_source"));var l=r.movingShadow.column;r.moving=null,e.Global.moving=null,r.movingShadow=null,o.calendar.nav.top.style.cursor="auto",o.calendar.M(o,l,d,i)}else if(e.Global.selecting){var f=e.Global.selecting.calendar;f.N=e.Global.selecting,e.Global.selecting=null;var p=f.getSelection();f.O(p.start,p.end,p.resource),f.timeRangeSelectedHandling!=="Hold"&&f.timeRangeSelectedHandling!=="HoldForever"&&t()}else r.selecting=!1},r.deleteShadow=function(i){i&&i.parentNode&&i.parentNode.removeChild(i)},r.moveShadow=function(i){var o=r.movingShadow,c=o.parentNode;c.style.display="none",o.parentNode.removeChild(o),i.firstChild.appendChild(o),o.style.left="0px",c.style.display="",o.style.width=r.movingShadow.parentNode.offsetWidth+1+"px"};var n=e.Util.isVueVNode,s=e.Util.overlaps;r.Calendar=function(i,o){var c=!1;if(this instanceof r.Calendar&&!this.P&&(c=!0,this.P=!0),!c)throw"DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'";var d=this;this.uniqueID=null,this.isCalendar=!0,this.v="2025.3.710-lite",this.id=i,this.clientName=i,this.cache={},this.cache.pixels={},this.elements={},this.elements.events=[],this.elements.selection=[],this.nav={},this.afterRender=function(){},this.fasterDispose=!0,this.angularAutoApply=!1,this.api=2,this.businessBeginsHour=9,this.businessEndsHour=18,this.cellDuration=30,this.cellHeight=30,this.columnMarginLeft=0,this.columnMarginRight=5,this.columnsLoadMethod="GET",this.contextMenu=null,this.days=1,this.durationBarVisible=!0,this.eventBorderRadius=null,this.eventsLoadMethod="GET",this.headerDateFormat=null,this.headerHeight=30,this.headerTextWrappingEnabled=!1,this.height=300,this.heightSpec="BusinessHours",this.hideUntilInit=!0,this.hourWidth=60,this.initScrollPos="Auto",this.loadingLabelHtml=null,this.loadingLabelText="Loading...",this.loadingLabelVisible=!0,this.locale="en-us",this.snapToGrid=!0,this.showToolTip=!0,this.startDate=new e.Date().getDatePart(),this.cssClassPrefix="calendar_default",this.theme=null,this.timeFormat="Auto",this.useEventBoxes="Always",this.viewType="Days",this.visible=!0,this.xssProtection="Enabled",this.headerClickHandling="Enabled",this.eventClickHandling="Enabled",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.eventMoveHandling="Update",this.eventDeleteHandling="Disabled",this.timeRangeSelectedHandling="Enabled",this.onBeforeCellRender=null,this.onBeforeEventRender=null,this.onBeforeHeaderRender=null,this.onEventClick=null,this.onEventClicked=null,this.onEventDelete=null,this.onEventDeleted=null,this.onEventMove=null,this.onEventMoved=null,this.onEventResize=null,this.onEventResized=null,this.onEventRightClick=null,this.onEventRightClicked=null,this.onHeaderClick=null,this.onHeaderClicked=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.Q=!1,this.clearSelection=function(){r.topSelectedCell=null,r.bottomSelectedCell=null,this.R()},this.R=function(){e.de(d.elements.selection),d.elements.selection=[],d.nav.activeSelection=null},this.cleanSelection=this.clearSelection,this.S=function(l,f,p){var g={};g.action=l,g.parameters=p,g.data=f,g.header=this.T();var x="JSON"+e.JSON.stringify(g);__doPostBack(d.uniqueID,x)},this.U=function(l,f,p){this.callbackTimeout&&window.clearTimeout(this.callbackTimeout),this.callbackTimeout=window.setTimeout(function(){d.loadingStart()},100);var g={};g.action=l,g.parameters=p,g.data=f,g.header=this.T();var x="JSON"+e.JSON.stringify(g);this.backendUrl?e.request(this.backendUrl,this.V,x,this.ajaxError):typeof WebForm_DoCallback=="function"&&WebForm_DoCallback(this.uniqueID,x,this.W,this.clientName,this.onCallbackError,!0)},this.onCallbackError=function(l,f){alert(`Error!\r
Result: `+l+`\r
Context:`+f)},this.dispose=function(){var l=d;l.Q||(l.Q=!0,clearInterval(l.X),l.Y(),l.nav.scroll.root=null,e.pu(l.nav.loading),l.Z(),l._(),l.nav.select=null,l.nav.cornerRight=null,l.nav.scrollable=null,l.nav.zoom=null,l.nav.loading=null,l.nav.header=null,l.nav.hourTable=null,l.nav.scrolltop=null,l.nav.scroll.onscroll=null,l.nav.scroll=null,l.nav.main=null,l.nav.message=null,l.nav.messageClose=null,l.nav.top=null,r.unregister(l))},this.disposed=function(){return this.Q},this.aa=function(){this.nav.top.dispose=this.dispose},this.V=function(l){d.W(l.responseText)},this.T=function(){var l={};return l.control="dpc",l.id=this.id,l.v=this.v,l.days=d.days,l.startDate=d.startDate,l.heightSpec=d.heightSpec,l.businessBeginsHour=d.businessBeginsHour,l.businessEndsHour=d.businessEndsHour,l.hashes=d.hashes,l.timeFormat=d.timeFormat,l.viewType=d.viewType,l.locale=d.locale,l},this.ba=function(l,f){for(var p=l.parentNode;p&&p.tagName!=="TD";)p=p.parentNode;var g=d.eventBorderRadius;typeof g=="number"&&(g+="px");var x=document.createElement("div");x.setAttribute("unselectable","on"),x.style.position="absolute",x.style.width=l.offsetWidth+"px",x.style.height=l.offsetHeight+"px",x.style.left=l.offsetLeft+"px",x.style.top=l.offsetTop+"px",x.style.boxSizing="border-box",x.style.zIndex=101,x.className=d.L("_shadow");var S=document.createElement("div");return S.className=d.L("_shadow_inner"),g&&(S.style.borderRadius=g,x.style.borderRadius=g),x.appendChild(S),p.firstChild.appendChild(x),x},this.ca={},this.ca.locale=function(){var l=e.Locale.find(d.locale);return l||e.Locale.US},this.ca.timeFormat=function(){return d.timeFormat!=="Auto"?d.timeFormat:this.locale().timeFormat},this.ca.da=function(){return d.xssProtection!=="Disabled"},this.ca.ea=function(){if(d.weekStarts==="Auto"){var l=u.locale();return l?l.weekStarts:0}return d.weekStarts||0},this.ca.fa=function(){var l=d.cellDuration;if(l<=1)return 1;if(l>=60)return 60;var f=[1,2,3,4,5,6,10,12,15,20,30,60],p=Math.floor(l);return Math.max.apply(null,f.filter(function(g){return g<=p}))};var u=this.ca;this.W=function(p,f){if(p&&p.indexOf("$$$")===0){if(!window.console)throw"Error received from the server side: "+p;return void console.log("Error received from the server side: "+p)}var p=JSON.parse(p);if(p.CallBackRedirect)return void(document.location.href=p.CallBackRedirect);if(p.UpdateType==="None")return d.loadingStop(),void d.u();if(d.Y(),p.UpdateType==="Full"&&(d.columns=p.Columns,d.days=p.Days,d.startDate=new e.Date(p.StartDate),d.heightSpec=p.HeightSpec?p.HeightSpec:d.heightSpec,d.businessBeginsHour=p.BusinessBeginsHour?p.BusinessBeginsHour:d.businessBeginsHour,d.businessEndsHour=p.BusinessEndsHour?p.BusinessEndsHour:d.businessEndsHour,d.headerDateFormat=p.HeaderDateFormat?p.HeaderDateFormat:d.headerDateFormat,d.viewType=p.ViewType,d.backColor=p.BackColor?p.BackColor:d.backColor,d.eventHeaderVisible=p.EventHeaderVisible?p.EventHeaderVisible:d.eventHeaderVisible,d.timeFormat=p.TimeFormat?p.TimeFormat:d.timeFormat,d.locale=p.Locale?p.Locale:d.locale,d.ga()),p.Hashes)for(var g in p.Hashes)d.hashes[g]=p.Hashes[g];d.events.list=p.Events,d.ha(),d.ia(),p.UpdateType==="Full"&&(d.ja(),d.ka(),d.la(),d.ma()),d.u(),d.na(),d.clearSelection(),d.afterRender(p.CallBackData,!0),d.loadingStop()},this.oa=function(){return this.pa()/36e5},this.qa=function(){return this.businessBeginsHour>this.businessEndsHour?24-this.businessBeginsHour+this.businessEndsHour:this.businessEndsHour-this.businessBeginsHour},this.ra=function(){return this.pa()/(60*u.fa()*1e3)},this.pa=function(){var l=0;return l=this.heightSpec==="BusinessHoursNoScroll"?this.qa():24,60*l*60*1e3},this.sa=function(){return this.heightSpec==="BusinessHoursNoScroll"?this.businessBeginsHour:0},this.ta=function(){return d.api===2},this.eventClickCallBack=function(l,f){this.U("EventClick",f,l)},this.eventClickPostBack=function(l,f){this.S("EventClick",f,l)},this.va=function(l){var f=this,p=f.event;if(p.client.clickEnabled())if(d.ta()){var g={};if(g.e=p,g.originalEvent=l,g.meta=l.metaKey,g.ctrl=l.ctrlKey,g.control=d,g.preventDefault=function(){this.preventDefault.value=!0},typeof d.onEventClick=="function"&&(d.wa.apply(function(){d.onEventClick(g)}),g.preventDefault.value))return;switch(d.eventClickHandling){case"CallBack":d.eventClickCallBack(p);break;case"PostBack":d.eventClickPostBack(p);break;case"ContextMenu":var x=p.client.contextMenu();x?x.show(p):d.contextMenu&&d.contextMenu.show(p)}typeof d.onEventClicked=="function"&&d.wa.apply(function(){d.onEventClicked(g)})}else switch(d.eventClickHandling){case"PostBack":d.eventClickPostBack(p);break;case"CallBack":d.eventClickCallBack(p);break;case"JavaScript":d.onEventClick(p)}},this.xa=function(l){var f=this.event;if(l.stopPropagation&&l.stopPropagation(),!f.client.rightClickEnabled())return!1;var p={};if(p.e=f,p.preventDefault=function(){this.preventDefault.value=!0},typeof d.onEventRightClick=="function"&&(d.onEventRightClick(p),p.preventDefault.value))return!1;switch(d.eventRightClickHandling){case"ContextMenu":var g=f.client.contextMenu();g?g.show(f):d.contextMenu&&d.contextMenu.show(this.event)}return typeof d.onEventRightClicked=="function"&&d.onEventRightClicked(p),l.preventDefault&&l.preventDefault(),!1},this.eventDeleteCallBack=function(l,f){this.U("EventDelete",f,l)},this.eventDeletePostBack=function(l,f){this.S("EventDelete",f,l)},this.ya=function(l){if(d.ta()){var f={};if(f.e=l,f.control=d,f.preventDefault=function(){this.preventDefault.value=!0},typeof d.onEventDelete=="function"&&(d.wa.apply(function(){d.onEventDelete(f)}),f.preventDefault.value))return;switch(d.eventDeleteHandling){case"CallBack":d.eventDeleteCallBack(l);break;case"PostBack":d.eventDeletePostBack(l);break;case"Update":d.events.remove(l)}typeof d.onEventDeleted=="function"&&d.wa.apply(function(){d.onEventDeleted(f)})}else switch(d.eventDeleteHandling){case"PostBack":d.eventDeletePostBack(l);break;case"CallBack":d.eventDeleteCallBack(l);break;case"JavaScript":d.onEventDelete(l)}},this.eventResizeCallBack=function(l,f,p,g){if(!f)throw"newStart is null";if(!p)throw"newEnd is null";var x={};x.e=l,x.newStart=f,x.newEnd=p,this.U("EventResize",g,x)},this.eventResizePostBack=function(l,f,p,g){if(!f)throw"newStart is null";if(!p)throw"newEnd is null";var x={};x.e=l,x.newStart=f,x.newEnd=p,this.S("EventResize",g,x)},this.K=function(l,f,p,g){var x=0,S=new Date,m=new Date;if(g==="top"?(S=d.za(l,p-x),m=l.end()):g==="bottom"&&(S=l.start(),m=d.Aa(l,p+f-x)),d.ta()){var y={};if(y.e=l,y.control=d,y.newStart=S,y.newEnd=m,y.preventDefault=function(){this.preventDefault.value=!0},typeof d.onEventResize=="function"&&(d.wa.apply(function(){d.onEventResize(y)}),y.preventDefault.value))return;switch(d.eventResizeHandling){case"PostBack":d.eventResizePostBack(l,S,m);break;case"CallBack":d.eventResizeCallBack(l,S,m);break;case"Update":l.start(S),l.end(m),d.events.update(l)}typeof d.onEventResized=="function"&&d.wa.apply(function(){d.onEventResized(y)})}else switch(d.eventResizeHandling){case"PostBack":d.eventResizePostBack(l,S,m);break;case"CallBack":d.eventResizeCallBack(l,S,m);break;case"JavaScript":d.onEventResize(l,S,m)}},this.za=function(l,f){var p=d.Ba[l.part.dayIndex].start,g=Math.floor(f/d.cellHeight);d.snapToGrid||(g=f/d.cellHeight);var x=Math.floor(g*u.fa()),S=60*x*1e3,m=60*d.sa()*60*1e3;return p.addTime(S+m)},this.Aa=function(l,f){var p=Math.floor(f/d.cellHeight);d.snapToGrid||(p=f/d.cellHeight);var g=Math.floor(p*u.fa()),x=60*g*1e3,S=60*d.sa()*60*1e3;return d.Ba[l.part.dayIndex].start.addTime(x+S)},this.eventMovePostBack=function(l,f,p,g,x){if(!f)throw"newStart is null";if(!p)throw"newEnd is null";var S={};S.e=l,S.newStart=f,S.newEnd=p,this.S("EventMove",x,S)},this.eventMoveCallBack=function(l,f,p,g,x){if(!f)throw"newStart is null";if(!p)throw"newEnd is null";var S={};S.e=l,S.newStart=f,S.newEnd=p,this.U("EventMove",x,S)},this.M=function(l,f,p,g){var x=0,S=Math.floor((p-x)/d.cellHeight);d.snapToGrid||(S=(p-x)/d.cellHeight);var m=u.fa(),y=S*m*60*1e3,w=l.start(),C=l.end(),E=new Date;w instanceof e.Date&&(w=w.toDate()),E.setTime(Date.UTC(w.getUTCFullYear(),w.getUTCMonth(),w.getUTCDate()));var N=w.getTime()-(E.getTime()+3600*w.getUTCHours()*1e3+Math.floor(w.getUTCMinutes()/m)*m*60*1e3);d.useEventBoxes==="Never"&&(N=0);var k=C.getTime()-w.getTime(),A=this.Ba[f],T=A.id;d.snapToGrid||(N=0);var P=A.start.getTime(),M=new Date;M.setTime(P+y+N);var O=new e.Date(M),R=O.addTime(k);if(d.ta()){var L={};if(L.e=l,L.newStart=O,L.newEnd=R,L.newResource=T,L.ctrl=g.ctrlKey,L.shift=g.shiftKey,L.control=d,L.preventDefault=function(){this.preventDefault.value=!0},typeof d.onEventMove=="function"&&(d.wa.apply(function(){d.onEventMove(L)}),L.preventDefault.value))return;switch(d.eventMoveHandling){case"PostBack":d.eventMovePostBack(l,O,R,A.id);break;case"CallBack":d.eventMoveCallBack(l,O,R,A.id);break;case"Update":l.start(O),l.end(R),l.resource(T),d.events.update(l)}typeof d.onEventMoved=="function"&&d.wa.apply(function(){d.onEventMoved(L)})}else switch(d.eventMoveHandling){case"PostBack":d.eventMovePostBack(l,O,R,A.id);break;case"CallBack":d.eventMoveCallBack(l,O,R,A.id);break;case"JavaScript":d.onEventMove(l,O,R,A.id,!1)}},this.timeRangeSelectedPostBack=function(l,f,p,g){var x={};x.start=l,x.end=f,this.S("TimeRangeSelected",g,x)},this.timeRangeSelectedCallBack=function(l,f,p,g){var x={};x.start=l,x.end=f,this.U("TimeRangeSelected",g,x)},this.O=function(l,f,p){if(l=new e.Date(l),f=new e.Date(f),this.ta()){var g={};if(g.start=l,g.end=f,g.resource=p,g.control=d,g.preventDefault=function(){this.preventDefault.value=!0},typeof d.onTimeRangeSelect=="function"&&(d.wa.apply(function(){d.onTimeRangeSelect(g)}),g.preventDefault.value))return;switch(d.timeRangeSelectedHandling){case"PostBack":d.timeRangeSelectedPostBack(l,f);break;case"CallBack":d.timeRangeSelectedCallBack(l,f)}typeof d.onTimeRangeSelected=="function"&&d.wa.apply(function(){d.onTimeRangeSelected(g)})}else switch(d.timeRangeSelectedHandling){case"PostBack":d.timeRangeSelectedPostBack(l,f);break;case"CallBack":d.timeRangeSelectedCallBack(l,f);break;case"JavaScript":d.onTimeRangeSelected(l,f)}},this.Ca=function(l){if(!e.Global.selecting&&d.timeRangeSelectedHandling!=="Disabled"){var f=l.which;if(f===1||f===0){e.Global.selecting={calendar:d,start:d.coords};var p=e.Global.selecting;return p.start.time=d.Da(d.coords.x,d.coords.y),p.start.columnIndex=d.Ea(d.coords.x),p.start.column=d.Ba[p.start.columnIndex],d.Fa(),d.Ga(),!1}}},this.Ga=function(){var l=e.Global.selecting;(function(){var f=l.start.column,p=l.start.columnIndex,g=f.start,x=d.getPixels(l.startTime,g),S=d.getPixels(l.endTime,g),m=x.boxTop,y=S.boxBottom;d.snapToGrid||(m=x.top,y=S.top);var w=y-m,C=d.eventBorderRadius;typeof C=="number"&&(C+="px");var E=function(){if(d.nav.activeSelection)return d.nav.activeSelection;var N=document.createElement("div");N.setAttribute("unselectable","on"),N.style.position="absolute",N.style.left="0px",N.style.width="100%";var k=document.createElement("div");return k.setAttribute("unselectable","on"),k.className=d.L("_shadow_inner"),C&&(k.style.borderRadius=C,N.style.borderRadius=C),N.appendChild(k),d.nav.events.rows[0].cells[p].selection.appendChild(N),d.elements.selection.push(N),d.nav.activeSelection=N,N}();E.className=d.L("_shadow"),E.firstChild.innerHTML="",E.style.top=m+"px",E.style.height=w+"px",d.nav.events.rows[0].cells[p].selection.appendChild(E)})()},this.Fa=function(){var l=e.Global.selecting;l.end=d.coords,l.end.time=d.Da(l.start.x,l.end.y),l.end.column=d.Ba[d.Ea(l.end.x)],d.Ha&&(l.end.time=d.Da(l.end.x,l.end.y)),d.Ia(l)},this.Ia=function(l){var f,p,g;d.snapToGrid?l.end.time<l.start.time?(f=d.Ja(l.end.time,l.start.column.start),p=d.Ka(l.start.time,l.start.column.start),g=l.endTime):(f=d.Ja(l.start.time,l.start.column.start),p=d.Ka(l.end.time,l.start.column.start),g=l.startTime):l.end.time<l.start.time?(f=l.end.time,p=l.start.time,g=l.endTime):(f=l.start.time,p=l.end.time,g=l.startTime),l.startTime=f,l.endTime=p,l.anchor=g},this.getSelection=function(){if(!d.N)return null;var l=d.N;return new e.Selection(l.startTime,l.endTime,l.start.column.id,d)},this.Ea=function(l){if(l-=d.hourWidth,l<0)return null;for(var f=0,p=d.nav.events.rows[0].cells,g=0;g<p.length;g++)if(f+=p[g].offsetWidth,l<f)return g;return null},this.Da=function(l,f){l=e.Util.atLeast(l,0);var p=this.Ea(l),g=f/(60/u.fa())/d.cellHeight,x=60*g*60*1e3,S=6e4*Math.floor(x/6e4),m=this.Ba[p];return m?m.start.addTime(S):null},this.Ja=function(l,f){var p=l.getTime();f&&(p-=f.getTime());var g=60*u.fa()*1e3,x=p%g;return l.addTime(-x)},this.Ka=function(l,f){var p=this.Ja(l,f);return p.getTime()===l.getTime()?p:p.addTime(60*u.fa()*1e3)},this.La={},this.La.getCellCoords=function(){var l={};if(l.x=0,l.y=0,!d.coords)return null;l.x=d.Ea(d.coords.x);var f=0,p=Math.floor((d.coords.y-f)/d.cellHeight);return l.y=p,l.x<0?null:l},this.columns={},this.columns.list=[],this.columns.load=function(l,f,p){if(!l)throw new e.Exception("columns.load(): 'url' parameter required");var g=function(S){var m={};m.exception=S.exception,m.request=S.request,typeof p=="function"&&p(m)},x=function(S){var m,y=S.request;try{m=JSON.parse(y.responseText)}catch(E){var w={};return w.exception=E,void g(w)}if(e.isArray(m)){var C={};if(C.preventDefault=function(){this.preventDefault.value=!0},C.data=m,typeof f=="function"&&f(C),C.preventDefault.value)return;d.columns.list=m,d.Ma&&d.update()}};d.columnsLoadMethod&&d.columnsLoadMethod.toUpperCase()==="POST"?e.ajax({method:"POST",url:l,success:x,error:g}):e.ajax({method:"GET",url:l,success:x,error:g})},this.ga=function(){var l;l=d.viewType!=="Resources"?this.Na():d.columns.list,this.Ba=[];for(var f=0;f<l.length;f++){var p=this.Oa(l[f]);this.Ba.push(p)}},this.Oa=function(l){var f={};if(f.name=l.name,f.html=l.html,f.id=l.id,f.toolTip=l.toolTip,f.data=l,l.start?f.start=new e.Date(l.start):f.start=new e.Date(d.startDate),this.heightSpec==="BusinessHoursNoScroll"){var p=f.start.getDatePart();f.start=p.addHours(this.businessBeginsHour)}return f.putIntoBlock=function(g){for(var x=0;x<this.blocks.length;x++){var S=this.blocks[x];if(S.overlapsWith(g.part.top,g.part.height))return S.events.push(g),S.min=Math.min(S.min,g.part.top),S.max=Math.max(S.max,g.part.top+g.part.height),x}var S=[];return S.lines=[],S.events=[],S.overlapsWith=function(m,y){return!(m+y-1<this.min||m>this.max-1)},S.putIntoLine=function(m){for(var y=0;y<this.lines.length;y++){var w=this.lines[y];if(w.isFree(m.part.top,m.part.height))return w.push(m),y}var w=[];return w.isFree=function(C,E){for(var N=C+E-1,k=this.length,A=0;A<k;A++){var T=this[A];if(!(N<T.part.top||C>T.part.top+T.part.height-1))return!1}return!0},w.push(m),this.lines.push(w),this.lines.length-1},S.events.push(g),S.min=g.part.top,S.max=g.part.top+g.part.height,this.blocks.push(S),this.blocks.length-1},f.putIntoLine=function(g){for(var x=0;x<this.lines.length;x++){var S=this.lines[x];if(S.isFree(g.part.top,g.part.height))return S.push(g),x}var S=[];return S.isFree=function(m,y){for(var w=m+y-1,C=this.length,E=0;E<C;E++){var N=this[E];if(!(w<N.part.top||m>N.part.top+N.part.height-1))return!1}return!0},S.push(g),this.lines.push(S),this.lines.length-1},f},this.Na=function(){var l=[],f=this.startDate.getDatePart(),p=this.days;switch(this.viewType){case"Day":p=1;break;case"Week":p=7;var g=u.ea();f=f.firstDayOfWeek(g);break;case"WorkWeek":p=5,f=f.firstDayOfWeek(1)}for(var x=0;x<p;x++){var S=d.headerDateFormat?d.headerDateFormat:u.locale().datePattern,m={};m.start=f.addDays(x),m.name=m.start.toString(S,u.locale()),l.push(m)}return l},this.visibleStart=function(){if(d.viewType==="Resources"){if(d.Ba.length===0)return e.Date.today();var l=d.Ba.map(function(p){return p.start.getTime()}),f=Math.min.apply(null,l);return new e.Date(f)}return this.Ba[0].start},this.visibleEnd=function(){if(d.viewType==="Resources"){if(d.Ba.length===0)return e.Date.today().addDays(1);var l=d.Ba.map(function(g){return g.start.getTime()}),f=Math.max.apply(null,l);return new e.Date(f).addDays(1)}var f=this.Ba.length-1;return this.Ba[f].start.addDays(1)},this.L=function(l){var f=this.theme||this.cssClassPrefix;return f?f+l:""},this.Y=function(){if(this.elements.events)for(var l=0;l<this.elements.events.length;l++){var f=this.elements.events[l];d.Pa(f)}this.elements.events=[]},this.Pa=function(l){(function(){var g=l.domArgs;if(l.domArgs=null,g&&typeof d.onBeforeEventDomRemove=="function"&&d.onBeforeEventDomRemove(g),g&&typeof d.onBeforeEventDomAdd=="function"){var x=g&&g.Qa;x&&d.Sa.Ra&&n(g.element)&&(d.Sa.Ta=!0,d.Sa.Ua(x),d.Sa.Ta=!1)}})();var f=l.event;if(f&&(f.calendar=null),l.onclick=null,l.onclickSave=null,l.onmouseover=null,l.onmouseout=null,l.onmousemove=null,l.onmousedown=null,l.firstChild&&l.firstChild.firstChild&&l.firstChild.firstChild.tagName&&l.firstChild.firstChild.tagName.toUpperCase()==="IMG"){var p=l.firstChild.firstChild;p.onmousedown=null,p.onmousemove=null,p.onclick=null}l.helper=null,l.data=null,l.event=null,e.de(l)},this.Va=function(l){var f=l.cache||l.data,p=this.nav.events,g=f.borderRadius||d.eventBorderRadius;typeof g=="number"&&(g+="px");var x=document.createElement("div");x.style.position="absolute",x.style.left=l.part.left+"%",x.style.top=l.part.top+"px",x.style.width=l.part.width+"%",x.style.height=Math.max(l.part.height,2)+"px",x.style.overflow="hidden",x.data=l,x.event=l,x.unselectable="on",x.style.MozUserSelect="none",x.style.KhtmlUserSelect="none",x.className=this.L("_event"),f.cssClass&&e.Util.addClass(x,f.cssClass),d.showToolTip&&l.client.toolTip()&&(x.title=l.client.toolTip()),x.isFirst=l.part.start.getTime()===l.start().getTime(),x.isLast=l.part.end.getTime()===l.end().getTime(),x.onclick=this.va,e.re(x,"contextmenu",this.xa),x.onmouseout=function(T){x.deleteIcon&&(x.deleteIcon.style.display="none")},x.onmousemove=function(T){var P=5;if(typeof r<"u"){var M=e.mo3(x,T);if(M&&!r.resizing&&!r.moving){x.deleteIcon&&(x.deleteIcon.style.display="");var O=this.isLast;M.y<=P&&l.client.resizeEnabled()?(this.style.cursor="n-resize",this.dpBorder="top"):this.offsetHeight-M.y<=P&&l.client.resizeEnabled()?O?(this.style.cursor="s-resize",this.dpBorder="bottom"):this.style.cursor="not-allowed":r.resizing||r.moving||(d.eventClickHandling!=="Disabled"?this.style.cursor="pointer":this.style.cursor="default")}}},x.onmousedown=function(T){var P=T.which||T.button;if(this.style.cursor!=="n-resize"&&this.style.cursor!=="s-resize"||P!==1){if(P===1&&l.client.moveEnabled()){r.moving=this,e.Global.moving=this,r.moving.event=this.event;var M=r.moving.helper={};M.oldColumn=d.Ba[this.data.part.dayIndex].id,r.originalMouse=e.mc(T),r.originalTop=this.offsetTop;var O=e.mo3(this,T);O?r.moveOffsetY=O.y:r.moveOffsetY=0,d.nav.top.style.cursor="move"}}else r.resizing=this,e.Global.resizing=this,r.originalMouse=e.mc(T),r.originalHeight=this.offsetHeight,r.originalTop=this.offsetTop,d.nav.top.style.cursor=this.style.cursor;return!1};var S=document.createElement("div");if(S.setAttribute("unselectable","on"),S.className=d.L("_event_inner"),f.borderColor==="darker"&&f.backColor?S.style.borderColor=e.ColorUtil.darker(f.backColor,2):S.style.borderColor=f.borderColor,f.backColor&&(S.style.background=f.backColor),f.fontColor&&(S.style.color=f.fontColor),g&&(x.style.borderRadius=g,S.style.borderRadius=g),x.appendChild(S),l.client.barVisible()){var m=l.part.height-2,y=100*l.part.barTop/m,w=Math.ceil(100*l.part.barHeight/m),C=document.createElement("div");C.setAttribute("unselectable","on"),C.className=this.L("_event_bar"),C.style.position="absolute",f.barBackColor&&(C.style.backgroundColor=f.barBackColor);var E=document.createElement("div");E.setAttribute("unselectable","on"),E.className=this.L("_event_bar_inner"),E.style.top=y+"%",0<w&&w<=1?E.style.height="1px":E.style.height=w+"%",f.barColor&&(E.style.backgroundColor=f.barColor),C.appendChild(E),x.appendChild(C)}if(l.client.deleteEnabled()){var N=document.createElement("div");N.style.position="absolute",N.style.right="2px",N.style.top="2px",N.style.width="17px",N.style.height="17px",N.className=d.L("_event_delete"),N.onmousedown=function(T){T.stopPropagation()},N.onclick=function(T){T.stopPropagation();var P=this.parentNode.event;P&&d.ya(P)},N.style.display="none",x.deleteIcon=N,x.appendChild(N)}var k=f.areas?e.Areas.copy(f.areas):[];if(e.Areas.attach(x,l,{areas:k}),typeof d.onAfterEventRender=="function"){var A={};A.e=x.event,A.div=x,d.onAfterEventRender(A)}(function(){var T={};if(T.control=d,T.e=l,T.element=null,x.domArgs=T,typeof d.onBeforeEventDomAdd=="function"&&d.onBeforeEventDomAdd(T),T.element){var P=S;if(P)if(T.Qa=P,n(T.element)){if(!d.Sa.Ra)throw new e.Exception("Can't reach Vue");d.Sa.Ta=!0,d.Sa.Wa(T.element,P),d.Sa.Ta=!1}else P.appendChild(T.element)}else S.innerHTML=l.client.innerHTML()})(),p.rows[0].cells[l.part.dayIndex]&&(p.rows[0].cells[l.part.dayIndex].firstChild.appendChild(x),d.Xa(x)),d.elements.events.push(x)},this.Xa=function(l){for(var f=l&&l.childNodes?l.childNodes.length:0,p=0;p<f;p++)try{var g=l.childNodes[p];g.nodeType===1&&(g.unselectable="on",this.Xa(g))}catch{}},this.na=function(){for(var l=0;l<this.Ba.length;l++){var f=this.Ba[l];if(f.blocks)for(var p=0;p<f.blocks.length;p++)for(var g=f.blocks[p],x=0;x<g.lines.length;x++)for(var S=g.lines[x],m=0;m<S.length;m++){var y=S[m];y.part.width=100/g.lines.length,y.part.left=y.part.width*x;var w=x===g.lines.length-1;w||(y.part.width=1.5*y.part.width),this.Va(y)}}},this.Ya=function(){this.nav.top.innerHTML="",e.Util.addClass(this.nav.top,this.L("_main")),this.nav.top.style.MozUserSelect="none",this.nav.top.style.KhtmlUserSelect="none",this.nav.top.style.position="relative",this.nav.top.style.width=this.width?this.width:"100%",this.hideUntilInit&&(this.nav.top.style.visibility="hidden"),this.visible||(this.nav.top.style.display="none"),this.nav.scroll=document.createElement("div"),this.nav.scroll.style.height=this.Za()+"px",this.heightSpec==="BusinessHours"?this.nav.scroll.style.overflow="auto":this.nav.scroll.style.overflow="hidden",this.nav.scroll.style.position="relative";var l=this.$a();this.nav.top.appendChild(l),this.nav.scroll.style.zoom=1;var f=this._a();this.nav.scrollable=f.firstChild,this.nav.scroll.appendChild(f),this.nav.top.appendChild(this.nav.scroll),this.nav.scrollLayer=document.createElement("div"),this.nav.scrollLayer.style.position="absolute",this.nav.scrollLayer.style.top="0px",this.nav.scrollLayer.style.left="0px",this.nav.top.appendChild(this.nav.scrollLayer),this.nav.loading=document.createElement("div"),this.nav.loading.style.position="absolute",this.nav.loading.style.top="0px",this.nav.loading.style.left=this.hourWidth+5+"px",this.nav.loading.innerHTML=d.ab(d.loadingLabelText,d.loadingLabelHtml),this.nav.loading.style.display="none",this.nav.top.appendChild(this.nav.loading)},this.la=function(){this.fasterDispose||e.pu(this.nav.hourTable),this.nav.scrollable.rows[0].cells[0].innerHTML="",this.nav.hourTable=this.bb(),this.nav.scrollable.rows[0].cells[0].appendChild(this.nav.hourTable)},this._a=function(){var l=document.createElement("div");l.style.zoom=1,l.style.position="relative";var f=document.createElement("table");f.cellSpacing="0",f.cellPadding="0",f.border="0",f.style.border="0px none",f.style.width="100%",f.style.position="absolute";var p,g=f.insertRow(-1);p=g.insertCell(-1),p.valign="top",p.style.padding="0px",p.style.border="0px none",this.nav.hourTable=this.bb(),p.appendChild(this.nav.hourTable),p=g.insertCell(-1),p.valign="top",p.width="100%",p.style.padding="0px",p.style.border="0px none";var x=document.createElement("div");return x.style.position="relative",p.appendChild(x),x.appendChild(this.cb()),x.appendChild(this.db()),l.appendChild(f),this.nav.zoom=l,l},this.cb=function(){var l=document.createElement("table");return l.cellPadding="0",l.cellSpacing="0",l.border="0",l.style.width="100%",l.style.border="0px none",l.style.tableLayout="fixed",this.nav.main=l,this.nav.events=l,l},this.db=function(){var l=document.createElement("table");l.style.top="0px",l.cellPadding="0",l.cellSpacing="0",l.border="0",l.style.position="absolute",l.style.width="100%",l.style.border="0px none",l.style.tableLayout="fixed",this.nav.events=l;for(var f=this.Ba,p=f.length,g=l.insertRow(-1),x=0;x<p;x++){var S=g.insertCell(-1);S.style.padding="0px",S.style.border="0px none",S.style.height="0px",S.style.overflow="visible",d.rtl||(S.style.textAlign="left");var m=document.createElement("div");m.style.marginRight=d.columnMarginRight+"px",m.style.marginLeft=d.columnMarginLeft+"px",m.style.position="relative",m.style.height="1px",m.style.marginTop="-1px";var y=document.createElement("div");S.selection=y,S.appendChild(m),S.appendChild(y)}return l},this.bb=function(){var l=document.createElement("table");l.cellSpacing="0",l.cellPadding="0",l.border="0",l.style.border="0px none",l.style.width=this.hourWidth+"px",l.oncontextmenu=function(){return!1};for(var f=d.oa(),p=0;p<f;p++)this.eb(l,p);return l},this.eb=function(l,f){var p=60*d.cellHeight/u.fa(),g=l.insertRow(-1);g.style.height=p+"px";var x=g.insertCell(-1);x.valign="bottom",x.unselectable="on",x.style.cursor="default",x.style.padding="0px",x.style.border="0px none";var S=document.createElement("div");S.style.position="relative",S.className=this.L("_rowheader"),S.style.width=this.hourWidth+"px",S.style.height=p+"px",S.style.overflow="hidden",S.unselectable="on";var m=document.createElement("div");m.className=this.L("_rowheader_inner"),m.unselectable="on";var y=document.createElement("div");y.unselectable="on";var w=this.startDate.addHours(f).addHours(d.sa()),C=w.getHours(),E=C<12,N=u.timeFormat();N==="Clock12Hours"&&(C%=12,C===0&&(C=12)),y.innerHTML=C;var k=document.createElement("span");k.unselectable="on",k.className=this.L("_rowheader_minutes");var A;A=N==="Clock12Hours"?E?"AM":"PM":"00",k.innerHTML=A,y.appendChild(k),m.appendChild(y),S.appendChild(m),x.appendChild(S)},this.Za=function(){var l=u.fa(),f=60/l;switch(this.heightSpec){case"Full":return 24*f*this.cellHeight;case"BusinessHours":var p=this.qa();return p*this.cellHeight*f;case"BusinessHoursNoScroll":var p=this.qa();return p*this.cellHeight*f;default:throw"DayPilot.Calendar: Unexpected 'heightSpec' value."}},this.fb=function(){var l=d.nav.corner?d.nav.corner.parentNode:null;if(l){l.innerHTML="";var f=this.gb();l.appendChild(f),d.nav.corner=f}},this.$a=function(){var l=document.createElement("div");l.style.overflow="auto";var f=document.createElement("table");f.cellPadding="0",f.cellSpacing="0",f.border="0",f.style.width="100%",f.style.borderCollapse="separate",f.style.border="0px none";var p=f.insertRow(-1),g=p.insertCell(-1);g.style.padding="0px",g.style.border="0px none";var x=this.gb();g.appendChild(x),this.nav.corner=x,g=p.insertCell(-1),g.style.width="100%",g.valign="top",g.style.position="relative",g.style.padding="0px",g.style.border="0px none",this.nav.header=document.createElement("table"),this.nav.header.cellPadding="0",this.nav.header.cellSpacing="0",this.nav.header.border="0",this.nav.header.width="100%",this.nav.header.style.tableLayout="fixed",this.nav.header.oncontextmenu=function(){return!1};var S=this.nav.scroll.style.overflow!=="hidden";if(g.appendChild(this.nav.header),S){g=p.insertCell(-1),g.unselectable="on";var m=document.createElement("div");m.unselectable="on",m.style.position="relative",m.style.width="16px",m.style.height=this.headerHeight+"px",m.className=this.L("_cornerright");var y=document.createElement("div");y.className=this.L("_cornerright_inner"),m.appendChild(y),g.appendChild(m),this.nav.cornerRight=m}return l.appendChild(f),l},this.gb=function(){var l=document.createElement("div");l.style.position="relative",l.className=this.L("_corner"),l.style.width=this.hourWidth+"px",l.style.height=this.headerHeight+"px",l.oncontextmenu=function(){return!1};var f=document.createElement("div");return f.unselectable="on",f.className=this.L("_corner_inner"),l.appendChild(f),l},this.Z=function(){var l=this.nav.main;l.root=null,l.onmouseup=null;for(var f=0;f<l.rows.length;f++)for(var p=l.rows[f],g=0;g<p.cells.length;g++){var x=p.cells[g];d.hb(x)}this.fasterDispose||e.pu(l)},this.hb=function(l){l&&(function(){var f=l,p=f.domArgs;if(f.domArgs=null,p&&typeof d.onBeforeCellDomRemove=="function"&&d.onBeforeCellDomRemove(p),p&&typeof d.onBeforeCellDomAdd=="function"){var g=p&&p.Qa;g&&d.Sa.Ra&&n(p.element)&&(d.Sa.Ta=!0,d.Sa.Ua(g),d.Sa.Ta=!1)}}(),l.root=null,l.onmousedown=null,l.onmousemove=null,l.onmouseout=null,l.onmouseup=null)},this.ka=function(){var l=u.fa(),f=this.nav.main,p=60*l*1e3,g=this.ra(),x=d.Ba;for(f&&this.Z();f&&f.rows&&f.rows.length>0;)this.fasterDispose||e.pu(f.rows[0]),f.deleteRow(0);this.tableCreated=!0;for(var S=x.length,m=this.nav.events;m&&m.rows&&m.rows.length>0;)this.fasterDispose||e.pu(m.rows[0]),m.deleteRow(0);for(var S=x.length,y=m.insertRow(-1),w=0;w<S;w++){var C=y.insertCell(-1);C.style.padding="0px",C.style.border="0px none",C.style.height="0px",C.style.overflow="visible",d.rtl||(C.style.textAlign="left");var E=document.createElement("div");E.style.marginRight=d.columnMarginRight+"px",E.style.marginLeft=d.columnMarginLeft+"px",E.style.position="relative",E.style.height="1px",E.style.marginTop="-1px";var N=document.createElement("div");N.style.position="relative",C.selection=N,C.appendChild(E),C.appendChild(N)}for(var k=0;k<g;k++){var y=f.insertRow(-1);y.style.MozUserSelect="none",y.style.KhtmlUserSelect="none";for(var w=0;w<S;w++){var A=this.Ba[w],C=y.insertCell(-1);C.start=A.start.addTime(k*p),C.end=C.start.addTime(p),C.resource=A.id,C.onmousedown=this.Ca,C.onmouseup=function(){return!1},C.onclick=function(){return!1},C.root=this,C.style.padding="0px",C.style.border="0px none",C.style.verticalAlign="top",C.style.height=d.cellHeight+"px",C.style.overflow="hidden",C.unselectable="on";var E=document.createElement("div");E.unselectable="on",E.style.height=d.cellHeight+"px",E.style.position="relative",E.className=this.L("_cell");var T=this.ib(C.start,C.end),P={business:T,text:null,html:null,cssClass:null,backColor:null,backImage:null,backRepeat:null,fontColor:null},M={start:C.start,end:C.end,resource:C.resource,properties:P,x:w,y:k};(function(){if(typeof d.onBeforeCellRender=="function"){var z={};z.cell=M,d.onBeforeCellRender(z)}})(),P.business&&e.Util.addClass(E,d.L("_cell_business")),P.cssClass&&e.Util.addClass(E,P.cssClass);var O=document.createElement("div");O.setAttribute("unselectable","on"),O.className=this.L("_cell_inner");var R=e.Util.escapeTextHtml(P.text,P.html);R&&(O.innerHTML=R),P.backColor&&(O.style.backgroundColor=P.backColor),P.backImage&&(O.style.backgroundImage="url("+P.backImage+")"),P.backRepeat&&(O.style.backgroundRepeat=P.backRepeat),P.fontColor&&(O.style.color=P.fontColor),E.appendChild(O),function(){if(typeof d.onBeforeCellDomAdd=="function"||typeof d.onBeforeCellDomRemove=="function"){var z={};if(z.control=d,z.cell=M,z.element=null,C.domArgs=z,typeof d.onBeforeCellDomAdd=="function"&&d.onBeforeCellDomAdd(z),z.element){var W=O;if(W)if(z.Qa=W,n(z.element)){if(!d.Sa.Ra)throw new e.Exception("Can't reach Vue");d.Sa.Ta=!0,d.Sa.Wa(z.element,W),d.Sa.Ta=!1}else W.appendChild(z.element)}}}(),C.appendChild(E)}}f.root=this,d.nav.scrollable.onmousemove=function(L){var B=d.nav.scrollable;d.coords=e.mo3(B,L);var F=e.mc(L);if(r.resizing){r.resizingShadow||(r.resizingShadow=d.ba(r.resizing,!1,d.shadow));var $=d.cellHeight,z=0,W=F.y-r.originalMouse.y;if(r.resizing.dpBorder==="bottom"){var Z=r.originalHeight+W;d.snapToGrid&&(Z=Math.floor((r.originalHeight+r.originalTop+W+$/2)/$)*$-r.originalTop+z),Z<$&&(Z=$);var V=d.nav.main.clientHeight;r.originalTop+Z>V&&(Z=V-r.originalTop),r.resizingShadow.style.height=Z+"px"}else if(r.resizing.dpBorder==="top"){var q=r.originalTop+W;d.snapToGrid&&(q=Math.floor((r.originalTop+W-z+$/2)/$)*$+z),q<z&&(q=z),q>r.originalTop+r.originalHeight-$&&(q=r.originalTop+r.originalHeight-$);var Z=r.originalHeight-(q-r.originalTop);Z<$?Z=$:r.resizingShadow.style.top=q+"px",r.resizingShadow.style.height=Z+"px"}}else if(r.moving){if(!d.coords)return;if(!r.movingShadow){var H=3,F=e.mc(L),K=Math.abs(F.x-r.originalMouse.x)+Math.abs(F.y-r.originalMouse.y);if(K<=H)return;r.movingShadow=d.ba(r.moving,!0,d.shadow),r.movingShadow.style.width=r.movingShadow.parentNode.offsetWidth+1+"px"}var $=d.cellHeight,z=0,Y=r.moveOffsetY;Y||(Y=$/2);var q=d.coords.y-Y;d.snapToGrid&&(q=Math.floor((d.coords.y-Y-z+$/2)/$)*$+z),q<z&&(q=z);var re=d.nav.events,V=d.nav.main.clientHeight+z,me=parseInt(r.movingShadow.style.height);q+me>V&&(q=V-me),e.Util.addClass(r.moving,d.L("_event_moving_source")),r.movingShadow.parentNode.style.display="none",r.movingShadow.style.top=q+"px",r.movingShadow.parentNode.style.display="";var de=re.clientWidth/re.rows[0].cells.length,he=Math.floor((d.coords.x-45)/de);he<0&&(he=0),he<re.rows[0].cells.length&&he>=0&&r.movingShadow.column!==he&&(r.movingShadow.column=he,r.moveShadow(re.rows[0].cells[he]))}else e.Global.selecting&&(d.Fa(),d.Ga())},d.nav.scrollable.style.display=""},this.ib=function(l,f){return this.businessBeginsHour<this.businessEndsHour?!(l.getHours()<this.businessBeginsHour||l.getHours()>=this.businessEndsHour||l.getDayOfWeek()===6||l.getDayOfWeek()===0):l.getHours()>=this.businessBeginsHour||l.getHours()<this.businessEndsHour},this._=function(){var l=this.nav.header;if(l&&l.rows)for(var f=0;f<l.rows.length;f++)for(var p=l.rows[f],g=0;g<p.cells.length;g++){var x=p.cells[g];x.onclick=null,x.onmousemove=null,x.onmouseout=null}this.fasterDispose||e.pu(l)},this.jb=function(l){function f(m){var y=g[m],w=l?p.insertCell(-1):p.cells[m];w.data=y,w.style.overflow="hidden",w.style.padding="0px",w.style.border="0px none",w.style.height=d.headerHeight+"px",w.onclick=d.kb;var C,E=l?document.createElement("div"):w.firstChild;l?(E.unselectable="on",E.style.MozUserSelect="none",E.style.cursor="default",E.style.position="relative",E.className=d.L("_colheader"),E.style.height=d.headerHeight+"px",d.headerTextWrappingEnabled||(E.style.whiteSpace="nowrap"),C=document.createElement("div"),C.className=d.L("_colheader_inner"),C.unselectable="on",E.appendChild(C),w.appendChild(E)):C=E.firstChild;var N={};N.header={},N.header.cssClass=null,N.header.verticalAlignment="center",N.header.horizontalAlignment="center",N.column=d.lb(y,d),typeof d.onBeforeHeaderRender=="function"&&(e.Util.copyProps(y,N.header,["id","start","name","html","backColor","toolTip","areas"]),d.onBeforeHeaderRender(N),e.Util.copyProps(N.header,y,["html","backColor","toolTip","areas","cssClass","verticalAlignment","horizontalAlignment"])),y.toolTip&&(C.title=y.toolTip),y.cssClass&&e.Util.addClass(E,y.cssClass),y.backColor&&(C.style.background=y.backColor),y.areas&&e.Areas.attach(E,y);var k=y.verticalAlignment;if(k)switch(C.style.display="flex",k){case"center":C.style.alignItems="center";break;case"top":C.style.alignItems="flex-start";break;case"bottom":C.style.alignItems="flex-end"}var A=y.horizontalAlignment;if(A)switch(A){case"center":C.style.justifyContent="center";break;case"left":C.style.justifyContent="flex-start";break;case"right":C.style.justifyContent="flex-end"}E.firstChild.innerHTML=d.ab(y.name,y.html)}for(var p=l?this.nav.header.insertRow(-1):this.nav.header.rows[0],g=this.Ba,x=g.length,S=0;S<x;S++)f(S)},this.kb=function(l){if(d.headerClickHandling!=="Disabled"){var f=this.data,p=d.lb(f),g={};g.header={},g.header.id=f.id,g.header.name=f.name,g.header.start=f.start,g.column=p,g.originalEvent=l,g.shift=l.shiftKey,g.ctrl=l.ctrlKey,g.meta=l.metaKey,g.preventDefault=function(){this.preventDefault.value=!0},typeof d.onHeaderClick=="function"&&(d.onHeaderClick(g),g.preventDefault.value)||typeof d.onHeaderClicked=="function"&&d.onHeaderClicked(g)}},this.lb=function(l){return new e.CalendarColumn(l,d)},this.mb=function(){return this.width&&this.width.indexOf("px")!==-1?"Pixel":"Percentage"},this.ja=function(){var l=this.nav.header,f=!0,p=this.Ba;for(p.length;this.headerCreated&&l&&l.rows&&l.rows.length>0;)this.fasterDispose||e.pu(l.rows[0]),l.deleteRow(0);this.headerCreated=!0,this.jb(f)},this.loadingStart=function(){this.loadingLabelVisible&&(this.nav.loading.innerHTML=this.loadingLabelText,this.nav.loading.style.top=this.headerHeight+5+"px",this.nav.loading.style.display="")},this.commandCallBack=function(l,f){var p={};p.command=l,this.U("Command",f,p)},this.loadingStop=function(l){this.callbackTimeout&&window.clearTimeout(this.callbackTimeout),this.nav.loading.style.display="none"},this.nb=function(){var l=this.nav.scroll;l.root=this,d.ob(),l.onscroll||(l.onscroll=function(){d.pb()})},this.callbackError=function(l,f){alert(`Error!\r
Result: `+l+`\r
Context:`+f)},this.qb=function(){var l=e.sw(this.nav.scroll),f=this.nav.cornerRight;f&&(f.style.width=l+"px")},this.rb=function(){r.globalHandlers||(r.globalHandlers=!0,e.re(document,"mouseup",r.gMouseUp))},this.events={},this.events.add=function(l){var f=null;if(l instanceof e.Event)f=l.data;else{if(typeof l!="object")throw"DayPilot.Calendar.events.add() expects an object or DayPilot.Event instance.";f=l}d.events.list||(d.events.list=[]),d.events.list.push(f),d.sb({eventsOnly:!0}),d.wa.notify()},this.events.find=function(l){if(!d.events.list)return null;if(typeof l=="function"){for(var f=l,p=0;p<d.events.list.length;p++){var g=new e.Event(d.events.list[p],d);if(f(g))return g}return null}for(var p=0;p<d.events.list.length;p++){var x=d.events.list[p];if(x.id===l)return new e.Event(x,d)}return null},this.events.forRange=function(l,f){return l=new e.Date(l),f=new e.Date(f),(d.events.list||[]).filter(function(p){return s(l,f,new e.Date(p.start),new e.Date(p.end))}).map(function(p){return new e.Event(p,d)})},this.events.update=function(l){if(l instanceof e.Event)l.commit();else if(typeof l=="object"){var f=d.events.find(l.id);if(f){var p=e.indexOf(d.events.list,f.data);d.events.list.splice(p,1,l)}}d.sb({eventsOnly:!0}),d.wa.notify()},this.events.remove=function(l){var f;if(l instanceof e.Event)f=l.data;else if(typeof l=="object"){var p=d.events.find(l.id);p&&(f=p.data)}else if(typeof l=="string"||typeof l=="number"){var p=d.events.find(l);p&&(f=p.data)}var g=e.indexOf(d.events.list,f);d.events.list.splice(g,1),d.sb({eventsOnly:!0}),d.wa.notify()},this.events.load=function(l,f,p){var g=function(y){var w={};w.exception=y.exception,w.request=y.request,typeof p=="function"&&p(w)},x=function(y){var w,C=y.request;try{w=JSON.parse(C.responseText)}catch(k){var E={};return E.exception=k,void g(E)}if(e.isArray(w)){var N={};if(N.preventDefault=function(){this.preventDefault.value=!0},N.data=w,typeof f=="function"&&f(N),N.preventDefault.value)return;d.events.list=w,d.Ma&&d.sb({eventsOnly:!0})}};if(d.eventsLoadMethod&&d.eventsLoadMethod.toUpperCase()==="POST")e.Http.ajax({method:"POST",data:{start:d.visibleStart().toString(),end:d.visibleEnd().toString()},url:l,success:x,error:g});else{var S=l,m="start="+d.visibleStart().toString()+"&end="+d.visibleEnd().toString();S+=S.indexOf("?")>-1?"&"+m:"?"+m,e.Http.ajax({method:"GET",url:S,success:x,error:g})}},this.tb=function(){if(d.nav.top.className!==d.L("_main")){d.nav.top.className=d.L("_main");var l=d.nav.corner;l.className=d.L("_corner"),l.firstChild.className=d.L("_corner_inner");var f=d.nav.cornerRight;f&&(f.className=d.L("_cornerright"),f.firstChild.className=d.L("_cornerright_inner"))}},this.update=function(l){if(d.Q)throw new e.Exception("You are trying to update a DayPilot.Calendar instance that has been disposed.");d.ub(l),d.sb()},this.sb=function(l){if(this.Ma){var l=l||{},f=!l.eventsOnly;d.vb(),d.Y(),d.nav.top.style.cursor="auto",f&&(d.ga(),d.ja(),d.ka(),d.la(),d.ma(),d.fb(),d.qb(),d.tb(),d.ob()),d.ha(),d.ia(),d.na(),d.clearSelection(),this.visible?this.show():this.hide()}},this.wb=null,this.ub=function(l){if(l){var f={events:{preInit:function(){var x=this.data||[];e.isArray(x.list)?d.events.list=x.list:d.events.list=x}},columns:{preInit:function(){d.columns.list=this.data}}};this.wb=f;for(var p in l)if(f[p]){var g=f[p];g.data=l[p],g.preInit&&g.preInit()}else d[p]=l[p]}},this.xb=function(){var l=this.wb;for(var f in l){var p=l[f];p.postInit&&p.postInit()}},this.yb=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if(typeof this.id!="string")throw"DayPilot.Calendar() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Calendar: The placeholder element not found: '"+i+"'."}},this.zb={},this.zb.events=[],this.Ab=function(l){var f=this.zb.events,p=this.events.list[l],g={};for(var x in p)g[x]=p[x];if(g.start=new e.Date(p.start),g.end=new e.Date(p.end),typeof this.onBeforeEventRender=="function"){var S={};S.control=d,S.data=g,this.onBeforeEventRender(S)}f[l]=g},this.ha=function(){var l=this.events.list;if(d.zb.events=[],l){if(!e.isArray(l))throw new e.Exception("DayPilot.Calendar.events.list expects an array object. You supplied: "+typeof l);var f=l.length,p=864e5;this.cache.pixels={};var g=[];this.scrollLabels=[],this.minStart=1e4,this.maxEnd=0;for(var x=0;x<f;x++){var S=l[x],m=S;if(typeof m!="object")throw new e.Exception("Event data item must be an object");if(!m.start)throw new e.Exception("Event data item must specify 'start' property");if(!m.end)throw new e.Exception("Event data item must specify 'end' property");if(m instanceof e.Event)throw new e.Exception("DayPilot.Calendar: DayPilot.Event object detected in events.list array. Use raw event data instead.")}if(typeof this.onBeforeEventRender=="function")for(var x=0;x<f;x++)this.Ab(x);for(var x=0;x<this.Ba.length;x++){var y={};y.minEnd=1e6,y.maxStart=-1,this.scrollLabels.push(y);var w=this.Ba[x];w.events=[],w.lines=[],w.blocks=[];for(var C=new e.Date(w.start),E=C.getTime(),N=C.addTime(p),k=N.getTime(),A=0;A<f;A++)if(!g[A]){var S=l[A],T=new e.Date(S.start),P=new e.Date(S.end),M=T.getTime(),O=P.getTime();if(!(O<M)){var R=!(O<=E||M>=k);if(d.viewType==="Resources"&&(R=R&&w.id===S.resource),R){var L=new e.Event(S,d);L.part.dayIndex=x,L.part.start=E<M?T:C,L.part.end=k>O?P:N;var B=this.getPixels(L.part.start,w.start),F=this.getPixels(L.part.end,w.start),$=B.top,z=F.top;if($===z&&(B.cut||F.cut))continue;var W=F.boxBottom,Z=d.useEventBoxes==="Always";Z?(L.part.top=Math.floor($/this.cellHeight)*this.cellHeight+1,L.part.height=Math.max(Math.ceil(W/this.cellHeight)*this.cellHeight-L.part.top,this.cellHeight-1)+1):(L.part.top=$+1,L.part.height=z-$+1),L.part.barTop=Math.max($-L.part.top-1,0),L.part.barHeight=Math.max(z-$-2,1);var T=L.part.top,P=L.part.top+L.part.height;T>y.maxStart&&(y.maxStart=T),P<y.minEnd&&(y.minEnd=P),T<this.minStart&&(this.minStart=T),P>this.maxEnd&&(this.maxEnd=P),w.events.push(L),typeof this.onBeforeEventRender=="function"&&(L.cache=this.zb.events[A]),L.part.start.getTime()===M&&L.part.end.getTime()===O&&(g[A]=!0)}}}}for(var x=0;x<this.Ba.length;x++){var w=this.Ba[x];w.events.sort(this.Bb);for(var A=0;A<w.events.length;A++){var S=w.events[A];w.putIntoBlock(S)}for(var A=0;A<w.blocks.length;A++){var V=w.blocks[A];V.events.sort(this.Bb);for(var q=0;q<V.events.length;q++){var S=V.events[q];V.putIntoLine(S)}}}}},this.Bb=function(l,f){if(!(l&&f&&l.start&&f.start))return 0;var p=l.start().getTime()-f.start().getTime();return p!==0?p:f.end().getTime()-l.end().getTime()},this.debug=function(l,f){this.debuggingEnabled&&(d.debugMessages||(d.debugMessages=[]),d.debugMessages.push(l),typeof console<"u"&&console.log(l))},this.getPixels=function(l,f){f||(f=this.startDate);var p=f.getTime(),g=l.getTime(),x=u.fa(),S=this.cache.pixels[g+"_"+p];if(S)return S;p=f.getTime();var m=60*x*1e3,y=g-p,w=y%m,C=y-w,E=C+m;w===0&&(E=C);var N={};return N.cut=!1,N.top=this.Cb(y),N.boxTop=this.Cb(C),N.boxBottom=this.Cb(E),this.cache.pixels[g+"_"+p]=N,N},this.Cb=function(l){return Math.floor(this.cellHeight*l/(6e4*u.fa()))},this.Db=function(l){Math.floor((shadowTop-_startOffset)/d.cellHeight),d.snapToGrid||(shadowTop-_startOffset)/d.cellHeight,u.fa()},this.vb=function(){this.startDate=new e.Date(this.startDate).getDatePart()},this.ia=function(){this.nav.corner&&(this.nav.corner.style.height=this.headerHeight+"px")},this.ma=function(){var l=this.Za();this.nav.scroll&&l>0&&(this.nav.scroll.style.height=l+"px")},this.wa={},this.wa.scope=null,this.wa.notify=function(){d.wa.scope&&d.wa.scope.$apply()},this.wa.apply=function(l){l()},this.pb=function(){if(d.nav.scroll&&d.Eb()){var l=d.nav.scroll.scrollTop,f=u.fa(),p=60/f,g=l/(p*d.cellHeight);d.Fb.scrollHour=g}},this.ob=function(){var l=0,f=60/u.fa();l=typeof d.Fb.scrollHour=="number"?f*d.cellHeight*d.Fb.scrollHour:d.initScrollPos==="Auto"?this.heightSpec==="BusinessHours"?f*this.cellHeight*this.businessBeginsHour:0:this.initScrollPos;var p=d.nav.top;p.style.display==="none"?(p.style.display="",d.nav.scroll.scrollTop=l,p.style.display="none"):d.nav.scroll.scrollTop=l},this.getScrollY=function(){return d.nav.scroll.scrollTop},this.setScrollY=function(l){d.nav.scroll.scrollTop=l,d.pb()},this.Gb=function(){return!(!this.backendUrl&&typeof WebForm_DoCallback!="function")&&(typeof d.events.list>"u"||!d.events.list)},this.u=function(){this.nav.top.style.visibility==="hidden"&&(this.nav.top.style.visibility="visible")},this.show=function(){d.visible=!0,d.nav.top.style.display="",this.qb()},this.hide=function(){d.visible=!1,d.nav.top.style.display="none"},this.Hb=function(){this.vb(),this.ga(),this.Ya(),this.ja(),this.ka(),this.qb(),this.nb(),this.rb(),r.register(this),this.Ib(),this.U("Init")},this.Fb={},this.Jb=function(){this.Fb.themes=[],this.Fb.themes.push(this.theme||this.cssClassPrefix)},this.Kb=function(){for(var l=this.Fb.themes,f=0;f<l.length;f++){var p=l[f];e.Util.removeClass(this.nav.top,p+"_main")}this.Fb.themes=[]},this.Lb=function(){if(this.afterRender(null,!1),typeof this.onAfterRender=="function"){var l={};l.isCallBack=!1,this.onAfterRender(l)}},this.Mb=function(){if(typeof this.onInit=="function"&&!this.Nb){this.Nb=!0;var l={};this.onInit(l)}},this.Eb=function(){var l=d.nav.top;return!!l&&l.offsetWidth>0&&l.offsetHeight>0},this.Ib=function(){var l=d.Eb;l()||(d.X=setInterval(function(){l()&&(d.nb(),d.qb(),clearInterval(d.X))},100))},this.ab=function(l,f){return d.ca.da()?e.Util.escapeTextHtml(l,f):e.Util.isNullOrUndefined(f)?e.Util.isNullOrUndefined(l)?"":l:f},this.Sa={},this.Sa.Ra=null,this.Sa.Ob=function(l,f,p){var g=d.Sa.Ra;if(typeof g.createVNode=="function"&&typeof g.render=="function"){var x=g.createVNode(l,p);g.render(x,f)}},this.Sa.Wa=function(l,f){var p=d.Sa.Ra;if(typeof p.render=="function"){var g=l;e.isArray(l)&&(g=p.h("div",null,l)),p.render(g,f)}},this.Sa.Ua=function(l){var f=d.Sa.Ra;typeof f.render=="function"&&f.render(null,l)},this.internal={},this.internal.loadOptions=d.ub,this.internal.xssTextHtml=d.ab,this.internal.enableVue=function(l){d.Sa.Ra=l},this.internal.vueRef=function(){return d.Sa.Ra},this.internal.vueRendering=function(){return d.Sa.Ta},this.init=function(){this.yb();var l=this.Gb();return this.Jb(),l?void this.Hb():(this.vb(),this.ga(),this.ha(),this.Ya(),this.ja(),this.ka(),this.u(),this.qb(),this.nb(),this.rb(),r.register(this),this.events&&(this.ia(),this.na()),this.Lb(),this.Mb(),this.Ib(),this.Ma=!0,this)},this.Init=this.init,this.ub(o)},e.CalendarColumn=function(i,o){var c=this;c.id=i.id,c.name=i.name,c.data=i.data,c.start=new e.Date(i.start),c.calendar=o,c.toJSON=function(){var d={};return d.id=this.id,this.start&&(d.start=this.start.toString()),d.name=this.name,d}},e.Calendar=r.Calendar,typeof jQuery<"u"&&function(i){i.fn.daypilotCalendar=function(o){var c=null,d=this.each(function(){if(!this.daypilot){var u=new e.Calendar(this.id);this.daypilot=u;for(name in o)u[name]=o[name];u.init(),c||(c=u)}});return this.length===1?c:d}}(jQuery),function(){var i=e.am();i&&i.directive("daypilotCalendar",["$parse",function(o){return{restrict:"E",template:"<div></div>",replace:!0,link:function(c,d,u){var l=new e.Calendar(d[0]);l.wa.scope=c,l.init();var f=u.id;f&&(c[f]=l);var p=u.publishAs;p&&(0,o(p).assign)(c,l);for(var g in u)g.indexOf("on")===0&&function(y){l[y]=function(w){var C=o(u[y]);c.$apply(function(){C(c,{args:w})})}}(g);var x=c.$watch,S=u.config||u.daypilotConfig,m=u.events||u.daypilotEvents;x.call(c,S,function(y){for(var w in y)l[w]=y[w];l.update(),l.Mb()},!0),x.call(c,m,function(y){l.events.list=y,l.update()},!0)}}}])}()}}(),typeof e>"u")var e={};if(typeof e.Global>"u"&&(e.Global={}),function(t){typeof t.DatePicker>"u"&&(t.DatePicker=function(r){this.v="2025.3.710-lite";var n="navigator_"+new Date().getTime(),s=this;this.onShow=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.prepare=function(){if(this.locale="en-us",this.target=null,this.targetAlignment="left",this.resetTarget=!0,this.pattern=this.ca.locale().datePattern,this.theme="navigator_default",this.patterns=[],this.zIndex=null,this.showToday=!0,this.todayText="Today",this.weekStarts="Auto",r)for(var i in r)this[i]=r[i]},this.init=function(){this.date=new t.Date(this.date);var i=this.Pb();this.resetTarget&&!i?this.Qb(this.date):!this.resetTarget&&i&&(s.date=i);var o=this.D();return o&&o.addEventListener("input",function(){s.date=s.Pb(),s.date&&s.navigator.select(s.date,{dontNotify:!0})}),this},this.close=function(){document.removeEventListener("mousedown",s.close),document.removeEventListener("wheel",s.close),window.removeEventListener("resize",s.close),s.Eb&&(s.Eb=!1,s.navigator&&s.navigator.dispose(),s.div.innerHTML="",s.div&&s.div.parentNode===document.body&&document.body.removeChild(s.div))},this.Rb=function(i){this.date=new t.Date(i),this.Qb(this.date)},this.select=function(i){var o={};o.date=new t.Date(i),o.preventDefault=function(){this.preventDefault.value=!0},typeof s.onTimeRangeSelect=="function"&&(s.onTimeRangeSelect(o),o.preventDefault.value)||(this.Rb(i),typeof s.onTimeRangeSelected=="function"&&s.onTimeRangeSelected(o))},this.Pb=function(){var i=this.D();if(!i)return this.date;var o=null;if(o=i.tagName==="INPUT"?i.value:i.innerText,!o)return null;for(var c=t.Date.parse(o,s.pattern),d=0;d<s.patterns.length;d++){if(c)return c;c=t.Date.parse(o,s.patterns[d])}return c},this.Qb=function(i){var o=this.D();if(o){var c=i.toString(s.pattern,s.locale);o.tagName==="INPUT"?o.value=c:o.innerHTML=c}},this.ca={},this.ca.locale=function(){return t.Locale.find(s.locale)},this.D=function(){var i=this.target;return i&&i.nodeType&&i.nodeType===1?i:document.getElementById(i)},Object.defineProperty(this,"visible",{get:function(){return s.Eb}}),this.show=function(){if(!this.Eb){document.addEventListener("mousedown",s.close),document.addEventListener("wheel",s.close),window.addEventListener("resize",s.close);var i=this.D(),o=new t.Navigator(n);o.api=2,o.cssOnly=!0,o.theme=s.theme,o.weekStarts="Auto",o.locale=s.locale,o.showToday=s.showToday,o.todayText=s.todayText,o.weekStarts=s.weekStarts,o.onTodayClick=function(S){o.onTimeRangeSelected({start:t.Date.today()}),S.preventDefault()},o.onTimeRangeSelected=function(w){s.date=w.start;var m=w.start.addTime(o.Sb),y=m.toString(s.pattern,s.locale),w={};w.start=m,w.date=m,w.preventDefault=function(){this.preventDefault.value=!0},typeof s.onTimeRangeSelect=="function"&&(s.onTimeRangeSelect(w),w.preventDefault.value)||(s.Qb(y),s.close(),typeof s.onTimeRangeSelected=="function"&&s.onTimeRangeSelected(w))},this.navigator=o;var c={x:0,y:0,w:0,h:0};i&&(c=t.abs(i));var d=c.h,u=s.targetAlignment,l=document.createElement("div");l.style.position="absolute",u==="left"&&(l.style.left=c.x+"px"),l.style.top=c.y+d+"px",s.zIndex&&(l.style.zIndex=s.zIndex);var f=document.createElement("div");f.id=n,l.appendChild(f),l.addEventListener("mousedown",function(m){var m=m||window.event;m.cancelBubble=!0,m.stopPropagation&&m.stopPropagation()}),document.body.appendChild(l),this.div=l;var p=s.Pb()||s.date;if(o.startDate=p,o.Sb=p.getTimePart(),o.selectionDay=p.getDatePart(),o.init(),u==="right"){var g=c.x+c.w-o.nav.top.offsetWidth;l.style.left=g+"px"}if(this.Eb=!0,this.onShow){var x={};this.onShow(x)}}},this.prepare(),this.init()})}(e),typeof e>"u")var e={};if(typeof e.Global>"u"&&(e.Global={}),function(t){if(typeof t.Menu>"u"||!t.Menu.def){var r=function(){},n={};n.mouse=null,n.menu=null,n.handlersRegistered=!1,n.hideTimeout=null,n.waitingSubmenu=null,t.Menu=function(s){var i=this,o=null;this.v="2025.3.710-lite",this.zIndex=120,this.cssClassPrefix="menu_default",this.cssOnly=!0,this.menuTitle=null,this.showMenuTitle=!1,this.hideOnMouseOut=!1,this.hideAfter=200,this.theme=null,this.onShow=null,this.Tb=function(){},s&&t.isArray(s)&&(this.items=s),this.toJSON=function(){return null},this.show=function(u,l){l=l||{};var f=null;if(u?typeof u.id=="string"||typeof u.id=="number"?f=u.id:typeof u.id=="function"?f=u.id():typeof u.value=="function"&&(f=u.value()):f=null,typeof t.Bubble<"u"&&t.Bubble.hideActive(),l.submenu||n.menuClean(),this.Tb.submenu=null,n.mouse!==null){i.cssOnly||(i.cssOnly=!0);var p=null;if(u&&u.isRow&&u.$.row.task?(p=new t.Task(u.$.row.task,u.calendar),p.menuType="resource"):p=u&&u.isEvent&&u.data.task?new t.Task(u,u.calendar):u,typeof i.onShow=="function"){var g={};if(g.source=p,g.menu=i,g.preventDefault=function(){g.preventDefault.value=!0},i.onShow(g),g.preventDefault.value)return}var x=document.createElement("div");if(x.style.position="absolute",x.style.top="0px",x.style.left="0px",x.style.display="none",x.style.overflow="hidden",x.style.zIndex=this.zIndex+1,x.className=this.Ub("main"),x.onclick=function(ee){ee.cancelBubble=!0,this.parentNode.removeChild(this)},this.hideOnMouseOut&&(x.onmousemove=function(ee){clearTimeout(n.hideTimeout)},x.onmouseleave=function(ee){i.delayedHide({hideParent:!0})}),!this.items||this.items.length===0)throw"No menu items defined.";if(this.showMenuTitle){var S=document.createElement("div");S.innerHTML=this.menuTitle,S.className=this.Ub("title"),x.appendChild(S)}for(var m=0;m<this.items.length;m++){var y=this.items[m],w=document.createElement("div");if(t.Util.addClass(w,this.Ub("item")),y.items&&(t.Util.addClass(w,this.Ub("item_haschildren")),t.Util.addClass(x,this.Ub("withchildren"))),typeof y<"u"&&!y.hidden){if(y.text==="-"){var C=document.createElement("div");C.addEventListener("click",function(ee){ee.stopPropagation()}),w.appendChild(C)}else{var E=document.createElement("a");if(E.style.position="relative",E.style.display="block",y.cssClass&&t.Util.addClass(E,y.cssClass),y.disabled)t.Util.addClass(E,i.Ub("item_disabled"));else{if(y.onclick||y.onClick){E.item=y,E.onclick=function(ee,ie){return function(ye){if(typeof ee.onClick=="function"){var le={};if(le.item=ee,le.source=ie.source,le.originalEvent=ye,le.preventDefault=function(){le.preventDefault.value=!0},ee.onClick(le),le.preventDefault.value)return void ye.stopPropagation()}ee.onclick&&ee.onclick.call(ie,ye)}}(y,E);var N=function(ee,ie){return function(ye){ye.stopPropagation(),ye.preventDefault(),ie.source.calendar&&ie.source.calendar.internal.touch&&(ie.source.calendar.internal.touch.active=!0)}},k=function(ee,ie){return function(ye){ye.stopPropagation(),ye.preventDefault();var le=function(){window.setTimeout(function(){ie.source.calendar&&ie.source.calendar.internal.touch&&(ie.source.calendar.internal.touch.active=!1)},500)};if(typeof ee.onClick=="function"){var Te={};if(Te.item=ee,Te.source=ie.source,Te.originalEvent=ye,Te.preventDefault=function(){Te.preventDefault.value=!0},ee.onClick(Te),Te.preventDefault.value)return void le()}ee.onclick&&ee.onclick.call(ie,ye),n.menuClean(),le()}};t.reNonPassive(E,"touchstart",N(y,E)),t.reNonPassive(E,"touchend",k(y,E))}if(y.items&&!y.disabled){var A=function(ee,ie){return function(ye){ye.preventDefault(),ye.stopPropagation(),i.Vb(ee,ie)}};E.ontouchend=A(y,E)}if(y.onclick)r();else if(y.href)E.href=y.href.replace(/\x7B0\x7D/gim,f),y.target&&E.setAttribute("target",y.target);else if(y.command){var A=function(ie,ye){return function(le){var Te=ye.source,Ae=ie;Ae.action=Ae.action?Ae.action:"CallBack";var ae=Te.calendar||Te.root;if(Te instanceof t.Link)return void ae.internal.linkMenuClick(Ae.command,Te,Ae.action);if(Te instanceof t.Selection)return void ae.internal.timeRangeMenuClick(Ae.command,Te,Ae.action);if(Te instanceof t.Event)return void ae.internal.eventMenuClick(Ae.command,Te,Ae.action);if(Te instanceof t.Selection)return void ae.internal.timeRangeMenuClick(Ae.command,Te,Ae.action);if(Te instanceof t.Task)return void(Te.menuType==="resource"?ae.internal.resourceHeaderMenuClick(Ae.command,ye.menuSource,Ae.action):ae.internal.eventMenuClick(Ae.command,ye.menuSource,Ae.action));switch(Te.menuType){case"resource":return void ae.internal.resourceHeaderMenuClick(Ae.command,Te,Ae.action);case"selection":return void ae.internal.timeRangeMenuClick(Ae.command,Te,Ae.action);default:return void ae.internal.eventMenuClick(Ae.command,Te,Ae.action)}}};E.onclick=A(y,E),E.ontouchend=A(y,E)}}y.items&&E.addEventListener("click",function(ee){ee.stopPropagation()}),E.source=p,E.menuSource=u;var T=document.createElement("span");if(T.className=i.Ub("item_text"),T.innerHTML=t.Util.escapeTextHtml(y.text,y.html),E.appendChild(T),y.image){var P=document.createElement("img");P.src=y.image,P.style.position="absolute",P.style.top="0px",P.style.left="0px",E.appendChild(P)}if(y.icon){var M=document.createElement("span");M.className=i.Ub("item_icon");var O=document.createElement("i");O.className=y.icon,M.appendChild(O),E.appendChild(M)}if(y.symbol){var R="http://www.w3.org/2000/svg",L=document.createElementNS(R,"svg");L.setAttribute("width","100%"),L.setAttribute("height","100%");var B=document.createElementNS(R,"use");B.setAttribute("href",y.symbol),L.appendChild(B);var F=document.createElement("span");F.className=i.Ub("item_symbol"),F.style.position="absolute",F.style.top="0px",F.style.left="0px",F.appendChild(L),E.appendChild(F)}var $=function(ee,ie){return function(){var ye=(ie.source,ee),le=n.waitingSubmenu;if(le){if(le.parent===ye)return;clearTimeout(le.timeout),n.waitingSubmenu=null}ee.disabled||(n.waitingSubmenu={},n.waitingSubmenu.parent=ye,n.waitingSubmenu.timeout=setTimeout(function(){n.waitingSubmenu=null,i.Vb(ye,ie)},300))}};E.onmouseover=$(y,E),w.appendChild(E)}x.appendChild(w)}}var z=function(ee){window.setTimeout(function(){n.menuClean(),t.MenuBar.deactivate()},100)};x.onclick=z,x.ontouchend=z,x.onmousedown=function(ee){ee=ee||window.event,ee.cancelBubble=!0,ee.stopPropagation&&ee.stopPropagation()},x.oncontextmenu=function(){return!1},document.body.appendChild(x),i.Tb.visible=!0,i.Tb.source=u,x.style.display="";var W=x.offsetHeight,Z=x.offsetWidth;x.style.display="none";var V=document.documentElement.clientHeight,q=window.innerWidth,H=typeof l.windowMargin=="number"?l.windowMargin:5;if(function(){var ee=l.initiator;if(ee){var ie=ee.div,ye=ee.e,le=ee.area,Te=le.visibility||le.v||"Visible",Ae=ee.a;if(Te!=="Visible"&&(Ae=t.Areas.createArea(ie,ye,le),ie.appendChild(Ae),o=Ae),Ae){var ae=t.abs(Ae);l.x=ae.x,l.y=ae.y+ae.h+2}}}(),function(){var ee=typeof l.x=="number"?l.x:n.mouse.x+1,ie=typeof l.y=="number"?l.y:n.mouse.y+1,ye=document.body.scrollTop||document.documentElement.scrollTop,le=document.body.scrollLeft||document.documentElement.scrollLeft,Te=0,Ae=0;ie-ye>V-W&&V!==0?Te=ie-(ie-ye-(V-W)+H):Te=ie,i.Tb.y=Te,x.style.top=Te+"px",l.align==="right"&&(ee-=Z),ee-le>q-Z&&q!==0?Ae=ee-(ee-le-(q-Z)+H):Ae=ee,i.Tb.x=Ae,x.style.left=Ae+"px"}(),l.parentLink){var K=l.parentLink,Y=parseInt(new t.StyleReader(x).get("border-top-width")),re=t.abs(l.parentLink.parentNode),me=re.x+K.offsetWidth,de=re.y-Y;me+Z>q&&(me=Math.max(0,re.x-Z));var he=document.body.scrollTop+document.documentElement.scrollTop;de+W-he>V&&(de=Math.max(0,V-W+he)),x.style.left=me+"px",x.style.top=de+"px"}x.style.display="",this.addShadow(x),this.Tb.div=x,l.submenu||(t.Menu.active=this)}},this.update=function(){if(i.Tb.visible){var u=i.Tb.source;i.hide(),i.show(u,{x:i.Tb.x,y:i.Tb.y})}},this.Vb=function(u,l){var f=u,p=l.source;if((!i.Tb.submenu||i.Tb.submenu.item!==u)&&(i.Tb.submenu&&i.Tb.submenu.item!==u&&(t.Util.removeClass(i.Tb.submenu.link.parentNode,i.Ub("item_haschildren_active")),i.Tb.submenu.menu.hide(),i.Tb.submenu=null),u.items)){var g=i.cloneOptions();g.items=u.items,i.Tb.submenu={},i.Tb.submenu.menu=new t.Menu(g),i.Tb.submenu.menu.Wb=i,i.Tb.submenu.menu.show(p,{submenu:!0,parentLink:l,parentItem:f}),i.Tb.submenu.item=u,i.Tb.submenu.link=l,t.Util.addClass(l.parentNode,i.Ub("item_haschildren_active"))}},this.Ub=function(u){var l=this.theme||this.cssClassPrefix,f=this.cssOnly?"_":"";return l?l+f+u:""},this.cloneOptions=function(){return t.Util.copyProps(c,{},["cssClassPrefix","theme","hideAfter","hideOnMouseOut","zIndex"])},this.hide=function(u){u=u||{},this.Tb.submenu&&this.Tb.submenu.menu.hide();var l=n.waitingSubmenu;if(l&&(n.waitingSubmenu=null,clearTimeout(l.timeout)),this.removeShadow(),this.Tb.div&&this.Tb.div.parentNode===document.body&&document.body.removeChild(this.Tb.div),o&&(t.de(o),o=null),i.Tb.visible=!1,i.Tb.source=null,i.Wb&&u.hideParent&&i.Wb.hide(u),t.Menu.active===i&&(t.Menu.active=null),typeof this.onHide=="function"){var f={};this.onHide(f)}},this.delayedHide=function(u){n.hideTimeout=setTimeout(function(){i.hide(u)},i.hideAfter)},this.cancelHideTimeout=function(){clearTimeout(n.hideTimeout)},this.init=function(u){return n.mouseMove(u),this},this.addShadow=function(u){},this.removeShadow=function(){};var c=t.isArray(s)?null:s;if(c)for(var d in c)this[d]=c[d]},t.MenuBar=function(s,i){var o=this;i=i||{},this.items=[],this.theme="menubar_default",this.windowMargin=0,this.nav={},this.elements={},this.elements.items=t.list(),this.l=null,this.Ma=!1;for(var c in i)this[c]=i[c];this.Xb=function(d){return this.theme+"_"+d},this.u=function(){this.nav.top=document.getElementById(s);var d=this.nav.top;d.className=this.Xb("main"),t.list(o.items).forEach(function(u){var l=document.createElement("span");l.innerHTML=t.Util.escapeTextHtml(u.text,u.html),l.className=o.Xb("item"),u.cssClass&&l.classList.add(u.cssClass),l.data=u,l.onclick=function(f){if(o.active&&o.active.item===u)o.Yb();else if(u.children)return void o.Zb(l);if(typeof u.onClick=="function"){var p={};p.item=u,p.originalEvent=f,u.onClick(p)}},l.onmousedown=function(f){f.stopPropagation()},l.onmouseover=function(){o.active&&o.active.item!==u&&o.Zb(l)},d.appendChild(l),o.elements.items.push(l)})},this.Yb=function(){var d=o.Xb("item_active");o.elements.items.forEach(function(u){t.Util.removeClass(u,d)}),o.active&&o.active.menu&&o.active.menu.hide(),o.active=null},this.$b=function(d){return!!o.active&&o.active.item===d.data},this.Zb=function(d){if(!o.$b(d)){o.Yb();var u=d.data,l=o.active={};l.item=u,l.div=d;var f=o.Xb("item_active");t.Util.addClass(d,f);var p=t.abs(d);if(u.children){l.menu=new t.Menu({items:u.children});var g=p.x;u.align==="right"&&(g+=p.w),l.menu.show(null,{x:g,y:p.y+p.h,align:u.align,windowMargin:o.windowMargin})}t.MenuBar.active=o}},this.init=function(){return this.u(),this.Ma=!0,this},this.dispose=function(){this.Ma&&(this.nav.top.innerHTML="",this.elements.items=[])}},t.MenuBar.deactivate=function(){t.MenuBar.active&&(t.MenuBar.active.Yb(),t.MenuBar.active=null)},n.menuClean=function(){typeof t.Menu.active<"u"&&t.Menu.active&&(t.Menu.active.hide(),t.Menu.active=null)},n.mouseDown=function(s){typeof n<"u"&&(n.menuClean(),t.MenuBar.deactivate())},n.wheel=function(s){typeof n<"u"&&(n.menuClean(),t.MenuBar.deactivate())},n.mouseMove=function(s){typeof n<"u"&&(n.mouse=n.mousePosition(s))},n.touchMove=function(s){typeof n<"u"&&(n.mouse=n.touchPosition(s))},n.touchStart=function(s){typeof n<"u"&&(n.mouse=n.touchPosition(s))},n.touchEnd=function(s){},n.touchPosition=function(s){if(!s||!s.touches)return null;var i=s.touches[0],o={};return o.x=i.pageX,o.y=i.pageY,o},n.mousePosition=function(s){return t.mo3(null,s)},t.Menu.touchPosition=function(s){s.touches&&(n.mouse=n.touchPosition(s))},t.Menu.hide=function(s){if(s=s||{},s.calendar){var i=t.Menu.active;if(i){var o=i.Tb.source;o&&o.calendar===s.calendar&&n.menuClean()}}else n.menuClean()},n.handlersRegistered||typeof document>"u"||(t.re(document,"mousemove",n.mouseMove),t.re(document,"mousedown",n.mouseDown),t.re(document,"wheel",n.wheel),t.re(document,"touchmove",n.touchMove),t.re(document,"touchstart",n.touchStart),t.re(document,"touchend",n.touchEnd),n.handlersRegistered=!0),t.Menu.def={}}}(e),typeof e>"u"&&(e={}),function(t){function r(g,x,S){var m=x.indexOf(".");if(m===-1)return void(x!=="__proto__"&&x!=="constructor"&&(g[x]=S));var y=x.substring(0,m);if(y!=="__proto__"&&y!=="constructor"){var w=x.substring(m+1),C=g[y];typeof C=="object"&&C!==null||(g[y]={},C=g[y]),r(C,w,S)}}function n(g,x,S){x=x||{},S=S||"";for(var m in g){var y=g[m];typeof y=="object"?Object.prototype.toString.call(y)==="[object Array]"?x[S+m]=y:y&&y.toJSON?x[S+m]=y.toJSON():n(y,x,S+m+"."):x[S+m]=y}return x}if(!t.ModalStatic){t.ModalStatic={},t.ModalStatic.list=[],t.ModalStatic.hide=function(){if(this.list.length>0){var g=this.list.pop();g&&g.hide()}},t.ModalStatic.remove=function(g){for(var x=t.ModalStatic.list,S=0;S<x.length;S++)if(x[S]===g)return void x.splice(S,1)},t.ModalStatic.close=function(g){t.ModalStatic.result(g),t.ModalStatic.hide()},t.ModalStatic.result=function(g){var x=t.ModalStatic.list;x.length>0&&(x[x.length-1].result=g)},t.ModalStatic.displayed=function(g){for(var x=t.ModalStatic.list,S=0;S<x.length;S++)if(x[S]===g)return!0;return!1},t.ModalStatic.stretch=function(){if(this.list.length>0){var g=this.list[this.list.length-1];g&&g.stretch()}},t.ModalStatic.last=function(){var g=t.ModalStatic.list;return g.length>0?g[g.length-1]:null};var s=function(){function g(){for(var y=document.querySelectorAll("style[nonce]"),w=0;w<y.length;w++){var C=y[w];if(C.nonce)return C.nonce}if(document.currentScript&&document.currentScript.nonce)return document.currentScript.nonce;for(var E=document.querySelectorAll("script[nonce]"),N=0;N<E.length;N++){var k=E[N];if(k.nonce)return k.nonce}return""}if(typeof window>"u"){var m={};return m.add=function(){},m.commit=function(){},m}var x=document.createElement("style");x.nonce=g(),x.styleSheet||x.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(x);var S=!!x.styleSheet,m={};return m.rules=[],m.commit=function(){try{S&&(x.styleSheet.cssText=this.rules.join(`
`))}catch{}},m.add=function(y,w,C){if(S)return void this.rules.push(y+"{"+w+"}");if(x.sheet.insertRule)typeof C>"u"&&(C=x.sheet.cssRules.length),x.sheet.insertRule(y+"{"+w+"}",C);else{if(!x.sheet.addRule)throw"No CSS registration method found";x.sheet.addRule(y,w,C)}},m},i="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB3aWR0aD0iMTAiCiAgIGhlaWdodD0iMTUiCj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDUpIj4KICAgIDxwYXRoCiAgICAgICBpZD0icGF0aDMxNzMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoxLjg1MTk2ODUzO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZSIKICAgICAgIGQ9Ik0gMC45NTQxNDgzOCwwLjY4MTYwMzEgNS4wMzkwNjI1LDUuNDExNTM4NiA5LjEyMzk3NjYsMC42ODE2MDMxIgogICAgICAgIC8+CiAgPC9nPgo8L3N2Zz4K",o=new s;o.add(".modal_default_main","border: 10px solid #ccc; max-width: 90%;"),o.add(".modal_default_main:focus","outline: none;"),o.add(".modal_default_content","padding: 10px 0px;"),o.add(".modal_default_inner","padding: 20px;"),o.add(".modal_default_input","padding: 10px 0px;"),o.add(".modal_default_buttons","margin-top: 10px;"),o.add(".modal_default_buttons","padding: 10px 0px;"),o.add(".modal_default_form_item","padding: 10px 0px; position: relative;"),o.add(".modal_default_form_item_level1","border-left: 2px solid #ccc; margin-left: 10px; padding-left: 20px;"),o.add(".modal_default_form_item.modal_default_form_title","font-size: 1.5rem; font-weight: bold;"),o.add(".modal_default_form_item input[type=text]","width: 100%; box-sizing: border-box;"),o.add(".modal_default_form_item textarea","width: 100%; height: 200px; box-sizing: border-box;"),o.add(".modal_default_form_item input[type=select]","width: 100%; box-sizing: border-box;"),o.add(".modal_default_form_item label","display: block;"),o.add(".modal_default_form_item select","width: 100%; box-sizing: border-box;"),o.add(".modal_default_form_item_label","margin: 2px 0px;"),o.add(".modal_default_form_item_image img","max-width: 100%; height: auto;"),o.add(".modal_default_form_item_invalid",""),o.add(".modal_default_form_item_invalid_message","position: absolute; right: 0px; top: 9px; background-color: red; color: #ffffff; padding: 2px; border-radius: 2px;"),o.add(".modal_default_background","opacity: 0.5; background-color: #000;"),o.add(".modal_default_ok","padding: 3px; width: 80px;"),o.add(".modal_default_cancel","padding: 3px; width: 80px;"),o.add(".modal_default_form_item_date","position: relative;"),o.add(".modal_default_form_item_date:after","content: ''; position: absolute; right: 7px; top: 50%; margin-top: 3px; width: 10px; height: 15px; background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB3aWR0aD0iMTAiCiAgIGhlaWdodD0iMTUiCj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDUpIj4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojY2NjY2NjO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjM4MDM3MzM2O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icmVjdDE5MjgiCiAgICAgICB3aWR0aD0iOS45MTUzMDYxIgogICAgICAgaGVpZ2h0PSIxMS4zNjkzNyIKICAgICAgIHg9IjAuMTE3MTg3NSIKICAgICAgIHk9Ii0zLjAwOTk5NTciCiAgICAgICByeT0iMS4zMTE4NTA1IiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNjY2NjY2M7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNTk4MTQwMTI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MTkzMCIKICAgICAgIHdpZHRoPSIxLjUzNDQxMzYiCiAgICAgICBoZWlnaHQ9IjIuMjE5ODI1IgogICAgICAgeD0iMi4xNTU4NDgzIgogICAgICAgeT0iLTQuMzkzNzAwMSIKICAgICAgIHJ5PSIwLjY3MTc4OTE3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSItMS4xNjU4NDY2IgogICAgICAgeD0iMS41MjM5NTA2IgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QxOTQ4IgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjY3MTc4OTE3IgogICAgICAgeT0iLTQuMzkzNzAwMSIKICAgICAgIHg9IjYuNDUyNzIzNSIKICAgICAgIGhlaWdodD0iMi4yMTk4MjUiCiAgICAgICB3aWR0aD0iMS41MzQ0MTM2IgogICAgICAgaWQ9InJlY3QyMDAzIgogICAgICAgc3R5bGU9ImZpbGw6I2NjY2NjYztmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS41OTgxNDAxMjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MjAwNSIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHg9IjQuMjE5MjYzMSIKICAgICAgIHk9Ii0xLjE2NTg0NjYiCiAgICAgICByeT0iMC4yOTYwMTQ3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSItMS4xNjU4NDY2IgogICAgICAgeD0iNi45OTI3MDA2IgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QyMDA3IgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MjAxMyIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHg9IjEuNTIzOTUwNiIKICAgICAgIHk9IjEuODAyOTAzNCIKICAgICAgIHJ5PSIwLjI5NjAxNDciIC8+CiAgICA8cmVjdAogICAgICAgcnk9IjAuMjk2MDE0NyIKICAgICAgIHk9IjEuODAyOTAzNCIKICAgICAgIHg9IjQuMjE5MjYzMSIKICAgICAgIGhlaWdodD0iMS44Mjk5MDkxIgogICAgICAgd2lkdGg9IjEuODM0MjI1MSIKICAgICAgIGlkPSJyZWN0MjAxNSIKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIgLz4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjQyMTg5MTkzO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icmVjdDIwMTciCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB4PSI2Ljk5MjcwMDYiCiAgICAgICB5PSIxLjgwMjkwMzQiCiAgICAgICByeT0iMC4yOTYwMTQ3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSI0LjczMjU5MDciCiAgICAgICB4PSIxLjU2MzAxMzEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBpZD0icmVjdDIwMTkiCiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjQyMTg5MTkzO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiIC8+CiAgICA8cmVjdAogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgaWQ9InJlY3QyMDIxIgogICAgICAgd2lkdGg9IjEuODM0MjI1MSIKICAgICAgIGhlaWdodD0iMS44Mjk5MDkxIgogICAgICAgeD0iNC4yNTgzMjU2IgogICAgICAgeT0iNC43MzI1OTA3IgogICAgICAgcnk9IjAuMjk2MDE0NyIgLz4KICAgIDxyZWN0CiAgICAgICByeT0iMC4yOTYwMTQ3IgogICAgICAgeT0iNC43MzI1OTA3IgogICAgICAgeD0iNy4wMzE3NjMxIgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QyMDIzIgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogIDwvZz4KPC9zdmc+Cg==)"),typeof navigator<"u"&&navigator.userAgent.indexOf("Edge")!==-1&&o.add(".modal_default_form_item_date input::-ms-clear","display: none;"),o.add(".modal_default_form_item_scrollable_scroll","width: 100%; height: 200px; box-sizing: border-box; border: 1px solid #ccc; overflow-y: auto;"),o.add(".modal_default_form_item_scrollable_scroll_content","padding: 5px;"),o.add(".modal_default_form_item_searchable","position: relative;"),o.add(".modal_default_form_item_searchable_icon",""),o.add(".modal_default_form_item_searchable_icon:after","content:''; position: absolute; right: 5px; top: 50%; margin-top: -8px; width: 10px; height: 15px; background-image:url("+i+");"),o.add(".modal_default_form_item_searchable_list","box-sizing: border-box; border: 1px solid #999; max-height: 150px; overflow-y: auto;"),o.add(".modal_default_form_item_searchable_list_item","background: white; padding: 2px; cursor: default;"),o.add(".modal_default_form_item_searchable_list_item_highlight","background: #ccc;"),o.add(".modal_default_form_item_time","position: relative;"),o.add(".modal_default_form_item_time_icon",""),o.add(".modal_default_form_item_time_icon:after","content:''; position: absolute; right: 5px; top: 50%; margin-top: -8px; width: 10px; height: 15px; background-image:url("+i+");"),o.add(".modal_default_form_item_time_list","box-sizing: border-box; border: 1px solid #999; max-height: 150px; overflow-y: auto;"),o.add(".modal_default_form_item_time_list_item","background: white; padding: 2px; cursor: default;"),o.add(".modal_default_form_item_time_list_item_highlight","background: #ccc;"),o.add(".modal_default_form_item_datetime_parent","display: flex;"),o.add(".modal_default_form_item_datetime .modal_default_form_item_time_main","margin-left: 5px;"),o.add(".modal_default_form_item_datetime input[type='text'].modal_default_input_date ",""),o.add(".modal_default_form_item_tabular_main","margin-top: 10px;"),o.add(".modal_default_form_item_tabular_table","display: table; width: 100%; xbackground-color: #fff; border-collapse: collapse;"),o.add(".modal_default_form_item_tabular_tbody","display: table-row-group;"),o.add(".modal_default_form_item_tabular_row","display: table-row;"),o.add(".modal_default_form_item_tabular_row.modal_default_form_item_tabular_header",""),o.add(".modal_default_form_item_tabular_cell.modal_default_form_item_tabular_rowaction","padding: 0px; width: 23px;"),o.add(".modal_default_form_item_tabular_cell","display: table-cell; border: 0px; padding: 2px 2px 2px 0px; cursor: default; vertical-align: bottom;"),o.add(".modal_default_form_item_tabular_header .modal_default_form_item_tabular_cell","padding-left: 0px; padding-bottom: 0px;"),o.add(".modal_default_form_item_tabular_table input[type=text], .modal_default_form_item_tabular_table input[type=number]","width:100%; box-sizing: border-box;"),o.add(".modal_default_form_item_tabular_table select","width:100%; height:100%; box-sizing: border-box;"),o.add(".modal_default_form_item_tabular_plus","display: inline-block; background-color: #ccc; color: white; width: 20px; height: 20px; border-radius: 10px; box-sizing: border-box; position: relative; margin-left: 3px; margin-top: 3px; cursor: pointer;"),o.add(".modal_default_form_item_tabular_plus:after",`content: ''; position: absolute; left: 5px; top: 5px; width: 10px; height: 10px;   background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSA1LjAgMC41IEwgNS4wIDkuNSBNIDAuNSA1LjAgTCA5LjUgNS4wJyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==")`),o.add(".modal_default_form_item_tabular_delete","display: inline-block; background-color: #ccc; color: white; width: 20px; height: 20px; border-radius: 10px; box-sizing: border-box; position: relative; margin-left: 3px; margin-top: 3px; cursor: pointer;"),o.add(".modal_default_form_item_tabular_delete:after",`content: ''; position: absolute; left: 5px; top: 5px; width: 10px; height: 10px;   background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgOS41IDkuNSBNIDAuNSA5LjUgTCA5LjUgMC41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==")`),o.add(".modal_default_form_item_tabular_disabled .modal_default_form_item_tabular_plus","display: none;"),o.add(".modal_default_form_item_tabular_plus_max.modal_default_form_item_tabular_plus","display: none;"),o.add(".modal_default_form_item_tabular_disabled .modal_default_form_item_tabular_delete","visibility: hidden;"),o.add(".modal_default_form_item_tabular_empty","height: 1px; margin: 5px 23px 5px 0px; background-color: #ccc;"),o.add(".modal_default_form_item_tabular_spacer .modal_default_form_item_tabular_cell","padding: 0px;"),o.add(".modal_min_main","border: 1px solid #ccc; max-width: 90%;"),o.add(".modal_min_background","opacity: 0.5; background-color: #000;"),o.add(".modal_min_ok","padding: 3px 10px;"),o.add(".modal_min_cancel","padding: 3px 10px;"),o.add(".navigator_modal_main","border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;"),o.add(".navigator_modal_main *, .navigator_modal_main *:before, .navigator_modal_main *:after","box-sizing: content-box;"),o.add(".navigator_modal_month","font-size: 11px;"),o.add(".navigator_modal_day","color: black;"),o.add(".navigator_modal_weekend","background-color: #f0f0f0;"),o.add(".navigator_modal_dayheader","color: black;"),o.add(".navigator_modal_line","border-bottom: 1px solid #c0c0c0;"),o.add(".navigator_modal_dayother","color: gray;"),o.add(".navigator_modal_todaybox","border: 1px solid red;"),o.add(".navigator_modal_title, .navigator_modal_titleleft, .navigator_modal_titleright","border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;"),o.add(".navigator_modal_busy","font-weight: bold;"),o.add(".navigator_modal_cell","text-align: center;"),o.add(".navigator_modal_select .navigator_modal_cell_box","background-color: #FFE794; opacity: 0.5;"),o.add(".navigator_modal_title","text-align: center;"),o.add(".navigator_modal_titleleft, .navigator_modal_titleright","text-align: center;"),o.add(".navigator_modal_dayheader","text-align: center;"),o.add(".navigator_modal_weeknumber","text-align: center;"),o.add(".navigator_modal_cell_text","cursor: pointer;"),o.add(".navigator_modal_todaysection","box-sizing: border-box; display: flex; align-items: center; justify-content: center; border-top: 1px solid var(--dp-nav-border-color);"),o.add(".navigator_modal_todaysection_button","cursor: pointer; color: #333; background-color: #f0f0f0; border: 1px solid var(--dp-nav-border-color); padding: 5px 10px; border-radius: 0px; "),o.commit(),t.Modal=function(g){this.autoFocus=!0,this.focus=null,this.autoStretch=!0,this.autoStretchFirstLoadOnly=!1,this.className=null,this.theme="modal_default",this.disposeOnClose=!0,this.dragDrop=!0,this.loadingHtml=null,this.maxHeight=null,this.scrollWithPage=!0,this.useIframe=!0,this.zIndex=99999,this.left=null,this.width=600,this.top=20,this.height=200,this.locale=null,this.closed=null,this.onClose=null,this.onClosed=null,this.onShow=null;var x=this;this.id="_"+new Date().getTime()+"n"+10*Math.random(),this._b=!1,this.bc=null,this.cc=null,this.showHtml=function(S){if(t.ModalStatic.displayed(this))throw"This modal dialog is already displayed.";if(this.div||this.dc(),this.sb(),this.useIframe){var m=function(y,w){return function(){y.setInnerHTML(y.id+"iframe",w)}};window.setTimeout(m(this,S),0)}else S.nodeType?this.div.appendChild(S):this.div.innerHTML=S;this.sb(),this.ec(),this.fc()},this.showUrl=function(S){if(t.ModalStatic.displayed(this))throw"This modal dialog is already displayed.";if(this.useIframe){this.div||this.dc();var m=this.loadingHtml;m&&(this.iframe.src="about:blank",this.setInnerHTML(this.id+"iframe",m)),this.re(this.iframe,"load",this.gc),this.iframe.src=S,this.sb(),this.ec(),this.fc()}else x.hc({url:S,success:function(y){var w=y.request.responseText;x.showHtml(w)},error:function(y){x.showHtml("Error loading the modal dialog")}})},this.fc=function(){if(typeof x.onShow=="function"){var S={};S.root=x.ic(),S.modal=x,x.onShow(S)}},this.ic=function(){return x.iframe?x.iframe.contentWindow.document:x.div},this.hc=function(S){var m=new XMLHttpRequest;if(m){var y=S.method||"GET",w=S.success||function(){},C=S.error||function(){},E=S.data,N=S.url;m.open(y,N,!0),m.setRequestHeader("Content-type","text/plain"),m.onreadystatechange=function(){if(m.readyState===4)if(m.status===200||m.status===304){var k={};k.request=m,w(k)}else if(C){var k={};k.request=m,C(k)}else window.console&&console.log("HTTP error "+m.status)},m.readyState!==4&&(typeof E=="object"&&(E=JSON.stringify(E)),m.send(E))}},this.sb=function(){delete this.result;var S=window,m=document,y=S.pageYOffset?S.pageYOffset:m.documentElement&&m.documentElement.scrollTop?m.documentElement.scrollTop:m.body.scrollTop;this.theme&&(this.hideDiv.className=this.theme+"_background"),this.zIndex&&(this.hideDiv.style.zIndex=this.zIndex),this.hideDiv.style.display="",window.setTimeout(function(){x.hideDiv&&(x.hideDiv.onclick=function(){x.hide({backgroundClick:!0})})},500),this.theme?this.div.className=this.theme+"_main":this.div.className="",this.className&&(this.div.className+=" "+this.className),this.left?this.div.style.left=this.left+"px":this.div.style.marginLeft="-"+Math.floor(this.width/2)+"px",this.div.style.position="absolute",this.div.style.boxSizing="content-box",this.div.style.top=y+this.top+"px",this.div.style.width=this.width+"px",this.zIndex&&(this.div.style.zIndex=this.zIndex),this.height&&(this.useIframe||!this.autoStretch?this.div.style.height=this.height+"px":this.div.style.height=""),this.useIframe&&this.height&&(this.iframe.style.height=this.height+"px"),this.div.style.display="",this.kc(),t.ModalStatic.remove(this),t.ModalStatic.list.push(this)},this.gc=function(){x.iframe.contentWindow.modal=x,x.autoStretch&&x.stretch()},this.stretch=function(){var S=function(){return x.jc().y},m=function(){return x.jc().x};if(this.useIframe){for(var y=m()-40,w=this.width;w<y&&this.lc();w+=10)this.div.style.width=w+"px",this.div.style.marginLeft="-"+Math.floor(w/2)+"px";for(var C=this.maxHeight||S()-2*this.top,E=this.height;E<C&&this.nc();E+=10)this.iframe.style.height=E+"px",this.div.style.height=E+"px";this.autoStretchFirstLoadOnly&&this.ue(this.iframe,"load",this.gc)}else this.div.style.height=""},this.lc=function(){for(var S=this.iframe.contentWindow.document,m=S.compatMode==="BackCompat"?S.body:S.documentElement,y=m.scrollWidth,w=S.body.children,C=0;C<w.length;C++){var E=w[C].offsetLeft+w[C].offsetWidth;y=Math.max(y,E)}return y>m.clientWidth},this.nc=function(){for(var S=this.iframe.contentWindow.document,m=S.compatMode==="BackCompat"?S.body:S.documentElement,y=m.scrollHeight,w=S.body.children,C=0;C<w.length;C++){var E=w[C].offsetTop+w[C].offsetHeight;y=Math.max(y,E)}return y>m.clientHeight},this.jc=function(){var S=document;if(S.compatMode==="CSS1Compat"&&S.documentElement&&S.documentElement.clientWidth){var m=S.documentElement.clientWidth,y=S.documentElement.clientHeight;return{x:m,y}}var m=S.body.clientWidth,y=S.body.clientHeight;return{x:m,y}},this.ec=function(){this._b||(this.re(window,"resize",this.oc),this.re(window,"scroll",this.pc),this.dragDrop&&(this.re(document,"mousemove",this.qc),this.re(document,"mouseup",this.rc)),this._b=!0)},this.sc=function(){this.ue(window,"resize",this.oc),this.ue(window,"scroll",this.pc),this.dragDrop&&(this.ue(document,"mousemove",this.qc),this.ue(document,"mouseup",this.rc)),this._b=!1},this.tc=function(S){S.target===x.div&&(S.preventDefault(),x.div.style.cursor="move",x.uc(),x.cc=x.mc(S||window.event),x.bc={x:x.div.offsetLeft,y:x.div.offsetTop})},this.qc=function(S){if(x.cc){var S=S||window.event,m=x.mc(S),y=m.x-x.cc.x,w=m.y-x.cc.y;x.div.style.marginLeft="0px",x.div.style.top=x.bc.y+w+"px",x.div.style.left=x.bc.x+y+"px"}},this.rc=function(S){x.cc&&(x.vc(),x.div.style.cursor=null,x.cc=null)},this.uc=function(){if(this.useIframe){var S=document.createElement("div");S.style.backgroundColor="#ffffff",S.style.filter="alpha(opacity=80)",S.style.opacity="0.80",S.style.width="100%",S.style.height=this.height+"px",S.style.position="absolute",S.style.left="0px",S.style.top="0px",this.div.appendChild(S),this.mask=S}},this.vc=function(){this.useIframe&&(this.div.removeChild(this.mask),this.mask=null)},this.oc=function(){x.wc(),x.kc()},this.pc=function(){x.wc()},this.kc=function(){if(!x.left&&x.div){var S=x.div.offsetWidth;x.div.style.marginLeft="-"+Math.floor(S/2)+"px"}},this.wc=function(){if(x.hideDiv&&x.div&&x.hideDiv.style.display!=="none"&&x.div.style.display!=="none"){var S=x.xc.scrollY();x.scrollWithPage||(x.div.style.top=S+x.top+"px")}},this.xc={},this.xc.container=function(){return x.container||document.body},this.xc.scrollY=function(){var S=x.xc.container();return S===document.body?window.pageYOffset?window.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop:S.scrollTop},this.re=function(S,m,y){S.addEventListener?S.addEventListener(m,y,!1):S.attachEvent&&S.attachEvent("on"+m,y)},this.ue=function(S,m,y){S.removeEventListener?S.removeEventListener(m,y,!1):S.detachEvent&&S.detachEvent("on"+m,y)},this.mc=function(S){return S.pageX||S.pageY?{x:S.pageX,y:S.pageY}:{x:S.clientX+document.documentElement.scrollLeft,y:S.clientY+document.documentElement.scrollTop}},this.abs=function(S){for(var m={x:S.offsetLeft,y:S.offsetTop};S.offsetParent;)S=S.offsetParent,m.x+=S.offsetLeft,m.y+=S.offsetTop;return m},this.dc=function(){var S=x.xc.container(),m=S===document.body,y=m?"fixed":"absolute",w=document.createElement("div");w.id=this.id+"hide",w.style.position=y,w.style.left="0px",w.style.top="0px",w.style.right="0px",w.style.bottom="0px",w.oncontextmenu=function(){return!1},w.onmousedown=function(){return!1},S.appendChild(w);var C=document.createElement("div");C.id=this.id+"popup",C.style.position=y,C.style.left="50%",C.style.top="0px",C.style.backgroundColor="white",C.style.width="50px",C.style.height="50px",this.dragDrop&&(C.onmousedown=this.tc),C.addEventListener("keydown",function(N){N.stopPropagation()});var E=null;this.useIframe&&(E=document.createElement("iframe"),E.id=this.id+"iframe",E.name=this.id+"iframe",E.frameBorder="0",E.style.width="100%",E.style.height="50px",C.appendChild(E)),S.appendChild(C),this.div=C,this.iframe=E,this.hideDiv=w},this.setInnerHTML=function(S,m){var y=window.frames[S],w=y.contentWindow||y.document||y.contentDocument;w.document&&(w=w.document),w.body==null&&w.write("<body></body>"),m.nodeType?w.body.appendChild(m):w.body.innerHTML=m,x.autoStretch&&(x.autoStretchFirstLoadOnly&&x.yc||(x.stretch(),x.yc=!0))},this.close=function(S){this.result=S,this.hide()},this.closeSerialized=function(){for(var S=x.ic(),m=S.querySelectorAll("input, textarea, select"),y={},w=0;w<m.length;w++){var C=m[w],E=C.name;if(E){var N=C.value;y[E]=N}}x.close(y)},this.hide=function(S){S=S||{};var m={};m.backgroundClick=!!S.backgroundClick,m.result=this.result,m.canceled=typeof this.result>"u",m.preventDefault=function(){this.preventDefault.value=!0},typeof this.onClose=="function"&&(this.onClose(m),m.preventDefault.value)||(this.div&&(this.div.style.display="none",this.hideDiv.style.display="none",this.useIframe||(this.div.innerHTML=null)),window.focus(),t.ModalStatic.remove(this),typeof this.onClosed=="function"?this.onClosed(m):this.closed&&this.closed(),delete this.result,this.disposeOnClose&&(x.sc(),x.zc(x.div),x.zc(x.hideDiv),x.div=null,x.hideDiv=null,x.iframe=null))},this.zc=function(S){S&&S.parentNode&&S.parentNode.removeChild(S)},this.Ac=function(){if(g)for(var S in g)this[S]=g[S]},this.Ac()},t.Modal.alert=function(g,x){x=x||{},x.height=x.height||40,x.useIframe=!1;var S=x.okText||"OK";return x.cancelText,t.getPromise(function(m,y){x.onClosed=function(A){m(A)};var w=new t.Modal(x),C=document.createElement("div");C.className=w.theme+"_inner";var E=document.createElement("div");E.className=w.theme+"_content",E.innerHTML=g;var N=document.createElement("div");N.className=w.theme+"_buttons";var k=document.createElement("button");k.innerText=S,k.className=w.theme+"_ok",k.onclick=function(A){t.ModalStatic.close("OK")},N.appendChild(k),C.appendChild(E),C.appendChild(N),w.showHtml(C),w.autoFocus&&k.focus()})},t.Modal.confirm=function(g,x){x=x||{},x.height=x.height||40,x.useIframe=!1;var S=x.okText||"OK",m=x.cancelText||"Cancel";return t.getPromise(function(y,w){x.onClosed=function(M){y(M)};var C=new t.Modal(x),E=document.createElement("div");E.className=C.theme+"_inner";var N=document.createElement("div");N.className=C.theme+"_content",N.innerHTML=g;var k=document.createElement("div");k.className=C.theme+"_buttons";var A=document.createElement("button");A.innerText=S,A.className=C.theme+"_ok",A.onclick=function(M){t.ModalStatic.close("OK")};var T=document.createTextNode(" "),P=document.createElement("button");P.innerText=m,P.className=C.theme+"_cancel",P.onclick=function(M){t.ModalStatic.close()},k.appendChild(A),k.appendChild(T),k.appendChild(P),E.appendChild(N),E.appendChild(k),C.showHtml(E),C.autoFocus&&A.focus()})},t.Modal.prompt=function(g,x,S){typeof x=="object"&&(S=x,x=""),S=S||{},S.height=S.height||40,S.useIframe=!1;var m=S.okText||"OK",y=S.cancelText||"Cancel",w=x||"";return t.getPromise(function(C,E){S.onClosed=function(B){C(B)};var N=new t.Modal(S),k=document.createElement("div");k.className=N.theme+"_inner";var A=document.createElement("div");A.className=N.theme+"_content",A.innerHTML=g;var T=document.createElement("div");T.className=N.theme+"_input";var P=document.createElement("input");P.value=w,P.style.width="100%",P.onkeydown=function(B){var F=!1;switch(B.keyCode){case 13:N.close(this.value);break;case 27:N.close();break;default:F=!0}F||(B.preventDefault(),B.stopPropagation())},T.appendChild(P);var M=document.createElement("div");M.className=N.theme+"_buttons";var O=document.createElement("button");O.innerText=m,O.className=N.theme+"_ok",O.onclick=function(B){N.close(P.value)};var R=document.createTextNode(" "),L=document.createElement("button");L.innerText=y,L.className=N.theme+"_cancel",L.onclick=function(B){N.close()},M.appendChild(O),M.appendChild(R),M.appendChild(L),k.appendChild(A),k.appendChild(T),k.appendChild(M),N.showHtml(k),N.autoFocus&&P.focus()})};var c=function(g){return Object.prototype.toString.call(g)==="[object Array]"};t.Modal.form=function(g,x,S){if(arguments.length===1){var m=g;if(c(m))x={};else{if(typeof m!="object")throw"Invalid DayPilot.Modal.form() parameter";x=g,g=[];for(var y in x){var w={};w.name=y,w.id=y,g.push(w)}}}var C={};for(var y in S)C[y]=S[y];C.height=C.height||40,C.useIframe=!1;var E=C.okText||"OK",N=C.cancelText||"Cancel";return t.getPromise(function(k,A){C.onClosed=function(q){if(q.result){var H=JSON.parse(JSON.stringify(x));for(var K in q.result)r(H,K,q.result[K]);q.result=H}k(q)};var T=new t.Modal(C),P=document.createElement("div");P.className=T.theme+"_inner";var M=document.createElement("div");M.className=T.theme+"_input";var O=new d({theme:T.theme,form:g,data:x,zIndex:T.zIndex,locale:T.locale,plugins:T.plugins,onKey:function(q){switch(q.key){case"Enter":O.validate()&&T.close(O.serialize());break;case"Escape":T.close()}},onChange:function(q){typeof T.onChange=="function"&&T.onChange(q)}}),R=O.create();M.append(R);var L=document.createElement("div");L.className=T.theme+"_buttons";var B=document.createElement("button");B.innerText=E,B.className=T.theme+"_ok",C.okDisabled&&(B.disabled=!0),B.onclick=function(q){O.validate()&&T.close(O.serialize())};var F=document.createTextNode(" "),$=document.createElement("button");if($.innerText=N,$.className=T.theme+"_cancel",$.onclick=function(q){T.close()},$.onmousedown=function(q){O.canceling=!0},L.appendChild(B),L.appendChild(F),L.appendChild($),P.appendChild(M),P.appendChild(L),T.showHtml(P),T.div.setAttribute("tabindex","-1"),T.div.addEventListener("keydown",function(q){switch(q.keyCode){case 27:T.close();break;case 13:O.validate()&&T.close(O.serialize())}}),T.focus){var z=null;if(typeof T.focus=="object"){var W=T.focus.id,Z=T.focus.value;z=O.findViewById(W,Z)}else typeof T.focus=="string"&&(z=O.findViewById(T.focus));z&&z.focus()}else{var V=O.firstFocusable();T.autoFocus&&V?V.focus():T.div.focus()}})},t.Modal.close=function(g){var x=t.Modal.opener();x&&x.close(g)},t.Modal.stretch=function(g){var x=t.Modal.opener();if(!x)throw"Unable to find the opener DayPilot.Modal instance.";x.stretch()},t.Modal.closeSerialized=function(){var g=t.Modal.opener()||t.ModalStatic.last();g&&g.closeSerialized()},t.Modal.opener=function(){return typeof t<"u"&&typeof t.ModalStatic<"u"&&t.ModalStatic.list.length>0?t.ModalStatic.list[t.ModalStatic.list.length-1]:parent&&parent.DayPilot&&parent.DayPilot.ModalStatic&&parent.DayPilot.ModalStatic.list[parent.DayPilot.ModalStatic.list.length-1]},t.Modal.Experimental={},t.Modal.Experimental.Form=d,typeof t.getPromise>"u"&&(t.getPromise=function(g){return typeof Promise<"u"?new Promise(g):(t.Promise=function(x){var S=this;this.then=function(m,y){return m=m||function(){},y=y||function(){},x(m,y),t.getPromise(x)},this.catch=function(m){return S.then(null,m),t.getPromise(x)}},new t.Promise(g))});var d=function(g){this.form=[],this.data={},this.theme="form_default",this.zIndex=99999,this.locale="en-us",this.plugins={},this.onKey=null,this.Bc=[],this.Cc=null,this.canceling=!1,this.Dc=[],this.f=[],this.Ec=null,g=g||{};for(var x in g)this[x]=g[x]};d.prototype.create=function(){return this.load(),this.render(),this.Ec},d.prototype.render=function(){var g=this;this.Ec=document.createElement("div"),this.Bc.forEach(function(x){g.createView(x)}),this.applyState()},d.prototype.createView=function(g){var x=this.theme,S=this,m=document.createElement("div");if(m.className=x+"_form_item "+x+"_form_item_level"+g.level,g.interactive||g.type!=="title"?m.className+=" "+x+"_form_item_"+g.type:m.className+=" "+x+"_form_title",g.data.cssClass&&(m.className+=" "+g.data.cssClass),!g.isValue){var y=document.createElement("div");y.className=x+"_form_item_label",y.innerText=g.text,m.appendChild(y)}var w=this.createInteractive(g);w.onInput=function(C){if(C=C||{},S.Fc(w,{debounce:!C.immediate}),typeof S.onChange=="function"){var E={};E.result=S.serialize(),S.onChange(E)}},w.onBlur=function(){S.canceling||S.Fc(w)},w.apply(g),w.Ec=m,w.row=g,w.element&&m.appendChild(w.element),this.f.push(w),this.Ec.appendChild(m)},d.prototype.validate=function(){var g=this,x=!0;return this.f.forEach(function(S){var m=g.Fc(S);x=x&&m}),x},d.prototype.Fc=function(g,x){function S(){g.Gc&&(g.Gc.remove(),g.Gc=null),g.Ec.classList.add(T);var O=document.createElement("div");O.classList.add(P),O.innerText=A.message,g.Gc=O,g.Ec.appendChild(O)}x=x||{};var m=x.debounce,y=x.silent,w=g.row,C=!0,E=typeof w.data.onValidate=="function"?w.data.onValidate:null,N=typeof w.data.validate=="function"?w.data.validate:null,k=E||N;if(k){var A={};A.valid=!0,A.value=g.save()[w.field],A.message="Error",A.values=this.serialize(),A.result=this.serialize(),k(A);var T=this.theme+"_form_item_invalid",P=this.theme+"_form_item_invalid_message";if(A.valid)clearTimeout(this.Dc[w.field]),g.Gc&&(g.Gc.remove(),g.Gc=null),g.Ec.classList.remove(T);else if(!y)if(m){var M=1e3;clearTimeout(this.Dc[w.field]),this.Dc[w.field]=setTimeout(function(){S()},M)}else S();C=A.valid}return C},d.prototype.load=function(){var g=this;this.form.forEach(function(y){g.processFormItem(y,0)});var x;try{var S=JSON.stringify(this.data);x=n(JSON.parse(S))}catch(y){throw new Error("The 'data' object is not serializable (it may contain circular dependencies): "+y)}for(var m in x)this.setValue(m,x[m])},d.prototype.setValue=function(g,x){this.Bc.forEach(function(S){S.applyValue(g,x)})},d.prototype.updateDependentState=function(){var g=this,x=[!0];(this.Cc?this.Cc:this.Bc).forEach(function(S){var m=g.updateState(S,{enabled:x[S.level]&&!S.data.disabled});m.isValue&&(x[m.level+1]=m.enabled&&m.checked)})},d.prototype.processFormItem=function(g,x){var S=this,m=this.getFieldType(g),y=[];if(m==="radio"){if(g.name){var w=new u;w.field=g.id,w.data=g,w.level=x,w.type="label",w.interactive=!1,w.text=g.name,S.Bc.push(w),y.push(w)}g.options.forEach(function(C){var E=new u;E.field=g.id,E.data=C,E.level=x,E.type=m,E.isValue=!0,E.text=C.name,E.resolved=C.id,S.Bc.push(E),y.push(E),C.children&&C.children.forEach(function(N){var k=S.processFormItem(N,x+1);y=y.concat(k)})})}else if(m==="title"){var w=new u;w.field=g.id,w.data=g,w.level=x,w.type=m,w.interactive=!1,w.text=g.name,S.Bc.push(w),y.push(w)}else if(m==="image"){var w=new u;w.isValue=!0,w.field=g.id,w.data=g,w.level=x,w.type=m,w.interactive=!1,w.text=null,S.Bc.push(w),y.push(w)}else if(m==="html"){var w=new u;w.isValue=!0,w.field=g.id,w.data=g,w.level=x,w.type=m,w.interactive=!1,w.text=null,S.Bc.push(w),y.push(w)}else if(m==="scrollable"){var w=new u;w.isValue=!0,w.field=g.id,w.data=g,w.level=x,w.type=m,w.interactive=!1,w.text=null,S.Bc.push(w),y.push(w)}else{var w=new u;w.field=g.id,w.data=g,w.level=x,w.type=m,w.text=g.name,w.children=[],S.Bc.push(w),y.push(w)}return m==="checkbox"&&(w.isValue=!0,w.resolved=!0,g.children&&g.children.forEach(function(C){var E=S.processFormItem(C,x+1);y=y.concat(E)})),y},d.prototype.doOnKey=function(g){if(typeof this.onKey=="function"){var x={key:g};this.onKey(x)}},d.prototype.createInteractive=function(g){var x=this,S={label:function(){return new l},title:function(){return new l},image:function(){var m=new l,y=document.createElement("img");return y.src=g.data.image,m.element=y,m},html:function(){var m=new l,y=document.createElement("div");return typeof g.data.text=="string"?y.innerText=g.data.text:typeof g.data.html=="string"&&(y.innerHTML=g.data.html),m.element=y,m},scrollable:function(){var m=new l,y=document.createElement("div");y.className=x.theme+"_form_item_scrollable_scroll",g.data.height&&(y.style.height=g.data.height+"px");var w=document.createElement("div");return w.className=x.theme+"_form_item_scrollable_scroll_content",typeof g.data.text=="string"?w.innerText=g.data.text:typeof g.data.html=="string"&&(w.innerHTML=g.data.html),y.appendChild(w),m.element=y,m},text:function(){var m=new l;m.apply=function(w){m.row=w;var C=m.element;C.value=w.value,C.disabled=!w.enabled};var y=document.createElement("input");return y.name=g.field,y.type="text",y.autocomplete="off",y.onkeydown=function(w){var C=!1;switch(w.keyCode){case 13:x.doOnKey("Enter");break;case 27:x.doOnKey("Escape");break;default:C=!0}C||(w.preventDefault(),w.stopPropagation())},y.oninput=function(w){m.onInput()},y.onblur=function(w){m.onBlur()},m.element=y,m.canFocus=function(){return!m.element.disabled},m.focus=function(){m.element.focus(),m.element.setSelectionRange(0,m.element.value.length)},m.save=function(){var w={};return w[g.field]=y.value,w},m},textarea:function(){var m=new l;m.apply=function(w){m.row=w;var C=m.element;C.value=w.value,C.disabled=!w.enabled};var y=document.createElement("textarea");return y.name=g.field,g.data.height&&(y.style.height=g.data.height+"px"),y.onkeydown=function(w){var C=!1;switch(w.keyCode){case 13:(w.ctrlKey||w.metaKey)&&x.doOnKey("Enter"),C=!1;break;case 27:x.doOnKey("Escape");break;default:C=!0}C||w.stopPropagation()},y.oninput=function(w){m.onInput()},y.onblur=function(w){m.onBlur()},m.element=y,m.canFocus=function(){return!m.element.disabled},m.focus=function(){m.element.focus(),m.element.setSelectionRange(0,0)},m.save=function(){var w={};return w[g.field]=y.value,w},m},date:function(){var m=new l;m.apply=function(C){m.row=C;var E=m.element,N=m.picker;C.data.dateFormat&&(N.pattern=C.data.dateFormat);var k=C.data.locale||x.locale;k&&(N.locale=k),E.disabled=!C.enabled,N.date=new t.Date(C.value);var A=new t.Date(C.value).toString(C.data.dateFormat||N.pattern,N.locale);E.value=A};var y=document.createElement("input");y.name=g.field;var w=new t.DatePicker({target:y,theme:"navigator_modal",zIndex:x.zIndex+1,resetTarget:!1,targetAlignment:"left",onTimeRangeSelect:function(C){m.onInput({immediate:!0})}});return y.picker=w,y.className=x.theme+"_input_date",y.type="text",y.onkeydown=function(C){var E=!1;switch(C.keyCode){case 13:w.visible?w.close():x.doOnKey("Enter");break;case 27:w.visible?w.close():x.doOnKey("Escape");break;case 9:w.close(),E=!0;break;default:E=!0}E||(C.preventDefault(),C.stopPropagation())},y.onfocus=function(){w.show()},y.onclick=function(){w.show()},y.oninput=function(C){m.onInput()},y.onblur=function(C){m.onBlur()},m.element=y,m.picker=w,m.canFocus=function(){return!m.element.disabled},m.focus=function(){m.element.focus()},m.save=function(){var C=w.date?w.date.toString():null,E={};return E[g.field]=C,E},m},time:function(){return x.Hc(g)},datetime:function(){return x.Ic(g)},select:function(){var m=new l;m.apply=function(w){m.row=w;var C=m.element;C.value=w.value,C.disabled=!w.enabled};var y=document.createElement("select");return y.name=g.field,g.data.options&&g.data.options.forEach&&g.data.options.forEach(function(w){var C=document.createElement("option");C.innerText=w.name||w.id,C.value=w.id,C.Jc=w.id,y.appendChild(C)}),y.onchange=function(w){m.onInput({immediate:!0})},y.onblur=function(w){m.onBlur()},m.element=y,m.canFocus=function(){return!m.element.disabled},m.focus=function(){m.element.focus()},m.save=function(){var w=null,C=y.options[y.selectedIndex];C&&typeof C.Jc<"u"&&(w=C.Jc);var E={};return E[g.field]=w,E},m},searchable:function(){var m=new l;m.apply=function(C){m.row=C;var E=m.searchable;E.disabled=!C.enabled,E.select(C.value)};var y=new f({data:g.data.options||[],name:g.field,theme:x.theme+"_form_item_searchable",listZIndex:x.zIndex+1,onSelect:function(C){C.ui&&m.onInput({immediate:!0})}}),w=y.create();return m.element=w,m.searchable=y,m.canFocus=function(){return!m.searchable.disabled},m.focus=function(){m.searchable.focus()},m.save=function(){var C=y.selected&&y.selected.id,E={};return E[g.field]=C,E},m},radio:function(){var m=new l;m.apply=function(E){m.row=E;var N=m.radio;N.checked=E.checked,N.disabled=!E.enabled};var y=document.createElement("label"),w=document.createElement("input");w.type="radio",w.name=g.field,w.Jc=g.resolved,w.onchange=function(E){var N=m.row;x.findRowsByField(N.field).forEach(function(k){x.updateState(k,{checked:!1})}),x.updateState(N,{checked:!0}),x.applyState(),m.onInput({immediate:!0})},w.onblur=function(E){m.onBlur()},y.appendChild(w);var C=document.createTextNode(g.text);return y.append(C),m.element=y,m.radio=w,m.canFocus=function(){return!1},m.focus=function(){m.radio.focus()},m.save=function(){if(!w.checked)return{};var E=w.Jc,N={};return N[g.field]=E,N},m},checkbox:function(){var m=new l;m.apply=function(E){m.row=E;var N=m.checkbox;N.checked=E.checked,N.disabled=!E.enabled};var y=document.createElement("label"),w=document.createElement("input");w.type="checkbox",w.name=g.field,w.Jc=g.resolved,w.onchange=function(E){var N=m.row;x.updateState(N,{checked:this.checked}),x.applyState(),m.onInput({immediate:!0})},w.onblur=function(E){m.onBlur()},y.appendChild(w);var C=document.createTextNode(g.text);return y.append(C),m.element=y,m.checkbox=w,m.canFocus=function(){return!1},m.focus=function(){m.checkbox.focus()},m.save=function(){var E=w.checked,N={};return N[g.field]=E,N},m},table:function(){var m=new l;m.apply=function(C){m.row=C;var E=m.table;E.disabled=!C.enabled,E.load(C.value||[])};var y=new p({name:g.field,form:x,theme:x.theme+"_form_item_tabular",item:g.data,onInput:function(C){m.onInput()}}),w=y.create();return m.element=w,m.table=y,m.canFocus=function(){return!1},m.focus=function(){m.table.focus()},m.save=function(){var C=y.save(),E={};return E[g.field]=C,E},m}};return x.plugins&&x.plugins[g.type]?x.plugins[g.type](g):S[g.type]()},d.prototype.Hc=function(g){var x=this,S=new l;S.apply=function(O){S.row=O;var R=S.searchable;R.disabled=!O.enabled,R.select(O.value)};var m=[],y=g.data.timeInterval||15;[1,5,10,15,20,30,60].includes(y)||(y=15);for(var w=60/y,C=g.data.locale||x.locale,E=t.Locale.find(C)||t.Locale.US,N=t.Date.today(),k=0;k<24*w;k++){var A=N.addMinutes(y*k),T={};T.name=A.toString(g.data.timeFormat||E.timePattern,E),T.id=A.toString("HH:mm"),m.push(T)}var P=new f({data:m,name:g.field,theme:x.theme+"_form_item_time",listZIndex:x.zIndex+1,strategy:"startsWith",onSelect:function(O){O.ui&&S.onInput({immediate:!0})}}),M=P.create();return S.element=M,S.searchable=P,S.canFocus=function(){return!S.searchable.disabled},S.focus=function(){S.searchable.focus()},S.save=function(){var O=P.selected&&P.selected.id,R={};return R[g.field]=O,R},S},d.prototype.Ic=function(g){var x=this,S=new l;S.apply=function(C){S.row=C;var E=S.searchable;E.disabled=!C.enabled;var N=new t.Date(C.value).toString("HH:mm");E.select(N);var k=S.dateInput,A=S.picker;C.data.dateFormat&&(A.pattern=C.data.dateFormat);var T=C.data.locale||x.locale;if(T){var P=t.Locale.find(T)||t.Locale.US;A.locale=T,A.pattern=P.datePattern}k.disabled=!C.enabled,A.date=new t.Date(C.value);var M=new t.Date(C.value).toString(C.data.dateFormat||A.pattern,A.locale);k.value=M};var m=function(){var C=document.createElement("input");C.name=g.field;var E=new t.DatePicker({target:C,theme:"navigator_modal",zIndex:x.zIndex+1,resetTarget:!1,targetAlignment:"left",onTimeRangeSelect:function(N){S.onInput({immediate:!0})}});return C.picker=E,C.className=x.theme+"_input_date",C.type="text",C.onkeydown=function(N){var k=!1;switch(N.keyCode){case 13:E.visible?E.close():x.doOnKey("Enter");break;case 27:E.visible?E.close():x.doOnKey("Escape");break;case 9:E.close(),k=!0;break;default:k=!0}k||(N.preventDefault(),N.stopPropagation())},C.onfocus=function(){E.show()},C.onclick=function(){E.show()},C.oninput=function(N){S.onInput()},C.onblur=function(N){S.onBlur()},S.dateInput=C,S.picker=E,C}(),y=function(){var C=[],E=g.data.timeInterval||15;[1,5,10,15,20,30,60].includes(E)||(E=15);for(var N=60/E,k=g.data.locale||x.locale,A=t.Locale.find(k)||t.Locale.US,T=t.Date.today(),P=0;P<24*N;P++){var M=T.addMinutes(E*P),O={};O.name=M.toString(g.data.timeFormat||A.timePattern,A),O.id=M.toString("HH:mm"),C.push(O)}var R=new f({data:C,name:g.field,theme:x.theme+"_form_item_time",listZIndex:x.zIndex+1,strategy:"startsWith",onSelect:function(L){L.ui&&S.onInput({immediate:!0})}});return S.searchable=R,R.create()}(),w=document.createElement("div");return w.className=x.theme+"_form_item_datetime_parent",w.appendChild(m),w.appendChild(y),S.element=w,S.canFocus=function(){return!S.searchable.disabled},S.focus=function(){S.dateInput.focus()},S.save=function(){var C=S.searchable.selected&&S.searchable.selected.id,E=S.picker.date?S.picker.date.toString():null,N=new t.Date(E).getDatePart(),k=t.Date.parse(N.toString("yyyy-dd-MM ")+C,"yyyy-dd-MM HH:mm"),A={};return A[g.field]=k,A},S},d.prototype.findRowsByField=function(g){return this.Bc.filter(function(x){return x.field===g})},d.prototype.findViewById=function(g,x){return this.f.find(function(S){return S.row.field===g&&(S.row.type!=="radio"||S.row.resolved===x)})},d.prototype.firstFocusable=function(){return this.f.find(function(g){return g.canFocus&&g.canFocus()})},d.prototype.updateState=function(g,x){var S=this.Cc?this.Cc:this.Bc,m=S.indexOf(g);return this.Cc=S.map(function(y){if(y!==g)return y;if(g.propsEqual(x))return g;var w=g.clone();for(var C in x)w[C]=x[C];return w}),this.Cc[m]},d.prototype.updateInteractive=function(g){var x=this.Cc.indexOf(g);this.f[x].apply(g)},d.prototype.applyState=function(){var g=this;this.updateDependentState(),this.Cc&&(this.Cc.filter(function(x,S){return g.Bc[S]!==x}).forEach(function(x){g.updateInteractive(x)}),this.Bc=this.Cc,this.Cc=null)},d.prototype.getFieldType=function(g){return["text","date","select","searchable","radio","checkbox","table","title","image","html","textarea","scrollable","time","datetime"].indexOf(g.type)!==-1||g.type&&this.plugins&&this.plugins[g.type]?g.type:g.image?"image":g.html||g.text?"html":g.id?g.options?"searchable":g.dateFormat?"date":g.columns?"table":"text":"title"},d.prototype.serialize=function(){var g={};return this.f.forEach(function(x){var S=x.save();for(var m in S)g[m]=S[m]}),g};var u=function(){this.id=this.guid(),this.field=null,this.data=null,this.type=null,this.level=0,this.enabled=!0,this.value=null,this.text=null,this.interactive=!0,this.isValue=!1,this.checked=!1,this.resolved=null};u.prototype.clone=function(){var g=new u;for(var x in this)x!=="id"&&(g[x]=this[x]);return g},u.prototype.propsEqual=function(g){for(var x in g)if(this[x]!==g[x])return!1;return!0},u.prototype.guid=function(){var g=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return""+g()+g()+"-"+g()+"-"+g()+"-"+g()+"-"+g()+g()+g()},u.prototype.applyValue=function(g,x){this.field===g&&(this.value=x,this.isValue&&x===this.resolved&&(this.checked=!0))};var l=function(){this.element=null,this.canFocus=function(){return!1},this.apply=function(g){},this.focus=function(){},this.save=function(){return{}}},f=function(g){this.data=[],this.name=null,this.theme="searchable_default",this.Kc=!1,this.listZIndex=1e5,this.onSelect=null,this.Lc=null,this.Mc=null,this.Nc=!1,this.Oc=null,this.Pc=null,this.q=[],this.Qc=null,g=g||{};var x=this,S={selected:{post:function(y){typeof y=="object"&&y.id?x.Lc=y:typeof y!="string"&&typeof y!="number"||x.select(y)}}};Object.defineProperty(this,"selected",{get:function(){return this.Lc}}),Object.defineProperty(this,"disabled",{get:function(){return this.Kc},set:function(y){this.Kc=y,this.Oc&&(this.Oc.disabled=y,y&&this.Rc())}});for(var m in g)S[m]||(this[m]=g[m]);for(var m in g)S[m]&&S[m].post(g[m])};f.prototype.select=function(g){return this.Lc=this.data.find(function(x){return x.id===g}),this.Sc(!1),this},f.prototype.create=function(){function g(R){var L=N.strategy;N.strategy!=="includes"&&N.strategy!=="startsWith"&&(L="includes"),R=R||L||"includes",P.style.display="",P.style.top=O.offsetHeight+"px",P.style.left="0px",P.style.width=O.offsetWidth+"px",P.innerHTML="",P.addEventListener("mousedown",function(F){F.preventDefault()}),N.Mc=null,N.q=[];var B=null;N.data.forEach(function(F){var $=F.name||F.id;if(R==="includes"){if($.toLowerCase().indexOf(O.value.toLowerCase())===-1)return}else if(R==="startsWith"&&$.toLowerCase().indexOf(O.value.toLowerCase())!==0)return;var z=document.createElement("div");z.className=N.theme+"_list_item",z.innerText=$,z.item=F,F===N.Lc&&(N.Mc=z),B||(B=z),z.addEventListener("mousedown",function(W){m(z),W.preventDefault()}),z.addEventListener("mousemove",function(W){N.Mc!==z&&(N.Mc=z,x({dontScroll:!0}))}),P.appendChild(z),N.q.push(z)}),N.Mc||(N.Mc=B),x()}function x(R){R=R||{};var L=!R.dontScroll;document.querySelectorAll("."+N.theme+"_list_item_highlight").forEach(function(B){B.className=B.className.replace(N.theme+"_list_item_highlight","")}),N.Mc&&(N.Mc.className+=" "+N.theme+"_list_item_highlight",L&&!S(N.Mc,P)&&N.Mc.scrollIntoView())}function S(R,L){var B=R.getBoundingClientRect(),F=L.getBoundingClientRect();return B.top>=F.top&&B.bottom<=F.bottom}function m(R){var L=R.item;N.Lc=L,N.Sc(!0),w(),C()}function y(){N.Rc()}function w(){N.s()}function C(){N.Nc=!0,O.setAttribute("readonly","readonly"),O.focus()}function E(){N.Nc=!1,O.removeAttribute("readonly"),O.select(),g("all")}var N=this,k=this,A=document.createElement("div");A.className=this.theme+"_main",A.style.position="relative";var T=document.createElement("div");T.className=this.theme+"_icon",T.style.position="absolute",T.style.right="0",T.style.top="0",T.style.bottom="0",T.style.width="20px",T.addEventListener("mousedown",function(R){R.preventDefault(),N.Nc?(N.focus(),E()):(y(),C())});var P=document.createElement("div");P.className=this.theme+"_list",P.style.display="none",P.style.position="absolute",P.style.zIndex=this.listZIndex;var M=document.createElement("input");M.type="hidden",M.name=this.name,M.searchable=k,this.Qc=M;var O=document.createElement("input");return O.type="text",O.className=this.theme+"_input",O.disabled=this.Kc,O.addEventListener("click",function(R){E()}),O.addEventListener("focus",function(R){g("all")}),O.addEventListener("input",function(R){g()}),O.addEventListener("blur",function(R){O.removeAttribute("readonly"),y()}),O.addEventListener("keydown",function(R){if(N.Nc){if(R.key==="Enter"||R.key==="Esc"||R.key==="Escape")return;E()}if(R.key==="ArrowDown"){var L=k.q.indexOf(k.Mc);L+1<k.q.length&&(k.Mc=k.q[L+1]),x()}else if(R.key==="ArrowUp"){var L=k.q.indexOf(k.Mc);L-1>=0&&(k.Mc=k.q[L-1]),x()}else R.key==="Enter"?N.Mc?(R.stopPropagation(),m(N.Mc)):(R.stopPropagation(),y(),C()):R.key!=="Esc"&&R.key!=="Escape"||(R.stopPropagation(),y(),C())}),this.Oc=O,this.Pc=P,this.Lc||(this.Lc=this.data[0],this.Lc&&(O.value=this.Lc.name)),A.appendChild(O),A.appendChild(T),A.appendChild(M),A.appendChild(P),A},f.prototype.Rc=function(){this.s(),this.Lc?this.Oc.value=this.Lc.name:(this.Oc.value="",this.Sc(!0))},f.prototype.focus=function(){this.Nc=!0,this.Oc.setAttribute("readonly","readonly"),this.Oc.focus(),this.Rc()},f.prototype.s=function(){this.Pc.style.display="none"},f.prototype.Sc=function(g){if(this.Qc.value=this.selected?this.selected.id:null,this.Lc?this.Oc.value=this.Lc.name:this.Oc.value="",typeof this.onSelect=="function"){var x={control:this,ui:g};this.onSelect(x)}};var p=function(g){this.form=null,this.item=null,this.data=null,this.name=null,this.theme="edit_table_default",this.onInput=null,this.nav={},this.Tc=null,this.Bc=[],g=g||{};for(var x in g)this[x]=g[x]};p.prototype.create=function(){var g=this,x=document.createElement("div");x.className=this.theme+"_main",x.style.position="relative";var S=document.createElement("input");S.type="hidden",S.name=g.name,S.table=this,x.appendChild(S);var m=document.createElement("div");m.className=this.theme+"_table";var y=this.Uc();m.appendChild(y);var w=g.Vc({});w.spacer=!0;var C=this.Wc(w);C.classList.add(g.theme+"_spacer"),m.appendChild(C);var E=document.createElement("div");E.className=g.theme+"_tbody",m.appendChild(E),x.appendChild(m);var N=document.createElement("div");x.appendChild(N),this.nav.body=E,this.nav.table=m,this.nav.main=x,this.nav.after=N;var k=document.createElement("div"),A=document.createElement("span");return A.className=this.theme+"_plus",A.addEventListener("click",function(T){if(!g.disabled){var P=g.item.onNewRow,M={};if(typeof P=="function"){var O={};O.result=g.form.serialize(),O.value={},P(O),M=O.value}var R=g.Vc(M);g.Bc.push(R),g.Xc(),g.Yc()}}),this.nav.plus=A,k.appendChild(A),x.appendChild(k),x},p.prototype.Uc=function(){var g=this,x=document.createElement("div");return x.classList.add(this.theme+"_row"),x.classList.add(this.theme+"_header"),this.item.columns.forEach(function(S){var m=document.createElement("div");m.classList.add(g.theme+"_cell"),m.innerText=S.name,x.appendChild(m)}),x},p.prototype.Zc=function(){var g=this.item.max||0;return!!(g&&this.Bc.length>=g)},p.prototype.save=function(){var g=this,x=[];return g.Bc.forEach(function(S){var m={};S.cells.forEach(function(y){m[y.id]=y.value}),x.push(m)}),x},p.prototype.load=function(g){if(Object.prototype.toString.call(g)!=="[object Array]")throw new Error("Array expected");this.data=g,this.$c(),this.Xc()},p.prototype._c=function(){this.disabled?this.nav.main.classList.add(this.theme+"_disabled"):this.nav.main.classList.remove(this.theme+"_disabled"),this.Zc()?this.nav.plus.classList.add(this.theme+"_plus_max"):this.nav.plus.classList.remove(this.theme+"_plus_max")},p.prototype.$c=function(){var g=this;this.Bc=[],this.data.forEach(function(x){var S=g.Vc(x);g.Bc.push(S)})},p.prototype.ad=function(g){var x=this,S=x.Bc.indexOf(g);x.Bc.splice(S,1)},p.prototype.Vc=function(g){var x=this,S={};return S.data=g,S.cells=[],x.item.columns.forEach(function(m){var y=m.id,w=g[y],C=x.bd(m);if(typeof w>"u"){if(C==="text")w="";else if(C==="number")w=0;else if(C==="select"){var E=m.options;w=E&&E[0].id}}var N={};N.id=y,N.value=w,N.type=C,N.data=m,S.cells.push(N)}),S},p.prototype.bd=function(g){var x=g.type;return x||(x=g.options?"select":"text"),x},p.prototype.Xc=function(){var g=this;if(this.nav.body.innerHTML="",this.nav.after.innerHTML="",this.Bc.forEach(function(S){var m=g.Wc(S);g.nav.body.appendChild(m)}),this.Bc.length===0){var x=g.cd();g.nav.after.appendChild(x)}this._c()},p.prototype.cd=function(){var g=document.createElement("div");return g.className=this.theme+"_empty",g},p.prototype.Wc=function(g){var x=this,S=document.createElement("div");S.className=x.theme+"_row",g.cells.forEach(function(w){var C=document.createElement("div");C.className=x.theme+"_cell";var E=x.dd(w);if(g.spacer){var N=document.createElement("div");N.style.height="0px",N.style.overflow="hidden",N.appendChild(E),C.appendChild(N)}else C.appendChild(E);S.appendChild(C)});var m=document.createElement("div");m.classList.add(x.theme+"_cell"),m.classList.add(x.theme+"_rowaction");var y=document.createElement("span");return y.className=this.theme+"_delete",y.addEventListener("click",function(w){x.disabled||(x.ad(g),x.Xc(),x.Yc())}),g.spacer||m.appendChild(y),S.appendChild(m),S},p.prototype.Yc=function(){var g=this;if(typeof g.onInput=="function"){var x={};g.onInput(x)}},p.prototype.dd=function(g){var x=this,S=g.type;if(S==="text"||S==="number"){var m=document.createElement("input");return m.type=S,x.disabled&&(m.disabled=!0),g.value&&(m.value=g.value),m.addEventListener("keyup",function(w){S==="number"?g.value=Number(this.value):g.value=this.value,x.Yc()}),m}if(S==="select"){var y=document.createElement("select");return x.disabled&&(y.disabled=!0),g.data.options.forEach(function(w){var C=document.createElement("option");C.innerText=w.name,C.value=w.id,C.Jc=w.id,y.appendChild(C),g.value===w.id&&C.setAttribute("selected",!0)}),y.addEventListener("change",function(w){var C=y.options[y.selectedIndex];C&&typeof C.Jc<"u"&&(g.value=C.Jc),x.Yc()}),y}throw new Error("Unsupported item type: "+S)},p.prototype.focus=function(){}}}(e),typeof e>"u")var e={};if(typeof e.Global>"u"&&(e.Global={}),function(){if(typeof e.Month>"u"||!e.Month.events){var t={},r=e.Util.isVueVNode;t.Month=function(n,s){this.v="2025.3.710-lite",this.nav={};var i=this;this.id=n,this.isMonth=!0,this.api=2,this.backendUrl=null,this.cellHeaderHeight=24,this.cellHeight=100,this.cellMarginBottom=0,this.contextMenu=null,this.cssClassPrefix="month_default",this.eventBarVisible=!0,this.eventBorderRadius=null,this.eventHeight=25,this.eventsLoadMethod="GET",this.headerHeight=30,this.hideUntilInit=!0,this.lineSpace=1,this.locale="en-us",this.showToolTip=!0,this.startDate=new e.Date,this.theme=null,this.visible=!0,this.weekStarts="Auto",this.width="100%",this.xssProtection="Enabled",this.afterRender=function(){},this.cellHeaderClickHandling="Enabled",this.eventClickHandling="Enabled",this.eventDeleteHandling="Disabled",this.eventMoveHandling="Update",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.headerClickHandling="Enabled",this.timeRangeSelectedHandling="Enabled",this.onCellHeaderClick=null,this.onCellHeaderClicked=null,this.onEventClick=null,this.onEventClicked=null,this.onEventDelete=null,this.onEventDeleted=null,this.onEventMove=null,this.onEventMoved=null,this.onEventResize=null,this.onEventResized=null,this.onEventRightClick=null,this.onEventRightClicked=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.onBeforeEventRender=null,this.onBeforeCellRender=null,this.cellEvents=[],this.elements={},this.elements.events=[],this.cache={},this.Q=!1,this.W=function(u,d){var u=JSON.parse(u);return u.CallBackRedirect?void(document.location.href=u.CallBackRedirect):(u.UpdateType==="None"||(i.events.list=u.Events,u.UpdateType==="Full"&&(i.startDate=u.StartDate,i.timeFormat=u.TimeFormat?u.TimeFormat:i.timeFormat,typeof u.WeekStarts<"u"&&(i.weekStarts=u.WeekStarts),i.hashes=u.Hashes),i.Y(),i.ed(),i.ha(),u.UpdateType==="Full"&&(i.fd(),i.gd()),i.ma(),i.show(),i.na()),void i.fireAfterRenderDetached(u.CallBackData,!0))},this.fireAfterRenderDetached=function(c,d){var u=function(l,f){return function(){i.afterRender&&i.afterRender(l,f)}};window.setTimeout(u(c,d),0)},this.lineHeight=function(){return this.eventHeight+this.lineSpace},this.events={},this.events.add=function(c){var d=null;if(c instanceof e.Event)d=c.data;else{if(typeof c!="object")throw"DayPilot.Month.events.add() expects an object or DayPilot.Event instance.";d=c}i.events.list||(i.events.list=[]),i.events.list.push(d),i.update(),i.wa.notify()},this.events.find=function(c){if(!i.events.list)return null;if(typeof c=="function"){for(var d=c,u=0;u<i.events.list.length;u++){var l=new e.Event(i.events.list[u],i);if(d(l))return l}return null}for(var u=0;u<i.events.list.length;u++){var f=i.events.list[u];if(f.id===c)return new e.Event(f,i)}return null},this.events.update=function(c){if(c instanceof e.Event)c.commit();else if(typeof c=="object"){var d=i.events.find(c.id);if(d){var u=e.indexOf(i.events.list,d.data);i.events.list.splice(u,1,c)}}i.update(),i.wa.notify()},this.events.remove=function(c){var d;if(c instanceof e.Event)d=c.data;else if(typeof c=="object"){var u=i.events.find(c.id);u&&(d=u.data)}else if(typeof c=="string"||typeof c=="number"){var u=i.events.find(c);u&&(d=u.data)}var l=e.indexOf(i.events.list,d);i.events.list.splice(l,1),i.update(),i.wa.notify()},this.events.load=function(c,d,u){var l=function(x){var S={};S.exception=x.exception,S.request=x.request,typeof u=="function"&&u(S)},f=function(x){var S,m=x.request;try{S=JSON.parse(m.responseText)}catch(C){var y={};return y.exception=C,void l(y)}if(e.isArray(S)){var w={};if(w.preventDefault=function(){this.preventDefault.value=!0},w.data=S,typeof d=="function"&&d(w),w.preventDefault.value)return;i.events.list=S,i.Ma&&i.update()}};if(i.eventsLoadMethod&&i.eventsLoadMethod.toUpperCase()==="POST")e.Http.ajax({method:"POST",data:{start:i.visibleStart().toString(),end:i.visibleEnd().toString()},url:c,success:f,error:l});else{var p=c,g="start="+i.visibleStart().toString()+"&end="+i.visibleEnd().toString();p+=p.indexOf("?")>-1?"&"+g:"?"+g,e.Http.ajax({method:"GET",url:p,success:f,error:l})}},this.events.forRange=function(c,d){c=new e.Date(c),d=new e.Date(d);var u=(i.events.list||[]).map(function(l){return new e.Event(l)});return u.sort(i.Bb),u.filter(function(l){var f=l.start(),p=l.end();return f===p&&f===c||e.Util.overlaps(c,d,f,p)})},this.update=function(c){if(i.ub(c),this.Ma){if(i.Q)throw new e.Exception("You are trying to update a DayPilot.Month instance that has been disposed.");this.cells&&(i.Y(),i.ed(),i.ha(),i.fd(),i.gd(),i.ma(),i.u(),i.na(),this.visible?this.show():this.hide())}},this.wb=null,this.ub=function(c){if(c){var d={events:{preInit:function(){var f=this.data||[];e.isArray(f.list)?i.events.list=f.list:i.events.list=f}}};this.wb=d;for(var u in c)if(d[u]){var l=d[u];l.data=c[u],l.preInit&&l.preInit()}else i[u]=c[u]}},this.xb=function(){var c=this.wb;for(var d in c){var u=c[d];u.postInit&&u.postInit()}},this.zb={},this.zb.events=[],this.Ab=function(c){var d=this.zb.events,u=this.events.list[c],l={};for(var f in u)l[f]=u[f];if(typeof this.onBeforeEventRender=="function"){var p={};p.control=i,p.data=l,this.onBeforeEventRender(p)}d[c]=l},this.ha=function(){var c=this.events.list;if(c){if(!e.isArray(c))throw new e.Exception("DayPilot.Month.events.list expects an array object. You supplied: "+typeof c);if(typeof this.onBeforeEventRender=="function")for(var d=0;d<c.length;d++)this.Ab(d);for(var u=0;u<c.length;u++){var l=c[u];if(typeof l!="object")throw new e.Exception("Event data item must be an object");if(!l.start)throw new e.Exception("Event data item must specify 'start' property");if(!l.end)throw new e.Exception("Event data item must specify 'end' property");var f=new e.Date(l.start),p=new e.Date(l.end);if(!(f.getTime()>p.getTime()))for(var d=0;d<this.rows.length;d++){var g=this.rows[d],x=new e.Event(l,this);g.belongsHere(x)&&(g.events.push(x),typeof this.onBeforeEventRender=="function"&&(x.cache=this.zb.events[u]))}}for(var S=0;S<this.rows.length;S++){var g=this.rows[S];g.events.sort(this.Bb);for(var m=0;m<this.rows[S].events.length;m++){var y=g.events[m],w=g.getStartColumn(y),C=g.getWidth(y);g.putIntoLine(y,w,C,S)}}}},this.Y=function(){for(var c=0;c<this.elements.events.length;c++){var d=this.elements.events[c];i.Pa(d)}this.elements.events=[]},this.Pa=function(c){(function(){var d=c.domArgs;if(c.domArgs=null,d&&typeof i.onBeforeEventDomRemove=="function"&&i.onBeforeEventDomRemove(d),d&&typeof i.onBeforeEventDomAdd=="function"){var u=d&&d.Qa;u&&i.Sa.Ra&&r(d.element)&&(i.Sa.Ta=!0,i.Sa.Ua(u),i.Sa.Ta=!1)}})(),c.event=null,c.click=null,c.parentNode.removeChild(c)},this.na=function(){this.hd()},this.hd=function(){this.elements.events=[];for(var c=0;c<this.rows.length;c++)for(var d=this.rows[c],u=0;u<d.lines.length;u++)for(var l=d.lines[u],f=0;f<l.length;f++)this.Va(l[f])},this.Bb=function(c,d){if(!(c&&d&&c.start&&d.start))return 0;var u=c.start().getTime()-d.start().getTime();return u!==0?u:d.end().getTime()-c.end().getTime()},this.drawShadow=function(c,d,u,l,f,p){f||(f=0);var g=l;this.shadow={},this.shadow.list=[],this.shadow.start={x:c,y:d},this.shadow.width=l;var x=7*d+c-f;x<0&&(g+=x,c=0,d=0);for(var S=f;S>=7;)d--,S-=7;S>c?S>c+(7-this.getColCount())?(d--,c=c+7-S):(g=g-S+c,c=0):c-=S,d<0&&(d=0,c=0);var m=null;t.resizingEvent?m="w-resize":t.movingEvent&&(m="move"),this.nav.top.style.cursor=m;var y=i.eventBorderRadius;for(typeof y=="number"&&(y+="px");g>0&&d<this.rows.length;){var w=Math.min(this.getColCount()-c,g),C=this.rows[d],E=this.getRowTop(d),N=C.getHeight(),k=document.createElement("div");k.setAttribute("unselectable","on"),k.style.position="absolute",k.style.left=this.getCellWidth()*c+"%",k.style.width=this.getCellWidth()*w+"%",k.style.top=E+"px",k.style.height=N+"px",k.style.cursor=m,k.classList.add(i.L("_shadow"));var A=document.createElement("div");A.setAttribute("unselectable","on"),k.appendChild(A),A.style.position="absolute",A.style.top="0px",A.style.right="0px",A.style.left="0px",A.style.bottom="0px",A.classList.add(i.L("_shadow_inner")),y&&(g===l&&(k.style.borderTopLeftRadius=y,k.style.borderBottomLeftRadius=y,A.style.borderTopLeftRadius=y,A.style.borderBottomLeftRadius=y),g<=w&&(k.style.borderTopRightRadius=y,k.style.borderBottomRightRadius=y,A.style.borderTopRightRadius=y,A.style.borderBottomRightRadius=y)),this.nav.top.appendChild(k),this.shadow.list.push(k),g-=w+7-this.getColCount(),c=0,d++}},this.clearShadow=function(){if(this.shadow){for(var c=0;c<this.shadow.list.length;c++)this.nav.top.removeChild(this.shadow.list[c]);this.shadow=null,this.nav.top.style.cursor=""}},this.getEventTop=function(c,d){for(var u=this.headerHeight,l=0;l<c;l++)u+=this.rows[l].getHeight();return u+=this.cellHeaderHeight,u+=d*this.lineHeight()},this.getDateFromCell=function(c,d){return this.firstDate.addDays(7*d+c)},this.Va=function(c){var d=c.cache||c.data,u=d.borderRadius||i.eventBorderRadius;typeof u=="number"&&(u+="px");var l=c.part.row,f=c.part.line,p=c.part.colStart,g=c.part.colWidth,x=this.getCellWidth()*p,S=this.getCellWidth()*g,m=this.getEventTop(l,f),y=document.createElement("div");y.setAttribute("unselectable","on"),y.style.height=this.eventHeight+"px",y.style.overflow="hidden",y.className=this.L("_event"),d.cssClass&&e.Util.addClass(y,d.cssClass),c.part.startsHere||e.Util.addClass(y,this.L("_event_continueleft")),c.part.endsHere||e.Util.addClass(y,this.L("_event_continueright")),y.event=c,y.style.width=S+"%",y.style.position="absolute",y.style.left=x+"%",y.style.top=m+"px",this.showToolTip&&c.client.toolTip()&&(y.title=c.client.toolTip()),y.onclick=i.va,y.oncontextmenu=i.jd,y.onmousedown=function(P){P=P||window.event;var M=P.which||P.button;if(P.cancelBubble=!0,P.stopPropagation&&P.stopPropagation(),M===1){if(t.movingEvent=null,this.style.cursor==="w-resize"||this.style.cursor==="e-resize"){var O={};O.start={},O.start.x=p,O.start.y=l,O.event=y.event,O.width=e.DateUtil.daysSpan(O.event.start(),O.event.end())+1,O.direction=this.style.cursor,t.resizingEvent=O}else if(this.style.cursor==="move"||c.client.moveEnabled()){i.clearShadow();var R=e.mo3(i.nav.top,P);if(!R)return;var L=i.getCellBelowPoint(R.x,R.y),B=e.DateUtil.daysDiff(c.start(),i.rows[l].start),F=7*L.y+L.x-(7*l+p);B&&(F+=B);var $={};$.start={},$.start.x=p,$.start.y=l,$.start.line=f,$.offset=i.eventMoveToPosition?0:F,$.colWidth=g,$.event=y.event,$.coords=R,t.movingEvent=$}}},y.onmousemove=function(P){if(typeof t<"u"&&!t.movingEvent&&!t.resizingEvent){var M=e.mo3(y,P);if(M){y.deleteIcon&&(y.deleteIcon.style.display="");var O=6;M.x<=O&&c.client.resizeEnabled()?c.part.startsHere?(y.style.cursor="w-resize",y.dpBorder="left"):y.style.cursor="not-allowed":y.clientWidth-M.x<=O&&c.client.resizeEnabled()?c.part.endsHere?(y.style.cursor="e-resize",y.dpBorder="right"):y.style.cursor="not-allowed":c.client.clickEnabled()?y.style.cursor="pointer":y.style.cursor="default"}}},y.onmouseleave=function(P){y.deleteIcon&&(y.deleteIcon.style.display="none"),y.style.cursor=""},y.onmouseenter=function(P){y.deleteIcon&&(y.deleteIcon.style.display="")};var w=document.createElement("div");if(w.setAttribute("unselectable","on"),w.className=this.L("_event_inner"),d.borderColor==="darker"&&d.backColor?w.style.borderColor=e.ColorUtil.darker(d.backColor,2):w.style.borderColor=d.borderColor,d.backColor&&(w.style.background=d.backColor),d.fontColor&&(w.style.color=d.fontColor),u&&(y.style.borderRadius=u,w.style.borderRadius=u),y.appendChild(w),c.client.barVisible()){var C=document.createElement("div");C.setAttribute("unselectable","on"),C.className=this.L("_event_bar"),C.style.position="absolute";var E=document.createElement("div");E.setAttribute("unselectable","on"),E.className=this.L("_event_bar_inner"),E.style.top="0%",E.style.height="100%",d.barColor&&(E.style.backgroundColor=d.barColor),C.appendChild(E),y.appendChild(C)}if(c.client.deleteEnabled()){var N=Math.floor(i.eventHeight/2-9),k=document.createElement("div");k.style.position="absolute",k.style.right="2px",k.style.top=N+"px",k.style.width="18px",k.style.height="18px",k.className=i.L("_event_delete"),k.onmousedown=function(P){P.stopPropagation()},k.onclick=function(P){P.stopPropagation();var M=this.parentNode.event;M&&i.ya(M)},k.style.display="none",y.deleteIcon=k,y.appendChild(k)}var A=d.areas?e.Areas.copy(d.areas):[];if(e.Areas.attach(y,c,{areas:A}),typeof i.onAfterEventRender=="function"){var T={};T.e=y.event,T.div=y,i.onAfterEventRender(T)}(function(){var P={};if(P.control=i,P.e=c,P.element=null,y.domArgs=P,typeof i.onBeforeEventDomAdd=="function"&&i.onBeforeEventDomAdd(P),P.element){var M=w;if(M)if(P.Qa=M,r(P.element)){if(!i.Sa.Ra)throw new e.Exception("Can't reach Vue");i.Sa.Ta=!0,i.Sa.Wa(P.element,M,{style:{flexGrow:1}}),i.Sa.Ta=!1}else M.appendChild(P.element)}else w.innerHTML=c.client.innerHTML()})(),this.elements.events.push(y),this.nav.events.appendChild(y)},this.lastVisibleDayOfMonth=function(){return this.startDate.lastDayOfMonth()},this.ed=function(){typeof this.startDate=="string"&&(this.startDate=new e.Date(this.startDate)),this.startDate=this.startDate.firstDayOfMonth(),this.firstDate=this.startDate.firstDayOfWeek(this.getWeekStart());var c,d=(this.startDate,this.lastVisibleDayOfMonth()),u=e.DateUtil.daysDiff(this.firstDate,d)+1;c=Math.ceil(u/7),this.days=7*c,this.rows=[];for(var l=0;l<c;l++){var f={};f.start=this.firstDate.addDays(7*l),f.end=f.start.addDays(this.getColCount()),f.events=[],f.lines=[],f.index=l,f.minHeight=this.cellHeight,f.calendar=this,f.belongsHere=function(p){return p.end().getTime()===p.start().getTime()&&p.start().getTime()===this.start.getTime()||!(p.end().getTime()<=this.start.getTime()||p.start().getTime()>=this.end.getTime())},f.getPartStart=function(p){return e.DateUtil.max(this.start,p.start())},f.getPartEnd=function(p){return e.DateUtil.min(this.end,p.end())},f.getStartColumn=function(p){var g=this.getPartStart(p);return e.DateUtil.daysDiff(this.start,g)},f.getWidth=function(p){return e.DateUtil.daysSpan(this.getPartStart(p),this.getPartEnd(p))+1},f.putIntoLine=function(p,g,x,S){for(var m=this,y=0;y<this.lines.length;y++){var w=this.lines[y];if(w.isFree(g,x))return w.addEvent(p,g,x,S,y),y}var w=[];return w.isFree=function(C,E){for(var N=!0,k=0;k<this.length;k++)C+E-1<this[k].part.colStart||C>this[k].part.colStart+this[k].part.colWidth-1||(N=!1);return N},w.addEvent=function(C,E,N,k,A){C.part.colStart=E,C.part.colWidth=N,C.part.row=k,C.part.line=A,C.part.startsHere=m.start.getTime()<=C.start().getTime(),C.part.endsHere=m.end.getTime()>=C.end().getTime(),this.push(C)},w.addEvent(p,g,x,S,this.lines.length),this.lines.push(w),this.lines.length-1},f.getStart=function(){for(var p=0,g=0;g<i.rows.length&&g<this.index;g++)p+=i.rows[g].getHeight()},f.getHeight=function(){return Math.max(this.lines.length*i.lineHeight()+i.cellHeaderHeight+i.cellMarginBottom,this.calendar.cellHeight)},this.rows.push(f)}this.endDate=this.firstDate.addDays(7*c)},this.visibleStart=function(){return i.firstDate},this.visibleEnd=function(){return i.endDate},this.getHeight=function(){for(var c=this.headerHeight,d=0;d<this.rows.length;d++)c+=this.rows[d].getHeight();return c},this.getWidth=function(c,d){return 7*d.y+d.x-(7*c.y+c.x)+1},this.getMinCoords=function(c,d){return 7*c.y+c.x<7*d.y+d.x?c:d},this.L=function(c){var d=this.theme||this.cssClassPrefix;return d?d+c:""},this.Ya=function(){var c=this.nav.top;c.setAttribute("unselectable","on"),c.style.MozUserSelect="none",c.style.KhtmlUserSelect="none",c.style.WebkitUserSelect="none",c.style.position="relative",this.width&&(c.style.width=this.width),c.style.height=this.getHeight()+"px",c.onselectstart=function(l){return!1},this.hideUntilInit&&(c.style.visibility="hidden"),this.visible||(c.style.display="none"),c.className=this.L("_main");var d=document.createElement("div");this.nav.cells=d,d.style.position="absolute",d.style.left="0px",d.style.right="0px",d.setAttribute("unselectable","on"),c.appendChild(d);var u=document.createElement("div");this.nav.events=u,u.style.position="absolute",u.style.left="0px",u.style.right="0px",u.setAttribute("unselectable","on"),c.appendChild(u),c.onmousemove=function(l){if(t.resizingEvent){var f=e.mo3(i.nav.top,l);if(!f)return;var p=i.getCellBelowPoint(f.x,f.y);i.clearShadow();var g,x,S=t.resizingEvent;if(S.start,S.direction==="w-resize"){x=p;var m=S.event.end();m.getDatePart()===m&&(m=m.addDays(-1));var y=i.getCellFromDate(m);g=i.getWidth(p,y)}else x=i.getCellFromDate(S.event.start()),g=i.getWidth(x,p);g<1&&(g=1),i.drawShadow(x.x,x.y,0,g)}else if(t.movingEvent){var f=e.mo3(i.nav.top,l);if(!f||f.x===t.movingEvent.coords.x&&f.y===t.movingEvent.coords.y)return;var w=3,C=Math.abs(f.x-t.movingEvent.coords.x)+Math.abs(f.y-t.movingEvent.coords.y);if(C<=w)return;var p=i.getCellBelowPoint(f.x,f.y);i.clearShadow();var E=t.movingEvent.event,N=t.movingEvent.offset,g=i.cellMode?1:e.DateUtil.daysSpan(E.start(),E.end())+1;g<1&&(g=1),i.drawShadow(p.x,p.y,0,g,N,E)}else if(t.timeRangeSelecting){var f=e.mo3(i.nav.top,l);if(!f)return;var p=i.getCellBelowPoint(f.x,f.y);i.clearShadow();var x=t.timeRangeSelecting,k=7*x.y+x.x,A=7*p.y+p.x,g=Math.abs(A-k)+1;g<1&&(g=1);var T=k<A?x:p;t.timeRangeSelecting.from={x:T.x,y:T.y},t.timeRangeSelecting.width=g,t.timeRangeSelecting.moved=!0,i.drawShadow(T.x,T.y,0,g,0,null)}}},this.ma=function(){this.nav.top.style.height=this.getHeight()+"px";for(var c=0;c<this.cells.length;c++)for(var d=0;d<this.cells[c].length;d++)this.cells[c][d].style.top=this.getRowTop(d)+"px",this.cells[c][d].style.height=this.rows[d].getHeight()+"px"},this.getCellBelowPoint=function(c,d){for(var u=Math.floor(this.nav.top.clientWidth/this.getColCount()),l=Math.min(Math.floor(c/u),this.getColCount()-1),f=null,p=this.headerHeight,g=0,x=0;x<this.rows.length;x++){var S=p;if(p+=this.rows[x].getHeight(),d<p){g=d-S,f=x;break}}f===null&&(f=this.rows.length-1);var m={};return m.x=l,m.y=f,m.relativeY=g,m},this.getCellFromDate=function(c){for(var d=e.DateUtil.daysDiff(this.firstDate,c),u={x:0,y:0};d>=7;)u.y++,d-=7;return u.x=d,u},this.gd=function(){var c=document.createElement("div");c.oncontextmenu=function(){return!1},this.nav.cells.appendChild(c),this.cells=[];for(var d=0;d<this.getColCount();d++){this.cells[d]=[];var u=document.createElement("div");u.setAttribute("unselectable","on"),u.style.position="absolute",u.style.left=this.getCellWidth()*d+"%",u.style.width=this.getCellWidth()+"%",u.style.top="0px",u.style.height=this.headerHeight+"px";var l=d+this.getWeekStart();l>6&&(l-=7),u.className=this.L("_header");var f=document.createElement("div");f.setAttribute("unselectable","on"),f.innerHTML=o.locale().dayNames[l],u.appendChild(f),f.style.position="absolute",f.style.top="0px",f.style.bottom="0px",f.style.left="0px",f.style.right="0px",f.className=this.L("_header_inner"),f.innerHTML=o.locale().dayNames[l],c.appendChild(u);for(var p=0;p<this.rows.length;p++)this.kd(d,p,c)}},this.fd=function(){for(var c=0;c<this.cells.length;c++)for(var d=0;d<this.cells[c].length;d++){var u=i.cells[c][d];i.hb(u)}this.nav.cells.innerHTML=""},this.hb=function(c){(function(){var d=c.domArgs;if(c.domArgs=null,d&&typeof i.onBeforeCellDomRemove=="function"&&i.onBeforeCellDomRemove(d),d&&typeof i.onBeforeCellDomAdd=="function"){var u=d&&d.Qa;if(u){var l=i.ld.reactDOM&&isReactCmp(d.element),f=i.Sa.Ra&&(isVueCmp(d.element)||r(d.element));l?i.ld.md(u):f&&(i.Sa.Ta=!0,i.Sa.Ua(u),i.Sa.Ta=!1)}}})(),c.onclick=null},this.ta=function(){return i.api===2},this.kd=function(c,d,u){var l=this.rows[d],f=this.firstDate.addDays(7*d+c),p=f.getDay(),g=null;g=p===1?o.locale().monthNames[f.getMonth()]+" "+p:""+p;var x=!i.isWeekend(f),S={start:f,end:f.addDays(1),properties:{headerHtml:g,backColor:null,business:x,html:null}},m={};m.control=i,m.cell=S,typeof i.onBeforeCellRender=="function"&&i.onBeforeCellRender(m);var y=m.cell.properties,w=document.createElement("div");if(w.setAttribute("unselectable","on"),w.style.position="absolute",w.style.cursor="default",w.style.left=this.getCellWidth()*c+"%",w.style.width=this.getCellWidth()+"%",w.style.top=this.getRowTop(d)+"px",w.style.height=l.getHeight()+"px",w.className=this.L("_cell"),y.business){var x=this.L("_cell_business");e.Util.addClass(w,x)}var C=(this.startDate.addMonths(-1).getMonth(),this.startDate.addMonths(1).getMonth(),this.startDate.getMonth(),document.createElement("div"));C.setAttribute("unselectable","on"),w.appendChild(C),C.style.position="absolute",C.style.left="0px",C.style.right="0px",C.style.top="0px",C.style.bottom="0px",C.className=this.L("_cell_inner"),y.backColor&&(C.style.backgroundColor=m.cell.properties.backColor),w.onmousedown=function(k){i.timeRangeSelectedHandling!=="Disabled"&&(i.clearShadow(),t.timeRangeSelecting={root:i,x:c,y:d,from:{x:c,y:d},width:1})},w.onclick=function(){var k=function(A){var T=new e.Date(A),P=T.addDays(1);i.O(T,P)};if(i.timeRangeSelectedHandling!=="Disabled")return void k(f)};var E=document.createElement("div");if(E.setAttribute("unselectable","on"),E.style.height=this.cellHeaderHeight+"px",E.className=this.L("_cell_header"),E.onclick=function(k){if(i.cellHeaderClickHandling==="Enabled"){k.stopPropagation();var A={};A.control=i,A.start=f,A.end=f.addDays(1),A.preventDefault=function(){this.preventDefault.value=!0},typeof i.onCellHeaderClick=="function"&&(i.onCellHeaderClick(A),A.preventDefault.value)||typeof i.onCellHeaderClicked=="function"&&i.onCellHeaderClicked(A)}},E.innerHTML=y.headerHtml,C.appendChild(E),y.html){var N=document.createElement("div");N.style.height=l.getHeight()-this.cellHeaderHeight+"px",N.style.overflow="hidden",N.innerHTML=y.html,C.appendChild(N)}(function(){if(typeof i.onBeforeCellDomAdd=="function"||typeof i.onBeforeCellDomRemove=="function"){var k={};if(k.control=i,k.cell=S,k.element=null,w.domArgs=k,typeof i.onBeforeCellDomAdd=="function"&&i.onBeforeCellDomAdd(k),k.element){var A=C;if(A)if(k.Qa=A,r(k.element)){if(!i.Sa.Ra)throw new e.Exception("Can't reach Vue");i.Sa.Ta=!0,i.Sa.Wa(k.element,A),i.Sa.Ta=!1}else A.appendChild(k.element)}}})(),this.cells[c][d]=w,u.appendChild(w)},this.getWeekStart=function(){if(i.weekStarts==="Auto"){var c=o.locale();return c?c.weekStarts:0}return i.weekStarts||0},this.getColCount=function(){return 7},this.getCellWidth=function(){return 14.285},this.getRowTop=function(c){for(var d=this.headerHeight,u=0;u<c;u++)d+=this.rows[u].getHeight();return d},this.U=function(c,d,u){var l={};l.action=c,l.parameters=u,l.data=d,l.header=this.T();var f="JSON"+e.JSON.stringify(l);this.backendUrl&&e.request(this.backendUrl,this.V,f,this.ajaxError)},this.V=function(c){i.W(c.responseText)},this.T=function(){var c={};return c.control="dpm",c.id=this.id,c.v=this.v,c.visibleStart=new e.Date(this.firstDate),c.visibleEnd=c.visibleStart.addDays(this.days),c.startDate=i.startDate,c.timeFormat=this.timeFormat,c.weekStarts=this.weekStarts,c},this.eventClickCallBack=function(c,d){this.U("EventClick",d,c)},this.va=function(u){t.movingEvent=null,t.resizingEvent=null;var d=this,u=u||window.event;u.ctrlKey,u.cancelBubble=!0,u.stopPropagation&&u.stopPropagation(),i.eventClickSingle(d,u)},this.eventClickSingle=function(c,d){var u=c.event;if(u&&u.client.clickEnabled())if(i.ta()){var l={};if(l.e=u,l.control=i,l.div=c,l.originalEvent=d,l.meta=d.metaKey,l.ctrl=d.ctrlKey,l.preventDefault=function(){this.preventDefault.value=!0},typeof i.onEventClick=="function"&&(i.wa.apply(function(){i.onEventClick(l)}),l.preventDefault.value))return;switch(i.eventClickHandling){case"CallBack":i.eventClickCallBack(u);break;case"ContextMenu":var f=u.client.contextMenu();f?f.show(u):i.contextMenu&&i.contextMenu.show(u)}typeof i.onEventClicked=="function"&&i.wa.apply(function(){i.onEventClicked(l)})}else switch(i.eventClickHandling){case"CallBack":i.eventClickCallBack(u);break;case"JavaScript":i.onEventClick(u)}},this.jd=function(){var c=this;return i.xa(c.event),!1},this.xa=function(c){if(this.event=c,!c.client.rightClickEnabled())return!1;var d={};if(d.e=c,d.preventDefault=function(){this.preventDefault.value=!0},typeof i.onEventRightClick!="function"||(i.onEventRightClick(d),!d.preventDefault.value)){switch(i.eventRightClickHandling){case"ContextMenu":var u=c.client.contextMenu();u?u.show(c):i.contextMenu&&i.contextMenu.show(this.event)}return typeof i.onEventRightClicked=="function"&&i.onEventRightClicked(d),!1}},this.ya=function(c){if(i.ta()){var d={};if(d.e=c,d.control=i,d.preventDefault=function(){this.preventDefault.value=!0},typeof i.onEventDelete=="function"&&(i.wa.apply(function(){i.onEventDelete(d)}),d.preventDefault.value))return;switch(i.eventDeleteHandling){case"CallBack":i.eventDeleteCallBack(c);break;case"PostBack":i.eventDeletePostBack(c);break;case"Update":i.events.remove(c)}typeof i.onEventDeleted=="function"&&i.wa.apply(function(){i.onEventDeleted(d)})}else switch(i.eventDeleteHandling){case"PostBack":i.eventDeletePostBack(c);break;case"CallBack":i.eventDeleteCallBack(c);break;case"JavaScript":i.onEventDelete(c)}},this.eventDeleteCallBack=function(c,d){this.U("EventDelete",d,c)},this.eventDeletePostBack=function(c,d){this.S("EventDelete",d,c)},this.eventMoveCallBack=function(c,d,u,l,f){if(!d)throw"newStart is null";if(!u)throw"newEnd is null";var p={};p.e=c,p.newStart=d,p.newEnd=u,p.position=f,this.U("EventMove",l,p)},this.M=function(c,d,u,l,f,p){var g=c.start().getTimePart(),x=c.end().getDatePart();x.getTime()!==c.end().getTime()&&(x=x.addDays(1));var S=e.DateUtil.diff(c.end(),x),m=this.getDateFromCell(d,u);m=m.addDays(-l);var y=e.DateUtil.daysSpan(c.start(),c.end())+1,w=m.addDays(y),C=m.addTime(g),E=w.addTime(S);if(i.ta()){var N={};if(N.e=c,N.control=i,N.newStart=C,N.newEnd=E,N.ctrl=f.ctrlKey,N.shift=f.shiftKey,N.preventDefault=function(){this.preventDefault.value=!0},typeof i.onEventMove=="function"&&(i.wa.apply(function(){i.onEventMove(N)}),N.preventDefault.value))return;switch(i.eventMoveHandling){case"CallBack":i.eventMoveCallBack(c,C,E);break;case"Update":c.start(C),c.end(E),i.events.update(c)}typeof i.onEventMoved=="function"&&i.wa.apply(function(){i.onEventMoved(N)})}else switch(i.eventMoveHandling){case"CallBack":i.eventMoveCallBack(c,C,E);break;case"JavaScript":i.onEventMove(c,C,E)}},this.eventResizeCallBack=function(c,d,u,l){if(!d)throw"newStart is null";if(!u)throw"newEnd is null";var f={};f.e=c,f.newStart=d,f.newEnd=u,this.U("EventResize",l,f)},this.K=function(c,d,u){var l=c.start().getTimePart(),f=c.end().getDatePart();f.getTime()!==c.end().getTime()&&(f=f.addDays(1));var p=e.DateUtil.diff(c.end(),f),g=this.getDateFromCell(d.x,d.y),x=g.addDays(u),S=g.addTime(l),m=x.addTime(p);if(i.ta()){var y={};if(y.e=c,y.control=i,y.newStart=S,y.newEnd=m,y.preventDefault=function(){this.preventDefault.value=!0},typeof i.onEventResize=="function"&&(i.wa.apply(function(){i.onEventResize(y)}),y.preventDefault.value))return;switch(i.eventResizeHandling){case"CallBack":i.eventResizeCallBack(c,S,m);break;case"Update":c.start(S),c.end(m),i.events.update(c)}typeof i.onEventResized=="function"&&i.wa.apply(function(){i.onEventResized(y)})}else switch(i.eventResizeHandling){case"CallBack":i.eventResizeCallBack(c,S,m);break;case"JavaScript":i.onEventResize(c,S,m)}},this.timeRangeSelectedCallBack=function(c,d,u){var l={};l.start=c,l.end=d,this.U("TimeRangeSelected",u,l)},this.O=function(c,d){if(this.ta()){var u={};if(u.control=i,u.start=c,u.end=d,u.preventDefault=function(){this.preventDefault.value=!0},typeof i.onTimeRangeSelect=="function"&&(i.wa.apply(function(){i.onTimeRangeSelect(u)}),u.preventDefault.value))return;switch(i.timeRangeSelectedHandling){case"CallBack":i.timeRangeSelectedCallBack(c,d)}typeof i.onTimeRangeSelected=="function"&&i.wa.apply(function(){i.onTimeRangeSelected(u)})}else switch(i.timeRangeSelectedHandling){case"CallBack":i.timeRangeSelectedCallBack(c,d);break;case"JavaScript":i.onTimeRangeSelected(c,d)}},this.wa={},this.wa.scope=null,this.wa.notify=function(){i.wa.scope&&i.wa.scope.$apply()},this.wa.apply=function(c){c()},this.clearSelection=function(){i.clearShadow()},this.commandCallBack=function(c,d){var u={};u.command=c,this.U("Command",d,u)},this.isWeekend=function(c){return c=new e.Date(c),c.dayOfWeek()===0||c.dayOfWeek()===6},this.ca={},this.ca.locale=function(){var c=e.Locale.find(i.locale);return c||e.Locale.US},this.ca.da=function(){return i.xssProtection!=="Disabled"};var o=this.ca;this.debug=function(c,d){this.debuggingEnabled&&(i.debugMessages||(i.debugMessages=[]),i.debugMessages.push(c),typeof console<"u"&&console.log(c))},this.dispose=function(){var c=i;c.Q||(c.Q=!0,c.fd(),c.Y(),c.nav.top.removeAttribute("style"),c.nav.top.removeAttribute("class"),c.nav.top.innerHTML="",c.nav.top.dp=null,c.nav.top.onmousemove=null,c.nav.top=null)},this.disposed=function(){return this.Q},this.rb=function(){t.globalHandlers||(t.globalHandlers=!0,e.re(document,"mouseup",t.gMouseUp))},this.loadFromServer=function(){return!(!this.backendUrl&&typeof WebForm_DoCallback!="function")&&(typeof i.events.list>"u"||!i.events.list)},this.u=function(){this.nav.top.style.visibility==="hidden"&&(this.nav.top.style.visibility="visible")},this.show=function(){i.visible=!0,i.nav.top.style.display=""},this.hide=function(){i.visible=!1,i.nav.top.style.display="none"},this.yb=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if(typeof this.id!="string")throw"DayPilot.Month() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Month: The placeholder element not found: '"+id+"'."}},this.Hb=function(){this.ed(),this.Ya(),this.gd(),this.rb(),this.U("Init")},this.ab=function(c,d){return i.ca.da()?e.Util.escapeTextHtml(c,d):e.Util.isNullOrUndefined(d)?e.Util.isNullOrUndefined(c)?"":c:d},this.Sa={},this.Sa.Ra=null,this.Sa.Ob=function(c,d,u){var l=i.Sa.Ra;if(typeof l.createVNode=="function"&&typeof l.render=="function"){var f=l.createVNode(c,u);l.render(f,d)}},this.Sa.Wa=function(c,d,u){var l=i.Sa.Ra;if(typeof l.render=="function"){var f=c;e.isArray(c)&&(f=l.h("div",u,c)),l.render(f,d)}},this.Sa.Ua=function(c){var d=i.Sa.Ra;typeof d.render=="function"&&d.render(null,c)},this.internal={},this.internal.loadOptions=this.ub,this.internal.xssTextHtml=i.ab,this.internal.enableVue=function(c){i.Sa.Ra=c},this.internal.vueRef=function(){return i.Sa.Ra},this.internal.vueRendering=function(){return i.Sa.Ta},this.init=function(){return this.yb(),this.loadFromServer()?void this.Hb():(this.ed(),this.ha(),this.Ya(),this.gd(),this.u(),this.na(),this.rb(),this.fireAfterRenderDetached(null,!1),this.Ma=!0,this)},this.Init=this.init,Object.defineProperty(this,"durationBarVisible",{get:function(){return i.eventBarVisible}}),this.ub(s)},t.gMouseUp=function(n){if(t.movingEvent){var s=t.movingEvent;if(!s.event||!s.event.calendar||!s.event.calendar.shadow||!s.event.calendar.shadow.start)return;var i=t.movingEvent.event.calendar,o=t.movingEvent.event,c=i.shadow.start,d=i.shadow.position,u=t.movingEvent.offset;i.clearShadow(),t.movingEvent=null;var n=n||window.event;return i.M(o,c.x,c.y,u,n,d),n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation(),t.movingEvent=null,!1}if(t.resizingEvent){var s=t.resizingEvent;if(!s.event||!s.event.calendar||!s.event.calendar.shadow||!s.event.calendar.shadow.start)return;var i=t.resizingEvent.event.calendar,o=t.resizingEvent.event,c=i.shadow.start,l=i.shadow.width;return i.clearShadow(),t.resizingEvent=null,i.K(o,c,l),n.cancelBubble=!0,t.resizingEvent=null,!1}if(t.timeRangeSelecting){if(t.timeRangeSelecting.moved){var f=t.timeRangeSelecting,i=f.root,c=new e.Date(i.getDateFromCell(f.from.x,f.from.y)),p=c.addDays(f.width);i.O(c,p)}t.timeRangeSelecting=null}},e.Month=t.Month,typeof jQuery<"u"&&function(n){n.fn.daypilotMonth=function(s){var i=null,o=this.each(function(){if(!this.daypilot){var c=new e.Month(this.id);this.daypilot=c;for(name in s)c[name]=s[name];c.Init(),i||(i=c)}});return this.length===1?i:o}}(jQuery),function(){var n=e.am();n&&n.directive("daypilotMonth",["$parse",function(s){return{restrict:"E",template:"<div></div>",replace:!0,link:function(i,o,c){var d=new e.Month(o[0]);d.wa.scope=i,d.init();var u=c.id;u&&(i[u]=d);var l=c.publishAs;l&&(0,s(l).assign)(i,d);for(var f in c)f.indexOf("on")===0&&function(S){d[S]=function(m){var y=s(c[S]);i.$apply(function(){y(i,{args:m})})}}(f);var p=i.$watch,g=c.config||c.daypilotConfig,x=c.events||c.daypilotEvents;p.call(i,g,function(S){for(var m in S)d[m]=S[m];d.update()},!0),p.call(i,x,function(S){d.events.list=S,d.update()},!0)}}}])}(),typeof Sys<"u"&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),typeof e>"u")var e={};if(typeof e.Global>"u"&&(e.Global={}),function(t){if(typeof t.Navigator>"u"||!t.Navigator.def){var r=t.Util.isVueVNode;t.Navigator=function(n,s){this.v="2025.3.710-lite";var i=this;this.id=n,this.api=2,this.isNavigator=!0,this.autoFocusOnClick=!0,this.weekStarts="Auto",this.selectMode="Day",this.titleHeight=30,this.dayHeaderHeight=30,this.bound=null,this.cellWidth=30,this.cellHeight=30,this.cssClassPrefix="navigator_default",this.freeHandSelectionEnabled=!1,this.selectionStart=new t.Date().getDatePart(),this.selectionEnd=null,this.selectionDay=null,this.showMonths=1,this.skipMonths=1,this.command="navigate",this.year=new t.Date().getYear(),this.month=new t.Date().getMonth()+1,this.showToday=!1,this.showWeekNumbers=!1,this.todayHtml=null,this.todayHeight=40,this.todayPosition="Bottom",this.todayText="Today",this.weekNumberAlgorithm="Auto",this.rowsPerMonth="Six",this.orientation="Vertical",this.locale="en-us",this.rtl=!1,this.visible=!0,this.timeRangeSelectedHandling="Bind",this.visibleRangeChangedHandling="Enabled",this.onVisibleRangeChange=null,this.onVisibleRangeChanged=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.onTodayClick=null,this.nav={},this.zb={},this.nd=function(){this.root.dp=this,this.root.className=this.L("_main"),this.orientation==="Horizontal"?(d.od()||(this.root.style.width=this.showMonths*(7*d.cellWidth()+this.pd())+"px"),this.root.style.height=6*this.cellHeight+this.titleHeight+this.dayHeaderHeight+"px"):d.od()||(this.root.style.width=7*d.cellWidth()+this.pd()+"px"),this.rtl&&(this.root.style.direction="rtl"),this.root.style.position="relative",this.visible||(this.root.style.display="none");var u=document.createElement("input");u.type="hidden",u.name=i.id+"_state",u.id=u.name,this.root.appendChild(u),this.state=u,this.startDate?this.startDate=new t.Date(this.startDate).firstDayOfMonth():this.selectionDay?this.startDate=new t.Date(this.selectionDay).firstDayOfMonth():this.startDate=t.Date.fromYearMonthDay(this.year,this.month),this.calendars=[],this.selected=[],this.months=[]},this.ta=function(){return i.api===2},this.fd=function(){this.root.innerHTML=""},this.L=function(u){var l=this.theme||this.cssClassPrefix;return l?l+u:""},this.qd=function(u,l){var f=this.L("_"+l);t.Util.addClass(u,f)},this.rd=function(u,l){var f=this.L("_"+l);t.Util.removeClass(u,f)},this.sd=function(){if(!d.od())return null;var u=7;return this.showWeekNumbers&&u++,100/u},this.td=function(){return d.od()?null:d.cellWidth()},this.ud=function(u){return typeof u!="number"&&(u=1),d.od()?this.sd()*u:this.td()*u},this.vd=function(u){var l=d.od()?"%":"px";return this.ud(u)+l},this.gd=function(u,l){var f={};f.cells=[],f.days=[],f.weeks=[];var p=this.startDate.addMonths(u),g=l.before,x=l.after,S=p.firstDayOfMonth(),m=S.firstDayOfWeek(d.weekStarts()),y=S.addMonths(1),w=t.DateUtil.daysDiff(m,y),C=this.rowsPerMonth==="Auto"?Math.ceil(w/7):6;f.rowCount=C;var E=new t.Date().getDatePart(),N=7*d.cellWidth()+this.pd();f.width=N;var k=this.cellHeight*C+this.titleHeight+this.dayHeaderHeight;f.height=k;var A=document.createElement("div");if(d.od()?this.orientation==="Horizontal"&&(A.style.width=100/i.showMonths+"%"):A.style.width=N+"px",A.style.height=k+"px",this.orientation==="Horizontal")A.style.position="absolute",d.od()?(A.style.left=100/i.showMonths*u+"%",f.leftPct=100/i.showMonths*u):A.style.left=N*u+"px",A.style.top="0px",f.top=0,f.left=N*u;else{A.style.position="relative";var T=u>0?i.months[u-1].top+i.months[u-1].height:0;f.top=T,f.left=0,f.leftPct=0}A.className=this.L("_month"),A.style.cursor="default",A.style.userSelect="none",A.style.webkitUserSelect="none",A.month=f,f.div=A,this.root.appendChild(A);var P=this.titleHeight+this.dayHeaderHeight,M=document.createElement("div");M.style.position="absolute",M.style.left="0px",M.style.right="0px",M.style.top="0px",M.style.width=i.vd(),M.style.height=this.titleHeight+"px",M.style.lineHeight=this.titleHeight+"px",M.className=this.L("_titleleft"),l.left&&(M.style.cursor="pointer",M.innerHTML="<span>&lt;</span>",M.onclick=this.wd),A.appendChild(M),this.tl=M;var O=document.createElement("div");O.style.position="absolute",O.style.left=i.vd(),O.style.top="0px",O.style.width=i.vd(i.showWeekNumbers?6:5),O.style.height=this.titleHeight+"px",O.style.lineHeight=this.titleHeight+"px",O.className=this.L("_title"),O.innerHTML=d.locale().monthNames[p.getMonth()]+" "+p.getYear(),A.appendChild(O),this.ti=O;var R=document.createElement("div");R.style.position="absolute",R.style.left=i.vd(i.showWeekNumbers?7:6),R.style.right=i.vd(i.showWeekNumbers?7:6),R.style.top="0px",R.style.width=i.vd(),R.style.height=this.titleHeight+"px",R.style.lineHeight=this.titleHeight+"px",R.className=this.L("_titleright"),l.right&&(R.style.cursor="pointer",R.innerHTML="<span>&gt;</span>",R.onclick=this.xd),A.appendChild(R),this.tr=R;var L=(this.pd(),i.showWeekNumbers?1:0);if(this.showWeekNumbers)for(var B=0;B<C;B++){var F=m.addDays(7*B),$=null;switch(this.weekNumberAlgorithm){case"Auto":$=d.weekStarts()===1?F.weekNumberISO():F.weekNumber();break;case"US":$=F.weekNumber();break;case"ISO8601":$=F.weekNumberISO();break;default:throw"Unknown weekNumberAlgorithm value."}var z=document.createElement("div");z.style.position="absolute",z.style.left="0px",z.style.right="0px",z.style.top=B*this.cellHeight+P+"px",z.style.width=i.vd(),z.style.height=this.cellHeight+"px",z.style.lineHeight=this.cellHeight+"px",z.className=this.L("_weeknumber"),z.innerHTML="<span>"+$+"</span>",A.appendChild(z),f.weeks.push(z)}if(i.showWeekNumbers){var z=document.createElement("div");z.style.position="absolute",z.style.left="0px",z.style.right="0px",z.style.top=this.titleHeight+"px",z.style.width=i.vd(),z.style.height=this.dayHeaderHeight+"px",z.className=this.L("_dayheader"),A.appendChild(z)}for(var W=0;W<7;W++){f.cells[W]=[];var z=document.createElement("div");z.style.position="absolute",z.style.left=i.vd(W+L),z.style.right=i.vd(W+L),z.style.top=this.titleHeight+"px",z.style.width=i.vd(),z.style.height=this.dayHeaderHeight+"px",z.style.lineHeight=this.dayHeaderHeight+"px",z.className=this.L("_dayheader"),z.innerHTML="<span>"+this.yd(W)+"</span>",A.appendChild(z),f.days.push(z);for(var B=0;B<C;B++){var F=m.addDays(7*B+W),Z=this.zd(F)&&this.Ad()!=="none",V=F.firstDayOfMonth()===p,q=F<p,H=F>=p.addMonths(1);if(this.Ad()==="month")Z=Z&&V;else if(this.Ad()==="day")Z=Z&&(V||g&&q||x&&H);else if(this.Ad()==="week"){var K=F.firstDayOfMonth()===p;Z=Z&&(K||g&&q||x&&H)}var Y=document.createElement("div");f.cells[W][B]=Y;var re=i.Bd(W,B),me=re.x,de=re.y,he=d.od()?"%":"px";Y.day=F,Y.x=W,Y.y=B,Y.left=me,Y.top=de,Y.isCurrentMonth=V,Y.isNextMonth=H,Y.isPrevMonth=q,Y.showBefore=g,Y.showAfter=x,Y.className=this.L(V?"_day":"_dayother"),i.qd(Y,"cell"),F.getTime()===E.getTime()&&V&&this.qd(Y,"today"),F.dayOfWeek()!==0&&F.dayOfWeek()!==6||this.qd(Y,"weekend"),Y.style.position="absolute",Y.style.left=me+he,Y.style.right=me+he,Y.style.top=de+"px",Y.style.width=i.vd(),Y.style.height=this.cellHeight+"px",Y.style.lineHeight=this.cellHeight+"px";var ee=document.createElement("div");ee.style.position="absolute",ee.className=F.getTime()===E.getTime()&&V?this.L("_todaybox"):this.L("_daybox"),i.qd(ee,"cell_box"),ee.style.left="0px",ee.style.top="0px",ee.style.right="0px",ee.style.bottom="0px",Y.appendChild(ee);var ie=null;this.cells&&this.cells[F.toStringSortable()]&&(ie=this.cells[F.toStringSortable()]);var ye=ie||{};if(ye.day=F,ye.isCurrentMonth=V,ye.isToday=F.getTime()===E.getTime()&&V,ye.isWeekend=F.dayOfWeek()===0||F.dayOfWeek()===6,ie?(ye.html=ie.html||F.getDay(),ye.cssClass=ie.css):(ye.html=F.getDay(),ye.cssClass=null),typeof i.onBeforeCellRender=="function"){var le={};le.cell=ye,i.onBeforeCellRender(le),ie=le.cell}if(ie&&t.Util.addClass(Y,ie.cssClass||ie.css),V||g&&q||x&&H){var Te=document.createElement("div");Te.innerHTML=F.getDay(),Te.style.position="absolute",Te.style.left="0px",Te.style.top="0px",Te.style.right="0px",Te.style.bottom="0px",i.qd(Te,"cell_text"),Y.isClickable=!0,ie&&ie.html&&(Te.innerHTML=ie.html),Y.appendChild(Te)}Y.onclick=this.Cd,function(){if(typeof i.onBeforeCellDomAdd=="function"||typeof i.onBeforeCellDomRemove=="function"){var fe={};if(fe.control=i,fe.cell=ye,fe.element=null,Y.domArgs=fe,typeof i.onBeforeCellDomAdd=="function"&&i.onBeforeCellDomAdd(fe),fe.element){var Fe=ee;if(Fe)if(fe.Qa=Fe,r(fe.element)){if(!i.Sa.Ra)throw new t.Exception("Can't reach Vue");i.Sa.Ta=!0,i.Sa.Wa(fe.element,Fe),i.Sa.Ta=!1}else Fe.appendChild(fe.element)}}}(),A.appendChild(Y),Z&&(i.Dd(A,W,B),this.selected.push(Y))}}var Ae=document.createElement("div");Ae.style.position="absolute",Ae.style.left="0px",Ae.style.top=P-2+"px",Ae.style.width=i.vd(7+L),Ae.style.height="1px",Ae.style.fontSize="1px",Ae.style.lineHeight="1px",Ae.className=this.L("_line"),A.appendChild(Ae),this.months.push(f)},this.Bd=function(u,l){var f=this.titleHeight+this.dayHeaderHeight,p=(this.pd(),this.showWeekNumbers?1:0);return{x:i.ud(u+p),y:l*this.cellHeight+f}},this.Dd=function(u,l,f){var p=u.month.cells[l][f];i.qd(p,"select")},this.Ed=function(u,l,f){var p=u.month.cells[l][f];i.rd(p,"select")},this.pd=function(){return this.showWeekNumbers?d.cellWidth():0},this.Fd=function(){if(this.items)for(var u=0;u<this.showMonths;u++)for(var l=0;l<7;l++)for(var f=0;f<6;f++){var p=this.months[u].cells[l][f];p&&(this.items[p.day.toStringSortable()]===1?(this.qd(p,"busy"),this.rd(p,"free")):(this.rd(p,"busy"),this.qd(p,"free")))}},this.Gd=function(){var u={};u.startDate=i.startDate,u.selectionStart=i.selectionStart,u.selectionEnd=i.selectionEnd.addDays(1),i.state.value=JSON.stringify(u)},this.Ad=function(){return(this.selectMode||"").toLowerCase()},this.Hd=function(){var u=this.selectionDay||this.selectionStart;switch(u||(u=t.Date.today()),u=new t.Date(u),this.Ad()){case"day":this.selectionStart=u,this.selectionDay=u,this.selectionEnd=u;break;case"week":this.selectionDay=u,this.selectionStart=u.firstDayOfWeek(d.weekStarts()),this.selectionEnd=this.selectionStart.addDays(6);break;case"month":this.selectionDay=u,this.selectionStart=u.firstDayOfMonth(),this.selectionEnd=this.selectionStart.lastDayOfMonth();break;case"none":this.selectionEnd=u;break;default:throw"Unknown selectMode value."}},this.Id=null,this.select=function(u,l,f){var p=l&&(l instanceof t.Date||typeof l=="string"),g=l&&typeof l=="object"||typeof l=="boolean",x=u,S=p?l:null,m=g?l:f;if(!this.Ma)return void(this.Id={date1:x,date2:S,options:m});var y=!0,w=!0;m&&typeof m=="object"?(m.dontFocus&&(y=!1),m.dontNotify&&(w=!1)):typeof m=="boolean"&&(y=!m);var C=this.selectionStart,E=this.selectionEnd;this.selectionStart=new t.Date(x).getDatePart(),this.selectionDay=this.selectionStart;var N=!1;if(y){var k=this.startDate;(this.selectionStart<this.Jd()||this.selectionStart>=this.Kd())&&(k=this.selectionStart.firstDayOfMonth()),k.toStringSortable()!==this.startDate.toStringSortable()&&(N=!0),this.startDate=k}S&&i.freeHandSelectionEnabled?i.selectionEnd=new t.Date(S):this.Hd(),this.fd(),this.nd(),this.Ld(),this.Fd(),this.Gd(),!w||C.equals(this.selectionStart)&&E.equals(this.selectionEnd)||this.O(),N&&this.Md()},this.update=function(u){i.Nd(u)},this.Nd=function(u){if(i.ub(u),this.Ma){if(i.Q)throw new t.Exception("You are trying to update a DayPilot.Navigator instance that has been disposed.");i.Od();var l={day:i.selectionDay,start:i.selectionStart,end:i.selectionEnd};i.sb(),l.start===i.selectionStart&&l.end===i.selectionEnd&&l.day===i.selectionDay||i.O()}},this.sb=function(){this.fd(),this.nd(),this.Hd(),this.Ld(),this.ha(),this.Fd(),this.Gd(),this.visible?this.show():this.hide()},this.Od=function(){i.zb={}},this.wb=null,this.ub=function(u){if(u){var l={events:{preInit:function(){var g=this.data;g&&(t.isArray(g.list)?i.events.list=g.list:i.events.list=g)}}};this.wb=l;for(var f in u)if(l[f]){var p=l[f];p.data=u[f],p.preInit&&p.preInit()}else i[f]=u[f]}},this.xb=function(){var u=this.wb;for(var l in u){var f=u[l];f.postInit&&f.postInit()}},this.U=function(u,l,f){var p={};p.action=u,p.parameters=f,p.data=l,p.header=this.T();var g="JSON"+JSON.stringify(p);this.backendUrl?t.request(this.backendUrl,this.V,g,this.Pd):WebForm_DoCallback(this.uniqueID,g,this.W,null,this.callbackError,!0)},this.Pd=function(u){if(typeof i.onAjaxError=="function"){var l={};l.request=u,i.onAjaxError(l)}else typeof i.ajaxError=="function"&&i.ajaxError(u)},this.V=function(u){i.W(u.responseText)},this.S=function(u,l,f){var p={};p.action=u,p.parameters=f,p.data=l,p.header=this.T();var g="JSON"+JSON.stringify(p);__doPostBack(i.uniqueID,g)},this.T=function(){var u={};return u.v=this.v,u.startDate=this.startDate,u.selectionStart=this.selectionStart,u.showMonths=this.showMonths,u},this.Qd=function(u,l){u==="refresh"&&this.Md()},this.yd=function(u){var l=u+d.weekStarts();return l>6&&(l-=7),d.locale().dayNamesShort[l]},this.zd=function(u){return this.selectionStart!==null&&this.selectionEnd!==null&&this.selectionStart.getTime()<=u.getTime()&&u.getTime()<=this.selectionEnd.getTime()},this.Rd=function(u){for(var l=0;l<i.months.length;l++){var f=i.months[l];if(!f||u.x<f.left)return null;if(!(f.left+f.width<u.x)&&(i.months[l].height,f.top<=u.y&&u.y<f.top+f.height))return l}return null},this.Sd=function(u){},this.Td=function(){if(!d.od())return void(i.Ud=i.cellWidth);var u=i.months[0].cells[0][0],l=u.clientWidth;i.Ud=l,i.months.forEach(function(f){f.width=f.div.clientWidth,i.orientation==="Horizontal"&&(f.left=f.div.offsetLeft),f.cells.forEach(function(p,g){p.forEach(function(x,S){x.width=l,x.left=g*l})})})},this.Vd=function(u){i.Td();var l=t.mo3(i.nav.top,u),f=i.Rd(l);if(f===null)return null;var p=i.months[f],g=this.titleHeight+this.dayHeaderHeight;if(p.top<=l.y&&l.y<p.top+g)return{month:f,x:0,y:0,coords:l,header:!0};for(var x=0;x<p.cells.length;x++)for(var S=0;S<p.cells[x].length;S++){var m=p.cells[x][S],y=m.top+p.top,w=m.left+p.left;if(w<=l.x&&l.x<w+i.Ud&&y<=l.y&&l.y<y+i.cellHeight)return{month:f,x,y:S,coords:l}}return null},this.Wd=function(u){if(i.freeHandSelectionEnabled){var l=i.Vd(u);l&&!l.header&&(o.start=l),i.months[l.month].cells[l.x][l.y],u.preventDefault()}},this.Xd=function(u){if(o.start){var l=i.Vd(u);if(o.end)o.end=l;else if(l){var f=3,p=t.distance(o.start.coords,l.coords);p>f&&(o.end=l)}o.end&&(o.clear(),o.draw())}},this.Yd={};var o=this.Yd;o.start=null,o.drawCell=function(u){var l=i.months[u.month],f=i.Bd(u.x,u.y),p=l.top+f.y,g=l.left+f.x,x="px",S=i.vd();if(d.od()){var m=i.orientation==="Horizontal"?i.showMonths:1;g=l.leftPct+f.x/m,x="%",S=i.vd(1/m)}var y=document.createElement("div");y.style.position="absolute",y.style.left=g+x,y.style.top=p+"px",y.style.height=i.cellHeight+"px",y.style.width=S,y.style.backgroundColor="#ccc",y.style.opacity=.5,y.style.cursor="default",i.nav.preselection.appendChild(y),o.cells.push(y)},o.clear=function(){if(o.cells){for(var u=0;u<o.cells.length;u++)i.nav.preselection.removeChild(o.cells[u]);o.cells=[]}},o.draw=function(){var u=o.ordered(),l=new c(u.start),f=u.end;if(f){if(f===o.end&&f.header&&f.month>0){f.month-=1;var p=i.months[f.month];f.x=6,f.y=p.rowCount-1}for(o.cells=[];!l.is(f);){l.visible()&&o.drawCell(l);var g=new c(l).next();if(!g)return;l.month=g.month,l.x=g.x,l.y=g.y}l.visible()&&o.drawCell(l)}},o.ordered=function(){var u=o.start,l=o.end,f={};return!l||new c(u).before(l)?(f.start=u,f.end=l):(f.start=l,f.end=u),f};var c=function(u,l,f){if(u instanceof c)return u;if(typeof u=="object"){var p=u;this.month=p.month,this.x=p.x,this.y=p.y}else this.month=u,this.x=l,this.y=f;this.is=function(g){return this.month===g.month&&this.x===g.x&&this.y===g.y},this.next=function(){var g=this;if(g.x<6)return{month:g.month,x:g.x+1,y:g.y};var x=i.months[g.month];return g.y<x.rowCount-1?{month:g.month,x:0,y:g.y+1}:g.month<i.months.length-1?{month:g.month+1,x:0,y:0}:null},this.visible=function(){var g=this.cell();return!!g.isCurrentMonth||!(!g.isPrevMonth||!g.showBefore)||!(!g.isNextMonth||!g.showAfter)},this.nextVisible=function(){for(var g=this;!g.visible();){var x=g.next();if(!x)return null;g=new c(x)}return g},this.previous=function(){var g=this;if(g.x>0)return{month:g.month,x:g.x-1,y:g.y};if(i.months[g.month],g.y>0)return{month:g.month,x:6,y:g.y-1};if(g.month>0){var x=i.months[g.month-1];return{month:g.month-1,x:6,y:x.rowCount-1}}return null},this.previousVisible=function(){for(var g=this;!g.visible();){var x=g.previous();if(!x)return null;g=new c(x)}return g},this.cell=function(){return i.months[this.month].cells[this.x][this.y]},this.date=function(){return this.cell().day},this.before=function(g){return this.date()<new c(g).date()}};this.Cd=function(u){var l=this.parentNode,f=this.parentNode.month,p=this.x,g=this.y,x=f.cells[p][g].day;if(f.cells[p][g].isClickable){i.clearSelection(),i.selectionDay=x;var x=i.selectionDay;switch(i.Ad()){case"none":i.selectionStart=x,i.selectionEnd=x;break;case"day":if(i.autoFocusOnClick){var S=x;if(x<i.Jd()||x>=i.Kd())return void i.select(x)}var m=f.cells[p][g];i.Dd(l,p,g),i.selected.push(m),i.selectionStart=m.day,i.selectionEnd=m.day;break;case"week":if(i.autoFocusOnClick){var S=f.cells[0][g].day,y=f.cells[6][g].day;if(S.firstDayOfMonth()===y.firstDayOfMonth()&&(S<i.Jd()||y>=i.Kd()))return void i.select(x)}for(var w=0;w<7;w++)i.Dd(l,w,g),i.selected.push(f.cells[w][g]);i.selectionStart=f.cells[0][g].day,i.selectionEnd=f.cells[6][g].day;break;case"month":if(i.autoFocusOnClick){var S=x;if(x<i.Jd()||x>=i.Kd())return void i.select(x)}for(var S=null,y=null,g=0;g<6;g++)for(var p=0;p<7;p++){var m=f.cells[p][g];m&&m.day.getYear()===x.getYear()&&m.day.getMonth()===x.getMonth()&&(i.Dd(l,p,g),i.selected.push(m),S===null&&(S=m.day),y=m.day)}i.selectionStart=S,i.selectionEnd=y;break;default:throw"unknown selectMode"}i.Gd(),i.O()}},this.O=function(u){var l=i.selectionStart,f=i.selectionEnd.addDays(1),p=t.DateUtil.daysDiff(l,f),g=i.selectionDay;if(u=u||{},i.ta()){var x={};if(x.start=l,x.end=f,x.day=g,x.days=p,x.mode=u.mode||i.selectMode,x.preventDefault=function(){this.preventDefault.value=!0},typeof i.onTimeRangeSelect=="function"&&(i.onTimeRangeSelect(x),x.preventDefault.value))return;switch(i.timeRangeSelectedHandling){case"Bind":if(typeof bound=="object"){var S={};S.start=l,S.end=f,S.days=p,S.day=g,bound.commandCallBack(i.command,S)}break;case"None":break;case"PostBack":i.timeRangeSelectedPostBack(l,f,g)}typeof i.onTimeRangeSelected=="function"&&i.onTimeRangeSelected(x)}else switch(i.timeRangeSelectedHandling){case"Bind":if(typeof bound=="object"){var S={};S.start=l,S.end=f,S.days=p,S.day=g,bound.commandCallBack(i.command,S)}break;case"JavaScript":i.onTimeRangeSelected(l,f,g);break;case"None":break;case"PostBack":i.timeRangeSelectedPostBack(l,f,g)}},this.timeRangeSelectedPostBack=function(u,l,f,p){var g={};g.start=u,g.end=l,g.day=p,this.S("TimeRangeSelected",f,g)},this.xd=function(u){i.Zd(i.skipMonths)},this.wd=function(u){i.Zd(-i.skipMonths)},this.Zd=function(u){this.startDate=this.startDate.addMonths(u),this.fd(),this.nd(),this.Ld(),this.Gd(),this.Md(),this.Fd()},this.Jd=function(){return i.startDate.firstDayOfMonth()},this.Kd=function(){return i.startDate.firstDayOfMonth().addMonths(this.showMonths)},this.visibleStart=function(){return i.startDate.firstDayOfMonth().firstDayOfWeek(d.weekStarts())},this.visibleEnd=function(){return i.startDate.firstDayOfMonth().addMonths(this.showMonths-1).firstDayOfWeek(d.weekStarts()).addDays(42)},this.Md=function(){var u=this.visibleStart(),l=this.visibleEnd();if(i.ta()){var f={};if(f.start=u,f.end=l,f.preventDefault=function(){this.preventDefault.value=!0},typeof i.onVisibleRangeChange=="function"&&(i.onVisibleRangeChange(f),f.preventDefault.value))return;switch(this.visibleRangeChangedHandling){case"CallBack":this.visibleRangeChangedCallBack(null);break;case"PostBack":this.visibleRangeChangedPostBack(null);break}typeof i.onVisibleRangeChanged=="function"&&i.onVisibleRangeChanged(f)}else switch(this.visibleRangeChangedHandling){case"CallBack":this.visibleRangeChangedCallBack(null);break;case"PostBack":this.visibleRangeChangedPostBack(null);break;case"JavaScript":this.onVisibleRangeChanged(u,l);break}},this.visibleRangeChangedCallBack=function(u){var l={};this.U("Visible",u,l)},this.visibleRangeChangedPostBack=function(u){var l={};this.S("Visible",u,l)},this.W=function(f,l){var f=JSON.parse(f);i.items=f.Items,i.cells=f.Cells,i.cells?i.update():i.Fd()},this.Ld=function(){this.showToday&&this.todayPosition==="Top"&&this.$d();for(var u=0;u<this.showMonths;u++){var l=this._d(u);this.gd(u,l)}this.showToday&&this.todayPosition==="Bottom"&&this.$d(),this.root.style.height=this.ae()+"px",this.nav.preselection=document.createElement("div"),this.nav.preselection.style.position="absolute",this.nav.preselection.style.left="0px",this.nav.preselection.style.right="0px",this.nav.preselection.style.top="0px",this.root.appendChild(this.nav.preselection)},this.$d=function(){if(this.showToday){var u=document.createElement("span");u.className=this.L("_todaysection_button"),this.todayHtml?u.innerHTML=this.todayHtml:u.innerText=this.todayText,u.onclick=function(){if(typeof i.onTodayClick=="function"){var f={};if(f.preventDefault=function(){this.preventDefault.value=!0},i.onTodayClick(f),f.preventDefault.value)return}i.select(t.Date.today())};var l=document.createElement("div");l.style.height=this.todayHeight+"px",l.className=this.L("_todaysection"),l.appendChild(u),this.root.appendChild(l)}},this.ae=function(){var u=0;if(this.showToday&&(u+=this.todayHeight),this.orientation==="Horizontal"){for(var l=0;l<this.months.length;l++){var f=this.months[l];f.height>u&&(u=f.height)}return u}for(var l=0;l<this.months.length;l++){var f=this.months[l];u+=f.height}return u},this._d=function(u){if(this.internal.showLinks)return this.internal.showLinks;var l={};return l.left=u===0,l.right=u===0,l.before=u===0,l.after=u===this.showMonths-1,this.orientation==="Horizontal"&&(l.right=u===this.showMonths-1),l},this.wa={},this.wa.scope=null,this.wa.notify=function(){i.wa.scope&&i.wa.scope.$apply()},this.Sa={},this.Sa.Ra=null,this.Sa.Ob=function(u,l,f){var p=i.Sa.Ra;if(typeof p.createVNode=="function"&&typeof p.render=="function"){var g=p.createVNode(u,f);p.render(g,l)}},this.Sa.Wa=function(u,l){var f=i.Sa.Ra;if(typeof f.render=="function"){var p=u;t.isArray(u)&&(p=f.h("div",null,u)),f.render(p,l)}},this.Sa.Ua=function(u){var l=i.Sa.Ra;typeof l.render=="function"&&l.render(null,u)},this.internal={},this.internal.loadOptions=i.ub,this.internal.initialized=function(){return i.Ma},this.internal.enableVue=function(u){i.Sa.Ra=u},this.internal.vueRef=function(){return i.Sa.Ra},this.internal.vueRendering=function(){return i.Sa.Ta},this.internal.upd=function(u){i.Nd(u)},this.ca={};var d=this.ca;d.locale=function(){return t.Locale.find(i.locale)},d.weekStarts=function(){if(i.weekStarts==="Auto"){var u=d.locale();return u?u.weekStarts:0}return i.weekStarts},d.cellWidth=function(){if(i.zb.cellWidth)return i.zb.cellWidth;var u=i.be("_cell_dimensions").width;return u||(u=i.cellWidth),i.zb.cellWidth=u,u},d.od=function(){return i.ca.cellWidth()==="Auto"},this.clearSelection=function(){for(var u=0;u<this.selected.length;u++){var l=this.selected[u];i.Ed(l.parentNode,l.x,l.y)}this.selected=[]},this.ce=function(){return!!this.backendUrl&&(typeof i.items>"u"||!i.items)},this.events={},this.ha=function(){if(t.isArray(this.events.list)){this.items={};for(var u=0;u<this.events.list.length;u++){var l=this.events.list[u];if(!l.hidden){var f=this.ee(l);for(var p in f)this.items[p]=1}}}},this.be=function(u){var l=document.createElement("div");l.style.position="absolute",l.style.top="-2000px",l.style.left="-2000px",l.className=this.L(u);var f=i.root||document.body;f.appendChild(l);var p=l.offsetHeight,g=l.offsetWidth;f.removeChild(l);var x={};return x.height=p,x.width=g,x},this.ee=function(u){for(var l=new t.Date(u.start),f=new t.Date(u.end),p={},g=l.getDatePart();g.getTime()<=f.getTime();)p[g.toStringSortable()]=1,g=g.addDays(1);return p},this.show=function(){i.visible=!0,i.root.style.display=""},this.hide=function(){i.visible=!1,i.root.style.display="none"},this.yb=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if(typeof this.id!="string")throw"DayPilot.Navigator() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Navigator: The placeholder element not found: '"+n+"'."}this.root=this.nav.top},this.init=function(){if(this.yb(),!this.root.dp){if(this.Hd(),this.nd(),this.Ld(),this.ha(),this.Fd(),this.aa(),this.fe(),this.rb(),this.ce()&&this.Md(),this.Ma=!0,this.xb(),this.Id){var u=this.Id;this.select(u.date1,u.date2,u.options),this.Id=null}return this}},this.fe=function(){i.nav.top.onmousedown=this.Wd,i.nav.top.onmousemove=this.Xd},this.rb=function(){t.re(document,"mouseup",i.ge)},this.ge=function(u){if(o.start&&o.end){var l=t.mo3(i.nav.top,u);if(l.x===o.start.coords.x&&l.y===o.start.coords.y)return o.start=null,void o.clear();o.clear();var f=o.ordered();f.start=new c(f.start).nextVisible(),f.end=new c(f.end).previousVisible(),i.selectionDay=new c(f.start).date(),i.selectionStart=i.selectionDay,i.selectionEnd=new c(f.end).date(),o.start=null,o.end=null,i.fd(),i.nd(),i.Ld(),i.Fd(),i.Gd(),i.O({mode:"FreeHand"})}o.start=null,o.end=null},this.dispose=function(){var u=i;u.root&&(u.root.removeAttribute("style"),u.root.removeAttribute("class"),u.root.dp=null,u.root.innerHTML=null,u.root=null,u.Q=!0)},this.disposed=function(){return this.Q},this.aa=function(){this.root.dispose=this.dispose},this.Init=this.init,this.ub(s)},typeof jQuery<"u"&&function(n){n.fn.daypilotNavigator=function(s){var i=null,o=this.each(function(){if(!this.daypilot){var c=new t.Navigator(this.id);this.daypilot=c;for(var d in s)c[d]=s[d];c.Init(),i||(i=c)}});return this.length===1?i:o}}(jQuery),function(){var n=t.am();n&&n.directive("daypilotNavigator",["$parse",function(s){return{restrict:"E",template:"<div id='{{id}}'></div>",compile:function(i,o){return i.replaceWith(this.template.replace("{{id}}",o.id)),function(c,d,u){var l=new t.Navigator(d[0]);l.wa.scope=c,l.init();var f=u.id;f&&(c[f]=l);var p=u.publishAs;p&&(0,s(p).assign)(c,l);for(var g in u)if(g.indexOf("on")===0){var x=t.Util.shouldApply(g);x?function(w){l[w]=function(C){var E=s(u[w]);c.$apply(function(){E(c,{args:C})})}}(g):function(w){l[w]=function(C){s(u[w])(c,{args:C})}}(g)}var S=c.$watch,m=u.config||u.daypilotConfig,y=u.events||u.daypilotEvents;S.call(c,m,function(w,C){for(var E in w)l[E]=w[E];l.update()},!0),S.call(c,y,function(w){l.events.list=w,l.ha(),l.Fd()},!0)}}}}])}(),t.Navigator.def={},typeof Sys<"u"&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(e),typeof e>"u")var e={};return typeof e.Global>"u"&&(e.Global={}),function(t){function r(d){var u=d.touches[0].pageX,l=d.touches[0].pageY,f={};return f.x=u,f.y=l,f}if(typeof t.Scheduler>"u"){var n=navigator.userAgent.indexOf("iPad")>-1||navigator.userAgent.indexOf("iPhone")>-1,s={},i=function(){},o=function(){return document.body},c=function(){return document.createElement("div")};t.Scheduler=function(d,u){this.v="2025.3.710-lite";var l=this;this.isScheduler=!0,this.id=d,this.beforeCellRenderCaching=!0,this.businessBeginsHour=9,this.businessEndsHour=18,this.businessWeekends=!1,this.cellDuration=60,this.cellGroupBy="Day",this.cellSweeping=!0,this.cellSweepingCacheSize=1e3,this.cellWidth=40,this.cellsMarkBusiness=!0,this.cssClassPrefix="scheduler_default",this.days=1,this.durationBarHeight=3,this.durationBarVisible=!0,this.dynamicEventRendering="Progressive",this.dynamicEventRenderingMargin=50,this.dynamicEventRenderingMarginX=null,this.dynamicEventRenderingMarginY=null,this.dynamicEventRenderingCacheSweeping=!1,this.dynamicEventRenderingCacheSize=200,this.eventBorderRadius=null,this.eventEndSpec="DateTime",this.eventHeight=35,this.eventMinWidth=1,this.eventResizeMargin=5,this.eventTapAndHoldHandling="Move",this.eventTextWrappingEnabled=!1,this.eventsLoadMethod="GET",this.floatingEvents=!n,this.floatingTimeHeaders=!0,this.headerHeight=30,this.heightSpec="Max",this.height=600,this.locale="en-us",this.progressiveRowRendering=!0,this.progressiveRowRenderingPreload=25,this.rowHeaderWidth=80,this.rowMarginTop=0,this.rowMarginBottom=0,this.rowsLoadMethod="GET",this.scale="CellDuration",this.scrollDelayEvents=200,this.scrollDelayCells=n?100:0,this.scrollDelayFloats=0,this.scrollDelayRows=0,this.showToolTip=!0,this.snapToGrid=!0,this.startDate=t.Date.today(),this.tapAndHoldTimeout=300,this.timeHeaders=[{groupBy:"Default"},{groupBy:"Cell"}],this.timeHeaderTextWrappingEnabled=!1,this.timeFormat="Auto",this.useEventBoxes="Always",this.visible=!0,this.weekStarts="Auto",this.width=null,this.xssProtection="Enabled",this.eventClickHandling="Enabled",this.eventDeleteHandling="Disabled",this.eventMoveHandling="Update",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.timeHeaderClickHandling="Enabled",this.timeHeaderRightClickHandling="Enabled",this.timeRangeClickHandling="Enabled",this.timeRangeSelectedHandling="Enabled",this.onEventClick=null,this.onEventClicked=null,this.onEventMove=null,this.onEventMoved=null,this.onEventResize=null,this.onEventResized=null,this.onRowClick=null,this.onRowClicked=null,this.onTimeHeaderClick=null,this.onTimeHeaderClicked=null,this.onTimeHeaderRightClick=null,this.onTimeHeaderRightClicked=null,this.onTimeRangeClick=null,this.onTimeRangeClicked=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.onBeforeCellRender=null,this.onBeforeEventRender=null,this.onBeforeRowHeaderRender=null,this.onBeforeTimeHeaderRender=null,this.onAfterUpdate=null,this.Q=!1,this.he=-1,this.ie=!0,this.rowlist=[],this.events={},this.cells={},this.elements={},this.elements.events=[],this.elements.bars=[],this.elements.text=[],this.elements.cells=[],this.elements.linesVertical=[],this.elements.range=[],this.elements.timeHeader=[],this.zb={},this.zb.cells=[],this.zb.linesVertical={},this.zb.linesHorizontal={},this.zb.timeHeaderGroups=[],this.zb.timeHeader={},this.zb.events=[],this.nav={},this.scrollTo=function(m){l.je(m)},this.je=function(m){if(m){if(!l.Ma)return void(l.ke=m);var y;if(m instanceof t.Date)y=this.getPixels(m).left;else if(typeof m=="string")y=this.getPixels(new t.Date(m)).left;else{if(typeof m!="number")throw new t.Exception("Invalid scrollTo() parameter. Accepted parameters: string (ISO date), number (pixels), DayPilot.Date object");y=m}var w=l.le.clientWidth,C=l.nav.scroll.clientWidth;y<0&&(y=0),y>w-C&&(y=w-C),l.me(y)}},this.scrollToResource=function(m){t.complete(function(){var y;if(typeof m=="string"||typeof m=="number")y=l.ne(m);else{if(!(m instanceof t.Row))throw new t.Exception("Invalid scrollToResource() argument: id or DayPilot.Row expected");y=l.ne(m.id)}y&&setTimeout(function(){var w=y.top;l.nav.scroll.scrollTop=w},100)})},this.oe=function(){if(this.floatingTimeHeaders&&this.timeHeader){var m=l.pe();if(m){l.qe();for(var y=m.pixels.left,w=m.pixels.right+m.sw,C=[],E=0;E<this.timeHeader.length;E++)for(var N=0;N<this.timeHeader[E].length;N++){var k=this.timeHeader[E][N],A=k.left,T=k.left+k.width,P=null;if(A<y&&y<T&&(P={},P.x=N,P.y=E,P.marginLeft=y-A,P.marginRight=0,P.div=l.zb.timeHeader[N+"_"+E],C.push(P)),A<w&&w<T){P||(P={},P.x=N,P.y=E,P.marginLeft=0,P.div=l.zb.timeHeader[N+"_"+E],C.push(P)),P.marginRight=T-w;break}}for(var M=0;M<C.length;M++){var P=C[M];l.se(P.div,P.marginLeft,P.marginRight)}}}},this.te=function(){l.oe(),l.ve()},this.we={};var f=l.we;f.xe=function(m,y,w,C){var E=m,N=m+w,k=y,A=y+C;return l.elements.events.filter(function(T){var P=T.event,M=P.part.left,O=P.part.left+P.part.width,R=l.rowlist[P.part.dayIndex],L=R.top+P.part.top,B=L+l.eventHeight;if(t.Util.overlaps(M,O,E,N)&&t.Util.overlaps(L,B,k,A))return!0})},f.ye=function(){var m=[],y=l.pe();if(!y)return m;for(var w=y.pixels.left,C=0;C<l.elements.events.length;C++){var E=l.elements.events[C],N=E.event,k=N.part.left,A=N.part.left+N.part.width;k<w&&w<A&&m.push(E)}return m.area=y,m},this.ve=function(){if(this.floatingEvents){var m=f.ye();l.ze=performance.now(),m.forEach(function(y){var w=y.event,C=m.area.pixels.left,E=w.part.left,N=C-E;l.Ae(y,N,0)}),l.Be()}},this.elements.sections=[],this.elements.hsections=[],this.se=function(m,y,w){var C=c();C.className=l.L("_timeheader_float"),C.style.position="absolute",C.style.left=y+"px",C.style.right=w+"px",C.style.top="0px",C.style.bottom="0px",C.style.overflow="hidden";var E=c();E.className=l.L("_timeheader_float_inner");var N=m.cell.th;E.innerHTML=l.ab(N.text,N.html),N.fontColor&&(E.style.color=N.fontColor),C.appendChild(E),C.Ce={marginLeft:y,marginRight:w},m.section=C,m.insertBefore(C,m.firstChild.nextSibling),m.firstChild.innerHTML="",this.elements.hsections.push(m)},this.qe=function(){for(var m=0;m<this.elements.hsections.length;m++){var y=this.elements.hsections[m],w=y.cell;w&&y.firstChild&&(y.firstChild.innerHTML=l.ab(w.th.text,w.th.html)),t.de(y.section),y.section=null}this.elements.hsections=[]},this.Ae=function(m,y,w){var C=m.section;if(C)return C.Ce&&C.Ce.marginLeft===y&&C.Ce.marginRight===w?void(C.Ce.stamp=l.ze):(m.section.style.left=y+"px",m.section.style.right=w+"px",void(C.Ce={marginLeft:y,marginRight:w,stamp:l.ze}));C=c(),C.className=l.L("_event_float"),C.style.position="absolute",C.style.left=y+"px",C.style.right=w+"px",C.style.top="0px",C.style.bottom="0px",C.style.overflow="hidden";var E=c();E.className=l.L("_event_float_inner"),E.innerHTML=m.event.client.html(),C.appendChild(E),C.Ce={marginLeft:y,marginRight:w,stamp:l.ze},m.section=C,m.insertBefore(C,m.firstChild.nextSibling),m.firstChild.innerHTML="";var N=m.event,k=N.cache||N.data;k.fontColor&&(E.style.color=k.fontColor),this.elements.sections.push(m)},this.Be=function(){for(var m=[],y=0;y<this.elements.sections.length;y++){var w=this.elements.sections[y];if(w.section&&w.section.Ce&&w.section.Ce.stamp===l.ze)m.push(w);else{var C=w.event;C&&(w.firstChild.innerHTML=C.client.html()),t.de(w.section),w.section=null}}this.elements.sections=m},this.setScrollX=function(m){l.De.enabled?(l.De.scrollXRequested=m,setTimeout(function(){var y=l.De.scrollXRequested;typeof y=="number"&&l.me(y)},0)):l.me(m)},this.me=function(m){var y=l.nav.scroll,w=l.Ee();y.clientWidth+m>w&&(m=w-y.clientWidth),l.divTimeScroll.scrollLeft=m,y.scrollLeft=m},this.setScrollY=function(m){l.De.enabled?(l.De.scrollYRequested=m,setTimeout(function(){var y=l.De.scrollYRequested;typeof y=="number"&&l.Fe(y)},0)):l.Fe(m)},this.Fe=function(m){var y=l.nav.scroll,w=l.he;y.clientHeight+m>w&&(m=w-y.clientHeight),l.divResScroll.scrollTop=m,y.scrollTop=m},this.setScroll=function(m,y){l.setScrollX(m),l.setScrollY(y)},this.ma=function(){if(this.nav.scroll){(function(){var N=l.Ee();l.le.style.height=l.he+"px",l.le.style.width=N+"px",N>l.nav.scroll.clientWidth?l.nav.scroll.style.overflowX="auto":l.nav.scroll.style.overflowX="hidden"})();var m=1;this.nav.scroll.style.height="30px";var y=this.Za(),w=y+this.Ge()+m;if(y>=0&&(this.nav.scroll.style.height=y+"px",this.He.style.height=y+"px"),this.nav.divider&&((!w||isNaN(w)||w<0)&&(w=0),this.nav.divider.style.height=w+"px"),this.nav.top.style.height=w+"px",l.nav.resScrollSpace){var C=30;l.heightSpec==="Auto"&&(C=t.sh(l.nav.scroll)),l.nav.resScrollSpace.style.height=C+"px"}for(var E=0;E<this.elements.linesVertical.length;E++)this.elements.linesVertical[E].style.height=this.he+"px"}},this.Ie=function(){this.startDate=new t.Date(this.startDate).getDatePart(),this.timeHeader=[];var m=this.timeHeaders;m||(m=[{groupBy:this.cellGroupBy},{groupBy:"Cell"}]);for(var y=l.startDate.addDays(l.days),w=0;w<m.length;w++){var C=m[w].groupBy,E=m[w].format;C==="Default"&&(C=this.cellGroupBy);for(var N=[],k=l.startDate;k.ticks<y.ticks;){var A={};if(A.start=k,A.end=this.Je(A.start,C),A.start.ticks===A.end.ticks)break;A.left=this.getPixels(A.start).left;var T=this.getPixels(A.end).left,P=T-A.left;if(A.width=P,typeof E=="string"?A.text=A.start.toString(E,S.Ke()):A.text=this.Le(A,C),P>0){if(typeof this.onBeforeTimeHeaderRender=="function"){const M={};M.start=A.start,M.end=A.end,M.text=A.text,M.html=null,M.toolTip=l.ab(A.text),M.backColor=null,M.fontColor=null,M.level=this.timeHeader.length,M.cssClass=null;const O={};O.header=M,O.control=l,this.onBeforeTimeHeaderRender(O),A.text=M.text,A.html=M.html,A.backColor=M.backColor,A.fontColor=M.fontColor,A.toolTip=M.toolTip,A.areas=M.areas,A.cssClass=M.cssClass}N.push(A)}k=A.end}this.timeHeader.push(N)}},this.getPixels=function(m){var y=l.startDate.addDays(l.days);m=m.ticks>y.ticks?y.addTime(-1):m;var w=m.ticks-this.startDate.ticks,C=l.Cb(w),E=l.cellWidth,N=Math.floor(C/E),k=N*E;return{left:C,boxLeft:k,boxRight:k+E,i:N}},this.getDate=function(m,y,w){var C=this.Me(m,w);if(!C)return null;var E=C.x,N=l.Ne(E);if(!N)return null;var k=w&&!y?N.end:N.start;return y?k.addTime(this.Db(C.offset)):k},this.Me=function(m,y){y&&(m-=1);var w=Math.floor(m/l.cellWidth),C=l.Ne(w);if(!C)return null;var E={};return E.x=w,E.offset=m%l.cellWidth,E.cell=C,E},this.Oe=function(m){var y=m.ticks-this.startDate.ticks,w=60*l.Pe()*1e3;if(y<0)return{past:!0};var C=Math.floor(y/w);return{i:C,current:l.Ne(C)}},this.Cb=function(m){var y=60*l.Pe()*1e3,w=l.cellWidth;return Math.floor(w*m/y)},this.Db=function(m){var y=60*l.Pe()*1e3,w=l.cellWidth;return Math.floor(m/w*y)},this.Qe=function(m){t.Global.touch.start||s.Re||(l.Se={},l.va(this,m))},this.va=function(m,y){m.event&&l.Te(m,y)},this.xa=function(m){if(!t.Global.touch.active&&!t.Global.touch.start){var y=this.event;if(m.cancelBubble=!0,m.preventDefault(),!this.event.client.rightClickEnabled())return!1;l.Ue(m);var w={};if(w.e=y,w.div=this,w.originalEvent=m,w.preventDefault=function(){this.preventDefault.value=!0},typeof l.onEventRightClick=="function"&&(l.onEventRightClick(w),w.preventDefault.value))return!1;switch(l.eventRightClickHandling){case"ContextMenu":var C=y.client.contextMenu();C?C.show(y):l.contextMenu&&l.contextMenu.show(this.event)}return typeof l.onEventRightClicked=="function"&&l.onEventRightClicked(w),!1}},this.Ne=function(m){var y=l.Pe(),w=60*y*1e3;return{start:l.startDate.addTime(m*w),end:l.startDate.addTime((m+1)*w),left:m*l.cellWidth,width:l.cellWidth}},this.Te=function(m,y){if(typeof y=="boolean")throw new t.Exception("Invalid _eventClickSingle parameters");var w=m.event;if(w){var C=y.ctrlKey,E=y.metaKey;if(w.client.clickEnabled()){l.Ue(y);var N={};N.e=w,N.control=l,N.div=m,N.originalEvent=y,N.ctrl=C,N.meta=E,N.shift=y.shiftKey,N.preventDefault=function(){this.preventDefault.value=!0},N.toJSON=function(){return t.Util.copyProps(N,{},["e","ctrl","meta","shift"])},typeof l.onEventClick=="function"&&(l.onEventClick(N),N.preventDefault.value)||typeof l.onEventClicked=="function"&&l.onEventClicked(N)}}},this.ya=function(m){var y={};if(y.e=m,y.preventDefault=function(){this.preventDefault.value=!0},y.control=l,y.toJSON=function(){return t.Util.copyProps(y,{},["e"])},typeof l.onEventDelete!="function"||(l.onEventDelete(y),!y.preventDefault.value)){switch(l.eventDeleteHandling){case"Update":l.events.remove(m)}typeof l.onEventDeleted=="function"&&l.onEventDeleted(y)}},this.getScrollX=function(){return this.nav.scroll.scrollLeft},this.getScrollY=function(){return this.nav.scroll.scrollTop},this.K=function(m,y,w,C){if(this.eventResizeHandling!=="Disabled"){w=l.Ve(w);var E={};E.e=m,E.async=!1,E.loaded=function(){N()},E.newStart=y,E.newEnd=w,E.what=C,E.preventDefault=function(){this.preventDefault.value=!0},E.control=l,E.toJSON=function(){return t.Util.copyProps(E,{},["e","async","newStart","newEnd"])};var N=function(){if(!E.preventDefault.value){switch(E.loaded={},y=E.newStart,w=E.newEnd,l.eventResizeHandling){case"Update":l.We(E)}typeof l.onEventResized=="function"&&l.onEventResized(E)}};typeof l.onEventResize=="function"&&l.onEventResize(E),E.async||N()}},this.sb=function(m){m=m||{},clearTimeout(l.Xe),l.timeHeader=null,l.cellProperties={},l.Ie(),l.Ye(),l.events.Ze(),l.ca.Od(),l.clearSelection(),l.ha(),l.$e(),l._e(),l.tb(),l.af(),l.bf(),l.cf(),l.ia(),l.Y(),l.df(),l.ef={},l.ff(),l.ma(),l.gf(),m.immediateEvents?l.na():setTimeout(function(){l.na()},100),this.visible?l.ie!==l.visible&&this.show():this.hide(),this.ie=this.visible,this.te(),l.hf(),this.if()},this.if=function(){if(typeof l.onAfterUpdate=="function"){var m={};l.onAfterUpdate(m)}},this.update=function(m){if(!l.Ma)throw new t.Exception("You are trying to update a DayPilot.Scheduler object that hasn't been initialized.");if(l.Q)throw new t.Exception("You are trying to update a DayPilot.Scheduler object that has been disposed already. Calling .dispose() destroys the object and makes it unusable.");p.request(m)};var p={};p.timeout=null,p.options=null,p.enabled=!1,p.request=function(m){p.enabled?(clearTimeout(p.timeout),p.jf(m),p.timeout=setTimeout(p.doit)):(p.jf(m),p.doit())},p.jf=function(m){if(m){p.options||(p.options={});for(var y in m)p.options[y]=m[y]}},p.doit=function(){var m=p.options;return p.options=null,l.Ma?(l.ub(m),l.sb({immediateEvents:!0}),void l.xb()):void l.ub(m)},this.kf=function(m){m.forEach(function(y){l.lf(y.index)})},this.mf=function(m){return m&&m.length!==0?m[0].isRow?m:m.map(function(y){return l.rowlist[y]}):[]},this.nf=function(m,y,w){m=t.ua(m),m=l.mf(m),l.kf(m),this.of?(this.$e(),this.bf(),this.df(),m.forEach(function(C){l.pf(C.index)}),m.forEach(function(C){l.qf(C.index)}),this.gf(),this.rf()):(m.forEach(function(C){y||l.pf(C.index),l.qf(C.index)}),m.forEach(function(C){l.sf(C.index)}),l.gf()),l.ve(),w&&w(),this.ff()},this.Ve=function(m){return l.eventEndSpec==="DateTime"?m:m.getDatePart().ticks===m.ticks?m.addDays(-1):m.getDatePart()},this.tf=function(m){return l.eventEndSpec==="DateTime"?m:m.getDatePart().addDays(1)},this.uf=function(m){return l.eventEndSpec==="DateTime"?m:m.getDatePart()},this.M=function(m,y,w,C,E){if(l.vf=null,l.eventMoveHandling!=="Disabled"){w=l.Ve(w);var N={};N.e=m,N.newStart=y,N.newEnd=w,N.newResource=C,N.ctrl=!1,N.meta=!1,N.shift=!1,E&&(N.shift=E.shiftKey,N.ctrl=E.ctrlKey,N.meta=E.metaKey),N.control=l,N.areaData=t.Global.movingAreaData,N.toJSON=function(){return t.Util.copyProps(N,{},["e","newStart","newEnd","newResource","ctrl","meta","shift"])},N.preventDefault=function(){this.preventDefault.value=!0};var k=function(){if(N.loaded=function(){},N.preventDefault.value)return void l.wf();switch(y=N.newStart,w=N.newEnd,l.eventMoveHandling){case"Update":l.We(N)}l.wf(),typeof l.onEventMoved=="function"&&l.onEventMoved(N)};N.async=!1,N.loaded=function(){k()},typeof l.onEventMove=="function"&&l.onEventMove(N),N.async||k()}},this.We=function(m){var y=m.e,w=m.newStart,C=m.newEnd,E=m.newResource;y.start(w),y.end(C),y.resource(E),l.events.update(y),l.events.xf()},this.yf=function(m){if(m)if(m.args)l.O(m.args.start,m.args.end,m.args.resource);else{var y=l.zf(m);if(!y)return;l.O(y.start,y.end,y.resource)}},this.O=function(m,y,w){if(l.timeRangeSelectedHandling!=="Disabled"){var C=y;y=l.Ve(C);var E={};if(E.control=l,E.start=m,E.end=y,E.resource=w,E.preventDefault=function(){this.preventDefault.value=!0},E.toJSON=function(){return t.Util.copyProps(E,{},["start","end","resource"])},typeof l.onTimeRangeSelect=="function"){if(l.onTimeRangeSelect(E),E.preventDefault.value)return;m=E.start,y=E.end}y=l.tf(y),l.Af(l.Bf,m,y),l.Cf(l.Bf),typeof l.onTimeRangeSelected=="function"&&l.onTimeRangeSelected(E)}},this.Af=function(m,y,w){if(m){var C,E=w;y.getTime()<l.startDate.getTime()?(m.start.x=0,m.start.time=l.startDate.getTime()):(C=l.Oe(y),m.start.x=C.i,m.start.time=y);var N=l.startDate.addDays(l.days);E.getTime()>N.getTime()?(m.end.x=l.Df(),m.end.time=N.getTime()):(C=l.Oe(E.addMilliseconds(-1)),m.end.x=C.i,m.end.time=w)}},this.Ef=function(m,y){l.Ff(m,y)},this.Ff=function(m,y){var w={};w.resource=m,w.row=m,w.ctrl=y.ctrlKey,w.shift=y.shiftKey,w.meta=y.metaKey,w.originalEvent=y,w.preventDefault=function(){this.preventDefault.value=!0},typeof l.onRowClick=="function"&&(l.onRowClick(w),w.preventDefault.value)||typeof l.onRowClicked=="function"&&l.onRowClicked(w)},this.Gf=function(m){var y={};y.header=m,y.control=l,y.preventDefault=function(){this.preventDefault.value=!0},typeof l.onTimeHeaderClick=="function"&&(l.onTimeHeaderClick(y),y.preventDefault.value)||typeof l.onTimeHeaderClicked=="function"&&l.onTimeHeaderClicked(y)},this.getViewport=function(){var m=this.nav.scroll.scrollLeft,y=this.nav.scroll.scrollTop,w={},C=l.Hf(m,y),E=l.If(C),N=l.Ne(C.start.x),k=l.Ne(C.end.x);return w.start=l.getDate(m,!0),w.end=l.getDate(m+l.nav.scroll.clientWidth,!0,!0),w.resources=E,N&&(w.topLeft={start:N.start,end:N.end,x:C.start.x,y:C.start.y,resource:E[0]}),k&&(w.bottomRight={start:k.start,end:k.end,x:C.end.x,y:C.end.y,resource:E[E.length-1]}),w.rows=function(){return w.resources.map(function(A){return l.rows.find(A)})},w.events=function(){var A=[];return w.rows().forEach(function(T){A=A.concat(T.events.forRange(w.start,w.end))}),A},w},this.Hf=function(m,y){var w={};w.start={},w.end={};var C=l.Me(m),E=l.Me(m+l.nav.scroll.clientWidth);C&&(w.start.x=C.x),E&&(w.end.x=E.x);var N=y,k=y+l.nav.scroll.clientHeight;w.start.y=l.Jf(N).i,w.end.y=l.Jf(k).i,w.start.x=t.Util.atLeast(w.start.x,0);var A=l.Df();return w.end.x>=A&&(w.end.x=A-1),w},this.If=function(m){m||(m=this.Hf(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop));var y=[];y.ignoreToJSON=!0;for(var w=m.start.y;w<=m.end.y;w++){var C=l.rowlist[w];C&&y.push(C.id)}return y},this.L=function(m){var y=this.theme||this.cssClassPrefix;return y?y+m:""},this.tb=function(){l.nav.top.className!==l.L("_main")&&(l.nav.top.className=l.L("_main"),l.nav.dh1.className=l.L("_divider_horizontal"),l.nav.dh2.className=l.L("_divider_horizontal"),l.divResScroll.className=l.L("_rowheader_scroll"),l.nav.divider.className=l.L("_divider")+" "+l.L("_splitter"),l.nav.scroll.className=l.L("_scrollable"),l.le.className=l.L("_matrix")+" "+l.L("_grid_main"))},this.aa=function(){this.nav.top.dispose=this.dispose},this.dispose=function(){var m=l;if(m.Ma&&!m.Q){m.Q=!0;for(var y in m.Kf){var w=m.Kf[y];t.isArray(w)?w.forEach(function(C){clearTimeout(C)}):clearTimeout(w)}m.Y(),m.divCells=null,m.divCorner=null,m.divEvents=null,m.divHeader&&(m.divHeader.rows=null),m.divHeader=null,m.divLines=null,m.divNorth=null,m.divRange=null,m.divResScroll=null,m.divStretch=null,m.divTimeScroll=null,m.He=null,m.le.calendar=null,m.le=null,m.nav.top.onmousemove=null,m.nav.top.onmouseout=null,m.nav.top.dispose=null,m.nav.top.ontouchstart=null,m.nav.top.ontouchmove=null,m.nav.top.ontouchend=null,m.nav.top.removeAttribute("style"),m.nav.top.removeAttribute("class"),m.nav.top.innerHTML="",m.nav.top.dp=null,m.nav.top=null,m.nav.scroll.onscroll=null,m.nav.scroll.root=null,m.nav.scroll=null,s.sc(m),g=null}},this.disposed=function(){return l.Q},this.ba=function(m){var y=null;y=m.nodeType?m.event:m;var w=l.eventBorderRadius;typeof w=="number"&&(w+="px");var C=l.Lf(y),E=l.rowlist,N=l.eventHeight,k=y.part&&y.part.top&&E[y.part.dayIndex]?y.part.top+E[y.part.dayIndex].top:C.top,A=C.left,T=C.width,P=document.createElement("div");P.style.position="absolute",P.style.width=T+"px",P.style.height=N+"px",P.style.left=A+"px",P.style.top=k+"px",P.style.overflow="hidden";var M=c();return P.appendChild(M),P.className=this.L("_shadow"),M.className=this.L("_shadow_inner"),w&&(P.style.borderRadius=w,M.style.borderRadius=w),l.divShadow.appendChild(P),P.calendar=l,P},this.Jf=function(m){for(var y,w=l.rowlist,C={},E=0,N=0,k=w.length,A=0;A<k;A++){var T=w[A];if(N+=T.height,E=N-T.height,y=T,C.top=E,C.bottom=N,C.i=A,C.element=y,m<N)break}return C},this.Mf=function(m){if(m>this.rowlist.length-1)throw new t.Exception("Row index too high");for(var y=0,w=0;w<=m;w++)y+=this.rowlist[w].height;var C=this.rowlist[m];return{top:y-C.height,height:C.height,bottom:y,i:m,data:C}},this.events.find=function(m){if(!l.events.list||typeof l.events.list.length>"u")return null;if(typeof m=="function")return l.Nf(m);for(var y=l.events.list.length,w=0;w<y;w++)if(l.events.list[w].id===m)return new t.Event(l.events.list[w],l);return null},this.events.findAll=function(m){if(typeof m=="function"){for(var y=l.events.list.length,w=[],C=0;C<y;C++){var E=new t.Event(l.events.list[C],l);m(E)&&w.push(E)}return w}if(typeof m=="object")return l.events.findAll(function(N){for(var k in m)if(m[k]!==N.data[k])return!1;return!0});throw new t.Exception("function or object argument expected")},this.Nf=function(m){for(var y=l.events.list.length,w=0;w<y;w++){var C=new t.Event(l.events.list[w],l);if(m(C))return C}return null},this.events.focus=function(m){var y=l.Of(m);y&&y.focus()},this.events.scrollIntoView=function(m){if(l.Of(m)){var y=m.start(),w=l.getViewport();!t.Util.overlaps(w.start,w.end,m.start(),m.end())&&t.Util.overlaps(l.sa(),l.Pf(),m.start(),m.end())&&l.scrollTo(y,"fast","middle");var C=m.resource();l.getViewport().resources.indexOf(C)===-1&&l.scrollToResource(C)}},this.events.all=function(){for(var m=[],y=0;y<l.events.list.length;y++){var w=new t.Event(l.events.list[y],l);m.push(w)}return m},this.events.forRange=function(m,y){m=m?new t.Date(m):l.visibleStart(),y=y?new t.Date(y):l.visibleEnd();for(var w=[],C=0;C<l.events.list.length;C++){var E=new t.Event(l.events.list[C],l);t.Util.overlaps(E.start(),E.end(),m,y)&&w.push(E)}return w},this.events.load=function(m,y,w){if(!m)throw new t.Exception("events.load(): 'url' parameter required");var C=function(A){var T={};T.exception=A.exception,T.request=A.request,typeof w=="function"&&w(T)},E=function(A){var T,P=A.request;try{T=JSON.parse(P.responseText)}catch(R){var M={};return M.exception=R,void C(M)}if(t.isArray(T)){var O={};if(O.preventDefault=function(){this.preventDefault.value=!0},O.data=T,typeof y=="function"&&y(O),O.preventDefault.value)return;l.events.list=O.data,l.Ma&&l.update()}};if(l.eventsLoadMethod&&l.eventsLoadMethod.toUpperCase()==="POST")t.ajax({method:"POST",contentType:"application/json",data:{start:l.visibleStart().toString(),end:l.visibleEnd().toString()},url:m,success:E,error:C});else{var N=m,k="start="+l.visibleStart().toString()+"&end="+l.visibleEnd().toString();N+=N.indexOf("?")>-1?"&"+k:"?"+k,t.ajax({method:"GET",url:N,success:E,error:C})}},this.events.Qf=function(m){var y=[];return l.rowlist.forEach(function(w){l.Rf(w.index);for(var C=0;C<w.events.length;C++){var E=w.events[C].data;if(l.Sf(E,m)){y.push(w),w.events.splice(C,1);break}}}),y},this.events.Tf=function(m){if(!m)return null;for(var y=l.rowlist,w=0;w<y.length;w++){var C=y[w];l.Rf(C.index);for(var E=0;E<C.events.length;E++){var N=C.events[E];if(l.Sf(N.data,m))return C.events[E]}}return null},this.events.Uf=function(m){var y=[],w=l.Vf(),C=t.indexOf(l.events.list,m);l.Ab(C);var E=l.rowlist,N=!1;return E.forEach(function(k){if(!N){l.Rf(k.index);var A=l.Wf(m,k);A&&(typeof l.onBeforeEventRender=="function"&&(A.cache=l.zb.events[C]),y.push(k),w||(N=!0))}}),y},this.Sf=function(m,y){return t.Util.isSameEvent(m,y)},this.events.update=function(m,y,w){if(typeof m=="object"&&!(m instanceof t.Event)){var C=l.events.find(m.id);return l.events.remove(C),void l.events.add(m)}if(l.events.list.find(function(N){return l.Sf(N,m.data)})){l.De.Xf&&(l.De.skip=!0);var E=l.events.Qf(m.data);m.commit(),E=E.concat(l.events.Uf(m.data)),l.events.Yf(E)}},this.events.remove=function(m){if(m){if(typeof m=="string"||typeof m=="number"){var y=l.events.find(m);return void l.events.remove(y)}var w=l.Zf(m.data);w&&l.events.list.splice(w.index,1),l.De.Xf&&(l.De.skip=!0);var C=l.events.Qf(m.data);l.events.Yf(C)}},this.events.add=function(m,y,C){var C=C||{},E=C.renderOnly;m instanceof t.Event||(m=new t.Event(m)),m.calendar=l,l.events.list||(l.events.list=[]);var N=l.Zf(m);if(E){if(!N)throw new t.Exception("Unexpected: event not found in list")}else{if(N)throw new t.Exception("The event you are trying to add using DayPilot.Scheduler.events.add() is already loaded. A unique ID is required.");N||l.events.list.push(m.data)}if(l.Ma){l.De.Xf&&(l.De.skip=!0);var k=l.events.Uf(m.data);l.events.Yf(k)}},this.events.$f=function(m){var y=m instanceof t.Event?m.data:m,w=new t.Date(y.start),C=new t.Date(y.end);return!!l.events.list.find(function(E){if(l.Sf(y,E)||y.resource!==E.resource)return!1;var N=new t.Date(E.start),k=new t.Date(E.end);return t.Util.overlaps(w,C,N,k)})},this.events._f={rows:[]},this.events.ag=null,this.events.Ze=function(){clearTimeout(l.events.ag),l.events.ag=null,l.events._f.rows=[]},this.events.bg=0,this.events.Yf=function(m){var y=l.events._f.rows;m.forEach(function(C){y.push(C)}),l.events._f.rows=t.ua(y);var w=l.events.xf;l.events.ag||(l.events.ag=setTimeout(w,l.events.bg))},this.events.xf=function(){clearTimeout(l.events.ag),l.events.ag=null;var m=l.events._f.rows;l.events._f.rows=[],l.cg(m),l.dg(),l.Ma&&(l.of&&l.$e(),l.ma(),l.nf(m))},this.De={},this.De.enabled=!1,this.De.skip=!1,this.De.skipUpdate=function(){return l.De.skip},this.De.skipped=function(){l.De.skip=!1},this.De.eg=!1,this.De.Xf=!1,this.ld={},this.ld.reactDOM=null,this.ld.react=null,this.fg=function(m){var y=l.startDate;if(m.ticks===y.ticks)return m;var w=y;if(m.ticks<y.ticks){for(;w.ticks>m.ticks;)w=w.addTime(60*-l.Pe()*1e3);return w}var C=this.Oe(m);if(C.current)return C.current.start;throw new t.Exception("getBoxStart(): time not found")},this.Lf=function(m){var y=this.Jf(l.coords.y);if(typeof m.end!="function")throw new t.Exception("e.end function is not defined");if(!m.end())throw new t.Exception("e.end() returns null");var w=t.DateUtil.diff(m.rawend(),m.start());w=t.Util.atLeast(w,1);var C=S.gg(w),E=0,N=l.coords.x;C&&(E=m.start().getTime()-this.fg(m.start()).getTime());var k=0;if(s.hg)if(C){var A=m.start(),T=this.fg(A);k=s.hg.getTime()-T.getTime();var P=60*l.Pe()*1e3;k=Math.floor(k/P)*P}else k=s.hg.getTime()-m.start().getTime();var M=this.getDate(N,!0).addTime(-k);s.ig&&(M=m.start());var O=l.snapToGrid;O&&(M=this.fg(M)),M=M.addTime(E);var R=M.addTime(w),L=M,B=R,F=this.getPixels(L),$=this.getPixels(B.addTime(-1)),z=O?F.boxLeft:F.left,W=O&&C?$.boxRight-z:$.left-z,Z={};return Z.top=y.top,Z.left=z,Z.row=y.element,Z.rowIndex=y.i,Z.width=W,Z.start=M,Z.end=R,Z.relativeY=l.coords.y-y.top,Z},this.Pe=function(){switch(this.scale){case"CellDuration":return this.cellDuration;case"Minute":return 1;case"Hour":return 60;case"Day":return 1440;case"Week":return 10080}throw new t.Exception("can't guess cellDuration value")},this.jg=function(m){return m.end.ticks-m.start.ticks},this.kg=function(){var m=s.lg.width,y=s.lg.left,w=s.mg,C=s.ig.dpBorder,E=null,N=null,k=l.snapToGrid,A=!k;C==="left"?(E=l.getDate(y,A),N=w.rawend()):C==="right"&&(E=w.start(),N=l.getDate(y+m,A,!0)),s.lg.start=E,s.lg.end=N},this.ng=function(){var m=l.coords,y=s.ig.dpBorder,w=s.ig.event,C=w.part.left;y==="right"&&(C+=w.part.width);var E,N,k=s.ig.event.calendar.cellWidth,A=w.part.width,T=w.part.left,P=0,M=m.x-C,O=l.snapToGrid;if(y==="right"){if(E=T,O){var R=l.Me(A+T+M).cell,L=l.Me(T).cell,B=L.left+L.width-T;N=R.left+R.width-T,N<B&&(N=B)}else N=A+M;var F=l.Ee();T+N>F&&(N=F-T),s.lg.left=T,s.lg.width=N,s.lg.style.left=T+"px",s.lg.style.width=N+"px"}else{if(y!=="left")throw new t.Exception("Invalid dpBorder.");O?(M>=A&&(M=A),E=Math.floor((T+M+0)/k)*k,E<P&&(E=P)):E=T+M,N=A-(E-T);var $=T+A,z=k;O?l.useEventBoxes==="Never"&&(z=A<k?A:1):z=1,N<z&&(N=z,E=$-N),s.lg.left=E,s.lg.width=N,s.lg.style.left=E+"px",s.lg.style.width=N+"px"}l.kg()},this.og=function(){if(l.coords&&s.pg){var m=s.qg,y=this.Lf(s.pg);m.row=y.row,m.style.height=t.Util.atLeast(y.row.height,0)+"px",m.style.top=y.top+"px",m.style.left=y.left+"px",m.style.width=y.width+"px",m.start=y.start,m.end=y.end}},this.rg=function(){return this.rowHeaderWidth},this.sg=function(){return this.tg(l.progressiveRowRenderingPreload)},this.tg=function(m){m=m||0;var y=0,w=l.rowlist.length;if(l.progressiveRowRendering){var C=l.pe();y=C.yStart,w=C.yEnd+1,y=t.Util.atLeast(0,y-m),w=Math.min(l.rowlist.length,w+m)}return{start:y,end:w}},this._e=function(){function m(){var N=l.divHeader;N&&(N.rows=[]);var k=N;k&&(k.innerHTML="")}this.ug=!0;var y=this.rg();m();var w=this.divHeader;if(w.style.width=y+"px",w.style.height=l.he+"px",l.divHeader=w,l.progressiveRowRendering)i();else for(var C=this.rowlist.length,E=0;E<C;E++)l.vg(E);l.wg(),this.divResScroll.appendChild(w)},this.xg=function(){if(l.progressiveRowRendering)for(var m=this.sg(),y=0;y<l.rowlist.length;y++)m.start<=y&&y<m.end?l.vg(y):l.yg(y)},this.wg=function(){if(!l.ca.zg()){var m=l.divHeader,C=c();C.style.position="absolute",m.appendChild(C),l.nav.resScrollSpace=C;var y=c();y.style.position="relative",y.style.height="100%",y.className=this.L("_rowheader"),C.appendChild(y);var w=this.rg(),C=l.nav.resScrollSpace;C.style.width=w+"px",C.style.top=this.he+"px"}},this.yg=function(m){var y=l.divHeader.rows[m];y&&(t.de(y),l.divHeader.rows[m]=null)},this.lf=function(m){this.yg(m),this.vg(m)},this.vg=function(m){var y=l.rowlist,w=l.divHeader;if(w&&!w.rows[m]){var C=this.rg(),E=y[m];if(E){var N=this.Ag(E),k=c();k.style.position="absolute",k.style.top=E.top+"px",w.rows[m]=k,k.row=E,k.index=m;var A=N.row,T=this.rowHeaderWidth;k.style.width=T+"px",k.style.border="0px none";var P=A.toolTip||A.toolTip;P&&(k.title=P),typeof A.ariaLabel<"u"?k.setAttribute("aria-label",A.ariaLabel):k.setAttribute("aria-label",A.text||""),k.onclick=l.Bg;var M=c();M.style.width=T+"px",M.className=this.L("_rowheader"),A.cssClass&&t.Util.addClass(M,A.cssClass),A.cssClass&&t.Util.addClass(M,A.cssClass);var O=A.backColor||A.backColor;O&&(M.style.background=O);var R=A.fontColor||A.fontColor;R&&(M.style.color=R);var L=A.horizontalAlignment||A.horizontalAlignment;L&&(M.style.textAlign=L),M.style.height=E.height+"px",M.style.overflow="hidden",M.style.position="relative";var B=c();switch(B.className=this.L("_rowheader_inner"),L){case"right":B.style.justifyContent="flex-end";break;case"left":B.style.justifyContent="flex-start";break;case"center":B.style.justifyContent="center"}M.appendChild(B);const V=A.areas||[];var F=l.Cg(E);t.Areas.attach(M,F,{areas:V});var $=c();$.style.position="absolute",$.style.bottom="0px",$.style.width="100%",$.style.height="0px",$.style.boxSizing="content-box",$.style.borderBottom="1px solid transparent",$.className=this.L("_resourcedivider"),M.appendChild($);var z=c(),W=c();W.innerHTML=l.ab(A.text,A.html),W.className=l.L("_rowheader_inner_text"),k.textDiv=W,k.cellDiv=M,z.appendChild(W),B.appendChild(z);var Z=A.verticalAlignment||A.verticalAlignment;if(Z)switch(B.style.display="flex",Z){case"center":B.style.alignItems="center";break;case"top":B.style.alignItems="flex-start";break;case"bottom":B.style.alignItems="flex-end"}k.appendChild(M),w.appendChild(k),M.style.width=C+"px"}}},this.Bg=function(m){var y=this.row,w=l.Cg(y,this.index);l.Ef(w,m)},this.Dg=function(m){if(l.timeHeaderClickHandling!=="Disabled"){var y={};y.start=this.cell.start,y.level=this.cell.level,y.end=this.cell.end,y.end||(y.end=new t.Date(y.start).addMinutes(l.Pe())),l.Gf(y)}},this.Eg=function(m){if(l.timeHeaderRightClickHandling!=="Disabled"){m.cancelBubble=!0,m.preventDefault();var y={};y.start=this.cell.start,y.level=this.cell.level,y.end=this.cell.end,y.end||(y.end=new t.Date(y.start).addMinutes(l.Pe()));var w={};w.header=y,w.preventDefault=function(){this.preventDefault.value=!0},typeof l.onTimeHeaderRightClick=="function"&&(l.onTimeHeaderRightClick(w),w.preventDefault.value)||typeof l.onTimeHeaderRightClicked=="function"&&l.onTimeHeaderRightClicked(w)}},this.Cg=function(m){return new t.Row(m,l)},this.Rf=function(m){var y=l.rowlist,w=y[m];w.events||w.resetEvents()},this.Fg={},this.ha=function(m){if(m?this.events.list=m:this.events.list||(this.events.list=[]),this.events.list!=null&&!t.isArray(this.events.list))throw new t.Exception("DayPilot.Scheduler.events.list expects an array object");g.prepareRows(!0);var y,w=this.events.list,C=typeof this.onBeforeEventRender=="function";l.Fg={};for(var E=0;E<w.length;E++){var N=w[E];if(N){if(typeof N!="object")throw new t.Exception("Event data item must be an object");if(!N.start)throw new t.Exception("Event data item must specify 'start' property");if(N instanceof t.Event)throw new t.Exception("DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.");if(!(typeof N.id=="string"||typeof N.id=="number"))throw new t.Exception("All events must have an id property (string or number)");var k="_"+N.id;if(l.Fg[k])throw new t.Exception("Duplicate event IDs are not allowed: "+k);l.Fg[k]=!0,C&&this.Ab(E),y=l.Gg(N.resource);for(var A=0;y&&A<y.length;A++){var T=y[A],P=this.Wf(N,T);P&&C&&(P.cache=this.zb.events[E])}}}l.rowlist.forEach(function(M){l.Hg(M)}),l.dg()},this.Ig={};var g=this.Ig;g.rowcache={},g.prepareRows=function(m){g.rowcache={};for(var y=l.rowlist,w=0;w<y.length;w++){var C=y[w];if(m&&C.resetEvents(),l.Rf(C.index),C.id){var E=typeof C.id+"_"+C.id;g.rowcache[E]||(g.rowcache[E]=[]),g.rowcache[E].push(C)}}},g.loadEvent=function(m){},this.Gg=function(m){var y=typeof m+"_"+m;return g.rowcache[y]||[]},this.Vf=function(){for(var m={},y=0;y<l.rowlist.length;y++){var w=l.rowlist[y],C=w.id;if(m[C])return!0;m[C]=!0}return!1},this.Ab=function(m){var y=this.zb.events,w=this.events.list[m],C={};w instanceof t.Event&&(w=w.data);for(var E in w)C[E]=w[E];if(typeof C.start=="string"&&(C.start=new t.Date(C.start)),typeof C.end=="string"&&(C.end=new t.Date(C.end)),typeof this.onBeforeEventRender=="function"){var N={};N.e=C,N.data=C,this.onBeforeEventRender(N)}y[m]=C},this.Hg=function(m){m.lines=[],m.sections=null,m.events.sort(this.Bb);for(var y=0;y<m.events.length;y++){var w=m.events[y];m.putIntoLine(w)}},this.cg=function(m){m=t.ua(m),m=l.mf(m),m.forEach(function(y){l.Hg(y)}),m.forEach(function(y){l.Jg(y)})},this.Wf=function(m,y){var w=new t.Date(m.start),C=new t.Date(m.end);C=l.tf(C);var E=w.ticks,N=C.ticks,k=l.startDate.ticks,A=l.startDate.addDays(l.days).ticks;if(N<E)return null;var T=null;if(typeof l.onBeforeEventRender=="function"){var P=t.indexOf(l.events.list,m);T=l.zb.events[P]}if(y.id!==m.resource||(N<=k||E>=A)&&(E!==N||E!==k))return null;var M=new t.Event(m,l);M.part.dayIndex=l.rowlist.indexOf(y),M.part.start=k<E?w:l.startDate,M.part.end=A>N?C:l.startDate.addDays(l.days);var O=this.getPixels(M.part.start),R=this.getPixels(M.part.end.addTime(-1));M.part.start===M.part.end&&(R=this.getPixels(M.part.end.addMilliseconds(1)));var L=O.left,B=R.left;if(S.gg(N-E)){var F=O.boxLeft,$=R.boxRight;M.part.left=F,M.part.width=$-F,M.part.barLeft=Math.max(L-M.part.left,0),M.part.barWidth=Math.max(B-L,1)}else M.part.left=L,M.part.width=Math.max(B-L,1),M.part.barLeft=0,M.part.barWidth=Math.max(B-L-1,1);var z=l.eventMinWidth;return M.part.width=Math.max(M.part.width,z),M.part.right=M.part.left+M.part.width,M.cache=T,y.events.push(M),M},this.Bb=function(m,y){if(!(m&&y&&m.start&&y.start))return 0;var w=m.start().ticks-y.start().ticks;return w!==0?w:y.end().ticks-m.end().ticks},this.rows={},this.rows.all=function(){for(var m=[],y=0;y<l.rowlist.length;y++){var w=l.Cg(l.rowlist[y]);m.push(w)}return m},this.rows.each=function(m){l.rows.all().forEach(m)},this.rows.forEach=function(m){l.rows.all().forEach(m)},this.rows.find=function(m,y){if(typeof m=="string"||typeof m=="number"||!m&&y){var w=l.Gg(m);m||(w=l.rowlist);var C=null;return typeof y=="string"||y instanceof t.Date?(y=new t.Date(y),C=w.find(function(k){return y===k.start})):C=w[0],C?new t.Row(C,l):null}if(typeof m!="function")throw new t.Exception("Invalid rows.find() argument: id or function expected");var E=y||0,N=l.rowlist.find(function(k,A){return!(A<E)&&m(l.Cg(k))});if(N)return l.Cg(N)},this.rows.load=function(m,y,w){if(!m)throw new t.Exception("rows.load(): 'url' parameter required");var C=function(N){var k={};k.exception=N.exception,k.request=N.request,typeof w=="function"&&w(k)},E=function(N){var k,A=N.request;try{k=JSON.parse(A.responseText)}catch(M){var T={};return T.exception=M,void C(T)}if(t.isArray(k)){var P={};if(P.preventDefault=function(){this.preventDefault.value=!0},P.data=k,typeof y=="function"&&y(P),P.preventDefault.value)return;l.resources=P.data,l.Ma&&l.update()}};l.rowsLoadMethod&&l.rowsLoadMethod.toUpperCase()==="POST"?t.ajax({method:"POST",url:m,success:E,error:C}):t.ajax({method:"GET",url:m,success:E,error:C})},this.rows.remove=function(m){if(typeof m=="number"||typeof m=="string"){var y=l.rows.find(m);if(!y)throw new t.Exception("The row to be removed was not found");return void l.rows.remove(y)}var w=m.$.row.resource,C=t.indexOf(l.resources,w);l.resources.splice(C,1),l.update()},this.rows.add=function(m){l.resources.push(m),l.sb()},this.rows.update=function(A){if(!(A instanceof t.Row||typeof A=="object"))throw new t.Exception("DayPilot.Scheduler.rows.update() expects a DayPilot.Row object or a data object.");if(!(A instanceof t.Row)){var y=A;if(A=l.rows.find(y.id),!A)return;A.data=y}var w=A.index,C=l.rowlist,E=C[w],N=A.data,k=l.Kg(N),A=l.Lg(k);A.level=E.level,A.index=w,A.top=E.top,A.height=E.height,C[w]=A,A.resetEvents(),l.Rf(A.index),l.Mg(A),l.Hg(A),l.lf(A.index),l.df(),l.gf()},this.Mg=function(m){for(var y=l.events.list,w=y.length,C=typeof l.onBeforeEventRender=="function",E=0;E<w;E++){var N=y[E];if(N){if(N instanceof t.Event)throw new t.Exception("DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.");if(N.resource===m.id){C&&this.Ab(E);var k=this.Wf(N,m);k&&C&&(k.cache=this.zb.events[E])}}}},this.Ye=function(){var m=this.resources;if(m!=null&&!t.isArray(m))throw new t.Exception("DayPilot.Scheduler.resources expects an array object");m=m||[],l.rowlist=[],this.Ng(m)},this.sa=function(){return new t.Date(this.startDate)},this.Pf=function(){return new t.Date(l.startDate).addDays(l.days)},this.visibleStart=function(){return this.sa()},this.visibleEnd=function(){return this.Pf()},this.Lg=function(m){var y={};return y.backColor=m.backColor,y.fontColor=m.fontColor,y.cssClass=m.cssClass,y.name=m.name,y.html=l.ab(m.name,m.html),y.id=m.id,y.toolTip=m.toolTip,y.areas=m.areas,y.tags=m.tags,y.height=l.eventHeight,y.level=0,y.resource=m.Ce,y.lines=[],y.isRow=!0,y.getHeight=function(){return Math.max(l.eventHeight,this.lines.length*l.eventHeight)},y.resetEvents=function(){var w=this;w.events=[],w.events.forRange=function(C,E){C=new t.Date(C),E=E?new t.Date(E):l.startDate.addDays(l.days);for(var N=[],k=0;k<w.events.length;k++){var A=w.events[k],T=l.tf(A.end());t.Util.overlaps(A.start(),T,C,E)&&N.push(A)}return N}},y.Og=function(){var w=[];return w.add=function(C){this.push(C)},w.isFree=function(C,E,N){for(var k=C+E-1,A=this.length,T=0;T<A;T++){var P=this[T];if(!(k<P.part.left||C>P.part.left+P.part.width-1)){if(t.contains(N,P.data))continue;return!1}}return!0},w},y.findFreeLine=function(w,C){for(var E=0;E<this.lines.length;E++){var N=this.lines[E];if(N.isFree(w,C))return E}var N=y.Og();return this.lines.push(N),this.lines.length-1},y.putIntoLine=function(w){var C=y.findFreeLine(w.part.left,w.part.width);return this.lines[C].add(w),C},y},this.Ng=function(m){if(m){for(var y=l.rowlist,w=0;w<m.length;w++)if(m[w]){var C={};C.index=w;var E=this.Kg(m[w],C),N=l.Lg(E,parent);N.index=w,y.push(N)}}},this.Ag=function(m){var y={};return y.row=this.Cg(m),t.Util.copyProps(m,y.row,["html","backColor","fontColor","cssClass","toolTip","areas"]),typeof this.onBeforeRowHeaderRender=="function"&&this.onBeforeRowHeaderRender(y),y},this.Kg=function(m,y){var w={get $data(){return this.Ce}};for(var C in y)w[C]=y[C];for(var C in m)w[C]=m[C];return w.html=l.ab(m.name,m.html),w.Ce=m,w},this.Pg=function(){this.nav.top.dp=this,this.nav.top.innerHTML="",t.Util.addClass(this.nav.top,this.L("_main")),this.nav.top.setAttribute("role","region"),this.nav.top.setAttribute("aria-label","scheduler"),this.nav.top.style.userSelect="none",this.nav.top.style.webkitUserSelect="none",this.nav.top.style.WebkitTapHighlightColor="rgba(0,0,0,0)",this.nav.top.style.WebkitTouchCallout="none",this.width&&(this.nav.top.style.width=this.width),this.nav.top.style.lineHeight="1.2",this.nav.top.style.position="relative",this.visible||(this.nav.top.style.display="none"),this.nav.top.ontouchstart=x.Qg,this.nav.top.ontouchmove=x.Rg,this.nav.top.ontouchend=x.Sg;var m=this.rowHeaderWidth,y=c();y.style.position="absolute",y.style.left="0px",y.style.width=m+"px";var w=c();w.style.height="0px",w.style.boxSizing="content-box",w.style.borderTop="1px solid transparent",w.className=this.L("_divider_horizontal"),this.nav.dh1=w,this.nav.left=y,y.appendChild(this.gb()),y.appendChild(w),y.appendChild(this.Tg());var C=c();C.style.position="absolute",C.style.left=m+"px",C.style.width="1px",C.style.height=this.Ge()+this.Za()+"px",C.className=this.L("_splitter"),this.nav.divider=C;var E=c();E.style.marginLeft=m+1+"px",E.style.position="relative",this.nav.right=E;var N=c();N.style.position="absolute",N.style.top=this.Ge()+"px",N.style.width="100%",N.style.height="1px",N.style.boxSizing="border-box",N.style.borderBottom="1px solid transparent",N.setAttribute("data-dh2","true"),N.className=this.L("_divider_horizontal"),this.nav.dh2=N,E.appendChild(l.Ug()),E.appendChild(l.Vg()),E.appendChild(N);var k=c();k.style.clear="left";var A=c();A.style.height="1px",A.style.position="absolute",A.style.left="0px",A.style.right="0px",A.style.display="none",A.className=this.L("_divider_horizontal"),this.nav.dividerTop=A;var T=c();T.style.height="1px",T.style.position="absolute",T.style.left="0px",T.style.right="0px",T.style.display="none",T.className=this.L("_divider_horizontal")+" "+this.L("_divider_horizontal_frozen_bottom"),this.nav.dividerBottom=T,this.nav.top.appendChild(y),this.nav.top.appendChild(C),this.nav.top.appendChild(E),this.nav.top.appendChild(k),this.nav.top.appendChild(A),this.nav.top.appendChild(T)},this.ia=function(){var m=this.Ge();this.nav.corner&&(this.nav.corner.style.height=m+"px"),this.divTimeScroll&&(this.divTimeScroll.style.height=m+"px"),this.divNorth&&(this.divNorth.style.height=m+"px"),this.nav.dh1&&this.nav.dh2&&(this.nav.dh1.style.top=m+"px",this.nav.dh2.style.top=m+"px"),this.nav.scroll.style.top=m+1+"px"},this.Wg=function(){var m=this.rowHeaderWidth;this.nav.corner&&(this.nav.corner.style.width=m+"px"),this.divResScroll.style.width=m+"px",this.nav.left.style.width=m+"px",this.nav.divider.style.left=m-1+"px",this.nav.right.style.marginLeft=m+"px"},this.Xg=function(){var m=this.rowHeaderWidth,y=this.divHeader;y.style.width=m+"px";for(var w=l.sg(),C=w.start;C<w.end;C++){var E=y.rows[C];if(E){var N=l.rowHeaderWidth;E.style.width=N+"px",E.firstChild.style.width=N+"px"}}l.nav.resScrollSpace&&(l.nav.resScrollSpace.style.width=m+"px")},this.cf=function(){this.Wg(),this.Xg()},this.gb=function(){var m=this.rowHeaderWidth,y=c();l.nav.corner=y,y.style.width=m+"px",y.style.height=this.Ge()+"px",y.style.overflow="hidden",y.style.position="relative",y.oncontextmenu=function(){return!1},y.className=this.L("_corner");var w=c();return w.style.position="absolute",w.style.top="0px",w.style.left="0px",w.style.right="0px",w.style.bottom="0px",w.className=this.L("_corner_inner"),w.innerHTML="&nbsp;",this.divCorner=w,y.appendChild(w),y},this.Ge=function(){return l.timeHeaders?l.timeHeaders.length*l.headerHeight:0},this.Yg=null,this.Tg=function(){var m=c();m.style.width=this.rowHeaderWidth+"px",m.style.height=this.Za()+"px",m.style.overflow="hidden",m.style.position="relative",m.className=l.L("_rowheader_scroll");var y=l.ca.zg();y&&(m.style.overflowY="auto"),m.ontouchstart=function(){s.Zg=!0},m.oncontextmenu=function(){return!1},m.onscroll=function(){if(l.Yg&&clearTimeout(l.Yg),y){var C=function(){var E=l.$g()-l.nav.scroll.offsetHeight;m.scrollTop=Math.min(m.scrollTop,E),l.nav.scroll.scrollTop=m.scrollTop};n?s.Zg&&(l.Yg=setTimeout(C,10)):l.Yg=setTimeout(C,10)}else l.Yg=setTimeout(function(){l.nav.scroll.scrollTop=m.scrollTop},500)},m.setAttribute("role","region"),m.setAttribute("aria-label","scheduler rows");var w=c();return this.divHeader=w,m.appendChild(w),this.divResScroll=m,this.He=m,m},this._g=null,this.ah=null,this.bh=function(){var m=function(){l.ch(),l.hf()},y=function(){var C=l.nav.top;if(C){if(!l._g)return l._g={},void(l._g.width=C.offsetWidth);l._g.width!==C.offsetWidth&&(l._g.width=C.offsetWidth,m())}};if(!l.ah){var w=new ResizeObserver(t.debounce(y,100));w.observe(l.nav.top),l.ah=w}},this.ch=function(){l.Q||(l.ma(),l.dh(),l.zb.drawArea=null)},this.dh=function(){var m=l.Bf;l.clearSelection(),l.Bf=m,l.Cf(m,{justDraw:!0})},this.Ug=function(){var m=c();m.style.overflow="hidden",m.style.display="block",m.style.position="absolute",m.style.top="0px",m.style.width="100%",m.style.height=this.Ge()+"px",m.style.overflow="hidden",m.className=l.L("_timeheader_scroll"),this.divTimeScroll=m;var y=c();return y.style.width=this.Ee()+5e3+"px",this.divNorth=y,m.appendChild(y),m},this.Za=function(){var m=0,y=l.heightSpec;return y==="Fixed"?this.height?this.height:0:(m=l.$g(),y==="Max"&&m>l.height?l.height:m)},this.$g=function(){var m;return this.he!==-1?(m=this.he,this.he>0&&l.nav.scroll.style.overflowX==="auto"&&(m+=t.sh(l.nav.scroll)+1)):m=this.rowlist.length*l.eventHeight,m},this.Vg=function(){var m=c();m.style.overflow="auto",m.style.overflowX="auto",m.style.overflowY="auto",m.style.height=this.Za()+"px",m.style.top=this.Ge()+1+"px",m.style.position="absolute",m.style.width="100%",m.className=this.L("_scrollable"),m.oncontextmenu=function(){return!1},this.nav.scroll=m,this.le=c();var y=this.le;y.style.userSelect="none",y.style.webkitUserSelect="none",y.calendar=this,y.style.position="absolute";var w=this.Ee();return w>0&&(y.style.width=w+"px"),y.onmousedown=this.eh,y.onmousemove=this.fh,y.onmouseup=this.gh,y.oncontextmenu=this.hh,y.className=this.L("_matrix"),this.divStretch=c(),this.divStretch.style.position="absolute",this.divStretch.style.height="1px",y.appendChild(this.divStretch),this.divCells=c(),this.divCells.style.position="absolute",this.divCells.oncontextmenu=this.hh,y.appendChild(this.divCells),this.divLines=c(),this.divLines.style.position="absolute",this.divLines.oncontextmenu=this.hh,y.appendChild(this.divLines),this.divSeparators=c(),this.divSeparators.style.position="absolute",this.divSeparators.oncontextmenu=this.hh,y.appendChild(this.divSeparators),this.divRange=c(),this.divRange.style.position="absolute",this.divRange.oncontextmenu=this.hh,y.appendChild(this.divRange),this.divEvents=c(),this.divEvents.style.position="absolute",y.appendChild(this.divEvents),this.divShadow=c(),this.divShadow.style.position="absolute",y.appendChild(this.divShadow),m.appendChild(y),m},this.rb=function(){s.ih||(s.ih=!0,t.re(document,"mouseup",s.ge),t.re(document,"touchmove",s.jh),t.re(document,"touchend",s.kh))},this.lh=function(){this.nav.scroll.root=this,this.nav.scroll.onscroll=this.hf,l.mh=this.nav.scroll.scrollLeft,l.nh=this.nav.scroll.scrollTop,this.divNorth&&(l.oh=this.divNorth.clientWidth)},this.ph={},this.ph.step=300,this.ph.delay=10,this.ph.mode="display",this.ph.layers=!1,this.Jg=function(m){for(var y=0,w=0;w<m.lines.length;w++){for(var C=m.lines[w],E=0;E<C.length;E++){var N=C[E];N.part.line=w,N.part.top=y+l.rowMarginTop,N.part.right=N.part.left+N.part.width}y+=l.eventHeight}},this.Xe=null,this.na=function(m){if(!l.Q){var y=this.ph.step;this.ph.mode==="display"?this.divEvents.style.display="none":this.ph.mode==="visibility"&&(this.divEvents.style.visibility="hidden"),this.divEvents.setAttribute("role","region"),this.divEvents.setAttribute("aria-label","scheduler events");var w=this.dynamicEventRendering==="Progressive",C=this.pe(),E=C.pixels.top,N=C.pixels.bottom;l.rowlist.filter(function(k){var A=k.top-l.dynamicEventRenderingMargin,T=A+k.height+2*l.dynamicEventRenderingMargin;return!w||!(N<=A||E>=T)}).forEach(function(k){l.Jg(k);for(var A=0;A<k.lines.length;A++)for(var T=k.lines[A],P=0;P<T.length;P++){var M=T[P],O=l.Va(M);if(m&&O&&(y--,y<=0))return l.divEvents.style.visibility="",l.divEvents.style.display="",void(l.Xe=setTimeout(function(){l.na(m)},l.ph.delay))}}),this.divEvents.style.display="",this.ve()}},this.qf=function(m){var y=l.rowlist[m];this.Jg(y);for(var w=0;w<y.lines.length;w++)for(var C=y.lines[w],E=0;E<C.length;E++){var N=C[E];this.Va(N)}},this.Y=function(){if(this.elements.events)for(var m=this.elements.events.length,y=0;y<m;y++){var w=this.elements.events[y];this.Pa(w)}this.elements.events=[]},this.pf=function(m){if(this.elements.events){for(var y=this.elements.events.length,w=[],C=0;C<y;C++){var E=this.elements.events[C];E.event.part.dayIndex===m&&(this.Pa(E),w.push(C))}for(var C=w.length-1;C>=0;C--)this.elements.events.splice(w[C],1)}},this.Pa=function(m){m.remove(),m.onclick=null,m.oncontextmenu=null,m.onmouseover=null,m.onmouseout=null,m.onmousemove=null,m.onmousedown=null,m.ondblclick=null,m.event&&(m.event.rendered=null,m.event=null)},this.qh=function(){if(this.dynamicEventRendering==="Progressive"&&l.dynamicEventRenderingCacheSweeping){var m=l.dynamicEventRenderingCacheSize||0;this.divEvents.style.display="none";for(var y=[],w=0,C=this.elements.events.length,E=C-1;E>=0;E--){var N=this.elements.events[E];this.rh(N.event)?m>0?(m--,y.unshift(N)):(this.Pa(N),w++):y.unshift(N)}this.elements.events=y,this.divEvents.style.display=""}},this.uh=function(m){for(var y=this.pe(),w=this.elements.cells.length,C=w-1;C>=0;C--){var E=this.elements.cells[C];y.xStart<E.coords.x&&E.coords.x<=y.xEnd&&y.yStart<E.coords.y&&E.coords.y<=y.yEnd||(m>0?m--:this.hb(E))}},this.hb=function(m){if(m&&m.coords){var y=m.coords.x,w=m.coords.y;t.rfa(l.elements.cells,m),t.de(m),l.zb.cells[y+"_"+w]=null}},this.vh=function(){var m=this.dynamicEventRendering==="Progressive";if(!this.nav.scroll)return!1;for(var y=this.nav.scroll.scrollTop,w=y+this.nav.scroll.clientHeight,C=0;C<this.rowlist.length;C++){var E=this.rowlist[C],N=E.top,k=E.top+E.height;if(!m||!(w<=N||y>=k))for(var A=0;A<E.lines.length;A++)for(var T=E.lines[A],P=0;P<T.length;P++){var M=T[P];if(this.wh(M))return!0}}return!1},this.wh=function(m){if(m.rendered)return!1;var y=this.dynamicEventRendering==="Progressive",w=this.nav.scroll.scrollLeft,C=w+this.nav.scroll.clientWidth,E=m.part.left,N=m.part.left+m.part.width;return!y||!(C<=E||w>=N)},this.rh=function(m){if(!m.rendered)return!0;var y=this.pe(),w=y.pixels.top,C=y.pixels.bottom,E=y.pixels.left-this.dynamicEventRenderingMargin,N=y.pixels.right+this.dynamicEventRenderingMargin,k=m.part.left,A=m.part.right,T=m.part.top,P=m.part.top+l.eventHeight;return N<=k||E>=A||C<=T||w>=P},this.Va=function(m,y){y=y||{};var w=y.forced;if(m.rendered)return!1;var C=this.dynamicEventRendering==="Progressive",E=m.part.dayIndex,N=l.divEvents,k=l.rowlist,A=k[E],T=A.top,P=this.pe(),M=P.pixels.left-this.dynamicEventRenderingMargin,O=P.pixels.right+this.dynamicEventRenderingMargin,R=P.pixels.top,L=P.pixels.bottom,B=m.part.left,F=m.part.left+m.part.width,$=m.part.top+T,z=$+l.eventHeight,W=O<=B||M>=F,Z=L<=$||R>=z;if(!w&&C&&(W||Z))return!1;var V=m.part.width,q=l.eventHeight,H=m.cache||m.data,K=H.borderRadius||l.eventBorderRadius;typeof K=="number"&&(K+="px"),V=t.Util.atLeast(0,V),q=t.Util.atLeast(0,q);var Y=c();Y.style.position="absolute",Y.style.left=m.part.left+"px",Y.style.top=T+m.part.top+"px",Y.style.width=V+"px",Y.style.height=q+"px",l.eventTextWrappingEnabled||(Y.style.whiteSpace="nowrap"),Y.style.overflow="hidden",Y.className=this.L("_event"),H.cssClass&&t.Util.addClass(Y,H.cssClass),typeof m.part.line=="number"&&t.Util.addClass(Y,this.L("_event_line"+m.part.line)),K&&(Y.style.borderRadius=K),this.showToolTip&&(Y.title=m.client.toolTip()||""),Y.onmousemove=this.xh,Y.onmousedown=this.yh,Y.onmouseup=this.zh,Y.ontouchstart=x.Ah,Y.ontouchmove=x.Bh,Y.ontouchend=x.Ch,m.client.clickEnabled()&&(Y.onclick=this.Qe),typeof H.ariaLabel<"u"?Y.setAttribute("aria-label",H.ariaLabel):Y.setAttribute("aria-label",H.text),Y.setAttribute("tabindex","-1");var re=c();re.className=l.L("_event_inner"),K&&(re.style.borderRadius=K),H.backColor&&(re.style.background=H.backColor),H.fontColor&&(re.style.color=H.fontColor),H.borderColor==="darker"&&H.backColor?re.style.borderColor=t.ColorUtil.darker(H.backColor,2):re.style.borderColor=H.borderColor,H.backImage&&(re.style.backgroundImage="url("+H.backImage+")",H.backRepeat&&(re.style.backgroundRepeat=H.backRepeat)),Y.appendChild(re);var me=m.start().getTime()===m.part.start.getTime(),de=m.rawend().getTime()===m.part.end.getTime();if(me||t.Util.addClass(Y,this.L("_event_continueleft")),de||t.Util.addClass(Y,this.L("_event_continueright")),m.client.barVisible()&&V>0){var he=100*m.part.barLeft/V,ee=Math.ceil(100*m.part.barWidth/V),ie=c();ie.className=this.L("_event_bar"),ie.style.position="absolute",H.barBackColor&&(ie.style.backgroundColor=H.barBackColor);var ye=c();ye.className=this.L("_event_bar_inner"),ye.style.left=he+"%",0<ee&&ee<=1?ye.style.width="1px":ye.style.width=ee+"%",H.barColor&&(ye.style.backgroundColor=H.barColor),H.barImageUrl&&(ye.style.backgroundImage="url("+H.barImageUrl+")"),ie.appendChild(ye),Y.appendChild(ie)}Y.row=E,Y.event=m,re.innerHTML=m.client.innerHTML();var le=[];return function(){if(l.eventDeleteHandling!=="Disabled"&&!H.deleteDisabled){var Te=l.durationBarVisible?l.durationBarHeight:0;le.push({v:"Hover",w:17,h:17,top:Te+2,right:2,css:l.L("_event_delete"),onClick:function(Ae){l.ya(Ae.source)}})}}(),H.areas&&(le=le.concat(H.areas)),t.Areas.attach(Y,m,{areas:le}),this.elements.events.push(Y),N.appendChild(Y),m.rendered=!0,!0},this.ab=function(m,y){return l.ca.da()?t.Util.escapeTextHtml(m,y):t.Util.isNullOrUndefined(y)?t.Util.isNullOrUndefined(m)?"":m:y},this.rf=function(){for(var m=0;m<this.elements.events.length;m++){var y=this.elements.events[m],w=y.event,C=w.part.dayIndex,E=l.rowlist[C],N=E.top,k=N+w.part.top,A=E.height,T=l.eventHeight;w.part.top+T>A&&(T=Math.max(0,A-w.part.top)),y.style.top=k+"px",y.style.height=T+"px"}},this.Dh=function(m){if(!m)return null;for(var y=0;y<l.elements.events.length;y++){var w=l.elements.events[y];if(w.event===m||w.event.data===m.data)return w}return null},this.Of=function(m){var y=l.events.Tf(m.data);if(!y)return null;var w=l.rowlist[y.part.dayIndex];return l.Jg(w),l.Va(y,{forced:!0}),l.Dh(y)},this.xh=function(m){for(var y=this;y&&!y.event;)y=y.parentNode;y.event,l.Eh(y,m),l.Ue(m)},this.Se={},this.yh=function(m){l.Ue(m);var y=t.Util.mouseButton(m);m.preventDefault(),m.stopPropagation(),y.left&&(this.style.cursor==="w-resize"||this.style.cursor==="e-resize"?(s.Re=!0,s.ig=this,s.mg=this.event,s.Fh=t.mc(m),o().style.cursor=this.style.cursor):(this.style.cursor==="move"||this.event.client.moveEnabled())&&l.Gh(this,m))},this.zh=function(m){t.Util.mouseButton(m).right&&l.xa.call(this,m)},this.Gh=function(m,y){var w=l.Se;l.Ue(y),w.Hh=!0,w.Se=m,w.pg=m.event,w.Fh=t.mc(y),w.Ih=t.mo3(m,y).x,w.hg=l.getDate(l.coords.x,!0)},this.Jh={};var x=l.Jh;typeof t.Global.touch>"u"&&(t.Global.touch={}),t.Global.touch.active=!1,t.Global.touch.start=!1,x.Kf=[],x.Ah=function(m){if(!t.Global.touch.active&&!t.Global.touch.start){m.stopPropagation(),x.Kh(),t.Global.touch.start=!0,t.Global.touch.active=!1;var y=this;l.coords=x.Lh(m);var w=l.tapAndHoldTimeout;x.Kf.push(setTimeout(function(){t.Global.touch.active=!0,t.Global.touch.start=!1,m.preventDefault();var C=y.event;switch(l.eventTapAndHoldHandling){case"Move":if(C.client.moveEnabled()){var E=r(m);x.Gh(y,E)}}},w))}},x.Bh=function(m){x.Kh(),t.Global.touch.start=!1},x.Ch=function(m){if(!t.Util.isMouseEvent(m)){if(x.Kh(),t.Global.touch.start){t.Global.touch.start=!1,m.preventDefault(),m.stopPropagation();var y=this;setTimeout(function(){l.Te(y,m)})}setTimeout(function(){t.Global.touch.start=!1,t.Global.touch.active=!1},500)}},x.Qg=function(m){if(!(t.Global.touch.active||t.Global.touch.start||m.touches.length>1||l.timeRangeSelectedHandling==="Disabled")){x.Kh(),t.Global.touch.start=!0,t.Global.touch.active=!1;var y=l.tapAndHoldTimeout;x.Kf.push(setTimeout(function(){t.Global.touch.active=!0,t.Global.touch.start=!1,m.preventDefault(),l.coords=x.Lh(m),x.Mh=l.Nh()},y)),l.coords=x.Lh(m)}},x.Rg=function(m){if(x.Kh(),t.Global.touch.start=!1,s.ig)return m.preventDefault(),void x.Oh();if(t.Global.touch.active){if(m.preventDefault(),l.coords=x.Lh(m),s.Se)return void x.Ph();if(x.Mh){var y=x.Mh;y.end={x:Math.floor(l.coords.x/l.cellWidth),time:l.getDate(l.coords.x,!0)},l.Cf(y)}}},x.debug=function(m){},x.Sg=function(m){if(x.Kh(),t.Global.touch.active){if(s.Se){m.preventDefault();var y=s.pg;if(l!==s.qg.calendar)return;var w=s.qg.start,C=s.qg.end,E=s.qg.row.id;t.Util.removeClass(s.Se,l.L("_event_moving_source")),t.de(s.qg),s.qg.calendar=null,o().style.cursor="",s.Se=null,s.pg=null,s.qg=null,l.M(y,w,C,E)}if(x.Mh){var N=x.Mh;x.Mh=null;var k=l.elements.range2;k&&k.overlapping?l.clearSelection():l.yf(N)}}else if(t.Global.touch.start){if(l.coords.x<l.getScrollX())return;var N=l.Nh();l.Cf(N);var k=l.elements.range2;k&&k.overlapping?l.clearSelection():l.yf(N)}setTimeout(function(){t.Global.touch.start=!1,t.Global.touch.active=!1},500)},x.Kh=function(){for(var m=0;m<x.Kf.length;m++)clearTimeout(x.Kf[m]);x.Kf=[]},x.Lh=function(m){function y(E,N,k){var A=t.abs(k);return{x:E-A.x,y:N-A.y,toString:function(){return"x: "+this.x+", y:"+this.y}}}var w=l.le,C=m.touches?m.touches[0]:m;return y(C.pageX,C.pageY,w)},x.Gh=function(m,y){s.Se=m,s.pg=m.event,s.Fh=y;var w=t.abs(m);s.Ih=y.x-w.x,s.hg=l.getDate(l.coords.x,!0),s.qg=l.ba(m),l.og()},x.Oh=function(){if(!s.lg){var m=s.ig;s.lg=l.ba(m)}l.ng()},x.Ph=function(){if(!s.qg){var m=s.Se;s.qg=l.ba(m)}s.qg.calendar.og()},this.Eh=function(m,y){var w=this.eventResizeMargin,C=m;if(typeof s<"u"){var E=t.mo3(m,y);if(E&&(l.eventOffset=E,!s.ig&&!s.Se)){var N=C.event.part.start.toString()===C.event.start().toString(),k=C.event.part.end.toString()===C.event.rawend().toString();E.x<=w&&C.event.client.resizeEnabled()?N?(m.style.cursor="w-resize",m.dpBorder="left"):m.style.cursor="not-allowed":m.offsetWidth-E.x<=w&&C.event.client.resizeEnabled()?k?(m.style.cursor="e-resize",m.dpBorder="right"):m.style.cursor="not-allowed":s.ig||s.Se||(C.event.client.clickEnabled()?m.style.cursor="pointer":m.style.cursor="default")}}},this.Df=function(){var m=l.Pe();return l.days*(1440/m)},this.zf=function(y){var y=y||s.Mh||l.Bf;if(!y)return null;var w=l.rowlist[y.start.y];if(!w)return null;var C,E,N=y,k=N.end.time>N.start.time,A=w.id,T=k?N.start.x:N.end.x,P=k?N.end.x:N.start.x,M=l.snapToGrid;M?(C=l.Ne(T).start,E=l.Ne(P).end):k?(C=N.start.time,E=N.end.time):(C=N.end.time,E=N.start.time);var O=new t.Selection(C,E,A,l);return O.allowed=!y.div||!y.div.overlapping,O},this.af=function(){this.zb.timeHeader={},l.elements.timeHeader.length>0&&(l.elements.timeHeader=[]);var m=c();m.style.position="relative",this.nav.timeHeader=m;for(var y=0;y<this.timeHeader.length;y++)for(var w=this.timeHeader[y],C=0;C<w.length;C++)this.Qh(C,y);var E=this.divNorth;E.childNodes.length===1?E.replaceChild(m,E.childNodes[0]):(E.innerHTML="",E.appendChild(m));var N=this.Ee();E.style.width=N+5e3+"px",N>0&&(this.divStretch.style.width=N+"px")},this.Le=function(m,E){var w=null,C=this.ca.Ke(),E=E||this.cellGroupBy,N=m.start;switch(E){case"Minute":w=N.toString("m");break;case"Hour":w=l.ca.Rh()==="Clock12Hours"?N.toString("h tt",C):N.toString("H",C);break;case"Day":w=N.toString(C.datePattern);break;case"Week":w=S.ea()===1?N.weekNumberISO():N.weekNumber();break;case"Month":w=N.toString("MMMM yyyy",C);break;case"Quarter":w="Q"+Math.floor(N.getMonth()/3+1);break;case"Year":w=N.toString("yyyy");break;case"None":w="";break;case"Cell":var k=(m.end.ticks-m.start.ticks)/6e4;w=this.Sh(N,k);break;default:throw new t.Exception("Invalid groupBy value: "+E)}return w},this.Sh=function(m,C){var w=this.ca.Ke(),C=C||this.cellDuration;return C<1?m.toString("ss"):C<60?m.toString("mm"):C<1440?l.ca.Rh()==="Clock12Hours"?m.toString("h tt",w):m.toString("H",w):C<10080?m.toString("d"):C===10080?S.ea()===1?m.weekNumberISO():m.weekNumber():m.toString("MMMM yyyy",w)},this.Je=function(m,y,w){var C,E=l.startDate.addDays(l.days);y=y||this.cellGroupBy;var N=60;switch(y){case"Minute":m.getMinutes()+m.getSeconds()+m.getMilliseconds()>0&&(m=m.getDatePart().addHours(m.getHours()).addMinutes(m.getMinutes())),C=m.addMinutes(1);break;case"Hour":m.getHours()+m.getMinutes()+m.getSeconds()+m.getMilliseconds()>0&&(m=m.getDatePart().addHours(m.getHours())),C=m.addHours(1);break;case"Day":C=m.getDatePart().addDays(1);break;case"Week":for(C=m.getDatePart().addDays(1);C.dayOfWeek()!==S.ea();)C=C.addDays(1);break;case"Month":m=m.getDatePart(),C=m.addMonths(1),C=C.firstDayOfMonth();for(var k=t.DateUtil.diff(C,m)/6e4%N===0;!k;)C=C.addHours(1),k=t.DateUtil.diff(C,m)/6e4%N===0;break;case"Quarter":for(m=m.getDatePart(),C=m.addMonths(1),C=C.firstDayOfMonth();C.getMonth()%3;)C=C.addMonths(1);for(var k=t.DateUtil.diff(C,m)/6e4%N===0;!k;)C=C.addHours(1),k=t.DateUtil.diff(C,m)/6e4%N===0;break;case"Year":m=m.getDatePart(),C=m.addYears(1),C=C.firstDayOfYear();for(var k=t.DateUtil.diff(C,m)/6e4%N===0;!k;)C=C.addHours(1),k=t.DateUtil.diff(C,m)/6e4%N===0;break;case"None":C=E;break;case"Cell":var A=this.Oe(m);A.current&&(C=A.current.end);break;default:throw w?new t.Exception("Invalid scale value: "+y):new t.Exception("Invalid groupBy value: "+y)}return C.getTime()>E.getTime()&&(C=E),C},this.Qh=function(m,y){var w=this.nav.timeHeader,C=this.timeHeader[y][m],E=y<this.timeHeader.length-1,N=C.left,k=C.width,A=y*l.headerHeight,T=l.headerHeight,P=c();P.style.position="absolute",P.style.top=A+"px",P.style.left=N+"px",P.style.width=k+"px",P.style.height=T+"px",C.toolTip&&(P.title=C.toolTip),P.setAttribute("aria-hidden","true"),C.cssClass&&t.Util.addClass(P,C.cssClass),P.style.userSelect="none",P.style.webkitUserSelect="none",P.oncontextmenu=function(){return!1},P.cell={},P.cell.start=C.start,P.cell.end=C.end,P.cell.level=y,P.cell.th=C,P.onclick=this.Dg,P.oncontextmenu=this.Eg,t.re(P,t.touch.start,function(L){L.stopPropagation()}),P.style.overflow="hidden",l.timeHeaderTextWrappingEnabled||(P.style.whiteSpace="nowrap");var M=c();M.innerHTML=l.ab(C.text,C.html),C.backColor&&(M.style.background=C.backColor),C.fontColor&&(M.style.color=C.fontColor);var O=this.L("_timeheadercol"),R=this.L("_timeheadercol_inner");E&&(O=this.L("_timeheadergroup"),R=this.L("_timeheadergroup_inner")),t.Util.addClass(P,O),t.Util.addClass(M,R),t.Util.addClass(P,l.L("_timeheader_cell")),t.Util.addClass(M,l.L("_timeheader_cell_inner")),P.appendChild(M),t.Areas.attach(P,C,{areas:C.areas}),this.zb.timeHeader[m+"_"+y]=P,this.elements.timeHeader.push(P),w.appendChild(P)},this.dg=function(){l.rowlist.forEach(function(m){var y=m.getHeight()+l.rowMarginTop+l.rowMarginBottom;m.height!==y&&(l.of=!0),m.height=y}),l.of&&(l.zb.drawArea=null)},this.bf=function(){l.rowlist.forEach(function(m){var y=l.divHeader;if(y){var w=m.index;if(y.rows[w]){var C=y.rows[w];l.ug&&(C.style.top=m.top+"px");var E=m.height;C&&C.firstChild&&parseInt(C.firstChild.style.height,10)!==E&&(C.firstChild.style.height=E+"px")}}}),l.ug&&l.nav.resScrollSpace&&(l.nav.resScrollSpace.style.top=l.he+"px")},this.eh=function(m){if(t.Global.touch.start||t.Global.touch.active||(s.Th,l.Ue(m),l.timeRangeSelectedHandling==="Disabled"))return!1;var y=t.Util.mouseButton(m);if(l.Uh()||y.middle||y.right||l.Vh(l.coords))return!1;var w=y.left?"left":y.right?"right":y.middle?"middle":"unknown";return l.Wh=w,s.Mh=l.Nh(),s.Mh&&(s.Xh=l),!1},this.Nh=function(){var m={},y=l.Me(l.coords.x).x,w=l.getDate(l.coords.x,!0);return m.start={y:l.Jf(l.coords.y).i,x:y,time:w},m.end={x:y,time:w},m.calendar=l,l.Cf(m),m},this.gh=function(m){if(l.Se={},l.Bf&&t.Util.mouseButton(m).left){var y=l.Bf;if(l.Vh(l.coords)){var w=function(C){return function(){s.Th=null;var E=l.zf(C);if(E){var N={};N.start=E.start,N.end=E.end,N.resource=E.resource,N.preventDefault=function(){N.preventDefault.value=!0},typeof l.onTimeRangeClick=="function"&&l.onTimeRangeClick(N),N.preventDefault.value||typeof l.onTimeRangeClicked=="function"&&l.onTimeRangeClicked(N)}}};l.timeRangeClickHandling!=="Disabled"&&w(y)()}}},this.Uh=function(){return!!(s.ig||s.Se||s.Mh)||!!l.Se.Hh},this.dragInProgress=function(){return l.Uh()},this.Ue=function(m){var y=t.mo3(l.le,m);y=y||{},y.stamp=y.x+"_"+y.y,l.coords&&l.coords.stamp===y.stamp||(l.coords=y)},this.fh=function(m){if(!t.Global.touch.active){var y=t.mc(m);l.Ue(m),l.Se.Hh&&t.distance(l.Se.Fh,y)>2&&(t.Util.copyProps(l.Se,s),o().style.cursor="move",l.Se={}),s.ig&&s.mg.calendar===l?(s.ig.event||(s.ig.event=s.mg),l.Yh()):s.pg?l.Zh():s.Mh&&s.Mh.calendar===l&&(s.Mh.moved=!0,l.$h())}},this.$h=function(){var m=s.Mh,y=l.Me(l.coords.x).x,w=l.getDate(l.coords.x,!0);m.end={x:y,time:w},l.Cf(m)},this.Yh=function(){s.lg||(s.lg=l.ba(s.ig)),l.ng()},this.Zh=function(){if(!s.qg){t.Util.addClass(s.Se,l.L("_event_moving_source"));var m=s.pg;s.qg=l.ba(m)}l.og()},this.hh=function(m){return m.cancelBubble=!0,!1},this.Vh=function(m){var y=l.Bf;if(!y||!y.start||!y.end)return!1;var w=this.Mf(y.start.y),C=y.start.x<y.end.x,E=(C?y.start.x:y.end.x)*this.cellWidth,N=(C?y.end.x:y.start.x)*this.cellWidth+this.cellWidth,k=w.top,A=w.bottom;return m.x>=E&&m.x<=N&&m.y>=k&&m.y<=A},this.Cf=function(m){function y(N){var k,A,T,P,M=N.end.time>N.start.time,O=N.start.y,R=N.start.time&&N.end.time;if(C||!R){var L=M?N.start.x:N.end.x,B=M?N.end.x:N.start.x,F=l.Ne(L),$=l.Ne(B);k=F.left,A=$.left+$.width}else M?(T=N.start.time,P=N.end.time):(T=N.end.time,P=N.start.time),k=l.getPixels(T).left,A=l.getPixels(P).left;var z=A-k,W=l.elements.range2;if(!W){W=c(),W.style.position="absolute";var Z=c();Z.className=l.L("_shadow_inner"),w&&(W.style.borderRadius=w,Z.style.borderRadius=w),W.appendChild(Z),l.divShadow.appendChild(W)}return W.className=l.L("_shadow"),W.firstChild.innerHTML="",W.style.left=k+"px",W.style.top=E[O].top+"px",W.style.width=z+"px",W.style.height=E[O].height-1+"px",W.calendar=l,l.elements.range2=W,W}if(m=m||s.Mh){var w=l.eventBorderRadius;typeof w=="number"&&(w+="px");var C=l.snapToGrid,E=l.rowlist;y(m)}},this._h=function(m){return{start:{x:m.start.x,y:m.start.y,time:m.start.time},end:{x:m.end.x,time:m.end.time},calendar:m.calendar,args:m.args}},this.Kf={},this.Kf.na=null,this.Kf.drawCells=null,this.Kf.drawRows=null,this.Kf.click=null,this.Kf.resClick=[],this.Kf.updateFloats=null,this.hf=function(){if(!l.Q){l.ff();var m=l.nav.scroll;l.mh=m.scrollLeft,l.nh=m.scrollTop,l.oh=m.clientWidth,l.divTimeScroll&&(l.divTimeScroll.scrollLeft=l.mh),n&&s.Zg?i():l.divResScroll.scrollTop=l.nh,l.progressiveRowRendering&&(l.Kf.drawRows&&(clearTimeout(l.Kf.drawRows),l.Kf.drawRows=null),l.scrollDelayRows>0?l.Kf.drawRows=setTimeout(function(){l.xg()},l.scrollDelayRows):l.xg()),l.Kf.drawCells&&(clearTimeout(l.Kf.drawCells),l.Kf.drawCells=null),l.scrollDelayCells>0?l.Kf.drawCells=setTimeout(l.ai(),l.scrollDelayCells):l.ai()(),l.Kf.na&&(clearTimeout(l.Kf.na),l.Kf.na=null),l.scrollDelayEvents>0?l.Kf.na=setTimeout(l.bi(),l.scrollDelayEvents):l.na(),l.Kf.updateFloats&&(clearTimeout(l.Kf.updateFloats),l.Kf.updateFloats=null),l.scrollDelayFloats>0?l.Kf.updateFloats=setTimeout(function(){l.te()},l.scrollDelayFloats):l.te(),l.onScrollCalled=!0}},this.ai=function(){return function(){l&&l.gf()}},this.bi=function(){return function(){l&&(l.vh()?setTimeout(function(){l.qh(),setTimeout(function(){l.na(!0)},50)},50):l.ve())}},this.ff=function(){l.zb.drawArea=null},this.show=function(){l.visible=!0,l.ie=!0,l.nav.top.style.display="",l.u(),l.ch(),l.hf()},this.hide=function(){l.visible=!1,l.ie=!1,l.nav.top.style.display="none"},this.Zf=function(m){if(!l.events.list)return null;for(var y=0;y<this.events.list.length;y++){var w=this.events.list[y];if(l.Sf(w,m)){var C={};return C.ex=w,C.index=y,C}}return null},this.ci=function(){var m=this.pe(),y=m.xStart,w=m.xEnd-m.xStart,C=m.yStart,E=m.yEnd-m.yStart;this.cellProperties||(this.cellProperties={});for(var N=0;N<=w;N++){for(var k=y+N,A=0;A<E;A++){var T=C+A;this.kd(k,T)}this.di(k)}for(var P=this.sg(),T=P.start;T<P.end;T++)this.ei(T)},this.gf=function(){if(!l.Q){var m=l.rowlist;if(m&&m.length>0){if(this.cellSweeping){var y=this.cellSweepingCacheSize;this.uh(y)}this.ci()}this.of=!1}},this.pe=function(){if(l.zb.drawArea)return l.zb.drawArea;if(!this.nav.scroll)return null;var m=l.nh,y={},w=this.dynamicEventRenderingMarginX!=null?this.dynamicEventRenderingMarginX:this.dynamicEventRenderingMargin,C=this.dynamicEventRenderingMarginY!=null?this.dynamicEventRenderingMarginY:this.dynamicEventRenderingMargin,E=l.mh-w,N=E+l.oh+2*w,k=0,A=0;k=l.Me(E).x,A=l.Me(N,!0).x;var T=this.Df();A=Math.min(A,T-1),k=t.Util.atLeast(k,0);var P=m-C,M=m+this.nav.scroll.offsetHeight+2*C,O=this.Jf(P).i,R=this.Jf(M).i;R<this.rowlist.length&&R++,y.xStart=k,y.xEnd=A,y.yStart=O,y.yEnd=R;var L=l.nav.scroll;return L.clientWidth===0&&(L=l.divTimeScroll),y.pixels={},y.pixels.left=L.scrollLeft,y.pixels.right=L.scrollLeft+L.clientWidth,y.pixels.top=L.scrollTop,y.pixels.bottom=L.scrollTop+L.clientHeight,y.pixels.width=L.scrollWidth,y.sw=t.sw(l.nav.scroll),l.zb.drawArea=y,y},this.Ee=function(){return l.Df()*l.cellWidth},this.ei=function(m){var y=l.rowlist,w=l.divLines,C="y_"+m;if(!this.zb.linesHorizontal[C]){var E=y[m],N=E.height,k=E.top+N-1,A=this.Ee(),T=c();T.style.left="0px",T.style.top=k+"px",T.style.width=A+"px",T.style.height="1px",T.style.fontSize="1px",T.style.lineHeight="1px",T.style.overflow="hidden",T.style.position="absolute",T.className=this.L("_matrix_horizontal_line"),w.appendChild(T),this.zb.linesHorizontal[C]=T}},this.di=function(m){var y=l.Ne(m);if(y){var w=l.divLines,C=l.he,E="x_"+m;if(!this.zb.linesVertical[E]){var N=y.left+y.width-1,k=c();k.style.left=N+"px",k.style.top="0px",k.style.width="1px",k.style.height=C+"px",k.style.fontSize="1px",k.style.lineHeight="1px",k.style.overflow="hidden",k.style.position="absolute",k.className=this.L("_matrix_vertical_line"),w.appendChild(k),this.elements.linesVertical.push(k),this.zb.linesVertical[E]=k}}},this.$e=function(){l.he=l.fi(l.rowlist)},this.fi=function(m){for(var y=0,w=0;w<m.length;w++){var C=m[w];C.top=y,y+=C.height}return y},this.df=function(){l.elements.cells=[],l.zb.cells=[],l.divCells.innerHTML="",l.gi()},this.gi=function(){l.divLines.innerHTML="",l.zb.linesVertical={},l.zb.linesHorizontal={},l.elements.linesVertical=[]},this.sf=function(m){var y=[];for(var w in l.zb.cells)y.push(l.zb.cells[w]);y.filter(function(C){return C&&C.coords&&C.coords.y===m}).forEach(function(C){l.hb(C)})},this.kd=function(m,y){if(this.Ma){var w=l.Ne(m);if(w){var C=l.rowlist,E=l.divCells,N=m+"_"+y;if(!this.zb.cells[N]){var k=this.hi(m,y),A=l.ii(m,y),T=c();if(T.style.left=w.left+"px",T.style.top=C[y].top+"px",T.style.width=w.width+"px",T.style.height=C[y].height+"px",T.style.position="absolute",k&&k.backColor&&(T.style.backgroundColor=k.backColor),T.className=this.L("_cell"),T.coords={},T.coords.x=m,T.coords.y=y,k){if(k.cssClass&&t.Util.addClass(T,k.cssClass),T.innerHTML=l.ab(k.text,k.html),k.backImage&&(T.style.backgroundImage='url("'+k.backImage+'")'),k.backRepeat&&(T.style.backgroundRepeat=k.backRepeat),k.business&&l.cellsMarkBusiness&&t.Util.addClass(T,l.L("_cell_business")),k.disabled&&t.Util.addClass(T,l.L("_cell_disabled")),k.backColor&&(T.style.backgroundColor=k.backColor),k.fontColor&&(T.style.color=k.fontColor),k.horizontalAlignment||k.verticalAlignment){switch(T.style.display="flex",k.horizontalAlignment){case"right":T.style.justifyContent="flex-end";break;case"left":T.style.justifyContent="flex-start";break;case"center":T.style.justifyContent="center"}switch(k.verticalAlignment){case"center":T.style.alignItems="center";break;case"top":T.style.alignItems="flex-start";break;case"bottom":T.style.alignItems="flex-end"}}t.Areas.attach(T,A.cell,{areas:k.areas||A.cell.areas})}E.appendChild(T),this.elements.cells.push(T),this.zb.cells[N]=T}}}},this.ii=function(m,y){var w=l.Ne(m);if(!w)return null;var C=l.rowlist[y],E=C.id,N=w.start,k=w.end,A={};if(A.cell={x:m,y,start:N,end:k,resource:E,row:l.Cg(C),properties:l.hi(m,y)},A.control=l,typeof this.onBeforeCellRender=="function"){var T=m+"_"+y;if(l.beforeCellRenderCaching&&l.ef[T])return A;l.ef[T]=!0,this.onBeforeCellRender(A)}return A},this.clearSelection=function(){this.ji()},this.ki=function(m,y,w){m=new t.Date(m),y=new t.Date(y);var C=l.ne(w),E=l.Oe(m);if(!E.current)throw new t.Exception("Time range selection 'start' out of timeline");var N=l.Oe(new t.Date(y).addMilliseconds(-1));if(!N.current)throw new t.Exception("Time range selection 'end' out of timeline");var k={};return k.start={y:C.index,x:E.i,time:m},k.end={x:N.i,time:y},k.calendar=this,k},this.selectTimeRange=function(m,y,w,C){var E=l.ki(m,y,w);l.Cf(E),C||setTimeout(function(){l.yf(E)},0)},this.wf=function(){var m=s.qg&&s.qg.source;m&&t.Util.removeClass(m,l.L("_event_moving_source")),t.de(s.qg),s.qg=null,t.Global.movingLink&&(t.Global.movingLink.clear(),t.Global.movingLink=null)},this.ji=function(){l.divShadow&&(l.divShadow.innerHTML=""),l.elements.range=[],l.elements.range2=null,l.Bf=null,l.li=null},this.ca={};var S=this.ca;S.Od=function(){delete l.zb.headerHeight},S.da=function(){return l.xssProtection!=="Disabled"},S.Ke=function(){return t.Locale.find(l.locale)},S.Rh=function(){return l.timeFormat!=="Auto"?l.timeFormat:S.Ke().timeFormat},S.ea=function(){if(l.weekStarts==="Auto"){var m=S.Ke();return m?m.weekStarts:0}return l.weekStarts||0},S.zg=function(){var m=navigator.userAgent.toLowerCase();return m.indexOf("mobile")!==-1||m.indexOf("android")!=-1},S.gg=function(m){return l.useEventBoxes==="Always"||l.useEventBoxes!=="Never"&&m<60*l.Pe()*1e3},this.hi=function(m,y){var w=m+"_"+y,C=l.rowlist;if(this.cellProperties||(this.cellProperties={}),this.cellProperties[w])return this.cellProperties[w];if(!this.cellProperties[w]){var E=C[y],N=E.id,k=l.Ne(m),A=k.start,T=k.end,P={};P.start=A,P.end=T,P.resource=N;var M={};M.business=l.isBusiness(P),this.cellProperties[w]=M}return this.cellProperties[w]},this.isBusiness=function(m,y){var w=m.start,C=m.end,E=(C.getTime()-w.getTime())/6e4;if(E<=1440&&!(l.businessWeekends||y||m.start.dayOfWeek()!==0&&m.start.dayOfWeek()!==6))return!1;if(E<720){var N=w.getHours();N+=w.getMinutes()/60,N+=w.getSeconds()/3600,N+=w.getMilliseconds()/36e5;var k=this.businessBeginsHour,A=this.businessEndsHour;if(A===0&&(A=24),k===A)return!1;if(!(k<A))return N<A||N>=k;if(N<k)return!1;if(A>=24)return!0;if(N>=A)return!1}return!0},this.u=function(){this.nav.top.style.visibility==="hidden"&&(this.nav.top.style.visibility="visible")},this.mi=function(m){this.heightSpec="Fixed",this.height=m-(this.Ge()+2),this.ma()},this.setHeight=this.mi,this.ne=function(m){return l.Gg(m)[0]},this.yb=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if(typeof this.id!="string")throw new t.Exception("DayPilot.Scheduler() constructor requires the target element or its ID as a parameter");if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw new t.Exception("DayPilot.Scheduler: The placeholder element not found: '"+d+"'.")}},this.init=function(){if(this.Ma)throw new t.Exception("This instance is already initialized. Use update() to change properties.");if(this.yb(),this.nav.top.dp){if(this.nav.top.dp===l)return l;throw new t.Exception("The target placeholder was already initialized by another DayPilot component instance.")}return this.ni(),this.bh(),this},this.ni=function(){this.Pg(),this.rb(),this.aa(),this.lh(),this.sb();var m=l.De.enabled;l.scrollToDate?l.scrollTo(l.scrollToDate):l.scrollX||l.scrollY?l.setScroll(l.scrollX,l.scrollY):m||l.hf(),l.scrollToResourceId&&(l.scrollToResource(l.scrollToResourceId),l.scrollToResourceId=null);var y=function(){l.scrollY&&l.setScroll(l.scrollX,l.scrollY)};setTimeout(y,200),this.ff(),this.xb(),this.Ma=!0;var w=l.ke;w?l.scrollTo(w):l.hf()},this.wb=null,this.ub=function(m){if(m){var y={resources:{preInit:function(){var E=this.data;E&&(l.resources=E)}},events:{preInit:function(){var E=this.data;E&&(t.isArray(E.list)?l.events.list=E.list:l.events.list=E)},postInit:function(){}},scrollTo:{preInit:function(){},postInit:function(){this.data&&l.je(this.data)}},scrollX:{postInit:function(){this.data&&l.me(this.data)}},scrollY:{postInit:function(){this.data&&l.Fe(this.data)}}};l.wb=y,l.De.scrollToRequested&&(y.scrollTo.data=l.De.scrollToRequested,l.De.scrollToRequested=null),l.De.scrollXRequested&&(y.scrollX.data=l.De.scrollXRequested,l.De.scrollXRequested=null),l.De.scrollYRequested&&(y.scrollY.data=l.De.scrollYRequested,l.De.scrollYRequested=null);for(var w in m)y[w]||(l[w]=m[w]);for(var w in m)if(y[w]){var C=y[w];C.data=m[w],C.preInit&&C.preInit()}}},this.xb=function(){var m=l.wb;for(var y in m){var w=m[y];w.postInit&&w.postInit()}l.wb={}},this.Sa={},this.Sa.Ra=null,this.Sa.Ob=function(m,y,w){var C=l.Sa.Ra;if(typeof C.createVNode=="function"&&typeof C.render=="function"){var E=C.createVNode(m,w);C.render(E,y)}},this.Sa.Wa=function(m,y){var w=l.Sa.Ra;if(typeof w.render=="function"){var C=m;t.isArray(m)&&(C=w.h("div",null,m)),w.render(C,y)}},this.Sa.Ua=function(m){var y=l.Sa.Ra;typeof y.render=="function"&&y.render(null,m)},this.internal={},this.internal.adjustEndIn=l.tf,this.internal.adjustEndNormalize=l.uf,this.internal.xssTextHtml=l.ab,this.internal.touch=l.Jh,this.internal.skipUpdate=l.De.skipUpdate,this.internal.skipped=l.De.skipped,this.internal.loadOptions=l.ub,this.internal.postInit=l.xb,this.internal.enableAngular2=function(){l.De.enabled=!0},this.internal.eventsFromAttr=function(){l.De.Xf=!0},this.internal.resourcesFromAttr=function(){l.De.eg=!0},this.internal.evImmediateRefresh=function(){l.events.xf()},this.internal.enableReact=function(m,y){l.ld.react=m,l.ld.reactDOM=y},this.internal.reactRefs=function(){return t.Util.copyProps(l.ld,{},["react","reactDOM"])},this.internal.enableVue=function(m){l.Sa.Ra=m},this.internal.vueRef=function(){return l.Sa.Ra},this.internal.vueRendering=function(){return l.Sa.Ta},this.ub(u)},new t.Scheduler().v,t.Row=function(d,u){if(!d)throw new t.Exception("Now row object supplied when creating DayPilot.Row");if(!u)throw new t.Exception("No parent control supplied when creating DayPilot.Row");this.oi={};var l=this.oi;l.id=d.id,l.name=d.name,l.data=d.resource,l.tags=d.tags;var f=this;f.isRow=!0,f.menuType="resource",f.name=d.name,f.id=d.id,f.tags=d.tags,f.index=d.index,f.calendar=u,f.data=d.resource,f.pi=d,f.$={},f.$.row=d,f.toJSON=function(p){var g={};return g.start=this.start,g.name=this.name,g.id=this.id,g.index=this.index,g},f.events={},f.events.all=function(){for(var p=[],g=0;g<f.pi.events.length;g++)p.push(f.pi.events[g]);return p},f.events.isEmpty=function(){return f.pi.events.length===0},f.events.forRange=function(p,g){return f.pi.events.forRange(p,g)},f.events.totalDuration=function(){var p=0;return f.events.all().forEach(function(g){p+=g.part.end.getTime()-g.part.start.getTime()}),new t.Duration(p)},f.remove=function(){u.rows.remove(f)},f.addClass=function(p){var g=u.divHeader,x=g.rows[f.index];t.Util.addClass(x,p),f.$.row.cssClass=t.Util.addClassToString(f.$.row.cssClass,p),f.data.cssClass=p},f.removeClass=function(p){var g=u.divHeader,x=g.rows[f.index];t.Util.removeClass(x,p),f.$.row.cssClass=t.Util.removeClassFromString(f.$.row.cssClass,p),f.data.cssClass=t.Util.removeClassFromString(f.data.cssClass,p)}},s.Se=null,s.pg=null,s.Fh=null,s.ig=null,s.mg=null,s.Re=!1,s.ih=!1,s.Th=null,s.qi=null,s.sc=function(d){t.ue(document,"mouseup",s.ge),t.ue(document,"touchmove",s.jh),t.ue(document,"touchend",s.kh),s.ih=!1},s.jh=function(d){if(s.ig){var u=s.ig.event.calendar;u.coords=u.Jh.Lh(d),u.Jh.Oh(),d.preventDefault()}if(s.Se){d.preventDefault();var u=s.pg.calendar;u.coords=u.Jh.Lh(d),u.Jh.Ph()}},s.kh=function(d){s.Zg=!1,s.ge(d)},s.ge=function(d){if(s.ig){var u=function(){var E=s.mg,N=E.calendar;o().style.cursor="",s.ig=null,s.mg=null,t.de(s.lg),s.lg=null,N&&(N.ri=null)};if(setTimeout(function(){s.Re=!1}),!s.lg)return void u();var l=s.mg,f=l.calendar,p=s.lg.start,g=s.lg.end,x=s.ig.dpBorder==="left"?"start":"end";u(),f.K(l,p,g,x)}else if(s.pg){var u=function(){t.Global.movingAreaData=null;var P=s.qg&&s.qg.calendar;s.qg&&(t.de(s.qg),s.qg.calendar=null),o().style.cursor="",s.Se=null,s.pg=null,P&&(P.vf=null)};if(!s.qg)return void u();var l=s.pg,f=s.qg.calendar;if(!f||(s.qg.source=s.Se,!s.qg.row))return void u();var p=s.qg.start,g=s.qg.end,S=s.qg.row.id;s.qg.calendar=null,o().style.cursor="",s.Se=null,s.pg=null,f.M(l,p,g,S,d),t.Global.movingAreaData=null}else if(s.Mh){var m=t.Util.mouseButton(d),y=s.Mh,f=y.calendar,u=function(){};if(f.li=null,d.ctrlKey||d.metaKey,s.Th)return clearTimeout(s.Th),s.Th=null,void u();f.Bf=y,s.Mh=null;var w=function(k){return function(){s.Th=null,f.yf(k),f.timeRangeSelectedHandling!=="Hold"&&f.timeRangeSelectedHandling!=="HoldForever"?i():f.Bf=k}},C=f._h(y);return u(),m.left?(w(C)(),d.cancelBubble=!0,!1):void(s.Th=null)}s.Ih=null,s.hg=null}}}(e),function(){var t=Yd(),r=(dM(),umt()),n=r({componentDidMount:function(){this.control=new e.Scheduler(this.me.ref,this.props),this.control.init();var c=this.props.controlRef;c&&(typeof c=="function"?c(this.control):c.current=this.control)},componentWillUnmount:function(){this.control&&this.control.dispose()},componentDidUpdate:function(c,d,u){this.control&&this.control.update(this.props)},render:function(){this.me||(this.me={});var c=this.me;return t.createElement("div",{ref:function(d){c.ref=d}})}}),s=r({componentDidMount:function(){this.control=new e.Month(this.me.ref,this.props).init();var c=this.props.controlRef;c&&(typeof c=="function"?c(this.control):c.current=this.control)},componentWillUnmount:function(){this.control&&this.control.dispose()},componentDidUpdate:function(c,d,u){this.control&&this.control.update(this.props)},render:function(){this.me||(this.me={});var c=this.me;return t.createElement("div",{ref:function(d){c.ref=d}})}}),i=r({componentDidMount:function(){this.control=new e.Calendar(this.me.ref,this.props),this.control.init();var c=this.props.controlRef;c&&(typeof c=="function"?c(this.control):c.current=this.control)},componentWillUnmount:function(){this.control&&this.control.dispose()},componentDidUpdate:function(c,d,u){this.control&&this.control.update(this.props)},render:function(){this.me||(this.me={});var c=this.me;return t.createElement("div",{ref:function(d){c.ref=d}})}}),o=r({componentDidMount:function(){this.control=new e.Navigator(this.me.ref,this.props).init();var c=this.props.controlRef;c&&(typeof c=="function"?c(this.control):c.current=this.control)},componentWillUnmount:function(){this.control&&this.control.dispose()},componentDidUpdate:function(c,d,u){this.control&&this.control.update(this.props)},render:function(){this.me||(this.me={});var c=this.me;return t.createElement("div",{ref:function(d){c.ref=d}})}});VP.exports={DayPilot:e,DayPilotMonth:s,DayPilotCalendar:i,DayPilotNavigator:o,DayPilotScheduler:n}}(),VP.exports}var Sa=fmt();const Um=[{id:"op1",name:"Food Preparation",description:"Preparing ingredients and cooking food items",color:"#3498db"},{id:"op2",name:"Customer Service",description:"Taking orders and serving customers",color:"#e74c3c"},{id:"op3",name:"Cleaning & Maintenance",description:"Cleaning equipment and maintaining workspace",color:"#2ecc71"},{id:"op4",name:"Inventory Management",description:"Managing stock and supplies",color:"#f39c12"},{id:"op5",name:"Cash Handling",description:"Processing payments and managing cash register",color:"#9b59b6"},{id:"op6",name:"Training",description:"Training new employees or learning new skills",color:"#1abc9c"},{id:"op7",name:"Administrative Tasks",description:"Paperwork, scheduling, and administrative duties",color:"#e67e22"},{id:"op8",name:"Break Time",description:"Scheduled break or meal time",color:"#95a5a6"}],Hu=e=>{const[t,r]=e.split(":").map(Number);return t*60+r},NW=e=>Um.find(t=>t.id===e),hmt=(e,t,r)=>{if(!e||!e.isEnabled||e.segments.length===0)return[{pct:0,color:"#94a3b8"}];if(e.segments.length===1)return[{pct:0,color:NW(e.segments[0].operationId)?.color||"#94a3b8"}];const n=[...e.segments].sort((d,u)=>Hu(d.startTime)-Hu(u.startTime)),s=Hu(t),o=Hu(r)-s;if(o<=0)return[{pct:0,color:"#94a3b8"}];const c=[];return n.forEach((d,u)=>{const l=NW(d.operationId),f=Hu(d.startTime),p=Hu(d.endTime),g=Math.max(0,(f-s)/o*100),x=Math.min(100,(p-s)/o*100),S=l?.color||"#94a3b8";u===0&&g>0&&(c.push({pct:0,color:"#f3f4f6"}),c.push({pct:g,color:"#f3f4f6"})),c.push({pct:g,color:S});const m=n[u+1];if(m){const w=(Hu(m.startTime)-s)/o*100;w>x?(c.push({pct:x,color:S}),c.push({pct:x,color:"#f3f4f6"}),c.push({pct:w,color:"#f3f4f6"})):c.push({pct:x,color:S})}else x<100?(c.push({pct:x,color:S}),c.push({pct:x,color:"#f3f4f6"}),c.push({pct:100,color:"#f3f4f6"})):c.push({pct:100,color:S})}),c},mmt=e=>e.length===1?e[0].color:`linear-gradient(to right, ${e.map(r=>`${r.color} ${r.pct}%`).join(", ")})`,Pce=(e,t)=>{switch(e){case"day":return{scale:"Hour",days:1,startDate:t.getDatePart().toString(),timeHeaders:[{groupBy:"Hour",format:"h tt"}],cellWidth:100,businessBeginsHour:8,businessEndsHour:20,showNonBusiness:!1};case"week":return{scale:"Day",days:7,startDate:t.firstDayOfWeek().toString(),timeHeaders:[{groupBy:"Day",format:"M/d/yyyy"}],cellWidth:200,businessBeginsHour:8,businessEndsHour:20,showNonBusiness:!1};default:return Pce("week",t)}},pmt=({resources:e,events:t,currentView:r,currentDate:n,onEventMoved:s,onEventResized:i,onTimeRangeSelected:o,onEventClick:c})=>{const d=b.useRef(null),u=Pce(r,n),l=b.useCallback(f=>{try{const p=f.data;if(r==="day"&&p?.employeeEventData?.operation_segmentation){const g=new Date(p.start.toString()),x=new Date(p.end.toString()),S=`${g.getHours().toString().padStart(2,"0")}:${g.getMinutes().toString().padStart(2,"0")}`,m=`${x.getHours().toString().padStart(2,"0")}:${x.getMinutes().toString().padStart(2,"0")}`,y=hmt(p.employeeEventData.operation_segmentation,S,m);if(y&&y.length>1){const w=mmt(y);if(w){f.data.cssClass="phased-gradient",f.data.backColor="transparent",f.data.barBackColor="transparent",f.data.areas=[{top:0,left:0,right:0,bottom:0,style:`background: ${w}; border-radius: 3px; z-index: 1;`}];const C=new Date(p.start.toString()),E=new Date(p.end.toString()),N=C.getHours()*60+C.getMinutes(),A=E.getHours()*60+E.getMinutes()-N,P=[...p.employeeEventData.operation_segmentation.segments].sort((M,O)=>{const R=parseInt(M.startTime.split(":")[0])*60+parseInt(M.startTime.split(":")[1]),L=parseInt(O.startTime.split(":")[0])*60+parseInt(O.startTime.split(":")[1]);return R-L}).map(M=>{const O=parseInt(M.startTime.split(":")[0])*60+parseInt(M.startTime.split(":")[1]),R=parseInt(M.endTime.split(":")[0])*60+parseInt(M.endTime.split(":")[1]),L=(O-N)/A*100,F=(R-N)/A*100-L,z=Um.find(W=>W.id===M.operationId)?.name||"Unknown";return`<div style="position: absolute; left: ${L}%; width: ${F}%; top: 0; height: 100%; display: flex; align-items: center; justify-content: center; font-size: 10px; font-weight: 600; color: #333; text-shadow: 0 0 2px rgba(255, 255, 255, 0.9); overflow: hidden; white-space: nowrap; text-overflow: ellipsis; z-index: 15;">${z}</div>`}).join("");f.data.html=`
              <div style="position: relative; height: 100%; width: 100%;">
                ${P}
              </div>
            `}}else y&&y.length===1?f.data.barColor=y[0].color:f.data.html=`
            <div style="position: relative; height: 100%; width: 100%; display: flex; align-items: center; padding: 2px 8px;">
              <span style="color: #333; font-weight: 500; text-shadow: 0 0 2px rgba(255, 255, 255, 0.8); overflow: hidden; white-space: nowrap; text-overflow: ellipsis;">
                ${f.data.text||""}
              </span>
            </div>
          `}else f.data.html=`
          <div style="position: relative; height: 100%; width: 100%; display: flex; align-items: center; padding: 2px 8px;">
            <span style="color: #333; font-weight: 500; text-shadow: 0 0 2px rgba(255, 255, 255, 0.8); overflow: hidden; white-space: nowrap; text-overflow: ellipsis;">
              ${f.data.text||""}
            </span>
          </div>
        `}catch(p){console.warn("Error in onBeforeEventRender:",p)}},[r]);return a.jsx("div",{className:"flex-1 bg-background border rounded-lg overflow-hidden",children:a.jsx(Sa.DayPilotScheduler,{ref:d,resources:e,events:t,scale:u.scale,days:u.days,startDate:u.startDate,timeHeaders:u.timeHeaders,cellWidth:u.cellWidth,businessBeginsHour:u.businessBeginsHour,businessEndsHour:u.businessEndsHour,height:600,rowHeaderWidth:200,eventHeight:30,headerHeight:30,eventMoveHandling:"Update",eventResizeHandling:"Update",timeRangeSelectedHandling:"Enabled",eventClickHandling:"Enabled",theme:"scheduler_default",onBeforeEventRender:l,onEventMoved:s,onEventResized:i,onTimeRangeSelected:o,onEventClick:c})})},Dce=I0,gmt=L0,Rce=b.forwardRef(({className:e,...t},r)=>a.jsx(eu,{className:J("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Rce.displayName=eu.displayName;const xmt=Zf("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out inset-y-0 right-0 h-full border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right",{variants:{size:{default:"w-full md:w-1/2 lg:w-1/3",full:"w-full",half:"w-1/2",third:"w-1/3"}},defaultVariants:{size:"default"}}),u5=b.forwardRef(({size:e="default",className:t,children:r,title:n,...s},i)=>a.jsxs(gmt,{children:[a.jsx(Rce,{}),a.jsx(tu,{ref:i,className:J(xmt({size:e}),t),...s,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n&&a.jsx(ru,{className:"text-lg font-semibold text-foreground",children:n}),a.jsxs(B0,{className:"rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary ml-auto",children:[a.jsx(Kf,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]}),a.jsx("div",{className:"flex-1 overflow-auto p-4",children:r})]})})]}));u5.displayName=tu.displayName;const f5=({className:e,...t})=>a.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 p-4 border-t",e),...t});f5.displayName="DrawerFooter";const vmt=b.forwardRef(({className:e,...t},r)=>a.jsx(ru,{ref:r,className:J("text-lg font-semibold text-foreground",e),...t}));vmt.displayName=ru.displayName;const ymt=b.forwardRef(({className:e,...t},r)=>a.jsx(Xf,{ref:r,className:J("text-sm text-muted-foreground",e),...t}));ymt.displayName=Xf.displayName;const Mce=({segmentation:e,onSegmentationChange:t,eventStartTime:r,eventEndTime:n})=>{const[s,i]=b.useState([]),o=b.useCallback(()=>`segment_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,[]),c=b.useCallback(C=>{const[E,N]=C.split(":").map(Number);return E*60+N},[]),d=b.useCallback(C=>{const E=Math.floor(C/60),N=C%60;return`${E.toString().padStart(2,"0")}:${N.toString().padStart(2,"0")}`},[]),u=b.useCallback(C=>{const E=[];if(C.length===0)return E;const N=[...C].sort((T,P)=>c(T.startTime)-c(P.startTime)),k=c(r),A=c(n);c(N[0].startTime)!==k&&E.push("First segment must start at event start time"),c(N[N.length-1].endTime)!==A&&E.push("Last segment must end at event end time");for(let T=0;T<N.length;T++){const P=N[T],M=c(P.startTime),O=c(P.endTime);if(M>=O&&E.push(`Segment ${T+1}: Start time must be before end time`),T<N.length-1){const R=N[T+1],L=c(R.startTime);O<L?E.push(`Gap between segment ${T+1} and ${T+2}`):O>L&&E.push(`Overlap between segment ${T+1} and ${T+2}`)}}return E},[r,n,c]),l=b.useCallback(C=>{const E=u(C);i(E)},[u]),f=b.useCallback(C=>{const E={...e,isEnabled:C,segments:C?e.segments:[]};t(E),C?l(E.segments):i([])},[e,t,l]),p=b.useCallback(()=>{const C=e.segments[e.segments.length-1],E=C?C.endTime:r,N={id:o(),startTime:E,endTime:n,operationId:Um[0].id},k=[...e.segments,N],A={...e,segments:k};t(A),l(k)},[e,r,n,o,t,l]),g=b.useCallback(C=>{const E=e.segments.filter(k=>k.id!==C),N={...e,segments:E};t(N),l(E)},[e,t,l]),x=b.useCallback((C,E,N)=>{const k=e.segments.map(T=>T.id===C?{...T,[E]:N}:T),A={...e,segments:k};t(A),l(k)},[e,t,l]),S=b.useCallback(C=>Um.find(E=>E.id===C),[]),m=b.useCallback(()=>{if(e.segments.length===0){const C={id:o(),startTime:r,endTime:n,operationId:Um[0].id},E={...e,segments:[C]};t(E),l([C])}},[e,r,n,o,t,l]),y=b.useMemo(()=>e.segments.reduce((C,E)=>{const N=c(E.endTime)-c(E.startTime);return C+N},0),[e.segments,c]),w=b.useMemo(()=>c(n)-c(r),[r,n,c]);return a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:"Operation Segmentation"}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Divide the event into time segments and assign operations to each segment"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Enable"}),a.jsx(Ss,{checked:e.isEnabled,onCheckedChange:f})]})]}),e.isEnabled&&a.jsxs(a.Fragment,{children:[a.jsxs(Se,{children:[a.jsx(Me,{className:"pb-2 sm:pb-3",children:a.jsxs(Ve,{className:"text-sm flex items-center gap-2",children:[a.jsx(dc,{className:"h-4 w-4"}),"Event Time Frame"]})}),a.jsx(Ee,{className:"pt-0",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-xs sm:text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"font-medium",children:"Start:"}),a.jsx("span",{className:"font-mono",children:r})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"font-medium",children:"End:"}),a.jsx("span",{className:"font-mono",children:n})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"font-medium",children:"Duration:"}),a.jsx("span",{className:"font-mono",children:d(w)})]})]})})]}),s.length>0&&a.jsxs(Se,{className:"border-destructive",children:[a.jsx(Me,{className:"pb-2 sm:pb-3",children:a.jsxs(Ve,{className:"text-sm flex items-center gap-2 text-destructive",children:[a.jsx(wC,{className:"h-4 w-4"}),"Validation Errors"]})}),a.jsx(Ee,{className:"pt-0",children:a.jsx("ul",{className:"list-disc list-inside space-y-1 text-xs sm:text-sm text-destructive",children:s.map((C,E)=>a.jsx("li",{children:C},E))})})]}),a.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[a.jsx("h4",{className:"text-sm sm:text-md font-medium",children:"Time Segments"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.segments.length===0&&a.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:m,className:"text-xs sm:text-sm",children:"Auto Fill"}),a.jsxs(X,{type:"button",variant:"outline",size:"sm",onClick:p,className:"text-xs sm:text-sm",children:[a.jsx(br,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),"Add Segment"]})]})]}),e.segments.length===0?a.jsx(Se,{className:"border-dashed",children:a.jsxs(Ee,{className:"flex flex-col items-center justify-center py-6 sm:py-8 text-center",children:[a.jsx(dc,{className:"h-6 w-6 sm:h-8 sm:w-8 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground max-w-xs",children:"No segments created yet. Add segments to divide the event time."})]})}):a.jsx("div",{className:"space-y-2 sm:space-y-3",children:e.segments.map((C,E)=>{const N=S(C.operationId);return a.jsx(Se,{children:a.jsx(Ee,{className:"p-3 sm:p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Ze,{variant:"outline",className:"text-xs",children:["Segment ",E+1]}),a.jsx(X,{type:"button",variant:"ghost",size:"sm",onClick:()=>g(C.id),className:"text-destructive hover:text-destructive h-8 w-8 p-0",children:a.jsx(ss,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx($e,{className:"text-xs",children:"Start Time"}),a.jsx(et,{type:"time",value:C.startTime,onChange:k=>x(C.id,"startTime",k.target.value),className:"h-8 text-xs sm:text-sm"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx($e,{className:"text-xs",children:"End Time"}),a.jsx(et,{type:"time",value:C.endTime,onChange:k=>x(C.id,"endTime",k.target.value),className:"h-8 text-xs sm:text-sm"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx($e,{className:"text-xs",children:"Operation"}),a.jsxs(Wt,{value:C.operationId,onValueChange:k=>x(C.id,"operationId",k),children:[a.jsx(zt,{className:"h-8 text-xs sm:text-sm",children:a.jsx(qt,{})}),a.jsx(Ut,{children:Um.map(k=>a.jsx(pt,{value:k.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[k.color&&a.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full flex-shrink-0",style:{backgroundColor:k.color}}),a.jsx("span",{className:"text-xs sm:text-sm truncate",children:k.name})]})},k.id))})]})]}),N&&a.jsx("div",{className:"text-xs text-muted-foreground bg-muted/50 p-2 rounded-md",children:N.description})]})})},C.id)})}),e.segments.length>0&&a.jsxs(Se,{children:[a.jsx(Me,{className:"pb-2 sm:pb-3",children:a.jsxs(Ve,{className:"text-sm flex items-center gap-2",children:[a.jsx(dc,{className:"h-4 w-4"}),"Event Timeline"]})}),a.jsx(Ee,{className:"pt-0",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"h-8 rounded-lg border-2 border-gray-200 overflow-hidden",style:{background:(()=>{if(e.segments.length===0)return"#f3f4f6";const C=[...e.segments].sort((T,P)=>c(T.startTime)-c(P.startTime)),E=c(r),k=c(n)-E;if(k<=0)return"#f3f4f6";const A=[];return C.forEach((T,P)=>{const M=S(T.operationId),O=c(T.startTime),R=c(T.endTime),L=(O-E)/k*100,B=(R-E)/k*100,F=M?.color||"#94a3b8";P===0&&L>0&&(A.push("#f3f4f6 0%"),A.push(`#f3f4f6 ${L}%`)),A.push(`${F} ${L}%`),A.push(`${F} ${B}%`);const $=C[P+1];if($){const W=(c($.startTime)-E)/k*100;W>B&&(A.push(`#f3f4f6 ${B}%`),A.push(`#f3f4f6 ${W}%`))}else B<100&&(A.push(`#f3f4f6 ${B}%`),A.push("#f3f4f6 100%"))}),`linear-gradient(to right, ${A.join(", ")})`})()}}),a.jsxs("div",{className:"flex justify-between mt-1 text-xs text-muted-foreground",children:[a.jsx("span",{className:"font-mono",children:r}),a.jsx("span",{className:"font-mono",children:n})]})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.segments.map(C=>{const E=S(C.operationId);return E?a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:E.color}}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[E.name," (",C.startTime,"-",C.endTime,")"]})]},C.id):null})})]})})]}),e.segments.length>0&&a.jsx(Se,{children:a.jsx(Ee,{className:"p-3 sm:p-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-xs sm:text-sm",children:[a.jsx("span",{className:"font-medium",children:"Coverage Summary:"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:s.length===0?"text-green-600 font-mono":"text-destructive font-mono",children:[d(y)," / ",d(w)]}),s.length===0&&a.jsx(Ze,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:"Complete"})]})]})})})]})]})]})},bmt=({isOpen:e,onClose:t,newEventData:r,eventTitle:n,onEventTitleChange:s,employeeEventForm:i,onEmployeeEventFormChange:o,onCreateEvent:c,employees:d,statuses:u,businessBeginsHour:l=8,businessEndsHour:f=20})=>{const[p,g]=b.useState(!1),[x,S]=b.useState("details"),[m,y]=b.useState({isEnabled:!1,segments:[]}),w=(A,T)=>{o(A,T)},C=A=>{y(A),w("operation_segmentation",A)},E=()=>{g(!1),S("details"),y({isEnabled:!1,segments:[]}),t()},N=()=>{const A=l.toString().padStart(2,"0")+":00",T=f.toString().padStart(2,"0")+":00";w("scheduled_start_time",A),w("scheduled_end_time",T),g(!0)},k=()=>{if(!n.trim()||!r)return!1;if(i.scheduled_start_time&&i.scheduled_end_time){const A=new Date(`2000-01-01T${i.scheduled_start_time}`),T=new Date(`2000-01-01T${i.scheduled_end_time}`);if(A>=T)return!1}if(i.actual_start_time&&i.actual_end_time){const A=new Date(`2000-01-01T${i.actual_start_time}`),T=new Date(`2000-01-01T${i.actual_end_time}`);if(A>=T)return!1}return!0};return a.jsx(Dce,{open:e,onOpenChange:E,children:a.jsxs(u5,{title:"Create New Employee Event",children:[a.jsxs("div",{className:"max-h-[70vh] overflow-y-auto px-6 py-4",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx($e,{htmlFor:"eventTitle",className:"text-sm font-medium",children:"Event Title"}),a.jsx(et,{id:"eventTitle",type:"text",value:n,onChange:A=>s(A.target.value),placeholder:"Enter event title...",className:"mt-1",autoFocus:!0})]}),r&&a.jsxs("div",{className:"mb-6",children:[a.jsx($e,{className:"text-sm font-medium",children:"Employee Information"}),a.jsxs("div",{className:"mt-1 p-3 bg-muted rounded-md",children:[a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Employee:"})," ",d.find(A=>A.id===r.resource)?.name||r.resource]}),a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Scheduled Start:"})," ",r.start.toString()]}),a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Scheduled End:"})," ",r.end.toString()]})]})]}),a.jsxs(ch,{value:x,onValueChange:S,className:"w-full",children:[a.jsxs(mu,{className:"grid w-full grid-cols-2",children:[a.jsx(Qs,{value:"details",children:"Event Details"}),a.jsx(Qs,{value:"operations",children:"Operation Segmentation"})]}),a.jsxs(Js,{value:"details",className:"space-y-6 mt-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Scheduled Times"}),a.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:N,className:"text-xs",children:"All Work Day"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx($e,{htmlFor:"scheduledStartTime",className:"text-sm",children:"Scheduled Start Time"}),a.jsx(et,{id:"scheduledStartTime",type:"time",value:i.scheduled_start_time||"",onChange:A=>{w("scheduled_start_time",A.target.value),g(!1)},disabled:p,className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"scheduledEndTime",className:"text-sm",children:"Scheduled End Time"}),a.jsx(et,{id:"scheduledEndTime",type:"time",value:i.scheduled_end_time||"",onChange:A=>{w("scheduled_end_time",A.target.value),g(!1)},disabled:p,className:"mt-1"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Actual Times"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx($e,{htmlFor:"actualStartTime",className:"text-sm",children:"Actual Start Time"}),a.jsx(et,{id:"actualStartTime",type:"time",value:i.actual_start_time||"",onChange:A=>w("actual_start_time",A.target.value||null),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"actualEndTime",className:"text-sm",children:"Actual End Time"}),a.jsx(et,{id:"actualEndTime",type:"time",value:i.actual_end_time||"",onChange:A=>w("actual_end_time",A.target.value||null),className:"mt-1"})]})]})]}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"statusSelect",className:"text-sm font-medium",children:"Status"}),a.jsxs(Wt,{value:i.status_id.toString(),onValueChange:A=>w("status_id",parseInt(A)),children:[a.jsx(zt,{className:"mt-1",children:a.jsx(qt,{placeholder:"Select status"})}),a.jsx(Ut,{children:u.map(A=>a.jsx(pt,{value:A.id,children:A.name},A.id))})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Options"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx($e,{htmlFor:"vciSwitch",className:"text-sm",children:"VCI (Virtual Id Check)"}),a.jsx(Ss,{id:"vciSwitch",checked:i.vci,onCheckedChange:A=>w("vci",A)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx($e,{htmlFor:"agreeExceptionSwitch",className:"text-sm",children:"Agree on Exception"}),a.jsx(Ss,{id:"agreeExceptionSwitch",checked:i.agree_on_exception,onCheckedChange:A=>w("agree_on_exception",A)})]})]}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"exceptionNotes",className:"text-sm font-medium",children:"Exception Notes"}),a.jsx(wo,{id:"exceptionNotes",value:i.exception_notes||"",onChange:A=>w("exception_notes",A.target.value||null),placeholder:"Enter any exception notes...",className:"mt-1 min-h-[80px]"})]})]}),a.jsx(Js,{value:"operations",className:"mt-6",children:a.jsx(Mce,{segmentation:m,onSegmentationChange:C,eventStartTime:i.scheduled_start_time||"08:00",eventEndTime:i.scheduled_end_time||"17:00"})})]})]}),a.jsx(f5,{children:a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(X,{variant:"outline",onClick:E,children:"Cancel"}),a.jsx(X,{onClick:c,disabled:!k(),children:"Create Event"})]})})]})})},wmt=({isOpen:e,onClose:t,editingEvent:r,editEventTitle:n,onEditEventTitleChange:s,editEmployeeEventForm:i,onEditEmployeeEventFormChange:o,onEditEvent:c,onDeleteEvent:d,employees:u,statuses:l,businessBeginsHour:f=8,businessEndsHour:p=20})=>{const[g,x]=b.useState(!1),[S,m]=b.useState("details"),[y,w]=b.useState({isEnabled:!1,segments:[]});b.useEffect(()=>{i?.operation_segmentation?w(i.operation_segmentation):w({isEnabled:!1,segments:[]})},[i?.operation_segmentation]);const C=(P,M)=>{o(P,M)},E=P=>{w(P),C("operation_segmentation",P)},N=()=>{x(!1),m("details"),t()},k=()=>{const P=f.toString().padStart(2,"0")+":00",M=p.toString().padStart(2,"0")+":00";C("scheduled_start_time",P),C("scheduled_end_time",M),x(!0)},A=()=>{if(!n.trim()||!r)return!1;if(i.scheduled_start_time&&i.scheduled_end_time){const P=new Date(`2000-01-01T${i.scheduled_start_time}`),M=new Date(`2000-01-01T${i.scheduled_end_time}`);if(P>=M)return!1}if(i.actual_start_time&&i.actual_end_time){const P=new Date(`2000-01-01T${i.actual_start_time}`),M=new Date(`2000-01-01T${i.actual_end_time}`);if(P>=M)return!1}return!0},T=()=>{window.confirm("Are you sure you want to delete this event?")&&d()};return r?a.jsx(Dce,{open:e,onOpenChange:N,children:a.jsxs(u5,{title:"Edit Employee Event",children:[a.jsxs("div",{className:"max-h-[70vh] overflow-y-auto px-6 py-4",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx($e,{htmlFor:"editEventTitle",className:"text-sm font-medium",children:"Event Title"}),a.jsx(et,{id:"editEventTitle",type:"text",value:n,onChange:P=>s(P.target.value),placeholder:"Enter event title...",className:"mt-1",autoFocus:!0})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx($e,{className:"text-sm font-medium",children:"Employee Information"}),a.jsxs("div",{className:"mt-1 p-3 bg-muted rounded-md",children:[a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Employee:"})," ",u.find(P=>P.id===r.resource)?.name||r.resource]}),a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Scheduled Start:"})," ",r.start.toString()]}),a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Scheduled End:"})," ",r.end.toString()]}),r.id&&a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Event ID:"})," ",r.id]})]})]}),a.jsxs(ch,{value:S,onValueChange:m,className:"w-full",children:[a.jsxs(mu,{className:"grid w-full grid-cols-2",children:[a.jsx(Qs,{value:"details",children:"Event Details"}),a.jsx(Qs,{value:"operations",children:"Operation Segmentation"})]}),a.jsxs(Js,{value:"details",className:"space-y-6 mt-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Scheduled Times"}),a.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:k,className:"text-xs",children:"All Work Day"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx($e,{htmlFor:"editScheduledStartTime",className:"text-sm",children:"Scheduled Start Time"}),a.jsx(et,{id:"editScheduledStartTime",type:"time",value:i.scheduled_start_time||"",onChange:P=>{C("scheduled_start_time",P.target.value),x(!1)},disabled:g,className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"editScheduledEndTime",className:"text-sm",children:"Scheduled End Time"}),a.jsx(et,{id:"editScheduledEndTime",type:"time",value:i.scheduled_end_time||"",onChange:P=>{C("scheduled_end_time",P.target.value),x(!1)},disabled:g,className:"mt-1"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Actual Times"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx($e,{htmlFor:"editActualStartTime",className:"text-sm",children:"Actual Start Time"}),a.jsx(et,{id:"editActualStartTime",type:"time",value:i.actual_start_time||"",onChange:P=>C("actual_start_time",P.target.value||null),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"editActualEndTime",className:"text-sm",children:"Actual End Time"}),a.jsx(et,{id:"editActualEndTime",type:"time",value:i.actual_end_time||"",onChange:P=>C("actual_end_time",P.target.value||null),className:"mt-1"})]})]})]}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"editStatusSelect",className:"text-sm font-medium",children:"Status"}),a.jsxs(Wt,{value:i.status_id.toString(),onValueChange:P=>C("status_id",parseInt(P)),children:[a.jsx(zt,{className:"mt-1",children:a.jsx(qt,{placeholder:"Select status"})}),a.jsx(Ut,{children:l.map(P=>a.jsx(pt,{value:P.id,children:P.name},P.id))})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Options"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx($e,{htmlFor:"editVciSwitch",className:"text-sm",children:"VCI (Virtual Id Check)"}),a.jsx(Ss,{id:"editVciSwitch",checked:i.vci,onCheckedChange:P=>C("vci",P)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx($e,{htmlFor:"editAgreeExceptionSwitch",className:"text-sm",children:"Agree on Exception"}),a.jsx(Ss,{id:"editAgreeExceptionSwitch",checked:i.agree_on_exception,onCheckedChange:P=>C("agree_on_exception",P)})]})]}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"editExceptionNotes",className:"text-sm font-medium",children:"Exception Notes"}),a.jsx(wo,{id:"editExceptionNotes",value:i.exception_notes||"",onChange:P=>C("exception_notes",P.target.value||null),placeholder:"Enter any exception notes...",className:"mt-1 min-h-[80px]"})]})]}),a.jsx(Js,{value:"operations",className:"space-y-6 mt-6",children:a.jsx(Mce,{segmentation:y,onSegmentationChange:E,eventStartTime:i.scheduled_start_time||"",eventEndTime:i.scheduled_end_time||""})})]})]}),a.jsx(f5,{children:a.jsxs("div",{className:"flex gap-2 justify-between",children:[a.jsx(X,{variant:"destructive",onClick:T,children:"Delete Event"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(X,{variant:"outline",onClick:N,children:"Cancel"}),a.jsx(X,{onClick:c,disabled:!A(),children:"Update Event"})]})]})})]})}):null},Smt=()=>a.jsx("h2",{className:"mb-5 text-2xl font-bold text-foreground",children:"React Scheduler with Multiple Views (DayPilot)"}),Cmt=({currentView:e,dateRangeText:t,onPrevious:r,onNext:n,onToday:s,onViewChange:i})=>a.jsxs("div",{className:"mb-5 flex items-center justify-between rounded-lg bg-muted p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx(X,{onClick:r,variant:"outline",size:"sm",className:"text-sm",children:" Previous"}),a.jsx(X,{onClick:s,variant:"default",size:"sm",className:"font-bold",children:"Today"}),a.jsx(X,{onClick:n,variant:"outline",size:"sm",className:"text-sm",children:"Next "}),a.jsx("div",{className:"ml-5 text-base font-bold text-foreground",children:t})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(X,{onClick:()=>i("day"),variant:e==="day"?"default":"outline",size:"sm",className:"px-4",children:"Day"}),a.jsx(X,{onClick:()=>i("week"),variant:e==="week"?"default":"outline",size:"sm",className:"px-4",children:"Week"})]})]}),jmt=({selectedStoreId:e,stores:t,onStoreChange:r,getStoreName:n})=>a.jsxs("div",{className:"mb-4 flex items-center gap-4 rounded-lg bg-card border border-border p-4 shadow-sm",children:[a.jsx($e,{htmlFor:"storeSelect",className:"text-sm font-medium text-card-foreground whitespace-nowrap",children:"Select Store:"}),a.jsxs(Wt,{value:e||"all",onValueChange:r,children:[a.jsx(zt,{className:"w-[200px]",children:a.jsx(qt,{placeholder:"All Stores"})}),a.jsxs(Ut,{children:[a.jsx(pt,{value:"all",children:"All Stores"}),t.map(s=>a.jsx(pt,{value:s.id,children:s.name},s.id))]})]}),e&&a.jsxs("span",{className:"text-sm text-muted-foreground",children:["Showing employees from: ",a.jsx("span",{className:"font-medium text-primary",children:n(e)})]})]}),Emt=({currentView:e})=>{const t=()=>{switch(e){case"day":case"week":return"  Business hours: 8 AM - 8 PM";default:return""}};return a.jsxs("div",{className:"mb-4 rounded bg-primary-50 p-2.5 text-sm text-primary-700",children:[a.jsx("strong",{children:"Current View:"})," ",e.charAt(0).toUpperCase()+e.slice(1),t()]})},_W=[{id:"1",name:"Scheduled"},{id:"2",name:"In Progress"},{id:"3",name:"Completed"},{id:"4",name:"Cancelled"},{id:"5",name:"No Show"}],Oce=[{id:"store1",name:"Downtown Store"},{id:"store2",name:"Mall Location"},{id:"store3",name:"Airport Branch"},{id:"store4",name:"Suburban Center"}],AW=[{id:"emp1",name:"Alice Johnson",storeId:"store1",color:"#3498db"},{id:"emp2",name:"Bob Smith",storeId:"store1",color:"#e74c3c"},{id:"emp3",name:"Carol Davis",storeId:"store2",color:"#2ecc71"},{id:"emp4",name:"David Wilson",storeId:"store2",color:"#f39c12"},{id:"emp5",name:"Eva Brown",storeId:"store3",color:"#9b59b6"},{id:"emp6",name:"Frank Miller",storeId:"store3",color:"#1abc9c"},{id:"emp7",name:"Grace Lee",storeId:"store4",color:"#e67e22"},{id:"emp8",name:"Henry Taylor",storeId:"store4",color:"#34495e"}],Nmt=[{id:"event1",text:"Morning Shift",start:Sa.DayPilot.Date.today().addHours(9),end:Sa.DayPilot.Date.today().addHours(17),resource:"emp1",barColor:"#3498db",description:"Regular morning shift",status:"Confirmed",priority:"High"},{id:"event2",text:"Training Session",start:Sa.DayPilot.Date.today().addDays(1).addHours(10),end:Sa.DayPilot.Date.today().addDays(1).addHours(12),resource:"emp2",barColor:"#e74c3c",description:"New employee training",status:"Scheduled",priority:"Medium"},{id:"event3",text:"Customer Meeting",start:Sa.DayPilot.Date.today().addDays(2).addHours(14),end:Sa.DayPilot.Date.today().addDays(2).addHours(16),resource:"emp3",barColor:"#2ecc71",description:"Important client presentation",status:"Confirmed",priority:"High"}],_mt=e=>{const t=b.useCallback(()=>!e||e==="all"?AW:AW.filter(l=>l.storeId===e),[e]),r=(l,f)=>{switch(l){case"day":return f.toString("MMMM d, yyyy");case"week":const p=f.firstDayOfWeek(),g=p.addDays(6);return`${p.toString("MMM d")} - ${g.toString("MMM d, yyyy")}`;default:return f.toString()}},n=()=>({emp_info_id:0,scheduled_start_time:"",scheduled_end_time:"",event_start_time:"",event_end_time:"",actual_start_time:null,actual_end_time:null,vci:!1,status_id:1,agree_on_exception:!1,exception_notes:null}),s=l=>Oce.find(f=>f.id===l)?.name||"",i=b.useCallback(l=>{const f=l.getHours().toString().padStart(2,"0"),p=l.getMinutes().toString().padStart(2,"0"),g=l.getSeconds().toString().padStart(2,"0");return`${f}:${p}:${g}`},[]),o=b.useCallback((l,f)=>{const[p,g,x=0]=l.split(":").map(Number);return(f||Sa.DayPilot.Date.today()).getDatePart().addHours(p).addMinutes(g).addSeconds(x)},[]),c=b.useCallback((l,f,p)=>{const g=i(f),x=i(p);return{...l||n(),scheduled_start_time:g,scheduled_end_time:x,event_start_time:g,event_end_time:x}},[i,n]),d=b.useCallback((l,f)=>{const p=new Date(`2000-01-01T${l}`);return(new Date(`2000-01-01T${f}`).getTime()-p.getTime())/(1e3*60*60)},[]),u=b.useCallback(l=>l===1?"1 hour":l<1?`${Math.round(l*60)} minutes`:`${l.toFixed(1)} hours`,[]);return{getFilteredEmployees:t,getDateRangeText:r,getInitialEmployeeEventForm:n,getStoreName:s,convertDayPilotDateToTimeString:i,convertTimeStringToDayPilotDate:o,updateEmployeeEventTimes:c,calculateDurationHours:d,formatDuration:u}},Amt=({currentView:e,currentDate:t,events:r,setCurrentView:n,setCurrentDate:s,setSelectedStoreId:i,setEvents:o,setNewEventData:c,setIsCreateDrawerOpen:d,setSelectedEvent:u,setIsEditDrawerOpen:l,setEventTitle:f,setEditEventTitle:p,resetCreateForm:g,resetEditForm:x,updateEmployeeEventTimes:S,convertDayPilotDateToTimeString:m})=>({handleViewChange:M=>{n(M)},handlePrevious:()=>{switch(e){case"day":s(t.addDays(-1));break;case"week":s(t.addDays(-7));break}},handleNext:()=>{switch(e){case"day":s(t.addDays(1));break;case"week":s(t.addDays(7));break}},handleToday:()=>{s(Sa.DayPilot.Date.today())},handleStoreChange:M=>{i(M==="all"?null:M)},handleTimeRangeSelected:M=>{const O={start:M.start,end:M.end,resource:String(M.resource)};c(O),f(""),g(),d(!0)},handleEventClick:M=>{const O=M.e.data;u(O),p(O.text||""),l(!0),x()},handleEventMove:M=>{const O=M.e.id(),R=M.newStart,L=M.newEnd,B=String(M.newResource),F=r.map($=>{if($.id===O){const z={...$,start:R,end:L,resource:B};return $.employeeEventData&&(z.employeeEventData=S($.employeeEventData,R,L)),console.log("Event moved:",{eventId:O,newStartTime:m(R),newEndTime:m(L),employeeEventData:z.employeeEventData}),z}return $});o(F)},handleEventResize:M=>{const O=M.e.id(),R=M.newStart,L=M.newEnd,B=r.map(F=>{if(F.id===O){const $={...F,start:R,end:L};return F.employeeEventData&&($.employeeEventData=S(F.employeeEventData,R,L)),console.log("Event resized:",{eventId:O,newStartTime:m(R),newEndTime:m(L),employeeEventData:$.employeeEventData}),$}return F});o(B)}}),kmt=({events:e,setEvents:t,setIsCreateDrawerOpen:r,setNewEventData:n,setEventTitle:s,resetCreateForm:i})=>{const o=()=>{r(!1),n(null),s(""),i()};return{handleCreateDrawerClose:o,handleEmployeeEventFormChange:(u,l,f)=>{f(p=>({...p,[u]:l}))},handleCreateEvent:(u,l,f)=>{if(!u||!l.trim())return;let p=u.start,g=u.end;if(f.scheduled_start_time&&f.scheduled_end_time){const m=new Date(u.start.toString()).toISOString().split("T")[0],y=E=>E.split(":").length===2?`${E}:00`:E,w=y(f.scheduled_start_time),C=y(f.scheduled_end_time);p=new Sa.DayPilot.Date(`${m}T${w}`),g=new Sa.DayPilot.Date(`${m}T${C}`)}const x={...u,id:`event_${Date.now()}`,text:l.trim(),start:p,end:g,employeeEventData:f};t([...e,x]),console.log("Event created:",x),console.log("Employee event form data:",f),o()}}},Tmt=({events:e,setEvents:t,setIsEditDrawerOpen:r,setSelectedEvent:n,setEditEventTitle:s,resetEditForm:i})=>{const o=()=>{r(!1),n(null),s(""),i()};return{handleEditDrawerClose:o,handleEditEmployeeEventFormChange:(l,f,p)=>{p(g=>({...g,[l]:f}))},handleUpdateEvent:(l,f,p)=>{if(!l||!f.trim())return;let g=l.start,x=l.end;if(p.scheduled_start_time&&p.scheduled_end_time){const y=new Date(l.start.toString()).toISOString().split("T")[0],w=N=>N.split(":").length===2?`${N}:00`:N,C=w(p.scheduled_start_time),E=w(p.scheduled_end_time);g=new Sa.DayPilot.Date(`${y}T${C}`),x=new Sa.DayPilot.Date(`${y}T${E}`)}const S=e.map(m=>m.id===l.id?{...m,text:f.trim(),start:g,end:x,employeeEventData:p}:m);t(S),console.log("Event updated:",l),console.log("Employee event form data:",p),o()},handleDeleteEvent:l=>{if(!l)return;const f=e.filter(p=>p.id!==l.id);t(f),console.log("Event deleted:",l.id),o()}}},Pmt=()=>{const[e,t]=b.useState([]),[r,n]=b.useState([]),[s,i]=b.useState("week"),[o,c]=b.useState(Sa.DayPilot.Date.today()),[d,u]=b.useState(null),[l,f]=b.useState(!1),[p,g]=b.useState(null),[x,S]=b.useState(""),[m,y]=b.useState({emp_info_id:0,scheduled_start_time:"",scheduled_end_time:"",event_start_time:"",event_end_time:"",actual_start_time:null,actual_end_time:null,vci:!1,status_id:1,agree_on_exception:!1,exception_notes:null}),[w,C]=b.useState(!1),[E,N]=b.useState(null),[k,A]=b.useState(""),[T,P]=b.useState({emp_info_id:0,scheduled_start_time:"",scheduled_end_time:"",event_start_time:"",event_end_time:"",actual_start_time:null,actual_end_time:null,vci:!1,status_id:1,agree_on_exception:!1,exception_notes:null}),{getFilteredEmployees:M,getDateRangeText:O,getInitialEmployeeEventForm:R,getStoreName:L,updateEmployeeEventTimes:B,convertDayPilotDateToTimeString:F}=_mt(d),$=(he,ee)=>{switch(he){case"day":return{scale:"Hour",days:1,startDate:ee.getDatePart().toString(),timeHeaders:[{groupBy:"Hour",format:"h tt"}],cellWidth:100,businessBeginsHour:8,businessEndsHour:20,showNonBusiness:!1};case"week":return{scale:"Day",days:7,startDate:ee.firstDayOfWeek().toString(),timeHeaders:[{groupBy:"Day",format:"M/d/yyyy"}],cellWidth:200,businessBeginsHour:8,businessEndsHour:20,showNonBusiness:!1};default:return $("week",ee)}},z=$(s,o),W=()=>{y(R())},Z=()=>{P(R())},V=Amt({currentView:s,currentDate:o,events:r,setCurrentView:i,setCurrentDate:c,setSelectedStoreId:u,setEvents:n,setNewEventData:g,setIsCreateDrawerOpen:f,setSelectedEvent:N,setIsEditDrawerOpen:C,setEventTitle:S,setEditEventTitle:A,resetCreateForm:W,resetEditForm:Z,updateEmployeeEventTimes:B,convertDayPilotDateToTimeString:F}),q=kmt({events:r,setEvents:n,setIsCreateDrawerOpen:f,setNewEventData:g,setEventTitle:S,resetCreateForm:W}),H=Tmt({events:r,setEvents:n,setIsEditDrawerOpen:C,setSelectedEvent:N,setEditEventTitle:A,resetEditForm:Z}),K=(he,ee)=>{q.handleEmployeeEventFormChange(he,ee,y)},Y=(he,ee)=>{H.handleEditEmployeeEventFormChange(he,ee,P)},re=()=>{q.handleCreateEvent(p,x,m)},me=()=>{H.handleUpdateEvent(E,k,T)},de=()=>{H.handleDeleteEvent(E)};return b.useEffect(()=>{E&&E.employeeEventData&&P(E.employeeEventData)},[E]),b.useEffect(()=>{const he=M(),ee=he.map(ie=>({name:ie.name,id:ie.id}));t(ee),n(Nmt.filter(ie=>he.some(ye=>ye.id===ie.resource)))},[d,M]),a.jsxs("div",{className:"p-5 font-sans",children:[a.jsx(Smt,{}),a.jsx(Cmt,{currentView:s,dateRangeText:O(s,o),onPrevious:V.handlePrevious,onNext:V.handleNext,onToday:V.handleToday,onViewChange:V.handleViewChange}),a.jsx(jmt,{selectedStoreId:d,stores:Oce,onStoreChange:V.handleStoreChange,getStoreName:L}),a.jsx(Emt,{currentView:s}),a.jsx(pmt,{resources:e,events:r,currentView:s,currentDate:o,onTimeRangeSelected:V.handleTimeRangeSelected,onEventClick:V.handleEventClick,onEventMoved:V.handleEventMove,onEventResized:V.handleEventResize}),a.jsx(bmt,{isOpen:l,onClose:q.handleCreateDrawerClose,newEventData:p,eventTitle:x,onEventTitleChange:S,employeeEventForm:m,onEmployeeEventFormChange:K,onCreateEvent:re,employees:M(),statuses:_W,businessBeginsHour:z.businessBeginsHour,businessEndsHour:z.businessEndsHour}),a.jsx(wmt,{isOpen:w,onClose:H.handleEditDrawerClose,editingEvent:E,editEventTitle:k,onEditEventTitleChange:A,editEmployeeEventForm:T,onEditEmployeeEventFormChange:Y,onEditEvent:me,onDeleteEvent:de,employees:M(),statuses:_W,businessBeginsHour:z.businessBeginsHour,businessEndsHour:z.businessEndsHour})]})},Dmt=()=>a.jsx(Pmt,{}),Rmt=[a.jsx(Dt,{path:"/daily-schedules",element:a.jsx(Lt,{children:a.jsx(tr,{role:"super-admin",children:a.jsx(Bt,{children:a.jsx(Dmt,{})})})})},"daily-schedules-management")];function Mmt(){return a.jsx(V_e,{defaultTheme:"light",storageKey:"pizza-app-theme",children:a.jsx(Y_e,{fallback:a.jsx(Z_e,{}),children:a.jsx(D_e,{children:a.jsx("div",{className:"min-h-screen bg-background text-foreground transition-colors",children:a.jsxs(o_e,{children:[A2e,Mat,xlt,Flt,fct,out,Rft,ght,Rht,Iht,Bht,nmt,imt,lmt,Rmt,a.jsx(Dt,{path:"/",element:a.jsx(bC,{to:"/dashboard",replace:!0})}),a.jsx(Dt,{path:"*",element:a.jsx(bC,{to:"/dashboard",replace:!0})})]})})})})})}tfe.createRoot(document.getElementById("root")).render(a.jsx(b.StrictMode,{children:a.jsx(kW,{store:Es,children:a.jsx(Mmt,{})})}));
