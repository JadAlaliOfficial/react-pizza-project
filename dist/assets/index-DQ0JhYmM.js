function Bve(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var OT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function zve(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function s(){var a=!1;try{a=this instanceof s}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var a=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(r,s,a.get?a:{enumerable:!0,get:function(){return e[s]}})}),r}var IT={exports:{}},Rv={};var Fz;function Uve(){if(Fz)return Rv;Fz=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(s,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var c in a)c!=="key"&&(i[c]=a[c])}else i=a;return a=i.ref,{$$typeof:e,type:s,key:o,ref:a!==void 0?a:null,props:i}}return Rv.Fragment=t,Rv.jsx=r,Rv.jsxs=r,Rv}var $z;function Hve(){return $z||($z=1,IT.exports=Uve()),IT.exports}var n=Hve(),FT={exports:{}},Gt={};var Lz;function Vve(){if(Lz)return Gt;Lz=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),f=Symbol.iterator;function m(V){return V===null||typeof V!="object"?null:(V=f&&V[f]||V["@@iterator"],typeof V=="function"?V:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,b={};function h(V,G,U){this.props=V,this.context=G,this.refs=b,this.updater=U||p}h.prototype.isReactComponent={},h.prototype.setState=function(V,G){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,G,"setState")},h.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function y(){}y.prototype=h.prototype;function w(V,G,U){this.props=V,this.context=G,this.refs=b,this.updater=U||p}var S=w.prototype=new y;S.constructor=w,x(S,h.prototype),S.isPureReactComponent=!0;var N=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function E(V,G,U,Y,K,re){return U=re.ref,{$$typeof:e,type:V,key:G,ref:U!==void 0?U:null,props:re}}function T(V,G){return E(V.type,G,void 0,void 0,void 0,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===e}function P(V){var G={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(U){return G[U]})}var M=/\/+/g;function R(V,G){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):G.toString(36)}function B(){}function L(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(B,B):(V.status="pending",V.then(function(G){V.status==="pending"&&(V.status="fulfilled",V.value=G)},function(G){V.status==="pending"&&(V.status="rejected",V.reason=G)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function $(V,G,U,Y,K){var re=typeof V;(re==="undefined"||re==="boolean")&&(V=null);var he=!1;if(V===null)he=!0;else switch(re){case"bigint":case"string":case"number":he=!0;break;case"object":switch(V.$$typeof){case e:case t:he=!0;break;case l:return he=V._init,$(he(V._payload),G,U,Y,K)}}if(he)return K=K(V),he=Y===""?"."+R(V,0):Y,N(K)?(U="",he!=null&&(U=he.replace(M,"$&/")+"/"),$(K,G,U,"",function(ie){return ie})):K!=null&&(D(K)&&(K=T(K,U+(K.key==null||V&&V.key===K.key?"":(""+K.key).replace(M,"$&/")+"/")+he)),G.push(K)),1;he=0;var me=Y===""?".":Y+":";if(N(V))for(var de=0;de<V.length;de++)Y=V[de],re=me+R(Y,de),he+=$(Y,G,U,re,K);else if(de=m(V),typeof de=="function")for(V=de.call(V),de=0;!(Y=V.next()).done;)Y=Y.value,re=me+R(Y,de++),he+=$(Y,G,U,re,K);else if(re==="object"){if(typeof V.then=="function")return $(L(V),G,U,Y,K);throw G=String(V),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return he}function I(V,G,U){if(V==null)return V;var Y=[],K=0;return $(V,Y,"","",function(re){return G.call(U,re,K++)}),Y}function z(V){if(V._status===-1){var G=V._result;G=G(),G.then(function(U){(V._status===0||V._status===-1)&&(V._status=1,V._result=U)},function(U){(V._status===0||V._status===-1)&&(V._status=2,V._result=U)}),V._status===-1&&(V._status=0,V._result=G)}if(V._status===1)return V._result.default;throw V._result}var H=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Z(){}return Gt.Children={map:I,forEach:function(V,G,U){I(V,function(){G.apply(this,arguments)},U)},count:function(V){var G=0;return I(V,function(){G++}),G},toArray:function(V){return I(V,function(G){return G})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Gt.Component=h,Gt.Fragment=r,Gt.Profiler=a,Gt.PureComponent=w,Gt.StrictMode=s,Gt.Suspense=d,Gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,Gt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return _.H.useMemoCache(V)}},Gt.cache=function(V){return function(){return V.apply(null,arguments)}},Gt.cloneElement=function(V,G,U){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var Y=x({},V.props),K=V.key,re=void 0;if(G!=null)for(he in G.ref!==void 0&&(re=void 0),G.key!==void 0&&(K=""+G.key),G)!k.call(G,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&G.ref===void 0||(Y[he]=G[he]);var he=arguments.length-2;if(he===1)Y.children=U;else if(1<he){for(var me=Array(he),de=0;de<he;de++)me[de]=arguments[de+2];Y.children=me}return E(V.type,K,void 0,void 0,re,Y)},Gt.createContext=function(V){return V={$$typeof:o,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:i,_context:V},V},Gt.createElement=function(V,G,U){var Y,K={},re=null;if(G!=null)for(Y in G.key!==void 0&&(re=""+G.key),G)k.call(G,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(K[Y]=G[Y]);var he=arguments.length-2;if(he===1)K.children=U;else if(1<he){for(var me=Array(he),de=0;de<he;de++)me[de]=arguments[de+2];K.children=me}if(V&&V.defaultProps)for(Y in he=V.defaultProps,he)K[Y]===void 0&&(K[Y]=he[Y]);return E(V,re,void 0,void 0,null,K)},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(V){return{$$typeof:c,render:V}},Gt.isValidElement=D,Gt.lazy=function(V){return{$$typeof:l,_payload:{_status:-1,_result:V},_init:z}},Gt.memo=function(V,G){return{$$typeof:u,type:V,compare:G===void 0?null:G}},Gt.startTransition=function(V){var G=_.T,U={};_.T=U;try{var Y=V(),K=_.S;K!==null&&K(U,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(Z,H)}catch(re){H(re)}finally{_.T=G}},Gt.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},Gt.use=function(V){return _.H.use(V)},Gt.useActionState=function(V,G,U){return _.H.useActionState(V,G,U)},Gt.useCallback=function(V,G){return _.H.useCallback(V,G)},Gt.useContext=function(V){return _.H.useContext(V)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(V,G){return _.H.useDeferredValue(V,G)},Gt.useEffect=function(V,G,U){var Y=_.H;if(typeof U=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(V,G)},Gt.useId=function(){return _.H.useId()},Gt.useImperativeHandle=function(V,G,U){return _.H.useImperativeHandle(V,G,U)},Gt.useInsertionEffect=function(V,G){return _.H.useInsertionEffect(V,G)},Gt.useLayoutEffect=function(V,G){return _.H.useLayoutEffect(V,G)},Gt.useMemo=function(V,G){return _.H.useMemo(V,G)},Gt.useOptimistic=function(V,G){return _.H.useOptimistic(V,G)},Gt.useReducer=function(V,G,U){return _.H.useReducer(V,G,U)},Gt.useRef=function(V){return _.H.useRef(V)},Gt.useState=function(V){return _.H.useState(V)},Gt.useSyncExternalStore=function(V,G,U){return _.H.useSyncExternalStore(V,G,U)},Gt.useTransition=function(){return _.H.useTransition()},Gt.version="19.1.0",Gt}var Bz;function Ru(){return Bz||(Bz=1,FT.exports=Vve()),FT.exports}var v=Ru();const te=Vi(v),wm=Bve({__proto__:null,default:te},[v]);var $T={exports:{}},Mv={},LT={exports:{}},BT={};var zz;function Wve(){return zz||(zz=1,(function(e){function t(I,z){var H=I.length;I.push(z);e:for(;0<H;){var Z=H-1>>>1,V=I[Z];if(0<a(V,z))I[Z]=z,I[H]=V,H=Z;else break e}}function r(I){return I.length===0?null:I[0]}function s(I){if(I.length===0)return null;var z=I[0],H=I.pop();if(H!==z){I[0]=H;e:for(var Z=0,V=I.length,G=V>>>1;Z<G;){var U=2*(Z+1)-1,Y=I[U],K=U+1,re=I[K];if(0>a(Y,H))K<V&&0>a(re,Y)?(I[Z]=re,I[K]=H,Z=K):(I[Z]=Y,I[U]=H,Z=U);else if(K<V&&0>a(re,H))I[Z]=re,I[K]=H,Z=K;else break e}}return z}function a(I,z){var H=I.sortIndex-z.sortIndex;return H!==0?H:I.id-z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var d=[],u=[],l=1,f=null,m=3,p=!1,x=!1,b=!1,h=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function N(I){for(var z=r(u);z!==null;){if(z.callback===null)s(u);else if(z.startTime<=I)s(u),z.sortIndex=z.expirationTime,t(d,z);else break;z=r(u)}}function _(I){if(b=!1,N(I),!x)if(r(d)!==null)x=!0,k||(k=!0,R());else{var z=r(u);z!==null&&$(_,z.startTime-I)}}var k=!1,E=-1,T=5,D=-1;function P(){return h?!0:!(e.unstable_now()-D<T)}function M(){if(h=!1,k){var I=e.unstable_now();D=I;var z=!0;try{e:{x=!1,b&&(b=!1,w(E),E=-1),p=!0;var H=m;try{t:{for(N(I),f=r(d);f!==null&&!(f.expirationTime>I&&P());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,m=f.priorityLevel;var V=Z(f.expirationTime<=I);if(I=e.unstable_now(),typeof V=="function"){f.callback=V,N(I),z=!0;break t}f===r(d)&&s(d),N(I)}else s(d);f=r(d)}if(f!==null)z=!0;else{var G=r(u);G!==null&&$(_,G.startTime-I),z=!1}}break e}finally{f=null,m=H,p=!1}z=void 0}}finally{z?R():k=!1}}}var R;if(typeof S=="function")R=function(){S(M)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,L=B.port2;B.port1.onmessage=M,R=function(){L.postMessage(null)}}else R=function(){y(M,0)};function $(I,z){E=y(function(){I(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(I){switch(m){case 1:case 2:case 3:var z=3;break;default:z=m}var H=m;m=z;try{return I()}finally{m=H}},e.unstable_requestPaint=function(){h=!0},e.unstable_runWithPriority=function(I,z){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var H=m;m=I;try{return z()}finally{m=H}},e.unstable_scheduleCallback=function(I,z,H){var Z=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Z+H:Z):H=Z,I){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=H+V,I={id:l++,callback:z,priorityLevel:I,startTime:H,expirationTime:V,sortIndex:-1},H>Z?(I.sortIndex=H,t(u,I),r(d)===null&&I===r(u)&&(b?(w(E),E=-1):b=!0,$(_,H-Z))):(I.sortIndex=V,t(d,I),x||p||(x=!0,k||(k=!0,R()))),I},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(I){var z=m;return function(){var H=m;m=z;try{return I.apply(this,arguments)}finally{m=H}}}})(BT)),BT}var Uz;function qve(){return Uz||(Uz=1,LT.exports=Wve()),LT.exports}var zT={exports:{}},ua={};var Hz;function Gve(){if(Hz)return ua;Hz=1;var e=Ru();function t(d){var u="https://react.dev/errors/"+d;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)u+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+d+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(d,u,l){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:f==null?null:""+f,children:d,containerInfo:u,implementation:l}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,u){if(d==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return ua.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ua.createPortal=function(d,u){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return i(d,u,null,l)},ua.flushSync=function(d){var u=o.T,l=s.p;try{if(o.T=null,s.p=2,d)return d()}finally{o.T=u,s.p=l,s.d.f()}},ua.preconnect=function(d,u){typeof d=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,s.d.C(d,u))},ua.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},ua.preinit=function(d,u){if(typeof d=="string"&&u&&typeof u.as=="string"){var l=u.as,f=c(l,u.crossOrigin),m=typeof u.integrity=="string"?u.integrity:void 0,p=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;l==="style"?s.d.S(d,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:m,fetchPriority:p}):l==="script"&&s.d.X(d,{crossOrigin:f,integrity:m,fetchPriority:p,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},ua.preinitModule=function(d,u){if(typeof d=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var l=c(u.as,u.crossOrigin);s.d.M(d,{crossOrigin:l,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&s.d.M(d)},ua.preload=function(d,u){if(typeof d=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var l=u.as,f=c(l,u.crossOrigin);s.d.L(d,l,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},ua.preloadModule=function(d,u){if(typeof d=="string")if(u){var l=c(u.as,u.crossOrigin);s.d.m(d,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:l,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else s.d.m(d)},ua.requestFormReset=function(d){s.d.r(d)},ua.unstable_batchedUpdates=function(d,u){return d(u)},ua.useFormState=function(d,u,l){return o.H.useFormState(d,u,l)},ua.useFormStatus=function(){return o.H.useHostTransitionStatus()},ua.version="19.1.0",ua}var Vz;function uI(){if(Vz)return zT.exports;Vz=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),zT.exports=Gve(),zT.exports}var Wz;function Yve(){if(Wz)return Mv;Wz=1;var e=qve(),t=Ru(),r=uI();function s(g){var j="https://react.dev/errors/"+g;if(1<arguments.length){j+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)j+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+g+"; visit "+j+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(g){return!(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)}function i(g){var j=g,C=g;if(g.alternate)for(;j.return;)j=j.return;else{g=j;do j=g,(j.flags&4098)!==0&&(C=j.return),g=j.return;while(g)}return j.tag===3?C:null}function o(g){if(g.tag===13){var j=g.memoizedState;if(j===null&&(g=g.alternate,g!==null&&(j=g.memoizedState)),j!==null)return j.dehydrated}return null}function c(g){if(i(g)!==g)throw Error(s(188))}function d(g){var j=g.alternate;if(!j){if(j=i(g),j===null)throw Error(s(188));return j!==g?null:g}for(var C=g,A=j;;){var O=C.return;if(O===null)break;var F=O.alternate;if(F===null){if(A=O.return,A!==null){C=A;continue}break}if(O.child===F.child){for(F=O.child;F;){if(F===C)return c(O),g;if(F===A)return c(O),j;F=F.sibling}throw Error(s(188))}if(C.return!==A.return)C=O,A=F;else{for(var q=!1,J=O.child;J;){if(J===C){q=!0,C=O,A=F;break}if(J===A){q=!0,A=O,C=F;break}J=J.sibling}if(!q){for(J=F.child;J;){if(J===C){q=!0,C=F,A=O;break}if(J===A){q=!0,A=F,C=O;break}J=J.sibling}if(!q)throw Error(s(189))}}if(C.alternate!==A)throw Error(s(190))}if(C.tag!==3)throw Error(s(188));return C.stateNode.current===C?g:j}function u(g){var j=g.tag;if(j===5||j===26||j===27||j===6)return g;for(g=g.child;g!==null;){if(j=u(g),j!==null)return j;g=g.sibling}return null}var l=Object.assign,f=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),S=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function R(g){return g===null||typeof g!="object"?null:(g=M&&g[M]||g["@@iterator"],typeof g=="function"?g:null)}var B=Symbol.for("react.client.reference");function L(g){if(g==null)return null;if(typeof g=="function")return g.$$typeof===B?null:g.displayName||g.name||null;if(typeof g=="string")return g;switch(g){case x:return"Fragment";case h:return"Profiler";case b:return"StrictMode";case _:return"Suspense";case k:return"SuspenseList";case D:return"Activity"}if(typeof g=="object")switch(g.$$typeof){case p:return"Portal";case S:return(g.displayName||"Context")+".Provider";case w:return(g._context.displayName||"Context")+".Consumer";case N:var j=g.render;return g=g.displayName,g||(g=j.displayName||j.name||"",g=g!==""?"ForwardRef("+g+")":"ForwardRef"),g;case E:return j=g.displayName||null,j!==null?j:L(g.type)||"Memo";case T:j=g._payload,g=g._init;try{return L(g(j))}catch{}}return null}var $=Array.isArray,I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},Z=[],V=-1;function G(g){return{current:g}}function U(g){0>V||(g.current=Z[V],Z[V]=null,V--)}function Y(g,j){V++,Z[V]=g.current,g.current=j}var K=G(null),re=G(null),he=G(null),me=G(null);function de(g,j){switch(Y(he,j),Y(re,g),Y(K,null),j.nodeType){case 9:case 11:g=(g=j.documentElement)&&(g=g.namespaceURI)?uz(g):0;break;default:if(g=j.tagName,j=j.namespaceURI)j=uz(j),g=fz(j,g);else switch(g){case"svg":g=1;break;case"math":g=2;break;default:g=0}}U(K),Y(K,g)}function ie(){U(K),U(re),U(he)}function ve(g){g.memoizedState!==null&&Y(me,g);var j=K.current,C=fz(j,g.type);j!==C&&(Y(re,g),Y(K,C))}function _e(g){re.current===g&&(U(K),U(re)),me.current===g&&(U(me),kv._currentValue=H)}var xe=Object.prototype.hasOwnProperty,Le=e.unstable_scheduleCallback,Ie=e.unstable_cancelCallback,fe=e.unstable_shouldYield,Ze=e.unstable_requestPaint,it=e.unstable_now,ge=e.unstable_getCurrentPriorityLevel,He=e.unstable_ImmediatePriority,ee=e.unstable_UserBlockingPriority,le=e.unstable_NormalPriority,ce=e.unstable_LowPriority,Ke=e.unstable_IdlePriority,Xe=e.log,ye=e.unstable_setDisableYieldValue,Qe=null,yt=null;function Bt(g){if(typeof Xe=="function"&&ye(g),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(Qe,g)}catch{}}var lr=Math.clz32?Math.clz32:Bn,Ln=Math.log,qs=Math.LN2;function Bn(g){return g>>>=0,g===0?32:31-(Ln(g)/qs|0)|0}var Ia=256,wa=4194304;function ea(g){var j=g&42;if(j!==0)return j;switch(g&-g){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return g&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return g}}function ja(g,j,C){var A=g.pendingLanes;if(A===0)return 0;var O=0,F=g.suspendedLanes,q=g.pingedLanes;g=g.warmLanes;var J=A&134217727;return J!==0?(A=J&~F,A!==0?O=ea(A):(q&=J,q!==0?O=ea(q):C||(C=J&~g,C!==0&&(O=ea(C))))):(J=A&~F,J!==0?O=ea(J):q!==0?O=ea(q):C||(C=A&~g,C!==0&&(O=ea(C)))),O===0?0:j!==0&&j!==O&&(j&F)===0&&(F=O&-O,C=j&-j,F>=C||F===32&&(C&4194048)!==0)?j:O}function ni(g,j){return(g.pendingLanes&~(g.suspendedLanes&~g.pingedLanes)&j)===0}function It(g,j){switch(g){case 1:case 2:case 4:case 8:case 64:return j+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return j+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qt(){var g=Ia;return Ia<<=1,(Ia&4194048)===0&&(Ia=256),g}function Mt(){var g=wa;return wa<<=1,(wa&62914560)===0&&(wa=4194304),g}function fr(g){for(var j=[],C=0;31>C;C++)j.push(g);return j}function us(g,j){g.pendingLanes|=j,j!==268435456&&(g.suspendedLanes=0,g.pingedLanes=0,g.warmLanes=0)}function er(g,j,C,A,O,F){var q=g.pendingLanes;g.pendingLanes=C,g.suspendedLanes=0,g.pingedLanes=0,g.warmLanes=0,g.expiredLanes&=C,g.entangledLanes&=C,g.errorRecoveryDisabledLanes&=C,g.shellSuspendCounter=0;var J=g.entanglements,ae=g.expirationTimes,Ne=g.hiddenUpdates;for(C=q&~C;0<C;){var Fe=31-lr(C),Ve=1<<Fe;J[Fe]=0,ae[Fe]=-1;var ke=Ne[Fe];if(ke!==null)for(Ne[Fe]=null,Fe=0;Fe<ke.length;Fe++){var Te=ke[Fe];Te!==null&&(Te.lane&=-536870913)}C&=~Ve}A!==0&&zt(g,A,0),F!==0&&O===0&&g.tag!==0&&(g.suspendedLanes|=F&~(q&~j))}function zt(g,j,C){g.pendingLanes|=j,g.suspendedLanes&=~j;var A=31-lr(j);g.entangledLanes|=j,g.entanglements[A]=g.entanglements[A]|1073741824|C&4194090}function fs(g,j){var C=g.entangledLanes|=j;for(g=g.entanglements;C;){var A=31-lr(C),O=1<<A;O&j|g[A]&j&&(g[A]|=j),C&=~O}}function ms(g){switch(g){case 2:g=1;break;case 8:g=4;break;case 32:g=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:g=128;break;case 268435456:g=134217728;break;default:g=0}return g}function Fs(g){return g&=-g,2<g?8<g?(g&134217727)!==0?32:268435456:8:2}function ai(){var g=z.p;return g!==0?g:(g=window.event,g===void 0?32:Dz(g.type))}function Gs(g,j){var C=z.p;try{return z.p=g,j()}finally{z.p=C}}var $s=Math.random().toString(36).slice(2),Ss="__reactFiber$"+$s,Kt="__reactProps$"+$s,es="__reactContainer$"+$s,ec="__reactEvents$"+$s,Oo="__reactListeners$"+$s,J$="__reactHandles$"+$s,Q$="__reactResources$"+$s,Lx="__reactMarker$"+$s;function kk(g){delete g[Ss],delete g[Kt],delete g[ec],delete g[Oo],delete g[J$]}function mh(g){var j=g[Ss];if(j)return j;for(var C=g.parentNode;C;){if(j=C[es]||C[Ss]){if(C=j.alternate,j.child!==null||C!==null&&C.child!==null)for(g=gz(g);g!==null;){if(C=g[Ss])return C;g=gz(g)}return j}g=C,C=g.parentNode}return null}function hh(g){if(g=g[Ss]||g[es]){var j=g.tag;if(j===5||j===6||j===13||j===26||j===27||j===3)return g}return null}function Bx(g){var j=g.tag;if(j===5||j===26||j===27||j===6)return g.stateNode;throw Error(s(33))}function ph(g){var j=g[Q$];return j||(j=g[Q$]={hoistableStyles:new Map,hoistableScripts:new Map}),j}function zn(g){g[Lx]=!0}var eL=new Set,tL={};function lf(g,j){gh(g,j),gh(g+"Capture",j)}function gh(g,j){for(tL[g]=j,g=0;g<j.length;g++)eL.add(j[g])}var Pge=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rL={},sL={};function Rge(g){return xe.call(sL,g)?!0:xe.call(rL,g)?!1:Pge.test(g)?sL[g]=!0:(rL[g]=!0,!1)}function Rw(g,j,C){if(Rge(j))if(C===null)g.removeAttribute(j);else{switch(typeof C){case"undefined":case"function":case"symbol":g.removeAttribute(j);return;case"boolean":var A=j.toLowerCase().slice(0,5);if(A!=="data-"&&A!=="aria-"){g.removeAttribute(j);return}}g.setAttribute(j,""+C)}}function Mw(g,j,C){if(C===null)g.removeAttribute(j);else{switch(typeof C){case"undefined":case"function":case"symbol":case"boolean":g.removeAttribute(j);return}g.setAttribute(j,""+C)}}function tc(g,j,C,A){if(A===null)g.removeAttribute(C);else{switch(typeof A){case"undefined":case"function":case"symbol":case"boolean":g.removeAttribute(C);return}g.setAttributeNS(j,C,""+A)}}var Ak,nL;function xh(g){if(Ak===void 0)try{throw Error()}catch(C){var j=C.stack.trim().match(/\n( *(at )?)/);Ak=j&&j[1]||"",nL=-1<C.stack.indexOf(`
    at`)?" (<anonymous>)":-1<C.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ak+g+nL}var Tk=!1;function Dk(g,j){if(!g||Tk)return"";Tk=!0;var C=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var A={DetermineComponentFrameRoot:function(){try{if(j){var Ve=function(){throw Error()};if(Object.defineProperty(Ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ve,[])}catch(Te){var ke=Te}Reflect.construct(g,[],Ve)}else{try{Ve.call()}catch(Te){ke=Te}g.call(Ve.prototype)}}else{try{throw Error()}catch(Te){ke=Te}(Ve=g())&&typeof Ve.catch=="function"&&Ve.catch(function(){})}}catch(Te){if(Te&&ke&&typeof Te.stack=="string")return[Te.stack,ke.stack]}return[null,null]}};A.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(A.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(A.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=A.DetermineComponentFrameRoot(),q=F[0],J=F[1];if(q&&J){var ae=q.split(`
`),Ne=J.split(`
`);for(O=A=0;A<ae.length&&!ae[A].includes("DetermineComponentFrameRoot");)A++;for(;O<Ne.length&&!Ne[O].includes("DetermineComponentFrameRoot");)O++;if(A===ae.length||O===Ne.length)for(A=ae.length-1,O=Ne.length-1;1<=A&&0<=O&&ae[A]!==Ne[O];)O--;for(;1<=A&&0<=O;A--,O--)if(ae[A]!==Ne[O]){if(A!==1||O!==1)do if(A--,O--,0>O||ae[A]!==Ne[O]){var Fe=`
`+ae[A].replace(" at new "," at ");return g.displayName&&Fe.includes("<anonymous>")&&(Fe=Fe.replace("<anonymous>",g.displayName)),Fe}while(1<=A&&0<=O);break}}}finally{Tk=!1,Error.prepareStackTrace=C}return(C=g?g.displayName||g.name:"")?xh(C):""}function Mge(g){switch(g.tag){case 26:case 27:case 5:return xh(g.type);case 16:return xh("Lazy");case 13:return xh("Suspense");case 19:return xh("SuspenseList");case 0:case 15:return Dk(g.type,!1);case 11:return Dk(g.type.render,!1);case 1:return Dk(g.type,!0);case 31:return xh("Activity");default:return""}}function aL(g){try{var j="";do j+=Mge(g),g=g.return;while(g);return j}catch(C){return`
Error generating stack: `+C.message+`
`+C.stack}}function qi(g){switch(typeof g){case"bigint":case"boolean":case"number":case"string":case"undefined":return g;case"object":return g;default:return""}}function iL(g){var j=g.type;return(g=g.nodeName)&&g.toLowerCase()==="input"&&(j==="checkbox"||j==="radio")}function Oge(g){var j=iL(g)?"checked":"value",C=Object.getOwnPropertyDescriptor(g.constructor.prototype,j),A=""+g[j];if(!g.hasOwnProperty(j)&&typeof C<"u"&&typeof C.get=="function"&&typeof C.set=="function"){var O=C.get,F=C.set;return Object.defineProperty(g,j,{configurable:!0,get:function(){return O.call(this)},set:function(q){A=""+q,F.call(this,q)}}),Object.defineProperty(g,j,{enumerable:C.enumerable}),{getValue:function(){return A},setValue:function(q){A=""+q},stopTracking:function(){g._valueTracker=null,delete g[j]}}}}function Ow(g){g._valueTracker||(g._valueTracker=Oge(g))}function oL(g){if(!g)return!1;var j=g._valueTracker;if(!j)return!0;var C=j.getValue(),A="";return g&&(A=iL(g)?g.checked?"true":"false":g.value),g=A,g!==C?(j.setValue(g),!0):!1}function Iw(g){if(g=g||(typeof document<"u"?document:void 0),typeof g>"u")return null;try{return g.activeElement||g.body}catch{return g.body}}var Ige=/[\n"\\]/g;function Gi(g){return g.replace(Ige,function(j){return"\\"+j.charCodeAt(0).toString(16)+" "})}function Pk(g,j,C,A,O,F,q,J){g.name="",q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?g.type=q:g.removeAttribute("type"),j!=null?q==="number"?(j===0&&g.value===""||g.value!=j)&&(g.value=""+qi(j)):g.value!==""+qi(j)&&(g.value=""+qi(j)):q!=="submit"&&q!=="reset"||g.removeAttribute("value"),j!=null?Rk(g,q,qi(j)):C!=null?Rk(g,q,qi(C)):A!=null&&g.removeAttribute("value"),O==null&&F!=null&&(g.defaultChecked=!!F),O!=null&&(g.checked=O&&typeof O!="function"&&typeof O!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?g.name=""+qi(J):g.removeAttribute("name")}function lL(g,j,C,A,O,F,q,J){if(F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(g.type=F),j!=null||C!=null){if(!(F!=="submit"&&F!=="reset"||j!=null))return;C=C!=null?""+qi(C):"",j=j!=null?""+qi(j):C,J||j===g.value||(g.value=j),g.defaultValue=j}A=A??O,A=typeof A!="function"&&typeof A!="symbol"&&!!A,g.checked=J?g.checked:!!A,g.defaultChecked=!!A,q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"&&(g.name=q)}function Rk(g,j,C){j==="number"&&Iw(g.ownerDocument)===g||g.defaultValue===""+C||(g.defaultValue=""+C)}function vh(g,j,C,A){if(g=g.options,j){j={};for(var O=0;O<C.length;O++)j["$"+C[O]]=!0;for(C=0;C<g.length;C++)O=j.hasOwnProperty("$"+g[C].value),g[C].selected!==O&&(g[C].selected=O),O&&A&&(g[C].defaultSelected=!0)}else{for(C=""+qi(C),j=null,O=0;O<g.length;O++){if(g[O].value===C){g[O].selected=!0,A&&(g[O].defaultSelected=!0);return}j!==null||g[O].disabled||(j=g[O])}j!==null&&(j.selected=!0)}}function cL(g,j,C){if(j!=null&&(j=""+qi(j),j!==g.value&&(g.value=j),C==null)){g.defaultValue!==j&&(g.defaultValue=j);return}g.defaultValue=C!=null?""+qi(C):""}function dL(g,j,C,A){if(j==null){if(A!=null){if(C!=null)throw Error(s(92));if($(A)){if(1<A.length)throw Error(s(93));A=A[0]}C=A}C==null&&(C=""),j=C}C=qi(j),g.defaultValue=C,A=g.textContent,A===C&&A!==""&&A!==null&&(g.value=A)}function yh(g,j){if(j){var C=g.firstChild;if(C&&C===g.lastChild&&C.nodeType===3){C.nodeValue=j;return}}g.textContent=j}var Fge=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uL(g,j,C){var A=j.indexOf("--")===0;C==null||typeof C=="boolean"||C===""?A?g.setProperty(j,""):j==="float"?g.cssFloat="":g[j]="":A?g.setProperty(j,C):typeof C!="number"||C===0||Fge.has(j)?j==="float"?g.cssFloat=C:g[j]=(""+C).trim():g[j]=C+"px"}function fL(g,j,C){if(j!=null&&typeof j!="object")throw Error(s(62));if(g=g.style,C!=null){for(var A in C)!C.hasOwnProperty(A)||j!=null&&j.hasOwnProperty(A)||(A.indexOf("--")===0?g.setProperty(A,""):A==="float"?g.cssFloat="":g[A]="");for(var O in j)A=j[O],j.hasOwnProperty(O)&&C[O]!==A&&uL(g,O,A)}else for(var F in j)j.hasOwnProperty(F)&&uL(g,F,j[F])}function Mk(g){if(g.indexOf("-")===-1)return!1;switch(g){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $ge=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lge=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fw(g){return Lge.test(""+g)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":g}var Ok=null;function Ik(g){return g=g.target||g.srcElement||window,g.correspondingUseElement&&(g=g.correspondingUseElement),g.nodeType===3?g.parentNode:g}var bh=null,wh=null;function mL(g){var j=hh(g);if(j&&(g=j.stateNode)){var C=g[Kt]||null;e:switch(g=j.stateNode,j.type){case"input":if(Pk(g,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name),j=C.name,C.type==="radio"&&j!=null){for(C=g;C.parentNode;)C=C.parentNode;for(C=C.querySelectorAll('input[name="'+Gi(""+j)+'"][type="radio"]'),j=0;j<C.length;j++){var A=C[j];if(A!==g&&A.form===g.form){var O=A[Kt]||null;if(!O)throw Error(s(90));Pk(A,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(j=0;j<C.length;j++)A=C[j],A.form===g.form&&oL(A)}break e;case"textarea":cL(g,C.value,C.defaultValue);break e;case"select":j=C.value,j!=null&&vh(g,!!C.multiple,j,!1)}}}var Fk=!1;function hL(g,j,C){if(Fk)return g(j,C);Fk=!0;try{var A=g(j);return A}finally{if(Fk=!1,(bh!==null||wh!==null)&&(jj(),bh&&(j=bh,g=wh,wh=bh=null,mL(j),g)))for(j=0;j<g.length;j++)mL(g[j])}}function zx(g,j){var C=g.stateNode;if(C===null)return null;var A=C[Kt]||null;if(A===null)return null;C=A[j];e:switch(j){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(g=g.type,A=!(g==="button"||g==="input"||g==="select"||g==="textarea")),g=!A;break e;default:g=!1}if(g)return null;if(C&&typeof C!="function")throw Error(s(231,j,typeof C));return C}var rc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$k=!1;if(rc)try{var Ux={};Object.defineProperty(Ux,"passive",{get:function(){$k=!0}}),window.addEventListener("test",Ux,Ux),window.removeEventListener("test",Ux,Ux)}catch{$k=!1}var yd=null,Lk=null,$w=null;function pL(){if($w)return $w;var g,j=Lk,C=j.length,A,O="value"in yd?yd.value:yd.textContent,F=O.length;for(g=0;g<C&&j[g]===O[g];g++);var q=C-g;for(A=1;A<=q&&j[C-A]===O[F-A];A++);return $w=O.slice(g,1<A?1-A:void 0)}function Lw(g){var j=g.keyCode;return"charCode"in g?(g=g.charCode,g===0&&j===13&&(g=13)):g=j,g===10&&(g=13),32<=g||g===13?g:0}function Bw(){return!0}function gL(){return!1}function Fa(g){function j(C,A,O,F,q){this._reactName=C,this._targetInst=O,this.type=A,this.nativeEvent=F,this.target=q,this.currentTarget=null;for(var J in g)g.hasOwnProperty(J)&&(C=g[J],this[J]=C?C(F):F[J]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?Bw:gL,this.isPropagationStopped=gL,this}return l(j.prototype,{preventDefault:function(){this.defaultPrevented=!0;var C=this.nativeEvent;C&&(C.preventDefault?C.preventDefault():typeof C.returnValue!="unknown"&&(C.returnValue=!1),this.isDefaultPrevented=Bw)},stopPropagation:function(){var C=this.nativeEvent;C&&(C.stopPropagation?C.stopPropagation():typeof C.cancelBubble!="unknown"&&(C.cancelBubble=!0),this.isPropagationStopped=Bw)},persist:function(){},isPersistent:Bw}),j}var cf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(g){return g.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zw=Fa(cf),Hx=l({},cf,{view:0,detail:0}),Bge=Fa(Hx),Bk,zk,Vx,Uw=l({},Hx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hk,button:0,buttons:0,relatedTarget:function(g){return g.relatedTarget===void 0?g.fromElement===g.srcElement?g.toElement:g.fromElement:g.relatedTarget},movementX:function(g){return"movementX"in g?g.movementX:(g!==Vx&&(Vx&&g.type==="mousemove"?(Bk=g.screenX-Vx.screenX,zk=g.screenY-Vx.screenY):zk=Bk=0,Vx=g),Bk)},movementY:function(g){return"movementY"in g?g.movementY:zk}}),xL=Fa(Uw),zge=l({},Uw,{dataTransfer:0}),Uge=Fa(zge),Hge=l({},Hx,{relatedTarget:0}),Uk=Fa(Hge),Vge=l({},cf,{animationName:0,elapsedTime:0,pseudoElement:0}),Wge=Fa(Vge),qge=l({},cf,{clipboardData:function(g){return"clipboardData"in g?g.clipboardData:window.clipboardData}}),Gge=Fa(qge),Yge=l({},cf,{data:0}),vL=Fa(Yge),Kge={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zge={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xge={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jge(g){var j=this.nativeEvent;return j.getModifierState?j.getModifierState(g):(g=Xge[g])?!!j[g]:!1}function Hk(){return Jge}var Qge=l({},Hx,{key:function(g){if(g.key){var j=Kge[g.key]||g.key;if(j!=="Unidentified")return j}return g.type==="keypress"?(g=Lw(g),g===13?"Enter":String.fromCharCode(g)):g.type==="keydown"||g.type==="keyup"?Zge[g.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hk,charCode:function(g){return g.type==="keypress"?Lw(g):0},keyCode:function(g){return g.type==="keydown"||g.type==="keyup"?g.keyCode:0},which:function(g){return g.type==="keypress"?Lw(g):g.type==="keydown"||g.type==="keyup"?g.keyCode:0}}),exe=Fa(Qge),txe=l({},Uw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yL=Fa(txe),rxe=l({},Hx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hk}),sxe=Fa(rxe),nxe=l({},cf,{propertyName:0,elapsedTime:0,pseudoElement:0}),axe=Fa(nxe),ixe=l({},Uw,{deltaX:function(g){return"deltaX"in g?g.deltaX:"wheelDeltaX"in g?-g.wheelDeltaX:0},deltaY:function(g){return"deltaY"in g?g.deltaY:"wheelDeltaY"in g?-g.wheelDeltaY:"wheelDelta"in g?-g.wheelDelta:0},deltaZ:0,deltaMode:0}),oxe=Fa(ixe),lxe=l({},cf,{newState:0,oldState:0}),cxe=Fa(lxe),dxe=[9,13,27,32],Vk=rc&&"CompositionEvent"in window,Wx=null;rc&&"documentMode"in document&&(Wx=document.documentMode);var uxe=rc&&"TextEvent"in window&&!Wx,bL=rc&&(!Vk||Wx&&8<Wx&&11>=Wx),wL=" ",jL=!1;function SL(g,j){switch(g){case"keyup":return dxe.indexOf(j.keyCode)!==-1;case"keydown":return j.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NL(g){return g=g.detail,typeof g=="object"&&"data"in g?g.data:null}var jh=!1;function fxe(g,j){switch(g){case"compositionend":return NL(j);case"keypress":return j.which!==32?null:(jL=!0,wL);case"textInput":return g=j.data,g===wL&&jL?null:g;default:return null}}function mxe(g,j){if(jh)return g==="compositionend"||!Vk&&SL(g,j)?(g=pL(),$w=Lk=yd=null,jh=!1,g):null;switch(g){case"paste":return null;case"keypress":if(!(j.ctrlKey||j.altKey||j.metaKey)||j.ctrlKey&&j.altKey){if(j.char&&1<j.char.length)return j.char;if(j.which)return String.fromCharCode(j.which)}return null;case"compositionend":return bL&&j.locale!=="ko"?null:j.data;default:return null}}var hxe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CL(g){var j=g&&g.nodeName&&g.nodeName.toLowerCase();return j==="input"?!!hxe[g.type]:j==="textarea"}function _L(g,j,C,A){bh?wh?wh.push(A):wh=[A]:bh=A,j=kj(j,"onChange"),0<j.length&&(C=new zw("onChange","change",null,C,A),g.push({event:C,listeners:j}))}var qx=null,Gx=null;function pxe(g){iz(g,0)}function Hw(g){var j=Bx(g);if(oL(j))return g}function EL(g,j){if(g==="change")return j}var kL=!1;if(rc){var Wk;if(rc){var qk="oninput"in document;if(!qk){var AL=document.createElement("div");AL.setAttribute("oninput","return;"),qk=typeof AL.oninput=="function"}Wk=qk}else Wk=!1;kL=Wk&&(!document.documentMode||9<document.documentMode)}function TL(){qx&&(qx.detachEvent("onpropertychange",DL),Gx=qx=null)}function DL(g){if(g.propertyName==="value"&&Hw(Gx)){var j=[];_L(j,Gx,g,Ik(g)),hL(pxe,j)}}function gxe(g,j,C){g==="focusin"?(TL(),qx=j,Gx=C,qx.attachEvent("onpropertychange",DL)):g==="focusout"&&TL()}function xxe(g){if(g==="selectionchange"||g==="keyup"||g==="keydown")return Hw(Gx)}function vxe(g,j){if(g==="click")return Hw(j)}function yxe(g,j){if(g==="input"||g==="change")return Hw(j)}function bxe(g,j){return g===j&&(g!==0||1/g===1/j)||g!==g&&j!==j}var ii=typeof Object.is=="function"?Object.is:bxe;function Yx(g,j){if(ii(g,j))return!0;if(typeof g!="object"||g===null||typeof j!="object"||j===null)return!1;var C=Object.keys(g),A=Object.keys(j);if(C.length!==A.length)return!1;for(A=0;A<C.length;A++){var O=C[A];if(!xe.call(j,O)||!ii(g[O],j[O]))return!1}return!0}function PL(g){for(;g&&g.firstChild;)g=g.firstChild;return g}function RL(g,j){var C=PL(g);g=0;for(var A;C;){if(C.nodeType===3){if(A=g+C.textContent.length,g<=j&&A>=j)return{node:C,offset:j-g};g=A}e:{for(;C;){if(C.nextSibling){C=C.nextSibling;break e}C=C.parentNode}C=void 0}C=PL(C)}}function ML(g,j){return g&&j?g===j?!0:g&&g.nodeType===3?!1:j&&j.nodeType===3?ML(g,j.parentNode):"contains"in g?g.contains(j):g.compareDocumentPosition?!!(g.compareDocumentPosition(j)&16):!1:!1}function OL(g){g=g!=null&&g.ownerDocument!=null&&g.ownerDocument.defaultView!=null?g.ownerDocument.defaultView:window;for(var j=Iw(g.document);j instanceof g.HTMLIFrameElement;){try{var C=typeof j.contentWindow.location.href=="string"}catch{C=!1}if(C)g=j.contentWindow;else break;j=Iw(g.document)}return j}function Gk(g){var j=g&&g.nodeName&&g.nodeName.toLowerCase();return j&&(j==="input"&&(g.type==="text"||g.type==="search"||g.type==="tel"||g.type==="url"||g.type==="password")||j==="textarea"||g.contentEditable==="true")}var wxe=rc&&"documentMode"in document&&11>=document.documentMode,Sh=null,Yk=null,Kx=null,Kk=!1;function IL(g,j,C){var A=C.window===C?C.document:C.nodeType===9?C:C.ownerDocument;Kk||Sh==null||Sh!==Iw(A)||(A=Sh,"selectionStart"in A&&Gk(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),Kx&&Yx(Kx,A)||(Kx=A,A=kj(Yk,"onSelect"),0<A.length&&(j=new zw("onSelect","select",null,j,C),g.push({event:j,listeners:A}),j.target=Sh)))}function df(g,j){var C={};return C[g.toLowerCase()]=j.toLowerCase(),C["Webkit"+g]="webkit"+j,C["Moz"+g]="moz"+j,C}var Nh={animationend:df("Animation","AnimationEnd"),animationiteration:df("Animation","AnimationIteration"),animationstart:df("Animation","AnimationStart"),transitionrun:df("Transition","TransitionRun"),transitionstart:df("Transition","TransitionStart"),transitioncancel:df("Transition","TransitionCancel"),transitionend:df("Transition","TransitionEnd")},Zk={},FL={};rc&&(FL=document.createElement("div").style,"AnimationEvent"in window||(delete Nh.animationend.animation,delete Nh.animationiteration.animation,delete Nh.animationstart.animation),"TransitionEvent"in window||delete Nh.transitionend.transition);function uf(g){if(Zk[g])return Zk[g];if(!Nh[g])return g;var j=Nh[g],C;for(C in j)if(j.hasOwnProperty(C)&&C in FL)return Zk[g]=j[C];return g}var $L=uf("animationend"),LL=uf("animationiteration"),BL=uf("animationstart"),jxe=uf("transitionrun"),Sxe=uf("transitionstart"),Nxe=uf("transitioncancel"),zL=uf("transitionend"),UL=new Map,Xk="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xk.push("scrollEnd");function Io(g,j){UL.set(g,j),lf(j,[g])}var HL=new WeakMap;function Yi(g,j){if(typeof g=="object"&&g!==null){var C=HL.get(g);return C!==void 0?C:(j={value:g,source:j,stack:aL(j)},HL.set(g,j),j)}return{value:g,source:j,stack:aL(j)}}var Ki=[],Ch=0,Jk=0;function Vw(){for(var g=Ch,j=Jk=Ch=0;j<g;){var C=Ki[j];Ki[j++]=null;var A=Ki[j];Ki[j++]=null;var O=Ki[j];Ki[j++]=null;var F=Ki[j];if(Ki[j++]=null,A!==null&&O!==null){var q=A.pending;q===null?O.next=O:(O.next=q.next,q.next=O),A.pending=O}F!==0&&VL(C,O,F)}}function Ww(g,j,C,A){Ki[Ch++]=g,Ki[Ch++]=j,Ki[Ch++]=C,Ki[Ch++]=A,Jk|=A,g.lanes|=A,g=g.alternate,g!==null&&(g.lanes|=A)}function Qk(g,j,C,A){return Ww(g,j,C,A),qw(g)}function _h(g,j){return Ww(g,null,null,j),qw(g)}function VL(g,j,C){g.lanes|=C;var A=g.alternate;A!==null&&(A.lanes|=C);for(var O=!1,F=g.return;F!==null;)F.childLanes|=C,A=F.alternate,A!==null&&(A.childLanes|=C),F.tag===22&&(g=F.stateNode,g===null||g._visibility&1||(O=!0)),g=F,F=F.return;return g.tag===3?(F=g.stateNode,O&&j!==null&&(O=31-lr(C),g=F.hiddenUpdates,A=g[O],A===null?g[O]=[j]:A.push(j),j.lane=C|536870912),F):null}function qw(g){if(50<bv)throw bv=0,aT=null,Error(s(185));for(var j=g.return;j!==null;)g=j,j=g.return;return g.tag===3?g.stateNode:null}var Eh={};function Cxe(g,j,C,A){this.tag=g,this.key=C,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=j,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(g,j,C,A){return new Cxe(g,j,C,A)}function eA(g){return g=g.prototype,!(!g||!g.isReactComponent)}function sc(g,j){var C=g.alternate;return C===null?(C=oi(g.tag,j,g.key,g.mode),C.elementType=g.elementType,C.type=g.type,C.stateNode=g.stateNode,C.alternate=g,g.alternate=C):(C.pendingProps=j,C.type=g.type,C.flags=0,C.subtreeFlags=0,C.deletions=null),C.flags=g.flags&65011712,C.childLanes=g.childLanes,C.lanes=g.lanes,C.child=g.child,C.memoizedProps=g.memoizedProps,C.memoizedState=g.memoizedState,C.updateQueue=g.updateQueue,j=g.dependencies,C.dependencies=j===null?null:{lanes:j.lanes,firstContext:j.firstContext},C.sibling=g.sibling,C.index=g.index,C.ref=g.ref,C.refCleanup=g.refCleanup,C}function WL(g,j){g.flags&=65011714;var C=g.alternate;return C===null?(g.childLanes=0,g.lanes=j,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=C.childLanes,g.lanes=C.lanes,g.child=C.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=C.memoizedProps,g.memoizedState=C.memoizedState,g.updateQueue=C.updateQueue,g.type=C.type,j=C.dependencies,g.dependencies=j===null?null:{lanes:j.lanes,firstContext:j.firstContext}),g}function Gw(g,j,C,A,O,F){var q=0;if(A=g,typeof g=="function")eA(g)&&(q=1);else if(typeof g=="string")q=Eve(g,C,K.current)?26:g==="html"||g==="head"||g==="body"?27:5;else e:switch(g){case D:return g=oi(31,C,j,O),g.elementType=D,g.lanes=F,g;case x:return ff(C.children,O,F,j);case b:q=8,O|=24;break;case h:return g=oi(12,C,j,O|2),g.elementType=h,g.lanes=F,g;case _:return g=oi(13,C,j,O),g.elementType=_,g.lanes=F,g;case k:return g=oi(19,C,j,O),g.elementType=k,g.lanes=F,g;default:if(typeof g=="object"&&g!==null)switch(g.$$typeof){case y:case S:q=10;break e;case w:q=9;break e;case N:q=11;break e;case E:q=14;break e;case T:q=16,A=null;break e}q=29,C=Error(s(130,g===null?"null":typeof g,"")),A=null}return j=oi(q,C,j,O),j.elementType=g,j.type=A,j.lanes=F,j}function ff(g,j,C,A){return g=oi(7,g,A,j),g.lanes=C,g}function tA(g,j,C){return g=oi(6,g,null,j),g.lanes=C,g}function rA(g,j,C){return j=oi(4,g.children!==null?g.children:[],g.key,j),j.lanes=C,j.stateNode={containerInfo:g.containerInfo,pendingChildren:null,implementation:g.implementation},j}var kh=[],Ah=0,Yw=null,Kw=0,Zi=[],Xi=0,mf=null,nc=1,ac="";function hf(g,j){kh[Ah++]=Kw,kh[Ah++]=Yw,Yw=g,Kw=j}function qL(g,j,C){Zi[Xi++]=nc,Zi[Xi++]=ac,Zi[Xi++]=mf,mf=g;var A=nc;g=ac;var O=32-lr(A)-1;A&=~(1<<O),C+=1;var F=32-lr(j)+O;if(30<F){var q=O-O%5;F=(A&(1<<q)-1).toString(32),A>>=q,O-=q,nc=1<<32-lr(j)+O|C<<O|A,ac=F+g}else nc=1<<F|C<<O|A,ac=g}function sA(g){g.return!==null&&(hf(g,1),qL(g,1,0))}function nA(g){for(;g===Yw;)Yw=kh[--Ah],kh[Ah]=null,Kw=kh[--Ah],kh[Ah]=null;for(;g===mf;)mf=Zi[--Xi],Zi[Xi]=null,ac=Zi[--Xi],Zi[Xi]=null,nc=Zi[--Xi],Zi[Xi]=null}var Sa=null,Ys=null,br=!1,pf=null,ul=!1,aA=Error(s(519));function gf(g){var j=Error(s(418,""));throw Jx(Yi(j,g)),aA}function GL(g){var j=g.stateNode,C=g.type,A=g.memoizedProps;switch(j[Ss]=g,j[Kt]=A,C){case"dialog":sr("cancel",j),sr("close",j);break;case"iframe":case"object":case"embed":sr("load",j);break;case"video":case"audio":for(C=0;C<jv.length;C++)sr(jv[C],j);break;case"source":sr("error",j);break;case"img":case"image":case"link":sr("error",j),sr("load",j);break;case"details":sr("toggle",j);break;case"input":sr("invalid",j),lL(j,A.value,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name,!0),Ow(j);break;case"select":sr("invalid",j);break;case"textarea":sr("invalid",j),dL(j,A.value,A.defaultValue,A.children),Ow(j)}C=A.children,typeof C!="string"&&typeof C!="number"&&typeof C!="bigint"||j.textContent===""+C||A.suppressHydrationWarning===!0||dz(j.textContent,C)?(A.popover!=null&&(sr("beforetoggle",j),sr("toggle",j)),A.onScroll!=null&&sr("scroll",j),A.onScrollEnd!=null&&sr("scrollend",j),A.onClick!=null&&(j.onclick=Aj),j=!0):j=!1,j||gf(g)}function YL(g){for(Sa=g.return;Sa;)switch(Sa.tag){case 5:case 13:ul=!1;return;case 27:case 3:ul=!0;return;default:Sa=Sa.return}}function Zx(g){if(g!==Sa)return!1;if(!br)return YL(g),br=!0,!1;var j=g.tag,C;if((C=j!==3&&j!==27)&&((C=j===5)&&(C=g.type,C=!(C!=="form"&&C!=="button")||wT(g.type,g.memoizedProps)),C=!C),C&&Ys&&gf(g),YL(g),j===13){if(g=g.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));e:{for(g=g.nextSibling,j=0;g;){if(g.nodeType===8)if(C=g.data,C==="/$"){if(j===0){Ys=$o(g.nextSibling);break e}j--}else C!=="$"&&C!=="$!"&&C!=="$?"||j++;g=g.nextSibling}Ys=null}}else j===27?(j=Ys,Od(g.type)?(g=CT,CT=null,Ys=g):Ys=j):Ys=Sa?$o(g.stateNode.nextSibling):null;return!0}function Xx(){Ys=Sa=null,br=!1}function KL(){var g=pf;return g!==null&&(Ba===null?Ba=g:Ba.push.apply(Ba,g),pf=null),g}function Jx(g){pf===null?pf=[g]:pf.push(g)}var iA=G(null),xf=null,ic=null;function bd(g,j,C){Y(iA,j._currentValue),j._currentValue=C}function oc(g){g._currentValue=iA.current,U(iA)}function oA(g,j,C){for(;g!==null;){var A=g.alternate;if((g.childLanes&j)!==j?(g.childLanes|=j,A!==null&&(A.childLanes|=j)):A!==null&&(A.childLanes&j)!==j&&(A.childLanes|=j),g===C)break;g=g.return}}function lA(g,j,C,A){var O=g.child;for(O!==null&&(O.return=g);O!==null;){var F=O.dependencies;if(F!==null){var q=O.child;F=F.firstContext;e:for(;F!==null;){var J=F;F=O;for(var ae=0;ae<j.length;ae++)if(J.context===j[ae]){F.lanes|=C,J=F.alternate,J!==null&&(J.lanes|=C),oA(F.return,C,g),A||(q=null);break e}F=J.next}}else if(O.tag===18){if(q=O.return,q===null)throw Error(s(341));q.lanes|=C,F=q.alternate,F!==null&&(F.lanes|=C),oA(q,C,g),q=null}else q=O.child;if(q!==null)q.return=O;else for(q=O;q!==null;){if(q===g){q=null;break}if(O=q.sibling,O!==null){O.return=q.return,q=O;break}q=q.return}O=q}}function Qx(g,j,C,A){g=null;for(var O=j,F=!1;O!==null;){if(!F){if((O.flags&524288)!==0)F=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var q=O.alternate;if(q===null)throw Error(s(387));if(q=q.memoizedProps,q!==null){var J=O.type;ii(O.pendingProps.value,q.value)||(g!==null?g.push(J):g=[J])}}else if(O===me.current){if(q=O.alternate,q===null)throw Error(s(387));q.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(g!==null?g.push(kv):g=[kv])}O=O.return}g!==null&&lA(j,g,C,A),j.flags|=262144}function Zw(g){for(g=g.firstContext;g!==null;){if(!ii(g.context._currentValue,g.memoizedValue))return!0;g=g.next}return!1}function vf(g){xf=g,ic=null,g=g.dependencies,g!==null&&(g.firstContext=null)}function da(g){return ZL(xf,g)}function Xw(g,j){return xf===null&&vf(g),ZL(g,j)}function ZL(g,j){var C=j._currentValue;if(j={context:j,memoizedValue:C,next:null},ic===null){if(g===null)throw Error(s(308));ic=j,g.dependencies={lanes:0,firstContext:j},g.flags|=524288}else ic=ic.next=j;return C}var _xe=typeof AbortController<"u"?AbortController:function(){var g=[],j=this.signal={aborted:!1,addEventListener:function(C,A){g.push(A)}};this.abort=function(){j.aborted=!0,g.forEach(function(C){return C()})}},Exe=e.unstable_scheduleCallback,kxe=e.unstable_NormalPriority,Nn={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cA(){return{controller:new _xe,data:new Map,refCount:0}}function ev(g){g.refCount--,g.refCount===0&&Exe(kxe,function(){g.controller.abort()})}var tv=null,dA=0,Th=0,Dh=null;function Axe(g,j){if(tv===null){var C=tv=[];dA=0,Th=fT(),Dh={status:"pending",value:void 0,then:function(A){C.push(A)}}}return dA++,j.then(XL,XL),j}function XL(){if(--dA===0&&tv!==null){Dh!==null&&(Dh.status="fulfilled");var g=tv;tv=null,Th=0,Dh=null;for(var j=0;j<g.length;j++)(0,g[j])()}}function Txe(g,j){var C=[],A={status:"pending",value:null,reason:null,then:function(O){C.push(O)}};return g.then(function(){A.status="fulfilled",A.value=j;for(var O=0;O<C.length;O++)(0,C[O])(j)},function(O){for(A.status="rejected",A.reason=O,O=0;O<C.length;O++)(0,C[O])(void 0)}),A}var JL=I.S;I.S=function(g,j){typeof j=="object"&&j!==null&&typeof j.then=="function"&&Axe(g,j),JL!==null&&JL(g,j)};var yf=G(null);function uA(){var g=yf.current;return g!==null?g:is.pooledCache}function Jw(g,j){j===null?Y(yf,yf.current):Y(yf,j.pool)}function QL(){var g=uA();return g===null?null:{parent:Nn._currentValue,pool:g}}var rv=Error(s(460)),eB=Error(s(474)),Qw=Error(s(542)),fA={then:function(){}};function tB(g){return g=g.status,g==="fulfilled"||g==="rejected"}function ej(){}function rB(g,j,C){switch(C=g[C],C===void 0?g.push(j):C!==j&&(j.then(ej,ej),j=C),j.status){case"fulfilled":return j.value;case"rejected":throw g=j.reason,nB(g),g;default:if(typeof j.status=="string")j.then(ej,ej);else{if(g=is,g!==null&&100<g.shellSuspendCounter)throw Error(s(482));g=j,g.status="pending",g.then(function(A){if(j.status==="pending"){var O=j;O.status="fulfilled",O.value=A}},function(A){if(j.status==="pending"){var O=j;O.status="rejected",O.reason=A}})}switch(j.status){case"fulfilled":return j.value;case"rejected":throw g=j.reason,nB(g),g}throw sv=j,rv}}var sv=null;function sB(){if(sv===null)throw Error(s(459));var g=sv;return sv=null,g}function nB(g){if(g===rv||g===Qw)throw Error(s(483))}var wd=!1;function mA(g){g.updateQueue={baseState:g.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hA(g,j){g=g.updateQueue,j.updateQueue===g&&(j.updateQueue={baseState:g.baseState,firstBaseUpdate:g.firstBaseUpdate,lastBaseUpdate:g.lastBaseUpdate,shared:g.shared,callbacks:null})}function jd(g){return{lane:g,tag:0,payload:null,callback:null,next:null}}function Sd(g,j,C){var A=g.updateQueue;if(A===null)return null;if(A=A.shared,(Ir&2)!==0){var O=A.pending;return O===null?j.next=j:(j.next=O.next,O.next=j),A.pending=j,j=qw(g),VL(g,null,C),j}return Ww(g,A,j,C),qw(g)}function nv(g,j,C){if(j=j.updateQueue,j!==null&&(j=j.shared,(C&4194048)!==0)){var A=j.lanes;A&=g.pendingLanes,C|=A,j.lanes=C,fs(g,C)}}function pA(g,j){var C=g.updateQueue,A=g.alternate;if(A!==null&&(A=A.updateQueue,C===A)){var O=null,F=null;if(C=C.firstBaseUpdate,C!==null){do{var q={lane:C.lane,tag:C.tag,payload:C.payload,callback:null,next:null};F===null?O=F=q:F=F.next=q,C=C.next}while(C!==null);F===null?O=F=j:F=F.next=j}else O=F=j;C={baseState:A.baseState,firstBaseUpdate:O,lastBaseUpdate:F,shared:A.shared,callbacks:A.callbacks},g.updateQueue=C;return}g=C.lastBaseUpdate,g===null?C.firstBaseUpdate=j:g.next=j,C.lastBaseUpdate=j}var gA=!1;function av(){if(gA){var g=Dh;if(g!==null)throw g}}function iv(g,j,C,A){gA=!1;var O=g.updateQueue;wd=!1;var F=O.firstBaseUpdate,q=O.lastBaseUpdate,J=O.shared.pending;if(J!==null){O.shared.pending=null;var ae=J,Ne=ae.next;ae.next=null,q===null?F=Ne:q.next=Ne,q=ae;var Fe=g.alternate;Fe!==null&&(Fe=Fe.updateQueue,J=Fe.lastBaseUpdate,J!==q&&(J===null?Fe.firstBaseUpdate=Ne:J.next=Ne,Fe.lastBaseUpdate=ae))}if(F!==null){var Ve=O.baseState;q=0,Fe=Ne=ae=null,J=F;do{var ke=J.lane&-536870913,Te=ke!==J.lane;if(Te?(mr&ke)===ke:(A&ke)===ke){ke!==0&&ke===Th&&(gA=!0),Fe!==null&&(Fe=Fe.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var Ut=g,Rt=J;ke=j;var qr=C;switch(Rt.tag){case 1:if(Ut=Rt.payload,typeof Ut=="function"){Ve=Ut.call(qr,Ve,ke);break e}Ve=Ut;break e;case 3:Ut.flags=Ut.flags&-65537|128;case 0:if(Ut=Rt.payload,ke=typeof Ut=="function"?Ut.call(qr,Ve,ke):Ut,ke==null)break e;Ve=l({},Ve,ke);break e;case 2:wd=!0}}ke=J.callback,ke!==null&&(g.flags|=64,Te&&(g.flags|=8192),Te=O.callbacks,Te===null?O.callbacks=[ke]:Te.push(ke))}else Te={lane:ke,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Fe===null?(Ne=Fe=Te,ae=Ve):Fe=Fe.next=Te,q|=ke;if(J=J.next,J===null){if(J=O.shared.pending,J===null)break;Te=J,J=Te.next,Te.next=null,O.lastBaseUpdate=Te,O.shared.pending=null}}while(!0);Fe===null&&(ae=Ve),O.baseState=ae,O.firstBaseUpdate=Ne,O.lastBaseUpdate=Fe,F===null&&(O.shared.lanes=0),Dd|=q,g.lanes=q,g.memoizedState=Ve}}function aB(g,j){if(typeof g!="function")throw Error(s(191,g));g.call(j)}function iB(g,j){var C=g.callbacks;if(C!==null)for(g.callbacks=null,g=0;g<C.length;g++)aB(C[g],j)}var Ph=G(null),tj=G(0);function oB(g,j){g=hc,Y(tj,g),Y(Ph,j),hc=g|j.baseLanes}function xA(){Y(tj,hc),Y(Ph,Ph.current)}function vA(){hc=tj.current,U(Ph),U(tj)}var Nd=0,Xt=null,Vr=null,fn=null,rj=!1,Rh=!1,bf=!1,sj=0,ov=0,Mh=null,Dxe=0;function tn(){throw Error(s(321))}function yA(g,j){if(j===null)return!1;for(var C=0;C<j.length&&C<g.length;C++)if(!ii(g[C],j[C]))return!1;return!0}function bA(g,j,C,A,O,F){return Nd=F,Xt=j,j.memoizedState=null,j.updateQueue=null,j.lanes=0,I.H=g===null||g.memoizedState===null?VB:WB,bf=!1,F=C(A,O),bf=!1,Rh&&(F=cB(j,C,A,O)),lB(g),F}function lB(g){I.H=cj;var j=Vr!==null&&Vr.next!==null;if(Nd=0,fn=Vr=Xt=null,rj=!1,ov=0,Mh=null,j)throw Error(s(300));g===null||Un||(g=g.dependencies,g!==null&&Zw(g)&&(Un=!0))}function cB(g,j,C,A){Xt=g;var O=0;do{if(Rh&&(Mh=null),ov=0,Rh=!1,25<=O)throw Error(s(301));if(O+=1,fn=Vr=null,g.updateQueue!=null){var F=g.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}I.H=$xe,F=j(C,A)}while(Rh);return F}function Pxe(){var g=I.H,j=g.useState()[0];return j=typeof j.then=="function"?lv(j):j,g=g.useState()[0],(Vr!==null?Vr.memoizedState:null)!==g&&(Xt.flags|=1024),j}function wA(){var g=sj!==0;return sj=0,g}function jA(g,j,C){j.updateQueue=g.updateQueue,j.flags&=-2053,g.lanes&=~C}function SA(g){if(rj){for(g=g.memoizedState;g!==null;){var j=g.queue;j!==null&&(j.pending=null),g=g.next}rj=!1}Nd=0,fn=Vr=Xt=null,Rh=!1,ov=sj=0,Mh=null}function $a(){var g={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Xt.memoizedState=fn=g:fn=fn.next=g,fn}function mn(){if(Vr===null){var g=Xt.alternate;g=g!==null?g.memoizedState:null}else g=Vr.next;var j=fn===null?Xt.memoizedState:fn.next;if(j!==null)fn=j,Vr=g;else{if(g===null)throw Xt.alternate===null?Error(s(467)):Error(s(310));Vr=g,g={memoizedState:Vr.memoizedState,baseState:Vr.baseState,baseQueue:Vr.baseQueue,queue:Vr.queue,next:null},fn===null?Xt.memoizedState=fn=g:fn=fn.next=g}return fn}function NA(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lv(g){var j=ov;return ov+=1,Mh===null&&(Mh=[]),g=rB(Mh,g,j),j=Xt,(fn===null?j.memoizedState:fn.next)===null&&(j=j.alternate,I.H=j===null||j.memoizedState===null?VB:WB),g}function nj(g){if(g!==null&&typeof g=="object"){if(typeof g.then=="function")return lv(g);if(g.$$typeof===S)return da(g)}throw Error(s(438,String(g)))}function CA(g){var j=null,C=Xt.updateQueue;if(C!==null&&(j=C.memoCache),j==null){var A=Xt.alternate;A!==null&&(A=A.updateQueue,A!==null&&(A=A.memoCache,A!=null&&(j={data:A.data.map(function(O){return O.slice()}),index:0})))}if(j==null&&(j={data:[],index:0}),C===null&&(C=NA(),Xt.updateQueue=C),C.memoCache=j,C=j.data[j.index],C===void 0)for(C=j.data[j.index]=Array(g),A=0;A<g;A++)C[A]=P;return j.index++,C}function lc(g,j){return typeof j=="function"?j(g):j}function aj(g){var j=mn();return _A(j,Vr,g)}function _A(g,j,C){var A=g.queue;if(A===null)throw Error(s(311));A.lastRenderedReducer=C;var O=g.baseQueue,F=A.pending;if(F!==null){if(O!==null){var q=O.next;O.next=F.next,F.next=q}j.baseQueue=O=F,A.pending=null}if(F=g.baseState,O===null)g.memoizedState=F;else{j=O.next;var J=q=null,ae=null,Ne=j,Fe=!1;do{var Ve=Ne.lane&-536870913;if(Ve!==Ne.lane?(mr&Ve)===Ve:(Nd&Ve)===Ve){var ke=Ne.revertLane;if(ke===0)ae!==null&&(ae=ae.next={lane:0,revertLane:0,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),Ve===Th&&(Fe=!0);else if((Nd&ke)===ke){Ne=Ne.next,ke===Th&&(Fe=!0);continue}else Ve={lane:0,revertLane:Ne.revertLane,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},ae===null?(J=ae=Ve,q=F):ae=ae.next=Ve,Xt.lanes|=ke,Dd|=ke;Ve=Ne.action,bf&&C(F,Ve),F=Ne.hasEagerState?Ne.eagerState:C(F,Ve)}else ke={lane:Ve,revertLane:Ne.revertLane,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},ae===null?(J=ae=ke,q=F):ae=ae.next=ke,Xt.lanes|=Ve,Dd|=Ve;Ne=Ne.next}while(Ne!==null&&Ne!==j);if(ae===null?q=F:ae.next=J,!ii(F,g.memoizedState)&&(Un=!0,Fe&&(C=Dh,C!==null)))throw C;g.memoizedState=F,g.baseState=q,g.baseQueue=ae,A.lastRenderedState=F}return O===null&&(A.lanes=0),[g.memoizedState,A.dispatch]}function EA(g){var j=mn(),C=j.queue;if(C===null)throw Error(s(311));C.lastRenderedReducer=g;var A=C.dispatch,O=C.pending,F=j.memoizedState;if(O!==null){C.pending=null;var q=O=O.next;do F=g(F,q.action),q=q.next;while(q!==O);ii(F,j.memoizedState)||(Un=!0),j.memoizedState=F,j.baseQueue===null&&(j.baseState=F),C.lastRenderedState=F}return[F,A]}function dB(g,j,C){var A=Xt,O=mn(),F=br;if(F){if(C===void 0)throw Error(s(407));C=C()}else C=j();var q=!ii((Vr||O).memoizedState,C);q&&(O.memoizedState=C,Un=!0),O=O.queue;var J=mB.bind(null,A,O,g);if(cv(2048,8,J,[g]),O.getSnapshot!==j||q||fn!==null&&fn.memoizedState.tag&1){if(A.flags|=2048,Oh(9,ij(),fB.bind(null,A,O,C,j),null),is===null)throw Error(s(349));F||(Nd&124)!==0||uB(A,j,C)}return C}function uB(g,j,C){g.flags|=16384,g={getSnapshot:j,value:C},j=Xt.updateQueue,j===null?(j=NA(),Xt.updateQueue=j,j.stores=[g]):(C=j.stores,C===null?j.stores=[g]:C.push(g))}function fB(g,j,C,A){j.value=C,j.getSnapshot=A,hB(j)&&pB(g)}function mB(g,j,C){return C(function(){hB(j)&&pB(g)})}function hB(g){var j=g.getSnapshot;g=g.value;try{var C=j();return!ii(g,C)}catch{return!0}}function pB(g){var j=_h(g,2);j!==null&&fi(j,g,2)}function kA(g){var j=$a();if(typeof g=="function"){var C=g;if(g=C(),bf){Bt(!0);try{C()}finally{Bt(!1)}}}return j.memoizedState=j.baseState=g,j.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lc,lastRenderedState:g},j}function gB(g,j,C,A){return g.baseState=C,_A(g,Vr,typeof A=="function"?A:lc)}function Rxe(g,j,C,A,O){if(lj(g))throw Error(s(485));if(g=j.action,g!==null){var F={payload:O,action:g,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(q){F.listeners.push(q)}};I.T!==null?C(!0):F.isTransition=!1,A(F),C=j.pending,C===null?(F.next=j.pending=F,xB(j,F)):(F.next=C.next,j.pending=C.next=F)}}function xB(g,j){var C=j.action,A=j.payload,O=g.state;if(j.isTransition){var F=I.T,q={};I.T=q;try{var J=C(O,A),ae=I.S;ae!==null&&ae(q,J),vB(g,j,J)}catch(Ne){AA(g,j,Ne)}finally{I.T=F}}else try{F=C(O,A),vB(g,j,F)}catch(Ne){AA(g,j,Ne)}}function vB(g,j,C){C!==null&&typeof C=="object"&&typeof C.then=="function"?C.then(function(A){yB(g,j,A)},function(A){return AA(g,j,A)}):yB(g,j,C)}function yB(g,j,C){j.status="fulfilled",j.value=C,bB(j),g.state=C,j=g.pending,j!==null&&(C=j.next,C===j?g.pending=null:(C=C.next,j.next=C,xB(g,C)))}function AA(g,j,C){var A=g.pending;if(g.pending=null,A!==null){A=A.next;do j.status="rejected",j.reason=C,bB(j),j=j.next;while(j!==A)}g.action=null}function bB(g){g=g.listeners;for(var j=0;j<g.length;j++)(0,g[j])()}function wB(g,j){return j}function jB(g,j){if(br){var C=is.formState;if(C!==null){e:{var A=Xt;if(br){if(Ys){t:{for(var O=Ys,F=ul;O.nodeType!==8;){if(!F){O=null;break t}if(O=$o(O.nextSibling),O===null){O=null;break t}}F=O.data,O=F==="F!"||F==="F"?O:null}if(O){Ys=$o(O.nextSibling),A=O.data==="F!";break e}}gf(A)}A=!1}A&&(j=C[0])}}return C=$a(),C.memoizedState=C.baseState=j,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wB,lastRenderedState:j},C.queue=A,C=zB.bind(null,Xt,A),A.dispatch=C,A=kA(!1),F=MA.bind(null,Xt,!1,A.queue),A=$a(),O={state:j,dispatch:null,action:g,pending:null},A.queue=O,C=Rxe.bind(null,Xt,O,F,C),O.dispatch=C,A.memoizedState=g,[j,C,!1]}function SB(g){var j=mn();return NB(j,Vr,g)}function NB(g,j,C){if(j=_A(g,j,wB)[0],g=aj(lc)[0],typeof j=="object"&&j!==null&&typeof j.then=="function")try{var A=lv(j)}catch(q){throw q===rv?Qw:q}else A=j;j=mn();var O=j.queue,F=O.dispatch;return C!==j.memoizedState&&(Xt.flags|=2048,Oh(9,ij(),Mxe.bind(null,O,C),null)),[A,F,g]}function Mxe(g,j){g.action=j}function CB(g){var j=mn(),C=Vr;if(C!==null)return NB(j,C,g);mn(),j=j.memoizedState,C=mn();var A=C.queue.dispatch;return C.memoizedState=g,[j,A,!1]}function Oh(g,j,C,A){return g={tag:g,create:C,deps:A,inst:j,next:null},j=Xt.updateQueue,j===null&&(j=NA(),Xt.updateQueue=j),C=j.lastEffect,C===null?j.lastEffect=g.next=g:(A=C.next,C.next=g,g.next=A,j.lastEffect=g),g}function ij(){return{destroy:void 0,resource:void 0}}function _B(){return mn().memoizedState}function oj(g,j,C,A){var O=$a();A=A===void 0?null:A,Xt.flags|=g,O.memoizedState=Oh(1|j,ij(),C,A)}function cv(g,j,C,A){var O=mn();A=A===void 0?null:A;var F=O.memoizedState.inst;Vr!==null&&A!==null&&yA(A,Vr.memoizedState.deps)?O.memoizedState=Oh(j,F,C,A):(Xt.flags|=g,O.memoizedState=Oh(1|j,F,C,A))}function EB(g,j){oj(8390656,8,g,j)}function kB(g,j){cv(2048,8,g,j)}function AB(g,j){return cv(4,2,g,j)}function TB(g,j){return cv(4,4,g,j)}function DB(g,j){if(typeof j=="function"){g=g();var C=j(g);return function(){typeof C=="function"?C():j(null)}}if(j!=null)return g=g(),j.current=g,function(){j.current=null}}function PB(g,j,C){C=C!=null?C.concat([g]):null,cv(4,4,DB.bind(null,j,g),C)}function TA(){}function RB(g,j){var C=mn();j=j===void 0?null:j;var A=C.memoizedState;return j!==null&&yA(j,A[1])?A[0]:(C.memoizedState=[g,j],g)}function MB(g,j){var C=mn();j=j===void 0?null:j;var A=C.memoizedState;if(j!==null&&yA(j,A[1]))return A[0];if(A=g(),bf){Bt(!0);try{g()}finally{Bt(!1)}}return C.memoizedState=[A,j],A}function DA(g,j,C){return C===void 0||(Nd&1073741824)!==0?g.memoizedState=j:(g.memoizedState=C,g=F8(),Xt.lanes|=g,Dd|=g,C)}function OB(g,j,C,A){return ii(C,j)?C:Ph.current!==null?(g=DA(g,C,A),ii(g,j)||(Un=!0),g):(Nd&42)===0?(Un=!0,g.memoizedState=C):(g=F8(),Xt.lanes|=g,Dd|=g,j)}function IB(g,j,C,A,O){var F=z.p;z.p=F!==0&&8>F?F:8;var q=I.T,J={};I.T=J,MA(g,!1,j,C);try{var ae=O(),Ne=I.S;if(Ne!==null&&Ne(J,ae),ae!==null&&typeof ae=="object"&&typeof ae.then=="function"){var Fe=Txe(ae,A);dv(g,j,Fe,ui(g))}else dv(g,j,A,ui(g))}catch(Ve){dv(g,j,{then:function(){},status:"rejected",reason:Ve},ui())}finally{z.p=F,I.T=q}}function Oxe(){}function PA(g,j,C,A){if(g.tag!==5)throw Error(s(476));var O=FB(g).queue;IB(g,O,j,H,C===null?Oxe:function(){return $B(g),C(A)})}function FB(g){var j=g.memoizedState;if(j!==null)return j;j={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lc,lastRenderedState:H},next:null};var C={};return j.next={memoizedState:C,baseState:C,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lc,lastRenderedState:C},next:null},g.memoizedState=j,g=g.alternate,g!==null&&(g.memoizedState=j),j}function $B(g){var j=FB(g).next.queue;dv(g,j,{},ui())}function RA(){return da(kv)}function LB(){return mn().memoizedState}function BB(){return mn().memoizedState}function Ixe(g){for(var j=g.return;j!==null;){switch(j.tag){case 24:case 3:var C=ui();g=jd(C);var A=Sd(j,g,C);A!==null&&(fi(A,j,C),nv(A,j,C)),j={cache:cA()},g.payload=j;return}j=j.return}}function Fxe(g,j,C){var A=ui();C={lane:A,revertLane:0,action:C,hasEagerState:!1,eagerState:null,next:null},lj(g)?UB(j,C):(C=Qk(g,j,C,A),C!==null&&(fi(C,g,A),HB(C,j,A)))}function zB(g,j,C){var A=ui();dv(g,j,C,A)}function dv(g,j,C,A){var O={lane:A,revertLane:0,action:C,hasEagerState:!1,eagerState:null,next:null};if(lj(g))UB(j,O);else{var F=g.alternate;if(g.lanes===0&&(F===null||F.lanes===0)&&(F=j.lastRenderedReducer,F!==null))try{var q=j.lastRenderedState,J=F(q,C);if(O.hasEagerState=!0,O.eagerState=J,ii(J,q))return Ww(g,j,O,0),is===null&&Vw(),!1}catch{}if(C=Qk(g,j,O,A),C!==null)return fi(C,g,A),HB(C,j,A),!0}return!1}function MA(g,j,C,A){if(A={lane:2,revertLane:fT(),action:A,hasEagerState:!1,eagerState:null,next:null},lj(g)){if(j)throw Error(s(479))}else j=Qk(g,C,A,2),j!==null&&fi(j,g,2)}function lj(g){var j=g.alternate;return g===Xt||j!==null&&j===Xt}function UB(g,j){Rh=rj=!0;var C=g.pending;C===null?j.next=j:(j.next=C.next,C.next=j),g.pending=j}function HB(g,j,C){if((C&4194048)!==0){var A=j.lanes;A&=g.pendingLanes,C|=A,j.lanes=C,fs(g,C)}}var cj={readContext:da,use:nj,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn},VB={readContext:da,use:nj,useCallback:function(g,j){return $a().memoizedState=[g,j===void 0?null:j],g},useContext:da,useEffect:EB,useImperativeHandle:function(g,j,C){C=C!=null?C.concat([g]):null,oj(4194308,4,DB.bind(null,j,g),C)},useLayoutEffect:function(g,j){return oj(4194308,4,g,j)},useInsertionEffect:function(g,j){oj(4,2,g,j)},useMemo:function(g,j){var C=$a();j=j===void 0?null:j;var A=g();if(bf){Bt(!0);try{g()}finally{Bt(!1)}}return C.memoizedState=[A,j],A},useReducer:function(g,j,C){var A=$a();if(C!==void 0){var O=C(j);if(bf){Bt(!0);try{C(j)}finally{Bt(!1)}}}else O=j;return A.memoizedState=A.baseState=O,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:g,lastRenderedState:O},A.queue=g,g=g.dispatch=Fxe.bind(null,Xt,g),[A.memoizedState,g]},useRef:function(g){var j=$a();return g={current:g},j.memoizedState=g},useState:function(g){g=kA(g);var j=g.queue,C=zB.bind(null,Xt,j);return j.dispatch=C,[g.memoizedState,C]},useDebugValue:TA,useDeferredValue:function(g,j){var C=$a();return DA(C,g,j)},useTransition:function(){var g=kA(!1);return g=IB.bind(null,Xt,g.queue,!0,!1),$a().memoizedState=g,[!1,g]},useSyncExternalStore:function(g,j,C){var A=Xt,O=$a();if(br){if(C===void 0)throw Error(s(407));C=C()}else{if(C=j(),is===null)throw Error(s(349));(mr&124)!==0||uB(A,j,C)}O.memoizedState=C;var F={value:C,getSnapshot:j};return O.queue=F,EB(mB.bind(null,A,F,g),[g]),A.flags|=2048,Oh(9,ij(),fB.bind(null,A,F,C,j),null),C},useId:function(){var g=$a(),j=is.identifierPrefix;if(br){var C=ac,A=nc;C=(A&~(1<<32-lr(A)-1)).toString(32)+C,j=""+j+"R"+C,C=sj++,0<C&&(j+="H"+C.toString(32)),j+=""}else C=Dxe++,j=""+j+"r"+C.toString(32)+"";return g.memoizedState=j},useHostTransitionStatus:RA,useFormState:jB,useActionState:jB,useOptimistic:function(g){var j=$a();j.memoizedState=j.baseState=g;var C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return j.queue=C,j=MA.bind(null,Xt,!0,C),C.dispatch=j,[g,j]},useMemoCache:CA,useCacheRefresh:function(){return $a().memoizedState=Ixe.bind(null,Xt)}},WB={readContext:da,use:nj,useCallback:RB,useContext:da,useEffect:kB,useImperativeHandle:PB,useInsertionEffect:AB,useLayoutEffect:TB,useMemo:MB,useReducer:aj,useRef:_B,useState:function(){return aj(lc)},useDebugValue:TA,useDeferredValue:function(g,j){var C=mn();return OB(C,Vr.memoizedState,g,j)},useTransition:function(){var g=aj(lc)[0],j=mn().memoizedState;return[typeof g=="boolean"?g:lv(g),j]},useSyncExternalStore:dB,useId:LB,useHostTransitionStatus:RA,useFormState:SB,useActionState:SB,useOptimistic:function(g,j){var C=mn();return gB(C,Vr,g,j)},useMemoCache:CA,useCacheRefresh:BB},$xe={readContext:da,use:nj,useCallback:RB,useContext:da,useEffect:kB,useImperativeHandle:PB,useInsertionEffect:AB,useLayoutEffect:TB,useMemo:MB,useReducer:EA,useRef:_B,useState:function(){return EA(lc)},useDebugValue:TA,useDeferredValue:function(g,j){var C=mn();return Vr===null?DA(C,g,j):OB(C,Vr.memoizedState,g,j)},useTransition:function(){var g=EA(lc)[0],j=mn().memoizedState;return[typeof g=="boolean"?g:lv(g),j]},useSyncExternalStore:dB,useId:LB,useHostTransitionStatus:RA,useFormState:CB,useActionState:CB,useOptimistic:function(g,j){var C=mn();return Vr!==null?gB(C,Vr,g,j):(C.baseState=g,[g,C.queue.dispatch])},useMemoCache:CA,useCacheRefresh:BB},Ih=null,uv=0;function dj(g){var j=uv;return uv+=1,Ih===null&&(Ih=[]),rB(Ih,g,j)}function fv(g,j){j=j.props.ref,g.ref=j!==void 0?j:null}function uj(g,j){throw j.$$typeof===f?Error(s(525)):(g=Object.prototype.toString.call(j),Error(s(31,g==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":g)))}function qB(g){var j=g._init;return j(g._payload)}function GB(g){function j(be,ue){if(g){var Se=be.deletions;Se===null?(be.deletions=[ue],be.flags|=16):Se.push(ue)}}function C(be,ue){if(!g)return null;for(;ue!==null;)j(be,ue),ue=ue.sibling;return null}function A(be){for(var ue=new Map;be!==null;)be.key!==null?ue.set(be.key,be):ue.set(be.index,be),be=be.sibling;return ue}function O(be,ue){return be=sc(be,ue),be.index=0,be.sibling=null,be}function F(be,ue,Se){return be.index=Se,g?(Se=be.alternate,Se!==null?(Se=Se.index,Se<ue?(be.flags|=67108866,ue):Se):(be.flags|=67108866,ue)):(be.flags|=1048576,ue)}function q(be){return g&&be.alternate===null&&(be.flags|=67108866),be}function J(be,ue,Se,Be){return ue===null||ue.tag!==6?(ue=tA(Se,be.mode,Be),ue.return=be,ue):(ue=O(ue,Se),ue.return=be,ue)}function ae(be,ue,Se,Be){var ht=Se.type;return ht===x?Fe(be,ue,Se.props.children,Be,Se.key):ue!==null&&(ue.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===T&&qB(ht)===ue.type)?(ue=O(ue,Se.props),fv(ue,Se),ue.return=be,ue):(ue=Gw(Se.type,Se.key,Se.props,null,be.mode,Be),fv(ue,Se),ue.return=be,ue)}function Ne(be,ue,Se,Be){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==Se.containerInfo||ue.stateNode.implementation!==Se.implementation?(ue=rA(Se,be.mode,Be),ue.return=be,ue):(ue=O(ue,Se.children||[]),ue.return=be,ue)}function Fe(be,ue,Se,Be,ht){return ue===null||ue.tag!==7?(ue=ff(Se,be.mode,Be,ht),ue.return=be,ue):(ue=O(ue,Se),ue.return=be,ue)}function Ve(be,ue,Se){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return ue=tA(""+ue,be.mode,Se),ue.return=be,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case m:return Se=Gw(ue.type,ue.key,ue.props,null,be.mode,Se),fv(Se,ue),Se.return=be,Se;case p:return ue=rA(ue,be.mode,Se),ue.return=be,ue;case T:var Be=ue._init;return ue=Be(ue._payload),Ve(be,ue,Se)}if($(ue)||R(ue))return ue=ff(ue,be.mode,Se,null),ue.return=be,ue;if(typeof ue.then=="function")return Ve(be,dj(ue),Se);if(ue.$$typeof===S)return Ve(be,Xw(be,ue),Se);uj(be,ue)}return null}function ke(be,ue,Se,Be){var ht=ue!==null?ue.key:null;if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return ht!==null?null:J(be,ue,""+Se,Be);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case m:return Se.key===ht?ae(be,ue,Se,Be):null;case p:return Se.key===ht?Ne(be,ue,Se,Be):null;case T:return ht=Se._init,Se=ht(Se._payload),ke(be,ue,Se,Be)}if($(Se)||R(Se))return ht!==null?null:Fe(be,ue,Se,Be,null);if(typeof Se.then=="function")return ke(be,ue,dj(Se),Be);if(Se.$$typeof===S)return ke(be,ue,Xw(be,Se),Be);uj(be,Se)}return null}function Te(be,ue,Se,Be,ht){if(typeof Be=="string"&&Be!==""||typeof Be=="number"||typeof Be=="bigint")return be=be.get(Se)||null,J(ue,be,""+Be,ht);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case m:return be=be.get(Be.key===null?Se:Be.key)||null,ae(ue,be,Be,ht);case p:return be=be.get(Be.key===null?Se:Be.key)||null,Ne(ue,be,Be,ht);case T:var tr=Be._init;return Be=tr(Be._payload),Te(be,ue,Se,Be,ht)}if($(Be)||R(Be))return be=be.get(Se)||null,Fe(ue,be,Be,ht,null);if(typeof Be.then=="function")return Te(be,ue,Se,dj(Be),ht);if(Be.$$typeof===S)return Te(be,ue,Se,Xw(ue,Be),ht);uj(ue,Be)}return null}function Ut(be,ue,Se,Be){for(var ht=null,tr=null,_t=ue,Ot=ue=0,Vn=null;_t!==null&&Ot<Se.length;Ot++){_t.index>Ot?(Vn=_t,_t=null):Vn=_t.sibling;var gr=ke(be,_t,Se[Ot],Be);if(gr===null){_t===null&&(_t=Vn);break}g&&_t&&gr.alternate===null&&j(be,_t),ue=F(gr,ue,Ot),tr===null?ht=gr:tr.sibling=gr,tr=gr,_t=Vn}if(Ot===Se.length)return C(be,_t),br&&hf(be,Ot),ht;if(_t===null){for(;Ot<Se.length;Ot++)_t=Ve(be,Se[Ot],Be),_t!==null&&(ue=F(_t,ue,Ot),tr===null?ht=_t:tr.sibling=_t,tr=_t);return br&&hf(be,Ot),ht}for(_t=A(_t);Ot<Se.length;Ot++)Vn=Te(_t,be,Ot,Se[Ot],Be),Vn!==null&&(g&&Vn.alternate!==null&&_t.delete(Vn.key===null?Ot:Vn.key),ue=F(Vn,ue,Ot),tr===null?ht=Vn:tr.sibling=Vn,tr=Vn);return g&&_t.forEach(function(Bd){return j(be,Bd)}),br&&hf(be,Ot),ht}function Rt(be,ue,Se,Be){if(Se==null)throw Error(s(151));for(var ht=null,tr=null,_t=ue,Ot=ue=0,Vn=null,gr=Se.next();_t!==null&&!gr.done;Ot++,gr=Se.next()){_t.index>Ot?(Vn=_t,_t=null):Vn=_t.sibling;var Bd=ke(be,_t,gr.value,Be);if(Bd===null){_t===null&&(_t=Vn);break}g&&_t&&Bd.alternate===null&&j(be,_t),ue=F(Bd,ue,Ot),tr===null?ht=Bd:tr.sibling=Bd,tr=Bd,_t=Vn}if(gr.done)return C(be,_t),br&&hf(be,Ot),ht;if(_t===null){for(;!gr.done;Ot++,gr=Se.next())gr=Ve(be,gr.value,Be),gr!==null&&(ue=F(gr,ue,Ot),tr===null?ht=gr:tr.sibling=gr,tr=gr);return br&&hf(be,Ot),ht}for(_t=A(_t);!gr.done;Ot++,gr=Se.next())gr=Te(_t,be,Ot,gr.value,Be),gr!==null&&(g&&gr.alternate!==null&&_t.delete(gr.key===null?Ot:gr.key),ue=F(gr,ue,Ot),tr===null?ht=gr:tr.sibling=gr,tr=gr);return g&&_t.forEach(function(Lve){return j(be,Lve)}),br&&hf(be,Ot),ht}function qr(be,ue,Se,Be){if(typeof Se=="object"&&Se!==null&&Se.type===x&&Se.key===null&&(Se=Se.props.children),typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case m:e:{for(var ht=Se.key;ue!==null;){if(ue.key===ht){if(ht=Se.type,ht===x){if(ue.tag===7){C(be,ue.sibling),Be=O(ue,Se.props.children),Be.return=be,be=Be;break e}}else if(ue.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===T&&qB(ht)===ue.type){C(be,ue.sibling),Be=O(ue,Se.props),fv(Be,Se),Be.return=be,be=Be;break e}C(be,ue);break}else j(be,ue);ue=ue.sibling}Se.type===x?(Be=ff(Se.props.children,be.mode,Be,Se.key),Be.return=be,be=Be):(Be=Gw(Se.type,Se.key,Se.props,null,be.mode,Be),fv(Be,Se),Be.return=be,be=Be)}return q(be);case p:e:{for(ht=Se.key;ue!==null;){if(ue.key===ht)if(ue.tag===4&&ue.stateNode.containerInfo===Se.containerInfo&&ue.stateNode.implementation===Se.implementation){C(be,ue.sibling),Be=O(ue,Se.children||[]),Be.return=be,be=Be;break e}else{C(be,ue);break}else j(be,ue);ue=ue.sibling}Be=rA(Se,be.mode,Be),Be.return=be,be=Be}return q(be);case T:return ht=Se._init,Se=ht(Se._payload),qr(be,ue,Se,Be)}if($(Se))return Ut(be,ue,Se,Be);if(R(Se)){if(ht=R(Se),typeof ht!="function")throw Error(s(150));return Se=ht.call(Se),Rt(be,ue,Se,Be)}if(typeof Se.then=="function")return qr(be,ue,dj(Se),Be);if(Se.$$typeof===S)return qr(be,ue,Xw(be,Se),Be);uj(be,Se)}return typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint"?(Se=""+Se,ue!==null&&ue.tag===6?(C(be,ue.sibling),Be=O(ue,Se),Be.return=be,be=Be):(C(be,ue),Be=tA(Se,be.mode,Be),Be.return=be,be=Be),q(be)):C(be,ue)}return function(be,ue,Se,Be){try{uv=0;var ht=qr(be,ue,Se,Be);return Ih=null,ht}catch(_t){if(_t===rv||_t===Qw)throw _t;var tr=oi(29,_t,null,be.mode);return tr.lanes=Be,tr.return=be,tr}}}var Fh=GB(!0),YB=GB(!1),Ji=G(null),fl=null;function Cd(g){var j=g.alternate;Y(Cn,Cn.current&1),Y(Ji,g),fl===null&&(j===null||Ph.current!==null||j.memoizedState!==null)&&(fl=g)}function KB(g){if(g.tag===22){if(Y(Cn,Cn.current),Y(Ji,g),fl===null){var j=g.alternate;j!==null&&j.memoizedState!==null&&(fl=g)}}else _d()}function _d(){Y(Cn,Cn.current),Y(Ji,Ji.current)}function cc(g){U(Ji),fl===g&&(fl=null),U(Cn)}var Cn=G(0);function fj(g){for(var j=g;j!==null;){if(j.tag===13){var C=j.memoizedState;if(C!==null&&(C=C.dehydrated,C===null||C.data==="$?"||NT(C)))return j}else if(j.tag===19&&j.memoizedProps.revealOrder!==void 0){if((j.flags&128)!==0)return j}else if(j.child!==null){j.child.return=j,j=j.child;continue}if(j===g)break;for(;j.sibling===null;){if(j.return===null||j.return===g)return null;j=j.return}j.sibling.return=j.return,j=j.sibling}return null}function OA(g,j,C,A){j=g.memoizedState,C=C(A,j),C=C==null?j:l({},j,C),g.memoizedState=C,g.lanes===0&&(g.updateQueue.baseState=C)}var IA={enqueueSetState:function(g,j,C){g=g._reactInternals;var A=ui(),O=jd(A);O.payload=j,C!=null&&(O.callback=C),j=Sd(g,O,A),j!==null&&(fi(j,g,A),nv(j,g,A))},enqueueReplaceState:function(g,j,C){g=g._reactInternals;var A=ui(),O=jd(A);O.tag=1,O.payload=j,C!=null&&(O.callback=C),j=Sd(g,O,A),j!==null&&(fi(j,g,A),nv(j,g,A))},enqueueForceUpdate:function(g,j){g=g._reactInternals;var C=ui(),A=jd(C);A.tag=2,j!=null&&(A.callback=j),j=Sd(g,A,C),j!==null&&(fi(j,g,C),nv(j,g,C))}};function ZB(g,j,C,A,O,F,q){return g=g.stateNode,typeof g.shouldComponentUpdate=="function"?g.shouldComponentUpdate(A,F,q):j.prototype&&j.prototype.isPureReactComponent?!Yx(C,A)||!Yx(O,F):!0}function XB(g,j,C,A){g=j.state,typeof j.componentWillReceiveProps=="function"&&j.componentWillReceiveProps(C,A),typeof j.UNSAFE_componentWillReceiveProps=="function"&&j.UNSAFE_componentWillReceiveProps(C,A),j.state!==g&&IA.enqueueReplaceState(j,j.state,null)}function wf(g,j){var C=j;if("ref"in j){C={};for(var A in j)A!=="ref"&&(C[A]=j[A])}if(g=g.defaultProps){C===j&&(C=l({},C));for(var O in g)C[O]===void 0&&(C[O]=g[O])}return C}var mj=typeof reportError=="function"?reportError:function(g){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof g=="object"&&g!==null&&typeof g.message=="string"?String(g.message):String(g),error:g});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",g);return}console.error(g)};function JB(g){mj(g)}function QB(g){console.error(g)}function e8(g){mj(g)}function hj(g,j){try{var C=g.onUncaughtError;C(j.value,{componentStack:j.stack})}catch(A){setTimeout(function(){throw A})}}function t8(g,j,C){try{var A=g.onCaughtError;A(C.value,{componentStack:C.stack,errorBoundary:j.tag===1?j.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function FA(g,j,C){return C=jd(C),C.tag=3,C.payload={element:null},C.callback=function(){hj(g,j)},C}function r8(g){return g=jd(g),g.tag=3,g}function s8(g,j,C,A){var O=C.type.getDerivedStateFromError;if(typeof O=="function"){var F=A.value;g.payload=function(){return O(F)},g.callback=function(){t8(j,C,A)}}var q=C.stateNode;q!==null&&typeof q.componentDidCatch=="function"&&(g.callback=function(){t8(j,C,A),typeof O!="function"&&(Pd===null?Pd=new Set([this]):Pd.add(this));var J=A.stack;this.componentDidCatch(A.value,{componentStack:J!==null?J:""})})}function Lxe(g,j,C,A,O){if(C.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){if(j=C.alternate,j!==null&&Qx(j,C,O,!0),C=Ji.current,C!==null){switch(C.tag){case 13:return fl===null?oT():C.alternate===null&&Ks===0&&(Ks=3),C.flags&=-257,C.flags|=65536,C.lanes=O,A===fA?C.flags|=16384:(j=C.updateQueue,j===null?C.updateQueue=new Set([A]):j.add(A),cT(g,A,O)),!1;case 22:return C.flags|=65536,A===fA?C.flags|=16384:(j=C.updateQueue,j===null?(j={transitions:null,markerInstances:null,retryQueue:new Set([A])},C.updateQueue=j):(C=j.retryQueue,C===null?j.retryQueue=new Set([A]):C.add(A)),cT(g,A,O)),!1}throw Error(s(435,C.tag))}return cT(g,A,O),oT(),!1}if(br)return j=Ji.current,j!==null?((j.flags&65536)===0&&(j.flags|=256),j.flags|=65536,j.lanes=O,A!==aA&&(g=Error(s(422),{cause:A}),Jx(Yi(g,C)))):(A!==aA&&(j=Error(s(423),{cause:A}),Jx(Yi(j,C))),g=g.current.alternate,g.flags|=65536,O&=-O,g.lanes|=O,A=Yi(A,C),O=FA(g.stateNode,A,O),pA(g,O),Ks!==4&&(Ks=2)),!1;var F=Error(s(520),{cause:A});if(F=Yi(F,C),yv===null?yv=[F]:yv.push(F),Ks!==4&&(Ks=2),j===null)return!0;A=Yi(A,C),C=j;do{switch(C.tag){case 3:return C.flags|=65536,g=O&-O,C.lanes|=g,g=FA(C.stateNode,A,g),pA(C,g),!1;case 1:if(j=C.type,F=C.stateNode,(C.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Pd===null||!Pd.has(F))))return C.flags|=65536,O&=-O,C.lanes|=O,O=r8(O),s8(O,g,C,A),pA(C,O),!1}C=C.return}while(C!==null);return!1}var n8=Error(s(461)),Un=!1;function ta(g,j,C,A){j.child=g===null?YB(j,null,C,A):Fh(j,g.child,C,A)}function a8(g,j,C,A,O){C=C.render;var F=j.ref;if("ref"in A){var q={};for(var J in A)J!=="ref"&&(q[J]=A[J])}else q=A;return vf(j),A=bA(g,j,C,q,F,O),J=wA(),g!==null&&!Un?(jA(g,j,O),dc(g,j,O)):(br&&J&&sA(j),j.flags|=1,ta(g,j,A,O),j.child)}function i8(g,j,C,A,O){if(g===null){var F=C.type;return typeof F=="function"&&!eA(F)&&F.defaultProps===void 0&&C.compare===null?(j.tag=15,j.type=F,o8(g,j,F,A,O)):(g=Gw(C.type,null,A,j,j.mode,O),g.ref=j.ref,g.return=j,j.child=g)}if(F=g.child,!WA(g,O)){var q=F.memoizedProps;if(C=C.compare,C=C!==null?C:Yx,C(q,A)&&g.ref===j.ref)return dc(g,j,O)}return j.flags|=1,g=sc(F,A),g.ref=j.ref,g.return=j,j.child=g}function o8(g,j,C,A,O){if(g!==null){var F=g.memoizedProps;if(Yx(F,A)&&g.ref===j.ref)if(Un=!1,j.pendingProps=A=F,WA(g,O))(g.flags&131072)!==0&&(Un=!0);else return j.lanes=g.lanes,dc(g,j,O)}return $A(g,j,C,A,O)}function l8(g,j,C){var A=j.pendingProps,O=A.children,F=g!==null?g.memoizedState:null;if(A.mode==="hidden"){if((j.flags&128)!==0){if(A=F!==null?F.baseLanes|C:C,g!==null){for(O=j.child=g.child,F=0;O!==null;)F=F|O.lanes|O.childLanes,O=O.sibling;j.childLanes=F&~A}else j.childLanes=0,j.child=null;return c8(g,j,A,C)}if((C&536870912)!==0)j.memoizedState={baseLanes:0,cachePool:null},g!==null&&Jw(j,F!==null?F.cachePool:null),F!==null?oB(j,F):xA(),KB(j);else return j.lanes=j.childLanes=536870912,c8(g,j,F!==null?F.baseLanes|C:C,C)}else F!==null?(Jw(j,F.cachePool),oB(j,F),_d(),j.memoizedState=null):(g!==null&&Jw(j,null),xA(),_d());return ta(g,j,O,C),j.child}function c8(g,j,C,A){var O=uA();return O=O===null?null:{parent:Nn._currentValue,pool:O},j.memoizedState={baseLanes:C,cachePool:O},g!==null&&Jw(j,null),xA(),KB(j),g!==null&&Qx(g,j,A,!0),null}function pj(g,j){var C=j.ref;if(C===null)g!==null&&g.ref!==null&&(j.flags|=4194816);else{if(typeof C!="function"&&typeof C!="object")throw Error(s(284));(g===null||g.ref!==C)&&(j.flags|=4194816)}}function $A(g,j,C,A,O){return vf(j),C=bA(g,j,C,A,void 0,O),A=wA(),g!==null&&!Un?(jA(g,j,O),dc(g,j,O)):(br&&A&&sA(j),j.flags|=1,ta(g,j,C,O),j.child)}function d8(g,j,C,A,O,F){return vf(j),j.updateQueue=null,C=cB(j,A,C,O),lB(g),A=wA(),g!==null&&!Un?(jA(g,j,F),dc(g,j,F)):(br&&A&&sA(j),j.flags|=1,ta(g,j,C,F),j.child)}function u8(g,j,C,A,O){if(vf(j),j.stateNode===null){var F=Eh,q=C.contextType;typeof q=="object"&&q!==null&&(F=da(q)),F=new C(A,F),j.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=IA,j.stateNode=F,F._reactInternals=j,F=j.stateNode,F.props=A,F.state=j.memoizedState,F.refs={},mA(j),q=C.contextType,F.context=typeof q=="object"&&q!==null?da(q):Eh,F.state=j.memoizedState,q=C.getDerivedStateFromProps,typeof q=="function"&&(OA(j,C,q,A),F.state=j.memoizedState),typeof C.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(q=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),q!==F.state&&IA.enqueueReplaceState(F,F.state,null),iv(j,A,F,O),av(),F.state=j.memoizedState),typeof F.componentDidMount=="function"&&(j.flags|=4194308),A=!0}else if(g===null){F=j.stateNode;var J=j.memoizedProps,ae=wf(C,J);F.props=ae;var Ne=F.context,Fe=C.contextType;q=Eh,typeof Fe=="object"&&Fe!==null&&(q=da(Fe));var Ve=C.getDerivedStateFromProps;Fe=typeof Ve=="function"||typeof F.getSnapshotBeforeUpdate=="function",J=j.pendingProps!==J,Fe||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(J||Ne!==q)&&XB(j,F,A,q),wd=!1;var ke=j.memoizedState;F.state=ke,iv(j,A,F,O),av(),Ne=j.memoizedState,J||ke!==Ne||wd?(typeof Ve=="function"&&(OA(j,C,Ve,A),Ne=j.memoizedState),(ae=wd||ZB(j,C,ae,A,ke,Ne,q))?(Fe||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(j.flags|=4194308)):(typeof F.componentDidMount=="function"&&(j.flags|=4194308),j.memoizedProps=A,j.memoizedState=Ne),F.props=A,F.state=Ne,F.context=q,A=ae):(typeof F.componentDidMount=="function"&&(j.flags|=4194308),A=!1)}else{F=j.stateNode,hA(g,j),q=j.memoizedProps,Fe=wf(C,q),F.props=Fe,Ve=j.pendingProps,ke=F.context,Ne=C.contextType,ae=Eh,typeof Ne=="object"&&Ne!==null&&(ae=da(Ne)),J=C.getDerivedStateFromProps,(Ne=typeof J=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(q!==Ve||ke!==ae)&&XB(j,F,A,ae),wd=!1,ke=j.memoizedState,F.state=ke,iv(j,A,F,O),av();var Te=j.memoizedState;q!==Ve||ke!==Te||wd||g!==null&&g.dependencies!==null&&Zw(g.dependencies)?(typeof J=="function"&&(OA(j,C,J,A),Te=j.memoizedState),(Fe=wd||ZB(j,C,Fe,A,ke,Te,ae)||g!==null&&g.dependencies!==null&&Zw(g.dependencies))?(Ne||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(A,Te,ae),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(A,Te,ae)),typeof F.componentDidUpdate=="function"&&(j.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(j.flags|=1024)):(typeof F.componentDidUpdate!="function"||q===g.memoizedProps&&ke===g.memoizedState||(j.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||q===g.memoizedProps&&ke===g.memoizedState||(j.flags|=1024),j.memoizedProps=A,j.memoizedState=Te),F.props=A,F.state=Te,F.context=ae,A=Fe):(typeof F.componentDidUpdate!="function"||q===g.memoizedProps&&ke===g.memoizedState||(j.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||q===g.memoizedProps&&ke===g.memoizedState||(j.flags|=1024),A=!1)}return F=A,pj(g,j),A=(j.flags&128)!==0,F||A?(F=j.stateNode,C=A&&typeof C.getDerivedStateFromError!="function"?null:F.render(),j.flags|=1,g!==null&&A?(j.child=Fh(j,g.child,null,O),j.child=Fh(j,null,C,O)):ta(g,j,C,O),j.memoizedState=F.state,g=j.child):g=dc(g,j,O),g}function f8(g,j,C,A){return Xx(),j.flags|=256,ta(g,j,C,A),j.child}var LA={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function BA(g){return{baseLanes:g,cachePool:QL()}}function zA(g,j,C){return g=g!==null?g.childLanes&~C:0,j&&(g|=Qi),g}function m8(g,j,C){var A=j.pendingProps,O=!1,F=(j.flags&128)!==0,q;if((q=F)||(q=g!==null&&g.memoizedState===null?!1:(Cn.current&2)!==0),q&&(O=!0,j.flags&=-129),q=(j.flags&32)!==0,j.flags&=-33,g===null){if(br){if(O?Cd(j):_d(),br){var J=Ys,ae;if(ae=J){e:{for(ae=J,J=ul;ae.nodeType!==8;){if(!J){J=null;break e}if(ae=$o(ae.nextSibling),ae===null){J=null;break e}}J=ae}J!==null?(j.memoizedState={dehydrated:J,treeContext:mf!==null?{id:nc,overflow:ac}:null,retryLane:536870912,hydrationErrors:null},ae=oi(18,null,null,0),ae.stateNode=J,ae.return=j,j.child=ae,Sa=j,Ys=null,ae=!0):ae=!1}ae||gf(j)}if(J=j.memoizedState,J!==null&&(J=J.dehydrated,J!==null))return NT(J)?j.lanes=32:j.lanes=536870912,null;cc(j)}return J=A.children,A=A.fallback,O?(_d(),O=j.mode,J=gj({mode:"hidden",children:J},O),A=ff(A,O,C,null),J.return=j,A.return=j,J.sibling=A,j.child=J,O=j.child,O.memoizedState=BA(C),O.childLanes=zA(g,q,C),j.memoizedState=LA,A):(Cd(j),UA(j,J))}if(ae=g.memoizedState,ae!==null&&(J=ae.dehydrated,J!==null)){if(F)j.flags&256?(Cd(j),j.flags&=-257,j=HA(g,j,C)):j.memoizedState!==null?(_d(),j.child=g.child,j.flags|=128,j=null):(_d(),O=A.fallback,J=j.mode,A=gj({mode:"visible",children:A.children},J),O=ff(O,J,C,null),O.flags|=2,A.return=j,O.return=j,A.sibling=O,j.child=A,Fh(j,g.child,null,C),A=j.child,A.memoizedState=BA(C),A.childLanes=zA(g,q,C),j.memoizedState=LA,j=O);else if(Cd(j),NT(J)){if(q=J.nextSibling&&J.nextSibling.dataset,q)var Ne=q.dgst;q=Ne,A=Error(s(419)),A.stack="",A.digest=q,Jx({value:A,source:null,stack:null}),j=HA(g,j,C)}else if(Un||Qx(g,j,C,!1),q=(C&g.childLanes)!==0,Un||q){if(q=is,q!==null&&(A=C&-C,A=(A&42)!==0?1:ms(A),A=(A&(q.suspendedLanes|C))!==0?0:A,A!==0&&A!==ae.retryLane))throw ae.retryLane=A,_h(g,A),fi(q,g,A),n8;J.data==="$?"||oT(),j=HA(g,j,C)}else J.data==="$?"?(j.flags|=192,j.child=g.child,j=null):(g=ae.treeContext,Ys=$o(J.nextSibling),Sa=j,br=!0,pf=null,ul=!1,g!==null&&(Zi[Xi++]=nc,Zi[Xi++]=ac,Zi[Xi++]=mf,nc=g.id,ac=g.overflow,mf=j),j=UA(j,A.children),j.flags|=4096);return j}return O?(_d(),O=A.fallback,J=j.mode,ae=g.child,Ne=ae.sibling,A=sc(ae,{mode:"hidden",children:A.children}),A.subtreeFlags=ae.subtreeFlags&65011712,Ne!==null?O=sc(Ne,O):(O=ff(O,J,C,null),O.flags|=2),O.return=j,A.return=j,A.sibling=O,j.child=A,A=O,O=j.child,J=g.child.memoizedState,J===null?J=BA(C):(ae=J.cachePool,ae!==null?(Ne=Nn._currentValue,ae=ae.parent!==Ne?{parent:Ne,pool:Ne}:ae):ae=QL(),J={baseLanes:J.baseLanes|C,cachePool:ae}),O.memoizedState=J,O.childLanes=zA(g,q,C),j.memoizedState=LA,A):(Cd(j),C=g.child,g=C.sibling,C=sc(C,{mode:"visible",children:A.children}),C.return=j,C.sibling=null,g!==null&&(q=j.deletions,q===null?(j.deletions=[g],j.flags|=16):q.push(g)),j.child=C,j.memoizedState=null,C)}function UA(g,j){return j=gj({mode:"visible",children:j},g.mode),j.return=g,g.child=j}function gj(g,j){return g=oi(22,g,null,j),g.lanes=0,g.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},g}function HA(g,j,C){return Fh(j,g.child,null,C),g=UA(j,j.pendingProps.children),g.flags|=2,j.memoizedState=null,g}function h8(g,j,C){g.lanes|=j;var A=g.alternate;A!==null&&(A.lanes|=j),oA(g.return,j,C)}function VA(g,j,C,A,O){var F=g.memoizedState;F===null?g.memoizedState={isBackwards:j,rendering:null,renderingStartTime:0,last:A,tail:C,tailMode:O}:(F.isBackwards=j,F.rendering=null,F.renderingStartTime=0,F.last=A,F.tail=C,F.tailMode=O)}function p8(g,j,C){var A=j.pendingProps,O=A.revealOrder,F=A.tail;if(ta(g,j,A.children,C),A=Cn.current,(A&2)!==0)A=A&1|2,j.flags|=128;else{if(g!==null&&(g.flags&128)!==0)e:for(g=j.child;g!==null;){if(g.tag===13)g.memoizedState!==null&&h8(g,C,j);else if(g.tag===19)h8(g,C,j);else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===j)break e;for(;g.sibling===null;){if(g.return===null||g.return===j)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}A&=1}switch(Y(Cn,A),O){case"forwards":for(C=j.child,O=null;C!==null;)g=C.alternate,g!==null&&fj(g)===null&&(O=C),C=C.sibling;C=O,C===null?(O=j.child,j.child=null):(O=C.sibling,C.sibling=null),VA(j,!1,O,C,F);break;case"backwards":for(C=null,O=j.child,j.child=null;O!==null;){if(g=O.alternate,g!==null&&fj(g)===null){j.child=O;break}g=O.sibling,O.sibling=C,C=O,O=g}VA(j,!0,C,null,F);break;case"together":VA(j,!1,null,null,void 0);break;default:j.memoizedState=null}return j.child}function dc(g,j,C){if(g!==null&&(j.dependencies=g.dependencies),Dd|=j.lanes,(C&j.childLanes)===0)if(g!==null){if(Qx(g,j,C,!1),(C&j.childLanes)===0)return null}else return null;if(g!==null&&j.child!==g.child)throw Error(s(153));if(j.child!==null){for(g=j.child,C=sc(g,g.pendingProps),j.child=C,C.return=j;g.sibling!==null;)g=g.sibling,C=C.sibling=sc(g,g.pendingProps),C.return=j;C.sibling=null}return j.child}function WA(g,j){return(g.lanes&j)!==0?!0:(g=g.dependencies,!!(g!==null&&Zw(g)))}function Bxe(g,j,C){switch(j.tag){case 3:de(j,j.stateNode.containerInfo),bd(j,Nn,g.memoizedState.cache),Xx();break;case 27:case 5:ve(j);break;case 4:de(j,j.stateNode.containerInfo);break;case 10:bd(j,j.type,j.memoizedProps.value);break;case 13:var A=j.memoizedState;if(A!==null)return A.dehydrated!==null?(Cd(j),j.flags|=128,null):(C&j.child.childLanes)!==0?m8(g,j,C):(Cd(j),g=dc(g,j,C),g!==null?g.sibling:null);Cd(j);break;case 19:var O=(g.flags&128)!==0;if(A=(C&j.childLanes)!==0,A||(Qx(g,j,C,!1),A=(C&j.childLanes)!==0),O){if(A)return p8(g,j,C);j.flags|=128}if(O=j.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),Y(Cn,Cn.current),A)break;return null;case 22:case 23:return j.lanes=0,l8(g,j,C);case 24:bd(j,Nn,g.memoizedState.cache)}return dc(g,j,C)}function g8(g,j,C){if(g!==null)if(g.memoizedProps!==j.pendingProps)Un=!0;else{if(!WA(g,C)&&(j.flags&128)===0)return Un=!1,Bxe(g,j,C);Un=(g.flags&131072)!==0}else Un=!1,br&&(j.flags&1048576)!==0&&qL(j,Kw,j.index);switch(j.lanes=0,j.tag){case 16:e:{g=j.pendingProps;var A=j.elementType,O=A._init;if(A=O(A._payload),j.type=A,typeof A=="function")eA(A)?(g=wf(A,g),j.tag=1,j=u8(null,j,A,g,C)):(j.tag=0,j=$A(null,j,A,g,C));else{if(A!=null){if(O=A.$$typeof,O===N){j.tag=11,j=a8(null,j,A,g,C);break e}else if(O===E){j.tag=14,j=i8(null,j,A,g,C);break e}}throw j=L(A)||A,Error(s(306,j,""))}}return j;case 0:return $A(g,j,j.type,j.pendingProps,C);case 1:return A=j.type,O=wf(A,j.pendingProps),u8(g,j,A,O,C);case 3:e:{if(de(j,j.stateNode.containerInfo),g===null)throw Error(s(387));A=j.pendingProps;var F=j.memoizedState;O=F.element,hA(g,j),iv(j,A,null,C);var q=j.memoizedState;if(A=q.cache,bd(j,Nn,A),A!==F.cache&&lA(j,[Nn],C,!0),av(),A=q.element,F.isDehydrated)if(F={element:A,isDehydrated:!1,cache:q.cache},j.updateQueue.baseState=F,j.memoizedState=F,j.flags&256){j=f8(g,j,A,C);break e}else if(A!==O){O=Yi(Error(s(424)),j),Jx(O),j=f8(g,j,A,C);break e}else{switch(g=j.stateNode.containerInfo,g.nodeType){case 9:g=g.body;break;default:g=g.nodeName==="HTML"?g.ownerDocument.body:g}for(Ys=$o(g.firstChild),Sa=j,br=!0,pf=null,ul=!0,C=YB(j,null,A,C),j.child=C;C;)C.flags=C.flags&-3|4096,C=C.sibling}else{if(Xx(),A===O){j=dc(g,j,C);break e}ta(g,j,A,C)}j=j.child}return j;case 26:return pj(g,j),g===null?(C=bz(j.type,null,j.pendingProps,null))?j.memoizedState=C:br||(C=j.type,g=j.pendingProps,A=Tj(he.current).createElement(C),A[Ss]=j,A[Kt]=g,sa(A,C,g),zn(A),j.stateNode=A):j.memoizedState=bz(j.type,g.memoizedProps,j.pendingProps,g.memoizedState),null;case 27:return ve(j),g===null&&br&&(A=j.stateNode=xz(j.type,j.pendingProps,he.current),Sa=j,ul=!0,O=Ys,Od(j.type)?(CT=O,Ys=$o(A.firstChild)):Ys=O),ta(g,j,j.pendingProps.children,C),pj(g,j),g===null&&(j.flags|=4194304),j.child;case 5:return g===null&&br&&((O=A=Ys)&&(A=hve(A,j.type,j.pendingProps,ul),A!==null?(j.stateNode=A,Sa=j,Ys=$o(A.firstChild),ul=!1,O=!0):O=!1),O||gf(j)),ve(j),O=j.type,F=j.pendingProps,q=g!==null?g.memoizedProps:null,A=F.children,wT(O,F)?A=null:q!==null&&wT(O,q)&&(j.flags|=32),j.memoizedState!==null&&(O=bA(g,j,Pxe,null,null,C),kv._currentValue=O),pj(g,j),ta(g,j,A,C),j.child;case 6:return g===null&&br&&((g=C=Ys)&&(C=pve(C,j.pendingProps,ul),C!==null?(j.stateNode=C,Sa=j,Ys=null,g=!0):g=!1),g||gf(j)),null;case 13:return m8(g,j,C);case 4:return de(j,j.stateNode.containerInfo),A=j.pendingProps,g===null?j.child=Fh(j,null,A,C):ta(g,j,A,C),j.child;case 11:return a8(g,j,j.type,j.pendingProps,C);case 7:return ta(g,j,j.pendingProps,C),j.child;case 8:return ta(g,j,j.pendingProps.children,C),j.child;case 12:return ta(g,j,j.pendingProps.children,C),j.child;case 10:return A=j.pendingProps,bd(j,j.type,A.value),ta(g,j,A.children,C),j.child;case 9:return O=j.type._context,A=j.pendingProps.children,vf(j),O=da(O),A=A(O),j.flags|=1,ta(g,j,A,C),j.child;case 14:return i8(g,j,j.type,j.pendingProps,C);case 15:return o8(g,j,j.type,j.pendingProps,C);case 19:return p8(g,j,C);case 31:return A=j.pendingProps,C=j.mode,A={mode:A.mode,children:A.children},g===null?(C=gj(A,C),C.ref=j.ref,j.child=C,C.return=j,j=C):(C=sc(g.child,A),C.ref=j.ref,j.child=C,C.return=j,j=C),j;case 22:return l8(g,j,C);case 24:return vf(j),A=da(Nn),g===null?(O=uA(),O===null&&(O=is,F=cA(),O.pooledCache=F,F.refCount++,F!==null&&(O.pooledCacheLanes|=C),O=F),j.memoizedState={parent:A,cache:O},mA(j),bd(j,Nn,O)):((g.lanes&C)!==0&&(hA(g,j),iv(j,null,null,C),av()),O=g.memoizedState,F=j.memoizedState,O.parent!==A?(O={parent:A,cache:A},j.memoizedState=O,j.lanes===0&&(j.memoizedState=j.updateQueue.baseState=O),bd(j,Nn,A)):(A=F.cache,bd(j,Nn,A),A!==O.cache&&lA(j,[Nn],C,!0))),ta(g,j,j.pendingProps.children,C),j.child;case 29:throw j.pendingProps}throw Error(s(156,j.tag))}function uc(g){g.flags|=4}function x8(g,j){if(j.type!=="stylesheet"||(j.state.loading&4)!==0)g.flags&=-16777217;else if(g.flags|=16777216,!Cz(j)){if(j=Ji.current,j!==null&&((mr&4194048)===mr?fl!==null:(mr&62914560)!==mr&&(mr&536870912)===0||j!==fl))throw sv=fA,eB;g.flags|=8192}}function xj(g,j){j!==null&&(g.flags|=4),g.flags&16384&&(j=g.tag!==22?Mt():536870912,g.lanes|=j,zh|=j)}function mv(g,j){if(!br)switch(g.tailMode){case"hidden":j=g.tail;for(var C=null;j!==null;)j.alternate!==null&&(C=j),j=j.sibling;C===null?g.tail=null:C.sibling=null;break;case"collapsed":C=g.tail;for(var A=null;C!==null;)C.alternate!==null&&(A=C),C=C.sibling;A===null?j||g.tail===null?g.tail=null:g.tail.sibling=null:A.sibling=null}}function Ls(g){var j=g.alternate!==null&&g.alternate.child===g.child,C=0,A=0;if(j)for(var O=g.child;O!==null;)C|=O.lanes|O.childLanes,A|=O.subtreeFlags&65011712,A|=O.flags&65011712,O.return=g,O=O.sibling;else for(O=g.child;O!==null;)C|=O.lanes|O.childLanes,A|=O.subtreeFlags,A|=O.flags,O.return=g,O=O.sibling;return g.subtreeFlags|=A,g.childLanes=C,j}function zxe(g,j,C){var A=j.pendingProps;switch(nA(j),j.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ls(j),null;case 1:return Ls(j),null;case 3:return C=j.stateNode,A=null,g!==null&&(A=g.memoizedState.cache),j.memoizedState.cache!==A&&(j.flags|=2048),oc(Nn),ie(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(g===null||g.child===null)&&(Zx(j)?uc(j):g===null||g.memoizedState.isDehydrated&&(j.flags&256)===0||(j.flags|=1024,KL())),Ls(j),null;case 26:return C=j.memoizedState,g===null?(uc(j),C!==null?(Ls(j),x8(j,C)):(Ls(j),j.flags&=-16777217)):C?C!==g.memoizedState?(uc(j),Ls(j),x8(j,C)):(Ls(j),j.flags&=-16777217):(g.memoizedProps!==A&&uc(j),Ls(j),j.flags&=-16777217),null;case 27:_e(j),C=he.current;var O=j.type;if(g!==null&&j.stateNode!=null)g.memoizedProps!==A&&uc(j);else{if(!A){if(j.stateNode===null)throw Error(s(166));return Ls(j),null}g=K.current,Zx(j)?GL(j):(g=xz(O,A,C),j.stateNode=g,uc(j))}return Ls(j),null;case 5:if(_e(j),C=j.type,g!==null&&j.stateNode!=null)g.memoizedProps!==A&&uc(j);else{if(!A){if(j.stateNode===null)throw Error(s(166));return Ls(j),null}if(g=K.current,Zx(j))GL(j);else{switch(O=Tj(he.current),g){case 1:g=O.createElementNS("http://www.w3.org/2000/svg",C);break;case 2:g=O.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;default:switch(C){case"svg":g=O.createElementNS("http://www.w3.org/2000/svg",C);break;case"math":g=O.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;case"script":g=O.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof A.is=="string"?O.createElement("select",{is:A.is}):O.createElement("select"),A.multiple?g.multiple=!0:A.size&&(g.size=A.size);break;default:g=typeof A.is=="string"?O.createElement(C,{is:A.is}):O.createElement(C)}}g[Ss]=j,g[Kt]=A;e:for(O=j.child;O!==null;){if(O.tag===5||O.tag===6)g.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===j)break e;for(;O.sibling===null;){if(O.return===null||O.return===j)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}j.stateNode=g;e:switch(sa(g,C,A),C){case"button":case"input":case"select":case"textarea":g=!!A.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&uc(j)}}return Ls(j),j.flags&=-16777217,null;case 6:if(g&&j.stateNode!=null)g.memoizedProps!==A&&uc(j);else{if(typeof A!="string"&&j.stateNode===null)throw Error(s(166));if(g=he.current,Zx(j)){if(g=j.stateNode,C=j.memoizedProps,A=null,O=Sa,O!==null)switch(O.tag){case 27:case 5:A=O.memoizedProps}g[Ss]=j,g=!!(g.nodeValue===C||A!==null&&A.suppressHydrationWarning===!0||dz(g.nodeValue,C)),g||gf(j)}else g=Tj(g).createTextNode(A),g[Ss]=j,j.stateNode=g}return Ls(j),null;case 13:if(A=j.memoizedState,g===null||g.memoizedState!==null&&g.memoizedState.dehydrated!==null){if(O=Zx(j),A!==null&&A.dehydrated!==null){if(g===null){if(!O)throw Error(s(318));if(O=j.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(s(317));O[Ss]=j}else Xx(),(j.flags&128)===0&&(j.memoizedState=null),j.flags|=4;Ls(j),O=!1}else O=KL(),g!==null&&g.memoizedState!==null&&(g.memoizedState.hydrationErrors=O),O=!0;if(!O)return j.flags&256?(cc(j),j):(cc(j),null)}if(cc(j),(j.flags&128)!==0)return j.lanes=C,j;if(C=A!==null,g=g!==null&&g.memoizedState!==null,C){A=j.child,O=null,A.alternate!==null&&A.alternate.memoizedState!==null&&A.alternate.memoizedState.cachePool!==null&&(O=A.alternate.memoizedState.cachePool.pool);var F=null;A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(F=A.memoizedState.cachePool.pool),F!==O&&(A.flags|=2048)}return C!==g&&C&&(j.child.flags|=8192),xj(j,j.updateQueue),Ls(j),null;case 4:return ie(),g===null&&gT(j.stateNode.containerInfo),Ls(j),null;case 10:return oc(j.type),Ls(j),null;case 19:if(U(Cn),O=j.memoizedState,O===null)return Ls(j),null;if(A=(j.flags&128)!==0,F=O.rendering,F===null)if(A)mv(O,!1);else{if(Ks!==0||g!==null&&(g.flags&128)!==0)for(g=j.child;g!==null;){if(F=fj(g),F!==null){for(j.flags|=128,mv(O,!1),g=F.updateQueue,j.updateQueue=g,xj(j,g),j.subtreeFlags=0,g=C,C=j.child;C!==null;)WL(C,g),C=C.sibling;return Y(Cn,Cn.current&1|2),j.child}g=g.sibling}O.tail!==null&&it()>bj&&(j.flags|=128,A=!0,mv(O,!1),j.lanes=4194304)}else{if(!A)if(g=fj(F),g!==null){if(j.flags|=128,A=!0,g=g.updateQueue,j.updateQueue=g,xj(j,g),mv(O,!0),O.tail===null&&O.tailMode==="hidden"&&!F.alternate&&!br)return Ls(j),null}else 2*it()-O.renderingStartTime>bj&&C!==536870912&&(j.flags|=128,A=!0,mv(O,!1),j.lanes=4194304);O.isBackwards?(F.sibling=j.child,j.child=F):(g=O.last,g!==null?g.sibling=F:j.child=F,O.last=F)}return O.tail!==null?(j=O.tail,O.rendering=j,O.tail=j.sibling,O.renderingStartTime=it(),j.sibling=null,g=Cn.current,Y(Cn,A?g&1|2:g&1),j):(Ls(j),null);case 22:case 23:return cc(j),vA(),A=j.memoizedState!==null,g!==null?g.memoizedState!==null!==A&&(j.flags|=8192):A&&(j.flags|=8192),A?(C&536870912)!==0&&(j.flags&128)===0&&(Ls(j),j.subtreeFlags&6&&(j.flags|=8192)):Ls(j),C=j.updateQueue,C!==null&&xj(j,C.retryQueue),C=null,g!==null&&g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(C=g.memoizedState.cachePool.pool),A=null,j.memoizedState!==null&&j.memoizedState.cachePool!==null&&(A=j.memoizedState.cachePool.pool),A!==C&&(j.flags|=2048),g!==null&&U(yf),null;case 24:return C=null,g!==null&&(C=g.memoizedState.cache),j.memoizedState.cache!==C&&(j.flags|=2048),oc(Nn),Ls(j),null;case 25:return null;case 30:return null}throw Error(s(156,j.tag))}function Uxe(g,j){switch(nA(j),j.tag){case 1:return g=j.flags,g&65536?(j.flags=g&-65537|128,j):null;case 3:return oc(Nn),ie(),g=j.flags,(g&65536)!==0&&(g&128)===0?(j.flags=g&-65537|128,j):null;case 26:case 27:case 5:return _e(j),null;case 13:if(cc(j),g=j.memoizedState,g!==null&&g.dehydrated!==null){if(j.alternate===null)throw Error(s(340));Xx()}return g=j.flags,g&65536?(j.flags=g&-65537|128,j):null;case 19:return U(Cn),null;case 4:return ie(),null;case 10:return oc(j.type),null;case 22:case 23:return cc(j),vA(),g!==null&&U(yf),g=j.flags,g&65536?(j.flags=g&-65537|128,j):null;case 24:return oc(Nn),null;case 25:return null;default:return null}}function v8(g,j){switch(nA(j),j.tag){case 3:oc(Nn),ie();break;case 26:case 27:case 5:_e(j);break;case 4:ie();break;case 13:cc(j);break;case 19:U(Cn);break;case 10:oc(j.type);break;case 22:case 23:cc(j),vA(),g!==null&&U(yf);break;case 24:oc(Nn)}}function hv(g,j){try{var C=j.updateQueue,A=C!==null?C.lastEffect:null;if(A!==null){var O=A.next;C=O;do{if((C.tag&g)===g){A=void 0;var F=C.create,q=C.inst;A=F(),q.destroy=A}C=C.next}while(C!==O)}}catch(J){ts(j,j.return,J)}}function Ed(g,j,C){try{var A=j.updateQueue,O=A!==null?A.lastEffect:null;if(O!==null){var F=O.next;A=F;do{if((A.tag&g)===g){var q=A.inst,J=q.destroy;if(J!==void 0){q.destroy=void 0,O=j;var ae=C,Ne=J;try{Ne()}catch(Fe){ts(O,ae,Fe)}}}A=A.next}while(A!==F)}}catch(Fe){ts(j,j.return,Fe)}}function y8(g){var j=g.updateQueue;if(j!==null){var C=g.stateNode;try{iB(j,C)}catch(A){ts(g,g.return,A)}}}function b8(g,j,C){C.props=wf(g.type,g.memoizedProps),C.state=g.memoizedState;try{C.componentWillUnmount()}catch(A){ts(g,j,A)}}function pv(g,j){try{var C=g.ref;if(C!==null){switch(g.tag){case 26:case 27:case 5:var A=g.stateNode;break;case 30:A=g.stateNode;break;default:A=g.stateNode}typeof C=="function"?g.refCleanup=C(A):C.current=A}}catch(O){ts(g,j,O)}}function ml(g,j){var C=g.ref,A=g.refCleanup;if(C!==null)if(typeof A=="function")try{A()}catch(O){ts(g,j,O)}finally{g.refCleanup=null,g=g.alternate,g!=null&&(g.refCleanup=null)}else if(typeof C=="function")try{C(null)}catch(O){ts(g,j,O)}else C.current=null}function w8(g){var j=g.type,C=g.memoizedProps,A=g.stateNode;try{e:switch(j){case"button":case"input":case"select":case"textarea":C.autoFocus&&A.focus();break e;case"img":C.src?A.src=C.src:C.srcSet&&(A.srcset=C.srcSet)}}catch(O){ts(g,g.return,O)}}function qA(g,j,C){try{var A=g.stateNode;cve(A,g.type,C,j),A[Kt]=j}catch(O){ts(g,g.return,O)}}function j8(g){return g.tag===5||g.tag===3||g.tag===26||g.tag===27&&Od(g.type)||g.tag===4}function GA(g){e:for(;;){for(;g.sibling===null;){if(g.return===null||j8(g.return))return null;g=g.return}for(g.sibling.return=g.return,g=g.sibling;g.tag!==5&&g.tag!==6&&g.tag!==18;){if(g.tag===27&&Od(g.type)||g.flags&2||g.child===null||g.tag===4)continue e;g.child.return=g,g=g.child}if(!(g.flags&2))return g.stateNode}}function YA(g,j,C){var A=g.tag;if(A===5||A===6)g=g.stateNode,j?(C.nodeType===9?C.body:C.nodeName==="HTML"?C.ownerDocument.body:C).insertBefore(g,j):(j=C.nodeType===9?C.body:C.nodeName==="HTML"?C.ownerDocument.body:C,j.appendChild(g),C=C._reactRootContainer,C!=null||j.onclick!==null||(j.onclick=Aj));else if(A!==4&&(A===27&&Od(g.type)&&(C=g.stateNode,j=null),g=g.child,g!==null))for(YA(g,j,C),g=g.sibling;g!==null;)YA(g,j,C),g=g.sibling}function vj(g,j,C){var A=g.tag;if(A===5||A===6)g=g.stateNode,j?C.insertBefore(g,j):C.appendChild(g);else if(A!==4&&(A===27&&Od(g.type)&&(C=g.stateNode),g=g.child,g!==null))for(vj(g,j,C),g=g.sibling;g!==null;)vj(g,j,C),g=g.sibling}function S8(g){var j=g.stateNode,C=g.memoizedProps;try{for(var A=g.type,O=j.attributes;O.length;)j.removeAttributeNode(O[0]);sa(j,A,C),j[Ss]=g,j[Kt]=C}catch(F){ts(g,g.return,F)}}var fc=!1,rn=!1,KA=!1,N8=typeof WeakSet=="function"?WeakSet:Set,Hn=null;function Hxe(g,j){if(g=g.containerInfo,yT=Ij,g=OL(g),Gk(g)){if("selectionStart"in g)var C={start:g.selectionStart,end:g.selectionEnd};else e:{C=(C=g.ownerDocument)&&C.defaultView||window;var A=C.getSelection&&C.getSelection();if(A&&A.rangeCount!==0){C=A.anchorNode;var O=A.anchorOffset,F=A.focusNode;A=A.focusOffset;try{C.nodeType,F.nodeType}catch{C=null;break e}var q=0,J=-1,ae=-1,Ne=0,Fe=0,Ve=g,ke=null;t:for(;;){for(var Te;Ve!==C||O!==0&&Ve.nodeType!==3||(J=q+O),Ve!==F||A!==0&&Ve.nodeType!==3||(ae=q+A),Ve.nodeType===3&&(q+=Ve.nodeValue.length),(Te=Ve.firstChild)!==null;)ke=Ve,Ve=Te;for(;;){if(Ve===g)break t;if(ke===C&&++Ne===O&&(J=q),ke===F&&++Fe===A&&(ae=q),(Te=Ve.nextSibling)!==null)break;Ve=ke,ke=Ve.parentNode}Ve=Te}C=J===-1||ae===-1?null:{start:J,end:ae}}else C=null}C=C||{start:0,end:0}}else C=null;for(bT={focusedElem:g,selectionRange:C},Ij=!1,Hn=j;Hn!==null;)if(j=Hn,g=j.child,(j.subtreeFlags&1024)!==0&&g!==null)g.return=j,Hn=g;else for(;Hn!==null;){switch(j=Hn,F=j.alternate,g=j.flags,j.tag){case 0:break;case 11:case 15:break;case 1:if((g&1024)!==0&&F!==null){g=void 0,C=j,O=F.memoizedProps,F=F.memoizedState,A=C.stateNode;try{var Ut=wf(C.type,O,C.elementType===C.type);g=A.getSnapshotBeforeUpdate(Ut,F),A.__reactInternalSnapshotBeforeUpdate=g}catch(Rt){ts(C,C.return,Rt)}}break;case 3:if((g&1024)!==0){if(g=j.stateNode.containerInfo,C=g.nodeType,C===9)ST(g);else if(C===1)switch(g.nodeName){case"HEAD":case"HTML":case"BODY":ST(g);break;default:g.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((g&1024)!==0)throw Error(s(163))}if(g=j.sibling,g!==null){g.return=j.return,Hn=g;break}Hn=j.return}}function C8(g,j,C){var A=C.flags;switch(C.tag){case 0:case 11:case 15:kd(g,C),A&4&&hv(5,C);break;case 1:if(kd(g,C),A&4)if(g=C.stateNode,j===null)try{g.componentDidMount()}catch(q){ts(C,C.return,q)}else{var O=wf(C.type,j.memoizedProps);j=j.memoizedState;try{g.componentDidUpdate(O,j,g.__reactInternalSnapshotBeforeUpdate)}catch(q){ts(C,C.return,q)}}A&64&&y8(C),A&512&&pv(C,C.return);break;case 3:if(kd(g,C),A&64&&(g=C.updateQueue,g!==null)){if(j=null,C.child!==null)switch(C.child.tag){case 27:case 5:j=C.child.stateNode;break;case 1:j=C.child.stateNode}try{iB(g,j)}catch(q){ts(C,C.return,q)}}break;case 27:j===null&&A&4&&S8(C);case 26:case 5:kd(g,C),j===null&&A&4&&w8(C),A&512&&pv(C,C.return);break;case 12:kd(g,C);break;case 13:kd(g,C),A&4&&k8(g,C),A&64&&(g=C.memoizedState,g!==null&&(g=g.dehydrated,g!==null&&(C=Jxe.bind(null,C),gve(g,C))));break;case 22:if(A=C.memoizedState!==null||fc,!A){j=j!==null&&j.memoizedState!==null||rn,O=fc;var F=rn;fc=A,(rn=j)&&!F?Ad(g,C,(C.subtreeFlags&8772)!==0):kd(g,C),fc=O,rn=F}break;case 30:break;default:kd(g,C)}}function _8(g){var j=g.alternate;j!==null&&(g.alternate=null,_8(j)),g.child=null,g.deletions=null,g.sibling=null,g.tag===5&&(j=g.stateNode,j!==null&&kk(j)),g.stateNode=null,g.return=null,g.dependencies=null,g.memoizedProps=null,g.memoizedState=null,g.pendingProps=null,g.stateNode=null,g.updateQueue=null}var Ns=null,La=!1;function mc(g,j,C){for(C=C.child;C!==null;)E8(g,j,C),C=C.sibling}function E8(g,j,C){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(Qe,C)}catch{}switch(C.tag){case 26:rn||ml(C,j),mc(g,j,C),C.memoizedState?C.memoizedState.count--:C.stateNode&&(C=C.stateNode,C.parentNode.removeChild(C));break;case 27:rn||ml(C,j);var A=Ns,O=La;Od(C.type)&&(Ns=C.stateNode,La=!1),mc(g,j,C),Nv(C.stateNode),Ns=A,La=O;break;case 5:rn||ml(C,j);case 6:if(A=Ns,O=La,Ns=null,mc(g,j,C),Ns=A,La=O,Ns!==null)if(La)try{(Ns.nodeType===9?Ns.body:Ns.nodeName==="HTML"?Ns.ownerDocument.body:Ns).removeChild(C.stateNode)}catch(F){ts(C,j,F)}else try{Ns.removeChild(C.stateNode)}catch(F){ts(C,j,F)}break;case 18:Ns!==null&&(La?(g=Ns,pz(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,C.stateNode),Pv(g)):pz(Ns,C.stateNode));break;case 4:A=Ns,O=La,Ns=C.stateNode.containerInfo,La=!0,mc(g,j,C),Ns=A,La=O;break;case 0:case 11:case 14:case 15:rn||Ed(2,C,j),rn||Ed(4,C,j),mc(g,j,C);break;case 1:rn||(ml(C,j),A=C.stateNode,typeof A.componentWillUnmount=="function"&&b8(C,j,A)),mc(g,j,C);break;case 21:mc(g,j,C);break;case 22:rn=(A=rn)||C.memoizedState!==null,mc(g,j,C),rn=A;break;default:mc(g,j,C)}}function k8(g,j){if(j.memoizedState===null&&(g=j.alternate,g!==null&&(g=g.memoizedState,g!==null&&(g=g.dehydrated,g!==null))))try{Pv(g)}catch(C){ts(j,j.return,C)}}function Vxe(g){switch(g.tag){case 13:case 19:var j=g.stateNode;return j===null&&(j=g.stateNode=new N8),j;case 22:return g=g.stateNode,j=g._retryCache,j===null&&(j=g._retryCache=new N8),j;default:throw Error(s(435,g.tag))}}function ZA(g,j){var C=Vxe(g);j.forEach(function(A){var O=Qxe.bind(null,g,A);C.has(A)||(C.add(A),A.then(O,O))})}function li(g,j){var C=j.deletions;if(C!==null)for(var A=0;A<C.length;A++){var O=C[A],F=g,q=j,J=q;e:for(;J!==null;){switch(J.tag){case 27:if(Od(J.type)){Ns=J.stateNode,La=!1;break e}break;case 5:Ns=J.stateNode,La=!1;break e;case 3:case 4:Ns=J.stateNode.containerInfo,La=!0;break e}J=J.return}if(Ns===null)throw Error(s(160));E8(F,q,O),Ns=null,La=!1,F=O.alternate,F!==null&&(F.return=null),O.return=null}if(j.subtreeFlags&13878)for(j=j.child;j!==null;)A8(j,g),j=j.sibling}var Fo=null;function A8(g,j){var C=g.alternate,A=g.flags;switch(g.tag){case 0:case 11:case 14:case 15:li(j,g),ci(g),A&4&&(Ed(3,g,g.return),hv(3,g),Ed(5,g,g.return));break;case 1:li(j,g),ci(g),A&512&&(rn||C===null||ml(C,C.return)),A&64&&fc&&(g=g.updateQueue,g!==null&&(A=g.callbacks,A!==null&&(C=g.shared.hiddenCallbacks,g.shared.hiddenCallbacks=C===null?A:C.concat(A))));break;case 26:var O=Fo;if(li(j,g),ci(g),A&512&&(rn||C===null||ml(C,C.return)),A&4){var F=C!==null?C.memoizedState:null;if(A=g.memoizedState,C===null)if(A===null)if(g.stateNode===null){e:{A=g.type,C=g.memoizedProps,O=O.ownerDocument||O;t:switch(A){case"title":F=O.getElementsByTagName("title")[0],(!F||F[Lx]||F[Ss]||F.namespaceURI==="http://www.w3.org/2000/svg"||F.hasAttribute("itemprop"))&&(F=O.createElement(A),O.head.insertBefore(F,O.querySelector("head > title"))),sa(F,A,C),F[Ss]=g,zn(F),A=F;break e;case"link":var q=Sz("link","href",O).get(A+(C.href||""));if(q){for(var J=0;J<q.length;J++)if(F=q[J],F.getAttribute("href")===(C.href==null||C.href===""?null:C.href)&&F.getAttribute("rel")===(C.rel==null?null:C.rel)&&F.getAttribute("title")===(C.title==null?null:C.title)&&F.getAttribute("crossorigin")===(C.crossOrigin==null?null:C.crossOrigin)){q.splice(J,1);break t}}F=O.createElement(A),sa(F,A,C),O.head.appendChild(F);break;case"meta":if(q=Sz("meta","content",O).get(A+(C.content||""))){for(J=0;J<q.length;J++)if(F=q[J],F.getAttribute("content")===(C.content==null?null:""+C.content)&&F.getAttribute("name")===(C.name==null?null:C.name)&&F.getAttribute("property")===(C.property==null?null:C.property)&&F.getAttribute("http-equiv")===(C.httpEquiv==null?null:C.httpEquiv)&&F.getAttribute("charset")===(C.charSet==null?null:C.charSet)){q.splice(J,1);break t}}F=O.createElement(A),sa(F,A,C),O.head.appendChild(F);break;default:throw Error(s(468,A))}F[Ss]=g,zn(F),A=F}g.stateNode=A}else Nz(O,g.type,g.stateNode);else g.stateNode=jz(O,A,g.memoizedProps);else F!==A?(F===null?C.stateNode!==null&&(C=C.stateNode,C.parentNode.removeChild(C)):F.count--,A===null?Nz(O,g.type,g.stateNode):jz(O,A,g.memoizedProps)):A===null&&g.stateNode!==null&&qA(g,g.memoizedProps,C.memoizedProps)}break;case 27:li(j,g),ci(g),A&512&&(rn||C===null||ml(C,C.return)),C!==null&&A&4&&qA(g,g.memoizedProps,C.memoizedProps);break;case 5:if(li(j,g),ci(g),A&512&&(rn||C===null||ml(C,C.return)),g.flags&32){O=g.stateNode;try{yh(O,"")}catch(Te){ts(g,g.return,Te)}}A&4&&g.stateNode!=null&&(O=g.memoizedProps,qA(g,O,C!==null?C.memoizedProps:O)),A&1024&&(KA=!0);break;case 6:if(li(j,g),ci(g),A&4){if(g.stateNode===null)throw Error(s(162));A=g.memoizedProps,C=g.stateNode;try{C.nodeValue=A}catch(Te){ts(g,g.return,Te)}}break;case 3:if(Rj=null,O=Fo,Fo=Dj(j.containerInfo),li(j,g),Fo=O,ci(g),A&4&&C!==null&&C.memoizedState.isDehydrated)try{Pv(j.containerInfo)}catch(Te){ts(g,g.return,Te)}KA&&(KA=!1,T8(g));break;case 4:A=Fo,Fo=Dj(g.stateNode.containerInfo),li(j,g),ci(g),Fo=A;break;case 12:li(j,g),ci(g);break;case 13:li(j,g),ci(g),g.child.flags&8192&&g.memoizedState!==null!=(C!==null&&C.memoizedState!==null)&&(rT=it()),A&4&&(A=g.updateQueue,A!==null&&(g.updateQueue=null,ZA(g,A)));break;case 22:O=g.memoizedState!==null;var ae=C!==null&&C.memoizedState!==null,Ne=fc,Fe=rn;if(fc=Ne||O,rn=Fe||ae,li(j,g),rn=Fe,fc=Ne,ci(g),A&8192)e:for(j=g.stateNode,j._visibility=O?j._visibility&-2:j._visibility|1,O&&(C===null||ae||fc||rn||jf(g)),C=null,j=g;;){if(j.tag===5||j.tag===26){if(C===null){ae=C=j;try{if(F=ae.stateNode,O)q=F.style,typeof q.setProperty=="function"?q.setProperty("display","none","important"):q.display="none";else{J=ae.stateNode;var Ve=ae.memoizedProps.style,ke=Ve!=null&&Ve.hasOwnProperty("display")?Ve.display:null;J.style.display=ke==null||typeof ke=="boolean"?"":(""+ke).trim()}}catch(Te){ts(ae,ae.return,Te)}}}else if(j.tag===6){if(C===null){ae=j;try{ae.stateNode.nodeValue=O?"":ae.memoizedProps}catch(Te){ts(ae,ae.return,Te)}}}else if((j.tag!==22&&j.tag!==23||j.memoizedState===null||j===g)&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===g)break e;for(;j.sibling===null;){if(j.return===null||j.return===g)break e;C===j&&(C=null),j=j.return}C===j&&(C=null),j.sibling.return=j.return,j=j.sibling}A&4&&(A=g.updateQueue,A!==null&&(C=A.retryQueue,C!==null&&(A.retryQueue=null,ZA(g,C))));break;case 19:li(j,g),ci(g),A&4&&(A=g.updateQueue,A!==null&&(g.updateQueue=null,ZA(g,A)));break;case 30:break;case 21:break;default:li(j,g),ci(g)}}function ci(g){var j=g.flags;if(j&2){try{for(var C,A=g.return;A!==null;){if(j8(A)){C=A;break}A=A.return}if(C==null)throw Error(s(160));switch(C.tag){case 27:var O=C.stateNode,F=GA(g);vj(g,F,O);break;case 5:var q=C.stateNode;C.flags&32&&(yh(q,""),C.flags&=-33);var J=GA(g);vj(g,J,q);break;case 3:case 4:var ae=C.stateNode.containerInfo,Ne=GA(g);YA(g,Ne,ae);break;default:throw Error(s(161))}}catch(Fe){ts(g,g.return,Fe)}g.flags&=-3}j&4096&&(g.flags&=-4097)}function T8(g){if(g.subtreeFlags&1024)for(g=g.child;g!==null;){var j=g;T8(j),j.tag===5&&j.flags&1024&&j.stateNode.reset(),g=g.sibling}}function kd(g,j){if(j.subtreeFlags&8772)for(j=j.child;j!==null;)C8(g,j.alternate,j),j=j.sibling}function jf(g){for(g=g.child;g!==null;){var j=g;switch(j.tag){case 0:case 11:case 14:case 15:Ed(4,j,j.return),jf(j);break;case 1:ml(j,j.return);var C=j.stateNode;typeof C.componentWillUnmount=="function"&&b8(j,j.return,C),jf(j);break;case 27:Nv(j.stateNode);case 26:case 5:ml(j,j.return),jf(j);break;case 22:j.memoizedState===null&&jf(j);break;case 30:jf(j);break;default:jf(j)}g=g.sibling}}function Ad(g,j,C){for(C=C&&(j.subtreeFlags&8772)!==0,j=j.child;j!==null;){var A=j.alternate,O=g,F=j,q=F.flags;switch(F.tag){case 0:case 11:case 15:Ad(O,F,C),hv(4,F);break;case 1:if(Ad(O,F,C),A=F,O=A.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(Ne){ts(A,A.return,Ne)}if(A=F,O=A.updateQueue,O!==null){var J=A.stateNode;try{var ae=O.shared.hiddenCallbacks;if(ae!==null)for(O.shared.hiddenCallbacks=null,O=0;O<ae.length;O++)aB(ae[O],J)}catch(Ne){ts(A,A.return,Ne)}}C&&q&64&&y8(F),pv(F,F.return);break;case 27:S8(F);case 26:case 5:Ad(O,F,C),C&&A===null&&q&4&&w8(F),pv(F,F.return);break;case 12:Ad(O,F,C);break;case 13:Ad(O,F,C),C&&q&4&&k8(O,F);break;case 22:F.memoizedState===null&&Ad(O,F,C),pv(F,F.return);break;case 30:break;default:Ad(O,F,C)}j=j.sibling}}function XA(g,j){var C=null;g!==null&&g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(C=g.memoizedState.cachePool.pool),g=null,j.memoizedState!==null&&j.memoizedState.cachePool!==null&&(g=j.memoizedState.cachePool.pool),g!==C&&(g!=null&&g.refCount++,C!=null&&ev(C))}function JA(g,j){g=null,j.alternate!==null&&(g=j.alternate.memoizedState.cache),j=j.memoizedState.cache,j!==g&&(j.refCount++,g!=null&&ev(g))}function hl(g,j,C,A){if(j.subtreeFlags&10256)for(j=j.child;j!==null;)D8(g,j,C,A),j=j.sibling}function D8(g,j,C,A){var O=j.flags;switch(j.tag){case 0:case 11:case 15:hl(g,j,C,A),O&2048&&hv(9,j);break;case 1:hl(g,j,C,A);break;case 3:hl(g,j,C,A),O&2048&&(g=null,j.alternate!==null&&(g=j.alternate.memoizedState.cache),j=j.memoizedState.cache,j!==g&&(j.refCount++,g!=null&&ev(g)));break;case 12:if(O&2048){hl(g,j,C,A),g=j.stateNode;try{var F=j.memoizedProps,q=F.id,J=F.onPostCommit;typeof J=="function"&&J(q,j.alternate===null?"mount":"update",g.passiveEffectDuration,-0)}catch(ae){ts(j,j.return,ae)}}else hl(g,j,C,A);break;case 13:hl(g,j,C,A);break;case 23:break;case 22:F=j.stateNode,q=j.alternate,j.memoizedState!==null?F._visibility&2?hl(g,j,C,A):gv(g,j):F._visibility&2?hl(g,j,C,A):(F._visibility|=2,$h(g,j,C,A,(j.subtreeFlags&10256)!==0)),O&2048&&XA(q,j);break;case 24:hl(g,j,C,A),O&2048&&JA(j.alternate,j);break;default:hl(g,j,C,A)}}function $h(g,j,C,A,O){for(O=O&&(j.subtreeFlags&10256)!==0,j=j.child;j!==null;){var F=g,q=j,J=C,ae=A,Ne=q.flags;switch(q.tag){case 0:case 11:case 15:$h(F,q,J,ae,O),hv(8,q);break;case 23:break;case 22:var Fe=q.stateNode;q.memoizedState!==null?Fe._visibility&2?$h(F,q,J,ae,O):gv(F,q):(Fe._visibility|=2,$h(F,q,J,ae,O)),O&&Ne&2048&&XA(q.alternate,q);break;case 24:$h(F,q,J,ae,O),O&&Ne&2048&&JA(q.alternate,q);break;default:$h(F,q,J,ae,O)}j=j.sibling}}function gv(g,j){if(j.subtreeFlags&10256)for(j=j.child;j!==null;){var C=g,A=j,O=A.flags;switch(A.tag){case 22:gv(C,A),O&2048&&XA(A.alternate,A);break;case 24:gv(C,A),O&2048&&JA(A.alternate,A);break;default:gv(C,A)}j=j.sibling}}var xv=8192;function Lh(g){if(g.subtreeFlags&xv)for(g=g.child;g!==null;)P8(g),g=g.sibling}function P8(g){switch(g.tag){case 26:Lh(g),g.flags&xv&&g.memoizedState!==null&&Ave(Fo,g.memoizedState,g.memoizedProps);break;case 5:Lh(g);break;case 3:case 4:var j=Fo;Fo=Dj(g.stateNode.containerInfo),Lh(g),Fo=j;break;case 22:g.memoizedState===null&&(j=g.alternate,j!==null&&j.memoizedState!==null?(j=xv,xv=16777216,Lh(g),xv=j):Lh(g));break;default:Lh(g)}}function R8(g){var j=g.alternate;if(j!==null&&(g=j.child,g!==null)){j.child=null;do j=g.sibling,g.sibling=null,g=j;while(g!==null)}}function vv(g){var j=g.deletions;if((g.flags&16)!==0){if(j!==null)for(var C=0;C<j.length;C++){var A=j[C];Hn=A,O8(A,g)}R8(g)}if(g.subtreeFlags&10256)for(g=g.child;g!==null;)M8(g),g=g.sibling}function M8(g){switch(g.tag){case 0:case 11:case 15:vv(g),g.flags&2048&&Ed(9,g,g.return);break;case 3:vv(g);break;case 12:vv(g);break;case 22:var j=g.stateNode;g.memoizedState!==null&&j._visibility&2&&(g.return===null||g.return.tag!==13)?(j._visibility&=-3,yj(g)):vv(g);break;default:vv(g)}}function yj(g){var j=g.deletions;if((g.flags&16)!==0){if(j!==null)for(var C=0;C<j.length;C++){var A=j[C];Hn=A,O8(A,g)}R8(g)}for(g=g.child;g!==null;){switch(j=g,j.tag){case 0:case 11:case 15:Ed(8,j,j.return),yj(j);break;case 22:C=j.stateNode,C._visibility&2&&(C._visibility&=-3,yj(j));break;default:yj(j)}g=g.sibling}}function O8(g,j){for(;Hn!==null;){var C=Hn;switch(C.tag){case 0:case 11:case 15:Ed(8,C,j);break;case 23:case 22:if(C.memoizedState!==null&&C.memoizedState.cachePool!==null){var A=C.memoizedState.cachePool.pool;A!=null&&A.refCount++}break;case 24:ev(C.memoizedState.cache)}if(A=C.child,A!==null)A.return=C,Hn=A;else e:for(C=g;Hn!==null;){A=Hn;var O=A.sibling,F=A.return;if(_8(A),A===C){Hn=null;break e}if(O!==null){O.return=F,Hn=O;break e}Hn=F}}}var Wxe={getCacheForType:function(g){var j=da(Nn),C=j.data.get(g);return C===void 0&&(C=g(),j.data.set(g,C)),C}},qxe=typeof WeakMap=="function"?WeakMap:Map,Ir=0,is=null,rr=null,mr=0,Fr=0,di=null,Td=!1,Bh=!1,QA=!1,hc=0,Ks=0,Dd=0,Sf=0,eT=0,Qi=0,zh=0,yv=null,Ba=null,tT=!1,rT=0,bj=1/0,wj=null,Pd=null,ra=0,Rd=null,Uh=null,Hh=0,sT=0,nT=null,I8=null,bv=0,aT=null;function ui(){if((Ir&2)!==0&&mr!==0)return mr&-mr;if(I.T!==null){var g=Th;return g!==0?g:fT()}return ai()}function F8(){Qi===0&&(Qi=(mr&536870912)===0||br?Qt():536870912);var g=Ji.current;return g!==null&&(g.flags|=32),Qi}function fi(g,j,C){(g===is&&(Fr===2||Fr===9)||g.cancelPendingCommit!==null)&&(Vh(g,0),Md(g,mr,Qi,!1)),us(g,C),((Ir&2)===0||g!==is)&&(g===is&&((Ir&2)===0&&(Sf|=C),Ks===4&&Md(g,mr,Qi,!1)),pl(g))}function $8(g,j,C){if((Ir&6)!==0)throw Error(s(327));var A=!C&&(j&124)===0&&(j&g.expiredLanes)===0||ni(g,j),O=A?Kxe(g,j):lT(g,j,!0),F=A;do{if(O===0){Bh&&!A&&Md(g,j,0,!1);break}else{if(C=g.current.alternate,F&&!Gxe(C)){O=lT(g,j,!1),F=!1;continue}if(O===2){if(F=j,g.errorRecoveryDisabledLanes&F)var q=0;else q=g.pendingLanes&-536870913,q=q!==0?q:q&536870912?536870912:0;if(q!==0){j=q;e:{var J=g;O=yv;var ae=J.current.memoizedState.isDehydrated;if(ae&&(Vh(J,q).flags|=256),q=lT(J,q,!1),q!==2){if(QA&&!ae){J.errorRecoveryDisabledLanes|=F,Sf|=F,O=4;break e}F=Ba,Ba=O,F!==null&&(Ba===null?Ba=F:Ba.push.apply(Ba,F))}O=q}if(F=!1,O!==2)continue}}if(O===1){Vh(g,0),Md(g,j,0,!0);break}e:{switch(A=g,F=O,F){case 0:case 1:throw Error(s(345));case 4:if((j&4194048)!==j)break;case 6:Md(A,j,Qi,!Td);break e;case 2:Ba=null;break;case 3:case 5:break;default:throw Error(s(329))}if((j&62914560)===j&&(O=rT+300-it(),10<O)){if(Md(A,j,Qi,!Td),ja(A,0,!0)!==0)break e;A.timeoutHandle=mz(L8.bind(null,A,C,Ba,wj,tT,j,Qi,Sf,zh,Td,F,2,-0,0),O);break e}L8(A,C,Ba,wj,tT,j,Qi,Sf,zh,Td,F,0,-0,0)}}break}while(!0);pl(g)}function L8(g,j,C,A,O,F,q,J,ae,Ne,Fe,Ve,ke,Te){if(g.timeoutHandle=-1,Ve=j.subtreeFlags,(Ve&8192||(Ve&16785408)===16785408)&&(Ev={stylesheets:null,count:0,unsuspend:kve},P8(j),Ve=Tve(),Ve!==null)){g.cancelPendingCommit=Ve(q8.bind(null,g,j,F,C,A,O,q,J,ae,Fe,1,ke,Te)),Md(g,F,q,!Ne);return}q8(g,j,F,C,A,O,q,J,ae)}function Gxe(g){for(var j=g;;){var C=j.tag;if((C===0||C===11||C===15)&&j.flags&16384&&(C=j.updateQueue,C!==null&&(C=C.stores,C!==null)))for(var A=0;A<C.length;A++){var O=C[A],F=O.getSnapshot;O=O.value;try{if(!ii(F(),O))return!1}catch{return!1}}if(C=j.child,j.subtreeFlags&16384&&C!==null)C.return=j,j=C;else{if(j===g)break;for(;j.sibling===null;){if(j.return===null||j.return===g)return!0;j=j.return}j.sibling.return=j.return,j=j.sibling}}return!0}function Md(g,j,C,A){j&=~eT,j&=~Sf,g.suspendedLanes|=j,g.pingedLanes&=~j,A&&(g.warmLanes|=j),A=g.expirationTimes;for(var O=j;0<O;){var F=31-lr(O),q=1<<F;A[F]=-1,O&=~q}C!==0&&zt(g,C,j)}function jj(){return(Ir&6)===0?(wv(0),!1):!0}function iT(){if(rr!==null){if(Fr===0)var g=rr.return;else g=rr,ic=xf=null,SA(g),Ih=null,uv=0,g=rr;for(;g!==null;)v8(g.alternate,g),g=g.return;rr=null}}function Vh(g,j){var C=g.timeoutHandle;C!==-1&&(g.timeoutHandle=-1,uve(C)),C=g.cancelPendingCommit,C!==null&&(g.cancelPendingCommit=null,C()),iT(),is=g,rr=C=sc(g.current,null),mr=j,Fr=0,di=null,Td=!1,Bh=ni(g,j),QA=!1,zh=Qi=eT=Sf=Dd=Ks=0,Ba=yv=null,tT=!1,(j&8)!==0&&(j|=j&32);var A=g.entangledLanes;if(A!==0)for(g=g.entanglements,A&=j;0<A;){var O=31-lr(A),F=1<<O;j|=g[O],A&=~F}return hc=j,Vw(),C}function B8(g,j){Xt=null,I.H=cj,j===rv||j===Qw?(j=sB(),Fr=3):j===eB?(j=sB(),Fr=4):Fr=j===n8?8:j!==null&&typeof j=="object"&&typeof j.then=="function"?6:1,di=j,rr===null&&(Ks=1,hj(g,Yi(j,g.current)))}function z8(){var g=I.H;return I.H=cj,g===null?cj:g}function U8(){var g=I.A;return I.A=Wxe,g}function oT(){Ks=4,Td||(mr&4194048)!==mr&&Ji.current!==null||(Bh=!0),(Dd&134217727)===0&&(Sf&134217727)===0||is===null||Md(is,mr,Qi,!1)}function lT(g,j,C){var A=Ir;Ir|=2;var O=z8(),F=U8();(is!==g||mr!==j)&&(wj=null,Vh(g,j)),j=!1;var q=Ks;e:do try{if(Fr!==0&&rr!==null){var J=rr,ae=di;switch(Fr){case 8:iT(),q=6;break e;case 3:case 2:case 9:case 6:Ji.current===null&&(j=!0);var Ne=Fr;if(Fr=0,di=null,Wh(g,J,ae,Ne),C&&Bh){q=0;break e}break;default:Ne=Fr,Fr=0,di=null,Wh(g,J,ae,Ne)}}Yxe(),q=Ks;break}catch(Fe){B8(g,Fe)}while(!0);return j&&g.shellSuspendCounter++,ic=xf=null,Ir=A,I.H=O,I.A=F,rr===null&&(is=null,mr=0,Vw()),q}function Yxe(){for(;rr!==null;)H8(rr)}function Kxe(g,j){var C=Ir;Ir|=2;var A=z8(),O=U8();is!==g||mr!==j?(wj=null,bj=it()+500,Vh(g,j)):Bh=ni(g,j);e:do try{if(Fr!==0&&rr!==null){j=rr;var F=di;t:switch(Fr){case 1:Fr=0,di=null,Wh(g,j,F,1);break;case 2:case 9:if(tB(F)){Fr=0,di=null,V8(j);break}j=function(){Fr!==2&&Fr!==9||is!==g||(Fr=7),pl(g)},F.then(j,j);break e;case 3:Fr=7;break e;case 4:Fr=5;break e;case 7:tB(F)?(Fr=0,di=null,V8(j)):(Fr=0,di=null,Wh(g,j,F,7));break;case 5:var q=null;switch(rr.tag){case 26:q=rr.memoizedState;case 5:case 27:var J=rr;if(!q||Cz(q)){Fr=0,di=null;var ae=J.sibling;if(ae!==null)rr=ae;else{var Ne=J.return;Ne!==null?(rr=Ne,Sj(Ne)):rr=null}break t}}Fr=0,di=null,Wh(g,j,F,5);break;case 6:Fr=0,di=null,Wh(g,j,F,6);break;case 8:iT(),Ks=6;break e;default:throw Error(s(462))}}Zxe();break}catch(Fe){B8(g,Fe)}while(!0);return ic=xf=null,I.H=A,I.A=O,Ir=C,rr!==null?0:(is=null,mr=0,Vw(),Ks)}function Zxe(){for(;rr!==null&&!fe();)H8(rr)}function H8(g){var j=g8(g.alternate,g,hc);g.memoizedProps=g.pendingProps,j===null?Sj(g):rr=j}function V8(g){var j=g,C=j.alternate;switch(j.tag){case 15:case 0:j=d8(C,j,j.pendingProps,j.type,void 0,mr);break;case 11:j=d8(C,j,j.pendingProps,j.type.render,j.ref,mr);break;case 5:SA(j);default:v8(C,j),j=rr=WL(j,hc),j=g8(C,j,hc)}g.memoizedProps=g.pendingProps,j===null?Sj(g):rr=j}function Wh(g,j,C,A){ic=xf=null,SA(j),Ih=null,uv=0;var O=j.return;try{if(Lxe(g,O,j,C,mr)){Ks=1,hj(g,Yi(C,g.current)),rr=null;return}}catch(F){if(O!==null)throw rr=O,F;Ks=1,hj(g,Yi(C,g.current)),rr=null;return}j.flags&32768?(br||A===1?g=!0:Bh||(mr&536870912)!==0?g=!1:(Td=g=!0,(A===2||A===9||A===3||A===6)&&(A=Ji.current,A!==null&&A.tag===13&&(A.flags|=16384))),W8(j,g)):Sj(j)}function Sj(g){var j=g;do{if((j.flags&32768)!==0){W8(j,Td);return}g=j.return;var C=zxe(j.alternate,j,hc);if(C!==null){rr=C;return}if(j=j.sibling,j!==null){rr=j;return}rr=j=g}while(j!==null);Ks===0&&(Ks=5)}function W8(g,j){do{var C=Uxe(g.alternate,g);if(C!==null){C.flags&=32767,rr=C;return}if(C=g.return,C!==null&&(C.flags|=32768,C.subtreeFlags=0,C.deletions=null),!j&&(g=g.sibling,g!==null)){rr=g;return}rr=g=C}while(g!==null);Ks=6,rr=null}function q8(g,j,C,A,O,F,q,J,ae){g.cancelPendingCommit=null;do Nj();while(ra!==0);if((Ir&6)!==0)throw Error(s(327));if(j!==null){if(j===g.current)throw Error(s(177));if(F=j.lanes|j.childLanes,F|=Jk,er(g,C,F,q,J,ae),g===is&&(rr=is=null,mr=0),Uh=j,Rd=g,Hh=C,sT=F,nT=O,I8=A,(j.subtreeFlags&10256)!==0||(j.flags&10256)!==0?(g.callbackNode=null,g.callbackPriority=0,eve(le,function(){return X8(),null})):(g.callbackNode=null,g.callbackPriority=0),A=(j.flags&13878)!==0,(j.subtreeFlags&13878)!==0||A){A=I.T,I.T=null,O=z.p,z.p=2,q=Ir,Ir|=4;try{Hxe(g,j,C)}finally{Ir=q,z.p=O,I.T=A}}ra=1,G8(),Y8(),K8()}}function G8(){if(ra===1){ra=0;var g=Rd,j=Uh,C=(j.flags&13878)!==0;if((j.subtreeFlags&13878)!==0||C){C=I.T,I.T=null;var A=z.p;z.p=2;var O=Ir;Ir|=4;try{A8(j,g);var F=bT,q=OL(g.containerInfo),J=F.focusedElem,ae=F.selectionRange;if(q!==J&&J&&J.ownerDocument&&ML(J.ownerDocument.documentElement,J)){if(ae!==null&&Gk(J)){var Ne=ae.start,Fe=ae.end;if(Fe===void 0&&(Fe=Ne),"selectionStart"in J)J.selectionStart=Ne,J.selectionEnd=Math.min(Fe,J.value.length);else{var Ve=J.ownerDocument||document,ke=Ve&&Ve.defaultView||window;if(ke.getSelection){var Te=ke.getSelection(),Ut=J.textContent.length,Rt=Math.min(ae.start,Ut),qr=ae.end===void 0?Rt:Math.min(ae.end,Ut);!Te.extend&&Rt>qr&&(q=qr,qr=Rt,Rt=q);var be=RL(J,Rt),ue=RL(J,qr);if(be&&ue&&(Te.rangeCount!==1||Te.anchorNode!==be.node||Te.anchorOffset!==be.offset||Te.focusNode!==ue.node||Te.focusOffset!==ue.offset)){var Se=Ve.createRange();Se.setStart(be.node,be.offset),Te.removeAllRanges(),Rt>qr?(Te.addRange(Se),Te.extend(ue.node,ue.offset)):(Se.setEnd(ue.node,ue.offset),Te.addRange(Se))}}}}for(Ve=[],Te=J;Te=Te.parentNode;)Te.nodeType===1&&Ve.push({element:Te,left:Te.scrollLeft,top:Te.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<Ve.length;J++){var Be=Ve[J];Be.element.scrollLeft=Be.left,Be.element.scrollTop=Be.top}}Ij=!!yT,bT=yT=null}finally{Ir=O,z.p=A,I.T=C}}g.current=j,ra=2}}function Y8(){if(ra===2){ra=0;var g=Rd,j=Uh,C=(j.flags&8772)!==0;if((j.subtreeFlags&8772)!==0||C){C=I.T,I.T=null;var A=z.p;z.p=2;var O=Ir;Ir|=4;try{C8(g,j.alternate,j)}finally{Ir=O,z.p=A,I.T=C}}ra=3}}function K8(){if(ra===4||ra===3){ra=0,Ze();var g=Rd,j=Uh,C=Hh,A=I8;(j.subtreeFlags&10256)!==0||(j.flags&10256)!==0?ra=5:(ra=0,Uh=Rd=null,Z8(g,g.pendingLanes));var O=g.pendingLanes;if(O===0&&(Pd=null),Fs(C),j=j.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(Qe,j,void 0,(j.current.flags&128)===128)}catch{}if(A!==null){j=I.T,O=z.p,z.p=2,I.T=null;try{for(var F=g.onRecoverableError,q=0;q<A.length;q++){var J=A[q];F(J.value,{componentStack:J.stack})}}finally{I.T=j,z.p=O}}(Hh&3)!==0&&Nj(),pl(g),O=g.pendingLanes,(C&4194090)!==0&&(O&42)!==0?g===aT?bv++:(bv=0,aT=g):bv=0,wv(0)}}function Z8(g,j){(g.pooledCacheLanes&=j)===0&&(j=g.pooledCache,j!=null&&(g.pooledCache=null,ev(j)))}function Nj(g){return G8(),Y8(),K8(),X8()}function X8(){if(ra!==5)return!1;var g=Rd,j=sT;sT=0;var C=Fs(Hh),A=I.T,O=z.p;try{z.p=32>C?32:C,I.T=null,C=nT,nT=null;var F=Rd,q=Hh;if(ra=0,Uh=Rd=null,Hh=0,(Ir&6)!==0)throw Error(s(331));var J=Ir;if(Ir|=4,M8(F.current),D8(F,F.current,q,C),Ir=J,wv(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(Qe,F)}catch{}return!0}finally{z.p=O,I.T=A,Z8(g,j)}}function J8(g,j,C){j=Yi(C,j),j=FA(g.stateNode,j,2),g=Sd(g,j,2),g!==null&&(us(g,2),pl(g))}function ts(g,j,C){if(g.tag===3)J8(g,g,C);else for(;j!==null;){if(j.tag===3){J8(j,g,C);break}else if(j.tag===1){var A=j.stateNode;if(typeof j.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(Pd===null||!Pd.has(A))){g=Yi(C,g),C=r8(2),A=Sd(j,C,2),A!==null&&(s8(C,A,j,g),us(A,2),pl(A));break}}j=j.return}}function cT(g,j,C){var A=g.pingCache;if(A===null){A=g.pingCache=new qxe;var O=new Set;A.set(j,O)}else O=A.get(j),O===void 0&&(O=new Set,A.set(j,O));O.has(C)||(QA=!0,O.add(C),g=Xxe.bind(null,g,j,C),j.then(g,g))}function Xxe(g,j,C){var A=g.pingCache;A!==null&&A.delete(j),g.pingedLanes|=g.suspendedLanes&C,g.warmLanes&=~C,is===g&&(mr&C)===C&&(Ks===4||Ks===3&&(mr&62914560)===mr&&300>it()-rT?(Ir&2)===0&&Vh(g,0):eT|=C,zh===mr&&(zh=0)),pl(g)}function Q8(g,j){j===0&&(j=Mt()),g=_h(g,j),g!==null&&(us(g,j),pl(g))}function Jxe(g){var j=g.memoizedState,C=0;j!==null&&(C=j.retryLane),Q8(g,C)}function Qxe(g,j){var C=0;switch(g.tag){case 13:var A=g.stateNode,O=g.memoizedState;O!==null&&(C=O.retryLane);break;case 19:A=g.stateNode;break;case 22:A=g.stateNode._retryCache;break;default:throw Error(s(314))}A!==null&&A.delete(j),Q8(g,C)}function eve(g,j){return Le(g,j)}var Cj=null,qh=null,dT=!1,_j=!1,uT=!1,Nf=0;function pl(g){g!==qh&&g.next===null&&(qh===null?Cj=qh=g:qh=qh.next=g),_j=!0,dT||(dT=!0,rve())}function wv(g,j){if(!uT&&_j){uT=!0;do for(var C=!1,A=Cj;A!==null;){if(g!==0){var O=A.pendingLanes;if(O===0)var F=0;else{var q=A.suspendedLanes,J=A.pingedLanes;F=(1<<31-lr(42|g)+1)-1,F&=O&~(q&~J),F=F&201326741?F&201326741|1:F?F|2:0}F!==0&&(C=!0,sz(A,F))}else F=mr,F=ja(A,A===is?F:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),(F&3)===0||ni(A,F)||(C=!0,sz(A,F));A=A.next}while(C);uT=!1}}function tve(){ez()}function ez(){_j=dT=!1;var g=0;Nf!==0&&(dve()&&(g=Nf),Nf=0);for(var j=it(),C=null,A=Cj;A!==null;){var O=A.next,F=tz(A,j);F===0?(A.next=null,C===null?Cj=O:C.next=O,O===null&&(qh=C)):(C=A,(g!==0||(F&3)!==0)&&(_j=!0)),A=O}wv(g)}function tz(g,j){for(var C=g.suspendedLanes,A=g.pingedLanes,O=g.expirationTimes,F=g.pendingLanes&-62914561;0<F;){var q=31-lr(F),J=1<<q,ae=O[q];ae===-1?((J&C)===0||(J&A)!==0)&&(O[q]=It(J,j)):ae<=j&&(g.expiredLanes|=J),F&=~J}if(j=is,C=mr,C=ja(g,g===j?C:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),A=g.callbackNode,C===0||g===j&&(Fr===2||Fr===9)||g.cancelPendingCommit!==null)return A!==null&&A!==null&&Ie(A),g.callbackNode=null,g.callbackPriority=0;if((C&3)===0||ni(g,C)){if(j=C&-C,j===g.callbackPriority)return j;switch(A!==null&&Ie(A),Fs(C)){case 2:case 8:C=ee;break;case 32:C=le;break;case 268435456:C=Ke;break;default:C=le}return A=rz.bind(null,g),C=Le(C,A),g.callbackPriority=j,g.callbackNode=C,j}return A!==null&&A!==null&&Ie(A),g.callbackPriority=2,g.callbackNode=null,2}function rz(g,j){if(ra!==0&&ra!==5)return g.callbackNode=null,g.callbackPriority=0,null;var C=g.callbackNode;if(Nj()&&g.callbackNode!==C)return null;var A=mr;return A=ja(g,g===is?A:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),A===0?null:($8(g,A,j),tz(g,it()),g.callbackNode!=null&&g.callbackNode===C?rz.bind(null,g):null)}function sz(g,j){if(Nj())return null;$8(g,j,!0)}function rve(){fve(function(){(Ir&6)!==0?Le(He,tve):ez()})}function fT(){return Nf===0&&(Nf=Qt()),Nf}function nz(g){return g==null||typeof g=="symbol"||typeof g=="boolean"?null:typeof g=="function"?g:Fw(""+g)}function az(g,j){var C=j.ownerDocument.createElement("input");return C.name=j.name,C.value=j.value,g.id&&C.setAttribute("form",g.id),j.parentNode.insertBefore(C,j),g=new FormData(g),C.parentNode.removeChild(C),g}function sve(g,j,C,A,O){if(j==="submit"&&C&&C.stateNode===O){var F=nz((O[Kt]||null).action),q=A.submitter;q&&(j=(j=q[Kt]||null)?nz(j.formAction):q.getAttribute("formAction"),j!==null&&(F=j,q=null));var J=new zw("action","action",null,A,O);g.push({event:J,listeners:[{instance:null,listener:function(){if(A.defaultPrevented){if(Nf!==0){var ae=q?az(O,q):new FormData(O);PA(C,{pending:!0,data:ae,method:O.method,action:F},null,ae)}}else typeof F=="function"&&(J.preventDefault(),ae=q?az(O,q):new FormData(O),PA(C,{pending:!0,data:ae,method:O.method,action:F},F,ae))},currentTarget:O}]})}}for(var mT=0;mT<Xk.length;mT++){var hT=Xk[mT],nve=hT.toLowerCase(),ave=hT[0].toUpperCase()+hT.slice(1);Io(nve,"on"+ave)}Io($L,"onAnimationEnd"),Io(LL,"onAnimationIteration"),Io(BL,"onAnimationStart"),Io("dblclick","onDoubleClick"),Io("focusin","onFocus"),Io("focusout","onBlur"),Io(jxe,"onTransitionRun"),Io(Sxe,"onTransitionStart"),Io(Nxe,"onTransitionCancel"),Io(zL,"onTransitionEnd"),gh("onMouseEnter",["mouseout","mouseover"]),gh("onMouseLeave",["mouseout","mouseover"]),gh("onPointerEnter",["pointerout","pointerover"]),gh("onPointerLeave",["pointerout","pointerover"]),lf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),lf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),lf("onBeforeInput",["compositionend","keypress","textInput","paste"]),lf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),lf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),lf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ive=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jv));function iz(g,j){j=(j&4)!==0;for(var C=0;C<g.length;C++){var A=g[C],O=A.event;A=A.listeners;e:{var F=void 0;if(j)for(var q=A.length-1;0<=q;q--){var J=A[q],ae=J.instance,Ne=J.currentTarget;if(J=J.listener,ae!==F&&O.isPropagationStopped())break e;F=J,O.currentTarget=Ne;try{F(O)}catch(Fe){mj(Fe)}O.currentTarget=null,F=ae}else for(q=0;q<A.length;q++){if(J=A[q],ae=J.instance,Ne=J.currentTarget,J=J.listener,ae!==F&&O.isPropagationStopped())break e;F=J,O.currentTarget=Ne;try{F(O)}catch(Fe){mj(Fe)}O.currentTarget=null,F=ae}}}}function sr(g,j){var C=j[ec];C===void 0&&(C=j[ec]=new Set);var A=g+"__bubble";C.has(A)||(oz(j,g,2,!1),C.add(A))}function pT(g,j,C){var A=0;j&&(A|=4),oz(C,g,A,j)}var Ej="_reactListening"+Math.random().toString(36).slice(2);function gT(g){if(!g[Ej]){g[Ej]=!0,eL.forEach(function(C){C!=="selectionchange"&&(ive.has(C)||pT(C,!1,g),pT(C,!0,g))});var j=g.nodeType===9?g:g.ownerDocument;j===null||j[Ej]||(j[Ej]=!0,pT("selectionchange",!1,j))}}function oz(g,j,C,A){switch(Dz(j)){case 2:var O=Rve;break;case 8:O=Mve;break;default:O=TT}C=O.bind(null,j,C,g),O=void 0,!$k||j!=="touchstart"&&j!=="touchmove"&&j!=="wheel"||(O=!0),A?O!==void 0?g.addEventListener(j,C,{capture:!0,passive:O}):g.addEventListener(j,C,!0):O!==void 0?g.addEventListener(j,C,{passive:O}):g.addEventListener(j,C,!1)}function xT(g,j,C,A,O){var F=A;if((j&1)===0&&(j&2)===0&&A!==null)e:for(;;){if(A===null)return;var q=A.tag;if(q===3||q===4){var J=A.stateNode.containerInfo;if(J===O)break;if(q===4)for(q=A.return;q!==null;){var ae=q.tag;if((ae===3||ae===4)&&q.stateNode.containerInfo===O)return;q=q.return}for(;J!==null;){if(q=mh(J),q===null)return;if(ae=q.tag,ae===5||ae===6||ae===26||ae===27){A=F=q;continue e}J=J.parentNode}}A=A.return}hL(function(){var Ne=F,Fe=Ik(C),Ve=[];e:{var ke=UL.get(g);if(ke!==void 0){var Te=zw,Ut=g;switch(g){case"keypress":if(Lw(C)===0)break e;case"keydown":case"keyup":Te=exe;break;case"focusin":Ut="focus",Te=Uk;break;case"focusout":Ut="blur",Te=Uk;break;case"beforeblur":case"afterblur":Te=Uk;break;case"click":if(C.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=xL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Uge;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=sxe;break;case $L:case LL:case BL:Te=Wge;break;case zL:Te=axe;break;case"scroll":case"scrollend":Te=Bge;break;case"wheel":Te=oxe;break;case"copy":case"cut":case"paste":Te=Gge;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=yL;break;case"toggle":case"beforetoggle":Te=cxe}var Rt=(j&4)!==0,qr=!Rt&&(g==="scroll"||g==="scrollend"),be=Rt?ke!==null?ke+"Capture":null:ke;Rt=[];for(var ue=Ne,Se;ue!==null;){var Be=ue;if(Se=Be.stateNode,Be=Be.tag,Be!==5&&Be!==26&&Be!==27||Se===null||be===null||(Be=zx(ue,be),Be!=null&&Rt.push(Sv(ue,Be,Se))),qr)break;ue=ue.return}0<Rt.length&&(ke=new Te(ke,Ut,null,C,Fe),Ve.push({event:ke,listeners:Rt}))}}if((j&7)===0){e:{if(ke=g==="mouseover"||g==="pointerover",Te=g==="mouseout"||g==="pointerout",ke&&C!==Ok&&(Ut=C.relatedTarget||C.fromElement)&&(mh(Ut)||Ut[es]))break e;if((Te||ke)&&(ke=Fe.window===Fe?Fe:(ke=Fe.ownerDocument)?ke.defaultView||ke.parentWindow:window,Te?(Ut=C.relatedTarget||C.toElement,Te=Ne,Ut=Ut?mh(Ut):null,Ut!==null&&(qr=i(Ut),Rt=Ut.tag,Ut!==qr||Rt!==5&&Rt!==27&&Rt!==6)&&(Ut=null)):(Te=null,Ut=Ne),Te!==Ut)){if(Rt=xL,Be="onMouseLeave",be="onMouseEnter",ue="mouse",(g==="pointerout"||g==="pointerover")&&(Rt=yL,Be="onPointerLeave",be="onPointerEnter",ue="pointer"),qr=Te==null?ke:Bx(Te),Se=Ut==null?ke:Bx(Ut),ke=new Rt(Be,ue+"leave",Te,C,Fe),ke.target=qr,ke.relatedTarget=Se,Be=null,mh(Fe)===Ne&&(Rt=new Rt(be,ue+"enter",Ut,C,Fe),Rt.target=Se,Rt.relatedTarget=qr,Be=Rt),qr=Be,Te&&Ut)t:{for(Rt=Te,be=Ut,ue=0,Se=Rt;Se;Se=Gh(Se))ue++;for(Se=0,Be=be;Be;Be=Gh(Be))Se++;for(;0<ue-Se;)Rt=Gh(Rt),ue--;for(;0<Se-ue;)be=Gh(be),Se--;for(;ue--;){if(Rt===be||be!==null&&Rt===be.alternate)break t;Rt=Gh(Rt),be=Gh(be)}Rt=null}else Rt=null;Te!==null&&lz(Ve,ke,Te,Rt,!1),Ut!==null&&qr!==null&&lz(Ve,qr,Ut,Rt,!0)}}e:{if(ke=Ne?Bx(Ne):window,Te=ke.nodeName&&ke.nodeName.toLowerCase(),Te==="select"||Te==="input"&&ke.type==="file")var ht=EL;else if(CL(ke))if(kL)ht=yxe;else{ht=xxe;var tr=gxe}else Te=ke.nodeName,!Te||Te.toLowerCase()!=="input"||ke.type!=="checkbox"&&ke.type!=="radio"?Ne&&Mk(Ne.elementType)&&(ht=EL):ht=vxe;if(ht&&(ht=ht(g,Ne))){_L(Ve,ht,C,Fe);break e}tr&&tr(g,ke,Ne),g==="focusout"&&Ne&&ke.type==="number"&&Ne.memoizedProps.value!=null&&Rk(ke,"number",ke.value)}switch(tr=Ne?Bx(Ne):window,g){case"focusin":(CL(tr)||tr.contentEditable==="true")&&(Sh=tr,Yk=Ne,Kx=null);break;case"focusout":Kx=Yk=Sh=null;break;case"mousedown":Kk=!0;break;case"contextmenu":case"mouseup":case"dragend":Kk=!1,IL(Ve,C,Fe);break;case"selectionchange":if(wxe)break;case"keydown":case"keyup":IL(Ve,C,Fe)}var _t;if(Vk)e:{switch(g){case"compositionstart":var Ot="onCompositionStart";break e;case"compositionend":Ot="onCompositionEnd";break e;case"compositionupdate":Ot="onCompositionUpdate";break e}Ot=void 0}else jh?SL(g,C)&&(Ot="onCompositionEnd"):g==="keydown"&&C.keyCode===229&&(Ot="onCompositionStart");Ot&&(bL&&C.locale!=="ko"&&(jh||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&jh&&(_t=pL()):(yd=Fe,Lk="value"in yd?yd.value:yd.textContent,jh=!0)),tr=kj(Ne,Ot),0<tr.length&&(Ot=new vL(Ot,g,null,C,Fe),Ve.push({event:Ot,listeners:tr}),_t?Ot.data=_t:(_t=NL(C),_t!==null&&(Ot.data=_t)))),(_t=uxe?fxe(g,C):mxe(g,C))&&(Ot=kj(Ne,"onBeforeInput"),0<Ot.length&&(tr=new vL("onBeforeInput","beforeinput",null,C,Fe),Ve.push({event:tr,listeners:Ot}),tr.data=_t)),sve(Ve,g,Ne,C,Fe)}iz(Ve,j)})}function Sv(g,j,C){return{instance:g,listener:j,currentTarget:C}}function kj(g,j){for(var C=j+"Capture",A=[];g!==null;){var O=g,F=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||F===null||(O=zx(g,C),O!=null&&A.unshift(Sv(g,O,F)),O=zx(g,j),O!=null&&A.push(Sv(g,O,F))),g.tag===3)return A;g=g.return}return[]}function Gh(g){if(g===null)return null;do g=g.return;while(g&&g.tag!==5&&g.tag!==27);return g||null}function lz(g,j,C,A,O){for(var F=j._reactName,q=[];C!==null&&C!==A;){var J=C,ae=J.alternate,Ne=J.stateNode;if(J=J.tag,ae!==null&&ae===A)break;J!==5&&J!==26&&J!==27||Ne===null||(ae=Ne,O?(Ne=zx(C,F),Ne!=null&&q.unshift(Sv(C,Ne,ae))):O||(Ne=zx(C,F),Ne!=null&&q.push(Sv(C,Ne,ae)))),C=C.return}q.length!==0&&g.push({event:j,listeners:q})}var ove=/\r\n?/g,lve=/\u0000|\uFFFD/g;function cz(g){return(typeof g=="string"?g:""+g).replace(ove,`
`).replace(lve,"")}function dz(g,j){return j=cz(j),cz(g)===j}function Aj(){}function Wr(g,j,C,A,O,F){switch(C){case"children":typeof A=="string"?j==="body"||j==="textarea"&&A===""||yh(g,A):(typeof A=="number"||typeof A=="bigint")&&j!=="body"&&yh(g,""+A);break;case"className":Mw(g,"class",A);break;case"tabIndex":Mw(g,"tabindex",A);break;case"dir":case"role":case"viewBox":case"width":case"height":Mw(g,C,A);break;case"style":fL(g,A,F);break;case"data":if(j!=="object"){Mw(g,"data",A);break}case"src":case"href":if(A===""&&(j!=="a"||C!=="href")){g.removeAttribute(C);break}if(A==null||typeof A=="function"||typeof A=="symbol"||typeof A=="boolean"){g.removeAttribute(C);break}A=Fw(""+A),g.setAttribute(C,A);break;case"action":case"formAction":if(typeof A=="function"){g.setAttribute(C,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof F=="function"&&(C==="formAction"?(j!=="input"&&Wr(g,j,"name",O.name,O,null),Wr(g,j,"formEncType",O.formEncType,O,null),Wr(g,j,"formMethod",O.formMethod,O,null),Wr(g,j,"formTarget",O.formTarget,O,null)):(Wr(g,j,"encType",O.encType,O,null),Wr(g,j,"method",O.method,O,null),Wr(g,j,"target",O.target,O,null)));if(A==null||typeof A=="symbol"||typeof A=="boolean"){g.removeAttribute(C);break}A=Fw(""+A),g.setAttribute(C,A);break;case"onClick":A!=null&&(g.onclick=Aj);break;case"onScroll":A!=null&&sr("scroll",g);break;case"onScrollEnd":A!=null&&sr("scrollend",g);break;case"dangerouslySetInnerHTML":if(A!=null){if(typeof A!="object"||!("__html"in A))throw Error(s(61));if(C=A.__html,C!=null){if(O.children!=null)throw Error(s(60));g.innerHTML=C}}break;case"multiple":g.multiple=A&&typeof A!="function"&&typeof A!="symbol";break;case"muted":g.muted=A&&typeof A!="function"&&typeof A!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(A==null||typeof A=="function"||typeof A=="boolean"||typeof A=="symbol"){g.removeAttribute("xlink:href");break}C=Fw(""+A),g.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",C);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":A!=null&&typeof A!="function"&&typeof A!="symbol"?g.setAttribute(C,""+A):g.removeAttribute(C);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":A&&typeof A!="function"&&typeof A!="symbol"?g.setAttribute(C,""):g.removeAttribute(C);break;case"capture":case"download":A===!0?g.setAttribute(C,""):A!==!1&&A!=null&&typeof A!="function"&&typeof A!="symbol"?g.setAttribute(C,A):g.removeAttribute(C);break;case"cols":case"rows":case"size":case"span":A!=null&&typeof A!="function"&&typeof A!="symbol"&&!isNaN(A)&&1<=A?g.setAttribute(C,A):g.removeAttribute(C);break;case"rowSpan":case"start":A==null||typeof A=="function"||typeof A=="symbol"||isNaN(A)?g.removeAttribute(C):g.setAttribute(C,A);break;case"popover":sr("beforetoggle",g),sr("toggle",g),Rw(g,"popover",A);break;case"xlinkActuate":tc(g,"http://www.w3.org/1999/xlink","xlink:actuate",A);break;case"xlinkArcrole":tc(g,"http://www.w3.org/1999/xlink","xlink:arcrole",A);break;case"xlinkRole":tc(g,"http://www.w3.org/1999/xlink","xlink:role",A);break;case"xlinkShow":tc(g,"http://www.w3.org/1999/xlink","xlink:show",A);break;case"xlinkTitle":tc(g,"http://www.w3.org/1999/xlink","xlink:title",A);break;case"xlinkType":tc(g,"http://www.w3.org/1999/xlink","xlink:type",A);break;case"xmlBase":tc(g,"http://www.w3.org/XML/1998/namespace","xml:base",A);break;case"xmlLang":tc(g,"http://www.w3.org/XML/1998/namespace","xml:lang",A);break;case"xmlSpace":tc(g,"http://www.w3.org/XML/1998/namespace","xml:space",A);break;case"is":Rw(g,"is",A);break;case"innerText":case"textContent":break;default:(!(2<C.length)||C[0]!=="o"&&C[0]!=="O"||C[1]!=="n"&&C[1]!=="N")&&(C=$ge.get(C)||C,Rw(g,C,A))}}function vT(g,j,C,A,O,F){switch(C){case"style":fL(g,A,F);break;case"dangerouslySetInnerHTML":if(A!=null){if(typeof A!="object"||!("__html"in A))throw Error(s(61));if(C=A.__html,C!=null){if(O.children!=null)throw Error(s(60));g.innerHTML=C}}break;case"children":typeof A=="string"?yh(g,A):(typeof A=="number"||typeof A=="bigint")&&yh(g,""+A);break;case"onScroll":A!=null&&sr("scroll",g);break;case"onScrollEnd":A!=null&&sr("scrollend",g);break;case"onClick":A!=null&&(g.onclick=Aj);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tL.hasOwnProperty(C))e:{if(C[0]==="o"&&C[1]==="n"&&(O=C.endsWith("Capture"),j=C.slice(2,O?C.length-7:void 0),F=g[Kt]||null,F=F!=null?F[C]:null,typeof F=="function"&&g.removeEventListener(j,F,O),typeof A=="function")){typeof F!="function"&&F!==null&&(C in g?g[C]=null:g.hasAttribute(C)&&g.removeAttribute(C)),g.addEventListener(j,A,O);break e}C in g?g[C]=A:A===!0?g.setAttribute(C,""):Rw(g,C,A)}}}function sa(g,j,C){switch(j){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":sr("error",g),sr("load",g);var A=!1,O=!1,F;for(F in C)if(C.hasOwnProperty(F)){var q=C[F];if(q!=null)switch(F){case"src":A=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,j));default:Wr(g,j,F,q,C,null)}}O&&Wr(g,j,"srcSet",C.srcSet,C,null),A&&Wr(g,j,"src",C.src,C,null);return;case"input":sr("invalid",g);var J=F=q=O=null,ae=null,Ne=null;for(A in C)if(C.hasOwnProperty(A)){var Fe=C[A];if(Fe!=null)switch(A){case"name":O=Fe;break;case"type":q=Fe;break;case"checked":ae=Fe;break;case"defaultChecked":Ne=Fe;break;case"value":F=Fe;break;case"defaultValue":J=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(s(137,j));break;default:Wr(g,j,A,Fe,C,null)}}lL(g,F,J,ae,Ne,q,O,!1),Ow(g);return;case"select":sr("invalid",g),A=q=F=null;for(O in C)if(C.hasOwnProperty(O)&&(J=C[O],J!=null))switch(O){case"value":F=J;break;case"defaultValue":q=J;break;case"multiple":A=J;default:Wr(g,j,O,J,C,null)}j=F,C=q,g.multiple=!!A,j!=null?vh(g,!!A,j,!1):C!=null&&vh(g,!!A,C,!0);return;case"textarea":sr("invalid",g),F=O=A=null;for(q in C)if(C.hasOwnProperty(q)&&(J=C[q],J!=null))switch(q){case"value":A=J;break;case"defaultValue":O=J;break;case"children":F=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(91));break;default:Wr(g,j,q,J,C,null)}dL(g,A,O,F),Ow(g);return;case"option":for(ae in C)if(C.hasOwnProperty(ae)&&(A=C[ae],A!=null))switch(ae){case"selected":g.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:Wr(g,j,ae,A,C,null)}return;case"dialog":sr("beforetoggle",g),sr("toggle",g),sr("cancel",g),sr("close",g);break;case"iframe":case"object":sr("load",g);break;case"video":case"audio":for(A=0;A<jv.length;A++)sr(jv[A],g);break;case"image":sr("error",g),sr("load",g);break;case"details":sr("toggle",g);break;case"embed":case"source":case"link":sr("error",g),sr("load",g);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ne in C)if(C.hasOwnProperty(Ne)&&(A=C[Ne],A!=null))switch(Ne){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,j));default:Wr(g,j,Ne,A,C,null)}return;default:if(Mk(j)){for(Fe in C)C.hasOwnProperty(Fe)&&(A=C[Fe],A!==void 0&&vT(g,j,Fe,A,C,void 0));return}}for(J in C)C.hasOwnProperty(J)&&(A=C[J],A!=null&&Wr(g,j,J,A,C,null))}function cve(g,j,C,A){switch(j){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,F=null,q=null,J=null,ae=null,Ne=null,Fe=null;for(Te in C){var Ve=C[Te];if(C.hasOwnProperty(Te)&&Ve!=null)switch(Te){case"checked":break;case"value":break;case"defaultValue":ae=Ve;default:A.hasOwnProperty(Te)||Wr(g,j,Te,null,A,Ve)}}for(var ke in A){var Te=A[ke];if(Ve=C[ke],A.hasOwnProperty(ke)&&(Te!=null||Ve!=null))switch(ke){case"type":F=Te;break;case"name":O=Te;break;case"checked":Ne=Te;break;case"defaultChecked":Fe=Te;break;case"value":q=Te;break;case"defaultValue":J=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(s(137,j));break;default:Te!==Ve&&Wr(g,j,ke,Te,A,Ve)}}Pk(g,q,J,ae,Ne,Fe,F,O);return;case"select":Te=q=J=ke=null;for(F in C)if(ae=C[F],C.hasOwnProperty(F)&&ae!=null)switch(F){case"value":break;case"multiple":Te=ae;default:A.hasOwnProperty(F)||Wr(g,j,F,null,A,ae)}for(O in A)if(F=A[O],ae=C[O],A.hasOwnProperty(O)&&(F!=null||ae!=null))switch(O){case"value":ke=F;break;case"defaultValue":J=F;break;case"multiple":q=F;default:F!==ae&&Wr(g,j,O,F,A,ae)}j=J,C=q,A=Te,ke!=null?vh(g,!!C,ke,!1):!!A!=!!C&&(j!=null?vh(g,!!C,j,!0):vh(g,!!C,C?[]:"",!1));return;case"textarea":Te=ke=null;for(J in C)if(O=C[J],C.hasOwnProperty(J)&&O!=null&&!A.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:Wr(g,j,J,null,A,O)}for(q in A)if(O=A[q],F=C[q],A.hasOwnProperty(q)&&(O!=null||F!=null))switch(q){case"value":ke=O;break;case"defaultValue":Te=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(91));break;default:O!==F&&Wr(g,j,q,O,A,F)}cL(g,ke,Te);return;case"option":for(var Ut in C)if(ke=C[Ut],C.hasOwnProperty(Ut)&&ke!=null&&!A.hasOwnProperty(Ut))switch(Ut){case"selected":g.selected=!1;break;default:Wr(g,j,Ut,null,A,ke)}for(ae in A)if(ke=A[ae],Te=C[ae],A.hasOwnProperty(ae)&&ke!==Te&&(ke!=null||Te!=null))switch(ae){case"selected":g.selected=ke&&typeof ke!="function"&&typeof ke!="symbol";break;default:Wr(g,j,ae,ke,A,Te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Rt in C)ke=C[Rt],C.hasOwnProperty(Rt)&&ke!=null&&!A.hasOwnProperty(Rt)&&Wr(g,j,Rt,null,A,ke);for(Ne in A)if(ke=A[Ne],Te=C[Ne],A.hasOwnProperty(Ne)&&ke!==Te&&(ke!=null||Te!=null))switch(Ne){case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(s(137,j));break;default:Wr(g,j,Ne,ke,A,Te)}return;default:if(Mk(j)){for(var qr in C)ke=C[qr],C.hasOwnProperty(qr)&&ke!==void 0&&!A.hasOwnProperty(qr)&&vT(g,j,qr,void 0,A,ke);for(Fe in A)ke=A[Fe],Te=C[Fe],!A.hasOwnProperty(Fe)||ke===Te||ke===void 0&&Te===void 0||vT(g,j,Fe,ke,A,Te);return}}for(var be in C)ke=C[be],C.hasOwnProperty(be)&&ke!=null&&!A.hasOwnProperty(be)&&Wr(g,j,be,null,A,ke);for(Ve in A)ke=A[Ve],Te=C[Ve],!A.hasOwnProperty(Ve)||ke===Te||ke==null&&Te==null||Wr(g,j,Ve,ke,A,Te)}var yT=null,bT=null;function Tj(g){return g.nodeType===9?g:g.ownerDocument}function uz(g){switch(g){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fz(g,j){if(g===0)switch(j){case"svg":return 1;case"math":return 2;default:return 0}return g===1&&j==="foreignObject"?0:g}function wT(g,j){return g==="textarea"||g==="noscript"||typeof j.children=="string"||typeof j.children=="number"||typeof j.children=="bigint"||typeof j.dangerouslySetInnerHTML=="object"&&j.dangerouslySetInnerHTML!==null&&j.dangerouslySetInnerHTML.__html!=null}var jT=null;function dve(){var g=window.event;return g&&g.type==="popstate"?g===jT?!1:(jT=g,!0):(jT=null,!1)}var mz=typeof setTimeout=="function"?setTimeout:void 0,uve=typeof clearTimeout=="function"?clearTimeout:void 0,hz=typeof Promise=="function"?Promise:void 0,fve=typeof queueMicrotask=="function"?queueMicrotask:typeof hz<"u"?function(g){return hz.resolve(null).then(g).catch(mve)}:mz;function mve(g){setTimeout(function(){throw g})}function Od(g){return g==="head"}function pz(g,j){var C=j,A=0,O=0;do{var F=C.nextSibling;if(g.removeChild(C),F&&F.nodeType===8)if(C=F.data,C==="/$"){if(0<A&&8>A){C=A;var q=g.ownerDocument;if(C&1&&Nv(q.documentElement),C&2&&Nv(q.body),C&4)for(C=q.head,Nv(C),q=C.firstChild;q;){var J=q.nextSibling,ae=q.nodeName;q[Lx]||ae==="SCRIPT"||ae==="STYLE"||ae==="LINK"&&q.rel.toLowerCase()==="stylesheet"||C.removeChild(q),q=J}}if(O===0){g.removeChild(F),Pv(j);return}O--}else C==="$"||C==="$?"||C==="$!"?O++:A=C.charCodeAt(0)-48;else A=0;C=F}while(C);Pv(j)}function ST(g){var j=g.firstChild;for(j&&j.nodeType===10&&(j=j.nextSibling);j;){var C=j;switch(j=j.nextSibling,C.nodeName){case"HTML":case"HEAD":case"BODY":ST(C),kk(C);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(C.rel.toLowerCase()==="stylesheet")continue}g.removeChild(C)}}function hve(g,j,C,A){for(;g.nodeType===1;){var O=C;if(g.nodeName.toLowerCase()!==j.toLowerCase()){if(!A&&(g.nodeName!=="INPUT"||g.type!=="hidden"))break}else if(A){if(!g[Lx])switch(j){case"meta":if(!g.hasAttribute("itemprop"))break;return g;case"link":if(F=g.getAttribute("rel"),F==="stylesheet"&&g.hasAttribute("data-precedence"))break;if(F!==O.rel||g.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||g.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||g.getAttribute("title")!==(O.title==null?null:O.title))break;return g;case"style":if(g.hasAttribute("data-precedence"))break;return g;case"script":if(F=g.getAttribute("src"),(F!==(O.src==null?null:O.src)||g.getAttribute("type")!==(O.type==null?null:O.type)||g.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&F&&g.hasAttribute("async")&&!g.hasAttribute("itemprop"))break;return g;default:return g}}else if(j==="input"&&g.type==="hidden"){var F=O.name==null?null:""+O.name;if(O.type==="hidden"&&g.getAttribute("name")===F)return g}else return g;if(g=$o(g.nextSibling),g===null)break}return null}function pve(g,j,C){if(j==="")return null;for(;g.nodeType!==3;)if((g.nodeType!==1||g.nodeName!=="INPUT"||g.type!=="hidden")&&!C||(g=$o(g.nextSibling),g===null))return null;return g}function NT(g){return g.data==="$!"||g.data==="$?"&&g.ownerDocument.readyState==="complete"}function gve(g,j){var C=g.ownerDocument;if(g.data!=="$?"||C.readyState==="complete")j();else{var A=function(){j(),C.removeEventListener("DOMContentLoaded",A)};C.addEventListener("DOMContentLoaded",A),g._reactRetry=A}}function $o(g){for(;g!=null;g=g.nextSibling){var j=g.nodeType;if(j===1||j===3)break;if(j===8){if(j=g.data,j==="$"||j==="$!"||j==="$?"||j==="F!"||j==="F")break;if(j==="/$")return null}}return g}var CT=null;function gz(g){g=g.previousSibling;for(var j=0;g;){if(g.nodeType===8){var C=g.data;if(C==="$"||C==="$!"||C==="$?"){if(j===0)return g;j--}else C==="/$"&&j++}g=g.previousSibling}return null}function xz(g,j,C){switch(j=Tj(C),g){case"html":if(g=j.documentElement,!g)throw Error(s(452));return g;case"head":if(g=j.head,!g)throw Error(s(453));return g;case"body":if(g=j.body,!g)throw Error(s(454));return g;default:throw Error(s(451))}}function Nv(g){for(var j=g.attributes;j.length;)g.removeAttributeNode(j[0]);kk(g)}var eo=new Map,vz=new Set;function Dj(g){return typeof g.getRootNode=="function"?g.getRootNode():g.nodeType===9?g:g.ownerDocument}var pc=z.d;z.d={f:xve,r:vve,D:yve,C:bve,L:wve,m:jve,X:Nve,S:Sve,M:Cve};function xve(){var g=pc.f(),j=jj();return g||j}function vve(g){var j=hh(g);j!==null&&j.tag===5&&j.type==="form"?$B(j):pc.r(g)}var Yh=typeof document>"u"?null:document;function yz(g,j,C){var A=Yh;if(A&&typeof j=="string"&&j){var O=Gi(j);O='link[rel="'+g+'"][href="'+O+'"]',typeof C=="string"&&(O+='[crossorigin="'+C+'"]'),vz.has(O)||(vz.add(O),g={rel:g,crossOrigin:C,href:j},A.querySelector(O)===null&&(j=A.createElement("link"),sa(j,"link",g),zn(j),A.head.appendChild(j)))}}function yve(g){pc.D(g),yz("dns-prefetch",g,null)}function bve(g,j){pc.C(g,j),yz("preconnect",g,j)}function wve(g,j,C){pc.L(g,j,C);var A=Yh;if(A&&g&&j){var O='link[rel="preload"][as="'+Gi(j)+'"]';j==="image"&&C&&C.imageSrcSet?(O+='[imagesrcset="'+Gi(C.imageSrcSet)+'"]',typeof C.imageSizes=="string"&&(O+='[imagesizes="'+Gi(C.imageSizes)+'"]')):O+='[href="'+Gi(g)+'"]';var F=O;switch(j){case"style":F=Kh(g);break;case"script":F=Zh(g)}eo.has(F)||(g=l({rel:"preload",href:j==="image"&&C&&C.imageSrcSet?void 0:g,as:j},C),eo.set(F,g),A.querySelector(O)!==null||j==="style"&&A.querySelector(Cv(F))||j==="script"&&A.querySelector(_v(F))||(j=A.createElement("link"),sa(j,"link",g),zn(j),A.head.appendChild(j)))}}function jve(g,j){pc.m(g,j);var C=Yh;if(C&&g){var A=j&&typeof j.as=="string"?j.as:"script",O='link[rel="modulepreload"][as="'+Gi(A)+'"][href="'+Gi(g)+'"]',F=O;switch(A){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":F=Zh(g)}if(!eo.has(F)&&(g=l({rel:"modulepreload",href:g},j),eo.set(F,g),C.querySelector(O)===null)){switch(A){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(C.querySelector(_v(F)))return}A=C.createElement("link"),sa(A,"link",g),zn(A),C.head.appendChild(A)}}}function Sve(g,j,C){pc.S(g,j,C);var A=Yh;if(A&&g){var O=ph(A).hoistableStyles,F=Kh(g);j=j||"default";var q=O.get(F);if(!q){var J={loading:0,preload:null};if(q=A.querySelector(Cv(F)))J.loading=5;else{g=l({rel:"stylesheet",href:g,"data-precedence":j},C),(C=eo.get(F))&&_T(g,C);var ae=q=A.createElement("link");zn(ae),sa(ae,"link",g),ae._p=new Promise(function(Ne,Fe){ae.onload=Ne,ae.onerror=Fe}),ae.addEventListener("load",function(){J.loading|=1}),ae.addEventListener("error",function(){J.loading|=2}),J.loading|=4,Pj(q,j,A)}q={type:"stylesheet",instance:q,count:1,state:J},O.set(F,q)}}}function Nve(g,j){pc.X(g,j);var C=Yh;if(C&&g){var A=ph(C).hoistableScripts,O=Zh(g),F=A.get(O);F||(F=C.querySelector(_v(O)),F||(g=l({src:g,async:!0},j),(j=eo.get(O))&&ET(g,j),F=C.createElement("script"),zn(F),sa(F,"link",g),C.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},A.set(O,F))}}function Cve(g,j){pc.M(g,j);var C=Yh;if(C&&g){var A=ph(C).hoistableScripts,O=Zh(g),F=A.get(O);F||(F=C.querySelector(_v(O)),F||(g=l({src:g,async:!0,type:"module"},j),(j=eo.get(O))&&ET(g,j),F=C.createElement("script"),zn(F),sa(F,"link",g),C.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},A.set(O,F))}}function bz(g,j,C,A){var O=(O=he.current)?Dj(O):null;if(!O)throw Error(s(446));switch(g){case"meta":case"title":return null;case"style":return typeof C.precedence=="string"&&typeof C.href=="string"?(j=Kh(C.href),C=ph(O).hoistableStyles,A=C.get(j),A||(A={type:"style",instance:null,count:0,state:null},C.set(j,A)),A):{type:"void",instance:null,count:0,state:null};case"link":if(C.rel==="stylesheet"&&typeof C.href=="string"&&typeof C.precedence=="string"){g=Kh(C.href);var F=ph(O).hoistableStyles,q=F.get(g);if(q||(O=O.ownerDocument||O,q={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},F.set(g,q),(F=O.querySelector(Cv(g)))&&!F._p&&(q.instance=F,q.state.loading=5),eo.has(g)||(C={rel:"preload",as:"style",href:C.href,crossOrigin:C.crossOrigin,integrity:C.integrity,media:C.media,hrefLang:C.hrefLang,referrerPolicy:C.referrerPolicy},eo.set(g,C),F||_ve(O,g,C,q.state))),j&&A===null)throw Error(s(528,""));return q}if(j&&A!==null)throw Error(s(529,""));return null;case"script":return j=C.async,C=C.src,typeof C=="string"&&j&&typeof j!="function"&&typeof j!="symbol"?(j=Zh(C),C=ph(O).hoistableScripts,A=C.get(j),A||(A={type:"script",instance:null,count:0,state:null},C.set(j,A)),A):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,g))}}function Kh(g){return'href="'+Gi(g)+'"'}function Cv(g){return'link[rel="stylesheet"]['+g+"]"}function wz(g){return l({},g,{"data-precedence":g.precedence,precedence:null})}function _ve(g,j,C,A){g.querySelector('link[rel="preload"][as="style"]['+j+"]")?A.loading=1:(j=g.createElement("link"),A.preload=j,j.addEventListener("load",function(){return A.loading|=1}),j.addEventListener("error",function(){return A.loading|=2}),sa(j,"link",C),zn(j),g.head.appendChild(j))}function Zh(g){return'[src="'+Gi(g)+'"]'}function _v(g){return"script[async]"+g}function jz(g,j,C){if(j.count++,j.instance===null)switch(j.type){case"style":var A=g.querySelector('style[data-href~="'+Gi(C.href)+'"]');if(A)return j.instance=A,zn(A),A;var O=l({},C,{"data-href":C.href,"data-precedence":C.precedence,href:null,precedence:null});return A=(g.ownerDocument||g).createElement("style"),zn(A),sa(A,"style",O),Pj(A,C.precedence,g),j.instance=A;case"stylesheet":O=Kh(C.href);var F=g.querySelector(Cv(O));if(F)return j.state.loading|=4,j.instance=F,zn(F),F;A=wz(C),(O=eo.get(O))&&_T(A,O),F=(g.ownerDocument||g).createElement("link"),zn(F);var q=F;return q._p=new Promise(function(J,ae){q.onload=J,q.onerror=ae}),sa(F,"link",A),j.state.loading|=4,Pj(F,C.precedence,g),j.instance=F;case"script":return F=Zh(C.src),(O=g.querySelector(_v(F)))?(j.instance=O,zn(O),O):(A=C,(O=eo.get(F))&&(A=l({},C),ET(A,O)),g=g.ownerDocument||g,O=g.createElement("script"),zn(O),sa(O,"link",A),g.head.appendChild(O),j.instance=O);case"void":return null;default:throw Error(s(443,j.type))}else j.type==="stylesheet"&&(j.state.loading&4)===0&&(A=j.instance,j.state.loading|=4,Pj(A,C.precedence,g));return j.instance}function Pj(g,j,C){for(var A=C.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=A.length?A[A.length-1]:null,F=O,q=0;q<A.length;q++){var J=A[q];if(J.dataset.precedence===j)F=J;else if(F!==O)break}F?F.parentNode.insertBefore(g,F.nextSibling):(j=C.nodeType===9?C.head:C,j.insertBefore(g,j.firstChild))}function _T(g,j){g.crossOrigin==null&&(g.crossOrigin=j.crossOrigin),g.referrerPolicy==null&&(g.referrerPolicy=j.referrerPolicy),g.title==null&&(g.title=j.title)}function ET(g,j){g.crossOrigin==null&&(g.crossOrigin=j.crossOrigin),g.referrerPolicy==null&&(g.referrerPolicy=j.referrerPolicy),g.integrity==null&&(g.integrity=j.integrity)}var Rj=null;function Sz(g,j,C){if(Rj===null){var A=new Map,O=Rj=new Map;O.set(C,A)}else O=Rj,A=O.get(C),A||(A=new Map,O.set(C,A));if(A.has(g))return A;for(A.set(g,null),C=C.getElementsByTagName(g),O=0;O<C.length;O++){var F=C[O];if(!(F[Lx]||F[Ss]||g==="link"&&F.getAttribute("rel")==="stylesheet")&&F.namespaceURI!=="http://www.w3.org/2000/svg"){var q=F.getAttribute(j)||"";q=g+q;var J=A.get(q);J?J.push(F):A.set(q,[F])}}return A}function Nz(g,j,C){g=g.ownerDocument||g,g.head.insertBefore(C,j==="title"?g.querySelector("head > title"):null)}function Eve(g,j,C){if(C===1||j.itemProp!=null)return!1;switch(g){case"meta":case"title":return!0;case"style":if(typeof j.precedence!="string"||typeof j.href!="string"||j.href==="")break;return!0;case"link":if(typeof j.rel!="string"||typeof j.href!="string"||j.href===""||j.onLoad||j.onError)break;switch(j.rel){case"stylesheet":return g=j.disabled,typeof j.precedence=="string"&&g==null;default:return!0}case"script":if(j.async&&typeof j.async!="function"&&typeof j.async!="symbol"&&!j.onLoad&&!j.onError&&j.src&&typeof j.src=="string")return!0}return!1}function Cz(g){return!(g.type==="stylesheet"&&(g.state.loading&3)===0)}var Ev=null;function kve(){}function Ave(g,j,C){if(Ev===null)throw Error(s(475));var A=Ev;if(j.type==="stylesheet"&&(typeof C.media!="string"||matchMedia(C.media).matches!==!1)&&(j.state.loading&4)===0){if(j.instance===null){var O=Kh(C.href),F=g.querySelector(Cv(O));if(F){g=F._p,g!==null&&typeof g=="object"&&typeof g.then=="function"&&(A.count++,A=Mj.bind(A),g.then(A,A)),j.state.loading|=4,j.instance=F,zn(F);return}F=g.ownerDocument||g,C=wz(C),(O=eo.get(O))&&_T(C,O),F=F.createElement("link"),zn(F);var q=F;q._p=new Promise(function(J,ae){q.onload=J,q.onerror=ae}),sa(F,"link",C),j.instance=F}A.stylesheets===null&&(A.stylesheets=new Map),A.stylesheets.set(j,g),(g=j.state.preload)&&(j.state.loading&3)===0&&(A.count++,j=Mj.bind(A),g.addEventListener("load",j),g.addEventListener("error",j))}}function Tve(){if(Ev===null)throw Error(s(475));var g=Ev;return g.stylesheets&&g.count===0&&kT(g,g.stylesheets),0<g.count?function(j){var C=setTimeout(function(){if(g.stylesheets&&kT(g,g.stylesheets),g.unsuspend){var A=g.unsuspend;g.unsuspend=null,A()}},6e4);return g.unsuspend=j,function(){g.unsuspend=null,clearTimeout(C)}}:null}function Mj(){if(this.count--,this.count===0){if(this.stylesheets)kT(this,this.stylesheets);else if(this.unsuspend){var g=this.unsuspend;this.unsuspend=null,g()}}}var Oj=null;function kT(g,j){g.stylesheets=null,g.unsuspend!==null&&(g.count++,Oj=new Map,j.forEach(Dve,g),Oj=null,Mj.call(g))}function Dve(g,j){if(!(j.state.loading&4)){var C=Oj.get(g);if(C)var A=C.get(null);else{C=new Map,Oj.set(g,C);for(var O=g.querySelectorAll("link[data-precedence],style[data-precedence]"),F=0;F<O.length;F++){var q=O[F];(q.nodeName==="LINK"||q.getAttribute("media")!=="not all")&&(C.set(q.dataset.precedence,q),A=q)}A&&C.set(null,A)}O=j.instance,q=O.getAttribute("data-precedence"),F=C.get(q)||A,F===A&&C.set(null,O),C.set(q,O),this.count++,A=Mj.bind(this),O.addEventListener("load",A),O.addEventListener("error",A),F?F.parentNode.insertBefore(O,F.nextSibling):(g=g.nodeType===9?g.head:g,g.insertBefore(O,g.firstChild)),j.state.loading|=4}}var kv={$$typeof:S,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function Pve(g,j,C,A,O,F,q,J){this.tag=1,this.containerInfo=g,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fr(0),this.hiddenUpdates=fr(null),this.identifierPrefix=A,this.onUncaughtError=O,this.onCaughtError=F,this.onRecoverableError=q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function _z(g,j,C,A,O,F,q,J,ae,Ne,Fe,Ve){return g=new Pve(g,j,C,q,J,ae,Ne,Ve),j=1,F===!0&&(j|=24),F=oi(3,null,null,j),g.current=F,F.stateNode=g,j=cA(),j.refCount++,g.pooledCache=j,j.refCount++,F.memoizedState={element:A,isDehydrated:C,cache:j},mA(F),g}function Ez(g){return g?(g=Eh,g):Eh}function kz(g,j,C,A,O,F){O=Ez(O),A.context===null?A.context=O:A.pendingContext=O,A=jd(j),A.payload={element:C},F=F===void 0?null:F,F!==null&&(A.callback=F),C=Sd(g,A,j),C!==null&&(fi(C,g,j),nv(C,g,j))}function Az(g,j){if(g=g.memoizedState,g!==null&&g.dehydrated!==null){var C=g.retryLane;g.retryLane=C!==0&&C<j?C:j}}function AT(g,j){Az(g,j),(g=g.alternate)&&Az(g,j)}function Tz(g){if(g.tag===13){var j=_h(g,67108864);j!==null&&fi(j,g,67108864),AT(g,67108864)}}var Ij=!0;function Rve(g,j,C,A){var O=I.T;I.T=null;var F=z.p;try{z.p=2,TT(g,j,C,A)}finally{z.p=F,I.T=O}}function Mve(g,j,C,A){var O=I.T;I.T=null;var F=z.p;try{z.p=8,TT(g,j,C,A)}finally{z.p=F,I.T=O}}function TT(g,j,C,A){if(Ij){var O=DT(A);if(O===null)xT(g,j,A,Fj,C),Pz(g,A);else if(Ive(O,g,j,C,A))A.stopPropagation();else if(Pz(g,A),j&4&&-1<Ove.indexOf(g)){for(;O!==null;){var F=hh(O);if(F!==null)switch(F.tag){case 3:if(F=F.stateNode,F.current.memoizedState.isDehydrated){var q=ea(F.pendingLanes);if(q!==0){var J=F;for(J.pendingLanes|=2,J.entangledLanes|=2;q;){var ae=1<<31-lr(q);J.entanglements[1]|=ae,q&=~ae}pl(F),(Ir&6)===0&&(bj=it()+500,wv(0))}}break;case 13:J=_h(F,2),J!==null&&fi(J,F,2),jj(),AT(F,2)}if(F=DT(A),F===null&&xT(g,j,A,Fj,C),F===O)break;O=F}O!==null&&A.stopPropagation()}else xT(g,j,A,null,C)}}function DT(g){return g=Ik(g),PT(g)}var Fj=null;function PT(g){if(Fj=null,g=mh(g),g!==null){var j=i(g);if(j===null)g=null;else{var C=j.tag;if(C===13){if(g=o(j),g!==null)return g;g=null}else if(C===3){if(j.stateNode.current.memoizedState.isDehydrated)return j.tag===3?j.stateNode.containerInfo:null;g=null}else j!==g&&(g=null)}}return Fj=g,null}function Dz(g){switch(g){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ge()){case He:return 2;case ee:return 8;case le:case ce:return 32;case Ke:return 268435456;default:return 32}default:return 32}}var RT=!1,Id=null,Fd=null,$d=null,Av=new Map,Tv=new Map,Ld=[],Ove="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pz(g,j){switch(g){case"focusin":case"focusout":Id=null;break;case"dragenter":case"dragleave":Fd=null;break;case"mouseover":case"mouseout":$d=null;break;case"pointerover":case"pointerout":Av.delete(j.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tv.delete(j.pointerId)}}function Dv(g,j,C,A,O,F){return g===null||g.nativeEvent!==F?(g={blockedOn:j,domEventName:C,eventSystemFlags:A,nativeEvent:F,targetContainers:[O]},j!==null&&(j=hh(j),j!==null&&Tz(j)),g):(g.eventSystemFlags|=A,j=g.targetContainers,O!==null&&j.indexOf(O)===-1&&j.push(O),g)}function Ive(g,j,C,A,O){switch(j){case"focusin":return Id=Dv(Id,g,j,C,A,O),!0;case"dragenter":return Fd=Dv(Fd,g,j,C,A,O),!0;case"mouseover":return $d=Dv($d,g,j,C,A,O),!0;case"pointerover":var F=O.pointerId;return Av.set(F,Dv(Av.get(F)||null,g,j,C,A,O)),!0;case"gotpointercapture":return F=O.pointerId,Tv.set(F,Dv(Tv.get(F)||null,g,j,C,A,O)),!0}return!1}function Rz(g){var j=mh(g.target);if(j!==null){var C=i(j);if(C!==null){if(j=C.tag,j===13){if(j=o(C),j!==null){g.blockedOn=j,Gs(g.priority,function(){if(C.tag===13){var A=ui();A=ms(A);var O=_h(C,A);O!==null&&fi(O,C,A),AT(C,A)}});return}}else if(j===3&&C.stateNode.current.memoizedState.isDehydrated){g.blockedOn=C.tag===3?C.stateNode.containerInfo:null;return}}}g.blockedOn=null}function $j(g){if(g.blockedOn!==null)return!1;for(var j=g.targetContainers;0<j.length;){var C=DT(g.nativeEvent);if(C===null){C=g.nativeEvent;var A=new C.constructor(C.type,C);Ok=A,C.target.dispatchEvent(A),Ok=null}else return j=hh(C),j!==null&&Tz(j),g.blockedOn=C,!1;j.shift()}return!0}function Mz(g,j,C){$j(g)&&C.delete(j)}function Fve(){RT=!1,Id!==null&&$j(Id)&&(Id=null),Fd!==null&&$j(Fd)&&(Fd=null),$d!==null&&$j($d)&&($d=null),Av.forEach(Mz),Tv.forEach(Mz)}function Lj(g,j){g.blockedOn===j&&(g.blockedOn=null,RT||(RT=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Fve)))}var Bj=null;function Oz(g){Bj!==g&&(Bj=g,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Bj===g&&(Bj=null);for(var j=0;j<g.length;j+=3){var C=g[j],A=g[j+1],O=g[j+2];if(typeof A!="function"){if(PT(A||C)===null)continue;break}var F=hh(C);F!==null&&(g.splice(j,3),j-=3,PA(F,{pending:!0,data:O,method:C.method,action:A},A,O))}}))}function Pv(g){function j(ae){return Lj(ae,g)}Id!==null&&Lj(Id,g),Fd!==null&&Lj(Fd,g),$d!==null&&Lj($d,g),Av.forEach(j),Tv.forEach(j);for(var C=0;C<Ld.length;C++){var A=Ld[C];A.blockedOn===g&&(A.blockedOn=null)}for(;0<Ld.length&&(C=Ld[0],C.blockedOn===null);)Rz(C),C.blockedOn===null&&Ld.shift();if(C=(g.ownerDocument||g).$$reactFormReplay,C!=null)for(A=0;A<C.length;A+=3){var O=C[A],F=C[A+1],q=O[Kt]||null;if(typeof F=="function")q||Oz(C);else if(q){var J=null;if(F&&F.hasAttribute("formAction")){if(O=F,q=F[Kt]||null)J=q.formAction;else if(PT(O)!==null)continue}else J=q.action;typeof J=="function"?C[A+1]=J:(C.splice(A,3),A-=3),Oz(C)}}}function MT(g){this._internalRoot=g}zj.prototype.render=MT.prototype.render=function(g){var j=this._internalRoot;if(j===null)throw Error(s(409));var C=j.current,A=ui();kz(C,A,g,j,null,null)},zj.prototype.unmount=MT.prototype.unmount=function(){var g=this._internalRoot;if(g!==null){this._internalRoot=null;var j=g.containerInfo;kz(g.current,2,null,g,null,null),jj(),j[es]=null}};function zj(g){this._internalRoot=g}zj.prototype.unstable_scheduleHydration=function(g){if(g){var j=ai();g={blockedOn:null,target:g,priority:j};for(var C=0;C<Ld.length&&j!==0&&j<Ld[C].priority;C++);Ld.splice(C,0,g),C===0&&Rz(g)}};var Iz=t.version;if(Iz!=="19.1.0")throw Error(s(527,Iz,"19.1.0"));z.findDOMNode=function(g){var j=g._reactInternals;if(j===void 0)throw typeof g.render=="function"?Error(s(188)):(g=Object.keys(g).join(","),Error(s(268,g)));return g=d(j),g=g!==null?u(g):null,g=g===null?null:g.stateNode,g};var $ve={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uj=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uj.isDisabled&&Uj.supportsFiber)try{Qe=Uj.inject($ve),yt=Uj}catch{}}return Mv.createRoot=function(g,j){if(!a(g))throw Error(s(299));var C=!1,A="",O=JB,F=QB,q=e8,J=null;return j!=null&&(j.unstable_strictMode===!0&&(C=!0),j.identifierPrefix!==void 0&&(A=j.identifierPrefix),j.onUncaughtError!==void 0&&(O=j.onUncaughtError),j.onCaughtError!==void 0&&(F=j.onCaughtError),j.onRecoverableError!==void 0&&(q=j.onRecoverableError),j.unstable_transitionCallbacks!==void 0&&(J=j.unstable_transitionCallbacks)),j=_z(g,1,!1,null,null,C,A,O,F,q,J,null),g[es]=j.current,gT(g),new MT(j)},Mv.hydrateRoot=function(g,j,C){if(!a(g))throw Error(s(299));var A=!1,O="",F=JB,q=QB,J=e8,ae=null,Ne=null;return C!=null&&(C.unstable_strictMode===!0&&(A=!0),C.identifierPrefix!==void 0&&(O=C.identifierPrefix),C.onUncaughtError!==void 0&&(F=C.onUncaughtError),C.onCaughtError!==void 0&&(q=C.onCaughtError),C.onRecoverableError!==void 0&&(J=C.onRecoverableError),C.unstable_transitionCallbacks!==void 0&&(ae=C.unstable_transitionCallbacks),C.formState!==void 0&&(Ne=C.formState)),j=_z(g,1,!0,j,C??null,A,O,F,q,J,ae,Ne),j.context=Ez(null),C=j.current,A=ui(),A=ms(A),O=jd(A),O.callback=null,Sd(C,O,A),C=A,j.current.lanes=C,us(j,C),pl(j),g[es]=j.current,gT(g),new zj(j)},Mv.version="19.1.0",Mv}var qz;function Kve(){if(qz)return $T.exports;qz=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),$T.exports=Yve(),$T.exports}var Zve=Kve(),UT={exports:{}},HT={};var Gz;function Xve(){if(Gz)return HT;Gz=1;var e=Ru();function t(d,u){return d===u&&(d!==0||1/d===1/u)||d!==d&&u!==u}var r=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,o=e.useMemo,c=e.useDebugValue;return HT.useSyncExternalStoreWithSelector=function(d,u,l,f,m){var p=a(null);if(p.current===null){var x={hasValue:!1,value:null};p.current=x}else x=p.current;p=o(function(){function h(_){if(!y){if(y=!0,w=_,_=f(_),m!==void 0&&x.hasValue){var k=x.value;if(m(k,_))return S=k}return S=_}if(k=S,r(w,_))return k;var E=f(_);return m!==void 0&&m(k,E)?(w=_,k):(w=_,S=E)}var y=!1,w,S,N=l===void 0?null:l;return[function(){return h(u())},N===null?void 0:function(){return h(N())}]},[u,l,f,m]);var b=s(d,p[0],p[1]);return i(function(){x.hasValue=!0,x.value=b},[b]),c(b),b},HT}var Yz;function Jve(){return Yz||(Yz=1,UT.exports=Xve()),UT.exports}var Qve=Jve();function e0e(e){e()}function t0e(){let e=null,t=null;return{clear(){e=null,t=null},notify(){e0e(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let s=e;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!s||e===null||(s=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var Kz={notify(){},get:()=>[]};function r0e(e,t){let r,s=Kz,a=0,i=!1;function o(b){l();const h=s.subscribe(b);let y=!1;return()=>{y||(y=!0,h(),f())}}function c(){s.notify()}function d(){x.onStateChange&&x.onStateChange()}function u(){return i}function l(){a++,r||(r=e.subscribe(d),s=t0e())}function f(){a--,r&&a===0&&(r(),r=void 0,s.clear(),s=Kz)}function m(){i||(i=!0,l())}function p(){i&&(i=!1,f())}const x={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:u,trySubscribe:m,tryUnsubscribe:p,getListeners:()=>s};return x}var s0e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",n0e=s0e(),a0e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",i0e=a0e(),o0e=()=>n0e||i0e?v.useLayoutEffect:v.useEffect,l0e=o0e(),c0e=Symbol.for("react-redux-context"),d0e=typeof globalThis<"u"?globalThis:{};function u0e(){if(!v.createContext)return{};const e=d0e[c0e]??=new Map;let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var xu=u0e();function f0e(e){const{children:t,context:r,serverState:s,store:a}=e,i=v.useMemo(()=>{const d=r0e(a);return{store:a,subscription:d,getServerState:s?()=>s:void 0}},[a,s]),o=v.useMemo(()=>a.getState(),[a]);l0e(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),o!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,o]);const c=r||xu;return v.createElement(c.Provider,{value:i},t)}var WK=f0e;function fI(e=xu){return function(){return v.useContext(e)}}var qK=fI();function GK(e=xu){const t=e===xu?qK:fI(e),r=()=>{const{store:s}=t();return s};return Object.assign(r,{withTypes:()=>r}),r}var m0e=GK();function h0e(e=xu){const t=e===xu?m0e:GK(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var ct=h0e(),p0e=(e,t)=>e===t;function g0e(e=xu){const t=e===xu?qK:fI(e),r=(s,a={})=>{const{equalityFn:i=p0e}=typeof a=="function"?{equalityFn:a}:a,o=t(),{store:c,subscription:d,getServerState:u}=o;v.useRef(!0);const l=v.useCallback({[s.name](m){return s(m)}}[s.name],[s]),f=Qve.useSyncExternalStoreWithSelector(d.addNestedSub,c.getState,u||c.getState,l,i);return v.useDebugValue(f),f};return Object.assign(r,{withTypes:()=>r}),r}var se=g0e();function na(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var x0e=typeof Symbol=="function"&&Symbol.observable||"@@observable",Zz=x0e,VT=()=>Math.random().toString(36).substring(7).split("").join("."),v0e={INIT:`@@redux/INIT${VT()}`,REPLACE:`@@redux/REPLACE${VT()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${VT()}`},lC=v0e;function mI(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function YK(e,t,r){if(typeof e!="function")throw new Error(na(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(na(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(na(1));return r(YK)(e,t)}let s=e,a=t,i=new Map,o=i,c=0,d=!1;function u(){o===i&&(o=new Map,i.forEach((h,y)=>{o.set(y,h)}))}function l(){if(d)throw new Error(na(3));return a}function f(h){if(typeof h!="function")throw new Error(na(4));if(d)throw new Error(na(5));let y=!0;u();const w=c++;return o.set(w,h),function(){if(y){if(d)throw new Error(na(6));y=!1,u(),o.delete(w),i=null}}}function m(h){if(!mI(h))throw new Error(na(7));if(typeof h.type>"u")throw new Error(na(8));if(typeof h.type!="string")throw new Error(na(17));if(d)throw new Error(na(9));try{d=!0,a=s(a,h)}finally{d=!1}return(i=o).forEach(w=>{w()}),h}function p(h){if(typeof h!="function")throw new Error(na(10));s=h,m({type:lC.REPLACE})}function x(){const h=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(na(11));function w(){const N=y;N.next&&N.next(l())}return w(),{unsubscribe:h(w)}},[Zz](){return this}}}return m({type:lC.INIT}),{dispatch:m,subscribe:f,getState:l,replaceReducer:p,[Zz]:x}}function y0e(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:lC.INIT})>"u")throw new Error(na(12));if(typeof r(void 0,{type:lC.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(na(13))})}function KK(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const s=Object.keys(r);let a;try{y0e(r)}catch(i){a=i}return function(o={},c){if(a)throw a;let d=!1;const u={};for(let l=0;l<s.length;l++){const f=s[l],m=r[f],p=o[f],x=m(p,c);if(typeof x>"u")throw c&&c.type,new Error(na(14));u[f]=x,d=d||x!==p}return d=d||s.length!==Object.keys(o).length,d?u:o}}function cC(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...s)=>t(r(...s)))}function b0e(...e){return t=>(r,s)=>{const a=t(r,s);let i=()=>{throw new Error(na(15))};const o={getState:a.getState,dispatch:(d,...u)=>i(d,...u)},c=e.map(d=>d(o));return i=cC(...c)(a.dispatch),{...a,dispatch:i}}}function ZK(e){return mI(e)&&"type"in e&&typeof e.type=="string"}var XK=Symbol.for("immer-nothing"),Xz=Symbol.for("immer-draftable"),ki=Symbol.for("immer-state");function Ho(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var cg=Object.getPrototypeOf;function jm(e){return!!e&&!!e[ki]}function zc(e){return e?JK(e)||Array.isArray(e)||!!e[Xz]||!!e.constructor?.[Xz]||H_(e)||V_(e):!1}var w0e=Object.prototype.constructor.toString();function JK(e){if(!e||typeof e!="object")return!1;const t=cg(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===w0e}function dC(e,t){U_(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,s)=>t(s,r,e))}function U_(e){const t=e[ki];return t?t.type_:Array.isArray(e)?1:H_(e)?2:V_(e)?3:0}function O4(e,t){return U_(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function QK(e,t,r){const s=U_(e);s===2?e.set(t,r):s===3?e.add(r):e[t]=r}function j0e(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function H_(e){return e instanceof Map}function V_(e){return e instanceof Set}function $f(e){return e.copy_||e.base_}function I4(e,t){if(H_(e))return new Map(e);if(V_(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=JK(e);if(t===!0||t==="class_only"&&!r){const s=Object.getOwnPropertyDescriptors(e);delete s[ki];let a=Reflect.ownKeys(s);for(let i=0;i<a.length;i++){const o=a[i],c=s[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(s[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[o]})}return Object.create(cg(e),s)}else{const s=cg(e);if(s!==null&&r)return{...e};const a=Object.create(s);return Object.assign(a,e)}}function hI(e,t=!1){return W_(e)||jm(e)||!zc(e)||(U_(e)>1&&(e.set=e.add=e.clear=e.delete=S0e),Object.freeze(e),t&&Object.entries(e).forEach(([r,s])=>hI(s,!0))),e}function S0e(){Ho(2)}function W_(e){return Object.isFrozen(e)}var N0e={};function Sm(e){const t=N0e[e];return t||Ho(0,e),t}var vy;function eZ(){return vy}function C0e(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Jz(e,t){t&&(Sm("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function F4(e){$4(e),e.drafts_.forEach(_0e),e.drafts_=null}function $4(e){e===vy&&(vy=e.parent_)}function Qz(e){return vy=C0e(vy,e)}function _0e(e){const t=e[ki];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function eU(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[ki].modified_&&(F4(t),Ho(4)),zc(e)&&(e=uC(t,e),t.parent_||fC(t,e)),t.patches_&&Sm("Patches").generateReplacementPatches_(r[ki].base_,e,t.patches_,t.inversePatches_)):e=uC(t,r,[]),F4(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==XK?e:void 0}function uC(e,t,r){if(W_(t))return t;const s=t[ki];if(!s)return dC(t,(a,i)=>tU(e,s,t,a,i,r)),t;if(s.scope_!==e)return t;if(!s.modified_)return fC(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const a=s.copy_;let i=a,o=!1;s.type_===3&&(i=new Set(a),a.clear(),o=!0),dC(i,(c,d)=>tU(e,s,a,c,d,r,o)),fC(e,a,!1),r&&e.patches_&&Sm("Patches").generatePatches_(s,r,e.patches_,e.inversePatches_)}return s.copy_}function tU(e,t,r,s,a,i,o){if(jm(a)){const c=i&&t&&t.type_!==3&&!O4(t.assigned_,s)?i.concat(s):void 0,d=uC(e,a,c);if(QK(r,s,d),jm(d))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(zc(a)&&!W_(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;uC(e,a),(!t||!t.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,s)&&fC(e,a)}}function fC(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&hI(t,r)}function E0e(e,t){const r=Array.isArray(e),s={type_:r?1:0,scope_:t?t.scope_:eZ(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=s,i=pI;r&&(a=[s],i=yy);const{revoke:o,proxy:c}=Proxy.revocable(a,i);return s.draft_=c,s.revoke_=o,c}var pI={get(e,t){if(t===ki)return e;const r=$f(e);if(!O4(r,t))return k0e(e,r,t);const s=r[t];return e.finalized_||!zc(s)?s:s===WT(e.base_,t)?(qT(e),e.copy_[t]=B4(s,e)):s},has(e,t){return t in $f(e)},ownKeys(e){return Reflect.ownKeys($f(e))},set(e,t,r){const s=tZ($f(e),t);if(s?.set)return s.set.call(e.draft_,r),!0;if(!e.modified_){const a=WT($f(e),t),i=a?.[ki];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(j0e(r,a)&&(r!==void 0||O4(e.base_,t)))return!0;qT(e),L4(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return WT(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,qT(e),L4(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=$f(e),s=Reflect.getOwnPropertyDescriptor(r,t);return s&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:s.enumerable,value:r[t]}},defineProperty(){Ho(11)},getPrototypeOf(e){return cg(e.base_)},setPrototypeOf(){Ho(12)}},yy={};dC(pI,(e,t)=>{yy[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});yy.deleteProperty=function(e,t){return yy.set.call(this,e,t,void 0)};yy.set=function(e,t,r){return pI.set.call(this,e[0],t,r,e[0])};function WT(e,t){const r=e[ki];return(r?$f(r):e)[t]}function k0e(e,t,r){const s=tZ(t,r);return s?"value"in s?s.value:s.get?.call(e.draft_):void 0}function tZ(e,t){if(!(t in e))return;let r=cg(e);for(;r;){const s=Object.getOwnPropertyDescriptor(r,t);if(s)return s;r=cg(r)}}function L4(e){e.modified_||(e.modified_=!0,e.parent_&&L4(e.parent_))}function qT(e){e.copy_||(e.copy_=I4(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var A0e=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,s)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(d=i,...u){return o.produce(d,l=>r.call(this,l,...u))}}typeof r!="function"&&Ho(6),s!==void 0&&typeof s!="function"&&Ho(7);let a;if(zc(t)){const i=Qz(this),o=B4(t,void 0);let c=!0;try{a=r(o),c=!1}finally{c?F4(i):$4(i)}return Jz(i,s),eU(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===XK&&(a=void 0),this.autoFreeze_&&hI(a,!0),s){const i=[],o=[];Sm("Patches").generateReplacementPatches_(t,a,i,o),s(i,o)}return a}else Ho(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...c)=>this.produceWithPatches(o,d=>t(d,...c));let s,a;return[this.produce(t,r,(o,c)=>{s=o,a=c}),s,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){zc(e)||Ho(8),jm(e)&&(e=Mc(e));const t=Qz(this),r=B4(e,void 0);return r[ki].isManual_=!0,$4(t),r}finishDraft(e,t){const r=e&&e[ki];(!r||!r.isManual_)&&Ho(9);const{scope_:s}=r;return Jz(s,t),eU(void 0,s)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const s=Sm("Patches").applyPatches_;return jm(e)?s(e,t):this.produce(e,a=>s(a,t))}};function B4(e,t){const r=H_(e)?Sm("MapSet").proxyMap_(e,t):V_(e)?Sm("MapSet").proxySet_(e,t):E0e(e,t);return(t?t.scope_:eZ()).drafts_.push(r),r}function Mc(e){return jm(e)||Ho(10,e),rZ(e)}function rZ(e){if(!zc(e)||W_(e))return e;const t=e[ki];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=I4(e,t.scope_.immer_.useStrictShallowCopy_)}else r=I4(e,!0);return dC(r,(s,a)=>{QK(r,s,rZ(a))}),t&&(t.finalized_=!1),r}var Ai=new A0e,sZ=Ai.produce;Ai.produceWithPatches.bind(Ai);Ai.setAutoFreeze.bind(Ai);Ai.setUseStrictShallowCopy.bind(Ai);Ai.applyPatches.bind(Ai);Ai.createDraft.bind(Ai);Ai.finishDraft.bind(Ai);var mC=Symbol("NOT_FOUND");function T0e(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function D0e(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function P0e(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(s=>typeof s=="function"?`function ${s.name||"unnamed"}()`:typeof s).join(", ");throw new TypeError(`${t}[${r}]`)}}var rU=e=>Array.isArray(e)?e:[e];function R0e(e){const t=Array.isArray(e[0])?e[0]:e;return P0e(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function M0e(e,t){const r=[],{length:s}=e;for(let a=0;a<s;a++)r.push(e[a].apply(null,t));return r}function O0e(e){let t;return{get(r){return t&&e(t.key,r)?t.value:mC},put(r,s){t={key:r,value:s}},getEntries(){return t?[t]:[]},clear(){t=void 0}}}function I0e(e,t){let r=[];function s(c){const d=r.findIndex(u=>t(c,u.key));if(d>-1){const u=r[d];return d>0&&(r.splice(d,1),r.unshift(u)),u.value}return mC}function a(c,d){s(c)===mC&&(r.unshift({key:c,value:d}),r.length>e&&r.pop())}function i(){return r}function o(){r=[]}return{get:s,put:a,getEntries:i,clear:o}}var F0e=(e,t)=>e===t;function $0e(e){return function(r,s){if(r===null||s===null||r.length!==s.length)return!1;const{length:a}=r;for(let i=0;i<a;i++)if(!e(r[i],s[i]))return!1;return!0}}function L0e(e,t){const r=typeof t=="object"?t:{equalityCheck:t},{equalityCheck:s=F0e,maxSize:a=1,resultEqualityCheck:i}=r,o=$0e(s);let c=0;const d=a<=1?O0e(o):I0e(a,o);function u(){let l=d.get(arguments);if(l===mC){if(l=e.apply(null,arguments),c++,i){const m=d.getEntries().find(p=>i(p.value,l));m&&(l=m.value,c!==0&&c--)}d.put(arguments,l)}return l}return u.clearCache=()=>{d.clear(),u.resetResultsCount()},u.resultsCount=()=>c,u.resetResultsCount=()=>{c=0},u}var B0e=class{constructor(e){this.value=e}deref(){return this.value}},z0e=typeof WeakRef<"u"?WeakRef:B0e,U0e=0,sU=1;function Hj(){return{s:U0e,v:void 0,o:null,p:null}}function nZ(e,t={}){let r=Hj();const{resultEqualityCheck:s}=t;let a,i=0;function o(){let c=r;const{length:d}=arguments;for(let f=0,m=d;f<m;f++){const p=arguments[f];if(typeof p=="function"||typeof p=="object"&&p!==null){let x=c.o;x===null&&(c.o=x=new WeakMap);const b=x.get(p);b===void 0?(c=Hj(),x.set(p,c)):c=b}else{let x=c.p;x===null&&(c.p=x=new Map);const b=x.get(p);b===void 0?(c=Hj(),x.set(p,c)):c=b}}const u=c;let l;if(c.s===sU)l=c.v;else if(l=e.apply(null,arguments),i++,s){const f=a?.deref?.()??a;f!=null&&s(f,l)&&(l=f,i!==0&&i--),a=typeof l=="object"&&l!==null||typeof l=="function"?new z0e(l):l}return u.s=sU,u.v=l,l}return o.clearCache=()=>{r=Hj(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function aZ(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,s=(...a)=>{let i=0,o=0,c,d={},u=a.pop();typeof u=="object"&&(d=u,u=a.pop()),T0e(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const l={...r,...d},{memoize:f,memoizeOptions:m=[],argsMemoize:p=nZ,argsMemoizeOptions:x=[]}=l,b=rU(m),h=rU(x),y=R0e(a),w=f(function(){return i++,u.apply(null,arguments)},...b),S=p(function(){o++;const _=M0e(y,arguments);return c=w.apply(null,_),c},...h);return Object.assign(S,{resultFunc:u,memoizedResultFunc:w,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>c,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:p})};return Object.assign(s,{withTypes:()=>s}),s}var we=aZ(nZ),H0e=Object.assign((e,t=we)=>{D0e(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),s=r.map(i=>e[i]);return t(s,(...i)=>i.reduce((o,c,d)=>(o[r[d]]=c,o),{}))},{withTypes:()=>H0e});function iZ(e){return({dispatch:r,getState:s})=>a=>i=>typeof i=="function"?i(r,s,e):a(i)}var V0e=iZ(),W0e=iZ,q0e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?cC:cC.apply(null,arguments)},G0e=e=>e&&typeof e.match=="function";function ka(e,t){function r(...s){if(t){let a=t(...s);if(!a)throw new Error(Si(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:s[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=s=>ZK(s)&&s.type===e,r}var oZ=class k0 extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,k0.prototype)}static get[Symbol.species](){return k0}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new k0(...t[0].concat(this)):new k0(...t.concat(this))}};function nU(e){return zc(e)?sZ(e,()=>{}):e}function Vj(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Y0e(e){return typeof e=="boolean"}var K0e=()=>function(t){const{thunk:r=!0,immutableCheck:s=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new oZ;return r&&(Y0e(r)?o.push(V0e):o.push(W0e(r.extraArgument))),o},Z0e="RTK_autoBatch",aU=e=>t=>{setTimeout(t,e)},X0e=(e={type:"raf"})=>t=>(...r)=>{const s=t(...r);let a=!0,i=!1,o=!1;const c=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:aU(10):e.type==="callback"?e.queueNotification:aU(e.timeout),u=()=>{o=!1,i&&(i=!1,c.forEach(l=>l()))};return Object.assign({},s,{subscribe(l){const f=()=>a&&l(),m=s.subscribe(f);return c.add(l),()=>{m(),c.delete(l)}},dispatch(l){try{return a=!l?.meta?.[Z0e],i=!a,i&&(o||(o=!0,d(u))),s.dispatch(l)}finally{a=!0}}})},J0e=e=>function(r){const{autoBatch:s=!0}=r??{};let a=new oZ(e);return s&&a.push(X0e(typeof s=="object"?s:void 0)),a};function lZ(e){const t=K0e(),{reducer:r=void 0,middleware:s,devTools:a=!0,duplicateMiddlewareCheck:i=!0,preloadedState:o=void 0,enhancers:c=void 0}=e||{};let d;if(typeof r=="function")d=r;else if(mI(r))d=KK(r);else throw new Error(Si(1));let u;typeof s=="function"?u=s(t):u=t();let l=cC;a&&(l=q0e({trace:!1,...typeof a=="object"&&a}));const f=b0e(...u),m=J0e(f);let p=typeof c=="function"?c(m):m();const x=l(...p);return YK(d,o,x)}function cZ(e){const t={},r=[];let s;const a={addCase(i,o){const c=typeof i=="string"?i:i.type;if(!c)throw new Error(Si(28));if(c in t)throw new Error(Si(29));return t[c]=o,a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return s=i,a}};return e(a),[t,r,s]}function Q0e(e){return typeof e=="function"}function eye(e,t){let[r,s,a]=cZ(t),i;if(Q0e(e))i=()=>nU(e());else{const c=nU(e);i=()=>c}function o(c=i(),d){let u=[r[d.type],...s.filter(({matcher:l})=>l(d)).map(({reducer:l})=>l)];return u.filter(l=>!!l).length===0&&(u=[a]),u.reduce((l,f)=>{if(f)if(jm(l)){const p=f(l,d);return p===void 0?l:p}else{if(zc(l))return sZ(l,m=>f(m,d));{const m=f(l,d);if(m===void 0){if(l===null)return l;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return l},c)}return o.getInitialState=i,o}var tye=(e,t)=>G0e(e)?e.match(t):e(t);function rye(...e){return t=>e.some(r=>tye(r,t))}var sye="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",dZ=(e=21)=>{let t="",r=e;for(;r--;)t+=sye[Math.random()*64|0];return t},nye=["name","message","stack","code"],GT=class{constructor(e,t){this.payload=e,this.meta=t}_type},iU=class{constructor(e,t){this.payload=e,this.meta=t}_type},aye=e=>{if(typeof e=="object"&&e!==null){const t={};for(const r of nye)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},oU="External signal was aborted",Me=(()=>{function e(t,r,s){const a=ka(t+"/fulfilled",(d,u,l,f)=>({payload:d,meta:{...f||{},arg:l,requestId:u,requestStatus:"fulfilled"}})),i=ka(t+"/pending",(d,u,l)=>({payload:void 0,meta:{...l||{},arg:u,requestId:d,requestStatus:"pending"}})),o=ka(t+"/rejected",(d,u,l,f,m)=>({payload:f,error:(s&&s.serializeError||aye)(d||"Rejected"),meta:{...m||{},arg:l,requestId:u,rejectedWithValue:!!f,requestStatus:"rejected",aborted:d?.name==="AbortError",condition:d?.name==="ConditionError"}}));function c(d,{signal:u}={}){return(l,f,m)=>{const p=s?.idGenerator?s.idGenerator(d):dZ(),x=new AbortController;let b,h;function y(S){h=S,x.abort()}u&&(u.aborted?y(oU):u.addEventListener("abort",()=>y(oU),{once:!0}));const w=(async function(){let S;try{let _=s?.condition?.(d,{getState:f,extra:m});if(iye(_)&&(_=await _),_===!1||x.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const k=new Promise((E,T)=>{b=()=>{T({name:"AbortError",message:h||"Aborted"})},x.signal.addEventListener("abort",b)});l(i(p,d,s?.getPendingMeta?.({requestId:p,arg:d},{getState:f,extra:m}))),S=await Promise.race([k,Promise.resolve(r(d,{dispatch:l,getState:f,extra:m,requestId:p,signal:x.signal,abort:y,rejectWithValue:(E,T)=>new GT(E,T),fulfillWithValue:(E,T)=>new iU(E,T)})).then(E=>{if(E instanceof GT)throw E;return E instanceof iU?a(E.payload,p,d,E.meta):a(E,p,d)})])}catch(_){S=_ instanceof GT?o(null,p,d,_.payload,_.meta):o(_,p,d)}finally{b&&x.signal.removeEventListener("abort",b)}return s&&!s.dispatchConditionRejection&&o.match(S)&&S.meta.condition||l(S),S})();return Object.assign(w,{abort:y,requestId:p,arg:d,unwrap(){return w.then(xa)}})}}return Object.assign(c,{pending:i,rejected:o,fulfilled:a,settled:rye(o,a),typePrefix:t})}return e.withTypes=()=>e,e})();function xa(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function iye(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var oye=Symbol.for("rtk-slice-createasyncthunk");function lye(e,t){return`${e}/${t}`}function cye({creators:e}={}){const t=e?.asyncThunk?.[oye];return function(s){const{name:a,reducerPath:i=a}=s;if(!a)throw new Error(Si(11));const o=(typeof s.reducers=="function"?s.reducers(uye()):s.reducers)||{},c=Object.keys(o),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(S,N){const _=typeof S=="string"?S:S.type;if(!_)throw new Error(Si(12));if(_ in d.sliceCaseReducersByType)throw new Error(Si(13));return d.sliceCaseReducersByType[_]=N,u},addMatcher(S,N){return d.sliceMatchers.push({matcher:S,reducer:N}),u},exposeAction(S,N){return d.actionCreators[S]=N,u},exposeCaseReducer(S,N){return d.sliceCaseReducersByName[S]=N,u}};c.forEach(S=>{const N=o[S],_={reducerName:S,type:lye(a,S),createNotation:typeof s.reducers=="function"};mye(N)?pye(_,N,u,t):fye(_,N,u)});function l(){const[S={},N=[],_=void 0]=typeof s.extraReducers=="function"?cZ(s.extraReducers):[s.extraReducers],k={...S,...d.sliceCaseReducersByType};return eye(s.initialState,E=>{for(let T in k)E.addCase(T,k[T]);for(let T of d.sliceMatchers)E.addMatcher(T.matcher,T.reducer);for(let T of N)E.addMatcher(T.matcher,T.reducer);_&&E.addDefaultCase(_)})}const f=S=>S,m=new Map,p=new WeakMap;let x;function b(S,N){return x||(x=l()),x(S,N)}function h(){return x||(x=l()),x.getInitialState()}function y(S,N=!1){function _(E){let T=E[S];return typeof T>"u"&&N&&(T=Vj(p,_,h)),T}function k(E=f){const T=Vj(m,N,()=>new WeakMap);return Vj(T,E,()=>{const D={};for(const[P,M]of Object.entries(s.selectors??{}))D[P]=dye(M,E,()=>Vj(p,E,h),N);return D})}return{reducerPath:S,getSelectors:k,get selectors(){return k(_)},selectSlice:_}}const w={name:a,reducer:b,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:h,...y(i),injectInto(S,{reducerPath:N,..._}={}){const k=N??i;return S.inject({reducerPath:k,reducer:b},_),{...w,...y(k,!0)}}};return w}}function dye(e,t,r,s){function a(i,...o){let c=t(i);return typeof c>"u"&&s&&(c=r()),e(c,...o)}return a.unwrapped=e,a}var Pt=cye();function uye(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function fye({type:e,reducerName:t,createNotation:r},s,a){let i,o;if("reducer"in s){if(r&&!hye(s))throw new Error(Si(17));i=s.reducer,o=s.prepare}else i=s;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?ka(e,o):ka(e))}function mye(e){return e._reducerDefinitionType==="asyncThunk"}function hye(e){return e._reducerDefinitionType==="reducerWithPrepare"}function pye({type:e,reducerName:t},r,s,a){if(!a)throw new Error(Si(18));const{payloadCreator:i,fulfilled:o,pending:c,rejected:d,settled:u,options:l}=r,f=a(e,i,l);s.exposeAction(t,f),o&&s.addCase(f.fulfilled,o),c&&s.addCase(f.pending,c),d&&s.addCase(f.rejected,d),u&&s.addMatcher(f.settled,u),s.exposeCaseReducer(t,{fulfilled:o||Wj,pending:c||Wj,rejected:d||Wj,settled:u||Wj})}function Wj(){}var gye="task",uZ="listener",fZ="completed",gI="cancelled",xye=`task-${gI}`,vye=`task-${fZ}`,z4=`${uZ}-${gI}`,yye=`${uZ}-${fZ}`,q_=class{constructor(e){this.code=e,this.message=`${gye} ${gI} (reason: ${e})`}name="TaskAbortError";message},xI=(e,t)=>{if(typeof e!="function")throw new TypeError(Si(32))},hC=()=>{},mZ=(e,t=hC)=>(e.catch(t),e),hZ=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),am=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},im=e=>{if(e.aborted){const{reason:t}=e;throw new q_(t)}};function pZ(e,t){let r=hC;return new Promise((s,a)=>{const i=()=>a(new q_(e.reason));if(e.aborted){i();return}r=hZ(e,i),t.finally(()=>r()).then(s,a)}).finally(()=>{r=hC})}var bye=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof q_?"cancelled":"rejected",error:r}}finally{t?.()}},pC=e=>t=>mZ(pZ(e,t).then(r=>(im(e),r))),gZ=e=>{const t=pC(e);return r=>t(new Promise(s=>setTimeout(s,r)))},{assign:Gp}=Object,lU={},G_="listenerMiddleware",wye=(e,t)=>{const r=s=>hZ(e,()=>am(s,e.reason));return(s,a)=>{xI(s);const i=new AbortController;r(i);const o=bye(async()=>{im(e),im(i.signal);const c=await s({pause:pC(i.signal),delay:gZ(i.signal),signal:i.signal});return im(i.signal),c},()=>am(i,vye));return a?.autoJoin&&t.push(o.catch(hC)),{result:pC(e)(o),cancel(){am(i,xye)}}}},jye=(e,t)=>{const r=async(s,a)=>{im(t);let i=()=>{};const c=[new Promise((d,u)=>{let l=e({predicate:s,effect:(f,m)=>{m.unsubscribe(),d([f,m.getState(),m.getOriginalState()])}});i=()=>{l(),u()}})];a!=null&&c.push(new Promise(d=>setTimeout(d,a,null)));try{const d=await pZ(t,Promise.race(c));return im(t),d}finally{i()}};return(s,a)=>mZ(r(s,a))},xZ=e=>{let{type:t,actionCreator:r,matcher:s,predicate:a,effect:i}=e;if(t)a=ka(t).match;else if(r)t=r.type,a=r.match;else if(s)a=s;else if(!a)throw new Error(Si(21));return xI(i),{predicate:a,type:t,effect:i}},vZ=Gp(e=>{const{type:t,predicate:r,effect:s}=xZ(e);return{id:dZ(),effect:s,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Si(22))}}},{withTypes:()=>vZ}),cU=(e,t)=>{const{type:r,effect:s,predicate:a}=xZ(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===s)},U4=e=>{e.pending.forEach(t=>{am(t,z4)})},Sye=e=>()=>{e.forEach(U4),e.clear()},dU=(e,t,r)=>{try{e(t,r)}catch(s){setTimeout(()=>{throw s},0)}},yZ=Gp(ka(`${G_}/add`),{withTypes:()=>yZ}),Nye=ka(`${G_}/removeAll`),bZ=Gp(ka(`${G_}/remove`),{withTypes:()=>bZ}),Cye=(...e)=>{console.error(`${G_}/error`,...e)},sb=(e={})=>{const t=new Map,{extra:r,onError:s=Cye}=e;xI(s);const a=l=>(l.unsubscribe=()=>t.delete(l.id),t.set(l.id,l),f=>{l.unsubscribe(),f?.cancelActive&&U4(l)}),i=l=>{const f=cU(t,l)??vZ(l);return a(f)};Gp(i,{withTypes:()=>i});const o=l=>{const f=cU(t,l);return f&&(f.unsubscribe(),l.cancelActive&&U4(f)),!!f};Gp(o,{withTypes:()=>o});const c=async(l,f,m,p)=>{const x=new AbortController,b=jye(i,x.signal),h=[];try{l.pending.add(x),await Promise.resolve(l.effect(f,Gp({},m,{getOriginalState:p,condition:(y,w)=>b(y,w).then(Boolean),take:b,delay:gZ(x.signal),pause:pC(x.signal),extra:r,signal:x.signal,fork:wye(x.signal,h),unsubscribe:l.unsubscribe,subscribe:()=>{t.set(l.id,l)},cancelActiveListeners:()=>{l.pending.forEach((y,w,S)=>{y!==x&&(am(y,z4),S.delete(y))})},cancel:()=>{am(x,z4),l.pending.delete(x)},throwIfCancelled:()=>{im(x.signal)}})))}catch(y){y instanceof q_||dU(s,y,{raisedBy:"effect"})}finally{await Promise.all(h),am(x,yye),l.pending.delete(x)}},d=Sye(t);return{middleware:l=>f=>m=>{if(!ZK(m))return f(m);if(yZ.match(m))return i(m.payload);if(Nye.match(m)){d();return}if(bZ.match(m))return o(m.payload);let p=l.getState();const x=()=>{if(p===lU)throw new Error(Si(23));return p};let b;try{if(b=f(m),t.size>0){const h=l.getState(),y=Array.from(t.values());for(const w of y){let S=!1;try{S=w.predicate(m,h,p)}catch(N){S=!1,dU(s,N,{raisedBy:"predicate"})}S&&c(w,m,l,x)}}}finally{p=lU}return b},startListening:i,stopListening:o,clearListeners:d}};function Si(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function wZ(e,t){return function(){return e.apply(t,arguments)}}const{toString:_ye}=Object.prototype,{getPrototypeOf:vI}=Object,{iterator:Y_,toStringTag:jZ}=Symbol,K_=(e=>t=>{const r=_ye.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Jo=e=>(e=e.toLowerCase(),t=>K_(t)===e),Z_=e=>t=>typeof t===e,{isArray:Ug}=Array,dg=Z_("undefined");function nb(e){return e!==null&&!dg(e)&&e.constructor!==null&&!dg(e.constructor)&&Ga(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const SZ=Jo("ArrayBuffer");function Eye(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&SZ(e.buffer),t}const kye=Z_("string"),Ga=Z_("function"),NZ=Z_("number"),ab=e=>e!==null&&typeof e=="object",Aye=e=>e===!0||e===!1,z1=e=>{if(K_(e)!=="object")return!1;const t=vI(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(jZ in e)&&!(Y_ in e)},Tye=e=>{if(!ab(e)||nb(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Dye=Jo("Date"),Pye=Jo("File"),Rye=Jo("Blob"),Mye=Jo("FileList"),Oye=e=>ab(e)&&Ga(e.pipe),Iye=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ga(e.append)&&((t=K_(e))==="formdata"||t==="object"&&Ga(e.toString)&&e.toString()==="[object FormData]"))},Fye=Jo("URLSearchParams"),[$ye,Lye,Bye,zye]=["ReadableStream","Request","Response","Headers"].map(Jo),Uye=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ib(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,a;if(typeof e!="object"&&(e=[e]),Ug(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{if(nb(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let c;for(s=0;s<o;s++)c=i[s],t.call(null,e[c],c,e)}}function CZ(e,t){if(nb(e))return null;t=t.toLowerCase();const r=Object.keys(e);let s=r.length,a;for(;s-- >0;)if(a=r[s],t===a.toLowerCase())return a;return null}const Yf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_Z=e=>!dg(e)&&e!==Yf;function H4(){const{caseless:e,skipUndefined:t}=_Z(this)&&this||{},r={},s=(a,i)=>{const o=e&&CZ(r,i)||i;z1(r[o])&&z1(a)?r[o]=H4(r[o],a):z1(a)?r[o]=H4({},a):Ug(a)?r[o]=a.slice():(!t||!dg(a))&&(r[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&ib(arguments[a],s);return r}const Hye=(e,t,r,{allOwnKeys:s}={})=>(ib(t,(a,i)=>{r&&Ga(a)?e[i]=wZ(a,r):e[i]=a},{allOwnKeys:s}),e),Vye=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Wye=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},qye=(e,t,r,s)=>{let a,i,o;const c={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!s||s(o,e,t))&&!c[o]&&(t[o]=e[o],c[o]=!0);e=r!==!1&&vI(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Gye=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},Yye=e=>{if(!e)return null;if(Ug(e))return e;let t=e.length;if(!NZ(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Kye=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&vI(Uint8Array)),Zye=(e,t)=>{const s=(e&&e[Y_]).call(e);let a;for(;(a=s.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},Xye=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},Jye=Jo("HTMLFormElement"),Qye=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,a){return s.toUpperCase()+a}),uU=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),ebe=Jo("RegExp"),EZ=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};ib(r,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(s[i]=o||a)}),Object.defineProperties(e,s)},tbe=e=>{EZ(e,(t,r)=>{if(Ga(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(Ga(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},rbe=(e,t)=>{const r={},s=a=>{a.forEach(i=>{r[i]=!0})};return Ug(e)?s(e):s(String(e).split(t)),r},sbe=()=>{},nbe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function abe(e){return!!(e&&Ga(e.append)&&e[jZ]==="FormData"&&e[Y_])}const ibe=e=>{const t=new Array(10),r=(s,a)=>{if(ab(s)){if(t.indexOf(s)>=0)return;if(nb(s))return s;if(!("toJSON"in s)){t[a]=s;const i=Ug(s)?[]:{};return ib(s,(o,c)=>{const d=r(o,a+1);!dg(d)&&(i[c]=d)}),t[a]=void 0,i}}return s};return r(e,0)},obe=Jo("AsyncFunction"),lbe=e=>e&&(ab(e)||Ga(e))&&Ga(e.then)&&Ga(e.catch),kZ=((e,t)=>e?setImmediate:t?((r,s)=>(Yf.addEventListener("message",({source:a,data:i})=>{a===Yf&&i===r&&s.length&&s.shift()()},!1),a=>{s.push(a),Yf.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ga(Yf.postMessage)),cbe=typeof queueMicrotask<"u"?queueMicrotask.bind(Yf):typeof process<"u"&&process.nextTick||kZ,dbe=e=>e!=null&&Ga(e[Y_]),Pe={isArray:Ug,isArrayBuffer:SZ,isBuffer:nb,isFormData:Iye,isArrayBufferView:Eye,isString:kye,isNumber:NZ,isBoolean:Aye,isObject:ab,isPlainObject:z1,isEmptyObject:Tye,isReadableStream:$ye,isRequest:Lye,isResponse:Bye,isHeaders:zye,isUndefined:dg,isDate:Dye,isFile:Pye,isBlob:Rye,isRegExp:ebe,isFunction:Ga,isStream:Oye,isURLSearchParams:Fye,isTypedArray:Kye,isFileList:Mye,forEach:ib,merge:H4,extend:Hye,trim:Uye,stripBOM:Vye,inherits:Wye,toFlatObject:qye,kindOf:K_,kindOfTest:Jo,endsWith:Gye,toArray:Yye,forEachEntry:Zye,matchAll:Xye,isHTMLForm:Jye,hasOwnProperty:uU,hasOwnProp:uU,reduceDescriptors:EZ,freezeMethods:tbe,toObjectSet:rbe,toCamelCase:Qye,noop:sbe,toFiniteNumber:nbe,findKey:CZ,global:Yf,isContextDefined:_Z,isSpecCompliantForm:abe,toJSONObject:ibe,isAsyncFn:obe,isThenable:lbe,setImmediate:kZ,asap:cbe,isIterable:dbe};function qt(e,t,r,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}Pe.inherits(qt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pe.toJSONObject(this.config),code:this.code,status:this.status}}});const AZ=qt.prototype,TZ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{TZ[e]={value:e}});Object.defineProperties(qt,TZ);Object.defineProperty(AZ,"isAxiosError",{value:!0});qt.from=(e,t,r,s,a,i)=>{const o=Object.create(AZ);Pe.toFlatObject(e,o,function(l){return l!==Error.prototype},u=>u!=="isAxiosError");const c=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return qt.call(o,c,d,r,s,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const ube=null;function V4(e){return Pe.isPlainObject(e)||Pe.isArray(e)}function DZ(e){return Pe.endsWith(e,"[]")?e.slice(0,-2):e}function fU(e,t,r){return e?e.concat(t).map(function(a,i){return a=DZ(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function fbe(e){return Pe.isArray(e)&&!e.some(V4)}const mbe=Pe.toFlatObject(Pe,{},null,function(t){return/^is[A-Z]/.test(t)});function X_(e,t,r){if(!Pe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Pe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,h){return!Pe.isUndefined(h[b])});const s=r.metaTokens,a=r.visitor||l,i=r.dots,o=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&Pe.isSpecCompliantForm(t);if(!Pe.isFunction(a))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(Pe.isDate(x))return x.toISOString();if(Pe.isBoolean(x))return x.toString();if(!d&&Pe.isBlob(x))throw new qt("Blob is not supported. Use a Buffer instead.");return Pe.isArrayBuffer(x)||Pe.isTypedArray(x)?d&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function l(x,b,h){let y=x;if(x&&!h&&typeof x=="object"){if(Pe.endsWith(b,"{}"))b=s?b:b.slice(0,-2),x=JSON.stringify(x);else if(Pe.isArray(x)&&fbe(x)||(Pe.isFileList(x)||Pe.endsWith(b,"[]"))&&(y=Pe.toArray(x)))return b=DZ(b),y.forEach(function(S,N){!(Pe.isUndefined(S)||S===null)&&t.append(o===!0?fU([b],N,i):o===null?b:b+"[]",u(S))}),!1}return V4(x)?!0:(t.append(fU(h,b,i),u(x)),!1)}const f=[],m=Object.assign(mbe,{defaultVisitor:l,convertValue:u,isVisitable:V4});function p(x,b){if(!Pe.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(x),Pe.forEach(x,function(y,w){(!(Pe.isUndefined(y)||y===null)&&a.call(t,y,Pe.isString(w)?w.trim():w,b,m))===!0&&p(y,b?b.concat(w):[w])}),f.pop()}}if(!Pe.isObject(e))throw new TypeError("data must be an object");return p(e),t}function mU(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function yI(e,t){this._pairs=[],e&&X_(e,this,t)}const PZ=yI.prototype;PZ.append=function(t,r){this._pairs.push([t,r])};PZ.toString=function(t){const r=t?function(s){return t.call(this,s,mU)}:mU;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function hbe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function RZ(e,t,r){if(!t)return e;const s=r&&r.encode||hbe;Pe.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=Pe.isURLSearchParams(t)?t.toString():new yI(t,r).toString(s),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class hU{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Pe.forEach(this.handlers,function(s){s!==null&&t(s)})}}const MZ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pbe=typeof URLSearchParams<"u"?URLSearchParams:yI,gbe=typeof FormData<"u"?FormData:null,xbe=typeof Blob<"u"?Blob:null,vbe={isBrowser:!0,classes:{URLSearchParams:pbe,FormData:gbe,Blob:xbe},protocols:["http","https","file","blob","url","data"]},bI=typeof window<"u"&&typeof document<"u",W4=typeof navigator=="object"&&navigator||void 0,ybe=bI&&(!W4||["ReactNative","NativeScript","NS"].indexOf(W4.product)<0),bbe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wbe=bI&&window.location.href||"http://localhost",jbe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bI,hasStandardBrowserEnv:ybe,hasStandardBrowserWebWorkerEnv:bbe,navigator:W4,origin:wbe},Symbol.toStringTag,{value:"Module"})),va={...jbe,...vbe};function Sbe(e,t){return X_(e,new va.classes.URLSearchParams,{visitor:function(r,s,a,i){return va.isNode&&Pe.isBuffer(r)?(this.append(s,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Nbe(e){return Pe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Cbe(e){const t={},r=Object.keys(e);let s;const a=r.length;let i;for(s=0;s<a;s++)i=r[s],t[i]=e[i];return t}function OZ(e){function t(r,s,a,i){let o=r[i++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),d=i>=r.length;return o=!o&&Pe.isArray(a)?a.length:o,d?(Pe.hasOwnProp(a,o)?a[o]=[a[o],s]:a[o]=s,!c):((!a[o]||!Pe.isObject(a[o]))&&(a[o]=[]),t(r,s,a[o],i)&&Pe.isArray(a[o])&&(a[o]=Cbe(a[o])),!c)}if(Pe.isFormData(e)&&Pe.isFunction(e.entries)){const r={};return Pe.forEachEntry(e,(s,a)=>{t(Nbe(s),a,r,0)}),r}return null}function _be(e,t,r){if(Pe.isString(e))try{return(t||JSON.parse)(e),Pe.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const ob={transitional:MZ,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",a=s.indexOf("application/json")>-1,i=Pe.isObject(t);if(i&&Pe.isHTMLForm(t)&&(t=new FormData(t)),Pe.isFormData(t))return a?JSON.stringify(OZ(t)):t;if(Pe.isArrayBuffer(t)||Pe.isBuffer(t)||Pe.isStream(t)||Pe.isFile(t)||Pe.isBlob(t)||Pe.isReadableStream(t))return t;if(Pe.isArrayBufferView(t))return t.buffer;if(Pe.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Sbe(t,this.formSerializer).toString();if((c=Pe.isFileList(t))||s.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return X_(c?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),_be(t)):t}],transformResponse:[function(t){const r=this.transitional||ob.transitional,s=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Pe.isResponse(t)||Pe.isReadableStream(t))return t;if(t&&Pe.isString(t)&&(s&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(c){if(o)throw c.name==="SyntaxError"?qt.from(c,qt.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:va.classes.FormData,Blob:va.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pe.forEach(["delete","get","head","post","put","patch"],e=>{ob.headers[e]={}});const Ebe=Pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kbe=e=>{const t={};let r,s,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),s=o.substring(a+1).trim(),!(!r||t[r]&&Ebe[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},pU=Symbol("internals");function Ov(e){return e&&String(e).trim().toLowerCase()}function U1(e){return e===!1||e==null?e:Pe.isArray(e)?e.map(U1):String(e)}function Abe(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const Tbe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function YT(e,t,r,s,a){if(Pe.isFunction(s))return s.call(this,t,r);if(a&&(t=r),!!Pe.isString(t)){if(Pe.isString(s))return t.indexOf(s)!==-1;if(Pe.isRegExp(s))return s.test(t)}}function Dbe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function Pbe(e,t){const r=Pe.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(a,i,o){return this[s].call(this,t,a,i,o)},configurable:!0})})}let Ya=class{constructor(t){t&&this.set(t)}set(t,r,s){const a=this;function i(c,d,u){const l=Ov(d);if(!l)throw new Error("header name must be a non-empty string");const f=Pe.findKey(a,l);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||d]=U1(c))}const o=(c,d)=>Pe.forEach(c,(u,l)=>i(u,l,d));if(Pe.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(Pe.isString(t)&&(t=t.trim())&&!Tbe(t))o(kbe(t),r);else if(Pe.isObject(t)&&Pe.isIterable(t)){let c={},d,u;for(const l of t){if(!Pe.isArray(l))throw TypeError("Object iterator must return a key-value pair");c[u=l[0]]=(d=c[u])?Pe.isArray(d)?[...d,l[1]]:[d,l[1]]:l[1]}o(c,r)}else t!=null&&i(r,t,s);return this}get(t,r){if(t=Ov(t),t){const s=Pe.findKey(this,t);if(s){const a=this[s];if(!r)return a;if(r===!0)return Abe(a);if(Pe.isFunction(r))return r.call(this,a,s);if(Pe.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Ov(t),t){const s=Pe.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||YT(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let a=!1;function i(o){if(o=Ov(o),o){const c=Pe.findKey(s,o);c&&(!r||YT(s,s[c],c,r))&&(delete s[c],a=!0)}}return Pe.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let s=r.length,a=!1;for(;s--;){const i=r[s];(!t||YT(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,s={};return Pe.forEach(this,(a,i)=>{const o=Pe.findKey(s,i);if(o){r[o]=U1(a),delete r[i];return}const c=t?Dbe(i):String(i).trim();c!==i&&delete r[i],r[c]=U1(a),s[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Pe.forEach(this,(s,a)=>{s!=null&&s!==!1&&(r[a]=t&&Pe.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(a=>s.set(a)),s}static accessor(t){const s=(this[pU]=this[pU]={accessors:{}}).accessors,a=this.prototype;function i(o){const c=Ov(o);s[c]||(Pbe(a,o),s[c]=!0)}return Pe.isArray(t)?t.forEach(i):i(t),this}};Ya.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Pe.reduceDescriptors(Ya.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});Pe.freezeMethods(Ya);function KT(e,t){const r=this||ob,s=t||r,a=Ya.from(s.headers);let i=s.data;return Pe.forEach(e,function(c){i=c.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function IZ(e){return!!(e&&e.__CANCEL__)}function Hg(e,t,r){qt.call(this,e??"canceled",qt.ERR_CANCELED,t,r),this.name="CanceledError"}Pe.inherits(Hg,qt,{__CANCEL__:!0});function FZ(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new qt("Request failed with status code "+r.status,[qt.ERR_BAD_REQUEST,qt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Rbe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Mbe(e,t){e=e||10;const r=new Array(e),s=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(d){const u=Date.now(),l=s[i];o||(o=u),r[a]=d,s[a]=u;let f=i,m=0;for(;f!==a;)m+=r[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-o<t)return;const p=l&&u-l;return p?Math.round(m*1e3/p):void 0}}function Obe(e,t){let r=0,s=1e3/t,a,i;const o=(u,l=Date.now())=>{r=l,a=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const l=Date.now(),f=l-r;f>=s?o(u,l):(a=u,i||(i=setTimeout(()=>{i=null,o(a)},s-f)))},()=>a&&o(a)]}const gC=(e,t,r=3)=>{let s=0;const a=Mbe(50,250);return Obe(i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,d=o-s,u=a(d),l=o<=c;s=o;const f={loaded:o,total:c,progress:c?o/c:void 0,bytes:d,rate:u||void 0,estimated:u&&c&&l?(c-o)/u:void 0,event:i,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(f)},r)},gU=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},xU=e=>(...t)=>Pe.asap(()=>e(...t)),Ibe=va.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,va.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(va.origin),va.navigator&&/(msie|trident)/i.test(va.navigator.userAgent)):()=>!0,Fbe=va.hasStandardBrowserEnv?{write(e,t,r,s,a,i,o){if(typeof document>"u")return;const c=[`${e}=${encodeURIComponent(t)}`];Pe.isNumber(r)&&c.push(`expires=${new Date(r).toUTCString()}`),Pe.isString(s)&&c.push(`path=${s}`),Pe.isString(a)&&c.push(`domain=${a}`),i===!0&&c.push("secure"),Pe.isString(o)&&c.push(`SameSite=${o}`),document.cookie=c.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function $be(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Lbe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function $Z(e,t,r){let s=!$be(t);return e&&(s||r==!1)?Lbe(e,t):t}const vU=e=>e instanceof Ya?{...e}:e;function Nm(e,t){t=t||{};const r={};function s(u,l,f,m){return Pe.isPlainObject(u)&&Pe.isPlainObject(l)?Pe.merge.call({caseless:m},u,l):Pe.isPlainObject(l)?Pe.merge({},l):Pe.isArray(l)?l.slice():l}function a(u,l,f,m){if(Pe.isUndefined(l)){if(!Pe.isUndefined(u))return s(void 0,u,f,m)}else return s(u,l,f,m)}function i(u,l){if(!Pe.isUndefined(l))return s(void 0,l)}function o(u,l){if(Pe.isUndefined(l)){if(!Pe.isUndefined(u))return s(void 0,u)}else return s(void 0,l)}function c(u,l,f){if(f in t)return s(u,l);if(f in e)return s(void 0,u)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(u,l,f)=>a(vU(u),vU(l),f,!0)};return Pe.forEach(Object.keys({...e,...t}),function(l){const f=d[l]||a,m=f(e[l],t[l],l);Pe.isUndefined(m)&&f!==c||(r[l]=m)}),r}const LZ=e=>{const t=Nm({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:c}=t;if(t.headers=o=Ya.from(o),t.url=RZ($Z(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),Pe.isFormData(r)){if(va.hasStandardBrowserEnv||va.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Pe.isFunction(r.getHeaders)){const d=r.getHeaders(),u=["content-type","content-length"];Object.entries(d).forEach(([l,f])=>{u.includes(l.toLowerCase())&&o.set(l,f)})}}if(va.hasStandardBrowserEnv&&(s&&Pe.isFunction(s)&&(s=s(t)),s||s!==!1&&Ibe(t.url))){const d=a&&i&&Fbe.read(i);d&&o.set(a,d)}return t},Bbe=typeof XMLHttpRequest<"u",zbe=Bbe&&function(e){return new Promise(function(r,s){const a=LZ(e);let i=a.data;const o=Ya.from(a.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:u}=a,l,f,m,p,x;function b(){p&&p(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(l),a.signal&&a.signal.removeEventListener("abort",l)}let h=new XMLHttpRequest;h.open(a.method.toUpperCase(),a.url,!0),h.timeout=a.timeout;function y(){if(!h)return;const S=Ya.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),_={data:!c||c==="text"||c==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:S,config:e,request:h};FZ(function(E){r(E),b()},function(E){s(E),b()},_),h=null}"onloadend"in h?h.onloadend=y:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(y)},h.onabort=function(){h&&(s(new qt("Request aborted",qt.ECONNABORTED,e,h)),h=null)},h.onerror=function(N){const _=N&&N.message?N.message:"Network Error",k=new qt(_,qt.ERR_NETWORK,e,h);k.event=N||null,s(k),h=null},h.ontimeout=function(){let N=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const _=a.transitional||MZ;a.timeoutErrorMessage&&(N=a.timeoutErrorMessage),s(new qt(N,_.clarifyTimeoutError?qt.ETIMEDOUT:qt.ECONNABORTED,e,h)),h=null},i===void 0&&o.setContentType(null),"setRequestHeader"in h&&Pe.forEach(o.toJSON(),function(N,_){h.setRequestHeader(_,N)}),Pe.isUndefined(a.withCredentials)||(h.withCredentials=!!a.withCredentials),c&&c!=="json"&&(h.responseType=a.responseType),u&&([m,x]=gC(u,!0),h.addEventListener("progress",m)),d&&h.upload&&([f,p]=gC(d),h.upload.addEventListener("progress",f),h.upload.addEventListener("loadend",p)),(a.cancelToken||a.signal)&&(l=S=>{h&&(s(!S||S.type?new Hg(null,e,h):S),h.abort(),h=null)},a.cancelToken&&a.cancelToken.subscribe(l),a.signal&&(a.signal.aborted?l():a.signal.addEventListener("abort",l)));const w=Rbe(a.url);if(w&&va.protocols.indexOf(w)===-1){s(new qt("Unsupported protocol "+w+":",qt.ERR_BAD_REQUEST,e));return}h.send(i||null)})},Ube=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,a;const i=function(u){if(!a){a=!0,c();const l=u instanceof Error?u:this.reason;s.abort(l instanceof qt?l:new Hg(l instanceof Error?l.message:l))}};let o=t&&setTimeout(()=>{o=null,i(new qt(`timeout ${t} of ms exceeded`,qt.ETIMEDOUT))},t);const c=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:d}=s;return d.unsubscribe=()=>Pe.asap(c),d}},Hbe=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let s=0,a;for(;s<r;)a=s+t,yield e.slice(s,a),s=a},Vbe=async function*(e,t){for await(const r of Wbe(e))yield*Hbe(r,t)},Wbe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},yU=(e,t,r,s)=>{const a=Vbe(e,t);let i=0,o,c=d=>{o||(o=!0,s&&s(d))};return new ReadableStream({async pull(d){try{const{done:u,value:l}=await a.next();if(u){c(),d.close();return}let f=l.byteLength;if(r){let m=i+=f;r(m)}d.enqueue(new Uint8Array(l))}catch(u){throw c(u),u}},cancel(d){return c(d),a.return()}},{highWaterMark:2})},bU=64*1024,{isFunction:qj}=Pe,qbe=(({Request:e,Response:t})=>({Request:e,Response:t}))(Pe.global),{ReadableStream:wU,TextEncoder:jU}=Pe.global,SU=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Gbe=e=>{e=Pe.merge.call({skipUndefined:!0},qbe,e);const{fetch:t,Request:r,Response:s}=e,a=t?qj(t):typeof fetch=="function",i=qj(r),o=qj(s);if(!a)return!1;const c=a&&qj(wU),d=a&&(typeof jU=="function"?(x=>b=>x.encode(b))(new jU):async x=>new Uint8Array(await new r(x).arrayBuffer())),u=i&&c&&SU(()=>{let x=!1;const b=new r(va.origin,{body:new wU,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!b}),l=o&&c&&SU(()=>Pe.isReadableStream(new s("").body)),f={stream:l&&(x=>x.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!f[x]&&(f[x]=(b,h)=>{let y=b&&b[x];if(y)return y.call(b);throw new qt(`Response type '${x}' is not supported`,qt.ERR_NOT_SUPPORT,h)})});const m=async x=>{if(x==null)return 0;if(Pe.isBlob(x))return x.size;if(Pe.isSpecCompliantForm(x))return(await new r(va.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(Pe.isArrayBufferView(x)||Pe.isArrayBuffer(x))return x.byteLength;if(Pe.isURLSearchParams(x)&&(x=x+""),Pe.isString(x))return(await d(x)).byteLength},p=async(x,b)=>{const h=Pe.toFiniteNumber(x.getContentLength());return h??m(b)};return async x=>{let{url:b,method:h,data:y,signal:w,cancelToken:S,timeout:N,onDownloadProgress:_,onUploadProgress:k,responseType:E,headers:T,withCredentials:D="same-origin",fetchOptions:P}=LZ(x),M=t||fetch;E=E?(E+"").toLowerCase():"text";let R=Ube([w,S&&S.toAbortSignal()],N),B=null;const L=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let $;try{if(k&&u&&h!=="get"&&h!=="head"&&($=await p(T,y))!==0){let G=new r(b,{method:"POST",body:y,duplex:"half"}),U;if(Pe.isFormData(y)&&(U=G.headers.get("content-type"))&&T.setContentType(U),G.body){const[Y,K]=gU($,gC(xU(k)));y=yU(G.body,bU,Y,K)}}Pe.isString(D)||(D=D?"include":"omit");const I=i&&"credentials"in r.prototype,z={...P,signal:R,method:h.toUpperCase(),headers:T.normalize().toJSON(),body:y,duplex:"half",credentials:I?D:void 0};B=i&&new r(b,z);let H=await(i?M(B,P):M(b,z));const Z=l&&(E==="stream"||E==="response");if(l&&(_||Z&&L)){const G={};["status","statusText","headers"].forEach(re=>{G[re]=H[re]});const U=Pe.toFiniteNumber(H.headers.get("content-length")),[Y,K]=_&&gU(U,gC(xU(_),!0))||[];H=new s(yU(H.body,bU,Y,()=>{K&&K(),L&&L()}),G)}E=E||"text";let V=await f[Pe.findKey(f,E)||"text"](H,x);return!Z&&L&&L(),await new Promise((G,U)=>{FZ(G,U,{data:V,headers:Ya.from(H.headers),status:H.status,statusText:H.statusText,config:x,request:B})})}catch(I){throw L&&L(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new qt("Network Error",qt.ERR_NETWORK,x,B),{cause:I.cause||I}):qt.from(I,I&&I.code,x,B)}}},Ybe=new Map,BZ=e=>{let t=e&&e.env||{};const{fetch:r,Request:s,Response:a}=t,i=[s,a,r];let o=i.length,c=o,d,u,l=Ybe;for(;c--;)d=i[c],u=l.get(d),u===void 0&&l.set(d,u=c?new Map:Gbe(t)),l=u;return u};BZ();const wI={http:ube,xhr:zbe,fetch:{get:BZ}};Pe.forEach(wI,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const NU=e=>`- ${e}`,Kbe=e=>Pe.isFunction(e)||e===null||e===!1;function Zbe(e,t){e=Pe.isArray(e)?e:[e];const{length:r}=e;let s,a;const i={};for(let o=0;o<r;o++){s=e[o];let c;if(a=s,!Kbe(s)&&(a=wI[(c=String(s)).toLowerCase()],a===void 0))throw new qt(`Unknown adapter '${c}'`);if(a&&(Pe.isFunction(a)||(a=a.get(t))))break;i[c||"#"+o]=a}if(!a){const o=Object.entries(i).map(([d,u])=>`adapter ${d} `+(u===!1?"is not supported by the environment":"is not available in the build"));let c=r?o.length>1?`since :
`+o.map(NU).join(`
`):" "+NU(o[0]):"as no adapter specified";throw new qt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return a}const zZ={getAdapter:Zbe,adapters:wI};function ZT(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Hg(null,e)}function CU(e){return ZT(e),e.headers=Ya.from(e.headers),e.data=KT.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),zZ.getAdapter(e.adapter||ob.adapter,e)(e).then(function(s){return ZT(e),s.data=KT.call(e,e.transformResponse,s),s.headers=Ya.from(s.headers),s},function(s){return IZ(s)||(ZT(e),s&&s.response&&(s.response.data=KT.call(e,e.transformResponse,s.response),s.response.headers=Ya.from(s.response.headers))),Promise.reject(s)})}const UZ="1.13.2",J_={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{J_[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const _U={};J_.transitional=function(t,r,s){function a(i,o){return"[Axios v"+UZ+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,c)=>{if(t===!1)throw new qt(a(o," has been removed"+(r?" in "+r:"")),qt.ERR_DEPRECATED);return r&&!_U[o]&&(_U[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,c):!0}};J_.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Xbe(e,t,r){if(typeof e!="object")throw new qt("options must be an object",qt.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const i=s[a],o=t[i];if(o){const c=e[i],d=c===void 0||o(c,i,e);if(d!==!0)throw new qt("option "+i+" must be "+d,qt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new qt("Unknown option "+i,qt.ERR_BAD_OPTION)}}const H1={assertOptions:Xbe,validators:J_},gl=H1.validators;let om=class{constructor(t){this.defaults=t||{},this.interceptors={request:new hU,response:new hU}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Nm(this.defaults,r);const{transitional:s,paramsSerializer:a,headers:i}=r;s!==void 0&&H1.assertOptions(s,{silentJSONParsing:gl.transitional(gl.boolean),forcedJSONParsing:gl.transitional(gl.boolean),clarifyTimeoutError:gl.transitional(gl.boolean)},!1),a!=null&&(Pe.isFunction(a)?r.paramsSerializer={serialize:a}:H1.assertOptions(a,{encode:gl.function,serialize:gl.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),H1.assertOptions(r,{baseUrl:gl.spelling("baseURL"),withXsrfToken:gl.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&Pe.merge(i.common,i[r.method]);i&&Pe.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),r.headers=Ya.concat(o,i);const c=[];let d=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(d=d&&b.synchronous,c.unshift(b.fulfilled,b.rejected))});const u=[];this.interceptors.response.forEach(function(b){u.push(b.fulfilled,b.rejected)});let l,f=0,m;if(!d){const x=[CU.bind(this),void 0];for(x.unshift(...c),x.push(...u),m=x.length,l=Promise.resolve(r);f<m;)l=l.then(x[f++],x[f++]);return l}m=c.length;let p=r;for(;f<m;){const x=c[f++],b=c[f++];try{p=x(p)}catch(h){b.call(this,h);break}}try{l=CU.call(this,p)}catch(x){return Promise.reject(x)}for(f=0,m=u.length;f<m;)l=l.then(u[f++],u[f++]);return l}getUri(t){t=Nm(this.defaults,t);const r=$Z(t.baseURL,t.url,t.allowAbsoluteUrls);return RZ(r,t.params,t.paramsSerializer)}};Pe.forEach(["delete","get","head","options"],function(t){om.prototype[t]=function(r,s){return this.request(Nm(s||{},{method:t,url:r,data:(s||{}).data}))}});Pe.forEach(["post","put","patch"],function(t){function r(s){return function(i,o,c){return this.request(Nm(c||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}om.prototype[t]=r(),om.prototype[t+"Form"]=r(!0)});let Jbe=class HZ{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const s=this;this.promise.then(a=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](a);s._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(c=>{s.subscribe(c),i=c}).then(a);return o.cancel=function(){s.unsubscribe(i)},o},t(function(i,o,c){s.reason||(s.reason=new Hg(i,o,c),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new HZ(function(a){t=a}),cancel:t}}};function Qbe(e){return function(r){return e.apply(null,r)}}function ewe(e){return Pe.isObject(e)&&e.isAxiosError===!0}const q4={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(q4).forEach(([e,t])=>{q4[t]=e});function VZ(e){const t=new om(e),r=wZ(om.prototype.request,t);return Pe.extend(r,om.prototype,t,{allOwnKeys:!0}),Pe.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return VZ(Nm(e,a))},r}const ot=VZ(ob);ot.Axios=om;ot.CanceledError=Hg;ot.CancelToken=Jbe;ot.isCancel=IZ;ot.VERSION=UZ;ot.toFormData=X_;ot.AxiosError=qt;ot.Cancel=ot.CanceledError;ot.all=function(t){return Promise.all(t)};ot.spread=Qbe;ot.isAxiosError=ewe;ot.mergeConfig=Nm;ot.AxiosHeaders=Ya;ot.formToJSON=e=>OZ(Pe.isHTMLForm(e)?new FormData(e):e);ot.getAdapter=zZ.getAdapter;ot.HttpStatusCode=q4;ot.default=ot;const{Axios:W4t,AxiosError:q4t,CanceledError:G4t,isCancel:Y4t,CancelToken:K4t,VERSION:Z4t,all:X4t,Cancel:J4t,isAxiosError:F0,spread:Q4t,toFormData:eMt,AxiosHeaders:tMt,HttpStatusCode:rMt,formToJSON:sMt,getAdapter:nMt,mergeConfig:aMt}=ot;var V1={exports:{}};function twe(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var W1={exports:{}};const rwe={},swe=Object.freeze(Object.defineProperty({__proto__:null,default:rwe},Symbol.toStringTag,{value:"Module"})),nwe=zve(swe);var awe=W1.exports,EU;function cr(){return EU||(EU=1,(function(e,t){(function(r,s){e.exports=s()})(awe,function(){var r=r||(function(s,a){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof OT<"u"&&OT.crypto&&(i=OT.crypto),!i&&typeof twe=="function")try{i=nwe}catch{}var o=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},c=Object.create||(function(){function w(){}return function(S){var N;return w.prototype=S,N=new w,w.prototype=null,N}})(),d={},u=d.lib={},l=u.Base=(function(){return{extend:function(w){var S=c(this);return w&&S.mixIn(w),(!S.hasOwnProperty("init")||this.init===S.init)&&(S.init=function(){S.$super.init.apply(this,arguments)}),S.init.prototype=S,S.$super=this,S},create:function(){var w=this.extend();return w.init.apply(w,arguments),w},init:function(){},mixIn:function(w){for(var S in w)w.hasOwnProperty(S)&&(this[S]=w[S]);w.hasOwnProperty("toString")&&(this.toString=w.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),f=u.WordArray=l.extend({init:function(w,S){w=this.words=w||[],S!=a?this.sigBytes=S:this.sigBytes=w.length*4},toString:function(w){return(w||p).stringify(this)},concat:function(w){var S=this.words,N=w.words,_=this.sigBytes,k=w.sigBytes;if(this.clamp(),_%4)for(var E=0;E<k;E++){var T=N[E>>>2]>>>24-E%4*8&255;S[_+E>>>2]|=T<<24-(_+E)%4*8}else for(var D=0;D<k;D+=4)S[_+D>>>2]=N[D>>>2];return this.sigBytes+=k,this},clamp:function(){var w=this.words,S=this.sigBytes;w[S>>>2]&=4294967295<<32-S%4*8,w.length=s.ceil(S/4)},clone:function(){var w=l.clone.call(this);return w.words=this.words.slice(0),w},random:function(w){for(var S=[],N=0;N<w;N+=4)S.push(o());return new f.init(S,w)}}),m=d.enc={},p=m.Hex={stringify:function(w){for(var S=w.words,N=w.sigBytes,_=[],k=0;k<N;k++){var E=S[k>>>2]>>>24-k%4*8&255;_.push((E>>>4).toString(16)),_.push((E&15).toString(16))}return _.join("")},parse:function(w){for(var S=w.length,N=[],_=0;_<S;_+=2)N[_>>>3]|=parseInt(w.substr(_,2),16)<<24-_%8*4;return new f.init(N,S/2)}},x=m.Latin1={stringify:function(w){for(var S=w.words,N=w.sigBytes,_=[],k=0;k<N;k++){var E=S[k>>>2]>>>24-k%4*8&255;_.push(String.fromCharCode(E))}return _.join("")},parse:function(w){for(var S=w.length,N=[],_=0;_<S;_++)N[_>>>2]|=(w.charCodeAt(_)&255)<<24-_%4*8;return new f.init(N,S)}},b=m.Utf8={stringify:function(w){try{return decodeURIComponent(escape(x.stringify(w)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(w){return x.parse(unescape(encodeURIComponent(w)))}},h=u.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(w){typeof w=="string"&&(w=b.parse(w)),this._data.concat(w),this._nDataBytes+=w.sigBytes},_process:function(w){var S,N=this._data,_=N.words,k=N.sigBytes,E=this.blockSize,T=E*4,D=k/T;w?D=s.ceil(D):D=s.max((D|0)-this._minBufferSize,0);var P=D*E,M=s.min(P*4,k);if(P){for(var R=0;R<P;R+=E)this._doProcessBlock(_,R);S=_.splice(0,P),N.sigBytes-=M}return new f.init(S,M)},clone:function(){var w=l.clone.call(this);return w._data=this._data.clone(),w},_minBufferSize:0});u.Hasher=h.extend({cfg:l.extend(),init:function(w){this.cfg=this.cfg.extend(w),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(w){return this._append(w),this._process(),this},finalize:function(w){w&&this._append(w);var S=this._doFinalize();return S},blockSize:16,_createHelper:function(w){return function(S,N){return new w.init(N).finalize(S)}},_createHmacHelper:function(w){return function(S,N){return new y.HMAC.init(w,N).finalize(S)}}});var y=d.algo={};return d})(Math);return r})})(W1)),W1.exports}var q1={exports:{}},iwe=q1.exports,kU;function Q_(){return kU||(kU=1,(function(e,t){(function(r,s){e.exports=s(cr())})(iwe,function(r){return(function(s){var a=r,i=a.lib,o=i.Base,c=i.WordArray,d=a.x64={};d.Word=o.extend({init:function(u,l){this.high=u,this.low=l}}),d.WordArray=o.extend({init:function(u,l){u=this.words=u||[],l!=s?this.sigBytes=l:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,l=u.length,f=[],m=0;m<l;m++){var p=u[m];f.push(p.high),f.push(p.low)}return c.create(f,this.sigBytes)},clone:function(){for(var u=o.clone.call(this),l=u.words=this.words.slice(0),f=l.length,m=0;m<f;m++)l[m]=l[m].clone();return u}})})(),r})})(q1)),q1.exports}var G1={exports:{}},owe=G1.exports,AU;function lwe(){return AU||(AU=1,(function(e,t){(function(r,s){e.exports=s(cr())})(owe,function(r){return(function(){if(typeof ArrayBuffer=="function"){var s=r,a=s.lib,i=a.WordArray,o=i.init,c=i.init=function(d){if(d instanceof ArrayBuffer&&(d=new Uint8Array(d)),(d instanceof Int8Array||typeof Uint8ClampedArray<"u"&&d instanceof Uint8ClampedArray||d instanceof Int16Array||d instanceof Uint16Array||d instanceof Int32Array||d instanceof Uint32Array||d instanceof Float32Array||d instanceof Float64Array)&&(d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength)),d instanceof Uint8Array){for(var u=d.byteLength,l=[],f=0;f<u;f++)l[f>>>2]|=d[f]<<24-f%4*8;o.call(this,l,u)}else o.apply(this,arguments)};c.prototype=i}})(),r.lib.WordArray})})(G1)),G1.exports}var Y1={exports:{}},cwe=Y1.exports,TU;function dwe(){return TU||(TU=1,(function(e,t){(function(r,s){e.exports=s(cr())})(cwe,function(r){return(function(){var s=r,a=s.lib,i=a.WordArray,o=s.enc;o.Utf16=o.Utf16BE={stringify:function(d){for(var u=d.words,l=d.sigBytes,f=[],m=0;m<l;m+=2){var p=u[m>>>2]>>>16-m%4*8&65535;f.push(String.fromCharCode(p))}return f.join("")},parse:function(d){for(var u=d.length,l=[],f=0;f<u;f++)l[f>>>1]|=d.charCodeAt(f)<<16-f%2*16;return i.create(l,u*2)}},o.Utf16LE={stringify:function(d){for(var u=d.words,l=d.sigBytes,f=[],m=0;m<l;m+=2){var p=c(u[m>>>2]>>>16-m%4*8&65535);f.push(String.fromCharCode(p))}return f.join("")},parse:function(d){for(var u=d.length,l=[],f=0;f<u;f++)l[f>>>1]|=c(d.charCodeAt(f)<<16-f%2*16);return i.create(l,u*2)}};function c(d){return d<<8&4278255360|d>>>8&16711935}})(),r.enc.Utf16})})(Y1)),Y1.exports}var K1={exports:{}},uwe=K1.exports,DU;function Wm(){return DU||(DU=1,(function(e,t){(function(r,s){e.exports=s(cr())})(uwe,function(r){return(function(){var s=r,a=s.lib,i=a.WordArray,o=s.enc;o.Base64={stringify:function(d){var u=d.words,l=d.sigBytes,f=this._map;d.clamp();for(var m=[],p=0;p<l;p+=3)for(var x=u[p>>>2]>>>24-p%4*8&255,b=u[p+1>>>2]>>>24-(p+1)%4*8&255,h=u[p+2>>>2]>>>24-(p+2)%4*8&255,y=x<<16|b<<8|h,w=0;w<4&&p+w*.75<l;w++)m.push(f.charAt(y>>>6*(3-w)&63));var S=f.charAt(64);if(S)for(;m.length%4;)m.push(S);return m.join("")},parse:function(d){var u=d.length,l=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var m=0;m<l.length;m++)f[l.charCodeAt(m)]=m}var p=l.charAt(64);if(p){var x=d.indexOf(p);x!==-1&&(u=x)}return c(d,u,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function c(d,u,l){for(var f=[],m=0,p=0;p<u;p++)if(p%4){var x=l[d.charCodeAt(p-1)]<<p%4*2,b=l[d.charCodeAt(p)]>>>6-p%4*2,h=x|b;f[m>>>2]|=h<<24-m%4*8,m++}return i.create(f,m)}})(),r.enc.Base64})})(K1)),K1.exports}var Z1={exports:{}},fwe=Z1.exports,PU;function mwe(){return PU||(PU=1,(function(e,t){(function(r,s){e.exports=s(cr())})(fwe,function(r){return(function(){var s=r,a=s.lib,i=a.WordArray,o=s.enc;o.Base64url={stringify:function(d,u){u===void 0&&(u=!0);var l=d.words,f=d.sigBytes,m=u?this._safe_map:this._map;d.clamp();for(var p=[],x=0;x<f;x+=3)for(var b=l[x>>>2]>>>24-x%4*8&255,h=l[x+1>>>2]>>>24-(x+1)%4*8&255,y=l[x+2>>>2]>>>24-(x+2)%4*8&255,w=b<<16|h<<8|y,S=0;S<4&&x+S*.75<f;S++)p.push(m.charAt(w>>>6*(3-S)&63));var N=m.charAt(64);if(N)for(;p.length%4;)p.push(N);return p.join("")},parse:function(d,u){u===void 0&&(u=!0);var l=d.length,f=u?this._safe_map:this._map,m=this._reverseMap;if(!m){m=this._reverseMap=[];for(var p=0;p<f.length;p++)m[f.charCodeAt(p)]=p}var x=f.charAt(64);if(x){var b=d.indexOf(x);b!==-1&&(l=b)}return c(d,l,m)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function c(d,u,l){for(var f=[],m=0,p=0;p<u;p++)if(p%4){var x=l[d.charCodeAt(p-1)]<<p%4*2,b=l[d.charCodeAt(p)]>>>6-p%4*2,h=x|b;f[m>>>2]|=h<<24-m%4*8,m++}return i.create(f,m)}})(),r.enc.Base64url})})(Z1)),Z1.exports}var X1={exports:{}},hwe=X1.exports,RU;function qm(){return RU||(RU=1,(function(e,t){(function(r,s){e.exports=s(cr())})(hwe,function(r){return(function(s){var a=r,i=a.lib,o=i.WordArray,c=i.Hasher,d=a.algo,u=[];(function(){for(var b=0;b<64;b++)u[b]=s.abs(s.sin(b+1))*4294967296|0})();var l=d.MD5=c.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(b,h){for(var y=0;y<16;y++){var w=h+y,S=b[w];b[w]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}var N=this._hash.words,_=b[h+0],k=b[h+1],E=b[h+2],T=b[h+3],D=b[h+4],P=b[h+5],M=b[h+6],R=b[h+7],B=b[h+8],L=b[h+9],$=b[h+10],I=b[h+11],z=b[h+12],H=b[h+13],Z=b[h+14],V=b[h+15],G=N[0],U=N[1],Y=N[2],K=N[3];G=f(G,U,Y,K,_,7,u[0]),K=f(K,G,U,Y,k,12,u[1]),Y=f(Y,K,G,U,E,17,u[2]),U=f(U,Y,K,G,T,22,u[3]),G=f(G,U,Y,K,D,7,u[4]),K=f(K,G,U,Y,P,12,u[5]),Y=f(Y,K,G,U,M,17,u[6]),U=f(U,Y,K,G,R,22,u[7]),G=f(G,U,Y,K,B,7,u[8]),K=f(K,G,U,Y,L,12,u[9]),Y=f(Y,K,G,U,$,17,u[10]),U=f(U,Y,K,G,I,22,u[11]),G=f(G,U,Y,K,z,7,u[12]),K=f(K,G,U,Y,H,12,u[13]),Y=f(Y,K,G,U,Z,17,u[14]),U=f(U,Y,K,G,V,22,u[15]),G=m(G,U,Y,K,k,5,u[16]),K=m(K,G,U,Y,M,9,u[17]),Y=m(Y,K,G,U,I,14,u[18]),U=m(U,Y,K,G,_,20,u[19]),G=m(G,U,Y,K,P,5,u[20]),K=m(K,G,U,Y,$,9,u[21]),Y=m(Y,K,G,U,V,14,u[22]),U=m(U,Y,K,G,D,20,u[23]),G=m(G,U,Y,K,L,5,u[24]),K=m(K,G,U,Y,Z,9,u[25]),Y=m(Y,K,G,U,T,14,u[26]),U=m(U,Y,K,G,B,20,u[27]),G=m(G,U,Y,K,H,5,u[28]),K=m(K,G,U,Y,E,9,u[29]),Y=m(Y,K,G,U,R,14,u[30]),U=m(U,Y,K,G,z,20,u[31]),G=p(G,U,Y,K,P,4,u[32]),K=p(K,G,U,Y,B,11,u[33]),Y=p(Y,K,G,U,I,16,u[34]),U=p(U,Y,K,G,Z,23,u[35]),G=p(G,U,Y,K,k,4,u[36]),K=p(K,G,U,Y,D,11,u[37]),Y=p(Y,K,G,U,R,16,u[38]),U=p(U,Y,K,G,$,23,u[39]),G=p(G,U,Y,K,H,4,u[40]),K=p(K,G,U,Y,_,11,u[41]),Y=p(Y,K,G,U,T,16,u[42]),U=p(U,Y,K,G,M,23,u[43]),G=p(G,U,Y,K,L,4,u[44]),K=p(K,G,U,Y,z,11,u[45]),Y=p(Y,K,G,U,V,16,u[46]),U=p(U,Y,K,G,E,23,u[47]),G=x(G,U,Y,K,_,6,u[48]),K=x(K,G,U,Y,R,10,u[49]),Y=x(Y,K,G,U,Z,15,u[50]),U=x(U,Y,K,G,P,21,u[51]),G=x(G,U,Y,K,z,6,u[52]),K=x(K,G,U,Y,T,10,u[53]),Y=x(Y,K,G,U,$,15,u[54]),U=x(U,Y,K,G,k,21,u[55]),G=x(G,U,Y,K,B,6,u[56]),K=x(K,G,U,Y,V,10,u[57]),Y=x(Y,K,G,U,M,15,u[58]),U=x(U,Y,K,G,H,21,u[59]),G=x(G,U,Y,K,D,6,u[60]),K=x(K,G,U,Y,I,10,u[61]),Y=x(Y,K,G,U,E,15,u[62]),U=x(U,Y,K,G,L,21,u[63]),N[0]=N[0]+G|0,N[1]=N[1]+U|0,N[2]=N[2]+Y|0,N[3]=N[3]+K|0},_doFinalize:function(){var b=this._data,h=b.words,y=this._nDataBytes*8,w=b.sigBytes*8;h[w>>>5]|=128<<24-w%32;var S=s.floor(y/4294967296),N=y;h[(w+64>>>9<<4)+15]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,h[(w+64>>>9<<4)+14]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,b.sigBytes=(h.length+1)*4,this._process();for(var _=this._hash,k=_.words,E=0;E<4;E++){var T=k[E];k[E]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}return _},clone:function(){var b=c.clone.call(this);return b._hash=this._hash.clone(),b}});function f(b,h,y,w,S,N,_){var k=b+(h&y|~h&w)+S+_;return(k<<N|k>>>32-N)+h}function m(b,h,y,w,S,N,_){var k=b+(h&w|y&~w)+S+_;return(k<<N|k>>>32-N)+h}function p(b,h,y,w,S,N,_){var k=b+(h^y^w)+S+_;return(k<<N|k>>>32-N)+h}function x(b,h,y,w,S,N,_){var k=b+(y^(h|~w))+S+_;return(k<<N|k>>>32-N)+h}a.MD5=c._createHelper(l),a.HmacMD5=c._createHmacHelper(l)})(Math),r.MD5})})(X1)),X1.exports}var J1={exports:{}},pwe=J1.exports,MU;function WZ(){return MU||(MU=1,(function(e,t){(function(r,s){e.exports=s(cr())})(pwe,function(r){return(function(){var s=r,a=s.lib,i=a.WordArray,o=a.Hasher,c=s.algo,d=[],u=c.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(l,f){for(var m=this._hash.words,p=m[0],x=m[1],b=m[2],h=m[3],y=m[4],w=0;w<80;w++){if(w<16)d[w]=l[f+w]|0;else{var S=d[w-3]^d[w-8]^d[w-14]^d[w-16];d[w]=S<<1|S>>>31}var N=(p<<5|p>>>27)+y+d[w];w<20?N+=(x&b|~x&h)+1518500249:w<40?N+=(x^b^h)+1859775393:w<60?N+=(x&b|x&h|b&h)-1894007588:N+=(x^b^h)-899497514,y=h,h=b,b=x<<30|x>>>2,x=p,p=N}m[0]=m[0]+p|0,m[1]=m[1]+x|0,m[2]=m[2]+b|0,m[3]=m[3]+h|0,m[4]=m[4]+y|0},_doFinalize:function(){var l=this._data,f=l.words,m=this._nDataBytes*8,p=l.sigBytes*8;return f[p>>>5]|=128<<24-p%32,f[(p+64>>>9<<4)+14]=Math.floor(m/4294967296),f[(p+64>>>9<<4)+15]=m,l.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var l=o.clone.call(this);return l._hash=this._hash.clone(),l}});s.SHA1=o._createHelper(u),s.HmacSHA1=o._createHmacHelper(u)})(),r.SHA1})})(J1)),J1.exports}var Q1={exports:{}},gwe=Q1.exports,OU;function jI(){return OU||(OU=1,(function(e,t){(function(r,s){e.exports=s(cr())})(gwe,function(r){return(function(s){var a=r,i=a.lib,o=i.WordArray,c=i.Hasher,d=a.algo,u=[],l=[];(function(){function p(y){for(var w=s.sqrt(y),S=2;S<=w;S++)if(!(y%S))return!1;return!0}function x(y){return(y-(y|0))*4294967296|0}for(var b=2,h=0;h<64;)p(b)&&(h<8&&(u[h]=x(s.pow(b,1/2))),l[h]=x(s.pow(b,1/3)),h++),b++})();var f=[],m=d.SHA256=c.extend({_doReset:function(){this._hash=new o.init(u.slice(0))},_doProcessBlock:function(p,x){for(var b=this._hash.words,h=b[0],y=b[1],w=b[2],S=b[3],N=b[4],_=b[5],k=b[6],E=b[7],T=0;T<64;T++){if(T<16)f[T]=p[x+T]|0;else{var D=f[T-15],P=(D<<25|D>>>7)^(D<<14|D>>>18)^D>>>3,M=f[T-2],R=(M<<15|M>>>17)^(M<<13|M>>>19)^M>>>10;f[T]=P+f[T-7]+R+f[T-16]}var B=N&_^~N&k,L=h&y^h&w^y&w,$=(h<<30|h>>>2)^(h<<19|h>>>13)^(h<<10|h>>>22),I=(N<<26|N>>>6)^(N<<21|N>>>11)^(N<<7|N>>>25),z=E+I+B+l[T]+f[T],H=$+L;E=k,k=_,_=N,N=S+z|0,S=w,w=y,y=h,h=z+H|0}b[0]=b[0]+h|0,b[1]=b[1]+y|0,b[2]=b[2]+w|0,b[3]=b[3]+S|0,b[4]=b[4]+N|0,b[5]=b[5]+_|0,b[6]=b[6]+k|0,b[7]=b[7]+E|0},_doFinalize:function(){var p=this._data,x=p.words,b=this._nDataBytes*8,h=p.sigBytes*8;return x[h>>>5]|=128<<24-h%32,x[(h+64>>>9<<4)+14]=s.floor(b/4294967296),x[(h+64>>>9<<4)+15]=b,p.sigBytes=x.length*4,this._process(),this._hash},clone:function(){var p=c.clone.call(this);return p._hash=this._hash.clone(),p}});a.SHA256=c._createHelper(m),a.HmacSHA256=c._createHmacHelper(m)})(Math),r.SHA256})})(Q1)),Q1.exports}var eS={exports:{}},xwe=eS.exports,IU;function vwe(){return IU||(IU=1,(function(e,t){(function(r,s,a){e.exports=s(cr(),jI())})(xwe,function(r){return(function(){var s=r,a=s.lib,i=a.WordArray,o=s.algo,c=o.SHA256,d=o.SHA224=c.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=c._doFinalize.call(this);return u.sigBytes-=4,u}});s.SHA224=c._createHelper(d),s.HmacSHA224=c._createHmacHelper(d)})(),r.SHA224})})(eS)),eS.exports}var tS={exports:{}},ywe=tS.exports,FU;function qZ(){return FU||(FU=1,(function(e,t){(function(r,s,a){e.exports=s(cr(),Q_())})(ywe,function(r){return(function(){var s=r,a=s.lib,i=a.Hasher,o=s.x64,c=o.Word,d=o.WordArray,u=s.algo;function l(){return c.create.apply(c,arguments)}var f=[l(1116352408,3609767458),l(1899447441,602891725),l(3049323471,3964484399),l(3921009573,2173295548),l(961987163,4081628472),l(1508970993,3053834265),l(2453635748,2937671579),l(2870763221,3664609560),l(3624381080,2734883394),l(310598401,1164996542),l(607225278,1323610764),l(1426881987,3590304994),l(1925078388,4068182383),l(2162078206,991336113),l(2614888103,633803317),l(3248222580,3479774868),l(3835390401,2666613458),l(4022224774,944711139),l(264347078,2341262773),l(604807628,2007800933),l(770255983,1495990901),l(1249150122,1856431235),l(1555081692,3175218132),l(1996064986,2198950837),l(2554220882,3999719339),l(2821834349,766784016),l(2952996808,2566594879),l(3210313671,3203337956),l(3336571891,1034457026),l(3584528711,2466948901),l(113926993,3758326383),l(338241895,168717936),l(666307205,1188179964),l(773529912,1546045734),l(1294757372,1522805485),l(1396182291,2643833823),l(1695183700,2343527390),l(1986661051,1014477480),l(2177026350,1206759142),l(2456956037,344077627),l(2730485921,1290863460),l(2820302411,3158454273),l(3259730800,3505952657),l(3345764771,106217008),l(3516065817,3606008344),l(3600352804,1432725776),l(4094571909,1467031594),l(275423344,851169720),l(430227734,3100823752),l(506948616,1363258195),l(659060556,3750685593),l(883997877,3785050280),l(958139571,3318307427),l(1322822218,3812723403),l(1537002063,2003034995),l(1747873779,3602036899),l(1955562222,1575990012),l(2024104815,1125592928),l(2227730452,2716904306),l(2361852424,442776044),l(2428436474,593698344),l(2756734187,3733110249),l(3204031479,2999351573),l(3329325298,3815920427),l(3391569614,3928383900),l(3515267271,566280711),l(3940187606,3454069534),l(4118630271,4000239992),l(116418474,1914138554),l(174292421,2731055270),l(289380356,3203993006),l(460393269,320620315),l(685471733,587496836),l(852142971,1086792851),l(1017036298,365543100),l(1126000580,2618297676),l(1288033470,3409855158),l(1501505948,4234509866),l(1607167915,987167468),l(1816402316,1246189591)],m=[];(function(){for(var x=0;x<80;x++)m[x]=l()})();var p=u.SHA512=i.extend({_doReset:function(){this._hash=new d.init([new c.init(1779033703,4089235720),new c.init(3144134277,2227873595),new c.init(1013904242,4271175723),new c.init(2773480762,1595750129),new c.init(1359893119,2917565137),new c.init(2600822924,725511199),new c.init(528734635,4215389547),new c.init(1541459225,327033209)])},_doProcessBlock:function(x,b){for(var h=this._hash.words,y=h[0],w=h[1],S=h[2],N=h[3],_=h[4],k=h[5],E=h[6],T=h[7],D=y.high,P=y.low,M=w.high,R=w.low,B=S.high,L=S.low,$=N.high,I=N.low,z=_.high,H=_.low,Z=k.high,V=k.low,G=E.high,U=E.low,Y=T.high,K=T.low,re=D,he=P,me=M,de=R,ie=B,ve=L,_e=$,xe=I,Le=z,Ie=H,fe=Z,Ze=V,it=G,ge=U,He=Y,ee=K,le=0;le<80;le++){var ce,Ke,Xe=m[le];if(le<16)Ke=Xe.high=x[b+le*2]|0,ce=Xe.low=x[b+le*2+1]|0;else{var ye=m[le-15],Qe=ye.high,yt=ye.low,Bt=(Qe>>>1|yt<<31)^(Qe>>>8|yt<<24)^Qe>>>7,lr=(yt>>>1|Qe<<31)^(yt>>>8|Qe<<24)^(yt>>>7|Qe<<25),Ln=m[le-2],qs=Ln.high,Bn=Ln.low,Ia=(qs>>>19|Bn<<13)^(qs<<3|Bn>>>29)^qs>>>6,wa=(Bn>>>19|qs<<13)^(Bn<<3|qs>>>29)^(Bn>>>6|qs<<26),ea=m[le-7],ja=ea.high,ni=ea.low,It=m[le-16],Qt=It.high,Mt=It.low;ce=lr+ni,Ke=Bt+ja+(ce>>>0<lr>>>0?1:0),ce=ce+wa,Ke=Ke+Ia+(ce>>>0<wa>>>0?1:0),ce=ce+Mt,Ke=Ke+Qt+(ce>>>0<Mt>>>0?1:0),Xe.high=Ke,Xe.low=ce}var fr=Le&fe^~Le&it,us=Ie&Ze^~Ie&ge,er=re&me^re&ie^me&ie,zt=he&de^he&ve^de&ve,fs=(re>>>28|he<<4)^(re<<30|he>>>2)^(re<<25|he>>>7),ms=(he>>>28|re<<4)^(he<<30|re>>>2)^(he<<25|re>>>7),Fs=(Le>>>14|Ie<<18)^(Le>>>18|Ie<<14)^(Le<<23|Ie>>>9),ai=(Ie>>>14|Le<<18)^(Ie>>>18|Le<<14)^(Ie<<23|Le>>>9),Gs=f[le],$s=Gs.high,Ss=Gs.low,Kt=ee+ai,es=He+Fs+(Kt>>>0<ee>>>0?1:0),Kt=Kt+us,es=es+fr+(Kt>>>0<us>>>0?1:0),Kt=Kt+Ss,es=es+$s+(Kt>>>0<Ss>>>0?1:0),Kt=Kt+ce,es=es+Ke+(Kt>>>0<ce>>>0?1:0),ec=ms+zt,Oo=fs+er+(ec>>>0<ms>>>0?1:0);He=it,ee=ge,it=fe,ge=Ze,fe=Le,Ze=Ie,Ie=xe+Kt|0,Le=_e+es+(Ie>>>0<xe>>>0?1:0)|0,_e=ie,xe=ve,ie=me,ve=de,me=re,de=he,he=Kt+ec|0,re=es+Oo+(he>>>0<Kt>>>0?1:0)|0}P=y.low=P+he,y.high=D+re+(P>>>0<he>>>0?1:0),R=w.low=R+de,w.high=M+me+(R>>>0<de>>>0?1:0),L=S.low=L+ve,S.high=B+ie+(L>>>0<ve>>>0?1:0),I=N.low=I+xe,N.high=$+_e+(I>>>0<xe>>>0?1:0),H=_.low=H+Ie,_.high=z+Le+(H>>>0<Ie>>>0?1:0),V=k.low=V+Ze,k.high=Z+fe+(V>>>0<Ze>>>0?1:0),U=E.low=U+ge,E.high=G+it+(U>>>0<ge>>>0?1:0),K=T.low=K+ee,T.high=Y+He+(K>>>0<ee>>>0?1:0)},_doFinalize:function(){var x=this._data,b=x.words,h=this._nDataBytes*8,y=x.sigBytes*8;b[y>>>5]|=128<<24-y%32,b[(y+128>>>10<<5)+30]=Math.floor(h/4294967296),b[(y+128>>>10<<5)+31]=h,x.sigBytes=b.length*4,this._process();var w=this._hash.toX32();return w},clone:function(){var x=i.clone.call(this);return x._hash=this._hash.clone(),x},blockSize:1024/32});s.SHA512=i._createHelper(p),s.HmacSHA512=i._createHmacHelper(p)})(),r.SHA512})})(tS)),tS.exports}var rS={exports:{}},bwe=rS.exports,$U;function wwe(){return $U||($U=1,(function(e,t){(function(r,s,a){e.exports=s(cr(),Q_(),qZ())})(bwe,function(r){return(function(){var s=r,a=s.x64,i=a.Word,o=a.WordArray,c=s.algo,d=c.SHA512,u=c.SHA384=d.extend({_doReset:function(){this._hash=new o.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var l=d._doFinalize.call(this);return l.sigBytes-=16,l}});s.SHA384=d._createHelper(u),s.HmacSHA384=d._createHmacHelper(u)})(),r.SHA384})})(rS)),rS.exports}var sS={exports:{}},jwe=sS.exports,LU;function Swe(){return LU||(LU=1,(function(e,t){(function(r,s,a){e.exports=s(cr(),Q_())})(jwe,function(r){return(function(s){var a=r,i=a.lib,o=i.WordArray,c=i.Hasher,d=a.x64,u=d.Word,l=a.algo,f=[],m=[],p=[];(function(){for(var h=1,y=0,w=0;w<24;w++){f[h+5*y]=(w+1)*(w+2)/2%64;var S=y%5,N=(2*h+3*y)%5;h=S,y=N}for(var h=0;h<5;h++)for(var y=0;y<5;y++)m[h+5*y]=y+(2*h+3*y)%5*5;for(var _=1,k=0;k<24;k++){for(var E=0,T=0,D=0;D<7;D++){if(_&1){var P=(1<<D)-1;P<32?T^=1<<P:E^=1<<P-32}_&128?_=_<<1^113:_<<=1}p[k]=u.create(E,T)}})();var x=[];(function(){for(var h=0;h<25;h++)x[h]=u.create()})();var b=l.SHA3=c.extend({cfg:c.cfg.extend({outputLength:512}),_doReset:function(){for(var h=this._state=[],y=0;y<25;y++)h[y]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(h,y){for(var w=this._state,S=this.blockSize/2,N=0;N<S;N++){var _=h[y+2*N],k=h[y+2*N+1];_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360;var E=w[N];E.high^=k,E.low^=_}for(var T=0;T<24;T++){for(var D=0;D<5;D++){for(var P=0,M=0,R=0;R<5;R++){var E=w[D+5*R];P^=E.high,M^=E.low}var B=x[D];B.high=P,B.low=M}for(var D=0;D<5;D++)for(var L=x[(D+4)%5],$=x[(D+1)%5],I=$.high,z=$.low,P=L.high^(I<<1|z>>>31),M=L.low^(z<<1|I>>>31),R=0;R<5;R++){var E=w[D+5*R];E.high^=P,E.low^=M}for(var H=1;H<25;H++){var P,M,E=w[H],Z=E.high,V=E.low,G=f[H];G<32?(P=Z<<G|V>>>32-G,M=V<<G|Z>>>32-G):(P=V<<G-32|Z>>>64-G,M=Z<<G-32|V>>>64-G);var U=x[m[H]];U.high=P,U.low=M}var Y=x[0],K=w[0];Y.high=K.high,Y.low=K.low;for(var D=0;D<5;D++)for(var R=0;R<5;R++){var H=D+5*R,E=w[H],re=x[H],he=x[(D+1)%5+5*R],me=x[(D+2)%5+5*R];E.high=re.high^~he.high&me.high,E.low=re.low^~he.low&me.low}var E=w[0],de=p[T];E.high^=de.high,E.low^=de.low}},_doFinalize:function(){var h=this._data,y=h.words;this._nDataBytes*8;var w=h.sigBytes*8,S=this.blockSize*32;y[w>>>5]|=1<<24-w%32,y[(s.ceil((w+1)/S)*S>>>5)-1]|=128,h.sigBytes=y.length*4,this._process();for(var N=this._state,_=this.cfg.outputLength/8,k=_/8,E=[],T=0;T<k;T++){var D=N[T],P=D.high,M=D.low;P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,M=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,E.push(M),E.push(P)}return new o.init(E,_)},clone:function(){for(var h=c.clone.call(this),y=h._state=this._state.slice(0),w=0;w<25;w++)y[w]=y[w].clone();return h}});a.SHA3=c._createHelper(b),a.HmacSHA3=c._createHmacHelper(b)})(Math),r.SHA3})})(sS)),sS.exports}var nS={exports:{}},Nwe=nS.exports,BU;function Cwe(){return BU||(BU=1,(function(e,t){(function(r,s){e.exports=s(cr())})(Nwe,function(r){return(function(s){var a=r,i=a.lib,o=i.WordArray,c=i.Hasher,d=a.algo,u=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),m=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),p=o.create([0,1518500249,1859775393,2400959708,2840853838]),x=o.create([1352829926,1548603684,1836072691,2053994217,0]),b=d.RIPEMD160=c.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(k,E){for(var T=0;T<16;T++){var D=E+T,P=k[D];k[D]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360}var M=this._hash.words,R=p.words,B=x.words,L=u.words,$=l.words,I=f.words,z=m.words,H,Z,V,G,U,Y,K,re,he,me;Y=H=M[0],K=Z=M[1],re=V=M[2],he=G=M[3],me=U=M[4];for(var de,T=0;T<80;T+=1)de=H+k[E+L[T]]|0,T<16?de+=h(Z,V,G)+R[0]:T<32?de+=y(Z,V,G)+R[1]:T<48?de+=w(Z,V,G)+R[2]:T<64?de+=S(Z,V,G)+R[3]:de+=N(Z,V,G)+R[4],de=de|0,de=_(de,I[T]),de=de+U|0,H=U,U=G,G=_(V,10),V=Z,Z=de,de=Y+k[E+$[T]]|0,T<16?de+=N(K,re,he)+B[0]:T<32?de+=S(K,re,he)+B[1]:T<48?de+=w(K,re,he)+B[2]:T<64?de+=y(K,re,he)+B[3]:de+=h(K,re,he)+B[4],de=de|0,de=_(de,z[T]),de=de+me|0,Y=me,me=he,he=_(re,10),re=K,K=de;de=M[1]+V+he|0,M[1]=M[2]+G+me|0,M[2]=M[3]+U+Y|0,M[3]=M[4]+H+K|0,M[4]=M[0]+Z+re|0,M[0]=de},_doFinalize:function(){var k=this._data,E=k.words,T=this._nDataBytes*8,D=k.sigBytes*8;E[D>>>5]|=128<<24-D%32,E[(D+64>>>9<<4)+14]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,k.sigBytes=(E.length+1)*4,this._process();for(var P=this._hash,M=P.words,R=0;R<5;R++){var B=M[R];M[R]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360}return P},clone:function(){var k=c.clone.call(this);return k._hash=this._hash.clone(),k}});function h(k,E,T){return k^E^T}function y(k,E,T){return k&E|~k&T}function w(k,E,T){return(k|~E)^T}function S(k,E,T){return k&T|E&~T}function N(k,E,T){return k^(E|~T)}function _(k,E){return k<<E|k>>>32-E}a.RIPEMD160=c._createHelper(b),a.HmacRIPEMD160=c._createHmacHelper(b)})(),r.RIPEMD160})})(nS)),nS.exports}var aS={exports:{}},_we=aS.exports,zU;function SI(){return zU||(zU=1,(function(e,t){(function(r,s){e.exports=s(cr())})(_we,function(r){(function(){var s=r,a=s.lib,i=a.Base,o=s.enc,c=o.Utf8,d=s.algo;d.HMAC=i.extend({init:function(u,l){u=this._hasher=new u.init,typeof l=="string"&&(l=c.parse(l));var f=u.blockSize,m=f*4;l.sigBytes>m&&(l=u.finalize(l)),l.clamp();for(var p=this._oKey=l.clone(),x=this._iKey=l.clone(),b=p.words,h=x.words,y=0;y<f;y++)b[y]^=1549556828,h[y]^=909522486;p.sigBytes=x.sigBytes=m,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var l=this._hasher,f=l.finalize(u);l.reset();var m=l.finalize(this._oKey.clone().concat(f));return m}})})()})})(aS)),aS.exports}var iS={exports:{}},Ewe=iS.exports,UU;function kwe(){return UU||(UU=1,(function(e,t){(function(r,s,a){e.exports=s(cr(),jI(),SI())})(Ewe,function(r){return(function(){var s=r,a=s.lib,i=a.Base,o=a.WordArray,c=s.algo,d=c.SHA256,u=c.HMAC,l=c.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:d,iterations:25e4}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,m){for(var p=this.cfg,x=u.create(p.hasher,f),b=o.create(),h=o.create([1]),y=b.words,w=h.words,S=p.keySize,N=p.iterations;y.length<S;){var _=x.update(m).finalize(h);x.reset();for(var k=_.words,E=k.length,T=_,D=1;D<N;D++){T=x.finalize(T),x.reset();for(var P=T.words,M=0;M<E;M++)k[M]^=P[M]}b.concat(_),w[0]++}return b.sigBytes=S*4,b}});s.PBKDF2=function(f,m,p){return l.create(p).compute(f,m)}})(),r.PBKDF2})})(iS)),iS.exports}var oS={exports:{}},Awe=oS.exports,HU;function Mu(){return HU||(HU=1,(function(e,t){(function(r,s,a){e.exports=s(cr(),WZ(),SI())})(Awe,function(r){return(function(){var s=r,a=s.lib,i=a.Base,o=a.WordArray,c=s.algo,d=c.MD5,u=c.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:d,iterations:1}),init:function(l){this.cfg=this.cfg.extend(l)},compute:function(l,f){for(var m,p=this.cfg,x=p.hasher.create(),b=o.create(),h=b.words,y=p.keySize,w=p.iterations;h.length<y;){m&&x.update(m),m=x.update(l).finalize(f),x.reset();for(var S=1;S<w;S++)m=x.finalize(m),x.reset();b.concat(m)}return b.sigBytes=y*4,b}});s.EvpKDF=function(l,f,m){return u.create(m).compute(l,f)}})(),r.EvpKDF})})(oS)),oS.exports}var lS={exports:{}},Twe=lS.exports,VU;function Kn(){return VU||(VU=1,(function(e,t){(function(r,s,a){e.exports=s(cr(),Mu())})(Twe,function(r){r.lib.Cipher||(function(s){var a=r,i=a.lib,o=i.Base,c=i.WordArray,d=i.BufferedBlockAlgorithm,u=a.enc;u.Utf8;var l=u.Base64,f=a.algo,m=f.EvpKDF,p=i.Cipher=d.extend({cfg:o.extend(),createEncryptor:function(P,M){return this.create(this._ENC_XFORM_MODE,P,M)},createDecryptor:function(P,M){return this.create(this._DEC_XFORM_MODE,P,M)},init:function(P,M,R){this.cfg=this.cfg.extend(R),this._xformMode=P,this._key=M,this.reset()},reset:function(){d.reset.call(this),this._doReset()},process:function(P){return this._append(P),this._process()},finalize:function(P){P&&this._append(P);var M=this._doFinalize();return M},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function P(M){return typeof M=="string"?D:k}return function(M){return{encrypt:function(R,B,L){return P(B).encrypt(M,R,B,L)},decrypt:function(R,B,L){return P(B).decrypt(M,R,B,L)}}}})()});i.StreamCipher=p.extend({_doFinalize:function(){var P=this._process(!0);return P},blockSize:1});var x=a.mode={},b=i.BlockCipherMode=o.extend({createEncryptor:function(P,M){return this.Encryptor.create(P,M)},createDecryptor:function(P,M){return this.Decryptor.create(P,M)},init:function(P,M){this._cipher=P,this._iv=M}}),h=x.CBC=(function(){var P=b.extend();P.Encryptor=P.extend({processBlock:function(R,B){var L=this._cipher,$=L.blockSize;M.call(this,R,B,$),L.encryptBlock(R,B),this._prevBlock=R.slice(B,B+$)}}),P.Decryptor=P.extend({processBlock:function(R,B){var L=this._cipher,$=L.blockSize,I=R.slice(B,B+$);L.decryptBlock(R,B),M.call(this,R,B,$),this._prevBlock=I}});function M(R,B,L){var $,I=this._iv;I?($=I,this._iv=s):$=this._prevBlock;for(var z=0;z<L;z++)R[B+z]^=$[z]}return P})(),y=a.pad={},w=y.Pkcs7={pad:function(P,M){for(var R=M*4,B=R-P.sigBytes%R,L=B<<24|B<<16|B<<8|B,$=[],I=0;I<B;I+=4)$.push(L);var z=c.create($,B);P.concat(z)},unpad:function(P){var M=P.words[P.sigBytes-1>>>2]&255;P.sigBytes-=M}};i.BlockCipher=p.extend({cfg:p.cfg.extend({mode:h,padding:w}),reset:function(){var P;p.reset.call(this);var M=this.cfg,R=M.iv,B=M.mode;this._xformMode==this._ENC_XFORM_MODE?P=B.createEncryptor:(P=B.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==P?this._mode.init(this,R&&R.words):(this._mode=P.call(B,this,R&&R.words),this._mode.__creator=P)},_doProcessBlock:function(P,M){this._mode.processBlock(P,M)},_doFinalize:function(){var P,M=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(M.pad(this._data,this.blockSize),P=this._process(!0)):(P=this._process(!0),M.unpad(P)),P},blockSize:128/32});var S=i.CipherParams=o.extend({init:function(P){this.mixIn(P)},toString:function(P){return(P||this.formatter).stringify(this)}}),N=a.format={},_=N.OpenSSL={stringify:function(P){var M,R=P.ciphertext,B=P.salt;return B?M=c.create([1398893684,1701076831]).concat(B).concat(R):M=R,M.toString(l)},parse:function(P){var M,R=l.parse(P),B=R.words;return B[0]==1398893684&&B[1]==1701076831&&(M=c.create(B.slice(2,4)),B.splice(0,4),R.sigBytes-=16),S.create({ciphertext:R,salt:M})}},k=i.SerializableCipher=o.extend({cfg:o.extend({format:_}),encrypt:function(P,M,R,B){B=this.cfg.extend(B);var L=P.createEncryptor(R,B),$=L.finalize(M),I=L.cfg;return S.create({ciphertext:$,key:R,iv:I.iv,algorithm:P,mode:I.mode,padding:I.padding,blockSize:P.blockSize,formatter:B.format})},decrypt:function(P,M,R,B){B=this.cfg.extend(B),M=this._parse(M,B.format);var L=P.createDecryptor(R,B).finalize(M.ciphertext);return L},_parse:function(P,M){return typeof P=="string"?M.parse(P,this):P}}),E=a.kdf={},T=E.OpenSSL={execute:function(P,M,R,B,L){if(B||(B=c.random(64/8)),L)var $=m.create({keySize:M+R,hasher:L}).compute(P,B);else var $=m.create({keySize:M+R}).compute(P,B);var I=c.create($.words.slice(M),R*4);return $.sigBytes=M*4,S.create({key:$,iv:I,salt:B})}},D=i.PasswordBasedCipher=k.extend({cfg:k.cfg.extend({kdf:T}),encrypt:function(P,M,R,B){B=this.cfg.extend(B);var L=B.kdf.execute(R,P.keySize,P.ivSize,B.salt,B.hasher);B.iv=L.iv;var $=k.encrypt.call(this,P,M,L.key,B);return $.mixIn(L),$},decrypt:function(P,M,R,B){B=this.cfg.extend(B),M=this._parse(M,B.format);var L=B.kdf.execute(R,P.keySize,P.ivSize,M.salt,B.hasher);B.iv=L.iv;var $=k.decrypt.call(this,P,M,L.key,B);return $}})})()})})(lS)),lS.exports}var cS={exports:{}},Dwe=cS.exports,WU;function Pwe(){return WU||(WU=1,(function(e,t){(function(r,s,a){e.exports=s(cr(),Kn())})(Dwe,function(r){return r.mode.CFB=(function(){var s=r.lib.BlockCipherMode.extend();s.Encryptor=s.extend({processBlock:function(i,o){var c=this._cipher,d=c.blockSize;a.call(this,i,o,d,c),this._prevBlock=i.slice(o,o+d)}}),s.Decryptor=s.extend({processBlock:function(i,o){var c=this._cipher,d=c.blockSize,u=i.slice(o,o+d);a.call(this,i,o,d,c),this._prevBlock=u}});function a(i,o,c,d){var u,l=this._iv;l?(u=l.slice(0),this._iv=void 0):u=this._prevBlock,d.encryptBlock(u,0);for(var f=0;f<c;f++)i[o+f]^=u[f]}return s})(),r.mode.CFB})})(cS)),cS.exports}var dS={exports:{}},Rwe=dS.exports,qU;function Mwe(){return qU||(qU=1,(function(e,t){(function(r,s,a){e.exports=s(cr(),Kn())})(Rwe,function(r){return r.mode.CTR=(function(){var s=r.lib.BlockCipherMode.extend(),a=s.Encryptor=s.extend({processBlock:function(i,o){var c=this._cipher,d=c.blockSize,u=this._iv,l=this._counter;u&&(l=this._counter=u.slice(0),this._iv=void 0);var f=l.slice(0);c.encryptBlock(f,0),l[d-1]=l[d-1]+1|0;for(var m=0;m<d;m++)i[o+m]^=f[m]}});return s.Decryptor=a,s})(),r.mode.CTR})})(dS)),dS.exports}var uS={exports:{}},Owe=uS.exports,GU;function Iwe(){return GU||(GU=1,(function(e,t){(function(r,s,a){e.exports=s(cr(),Kn())})(Owe,function(r){return r.mode.CTRGladman=(function(){var s=r.lib.BlockCipherMode.extend();function a(c){if((c>>24&255)===255){var d=c>>16&255,u=c>>8&255,l=c&255;d===255?(d=0,u===255?(u=0,l===255?l=0:++l):++u):++d,c=0,c+=d<<16,c+=u<<8,c+=l}else c+=1<<24;return c}function i(c){return(c[0]=a(c[0]))===0&&(c[1]=a(c[1])),c}var o=s.Encryptor=s.extend({processBlock:function(c,d){var u=this._cipher,l=u.blockSize,f=this._iv,m=this._counter;f&&(m=this._counter=f.slice(0),this._iv=void 0),i(m);var p=m.slice(0);u.encryptBlock(p,0);for(var x=0;x<l;x++)c[d+x]^=p[x]}});return s.Decryptor=o,s})(),r.mode.CTRGladman})})(uS)),uS.exports}var fS={exports:{}},Fwe=fS.exports,YU;function $we(){return YU||(YU=1,(function(e,t){(function(r,s,a){e.exports=s(cr(),Kn())})(Fwe,function(r){return r.mode.OFB=(function(){var s=r.lib.BlockCipherMode.extend(),a=s.Encryptor=s.extend({processBlock:function(i,o){var c=this._cipher,d=c.blockSize,u=this._iv,l=this._keystream;u&&(l=this._keystream=u.slice(0),this._iv=void 0),c.encryptBlock(l,0);for(var f=0;f<d;f++)i[o+f]^=l[f]}});return s.Decryptor=a,s})(),r.mode.OFB})})(fS)),fS.exports}var mS={exports:{}},Lwe=mS.exports,KU;function Bwe(){return KU||(KU=1,(function(e,t){(function(r,s,a){e.exports=s(cr(),Kn())})(Lwe,function(r){return r.mode.ECB=(function(){var s=r.lib.BlockCipherMode.extend();return s.Encryptor=s.extend({processBlock:function(a,i){this._cipher.encryptBlock(a,i)}}),s.Decryptor=s.extend({processBlock:function(a,i){this._cipher.decryptBlock(a,i)}}),s})(),r.mode.ECB})})(mS)),mS.exports}var hS={exports:{}},zwe=hS.exports,ZU;function Uwe(){return ZU||(ZU=1,(function(e,t){(function(r,s,a){e.exports=s(cr(),Kn())})(zwe,function(r){return r.pad.AnsiX923={pad:function(s,a){var i=s.sigBytes,o=a*4,c=o-i%o,d=i+c-1;s.clamp(),s.words[d>>>2]|=c<<24-d%4*8,s.sigBytes+=c},unpad:function(s){var a=s.words[s.sigBytes-1>>>2]&255;s.sigBytes-=a}},r.pad.Ansix923})})(hS)),hS.exports}var pS={exports:{}},Hwe=pS.exports,XU;function Vwe(){return XU||(XU=1,(function(e,t){(function(r,s,a){e.exports=s(cr(),Kn())})(Hwe,function(r){return r.pad.Iso10126={pad:function(s,a){var i=a*4,o=i-s.sigBytes%i;s.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(s){var a=s.words[s.sigBytes-1>>>2]&255;s.sigBytes-=a}},r.pad.Iso10126})})(pS)),pS.exports}var gS={exports:{}},Wwe=gS.exports,JU;function qwe(){return JU||(JU=1,(function(e,t){(function(r,s,a){e.exports=s(cr(),Kn())})(Wwe,function(r){return r.pad.Iso97971={pad:function(s,a){s.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(s,a)},unpad:function(s){r.pad.ZeroPadding.unpad(s),s.sigBytes--}},r.pad.Iso97971})})(gS)),gS.exports}var xS={exports:{}},Gwe=xS.exports,QU;function Ywe(){return QU||(QU=1,(function(e,t){(function(r,s,a){e.exports=s(cr(),Kn())})(Gwe,function(r){return r.pad.ZeroPadding={pad:function(s,a){var i=a*4;s.clamp(),s.sigBytes+=i-(s.sigBytes%i||i)},unpad:function(s){for(var a=s.words,i=s.sigBytes-1,i=s.sigBytes-1;i>=0;i--)if(a[i>>>2]>>>24-i%4*8&255){s.sigBytes=i+1;break}}},r.pad.ZeroPadding})})(xS)),xS.exports}var vS={exports:{}},Kwe=vS.exports,e7;function Zwe(){return e7||(e7=1,(function(e,t){(function(r,s,a){e.exports=s(cr(),Kn())})(Kwe,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})})(vS)),vS.exports}var yS={exports:{}},Xwe=yS.exports,t7;function Jwe(){return t7||(t7=1,(function(e,t){(function(r,s,a){e.exports=s(cr(),Kn())})(Xwe,function(r){return(function(s){var a=r,i=a.lib,o=i.CipherParams,c=a.enc,d=c.Hex,u=a.format;u.Hex={stringify:function(l){return l.ciphertext.toString(d)},parse:function(l){var f=d.parse(l);return o.create({ciphertext:f})}}})(),r.format.Hex})})(yS)),yS.exports}var bS={exports:{}},Qwe=bS.exports,r7;function eje(){return r7||(r7=1,(function(e,t){(function(r,s,a){e.exports=s(cr(),Wm(),qm(),Mu(),Kn())})(Qwe,function(r){return(function(){var s=r,a=s.lib,i=a.BlockCipher,o=s.algo,c=[],d=[],u=[],l=[],f=[],m=[],p=[],x=[],b=[],h=[];(function(){for(var S=[],N=0;N<256;N++)N<128?S[N]=N<<1:S[N]=N<<1^283;for(var _=0,k=0,N=0;N<256;N++){var E=k^k<<1^k<<2^k<<3^k<<4;E=E>>>8^E&255^99,c[_]=E,d[E]=_;var T=S[_],D=S[T],P=S[D],M=S[E]*257^E*16843008;u[_]=M<<24|M>>>8,l[_]=M<<16|M>>>16,f[_]=M<<8|M>>>24,m[_]=M;var M=P*16843009^D*65537^T*257^_*16843008;p[E]=M<<24|M>>>8,x[E]=M<<16|M>>>16,b[E]=M<<8|M>>>24,h[E]=M,_?(_=T^S[S[S[P^T]]],k^=S[S[k]]):_=k=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],w=o.AES=i.extend({_doReset:function(){var S;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var N=this._keyPriorReset=this._key,_=N.words,k=N.sigBytes/4,E=this._nRounds=k+6,T=(E+1)*4,D=this._keySchedule=[],P=0;P<T;P++)P<k?D[P]=_[P]:(S=D[P-1],P%k?k>6&&P%k==4&&(S=c[S>>>24]<<24|c[S>>>16&255]<<16|c[S>>>8&255]<<8|c[S&255]):(S=S<<8|S>>>24,S=c[S>>>24]<<24|c[S>>>16&255]<<16|c[S>>>8&255]<<8|c[S&255],S^=y[P/k|0]<<24),D[P]=D[P-k]^S);for(var M=this._invKeySchedule=[],R=0;R<T;R++){var P=T-R;if(R%4)var S=D[P];else var S=D[P-4];R<4||P<=4?M[R]=S:M[R]=p[c[S>>>24]]^x[c[S>>>16&255]]^b[c[S>>>8&255]]^h[c[S&255]]}}},encryptBlock:function(S,N){this._doCryptBlock(S,N,this._keySchedule,u,l,f,m,c)},decryptBlock:function(S,N){var _=S[N+1];S[N+1]=S[N+3],S[N+3]=_,this._doCryptBlock(S,N,this._invKeySchedule,p,x,b,h,d);var _=S[N+1];S[N+1]=S[N+3],S[N+3]=_},_doCryptBlock:function(S,N,_,k,E,T,D,P){for(var M=this._nRounds,R=S[N]^_[0],B=S[N+1]^_[1],L=S[N+2]^_[2],$=S[N+3]^_[3],I=4,z=1;z<M;z++){var H=k[R>>>24]^E[B>>>16&255]^T[L>>>8&255]^D[$&255]^_[I++],Z=k[B>>>24]^E[L>>>16&255]^T[$>>>8&255]^D[R&255]^_[I++],V=k[L>>>24]^E[$>>>16&255]^T[R>>>8&255]^D[B&255]^_[I++],G=k[$>>>24]^E[R>>>16&255]^T[B>>>8&255]^D[L&255]^_[I++];R=H,B=Z,L=V,$=G}var H=(P[R>>>24]<<24|P[B>>>16&255]<<16|P[L>>>8&255]<<8|P[$&255])^_[I++],Z=(P[B>>>24]<<24|P[L>>>16&255]<<16|P[$>>>8&255]<<8|P[R&255])^_[I++],V=(P[L>>>24]<<24|P[$>>>16&255]<<16|P[R>>>8&255]<<8|P[B&255])^_[I++],G=(P[$>>>24]<<24|P[R>>>16&255]<<16|P[B>>>8&255]<<8|P[L&255])^_[I++];S[N]=H,S[N+1]=Z,S[N+2]=V,S[N+3]=G},keySize:256/32});s.AES=i._createHelper(w)})(),r.AES})})(bS)),bS.exports}var wS={exports:{}},tje=wS.exports,s7;function rje(){return s7||(s7=1,(function(e,t){(function(r,s,a){e.exports=s(cr(),Wm(),qm(),Mu(),Kn())})(tje,function(r){return(function(){var s=r,a=s.lib,i=a.WordArray,o=a.BlockCipher,c=s.algo,d=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],m=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],p=c.DES=o.extend({_doReset:function(){for(var y=this._key,w=y.words,S=[],N=0;N<56;N++){var _=d[N]-1;S[N]=w[_>>>5]>>>31-_%32&1}for(var k=this._subKeys=[],E=0;E<16;E++){for(var T=k[E]=[],D=l[E],N=0;N<24;N++)T[N/6|0]|=S[(u[N]-1+D)%28]<<31-N%6,T[4+(N/6|0)]|=S[28+(u[N+24]-1+D)%28]<<31-N%6;T[0]=T[0]<<1|T[0]>>>31;for(var N=1;N<7;N++)T[N]=T[N]>>>(N-1)*4+3;T[7]=T[7]<<5|T[7]>>>27}for(var P=this._invSubKeys=[],N=0;N<16;N++)P[N]=k[15-N]},encryptBlock:function(y,w){this._doCryptBlock(y,w,this._subKeys)},decryptBlock:function(y,w){this._doCryptBlock(y,w,this._invSubKeys)},_doCryptBlock:function(y,w,S){this._lBlock=y[w],this._rBlock=y[w+1],x.call(this,4,252645135),x.call(this,16,65535),b.call(this,2,858993459),b.call(this,8,16711935),x.call(this,1,1431655765);for(var N=0;N<16;N++){for(var _=S[N],k=this._lBlock,E=this._rBlock,T=0,D=0;D<8;D++)T|=f[D][((E^_[D])&m[D])>>>0];this._lBlock=E,this._rBlock=k^T}var P=this._lBlock;this._lBlock=this._rBlock,this._rBlock=P,x.call(this,1,1431655765),b.call(this,8,16711935),b.call(this,2,858993459),x.call(this,16,65535),x.call(this,4,252645135),y[w]=this._lBlock,y[w+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function x(y,w){var S=(this._lBlock>>>y^this._rBlock)&w;this._rBlock^=S,this._lBlock^=S<<y}function b(y,w){var S=(this._rBlock>>>y^this._lBlock)&w;this._lBlock^=S,this._rBlock^=S<<y}s.DES=o._createHelper(p);var h=c.TripleDES=o.extend({_doReset:function(){var y=this._key,w=y.words;if(w.length!==2&&w.length!==4&&w.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var S=w.slice(0,2),N=w.length<4?w.slice(0,2):w.slice(2,4),_=w.length<6?w.slice(0,2):w.slice(4,6);this._des1=p.createEncryptor(i.create(S)),this._des2=p.createEncryptor(i.create(N)),this._des3=p.createEncryptor(i.create(_))},encryptBlock:function(y,w){this._des1.encryptBlock(y,w),this._des2.decryptBlock(y,w),this._des3.encryptBlock(y,w)},decryptBlock:function(y,w){this._des3.decryptBlock(y,w),this._des2.encryptBlock(y,w),this._des1.decryptBlock(y,w)},keySize:192/32,ivSize:64/32,blockSize:64/32});s.TripleDES=o._createHelper(h)})(),r.TripleDES})})(wS)),wS.exports}var jS={exports:{}},sje=jS.exports,n7;function nje(){return n7||(n7=1,(function(e,t){(function(r,s,a){e.exports=s(cr(),Wm(),qm(),Mu(),Kn())})(sje,function(r){return(function(){var s=r,a=s.lib,i=a.StreamCipher,o=s.algo,c=o.RC4=i.extend({_doReset:function(){for(var l=this._key,f=l.words,m=l.sigBytes,p=this._S=[],x=0;x<256;x++)p[x]=x;for(var x=0,b=0;x<256;x++){var h=x%m,y=f[h>>>2]>>>24-h%4*8&255;b=(b+p[x]+y)%256;var w=p[x];p[x]=p[b],p[b]=w}this._i=this._j=0},_doProcessBlock:function(l,f){l[f]^=d.call(this)},keySize:256/32,ivSize:0});function d(){for(var l=this._S,f=this._i,m=this._j,p=0,x=0;x<4;x++){f=(f+1)%256,m=(m+l[f])%256;var b=l[f];l[f]=l[m],l[m]=b,p|=l[(l[f]+l[m])%256]<<24-x*8}return this._i=f,this._j=m,p}s.RC4=i._createHelper(c);var u=o.RC4Drop=c.extend({cfg:c.cfg.extend({drop:192}),_doReset:function(){c._doReset.call(this);for(var l=this.cfg.drop;l>0;l--)d.call(this)}});s.RC4Drop=i._createHelper(u)})(),r.RC4})})(jS)),jS.exports}var SS={exports:{}},aje=SS.exports,a7;function ije(){return a7||(a7=1,(function(e,t){(function(r,s,a){e.exports=s(cr(),Wm(),qm(),Mu(),Kn())})(aje,function(r){return(function(){var s=r,a=s.lib,i=a.StreamCipher,o=s.algo,c=[],d=[],u=[],l=o.Rabbit=i.extend({_doReset:function(){for(var m=this._key.words,p=this.cfg.iv,x=0;x<4;x++)m[x]=(m[x]<<8|m[x]>>>24)&16711935|(m[x]<<24|m[x]>>>8)&4278255360;var b=this._X=[m[0],m[3]<<16|m[2]>>>16,m[1],m[0]<<16|m[3]>>>16,m[2],m[1]<<16|m[0]>>>16,m[3],m[2]<<16|m[1]>>>16],h=this._C=[m[2]<<16|m[2]>>>16,m[0]&4294901760|m[1]&65535,m[3]<<16|m[3]>>>16,m[1]&4294901760|m[2]&65535,m[0]<<16|m[0]>>>16,m[2]&4294901760|m[3]&65535,m[1]<<16|m[1]>>>16,m[3]&4294901760|m[0]&65535];this._b=0;for(var x=0;x<4;x++)f.call(this);for(var x=0;x<8;x++)h[x]^=b[x+4&7];if(p){var y=p.words,w=y[0],S=y[1],N=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,_=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,k=N>>>16|_&4294901760,E=_<<16|N&65535;h[0]^=N,h[1]^=k,h[2]^=_,h[3]^=E,h[4]^=N,h[5]^=k,h[6]^=_,h[7]^=E;for(var x=0;x<4;x++)f.call(this)}},_doProcessBlock:function(m,p){var x=this._X;f.call(this),c[0]=x[0]^x[5]>>>16^x[3]<<16,c[1]=x[2]^x[7]>>>16^x[5]<<16,c[2]=x[4]^x[1]>>>16^x[7]<<16,c[3]=x[6]^x[3]>>>16^x[1]<<16;for(var b=0;b<4;b++)c[b]=(c[b]<<8|c[b]>>>24)&16711935|(c[b]<<24|c[b]>>>8)&4278255360,m[p+b]^=c[b]},blockSize:128/32,ivSize:64/32});function f(){for(var m=this._X,p=this._C,x=0;x<8;x++)d[x]=p[x];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<d[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<d[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<d[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<d[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<d[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<d[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<d[6]>>>0?1:0)|0,this._b=p[7]>>>0<d[7]>>>0?1:0;for(var x=0;x<8;x++){var b=m[x]+p[x],h=b&65535,y=b>>>16,w=((h*h>>>17)+h*y>>>15)+y*y,S=((b&4294901760)*b|0)+((b&65535)*b|0);u[x]=w^S}m[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,m[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,m[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,m[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,m[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,m[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,m[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,m[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}s.Rabbit=i._createHelper(l)})(),r.Rabbit})})(SS)),SS.exports}var NS={exports:{}},oje=NS.exports,i7;function lje(){return i7||(i7=1,(function(e,t){(function(r,s,a){e.exports=s(cr(),Wm(),qm(),Mu(),Kn())})(oje,function(r){return(function(){var s=r,a=s.lib,i=a.StreamCipher,o=s.algo,c=[],d=[],u=[],l=o.RabbitLegacy=i.extend({_doReset:function(){var m=this._key.words,p=this.cfg.iv,x=this._X=[m[0],m[3]<<16|m[2]>>>16,m[1],m[0]<<16|m[3]>>>16,m[2],m[1]<<16|m[0]>>>16,m[3],m[2]<<16|m[1]>>>16],b=this._C=[m[2]<<16|m[2]>>>16,m[0]&4294901760|m[1]&65535,m[3]<<16|m[3]>>>16,m[1]&4294901760|m[2]&65535,m[0]<<16|m[0]>>>16,m[2]&4294901760|m[3]&65535,m[1]<<16|m[1]>>>16,m[3]&4294901760|m[0]&65535];this._b=0;for(var h=0;h<4;h++)f.call(this);for(var h=0;h<8;h++)b[h]^=x[h+4&7];if(p){var y=p.words,w=y[0],S=y[1],N=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,_=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,k=N>>>16|_&4294901760,E=_<<16|N&65535;b[0]^=N,b[1]^=k,b[2]^=_,b[3]^=E,b[4]^=N,b[5]^=k,b[6]^=_,b[7]^=E;for(var h=0;h<4;h++)f.call(this)}},_doProcessBlock:function(m,p){var x=this._X;f.call(this),c[0]=x[0]^x[5]>>>16^x[3]<<16,c[1]=x[2]^x[7]>>>16^x[5]<<16,c[2]=x[4]^x[1]>>>16^x[7]<<16,c[3]=x[6]^x[3]>>>16^x[1]<<16;for(var b=0;b<4;b++)c[b]=(c[b]<<8|c[b]>>>24)&16711935|(c[b]<<24|c[b]>>>8)&4278255360,m[p+b]^=c[b]},blockSize:128/32,ivSize:64/32});function f(){for(var m=this._X,p=this._C,x=0;x<8;x++)d[x]=p[x];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<d[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<d[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<d[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<d[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<d[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<d[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<d[6]>>>0?1:0)|0,this._b=p[7]>>>0<d[7]>>>0?1:0;for(var x=0;x<8;x++){var b=m[x]+p[x],h=b&65535,y=b>>>16,w=((h*h>>>17)+h*y>>>15)+y*y,S=((b&4294901760)*b|0)+((b&65535)*b|0);u[x]=w^S}m[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,m[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,m[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,m[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,m[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,m[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,m[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,m[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}s.RabbitLegacy=i._createHelper(l)})(),r.RabbitLegacy})})(NS)),NS.exports}var CS={exports:{}},cje=CS.exports,o7;function dje(){return o7||(o7=1,(function(e,t){(function(r,s,a){e.exports=s(cr(),Wm(),qm(),Mu(),Kn())})(cje,function(r){return(function(){var s=r,a=s.lib,i=a.BlockCipher,o=s.algo;const c=16,d=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var l={pbox:[],sbox:[]};function f(h,y){let w=y>>24&255,S=y>>16&255,N=y>>8&255,_=y&255,k=h.sbox[0][w]+h.sbox[1][S];return k=k^h.sbox[2][N],k=k+h.sbox[3][_],k}function m(h,y,w){let S=y,N=w,_;for(let k=0;k<c;++k)S=S^h.pbox[k],N=f(h,S)^N,_=S,S=N,N=_;return _=S,S=N,N=_,N=N^h.pbox[c],S=S^h.pbox[c+1],{left:S,right:N}}function p(h,y,w){let S=y,N=w,_;for(let k=c+1;k>1;--k)S=S^h.pbox[k],N=f(h,S)^N,_=S,S=N,N=_;return _=S,S=N,N=_,N=N^h.pbox[1],S=S^h.pbox[0],{left:S,right:N}}function x(h,y,w){for(let E=0;E<4;E++){h.sbox[E]=[];for(let T=0;T<256;T++)h.sbox[E][T]=u[E][T]}let S=0;for(let E=0;E<c+2;E++)h.pbox[E]=d[E]^y[S],S++,S>=w&&(S=0);let N=0,_=0,k=0;for(let E=0;E<c+2;E+=2)k=m(h,N,_),N=k.left,_=k.right,h.pbox[E]=N,h.pbox[E+1]=_;for(let E=0;E<4;E++)for(let T=0;T<256;T+=2)k=m(h,N,_),N=k.left,_=k.right,h.sbox[E][T]=N,h.sbox[E][T+1]=_;return!0}var b=o.Blowfish=i.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var h=this._keyPriorReset=this._key,y=h.words,w=h.sigBytes/4;x(l,y,w)}},encryptBlock:function(h,y){var w=m(l,h[y],h[y+1]);h[y]=w.left,h[y+1]=w.right},decryptBlock:function(h,y){var w=p(l,h[y],h[y+1]);h[y]=w.left,h[y+1]=w.right},blockSize:64/32,keySize:128/32,ivSize:64/32});s.Blowfish=i._createHelper(b)})(),r.Blowfish})})(CS)),CS.exports}var uje=V1.exports,l7;function fje(){return l7||(l7=1,(function(e,t){(function(r,s,a){e.exports=s(cr(),Q_(),lwe(),dwe(),Wm(),mwe(),qm(),WZ(),jI(),vwe(),qZ(),wwe(),Swe(),Cwe(),SI(),kwe(),Mu(),Kn(),Pwe(),Mwe(),Iwe(),$we(),Bwe(),Uwe(),Vwe(),qwe(),Ywe(),Zwe(),Jwe(),eje(),rje(),nje(),ije(),lje(),dje())})(uje,function(r){return r})})(V1)),V1.exports}var mje=fje();const G4=Vi(mje),NI="auth_token_encrypted",GZ="something0924242457ioioyuyu!qq@@zmxncbvalskdjfhgqpwoeiruty019283",YZ=e=>{try{if(!e){xC();return}const t=G4.AES.encrypt(e,GZ).toString();localStorage.setItem(NI,t)}catch(t){console.error("Failed to save encrypted token:",t)}},vr=()=>{try{const e=localStorage.getItem(NI);if(!e)return null;const r=G4.AES.decrypt(e,GZ).toString(G4.enc.Utf8);return r||(xC(),null)}catch(e){return console.error("Failed to load encrypted token:",e),xC(),null}},xC=()=>{try{localStorage.removeItem(NI)}catch(e){console.error("Failed to clear token:",e)}},hje="https://auth.pnepizza.com/api/v1",Lf=ot.create({baseURL:hje,timeout:5e3,headers:{Accept:"application/json","Content-Type":"application/json"}}),pje=()=>{const t=Pr.getState().auth?.token;return t||vr()};Lf.interceptors.request.use(e=>{const t=pje();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));const Vg={login:async e=>await Lf.post("/auth/login",e),forgotPassword:async e=>await Lf.post("/auth/forgot-password",e),resetPassword:async e=>await Lf.post("/auth/reset-password",e),getUserProfile:async()=>await Lf.get("/auth/me"),refreshToken:async()=>await Lf.post("/auth/refresh-token"),logout:async()=>await Lf.post("/auth/logout")},c7=e=>e?.response?.status===401,lb=e=>{if(!e||!e.response)return e?.message?e.message:"Network error. Please check your connection.";const{status:t,data:r}=e.response;if(t===422&&r?.errors){const s=[];return Object.keys(r.errors).forEach(a=>{const i=r.errors[a];Array.isArray(i)?s.push(...i):typeof i=="string"&&s.push(i)}),s.length>0?s.length===1?s[0]:s.join(", "):r.message||"Invalid data provided"}return t===401?r?.message?r.message.includes("Invalid credentials")?"Invalid email or password":r.message.includes("verify your email")?"Please verify your email before logging in":r.message.includes("Unauthenticated")?"Your session has expired. Please login again":r.message:"Authentication required. Please login":t===400?r?.message?r.message.includes("Invalid or expired OTP")?"The verification code is invalid or has expired":r.message.includes("already been taken")?"This email address is already registered":r.message.includes("already verified")?"Your email is already verified":r.message:"Invalid request":t===403?r?.message||"You do not have permission to perform this action":t===404?r?.message||"The requested resource was not found":t===429?"Too many requests. Please try again later":t>=500?"Server error. Please try again later":r?.message?r.message:r?.error?r.error:"An unexpected error occurred"},gje=e=>{if(!e?.response?.data?.errors)return{};const{errors:t}=e.response.data,r={};return Object.keys(t).forEach(s=>{const a=t[s];Array.isArray(a)?r[s]=a:typeof a=="string"&&(r[s]=[a])}),r},CI="auth_permissions_and_roles",KZ=e=>{try{const t=JSON.stringify(e);localStorage.setItem(CI,t)}catch(t){console.error("Failed to save permissions and roles:",t)}},eE=()=>{try{const e=localStorage.getItem(CI);if(!e)return null;const t=JSON.parse(e);return!t||typeof t!="object"?(Y4(),null):t}catch(e){return console.error("Failed to load permissions and roles:",e),Y4(),null}},Y4=()=>{try{localStorage.removeItem(CI)}catch(e){console.error("Failed to clear permissions and roles:",e)}},_I=()=>{const e=eE();return!e||!e.global_roles?[]:e.global_roles.map(t=>t.name)},xje=()=>eE()?.stores||[],vje=e=>e?_I().includes(e):!1,yje=e=>{if(!e||e.length===0)return!1;const t=_I();return e.some(r=>t.includes(r))},bje=e=>{if(!e||e.length===0)return!1;const t=_I();return e.every(r=>t.includes(r))},d7=2,$0="authRetryCount",Gj={user:null,token:null,permissions:[],roles:[],isLoading:!1,error:null,isAuthenticated:!1,isInitialized:!1},XT=e=>{const t=e.all_permissions?.map(s=>s.name)||[],r=e.global_roles?.map(s=>s.name)||[];return{permissions:t,roles:r}},wje=(e,t)=>{YZ(t);const r={cached_at:new Date().toISOString(),expires_at:new Date(Date.now()+1800*1e3).toISOString(),all_permissions:e.all_permissions||[],global_roles:e.global_roles||[],global_permissions:e.global_permissions||[],roles_permissions:e.all_permissions||[],stores:e.stores||[],summary:e.summary};KZ(r)},_S=Me("auth/refreshToken",async(e,t)=>{try{const r=await Vg.refreshToken();if(r.data.success&&r.data.data?.token){const s=r.data.data.token;return YZ(s),localStorage.removeItem($0),s}return t.rejectWithValue("Failed to refresh token")}catch(r){return t.rejectWithValue(lb(r))}}),ES=Me("auth/login",async(e,t)=>{try{const r=await Vg.login(e);if(r.data.success&&r.data.data?.user&&r.data.data?.token){const s=r.data.data;return wje(s.user,s.token),s}return t.rejectWithValue(r.data.message||"Login failed")}catch(r){return t.rejectWithValue(lb(r))}}),kS=Me("auth/forgotPassword",async(e,t)=>{try{const r=await Vg.forgotPassword(e);return r.data.success?void 0:t.rejectWithValue(r.data.message||"Forgot password failed")}catch(r){return t.rejectWithValue(lb(r))}}),AS=Me("auth/resetPassword",async(e,t)=>{try{const r=await Vg.resetPassword(e);return r.data.success?void 0:t.rejectWithValue(r.data.message||"Reset password failed")}catch(r){return t.rejectWithValue(lb(r))}}),TS=Me("auth/getUserProfile",async(e,t)=>{let r=parseInt(localStorage.getItem($0)||"0");const s=async()=>{try{const a=await Vg.getUserProfile();if(a.data.success&&a.data.data?.user)return localStorage.removeItem($0),a.data.data.user;throw new Error("Failed to load profile")}catch(a){if(c7(a)&&r<d7){if(r++,localStorage.setItem($0,r.toString()),(await t.dispatch(_S())).meta.requestStatus==="fulfilled")return s();throw t.dispatch(Yp()),new Error("Session expired. Please login again.")}throw r>=d7&&c7(a)?(t.dispatch(Yp()),new Error("Session expired. Please login again.")):a}};try{return await s()}catch(a){return t.rejectWithValue(lb(a))}}),Yp=Me("auth/logout",async()=>{try{await Vg.logout()}catch{}xC(),Y4(),localStorage.removeItem($0)}),ZZ=Pt({name:"auth",initialState:Gj,reducers:{initializeAuth:e=>{const t=vr(),r=eE();if(t&&r&&(e.token=t,e.isAuthenticated=!0,r.all_permissions||r.global_roles)){e.user={id:0,name:"",email:"",email_verified_at:null,created_at:"",updated_at:"",global_roles:r.global_roles||[],global_permissions:r.global_permissions||[],all_permissions:r.all_permissions||[],stores:r.stores||[],summary:r.summary||{total_stores:0,total_roles:0,total_permissions:0,manageable_users_count:0}};const{permissions:s,roles:a}=XT(e.user);e.permissions=s,e.roles=a}e.isInitialized=!0},clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(ES.pending,t=>{t.isLoading=!0,t.error=null}).addCase(ES.fulfilled,(t,r)=>{t.isLoading=!1,t.error=null,t.user=r.payload.user,t.token=r.payload.token,t.isAuthenticated=!0;const{permissions:s,roles:a}=XT(r.payload.user);t.permissions=s,t.roles=a}).addCase(ES.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload??"Login failed",t.isAuthenticated=!1}).addCase(kS.pending,t=>{t.isLoading=!0,t.error=null}).addCase(kS.fulfilled,t=>{t.isLoading=!1,t.error=null}).addCase(kS.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload??"Forgot password failed"}).addCase(AS.pending,t=>{t.isLoading=!0,t.error=null}).addCase(AS.fulfilled,t=>{t.isLoading=!1,t.error=null}).addCase(AS.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload??"Reset password failed"}).addCase(TS.pending,t=>{t.isLoading=!0,t.error=null}).addCase(TS.fulfilled,(t,r)=>{t.isLoading=!1,t.error=null,t.user=r.payload,t.isAuthenticated=!0;const{permissions:s,roles:a}=XT(r.payload);t.permissions=s,t.roles=a;const i={cached_at:new Date().toISOString(),expires_at:new Date(Date.now()+1800*1e3).toISOString(),all_permissions:r.payload.all_permissions||[],global_roles:r.payload.global_roles||[],global_permissions:r.payload.global_permissions||[],roles_permissions:r.payload.all_permissions||[],stores:r.payload.stores||[],summary:r.payload.summary};KZ(i)}).addCase(TS.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload??"Failed to load profile"}).addCase(_S.pending,t=>{}).addCase(_S.fulfilled,(t,r)=>{t.token=r.payload,t.error=null}).addCase(_S.rejected,t=>{Object.assign(t,Gj)}).addCase(Yp.pending,t=>{t.isLoading=!0}).addCase(Yp.fulfilled,t=>{Object.assign(t,Gj)}).addCase(Yp.rejected,t=>{Object.assign(t,Gj)})}}),{initializeAuth:jje,clearError:Sje}=ZZ.actions,Nje=ZZ.reducer,Cje="https://auth.pnepizza.com/api/v1",vC=ot.create({baseURL:Cje,headers:{Accept:"application/json","Content-Type":"application/json"},timeout:5e3}),XZ=()=>{try{const t=Pr.getState().auth?.token;return t||vr()}catch(e){return console.error("Error retrieving auth token:",e),null}};vC.interceptors.request.use(e=>{const t=XZ();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));vC.interceptors.response.use(e=>e,e=>{const t=_je(e);return Promise.reject(t)});const _je=e=>{const t=e.response?.status,r=e.response?.data;switch(t){case 401:return{type:"UNAUTHORIZED",message:"Authentication failed. Please log in again.",statusCode:401};case 403:return{type:"UNAUTHORIZED",message:"You do not have permission to perform this action.",statusCode:403};case 422:const s=r?.errors;return{type:"VALIDATION_ERROR",message:(s?Object.values(s)[0]?.[0]:null)||r?.message||"Validation failed",statusCode:422};case 409:return{type:"PERMISSION_EXISTS",message:"A permission with this name already exists.",statusCode:409};case 500:case 502:case 503:return{type:"NETWORK_ERROR",message:"Server error. Please try again later.",statusCode:t};default:return{type:"UNKNOWN_ERROR",message:r?.message||e.message||"An unexpected error occurred",statusCode:t}}},Eje=e=>{const t=new URLSearchParams;e.page!==void 0&&t.append("page",e.page.toString()),e.per_page!==void 0&&t.append("per_page",e.per_page.toString()),e.search&&e.search.trim()&&t.append("search",e.search.trim());const r=t.toString();return r?`?${r}`:""};class kje{async getPermissions(t={}){try{const r=Eje(t),s=await vC.get(`/permissions${r}`);if(!s.data.success)throw new Error("API returned success: false");return s.data}catch(r){throw console.error("Failed to fetch permissions:",r),r}}async createPermission(t){try{if(!t.name?.trim())throw{type:"VALIDATION_ERROR",message:"Permission name is required",field:"name"};if(!t.guard_name?.trim())throw{type:"VALIDATION_ERROR",message:"Guard name is required",field:"guard_name"};const r=await vC.post("/permissions",{name:t.name.trim(),guard_name:t.guard_name.trim()});if(!r.data.success)throw new Error("API returned success: false");return r.data.data.permission}catch(r){throw console.error("Failed to create permission:",r),r}}async checkHealth(){try{return XZ()?(await this.getPermissions({per_page:1}),!0):!1}catch(t){return console.error("Health check failed:",t),!1}}async getPermissionsForSelect(){try{return(await this.getPermissions()).data.data.map(r=>({value:r.id,label:r.name,permission:r}))}catch(t){throw console.error("Failed to fetch permissions for select:",t),t}}async searchPermissions(t){try{return t.trim()?(await this.getPermissions({search:t.trim(),per_page:50})).data.data:(await this.getPermissions()).data.data}catch(r){throw console.error("Failed to search permissions:",r),r}}}const tE=new kje,{getPermissions:iMt,createPermission:oMt,checkHealth:lMt,getPermissionsForSelect:cMt,searchPermissions:dMt}=tE,u7={permissions:[],loading:!1,error:null,pagination:null,createLoading:!1,createError:null},L0=Me("permissions/fetchPermissions",async(e={},{rejectWithValue:t})=>{try{const r=await tE.getPermissions(e),s={currentPage:r.data.current_page,lastPage:r.data.last_page,perPage:r.data.per_page,total:r.data.total,from:r.data.from,to:r.data.to};return{permissions:r.data.data,pagination:s}}catch(r){return r&&typeof r=="object"&&"message"in r?t(r.message):t("Failed to fetch permissions. Please try again.")}}),DS=Me("permissions/createPermission",async(e,{rejectWithValue:t,dispatch:r})=>{try{const s=await tE.createPermission(e);return r(L0({per_page:15})),s}catch(s){return s&&typeof s=="object"&&"message"in s?t(s.message):t("Failed to create permission. Please try again.")}}),JT=Me("permissions/searchPermissions",async(e,{rejectWithValue:t})=>{try{return await tE.searchPermissions(e)}catch(r){return r&&typeof r=="object"&&"message"in r?t(r.message):t("Failed to search permissions. Please try again.")}}),JZ=Pt({name:"permissions",initialState:u7,reducers:{clearErrors:e=>{e.error=null,e.createError=null},clearFetchError:e=>{e.error=null},clearCreateError:e=>{e.createError=null},resetPermissionsState:()=>u7,addPermissionOptimistic:(e,t)=>{e.permissions.unshift(t.payload),e.pagination&&(e.pagination.total+=1)},removePermissionOptimistic:(e,t)=>{e.permissions=e.permissions.filter(r=>r.id!==t.payload),e.pagination&&(e.pagination.total=Math.max(0,e.pagination.total-1))},updatePermission:(e,t)=>{const r=e.permissions.findIndex(s=>s.id===t.payload.id);r!==-1&&(e.permissions[r]=t.payload)},setLoading:(e,t)=>{e.loading=t.payload},setCreateLoading:(e,t)=>{e.createLoading=t.payload}},extraReducers:e=>{e.addCase(L0.pending,t=>{t.loading=!0,t.error=null}).addCase(L0.fulfilled,(t,r)=>{t.loading=!1,t.error=null,t.permissions=r.payload.permissions,t.pagination=r.payload.pagination}).addCase(L0.rejected,(t,r)=>{t.loading=!1,t.error=r.payload||"Failed to fetch permissions"}),e.addCase(DS.pending,t=>{t.createLoading=!0,t.createError=null}).addCase(DS.fulfilled,(t,r)=>{t.createLoading=!1,t.createError=null,t.permissions.findIndex(a=>a.id===r.payload.id)===-1&&(t.permissions.unshift(r.payload),t.pagination&&(t.pagination.total+=1))}).addCase(DS.rejected,(t,r)=>{t.createLoading=!1,t.createError=r.payload||"Failed to create permission"}),e.addCase(JT.pending,t=>{t.loading=!0,t.error=null}).addCase(JT.fulfilled,(t,r)=>{t.loading=!1,t.error=null,t.permissions=r.payload,t.pagination=null}).addCase(JT.rejected,(t,r)=>{t.loading=!1,t.error=r.payload||"Failed to search permissions"})}}),{clearErrors:uMt,clearFetchError:Aje,clearCreateError:Tje,resetPermissionsState:fMt,addPermissionOptimistic:Dje,removePermissionOptimistic:f7,updatePermission:mMt,setLoading:hMt,setCreateLoading:pMt}=JZ.actions,Pje=JZ.reducer,Rje=e=>e.permissions.permissions,Mje=e=>e.permissions.loading,Oje=e=>e.permissions.error,Ije=e=>e.permissions.pagination,Fje=e=>e.permissions.createLoading,$je=e=>e.permissions.createError,Lje=e=>e.permissions.permissions.length>0,Bje=e=>!e.permissions.loading&&e.permissions.permissions.length===0,zje=e=>e.permissions.pagination?.total??e.permissions.permissions.length,rE={WEB:"web",API:"api"},Xh={NAME_MIN_LENGTH:3,NAME_MAX_LENGTH:255,MAX_PERMISSIONS_PER_ROLE:50},Yj={GET_ALL:"/roles",CREATE:"/roles",GET_BY_ID:e=>`/roles/${e}`,UPDATE:e=>`/roles/${e}`,DELETE:e=>`/roles/${e}`,ASSIGN_PERMISSIONS:e=>`/roles/${e}/permissions/assign`,REVOKE_PERMISSIONS:e=>`/roles/${e}/permissions/revoke`},Uje="https://auth.pnepizza.com/api/v1",Pp=ot.create({baseURL:Uje,headers:{Accept:"application/json","Content-Type":"application/json"},timeout:5e3}),QZ=()=>{try{const t=Pr.getState().auth?.token;return t||vr()}catch(e){return console.error("Error retrieving auth token:",e),null}};Pp.interceptors.request.use(e=>{const t=QZ();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));Pp.interceptors.response.use(e=>e,e=>{const t=Hje(e);return Promise.reject(t)});const Hje=e=>{const t=e.response?.status,r=e.response?.data;switch(t){case 401:return{type:"UNAUTHORIZED",message:"Authentication failed. Please log in again.",statusCode:401};case 403:return{type:"UNAUTHORIZED",message:"You do not have permission to perform this action.",statusCode:403};case 404:return{type:"ROLE_NOT_FOUND",message:"The requested role was not found.",statusCode:404};case 422:const s=r?.errors;return s?.name?.includes("The name has already been taken.")?{type:"ROLE_EXISTS",message:"A role with this name already exists.",statusCode:422}:s?.permissions?{type:"PERMISSION_NOT_FOUND",message:"One or more selected permissions are invalid.",statusCode:422}:{type:"VALIDATION_ERROR",message:(s?Object.values(s)[0]?.[0]:null)||r?.message||"Validation failed",statusCode:422};case 500:case 502:case 503:return{type:"NETWORK_ERROR",message:"Server error. Please try again later.",statusCode:t};default:return{type:"UNKNOWN_ERROR",message:r?.message||e.message||"An unexpected error occurred",statusCode:t}}},Vje=e=>{const t=new URLSearchParams;e.page!==void 0&&t.append("page",e.page.toString()),e.per_page!==void 0&&t.append("per_page",e.per_page.toString()),e.search&&e.search.trim()&&t.append("search",e.search.trim());const r=t.toString();return r?`?${r}`:""};class Wje{async getRoles(t={}){try{const r=Vje(t),s=await Pp.get(`${Yj.GET_ALL}${r}`);if(!s.data.success)throw new Error("API returned success: false");return s.data}catch(r){throw console.error("Failed to fetch roles:",r),r}}async createRole(t){try{if(!t.name?.trim())throw{type:"VALIDATION_ERROR",message:"Role name is required",field:"name"};if(!t.guard_name?.trim())throw{type:"VALIDATION_ERROR",message:"Guard name is required",field:"guard_name"};if(!Array.isArray(t.permissions))throw{type:"VALIDATION_ERROR",message:"Permissions must be an array",field:"permissions"};const r=await Pp.post(Yj.CREATE,{name:t.name.trim(),guard_name:t.guard_name.trim(),permissions:t.permissions});if(!r.data.success)throw new Error("API returned success: false");return r.data.data.role}catch(r){throw console.error("Failed to create role:",r),r}}async assignPermissionsToRole(t,r){try{if(!t||t<=0)throw{type:"VALIDATION_ERROR",message:"Valid role ID is required",field:"roleId"};if(!Array.isArray(r))throw{type:"VALIDATION_ERROR",message:"Permissions must be an array",field:"permissions"};if(r.length===0)throw{type:"VALIDATION_ERROR",message:"At least one permission must be provided",field:"permissions"};const s={permissions:r.filter(i=>i.trim())},a=await Pp.post(Yj.ASSIGN_PERMISSIONS(t),s);if(!a.data.success)throw new Error("API returned success: false");return a.data.data.role}catch(s){throw console.error("Failed to assign permissions to role:",s),s}}async getRoleById(t){try{if(!t||t<=0)throw{type:"VALIDATION_ERROR",message:"Valid role ID is required",field:"roleId"};const r=await Pp.get(Yj.GET_BY_ID(t));if(!r.data.success)throw new Error("API returned success: false");return r.data.data.role}catch(r){throw console.error("Failed to fetch role by ID:",r),r}}async searchRoles(t){try{return t.trim()?(await this.getRoles({search:t.trim(),per_page:50})).data.data:(await this.getRoles()).data.data}catch(r){throw console.error("Failed to search roles:",r),r}}async getRolesForSelect(){try{return(await this.getRoles()).data.data.map(r=>({value:r.id,label:r.name,role:r}))}catch(t){throw console.error("Failed to fetch roles for select:",t),t}}async checkHealth(){try{return QZ()?(await this.getRoles({per_page:1}),!0):!1}catch(t){return console.error("Health check failed:",t),!1}}async getRolesWithPermissionCounts(){try{return(await this.getRoles()).data.data.map(r=>({...r,permission_count:r.permissions?.length||0}))}catch(t){throw console.error("Failed to fetch roles with permission counts:",t),t}}async bulkAssignPermissions(t,r){try{if(!Array.isArray(t)||t.length===0)throw{type:"VALIDATION_ERROR",message:"At least one role ID must be provided",field:"roleIds"};const s=await Promise.allSettled(t.map(o=>this.assignPermissionsToRole(o,r))),a=[],i=[];return s.forEach((o,c)=>{o.status==="fulfilled"?a.push(o.value):i.push({roleId:t[c],error:o.reason})}),i.length>0&&console.warn("Some bulk assignments failed:",i),a}catch(s){throw console.error("Failed to bulk assign permissions:",s),s}}}const Wg=new Wje,{getRoles:gMt,createRole:xMt,assignPermissionsToRole:vMt,getRoleById:yMt,searchRoles:bMt,getRolesForSelect:wMt,checkHealth:jMt,getRolesWithPermissionCounts:SMt,bulkAssignPermissions:NMt}=Wg,m7={roles:[],loading:!1,error:null,pagination:null,createLoading:!1,createError:null,assignLoading:!1,assignError:null,selectedRoleId:null},B0=Me("roles/fetchRoles",async(e={},{rejectWithValue:t})=>{try{const r=await Wg.getRoles(e),s={currentPage:r.data.current_page,lastPage:r.data.last_page,perPage:r.data.per_page,total:r.data.total,from:r.data.from,to:r.data.to};return{roles:r.data.data,pagination:s}}catch(r){return r&&typeof r=="object"&&"message"in r?t(r.message):t("Failed to fetch roles. Please try again.")}}),PS=Me("roles/createRole",async(e,{rejectWithValue:t,dispatch:r})=>{try{const s=await Wg.createRole(e);return r(B0({per_page:15})),s}catch(s){return s&&typeof s=="object"&&"message"in s?t(s.message):t("Failed to create role. Please try again.")}}),RS=Me("roles/assignPermissionsToRole",async({roleId:e,permissions:t},{rejectWithValue:r})=>{try{return await Wg.assignPermissionsToRole(e,t)}catch(s){return s&&typeof s=="object"&&"message"in s?r(s.message):r("Failed to assign permissions to role. Please try again.")}}),QT=Me("roles/searchRoles",async(e,{rejectWithValue:t})=>{try{return await Wg.searchRoles(e)}catch(r){return r&&typeof r=="object"&&"message"in r?t(r.message):t("Failed to search roles. Please try again.")}}),eD=Me("roles/fetchRoleById",async(e,{rejectWithValue:t})=>{try{return await Wg.getRoleById(e)}catch(r){return r&&typeof r=="object"&&"message"in r?t(r.message):t("Failed to fetch role. Please try again.")}}),eX=Pt({name:"roles",initialState:m7,reducers:{clearErrors:e=>{e.error=null,e.createError=null,e.assignError=null},clearFetchError:e=>{e.error=null},clearCreateError:e=>{e.createError=null},clearAssignError:e=>{e.assignError=null},resetRolesState:()=>m7,setSelectedRoleId:(e,t)=>{e.selectedRoleId=t.payload},addRoleOptimistic:(e,t)=>{e.roles.unshift(t.payload),e.pagination&&(e.pagination.total+=1)},removeRoleOptimistic:(e,t)=>{e.roles=e.roles.filter(r=>r.id!==t.payload),e.pagination&&(e.pagination.total=Math.max(0,e.pagination.total-1))},updateRole:(e,t)=>{const r=e.roles.findIndex(s=>s.id===t.payload.id);r!==-1&&(e.roles[r]=t.payload)},updateRolePermissions:(e,t)=>{const{roleId:r}=t.payload,s=e.roles.findIndex(a=>a.id===r);s!==-1&&(e.roles[s]={...e.roles[s],updated_at:new Date().toISOString()})},setLoading:(e,t)=>{e.loading=t.payload},setCreateLoading:(e,t)=>{e.createLoading=t.payload},setAssignLoading:(e,t)=>{e.assignLoading=t.payload}},extraReducers:e=>{e.addCase(B0.pending,t=>{t.loading=!0,t.error=null}).addCase(B0.fulfilled,(t,r)=>{t.loading=!1,t.error=null,t.roles=r.payload.roles,t.pagination=r.payload.pagination}).addCase(B0.rejected,(t,r)=>{t.loading=!1,t.error=r.payload||"Failed to fetch roles"}),e.addCase(PS.pending,t=>{t.createLoading=!0,t.createError=null}).addCase(PS.fulfilled,(t,r)=>{t.createLoading=!1,t.createError=null,t.roles.findIndex(a=>a.id===r.payload.id)===-1&&(t.roles.unshift(r.payload),t.pagination&&(t.pagination.total+=1))}).addCase(PS.rejected,(t,r)=>{t.createLoading=!1,t.createError=r.payload||"Failed to create role"}),e.addCase(RS.pending,t=>{t.assignLoading=!0,t.assignError=null}).addCase(RS.fulfilled,(t,r)=>{t.assignLoading=!1,t.assignError=null;const s=t.roles.findIndex(a=>a.id===r.payload.id);s!==-1&&(t.roles[s]=r.payload)}).addCase(RS.rejected,(t,r)=>{t.assignLoading=!1,t.assignError=r.payload||"Failed to assign permissions to role"}),e.addCase(QT.pending,t=>{t.loading=!0,t.error=null}).addCase(QT.fulfilled,(t,r)=>{t.loading=!1,t.error=null,t.roles=r.payload,t.pagination=null}).addCase(QT.rejected,(t,r)=>{t.loading=!1,t.error=r.payload||"Failed to search roles"}),e.addCase(eD.pending,t=>{t.loading=!0,t.error=null}).addCase(eD.fulfilled,(t,r)=>{t.loading=!1,t.error=null;const s=t.roles.findIndex(a=>a.id===r.payload.id);s!==-1?t.roles[s]=r.payload:t.roles.push(r.payload)}).addCase(eD.rejected,(t,r)=>{t.loading=!1,t.error=r.payload||"Failed to fetch role"})}}),{clearErrors:CMt,clearFetchError:qje,clearCreateError:Gje,clearAssignError:Yje,resetRolesState:_Mt,setSelectedRoleId:EMt,addRoleOptimistic:Kje,removeRoleOptimistic:h7,updateRole:kMt,updateRolePermissions:AMt,setLoading:TMt,setCreateLoading:DMt,setAssignLoading:PMt}=eX.actions,Zje=eX.reducer,Xje=e=>e.roles.roles,Jje=e=>e.roles.loading,Qje=e=>e.roles.error,e1e=e=>e.roles.pagination,t1e=e=>e.roles.createLoading,r1e=e=>e.roles.createError,s1e=e=>e.roles.assignLoading,n1e=e=>e.roles.assignError,a1e=e=>e.roles.roles.map(t=>({...t,permission_count:t.permissions?.length||0})),i1e=e=>e.roles.roles.length>0,o1e=e=>!e.roles.loading&&e.roles.roles.length===0,l1e=e=>e.roles.pagination?.total??e.roles.roles.length,mi={NAME_MIN_LENGTH:2,NAME_MAX_LENGTH:255,EMAIL_MAX_LENGTH:255,PASSWORD_MIN_LENGTH:8,PASSWORD_MAX_LENGTH:255,MAX_ROLES_PER_USER:10,MAX_PERMISSIONS_PER_USER:50},Cf={GET_ALL:"/users",CREATE:"/users",GET_BY_ID:e=>`/users/${e}`,UPDATE:e=>`/users/${e}`,DELETE:e=>`/users/${e}`,ASSIGN_ROLES:e=>`/users/${e}/roles/assign`,REVOKE_ROLES:e=>`/users/${e}/roles/revoke`,GIVE_PERMISSIONS:e=>`/users/${e}/permissions/give`,REVOKE_PERMISSIONS:e=>`/users/${e}/permissions/revoke`},c1e="https://auth.pnepizza.com/api/v1",jc=ot.create({baseURL:c1e,headers:{Accept:"application/json","Content-Type":"application/json"},timeout:"5000"}),tX=()=>{try{const t=Pr.getState().auth?.token;return t||vr()}catch(e){return console.error("Error retrieving auth token:",e),null}};jc.interceptors.request.use(e=>{const t=tX();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));jc.interceptors.response.use(e=>e,e=>{const t=d1e(e);return Promise.reject(t)});const d1e=e=>{const t=e.response?.status,r=e.response?.data;switch(t){case 401:return{type:"UNAUTHORIZED",message:"Authentication failed. Please log in again.",statusCode:401};case 403:return{type:"UNAUTHORIZED",message:"You do not have permission to perform this action.",statusCode:403};case 404:return{type:"USER_NOT_FOUND",message:"The requested user was not found.",statusCode:404};case 422:const s=r?.errors;return s?.email?.includes("The email has already been taken.")?{type:"EMAIL_TAKEN",message:"This email address is already registered.",statusCode:422}:s?.password?.some(i=>i.toLowerCase().includes("at least 8 characters"))?{type:"WEAK_PASSWORD",message:"Password must be at least 8 characters long.",statusCode:422}:s?.password_confirmation?{type:"PASSWORD_MISMATCH",message:"Password confirmation does not match.",statusCode:422}:s?.roles?.some(i=>i.includes("invalid"))?{type:"ROLE_NOT_FOUND",message:"One or more selected roles are invalid.",statusCode:422}:s?.permissions?.some(i=>i.includes("invalid"))?{type:"PERMISSION_NOT_FOUND",message:"One or more selected permissions are invalid.",statusCode:422}:{type:"VALIDATION_ERROR",message:(s?Object.values(s)[0]?.[0]:null)||r?.message||"Validation failed",statusCode:422};case 400:return r?.message&&r.message.toLowerCase().includes("cannot delete user")?{type:"CANNOT_DELETE_USER",message:r.message,statusCode:400}:{type:"VALIDATION_ERROR",message:r?.message||"Bad request",statusCode:400};case 500:case 502:case 503:return{type:"NETWORK_ERROR",message:"Server error. Please try again later.",statusCode:t};default:return{type:"UNKNOWN_ERROR",message:r?.message||e.message||"An unexpected error occurred",statusCode:t}}},u1e=e=>{const t=new URLSearchParams;e.page!==void 0&&t.append("page",e.page.toString()),e.per_page!==void 0&&t.append("per_page",e.per_page.toString()),e.search&&e.search.trim()&&t.append("search",e.search.trim()),e.role&&e.role.trim()&&t.append("role",e.role.trim());const r=t.toString();return r?`?${r}`:""};class f1e{async getUsers(t={}){try{const r=u1e(t),s=await jc.get(`${Cf.GET_ALL}${r}`);if(!s.data.success)throw new Error("API returned success: false");return s.data}catch(r){throw console.error("Failed to fetch users:",r),r}}async createUser(t){try{if(!t.name?.trim())throw{type:"VALIDATION_ERROR",message:"User name is required",field:"name"};if(!t.email?.trim())throw{type:"VALIDATION_ERROR",message:"Email is required",field:"email"};if(!t.password||t.password.length<8)throw{type:"WEAK_PASSWORD",message:"Password must be at least 8 characters long",field:"password"};if(t.password!==t.password_confirmation)throw{type:"PASSWORD_MISMATCH",message:"Password confirmation does not match",field:"password_confirmation"};if(!Array.isArray(t.roles))throw{type:"VALIDATION_ERROR",message:"Roles must be an array",field:"roles"};if(!Array.isArray(t.permissions))throw{type:"VALIDATION_ERROR",message:"Permissions must be an array",field:"permissions"};const r=await jc.post(Cf.CREATE,{name:t.name.trim(),email:t.email.trim(),password:t.password,password_confirmation:t.password_confirmation,roles:t.roles,permissions:t.permissions});if(!r.data.success)throw new Error("API returned success: false");return r.data.data.user}catch(r){throw console.error("Failed to create user:",r),r}}async getUserById(t){try{if(!t||t<=0)throw{type:"VALIDATION_ERROR",message:"Valid user ID is required",field:"userId"};const r=await jc.get(Cf.GET_BY_ID(t));if(!r.data.success)throw new Error("API returned success: false");return r.data.data.user}catch(r){throw console.error("Failed to fetch user by ID:",r),r}}async updateUser(t,r){try{if(!t||t<=0)throw{type:"VALIDATION_ERROR",message:"Valid user ID is required",field:"userId"};if(r.password&&r.password.length<8)throw{type:"WEAK_PASSWORD",message:"Password must be at least 8 characters long",field:"password"};if(r.password&&r.password!==r.password_confirmation)throw{type:"PASSWORD_MISMATCH",message:"Password confirmation does not match",field:"password_confirmation"};const s=await jc.put(Cf.UPDATE(t),r);if(!s.data.success)throw new Error("API returned success: false");return s.data.data.user}catch(s){throw console.error("Failed to update user:",s),s}}async deleteUser(t){try{if(!t||t<=0)throw{type:"VALIDATION_ERROR",message:"Valid user ID is required",field:"userId"};if(!(await jc.delete(Cf.DELETE(t))).data.success)throw new Error("API returned success: false")}catch(r){throw console.error("Failed to delete user:",r),r}}async assignRolesToUser(t,r){try{if(!t||t<=0)throw{type:"VALIDATION_ERROR",message:"Valid user ID is required",field:"userId"};if(!Array.isArray(r))throw{type:"VALIDATION_ERROR",message:"Roles must be an array",field:"roles"};const s={roles:r.filter(i=>i.trim())},a=await jc.post(Cf.ASSIGN_ROLES(t),s);if(!a.data.success)throw new Error("API returned success: false");return a.data.data.user}catch(s){throw console.error("Failed to assign roles to user:",s),s}}async givePermissionsToUser(t,r){try{if(!t||t<=0)throw{type:"VALIDATION_ERROR",message:"Valid user ID is required",field:"userId"};if(!Array.isArray(r))throw{type:"VALIDATION_ERROR",message:"Permissions must be an array",field:"permissions"};const s={permissions:r.filter(i=>i.trim())},a=await jc.post(Cf.GIVE_PERMISSIONS(t),s);if(!a.data.success)throw new Error("API returned success: false");return a.data.data.user}catch(s){throw console.error("Failed to give permissions to user:",s),s}}async searchUsers(t){try{return t.trim()?(await this.getUsers({search:t.trim(),per_page:50})).data.data:(await this.getUsers()).data.data}catch(r){throw console.error("Failed to search users:",r),r}}async getUsersForSelect(){try{return(await this.getUsers()).data.data.map(r=>({value:r.id,label:`${r.name} (${r.email})`,user:r}))}catch(t){throw console.error("Failed to fetch users for select:",t),t}}async checkHealth(){try{return tX()?(await this.getUsers({per_page:1}),!0):!1}catch(t){return console.error("Health check failed:",t),!1}}async getUsersWithCounts(){try{return(await this.getUsers()).data.data.map(r=>({...r,role_count:r.roles?.length||0,permission_count:r.permissions?.length||0,store_count:r.stores?.length||0}))}catch(t){throw console.error("Failed to fetch users with counts:",t),t}}async bulkAssignRoles(t,r){try{if(!Array.isArray(t)||t.length===0)throw{type:"VALIDATION_ERROR",message:"At least one user ID must be provided",field:"userIds"};const s=await Promise.allSettled(t.map(o=>this.assignRolesToUser(o,r))),a=[],i=[];return s.forEach((o,c)=>{o.status==="fulfilled"?a.push(o.value):i.push({userId:t[c],error:o.reason})}),i.length>0&&console.warn("Some bulk assignments failed:",i),a}catch(s){throw console.error("Failed to bulk assign roles:",s),s}}}const sd=new f1e,{getUsers:RMt,createUser:MMt,getUserById:OMt,updateUser:IMt,deleteUser:FMt,assignRolesToUser:$Mt,givePermissionsToUser:LMt,searchUsers:BMt,getUsersForSelect:zMt,checkHealth:UMt,getUsersWithCounts:HMt,bulkAssignRoles:VMt}=sd,p7={users:[],loading:!1,error:null,pagination:null,perPage:10,createLoading:!1,createError:null,updateLoading:!1,updateError:null,deleteLoading:!1,deleteError:null,assignRolesLoading:!1,assignRolesError:null,givePermissionsLoading:!1,givePermissionsError:null,selectedUserId:null,searchTerm:"",filters:{}},Oc=Me("users/fetchUsers",async(e={},{rejectWithValue:t})=>{try{const r=await sd.getUsers(e),s={currentPage:r.data.current_page,lastPage:r.data.last_page,perPage:r.data.per_page,total:r.data.total,from:r.data.from,to:r.data.to};return{users:r.data.data,pagination:s}}catch(r){return r&&typeof r=="object"&&"message"in r?t(r.message):t("Failed to fetch users. Please try again.")}}),MS=Me("users/createUser",async(e,{rejectWithValue:t,dispatch:r})=>{try{const s=await sd.createUser(e);return r(Oc({per_page:5})),s}catch(s){return s&&typeof s=="object"&&"message"in s?t(s.message):t("Failed to create user. Please try again.")}}),OS=Me("users/updateUser",async({userId:e,data:t},{rejectWithValue:r})=>{try{return await sd.updateUser(e,t)}catch(s){return s&&typeof s=="object"&&"message"in s?r(s.message):r("Failed to update user. Please try again.")}}),IS=Me("users/deleteUser",async(e,{rejectWithValue:t})=>{try{return await sd.deleteUser(e),e}catch(r){return r&&typeof r=="object"&&"message"in r?t(r.message):t("Failed to delete user. Please try again.")}}),tD=Me("users/assignRolesToUser",async({userId:e,roles:t},{rejectWithValue:r})=>{try{return await sd.assignRolesToUser(e,t)}catch(s){return s&&typeof s=="object"&&"message"in s?r(s.message):r("Failed to assign roles to user. Please try again.")}}),rD=Me("users/givePermissionsToUser",async({userId:e,permissions:t},{rejectWithValue:r})=>{try{return await sd.givePermissionsToUser(e,t)}catch(s){return s&&typeof s=="object"&&"message"in s?r(s.message):r("Failed to give permissions to user. Please try again.")}}),sD=Me("users/searchUsers",async(e,{rejectWithValue:t})=>{try{return await sd.searchUsers(e)}catch(r){return r&&typeof r=="object"&&"message"in r?t(r.message):t("Failed to search users. Please try again.")}}),FS=Me("users/fetchUserById",async(e,{rejectWithValue:t})=>{try{return await sd.getUserById(e)}catch(r){return r&&typeof r=="object"&&"message"in r?t(r.message):t("Failed to fetch user. Please try again.")}}),rX=Pt({name:"users",initialState:p7,reducers:{clearErrors:e=>{e.error=null,e.createError=null,e.updateError=null,e.deleteError=null,e.assignRolesError=null,e.givePermissionsError=null},clearFetchError:e=>{e.error=null},clearCreateError:e=>{e.createError=null},clearUpdateError:e=>{e.updateError=null},clearDeleteError:e=>{e.deleteError=null},clearAssignRolesError:e=>{e.assignRolesError=null},clearGivePermissionsError:e=>{e.givePermissionsError=null},resetUsersState:()=>p7,setSelectedUserId:(e,t)=>{e.selectedUserId=t.payload},setSearchTerm:(e,t)=>{e.searchTerm=t.payload},setFilters:(e,t)=>{e.filters=t.payload},setPerPage:(e,t)=>{e.perPage=t.payload},updateUserInState:(e,t)=>{const r=e.users.findIndex(s=>s.id===t.payload.id);r!==-1&&(e.users[r]=t.payload)},removeUserFromState:(e,t)=>{e.users=e.users.filter(r=>r.id!==t.payload),e.pagination&&(e.pagination.total=Math.max(0,e.pagination.total-1))},setLoading:(e,t)=>{e.loading=t.payload},setCreateLoading:(e,t)=>{e.createLoading=t.payload},setUpdateLoading:(e,t)=>{e.updateLoading=t.payload},setDeleteLoading:(e,t)=>{e.deleteLoading=t.payload}},extraReducers:e=>{e.addCase(Oc.pending,t=>{t.loading=!0,t.error=null}).addCase(Oc.fulfilled,(t,r)=>{t.loading=!1,t.error=null,t.users=r.payload.users,t.pagination=r.payload.pagination}).addCase(Oc.rejected,(t,r)=>{t.loading=!1,t.error=r.payload||"Failed to fetch users"}),e.addCase(MS.pending,t=>{t.createLoading=!0,t.createError=null}).addCase(MS.fulfilled,(t,r)=>{t.createLoading=!1,t.createError=null,t.users.findIndex(a=>a.id===r.payload.id)===-1&&(t.users.unshift(r.payload),t.pagination&&(t.pagination.total+=1))}).addCase(MS.rejected,(t,r)=>{t.createLoading=!1,t.createError=r.payload||"Failed to create user"}),e.addCase(OS.pending,t=>{t.updateLoading=!0,t.updateError=null}).addCase(OS.fulfilled,(t,r)=>{t.updateLoading=!1,t.updateError=null;const s=t.users.findIndex(a=>a.id===r.payload.id);s!==-1&&(t.users[s]=r.payload)}).addCase(OS.rejected,(t,r)=>{t.updateLoading=!1,t.updateError=r.payload||"Failed to update user"}),e.addCase(IS.pending,t=>{t.deleteLoading=!0,t.deleteError=null}).addCase(IS.fulfilled,(t,r)=>{t.deleteLoading=!1,t.deleteError=null,t.users=t.users.filter(s=>s.id!==r.payload),t.pagination&&(t.pagination.total=Math.max(0,t.pagination.total-1)),t.selectedUserId===r.payload&&(t.selectedUserId=null)}).addCase(IS.rejected,(t,r)=>{t.deleteLoading=!1,t.deleteError=r.payload||"Failed to delete user"}),e.addCase(tD.pending,t=>{t.assignRolesLoading=!0,t.assignRolesError=null}).addCase(tD.fulfilled,(t,r)=>{t.assignRolesLoading=!1,t.assignRolesError=null;const s=t.users.findIndex(a=>a.id===r.payload.id);s!==-1&&(t.users[s]=r.payload)}).addCase(tD.rejected,(t,r)=>{t.assignRolesLoading=!1,t.assignRolesError=r.payload||"Failed to assign roles to user"}),e.addCase(rD.pending,t=>{t.givePermissionsLoading=!0,t.givePermissionsError=null}).addCase(rD.fulfilled,(t,r)=>{t.givePermissionsLoading=!1,t.givePermissionsError=null;const s=t.users.findIndex(a=>a.id===r.payload.id);s!==-1&&(t.users[s]=r.payload)}).addCase(rD.rejected,(t,r)=>{t.givePermissionsLoading=!1,t.givePermissionsError=r.payload||"Failed to give permissions to user"}),e.addCase(sD.pending,t=>{t.loading=!0,t.error=null}).addCase(sD.fulfilled,(t,r)=>{t.loading=!1,t.error=null,t.users=r.payload,t.pagination=null}).addCase(sD.rejected,(t,r)=>{t.loading=!1,t.error=r.payload||"Failed to search users"}),e.addCase(FS.pending,t=>{t.loading=!0,t.error=null}).addCase(FS.fulfilled,(t,r)=>{t.loading=!1,t.error=null;const s=t.users.findIndex(a=>a.id===r.payload.id);s!==-1?t.users[s]=r.payload:t.users.push(r.payload)}).addCase(FS.rejected,(t,r)=>{t.loading=!1,t.error=r.payload||"Failed to fetch user"})}}),{clearErrors:WMt,clearFetchError:m1e,clearCreateError:h1e,clearUpdateError:p1e,clearDeleteError:g1e,clearAssignRolesError:qMt,clearGivePermissionsError:GMt,resetUsersState:YMt,setSelectedUserId:KMt,setSearchTerm:x1e,setFilters:ZMt,setPerPage:sX,updateUserInState:XMt,removeUserFromState:JMt,setLoading:QMt,setCreateLoading:eOt,setUpdateLoading:tOt,setDeleteLoading:rOt}=rX.actions,v1e=rX.reducer,y1e=e=>e.users.users,nX=e=>e.users.loading,aX=e=>e.users.error,b1e=e=>e.users.pagination,w1e=e=>e.users.createLoading,j1e=e=>e.users.createError,S1e=e=>e.users.updateLoading,N1e=e=>e.users.updateError,C1e=e=>e.users.deleteLoading,_1e=e=>e.users.deleteError,E1e=e=>e.users.searchTerm,k1e=e=>e.users.filters,iX=e=>e.users.perPage,A1e=(e,t)=>e.users.users.find(r=>r.id===t),T1e=e=>e.users.users.map(t=>({...t,role_count:t.roles?.length||0,permission_count:t.permissions?.length||0,store_count:t.stores?.length||0})),D1e=e=>e.users.users.length>0,P1e=e=>!e.users.loading&&e.users.users.length===0,R1e=e=>e.users.pagination?.total??e.users.users.length,Iv=e=>e.success===!1,M1e="https://auth.pnepizza.com/api/v1",O1e=()=>{try{const t=Pr.getState().auth?.token;return t||vr()}catch(e){return console.error("Error retrieving auth token:",e),null}},Hf=ot.create({baseURL:M1e,timeout:5e3,headers:{Accept:"application/json","Content-Type":"application/json"}});Hf.interceptors.request.use(e=>{const t=O1e();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),console.log(` API Request: ${e.method?.toUpperCase()} ${e.url}`,{headers:e.headers,data:e.data}),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));Hf.interceptors.response.use(e=>(console.log(` API Response: ${e.config.method?.toUpperCase()} ${e.config.url}`,e.data),e),e=>{console.error("API Error:",e);const t=I1e(e);return Promise.reject(t)});const I1e=e=>{if(!e.response)return{type:"network_error",message:"Network error - please check your connection",details:e.message};const{status:t,data:r}=e.response,s=r;switch(t){case 400:return{type:"invalid_dsl",message:Iv(s)?s.message:"Invalid request",details:Iv(s)?s.error:void 0,statusCode:t};case 401:return{type:"unauthorized",message:"Authentication required - please login again",statusCode:t};case 403:return{type:"forbidden",message:"Insufficient permissions to perform this action",statusCode:t};case 404:return{type:"not_found",message:"The requested resource was not found",statusCode:t};case 422:const a=[];return Iv(s)&&s.errors&&Object.entries(s.errors).forEach(([i,o])=>{a.push({field:i,messages:o})}),{type:"validation",message:"Please fix the validation errors and try again",validationErrors:a,statusCode:t};case 500:case 502:case 503:case 504:return{type:"server_error",message:"Server error - please try again later",details:Iv(s)?s.message:void 0,statusCode:t};default:return{type:"unknown",message:"An unexpected error occurred",details:Iv(s)?s.message:void 0,statusCode:t}}},sE={async fetchAuthRules(e={}){try{return(await Hf.get("/auth-rules",{params:{service:e.service||"",search:e.search||"",page:e.page||1,per_page:e.per_page||15}})).data}catch(t){throw console.error("Failed to fetch auth rules:",t),t}},async createAuthRule(e){try{const t=e.roles_any?.length&&e.roles_any.length>0,r=e.permissions_any?.length&&e.permissions_any.length>0,s=e.permissions_all?.length&&e.permissions_all.length>0;if(!t&&!r&&!s)throw new Error("At least one authorization requirement must be specified (roles_any, permissions_any, or permissions_all)");return(await Hf.post("/auth-rules",e)).data}catch(t){throw console.error("Failed to create auth rule:",t),t}},async testAuthRule(e){try{return(await Hf.post("/auth-rules/test",e)).data}catch(t){throw console.error("Failed to test auth rule:",t),t}},async toggleAuthRuleStatus(e){try{if(!e||e<=0)throw new Error("Valid rule ID is required");return(await Hf.post(`/auth-rules/${e}/toggle-status`)).data}catch(t){throw console.error(`Failed to toggle auth rule status for ID ${e}:`,t),t}},async deleteAuthRule(e){try{if(!e||e<=0)throw new Error("Valid rule ID is required");return(await Hf.delete(`/auth-rules/${e}`)).data}catch(t){throw console.error(`Failed to delete auth rule with ID ${e}:`,t),t}}},nD=(e,t)=>e?.type===t,F1e=(e,t)=>{if(!e||e.type!=="validation"||!e.validationErrors)return[];const r=e.validationErrors.find(s=>s.field===t);return r?r.messages:[]},g7=e=>{if(!e)return"";switch(e.type){case"validation":return"Please fix the highlighted errors and try again.";case"unauthorized":return"Your session has expired. Please login again.";case"forbidden":return"You don't have permission to perform this action.";case"network_error":return"Connection failed. Please check your internet connection.";case"server_error":return"Server error. Please try again in a moment.";case"invalid_dsl":return e.details||"Invalid path pattern syntax.";default:return e.message||"An unexpected error occurred."}},aD={rules:[],pagination:null,testResult:null,loading:{fetching:!1,creating:!1,testing:!1,toggling:{}},error:null,successMessage:null,filters:{service:"",search:"",currentPage:1,perPage:15}},Sc=Me("authRules/fetchAuthRules",async(e={},{rejectWithValue:t})=>{try{return await sE.fetchAuthRules(e)}catch(r){return t(r)}}),$S=Me("authRules/createAuthRule",async(e,{rejectWithValue:t,dispatch:r,getState:s})=>{try{const a=await sE.createAuthRule(e),i=s(),{filters:o}=i.authRules;return r(Sc({service:o.service,search:o.search,page:o.currentPage,per_page:o.perPage})),a}catch(a){return t(a)}}),LS=Me("authRules/testAuthRule",async(e,{rejectWithValue:t})=>{try{return await sE.testAuthRule(e)}catch(r){return t(r)}}),z0=Me("authRules/toggleAuthRuleStatus",async(e,{rejectWithValue:t})=>{try{return await sE.toggleAuthRuleStatus(e)}catch(r){return t({...r,ruleId:e})}}),BS=Me("authRules/batchToggleAuthRules",async(e,{dispatch:t,rejectWithValue:r})=>{try{const s=e.map(a=>t(z0(a)));await Promise.all(s)}catch(s){return r(s)}}),oX=Pt({name:"authRules",initialState:aD,reducers:{clearError:e=>{e.error=null},clearSuccessMessage:e=>{e.successMessage=null},clearTestResult:e=>{e.testResult=null},updateFilters:(e,t)=>{e.filters={...e.filters,...t.payload},e.error=null},resetFilters:e=>{e.filters=aD.filters},resetState:()=>aD,optimisticallyUpdateRule:(e,t)=>{const{id:r,...s}=t.payload,a=e.rules.findIndex(i=>i.id===r);a!==-1&&(e.rules[a]={...e.rules[a],...s})}},extraReducers:e=>{e.addCase(Sc.pending,t=>{t.loading.fetching=!0,t.error=null}).addCase(Sc.fulfilled,(t,r)=>{t.loading.fetching=!1,t.rules=r.payload.data.data,t.pagination={current_page:r.payload.data.current_page,first_page_url:r.payload.data.first_page_url,from:r.payload.data.from,last_page:r.payload.data.last_page,last_page_url:r.payload.data.last_page_url,links:r.payload.data.links,next_page_url:r.payload.data.next_page_url,path:r.payload.data.path,per_page:r.payload.data.per_page,prev_page_url:r.payload.data.prev_page_url,to:r.payload.data.to,total:r.payload.data.total},t.filters.currentPage=r.payload.data.current_page}).addCase(Sc.rejected,(t,r)=>{t.loading.fetching=!1,t.error=r.payload||null}).addCase($S.pending,t=>{t.loading.creating=!0,t.error=null,t.successMessage=null}).addCase($S.fulfilled,(t,r)=>{t.loading.creating=!1,t.successMessage=r.payload.message||"Authorization rule created successfully"}).addCase($S.rejected,(t,r)=>{t.loading.creating=!1,t.error=r.payload||null}).addCase(LS.pending,t=>{t.loading.testing=!0,t.error=null,t.testResult=null}).addCase(LS.fulfilled,(t,r)=>{t.loading.testing=!1,t.testResult=r.payload.data}).addCase(LS.rejected,(t,r)=>{t.loading.testing=!1,t.error=r.payload||null,t.testResult=null}).addCase(z0.pending,(t,r)=>{const s=r.meta.arg;t.loading.toggling[s]=!0,t.error=null;const a=t.rules.findIndex(i=>i.id===s);a!==-1&&(t.rules[a].is_active=!t.rules[a].is_active)}).addCase(z0.fulfilled,(t,r)=>{const s=r.payload.data.rule.id;delete t.loading.toggling[s];const a=t.rules.findIndex(i=>i.id===s);a!==-1&&(t.rules[a]=r.payload.data.rule),t.successMessage=r.payload.message||"Rule status updated successfully"}).addCase(z0.rejected,(t,r)=>{const s=r.payload?.ruleId||r.meta.arg;delete t.loading.toggling[s],t.error=r.payload||null;const a=t.rules.findIndex(i=>i.id===s);a!==-1&&(t.rules[a].is_active=!t.rules[a].is_active)}).addCase(BS.pending,t=>{t.error=null}).addCase(BS.fulfilled,t=>{t.successMessage="Selected rules updated successfully"}).addCase(BS.rejected,(t,r)=>{t.error=r.payload||null})}}),{clearError:x7,clearSuccessMessage:v7,clearTestResult:$1e,updateFilters:L1e,resetFilters:B1e,resetState:z1e,optimisticallyUpdateRule:sOt}=oX.actions,U1e=oX.reducer,cb=e=>e.authRules,H1e=e=>e.authRules.rules,V1e=e=>e.authRules.pagination,W1e=e=>e.authRules.testResult,q1e=e=>e.authRules.filters,G1e=e=>e.authRules.error,Y1e=e=>e.authRules.successMessage,K1e=e=>e.authRules.loading.fetching,Z1e=e=>e.authRules.loading.creating,X1e=e=>e.authRules.loading.testing,J1e=e=>e.authRules.loading.toggling,Q1e=we([cb],e=>e.rules.filter(t=>t.is_active)),eSe=we([cb],e=>e.rules.filter(t=>!t.is_active)),tSe=we([cb],e=>e.rules.length>0),rSe=we([cb],e=>e.pagination?.total||0);we([cb],e=>e.filters.currentPage);const Na={selectRules:H1e,selectPagination:V1e,selectTestResult:W1e,selectIsFetching:K1e,selectIsCreating:Z1e,selectIsTesting:X1e,selectTogglingStates:J1e,selectError:G1e,selectSuccessMessage:Y1e,selectFilters:q1e,selectActiveRules:Q1e,selectInactiveRules:eSe,selectHasRules:tSe,selectTotalRules:rSe},y7={PER_PAGE:3,PAGE:1},nE={SERVICE_CLIENTS:"/service-clients",ROTATE_TOKEN:e=>`/service-clients/${e}/rotate-token`,TOGGLE_STATUS:e=>`/service-clients/${e}/toggle-status`},sSe="https://auth.pnepizza.com/api/v1",nSe=()=>{try{const t=Pr.getState().auth?.token;return t||vr()}catch(e){return console.error("Error retrieving auth token:",e),null}},qg=ot.create({baseURL:sSe,timeout:5e3,headers:{"Content-Type":"application/json",Accept:"application/json"}});qg.interceptors.request.use(e=>{const t=nSe();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));qg.interceptors.response.use(e=>e,e=>{if(e.response){const{status:t,data:r}=e.response;switch(t){case 401:console.warn("Unauthorized request - token may be expired");break;case 403:console.warn("Forbidden request - insufficient permissions");break;case 422:console.warn("Validation error:",r);break;case 500:console.error("Internal server error");break;default:console.error(`HTTP ${t} error:`,r)}}else e.request?console.error("Network error - no response received:",e.request):console.error("Request configuration error:",e.message);return Promise.reject(e)});const aSe=e=>{const t=new URLSearchParams;return Object.entries(e).forEach(([r,s])=>{s!=null&&s!==""&&t.append(r,String(s))}),t.toString()},iSe=async e=>{try{const t={per_page:e?.per_page||y7.PER_PAGE,page:e?.page||y7.PAGE,...e?.search&&{search:e.search}},r=aSe(t),s=`${nE.SERVICE_CLIENTS}${r?`?${r}`:""}`;return console.log(" Fetching service clients:",{url:s,params:t}),await qg.get(s)}catch(t){throw console.error("Error fetching service clients:",t),t}},oSe=async e=>{try{if(console.log(" Creating service client:",e),!e.name||!e.name.trim())throw new Error("Service client name is required");const t=await qg.post(nE.SERVICE_CLIENTS,e);return console.log(" Service client created successfully"),t}catch(t){throw console.error("Error creating service client:",t),t}},lSe=async(e,t)=>{try{if(console.log(" Rotating token for client:",{clientId:e,data:t}),!e||e<=0)throw new Error("Valid client ID is required");const r=nE.ROTATE_TOKEN(e),s=t||{},a=await qg.post(r,s);return console.log(" Token rotated successfully"),a}catch(r){throw console.error("Error rotating service token:",r),r}},cSe=async e=>{try{if(console.log(" Toggling status for client:",e),!e||e<=0)throw new Error("Valid client ID is required");const t=nE.TOGGLE_STATUS(e),r=await qg.post(t);return console.log(" Status toggled successfully"),r}catch(t){throw console.error("Error toggling service status:",t),t}},b7={clients:[],pagination:null,loading:{fetching:!1,creating:!1,rotating:!1,toggling:!1},errors:{fetch:null,create:null,rotate:null,toggle:null},selectedClient:null,lastCreatedToken:null},aE=e=>{if(e?.response?.data){const t=e.response.data;if("errors"in t&&t.errors){const r=t,s=Object.keys(r.errors)[0];return r.errors[s]?.[0]||r.message||"Validation error occurred"}if("success"in t&&!t.success)return t.message||"An error occurred";if("message"in t)return t.message}return e?.message?e.message:"An unexpected error occurred"},zS=Me("serviceClients/fetchClients",async(e,{rejectWithValue:t})=>{try{return(await iSe(e)).data.data}catch(r){const s=aE(r);return t(s)}}),US=Me("serviceClients/createClient",async(e,{rejectWithValue:t})=>{try{const r=await oSe(e);return{client:r.data.data.service,token:r.data.data.token}}catch(r){const s=aE(r);return t(s)}}),HS=Me("serviceClients/rotateToken",async({clientId:e,data:t},{rejectWithValue:r})=>{try{const s=await lSe(e,t);return{client:s.data.data.service,token:s.data.data.token}}catch(s){const a=aE(s);return r(a)}}),VS=Me("serviceClients/toggleStatus",async(e,{rejectWithValue:t})=>{try{return{client:(await cSe(e)).data.data.service}}catch(r){const s=aE(r);return t(s)}}),lX=Pt({name:"serviceClients",initialState:b7,reducers:{selectClient:(e,t)=>{e.selectedClient=t.payload},clearErrors:e=>{e.errors={fetch:null,create:null,rotate:null,toggle:null}},clearError:(e,t)=>{e.errors[t.payload]=null},clearLastCreatedToken:e=>{e.lastCreatedToken=null},updateClient:(e,t)=>{const r=e.clients.findIndex(s=>s.id===t.payload.id);r!==-1&&(e.clients[r]=t.payload),e.selectedClient?.id===t.payload.id&&(e.selectedClient=t.payload)},removeClient:(e,t)=>{e.clients=e.clients.filter(r=>r.id!==t.payload),e.selectedClient?.id===t.payload&&(e.selectedClient=null)},resetState:()=>b7},extraReducers:e=>{e.addCase(zS.pending,t=>{t.loading.fetching=!0,t.errors.fetch=null}).addCase(zS.fulfilled,(t,r)=>{t.loading.fetching=!1,t.clients=r.payload.data;const{data:s,...a}=r.payload;t.pagination=a,t.errors.fetch=null}).addCase(zS.rejected,(t,r)=>{t.loading.fetching=!1,t.errors.fetch=r.payload}),e.addCase(US.pending,t=>{t.loading.creating=!0,t.errors.create=null,t.lastCreatedToken=null}).addCase(US.fulfilled,(t,r)=>{t.loading.creating=!1,t.clients.unshift(r.payload.client),t.lastCreatedToken=r.payload.token,t.pagination&&(t.pagination.total+=1),t.errors.create=null}).addCase(US.rejected,(t,r)=>{t.loading.creating=!1,t.errors.create=r.payload}),e.addCase(HS.pending,t=>{t.loading.rotating=!0,t.errors.rotate=null}).addCase(HS.fulfilled,(t,r)=>{t.loading.rotating=!1;const s=t.clients.findIndex(a=>a.id===r.payload.client.id);s!==-1&&(t.clients[s]=r.payload.client),t.selectedClient?.id===r.payload.client.id&&(t.selectedClient=r.payload.client),t.lastCreatedToken=r.payload.token,t.errors.rotate=null}).addCase(HS.rejected,(t,r)=>{t.loading.rotating=!1,t.errors.rotate=r.payload}),e.addCase(VS.pending,t=>{t.loading.toggling=!0,t.errors.toggle=null}).addCase(VS.fulfilled,(t,r)=>{t.loading.toggling=!1;const s=t.clients.findIndex(a=>a.id===r.payload.client.id);s!==-1&&(t.clients[s]=r.payload.client),t.selectedClient?.id===r.payload.client.id&&(t.selectedClient=r.payload.client),t.errors.toggle=null}).addCase(VS.rejected,(t,r)=>{t.loading.toggling=!1,t.errors.toggle=r.payload})}}),{selectClient:dSe,clearErrors:uSe,clearError:nOt,clearLastCreatedToken:fSe,updateClient:aOt,removeClient:iOt,resetState:oOt}=lX.actions,mSe=e=>e.serviceClients.clients,hSe=e=>e.serviceClients.pagination,pSe=e=>e.serviceClients.loading,gSe=e=>e.serviceClients.errors,xSe=e=>e.serviceClients.selectedClient,vSe=e=>e.serviceClients.lastCreatedToken,ySe=lX.reducer,yC={page:1,perPage:5},Jh={STORES:"/stores",STORE_DETAIL:e=>`/stores/${e}`,STORE_USERS:e=>`/stores/${e}/users`,STORE_ROLES:e=>`/stores/${e}/roles`},bSe="https://auth.pnepizza.com/api/v1",tu=ot.create({baseURL:bSe,timeout:"5000",headers:{Accept:"application/json","Content-Type":"application/json"}}),wSe=()=>{try{const t=Pr.getState().auth?.token;return t||vr()}catch(e){return console.error("Error retrieving auth token:",e),null}};tu.interceptors.request.use(e=>{const t=wSe();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));tu.interceptors.response.use(e=>e,e=>(e.response?.status===401&&console.warn("Authentication failed - token may be expired"),Promise.reject(e)));const jSe=e=>{if(ot.isAxiosError(e)){const t=e;return{message:t.response?.data?.message||t.message||"An unexpected error occurred",status:t.response?.status,errors:t.response?.data?.errors||{}}}return e instanceof Error?{message:e.message}:{message:"An unknown error occurred"}},Qh=async(e,t)=>{try{const r=await e();if(!r.data)throw new Error(`Invalid response structure from ${t}`);return r.data}catch(r){const s=jSe(r);throw console.error(`${t} failed:`,s),s}};class SSe{async getStores(t={}){const{per_page:r=5,page:s=1,search:a="",is_active:i}=t,o={per_page:r,page:s,search:a};i!==void 0&&(o.is_active=i);const c=await Qh(()=>tu.get(Jh.STORES,{params:o}),"getStores");if(!c.success||!c.data)throw new Error("Invalid stores response format");return{stores:c.data.data,pagination:{current_page:c.data.current_page,first_page_url:c.data.first_page_url,from:c.data.from,last_page:c.data.last_page,last_page_url:c.data.last_page_url,links:c.data.links,next_page_url:c.data.next_page_url,path:c.data.path,per_page:c.data.per_page,prev_page_url:c.data.prev_page_url,to:c.data.to,total:c.data.total}}}async getStore(t){if(!t||t.trim()==="")throw new Error("Store ID is required");const r=await Qh(()=>tu.get(Jh.STORE_DETAIL(t)),`getStore(${t})`);if(!r.success||!r.data?.store)throw new Error("Invalid store response format");return r.data.store}async createStore(t){if(!t.id||!t.name)throw new Error("Store ID and name are required");if(!t.metadata)throw new Error("Store metadata is required");const r=await Qh(()=>tu.post(Jh.STORES,t),"createStore");if(!r.success||!r.data?.store)throw new Error("Invalid create store response format");return r.data.store}async updateStore(t,r){if(!t||t.trim()==="")throw new Error("Store ID is required");if(!r.name)throw new Error("Store name is required");if(!r.metadata)throw new Error("Store metadata is required");const s=await Qh(()=>tu.put(Jh.STORE_DETAIL(t),r),`updateStore(${t})`);if(!s.success||!s.data?.store)throw new Error("Invalid update store response format");return s.data.store}async getStoreUsers(t){if(!t||t.trim()==="")throw new Error("Store ID is required");const r=await Qh(()=>tu.get(Jh.STORE_USERS(t)),`getStoreUsers(${t})`);if(!r.success||!r.data?.users)throw new Error("Invalid store users response format");return r.data.users}async getStoreRoles(t){if(!t||t.trim()==="")throw new Error("Store ID is required");const r=await Qh(()=>tu.get(Jh.STORE_ROLES(t)),`getStoreRoles(${t})`);if(!r.success||!r.data?.roles)throw new Error("Invalid store roles response format");return r.data.roles}async storeExists(t){try{return await this.getStore(t),!0}catch(r){if(r.status===404)return!1;throw r}}async getStoresBatch(t){if(!t.length)return[];const r=t.map(s=>this.getStore(s));try{return await Promise.all(r)}catch(s){throw console.error("Batch store fetch failed:",s),new Error("Failed to fetch one or more stores")}}async searchStores(t,r={}){return this.getStores({...r,search:t.trim()})}}const Gm=new SSe,ep={loading:!1,error:null},w7={stores:null,currentStore:null,storeUsers:{},storeRoles:{},asyncStates:{fetchStores:{...ep},fetchStore:{...ep},createStore:{...ep},updateStore:{...ep},fetchStoreUsers:{...ep},fetchStoreRoles:{...ep}},selectedStoreId:null,searchQuery:"",currentPage:yC.page,perPage:yC.perPage},Kp=Me("stores/fetchStores",async(e={},{rejectWithValue:t})=>{try{return await Gm.getStores(e)}catch(r){const s=r;return t({message:s.message||"Failed to fetch stores",status:s.status,timestamp:new Date().toISOString()})}}),U0=Me("stores/fetchStoreById",async(e,{rejectWithValue:t})=>{try{if(!e.trim())throw new Error("Store ID is required");return await Gm.getStore(e)}catch(r){const s=r;return t({message:s.message||`Failed to fetch store ${e}`,status:s.status,timestamp:new Date().toISOString()})}}),WS=Me("stores/createStore",async(e,{rejectWithValue:t,dispatch:r,getState:s})=>{try{if(!e.id||!e.name)throw new Error("Store ID and name are required");const a=await Gm.createStore(e),i=s();return r(Kp({page:i.stores.currentPage,per_page:i.stores.perPage,search:i.stores.searchQuery})),a}catch(a){const i=a;return t({message:i.message||"Failed to create store",status:i.status,timestamp:new Date().toISOString()})}}),qS=Me("stores/updateStore",async({storeId:e,payload:t},{rejectWithValue:r,dispatch:s,getState:a})=>{try{if(!e.trim())throw new Error("Store ID is required");const i=await Gm.updateStore(e,t),o=a();return s(Kp({page:o.stores.currentPage,per_page:o.stores.perPage,search:o.stores.searchQuery})),i}catch(i){const o=i;return r({message:o.message||`Failed to update store ${e}`,status:o.status,timestamp:new Date().toISOString()})}}),iD=Me("stores/fetchStoreUsers",async(e,{rejectWithValue:t})=>{try{if(!e.trim())throw new Error("Store ID is required");const r=await Gm.getStoreUsers(e);return{storeId:e,users:r}}catch(r){const s=r;return t({message:s.message||`Failed to fetch users for store ${e}`,status:s.status,timestamp:new Date().toISOString()})}}),oD=Me("stores/fetchStoreRoles",async(e,{rejectWithValue:t})=>{try{if(!e.trim())throw new Error("Store ID is required");const r=await Gm.getStoreRoles(e);return{storeId:e,roles:r}}catch(r){const s=r;return t({message:s.message||`Failed to fetch roles for store ${e}`,status:s.status,timestamp:new Date().toISOString()})}}),lD=Me("stores/searchStores",async({query:e,page:t=1},{rejectWithValue:r,getState:s})=>{try{const a=s();return await Gm.searchStores(e,{page:t,per_page:a.stores.perPage})}catch(a){const i=a;return r({message:i.message||"Failed to search stores",status:i.status,timestamp:new Date().toISOString()})}}),cX=Pt({name:"stores",initialState:w7,reducers:{clearErrors:e=>{Object.keys(e.asyncStates).forEach(t=>{const r=e.asyncStates[t];r.error=null})},clearError:(e,t)=>{e.asyncStates[t.payload].error=null},setSelectedStoreId:(e,t)=>{e.selectedStoreId=t.payload},setSearchQuery:(e,t)=>{e.searchQuery=t.payload},setCurrentPage:(e,t)=>{e.currentPage=Math.max(1,t.payload)},setPerPage:(e,t)=>{e.perPage=Math.max(1,Math.min(100,t.payload)),e.currentPage=1},resetStoresState:()=>({...w7}),resetPagination:e=>{e.currentPage=yC.page,e.perPage=yC.perPage,e.searchQuery=""},clearCurrentStore:e=>{e.currentStore=null},clearStoreUsers:(e,t)=>{t.payload?delete e.storeUsers[t.payload]:e.storeUsers={}},clearStoreRoles:(e,t)=>{t.payload?delete e.storeRoles[t.payload]:e.storeRoles={}},updateStoreInList:(e,t)=>{if(e.stores?.stores){const r=e.stores.stores.findIndex(s=>s.id===t.payload.id);r!==-1&&(e.stores.stores[r]=t.payload)}},removeStoreFromList:(e,t)=>{e.stores?.stores&&(e.stores.stores=e.stores.stores.filter(r=>r.id!==t.payload),e.stores.pagination&&(e.stores.pagination.total=Math.max(0,e.stores.pagination.total-1)))}},extraReducers:e=>{e.addCase(Kp.pending,t=>{t.asyncStates.fetchStores.loading=!0,t.asyncStates.fetchStores.error=null}).addCase(Kp.fulfilled,(t,r)=>{t.asyncStates.fetchStores.loading=!1,t.stores=r.payload,t.currentPage=r.payload.pagination.current_page}).addCase(Kp.rejected,(t,r)=>{t.asyncStates.fetchStores.loading=!1,t.asyncStates.fetchStores.error=r.payload?.message||"Failed to fetch stores"}),e.addCase(U0.pending,t=>{t.asyncStates.fetchStore.loading=!0,t.asyncStates.fetchStore.error=null}).addCase(U0.fulfilled,(t,r)=>{t.asyncStates.fetchStore.loading=!1,t.currentStore=r.payload,t.selectedStoreId=r.payload.id}).addCase(U0.rejected,(t,r)=>{t.asyncStates.fetchStore.loading=!1,t.asyncStates.fetchStore.error=r.payload?.message||"Failed to fetch store",t.currentStore=null}),e.addCase(WS.pending,t=>{t.asyncStates.createStore.loading=!0,t.asyncStates.createStore.error=null}).addCase(WS.fulfilled,(t,r)=>{t.asyncStates.createStore.loading=!1,t.stores?.stores&&(t.stores.stores.unshift(r.payload),t.stores.pagination&&(t.stores.pagination.total+=1))}).addCase(WS.rejected,(t,r)=>{t.asyncStates.createStore.loading=!1,t.asyncStates.createStore.error=r.payload?.message||"Failed to create store"}),e.addCase(qS.pending,t=>{t.asyncStates.updateStore.loading=!0,t.asyncStates.updateStore.error=null}).addCase(qS.fulfilled,(t,r)=>{if(t.asyncStates.updateStore.loading=!1,t.currentStore?.id===r.payload.id&&(t.currentStore=r.payload),t.stores?.stores){const s=t.stores.stores.findIndex(a=>a.id===r.payload.id);s!==-1&&(t.stores.stores[s]=r.payload)}}).addCase(qS.rejected,(t,r)=>{t.asyncStates.updateStore.loading=!1,t.asyncStates.updateStore.error=r.payload?.message||"Failed to update store"}),e.addCase(iD.pending,t=>{t.asyncStates.fetchStoreUsers.loading=!0,t.asyncStates.fetchStoreUsers.error=null}).addCase(iD.fulfilled,(t,r)=>{t.asyncStates.fetchStoreUsers.loading=!1,t.storeUsers[r.payload.storeId]=r.payload.users}).addCase(iD.rejected,(t,r)=>{t.asyncStates.fetchStoreUsers.loading=!1,t.asyncStates.fetchStoreUsers.error=r.payload?.message||"Failed to fetch store users"}),e.addCase(oD.pending,t=>{t.asyncStates.fetchStoreRoles.loading=!0,t.asyncStates.fetchStoreRoles.error=null}).addCase(oD.fulfilled,(t,r)=>{t.asyncStates.fetchStoreRoles.loading=!1,t.storeRoles[r.payload.storeId]=r.payload.roles}).addCase(oD.rejected,(t,r)=>{t.asyncStates.fetchStoreRoles.loading=!1,t.asyncStates.fetchStoreRoles.error=r.payload?.message||"Failed to fetch store roles"}),e.addCase(lD.pending,t=>{t.asyncStates.fetchStores.loading=!0,t.asyncStates.fetchStores.error=null}).addCase(lD.fulfilled,(t,r)=>{t.asyncStates.fetchStores.loading=!1,t.stores=r.payload,t.currentPage=r.payload.pagination.current_page}).addCase(lD.rejected,(t,r)=>{t.asyncStates.fetchStores.loading=!1,t.asyncStates.fetchStores.error=r.payload?.message||"Failed to search stores"})}}),{clearErrors:lOt,clearError:dX,setSelectedStoreId:cOt,setSearchQuery:dOt,setCurrentPage:NSe,setPerPage:iE,resetStoresState:uOt,resetPagination:fOt,clearCurrentStore:CSe,clearStoreUsers:mOt,clearStoreRoles:hOt,updateStoreInList:pOt,removeStoreFromList:gOt}=cX.actions,_Se=cX.reducer,ESe=e=>e.stores.stores?.stores||[],kSe=e=>e.stores.stores?.pagination,ASe=e=>e.stores.currentStore,TSe=e=>e.stores.selectedStoreId,DSe=e=>e.stores.searchQuery,PSe=e=>e.stores.currentPage,db=e=>e.stores.perPage,RSe=e=>e.stores.asyncStates.fetchStores.loading,MSe=e=>e.stores.asyncStates.fetchStore.loading,OSe=e=>e.stores.asyncStates.fetchStores.error,ISe=e=>e.stores.asyncStates.fetchStore.error,FSe=e=>t=>t.stores.stores?.stores.find(r=>r.id===e)||null,Gg={ASSIGN:"/user-role-store/assign",REMOVE:"/user-role-store/remove",TOGGLE:"/user-role-store/toggle",BULK_ASSIGN:"/user-role-store/bulk-assign",STORE_ASSIGNMENTS:"/user-role-store/store-assignments",USER_ASSIGNMENTS:"/user-role-store/user-assignments"},Yg={GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",PATCH:"PATCH"},$Se="https://auth.pnepizza.com/api/v1",LSe="5000",j7=3,BSe=()=>{try{const t=Pr.getState().auth?.token;return t||vr()}catch(e){return console.error("Error retrieving auth token:",e),null}},EI=ot.create({baseURL:$Se,timeout:LSe,headers:{Accept:"application/json","Content-Type":"application/json"}});EI.interceptors.request.use(e=>{const t=BSe();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));EI.interceptors.response.use(e=>e,e=>{const t=zSe(e);return Promise.reject(t)});const zSe=e=>{const t=new Date().toISOString();if(!e.response)return{message:e.message||"Network error occurred",code:"NETWORK_ERROR",details:{originalError:e.message,stack:e.stack},timestamp:t};const{status:r,data:s}=e.response,a=s;switch(r){case 401:return{message:"Authentication required. Please log in again.",code:"UNAUTHORIZED",details:a,timestamp:t};case 403:return{message:"Access forbidden. You do not have permission to perform this action.",code:"FORBIDDEN",details:a,timestamp:t};case 404:return{message:"Resource not found.",code:"NOT_FOUND",details:a,timestamp:t};case 422:return{message:a?.message||"Validation error occurred.",code:"VALIDATION_ERROR",details:a?.errors||a,timestamp:t};case 429:return{message:"Too many requests. Please try again later.",code:"RATE_LIMITED",details:a,timestamp:t};case 500:return{message:"Internal server error. Please try again later.",code:"INTERNAL_SERVER_ERROR",details:a,timestamp:t};default:return{message:a?.message||e.message||"An unexpected error occurred",code:r.toString(),details:a,timestamp:t}}},Ym=async(e,t=j7)=>{try{return await e()}catch(r){if(t>0){const s=(j7-t+1)*1e3;return await new Promise(a=>setTimeout(a,s)),Ym(e,t-1)}throw r}},Kg=async(e,t,r,s)=>{try{return{success:!0,data:(await EI({url:e,method:t,data:r,params:s})).data}}catch(a){return{success:!1,error:a}}},USe=async e=>Ym(()=>Kg(Gg.ASSIGN,Yg.POST,e)),HSe=async e=>Ym(()=>Kg(Gg.REMOVE,Yg.POST,e)),VSe=async e=>Ym(()=>Kg(Gg.TOGGLE,Yg.POST,e)),WSe=async e=>Ym(()=>Kg(Gg.BULK_ASSIGN,Yg.POST,e)),qSe=async e=>Ym(()=>Kg(Gg.STORE_ASSIGNMENTS,Yg.GET,void 0,e)),GSe=async e=>Ym(()=>Kg(Gg.USER_ASSIGNMENTS,Yg.GET,void 0,e)),tp=()=>({loading:"idle",error:null}),S7={assignments:[],storeAssignments:{},userAssignments:{},operations:{assign:tp(),remove:tp(),toggle:tp(),bulkAssign:tp(),fetchStoreAssignments:tp(),fetchUserAssignments:tp()},isLoading:!1,lastUpdated:{assignments:null,storeAssignments:{},userAssignments:{}}},GS=Me("userRolesStoresAssignment/assignUserRole",async(e,{rejectWithValue:t})=>{const r=await USe(e);return r.success?r.data:t(r.error)}),YS=Me("userRolesStoresAssignment/removeUserRole",async(e,{rejectWithValue:t})=>{const r=await HSe(e);return r.success?r.data:t(r.error)}),KS=Me("userRolesStoresAssignment/toggleUserRoleStatus",async(e,{rejectWithValue:t})=>{const r=await VSe(e);return r.success?r.data:t(r.error)}),ZS=Me("userRolesStoresAssignment/bulkAssignUserRole",async(e,{rejectWithValue:t})=>{const r=await WSe(e);return r.success?r.data:t(r.error)}),XS=Me("userRolesStoresAssignment/fetchStoreAssignments",async(e,{rejectWithValue:t})=>{const r=await qSe(e);return r.success?r.data:t(r.error)}),JS=Me("userRolesStoresAssignment/fetchUserAssignments",async(e,{rejectWithValue:t})=>{const r=await GSe(e);return r.success?r.data:t(r.error)}),uX=Pt({name:"userRolesStoresAssignment",initialState:S7,reducers:{clearErrors:e=>{Object.keys(e.operations).forEach(t=>{const r=t;e.operations[r].error=null})},clearOperationError:(e,t)=>{e.operations[t.payload].error=null},clearAssignments:e=>{e.assignments=[],e.storeAssignments={},e.userAssignments={},e.lastUpdated={assignments:null,storeAssignments:{},userAssignments:{}}},clearStoreAssignments:(e,t)=>{const r=t.payload;delete e.storeAssignments[r],delete e.lastUpdated.storeAssignments[r]},clearUserAssignments:(e,t)=>{const r=t.payload;delete e.userAssignments[r],delete e.lastUpdated.userAssignments[r]},resetState:()=>S7},extraReducers:e=>{e.addCase(GS.pending,t=>{t.operations.assign.loading="pending",t.operations.assign.error=null,t.isLoading=!0}).addCase(GS.fulfilled,(t,r)=>{t.operations.assign.loading="fulfilled",t.operations.assign.error=null,t.isLoading=!1;const s=r.payload.data.assignment;t.assignments.push(s);const a=s.store_id;t.storeAssignments[a]||(t.storeAssignments[a]=[]),t.storeAssignments[a].push(s);const i=s.user_id;t.userAssignments[i]||(t.userAssignments[i]=[]),t.userAssignments[i].push(s);const o=new Date().toISOString();t.lastUpdated.assignments=o,t.lastUpdated.storeAssignments[a]=o,t.lastUpdated.userAssignments[i]=o}).addCase(GS.rejected,(t,r)=>{t.operations.assign.loading="rejected",t.operations.assign.error=r.payload||{message:"Failed to assign user role",timestamp:new Date().toISOString()},t.isLoading=!1}),e.addCase(YS.pending,t=>{t.operations.remove.loading="pending",t.operations.remove.error=null,t.isLoading=!0}).addCase(YS.fulfilled,t=>{t.operations.remove.loading="fulfilled",t.operations.remove.error=null,t.isLoading=!1,t.lastUpdated.assignments=null}).addCase(YS.rejected,(t,r)=>{t.operations.remove.loading="rejected",t.operations.remove.error=r.payload||{message:"Failed to remove user role",timestamp:new Date().toISOString()},t.isLoading=!1}),e.addCase(KS.pending,t=>{t.operations.toggle.loading="pending",t.operations.toggle.error=null,t.isLoading=!0}).addCase(KS.fulfilled,t=>{t.operations.toggle.loading="fulfilled",t.operations.toggle.error=null,t.isLoading=!1,t.lastUpdated.assignments=null}).addCase(KS.rejected,(t,r)=>{t.operations.toggle.loading="rejected",t.operations.toggle.error=r.payload||{message:"Failed to toggle user role status",timestamp:new Date().toISOString()},t.isLoading=!1}),e.addCase(ZS.pending,t=>{t.operations.bulkAssign.loading="pending",t.operations.bulkAssign.error=null,t.isLoading=!0}).addCase(ZS.fulfilled,(t,r)=>{t.operations.bulkAssign.loading="fulfilled",t.operations.bulkAssign.error=null,t.isLoading=!1;const s=r.payload.data.assignments;t.assignments.push(...s);const a=new Date().toISOString();t.lastUpdated.assignments=a,s.forEach(i=>{const o=i.store_id,c=i.user_id;t.storeAssignments[o]||(t.storeAssignments[o]=[]),t.storeAssignments[o].push(i),t.lastUpdated.storeAssignments[o]=a,t.userAssignments[c]||(t.userAssignments[c]=[]),t.userAssignments[c].push(i),t.lastUpdated.userAssignments[c]=a})}).addCase(ZS.rejected,(t,r)=>{t.operations.bulkAssign.loading="rejected",t.operations.bulkAssign.error=r.payload||{message:"Failed to bulk assign user roles",timestamp:new Date().toISOString()},t.isLoading=!1}),e.addCase(XS.pending,t=>{t.operations.fetchStoreAssignments.loading="pending",t.operations.fetchStoreAssignments.error=null,t.isLoading=!0}).addCase(XS.fulfilled,(t,r)=>{t.operations.fetchStoreAssignments.loading="fulfilled",t.operations.fetchStoreAssignments.error=null,t.isLoading=!1;const s=r.payload.data.assignments;if(s.length>0){const a=s[0].store_id;t.storeAssignments[a]=s,t.lastUpdated.storeAssignments[a]=new Date().toISOString()}}).addCase(XS.rejected,(t,r)=>{t.operations.fetchStoreAssignments.loading="rejected",t.operations.fetchStoreAssignments.error=r.payload||{message:"Failed to fetch store assignments",timestamp:new Date().toISOString()},t.isLoading=!1}),e.addCase(JS.pending,t=>{t.operations.fetchUserAssignments.loading="pending",t.operations.fetchUserAssignments.error=null,t.isLoading=!0}).addCase(JS.fulfilled,(t,r)=>{t.operations.fetchUserAssignments.loading="fulfilled",t.operations.fetchUserAssignments.error=null,t.isLoading=!1;const s=r.payload.data.assignments;if(s.length>0){const a=s[0].user_id;t.userAssignments[a]=s,t.lastUpdated.userAssignments[a]=new Date().toISOString()}}).addCase(JS.rejected,(t,r)=>{t.operations.fetchUserAssignments.loading="rejected",t.operations.fetchUserAssignments.error=r.payload||{message:"Failed to fetch user assignments",timestamp:new Date().toISOString()},t.isLoading=!1})}}),{clearErrors:xOt,clearOperationError:vOt,clearAssignments:yOt,clearStoreAssignments:bOt,clearUserAssignments:wOt,resetState:jOt}=uX.actions,YSe=uX.reducer,KSe=e=>e.userRolesStoresAssignment,ZSe=e=>e.userRolesStoresAssignment.isLoading,Rp=e=>t=>t.userRolesStoresAssignment.operations[e].loading,Mp=e=>t=>t.userRolesStoresAssignment.operations[e].error,bC={BASE_URL:"https://auth.pnepizza.com/api/v1",TIMEOUT:5e3,RETRY_ATTEMPTS:3,RETRY_DELAY:1e3},XSe=()=>{try{const t=Pr.getState().auth?.token;return t&&typeof t=="string"?t:vr()}catch(e){return console.warn("Failed to retrieve auth token:",e),null}},Zg=ot.create({baseURL:bC.BASE_URL,timeout:bC.TIMEOUT,headers:{Accept:"application/json","Content-Type":"application/json"}});Zg.interceptors.request.use(e=>{const t=XSe();return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e.metadata={startTime:Date.now()},e},e=>Promise.reject(e));Zg.interceptors.response.use(e=>e,e=>Promise.reject(e));const oE=e=>{if(ot.isAxiosError(e)){const t=e;if(t.response){const{status:r,data:s}=t.response;return{code:r,message:s?.message||JSe(r),details:s?.error?.details,validation_errors:s?.error?.validation_errors}}return t.request?{code:"NETWORK_ERROR",message:"Network error - please check your connection and try again",details:{originalError:t.message}}:{code:"REQUEST_SETUP_ERROR",message:"Request configuration error",details:{originalError:t.message}}}return{code:"UNKNOWN_ERROR",message:e instanceof Error?e.message:"An unexpected error occurred",details:{originalError:String(e)}}},JSe=e=>({400:"Invalid request data - please check your input",401:"Authentication required - please log in again",403:"You do not have permission to perform this action",404:"The requested resource was not found",409:"Conflict - this operation cannot be completed",422:"Validation failed - please check your input data",429:"Too many requests - please try again later",500:"Server error - please try again later",502:"Service temporarily unavailable",503:"Service maintenance in progress"})[e]||`Request failed with status ${e}`,ub=async(e,t=bC.RETRY_ATTEMPTS,r=bC.RETRY_DELAY)=>{try{return await e()}catch(s){if(t>0&&QSe(s))return await new Promise(a=>setTimeout(a,r)),ub(e,t-1,r*2);throw s}},QSe=e=>ot.isAxiosError(e)?!e.response||e.response.status>=500:!1,eNe=async e=>{try{const t=await ub(async()=>await Zg.post("/role-hierarchy",e));if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.message||"Failed to create role hierarchy")}catch(t){throw oE(t)}},tNe=async e=>{if(!e||typeof e!="string")throw{code:"INVALID_STORE_ID",message:"Store ID is required and must be a valid string"};try{const t=await ub(async()=>await Zg.get(`/role-hierarchy/store?store_id=${encodeURIComponent(e)}`));if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.message||"Failed to fetch store hierarchies")}catch(t){throw oE(t)}},rNe=async e=>{if(!e||typeof e!="string")throw{code:"INVALID_STORE_ID",message:"Store ID is required and must be a valid string"};try{const t=await ub(async()=>await Zg.get(`/role-hierarchy/tree?store_id=${encodeURIComponent(e)}`));if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.message||"Failed to fetch hierarchy tree")}catch(t){throw oE(t)}},sNe=async e=>{try{const t=await ub(async()=>await Zg.post("/role-hierarchy/remove",e));if(!t.data.success)throw new Error(t.data.message||"Failed to remove role hierarchy");return}catch(t){throw oE(t)}},nNe=e=>{const t=(r,s=0,a=[])=>{const i=[...a,r.role.id];return{...r,children:r.children.map(o=>t(o,s+1,i)),treeMetadata:{depth:s,path:i,isExpanded:s<2,isSelected:!1,isLoading:!1,hasError:!1}}};return e.map(r=>t(r))},aNe=e=>{const t=[],r=(s,a="")=>{s.forEach(i=>{const o=a?`${a} > ${i.role.name}`:i.role.name;t.push({...i,flatPath:o}),i.children.length>0&&r(i.children,o)})};return r(e),t},iNe=e=>{const t=[],r=new Set;return e.forEach((s,a)=>{r.has(s.higher_role_id)&&r.has(s.lower_role_id)&&t.push(`Potential circular reference detected in hierarchy ${a+1}`),r.add(s.higher_role_id),r.add(s.lower_role_id),s.higher_role_id===s.lower_role_id&&t.push(`Self-referencing hierarchy detected in hierarchy ${a+1}`),s.store_id||t.push(`Missing store_id in hierarchy ${a+1}`)}),{isValid:t.length===0,issues:t}},Ic={createRoleHierarchy:eNe,getStoreHierarchy:tNe,getStoreHierarchyTree:rNe,removeRoleHierarchy:sNe,transformApiTreeToNormalized:nNe,flattenTree:aNe,validateHierarchyData:iNe},oNe={hierarchiesById:{},hierarchiesByStore:{},treesByStore:{},rolesById:{},permissionsById:{},storesById:{},loading:{creating:!1,fetchingHierarchies:!1,fetchingTree:!1,removing:!1},errors:{createError:null,fetchError:null,treeError:null,removeError:null},lastUpdated:{},selectedStoreId:null},H0=Me("roleHierarchy/createHierarchy",async(e,{rejectWithValue:t})=>{try{return(await Ic.createRoleHierarchy(e)).hierarchy}catch(r){return t(r)}}),lm=Me("roleHierarchy/fetchStoreHierarchies",async(e,{rejectWithValue:t,getState:r})=>{try{const s=r(),a=s.roleHierarchy.lastUpdated[`hierarchies_${e}`];return a&&Date.now()-a<3e5&&s.roleHierarchy.hierarchiesByStore[e]?.length>0?s.roleHierarchy.hierarchiesByStore[e].map(d=>s.roleHierarchy.hierarchiesById[d]).filter(Boolean):(await Ic.getStoreHierarchy(e)).hierarchies}catch(s){return t(s)}}),cm=Me("roleHierarchy/fetchHierarchyTree",async(e,{rejectWithValue:t,getState:r})=>{try{const s=r(),a=s.roleHierarchy.lastUpdated[`tree_${e}`];if(a&&Date.now()-a<3e5&&s.roleHierarchy.treesByStore[e]?.length>0)return s.roleHierarchy.treesByStore[e];const o=await Ic.getStoreHierarchyTree(e);return Ic.transformApiTreeToNormalized(o.hierarchy_tree)}catch(s){return t(s)}}),V0=Me("roleHierarchy/removeHierarchy",async(e,{rejectWithValue:t,dispatch:r})=>{try{return await Ic.removeRoleHierarchy(e),r(lm(e.store_id)),r(cm(e.store_id)),e}catch(s){return t(s)}}),cD=Me("roleHierarchy/refreshStoreData",async(e,{rejectWithValue:t})=>{try{const[r,s]=await Promise.all([Ic.getStoreHierarchy(e),Ic.getStoreHierarchyTree(e)]);return{hierarchies:r.hierarchies,tree:Ic.transformApiTreeToNormalized(s.hierarchy_tree)}}catch(r){return t(r)}}),fX=Pt({name:"roleHierarchy",initialState:oNe,reducers:{setSelectedStoreId:(e,t)=>{e.selectedStoreId=t.payload},clearErrors:e=>{e.errors={createError:null,fetchError:null,treeError:null,removeError:null}},clearError:(e,t)=>{e.errors[t.payload]=null},updateTreeNodeMetadata:(e,t)=>{const{storeId:r,roleId:s,metadata:a}=t.payload,i=e.treesByStore[r];if(i){const o=c=>{c.forEach(d=>{d.role.id===s?d.treeMetadata={...d.treeMetadata,...a}:d.children.length>0&&o(d.children)})};o(i)}},invalidateStoreCache:(e,t)=>{const r=t.payload;delete e.lastUpdated[`hierarchies_${r}`],delete e.lastUpdated[`tree_${r}`]},normalizeEntities:(e,t)=>{const{roles:r,permissions:s,stores:a}=t.payload;r&&r.forEach(i=>{e.rolesById[i.id]=i}),s&&s.forEach(i=>{e.permissionsById[i.id]=i}),a&&a.forEach(i=>{e.storesById[i.id]=i})}},extraReducers:e=>{e.addCase(H0.pending,t=>{t.loading.creating=!0,t.errors.createError=null}).addCase(H0.fulfilled,(t,r)=>{t.loading.creating=!1,t.errors.createError=null;const s=r.payload;t.hierarchiesById[s.id]=s;const a=s.store_id;t.hierarchiesByStore[a]||(t.hierarchiesByStore[a]=[]),t.hierarchiesByStore[a].includes(s.id)||t.hierarchiesByStore[a].push(s.id),s.higher_role&&(t.rolesById[s.higher_role.id]=s.higher_role),s.lower_role&&(t.rolesById[s.lower_role.id]=s.lower_role),s.store&&(t.storesById[s.store.id]=s.store),t.lastUpdated[`hierarchies_${a}`]=Date.now()}).addCase(H0.rejected,(t,r)=>{t.loading.creating=!1,t.errors.createError=r.payload||{code:"CREATE_FAILED",message:"Failed to create hierarchy"}}).addCase(lm.pending,t=>{t.loading.fetchingHierarchies=!0,t.errors.fetchError=null}).addCase(lm.fulfilled,(t,r)=>{t.loading.fetchingHierarchies=!1,t.errors.fetchError=null;const s=r.payload,a=r.meta.arg;t.hierarchiesByStore[a]=[],s.forEach(i=>{t.hierarchiesById[i.id]=i,t.hierarchiesByStore[a].push(i.id),i.higher_role&&(t.rolesById[i.higher_role.id]=i.higher_role),i.lower_role&&(t.rolesById[i.lower_role.id]=i.lower_role)}),!t.selectedStoreId&&s.length>0&&(t.selectedStoreId=a),t.lastUpdated[`hierarchies_${a}`]=Date.now()}).addCase(lm.rejected,(t,r)=>{t.loading.fetchingHierarchies=!1,t.errors.fetchError=r.payload||{code:"FETCH_FAILED",message:"Failed to fetch store hierarchies"}}).addCase(cm.pending,t=>{t.loading.fetchingTree=!0,t.errors.treeError=null}).addCase(cm.fulfilled,(t,r)=>{t.loading.fetchingTree=!1,t.errors.treeError=null;const s=r.payload,a=r.meta.arg;t.treesByStore[a]=s;const i=o=>{o.forEach(c=>{t.rolesById[c.role.id]=c.role,c.permissions?.forEach(d=>{t.permissionsById[d.id]=d}),c.children.length>0&&i(c.children)})};i(s),t.lastUpdated[`tree_${a}`]=Date.now()}).addCase(cm.rejected,(t,r)=>{t.loading.fetchingTree=!1,t.errors.treeError=r.payload||{code:"TREE_FETCH_FAILED",message:"Failed to fetch hierarchy tree"}}).addCase(V0.pending,t=>{t.loading.removing=!0,t.errors.removeError=null}).addCase(V0.fulfilled,(t,r)=>{t.loading.removing=!1,t.errors.removeError=null;const{store_id:s}=r.payload;delete t.lastUpdated[`hierarchies_${s}`],delete t.lastUpdated[`tree_${s}`]}).addCase(V0.rejected,(t,r)=>{t.loading.removing=!1,t.errors.removeError=r.payload||{code:"REMOVE_FAILED",message:"Failed to remove hierarchy"}}).addCase(cD.pending,t=>{t.loading.fetchingHierarchies=!0,t.loading.fetchingTree=!0}).addCase(cD.fulfilled,(t,r)=>{t.loading.fetchingHierarchies=!1,t.loading.fetchingTree=!1;const{hierarchies:s,tree:a}=r.payload,i=r.meta.arg;t.hierarchiesByStore[i]=[],s.forEach(c=>{t.hierarchiesById[c.id]=c,t.hierarchiesByStore[i].push(c.id)}),t.treesByStore[i]=a;const o=Date.now();t.lastUpdated[`hierarchies_${i}`]=o,t.lastUpdated[`tree_${i}`]=o}).addCase(cD.rejected,(t,r)=>{t.loading.fetchingHierarchies=!1,t.loading.fetchingTree=!1,t.errors.fetchError=r.payload||{code:"REFRESH_FAILED",message:"Failed to refresh store data"}})}}),Wl=e=>e.roleHierarchy,fb=we([Wl],e=>e.loading);we([fb],e=>Object.values(e).some(Boolean));const mb=we([Wl],e=>e.errors);we([mb],e=>Object.values(e).some(Boolean));const lNe=we([Wl],e=>e.selectedStoreId);we([Wl],e=>Object.values(e.hierarchiesById));const cNe=()=>we([Wl,(e,t)=>t],(e,t)=>(e.hierarchiesByStore[t]||[]).map(s=>e.hierarchiesById[s]).filter(Boolean).sort((s,a)=>new Date(a.created_at).getTime()-new Date(s.created_at).getTime())),dNe=we([Wl,lNe],(e,t)=>t?e.treesByStore[t]||[]:[]),uNe=()=>we([Wl,(e,t)=>t],(e,t)=>e.treesByStore[t]||[]);we([Wl],e=>Object.values(e.rolesById));we([Wl],e=>Object.values(e.permissionsById));we([dNe],e=>e.length?Ic.flattenTree(e):[]);const mX=()=>we([Wl,(e,t)=>t],(e,t)=>{const r=e.lastUpdated[`hierarchies_${t}`],s=e.lastUpdated[`tree_${t}`],a=Date.now(),i=3e5;return{hierarchiesIsFresh:r&&a-r<i,treeIsFresh:s&&a-s<i,lastUpdated:{hierarchies:r||null,tree:s||null}}}),{setSelectedStoreId:SOt,clearErrors:NOt,clearError:hX,updateTreeNodeMetadata:COt,invalidateStoreCache:pX,normalizeEntities:_Ot}=fX.actions,fNe=fX.reducer,mNe="http://127.0.0.1:8000/api",Fv="/positions",hNe=()=>{try{const t=Pr.getState().auth?.token;return t||vr()}catch(e){return console.error("Error retrieving auth token:",e),null}},Vf=ot.create({baseURL:mNe,timeout:5e3,headers:{Accept:"application/json","Content-Type":"application/json"}});Vf.interceptors.request.use(e=>{const t=hNe();return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));Vf.interceptors.response.use(e=>e,e=>(console.error(" API Error:",{method:e.config?.method?.toUpperCase(),url:e.config?.url,status:e.response?.status,message:e.message,data:e.response?.data}),Promise.reject(e)));const $v=e=>{if(ot.isAxiosError(e)){const t=e,r=t.response?.data;return{message:r?.message||t.message||"An unexpected error occurred",status:t.response?.status||500,errors:r?.errors||void 0,code:r?.code||"UNKNOWN_ERROR"}}return e instanceof Error?{message:e.message,status:500,code:"NETWORK_ERROR"}:{message:"An unexpected error occurred",status:500,code:"UNKNOWN_ERROR"}},pNe=e=>{const t=new URLSearchParams;return Object.entries(e).forEach(([r,s])=>{s!=null&&s!==""&&t.append(r,s.toString())}),t.toString()};class gNe{async getAllPositions(t={}){try{console.log(" Fetching positions list with params:",t);const r=pNe(t),s=`${Fv}${r?`?${r}`:""}`,a=await Vf.get(s);return console.log(` Successfully fetched ${a.data.length} positions`),a.data}catch(r){const s=$v(r);throw console.error(" Failed to fetch positions:",s),s}}async getPositionById(t){try{console.log(` Fetching position with ID: ${t}`);const r=await Vf.get(`${Fv}/${t}`);return console.log(` Successfully fetched position: ${r.data.name}`),r.data}catch(r){const s=$v(r);throw console.error(` Failed to fetch position ${t}:`,s),s}}async createPosition(t){try{if(console.log(" Creating new position:",t),!t.name?.trim())throw{message:"Position name is required",status:400,errors:{name:["Position name is required"]},code:"VALIDATION_ERROR"};const r=await Vf.post(Fv,t);return console.log(` Successfully created position: ${r.data.name} (ID: ${r.data.id})`),r.data}catch(r){const s=$v(r);throw console.error(" Failed to create position:",s),s}}async updatePosition(t,r){try{if(console.log(` Updating position ${t}:`,r),!r.name?.trim())throw{message:"Position name is required",status:400,errors:{name:["Position name is required"]},code:"VALIDATION_ERROR"};const s=await Vf.put(`${Fv}/${t}`,r);return console.log(` Successfully updated position: ${s.data.name} (ID: ${s.data.id})`),s.data}catch(s){const a=$v(s);throw console.error(` Failed to update position ${t}:`,a),a}}async deletePosition(t){try{console.log(` Deleting position with ID: ${t}`),await Vf.delete(`${Fv}/${t}`),console.log(` Successfully deleted position with ID: ${t}`)}catch(r){const s=$v(r);throw console.error(` Failed to delete position ${t}:`,s),s}}async isSlugAvailable(t,r){try{console.log(` Checking slug availability: ${t}`);const s={search:t},o=!(await this.getAllPositions(s)).find(c=>c.slug===t&&c.id!==r);return console.log(`${o?"":""} Slug "${t}" is ${o?"available":"taken"}`),o}catch(s){return console.error(" Error checking slug availability:",s),!1}}}const Xg=new gNe,{getAllPositions:EOt,getPositionById:kOt,createPosition:AOt,updatePosition:TOt,deletePosition:DOt,isSlugAvailable:POt}=Xg,N7={positions:[],selectedPosition:null,loading:{list:!1,single:!1,create:!1,update:!1,delete:!1},error:{list:null,single:null,create:null,update:null,delete:null},pagination:{currentPage:1,totalPages:1,perPage:10,total:0},ui:{isCreateModalOpen:!1,isEditModalOpen:!1,deletingId:null}},QS=Me("positions/fetchPositions",async(e={},{rejectWithValue:t})=>{try{console.log(" Redux: Starting fetchPositions with params:",e);const r=await Xg.getAllPositions(e);return console.log(` Redux: Successfully fetched ${r.length} positions`),r}catch(r){const s=r;return console.error(" Redux: fetchPositions failed:",s),t(s)}}),eN=Me("positions/fetchPositionById",async(e,{rejectWithValue:t})=>{try{console.log(` Redux: Starting fetchPositionById for ID: ${e}`);const r=await Xg.getPositionById(e);return console.log(` Redux: Successfully fetched position: ${r.name}`),r}catch(r){const s=r;return console.error(` Redux: fetchPositionById failed for ID ${e}:`,s),t(s)}}),tN=Me("positions/createPosition",async(e,{rejectWithValue:t})=>{try{console.log(" Redux: Starting createPosition with data:",e);const r=await Xg.createPosition(e);return console.log(` Redux: Successfully created position: ${r.name} (ID: ${r.id})`),r}catch(r){const s=r;return console.error(" Redux: createPosition failed:",s),t(s)}}),rN=Me("positions/updatePosition",async({id:e,data:t},{rejectWithValue:r})=>{try{console.log(` Redux: Starting updatePosition for ID ${e} with data:`,t);const s=await Xg.updatePosition(e,t);return console.log(` Redux: Successfully updated position: ${s.name} (ID: ${s.id})`),s}catch(s){const a=s;return console.error(` Redux: updatePosition failed for ID ${e}:`,a),r(a)}}),sN=Me("positions/deletePosition",async(e,{rejectWithValue:t})=>{try{return console.log(` Redux: Starting deletePosition for ID: ${e}`),await Xg.deletePosition(e),console.log(` Redux: Successfully deleted position with ID: ${e}`),e}catch(r){const s=r;return console.error(` Redux: deletePosition failed for ID ${e}:`,s),t(s)}}),gX=Pt({name:"positions",initialState:N7,reducers:{setSelectedPosition:(e,t)=>{e.selectedPosition=t.payload,e.error.single=null},clearSelectedPosition:e=>{e.selectedPosition=null,e.error.single=null},openCreateModal:e=>{e.ui.isCreateModalOpen=!0,e.error.create=null},closeCreateModal:e=>{e.ui.isCreateModalOpen=!1,e.error.create=null},openEditModal:e=>{e.ui.isEditModalOpen=!0,e.error.update=null},closeEditModal:e=>{e.ui.isEditModalOpen=!1,e.error.update=null},setDeletingId:(e,t)=>{e.ui.deletingId=t.payload,t.payload===null&&(e.error.delete=null)},clearAllErrors:e=>{e.error={list:null,single:null,create:null,update:null,delete:null}},clearError:(e,t)=>{e.error[t.payload]=null},updatePagination:(e,t)=>{e.pagination={...e.pagination,...t.payload}},resetPositionsState:()=>N7},extraReducers:e=>{e.addCase(QS.pending,t=>{t.loading.list=!0,t.error.list=null}).addCase(QS.fulfilled,(t,r)=>{t.loading.list=!1,t.positions=r.payload,t.error.list=null,r.meta.arg?.per_page&&(t.pagination.perPage=r.meta.arg.per_page),t.pagination.total=r.payload.length}).addCase(QS.rejected,(t,r)=>{t.loading.list=!1,t.error.list=r.payload?.message||"Failed to fetch positions",console.error(" Redux: fetchPositions rejected:",r.payload)}),e.addCase(eN.pending,t=>{t.loading.single=!0,t.error.single=null}).addCase(eN.fulfilled,(t,r)=>{t.loading.single=!1,t.selectedPosition=r.payload,t.error.single=null}).addCase(eN.rejected,(t,r)=>{t.loading.single=!1,t.selectedPosition=null,t.error.single=r.payload?.message||"Failed to fetch position",console.error(" Redux: fetchPositionById rejected:",r.payload)}),e.addCase(tN.pending,t=>{t.loading.create=!0,t.error.create=null}).addCase(tN.fulfilled,(t,r)=>{t.loading.create=!1,t.error.create=null,t.positions.unshift(r.payload),t.pagination.total+=1,t.ui.isCreateModalOpen=!1,t.selectedPosition=r.payload}).addCase(tN.rejected,(t,r)=>{t.loading.create=!1,t.error.create=r.payload?.message||"Failed to create position",console.error(" Redux: createPosition rejected:",r.payload)}),e.addCase(rN.pending,t=>{t.loading.update=!0,t.error.update=null}).addCase(rN.fulfilled,(t,r)=>{t.loading.update=!1,t.error.update=null;const s=t.positions.findIndex(a=>a.id===r.payload.id);s!==-1&&(t.positions[s]=r.payload),t.selectedPosition?.id===r.payload.id&&(t.selectedPosition=r.payload),t.ui.isEditModalOpen=!1}).addCase(rN.rejected,(t,r)=>{t.loading.update=!1,t.error.update=r.payload?.message||"Failed to update position",console.error(" Redux: updatePosition rejected:",r.payload)}),e.addCase(sN.pending,t=>{t.loading.delete=!0,t.error.delete=null}).addCase(sN.fulfilled,(t,r)=>{t.loading.delete=!1,t.error.delete=null;const s=r.payload;t.positions=t.positions.filter(a=>a.id!==s),t.selectedPosition?.id===s&&(t.selectedPosition=null),t.pagination.total=Math.max(0,t.pagination.total-1),t.ui.deletingId=null}).addCase(sN.rejected,(t,r)=>{t.loading.delete=!1,t.error.delete=r.payload?.message||"Failed to delete position",t.ui.deletingId=null,console.error(" Redux: deletePosition rejected:",r.payload)})}}),{setSelectedPosition:xNe,clearSelectedPosition:vNe,openCreateModal:yNe,closeCreateModal:bNe,openEditModal:wNe,closeEditModal:jNe,setDeletingId:SNe,clearAllErrors:NNe,clearError:CNe,updatePagination:_Ne,resetPositionsState:ENe}=gX.actions,kNe=e=>e.positions.positions,ANe=e=>e.positions.selectedPosition,TNe=e=>e.positions.loading,DNe=e=>e.positions.error,PNe=e=>e.positions.pagination,RNe=e=>e.positions.ui,MNe=e=>{const{loading:t}=e.positions;return t.list||t.single||t.create||t.update||t.delete},ONe=gX.reducer,Lv={FETCH_ALL:"FETCH_ALL",FETCH_BY_ID:"FETCH_BY_ID",CREATE:"CREATE",UPDATE:"UPDATE",DELETE:"DELETE"},kp={OK:200,CREATED:201,NO_CONTENT:204,BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,UNPROCESSABLE_ENTITY:422,INTERNAL_SERVER_ERROR:500},Bv="http://127.0.0.1:8000/api/statuses",INe=()=>{try{const t=Pr.getState().auth?.token;return t||vr()}catch(e){return console.error("Error retrieving auth token:",e),null}},zv=(e=!1)=>{const t=INe();if(!t)throw new Error("Authentication token not found. Please log in again.");const r={Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${t}`};return e&&(r["Content-Type"]="application/json"),r},Uv=(e,t,r)=>{const s=new Date().toISOString();if(ot.isAxiosError(e)){const i=e,o=i.response?.status,c=i.response?.statusText,d=i.response?.data;let u=r||"An error occurred while processing your request";switch(o){case kp.UNAUTHORIZED:u="Authentication failed. Please log in again.";break;case kp.FORBIDDEN:u="You do not have permission to perform this action.";break;case kp.NOT_FOUND:u="The requested status was not found.";break;case kp.UNPROCESSABLE_ENTITY:u="Invalid data provided. Please check your input and try again.";break;case kp.INTERNAL_SERVER_ERROR:u="Server error occurred. Please try again later.";break;default:u=r||`Request failed with status ${o}: ${c}`}return{message:u,status:o,operation:t,details:typeof d=="string"?d:JSON.stringify(d),timestamp:s}}const a=e instanceof Error?e.message:"Unknown error occurred";return console.error(`API Error [${t}]:`,{error:a,operation:t,timestamp:s}),{message:r||"Network error occurred. Please check your connection.",operation:t,details:a,timestamp:s}};class hb{static async getAllStatuses(){try{const t=zv();return(await ot.get(Bv,{headers:t})).data}catch(t){throw Uv(t,Lv.FETCH_ALL,"Failed to fetch statuses")}}static async getStatusById(t){try{const r=zv();return(await ot.get(`${Bv}/${t}`,{headers:r})).data}catch(r){throw Uv(r,Lv.FETCH_BY_ID,`Failed to fetch status with ID: ${t}`)}}static async createStatus(t){try{if(!t.description||t.description.trim()==="")throw new Error("Description is required");const r=zv(!0);return(await ot.post(Bv,t,{headers:r})).data}catch(r){throw Uv(r,Lv.CREATE,"Failed to create status")}}static async updateStatus(t){try{const{id:r,data:s}=t;if(!s.description||s.description.trim()==="")throw new Error("Description is required");const a=zv(!0);return(await ot.put(`${Bv}/${r}`,s,{headers:a})).data}catch(r){throw Uv(r,Lv.UPDATE,`Failed to update status with ID: ${t.id}`)}}static async deleteStatus(t){try{const{id:r}=t,s=zv(),a=await ot.delete(`${Bv}/${r}`,{headers:s});a.status!==kp.NO_CONTENT&&console.warn(`Unexpected status code for delete operation: ${a.status}`)}catch(r){throw Uv(r,Lv.DELETE,`Failed to delete status with ID: ${t.id}`)}}}const C7={entities:{},ids:[],loading:{fetchAll:!1,fetchById:!1,create:!1,update:!1,delete:!1},errors:{fetchAll:null,fetchById:null,create:null,update:null,delete:null},lastFetched:null,total:0},nN=Me("statuses/fetchAll",async(e,{rejectWithValue:t})=>{try{return await hb.getAllStatuses()}catch(r){return t(r)}}),dD=Me("statuses/fetchById",async(e,{rejectWithValue:t})=>{try{return await hb.getStatusById(e)}catch(r){return t(r)}}),aN=Me("statuses/create",async(e,{rejectWithValue:t})=>{try{return await hb.createStatus(e)}catch(r){return t(r)}}),iN=Me("statuses/update",async(e,{rejectWithValue:t})=>{try{return await hb.updateStatus(e)}catch(r){return t(r)}}),oN=Me("statuses/delete",async(e,{rejectWithValue:t})=>{try{return await hb.deleteStatus(e),e.id}catch(r){return t(r)}}),FNe=e=>{const t={},r=[];return e.forEach(s=>{t[s.id]=s,r.push(s.id)}),{entities:t,ids:r}},_7=(e,t)=>{e.entities[t.id]=t,e.ids.includes(t.id)||(e.ids.push(t.id),e.ids.sort((r,s)=>s-r)),e.total=e.ids.length},$Ne=(e,t)=>{delete e.entities[t],e.ids=e.ids.filter(r=>r!==t),e.total=e.ids.length},xX=Pt({name:"statuses",initialState:C7,reducers:{clearErrors:e=>{e.errors={fetchAll:null,fetchById:null,create:null,update:null,delete:null}},clearError:(e,t)=>{e.errors[t.payload]=null},resetStatusesState:()=>C7,optimisticUpdateStatus:(e,t)=>{const r=t.payload;e.entities[r.id]=r}},extraReducers:e=>{e.addCase(nN.pending,t=>{t.loading.fetchAll=!0,t.errors.fetchAll=null}).addCase(nN.fulfilled,(t,r)=>{t.loading.fetchAll=!1;const{entities:s,ids:a}=FNe(r.payload);t.entities=s,t.ids=a,t.total=a.length,t.lastFetched=new Date().toISOString()}).addCase(nN.rejected,(t,r)=>{t.loading.fetchAll=!1,t.errors.fetchAll=r.payload?.message||"Failed to fetch statuses"}).addCase(dD.pending,t=>{t.loading.fetchById=!0,t.errors.fetchById=null}).addCase(dD.fulfilled,(t,r)=>{t.loading.fetchById=!1,_7(t,r.payload)}).addCase(dD.rejected,(t,r)=>{t.loading.fetchById=!1,t.errors.fetchById=r.payload?.message||"Failed to fetch status"}).addCase(aN.pending,t=>{t.loading.create=!0,t.errors.create=null}).addCase(aN.fulfilled,(t,r)=>{t.loading.create=!1,_7(t,r.payload)}).addCase(aN.rejected,(t,r)=>{t.loading.create=!1,t.errors.create=r.payload?.message||"Failed to create status"}).addCase(iN.pending,t=>{t.loading.update=!0,t.errors.update=null}).addCase(iN.fulfilled,(t,r)=>{t.loading.update=!1,t.entities[r.payload.id]=r.payload}).addCase(iN.rejected,(t,r)=>{t.loading.update=!1,t.errors.update=r.payload?.message||"Failed to update status"}).addCase(oN.pending,t=>{t.loading.delete=!0,t.errors.delete=null}).addCase(oN.fulfilled,(t,r)=>{t.loading.delete=!1,$Ne(t,r.payload)}).addCase(oN.rejected,(t,r)=>{t.loading.delete=!1,t.errors.delete=r.payload?.message||"Failed to delete status"})}}),{clearErrors:LNe,clearError:BNe,resetStatusesState:zNe,optimisticUpdateStatus:UNe}=xX.actions,HNe=e=>{const{entities:t,ids:r}=e.statuses;return r.map(s=>t[s])},VNe=e=>e.statuses.loading,WNe=e=>e.statuses.errors,qNe=e=>({total:e.statuses.total,lastFetched:e.statuses.lastFetched}),GNe=e=>{const t=e.statuses.loading;return Object.values(t).some(r=>r)},YNe=e=>{const t=e.statuses.errors;return Object.values(t).some(r=>r!==null)},KNe=xX.reducer,ZNe="http://127.0.0.1:8000/api",Hv="/skills",XNe=()=>{try{const t=Pr.getState().auth?.token;return t||vr()}catch(e){return console.error("Error retrieving auth token:",e),null}},Wf=ot.create({baseURL:ZNe,timeout:5e3,headers:{"Content-Type":"application/json",Accept:"application/json"}});Wf.interceptors.request.use(e=>{const t=XNe();return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));Wf.interceptors.response.use(e=>e,e=>(console.error(" API Error:",{method:e.config?.method?.toUpperCase(),url:e.config?.url,status:e.response?.status,message:e.message,data:e.response?.data}),Promise.reject(e)));const Vv=e=>{if(ot.isAxiosError(e)){const t=e,r=t.response?.data;return{message:r?.message||t.message||"An unexpected error occurred",status:t.response?.status||500,errors:r?.errors||void 0,code:r?.code||"UNKNOWN_ERROR",details:r||void 0}}return e instanceof Error?{message:e.message,status:500,code:"NETWORK_ERROR"}:{message:"An unexpected error occurred",status:500,code:"UNKNOWN_ERROR"}};class JNe{async getAllSkills(){try{console.log(" Fetching all skills");const t=await Wf.get(Hv);return console.log(` Successfully fetched ${t.data.length} skills`),t.data}catch(t){const r=Vv(t);throw console.error(" Failed to fetch skills:",r),r}}async getSkillById(t){try{console.log(` Fetching skill with ID: ${t}`);const r=await Wf.get(`${Hv}/${t}`);return console.log(` Successfully fetched skill: ${r.data.name}`),r.data}catch(r){const s=Vv(r);throw console.error(` Failed to fetch skill ${t}:`,s),s}}async createSkill(t){try{if(console.log(" Creating new skill:",t),!t.name?.trim())throw{message:"Skill name is required",status:400,errors:{name:["Skill name is required"]},code:"VALIDATION_ERROR"};const r=await Wf.post(Hv,t,{headers:{"Content-Type":"application/json"}});return console.log(` Successfully created skill: ${r.data.name} (ID: ${r.data.id})`),r.data}catch(r){const s=Vv(r);throw console.error(" Failed to create skill:",s),s}}async updateSkill(t,r){try{if(console.log(` Updating skill ${t}:`,r),!r.name?.trim())throw{message:"Skill name is required",status:400,errors:{name:["Skill name is required"]},code:"VALIDATION_ERROR"};const s=await Wf.put(`${Hv}/${t}`,r,{headers:{"Content-Type":"application/json"}});return console.log(` Successfully updated skill: ${s.data.name} (ID: ${s.data.id})`),s.data}catch(s){const a=Vv(s);throw console.error(` Failed to update skill ${t}:`,a),a}}async deleteSkill(t){try{console.log(` Deleting skill with ID: ${t}`),await Wf.delete(`${Hv}/${t}`),console.log(` Successfully deleted skill with ID: ${t}`)}catch(r){const s=Vv(r);throw console.error(` Failed to delete skill ${t}:`,s),s}}}const Jg=new JNe,{getAllSkills:ROt,getSkillById:E7,createSkill:MOt,updateSkill:OOt,deleteSkill:IOt}=Jg,k7={skills:[],selectedSkill:null,loading:{list:!1,single:!1,create:!1,update:!1,delete:!1},error:{list:null,single:null,create:null,update:null,delete:null},ui:{isCreateModalOpen:!1,isEditModalOpen:!1,deletingId:null}},lN=Me("skills/fetchSkills",async(e,{rejectWithValue:t})=>{try{console.log(" Redux: Starting fetchSkills");const r=await Jg.getAllSkills();return console.log(` Redux: Successfully fetched ${r.length} skills`),r}catch(r){const s=r;return console.error(" Redux: fetchSkills failed:",s),t(s)}}),cN=Me("skills/fetchSkillById",async(e,{rejectWithValue:t})=>{try{console.log(` Redux: Starting fetchSkillById for ID: ${e}`);const r=await Jg.getSkillById(e);return console.log(` Redux: Successfully fetched skill: ${r.name}`),r}catch(r){const s=r;return console.error(` Redux: fetchSkillById failed for ID ${e}:`,s),t(s)}}),dN=Me("skills/createSkill",async(e,{rejectWithValue:t})=>{try{console.log(" Redux: Starting createSkill with data:",e);const r=await Jg.createSkill(e);return console.log(` Redux: Successfully created skill: ${r.name} (ID: ${r.id})`),r}catch(r){const s=r;return console.error(" Redux: createSkill failed:",s),t(s)}}),uN=Me("skills/updateSkill",async({id:e,data:t},{rejectWithValue:r})=>{try{console.log(` Redux: Starting updateSkill for ID ${e} with data:`,t);const s=await Jg.updateSkill(e,t);return console.log(` Redux: Successfully updated skill: ${s.name} (ID: ${s.id})`),s}catch(s){const a=s;return console.error(` Redux: updateSkill failed for ID ${e}:`,a),r(a)}}),fN=Me("skills/deleteSkill",async(e,{rejectWithValue:t})=>{try{return console.log(` Redux: Starting deleteSkill for ID: ${e}`),await Jg.deleteSkill(e),console.log(` Redux: Successfully deleted skill with ID: ${e}`),e}catch(r){const s=r;return console.error(` Redux: deleteSkill failed for ID ${e}:`,s),t(s)}}),vX=Pt({name:"skills",initialState:k7,reducers:{setSelectedSkill:(e,t)=>{e.selectedSkill=t.payload,e.error.single=null},clearSelectedSkill:e=>{e.selectedSkill=null,e.error.single=null},openCreateModal:e=>{e.ui.isCreateModalOpen=!0,e.error.create=null},closeCreateModal:e=>{e.ui.isCreateModalOpen=!1,e.error.create=null},openEditModal:e=>{e.ui.isEditModalOpen=!0,e.error.update=null},closeEditModal:e=>{e.ui.isEditModalOpen=!1,e.error.update=null},setDeletingId:(e,t)=>{e.ui.deletingId=t.payload,t.payload===null&&(e.error.delete=null)},clearAllErrors:e=>{e.error={list:null,single:null,create:null,update:null,delete:null}},clearError:(e,t)=>{e.error[t.payload]=null},resetSkillsState:()=>k7},extraReducers:e=>{e.addCase(lN.pending,t=>{t.loading.list=!0,t.error.list=null}).addCase(lN.fulfilled,(t,r)=>{t.loading.list=!1,t.skills=r.payload,t.error.list=null}).addCase(lN.rejected,(t,r)=>{t.loading.list=!1,t.error.list=r.payload?.message||"Failed to fetch skills",console.error(" Redux: fetchSkills rejected:",r.payload)}).addCase(cN.pending,t=>{t.loading.single=!0,t.error.single=null}).addCase(cN.fulfilled,(t,r)=>{t.loading.single=!1,t.selectedSkill=r.payload,t.error.single=null}).addCase(cN.rejected,(t,r)=>{t.loading.single=!1,t.selectedSkill=null,t.error.single=r.payload?.message||"Failed to fetch skill",console.error(" Redux: fetchSkillById rejected:",r.payload)}).addCase(dN.pending,t=>{t.loading.create=!0,t.error.create=null}).addCase(dN.fulfilled,(t,r)=>{t.loading.create=!1,t.error.create=null,t.skills.unshift(r.payload),t.ui.isCreateModalOpen=!1,t.selectedSkill={...r.payload,emp_infos:[]}}).addCase(dN.rejected,(t,r)=>{t.loading.create=!1,t.error.create=r.payload?.message||"Failed to create skill",console.error(" Redux: createSkill rejected:",r.payload)}).addCase(uN.pending,t=>{t.loading.update=!0,t.error.update=null}).addCase(uN.fulfilled,(t,r)=>{t.loading.update=!1,t.error.update=null;const s=t.skills.findIndex(a=>a.id===r.payload.id);s!==-1&&(t.skills[s]=r.payload),t.selectedSkill?.id===r.payload.id&&("emp_infos"in t.selectedSkill?t.selectedSkill={...r.payload,emp_infos:t.selectedSkill.emp_infos}:t.selectedSkill={...r.payload,emp_infos:[]}),t.ui.isEditModalOpen=!1}).addCase(uN.rejected,(t,r)=>{t.loading.update=!1,t.error.update=r.payload?.message||"Failed to update skill",console.error(" Redux: updateSkill rejected:",r.payload)}).addCase(fN.pending,t=>{t.loading.delete=!0,t.error.delete=null}).addCase(fN.fulfilled,(t,r)=>{t.loading.delete=!1,t.error.delete=null;const s=r.payload;t.skills=t.skills.filter(a=>a.id!==s),t.selectedSkill?.id===s&&(t.selectedSkill=null),t.ui.deletingId=null}).addCase(fN.rejected,(t,r)=>{t.loading.delete=!1,t.error.delete=r.payload?.message||"Failed to delete skill",t.ui.deletingId=null,console.error(" Redux: deleteSkill rejected:",r.payload)})}}),{setSelectedSkill:QNe,clearSelectedSkill:eCe,openCreateModal:tCe,closeCreateModal:rCe,openEditModal:sCe,closeEditModal:nCe,setDeletingId:aCe,clearAllErrors:iCe,clearError:oCe,resetSkillsState:lCe}=vX.actions,cCe=e=>e.skills.skills,dCe=e=>e.skills.selectedSkill,uCe=e=>e.skills.loading,fCe=e=>e.skills.error,mCe=e=>e.skills.ui,hCe=e=>{const t=e.skills.loading;return t.list||t.single||t.create||t.update||t.delete},pCe=vX.reducer,gCe="http://127.0.0.1:8000/api",Wv="/preferences",xCe=()=>{try{const t=Pr.getState().auth?.token;return t||vr()}catch(e){return console.error("Error retrieving auth token:",e),null}},qf=ot.create({baseURL:gCe,timeout:5e3,headers:{Accept:"application/json","Content-Type":"application/json"}});qf.interceptors.request.use(e=>{const t=xCe();return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("Request interceptor error:",e),Promise.reject(e)));qf.interceptors.response.use(e=>e,e=>(console.error(" API Error:",{method:e.config?.method?.toUpperCase(),url:e.config?.url,status:e.response?.status,message:e.message,data:e.response?.data}),Promise.reject(e)));const qv=e=>{if(ot.isAxiosError(e)){const t=e,r=t.response?.data;return{message:r?.message||t.message||"An unexpected error occurred",status:t.response?.status||500,errors:r?.errors||void 0,code:r?.code||"UNKNOWN_ERROR",details:r||void 0}}return e instanceof Error?{message:e.message,status:500,code:"NETWORK_ERROR"}:{message:"An unexpected error occurred",status:500,code:"UNKNOWN_ERROR"}};class vCe{async getAllPreferences(){try{console.log(" Fetching all preferences");const t=await qf.get(Wv);return console.log(` Successfully fetched ${t.data.length} preferences`),t.data}catch(t){const r=qv(t);throw console.error(" Failed to fetch preferences:",r),r}}async getPreferenceById(t){try{console.log(` Fetching preference with ID: ${t}`);const r=await qf.get(`${Wv}/${t}`);return console.log(` Successfully fetched preference: ${r.data.name}`),r.data}catch(r){const s=qv(r);throw console.error(` Failed to fetch preference ${t}:`,s),s}}async createPreference(t){try{if(console.log(" Creating new preference:",t),!t.name?.trim())throw{message:"Preference name is required",status:400,errors:{name:["Preference name is required"]},code:"VALIDATION_ERROR"};const r=await qf.post(Wv,t,{headers:{"Content-Type":"application/json"}});return console.log(` Successfully created preference: ${r.data.name} (ID: ${r.data.id})`),r.data}catch(r){const s=qv(r);throw console.error(" Failed to create preference:",s),s}}async updatePreference(t,r){try{if(console.log(` Updating preference ${t}:`,r),!r.name?.trim())throw{message:"Preference name is required",status:400,errors:{name:["Preference name is required"]},code:"VALIDATION_ERROR"};const s=await qf.put(`${Wv}/${t}`,r,{headers:{"Content-Type":"application/json"}});return console.log(` Successfully updated preference: ${s.data.name} (ID: ${s.data.id})`),s.data}catch(s){const a=qv(s);throw console.error(` Failed to update preference ${t}:`,a),a}}async deletePreference(t){try{console.log(` Deleting preference with ID: ${t}`),await qf.delete(`${Wv}/${t}`),console.log(` Successfully deleted preference with ID: ${t}`)}catch(r){const s=qv(r);throw console.error(` Failed to delete preference ${t}:`,s),s}}}const vu=new vCe,{getAllPreferences:FOt,getPreferenceById:$Ot,createPreference:LOt,updatePreference:BOt,deletePreference:zOt}=vu,A7={preferences:[],selectedPreference:null,loading:{list:!1,single:!1,create:!1,update:!1,delete:!1},error:{list:null,single:null,create:null,update:null,delete:null},ui:{isCreateModalOpen:!1,isEditModalOpen:!1,deletingId:null}},mN=Me("preferences/fetchPreferences",async(e,{rejectWithValue:t})=>{try{console.log(" Redux: Starting fetchPreferences");const r=await vu.getAllPreferences();return console.log(` Redux: Successfully fetched ${r.length} preferences`),r}catch(r){const s=r;return console.error(" Redux: fetchPreferences failed:",s),t(s)}}),hN=Me("preferences/fetchPreferenceById",async(e,{rejectWithValue:t})=>{try{console.log(` Redux: Starting fetchPreferenceById for ID: ${e}`);const r=await vu.getPreferenceById(e);return console.log(` Redux: Successfully fetched preference: ${r.name}`),r}catch(r){const s=r;return console.error(` Redux: fetchPreferenceById failed for ID ${e}:`,s),t(s)}}),pN=Me("preferences/createPreference",async(e,{rejectWithValue:t})=>{try{console.log(" Redux: Starting createPreference with data:",e);const r=await vu.createPreference(e);return console.log(` Redux: Successfully created preference: ${r.name} (ID: ${r.id})`),r}catch(r){const s=r;return console.error(" Redux: createPreference failed:",s),t(s)}}),gN=Me("preferences/updatePreference",async({id:e,data:t},{rejectWithValue:r})=>{try{console.log(` Redux: Starting updatePreference for ID ${e} with data:`,t);const s=await vu.updatePreference(e,t);return console.log(` Redux: Successfully updated preference: ${s.name} (ID: ${s.id})`),s}catch(s){const a=s;return console.error(` Redux: updatePreference failed for ID ${e}:`,a),r(a)}}),xN=Me("preferences/deletePreference",async(e,{rejectWithValue:t})=>{try{return console.log(` Redux: Starting deletePreference for ID: ${e}`),await vu.deletePreference(e),console.log(` Redux: Successfully deleted preference with ID: ${e}`),e}catch(r){const s=r;return console.error(` Redux: deletePreference failed for ID ${e}:`,s),t(s)}}),yX=Pt({name:"preferences",initialState:A7,reducers:{setSelectedPreference:(e,t)=>{e.selectedPreference=t.payload,e.error.single=null},clearSelectedPreference:e=>{e.selectedPreference=null,e.error.single=null},openCreateModal:e=>{e.ui.isCreateModalOpen=!0,e.error.create=null},closeCreateModal:e=>{e.ui.isCreateModalOpen=!1,e.error.create=null},openEditModal:e=>{e.ui.isEditModalOpen=!0,e.error.update=null},closeEditModal:e=>{e.ui.isEditModalOpen=!1,e.error.update=null},setDeletingId:(e,t)=>{e.ui.deletingId=t.payload,t.payload===null&&(e.error.delete=null)},clearAllErrors:e=>{e.error={list:null,single:null,create:null,update:null,delete:null}},clearError:(e,t)=>{e.error[t.payload]=null},resetPreferencesState:()=>A7},extraReducers:e=>{e.addCase(mN.pending,t=>{t.loading.list=!0,t.error.list=null}).addCase(mN.fulfilled,(t,r)=>{t.loading.list=!1,t.preferences=r.payload,t.error.list=null}).addCase(mN.rejected,(t,r)=>{t.loading.list=!1,t.error.list=r.payload?.message||"Failed to fetch preferences",console.error(" Redux: fetchPreferences rejected:",r.payload)}).addCase(hN.pending,t=>{t.loading.single=!0,t.error.single=null}).addCase(hN.fulfilled,(t,r)=>{t.loading.single=!1,t.selectedPreference=r.payload,t.error.single=null}).addCase(hN.rejected,(t,r)=>{t.loading.single=!1,t.selectedPreference=null,t.error.single=r.payload?.message||"Failed to fetch preference",console.error(" Redux: fetchPreferenceById rejected:",r.payload)}).addCase(pN.pending,t=>{t.loading.create=!0,t.error.create=null}).addCase(pN.fulfilled,(t,r)=>{t.loading.create=!1,t.error.create=null,t.preferences.unshift(r.payload),t.ui.isCreateModalOpen=!1,t.selectedPreference=r.payload}).addCase(pN.rejected,(t,r)=>{t.loading.create=!1,t.error.create=r.payload?.message||"Failed to create preference",console.error(" Redux: createPreference rejected:",r.payload)}).addCase(gN.pending,t=>{t.loading.update=!0,t.error.update=null}).addCase(gN.fulfilled,(t,r)=>{t.loading.update=!1,t.error.update=null;const s=t.preferences.findIndex(a=>a.id===r.payload.id);s!==-1&&(t.preferences[s]=r.payload),t.selectedPreference?.id===r.payload.id&&(t.selectedPreference=r.payload),t.ui.isEditModalOpen=!1}).addCase(gN.rejected,(t,r)=>{t.loading.update=!1,t.error.update=r.payload?.message||"Failed to update preference",console.error(" Redux: updatePreference rejected:",r.payload)}).addCase(xN.pending,t=>{t.loading.delete=!0,t.error.delete=null}).addCase(xN.fulfilled,(t,r)=>{t.loading.delete=!1,t.error.delete=null;const s=r.payload;t.preferences=t.preferences.filter(a=>a.id!==s),t.selectedPreference?.id===s&&(t.selectedPreference=null),t.ui.deletingId=null}).addCase(xN.rejected,(t,r)=>{t.loading.delete=!1,t.error.delete=r.payload?.message||"Failed to delete preference",t.ui.deletingId=null,console.error(" Redux: deletePreference rejected:",r.payload)})}}),{setSelectedPreference:yCe,clearSelectedPreference:bCe,openCreateModal:wCe,closeCreateModal:jCe,openEditModal:SCe,closeEditModal:NCe,setDeletingId:CCe,clearAllErrors:_Ce,clearError:ECe,resetPreferencesState:kCe}=yX.actions,ACe=e=>e.preferences.preferences,TCe=e=>e.preferences.selectedPreference,DCe=e=>e.preferences.loading,PCe=e=>e.preferences.error,RCe=e=>e.preferences.ui,MCe=e=>{const t=e.preferences.loading;return t.list||t.single||t.create||t.update||t.delete},OCe=yX.reducer,bX=e=>e&&typeof e=="object"&&"errors"in e&&typeof e.errors=="object",wX=e=>e&&typeof e=="object"&&"type"in e&&["UNAUTHORIZED","TOKEN_EXPIRED","FORBIDDEN"].includes(e.type),ICe=e=>e&&typeof e=="object"&&"type"in e&&["NETWORK_ERROR","TIMEOUT","CONNECTION_FAILED"].includes(e.type),FCe=300*1e3,$Ce={currentPage:1,totalPages:1,totalRecords:0,perPage:15,hasNextPage:!1,hasPrevPage:!1,availablePerPageOptions:[10,15,25,50,100],currentStoreId:void 0},xl={EMPLOYEES:"/api/employees",EMPLOYEE_BY_ID:e=>`/api/employees/${e}`,EMPLOYEES_BY_STORE:e=>`/api/stores/${e}/employees`,EMPLOYEE_SKILL:(e,t)=>`/api/employees/${e}/skills/${t}`},wC={BASE_URL:"http://127.0.0.1:8000",TIMEOUT:5e3,MAX_RETRIES:3,RETRY_DELAY:1e3},Kj={UNAUTHORIZED:401,FORBIDDEN:403,UNPROCESSABLE_ENTITY:422,SERVICE_UNAVAILABLE:503},LCe=()=>{try{const t=Pr.getState().auth?.token;return t||vr()}catch(e){return console.error("Error retrieving auth token:",e),null}},Yr={info:(e,t)=>{console.log(`[API] ${e}`,t||"")},error:(e,t)=>{console.error(`[API ERROR] ${e}`,t||"")},warn:(e,t)=>{console.warn(`[API WARNING] ${e}`,t||"")},debug:(e,t)=>{}},BCe=e=>new Promise(t=>setTimeout(t,e)),zCe=e=>e&&typeof e=="object",T7=(e={})=>{const{page:t=1,per_page:r}=e,s={page:t};return r&&r>0&&(s.per_page=r),s},UCe=e=>{const{response:t,request:r,message:s}=e;if(!t)return{message:r?"Network error - no response received":"Network error - request failed",type:r?"NETWORK_ERROR":"CONNECTION_FAILED",status:0,details:{originalMessage:s}};const{status:a}=t,i=zCe(t.data)?t.data:{};return a===Kj.UNAUTHORIZED?{message:i.message||"Authentication required",type:"UNAUTHORIZED",status:a,details:i}:a===Kj.FORBIDDEN?{message:i.message||"Access forbidden",type:"FORBIDDEN",status:a,details:i}:a===Kj.UNPROCESSABLE_ENTITY&&i.errors?{message:i.message||"Validation failed",status:a,errors:i.errors,details:i}:a>=500?{message:i.message||"Internal server error",type:a===Kj.SERVICE_UNAVAILABLE?"SERVICE_UNAVAILABLE":"INTERNAL_SERVER_ERROR",status:a,details:i}:{message:i.message||`HTTP ${a} error`,status:a,details:i}},HCe=()=>{const e=ot.create({baseURL:wC.BASE_URL,timeout:wC.TIMEOUT,headers:{Accept:"application/json","Content-Type":"application/json"}});return e.interceptors.request.use(t=>{const r=LCe();return r&&(t.headers.Authorization=`Bearer ${r}`),Yr.debug(`${t.method?.toUpperCase()} ${t.url}`,{headers:t.headers,data:t.data,params:t.params}),t},t=>(Yr.error("Request interceptor error",t),Promise.reject(t))),e.interceptors.response.use(t=>(Yr.debug(`Response ${t.status} from ${t.config.url}`,{data:t.data,headers:t.headers}),t),t=>{const r=UCe(t);return Yr.error(`API Error: ${r.message}`,r),Promise.reject(r)}),e},vl=HCe(),yl=async(e,t,r=wC.MAX_RETRIES)=>{let s=null;for(let a=1;a<=r;a++)try{return Yr.debug(`${t} - Attempt ${a}/${r}`),await e()}catch(i){if(s=i,wX(s)||bX(s)){Yr.warn(`${t} - Not retrying due to auth/validation error`);break}if(a===r){Yr.error(`${t} - All retry attempts failed`);break}const o=wC.RETRY_DELAY*Math.pow(2,a-1);Yr.info(`${t} - Retrying in ${o}ms (attempt ${a+1}/${r})`),await BCe(o)}throw s};class nd{static async getAllEmployees(){return yl(async()=>{Yr.info("Fetching all employees");const t=await vl.get(xl.EMPLOYEES);return Yr.info(`Successfully fetched ${t.data.length} employees`),t.data},"getAllEmployees")}static async getEmployeeById(t){return yl(async()=>{Yr.info(`Fetching employee with ID: ${t}`);const r=await vl.get(xl.EMPLOYEE_BY_ID(t));return Yr.info(`Successfully fetched employee: ${r.data.full_name}`),r.data},`getEmployeeById(${t})`)}static async createEmployee(t){return yl(async()=>{Yr.info("Creating new employee",{name:t.full_name,store:t.store_id});const r=await vl.post(xl.EMPLOYEES,t);return Yr.info(`Successfully created employee: ${r.data.full_name} (ID: ${r.data.id})`),r.data},"createEmployee",1)}static async updateEmployee(t,r){return yl(async()=>{Yr.info(`Updating employee ID: ${t}`,{name:r.full_name});const s=await vl.put(xl.EMPLOYEE_BY_ID(t),r);return Yr.info(`Successfully updated employee: ${s.data.full_name} (ID: ${t})`),s.data},`updateEmployee(${t})`,1)}static async deleteEmployee(t){return yl(async()=>{Yr.info(`Deleting employee ID: ${t}`),await vl.delete(xl.EMPLOYEE_BY_ID(t)),Yr.info(`Successfully deleted employee ID: ${t}`)},`deleteEmployee(${t})`,1)}static async getEmployeesByStore(t,r={}){return yl(async()=>{const{page:s=1,per_page:a}=r;Yr.info(`Fetching employees for store: ${t}`,{page:s,per_page:a||"default (server)"});const i=T7(r),o=await vl.get(xl.EMPLOYEES_BY_STORE(t),{params:i});return Yr.info(`Successfully fetched employees for store ${t}`,{returned:o.data.data.length,page:o.data.current_page,per_page:o.data.per_page,total:o.data.total,total_pages:o.data.last_page}),o.data},`getEmployeesByStore(${t}, page:${r.page||1}, per_page:${r.per_page||"default"})`)}static async getAllEmployeesPaginated(t={}){return yl(async()=>{const{page:r=1,per_page:s}=t;Yr.info("Fetching all employees with pagination",{page:r,per_page:s||"default (server)"});const a=T7(t),i=await vl.get(xl.EMPLOYEES,{params:a});return Yr.info("Successfully fetched employees with pagination",{returned:i.data.data.length,page:i.data.current_page,per_page:i.data.per_page,total:i.data.total,total_pages:i.data.last_page}),i.data},`getAllEmployeesPaginated(page:${t.page||1}, per_page:${t.per_page||"default"})`)}static async attachSkill(t,r,s){return yl(async()=>{Yr.info(`Attaching skill ${r} to employee ${t}`,{rating:s.rating}),await vl.post(xl.EMPLOYEE_SKILL(t,r),s),Yr.info(`Successfully attached skill ${r} to employee ${t} with rating ${s.rating}`)},`attachSkill(${t}, ${r})`,1)}static async updateSkill(t,r,s){return yl(async()=>{Yr.info(`Updating skill ${r} for employee ${t}`,{rating:s.rating}),await vl.put(xl.EMPLOYEE_SKILL(t,r),s),Yr.info(`Successfully updated skill ${r} for employee ${t} to rating ${s.rating}`)},`updateSkill(${t}, ${r})`,1)}static async detachSkill(t,r){return yl(async()=>{Yr.info(`Detaching skill ${r} from employee ${t}`),await vl.delete(xl.EMPLOYEE_SKILL(t,r)),Yr.info(`Successfully detached skill ${r} from employee ${t}`)},`detachSkill(${t}, ${r})`,1)}}const VCe={employees:[],currentEmployee:null,loading:{fetchAll:{isLoading:!1},fetchById:{isLoading:!1},create:{isLoading:!1},update:{isLoading:!1},delete:{isLoading:!1},skills:{isLoading:!1},fetchByStore:{isLoading:!1}},errors:{fetchAll:{hasError:!1},fetchById:{hasError:!1},create:{hasError:!1},update:{hasError:!1},delete:{hasError:!1},skills:{hasError:!1},fetchByStore:{hasError:!1}},pagination:{...$Ce},cache:{lastFetch:null,cacheDuration:FCe,isStale:!1}},vN=Me("employees/fetchAll",async(e,{rejectWithValue:t})=>{try{return await nd.getAllEmployees()}catch(r){return t(r)}}),yN=Me("employees/fetchById",async(e,{rejectWithValue:t})=>{try{return await nd.getEmployeeById(e)}catch(r){return t(r)}}),bN=Me("employees/create",async(e,{rejectWithValue:t})=>{try{return await nd.createEmployee(e)}catch(r){return t(r)}}),wN=Me("employees/update",async({id:e,data:t},{rejectWithValue:r})=>{try{const s=await nd.updateEmployee(e,t);return{id:e,data:s}}catch(s){return r(s)}}),jN=Me("employees/delete",async(e,{rejectWithValue:t})=>{try{return await nd.deleteEmployee(e),e}catch(r){return t(r)}}),SN=Me("employees/fetchByStore",async({storeId:e,options:t},{rejectWithValue:r})=>{try{const s=await nd.getEmployeesByStore(e,t);return{storeId:e,response:s,options:t}}catch(s){return r(s)}}),NN=Me("employees/attachSkill",async({employeeId:e,skillId:t,data:r},{rejectWithValue:s})=>{try{return await nd.attachSkill(e,t,r),{employeeId:e,skillId:t,rating:r.rating}}catch(a){return s(a)}}),CN=Me("employees/updateSkill",async({employeeId:e,skillId:t,data:r},{rejectWithValue:s})=>{try{return await nd.updateSkill(e,t,r),{employeeId:e,skillId:t,rating:r.rating}}catch(a){return s(a)}}),_N=Me("employees/detachSkill",async({employeeId:e,skillId:t},{rejectWithValue:r})=>{try{return await nd.detachSkill(e,t),{employeeId:e,skillId:t}}catch(s){return r(s)}}),WCe=e=>{if(bX(e))return Object.values(e.errors)[0]?.[0]||e.message;if(wX(e))switch(e.type){case"UNAUTHORIZED":return"Please log in to continue";case"FORBIDDEN":return"You do not have permission to perform this action";case"TOKEN_EXPIRED":return"Your session has expired. Please log in again";default:return e.message}if(ICe(e))switch(e.type){case"NETWORK_ERROR":return"Network error. Please check your connection";case"TIMEOUT":return"Request timed out. Please try again";case"CONNECTION_FAILED":return"Unable to connect to server";default:return e.message}return e.message||"An unexpected error occurred"},qCe=(e,t,r)=>{t&&typeof t=="object"&&"current_page"in t&&(e.pagination={currentPage:t.current_page,totalPages:t.last_page,totalRecords:t.total,perPage:t.per_page,hasNextPage:t.next_page_url!==null,hasPrevPage:t.prev_page_url!==null,availablePerPageOptions:e.pagination.availablePerPageOptions,currentStoreId:r})},gc=(e,t,r)=>{e.errors[t]={hasError:!0,message:WCe(r),details:r}},Lo=(e,t)=>{e.errors[t]={hasError:!1,message:void 0,details:void 0}},rs=(e,t,r,s)=>{e.loading[t]={isLoading:r,operation:s}},jX=Pt({name:"employees",initialState:VCe,reducers:{clearCurrentEmployee:e=>{e.currentEmployee=null},clearError:(e,t)=>{Lo(e,t.payload)},clearAllErrors:e=>{Object.keys(e.errors).forEach(t=>{Lo(e,t)})},updateCacheStatus:e=>{const t=Date.now();e.cache.isStale=e.cache.lastFetch?t-e.cache.lastFetch>e.cache.cacheDuration:!0},setPaginationOptions:(e,t)=>{e.pagination={...e.pagination,...t.payload}},optimisticUpdateEmployee:(e,t)=>{const{id:r,updates:s}=t.payload,a=e.employees.findIndex(i=>i.id===r);a!==-1&&(e.employees[a]={...e.employees[a],...s}),e.currentEmployee?.id===r&&(e.currentEmployee={...e.currentEmployee,...s})},optimisticDeleteEmployee:(e,t)=>{const r=t.payload;e.employees=e.employees.filter(s=>s.id!==r),e.currentEmployee?.id===r&&(e.currentEmployee=null),e.pagination.totalRecords=Math.max(0,e.pagination.totalRecords-1)}},extraReducers:e=>{e.addCase(vN.pending,t=>{rs(t,"fetchAll",!0,"Fetching all employees"),Lo(t,"fetchAll")}).addCase(vN.fulfilled,(t,r)=>{rs(t,"fetchAll",!1),t.employees=r.payload,t.cache.lastFetch=Date.now(),t.cache.isStale=!1}).addCase(vN.rejected,(t,r)=>{rs(t,"fetchAll",!1),gc(t,"fetchAll",r.payload)}),e.addCase(yN.pending,t=>{rs(t,"fetchById",!0,"Fetching employee details"),Lo(t,"fetchById")}).addCase(yN.fulfilled,(t,r)=>{rs(t,"fetchById",!1),t.currentEmployee=r.payload;const s=t.employees.findIndex(a=>a.id===r.payload.id);s!==-1&&(t.employees[s]=r.payload)}).addCase(yN.rejected,(t,r)=>{rs(t,"fetchById",!1),gc(t,"fetchById",r.payload),t.currentEmployee=null}),e.addCase(bN.pending,t=>{rs(t,"create",!0,"Creating new employee"),Lo(t,"create")}).addCase(bN.fulfilled,(t,r)=>{rs(t,"create",!1),t.pagination.currentStoreId===r.payload.store_id&&(t.pagination.totalRecords+=1)}).addCase(bN.rejected,(t,r)=>{rs(t,"create",!1),gc(t,"create",r.payload)}),e.addCase(wN.pending,t=>{rs(t,"update",!0,"Updating employee"),Lo(t,"update")}).addCase(wN.fulfilled,(t,r)=>{rs(t,"update",!1);const{id:s,data:a}=r.payload,i=t.employees.findIndex(o=>o.id===s);i!==-1&&(t.employees[i]={...t.employees[i],...a}),t.currentEmployee?.id===s&&(t.currentEmployee={...t.currentEmployee,...a})}).addCase(wN.rejected,(t,r)=>{rs(t,"update",!1),gc(t,"update",r.payload)}),e.addCase(jN.pending,t=>{rs(t,"delete",!0,"Deleting employee"),Lo(t,"delete")}).addCase(jN.fulfilled,(t,r)=>{rs(t,"delete",!1);const s=r.payload;t.employees=t.employees.filter(a=>a.id!==s),t.currentEmployee?.id===s&&(t.currentEmployee=null),t.pagination.totalRecords=Math.max(0,t.pagination.totalRecords-1)}).addCase(jN.rejected,(t,r)=>{rs(t,"delete",!1),gc(t,"delete",r.payload)}),e.addCase(SN.pending,t=>{rs(t,"fetchByStore",!0,"Fetching store employees"),Lo(t,"fetchByStore")}).addCase(SN.fulfilled,(t,r)=>{rs(t,"fetchByStore",!1);const{storeId:s,response:a}=r.payload;t.employees=a.data,qCe(t,a,s),t.cache.lastFetch=Date.now(),t.cache.isStale=!1}).addCase(SN.rejected,(t,r)=>{rs(t,"fetchByStore",!1),gc(t,"fetchByStore",r.payload)}),e.addCase(NN.pending,t=>{rs(t,"skills",!0,"Attaching skill"),Lo(t,"skills")}).addCase(NN.fulfilled,t=>{rs(t,"skills",!1)}).addCase(NN.rejected,(t,r)=>{rs(t,"skills",!1),gc(t,"skills",r.payload)}),e.addCase(CN.pending,t=>{rs(t,"skills",!0,"Updating skill rating"),Lo(t,"skills")}).addCase(CN.fulfilled,(t,r)=>{rs(t,"skills",!1);const{employeeId:s,skillId:a,rating:i}=r.payload;if(t.currentEmployee?.id===s){const c=t.currentEmployee.skills.findIndex(d=>d.id===a);c!==-1&&(t.currentEmployee.skills[c].pivot.rating=i)}const o=t.employees.findIndex(c=>c.id===s);if(o!==-1){const c=t.employees[o].skills.findIndex(d=>d.id===a);c!==-1&&(t.employees[o].skills[c].pivot.rating=i)}}).addCase(CN.rejected,(t,r)=>{rs(t,"skills",!1),gc(t,"skills",r.payload)}),e.addCase(_N.pending,t=>{rs(t,"skills",!0,"Detaching skill"),Lo(t,"skills")}).addCase(_N.fulfilled,(t,r)=>{rs(t,"skills",!1);const{employeeId:s,skillId:a}=r.payload;t.currentEmployee?.id===s&&(t.currentEmployee.skills=t.currentEmployee.skills.filter(o=>o.id!==a));const i=t.employees.findIndex(o=>o.id===s);i!==-1&&(t.employees[i].skills=t.employees[i].skills.filter(o=>o.id!==a))}).addCase(_N.rejected,(t,r)=>{rs(t,"skills",!1),gc(t,"skills",r.payload)})}}),{clearCurrentEmployee:GCe,clearError:YCe,clearAllErrors:KCe,updateCacheStatus:ZCe,setPaginationOptions:D7,optimisticUpdateEmployee:UOt,optimisticDeleteEmployee:XCe}=jX.actions,JCe=jX.reducer,QCe=e=>e.employees.employees,e_e=e=>e.employees.currentEmployee,t_e=e=>e.employees.loading,r_e=e=>e.employees.errors,s_e=e=>e.employees.pagination,n_e=e=>e.employees.cache,a_e=e=>Object.values(e.employees.loading).some(t=>t.isLoading),i_e=e=>Object.values(e.employees.errors).some(t=>t.hasError),to={BASE_URL:"http://127.0.0.1:8000/api",ENDPOINTS:{SCHEDULE_PREFERENCES:"/schedule-preferences",SCHEDULE_PREFERENCE_BY_ID:e=>`/schedule-preferences/${e}`},TIMEOUT:5e3,RETRY_ATTEMPTS:3,RETRY_DELAY:1e3},K4={BAD_REQUEST:400,UNAUTHORIZED:401,UNPROCESSABLE_ENTITY:422},o_e=e=>typeof e=="object"&&e!==null&&(typeof e.message=="string"||typeof e.errors=="object"||typeof e.details=="object"),P7=()=>{try{const t=Pr.getState().auth?.token;if(t)return console.debug("[SchedulePreferenceService] Token retrieved from Redux store"),t;const r=vr();return r?(console.debug("[SchedulePreferenceService] Token retrieved from localStorage"),r):(console.warn("[SchedulePreferenceService] No authentication token available"),null)}catch(e){return console.error("[SchedulePreferenceService] Error retrieving auth token:",e),null}},l_e=e=>({url:e.url,method:e.method,baseURL:e.baseURL,headers:e.headers,data:e.data,params:e.params,timeout:e.timeout,withCredentials:e.withCredentials,responseType:e.responseType,responseEncoding:e.responseEncoding,maxRedirects:e.maxRedirects,maxContentLength:e.maxContentLength,maxBodyLength:e.maxBodyLength,validateStatus:e.validateStatus,auth:e.auth,proxy:e.proxy,signal:e.signal,transformRequest:e.transformRequest,transformResponse:e.transformResponse}),zd=e=>{const t={message:"An unexpected error occurred",status:500};if(F0(e))if(e.response){t.status=e.response.status;const r=e.response.data;o_e(r)?(t.message=r.message||e.message||"Server error",t.details=r.details,e.response.status===K4.UNPROCESSABLE_ENTITY&&r.errors&&(t.errors=r.errors)):(t.message=e.message||"Server error",t.details=r)}else e.request?(t.message="Network error - please check your connection",t.status=0):t.message=e.message||"Request configuration error";else e instanceof Error?t.message=e.message||"Unknown error occurred":typeof e=="string"?t.message=e:(t.message="An unexpected error occurred",t.details={originalError:e});return t},c_e=e=>{if(F0(e)){const t={message:e.message,status:e.response?.status,url:e.config?.url,method:e.config?.method,data:e.response?.data};console.group(`[API Error] ${e.config?.method?.toUpperCase()} ${e.config?.url}`),console.error("Error details:",t),console.groupEnd()}else console.error("[API Error] Non-Axios error:",e)};class Op{axiosInstance;static instance;retryCountMap=new Map;constructor(){this.axiosInstance=ot.create({baseURL:to.BASE_URL,timeout:to.TIMEOUT,headers:{"Content-Type":"application/json",Accept:"application/json"}}),this.setupInterceptors()}static getInstance(){return Op.instance||(Op.instance=new Op),Op.instance}generateRetryKey(t="GET",r=""){return`${t.toUpperCase()}_${r}_${Date.now()}`}setupInterceptors(){this.axiosInstance.interceptors.request.use(t=>{const r=P7();return r&&(t.headers.Authorization=`Bearer ${r}`),t.metadata={...t.metadata,startTime:Date.now(),retryKey:this.generateRetryKey(t.method,t.url)},t},t=>(console.error("[SchedulePreferenceService] Request interceptor error:",t),Promise.reject(zd(t)))),this.axiosInstance.interceptors.response.use(t=>{const r=Date.now()-(t.config.metadata?.startTime||0);return console.debug(`[SchedulePreferenceService] Request completed in ${r}ms`),t.config.metadata?.retryKey&&this.retryCountMap.delete(t.config.metadata.retryKey),t},async t=>(c_e(t),F0(t)&&this.shouldRetryRequest(t)?this.retryRequest(t):(F0(t)&&t.config?.metadata?.retryKey&&this.retryCountMap.delete(t.config.metadata.retryKey),F0(t)&&t.response?.status===K4.UNAUTHORIZED&&console.warn("[SchedulePreferenceService] Unauthorized access - token may be expired"),Promise.reject(zd(t)))))}shouldRetryRequest(t){const s=t.config?.metadata?.retryKey;if(!s||(this.retryCountMap.get(s)||0)>=to.RETRY_ATTEMPTS)return!1;if(!t.response)return!0;const i=t.response.status;return i>=500||i===K4.BAD_REQUEST}async retryRequest(t){const r=t.config;if(!r||!r.metadata?.retryKey)throw zd(t);const s=r.metadata.retryKey,i=(this.retryCountMap.get(s)||0)+1,o=to.RETRY_DELAY*Math.pow(2,i-1);console.warn(`[SchedulePreferenceService] Retrying request (attempt ${i}/${to.RETRY_ATTEMPTS}) in ${o}ms`),this.retryCountMap.set(s,i),await new Promise(d=>setTimeout(d,o));const c=l_e(r);return this.axiosInstance.request(c)}async getAllSchedulePreferences(){try{console.info("[SchedulePreferenceService] Fetching all schedule preferences");const t=await this.axiosInstance.get(to.ENDPOINTS.SCHEDULE_PREFERENCES);return console.info(`[SchedulePreferenceService] Successfully fetched ${t.data.length} schedule preferences`),t.data}catch(t){throw console.error("[SchedulePreferenceService] Failed to fetch schedule preferences:",t),zd(t)}}async getSchedulePreferenceById(t){try{console.info(`[SchedulePreferenceService] Fetching schedule preference with ID: ${t}`);const r=await this.axiosInstance.get(to.ENDPOINTS.SCHEDULE_PREFERENCE_BY_ID(t));return console.info(`[SchedulePreferenceService] Successfully fetched schedule preference ${t}`),r.data}catch(r){throw console.error(`[SchedulePreferenceService] Failed to fetch schedule preference ${t}:`,r),zd(r)}}async createSchedulePreference(t){try{console.info("[SchedulePreferenceService] Creating new schedule preference"),console.debug("[SchedulePreferenceService] Create data:",t);const r=await this.axiosInstance.post(to.ENDPOINTS.SCHEDULE_PREFERENCES,t);return console.info(`[SchedulePreferenceService] Successfully created schedule preference with ID: ${r.data.id}`),r.data}catch(r){throw console.error("[SchedulePreferenceService] Failed to create schedule preference:",r),zd(r)}}async updateSchedulePreference(t,r){try{console.info(`[SchedulePreferenceService] Updating schedule preference ${t}`),console.debug("[SchedulePreferenceService] Update data:",r);const s=await this.axiosInstance.put(to.ENDPOINTS.SCHEDULE_PREFERENCE_BY_ID(t),r);return console.info(`[SchedulePreferenceService] Successfully updated schedule preference ${t}`),s.data}catch(s){throw console.error(`[SchedulePreferenceService] Failed to update schedule preference ${t}:`,s),zd(s)}}async deleteSchedulePreference(t){try{console.info(`[SchedulePreferenceService] Deleting schedule preference ${t}`),await this.axiosInstance.delete(to.ENDPOINTS.SCHEDULE_PREFERENCE_BY_ID(t)),console.info(`[SchedulePreferenceService] Successfully deleted schedule preference ${t}`)}catch(r){throw console.error(`[SchedulePreferenceService] Failed to delete schedule preference ${t}:`,r),zd(r)}}isAuthenticated(){return P7()!==null}getTimeout(){return to.TIMEOUT}setTimeout(t){this.axiosInstance.defaults.timeout=t,console.info(`[SchedulePreferenceService] Request timeout updated to ${t}ms`)}getBaseUrl(){return to.BASE_URL}clearRetryTracking(){this.retryCountMap.clear(),console.debug("[SchedulePreferenceService] Retry tracking data cleared")}}const pb=Op.getInstance(),os={IDLE:"idle",LOADING:"loading",SUCCEEDED:"succeeded",FAILED:"failed"},R7={schedulePreferences:[],currentSchedulePreference:null,fetchAllStatus:os.IDLE,fetchByIdStatus:os.IDLE,createStatus:os.IDLE,updateStatus:os.IDLE,deleteStatus:os.IDLE,fetchAllError:null,fetchByIdError:null,createError:null,updateError:null,deleteError:null,lastFetch:null,totalCount:0},d_e=e=>e&&typeof e=="object"&&"message"in e?e.message:typeof e=="string"?e:"An unexpected error occurred",gb=(e,t)=>{const r=d_e(e);return`Failed to ${t} schedule preference: ${r}`},Zp=Me("schedulePreferences/fetchAll",async(e,{rejectWithValue:t})=>{try{console.info("[SchedulePreferenceSlice] Fetching all schedule preferences");const r=await pb.getAllSchedulePreferences();return console.info(`[SchedulePreferenceSlice] Successfully fetched ${r.length} schedule preferences`),r}catch(r){return console.error("[SchedulePreferenceSlice] Failed to fetch all schedule preferences:",r),t(gb(r,"fetch all"))}}),uD=Me("schedulePreferences/fetchById",async({id:e},{rejectWithValue:t})=>{try{console.info(`[SchedulePreferenceSlice] Fetching schedule preference with ID: ${e}`);const r=await pb.getSchedulePreferenceById(e);return console.info(`[SchedulePreferenceSlice] Successfully fetched schedule preference ${e}`),r}catch(r){return console.error(`[SchedulePreferenceSlice] Failed to fetch schedule preference ${e}:`,r),t(gb(r,`fetch by ID ${e}`))}}),W0=Me("schedulePreferences/create",async(e,{rejectWithValue:t})=>{try{console.info("[SchedulePreferenceSlice] Creating new schedule preference"),console.debug("[SchedulePreferenceSlice] Create data:",e);const r=await pb.createSchedulePreference(e);return console.info(`[SchedulePreferenceSlice] Successfully created schedule preference with ID: ${r.id}`),r}catch(r){return console.error("[SchedulePreferenceSlice] Failed to create schedule preference:",r),t(gb(r,"create"))}}),q0=Me("schedulePreferences/update",async({id:e,data:t},{rejectWithValue:r})=>{try{console.info(`[SchedulePreferenceSlice] Updating schedule preference ${e}`),console.debug("[SchedulePreferenceSlice] Update data:",t);const s=await pb.updateSchedulePreference(e,t);return console.info(`[SchedulePreferenceSlice] Successfully updated schedule preference ${e}`),s}catch(s){return console.error(`[SchedulePreferenceSlice] Failed to update schedule preference ${e}:`,s),r(gb(s,`update ID ${e}`))}}),G0=Me("schedulePreferences/delete",async({id:e},{rejectWithValue:t})=>{try{return console.info(`[SchedulePreferenceSlice] Deleting schedule preference ${e}`),await pb.deleteSchedulePreference(e),console.info(`[SchedulePreferenceSlice] Successfully deleted schedule preference ${e}`),e}catch(r){return console.error(`[SchedulePreferenceSlice] Failed to delete schedule preference ${e}:`,r),t(gb(r,`delete ID ${e}`))}}),SX=Pt({name:"schedulePreferences",initialState:R7,reducers:{clearErrors:e=>{console.debug("[SchedulePreferenceSlice] Clearing all errors"),e.fetchAllError=null,e.fetchByIdError=null,e.createError=null,e.updateError=null,e.deleteError=null},clearError:(e,t)=>{switch(console.debug(`[SchedulePreferenceSlice] Clearing ${t.payload} error`),t.payload){case"fetchAll":e.fetchAllError=null;break;case"fetchById":e.fetchByIdError=null;break;case"create":e.createError=null;break;case"update":e.updateError=null;break;case"delete":e.deleteError=null;break}},resetLoadingStates:e=>{console.debug("[SchedulePreferenceSlice] Resetting all loading states to idle"),e.fetchAllStatus=os.IDLE,e.fetchByIdStatus=os.IDLE,e.createStatus=os.IDLE,e.updateStatus=os.IDLE,e.deleteStatus=os.IDLE},setCurrentSchedulePreference:(e,t)=>{console.debug("[SchedulePreferenceSlice] Setting current schedule preference:",t.payload?.id||"null"),e.currentSchedulePreference=t.payload},clearCurrentSchedulePreference:e=>{console.debug("[SchedulePreferenceSlice] Clearing current schedule preference"),e.currentSchedulePreference=null},resetSlice:()=>(console.debug("[SchedulePreferenceSlice] Resetting slice to initial state"),R7)},extraReducers:e=>{e.addCase(Zp.pending,t=>{console.debug("[SchedulePreferenceSlice] Fetch all pending"),t.fetchAllStatus=os.LOADING,t.fetchAllError=null}).addCase(Zp.fulfilled,(t,r)=>{console.debug(`[SchedulePreferenceSlice] Fetch all fulfilled with ${r.payload.length} items`),t.fetchAllStatus=os.SUCCEEDED,t.schedulePreferences=r.payload,t.totalCount=r.payload.length,t.lastFetch=new Date().toISOString(),t.fetchAllError=null}).addCase(Zp.rejected,(t,r)=>{console.error("[SchedulePreferenceSlice] Fetch all rejected:",r.payload),t.fetchAllStatus=os.FAILED,t.fetchAllError=r.payload||"Failed to fetch schedule preferences"}).addCase(uD.pending,t=>{console.debug("[SchedulePreferenceSlice] Fetch by ID pending"),t.fetchByIdStatus=os.LOADING,t.fetchByIdError=null}).addCase(uD.fulfilled,(t,r)=>{console.debug(`[SchedulePreferenceSlice] Fetch by ID fulfilled for ID: ${r.payload.id}`),t.fetchByIdStatus=os.SUCCEEDED,t.currentSchedulePreference=r.payload,t.fetchByIdError=null;const s=t.schedulePreferences.findIndex(a=>a.id===r.payload.id);s!==-1&&(t.schedulePreferences[s]=r.payload)}).addCase(uD.rejected,(t,r)=>{console.error("[SchedulePreferenceSlice] Fetch by ID rejected:",r.payload),t.fetchByIdStatus=os.FAILED,t.fetchByIdError=r.payload||"Failed to fetch schedule preference"}).addCase(W0.pending,t=>{console.debug("[SchedulePreferenceSlice] Create pending"),t.createStatus=os.LOADING,t.createError=null}).addCase(W0.fulfilled,(t,r)=>{console.debug(`[SchedulePreferenceSlice] Create fulfilled with ID: ${r.payload.id}`),t.createStatus=os.SUCCEEDED;const s={id:r.payload.id,emp_info_id:typeof r.payload.emp_info_id=="string"?parseInt(r.payload.emp_info_id):r.payload.emp_info_id,preference_id:typeof r.payload.preference_id=="string"?parseInt(r.payload.preference_id):r.payload.preference_id,maximum_hours:r.payload.maximum_hours,employment_type:r.payload.employment_type,created_at:r.payload.created_at,updated_at:r.payload.updated_at,emp_info:{},preference:{}};t.schedulePreferences.unshift(s),t.totalCount=t.schedulePreferences.length,t.createError=null}).addCase(W0.rejected,(t,r)=>{console.error("[SchedulePreferenceSlice] Create rejected:",r.payload),t.createStatus=os.FAILED,t.createError=r.payload||"Failed to create schedule preference"}).addCase(q0.pending,t=>{console.debug("[SchedulePreferenceSlice] Update pending"),t.updateStatus=os.LOADING,t.updateError=null}).addCase(q0.fulfilled,(t,r)=>{console.debug(`[SchedulePreferenceSlice] Update fulfilled for ID: ${r.payload.id}`),t.updateStatus=os.SUCCEEDED;const s=t.schedulePreferences.findIndex(a=>a.id===r.payload.id);s!==-1&&(t.schedulePreferences[s]={...t.schedulePreferences[s],emp_info_id:typeof r.payload.emp_info_id=="string"?parseInt(r.payload.emp_info_id):r.payload.emp_info_id,preference_id:typeof r.payload.preference_id=="string"?parseInt(r.payload.preference_id):r.payload.preference_id,maximum_hours:r.payload.maximum_hours,employment_type:r.payload.employment_type,updated_at:r.payload.updated_at}),t.currentSchedulePreference&&t.currentSchedulePreference.id===r.payload.id&&(t.currentSchedulePreference={...t.currentSchedulePreference,emp_info_id:typeof r.payload.emp_info_id=="string"?parseInt(r.payload.emp_info_id):r.payload.emp_info_id,preference_id:typeof r.payload.preference_id=="string"?parseInt(r.payload.preference_id):r.payload.preference_id,maximum_hours:r.payload.maximum_hours,employment_type:r.payload.employment_type,updated_at:r.payload.updated_at}),t.updateError=null}).addCase(q0.rejected,(t,r)=>{console.error("[SchedulePreferenceSlice] Update rejected:",r.payload),t.updateStatus=os.FAILED,t.updateError=r.payload||"Failed to update schedule preference"}).addCase(G0.pending,t=>{console.debug("[SchedulePreferenceSlice] Delete pending"),t.deleteStatus=os.LOADING,t.deleteError=null}).addCase(G0.fulfilled,(t,r)=>{console.debug(`[SchedulePreferenceSlice] Delete fulfilled for ID: ${r.payload}`),t.deleteStatus=os.SUCCEEDED,t.schedulePreferences=t.schedulePreferences.filter(s=>s.id!==r.payload),t.totalCount=t.schedulePreferences.length,t.currentSchedulePreference&&t.currentSchedulePreference.id===r.payload&&(t.currentSchedulePreference=null),t.deleteError=null}).addCase(G0.rejected,(t,r)=>{console.error("[SchedulePreferenceSlice] Delete rejected:",r.payload),t.deleteStatus=os.FAILED,t.deleteError=r.payload||"Failed to delete schedule preference"})}}),{clearErrors:HOt,clearError:VOt,resetLoadingStates:WOt,setCurrentSchedulePreference:qOt,clearCurrentSchedulePreference:GOt,resetSlice:YOt}=SX.actions,u_e=SX.reducer,f_e=e=>e.schedulePreferences.schedulePreferences,m_e=e=>e.schedulePreferences.totalCount,h_e=e=>({fetchAll:e.schedulePreferences.fetchAllStatus,fetchById:e.schedulePreferences.fetchByIdStatus,create:e.schedulePreferences.createStatus,update:e.schedulePreferences.updateStatus,delete:e.schedulePreferences.deleteStatus}),p_e=e=>({fetchAll:e.schedulePreferences.fetchAllError,fetchById:e.schedulePreferences.fetchByIdError,create:e.schedulePreferences.createError,update:e.schedulePreferences.updateError,delete:e.schedulePreferences.deleteError}),g_e=e=>{const{fetchAllStatus:t,fetchByIdStatus:r,createStatus:s,updateStatus:a,deleteStatus:i}=e.schedulePreferences;return[t,r,s,a,i].some(o=>o===os.LOADING)},Z4={baseURL:"http://127.0.0.1:8000/api",timeout:5e3,headers:{Accept:"application/json","Content-Type":"application/json"}},rp={EMPLOYMENT_INFO:"/employment-info",EMPLOYMENT_INFO_BY_ID:e=>`/employment-info/${e}`},X4=()=>{try{const t=Pr.getState().auth?.token;return t||vr()}catch(e){return console.error("Error retrieving auth token:",e),null}},x_e=e=>{if(e.response?.data){const t=e.response.data;return{message:t.message||"An error occurred",code:e.response.status.toString(),errors:t.errors||void 0}}else return e.request?{message:"Network error - please check your connection",code:"NETWORK_ERROR"}:{message:e.message||"An unexpected error occurred",code:"UNKNOWN_ERROR"}},Gv=(e,t,r)=>{console.error(`[EmploymentInformationAPI] ${e} failed:`,{error:t,context:r,timestamp:new Date().toISOString()})},Gf=ot.create(Z4);Gf.interceptors.request.use(e=>{const t=X4();return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("[API Request Interceptor] Request setup failed:",e),Promise.reject(e)));Gf.interceptors.response.use(e=>e,e=>{const t=x_e(e);switch(e.response?.status){case 401:console.warn("[API] Unauthorized access - token may be expired");break;case 403:console.warn("[API] Forbidden access - insufficient permissions");break;case 404:console.warn("[API] Resource not found");break;case 422:console.warn("[API] Validation error:",t.errors);break;case 500:console.error("[API] Internal server error");break;default:console.error("[API] Unexpected error:",t)}return Promise.reject(t)});class Cm{static async getAll(){try{const t=await Gf.get(rp.EMPLOYMENT_INFO);return console.log(`[EmploymentInformationAPI] Successfully fetched ${t.data.length} records`),t.data}catch(t){const r=t;throw Gv("getAll",r),r}}static async getById(t){try{if(!t||t<=0)throw new Error("Invalid employment information ID provided");const r=await Gf.get(rp.EMPLOYMENT_INFO_BY_ID(t));return console.log(`[EmploymentInformationAPI] Successfully fetched record with ID: ${t}`),r.data}catch(r){const s=r instanceof Error?{message:r.message,code:"VALIDATION_ERROR"}:r;throw Gv("getById",s,{id:t}),s}}static async create(t){try{if(!t.emp_info_id)throw new Error("Employee info ID is required");if(!t.paychex_ids||t.paychex_ids.length===0)throw new Error("At least one Paychex ID is required");if(!t.employment_type)throw new Error("Employment type is required");const r=await Gf.post(rp.EMPLOYMENT_INFO,t);return console.log(`[EmploymentInformationAPI] Successfully created record with ID: ${r.data.id}`),r.data}catch(r){const s=r instanceof Error?{message:r.message,code:"VALIDATION_ERROR"}:r;throw Gv("create",s,{data:t}),s}}static async update(t,r){try{if(!t||t<=0)throw new Error("Invalid employment information ID provided");if(!r.emp_info_id)throw new Error("Employee info ID is required");if(!r.paychex_ids||r.paychex_ids.length===0)throw new Error("At least one Paychex ID is required");if(!r.employment_type)throw new Error("Employment type is required");const s=await Gf.put(rp.EMPLOYMENT_INFO_BY_ID(t),r);return console.log(`[EmploymentInformationAPI] Successfully updated record with ID: ${t}`),s.data}catch(s){const a=s instanceof Error?{message:s.message,code:"VALIDATION_ERROR"}:s;throw Gv("update",a,{id:t,data:r}),a}}static async delete(t){try{if(!t||t<=0)throw new Error("Invalid employment information ID provided");return await Gf.delete(rp.EMPLOYMENT_INFO_BY_ID(t)),console.log(`[EmploymentInformationAPI] Successfully deleted record with ID: ${t}`),!0}catch(r){const s=r instanceof Error?{message:r.message,code:"VALIDATION_ERROR"}:r;throw Gv("delete",s,{id:t}),s}}static validateEmploymentData(t){const r=[];return t.emp_info_id||r.push("Employee info ID is required"),(!t.paychex_ids||!Array.isArray(t.paychex_ids)||t.paychex_ids.length===0)&&r.push("At least one Paychex ID is required"),(!t.employment_type||!["1099","W2"].includes(t.employment_type))&&r.push('Employment type must be either "1099" or "W2"'),t.hired_date||r.push("Hired date is required"),(!t.base_pay||parseFloat(t.base_pay)<0)&&r.push("Base pay must be a positive number"),(!t.performance_pay||parseFloat(t.performance_pay)<0)&&r.push("Performance pay must be a positive number"),typeof t.has_uniform!="boolean"&&r.push("Has uniform must be a boolean value"),r}static isConfigured(){return X4()?!0:(console.warn("[EmploymentInformationAPI] No authentication token available"),!1)}static getConfig(){return{baseURL:Z4.baseURL,timeout:Z4.timeout,hasToken:!!X4(),endpoints:rp}}}const M7={items:[],currentItem:null,listLoading:"idle",itemLoading:"idle",createLoading:"idle",updateLoading:"idle",deleteLoading:"idle",listError:null,itemError:null,createError:null,updateError:null,deleteError:null,lastFetch:null},dm=Me("employmentInformation/fetchAll",async(e,{rejectWithValue:t,getState:r})=>{try{const a=r().employmentInformation.lastFetch,i=Date.now();if(a&&i-a<300*1e3)return console.log("[EmploymentInformationSlice] Using cached data, skipping fetch"),null;console.log("[EmploymentInformationSlice] Fetching all employment information records");const o=await Cm.getAll();return console.log(`[EmploymentInformationSlice] Successfully fetched ${o.length} records`),o}catch(s){const a=s;return console.error("[EmploymentInformationSlice] fetchAll failed:",a),t({message:a.message||"Failed to fetch employment information",code:a.code,errors:a.errors})}}),EN=Me("employmentInformation/fetchById",async(e,{rejectWithValue:t})=>{try{if(!e||e<=0)throw new Error("Valid employment information ID is required");console.log(`[EmploymentInformationSlice] Fetching employment information with ID: ${e}`);const r=await Cm.getById(e);return console.log(`[EmploymentInformationSlice] Successfully fetched employment information: ${e}`),r}catch(r){const s=r;return console.error(`[EmploymentInformationSlice] fetchById(${e}) failed:`,s),t({message:s.message||"Failed to fetch employment information",code:s.code,errors:s.errors})}}),kN=Me("employmentInformation/create",async(e,{rejectWithValue:t,dispatch:r})=>{try{const s=Cm.validateEmploymentData(e);if(s.length>0)throw new Error(`Validation failed: ${s.join(", ")}`);console.log("[EmploymentInformationSlice] Creating new employment information");const a=await Cm.create(e);return console.log(`[EmploymentInformationSlice] Successfully created employment information with ID: ${a.id}`),r(dm()),a}catch(s){const a=s;return console.error("[EmploymentInformationSlice] create failed:",a),t({message:a.message||"Failed to create employment information",code:a.code,errors:a.errors})}}),AN=Me("employmentInformation/update",async(e,{rejectWithValue:t,dispatch:r})=>{try{const{id:s,data:a}=e;if(!s||s<=0)throw new Error("Valid employment information ID is required");const i=Cm.validateEmploymentData(a);if(i.length>0)throw new Error(`Validation failed: ${i.join(", ")}`);console.log(`[EmploymentInformationSlice] Updating employment information with ID: ${s}`);const o=await Cm.update(s,a);return console.log(`[EmploymentInformationSlice] Successfully updated employment information: ${s}`),r(dm()),o}catch(s){const a=s;return console.error(`[EmploymentInformationSlice] update(${e.id}) failed:`,a),t({message:a.message||"Failed to update employment information",code:a.code,errors:a.errors})}}),TN=Me("employmentInformation/delete",async(e,{rejectWithValue:t,dispatch:r})=>{try{if(!e||e<=0)throw new Error("Valid employment information ID is required");return console.log(`[EmploymentInformationSlice] Deleting employment information with ID: ${e}`),await Cm.delete(e),console.log(`[EmploymentInformationSlice] Successfully deleted employment information: ${e}`),r(dm()),e}catch(s){const a=s;return console.error(`[EmploymentInformationSlice] delete(${e}) failed:`,a),t({message:a.message||"Failed to delete employment information",code:a.code,errors:a.errors})}}),NX=Pt({name:"employmentInformation",initialState:M7,reducers:{clearErrors:e=>{e.listError=null,e.itemError=null,e.createError=null,e.updateError=null,e.deleteError=null},clearCurrentItem:e=>{e.currentItem=null,e.itemError=null},setCurrentItem:(e,t)=>{e.currentItem=t.payload,e.itemError=null},clearError:(e,t)=>{switch(t.payload){case"list":e.listError=null;break;case"item":e.itemError=null;break;case"create":e.createError=null;break;case"update":e.updateError=null;break;case"delete":e.deleteError=null;break}},updateItemInList:(e,t)=>{const r=t.payload,s=e.items.findIndex(a=>a.id===r.id);s!==-1&&(e.items[s]=r,e.currentItem&&e.currentItem.id===r.id&&(e.currentItem=r))},removeItemFromList:(e,t)=>{const r=t.payload;e.items=e.items.filter(s=>s.id!==r),e.currentItem&&e.currentItem.id===r&&(e.currentItem=null)},resetState:()=>M7},extraReducers:e=>{e.addCase(dm.pending,t=>{t.listLoading="pending",t.listError=null}).addCase(dm.fulfilled,(t,r)=>{t.listLoading="succeeded",t.listError=null,r.payload!==null&&(t.items=r.payload,t.lastFetch=Date.now())}).addCase(dm.rejected,(t,r)=>{t.listLoading="failed";const s=r.payload;t.listError=s?.message||"Failed to fetch employment information",console.error("[EmploymentInformationSlice] fetchAll rejected:",s)}).addCase(EN.pending,t=>{t.itemLoading="pending",t.itemError=null}).addCase(EN.fulfilled,(t,r)=>{t.itemLoading="succeeded",t.itemError=null,t.currentItem=r.payload}).addCase(EN.rejected,(t,r)=>{t.itemLoading="failed";const s=r.payload;t.itemError=s?.message||"Failed to fetch employment information",t.currentItem=null,console.error("[EmploymentInformationSlice] fetchById rejected:",s)}).addCase(kN.pending,t=>{t.createLoading="pending",t.createError=null}).addCase(kN.fulfilled,t=>{t.createLoading="succeeded",t.createError=null}).addCase(kN.rejected,(t,r)=>{t.createLoading="failed";const s=r.payload;t.createError=s?.message||"Failed to create employment information",console.error("[EmploymentInformationSlice] create rejected:",s)}).addCase(AN.pending,t=>{t.updateLoading="pending",t.updateError=null}).addCase(AN.fulfilled,t=>{t.updateLoading="succeeded",t.updateError=null}).addCase(AN.rejected,(t,r)=>{t.updateLoading="failed";const s=r.payload;t.updateError=s?.message||"Failed to update employment information",console.error("[EmploymentInformationSlice] update rejected:",s)}).addCase(TN.pending,t=>{t.deleteLoading="pending",t.deleteError=null}).addCase(TN.fulfilled,t=>{t.deleteLoading="succeeded",t.deleteError=null}).addCase(TN.rejected,(t,r)=>{t.deleteLoading="failed";const s=r.payload;t.deleteError=s?.message||"Failed to delete employment information",console.error("[EmploymentInformationSlice] delete rejected:",s)})}}),{clearErrors:v_e,clearCurrentItem:y_e,setCurrentItem:b_e,clearError:w_e,updateItemInList:KOt,removeItemFromList:ZOt,resetState:j_e}=NX.actions,S_e=e=>e.employmentInformation.items,N_e=e=>e.employmentInformation.currentItem,C_e=e=>({list:e.employmentInformation.listLoading==="pending",item:e.employmentInformation.itemLoading==="pending",create:e.employmentInformation.createLoading==="pending",update:e.employmentInformation.updateLoading==="pending",delete:e.employmentInformation.deleteLoading==="pending"}),__e=e=>({list:e.employmentInformation.listError,item:e.employmentInformation.itemError,create:e.employmentInformation.createError,update:e.employmentInformation.updateError,delete:e.employmentInformation.deleteError}),E_e=e=>{const t=e.employmentInformation.items;return{total:t.length,w2Count:t.filter(r=>r.employment_type==="W2").length,contractorCount:t.filter(r=>r.employment_type==="1099").length,withUniformCount:t.filter(r=>r.has_uniform).length,hasData:t.length>0,lastFetch:e.employmentInformation.lastFetch}},k_e=NX.reducer;function $e(e,t,r){function s(c,d){var u;Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(u=c._zod).traits??(u.traits=new Set),c._zod.traits.add(e),t(c,d);for(const l in o.prototype)l in c||Object.defineProperty(c,l,{value:o.prototype[l].bind(c)});c._zod.constr=o,c._zod.def=d}const a=r?.Parent??Object;class i extends a{}Object.defineProperty(i,"name",{value:e});function o(c){var d;const u=r?.Parent?new i:this;s(u,c),(d=u._zod).deferred??(d.deferred=[]);for(const l of u._zod.deferred)l();return u}return Object.defineProperty(o,"init",{value:s}),Object.defineProperty(o,Symbol.hasInstance,{value:c=>r?.Parent&&c instanceof r.Parent?!0:c?._zod?.traits?.has(e)}),Object.defineProperty(o,"name",{value:e}),o}class Xp extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class CX extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const _X={};function yu(e){return _X}function A_e(e){const t=Object.values(e).filter(s=>typeof s=="number");return Object.entries(e).filter(([s,a])=>t.indexOf(+s)===-1).map(([s,a])=>a)}function J4(e,t){return typeof t=="bigint"?t.toString():t}function kI(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function AI(e){return e==null}function TI(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function T_e(e,t){const r=(e.toString().split(".")[1]||"").length,s=t.toString();let a=(s.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(s)){const d=s.match(/\d?e-(\d?)/);d?.[1]&&(a=Number.parseInt(d[1]))}const i=r>a?r:a,o=Number.parseInt(e.toFixed(i).replace(".","")),c=Number.parseInt(t.toFixed(i).replace(".",""));return o%c/10**i}const O7=Symbol("evaluating");function ls(e,t,r){let s;Object.defineProperty(e,t,{get(){if(s!==O7)return s===void 0&&(s=O7,s=r()),s},set(a){Object.defineProperty(e,t,{value:a})},configurable:!0})}function D_e(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function Ou(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Qg(...e){const t={};for(const r of e){const s=Object.getOwnPropertyDescriptors(r);Object.assign(t,s)}return Object.defineProperties({},t)}function I7(e){return JSON.stringify(e)}const EX="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function jC(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const P_e=kI(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function ug(e){if(jC(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(jC(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function kX(e){return ug(e)?{...e}:e}const R_e=new Set(["string","number","symbol"]);function fg(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Iu(e,t,r){const s=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(s._zod.parent=e),s}function jt(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function M_e(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const O_e={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function I_e(e,t){const r=e._zod.def,s=Qg(e._zod.def,{get shape(){const a={};for(const i in t){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&(a[i]=r.shape[i])}return Ou(this,"shape",a),a},checks:[]});return Iu(e,s)}function F_e(e,t){const r=e._zod.def,s=Qg(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const i in t){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&delete a[i]}return Ou(this,"shape",a),a},checks:[]});return Iu(e,s)}function $_e(e,t){if(!ug(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const a=Qg(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return Ou(this,"shape",i),i},checks:[]});return Iu(e,a)}function L_e(e,t){if(!ug(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const s={...e._zod.def.shape,...t};return Ou(this,"shape",s),s},checks:e._zod.def.checks};return Iu(e,r)}function B_e(e,t){const r=Qg(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t._zod.def.shape};return Ou(this,"shape",s),s},get catchall(){return t._zod.def.catchall},checks:[]});return Iu(e,r)}function z_e(e,t,r){const s=Qg(t._zod.def,{get shape(){const a=t._zod.def.shape,i={...a};if(r)for(const o in r){if(!(o in a))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(i[o]=e?new e({type:"optional",innerType:a[o]}):a[o])}else for(const o in a)i[o]=e?new e({type:"optional",innerType:a[o]}):a[o];return Ou(this,"shape",i),i},checks:[]});return Iu(t,s)}function U_e(e,t,r){const s=Qg(t._zod.def,{get shape(){const a=t._zod.def.shape,i={...a};if(r)for(const o in r){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(i[o]=new e({type:"nonoptional",innerType:a[o]}))}else for(const o in a)i[o]=new e({type:"nonoptional",innerType:a[o]});return Ou(this,"shape",i),i},checks:[]});return Iu(t,s)}function Ip(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function Fp(e,t){return t.map(r=>{var s;return(s=r).path??(s.path=[]),r.path.unshift(e),r})}function Zj(e){return typeof e=="string"?e:e?.message}function bu(e,t,r){const s={...e,path:e.path??[]};if(!e.message){const a=Zj(e.inst?._zod.def?.error?.(e))??Zj(t?.error?.(e))??Zj(r.customError?.(e))??Zj(r.localeError?.(e))??"Invalid input";s.message=a}return delete s.inst,delete s.continue,t?.reportInput||delete s.input,s}function DI(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function by(...e){const[t,r,s]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:s}:{...t}}const AX=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,J4,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},PI=$e("$ZodError",AX),lE=$e("$ZodError",AX,{Parent:Error});function H_e(e,t=r=>r.message){const r={},s=[];for(const a of e.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):s.push(t(a));return{formErrors:s,fieldErrors:r}}function V_e(e,t){const r=t||function(i){return i.message},s={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(c=>a({issues:c}));else if(o.code==="invalid_key")a({issues:o.issues});else if(o.code==="invalid_element")a({issues:o.issues});else if(o.path.length===0)s._errors.push(r(o));else{let c=s,d=0;for(;d<o.path.length;){const u=o.path[d];d===o.path.length-1?(c[u]=c[u]||{_errors:[]},c[u]._errors.push(r(o))):c[u]=c[u]||{_errors:[]},c=c[u],d++}}};return a(e),s}const cE=e=>(t,r,s,a)=>{const i=s?Object.assign(s,{async:!1}):{async:!1},o=t._zod.run({value:r,issues:[]},i);if(o instanceof Promise)throw new Xp;if(o.issues.length){const c=new(a?.Err??e)(o.issues.map(d=>bu(d,i,yu())));throw EX(c,a?.callee),c}return o.value},W_e=cE(lE),dE=e=>async(t,r,s,a)=>{const i=s?Object.assign(s,{async:!0}):{async:!0};let o=t._zod.run({value:r,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const c=new(a?.Err??e)(o.issues.map(d=>bu(d,i,yu())));throw EX(c,a?.callee),c}return o.value},q_e=dE(lE),uE=e=>(t,r,s)=>{const a=s?{...s,async:!1}:{async:!1},i=t._zod.run({value:r,issues:[]},a);if(i instanceof Promise)throw new Xp;return i.issues.length?{success:!1,error:new(e??PI)(i.issues.map(o=>bu(o,a,yu())))}:{success:!0,data:i.value}},G_e=uE(lE),fE=e=>async(t,r,s)=>{const a=s?Object.assign(s,{async:!0}):{async:!0};let i=t._zod.run({value:r,issues:[]},a);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(o=>bu(o,a,yu())))}:{success:!0,data:i.value}},Y_e=fE(lE),K_e=e=>(t,r,s)=>{const a=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return cE(e)(t,r,a)},Z_e=e=>(t,r,s)=>cE(e)(t,r,s),X_e=e=>async(t,r,s)=>{const a=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return dE(e)(t,r,a)},J_e=e=>async(t,r,s)=>dE(e)(t,r,s),Q_e=e=>(t,r,s)=>{const a=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return uE(e)(t,r,a)},eEe=e=>(t,r,s)=>uE(e)(t,r,s),tEe=e=>async(t,r,s)=>{const a=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return fE(e)(t,r,a)},rEe=e=>async(t,r,s)=>fE(e)(t,r,s),sEe=/^[cC][^\s-]{8,}$/,nEe=/^[0-9a-z]+$/,aEe=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,iEe=/^[0-9a-vA-V]{20}$/,oEe=/^[A-Za-z0-9]{27}$/,lEe=/^[a-zA-Z0-9_-]{21}$/,cEe=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,dEe=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,F7=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,uEe=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,fEe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function mEe(){return new RegExp(fEe,"u")}const hEe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,pEe=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,gEe=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,xEe=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,vEe=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,TX=/^[A-Za-z0-9_-]*$/,yEe=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,bEe=/^\+(?:[0-9]){6,14}[0-9]$/,DX="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",wEe=new RegExp(`^${DX}$`);function PX(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function jEe(e){return new RegExp(`^${PX(e)}$`)}function SEe(e){const t=PX({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const s=`${t}(?:${r.join("|")})`;return new RegExp(`^${DX}T(?:${s})$`)}const NEe=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},CEe=/^\d+$/,_Ee=/^-?\d+(?:\.\d+)?/i,EEe=/true|false/i,kEe=/null/i,AEe=/undefined/i,TEe=/^[^A-Z]*$/,DEe=/^[^a-z]*$/,ei=$e("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),RX={number:"number",bigint:"bigint",object:"date"},MX=$e("$ZodCheckLessThan",(e,t)=>{ei.init(e,t);const r=RX[typeof t.value];e._zod.onattach.push(s=>{const a=s._zod.bag,i=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=s=>{(t.inclusive?s.value<=t.value:s.value<t.value)||s.issues.push({origin:r,code:"too_big",maximum:t.value,input:s.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),OX=$e("$ZodCheckGreaterThan",(e,t)=>{ei.init(e,t);const r=RX[typeof t.value];e._zod.onattach.push(s=>{const a=s._zod.bag,i=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=s=>{(t.inclusive?s.value>=t.value:s.value>t.value)||s.issues.push({origin:r,code:"too_small",minimum:t.value,input:s.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),PEe=$e("$ZodCheckMultipleOf",(e,t)=>{ei.init(e,t),e._zod.onattach.push(r=>{var s;(s=r._zod.bag).multipleOf??(s.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):T_e(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),REe=$e("$ZodCheckNumberFormat",(e,t)=>{ei.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),s=r?"int":"number",[a,i]=O_e[t.format];e._zod.onattach.push(o=>{const c=o._zod.bag;c.format=t.format,c.minimum=a,c.maximum=i,r&&(c.pattern=CEe)}),e._zod.check=o=>{const c=o.value;if(r){if(!Number.isInteger(c)){o.issues.push({expected:s,format:t.format,code:"invalid_type",continue:!1,input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?o.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,continue:!t.abort}):o.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,continue:!t.abort});return}}c<a&&o.issues.push({origin:"number",input:c,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),c>i&&o.issues.push({origin:"number",input:c,code:"too_big",maximum:i,inst:e})}}),MEe=$e("$ZodCheckMaxLength",(e,t)=>{var r;ei.init(e,t),(r=e._zod.def).when??(r.when=s=>{const a=s.value;return!AI(a)&&a.length!==void 0}),e._zod.onattach.push(s=>{const a=s._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(s._zod.bag.maximum=t.maximum)}),e._zod.check=s=>{const a=s.value;if(a.length<=t.maximum)return;const o=DI(a);s.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),OEe=$e("$ZodCheckMinLength",(e,t)=>{var r;ei.init(e,t),(r=e._zod.def).when??(r.when=s=>{const a=s.value;return!AI(a)&&a.length!==void 0}),e._zod.onattach.push(s=>{const a=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(s._zod.bag.minimum=t.minimum)}),e._zod.check=s=>{const a=s.value;if(a.length>=t.minimum)return;const o=DI(a);s.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),IEe=$e("$ZodCheckLengthEquals",(e,t)=>{var r;ei.init(e,t),(r=e._zod.def).when??(r.when=s=>{const a=s.value;return!AI(a)&&a.length!==void 0}),e._zod.onattach.push(s=>{const a=s._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=s=>{const a=s.value,i=a.length;if(i===t.length)return;const o=DI(a),c=i>t.length;s.issues.push({origin:o,...c?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:s.value,inst:e,continue:!t.abort})}}),mE=$e("$ZodCheckStringFormat",(e,t)=>{var r,s;ei.init(e,t),e._zod.onattach.push(a=>{const i=a._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(s=e._zod).check??(s.check=()=>{})}),FEe=$e("$ZodCheckRegex",(e,t)=>{mE.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),$Ee=$e("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=TEe),mE.init(e,t)}),LEe=$e("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=DEe),mE.init(e,t)}),BEe=$e("$ZodCheckIncludes",(e,t)=>{ei.init(e,t);const r=fg(t.includes),s=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=s,e._zod.onattach.push(a=>{const i=a._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(s)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),zEe=$e("$ZodCheckStartsWith",(e,t)=>{ei.init(e,t);const r=new RegExp(`^${fg(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(s=>{const a=s._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=s=>{s.value.startsWith(t.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:s.value,inst:e,continue:!t.abort})}}),UEe=$e("$ZodCheckEndsWith",(e,t)=>{ei.init(e,t);const r=new RegExp(`.*${fg(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(s=>{const a=s._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=s=>{s.value.endsWith(t.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:s.value,inst:e,continue:!t.abort})}}),HEe=$e("$ZodCheckOverwrite",(e,t)=>{ei.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class VEe{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const s=t.split(`
`).filter(o=>o),a=Math.min(...s.map(o=>o.length-o.trimStart().length)),i=s.map(o=>o.slice(a)).map(o=>" ".repeat(this.indent*2)+o);for(const o of i)this.content.push(o)}compile(){const t=Function,r=this?.args,a=[...(this?.content??[""]).map(i=>`  ${i}`)];return new t(...r,a.join(`
`))}}const WEe={major:4,minor:1,patch:5},js=$e("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=WEe;const s=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&s.unshift(e);for(const a of s)for(const i of a._zod.onattach)i(e);if(s.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const a=(o,c,d)=>{let u=Ip(o),l;for(const f of c){if(f._zod.def.when){if(!f._zod.def.when(o))continue}else if(u)continue;const m=o.issues.length,p=f._zod.check(o);if(p instanceof Promise&&d?.async===!1)throw new Xp;if(l||p instanceof Promise)l=(l??Promise.resolve()).then(async()=>{await p,o.issues.length!==m&&(u||(u=Ip(o,m)))});else{if(o.issues.length===m)continue;u||(u=Ip(o,m))}}return l?l.then(()=>o):o},i=(o,c,d)=>{if(Ip(o))return o.aborted=!0,o;const u=a(c,s,d);if(u instanceof Promise){if(d.async===!1)throw new Xp;return u.then(l=>e._zod.parse(l,d))}return e._zod.parse(u,d)};e._zod.run=(o,c)=>{if(c.skipChecks)return e._zod.parse(o,c);if(c.direction==="backward"){const u=e._zod.parse({value:o.value,issues:[]},{...c,skipChecks:!0});return u instanceof Promise?u.then(l=>i(l,o,c)):i(u,o,c)}const d=e._zod.parse(o,c);if(d instanceof Promise){if(c.async===!1)throw new Xp;return d.then(u=>a(u,s,c))}return a(d,s,c)}}e["~standard"]={validate:a=>{try{const i=G_e(e,a);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return Y_e(e,a).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}}),RI=$e("$ZodString",(e,t)=>{js.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??NEe(e._zod.bag),e._zod.parse=(r,s)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Ms=$e("$ZodStringFormat",(e,t)=>{mE.init(e,t),RI.init(e,t)}),qEe=$e("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=dEe),Ms.init(e,t)}),GEe=$e("$ZodUUID",(e,t)=>{if(t.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(s===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=F7(s))}else t.pattern??(t.pattern=F7());Ms.init(e,t)}),YEe=$e("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=uEe),Ms.init(e,t)}),KEe=$e("$ZodURL",(e,t)=>{Ms.init(e,t),e._zod.check=r=>{try{const s=r.value.trim(),a=new URL(s);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:yEe.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=a.href:r.value=s;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),ZEe=$e("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=mEe()),Ms.init(e,t)}),XEe=$e("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=lEe),Ms.init(e,t)}),JEe=$e("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=sEe),Ms.init(e,t)}),QEe=$e("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=nEe),Ms.init(e,t)}),e2e=$e("$ZodULID",(e,t)=>{t.pattern??(t.pattern=aEe),Ms.init(e,t)}),t2e=$e("$ZodXID",(e,t)=>{t.pattern??(t.pattern=iEe),Ms.init(e,t)}),r2e=$e("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=oEe),Ms.init(e,t)}),s2e=$e("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=SEe(t)),Ms.init(e,t)}),n2e=$e("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=wEe),Ms.init(e,t)}),a2e=$e("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=jEe(t)),Ms.init(e,t)}),i2e=$e("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=cEe),Ms.init(e,t)}),o2e=$e("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=hEe),Ms.init(e,t),e._zod.onattach.push(r=>{const s=r._zod.bag;s.format="ipv4"})}),l2e=$e("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=pEe),Ms.init(e,t),e._zod.onattach.push(r=>{const s=r._zod.bag;s.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),c2e=$e("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=gEe),Ms.init(e,t)}),d2e=$e("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=xEe),Ms.init(e,t),e._zod.check=r=>{const[s,a]=r.value.split("/");try{if(!a)throw new Error;const i=Number(a);if(`${i}`!==a)throw new Error;if(i<0||i>128)throw new Error;new URL(`http://[${s}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function IX(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const u2e=$e("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=vEe),Ms.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{IX(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function f2e(e){if(!TX.test(e))return!1;const t=e.replace(/[-_]/g,s=>s==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return IX(r)}const m2e=$e("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=TX),Ms.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{f2e(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),h2e=$e("$ZodE164",(e,t)=>{t.pattern??(t.pattern=bEe),Ms.init(e,t)});function p2e(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[s]=r;if(!s)return!1;const a=JSON.parse(atob(s));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const g2e=$e("$ZodJWT",(e,t)=>{Ms.init(e,t),e._zod.check=r=>{p2e(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),FX=$e("$ZodNumber",(e,t)=>{js.init(e,t),e._zod.pattern=e._zod.bag.pattern??_Ee,e._zod.parse=(r,s)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const a=r.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return r;const i=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...i?{received:i}:{}}),r}}),x2e=$e("$ZodNumber",(e,t)=>{REe.init(e,t),FX.init(e,t)}),v2e=$e("$ZodBoolean",(e,t)=>{js.init(e,t),e._zod.pattern=EEe,e._zod.parse=(r,s)=>{if(t.coerce)try{r.value=!!r.value}catch{}const a=r.value;return typeof a=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),r}}),y2e=$e("$ZodUndefined",(e,t)=>{js.init(e,t),e._zod.pattern=AEe,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(r,s)=>{const a=r.value;return typeof a>"u"||r.issues.push({expected:"undefined",code:"invalid_type",input:a,inst:e}),r}}),b2e=$e("$ZodNull",(e,t)=>{js.init(e,t),e._zod.pattern=kEe,e._zod.values=new Set([null]),e._zod.parse=(r,s)=>{const a=r.value;return a===null||r.issues.push({expected:"null",code:"invalid_type",input:a,inst:e}),r}}),w2e=$e("$ZodUnknown",(e,t)=>{js.init(e,t),e._zod.parse=r=>r}),j2e=$e("$ZodNever",(e,t)=>{js.init(e,t),e._zod.parse=(r,s)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function $7(e,t,r){e.issues.length&&t.issues.push(...Fp(r,e.issues)),t.value[r]=e.value}const S2e=$e("$ZodArray",(e,t)=>{js.init(e,t),e._zod.parse=(r,s)=>{const a=r.value;if(!Array.isArray(a))return r.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),r;r.value=Array(a.length);const i=[];for(let o=0;o<a.length;o++){const c=a[o],d=t.element._zod.run({value:c,issues:[]},s);d instanceof Promise?i.push(d.then(u=>$7(u,r,o))):$7(d,r,o)}return i.length?Promise.all(i).then(()=>r):r}});function SC(e,t,r,s){e.issues.length&&t.issues.push(...Fp(r,e.issues)),e.value===void 0?r in s&&(t.value[r]=void 0):t.value[r]=e.value}function $X(e){const t=Object.keys(e.shape);for(const s of t)if(!e.shape[s]._zod.traits.has("$ZodType"))throw new Error(`Invalid element at key "${s}": expected a Zod schema`);const r=M_e(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function LX(e,t,r,s,a,i){const o=[],c=a.keySet,d=a.catchall._zod,u=d.def.type;for(const l of Object.keys(t)){if(c.has(l))continue;if(u==="never"){o.push(l);continue}const f=d.run({value:t[l],issues:[]},s);f instanceof Promise?e.push(f.then(m=>SC(m,r,l,t))):SC(f,r,l,t)}return o.length&&r.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:i}),e.length?Promise.all(e).then(()=>r):r}const N2e=$e("$ZodObject",(e,t)=>{js.init(e,t);const r=kI(()=>$X(t));ls(e._zod,"propValues",()=>{const o=t.shape,c={};for(const d in o){const u=o[d]._zod;if(u.values){c[d]??(c[d]=new Set);for(const l of u.values)c[d].add(l)}}return c});const s=jC,a=t.catchall;let i;e._zod.parse=(o,c)=>{i??(i=r.value);const d=o.value;if(!s(d))return o.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),o;o.value={};const u=[],l=i.shape;for(const f of i.keys){const p=l[f]._zod.run({value:d[f],issues:[]},c);p instanceof Promise?u.push(p.then(x=>SC(x,o,f,d))):SC(p,o,f,d)}return a?LX(u,d,o,c,r.value,e):u.length?Promise.all(u).then(()=>o):o}}),C2e=$e("$ZodObjectJIT",(e,t)=>{N2e.init(e,t);const r=e._zod.parse,s=kI(()=>$X(t)),a=m=>{const p=new VEe(["shape","payload","ctx"]),x=s.value,b=S=>{const N=I7(S);return`shape[${N}]._zod.run({ value: input[${N}], issues: [] }, ctx)`};p.write("const input = payload.value;");const h=Object.create(null);let y=0;for(const S of x.keys)h[S]=`key_${y++}`;p.write("const newResult = {}");for(const S of x.keys){const N=h[S],_=I7(S);p.write(`const ${N} = ${b(S)};`),p.write(`
        if (${N}.issues.length) {
          payload.issues = payload.issues.concat(${N}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${_}, ...iss.path] : [${_}]
          })));
        }
        
        if (${N}.value === undefined) {
          if (${_} in input) {
            newResult[${_}] = undefined;
          }
        } else {
          newResult[${_}] = ${N}.value;
        }
      `)}p.write("payload.value = newResult;"),p.write("return payload;");const w=p.compile();return(S,N)=>w(m,S,N)};let i;const o=jC,c=!_X.jitless,u=c&&P_e.value,l=t.catchall;let f;e._zod.parse=(m,p)=>{f??(f=s.value);const x=m.value;return o(x)?c&&u&&p?.async===!1&&p.jitless!==!0?(i||(i=a(t.shape)),m=i(m,p),l?LX([],x,m,p,f,e):m):r(m,p):(m.issues.push({expected:"object",code:"invalid_type",input:x,inst:e}),m)}});function L7(e,t,r,s){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;const a=e.filter(i=>!Ip(i));return a.length===1?(t.value=a[0].value,a[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(i=>i.issues.map(o=>bu(o,s,yu())))}),t)}const _2e=$e("$ZodUnion",(e,t)=>{js.init(e,t),ls(e._zod,"optin",()=>t.options.some(a=>a._zod.optin==="optional")?"optional":void 0),ls(e._zod,"optout",()=>t.options.some(a=>a._zod.optout==="optional")?"optional":void 0),ls(e._zod,"values",()=>{if(t.options.every(a=>a._zod.values))return new Set(t.options.flatMap(a=>Array.from(a._zod.values)))}),ls(e._zod,"pattern",()=>{if(t.options.every(a=>a._zod.pattern)){const a=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${a.map(i=>TI(i.source)).join("|")})$`)}});const r=t.options.length===1,s=t.options[0]._zod.run;e._zod.parse=(a,i)=>{if(r)return s(a,i);let o=!1;const c=[];for(const d of t.options){const u=d._zod.run({value:a.value,issues:[]},i);if(u instanceof Promise)c.push(u),o=!0;else{if(u.issues.length===0)return u;c.push(u)}}return o?Promise.all(c).then(d=>L7(d,a,e,i)):L7(c,a,e,i)}}),E2e=$e("$ZodIntersection",(e,t)=>{js.init(e,t),e._zod.parse=(r,s)=>{const a=r.value,i=t.left._zod.run({value:a,issues:[]},s),o=t.right._zod.run({value:a,issues:[]},s);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([d,u])=>B7(r,d,u)):B7(r,i,o)}});function Q4(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(ug(e)&&ug(t)){const r=Object.keys(t),s=Object.keys(e).filter(i=>r.indexOf(i)!==-1),a={...e,...t};for(const i of s){const o=Q4(e[i],t[i]);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};a[i]=o.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let s=0;s<e.length;s++){const a=e[s],i=t[s],o=Q4(a,i);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};r.push(o.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function B7(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),Ip(e))return e;const s=Q4(t.value,r.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return e.value=s.data,e}const k2e=$e("$ZodRecord",(e,t)=>{js.init(e,t),e._zod.parse=(r,s)=>{const a=r.value;if(!ug(a))return r.issues.push({expected:"record",code:"invalid_type",input:a,inst:e}),r;const i=[];if(t.keyType._zod.values){const o=t.keyType._zod.values;r.value={};for(const d of o)if(typeof d=="string"||typeof d=="number"||typeof d=="symbol"){const u=t.valueType._zod.run({value:a[d],issues:[]},s);u instanceof Promise?i.push(u.then(l=>{l.issues.length&&r.issues.push(...Fp(d,l.issues)),r.value[d]=l.value})):(u.issues.length&&r.issues.push(...Fp(d,u.issues)),r.value[d]=u.value)}let c;for(const d in a)o.has(d)||(c=c??[],c.push(d));c&&c.length>0&&r.issues.push({code:"unrecognized_keys",input:a,inst:e,keys:c})}else{r.value={};for(const o of Reflect.ownKeys(a)){if(o==="__proto__")continue;const c=t.keyType._zod.run({value:o,issues:[]},s);if(c instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(c.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:c.issues.map(u=>bu(u,s,yu())),input:o,path:[o],inst:e}),r.value[c.value]=c.value;continue}const d=t.valueType._zod.run({value:a[o],issues:[]},s);d instanceof Promise?i.push(d.then(u=>{u.issues.length&&r.issues.push(...Fp(o,u.issues)),r.value[c.value]=u.value})):(d.issues.length&&r.issues.push(...Fp(o,d.issues)),r.value[c.value]=d.value)}}return i.length?Promise.all(i).then(()=>r):r}}),A2e=$e("$ZodEnum",(e,t)=>{js.init(e,t);const r=A_e(t.entries),s=new Set(r);e._zod.values=s,e._zod.pattern=new RegExp(`^(${r.filter(a=>R_e.has(typeof a)).map(a=>typeof a=="string"?fg(a):a.toString()).join("|")})$`),e._zod.parse=(a,i)=>{const o=a.value;return s.has(o)||a.issues.push({code:"invalid_value",values:r,input:o,inst:e}),a}}),T2e=$e("$ZodLiteral",(e,t)=>{if(js.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?fg(r):r?fg(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,s)=>{const a=r.value;return e._zod.values.has(a)||r.issues.push({code:"invalid_value",values:t.values,input:a,inst:e}),r}}),D2e=$e("$ZodTransform",(e,t)=>{js.init(e,t),e._zod.parse=(r,s)=>{if(s.direction==="backward")throw new CX(e.constructor.name);const a=t.transform(r.value,r);if(s.async)return(a instanceof Promise?a:Promise.resolve(a)).then(o=>(r.value=o,r));if(a instanceof Promise)throw new Xp;return r.value=a,r}});function z7(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const P2e=$e("$ZodOptional",(e,t)=>{js.init(e,t),e._zod.optin="optional",e._zod.optout="optional",ls(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),ls(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${TI(r.source)})?$`):void 0}),e._zod.parse=(r,s)=>{if(t.innerType._zod.optin==="optional"){const a=t.innerType._zod.run(r,s);return a instanceof Promise?a.then(i=>z7(i,r.value)):z7(a,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,s)}}),R2e=$e("$ZodNullable",(e,t)=>{js.init(e,t),ls(e._zod,"optin",()=>t.innerType._zod.optin),ls(e._zod,"optout",()=>t.innerType._zod.optout),ls(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${TI(r.source)}|null)$`):void 0}),ls(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,s)=>r.value===null?r:t.innerType._zod.run(r,s)}),M2e=$e("$ZodDefault",(e,t)=>{js.init(e,t),e._zod.optin="optional",ls(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,s)=>{if(s.direction==="backward")return t.innerType._zod.run(r,s);if(r.value===void 0)return r.value=t.defaultValue,r;const a=t.innerType._zod.run(r,s);return a instanceof Promise?a.then(i=>U7(i,t)):U7(a,t)}});function U7(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const O2e=$e("$ZodPrefault",(e,t)=>{js.init(e,t),e._zod.optin="optional",ls(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,s)=>(s.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,s))}),I2e=$e("$ZodNonOptional",(e,t)=>{js.init(e,t),ls(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(s=>s!==void 0)):void 0}),e._zod.parse=(r,s)=>{const a=t.innerType._zod.run(r,s);return a instanceof Promise?a.then(i=>H7(i,e)):H7(a,e)}});function H7(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const F2e=$e("$ZodCatch",(e,t)=>{js.init(e,t),ls(e._zod,"optin",()=>t.innerType._zod.optin),ls(e._zod,"optout",()=>t.innerType._zod.optout),ls(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,s)=>{if(s.direction==="backward")return t.innerType._zod.run(r,s);const a=t.innerType._zod.run(r,s);return a instanceof Promise?a.then(i=>(r.value=i.value,i.issues.length&&(r.value=t.catchValue({...r,error:{issues:i.issues.map(o=>bu(o,s,yu()))},input:r.value}),r.issues=[]),r)):(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(i=>bu(i,s,yu()))},input:r.value}),r.issues=[]),r)}}),$2e=$e("$ZodPipe",(e,t)=>{js.init(e,t),ls(e._zod,"values",()=>t.in._zod.values),ls(e._zod,"optin",()=>t.in._zod.optin),ls(e._zod,"optout",()=>t.out._zod.optout),ls(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,s)=>{if(s.direction==="backward"){const i=t.out._zod.run(r,s);return i instanceof Promise?i.then(o=>Xj(o,t.in,s)):Xj(i,t.in,s)}const a=t.in._zod.run(r,s);return a instanceof Promise?a.then(i=>Xj(i,t.out,s)):Xj(a,t.out,s)}});function Xj(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const L2e=$e("$ZodReadonly",(e,t)=>{js.init(e,t),ls(e._zod,"propValues",()=>t.innerType._zod.propValues),ls(e._zod,"values",()=>t.innerType._zod.values),ls(e._zod,"optin",()=>t.innerType._zod.optin),ls(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(r,s)=>{if(s.direction==="backward")return t.innerType._zod.run(r,s);const a=t.innerType._zod.run(r,s);return a instanceof Promise?a.then(V7):V7(a)}});function V7(e){return e.value=Object.freeze(e.value),e}const B2e=$e("$ZodCustom",(e,t)=>{ei.init(e,t),js.init(e,t),e._zod.parse=(r,s)=>r,e._zod.check=r=>{const s=r.value,a=t.fn(s);if(a instanceof Promise)return a.then(i=>W7(i,r,s,e));W7(a,r,s,e)}});function W7(e,t,r,s){if(!e){const a={code:"custom",input:r,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(a.params=s._zod.def.params),t.issues.push(by(a))}}class z2e{constructor(){this._map=new Map,this._idmap=new Map}add(t,...r){const s=r[0];if(this._map.set(t,s),s&&typeof s=="object"&&"id"in s){if(this._idmap.has(s.id))throw new Error(`ID ${s.id} already exists in the registry`);this._idmap.set(s.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const s={...this.get(r)??{}};delete s.id;const a={...s,...this._map.get(t)};return Object.keys(a).length?a:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function U2e(){return new z2e}const Jj=U2e();function H2e(e,t){return new e({type:"string",...jt(t)})}function V2e(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...jt(t)})}function q7(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...jt(t)})}function W2e(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...jt(t)})}function q2e(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...jt(t)})}function G2e(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...jt(t)})}function Y2e(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...jt(t)})}function K2e(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...jt(t)})}function Z2e(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...jt(t)})}function X2e(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...jt(t)})}function J2e(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...jt(t)})}function Q2e(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...jt(t)})}function eke(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...jt(t)})}function tke(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...jt(t)})}function rke(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...jt(t)})}function ske(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...jt(t)})}function nke(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...jt(t)})}function ake(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...jt(t)})}function ike(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...jt(t)})}function oke(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...jt(t)})}function lke(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...jt(t)})}function cke(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...jt(t)})}function dke(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...jt(t)})}function uke(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...jt(t)})}function fke(e,t){return new e({type:"string",format:"date",check:"string_format",...jt(t)})}function mke(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...jt(t)})}function hke(e,t){return new e({type:"string",format:"duration",check:"string_format",...jt(t)})}function pke(e,t){return new e({type:"number",checks:[],...jt(t)})}function gke(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...jt(t)})}function xke(e,t){return new e({type:"boolean",...jt(t)})}function vke(e,t){return new e({type:"undefined",...jt(t)})}function yke(e,t){return new e({type:"null",...jt(t)})}function bke(e){return new e({type:"unknown"})}function wke(e,t){return new e({type:"never",...jt(t)})}function G7(e,t){return new MX({check:"less_than",...jt(t),value:e,inclusive:!1})}function fD(e,t){return new MX({check:"less_than",...jt(t),value:e,inclusive:!0})}function Y7(e,t){return new OX({check:"greater_than",...jt(t),value:e,inclusive:!1})}function mD(e,t){return new OX({check:"greater_than",...jt(t),value:e,inclusive:!0})}function K7(e,t){return new PEe({check:"multiple_of",...jt(t),value:e})}function BX(e,t){return new MEe({check:"max_length",...jt(t),maximum:e})}function NC(e,t){return new OEe({check:"min_length",...jt(t),minimum:e})}function zX(e,t){return new IEe({check:"length_equals",...jt(t),length:e})}function jke(e,t){return new FEe({check:"string_format",format:"regex",...jt(t),pattern:e})}function Ske(e){return new $Ee({check:"string_format",format:"lowercase",...jt(e)})}function Nke(e){return new LEe({check:"string_format",format:"uppercase",...jt(e)})}function Cke(e,t){return new BEe({check:"string_format",format:"includes",...jt(t),includes:e})}function _ke(e,t){return new zEe({check:"string_format",format:"starts_with",...jt(t),prefix:e})}function Eke(e,t){return new UEe({check:"string_format",format:"ends_with",...jt(t),suffix:e})}function xb(e){return new HEe({check:"overwrite",tx:e})}function kke(e){return xb(t=>t.normalize(e))}function Ake(){return xb(e=>e.trim())}function Tke(){return xb(e=>e.toLowerCase())}function Dke(){return xb(e=>e.toUpperCase())}function Pke(e,t,r){return new e({type:"array",element:t,...jt(r)})}function Rke(e,t,r){return new e({type:"custom",check:"custom",fn:t,...jt(r)})}function Mke(e){const t=Oke(r=>(r.addIssue=s=>{if(typeof s=="string")r.issues.push(by(s,r.value,t._zod.def));else{const a=s;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),r.issues.push(by(a))}},e(r.value,r)));return t}function Oke(e,t){const r=new ei({check:"custom",...jt(t)});return r._zod.check=e,r}const Ike=$e("ZodISODateTime",(e,t)=>{s2e.init(e,t),Vs.init(e,t)});function Fke(e){return uke(Ike,e)}const $ke=$e("ZodISODate",(e,t)=>{n2e.init(e,t),Vs.init(e,t)});function Lke(e){return fke($ke,e)}const Bke=$e("ZodISOTime",(e,t)=>{a2e.init(e,t),Vs.init(e,t)});function zke(e){return mke(Bke,e)}const Uke=$e("ZodISODuration",(e,t)=>{i2e.init(e,t),Vs.init(e,t)});function Hke(e){return hke(Uke,e)}const Vke=(e,t)=>{PI.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>V_e(e,r)},flatten:{value:r=>H_e(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,J4,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,J4,2)}},isEmpty:{get(){return e.issues.length===0}}})},_o=$e("ZodError",Vke,{Parent:Error}),Wke=cE(_o),qke=dE(_o),Gke=uE(_o),Yke=fE(_o),Kke=K_e(_o),Zke=Z_e(_o),Xke=X_e(_o),Jke=J_e(_o),Qke=Q_e(_o),eAe=eEe(_o),tAe=tEe(_o),rAe=rEe(_o),Os=$e("ZodType",(e,t)=>(js.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone({...t,checks:[...t.checks??[],...r.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]}),e.clone=(r,s)=>Iu(e,r,s),e.brand=()=>e,e.register=((r,s)=>(r.add(e,s),e)),e.parse=(r,s)=>Wke(e,r,s,{callee:e.parse}),e.safeParse=(r,s)=>Gke(e,r,s),e.parseAsync=async(r,s)=>qke(e,r,s,{callee:e.parseAsync}),e.safeParseAsync=async(r,s)=>Yke(e,r,s),e.spa=e.safeParseAsync,e.encode=(r,s)=>Kke(e,r,s),e.decode=(r,s)=>Zke(e,r,s),e.encodeAsync=async(r,s)=>Xke(e,r,s),e.decodeAsync=async(r,s)=>Jke(e,r,s),e.safeEncode=(r,s)=>Qke(e,r,s),e.safeDecode=(r,s)=>eAe(e,r,s),e.safeEncodeAsync=async(r,s)=>tAe(e,r,s),e.safeDecodeAsync=async(r,s)=>rAe(e,r,s),e.refine=(r,s)=>e.check(KAe(r,s)),e.superRefine=r=>e.check(ZAe(r)),e.overwrite=r=>e.check(xb(r)),e.optional=()=>J7(e),e.nullable=()=>Q7(e),e.nullish=()=>J7(Q7(e)),e.nonoptional=r=>HAe(e,r),e.array=()=>hr(e),e.or=r=>Dn([e,r]),e.and=r=>RAe(e,r),e.transform=r=>eM(e,VX(r)),e.default=r=>BAe(e,r),e.prefault=r=>UAe(e,r),e.catch=r=>WAe(e,r),e.pipe=r=>eM(e,r),e.readonly=()=>YAe(e),e.describe=r=>{const s=e.clone();return Jj.add(s,{description:r}),s},Object.defineProperty(e,"description",{get(){return Jj.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return Jj.get(e);const s=e.clone();return Jj.add(s,r[0]),s},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),UX=$e("_ZodString",(e,t)=>{RI.init(e,t),Os.init(e,t);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...s)=>e.check(jke(...s)),e.includes=(...s)=>e.check(Cke(...s)),e.startsWith=(...s)=>e.check(_ke(...s)),e.endsWith=(...s)=>e.check(Eke(...s)),e.min=(...s)=>e.check(NC(...s)),e.max=(...s)=>e.check(BX(...s)),e.length=(...s)=>e.check(zX(...s)),e.nonempty=(...s)=>e.check(NC(1,...s)),e.lowercase=s=>e.check(Ske(s)),e.uppercase=s=>e.check(Nke(s)),e.trim=()=>e.check(Ake()),e.normalize=(...s)=>e.check(kke(...s)),e.toLowerCase=()=>e.check(Tke()),e.toUpperCase=()=>e.check(Dke())}),sAe=$e("ZodString",(e,t)=>{RI.init(e,t),UX.init(e,t),e.email=r=>e.check(V2e(nAe,r)),e.url=r=>e.check(K2e(aAe,r)),e.jwt=r=>e.check(dke(bAe,r)),e.emoji=r=>e.check(Z2e(iAe,r)),e.guid=r=>e.check(q7(Z7,r)),e.uuid=r=>e.check(W2e(Qj,r)),e.uuidv4=r=>e.check(q2e(Qj,r)),e.uuidv6=r=>e.check(G2e(Qj,r)),e.uuidv7=r=>e.check(Y2e(Qj,r)),e.nanoid=r=>e.check(X2e(oAe,r)),e.guid=r=>e.check(q7(Z7,r)),e.cuid=r=>e.check(J2e(lAe,r)),e.cuid2=r=>e.check(Q2e(cAe,r)),e.ulid=r=>e.check(eke(dAe,r)),e.base64=r=>e.check(oke(xAe,r)),e.base64url=r=>e.check(lke(vAe,r)),e.xid=r=>e.check(tke(uAe,r)),e.ksuid=r=>e.check(rke(fAe,r)),e.ipv4=r=>e.check(ske(mAe,r)),e.ipv6=r=>e.check(nke(hAe,r)),e.cidrv4=r=>e.check(ake(pAe,r)),e.cidrv6=r=>e.check(ike(gAe,r)),e.e164=r=>e.check(cke(yAe,r)),e.datetime=r=>e.check(Fke(r)),e.date=r=>e.check(Lke(r)),e.time=r=>e.check(zke(r)),e.duration=r=>e.check(Hke(r))});function et(e){return H2e(sAe,e)}const Vs=$e("ZodStringFormat",(e,t)=>{Ms.init(e,t),UX.init(e,t)}),nAe=$e("ZodEmail",(e,t)=>{YEe.init(e,t),Vs.init(e,t)}),Z7=$e("ZodGUID",(e,t)=>{qEe.init(e,t),Vs.init(e,t)}),Qj=$e("ZodUUID",(e,t)=>{GEe.init(e,t),Vs.init(e,t)}),aAe=$e("ZodURL",(e,t)=>{KEe.init(e,t),Vs.init(e,t)}),iAe=$e("ZodEmoji",(e,t)=>{ZEe.init(e,t),Vs.init(e,t)}),oAe=$e("ZodNanoID",(e,t)=>{XEe.init(e,t),Vs.init(e,t)}),lAe=$e("ZodCUID",(e,t)=>{JEe.init(e,t),Vs.init(e,t)}),cAe=$e("ZodCUID2",(e,t)=>{QEe.init(e,t),Vs.init(e,t)}),dAe=$e("ZodULID",(e,t)=>{e2e.init(e,t),Vs.init(e,t)}),uAe=$e("ZodXID",(e,t)=>{t2e.init(e,t),Vs.init(e,t)}),fAe=$e("ZodKSUID",(e,t)=>{r2e.init(e,t),Vs.init(e,t)}),mAe=$e("ZodIPv4",(e,t)=>{o2e.init(e,t),Vs.init(e,t)}),hAe=$e("ZodIPv6",(e,t)=>{l2e.init(e,t),Vs.init(e,t)}),pAe=$e("ZodCIDRv4",(e,t)=>{c2e.init(e,t),Vs.init(e,t)}),gAe=$e("ZodCIDRv6",(e,t)=>{d2e.init(e,t),Vs.init(e,t)}),xAe=$e("ZodBase64",(e,t)=>{u2e.init(e,t),Vs.init(e,t)}),vAe=$e("ZodBase64URL",(e,t)=>{m2e.init(e,t),Vs.init(e,t)}),yAe=$e("ZodE164",(e,t)=>{h2e.init(e,t),Vs.init(e,t)}),bAe=$e("ZodJWT",(e,t)=>{g2e.init(e,t),Vs.init(e,t)}),HX=$e("ZodNumber",(e,t)=>{FX.init(e,t),Os.init(e,t),e.gt=(s,a)=>e.check(Y7(s,a)),e.gte=(s,a)=>e.check(mD(s,a)),e.min=(s,a)=>e.check(mD(s,a)),e.lt=(s,a)=>e.check(G7(s,a)),e.lte=(s,a)=>e.check(fD(s,a)),e.max=(s,a)=>e.check(fD(s,a)),e.int=s=>e.check(X7(s)),e.safe=s=>e.check(X7(s)),e.positive=s=>e.check(Y7(0,s)),e.nonnegative=s=>e.check(mD(0,s)),e.negative=s=>e.check(G7(0,s)),e.nonpositive=s=>e.check(fD(0,s)),e.multipleOf=(s,a)=>e.check(K7(s,a)),e.step=(s,a)=>e.check(K7(s,a)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function wt(e){return pke(HX,e)}const wAe=$e("ZodNumberFormat",(e,t)=>{x2e.init(e,t),HX.init(e,t)});function X7(e){return gke(wAe,e)}const jAe=$e("ZodBoolean",(e,t)=>{v2e.init(e,t),Os.init(e,t)});function Ps(e){return xke(jAe,e)}const SAe=$e("ZodUndefined",(e,t)=>{y2e.init(e,t),Os.init(e,t)});function NAe(e){return vke(SAe,e)}const CAe=$e("ZodNull",(e,t)=>{b2e.init(e,t),Os.init(e,t)});function mg(e){return yke(CAe,e)}const _Ae=$e("ZodUnknown",(e,t)=>{w2e.init(e,t),Os.init(e,t)});function wy(){return bke(_Ae)}const EAe=$e("ZodNever",(e,t)=>{j2e.init(e,t),Os.init(e,t)});function kAe(e){return wke(EAe,e)}const AAe=$e("ZodArray",(e,t)=>{S2e.init(e,t),Os.init(e,t),e.element=t.element,e.min=(r,s)=>e.check(NC(r,s)),e.nonempty=r=>e.check(NC(1,r)),e.max=(r,s)=>e.check(BX(r,s)),e.length=(r,s)=>e.check(zX(r,s)),e.unwrap=()=>e.element});function hr(e,t){return Pke(AAe,e,t)}const TAe=$e("ZodObject",(e,t)=>{C2e.init(e,t),Os.init(e,t),ls(e,"shape",()=>t.shape),e.keyof=()=>hE(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:wy()}),e.loose=()=>e.clone({...e._zod.def,catchall:wy()}),e.strict=()=>e.clone({...e._zod.def,catchall:kAe()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>$_e(e,r),e.safeExtend=r=>L_e(e,r),e.merge=r=>B_e(e,r),e.pick=r=>I_e(e,r),e.omit=r=>F_e(e,r),e.partial=(...r)=>z_e(WX,e,r[0]),e.required=(...r)=>U_e(qX,e,r[0])});function Dt(e,t){const r={type:"object",get shape(){return Ou(this,"shape",e?D_e(e):{}),this.shape},...jt(t)};return new TAe(r)}const DAe=$e("ZodUnion",(e,t)=>{_2e.init(e,t),Os.init(e,t),e.options=t.options});function Dn(e,t){return new DAe({type:"union",options:e,...jt(t)})}const PAe=$e("ZodIntersection",(e,t)=>{E2e.init(e,t),Os.init(e,t)});function RAe(e,t){return new PAe({type:"intersection",left:e,right:t})}const MAe=$e("ZodRecord",(e,t)=>{k2e.init(e,t),Os.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function hg(e,t,r){return new MAe({type:"record",keyType:e,valueType:t,...jt(r)})}const CC=$e("ZodEnum",(e,t)=>{A2e.init(e,t),Os.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(s,a)=>{const i={};for(const o of s)if(r.has(o))i[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new CC({...t,checks:[],...jt(a),entries:i})},e.exclude=(s,a)=>{const i={...t.entries};for(const o of s)if(r.has(o))delete i[o];else throw new Error(`Key ${o} not found in enum`);return new CC({...t,checks:[],...jt(a),entries:i})}});function hE(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(s=>[s,s])):e;return new CC({type:"enum",entries:r,...jt(t)})}function OAe(e,t){return new CC({type:"enum",entries:e,...jt(t)})}const IAe=$e("ZodLiteral",(e,t)=>{T2e.init(e,t),Os.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function jn(e,t){return new IAe({type:"literal",values:Array.isArray(e)?e:[e],...jt(t)})}const FAe=$e("ZodTransform",(e,t)=>{D2e.init(e,t),Os.init(e,t),e._zod.parse=(r,s)=>{if(s.direction==="backward")throw new CX(e.constructor.name);r.addIssue=i=>{if(typeof i=="string")r.issues.push(by(i,r.value,t));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=e),r.issues.push(by(o))}};const a=t.transform(r.value,r);return a instanceof Promise?a.then(i=>(r.value=i,r)):(r.value=a,r)}});function VX(e){return new FAe({type:"transform",transform:e})}const WX=$e("ZodOptional",(e,t)=>{P2e.init(e,t),Os.init(e,t),e.unwrap=()=>e._zod.def.innerType});function J7(e){return new WX({type:"optional",innerType:e})}const $Ae=$e("ZodNullable",(e,t)=>{R2e.init(e,t),Os.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Q7(e){return new $Ae({type:"nullable",innerType:e})}const LAe=$e("ZodDefault",(e,t)=>{M2e.init(e,t),Os.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function BAe(e,t){return new LAe({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():kX(t)}})}const zAe=$e("ZodPrefault",(e,t)=>{O2e.init(e,t),Os.init(e,t),e.unwrap=()=>e._zod.def.innerType});function UAe(e,t){return new zAe({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():kX(t)}})}const qX=$e("ZodNonOptional",(e,t)=>{I2e.init(e,t),Os.init(e,t),e.unwrap=()=>e._zod.def.innerType});function HAe(e,t){return new qX({type:"nonoptional",innerType:e,...jt(t)})}const VAe=$e("ZodCatch",(e,t)=>{F2e.init(e,t),Os.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function WAe(e,t){return new VAe({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const qAe=$e("ZodPipe",(e,t)=>{$2e.init(e,t),Os.init(e,t),e.in=t.in,e.out=t.out});function eM(e,t){return new qAe({type:"pipe",in:e,out:t})}const GAe=$e("ZodReadonly",(e,t)=>{L2e.init(e,t),Os.init(e,t),e.unwrap=()=>e._zod.def.innerType});function YAe(e){return new GAe({type:"readonly",innerType:e})}const GX=$e("ZodCustom",(e,t)=>{B2e.init(e,t),Os.init(e,t)});function KAe(e,t={}){return Rke(GX,e,t)}function ZAe(e){return Mke(e)}function XAe(e,t={error:`Input not instance of ${e.name}`}){const r=new GX({type:"custom",check:"custom",fn:s=>s instanceof e,abort:!0,...jt(t)});return r._zod.bag.Class=e,r}function YX(e,t){return eM(VX(e),t)}const um={custom:"custom"},ou=et().regex(/^([01]?[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$/,"Time must be in HH:MM:SS format"),Ta=et().regex(/^\d{4}-\d{2}-\d{2}$/,"Date must be in YYYY-MM-DD format"),Rl=et().datetime(),JAe=Dt({emp_info_id:wt().optional(),daily_schedule_id:wt().optional(),skill_id:wt(),rating:et().optional(),is_required:Ps().optional(),created_at:et(),updated_at:et()}),KX=Dt({id:wt(),name:et(),slug:et(),created_at:Rl,updated_at:Rl,pivot:JAe.optional()}),QAe=Dt({id:wt(),description:et(),slug:et(),created_at:Rl,updated_at:Rl}),eTe=Dt({id:wt(),store_id:et(),full_name:et(),date_of_birth:Rl,has_family:Ps(),has_car:Ps(),is_arabic_team:Ps(),notes:et().nullable(),status:et(),created_at:Rl,updated_at:Rl,skills:hr(KX).optional()}),Km=Dt({id:wt(),date_of_day:Rl,emp_info_id:wt(),scheduled_start_time:ou,scheduled_end_time:ou,actual_start_time:ou.nullable(),actual_end_time:ou.nullable(),vci:Ps().nullable(),status_id:wt(),agree_on_exception:Ps(),exception_notes:et().nullable(),scheduled_hours:wt().optional(),created_at:Rl,updated_at:Rl,emp_info:eTe,status:QAe,required_skills:hr(KX)}),ZX=Dt({valid:Ps(),violations:hr(et())}),tTe=Dt({date:Ta,total_schedules:wt(),unique_employees:wt(),total_hours:wt(),schedules_with_exceptions:wt(),required_skills:hr(wt()),available_skills:hr(wt()),skill_coverage_complete:Ps()}),XX=Dt({required_skills:hr(wt()),available_skills:hr(wt()),missing_skills:hr(wt()),fully_covered:Ps()}),JX=Dt({employee_name:et(),total_scheduled_hours:wt(),max_weekly_hours:wt(),hours_remaining:wt(),is_over_limit:Ps()}),rTe=Dt({week_start:Ta,week_end:Ta,total_schedules:wt(),unique_employees:wt(),employees_scheduled:wt(),unique_dates:wt(),total_hours:wt(),validation_status:hE(["passed","failed"]),total_violations:wt(),skill_coverage_summary:hg(et(),XX),hours_summary:hg(et(),JX),conflicts_summary:hr(wy())}),sTe=Dt({valid:Ps(),violations:hr(et()),skill_coverage:hg(et(),XX),hours_summary:hg(et(),JX),conflicts:hr(wy())}),vb=Dt({emp_info_id:wt(),scheduled_start_time:ou,scheduled_end_time:ou,status_id:wt(),actual_start_time:ou.optional(),actual_end_time:ou.optional(),vci:Ps().nullable().optional(),agree_on_exception:Ps().optional(),exception_notes:et().optional(),required_skills:hr(wt()).optional()}).superRefine((e,t)=>{e.scheduled_end_time<=e.scheduled_start_time&&t.addIssue({code:um.custom,message:"End time must be after start time",path:["scheduled_end_time"]})}),QX=Dt({id:wt(),skills:hr(Dt({id:wt()})),employment_info:Dt({max_weekly_hours:wt()}).optional()}),nTe=vb.merge(Dt({employee:QX.optional()})),eJ=Dt({date_of_day:Ta}).merge(vb),aTe=Dt({date_of_day:Ta,schedules:hr(vb)}),iTe=Dn([Dt({date_of_day:Ta,schedules:hr(nTe)}),Dt({date_of_day:Ta,employee:QX.optional()}).merge(vb)]),oTe=Dt({weekly_schedule:hr(iTe).superRefine((e,t)=>{if(e.length===0)return;const r=e.map(o=>new Date(o.date_of_day)),s=new Date(Math.min(...r.map(o=>o.getTime())));(new Date(Math.max(...r.map(o=>o.getTime()))).getTime()-s.getTime())/(1e3*60*60*24)>6&&t.addIssue({code:um.custom,message:"All dates must fall within a 7-day work week",path:["weekly_schedule"]})})}),lTe=Dt({date:Ta,total_schedules:wt(),total_employees:wt(),total_hours:wt(),required_skills:hr(wt()),available_skills:hr(wt()),missing_skills:hr(wt()),skill_coverage_complete:Ps(),schedules:hr(Km)}),cTe=Dt({total_hours:wt(),total_actual_hours:wt(),schedules_with_exceptions:wt()}),dTe=Dt({week_start:Ta,week_end:Ta,total_schedules:wt(),unique_employees:wt(),daily_analysis:hg(et(),lTe),week_totals:cTe}),tJ=Dt({data:Km,validation_result:ZX}),uTe=Dt({data:hr(Km),validation_result:ZX,day_summary:tTe}),fTe=Dt({success:jn(!0),message:et(),data:Dt({schedules:hr(Km),week_summary:rTe}),validation_result:sTe}),mTe=Dt({success:jn(!0),data:dTe}),hTe=Dt({start_date:Ta.optional(),end_date:Ta.optional(),emp_info_id:wt().optional()}),pTe=Dt({date:Ta,emp_info_id:wt().optional()}),gTe=Dt({date:Ta,emp_info_ids:hr(wt()).optional()}),xTe=Dt({is_required:Ps().optional()});Dt({status:wt(),message:et(),fieldErrors:hg(et(),hr(et())).optional(),raw:wy().optional()});Dt({weekly_schedule:hr(Dt({date_of_day:Ta,schedules:hr(vb.merge(Dt({employee_id:wt(),employee_skills:hr(wt()).optional()}))).superRefine((e,t)=>{const r=new Map;for(const s of e){r.has(s.emp_info_id)||r.set(s.emp_info_id,[]);const a=r.get(s.emp_info_id),i={start:s.scheduled_start_time,end:s.scheduled_end_time};for(const o of a)if(i.start<o.end&&i.end>o.start){t.addIssue({code:um.custom,message:"Employee cannot have overlapping shifts on the same day",path:[e.indexOf(s)]});return}a.push(i)}})})).superRefine((e,t)=>{if(e.length===0)return;const r=e.map(o=>new Date(o.date_of_day)),s=new Date(Math.min(...r.map(o=>o.getTime())));(new Date(Math.max(...r.map(o=>o.getTime()))).getTime()-s.getTime())/(1e3*60*60*24)>6&&t.addIssue({code:um.custom,message:"All dates must fall within a 7-day work week",path:["weekly_schedule"]})})});const Ni=(e,t,r,s)=>({status:e,message:t,fieldErrors:r,raw:s}),vTe=()=>{try{const t=Pr.getState().auth?.token;return t||vr()}catch(e){return console.error("Error retrieving auth token:",e),null}},yTe=()=>{const e=ot.create({baseURL:"http://127.0.0.1:8000/api/daily-schedules",timeout:5e3,headers:{Accept:"application/json","Content-Type":"application/json"}});return e.interceptors.request.use(t=>{const r=vTe();return r&&(t.headers.Authorization=`Bearer ${r}`),t},t=>(console.error("Request interceptor error:",t),Promise.reject(t))),e.interceptors.response.use(t=>t,t=>Promise.reject(bTe(t))),e},bTe=e=>{if(ot.isAxiosError(e)){const t=e.response?.status||0;let r=e.message,s;if(e.response?.data){const a=e.response.data;t===422&&a.errors?(r=a.message||"Validation failed",s=a.errors):a.message?r=a.message:typeof a=="string"&&(r=a)}return t===401?r="Authentication required. Please log in again.":t===403?r="You do not have permission to perform this action.":t===404?r="The requested resource was not found.":t===429?r="Too many requests. Please try again later.":t>=500?r="A server error occurred. Please try again later.":t===0&&(r="Network error. Please check your connection."),Ni(t,r,s,e.response?.data)}return e instanceof Error?Ni(0,e.message,void 0,e):Ni(0,"An unexpected error occurred",void 0,e)},Qo=yTe(),el=e=>({signal:e?.signal}),wTe=async(e,t)=>{try{const r=e?hTe.parse(e):{},s=new URLSearchParams;r.start_date&&s.append("start_date",r.start_date),r.end_date&&s.append("end_date",r.end_date),r.emp_info_id&&s.append("emp_info_id",r.emp_info_id.toString());const a=s.toString(),i=a?`/daily-schedules?${a}`:"/daily-schedules";return(await Qo.get(i,el(t))).data.map((d,u)=>{try{return Km.parse(d)}catch(l){throw Ni(500,`Invalid schedule data at index ${u}`,void 0,l)}})}catch(r){throw r instanceof Error&&"issues"in r?Ni(400,"Parameter validation failed",void 0,r):r}},jTe=async(e,t)=>{try{const r=await Qo.get(`/daily-schedules/${e}`,el(t));return Km.parse(r.data)}catch(r){throw r}},STe=async(e,t)=>{try{const r=aTe.parse(e),s=await Qo.post("/daily-schedules",r,el(t));return uTe.parse(s.data)}catch(r){throw r instanceof Error&&"issues"in r?Ni(400,"Request validation failed",void 0,r):r}},NTe=async(e,t)=>{try{const r=eJ.parse(e),s=await Qo.post("/daily-schedules",r,el(t));return tJ.parse(s.data)}catch(r){throw r instanceof Error&&"issues"in r?Ni(400,"Request validation failed",void 0,r):r}},CTe=async(e,t,r)=>{try{const s=eJ.parse(t),a=await Qo.put(`/daily-schedules/${e}`,s,el(r));return tJ.parse(a.data)}catch(s){throw s instanceof Error&&"issues"in s?Ni(400,"Request validation failed",void 0,s):s}},_Te=async(e,t)=>{try{await Qo.delete(`/daily-schedules/${e}`,el(t))}catch(r){throw r}},ETe=async(e,t,r,s)=>{try{const a=r?xTe.parse(r):{};await Qo.post(`/daily-schedules/${e}/skills/${t}`,a,el(s))}catch(a){throw a instanceof Error&&"issues"in a?Ni(400,"Request validation failed",void 0,a):a}},kTe=async(e,t,r)=>{try{await Qo.delete(`/daily-schedules/${e}/skills/${t}`,el(r))}catch(s){throw s}},ATe=async(e,t)=>{try{const r=pTe.parse(e),s=new URLSearchParams;return s.append("date",r.date),r.emp_info_id&&s.append("emp_info_id",r.emp_info_id.toString()),(await Qo.get(`/daily-schedules/weekly/0?${s.toString()}`,el(t))).data.map((o,c)=>{try{return Km.parse(o)}catch(d){throw Ni(500,`Invalid schedule data at index ${c}`,void 0,d)}})}catch(r){throw r instanceof Error&&"issues"in r?Ni(400,"Parameter validation failed",void 0,r):r}},eH={entities:{},listIds:[],lastListParams:null,lastValidationResult:null,lastDaySummary:null,loading:{list:!1,get:!1,createDay:!1,createSingle:!1,update:!1,delete:!1,attachSkill:!1,detachSkill:!1,weeklyView:!1},error:{list:null,get:null,createDay:null,createSingle:null,update:null,delete:null,attachSkill:null,detachSkill:null,weeklyView:null},selectedScheduleId:null,currentRequestIds:{}},hD=Me("dailySchedules/list",async(e,{rejectWithValue:t,signal:r})=>{try{return await wTe(e,{signal:r})}catch(s){return s&&typeof s=="object"&&"status"in s?t(s):t({status:0,message:s instanceof Error?s.message:"List operation failed",raw:s})}}),pD=Me("dailySchedules/get",async(e,{rejectWithValue:t,signal:r})=>{try{return await jTe(e,{signal:r})}catch(s){return s&&typeof s=="object"&&"status"in s?t(s):t({status:0,message:s instanceof Error?s.message:"Get operation failed",raw:s})}}),gD=Me("dailySchedules/createDay",async(e,{rejectWithValue:t,signal:r})=>{try{return await STe(e,{signal:r})}catch(s){return s&&typeof s=="object"&&"status"in s?t(s):t({status:0,message:s instanceof Error?s.message:"Create day operation failed",raw:s})}}),xD=Me("dailySchedules/createSingle",async(e,{rejectWithValue:t,signal:r})=>{try{return await NTe(e,{signal:r})}catch(s){return s&&typeof s=="object"&&"status"in s?t(s):t({status:0,message:s instanceof Error?s.message:"Create single operation failed",raw:s})}}),vD=Me("dailySchedules/update",async({id:e,body:t},{rejectWithValue:r,signal:s})=>{try{return await CTe(e,t,{signal:s})}catch(a){return a&&typeof a=="object"&&"status"in a?r(a):r({status:0,message:a instanceof Error?a.message:"Update operation failed",raw:a})}}),yD=Me("dailySchedules/delete",async(e,{rejectWithValue:t,signal:r})=>{try{return await _Te(e,{signal:r}),e}catch(s){return s&&typeof s=="object"&&"status"in s?t(s):t({status:0,message:s instanceof Error?s.message:"Delete operation failed",raw:s})}}),bD=Me("dailySchedules/attachSkill",async({dailyScheduleId:e,skillId:t,isRequired:r},{rejectWithValue:s,signal:a})=>{try{return await ETe(e,t,r!==void 0?{is_required:r}:void 0,{signal:a}),{dailyScheduleId:e,skillId:t}}catch(i){return i&&typeof i=="object"&&"status"in i?s(i):s({status:0,message:i instanceof Error?i.message:"Attach skill operation failed",raw:i})}}),wD=Me("dailySchedules/detachSkill",async({dailyScheduleId:e,skillId:t},{rejectWithValue:r,signal:s})=>{try{return await kTe(e,t,{signal:s}),{dailyScheduleId:e,skillId:t}}catch(a){return a&&typeof a=="object"&&"status"in a?r(a):r({status:0,message:a instanceof Error?a.message:"Detach skill operation failed",raw:a})}}),jD=Me("dailySchedules/getWeekly",async(e,{rejectWithValue:t,signal:r})=>{try{return await ATe(e,{signal:r})}catch(s){return s&&typeof s=="object"&&"status"in s?t(s):t({status:0,message:s instanceof Error?s.message:"Weekly view operation failed",raw:s})}}),rJ=Pt({name:"dailySchedules",initialState:eH,reducers:{clearErrors:e=>{Object.keys(e.error).forEach(t=>{e.error[t]=null})},clearOperationError:(e,t)=>{e.error[t.payload]=null},clearValidationResult:e=>{e.lastValidationResult=null},clearDaySummary:e=>{e.lastDaySummary=null},setSelectedSchedule:(e,t)=>{e.selectedScheduleId=t.payload},resetState:()=>eH,upsertScheduleEntity:(e,t)=>{const r=t.payload;e.entities[r.id]=r,e.listIds.includes(r.id)||e.listIds.push(r.id)},removeScheduleEntity:(e,t)=>{const r=t.payload;delete e.entities[r],e.listIds=e.listIds.filter(s=>s!==r),e.selectedScheduleId===r&&(e.selectedScheduleId=null)}},extraReducers:e=>{e.addCase(hD.pending,(t,r)=>{t.loading.list=!0,t.error.list=null,t.currentRequestIds.list=r.meta.requestId}).addCase(hD.fulfilled,(t,r)=>{const{requestId:s}=r.meta;if(t.loading.list&&t.currentRequestIds.list===s){t.loading.list=!1,t.currentRequestIds.list=null;const a=r.payload;t.entities={},t.listIds=[],a.forEach(i=>{t.entities[i.id]=i,t.listIds.push(i.id)}),t.error.list=null}}).addCase(hD.rejected,(t,r)=>{const{requestId:s}=r.meta;t.loading.list&&t.currentRequestIds.list===s&&(t.loading.list=!1,t.currentRequestIds.list=null,t.error.list=r.payload||{status:0,message:"List failed"})}),e.addCase(pD.pending,t=>{t.loading.get=!0,t.error.get=null}).addCase(pD.fulfilled,(t,r)=>{t.loading.get=!1;const s=r.payload;t.entities[s.id]=s,t.listIds.includes(s.id)||t.listIds.push(s.id),t.error.get=null}).addCase(pD.rejected,(t,r)=>{t.loading.get=!1,t.error.get=r.payload||{status:0,message:"Get failed"}}),e.addCase(gD.pending,t=>{t.loading.createDay=!0,t.error.createDay=null}).addCase(gD.fulfilled,(t,r)=>{t.loading.createDay=!1;const s=r.payload;s.data.forEach(a=>{t.entities[a.id]=a,t.listIds.includes(a.id)||t.listIds.push(a.id)}),t.lastValidationResult=s.validation_result,t.lastDaySummary=s.day_summary,t.error.createDay=null}).addCase(gD.rejected,(t,r)=>{t.loading.createDay=!1,t.error.createDay=r.payload||{status:0,message:"Create day failed"}}),e.addCase(xD.pending,t=>{t.loading.createSingle=!0,t.error.createSingle=null}).addCase(xD.fulfilled,(t,r)=>{t.loading.createSingle=!1;const s=r.payload,a=s.data;t.entities[a.id]=a,t.listIds.includes(a.id)||t.listIds.push(a.id),t.lastValidationResult=s.validation_result,t.error.createSingle=null}).addCase(xD.rejected,(t,r)=>{t.loading.createSingle=!1,t.error.createSingle=r.payload||{status:0,message:"Create single failed"}}),e.addCase(vD.pending,t=>{t.loading.update=!0,t.error.update=null}).addCase(vD.fulfilled,(t,r)=>{t.loading.update=!1;const s=r.payload,a=s.data;t.entities[a.id]=a,t.lastValidationResult=s.validation_result,t.error.update=null}).addCase(vD.rejected,(t,r)=>{t.loading.update=!1,t.error.update=r.payload||{status:0,message:"Update failed"}}),e.addCase(yD.pending,t=>{t.loading.delete=!0,t.error.delete=null}).addCase(yD.fulfilled,(t,r)=>{t.loading.delete=!1;const s=r.payload;delete t.entities[s],t.listIds=t.listIds.filter(a=>a!==s),t.selectedScheduleId===s&&(t.selectedScheduleId=null),t.error.delete=null}).addCase(yD.rejected,(t,r)=>{t.loading.delete=!1,t.error.delete=r.payload||{status:0,message:"Delete failed"}}),e.addCase(bD.pending,t=>{t.loading.attachSkill=!0,t.error.attachSkill=null}).addCase(bD.fulfilled,t=>{t.loading.attachSkill=!1,t.error.attachSkill=null}).addCase(bD.rejected,(t,r)=>{t.loading.attachSkill=!1,t.error.attachSkill=r.payload||{status:0,message:"Attach skill failed"}}),e.addCase(wD.pending,t=>{t.loading.detachSkill=!0,t.error.detachSkill=null}).addCase(wD.fulfilled,t=>{t.loading.detachSkill=!1,t.error.detachSkill=null}).addCase(wD.rejected,(t,r)=>{t.loading.detachSkill=!1,t.error.detachSkill=r.payload||{status:0,message:"Detach skill failed"}}),e.addCase(jD.pending,t=>{t.loading.weeklyView=!0,t.error.weeklyView=null}).addCase(jD.fulfilled,(t,r)=>{t.loading.weeklyView=!1,r.payload.forEach(a=>{t.entities[a.id]=a,t.listIds.includes(a.id)||t.listIds.push(a.id)}),t.error.weeklyView=null}).addCase(jD.rejected,(t,r)=>{t.loading.weeklyView=!1,t.error.weeklyView=r.payload||{status:0,message:"Weekly view failed"}})}}),{clearErrors:XOt,clearOperationError:JOt,clearValidationResult:QOt,clearDaySummary:eIt,setSelectedSchedule:tIt,resetState:rIt,upsertScheduleEntity:sIt,removeScheduleEntity:nIt}=rJ.actions,TTe=rJ.reducer,DTe=async(e,t)=>{try{const r=oTe.parse(e),s=await Qo.post("/weekly-schedules/process",r,el(t));return fTe.parse(s.data)}catch(r){throw r instanceof Error&&"issues"in r?Ni(400,"Request validation failed",void 0,r):r}},PTe=async(e,t)=>{try{const r=gTe.parse(e),s=new URLSearchParams;s.append("date",r.date),r.emp_info_ids&&r.emp_info_ids.length>0&&r.emp_info_ids.forEach(o=>{s.append("emp_info_ids[]",o.toString())});const a=await Qo.get(`/weekly-schedules/analysis?${s.toString()}`,el(t));return mTe.parse(a.data)}catch(r){throw r instanceof Error&&"issues"in r?Ni(400,"Parameter validation failed",void 0,r):r}},tH={entities:{},ids:[],weekSummary:null,validationResult:null,analysis:null,loading:{processing:!1,analysis:!1},error:{processing:null,analysis:null},currentRequestId:null},SD=Me("weeklySchedules/process",async(e,{rejectWithValue:t,signal:r})=>{try{return await DTe(e,{signal:r})}catch(s){return s&&typeof s=="object"&&"status"in s?t(s):t({status:0,message:s instanceof Error?s.message:"An unexpected error occurred",raw:s})}}),ND=Me("weeklySchedules/getAnalysis",async(e,{rejectWithValue:t,signal:r})=>{try{return await PTe(e,{signal:r})}catch(s){return s&&typeof s=="object"&&"status"in s?t(s):t({status:0,message:s instanceof Error?s.message:"An unexpected error occurred",raw:s})}}),sJ=Pt({name:"weeklySchedules",initialState:tH,reducers:{clearErrors:e=>{e.error.processing=null,e.error.analysis=null},clearProcessingError:e=>{e.error.processing=null},clearAnalysisError:e=>{e.error.analysis=null},clearValidationResult:e=>{e.validationResult=null},clearWeekSummary:e=>{e.weekSummary=null},clearAnalysis:e=>{e.analysis=null},resetState:()=>tH,updateScheduleEntity:(e,t)=>{const r=t.payload;e.entities[r.id]=r,e.ids.includes(r.id)||e.ids.push(r.id)},removeScheduleEntity:(e,t)=>{const r=t.payload;delete e.entities[r],e.ids=e.ids.filter(s=>s!==r)}},extraReducers:e=>{e.addCase(SD.pending,(t,r)=>{t.loading.processing=!0,t.error.processing=null,t.currentRequestId=r.meta.requestId}).addCase(SD.fulfilled,(t,r)=>{const{requestId:s}=r.meta;if(t.loading.processing&&t.currentRequestId===s){t.loading.processing=!1,t.currentRequestId=null;const a=r.payload;a.data.schedules.forEach(o=>{t.entities[o.id]=o,t.ids.includes(o.id)||t.ids.push(o.id)}),t.weekSummary=a.data.week_summary,t.validationResult=a.validation_result,t.error.processing=null}}).addCase(SD.rejected,(t,r)=>{const{requestId:s}=r.meta;t.loading.processing&&t.currentRequestId===s&&(t.loading.processing=!1,t.currentRequestId=null,t.error.processing=r.payload||{status:0,message:"Processing failed"})}),e.addCase(ND.pending,t=>{t.loading.analysis=!0,t.error.analysis=null}).addCase(ND.fulfilled,(t,r)=>{t.loading.analysis=!1,t.analysis=r.payload.data,t.error.analysis=null}).addCase(ND.rejected,(t,r)=>{t.loading.analysis=!1,t.error.analysis=r.payload||{status:0,message:"Analysis failed"}})}}),{clearErrors:aIt,clearProcessingError:iIt,clearAnalysisError:oIt,clearValidationResult:lIt,clearWeekSummary:cIt,clearAnalysis:dIt,resetState:uIt,updateScheduleEntity:fIt,removeScheduleEntity:mIt}=sJ.actions,RTe=sJ.reducer;class nJ extends Error{constructor(t="Authentication token is missing or invalid"){super(t),this.name="AuthTokenError"}}const MTe="http://dforms.pnepizza.com/api",OTe=5e3,an={info:(e,...t)=>{},error:(e,...t)=>{},warn:(e,...t)=>{}},ITe=()=>{try{const t=Pr.getState().auth?.token;if(t)return an.info("Token retrieved from Redux store"),t;an.warn("Redux token unavailable, falling back to tokenStorage");const r=vr();return r?(an.info("Token retrieved from storage"),r):(an.error("No authentication token available"),null)}catch(e){return an.error("Error retrieving auth token:",e),null}},FTe=e=>{if(ot.isAxiosError(e)){const t=e;if(!t.response)return an.error("Network error occurred",{message:t.message,code:t.code}),{message:"Network error: Unable to reach the server. Please check your connection.",isNetworkError:!0,details:{code:t.code,originalMessage:t.message}};const{status:r,data:s}=t.response,a=s?.message||s?.error||t.message||"An error occurred";return r===401?(an.error("Authentication failed (401)"),{message:"Authentication failed. Please log in again.",statusCode:401,details:s}):r===403?(an.error("Access forbidden (403)"),{message:"Access denied. You do not have permission to perform this action.",statusCode:403,details:s}):(an.error(`HTTP error ${r}:`,a),{message:a,statusCode:r,details:s})}return e instanceof nJ?(an.error("Auth token error:",e.message),{message:e.message,statusCode:401}):e instanceof Error?(an.error("Unexpected error:",e.message),{message:e.message,details:e}):(an.error("Unknown error type:",e),{message:"An unexpected error occurred",details:e})},$Te=(e,t)=>{Object.entries(e).forEach(([r,s])=>{Object.entries(s).forEach(([a,i])=>{if(Array.isArray(i)){i.forEach(c=>{const d=typeof c=="boolean"?c?"1":"0":String(c);t.append(`field_filters[${r}][${a}][]`,d)});return}const o=typeof i=="boolean"?i?"1":"0":String(i);t.append(`field_filters[${r}][${a}]`,o)})})},LTe=e=>{const t=new URLSearchParams;return t.append("page",String(e.page)),t.append("per_page",String(e.per_page)),t.append("form_version_id",String(e.form_version_id)),e.date_from&&t.append("date_from",e.date_from),e.date_to&&t.append("date_to",e.date_to),e.date_type&&t.append("date_type",e.date_type),e.is_considered!==void 0&&t.append("is_considered",e.is_considered?"1":"0"),e.field_filters&&Object.keys(e.field_filters).length>0&&$Te(e.field_filters,t),an.info("Built query params:",t.toString()),t},BTe=()=>{const e=ot.create({baseURL:MTe,timeout:OTe,headers:{"Content-Type":"application/json",Accept:"application/json"}});return e.interceptors.request.use(t=>{const r=ITe();return r?(t.headers.Authorization=`Bearer ${r}`,an.info(`Request: ${t.method?.toUpperCase()} ${t.url}`),t):(an.error("Request blocked: No authentication token available"),Promise.reject(new nJ))},t=>(an.error("Request interceptor error:",t),Promise.reject(t))),e.interceptors.response.use(t=>(an.info(`Response: ${t.status} ${t.config.url}`),t),t=>(an.error("Response error intercepted"),Promise.reject(t))),e},zTe=BTe(),UTe=async e=>{try{an.info("Fetching entries list",{query:e});const t=LTe(e);console.log("params",t.toString());const r=await zTe.get("/entries",{params:t,paramsSerializer:()=>t.toString()});return an.info(`Successfully fetched ${r.data.data.length} entries`),r.data}catch(t){const r=FTe(t);throw an.error("Failed to fetch entries:",r),r}},rH={data:[],pagination:null,status:"idle",error:null,lastQuery:null},Jp=Me("entries/fetchList",async(e,{rejectWithValue:t})=>{try{return await UTe(e)}catch(r){return t(r)}}),aJ=Pt({name:"entries",initialState:rH,reducers:{setQuery:(e,t)=>{e.lastQuery=t.payload},updateQuery:(e,t)=>{e.lastQuery?e.lastQuery={...e.lastQuery,...t.payload}:e.lastQuery=t.payload},clearError:e=>{e.error=null},resetEntriesState:()=>rH,setEntriesData:(e,t)=>{e.data=t.payload},updateEntry:(e,t)=>{const r=e.data.findIndex(s=>s.id===t.payload.id);r!==-1&&(e.data[r]=t.payload)}},extraReducers:e=>{e.addCase(Jp.pending,(t,r)=>{t.status="loading",t.error=null,t.lastQuery=r.meta.arg}).addCase(Jp.fulfilled,(t,r)=>{t.status="succeeded",t.data=r.payload.data,t.pagination=r.payload.pagination,t.error=null}).addCase(Jp.rejected,(t,r)=>{t.status="failed",r.payload?t.error=r.payload:t.error={message:r.error.message||"An unexpected error occurred"}})}}),HTe=e=>e.entries.data,VTe=e=>e.entries.pagination,WTe=e=>e.entries.status,qTe=e=>e.entries.error,GTe=e=>e.entries.lastQuery,YTe=e=>e.entries.status==="loading",KTe=e=>e.entries.status==="failed"&&e.entries.error!==null,ZTe=e=>e.entries.data.length>0,XTe=e=>e.entries.pagination?.total??0,JTe=e=>e.entries.pagination?.current_page??1,QTe=e=>e.entries.pagination?.last_page??1,eDe=e=>{const t=e.entries.pagination;return t?t.current_page<t.last_page:!1},tDe=e=>{const t=e.entries.pagination;return t?t.current_page>1:!1},{setQuery:sH,updateQuery:rDe,clearError:sDe,resetEntriesState:nDe,setEntriesData:hIt,updateEntry:pIt}=aJ.actions,aDe=aJ.reducer,$p={Idle:"idle",Loading:"loading",Succeeded:"succeeded",Failed:"failed"},iDe={ttl:300*1e3};function oDe(e){return typeof e!="string"?!1:/^\d{5}-\d{5}$/.test(e)}function lDe(e){if(typeof e!="string"||!/^\d{4}-\d{2}-\d{2}$/.test(e))return!1;const r=new Date(e);return!isNaN(r.getTime())&&e===r.toISOString().split("T")[0]}function cDe(e){return e?new Date(e).getTime()>Date.now():!1}function dDe(e){return new Date(Date.now()+e).toISOString()}const uDe="https://testapipizza.pnefoods.com/api",fDe=5e3,mDe={maxAttempts:3,baseDelay:500,maxDelay:1e4,backoffMultiplier:2},hDe=new Set([400,401,402,403,404,405,406,407,409,410,411,412,413,414,415,416,417,418,421,422,423,424,425,426,428,431,451]),pDe=new Set([408,429,500,501,502,503,504,505,506,507,508,510,511]);class Lp{static instance;axiosInstance;retryConfig;constructor(t=mDe){this.retryConfig=t,this.axiosInstance=this.createAxiosInstance(),this.setupInterceptors()}static getInstance(t){return Lp.instance||(Lp.instance=new Lp(t)),Lp.instance}createAxiosInstance(){return ot.create({baseURL:uDe,timeout:fDe,headers:{Accept:"application/json","Content-Type":"application/json"}})}setupInterceptors(){this.setupRequestInterceptor(),this.setupResponseInterceptor()}setupRequestInterceptor(){this.axiosInstance.interceptors.request.use(t=>{const r=vr();return r&&t.headers&&(t.headers.Authorization=`Bearer ${r}`),t},t=>(console.error("[DSPR API Request Error]",t),Promise.reject(this.transformError(t))))}setupResponseInterceptor(){this.axiosInstance.interceptors.response.use(t=>t,t=>(console.error("[DSPR API Response Error]",{status:t.response?.status,url:t.config?.url,message:t.message}),Promise.reject(this.transformError(t))))}transformError(t){return t.response?{status:t.response.status,message:this.extractErrorMessage(t),details:t.response.data?JSON.stringify(t.response.data):void 0,code:t.code}:t.request?{message:"Network error: No response received from server",details:t.message,code:t.code||"NETWORK_ERROR"}:{message:t.message||"An unexpected error occurred",details:t.stack,code:t.code||"REQUEST_SETUP_ERROR"}}extractErrorMessage(t){if(t.response?.data){const r=t.response.data;return r.message||r.error||t.message}return t.message||"An unknown error occurred"}shouldRetry(t,r){return r>=this.retryConfig.maxAttempts?!1:!t.status||pDe.has(t.status)?!0:hDe.has(t.status)?!1:t.status>=500}calculateRetryDelay(t){const{baseDelay:r,maxDelay:s,backoffMultiplier:a}=this.retryConfig,i=r*Math.pow(a,t),o=Math.random()*100;return Math.min(i+o,s)}async delay(t){return new Promise(r=>setTimeout(r,t))}validateRequest(t){if(!oDe(t.store))throw new Error(`Invalid store ID format: "${t.store}". Expected format: "XXXXX-XXXXX" (e.g., "03795-00001")`);if(!lDe(t.date))throw new Error(`Invalid date format: "${t.date}". Expected format: "YYYY-MM-DD" (e.g., "2025-11-16")`)}async fetchDsprReport(t){this.validateRequest(t);let r=null,s=0;for(;s<this.retryConfig.maxAttempts;)try{const a=`/dspr-report/${t.store}/${t.date}`;return(await this.axiosInstance.post(a,t.body||{})).data}catch(a){if(r=a,this.shouldRetry(r,s+1)){const i=this.calculateRetryDelay(s);await this.delay(i),s++}else throw r}throw r||{message:"Failed to fetch DSPR report after all retry attempts",code:"MAX_RETRIES_EXCEEDED"}}async fetchDsprReportSimple(t,r,s){return this.fetchDsprReport({store:t,date:r,body:s})}updateRetryConfig(t){this.retryConfig={...this.retryConfig,...t}}getRetryConfig(){return{...this.retryConfig}}getAxiosInstance(){return this.axiosInstance}}const gDe=Lp.getInstance();function e1(e){const t=new Date(e);return isNaN(t.getTime())?new Date().toISOString():t.toISOString()}function xDe(e){const t=new Date(e);if(isNaN(t.getTime()))return 0;const r=new Date(t.getFullYear(),0,1);return Math.ceil(((t.getTime()-r.getTime())/864e5+r.getDay()+1)/7)}function vDe(e,t){const r=e.FilteringValues??{store:t.store,date:t.date,items:[],week:xDe(t.date),weekStartDate:e1(t.date),weekEndDate:e1(t.date),lookBackStart:e1(t.date),lookBackEnd:e1(t.date),depositDeliveryUrl:""};return{...e,FilteringValues:r}}const yDe={data:null,status:$p.Idle,error:null,lastFetched:null,cache:{isFresh:!1,expiresAt:null},currentRequest:null},ya=Me("dsprApi/fetchDsprData",async(e,{rejectWithValue:t})=>{try{return await gDe.fetchDsprReport(e)}catch(r){return bDe(r)?t(r):t({message:r instanceof Error?r.message:"An unknown error occurred",details:r instanceof Error?r.stack:void 0,code:"UNKNOWN_ERROR"})}});function bDe(e){return typeof e=="object"&&e!==null&&"message"in e&&typeof e.message=="string"}const iJ=Pt({name:"dsprApi",initialState:yDe,reducers:{clearDsprData(e){e.data=null,e.status=$p.Idle,e.error=null,e.lastFetched=null,e.cache.isFresh=!1,e.cache.expiresAt=null,e.currentRequest=null},invalidateCache(e){e.cache.isFresh=!1,e.cache.expiresAt=null},clearError(e){e.error=null}},extraReducers:e=>{e.addCase(ya.pending,(t,r)=>{t.status=$p.Loading,t.error=null,t.currentRequest={store:r.meta.arg.store,date:r.meta.arg.date,requestedAt:new Date().toISOString()}}).addCase(ya.fulfilled,(t,r)=>{t.status=$p.Succeeded;const s=vDe(r.payload,r.meta.arg);t.data=s,t.error=null;const a=new Date().toISOString();t.lastFetched=a,t.cache.isFresh=!0,t.cache.expiresAt=dDe(iDe.ttl)}).addCase(ya.rejected,(t,r)=>{t.status=$p.Failed,t.error=r.payload||{message:r.error.message||"Failed to fetch DSPR data",code:r.error.code||"FETCH_ERROR"},t.cache.isFresh=!1,t.cache.expiresAt=null})}}),{clearDsprData:wDe,invalidateCache:jDe,clearError:SDe}=iJ.actions,NDe=e=>e.dsprApi.data,CDe=e=>e.dsprApi.status,_De=e=>e.dsprApi.error,EDe=e=>e.dsprApi.lastFetched,kDe=e=>e.dsprApi.currentRequest,ADe=e=>e.dsprApi.data?.FilteringValues||null,TDe=e=>e.dsprApi.data?.reports||null,DDe=e=>e.dsprApi.data?.reports.daily||null,PDe=e=>e.dsprApi.data?.reports.weekly||null,RDe=e=>e.dsprApi.status===$p.Loading,oJ=e=>e.dsprApi.cache.isFresh&&cDe(e.dsprApi.cache.expiresAt),MDe=e=>e.dsprApi.data!==null&&!oJ(e),ODe=e=>e.dsprApi.cache.expiresAt,IDe=e=>{const t=e.dsprApi.cache.expiresAt;if(!t)return null;const r=Date.now(),a=new Date(t).getTime()-r;return a>0?a:null},FDe=iJ.reducer,Yv={EXCELLENT:"Excellent",GOOD:"Good",FAIR:"Fair",POOR:"Poor",CRITICAL:"Critical"},ro={INFO:"info",WARNING:"warning",ERROR:"error",CRITICAL:"critical"},_f={FINANCIAL:"financial",OPERATIONAL:"operational",QUALITY:"quality",COST_CONTROL:"cost_control"},$De={maxLaborPercent:.25,maxWastePercent:.08,maxOvershort:10,minCustomerService:.9,minPromiseMetPercent:80,minUpselling:.7,minCustomerCountPercent:.8,minPortalUsageRate:.95,minPortalOnTimeRate:.95,minDigitalPercent:.4,minAverageTicket:12},lJ={excellent:90,good:75,fair:60,poor:45},cJ={thresholds:$De,gradeThresholds:lJ,enableAlerts:!0};function MI(e){return e.wastegateway+e.WasteAlta}function OI(e){return e.TotalSales===0?0:MI(e)/e.TotalSales}function LDe(e){return e.Website+e.Mobile}function dJ(e){return e.DoorDashSales+e.UberEatsSales+e.GrubHubSales}function BDe(e){return e.TotalSales===0?0:dJ(e)/e.TotalSales}function zDe(e){return e.TotalSales*e.labor}function UDe(e){return e.TotalSales-MI(e)-Math.abs(e.overshort)}function HDe(e,t){let r=100;return e.labor>t.maxLaborPercent&&(r-=15),OI(e)>t.maxWastePercent&&(r-=15),e.CustomerService<t.minCustomerService&&(r-=20),e.PutintoPortalPercent<t.minPortalUsageRate&&(r-=10),e.InPortalonTimePercent<t.minPortalOnTimeRate&&(r-=10),e.HNRPromiseMetPercent!==void 0&&e.HNRPromiseMetPercent<t.minPromiseMetPercent&&(r-=15),e.DigitalSalesPercent<t.minDigitalPercent&&(r-=10),e.Customercountpercent<t.minCustomerCountPercent&&(r-=5),Math.max(0,r)}function VDe(e,t=lJ){return e>=t.excellent?Yv.EXCELLENT:e>=t.good?Yv.GOOD:e>=t.fair?Yv.FAIR:e>=t.poor?Yv.POOR:Yv.CRITICAL}function WDe(e,t){const r=[];e.labor>t.maxLaborPercent&&r.push({category:_f.COST_CONTROL,severity:e.labor>t.maxLaborPercent*1.2?ro.CRITICAL:ro.WARNING,message:`Labor percentage exceeds target (${(e.labor*100).toFixed(1)}%)`,metric:"labor",value:e.labor,threshold:t.maxLaborPercent});const s=OI(e);return s>t.maxWastePercent&&r.push({category:_f.COST_CONTROL,severity:s>t.maxWastePercent*1.5?ro.ERROR:ro.WARNING,message:`Waste percentage exceeds target (${(s*100).toFixed(1)}%)`,metric:"waste",value:s,threshold:t.maxWastePercent}),e.CustomerService<t.minCustomerService&&r.push({category:_f.QUALITY,severity:e.CustomerService<t.minCustomerService*.85?ro.CRITICAL:ro.WARNING,message:`Customer service score below target (${(e.CustomerService*100).toFixed(1)}%)`,metric:"customerService",value:e.CustomerService,threshold:t.minCustomerService}),e.HNRPromiseMetPercent!==void 0&&e.HNRPromiseMetPercent<t.minPromiseMetPercent&&r.push({category:_f.QUALITY,severity:e.HNRPromiseMetPercent<t.minPromiseMetPercent*.8?ro.ERROR:ro.WARNING,message:`HNR promise rate below target (${e.HNRPromiseMetPercent.toFixed(1)}%)`,metric:"hnrPromiseMet",value:e.HNRPromiseMetPercent,threshold:t.minPromiseMetPercent}),e.PutintoPortalPercent<t.minPortalUsageRate&&r.push({category:_f.OPERATIONAL,severity:ro.WARNING,message:`Portal usage rate below target (${(e.PutintoPortalPercent*100).toFixed(1)}%)`,metric:"portalUsage",value:e.PutintoPortalPercent,threshold:t.minPortalUsageRate}),e.DigitalSalesPercent<t.minDigitalPercent&&r.push({category:_f.OPERATIONAL,severity:ro.INFO,message:`Digital sales below target (${(e.DigitalSalesPercent*100).toFixed(1)}%)`,metric:"digitalSales",value:e.DigitalSalesPercent,threshold:t.minDigitalPercent}),Math.abs(e.overshort)>t.maxOvershort&&r.push({category:_f.FINANCIAL,severity:Math.abs(e.overshort)>t.maxOvershort*2?ro.ERROR:ro.WARNING,message:`Over/short exceeds threshold ($${Math.abs(e.overshort).toFixed(2)})`,metric:"overshort",value:Math.abs(e.overshort),threshold:t.maxOvershort}),r}const qDe={raw:null,processed:null,config:cJ,lastProcessed:null,hours:[]};function Kv(e,t,r,s){const a=MI(e),i=OI(e),o=UDe(e),c={totalSales:e.TotalSales,totalCashSales:e.TotalCashSales,totalTips:e.TotalTIPS,totalWaste:a,wastePercent:i,overshort:e.overshort,cashDepositDifference:e.CashSalesVsDepositeDifference,netRevenue:o},u={laborCost:zDe(e),laborPercent:e.labor,customerCount:e.Customercount,customerCountPercent:e.Customercountpercent,averageTicket:e.Avrageticket,portalEligibleTransactions:e.TotalPortalEligibleTransactions,portalUsageRate:e.PutintoPortalPercent,portalOnTimeRate:e.InPortalonTimePercent},l={customerService:e.CustomerService,upselling:e.Upselling,hnrPromiseMetPercent:e.HNRPromiseMetPercent||0,hnrPromiseBrokenPercent:e.HNRPromiseBrokenPercent||0,hnrTransactions:e.HNRTransactions||0,hnrPromisesMet:e.HNRPromiseMetTransactions||0,portalOnTimePercent:e.InPortalonTimePercent},f={totalWaste:a,wastePercent:i,refundedOrderCount:e.RefundedorderQty,modifiedOrderCount:e.ModifiedOrderQty,laborPercent:e.labor,overshort:e.overshort},m=LDe(e),p=dJ(e),x=BDe(e),b={digitalSales:m,digitalPercent:e.DigitalSalesPercent,phoneSales:e.Phone,websiteSales:e.Website,mobileSales:e.Mobile,callCenterSales:e.CallCenterAgent,driveThruSales:e.DriveThruSales,doorDashSales:e.DoorDashSales,uberEatsSales:e.UberEatsSales,grubHubSales:e.GrubHubSales,totalDeliverySales:p,deliveryPercent:x},h=HDe(e,s.thresholds),y=VDe(h,s.gradeThresholds),w=s.enableAlerts?WDe(e,s.thresholds):[];return{store:t,date:r,raw:e,financial:c,operational:u,quality:l,costControl:f,salesChannels:b,grade:y,alerts:w,processedAt:new Date().toISOString()}}function GDe(e){const t=Array.isArray(e?.hours)?e.hours:[],r=h=>t.reduce((y,w)=>y+Number(w[h]||0),0),s=r("Total_Sales"),a=r("Order_Count"),i=r("Phone_Sales"),o=r("Call_Center_Agent"),c=r("Website"),d=r("Mobile"),u=r("Drive_Thru"),l=t.reduce((h,y)=>h+Number(y.HNR?.Transactions||0),0),f=t.reduce((h,y)=>h+Number(y.HNR?.Promise_Met_Transactions||0),0),m=l>0?f/l*100:0,p=l>0?(l-f)/l*100:0,x=a>0?s/a:0,b=s>0?(c+d)/s:0;return{labor:0,wastegateway:0,overshort:0,RefundedorderQty:0,TotalCashSales:0,TotalSales:s,WasteAlta:0,ModifiedOrderQty:0,TotalTIPS:0,Customercount:a,DoorDashSales:0,UberEatsSales:0,GrubHubSales:0,Phone:i,CallCenterAgent:o,Website:c,Mobile:d,DigitalSalesPercent:b,TotalPortalEligibleTransactions:0,PutintoPortalPercent:0,InPortalonTimePercent:0,DriveThruSales:u,Upselling:0,CashSalesVsDepositeDifference:0,Avrageticket:x,Customercountpercent:0,CustomerService:0,HNRTransactions:l,HNRTransactionswithCC:0,HNRPromiseBrokenPercent:p,HNRPromiseMetPercent:m,HNRPromiseMetTransactions:f}}const uJ=Pt({name:"dsprHourlySales",initialState:qDe,reducers:{setFilter(e,t){},setThresholds(e,t){e.config.thresholds={...e.config.thresholds,...t.payload},e.raw&&e.processed&&(e.processed=Kv(e.raw,e.processed.store,e.processed.date,e.config),e.lastProcessed=new Date().toISOString())},setGradeThresholds(e,t){e.config.gradeThresholds={...e.config.gradeThresholds,...t.payload},e.raw&&e.processed&&(e.processed=Kv(e.raw,e.processed.store,e.processed.date,e.config),e.lastProcessed=new Date().toISOString())},toggleAlerts(e,t){e.config.enableAlerts=t.payload,e.raw&&e.processed&&(e.processed=Kv(e.raw,e.processed.store,e.processed.date,e.config),e.lastProcessed=new Date().toISOString())},resetConfig(e){e.config=cJ,e.raw&&e.processed&&(e.processed=Kv(e.raw,e.processed.store,e.processed.date,e.config),e.lastProcessed=new Date().toISOString())},clearHourlySalesData(e){e.raw=null,e.processed=null,e.lastProcessed=null}},extraReducers:e=>{e.addCase(ya.fulfilled,(t,r)=>{const s=r.payload?.reports?.daily?.dailyHourlySales,a=r.payload?.FilteringValues?.store??r.meta.arg.store,i=r.payload?.FilteringValues?.date??r.meta.arg.date;if(s)try{const o=GDe(s);t.hours=Array.isArray(s.hours)?s.hours:[],t.raw=o,t.processed=Kv(o,a,i,t.config),t.lastProcessed=new Date().toISOString()}catch(o){console.error("[Hourly Sales] Processing error:",o)}}).addCase(ya.rejected,t=>{})}}),{setFilter:gIt,setThresholds:YDe,setGradeThresholds:KDe,toggleAlerts:ZDe,resetConfig:XDe,clearHourlySalesData:JDe}=uJ.actions,fJ=[],QDe=e=>e.dsprHourlySales.raw,ePe=e=>e.dsprHourlySales.processed,tPe=e=>e.dsprHourlySales.processed?.financial||null,rPe=e=>e.dsprHourlySales.processed?.operational||null,sPe=e=>e.dsprHourlySales.processed?.quality||null,nPe=e=>e.dsprHourlySales.processed?.costControl||null,aPe=e=>e.dsprHourlySales.processed?.salesChannels||null,iPe=e=>e.dsprHourlySales.processed?.grade||null,oPe=e=>e.dsprHourlySales.processed?.alerts??fJ,lPe=we(e=>e.dsprHourlySales.processed?.alerts??fJ,e=>e.filter(t=>t.severity==="critical")),cPe=e=>e.dsprHourlySales.config,dPe=e=>e.dsprHourlySales.lastProcessed,uPe=e=>e.dsprHourlySales.processed?.store||null,fPe=e=>e.dsprHourlySales.processed?.date||null,mPe=e=>e.dsprHourlySales.raw!==null,hPe=e=>e.dsprHourlySales.processed?.financial.totalSales||0,pPe=e=>e.dsprHourlySales.processed?.operational.customerCount||0,gPe=e=>e.dsprHourlySales.processed?.operational.averageTicket||0,xPe=e=>e.dsprHourlySales.processed?.salesChannels.digitalPercent||0,vPe=e=>e.dsprHourlySales.processed?.operational.laborPercent||0,yPe=e=>e.dsprHourlySales.processed?.costControl.wastePercent||0,bPe=e=>e.dsprHourlySales.processed?.quality.customerService||0,wPe=e=>e.dsprHourlySales.processed?.quality.hnrPromiseMetPercent||0,jPe=e=>e.dsprHourlySales.config.enableAlerts,SPe=e=>e.dsprHourlySales.processed?.alerts.length||0,NPe=e=>e.dsprHourlySales.processed?.alerts.some(t=>t.severity==="critical")||!1,CPe=e=>e.dsprHourlySales.hours,_Pe=uJ.reducer,kc={ON_TRACK:"OT",NOT_APPLICABLE:"NA"},Qp={DOORDASH:"DoorDash",UBEREATS:"UberEats",GRUBHUB:"GrubHub"},Zv={EXCELLENT:"Excellent",GOOD:"Good",FAIR:"Fair",POOR:"Poor",CRITICAL:"Critical"},Ud={A_PLUS:"A+",A:"A",B_PLUS:"B+",B:"B",C_PLUS:"C+",C:"C",D:"D",F:"F"},CD={WARNING:"warning",ERROR:"error",CRITICAL:"critical"},Y0={MEDIUM:"medium",HIGH:"high",URGENT:"urgent"},_s={RATING:"rating",PERCENTAGE:"percentage",CURRENCY:"currency",TIME_MINUTES:"minutes",TIME_HOURS:"hours",COUNT:"count"},mJ={performanceThresholds:{excellent:95,good:85,fair:70,poor:50},criticalMetrics:["DD_Ratings_Average_Rating","UE_Customer_reviews_overview","GH_Rating"],alertConfig:{enableAlerts:!0,maxAlerts:10,includePriorities:[Y0.HIGH,Y0.URGENT],monitoredPlatforms:[Qp.DOORDASH,Qp.UBEREATS,Qp.GRUBHUB]},ratingScales:{doordash:{min:1,max:5,precision:2},ubereats:{min:1,max:5,precision:1},grubhub:{min:1,max:5,precision:2}}},pE=e=>e===kc.ON_TRACK,EPe={raw:null,processed:null,config:mJ,filter:{},lastProcessed:null};function kPe(e,t){const r=[{name:"DD_Ratings_Average_Rating",label:"Average Rating",value:e.DD_Ratings_Average_Rating,status:t.DD_NAOT_Ratings_Average_Rating,unit:_s.RATING,isCritical:!0,target:4.5},{name:"DD_Most_Loved_Restaurant",label:"Most Loved Restaurant",value:e.DD_Most_Loved_Restaurant===1?"Yes":"No",status:kc.ON_TRACK,unit:_s.COUNT,isCritical:!1},{name:"DD_Optimization_Score",label:"Optimization Score",value:e.DD_Optimization_Score,status:kc.ON_TRACK,unit:_s.RATING,isCritical:!1},{name:"DD_Cancellations_Sales_Lost",label:"Cancellations Sales Lost",value:e.DD_Cancellations_Sales_Lost,status:t.DD_NAOT_Cancellations_Sales_Lost,unit:_s.CURRENCY,isCritical:!0},{name:"DD_Missing_or_Incorrect_Error_Charges",label:"Error Charges",value:e.DD_Missing_or_Incorrect_Error_Charges,status:t.DD_NAOT_Missing_or_Incorrect_Error_Charges,unit:_s.CURRENCY,isCritical:!0},{name:"DD_Avoidable_Wait_M_Sec",label:"Avoidable Wait Time",value:e.DD_Avoidable_Wait_M_Sec,status:t.DD_NAOT_Avoidable_Wait_M_Sec,unit:_s.TIME_MINUTES,isCritical:!0},{name:"DD_Total_Dasher_Wait_M_Sec",label:"Total Dasher Wait",value:e.DD_Total_Dasher_Wait_M_Sec,status:t.DD_NAOT_Total_Dasher_Wait_M_Sec,unit:_s.TIME_MINUTES,isCritical:!1},{name:"DD_Downtime_H_MM",label:"Downtime",value:e.DD_Downtime_H_MM,status:t.DD_NAOT_Downtime_H_MM,unit:_s.TIME_HOURS,isCritical:!0},{name:"DD_Reviews_Responded",label:"Reviews Responded",value:e.DD_Reviews_Responded,status:kc.ON_TRACK,unit:_s.PERCENTAGE,isCritical:!1}],s=r.filter(o=>pE(o.status)).length,a=r.filter(o=>o.status!==kc.NOT_APPLICABLE).length,i=a>0?s/a*100:0;return{platform:Qp.DOORDASH,overallRating:e.DD_Ratings_Average_Rating,kpis:r,onTrackCount:s,totalApplicableMetrics:a,performancePercentage:i,performanceLevel:II(i)}}function APe(e,t){const r=[{name:"UE_Customer_reviews_overview",label:"Customer Reviews",value:e.UE_Customer_reviews_overview,status:t.UE_NAOT_Customer_reviews_overview,unit:_s.RATING,isCritical:!0,target:4.3},{name:"UE_Cost_of_Refunds",label:"Cost of Refunds",value:e.UE_Cost_of_Refunds,status:t.UE_NAOT_Cost_of_Refunds,unit:_s.CURRENCY,isCritical:!0},{name:"UE_Unfulfilled_order_rate",label:"Unfulfilled Order Rate",value:e.UE_Unfulfilled_order_rate,status:t.UE_NAOT_Unfulfilled_order_rate,unit:_s.PERCENTAGE,isCritical:!0},{name:"UE_Time_unavailable_during_open_hours_hh_mm",label:"Time Unavailable",value:e.UE_Time_unavailable_during_open_hours_hh_mm,status:t.UE_NAOT_Time_unavailable_during_open_hours_hh_mm,unit:_s.TIME_HOURS,isCritical:!0},{name:"UE_Top_inaccurate_item",label:"Top Inaccurate Item",value:e.UE_Top_inaccurate_item,status:kc.ON_TRACK,unit:_s.COUNT,isCritical:!1},{name:"UE_Reviews_Responded",label:"Reviews Responded",value:e.UE_Reviews_Responded,status:kc.ON_TRACK,unit:_s.PERCENTAGE,isCritical:!1}],s=r.filter(o=>pE(o.status)).length,a=r.filter(o=>o.status!==kc.NOT_APPLICABLE).length,i=a>0?s/a*100:0;return{platform:Qp.UBEREATS,overallRating:e.UE_Customer_reviews_overview,kpis:r,onTrackCount:s,totalApplicableMetrics:a,performancePercentage:i,performanceLevel:II(i)}}function TPe(e,t){const r=[{name:"GH_Rating",label:"Overall Rating",value:e.GH_Rating,status:t.GH_NAOT_Rating,unit:_s.RATING,isCritical:!0,target:4},{name:"GH_Food_was_good",label:"Food Quality",value:e.GH_Food_was_good,status:t.GH_NAOT_Food_was_good,unit:_s.PERCENTAGE,isCritical:!1},{name:"GH_Delivery_was_on_time",label:"Delivery Timeliness",value:e.GH_Delivery_was_on_time,status:t.GH_NAOT_Delivery_was_on_time,unit:_s.PERCENTAGE,isCritical:!1},{name:"GH_Order_was_accurate",label:"Order Accuracy",value:e.GH_Order_was_accurate,status:t.GH_NAOT_Order_was_accurate,unit:_s.PERCENTAGE,isCritical:!1}],s=r.filter(o=>pE(o.status)).length,a=r.filter(o=>o.status!==kc.NOT_APPLICABLE).length,i=a>0?s/a*100:0;return{platform:Qp.GRUBHUB,overallRating:e.GH_Rating,kpis:r,onTrackCount:s,totalApplicableMetrics:a,performancePercentage:i,performanceLevel:II(i)}}function II(e){return e>=95?Zv.EXCELLENT:e>=85?Zv.GOOD:e>=70?Zv.FAIR:e>=50?Zv.POOR:Zv.CRITICAL}function DPe(e){return e>=97?Ud.A_PLUS:e>=93?Ud.A:e>=90?Ud.B_PLUS:e>=85?Ud.B:e>=80?Ud.C_PLUS:e>=70?Ud.C:e>=60?Ud.D:Ud.F}function PPe(e,t){if(!t.alertConfig.enableAlerts)return[];const r=[];return Object.values(e).forEach(s=>{s.kpis.forEach(a=>{if(a.isCritical&&!pE(a.status)){let i=CD.WARNING,o=Y0.MEDIUM;a.unit===_s.RATING&&typeof a.value=="number"&&(a.value<4?(i=CD.CRITICAL,o=Y0.URGENT):a.value<4.3&&(i=CD.ERROR,o=Y0.HIGH)),r.push({severity:i,platform:s.platform,metric:a.name,message:`${a.label} is off track`,currentValue:a.value,targetValue:a.target,recommendations:RPe(a),priority:o})}})}),r.sort((s,a)=>{const i={urgent:4,high:3,medium:2,low:1};return i[a.priority]-i[s.priority]}).slice(0,t.alertConfig.maxAlerts)}function RPe(e){const t=[];return e.unit===_s.RATING?(t.push("Review recent customer feedback"),t.push("Implement quality control measures")):e.unit===_s.CURRENCY?(t.push("Analyze root causes of charges"),t.push("Improve order accuracy processes")):(e.unit===_s.TIME_MINUTES||e.unit===_s.TIME_HOURS)&&(t.push("Optimize kitchen workflow"),t.push("Review staffing levels")),t}function Xv(e,t,r,s){const a=kPe(e.score,e.is_on_track),i=APe(e.score,e.is_on_track),o=TPe(e.score,e.is_on_track),c={doorDash:a,uberEats:i,grubHub:o},d=[a,i,o],u=d.reduce((w,S)=>w+S.overallRating,0)/d.length,l=d.reduce((w,S)=>w+S.onTrackCount,0),f=d.reduce((w,S)=>w+S.totalApplicableMetrics,0),m=f>0?l/f*100:0,p=[...d].sort((w,S)=>S.performancePercentage-w.performancePercentage),x=p[0].platform,b=p[p.length-1].platform,h={averageRating:u,totalOnTrack:l,totalApplicable:f,overallPerformance:m,bestPlatform:x,attentionRequired:b,performanceGrade:DPe(m)},y=PPe(c,s);return{storeId:t,date:r,platforms:c,overallSummary:h,alerts:y}}const hJ=Pt({name:"dsprDsqr",initialState:EPe,reducers:{setFilter(e,t){e.filter={...e.filter,...t.payload}},clearFilter(e){e.filter={}},setPerformanceThresholds(e,t){e.config.performanceThresholds={...e.config.performanceThresholds,...t.payload},e.raw&&e.processed&&(e.processed=Xv(e.raw,e.processed.storeId,e.processed.date,e.config),e.lastProcessed=new Date().toISOString())},setAlertConfig(e,t){e.config.alertConfig={...e.config.alertConfig,...t.payload},e.raw&&e.processed&&(e.processed=Xv(e.raw,e.processed.storeId,e.processed.date,e.config),e.lastProcessed=new Date().toISOString())},toggleAlerts(e,t){e.config.alertConfig.enableAlerts=t.payload,e.raw&&e.processed&&(e.processed=Xv(e.raw,e.processed.storeId,e.processed.date,e.config),e.lastProcessed=new Date().toISOString())},resetConfig(e){e.config=mJ,e.raw&&e.processed&&(e.processed=Xv(e.raw,e.processed.storeId,e.processed.date,e.config),e.lastProcessed=new Date().toISOString())},clearDsqrData(e){e.raw=null,e.processed=null,e.lastProcessed=null}},extraReducers:e=>{e.addCase(ya.fulfilled,(t,r)=>{const s=r.payload.reports?.daily?.dailyDSQRData,a=r.payload.FilteringValues??r.payload["Filtering Values"],i=a?.store??r.meta.arg.store,o=a?.date??r.meta.arg.date;if(s)try{t.raw=s,t.processed=Xv(s,i,o,t.config),t.lastProcessed=new Date().toISOString()}catch(c){console.error("[DSQR] Processing error:",c)}}).addCase(ya.rejected,t=>{})}}),{setFilter:xIt,clearFilter:vIt,setPerformanceThresholds:yIt,setAlertConfig:bIt,toggleAlerts:wIt,resetConfig:jIt,clearDsqrData:SIt}=hJ.actions,MPe=hJ.reducer,Hd={TRADITIONAL:"traditional",DIGITAL:"digital",DELIVERY:"delivery",PHONE:"phone"},t1={EXCELLENT:"excellent",GOOD:"good",AVERAGE:"average",BELOW_AVERAGE:"below_average"},xc={A_PLUS:"A+",A:"A",B_PLUS:"B+",B:"B",C_PLUS:"C+",C:"C",D_PLUS:"D+",D:"D",F:"F"},Jv={OUTSTANDING:"Outstanding",EXCEEDS_EXPECTATIONS:"Exceeds Expectations",MEETS_EXPECTATIONS:"Meets Expectations",BELOW_EXPECTATIONS:"Below Expectations",NEEDS_IMPROVEMENT:"Needs Improvement"},Qv={PREMIUM:"Premium",HIGH:"High",STANDARD:"Standard",BELOW_STANDARD:"Below Standard",CRITICAL:"Critical"},e0={OPTIMAL:"Optimal",EFFICIENT:"Efficient",ACCEPTABLE:"Acceptable",CONCERNING:"Concerning",CRITICAL:"Critical"},OPe={STABLE:"stable"},jl={INFO:"info",WARNING:"warning",ERROR:"error",CRITICAL:"critical"},Nc={FINANCIAL:"financial",OPERATIONAL:"operational",QUALITY:"quality",COST_CONTROL:"cost_control",SALES:"sales"},ru={MEDIUM:"medium",HIGH:"high",URGENT:"urgent"},Ef={LOW:"low",MODERATE:"moderate",HIGH:"high",SEVERE:"severe"},pJ={targets:{laborCostTarget:.3,customerServiceTarget:.95,digitalSalesTarget:.65,portalUtilizationTarget:.95,wastePercentageTarget:.03,customerCountTarget:1},alertSettings:{enableAlerts:!0,maxAlertsPerAnalysis:8,minVarianceThreshold:.05,monitoredCategories:[Nc.FINANCIAL,Nc.OPERATIONAL,Nc.QUALITY,Nc.COST_CONTROL]},gradeWeights:{financial:.35,operational:.25,quality:.25,costControl:.15},costThresholds:{maxLaborPercentage:.35,maxWastePercentage:.05,cashVarianceRange:{min:-5,max:5}}},t0=(e,t)=>t===0?0:(e-t)/t*100,IPe={raw:null,processed:null,config:pJ,lastProcessed:null};function FPe(e,t){const r=e.Website+e.Mobile,s=e.Customer_count>0?e.Total_Sales/e.Customer_count:0;let a=100;e.labor>t.laborCostTarget?a-=20:e.labor>t.laborCostTarget*.9&&(a-=10),Math.abs(e.over_short)>10?a-=15:Math.abs(e.over_short)>5&&(a-=8),e.Digital_Sales_Percent<t.digitalSalesTarget&&(a-=10);const i=UPe(a);return{totalSales:e.Total_Sales,cashSales:e.Total_Cash_Sales,digitalSales:r,averageTicket:e.Avrage_ticket,tips:e.Total_TIPS,cashVariance:e.over_short,laborCostPercentage:e.labor,revenuePerCustomer:s,performanceGrade:i}}function $Pe(e,t){const r=e.Refunded_order_Qty+e.Modified_Order_Qty+e.Customer_count,s=r>0?e.Modified_Order_Qty/r:0,a=r>0?e.Refunded_order_Qty/r:0;let i=100;return e.Customer_count_percent<t.customerCountTarget&&(i-=20),e.Put_into_Portal_Percent<t.portalUtilizationTarget&&(i-=15),e.In_Portal_on_Time_Percent<.95&&(i-=15),s>.05&&(i-=10),a>.03&&(i-=10),{customerCount:e.Customer_count,customerCountPercentage:e.Customer_count_percent,portalUtilization:e.Put_into_Portal_Percent,portalOnTimePercentage:e.In_Portal_on_Time_Percent,modificationRate:s,refundRate:a,efficiencyScore:Math.max(0,i)}}function LPe(e){const t=e.Website+e.Mobile,r=e.DoorDash_Sales+e.UberEats_Sales+e.GrubHub_Sales,s=e.Phone+e.Call_Center_Agent,a=e.Total_Sales-t-r-s-e.Drive_Thru_Sales,i=(d,u)=>{const l=e.Total_Sales>0?u/e.Total_Sales*100:0,f=Math.floor(e.Customer_count*(l/100)),m=f>0?u/f:0;return{channel:d,sales:u,percentage:l,orders:f,averageOrderValue:m,trend:OPe.STABLE,performanceLevel:l>30?t1.EXCELLENT:l>20?t1.GOOD:l>10?t1.AVERAGE:t1.BELOW_AVERAGE}},o=[i(Hd.TRADITIONAL,a),i(Hd.DIGITAL,t),i(Hd.DELIVERY,r),i(Hd.PHONE,s)],c=o.reduce((d,u)=>u.sales>d.sales?u:d).channel;return{traditional:o.find(d=>d.channel===Hd.TRADITIONAL),digital:o.find(d=>d.channel===Hd.DIGITAL),delivery:o.find(d=>d.channel===Hd.DELIVERY),phone:o.find(d=>d.channel===Hd.PHONE),topChannel:c,digitalAdoptionRate:e.Digital_Sales_Percent}}function BPe(e){const t=e.Customer_count,r=e.Refunded_order_Qty+e.Modified_Order_Qty,s=t>0?(t-r)/t*100:100,a=(e.Put_into_Portal_Percent+e.In_Portal_on_Time_Percent)/2*100,i=(e.Customer_Service*100+s+a)/3,o=i>=95?Qv.PREMIUM:i>=85?Qv.HIGH:i>=75?Qv.STANDARD:i>=60?Qv.BELOW_STANDARD:Qv.CRITICAL;return{customerServiceScore:e.Customer_Service,orderAccuracy:s,serviceConsistency:a,qualityGrade:o}}function zPe(e,t){const r=e.waste_gateway+e.Waste_Alta,s=e.Total_Sales>0?r/e.Total_Sales*100:0;let a=100;e.labor>t.maxLaborPercentage?a-=40:e.labor>t.maxLaborPercentage*.9&&(a-=20);let i;return e.labor<=t.maxLaborPercentage*.8&&s<=t.maxWastePercentage*.5?i=e0.OPTIMAL:e.labor<=t.maxLaborPercentage&&s<=t.maxWastePercentage?i=e0.EFFICIENT:e.labor<=t.maxLaborPercentage*1.1&&s<=t.maxWastePercentage*1.2?i=e0.ACCEPTABLE:e.labor<=t.maxLaborPercentage*1.3||s<=t.maxWastePercentage*1.5?i=e0.CONCERNING:i=e0.CRITICAL,{totalWaste:r,wastePercentage:s,laborEfficiency:a,costControlGrade:i}}function UPe(e){return e>=97?xc.A_PLUS:e>=93?xc.A:e>=90?xc.B_PLUS:e>=85?xc.B:e>=80?xc.C_PLUS:e>=70?xc.C:e>=60?xc.D_PLUS:e>=50?xc.D:xc.F}function HPe(e,t,r,s,a){const i=VPe(e.performanceGrade),o=t.efficiencyScore,c=r.customerServiceScore*100,d=s.laborEfficiency,u=i*a.financial+o*a.operational+c*a.quality+d*a.costControl;return u>=95?Jv.OUTSTANDING:u>=85?Jv.EXCEEDS_EXPECTATIONS:u>=70?Jv.MEETS_EXPECTATIONS:u>=55?Jv.BELOW_EXPECTATIONS:Jv.NEEDS_IMPROVEMENT}function VPe(e){return{"A+":98,A:95,"B+":88,B:83,"C+":78,C:73,"D+":65,D:55,F:40}[e]}function WPe(e,t,r){if(!r.alertSettings.enableAlerts)return[];const s=[],{targets:a}=r,{minVarianceThreshold:i}=r.alertSettings;if(e.labor>a.laborCostTarget){const c=t0(e.labor,a.laborCostTarget);Math.abs(c)>=i*100&&s.push({severity:e.labor>a.laborCostTarget*1.2?jl.CRITICAL:jl.WARNING,category:Nc.COST_CONTROL,metric:"labor",title:"Labor Cost Above Target",message:`Labor cost is ${c.toFixed(1)}% above target`,currentValue:e.labor,targetValue:a.laborCostTarget,variance:c,recommendations:["Review staffing schedule for optimization","Analyze peak hours and adjust accordingly","Consider cross-training to improve flexibility"],priority:c>20?ru.URGENT:ru.HIGH,impact:c>30?Ef.SEVERE:c>15?Ef.HIGH:Ef.MODERATE})}const o=t.costControl.wastePercentage/100;if(o>a.wastePercentageTarget){const c=t0(o,a.wastePercentageTarget);s.push({severity:o>a.wastePercentageTarget*1.5?jl.ERROR:jl.WARNING,category:Nc.COST_CONTROL,metric:"waste",title:"Waste Above Target",message:`Waste is ${c.toFixed(1)}% above target`,currentValue:o,targetValue:a.wastePercentageTarget,variance:c,recommendations:["Review inventory management practices","Check for expired products","Implement better portion control"],priority:ru.HIGH,impact:Ef.MODERATE})}if(e.Customer_Service<a.customerServiceTarget){const c=t0(e.Customer_Service,a.customerServiceTarget);s.push({severity:e.Customer_Service<a.customerServiceTarget*.85?jl.CRITICAL:jl.WARNING,category:Nc.QUALITY,metric:"customerService",title:"Customer Service Below Target",message:`Customer service score is ${Math.abs(c).toFixed(1)}% below target`,currentValue:e.Customer_Service,targetValue:a.customerServiceTarget,variance:c,recommendations:["Review customer feedback and complaints","Provide additional staff training","Implement service recovery procedures"],priority:ru.URGENT,impact:Ef.HIGH})}if(e.Digital_Sales_Percent<a.digitalSalesTarget){const c=t0(e.Digital_Sales_Percent,a.digitalSalesTarget);s.push({severity:jl.INFO,category:Nc.SALES,metric:"digitalSales",title:"Digital Sales Below Target",message:`Digital sales are ${Math.abs(c).toFixed(1)}% below target`,currentValue:e.Digital_Sales_Percent,targetValue:a.digitalSalesTarget,variance:c,recommendations:["Promote online ordering channels","Offer digital-exclusive deals","Improve mobile app user experience"],priority:ru.MEDIUM,impact:Ef.LOW})}if(e.Put_into_Portal_Percent<a.portalUtilizationTarget){const c=t0(e.Put_into_Portal_Percent,a.portalUtilizationTarget);s.push({severity:jl.WARNING,category:Nc.OPERATIONAL,metric:"portalUtilization",title:"Portal Utilization Below Target",message:`Portal utilization is ${Math.abs(c).toFixed(1)}% below target`,currentValue:e.Put_into_Portal_Percent,targetValue:a.portalUtilizationTarget,variance:c,recommendations:["Train staff on portal usage","Review portal entry procedures","Ensure all eligible orders are tracked"],priority:ru.MEDIUM,impact:Ef.MODERATE})}return s.sort((c,d)=>{const u={urgent:4,high:3,medium:2,low:1};return u[d.priority]-u[c.priority]}).slice(0,r.alertSettings.maxAlertsPerAnalysis)}function sp(e,t,r,s){const a=FPe(e,s.targets),i=$Pe(e,s.targets),o=LPe(e),c=BPe(e),d=zPe(e,s.costThresholds),u={financial:a,operational:i,salesChannels:o,quality:c,costControl:d},l=HPe(a,i,c,d,s.gradeWeights),f=WPe(e,u,s);return{storeId:t,date:r,daily:u,alerts:f,overallGrade:l}}const gJ=Pt({name:"dsprDaily",initialState:IPe,reducers:{setPerformanceTargets(e,t){e.config.targets={...e.config.targets,...t.payload},e.raw&&e.processed&&(e.processed=sp(e.raw,e.processed.storeId,e.processed.date,e.config),e.lastProcessed=new Date().toISOString())},setAlertSettings(e,t){e.config.alertSettings={...e.config.alertSettings,...t.payload},e.raw&&e.processed&&(e.processed=sp(e.raw,e.processed.storeId,e.processed.date,e.config),e.lastProcessed=new Date().toISOString())},setCostThresholds(e,t){e.config.costThresholds={...e.config.costThresholds,...t.payload},e.raw&&e.processed&&(e.processed=sp(e.raw,e.processed.storeId,e.processed.date,e.config),e.lastProcessed=new Date().toISOString())},toggleAlerts(e,t){e.config.alertSettings.enableAlerts=t.payload,e.raw&&e.processed&&(e.processed=sp(e.raw,e.processed.storeId,e.processed.date,e.config),e.lastProcessed=new Date().toISOString())},resetConfig(e){e.config=pJ,e.raw&&e.processed&&(e.processed=sp(e.raw,e.processed.storeId,e.processed.date,e.config),e.lastProcessed=new Date().toISOString())},clearDailyData(e){e.raw=null,e.processed=null,e.lastProcessed=null}},extraReducers:e=>{e.addCase(ya.fulfilled,(t,r)=>{const s=r.payload.reports?.daily?.dailyDSPRData,a=r.payload.FilteringValues??r.payload["Filtering Values"],i=a?.store??r.meta.arg.store,o=a?.date??r.meta.arg.date;if(s)try{t.raw=s,t.processed=sp(s,i,o,t.config),t.lastProcessed=new Date().toISOString()}catch(c){console.error("[Daily DSPR] Processing error:",c)}}).addCase(ya.rejected,t=>{})}}),{setPerformanceTargets:qPe,setAlertSettings:GPe,setCostThresholds:YPe,toggleAlerts:KPe,resetConfig:ZPe,clearDailyData:XPe}=gJ.actions,FI=[],JPe=e=>e.dsprDaily.raw,QPe=e=>e.dsprDaily.processed,eRe=e=>e.dsprDaily.processed?.daily||null,tRe=e=>e.dsprDaily.processed?.daily.financial||null,rRe=e=>e.dsprDaily.processed?.daily.operational||null,sRe=e=>e.dsprDaily.processed?.daily.salesChannels||null,nRe=e=>e.dsprDaily.processed?.daily.quality||null,aRe=e=>e.dsprDaily.processed?.daily.costControl||null,iRe=e=>e.dsprDaily.processed?.alerts??FI,oRe=we(e=>e.dsprDaily.processed?.alerts??FI,e=>e.filter(t=>t.severity===jl.CRITICAL)),lRe=we(e=>e.dsprDaily.processed?.alerts??FI,e=>e.filter(t=>t.priority===ru.URGENT)),cRe=e=>e.dsprDaily.processed?.overallGrade||null,dRe=e=>e.dsprDaily.config,uRe=e=>e.dsprDaily.lastProcessed,fRe=e=>e.dsprDaily.processed?.storeId||null,mRe=e=>e.dsprDaily.processed?.date||null,hRe=e=>e.dsprDaily.raw!==null,pRe=e=>e.dsprDaily.processed?.daily.financial.totalSales||0,gRe=e=>e.dsprDaily.processed?.daily.financial.laborCostPercentage||0,xRe=e=>e.dsprDaily.processed?.daily.salesChannels.digitalAdoptionRate||0,vRe=e=>e.dsprDaily.processed?.daily.quality.customerServiceScore||0,yRe=e=>e.dsprDaily.processed?.daily.costControl.wastePercentage||0,bRe=e=>e.dsprDaily.config.alertSettings.enableAlerts,wRe=e=>e.dsprDaily.processed?.alerts.length||0,jRe=e=>e.dsprDaily.processed?.alerts.some(t=>t.severity===jl.CRITICAL)||!1,SRe=e=>e.dsprDaily.processed?.alerts.some(t=>t.priority===ru.URGENT)||!1,NRe=e=>e.dsprDaily.processed?.daily.salesChannels.topChannel||null,CRe=gJ.reducer,Kf={STRONG:"strong",MODERATE:"moderate",FLAT:"flat",DECLINING:"declining"},r0={EXCELLENT:"Excellent",GOOD:"Good",FAIR:"Fair",POOR:"Poor",CRITICAL:"Critical"},_Re={maxLaborPercent:.25,maxWastePercent:.08,minCustomerService:.9,minPortalUsageRate:.95,minPortalOnTimeRate:.95,minDigitalPercent:.4,minAverageTicket:12,minCustomerCountPercent:.8},xJ={thresholds:_Re,filter:{},operatingDaysPerWeek:7};function gE(e){return e.wastegateway+e.WasteAlta}function pg(e){return e.TotalSales===0?0:gE(e)/e.TotalSales}function ERe(e){return e.Website+e.Mobile}function vJ(e){return e.DoorDashSales+e.UberEatsSales+e.GrubHubSales}function kRe(e){return e.TotalSales===0?0:vJ(e)/e.TotalSales}function ARe(e){return e.TotalSales*e.labor}function TRe(e){return e.TotalSales-gE(e)-Math.abs(e.overshort)}function yJ(e,t=7){return e.TotalSales/t}function bJ(e,t=7){return e.Customercount/t}function DRe(e){return e.TotalSales*52}function PRe(e,t){let r=100;if(e.labor>t.maxLaborPercent){const i=(e.labor-t.maxLaborPercent)/t.maxLaborPercent;r-=Math.min(30,i*100)}const s=pg(e);if(s>t.maxWastePercent){const i=(s-t.maxWastePercent)/t.maxWastePercent;r-=Math.min(30,i*100)}const a=Math.abs(e.overshort)/e.TotalSales;return a>.01&&(r-=Math.min(20,a*1e3)),Math.max(0,r)}function RRe(e,t){let r=100;return e.labor>t.maxLaborPercent&&(r-=15),pg(e)>t.maxWastePercent&&(r-=15),e.CustomerService<t.minCustomerService&&(r-=20),e.PutintoPortalPercent<t.minPortalUsageRate&&(r-=10),e.InPortalonTimePercent<t.minPortalOnTimeRate&&(r-=10),e.DigitalSalesPercent<t.minDigitalPercent&&(r-=10),e.Customercountpercent<t.minCustomerCountPercent&&(r-=10),e.Avrageticket<t.minAverageTicket&&(r-=10),Math.max(0,r)}function MRe(e){return e>=90?r0.EXCELLENT:e>=75?r0.GOOD:e>=60?r0.FAIR:e>=45?r0.POOR:r0.CRITICAL}function wJ(e){return e>=.05?Kf.STRONG:e>=.01?Kf.MODERATE:e>=-.01?Kf.FLAT:Kf.DECLINING}function kf(e,t,r){const s=t-r,a=r!==0?s/r:0,i=wJ(a);return{metric:e,current:t,previous:r,change:s,changePercent:a,indicator:i}}function ORe(e,t,r){const s=new Date(e).getTime(),a=new Date(t).getTime(),i=Date.now();if(i<=s)return 0;if(i>=a)return 1;const o=i-s,c=a-s;return Math.min(1,Math.max(0,o/c))}function IRe(e,t){return t===0?0:t===1?e:e/t}const FRe={raw:null,rawPrevious:null,processed:null,comparison:null,config:xJ,lastProcessed:null};function $Re(e,t){const r=gE(e),s=pg(e),a=TRe(e),i=yJ(e,t),o=e.TotalTIPS/t;return{totalSales:e.TotalSales,totalCashSales:e.TotalCashSales,totalTips:e.TotalTIPS,totalWaste:r,wastePercent:s,overshort:e.overshort,cashDepositDifference:e.CashSalesVsDepositeDifference,netRevenue:a,dailyAverageSales:i,dailyAverageTips:o}}function LRe(e,t){const r=ARe(e),s=bJ(e,t),a=e.Customercount/t;return{laborCost:r,laborPercent:e.labor,customerCount:e.Customercount,customerCountPercent:e.Customercountpercent,averageTicket:e.Avrageticket,portalEligibleTransactions:e.TotalPortalEligibleTransactions,portalUsageRate:e.PutintoPortalPercent,portalOnTimeRate:e.InPortalonTimePercent,dailyAverageCustomers:s,customersPerDay:a}}function BRe(e){const t=e.Customercount>0?e.RefundedorderQty/e.Customercount*100:0;return{customerService:e.CustomerService,upselling:e.Upselling,portalOnTimePercent:e.InPortalonTimePercent,portalUsagePercent:e.PutintoPortalPercent,refundedOrderCount:e.RefundedorderQty,modifiedOrderCount:e.ModifiedOrderQty,refundRate:t}}function zRe(e){const t=ERe(e),r=vJ(e),s=kRe(e),a=e.DigitalSalesPercent>=.5?Kf.STRONG:e.DigitalSalesPercent>=.4?Kf.MODERATE:Kf.FLAT;return{digitalSales:t,digitalPercent:e.DigitalSalesPercent,phoneSales:e.Phone,websiteSales:e.Website,mobileSales:e.Mobile,callCenterSales:e.CallCenterAgent,driveThruSales:e.DriveThruSales,doorDashSales:e.DoorDashSales,uberEatsSales:e.UberEatsSales,grubHubSales:e.GrubHubSales,totalDeliverySales:r,deliveryPercent:s,digitalGrowthIndicator:a}}function URe(e,t){const r=gE(e),s=pg(e),a=PRe(e,t);return{totalWaste:r,wastePercent:s,laborPercent:e.labor,overshort:e.overshort,refundedOrderCount:e.RefundedorderQty,modifiedOrderCount:e.ModifiedOrderQty,costEfficiencyScore:a}}function HRe(e,t,r){const s=yJ(e,t),a=bJ(e,t),i=e.Avrageticket,o=e.Customercount>0?e.TotalSales/e.Customercount:0,c=DRe(e),d=r<1?IRe(e.TotalSales,r):void 0;return{dailyAverageSales:s,dailyAverageCustomers:a,dailyAverageTicket:i,salesPerCustomer:o,operatingDays:t,projectedWeekTotal:d,annualRunRate:c}}function VRe(e,t){const r=kf("sales",e.TotalSales,t.TotalSales),s=kf("customers",e.Customercount,t.Customercount),a=kf("averageTicket",e.Avrageticket,t.Avrageticket),i=kf("laborPercent",e.labor,t.labor),o=pg(e),c=pg(t),d=kf("wastePercent",o,c),u=kf("digitalPercent",e.DigitalSalesPercent,t.DigitalSalesPercent),l=kf("customerService",e.CustomerService,t.CustomerService),f=(r.changePercent+s.changePercent+a.changePercent)/3,m=wJ(f);return{sales:r,customers:s,averageTicket:a,laborPercent:i,wastePercent:d,digitalPercent:u,customerService:l,overallTrend:m}}function r1(e,t,r,s,a,i){const o=ORe(s,a),c=$Re(e,i.operatingDaysPerWeek),d=LRe(e,i.operatingDaysPerWeek),u=BRe(e),l=zRe(e),f=URe(e,i.thresholds),m=HRe(e,i.operatingDaysPerWeek,o),p=RRe(e,i.thresholds),x=MRe(p);return{store:t,week:r,weekStartDate:s,weekEndDate:a,raw:e,financial:c,operational:d,quality:u,salesChannels:l,costControl:f,trends:m,grade:x,weekProgress:o,processedAt:new Date().toISOString()}}const jJ=Pt({name:"dsprWeekly",initialState:FRe,reducers:{setPerformanceThresholds(e,t){e.config.thresholds={...e.config.thresholds,...t.payload},e.raw&&e.processed&&(e.processed=r1(e.raw,e.processed.store,e.processed.week,e.processed.weekStartDate,e.processed.weekEndDate,e.config),e.lastProcessed=new Date().toISOString())},setFilter(e,t){e.config.filter={...e.config.filter,...t.payload}},clearFilter(e){e.config.filter={}},setOperatingDays(e,t){e.config.operatingDaysPerWeek=t.payload,e.raw&&e.processed&&(e.processed=r1(e.raw,e.processed.store,e.processed.week,e.processed.weekStartDate,e.processed.weekEndDate,e.config),e.lastProcessed=new Date().toISOString())},resetConfig(e){e.config=xJ,e.raw&&e.processed&&(e.processed=r1(e.raw,e.processed.store,e.processed.week,e.processed.weekStartDate,e.processed.weekEndDate,e.config),e.lastProcessed=new Date().toISOString())},clearWeeklyData(e){e.raw=null,e.rawPrevious=null,e.processed=null,e.comparison=null,e.lastProcessed=null}},extraReducers:e=>{e.addCase(ya.fulfilled,(t,r)=>{const s=r.payload.reports?.weekly?.DSPRData,a=r.payload.reports?.weekly?.PrevWeekDSPRData,i=s?nH(s):null,o=a?nH(a):void 0,c=r.payload.FilteringValues??r.payload["Filtering Values"],d=c?.store??r.meta.arg.store,u=c?.week??(()=>{const m=new Date(r.meta.arg.date);if(isNaN(m.getTime()))return 0;const p=new Date(m.getFullYear(),0,1);return Math.ceil(((m.getTime()-p.getTime())/864e5+p.getDay()+1)/7)})(),l=c?.weekStartDate??new Date(r.meta.arg.date).toISOString().split("T")[0],f=c?.weekEndDate??new Date(r.meta.arg.date).toISOString().split("T")[0];if(i)try{t.raw=i,t.rawPrevious=o||null,t.processed=r1(i,d,u,l,f,t.config),o?t.comparison=VRe(i,o):t.comparison=null,t.lastProcessed=new Date().toISOString()}catch(m){console.error("[Weekly DSPR] Processing error:",m)}}).addCase(ya.rejected,t=>{})}}),{setPerformanceThresholds:WRe,setFilter:qRe,clearFilter:GRe,setOperatingDays:YRe,resetConfig:KRe,clearWeeklyData:ZRe}=jJ.actions,XRe=e=>e.dsprWeekly.raw,JRe=e=>e.dsprWeekly.rawPrevious,QRe=e=>e.dsprWeekly.processed,e4e=e=>e.dsprWeekly.comparison,t4e=e=>e.dsprWeekly.processed?.financial||null,r4e=e=>e.dsprWeekly.processed?.operational||null,s4e=e=>e.dsprWeekly.processed?.quality||null,n4e=e=>e.dsprWeekly.processed?.salesChannels||null,a4e=e=>e.dsprWeekly.processed?.costControl||null,i4e=e=>e.dsprWeekly.processed?.trends||null,o4e=e=>e.dsprWeekly.processed?.grade||null,l4e=e=>e.dsprWeekly.processed?.weekProgress||0,c4e=e=>e.dsprWeekly.config,d4e=e=>e.dsprWeekly.config.filter,u4e=e=>e.dsprWeekly.lastProcessed,f4e=e=>e.dsprWeekly.processed?.store||null,m4e=e=>e.dsprWeekly.processed?.week||null,h4e=e=>e.dsprWeekly.processed?.weekStartDate||null,p4e=e=>e.dsprWeekly.processed?.weekEndDate||null,g4e=e=>e.dsprWeekly.raw!==null,x4e=e=>e.dsprWeekly.rawPrevious!==null,v4e=e=>e.dsprWeekly.processed?.financial.totalSales||0,y4e=e=>e.dsprWeekly.processed?.trends.dailyAverageSales||0,b4e=e=>e.dsprWeekly.processed?.operational.laborPercent||0,w4e=e=>e.dsprWeekly.processed?.financial.wastePercent||0,j4e=e=>e.dsprWeekly.processed?.salesChannels.digitalPercent||0,S4e=e=>e.dsprWeekly.processed?.quality.customerService||0,N4e=e=>e.dsprWeekly.processed?.trends.projectedWeekTotal,C4e=e=>e.dsprWeekly.processed?.trends.annualRunRate||0,_4e=e=>e.dsprWeekly.comparison?.overallTrend||null,E4e=e=>e.dsprWeekly.comparison?.sales||null,k4e=e=>e.dsprWeekly.comparison?.customers||null,A4e=e=>e.dsprWeekly.processed?.costControl.costEfficiencyScore||0,T4e=jJ.reducer;function nH(e){return{labor:e?.labor??0,wastegateway:e?.waste_gateway??e?.wastegateway??0,overshort:e?.over_short??e?.overshort??0,RefundedorderQty:e?.Refunded_order_Qty??e?.RefundedorderQty??0,TotalCashSales:e?.Total_Cash_Sales??e?.TotalCashSales??0,TotalSales:e?.Total_Sales??e?.TotalSales??0,WasteAlta:e?.Waste_Alta??e?.WasteAlta??0,ModifiedOrderQty:e?.Modified_Order_Qty??e?.ModifiedOrderQty??0,TotalTIPS:e?.Total_TIPS??e?.TotalTIPS??0,Customercount:e?.Customer_count??e?.Customercount??0,DoorDashSales:e?.DoorDash_Sales??e?.DoorDashSales??0,UberEatsSales:e?.UberEats_Sales??e?.UberEatsSales??0,GrubHubSales:e?.GrubHub_Sales??e?.GrubHubSales??0,Phone:e?.Phone??0,CallCenterAgent:e?.Call_Center_Agent??e?.CallCenterAgent??0,Website:e?.Website??0,Mobile:e?.Mobile??0,DigitalSalesPercent:e?.Digital_Sales_Percent??e?.DigitalSalesPercent??0,TotalPortalEligibleTransactions:e?.Total_Portal_Eligible_Transactions??e?.TotalPortalEligibleTransactions??0,PutintoPortalPercent:e?.Put_into_Portal_Percent??e?.PutintoPortalPercent??0,InPortalonTimePercent:e?.In_Portal_on_Time_Percent??e?.InPortalonTimePercent??0,DriveThruSales:e?.Drive_Thru_Sales??e?.DriveThruSales??0,Upselling:e?.Upselling??0,CashSalesVsDepositeDifference:e?.Cash_Sales_Vs_Deposite_Difference??e?.CashSalesVsDepositeDifference??0,Avrageticket:e?.Avrage_ticket??e?.Avrageticket??0,Customercountpercent:e?.Customer_count_percent??e?.Customercountpercent??0,CustomerService:e?.Customer_Service??e?.CustomerService??0}}const s0={EXCELLENT:"Excellent",GOOD:"Good",FAIR:"Fair",POOR:"Poor",CRITICAL:"Critical"},nn={IMPROVED:"improved",DECLINED:"declined",UNCHANGED:"unchanged"},Fc={STRONG:"strong",MODERATE:"moderate",WEAK:"weak"},$I={significantChangeThreshold:.02,strongChangeThreshold:.1,higherIsBetter:["sales","customerCount","averageTicket","digitalPercent","customerService","portalOnTime"],lowerIsBetter:["laborPercent","wastePercent","overshort","refundedOrderCount"]},SJ={comparisonThresholds:$I,operatingDaysPerWeek:7};function xE(e){return e.wastegateway+e.WasteAlta}function jy(e){return e.TotalSales===0?0:xE(e)/e.TotalSales}function D4e(e){return e.Website+e.Mobile}function NJ(e){return e.DoorDashSales+e.UberEatsSales+e.GrubHubSales}function P4e(e){return e.TotalSales===0?0:NJ(e)/e.TotalSales}function R4e(e){return e.TotalSales*e.labor}function M4e(e){return e.TotalSales-xE(e)-Math.abs(e.overshort)}function O4e(e,t=7){return e.TotalSales/t}function I4e(e,t=7){return e.Customercount/t}function F4e(e){return e>=90?s0.EXCELLENT:e>=75?s0.GOOD:e>=60?s0.FAIR:e>=45?s0.POOR:s0.CRITICAL}function $4e(e,t,r){const a=e-t;if(Math.abs(a)<.001)return nn.UNCHANGED;const i=a>0;return r?i?nn.IMPROVED:nn.DECLINED:i?nn.DECLINED:nn.IMPROVED}function L4e(e,t){const r=Math.abs(e);return r>=t.strongChangeThreshold?Fc.STRONG:r>=t.significantChangeThreshold?Fc.MODERATE:Fc.WEAK}function Vd(e,t,r,s="number",a=!0){const i=t-r,o=r!==0?i/r:0,c=$4e(t,r,a),d=c===nn.IMPROVED;return{name:e,current:t,previous:r,absoluteChange:i,percentChange:o,direction:c,isImprovement:d,format:s}}function B4e(e,t){const r=Vd("Sales",e.TotalSales,t.TotalSales,"currency",!0),s=Vd("Customer Count",e.Customercount,t.Customercount,"number",!0),a=Vd("Average Ticket",e.Avrageticket,t.Avrageticket,"currency",!0),i=Vd("Labor %",e.labor,t.labor,"percent",!1),o=Vd("Waste %",jy(e),jy(t),"percent",!1),c=Vd("Digital %",e.DigitalSalesPercent,t.DigitalSalesPercent,"percent",!0),d=Vd("Customer Service",e.CustomerService,t.CustomerService,"percent",!0),u=Vd("Portal On-Time",e.InPortalonTimePercent,t.InPortalonTimePercent,"percent",!0),l=[r,s,a,i,o,c,d,u],f=l.filter(x=>x.isImprovement).length,m=l.filter(x=>!x.isImprovement&&x.direction!==nn.UNCHANGED).length;let p;return f>m+1?p=nn.IMPROVED:m>f+1?p=nn.DECLINED:p=nn.UNCHANGED,{sales:r,customerCount:s,averageTicket:a,laborPercent:i,wastePercent:o,digitalPercent:c,customerService:d,portalOnTime:u,improvedCount:f,declinedCount:m,overallTrend:p}}function _D(e,t=$I){const r=L4e(e.percentChange,t),s=Math.abs(e.percentChange);let a="";if(e.direction===nn.UNCHANGED)a=`${e.name} remained stable`;else{const o=r===Fc.STRONG?"significantly":r===Fc.MODERATE?"moderately":"slightly",c=e.direction===nn.IMPROVED?"improved":"declined";a=`${e.name} ${o} ${c} by ${(s*100).toFixed(1)}%`}const i=r===Fc.STRONG&&e.direction===nn.DECLINED;return{direction:e.direction,severity:r,magnitude:s,description:a,actionRecommended:i}}function ED(e,t=$I){const r=_D(e.sales,t),s=_D(e.customerCount,t),i=[e.laborPercent,e.wastePercent].filter(x=>x.isImprovement).length,o=i>1?nn.IMPROVED:i===0?nn.DECLINED:nn.UNCHANGED,c={direction:o,severity:Fc.MODERATE,magnitude:(Math.abs(e.laborPercent.percentChange)+Math.abs(e.wastePercent.percentChange))/2,description:`Operational efficiency ${o}`,actionRecommended:o===nn.DECLINED},u=[e.customerService,e.portalOnTime].filter(x=>x.isImprovement).length,l=u>1?nn.IMPROVED:u===0?nn.DECLINED:nn.UNCHANGED,f={direction:l,severity:Fc.MODERATE,magnitude:(Math.abs(e.customerService.percentChange)+Math.abs(e.portalOnTime.percentChange))/2,description:`Quality metrics ${l}`,actionRecommended:l===nn.DECLINED},m=_D(e.digitalPercent,t),p={direction:e.overallTrend,severity:Fc.MODERATE,magnitude:e.improvedCount/8,description:`Overall business health ${e.overallTrend}`,actionRecommended:e.declinedCount>e.improvedCount};return{sales:r,customer:s,operationalEfficiency:c,quality:f,digitalAdoption:m,overallHealth:p}}const z4e={raw:null,rawCurrent:null,processed:null,comparison:null,trendAnalysis:null,config:SJ,lastProcessed:null};function U4e(e,t){const r=xE(e),s=jy(e),a=M4e(e),i=O4e(e,t);return{totalSales:e.TotalSales,totalCashSales:e.TotalCashSales,totalTips:e.TotalTIPS,totalWaste:r,wastePercent:s,overshort:e.overshort,cashDepositDifference:e.CashSalesVsDepositeDifference,netRevenue:a,dailyAverageSales:i}}function H4e(e,t){const r=R4e(e),s=I4e(e,t);return{laborCost:r,laborPercent:e.labor,customerCount:e.Customercount,customerCountPercent:e.Customercountpercent,averageTicket:e.Avrageticket,portalEligibleTransactions:e.TotalPortalEligibleTransactions,portalUsageRate:e.PutintoPortalPercent,portalOnTimeRate:e.InPortalonTimePercent,dailyAverageCustomers:s}}function V4e(e){const t=e.Customercount>0?e.RefundedorderQty/e.Customercount*100:0;return{customerService:e.CustomerService,upselling:e.Upselling,portalOnTimePercent:e.InPortalonTimePercent,portalUsagePercent:e.PutintoPortalPercent,refundedOrderCount:e.RefundedorderQty,modifiedOrderCount:e.ModifiedOrderQty,refundRate:t}}function W4e(e){const t=D4e(e),r=NJ(e),s=P4e(e);return{digitalSales:t,digitalPercent:e.DigitalSalesPercent,phoneSales:e.Phone,websiteSales:e.Website,mobileSales:e.Mobile,callCenterSales:e.CallCenterAgent,driveThruSales:e.DriveThruSales,doorDashSales:e.DoorDashSales,uberEatsSales:e.UberEatsSales,grubHubSales:e.GrubHubSales,totalDeliverySales:r,deliveryPercent:s}}function q4e(e){const t=xE(e),r=jy(e);return{totalWaste:t,wastePercent:r,laborPercent:e.labor,overshort:e.overshort,refundedOrderCount:e.RefundedorderQty,modifiedOrderCount:e.ModifiedOrderQty}}function G4e(e){let t=100;return e.labor>.25&&(t-=15),jy(e)>.08&&(t-=15),e.CustomerService<.9&&(t-=20),e.PutintoPortalPercent<.95&&(t-=10),e.InPortalonTimePercent<.95&&(t-=10),e.DigitalSalesPercent<.4&&(t-=10),e.Customercountpercent<.8&&(t-=10),e.Avrageticket<12&&(t-=10),Math.max(0,t)}function kD(e,t,r,s,a,i){const o=U4e(e,i.operatingDaysPerWeek),c=H4e(e,i.operatingDaysPerWeek),d=V4e(e),u=W4e(e),l=q4e(e),f=G4e(e),m=F4e(f);return{store:t,week:r,weekStartDate:s,weekEndDate:a,raw:e,financial:o,operational:c,quality:d,salesChannels:u,costControl:l,grade:m,processedAt:new Date().toISOString()}}const CJ=Pt({name:"dsprWeeklyPrev",initialState:z4e,reducers:{setComparisonThresholds(e,t){e.config.comparisonThresholds={...e.config.comparisonThresholds,...t.payload},e.comparison&&e.trendAnalysis&&(e.trendAnalysis=ED(e.comparison,e.config.comparisonThresholds),e.lastProcessed=new Date().toISOString())},setOperatingDays(e,t){e.config.operatingDaysPerWeek=t.payload,e.raw&&e.processed&&(e.processed=kD(e.raw,e.processed.store,e.processed.week,e.processed.weekStartDate,e.processed.weekEndDate,e.config),e.lastProcessed=new Date().toISOString())},resetConfig(e){e.config=SJ,e.raw&&e.processed&&(e.processed=kD(e.raw,e.processed.store,e.processed.week,e.processed.weekStartDate,e.processed.weekEndDate,e.config),e.comparison&&(e.trendAnalysis=ED(e.comparison,e.config.comparisonThresholds)),e.lastProcessed=new Date().toISOString())},clearWeeklyPrevData(e){e.raw=null,e.rawCurrent=null,e.processed=null,e.comparison=null,e.trendAnalysis=null,e.lastProcessed=null}},extraReducers:e=>{e.addCase(ya.fulfilled,(t,r)=>{const s=r.payload.reports?.weekly?.PrevWeekDSPRData,a=r.payload.reports?.weekly?.DSPRData,i=s?aH(s):null,o=a?aH(a):null,c=r.payload.FilteringValues??r.payload["Filtering Values"],d=c?.store??r.meta.arg.store;if(i)try{t.raw=i,t.rawCurrent=o||null;const u=(c?.week??0)-1,l=c?.weekStartDate??r.meta.arg.date,f=new Date(l),m=new Date(f);m.setDate(m.getDate()-7);const p=c?.weekEndDate??r.meta.arg.date,x=new Date(p),b=new Date(x);b.setDate(b.getDate()-7);const h=m.toISOString().split("T")[0],y=b.toISOString().split("T")[0];t.processed=kD(i,d,u,h,y,t.config),o?(t.comparison=B4e(o,i),t.trendAnalysis=ED(t.comparison,t.config.comparisonThresholds)):(t.comparison=null,t.trendAnalysis=null),t.lastProcessed=new Date().toISOString()}catch(u){console.error("[Weekly Prev DSPR] Processing error:",u)}}).addCase(ya.rejected,t=>{})}}),{setComparisonThresholds:NIt,setOperatingDays:CIt,resetConfig:_It,clearWeeklyPrevData:EIt}=CJ.actions,Y4e=CJ.reducer;function aH(e){return{labor:e?.labor??0,wastegateway:e?.waste_gateway??e?.wastegateway??0,overshort:e?.over_short??e?.overshort??0,RefundedorderQty:e?.Refunded_order_Qty??e?.RefundedorderQty??0,TotalCashSales:e?.Total_Cash_Sales??e?.TotalCashSales??0,TotalSales:e?.Total_Sales??e?.TotalSales??0,WasteAlta:e?.Waste_Alta??e?.WasteAlta??0,ModifiedOrderQty:e?.Modified_Order_Qty??e?.ModifiedOrderQty??0,TotalTIPS:e?.Total_TIPS??e?.TotalTIPS??0,Customercount:e?.Customer_count??e?.Customercount??0,DoorDashSales:e?.DoorDash_Sales??e?.DoorDashSales??0,UberEatsSales:e?.UberEats_Sales??e?.UberEatsSales??0,GrubHubSales:e?.GrubHub_Sales??e?.GrubHubSales??0,Phone:e?.Phone??0,CallCenterAgent:e?.Call_Center_Agent??e?.CallCenterAgent??0,Website:e?.Website??0,Mobile:e?.Mobile??0,DigitalSalesPercent:e?.Digital_Sales_Percent??e?.DigitalSalesPercent??0,TotalPortalEligibleTransactions:e?.Total_Portal_Eligible_Transactions??e?.TotalPortalEligibleTransactions??0,PutintoPortalPercent:e?.Put_into_Portal_Percent??e?.PutintoPortalPercent??0,InPortalonTimePercent:e?.In_Portal_on_Time_Percent??e?.InPortalonTimePercent??0,DriveThruSales:e?.Drive_Thru_Sales??e?.DriveThruSales??0,Upselling:e?.Upselling??0,CashSalesVsDepositeDifference:e?.Cash_Sales_Vs_Deposite_Difference??e?.CashSalesVsDepositeDifference??0,Avrageticket:e?.Avrage_ticket??e?.Avrageticket??0,Customercountpercent:e?.Customer_count_percent??e?.Customercountpercent??0,CustomerService:e?.Customer_Service??e?.CustomerService??0}}const n0={SIGNIFICANT_IMPROVEMENT:"significantImprovement",IMPROVEMENT:"improvement",STABLE:"stable",DECLINE:"decline",SIGNIFICANT_DECLINE:"significantDecline"},Qd={DATE_ASC:"dateAsc",DATE_DESC:"dateDesc",SALES_DESC:"salesDesc",CUSTOMERS_DESC:"customersDesc",AVG_TICKET_DESC:"avgTicketDesc",SALES_CHANGE_DESC:"salesChangeDesc",CUSTOMER_SERVICE_DESC:"customerServiceDesc"},_J={significantChangeThreshold:.1,improvementThreshold:.02,declineThreshold:-.02},EJ={filter:{},sort:Qd.DATE_ASC,comparisonThresholds:_J};function iH(e){return{labor:e.labor,wastegateway:e.waste_gateway,overshort:e.over_short,RefundedorderQty:e.Refunded_order_Qty,TotalCashSales:e.Total_Cash_Sales,TotalSales:e.Total_Sales,WasteAlta:e.Waste_Alta,ModifiedOrderQty:e.Modified_Order_Qty,TotalTIPS:e.Total_TIPS,Customercount:e.Customer_count,DoorDashSales:e.DoorDash_Sales,UberEatsSales:e.UberEats_Sales,GrubHubSales:e.GrubHub_Sales,Phone:e.Phone,CallCenterAgent:e.Call_Center_Agent,Website:e.Website,Mobile:e.Mobile,DigitalSalesPercent:e.Digital_Sales_Percent,TotalPortalEligibleTransactions:e.Total_Portal_Eligible_Transactions,PutintoPortalPercent:e.Put_into_Portal_Percent,InPortalonTimePercent:e.In_Portal_on_Time_Percent,DriveThruSales:e.Drive_Thru_Sales,Upselling:e.Upselling,CashSalesVsDepositeDifference:e.Cash_Sales_Vs_Deposite_Difference,Avrageticket:e.Avrage_ticket,Customercountpercent:e.Customer_count_percent,CustomerService:e.Customer_Service}}function K4e(e){return Object.entries(e).filter(([,t])=>typeof t=="object"&&t!==null).map(([t,r])=>{const s=r,{PrevWeek:a,...i}=s,o=i,c=a??i;return{date:t,current:iH(o),prevWeek:iH(c)}})}function K0(e){return new Date(e).getDay()}function kJ(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e]||"Unknown"}function oH(e){return e===0||e===6}function Z4e(e){return e.wastegateway+e.WasteAlta}function _C(e){return e.TotalSales===0?0:Z4e(e)/e.TotalSales}function X4e(e,t=_J){const{date:r,current:s,prevWeek:a}=e,i=K0(r),o=kJ(i),c=s.TotalSales-a.TotalSales,d=a.TotalSales!==0?c/a.TotalSales:0,u=s.Customercount-a.Customercount,l=a.Customercount!==0?u/a.Customercount:0,f=s.Avrageticket-a.Avrageticket,m=a.Avrageticket!==0?f/a.Avrageticket:0,p=s.labor-a.labor,x=s.DigitalSalesPercent-a.DigitalSalesPercent,b=_C(s)-_C(a),h=s.CustomerService-a.CustomerService;let y;return d>=t.significantChangeThreshold?y=n0.SIGNIFICANT_IMPROVEMENT:d>=t.improvementThreshold?y=n0.IMPROVEMENT:d<=-t.significantChangeThreshold?y=n0.SIGNIFICANT_DECLINE:d<=t.declineThreshold?y=n0.DECLINE:y=n0.STABLE,{date:r,dayOfWeek:i,dayName:o,salesChange:c,salesChangePercent:d,customerChange:u,customerChangePercent:l,avgTicketChange:f,avgTicketChangePercent:m,laborChange:p,digitalChange:x,wasteChange:b,customerServiceChange:h,trend:y}}function J4e(e){const t=[...e].sort((r,s)=>new Date(r.date).getTime()-new Date(s.date).getTime());return{dates:t.map(r=>r.date),sales:t.map(r=>r.current.TotalSales),customers:t.map(r=>r.current.Customercount),avgTicket:t.map(r=>r.current.Avrageticket),laborPercent:t.map(r=>r.current.labor),digitalPercent:t.map(r=>r.current.DigitalSalesPercent),wastePercent:t.map(r=>_C(r.current)),customerService:t.map(r=>r.current.CustomerService),prevWeekSales:t.map(r=>r.prevWeek.TotalSales),prevWeekCustomers:t.map(r=>r.prevWeek.Customercount)}}function Q4e(e){if(e.length===0)return{avgSales:0,avgCustomers:0,avgTicket:0,avgLaborPercent:0,avgWastePercent:0,avgDigitalPercent:0,avgCustomerService:0,salesStdDev:0,salesVariability:0};const t=e.map(m=>m.current.TotalSales),r=t.reduce((m,p)=>m+p,0)/e.length,s=e.reduce((m,p)=>m+p.current.Customercount,0)/e.length,a=e.reduce((m,p)=>m+p.current.Avrageticket,0)/e.length,i=e.reduce((m,p)=>m+p.current.labor,0)/e.length,o=e.reduce((m,p)=>m+_C(p.current),0)/e.length,c=e.reduce((m,p)=>m+p.current.DigitalSalesPercent,0)/e.length,d=e.reduce((m,p)=>m+p.current.CustomerService,0)/e.length,u=t.reduce((m,p)=>m+Math.pow(p-r,2),0)/e.length,l=Math.sqrt(u),f=r!==0?l/r:0;return{avgSales:r,avgCustomers:s,avgTicket:a,avgLaborPercent:i,avgWastePercent:o,avgDigitalPercent:c,avgCustomerService:d,salesStdDev:l,salesVariability:f}}function eMe(e){return e.length===0?null:e.reduce((t,r)=>r.current.TotalSales>t.current.TotalSales?r:t)}function tMe(e){return e.length===0?null:e.reduce((t,r)=>r.current.TotalSales<t.current.TotalSales?r:t)}function rMe(e,t){return e.filter(r=>{if(t.startDate&&r.date<t.startDate||t.endDate&&r.date>t.endDate)return!1;if(t.daysOfWeek&&t.daysOfWeek.length>0){const s=K0(r.date);if(!t.daysOfWeek.includes(s))return!1}return!(t.minSales!==void 0&&r.current.TotalSales<t.minSales||t.minCustomerService!==void 0&&r.current.CustomerService<t.minCustomerService||t.improvementOnly&&r.current.TotalSales<=r.prevWeek.TotalSales||t.declineOnly&&r.current.TotalSales>=r.prevWeek.TotalSales)})}function sMe(e,t){const r=[...e];switch(t){case Qd.DATE_ASC:return r.sort((s,a)=>new Date(s.date).getTime()-new Date(a.date).getTime());case Qd.DATE_DESC:return r.sort((s,a)=>new Date(a.date).getTime()-new Date(s.date).getTime());case Qd.SALES_DESC:return r.sort((s,a)=>a.current.TotalSales-s.current.TotalSales);case Qd.CUSTOMERS_DESC:return r.sort((s,a)=>a.current.Customercount-s.current.Customercount);case Qd.AVG_TICKET_DESC:return r.sort((s,a)=>a.current.Avrageticket-s.current.Avrageticket);case Qd.SALES_CHANGE_DESC:return r.sort((s,a)=>{const i=s.current.TotalSales-s.prevWeek.TotalSales;return a.current.TotalSales-a.prevWeek.TotalSales-i});case Qd.CUSTOMER_SERVICE_DESC:return r.sort((s,a)=>a.current.CustomerService-s.current.CustomerService);default:return r}}function lH(e){if(e){if(typeof e=="string"){const t=e.match(/^(\d{4}-\d{2}-\d{2})/);return t?t[1]:e}if(e instanceof Date&&!Number.isNaN(e.getTime()))return e.toISOString().slice(0,10)}}function s1(e){const t=new Map;e.forEach(l=>{const f=K0(l.date);t.has(f)||t.set(f,[]),t.get(f).push(l)});const r=[];t.forEach((l,f)=>{const m=l.reduce((b,h)=>b+h.current.TotalSales,0)/l.length,p=l.reduce((b,h)=>b+h.current.Customercount,0)/l.length,x=l.reduce((b,h)=>b+h.current.Avrageticket,0)/l.length;r.push({dayOfWeek:f,dayName:kJ(f),avgSales:m,avgCustomers:p,avgTicket:x,occurrences:l.length,rank:0})}),r.sort((l,f)=>f.avgSales-l.avgSales),r.forEach((l,f)=>{l.rank=f+1});const s=r[0],a=r[r.length-1],i=e.filter(l=>!oH(K0(l.date))),o=e.filter(l=>oH(K0(l.date))),c=i.length>0?i.reduce((l,f)=>l+f.current.TotalSales,0)/i.length:0,d=o.length>0?o.reduce((l,f)=>l+f.current.TotalSales,0)/o.length:0,u=c!==0?d/c:0;return{dayOfWeekBreakdown:r,strongestDay:s,weakestDay:a,weekdayAvgSales:c,weekendAvgSales:d,weekendWeekdayRatio:u}}const nMe={raw:null,processed:null,weekPattern:null,config:EJ,lastProcessed:null};function np(e,t,r,s){let a=K4e(e);Object.keys(s.filter).length>0&&(a=rMe(a,s.filter)),a=sMe(a,s.sort);const i={};a.forEach(l=>{const f=X4e(l,s.comparisonThresholds);i[l.date]=f});const o=J4e(a),c=eMe(a),d=tMe(a),u=Q4e(a);if(!c||!d)throw new Error("No valid days found in daily by date data");return{store:t,week:r,entries:a,comparisons:i,timeline:o,bestDay:c,worstDay:d,averages:u,processedAt:new Date().toISOString()}}const AJ=Pt({name:"dsprDailyByDate",initialState:nMe,reducers:{setFilter(e,t){const r=t.payload;if(e.config.filter={...e.config.filter,...r,startDate:lH(r.startDate??e.config.filter.startDate),endDate:lH(r.endDate??e.config.filter.endDate)},e.raw&&e.processed)try{e.processed=np(e.raw,e.processed.store,e.processed.week,e.config),e.weekPattern=s1(e.processed.entries),e.lastProcessed=new Date().toISOString()}catch(s){console.error("[Daily By Date] Re-processing error:",s)}},clearFilter(e){if(e.config.filter={},e.raw&&e.processed)try{e.processed=np(e.raw,e.processed.store,e.processed.week,e.config),e.weekPattern=s1(e.processed.entries),e.lastProcessed=new Date().toISOString()}catch(t){console.error("[Daily By Date] Re-processing error:",t)}},setSort(e,t){if(e.config.sort=t.payload,e.raw&&e.processed)try{e.processed=np(e.raw,e.processed.store,e.processed.week,e.config),e.lastProcessed=new Date().toISOString()}catch(r){console.error("[Daily By Date] Re-processing error:",r)}},setComparisonThresholds(e,t){if(e.config.comparisonThresholds={...e.config.comparisonThresholds,...t.payload},e.raw&&e.processed)try{e.processed=np(e.raw,e.processed.store,e.processed.week,e.config),e.lastProcessed=new Date().toISOString()}catch(r){console.error("[Daily By Date] Re-processing error:",r)}},resetConfig(e){if(e.config=EJ,e.raw&&e.processed)try{e.processed=np(e.raw,e.processed.store,e.processed.week,e.config),e.weekPattern=s1(e.processed.entries),e.lastProcessed=new Date().toISOString()}catch(t){console.error("[Daily By Date] Re-processing error:",t)}},clearDailyByDateData(e){e.raw=null,e.processed=null,e.weekPattern=null,e.lastProcessed=null}},extraReducers:e=>{e.addCase(ya.fulfilled,(t,r)=>{const s=r.payload.reports.weekly.DailyDSPRByDate,a=r.payload.FilteringValues??r.payload["Filtering Values"];if(!a){console.error("[Daily By Date] Missing FilteringValues in API payload");return}try{t.raw=s,t.processed=np(s,a.store,a.week,t.config),t.weekPattern=s1(t.processed.entries),t.lastProcessed=new Date().toISOString()}catch(i){console.error("[Daily By Date] Processing error:",i)}}).addCase(ya.rejected,t=>{})}}),{setFilter:aMe,clearFilter:iMe,setSort:oMe,setComparisonThresholds:lMe,resetConfig:cMe,clearDailyByDateData:dMe}=AJ.actions,uMe=[],TJ={},fMe=[],mMe=[],hMe=e=>e.dsprDailyByDate.raw,pMe=e=>e.dsprDailyByDate.processed,LI=e=>e.dsprDailyByDate.processed?.entries??uMe,gMe=e=>e.dsprDailyByDate.processed?.comparisons??TJ,DJ=e=>e.dsprDailyByDate.processed?.timeline||null,xMe=e=>e.dsprDailyByDate.processed?.bestDay||null,vMe=e=>e.dsprDailyByDate.processed?.worstDay||null,yMe=e=>e.dsprDailyByDate.processed?.averages||null,bMe=e=>e.dsprDailyByDate.weekPattern,wMe=e=>e.dsprDailyByDate.weekPattern?.dayOfWeekBreakdown??fMe,jMe=e=>e.dsprDailyByDate.weekPattern?.strongestDay||null,SMe=e=>e.dsprDailyByDate.weekPattern?.weakestDay||null,NMe=e=>e.dsprDailyByDate.config,CMe=e=>e.dsprDailyByDate.config.filter,_Me=e=>e.dsprDailyByDate.config.sort,EMe=e=>e.dsprDailyByDate.lastProcessed,kMe=e=>e.dsprDailyByDate.processed?.store||null,AMe=e=>e.dsprDailyByDate.processed?.week||null,TMe=e=>e.dsprDailyByDate.raw!==null,DMe=e=>e.dsprDailyByDate.processed?.entries.length||0,PMe=e=>e.dsprDailyByDate.processed?.averages.avgSales||0,RMe=e=>e.dsprDailyByDate.processed?.averages.salesVariability||0,MMe=e=>e.dsprDailyByDate.weekPattern?.weekendWeekdayRatio||0,OMe=e=>Object.keys(e.dsprDailyByDate.config.filter).length>0,IMe=we(LI,e=>e.filter(t=>t.current.TotalSales>t.prevWeek.TotalSales)),FMe=we(LI,e=>e.filter(t=>t.current.TotalSales<t.prevWeek.TotalSales)),$Me=we(DJ,e=>e?.dates??mMe),LMe=we(e=>e.dsprDailyByDate.processed?.comparisons??TJ,e=>{const t=Object.values(e);return{significantImprovement:t.filter(r=>r.trend==="significantImprovement").length,improvement:t.filter(r=>r.trend==="improvement").length,stable:t.filter(r=>r.trend==="stable").length,decline:t.filter(r=>r.trend==="decline").length,significantDecline:t.filter(r=>r.trend==="significantDecline").length}}),BMe=AJ.reducer,PJ=()=>{try{const t=Pr.getState().auth?.token;if(t)return console.info("[FieldTypes Service] Token retrieved from Redux store"),t;const r=vr();return r&&console.info("[FieldTypes Service] Token retrieved from localStorage"),r}catch(e){return console.error("[FieldTypes Service] Error retrieving auth token:",e),null}},zMe=()=>{const e=ot.create({baseURL:"http://dforms.pnepizza.com/api",timeout:5e3,headers:{"Content-Type":"application/json",Accept:"application/json"}});return e.interceptors.request.use(t=>{const r=PJ();return r?(t.headers.Authorization=`Bearer ${r}`,console.info("[FieldTypes Service] Authorization header added to request")):console.warn("[FieldTypes Service] No auth token found - request may fail"),t},t=>(console.error("[FieldTypes Service] Request interceptor error:",t),Promise.reject(t))),e.interceptors.response.use(t=>(console.info("[FieldTypes Service] Response received:",{status:t.status,url:t.config.url}),t),t=>Promise.reject(t)),e},UMe=zMe(),HMe=e=>{if(ot.isAxiosError(e)){const t=e;if(t.response){const{status:r,data:s}=t.response;return console.error("[FieldTypes Service] Server error:",{status:r,data:s,url:t.config?.url}),s&&typeof s=="object"&&"message"in s&&s.message?s.message:r===401||r===403?"Authentication failed. Please log in again.":r===404?"Field types endpoint not found.":r>=500?"Server error. Please try again later.":`Request failed with status ${r}.`}return t.request?(console.error("[FieldTypes Service] Network error - no response:",{message:t.message,code:t.code}),"Network error. Please check your connection and try again."):(console.error("[FieldTypes Service] Request setup error:",t.message),"Failed to send request. Please try again.")}return console.error("[FieldTypes Service] Unexpected error:",e),"An unexpected error occurred. Please try again."},VMe=async()=>{try{if(!PJ())throw console.error("[FieldTypes Service] Cannot fetch - authentication token not found"),new Error("Authentication token not found. Please log in.");console.info("[FieldTypes Service] Fetching field types...");const t=await UMe.get("/field-types");if(!t.data||typeof t.data!="object")throw console.error("[FieldTypes Service] Invalid response structure:",t.data),new Error("Invalid response format from server.");const{success:r,data:s}=t.data;if(!r)throw console.warn("[FieldTypes Service] API returned success=false:",t.data),new Error("Failed to fetch field types.");if(!Array.isArray(s))throw console.error("[FieldTypes Service] Expected array but got:",typeof s),new Error("Invalid data format from server.");return console.info(`[FieldTypes Service] Successfully fetched ${s.length} field types`),s}catch(e){const t=HMe(e);throw console.error("[FieldTypes Service] Fetch failed:",t),new Error(t)}},WMe={items:[],loading:"idle",error:null,lastFetched:null},Z0=Me("fieldTypes/fetch",async(e,{rejectWithValue:t})=>{try{console.info("[FieldTypes Slice] Initiating fetch operation...");const r=await VMe();return console.info(`[FieldTypes Slice] Fetch succeeded with ${r.length} items`),r}catch(r){const s=r instanceof Error?r.message:"Failed to fetch field types";return console.error("[FieldTypes Slice] Fetch failed:",s),t(s)}}),RJ=Pt({name:"fieldTypes",initialState:WMe,reducers:{resetFieldTypes:e=>{console.info("[FieldTypes Slice] Resetting state to initial values"),e.items=[],e.loading="idle",e.error=null,e.lastFetched=null},clearError:e=>{console.info("[FieldTypes Slice] Clearing error state"),e.error=null}},extraReducers:e=>{e.addCase(Z0.pending,t=>{console.info("[FieldTypes Slice] Fetch pending - updating state"),t.loading="pending",t.error=null}).addCase(Z0.fulfilled,(t,r)=>{console.info("[FieldTypes Slice] Fetch fulfilled - updating state with data"),t.loading="succeeded",t.items=r.payload,t.error=null,t.lastFetched=Date.now()}).addCase(Z0.rejected,(t,r)=>{console.error("[FieldTypes Slice] Fetch rejected - updating state with error"),t.loading="failed",t.error=r.payload??"An unknown error occurred"})}}),qMe=e=>e.fieldTypes.items,GMe=e=>e.fieldTypes.loading,YMe=e=>e.fieldTypes.error,KMe=e=>e.fieldTypes.loading==="pending",ZMe=e=>e.fieldTypes.lastFetched,XMe=e=>e.fieldTypes.items.length,{resetFieldTypes:kIt,clearError:AIt}=RJ.actions,JMe=RJ.reducer,tM={BASE_URL:"http://dforms.pnepizza.com/api",ENDPOINTS:{INPUT_RULES:"/input-rules"},TIMEOUT:5e3};class cH extends Error{constructor(t="Authentication token is missing"){super(t),this.name="AuthenticationError"}}class Wd extends Error{statusCode;originalError;constructor(t,r,s){super(t),this.name="ApiError",this.statusCode=r,this.originalError=s}}const QMe=()=>{try{const t=Pr.getState().auth?.token;return t||vr()}catch(e){return console.error("Error retrieving auth token:",e),null}},eOe=()=>ot.create({baseURL:tM.BASE_URL,timeout:tM.TIMEOUT,headers:{"Content-Type":"application/json",Accept:"application/json"}}),tOe=eOe(),rOe=async()=>{console.info("[InputRules Service] Fetching input rules...");const e=QMe();if(!e)throw console.error("[InputRules Service] Missing authentication token"),new cH;try{const t=await tOe.get(tM.ENDPOINTS.INPUT_RULES,{headers:{Authorization:`Bearer ${e}`}});if(!t.data||typeof t.data.success!="boolean")throw console.error("[InputRules Service] Invalid response structure:",t.data),new Wd("Invalid API response structure");if(!t.data.success)throw console.warn("[InputRules Service] API returned success:false"),new Wd("API request was not successful");if(!Array.isArray(t.data.data))throw console.error("[InputRules Service] Expected array in response.data.data"),new Wd("Expected array of input rules in response");return console.info(`[InputRules Service] Successfully fetched ${t.data.data.length} input rules`),t.data.data}catch(t){if(ot.isAxiosError(t)){const r=t;if(r.response){const s=r.response.status;throw console.error(`[InputRules Service] HTTP ${s} error:`,r.response.data),new Wd(`Request failed with status ${s}`,s,r)}else throw r.request?(console.error("[InputRules Service] Network error - no response received"),new Wd("Network error: No response from server",void 0,r)):(console.error("[InputRules Service] Request setup error:",r.message),new Wd(`Request error: ${r.message}`,void 0,r))}throw t instanceof cH||t instanceof Wd?t:(console.error("[InputRules Service] Unexpected error:",t),new Wd("An unexpected error occurred",void 0,t))}},dH={items:[],loading:!1,error:null,lastFetchedAt:null},X0=Me("inputRules/fetch",async(e,{rejectWithValue:t})=>{console.info("[InputRules Thunk] Initiating fetch...");try{const r=await rOe();return console.info(`[InputRules Thunk] Successfully fetched ${r.length} rules`),r}catch(r){let s="Failed to fetch input rules";return r instanceof Error&&(s=r.message),console.error("[InputRules Thunk] Fetch failed:",s),t(s)}}),MJ=Pt({name:"inputRules",initialState:dH,reducers:{clearError:e=>{e.error=null},resetInputRules:()=>dH},extraReducers:e=>{e.addCase(X0.pending,t=>{t.loading=!0,t.error=null,console.info("[InputRules Slice] Fetch pending...")}).addCase(X0.fulfilled,(t,r)=>{t.loading=!1,t.items=r.payload,t.lastFetchedAt=new Date().toISOString(),t.error=null,console.info("[InputRules Slice] Fetch fulfilled, state updated")}).addCase(X0.rejected,(t,r)=>{t.loading=!1,t.error=r.payload??"An unknown error occurred",console.error("[InputRules Slice] Fetch rejected:",t.error)})}}),{clearError:TIt,resetInputRules:DIt}=MJ.actions,sOe=e=>e.inputRules.items,nOe=e=>e.inputRules.loading,aOe=e=>e.inputRules.error,iOe=e=>e.inputRules.items.length>0,oOe=MJ.reducer;function lOe(e,t){try{const r=JSON.parse(t);switch(e){case"Call Webhook":return r;case"Send Email":return r;case"Send Notification":return r;default:return r}}catch{return}}const ap={debug:(...e)=>{},info:(...e)=>{},error:(...e)=>{console.error("[actionsService][ERROR]",...e)}};async function cOe(){const e=vr();if(!e)throw ap.error("Auth token missing. Cannot call /api/actions."),new Error("Authentication required.");try{const t=await ot.get("http://dforms.pnepizza.com/api/actions",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json",Accept:"application/json"},timeout:5e3});if(!t.data||!t.data.success||!Array.isArray(t.data.data))throw ap.error("Malformed response from actions API:",t.data),new Error("Invalid response from server.");const r=t.data.data.map(s=>{let a;return a=lOe(s.name,s.props_description),a===void 0&&ap.info(`Props parsing failed for action '${s.name}' (id=${s.id}). Keeping raw string.`),{...s,parsed_props:a}});return ap.debug(`Fetched ${r.length} actions.`),r}catch(t){if(ot.isAxiosError(t)){const r=t;throw ap.error("Network/API error:",r.message,r.response?.status,r.response?.data),r.response?new Error(`API error: ${r.response.status} - ${r.response.statusText}`):r.code==="ECONNABORTED"?new Error("Network timeout. Please try again."):new Error("Network error. Please check your connection.")}else throw ap.error("Unexpected error in fetchActions:",t),new Error("Unexpected error occurred.")}}const uH={items:[],status:"idle",error:null,lastFetched:null},DN=Me("actions/fetchActions",async(e,{rejectWithValue:t})=>{try{return await cOe()}catch(r){const s=r instanceof Error?r.message:"Failed to fetch actions.";return t(s)}}),OJ=Pt({name:"actions",initialState:uH,reducers:{resetActions:()=>uH,clearError:e=>{e.error=null},setActions:(e,t)=>{e.items=t.payload,e.status="succeeded",e.error=null,e.lastFetched=Date.now()}},extraReducers:e=>{e.addCase(DN.pending,t=>{t.status="loading",t.error=null}).addCase(DN.fulfilled,(t,r)=>{t.status="succeeded",t.items=r.payload,t.error=null,t.lastFetched=Date.now()}).addCase(DN.rejected,(t,r)=>{t.status="failed",t.error=r.payload??"An unknown error occurred."})}}),{resetActions:PIt,clearError:dOe,setActions:RIt}=OJ.actions,uOe=e=>e.actions.items,fOe=e=>e.actions.status,mOe=e=>e.actions.error,hOe=e=>e.actions.lastFetched,pOe=OJ.reducer,gOe="http://dforms.pnepizza.com/api",xOe=ot.create({baseURL:gOe,timeout:5e3,headers:{"Content-Type":"application/json",Accept:"application/json"}}),vOe=()=>{try{const t=Pr.getState().auth?.token;return t||vr()}catch(e){return console.error("Error retrieving auth token:",e),null}},yOe=e=>{if(ot.isAxiosError(e)){const t=e;return t.response?{message:t.response.data?.message||t.message||"An error occurred",status:t.response.status,statusText:t.response.statusText}:t.request?{message:"Network error: Unable to reach the server",status:0,statusText:"Network Error"}:{message:t.message||"Request configuration error",status:0,statusText:"Configuration Error"}}return e instanceof Error?{message:e.message,status:0,statusText:"Unknown Error"}:{message:"An unexpected error occurred",status:0,statusText:"Unknown Error"}},bOe=async()=>{const e="/field-type-filters";console.info(`[FieldTypeFilters Service] Initiating request to ${e}`);const t=vOe();if(!t){const r={message:"Authentication token not found. Please log in again.",status:401,statusText:"Unauthorized"};throw console.error("[FieldTypeFilters Service] Authentication token missing"),r}try{const r=await xOe.get(e,{headers:{Authorization:`Bearer ${t}`}});return console.info(`[FieldTypeFilters Service] Successfully fetched ${r.data.data.length} field type filters`,{status:r.status,success:r.data.success}),r.data.data}catch(r){const s=yOe(r);throw console.error("[FieldTypeFilters Service] Failed to fetch field type filters",{message:s.message,status:s.status,statusText:s.statusText}),s}},wOe={items:[],loading:!1,error:null,lastFetchedAt:null},J0=Me("fieldTypeFilters/fetchFieldTypeFilters",async(e,{rejectWithValue:t})=>{try{console.info("[FieldTypeFilters Thunk] Starting fetch operation");const r=await bOe();return console.info("[FieldTypeFilters Thunk] Fetch completed successfully",{itemCount:r.length}),r}catch(r){const s=r,a=s.message||"Failed to fetch field type filters";return console.error("[FieldTypeFilters Thunk] Fetch operation failed",{message:a,status:s.status,statusText:s.statusText}),t(a)}}),IJ=Pt({name:"fieldTypeFilters",initialState:wOe,reducers:{resetError:e=>{console.info("[FieldTypeFilters Slice] Error state reset"),e.error=null},clearFieldTypeFilters:e=>{console.info("[FieldTypeFilters Slice] Clearing all data"),e.items=[],e.error=null,e.lastFetchedAt=null}},extraReducers:e=>{e.addCase(J0.pending,t=>{console.info("[FieldTypeFilters Slice] Fetch pending - setting loading state"),t.loading=!0,t.error=null}).addCase(J0.fulfilled,(t,r)=>{console.info("[FieldTypeFilters Slice] Fetch fulfilled",{itemCount:r.payload.length}),t.loading=!1,t.items=r.payload,t.error=null,t.lastFetchedAt=new Date().toISOString()}).addCase(J0.rejected,(t,r)=>{console.error("[FieldTypeFilters Slice] Fetch rejected",{error:r.payload||r.error.message}),t.loading=!1,t.error=r.payload||r.error.message||"An unknown error occurred"})}}),{resetError:jOe,clearFieldTypeFilters:MIt}=IJ.actions,SOe=IJ.reducer,NOe=e=>e.fieldTypeFilters.items,COe=e=>e.fieldTypeFilters.loading,_Oe=e=>e.fieldTypeFilters.error,EOe=e=>e.fieldTypeFilters.lastFetchedAt,kOe=e=>e.fieldTypeFilters.items.length>0,AOe="http://dforms.pnepizza.com/api",TOe=()=>{try{const t=Pr.getState().auth?.token;return t||vr()}catch(e){return console.error("Error retrieving auth token:",e),null}},DOe=()=>{const e=ot.create({baseURL:AOe,headers:{"Content-Type":"application/json",Accept:"application/json"},timeout:5e3});return e.interceptors.request.use(t=>{const r=TOe();return r?t.headers.Authorization=`Bearer ${r}`:console.warn("[LanguagesService] No auth token available for request"),t},t=>(console.error("[LanguagesService] Request interceptor error:",t),Promise.reject(t))),e},POe=DOe(),ROe=e=>{if(ot.isAxiosError(e)){const t=e;if(!t.response)return console.error("[LanguagesService] Network error or timeout:",t.message),{status:0,message:"Network error. Please check your connection.",details:t.message};const{status:r,data:s}=t.response;return r===401?(console.error("[LanguagesService] 401 Unauthorized - Token may be expired or invalid"),{status:401,message:"Authentication required. Please log in again.",details:s?.message||s?.error}):r===403?(console.error("[LanguagesService] 403 Forbidden - Insufficient permissions"),{status:403,message:"Access denied. You do not have permission to access this resource.",details:s?.message||s?.error}):(console.error(`[LanguagesService] HTTP ${r} error:`,s),{status:r,message:s?.message||s?.error||`Request failed with status ${r}`,details:JSON.stringify(s)})}return console.error("[LanguagesService] Unexpected error:",e),{status:-1,message:e instanceof Error?e.message:"An unexpected error occurred",details:String(e)}},MOe=async()=>{try{console.log("[LanguagesService] Fetching all languages...");const e=await POe.get("/languages");if(!e.data||typeof e.data.success!="boolean")throw console.error("[LanguagesService] Invalid response structure:",e.data),new Error("Invalid API response structure");if(!e.data.success)throw console.warn("[LanguagesService] API returned success: false"),new Error("API request was not successful");return console.log(`[LanguagesService] Successfully fetched ${e.data.data.length} languages`),e.data.data}catch(e){const t=ROe(e);throw console.error("[LanguagesService] fetchAllLanguages failed:",t),t}},OOe={status:"idle",data:null,error:null},AD=Me("languages/fetchLanguages",async(e,{rejectWithValue:t})=>{try{console.log("[LanguagesSlice] Dispatching fetchLanguages thunk...");const r=await MOe();return console.log(`[LanguagesSlice] Successfully loaded ${r.length} languages into state`),r}catch(r){const s=r;return console.error("[LanguagesSlice] fetchLanguages thunk rejected:",s),t(s)}}),FJ=Pt({name:"languages",initialState:OOe,reducers:{resetLanguages:e=>{console.log("[LanguagesSlice] Resetting languages state"),e.status="idle",e.data=null,e.error=null},clearError:e=>{e.error=null},setLanguages:(e,t)=>{e.data=t.payload,e.status="succeeded",e.error=null}},extraReducers:e=>{e.addCase(AD.pending,t=>{console.log("[LanguagesSlice] fetchLanguages pending..."),t.status="loading",t.error=null}).addCase(AD.fulfilled,(t,r)=>{console.log("[LanguagesSlice] fetchLanguages fulfilled"),t.status="succeeded",t.data=r.payload,t.error=null}).addCase(AD.rejected,(t,r)=>{console.error("[LanguagesSlice] fetchLanguages rejected:",r.payload),t.status="failed",t.error=r.payload||{status:-1,message:"An unknown error occurred"}})}}),{resetLanguages:OIt,clearError:IIt,setLanguages:FIt}=FJ.actions,IOe=FJ.reducer,FOe="http://dforms.pnepizza.com/api",$Oe=()=>{try{const t=Pr.getState().auth?.token;return t?(console.debug("[FormsService] Using token from Redux state"),t):(console.debug("[FormsService] Token not in Redux, loading from storage"),vr())}catch(e){return console.error("[FormsService] Error retrieving auth token:",e),null}},LOe=()=>{const e=ot.create({baseURL:FOe,timeout:5e3,headers:{Accept:"application/json","Content-Type":"application/json"}});return e.interceptors.request.use(t=>{t.headers||(t.headers={}),t.headers.Accept="application/json",t.headers["Content-Type"]="application/json";const r=$Oe();return r?(t.headers.Authorization=`Bearer ${r}`,console.debug(`[FormsService] Request: ${t.method?.toUpperCase()} ${t.url}`)):console.warn("[FormsService] No auth token available for request"),t},t=>(console.error("[FormsService] Request interceptor error:",t),Promise.reject(t))),e.interceptors.response.use(t=>(console.debug(`[FormsService] Response: ${t.config.method?.toUpperCase()} ${t.config.url} - Status: ${t.status}`),t),t=>(console.error("[FormsService] Response error:",t),Promise.reject(t))),e},ip=LOe(),op=e=>{if(ot.isAxiosError(e)){const t=e,r=t.response?.data?.message||t.response?.data?.error||t.message||"An unexpected error occurred";return console.error("[FormsService] Normalized error:",{status:t.response?.status,message:r,url:t.config?.url}),{code:t.response?.status?.toString(),message:r,details:t.response?.data}}return e instanceof Error?(console.error("[FormsService] Non-Axios error:",e.message),{message:e.message,details:e}):(console.error("[FormsService] Unknown error type:",e),{message:"An unknown error occurred",details:e})};let ex=class{static async listForms(t){try{console.debug("[FormsService.listForms] Fetching forms with params:",t);const r=await ip.get("/forms",{params:{page:t?.page||1,per_page:t?.per_page||10,name:t?.name||"",status:t?.status||"",category_id:t?.category_id||"",sort_by:t?.sort_by||"creation_time",sort_order:t?.sort_order||"desc"}});return console.debug("[FormsService.listForms] Success:",r.data),r.data}catch(r){throw console.error("[FormsService.listForms] Error:",r),op(r)}}static async getForm(t){try{console.debug(`[FormsService.getForm] Fetching form with ID: ${t}`);const r=await ip.get(`/forms/${t}`);return console.debug("[FormsService.getForm] Success:",r.data),r.data}catch(r){throw console.error("[FormsService.getForm] Error:",r),op(r)}}static async createForm(t){try{console.debug("[FormsService.createForm] Creating form with data:",t);const r=await ip.post("/forms",t);return console.debug("[FormsService.createForm] Success:",r.data),r.data}catch(r){throw console.error("[FormsService.createForm] Error:",r),op(r)}}static async updateForm(t,r){try{console.debug(`[FormsService.updateForm] Updating form ID ${t} with data:`,r);const s=await ip.put(`/forms/${t}`,r);return console.debug("[FormsService.updateForm] Success:",s.data),s.data}catch(s){throw console.error("[FormsService.updateForm] Error:",s),op(s)}}static async archiveForm(t){try{console.debug(`[FormsService.archiveForm] Archiving form ID: ${t}`);const r=await ip.post(`/forms/${t}/archive`);return console.debug("[FormsService.archiveForm] Success:",r.data),r.data}catch(r){throw console.error("[FormsService.archiveForm] Error:",r),op(r)}}static async restoreForm(t){try{console.debug(`[FormsService.restoreForm] Restoring form ID: ${t}`);const r=await ip.post(`/forms/${t}/restore`);return console.debug("[FormsService.restoreForm] Success:",r.data),r.data}catch(r){throw console.error("[FormsService.restoreForm] Error:",r),op(r)}}};const BOe={formsById:{},formIds:[],pagination:null,selectedForm:null,isListLoading:!1,isGetLoading:!1,isCreateLoading:!1,isUpdateLoading:!1,isArchiveLoading:!1,isRestoreLoading:!1,listError:null,getError:null,createError:null,updateError:null,archiveError:null,restoreError:null,createSuccess:null,updateSuccess:null,archiveSuccess:null,restoreSuccess:null},PN=Me("forms/fetchForms",async(e,{rejectWithValue:t})=>{try{console.debug("[formsSlice] fetchForms called with params:",e);const r=await ex.listForms(e);return console.debug("[formsSlice] fetchForms success:",r),{forms:r.data,pagination:r.pagination}}catch(r){return console.error("[formsSlice] fetchForms error:",r),t(r)}}),RN=Me("forms/fetchFormById",async(e,{rejectWithValue:t})=>{try{console.debug(`[formsSlice] fetchFormById called with ID: ${e}`);const r=await ex.getForm(e);return console.debug("[formsSlice] fetchFormById success:",r),r.data}catch(r){return console.error("[formsSlice] fetchFormById error:",r),t(r)}}),Q0=Me("forms/createForm",async(e,{rejectWithValue:t})=>{try{console.debug("[formsSlice] createForm called with data:",e);const r=await ex.createForm(e);return console.debug("[formsSlice] createForm success:",r),r.data}catch(r){return console.error("[formsSlice] createForm error:",r),t(r)}}),ey=Me("forms/updateForm",async({id:e,data:t},{rejectWithValue:r})=>{try{console.debug(`[formsSlice] updateForm called for ID ${e} with data:`,t);const s=await ex.updateForm(e,t);return console.debug("[formsSlice] updateForm success:",s),s.data}catch(s){return console.error("[formsSlice] updateForm error:",s),r(s)}}),ty=Me("forms/archiveForm",async(e,{rejectWithValue:t})=>{try{console.debug(`[formsSlice] archiveForm called for ID: ${e}`);const r=await ex.archiveForm(e);return console.debug("[formsSlice] archiveForm success:",r),{id:e,message:r.message}}catch(r){return console.error("[formsSlice] archiveForm error:",r),t(r)}}),ry=Me("forms/restoreForm",async(e,{rejectWithValue:t})=>{try{console.debug(`[formsSlice] restoreForm called for ID: ${e}`);const r=await ex.restoreForm(e);return console.debug("[formsSlice] restoreForm success:",r),{id:e,message:r.message}}catch(r){return console.error("[formsSlice] restoreForm error:",r),t(r)}}),$J=Pt({name:"forms",initialState:BOe,reducers:{clearErrors(e){e.listError=null,e.getError=null,e.createError=null,e.updateError=null,e.archiveError=null,e.restoreError=null},clearSuccessMessages(e){e.createSuccess=null,e.updateSuccess=null,e.archiveSuccess=null,e.restoreSuccess=null},clearSelectedForm(e){e.selectedForm=null},setSelectedForm(e,t){e.selectedForm=t.payload}},extraReducers:e=>{e.addCase(PN.pending,t=>{console.debug("[formsSlice] fetchForms.pending"),t.isListLoading=!0,t.listError=null}),e.addCase(PN.fulfilled,(t,r)=>{console.debug("[formsSlice] fetchForms.fulfilled with payload:",r.payload),t.isListLoading=!1,t.listError=null;const s={},a=[];r.payload.forms.forEach(i=>{s[i.id]=i,a.push(i.id)}),t.formsById=s,t.formIds=a,t.pagination=r.payload.pagination}),e.addCase(PN.rejected,(t,r)=>{console.error("[formsSlice] fetchForms.rejected with error:",r.payload),t.isListLoading=!1,t.listError=r.payload?.message||"Failed to fetch forms"}),e.addCase(RN.pending,t=>{console.debug("[formsSlice] fetchFormById.pending"),t.isGetLoading=!0,t.getError=null}),e.addCase(RN.fulfilled,(t,r)=>{console.debug("[formsSlice] fetchFormById.fulfilled with payload:",r.payload),t.isGetLoading=!1,t.getError=null,t.selectedForm=r.payload,t.formsById[r.payload.id]&&(t.formsById[r.payload.id]=r.payload)}),e.addCase(RN.rejected,(t,r)=>{console.error("[formsSlice] fetchFormById.rejected with error:",r.payload),t.isGetLoading=!1,t.getError=r.payload?.message||"Failed to fetch form details"}),e.addCase(Q0.pending,t=>{console.debug("[formsSlice] createForm.pending"),t.isCreateLoading=!0,t.createError=null,t.createSuccess=null}),e.addCase(Q0.fulfilled,(t,r)=>{console.debug("[formsSlice] createForm.fulfilled with payload:",r.payload),t.isCreateLoading=!1,t.createError=null,t.createSuccess="Form created successfully";const s=r.payload;t.formsById[s.id]=s,t.formIds.unshift(s.id),t.selectedForm=s}),e.addCase(Q0.rejected,(t,r)=>{console.error("[formsSlice] createForm.rejected with error:",r.payload),t.isCreateLoading=!1,t.createError=r.payload?.message||"Failed to create form",t.createSuccess=null}),e.addCase(ey.pending,t=>{console.debug("[formsSlice] updateForm.pending"),t.isUpdateLoading=!0,t.updateError=null,t.updateSuccess=null}),e.addCase(ey.fulfilled,(t,r)=>{console.debug("[formsSlice] updateForm.fulfilled with payload:",r.payload),t.isUpdateLoading=!1,t.updateError=null,t.updateSuccess="Form updated successfully";const s=r.payload;t.formsById[s.id]=s,t.selectedForm?.id===s.id&&(t.selectedForm=s)}),e.addCase(ey.rejected,(t,r)=>{console.error("[formsSlice] updateForm.rejected with error:",r.payload),t.isUpdateLoading=!1,t.updateError=r.payload?.message||"Failed to update form",t.updateSuccess=null}),e.addCase(ty.pending,t=>{console.debug("[formsSlice] archiveForm.pending"),t.isArchiveLoading=!0,t.archiveError=null,t.archiveSuccess=null}),e.addCase(ty.fulfilled,(t,r)=>{console.debug("[formsSlice] archiveForm.fulfilled with payload:",r.payload),t.isArchiveLoading=!1,t.archiveError=null,t.archiveSuccess=r.payload.message;const s=r.payload.id;t.formsById[s]&&(t.formsById[s].is_archived=!0),t.selectedForm?.id===s&&(t.selectedForm.is_archived=!0)}),e.addCase(ty.rejected,(t,r)=>{console.error("[formsSlice] archiveForm.rejected with error:",r.payload),t.isArchiveLoading=!1,t.archiveError=r.payload?.message||"Failed to archive form",t.archiveSuccess=null}),e.addCase(ry.pending,t=>{console.debug("[formsSlice] restoreForm.pending"),t.isRestoreLoading=!0,t.restoreError=null,t.restoreSuccess=null}),e.addCase(ry.fulfilled,(t,r)=>{console.debug("[formsSlice] restoreForm.fulfilled with payload:",r.payload),t.isRestoreLoading=!1,t.restoreError=null,t.restoreSuccess=r.payload.message;const s=r.payload.id;t.formsById[s]&&(t.formsById[s].is_archived=!1),t.selectedForm?.id===s&&(t.selectedForm.is_archived=!1)}),e.addCase(ry.rejected,(t,r)=>{console.error("[formsSlice] restoreForm.rejected with error:",r.payload),t.isRestoreLoading=!1,t.restoreError=r.payload?.message||"Failed to restore form",t.restoreSuccess=null})}}),{clearErrors:wu,clearSuccessMessages:vE,clearSelectedForm:fH,setSelectedForm:LIt}=$J.actions,zOe=$J.reducer,UOe=e=>e.forms.formIds,HOe=e=>e.forms.formsById,VOe=we([UOe,HOe],(e,t)=>e.map(r=>t[r])),WOe=e=>e.forms.pagination,LJ=e=>e.forms.selectedForm,qOe="http://dforms.pnepizza.com/api",GOe=()=>{try{const t=Pr.getState().auth?.token;return t?(console.debug("[CategoriesService] Using token from Redux state"),t):(console.debug("[CategoriesService] Token not in Redux, loading from storage"),vr())}catch(e){return console.error("[CategoriesService] Error retrieving auth token:",e),null}},YOe=()=>{const e=ot.create({baseURL:qOe,headers:{Accept:"application/json","Content-Type":"application/json"},timeout:"5000"});return e.interceptors.request.use(t=>{const r=GOe();return r?(t.headers.Authorization=`Bearer ${r}`,console.debug(`[CategoriesService] Request: ${t.method?.toUpperCase()} ${t.url}`)):console.warn("[CategoriesService] No auth token available for request"),t},t=>(console.error("[CategoriesService] Request interceptor error:",t),Promise.reject(t))),e.interceptors.response.use(t=>(console.debug(`[CategoriesService] Response: ${t.config.method?.toUpperCase()} ${t.config.url} - Status: ${t.status}`),t),t=>(console.error("[CategoriesService] Response error:",t),Promise.reject(t))),e},Af=YOe(),Tf=e=>{if(ot.isAxiosError(e)){const t=e,r=t.response?.data?.message||t.response?.data?.error||t.message||"An unexpected error occurred";return console.error("[CategoriesService] Normalized error:",{status:t.response?.status,message:r,url:t.config?.url}),{code:t.response?.status?.toString(),message:r,details:t.response?.data}}return e instanceof Error?(console.error("[CategoriesService] Non-Axios error:",e.message),{message:e.message,details:e}):(console.error("[CategoriesService] Unknown error type:",e),{message:"An unknown error occurred",details:e})};class Zm{static async listCategories(){try{console.debug("[CategoriesService.listCategories] Fetching all categories");const t=await Af.get("/categories");return console.debug("[CategoriesService.listCategories] Success:",t.data),t.data}catch(t){throw console.error("[CategoriesService.listCategories] Error:",t),Tf(t)}}static async getCategory(t){try{console.debug(`[CategoriesService.getCategory] Fetching category with ID: ${t}`);const r=await Af.get(`/categories/${t}`);return console.debug("[CategoriesService.getCategory] Success:",r.data),r.data}catch(r){throw console.error("[CategoriesService.getCategory] Error:",r),Tf(r)}}static async createCategory(t){try{console.debug("[CategoriesService.createCategory] Creating category with data:",t);const r=await Af.post("/categories",t);return console.debug("[CategoriesService.createCategory] Success:",r.data),r.data}catch(r){throw console.error("[CategoriesService.createCategory] Error:",r),Tf(r)}}static async updateCategory(t,r){try{console.debug(`[CategoriesService.updateCategory] Updating category ID ${t} with data:`,r);const s=await Af.put(`/categories/${t}`,r);return console.debug("[CategoriesService.updateCategory] Success:",s.data),s.data}catch(s){throw console.error("[CategoriesService.updateCategory] Error:",s),Tf(s)}}static async assignFormsToCategory(t){try{console.debug("[CategoriesService.assignFormsToCategory] Assigning forms with data:",t);const r=await Af.post("/categories/assign-forms",t);return console.debug("[CategoriesService.assignFormsToCategory] Success:",r.data),r.data}catch(r){throw console.error("[CategoriesService.assignFormsToCategory] Error:",r),Tf(r)}}static async unassignFormsFromCategory(t){try{console.debug("[CategoriesService.unassignFormsFromCategory] Unassigning forms with data:",t);const r=await Af.post("/categories/unassign-forms",t);return console.debug("[CategoriesService.unassignFormsFromCategory] Success:",r.data),r.data}catch(r){throw console.error("[CategoriesService.unassignFormsFromCategory] Error:",r),Tf(r)}}static async deleteCategory(t){try{console.debug(`[CategoriesService.deleteCategory] Deleting category ID: ${t}`);const r=await Af.delete(`/categories/${t}`);return console.debug("[CategoriesService.deleteCategory] Success:",r.data),r.data}catch(r){throw console.error("[CategoriesService.deleteCategory] Error:",r),Tf(r)}}}const KOe={categoriesById:{},categoryIds:[],selectedCategory:null,isListLoading:!1,isGetLoading:!1,isCreateLoading:!1,isUpdateLoading:!1,isAssignLoading:!1,isUnassignLoading:!1,isDeleteLoading:!1,listError:null,getError:null,createError:null,updateError:null,assignError:null,unassignError:null,deleteError:null,createSuccess:null,updateSuccess:null,assignSuccess:null,unassignSuccess:null,deleteSuccess:null},MN=Me("categories/fetchCategories",async(e,{rejectWithValue:t})=>{try{console.debug("[categoriesSlice] fetchCategories called");const r=await Zm.listCategories();return console.debug("[categoriesSlice] fetchCategories success:",r),r.data}catch(r){return console.error("[categoriesSlice] fetchCategories error:",r),t(r)}}),TD=Me("categories/fetchCategoryById",async(e,{rejectWithValue:t})=>{try{console.debug(`[categoriesSlice] fetchCategoryById called with ID: ${e}`);const r=await Zm.getCategory(e);return console.debug("[categoriesSlice] fetchCategoryById success:",r),r.data}catch(r){return console.error("[categoriesSlice] fetchCategoryById error:",r),t(r)}}),sy=Me("categories/createCategory",async(e,{rejectWithValue:t})=>{try{console.debug("[categoriesSlice] createCategory called with data:",e);const r=await Zm.createCategory(e);return console.debug("[categoriesSlice] createCategory success:",r),r.data}catch(r){return console.error("[categoriesSlice] createCategory error:",r),t(r)}}),ny=Me("categories/updateCategory",async({id:e,data:t},{rejectWithValue:r})=>{try{console.debug(`[categoriesSlice] updateCategory called for ID ${e} with data:`,t);const s=await Zm.updateCategory(e,t);return console.debug("[categoriesSlice] updateCategory success:",s),s.data}catch(s){return console.error("[categoriesSlice] updateCategory error:",s),r(s)}}),ay=Me("categories/assignFormsToCategory",async(e,{rejectWithValue:t})=>{try{console.debug("[categoriesSlice] assignFormsToCategory called with data:",e);const r=await Zm.assignFormsToCategory(e);return console.debug("[categoriesSlice] assignFormsToCategory success:",r),{message:r.message,data:e}}catch(r){return console.error("[categoriesSlice] assignFormsToCategory error:",r),t(r)}}),iy=Me("categories/unassignFormsFromCategory",async(e,{rejectWithValue:t})=>{try{console.debug("[categoriesSlice] unassignFormsFromCategory called with data:",e);const r=await Zm.unassignFormsFromCategory(e);return console.debug("[categoriesSlice] unassignFormsFromCategory success:",r),{message:r.message,form_ids:e.form_ids}}catch(r){return console.error("[categoriesSlice] unassignFormsFromCategory error:",r),t(r)}}),oy=Me("categories/deleteCategory",async(e,{rejectWithValue:t})=>{try{console.debug(`[categoriesSlice] deleteCategory called for ID: ${e}`);const r=await Zm.deleteCategory(e);return console.debug("[categoriesSlice] deleteCategory success:",r),{id:e,message:r.message}}catch(r){return console.error("[categoriesSlice] deleteCategory error:",r),t(r)}}),BJ=Pt({name:"categories",initialState:KOe,reducers:{clearErrors(e){e.listError=null,e.getError=null,e.createError=null,e.updateError=null,e.assignError=null,e.unassignError=null,e.deleteError=null},clearSuccessMessages(e){e.createSuccess=null,e.updateSuccess=null,e.assignSuccess=null,e.unassignSuccess=null,e.deleteSuccess=null},clearSelectedCategory(e){e.selectedCategory=null},setSelectedCategory(e,t){e.selectedCategory=t.payload}},extraReducers:e=>{e.addCase(MN.pending,t=>{console.debug("[categoriesSlice] fetchCategories.pending"),t.isListLoading=!0,t.listError=null}),e.addCase(MN.fulfilled,(t,r)=>{console.debug("[categoriesSlice] fetchCategories.fulfilled with payload:",r.payload),t.isListLoading=!1,t.listError=null;const s={},a=[];r.payload.forEach(i=>{s[i.id]=i,a.push(i.id)}),t.categoriesById=s,t.categoryIds=a}),e.addCase(MN.rejected,(t,r)=>{console.error("[categoriesSlice] fetchCategories.rejected with error:",r.payload),t.isListLoading=!1,t.listError=r.payload?.message||"Failed to fetch categories"}),e.addCase(TD.pending,t=>{console.debug("[categoriesSlice] fetchCategoryById.pending"),t.isGetLoading=!0,t.getError=null}),e.addCase(TD.fulfilled,(t,r)=>{console.debug("[categoriesSlice] fetchCategoryById.fulfilled with payload:",r.payload),t.isGetLoading=!1,t.getError=null,t.selectedCategory=r.payload,t.categoriesById[r.payload.id]&&(t.categoriesById[r.payload.id]=r.payload)}),e.addCase(TD.rejected,(t,r)=>{console.error("[categoriesSlice] fetchCategoryById.rejected with error:",r.payload),t.isGetLoading=!1,t.getError=r.payload?.message||"Failed to fetch category details"}),e.addCase(sy.pending,t=>{console.debug("[categoriesSlice] createCategory.pending"),t.isCreateLoading=!0,t.createError=null,t.createSuccess=null}),e.addCase(sy.fulfilled,(t,r)=>{console.debug("[categoriesSlice] createCategory.fulfilled with payload:",r.payload),t.isCreateLoading=!1,t.createError=null,t.createSuccess="Category created successfully";const s=r.payload;t.categoriesById[s.id]=s,t.categoryIds.push(s.id),t.selectedCategory=s}),e.addCase(sy.rejected,(t,r)=>{console.error("[categoriesSlice] createCategory.rejected with error:",r.payload),t.isCreateLoading=!1,t.createError=r.payload?.message||"Failed to create category",t.createSuccess=null}),e.addCase(ny.pending,t=>{console.debug("[categoriesSlice] updateCategory.pending"),t.isUpdateLoading=!0,t.updateError=null,t.updateSuccess=null}),e.addCase(ny.fulfilled,(t,r)=>{console.debug("[categoriesSlice] updateCategory.fulfilled with payload:",r.payload),t.isUpdateLoading=!1,t.updateError=null,t.updateSuccess="Category updated successfully";const s=r.payload;t.categoriesById[s.id]=s,t.selectedCategory?.id===s.id&&(t.selectedCategory=s)}),e.addCase(ny.rejected,(t,r)=>{console.error("[categoriesSlice] updateCategory.rejected with error:",r.payload),t.isUpdateLoading=!1,t.updateError=r.payload?.message||"Failed to update category",t.updateSuccess=null}),e.addCase(ay.pending,t=>{console.debug("[categoriesSlice] assignFormsToCategory.pending"),t.isAssignLoading=!0,t.assignError=null,t.assignSuccess=null}),e.addCase(ay.fulfilled,(t,r)=>{console.debug("[categoriesSlice] assignFormsToCategory.fulfilled with payload:",r.payload),t.isAssignLoading=!1,t.assignError=null,t.assignSuccess=r.payload.message}),e.addCase(ay.rejected,(t,r)=>{console.error("[categoriesSlice] assignFormsToCategory.rejected with error:",r.payload),t.isAssignLoading=!1,t.assignError=r.payload?.message||"Failed to assign forms to category",t.assignSuccess=null}),e.addCase(iy.pending,t=>{console.debug("[categoriesSlice] unassignFormsFromCategory.pending"),t.isUnassignLoading=!0,t.unassignError=null,t.unassignSuccess=null}),e.addCase(iy.fulfilled,(t,r)=>{console.debug("[categoriesSlice] unassignFormsFromCategory.fulfilled with payload:",r.payload),t.isUnassignLoading=!1,t.unassignError=null,t.unassignSuccess=r.payload.message}),e.addCase(iy.rejected,(t,r)=>{console.error("[categoriesSlice] unassignFormsFromCategory.rejected with error:",r.payload),t.isUnassignLoading=!1,t.unassignError=r.payload?.message||"Failed to unassign forms from category",t.unassignSuccess=null}),e.addCase(oy.pending,t=>{console.debug("[categoriesSlice] deleteCategory.pending"),t.isDeleteLoading=!0,t.deleteError=null,t.deleteSuccess=null}),e.addCase(oy.fulfilled,(t,r)=>{console.debug("[categoriesSlice] deleteCategory.fulfilled with payload:",r.payload),t.isDeleteLoading=!1,t.deleteError=null,t.deleteSuccess=r.payload.message;const s=r.payload.id;delete t.categoriesById[s],t.categoryIds=t.categoryIds.filter(a=>a!==s),t.selectedCategory?.id===s&&(t.selectedCategory=null)}),e.addCase(oy.rejected,(t,r)=>{console.error("[categoriesSlice] deleteCategory.rejected with error:",r.payload),t.isDeleteLoading=!1,t.deleteError=r.payload?.message||"Failed to delete category",t.deleteSuccess=null})}}),{clearErrors:_m,clearSuccessMessages:yb,clearSelectedCategory:BIt,setSelectedCategory:zIt}=BJ.actions,ZOe=BJ.reducer,BI=e=>e.categories,XOe=we([BI],e=>e.categoryIds.map(t=>e.categoriesById[t]));we([BI,(e,t)=>t],(e,t)=>e.categoriesById[t]);const JOe=we([BI],e=>e.selectedCategory);function zJ(e){return e.success===!0&&e.data!==void 0}function UJ(e,t){return`${e}_${t}`}const QOe=()=>{try{const t=Pr.getState().auth?.token;return t||vr()}catch(e){return console.error("[Translations Service] Error retrieving auth token:",e),null}},bb=ot.create({baseURL:"http://dforms.pnepizza.com/api/translations",headers:{"Content-Type":"application/json",Accept:"application/json"},timeout:5e3});bb.interceptors.request.use(e=>{const t=QOe();if(!t)throw console.error("[Translations Service] No authentication token available"),new Error("Authentication token is missing. Please log in again.");return e.headers.Authorization=`Bearer ${t}`,console.log(`[Translations Service] Request: ${e.method?.toUpperCase()} ${e.url}`,e.params||e.data||"No payload"),e},e=>(console.error("[Translations Service] Request interceptor error:",e),Promise.reject(e)));bb.interceptors.response.use(e=>(console.log(`[Translations Service] Response: ${e.config.method?.toUpperCase()} ${e.config.url}`,"Status:",e.status,"Data:",e.data),e),e=>(console.error("[Translations Service] Response error:",e.response?.status,e.response?.data||e.message),Promise.reject(e)));const eIe=e=>{if(ot.isAxiosError(e)){const t=e;return t.response?.data?.message?t.response.data.message:t.response?.data?.error?String(t.response.data.error):t.code==="ECONNABORTED"?"Request timeout. Please check your connection and try again.":t.code==="ERR_NETWORK"?"Network error. Please check your internet connection.":t.response?.status===401?"Unauthorized. Please log in again.":t.response?.status===403?"Access forbidden. You do not have permission to perform this action.":t.response?.status===404?"Resource not found.":t.response?.status===500?"Server error. Please try again later.":t.message||"An unexpected error occurred."}return e instanceof Error?e.message:"An unknown error occurred."},zI=(e,t)=>{const r=eIe(e);return console.error(`[Translations Service] ${t}:`,r,e),{message:`${t}: ${r}`,originalError:e}},tIe=async()=>{try{console.log("[Translations Service] Fetching available languages...");const e=await bb.get("/available-languages");if(!e.data||!zJ(e.data))throw new Error("Invalid response structure from available languages endpoint");if(!Array.isArray(e.data.data))throw new Error("Expected data to be an array of languages");return console.log(`[Translations Service] Successfully fetched ${e.data.data.length} languages`),e.data.data}catch(e){throw zI(e,"Failed to fetch available languages")}},rIe=async e=>{try{console.log(`[Translations Service] Fetching localizable data for form_version_id=${e.form_version_id}, language_id=${e.language_id}...`);const t=await bb.get("/localizable-data",{params:{form_version_id:e.form_version_id,language_id:e.language_id}});if(!t.data||!zJ(t.data))throw new Error("Invalid response structure from localizable data endpoint");if(!t.data.data||typeof t.data.data!="object")throw new Error("Expected data to be a localizable data object");const r=t.data.data;if(!r.form_version_id||!r.language||!r.form_name||typeof r.form_name!="object"||!("original"in r.form_name)||!("translated"in r.form_name))throw new Error("Localizable data is missing required fields or has invalid structure");if(!Array.isArray(r.stages))throw new Error("Expected stages to be an array");if(!Array.isArray(r.sections))throw new Error("Expected sections to be an array");if(!Array.isArray(r.transitions))throw new Error("Expected transitions to be an array");if(!Array.isArray(r.fields))throw new Error("Expected fields to be an array");for(const s of r.stages)if(!s.stage_id||!s.original||!s.translated||typeof s.original!="object"||typeof s.translated!="object"||!("name"in s.original)||!("name"in s.translated))throw new Error(`Invalid stage structure for stage_id ${s.stage_id||"unknown"}. Expected nested original/translated objects with name.`);for(const s of r.sections)if(!s.section_id||!s.stage_id||!s.original||!s.translated||typeof s.original!="object"||typeof s.translated!="object"||!("name"in s.original)||!("name"in s.translated))throw new Error(`Invalid section structure for section_id ${s.section_id||"unknown"}. Expected nested original/translated objects with name.`);for(const s of r.transitions)if(!s.stage_transition_id||!s.original||!s.translated||typeof s.original!="object"||typeof s.translated!="object"||!("label"in s.original)||!("label"in s.translated))throw new Error(`Invalid transition structure for stage_transition_id ${s.stage_transition_id||"unknown"}. Expected nested original/translated objects with label.`);for(const s of r.fields)if(!s.field_id||!s.original||!s.translated||typeof s.original!="object"||typeof s.translated!="object")throw new Error(`Invalid field structure for field_id ${s.field_id||"unknown"}. Expected nested original/translated objects.`);return console.log("[Translations Service] Successfully fetched localizable data:",`${r.stages.length} stages,`,`${r.sections.length} sections,`,`${r.transitions.length} transitions,`,`${r.fields.length} fields`),console.log(`[Translations Service] Form name - Original: "${r.form_name.original}", Translated: "${r.form_name.translated}"`),r}catch(t){throw zI(t,"Failed to fetch localizable data")}},sIe=async e=>{try{if(console.log(`[Translations Service] Saving translations for form_version_id=${e.form_version_id}, language_id=${e.language_id}...`,"Payload contains:",`${e.stage_translations.length} stage translations,`,`${e.section_translations.length} section translations,`,`${e.transition_translations.length} transition translations,`,`${e.field_translations.length} field translations`),!e.form_version_id||!e.language_id)throw new Error("form_version_id and language_id are required");if(!e.form_name||typeof e.form_name!="string")throw new Error("form_name is required and must be a string");if(!Array.isArray(e.stage_translations))throw new Error("stage_translations must be an array");if(!Array.isArray(e.section_translations))throw new Error("section_translations must be an array");if(!Array.isArray(e.transition_translations))throw new Error("transition_translations must be an array");if(!Array.isArray(e.field_translations))throw new Error("field_translations must be an array");for(const r of e.stage_translations)if(!r.stage_id||typeof r.name!="string")throw new Error(`Invalid stage translation structure for stage_id ${r.stage_id||"unknown"}`);for(const r of e.section_translations)if(!r.section_id||typeof r.name!="string")throw new Error(`Invalid section translation structure for section_id ${r.section_id||"unknown"}`);for(const r of e.transition_translations)if(!r.stage_transition_id||typeof r.label!="string")throw new Error(`Invalid transition translation structure for stage_transition_id ${r.stage_transition_id||"unknown"}`);for(const r of e.field_translations)if(!r.field_id||typeof r.label!="string"||typeof r.helper_text!="string"||typeof r.default_value!="string"||typeof r.place_holder!="string")throw new Error(`Invalid field translation structure for field_id ${r.field_id||"unknown"}`);const t=await bb.post("/save",e);if(!t.data||t.data.success!==!0)throw new Error("Invalid response structure from save translations endpoint");if(!t.data.message)throw new Error("Response missing success message");return console.log(`[Translations Service] Successfully saved translations: ${t.data.message}`),{success:!0,message:t.data.message}}catch(t){throw zI(t,"Failed to save translations")}},nIe={languages:[],languagesLoaded:!1,localizableDataCache:{},lastSaveSuccess:null,lastSaveTimestamp:null,loading:{languages:!1,localizableData:!1,saving:!1},errors:{languages:null,localizableData:null,save:null}},ON=Me("translations/fetchAvailableLanguages",async(e,{rejectWithValue:t})=>{try{console.log("[Translations Slice] Thunk: Fetching available languages...");const r=await tIe();return console.log(`[Translations Slice] Thunk: Successfully fetched ${r.length} languages`),r}catch(r){const s=r.message||"Failed to fetch available languages";return console.error("[Translations Slice] Thunk: Error fetching languages:",s,r),t(s)}}),IN=Me("translations/fetchLocalizableData",async(e,{rejectWithValue:t})=>{try{console.log(`[Translations Slice] Thunk: Fetching localizable data for form_version_id=${e.form_version_id}, language_id=${e.language_id}...`);const r=await rIe(e),s=UJ(e.form_version_id,e.language_id);return console.log("[Translations Slice] Thunk: Successfully fetched localizable data:",`${r.stages.length} stages,`,`${r.sections.length} sections,`,`${r.transitions.length} transitions,`,`${r.fields.length} fields`),console.log(`[Translations Slice] Thunk: Form name - Original: "${r.form_name.original}", Translated: "${r.form_name.translated}"`),{data:r,cacheKey:s}}catch(r){const s=r.message||"Failed to fetch localizable data";return console.error("[Translations Slice] Thunk: Error fetching localizable data:",s,r),t(s)}}),FN=Me("translations/saveTranslations",async(e,{rejectWithValue:t})=>{try{console.log(`[Translations Slice] Thunk: Saving translations for form_version_id=${e.form_version_id}, language_id=${e.language_id}...`),console.log(`[Translations Slice] Thunk: Form name: "${e.form_name}",`,`${e.stage_translations.length} stage translations,`,`${e.section_translations.length} section translations,`,`${e.transition_translations.length} transition translations,`,`${e.field_translations.length} field translations`);const r=await sIe(e),s=UJ(e.form_version_id,e.language_id);return console.log("[Translations Slice] Thunk: Successfully saved translations:",r.message),{message:r.message,cacheKey:s}}catch(r){const s=r.message||"Failed to save translations";return console.error("[Translations Slice] Thunk: Error saving translations:",s,r),t(s)}}),HJ=Pt({name:"translations",initialState:nIe,reducers:{clearAllErrors:e=>{console.log("[Translations Slice] Reducer: Clearing all errors"),e.errors.languages=null,e.errors.localizableData=null,e.errors.save=null},clearLanguagesError:e=>{console.log("[Translations Slice] Reducer: Clearing languages error"),e.errors.languages=null},clearLocalizableDataError:e=>{console.log("[Translations Slice] Reducer: Clearing localizable data error"),e.errors.localizableData=null},clearSaveError:e=>{console.log("[Translations Slice] Reducer: Clearing save error"),e.errors.save=null},resetSaveStatus:e=>{console.log("[Translations Slice] Reducer: Resetting save status"),e.lastSaveSuccess=null,e.lastSaveTimestamp=null,e.errors.save=null},clearLocalizableDataCache:(e,t)=>{const r=t.payload;console.log(`[Translations Slice] Reducer: Clearing cache for key: ${r}`),delete e.localizableDataCache[r]},clearEntireCache:e=>{console.log("[Translations Slice] Reducer: Clearing entire localizable data cache"),e.localizableDataCache={}},updateFieldTranslationInCache:(e,t)=>{const{cacheKey:r,fieldId:s,updates:a}=t.payload,i=e.localizableDataCache[r];if(i){const o=i.fields.find(c=>c.field_id===s);o&&(Object.assign(o.translated,a),console.log(`[Translations Slice] Reducer: Updated field ${s} in cache ${r}`))}},updateStageTranslationInCache:(e,t)=>{const{cacheKey:r,stageId:s,name:a}=t.payload,i=e.localizableDataCache[r];if(i){const o=i.stages.find(c=>c.stage_id===s);o&&(o.translated.name=a,console.log(`[Translations Slice] Reducer: Updated stage ${s} in cache ${r}`))}},updateSectionTranslationInCache:(e,t)=>{const{cacheKey:r,sectionId:s,name:a}=t.payload,i=e.localizableDataCache[r];if(i){const o=i.sections.find(c=>c.section_id===s);o&&(o.translated.name=a,console.log(`[Translations Slice] Reducer: Updated section ${s} in cache ${r}`))}},updateTransitionTranslationInCache:(e,t)=>{const{cacheKey:r,transitionId:s,label:a}=t.payload,i=e.localizableDataCache[r];if(i){const o=i.transitions.find(c=>c.stage_transition_id===s);o&&(o.translated.label=a,console.log(`[Translations Slice] Reducer: Updated transition ${s} in cache ${r}`))}},updateFormNameInCache:(e,t)=>{const{cacheKey:r,formName:s}=t.payload,a=e.localizableDataCache[r];a&&(a.form_name.translated=s,console.log(`[Translations Slice] Reducer: Updated form name in cache ${r}`))}},extraReducers:e=>{e.addCase(ON.pending,t=>{console.log("[Translations Slice] Reducer: fetchAvailableLanguages pending"),t.loading.languages=!0,t.errors.languages=null}).addCase(ON.fulfilled,(t,r)=>{console.log(`[Translations Slice] Reducer: fetchAvailableLanguages fulfilled with ${r.payload.length} languages`),t.loading.languages=!1,t.languages=r.payload,t.languagesLoaded=!0,t.errors.languages=null}).addCase(ON.rejected,(t,r)=>{console.error("[Translations Slice] Reducer: fetchAvailableLanguages rejected:",r.payload),t.loading.languages=!1,t.errors.languages={message:r.payload||"Failed to fetch available languages",details:r.error,timestamp:Date.now()}}),e.addCase(IN.pending,t=>{console.log("[Translations Slice] Reducer: fetchLocalizableData pending"),t.loading.localizableData=!0,t.errors.localizableData=null}).addCase(IN.fulfilled,(t,r)=>{const{data:s,cacheKey:a}=r.payload;console.log(`[Translations Slice] Reducer: fetchLocalizableData fulfilled for cache key: ${a}`),console.log("[Translations Slice] Reducer: Caching data with",`${s.stages.length} stages,`,`${s.sections.length} sections,`,`${s.transitions.length} transitions,`,`${s.fields.length} fields,`,`form_name: "${s.form_name.translated}"`),t.loading.localizableData=!1,t.localizableDataCache[a]=s,t.errors.localizableData=null}).addCase(IN.rejected,(t,r)=>{console.error("[Translations Slice] Reducer: fetchLocalizableData rejected:",r.payload),t.loading.localizableData=!1,t.errors.localizableData={message:r.payload||"Failed to fetch localizable data",details:r.error,timestamp:Date.now()}}),e.addCase(FN.pending,t=>{console.log("[Translations Slice] Reducer: saveTranslations pending"),t.loading.saving=!0,t.errors.save=null,t.lastSaveSuccess=null}).addCase(FN.fulfilled,(t,r)=>{const{message:s,cacheKey:a}=r.payload;console.log(`[Translations Slice] Reducer: saveTranslations fulfilled: ${s}`),t.loading.saving=!1,t.lastSaveSuccess=!0,t.lastSaveTimestamp=Date.now(),t.errors.save=null,console.log(`[Translations Slice] Reducer: Invalidating cache for key: ${a} after save`),delete t.localizableDataCache[a]}).addCase(FN.rejected,(t,r)=>{console.error("[Translations Slice] Reducer: saveTranslations rejected:",r.payload),t.loading.saving=!1,t.lastSaveSuccess=!1,t.lastSaveTimestamp=Date.now(),t.errors.save={message:r.payload||"Failed to save translations",details:r.error,timestamp:Date.now()}})}}),aIe=e=>e.translations.languages,iIe=e=>e.translations.languagesLoaded,oIe=(e,t)=>e.translations.localizableDataCache[t],lIe=e=>e.translations.loading.languages,cIe=e=>e.translations.loading.localizableData,dIe=e=>e.translations.loading.saving,VJ=e=>e.translations.errors.languages,WJ=e=>e.translations.errors.localizableData,qJ=e=>e.translations.errors.save,uIe=e=>e.translations.lastSaveSuccess,fIe=e=>e.translations.lastSaveTimestamp,{clearAllErrors:mIe,clearLanguagesError:GJ,clearLocalizableDataError:YJ,clearSaveError:KJ,resetSaveStatus:hIe,clearLocalizableDataCache:pIe,clearEntireCache:UIt,updateFieldTranslationInCache:gIe,updateStageTranslationInCache:xIe,updateSectionTranslationInCache:vIe,updateTransitionTranslationInCache:yIe,updateFormNameInCache:bIe}=HJ.actions,wIe=HJ.reducer,jIe="http://dforms.pnepizza.com/api",UI={GET_ALL_LANGUAGES:"/user/language/all",GET_DEFAULT_LANGUAGE:"/user/language/default",SET_DEFAULT_LANGUAGE:"/translations/save"},SIe=()=>{try{const t=Pr.getState().auth?.token;return t?(console.debug("[Language Service] Token retrieved from Redux store"),t):(console.debug("[Language Service] Falling back to localStorage token"),vr())}catch(e){return console.error("[Language Service] Error retrieving auth token:",e),null}},HI=()=>ot.create({baseURL:jIe,timeout:5e3,headers:{"Content-Type":"application/json",Accept:"application/json"}}),VI=()=>{const e=SIe();if(!e)throw new Error("Authentication token not found. Please log in again.");return{Authorization:`Bearer ${e}`,"Content-Type":"application/json",Accept:"application/json"}},WI=e=>{if(ot.isAxiosError(e)){const t=e;if(t.response?.data){const r=t.response.data;if(r.message)return console.error("[Language Service] API Error:",r.message),r.message;if(r.errors){const s=Object.values(r.errors).flat().join(", ");return console.error("[Language Service] Validation Error:",s),s}if(r.error)return console.error("[Language Service] Error:",r.error),r.error}return t.code==="ECONNABORTED"?(console.error("[Language Service] Request timeout"),"Request timeout. Please check your connection and try again."):t.code==="ERR_NETWORK"?(console.error("[Language Service] Network error"),"Network error. Please check your internet connection."):t.response?.status===401?(console.error("[Language Service] Unauthorized"),"Session expired. Please log in again."):t.response?.status===403?(console.error("[Language Service] Forbidden"),"You do not have permission to perform this action."):t.response?.status===404?(console.error("[Language Service] Not found"),"Resource not found."):t.response?.status===500?(console.error("[Language Service] Server error"),"Server error. Please try again later."):(console.error("[Language Service] Axios error:",t.message),t.message||"An unexpected error occurred.")}return e instanceof Error?(console.error("[Language Service] Error:",e.message),e.message):(console.error("[Language Service] Unknown error:",e),"An unexpected error occurred. Please try again.")},NIe=async()=>{console.info("[Language Service] Fetching all languages");try{const e=VI(),r=await HI().get(UI.GET_ALL_LANGUAGES,{headers:e});return console.info("[Language Service] Successfully fetched languages:",r.data.data.length),console.debug("[Language Service] Languages:",r.data.data),r.data}catch(e){const t=WI(e);throw console.error("[Language Service] Failed to fetch all languages"),new Error(t)}},ZJ=async()=>{console.info("[Language Service] Fetching user default language");try{const e=VI(),r=await HI().get(UI.GET_DEFAULT_LANGUAGE,{headers:e});return console.info("[Language Service] Successfully fetched default language:",r.data.data.name),console.debug("[Language Service] Default language:",r.data.data),r.data}catch(e){const t=WI(e);throw console.error("[Language Service] Failed to fetch default language"),new Error(t)}},CIe=async e=>{console.info("[Language Service] Setting default language to ID:",e);try{const t=VI(),r=HI(),s={language_id:e};console.debug("[Language Service] Request body:",s);const a=await r.put(UI.SET_DEFAULT_LANGUAGE,s,{headers:t});return console.info("[Language Service] Successfully set default language"),console.debug("[Language Service] Updated user:",a.data.data),a.data}catch(t){const r=WI(t);throw console.error("[Language Service] Failed to set default language"),new Error(r)}},qI=e=>({id:e.id,code:e.code,name:e.name,isDefault:e.is_default,createdAt:e.created_at,updatedAt:e.updated_at}),GI=e=>e instanceof Error?e.message:typeof e=="string"?e:"An unexpected error occurred.",mH={languages:[],defaultLanguage:null,loading:!1,error:null,lastFetched:null},$N=Me("language/fetchAll",async(e,{rejectWithValue:t})=>{try{console.info("[Language Slice] Fetching all languages");const s=(await NIe()).data.map(qI);return console.info("[Language Slice] Successfully fetched languages:",s.length),s}catch(r){const s=GI(r);return console.error("[Language Slice] Failed to fetch all languages:",s),t(s)}}),LN=Me("language/fetchDefault",async(e,{rejectWithValue:t})=>{try{console.info("[Language Slice] Fetching user default language");const r=await ZJ(),s=qI(r.data);return console.info("[Language Slice] Successfully fetched default language:",s.name),s}catch(r){const s=GI(r);return console.error("[Language Slice] Failed to fetch default language:",s),t(s)}}),BN=Me("language/updateDefault",async(e,{getState:t,rejectWithValue:r})=>{try{console.info("[Language Slice] Updating default language to ID:",e);const{languages:s}=t().languagesPreferences,a=s.find(c=>c.id===e);a||console.warn("[Language Slice] Target language not found in state");const i=await CIe(e);if(console.info("[Language Slice] Successfully updated default language"),console.debug("[Language Slice] Updated user:",i.data),a)return a;console.warn("[Language Slice] Language not in state, fetching default");const o=await ZJ();return qI(o.data)}catch(s){const a=GI(s);return console.error("[Language Slice] Failed to update default language:",a),r(a)}}),XJ=Pt({name:"language",initialState:mH,reducers:{clearError:e=>{e.error=null},resetLanguageState:()=>mH},extraReducers:e=>{e.addCase($N.pending,t=>{console.debug("[Language Slice] fetchAllLanguages: pending"),t.loading=!0,t.error=null}).addCase($N.fulfilled,(t,r)=>{console.debug("[Language Slice] fetchAllLanguages: fulfilled"),t.loading=!1,t.languages=r.payload,t.lastFetched=Date.now(),t.error=null}).addCase($N.rejected,(t,r)=>{console.debug("[Language Slice] fetchAllLanguages: rejected"),t.loading=!1,t.error=r.payload||"Failed to fetch languages"}),e.addCase(LN.pending,t=>{console.debug("[Language Slice] fetchDefaultLanguage: pending"),t.loading=!0,t.error=null}).addCase(LN.fulfilled,(t,r)=>{console.debug("[Language Slice] fetchDefaultLanguage: fulfilled"),t.loading=!1,t.defaultLanguage=r.payload,t.error=null}).addCase(LN.rejected,(t,r)=>{console.debug("[Language Slice] fetchDefaultLanguage: rejected"),t.loading=!1,t.error=r.payload||"Failed to fetch default language"}),e.addCase(BN.pending,t=>{console.debug("[Language Slice] updateDefaultLanguage: pending"),t.loading=!0,t.error=null}).addCase(BN.fulfilled,(t,r)=>{console.debug("[Language Slice] updateDefaultLanguage: fulfilled"),t.loading=!1,t.defaultLanguage=r.payload,t.error=null,t.languages=t.languages.map(s=>({...s,isDefault:s.id===r.payload.id}))}).addCase(BN.rejected,(t,r)=>{console.debug("[Language Slice] updateDefaultLanguage: rejected"),t.loading=!1,t.error=r.payload||"Failed to update default language"})}}),{clearError:_Ie,resetLanguageState:HIt}=XJ.actions,EIe=e=>e.languagesPreferences.languages,kIe=e=>e.languagesPreferences.defaultLanguage,AIe=e=>e.languagesPreferences.loading,TIe=e=>e.languagesPreferences.error,DIe=e=>{const{lastFetched:t}=e.languagesPreferences;if(!t)return!0;const r=300*1e3;return Date.now()-t>r},PIe=e=>e.languagesPreferences.languages.find(t=>t.isDefault)||null,RIe=e=>e.languagesPreferences.languages.length>0,MIe=XJ.reducer,OIe=()=>{try{const t=Pr.getState().auth?.token;if(t)return console.debug("[FormVersionService] Token retrieved from Redux store"),t;const r=vr();return r&&console.debug("[FormVersionService] Token retrieved from localStorage"),r}catch(e){return console.error("[FormVersionService] Error retrieving auth token:",e),null}},tx=ot.create({baseURL:"http://dforms.pnepizza.com/api",timeout:5e3,headers:{"Content-Type":"application/json",Accept:"application/json"}});tx.interceptors.request.use(e=>{const t=OIe();return t?(e.headers.Authorization=`Bearer ${t}`,console.debug(`[FormVersionService] Request: ${e.method?.toUpperCase()} ${e.url}`)):console.warn("[FormVersionService] No authentication token available for request"),e},e=>(console.error("[FormVersionService] Request interceptor error:",e.message),Promise.reject(e)));tx.interceptors.response.use(e=>(console.debug(`[FormVersionService] Response: ${e.status} from ${e.config.url}`),e),e=>Promise.reject(e));const yE=(e,t)=>{if(console.error(`[FormVersionService] Error in ${t}:`,e),ot.isAxiosError(e)){const r=e;if(!r.response)return{message:r.message||"Network error occurred",statusCode:0,details:{code:r.code,operation:t}};const{status:s,data:a}=r.response;return{message:a?.message||r.message||`HTTP ${s} error`,statusCode:s,details:{errors:a?.errors,operation:t,url:r.config?.url}}}return e instanceof Error?{message:e.message,details:{operation:t}}:{message:"An unknown error occurred",details:{error:e,operation:t}}},IIe=async e=>{try{console.info(`[FormVersionService] Fetching form version with ID: ${e}`);const t=await tx.get(`/form-versions/${e}`);return console.info(`[FormVersionService] Successfully fetched form version ${e} (status: ${t.data.data.status}, version: ${t.data.data.version_number})`),t.data.data}catch(t){const r=yE(t,"getFormVersion");throw console.error(`[FormVersionService] Failed to fetch form version ${e}:`,r.message),r}},JJ=async(e,t)=>{try{console.info(`[FormVersionService] Updating form version ${e} with ${t.stages.length} stages and ${t.stage_transitions.length} transitions`);const r=await tx.put(`/form-versions/${e}`,t);return console.info(`[FormVersionService] Successfully updated form version ${e}`),r.data}catch(r){const s=yE(r,"updateFormVersion");throw console.error(`[FormVersionService] Failed to update form version ${e}:`,s.message),s}},FIe=async e=>{try{console.info(`[FormVersionService] Publishing form version ${e}`);const t=await tx.post(`/form-versions/${e}/publish`);return console.info(`[FormVersionService] Successfully published form version ${e} at ${t.data.data.published_at}`),t.data.data}catch(t){const r=yE(t,"publishFormVersion");throw console.error(`[FormVersionService] Failed to publish form version ${e}:`,r.message),r}},$Ie=async(e,t)=>{try{console.info(`[FormVersionService] Creating new form version for form ${e}`);const r={form_id:e,copy_from_current:t?.copy_from_current??!0},s=await tx.post(`/forms/${e}/versions`,r);return console.info(`[FormVersionService] Created form version ${s.data.data.id} (#${s.data.data.version_number}) for form ${e}`),s.data.data}catch(r){const s=yE(r,"createFormVersion");throw console.error(`[FormVersionService] Failed to create form version for form ${e}:`,s.message),s}},LIe={current:null,stages:[],stageTransitions:[],loading:{fetch:!1,update:!1,publish:!1},errors:{fetch:null,update:null,publish:null},lastFetched:null},ly=Me("formVersion/fetchById",async(e,{rejectWithValue:t})=>{try{console.debug(`[FormVersionSlice] Fetching form version with ID: ${e}`);const r=await IIe(e);return console.info(`[FormVersionSlice] Successfully fetched form version ${e}`),r}catch(r){const s=r;return console.error(`[FormVersionSlice] Fetch failed for ID ${e}:`,s.message),t(s)}}),DD=Me("formVersion/updateById",async({id:e,data:t},{rejectWithValue:r})=>{try{console.debug(`[FormVersionSlice] Updating form version ${e} with ${t.stages.length} stages, ${t.stage_transitions.length} transitions`);const s=await JJ(e,t);return console.info(`[FormVersionSlice] Successfully updated form version ${e}`),{id:e,data:s}}catch(s){const a=s;return console.error(`[FormVersionSlice] Update failed for ID ${e}:`,a.message),r(a)}}),zN=Me("formVersion/publishById",async(e,{rejectWithValue:t})=>{try{console.debug(`[FormVersionSlice] Publishing form version ${e}`);const r=await FIe(e);return console.info(`[FormVersionSlice] Successfully published form version ${e} at ${r.published_at}`),{id:r.id,status:r.status,published_at:r.published_at,version_number:r.version_number}}catch(r){const s=r;return console.error(`[FormVersionSlice] Publish failed for ID ${e}:`,s.message),t(s)}}),QJ=Me("formVersion/createByFormId",async({formId:e,copy_from_current:t},{rejectWithValue:r})=>{try{console.debug(`[FormVersionSlice] Creating new version for form ${e}`);const s=await $Ie(e,{copy_from_current:t});return console.info(`[FormVersionSlice] Created version ${s.id} (#${s.version_number}) for form ${e}`),s}catch(s){const a=s;return console.error(`[FormVersionSlice] Create version failed for form ${e}:`,a.message),r(a)}}),eQ=Pt({name:"formVersion",initialState:LIe,reducers:{clearFormVersion:e=>{console.debug("[FormVersionSlice] Clearing form version state"),e.current=null,e.stages=[],e.stageTransitions=[],e.errors={fetch:null,update:null,publish:null},e.lastFetched=null},clearError:(e,t)=>{console.debug(`[FormVersionSlice] Clearing ${t.payload} error`),e.errors[t.payload]=null},updateStages:(e,t)=>{console.debug(`[FormVersionSlice] Manually updating ${t.payload.length} stages`),e.stages=t.payload,e.current&&(e.current.stages=t.payload)},updateStageTransitions:(e,t)=>{console.debug(`[FormVersionSlice] Manually updating ${t.payload.length} transitions`),e.stageTransitions=t.payload,e.current&&(e.current.stage_transitions=t.payload)}},extraReducers:e=>{e.addCase(ly.pending,t=>{console.debug("[FormVersionSlice] Fetch pending"),t.loading.fetch=!0,t.errors.fetch=null}),e.addCase(ly.fulfilled,(t,r)=>{console.info(`[FormVersionSlice] Fetch fulfilled for version ${r.payload.id}`),t.loading.fetch=!1,t.current=r.payload,t.stages=r.payload.stages||[],t.stageTransitions=r.payload.stage_transitions||[],t.lastFetched=Date.now(),t.errors.fetch=null}),e.addCase(ly.rejected,(t,r)=>{console.error("[FormVersionSlice] Fetch rejected:",r.payload?.message),t.loading.fetch=!1,t.errors.fetch=r.payload||{message:"Failed to fetch form version"}}),e.addCase(DD.pending,t=>{console.debug("[FormVersionSlice] Update pending"),t.loading.update=!0,t.errors.update=null}),e.addCase(DD.fulfilled,(t,r)=>{console.info(`[FormVersionSlice] Update fulfilled for version ${r.payload.id}`),t.loading.update=!1,t.stages=r.payload.data.stages,t.stageTransitions=r.payload.data.stage_transitions,t.current&&t.current.id===r.payload.id&&(t.current={...t.current,stages:r.payload.data.stages,stage_transitions:r.payload.data.stage_transitions,updated_at:new Date().toISOString()}),t.errors.update=null}),e.addCase(DD.rejected,(t,r)=>{console.error("[FormVersionSlice] Update rejected:",r.payload?.message),t.loading.update=!1,t.errors.update=r.payload||{message:"Failed to update form version"}}),e.addCase(zN.pending,t=>{console.debug("[FormVersionSlice] Publish pending"),t.loading.publish=!0,t.errors.publish=null}),e.addCase(zN.fulfilled,(t,r)=>{console.info(`[FormVersionSlice] Publish fulfilled for version ${r.payload.id}`),t.loading.publish=!1,t.current&&t.current.id===r.payload.id&&(t.current={...t.current,status:"published",published_at:r.payload.published_at,updated_at:new Date().toISOString()}),t.errors.publish=null}),e.addCase(zN.rejected,(t,r)=>{console.error("[FormVersionSlice] Publish rejected:",r.payload?.message),t.loading.publish=!1,t.errors.publish=r.payload||{message:"Failed to publish form version"}}),e.addCase(QJ.fulfilled,(t,r)=>{t.current=r.payload,t.stages=r.payload.stages||[],t.stageTransitions=r.payload.stage_transitions||[],t.lastFetched=Date.now()})}}),{clearFormVersion:BIe,clearError:tQ,updateStages:VIt,updateStageTransitions:WIt}=eQ.actions,zIe=e=>e.formVersion.current,UIe=e=>e.formVersion.stages,HIe=e=>e.formVersion.stageTransitions,YI=e=>e.formVersion.loading,KI=e=>e.formVersion.errors,VIe=eQ.reducer,Yo=()=>{const e=Date.now(),t=Math.random().toString(36).substring(2,15),r=`FAKE_${e}_${t}`;return console.debug("[FakeId] Generated fake ID:",r),r},wb=e=>typeof e=="number"?!1:typeof e=="string"&&e.startsWith("FAKE_"),WIe={"Send Email":1,"Send Notification":2,"Call Webhook":3},qIe={1:"Send Email",2:"Send Notification",3:"Call Webhook"};function GIe(e){const t=WIe[e];if(!t)throw new Error(`[FormVersionMappers] Unknown action type: ${e}`);return t}function YIe(e){const t=qIe[e];if(!t)throw new Error(`[FormVersionMappers] Unknown action ID: ${e}`);return t}function KIe(e){return{id:e.id??Yo(),section_id:e.section_id??Yo(),field_type_id:e.field_type_id,label:e.label,placeholder:e.placeholder??null,helper_text:e.helper_text??null,default_value:e.default_value??null,visibility_condition:e.visibility_condition??null,visibility_conditions:e.visibility_conditions??e.visibility_condition??null,rules:(e.rules||[]).map(t=>({input_rule_id:t.input_rule_id,rule_props:t.rule_props??null,rule_condition:t.rule_condition??null}))}}function ZIe(e){return{id:e.id??Yo(),stage_id:e.stage_id??Yo(),name:e.name,description:null,order:e.order??0,is_repeatable:!1,min_entries:null,max_entries:null,visibility_condition:e.visibility_condition??null,visibility_conditions:e.visibility_conditions??e.visibility_condition??null,fields:(e.fields||[]).map(KIe)}}function XIe(e){return{id:e.id??Yo(),form_version_id:e.form_version_id,name:e.name,description:null,order:0,is_initial:e.is_initial,allow_rejection:!1,visibility_condition:e.visibility_condition??null,visibility_conditions:e.visibility_condition??null,access_rule:e.access_rule??{allowed_users:null,allowed_roles:null,allowed_permissions:null,allow_authenticated_users:!1,email_field_id:null},sections:(e.sections||[]).map(ZIe)}}function JIe(e){console.debug("[MapperTransitionToUi] Mapping transition:",e.id);const t=(e.actions||[]).map(r=>{if("actionType"in r&&r.actionType)return{id:r.id??null,actionType:r.actionType,actionProps:r.actionProps};const s=YIe(r.action_id),a=typeof r.action_props=="string"?JSON.parse(r.action_props):r.action_props;return{id:r.id??null,actionType:s,actionProps:a}});return{id:e.id??Yo(),from_stage_id:e.from_stage_id,to_stage_id:e.to_stage_id??null,label:e.label,condition:e.condition??null,to_complete:e.to_complete,actions:t}}function QIe(e){if(console.info("[FormVersionMappers] Mapping FormVersion to UI format"),!e)return console.debug("[FormVersionMappers] FormVersion is null, returning empty arrays"),{stages:[],stageTransitions:[]};const t=(e.stages||[]).map(XIe),r=(e.stage_transitions||[]).map(JIe);return console.info(`[FormVersionMappers] Mapped ${t.length} stages and ${r.length} transitions`),{stages:t,stageTransitions:r}}function bE(e){if(e==null)return null;if(typeof e=="string")try{return JSON.parse(e)}catch{return null}return e}function e3e(e){return{id:e.id,section_id:e.section_id,field_type_id:e.field_type_id,label:e.label,placeholder:e.placeholder,helper_text:e.helper_text,default_value:e.default_value,visibility_conditions:bE(e.visibility_conditions),rules:e.rules.filter(r=>r.input_rule_id!==null).map(r=>({id:null,input_rule_id:r.input_rule_id,rule_props:r.rule_props??null,rule_condition:r.rule_condition}))}}function t3e(e){return{id:e.id,stage_id:e.stage_id,name:e.name,order:e.order,visibility_conditions:bE(e.visibility_conditions),fields:e.fields.map(e3e)}}function r3e(e){const t={id:e.id,name:e.name,is_initial:e.is_initial,visibility_condition:bE(e.visibility_conditions??e.visibility_condition??null),sections:e.sections.map(t3e),access_rule:e.access_rule??{allowed_users:null,allowed_roles:null,allowed_permissions:null,allow_authenticated_users:!1,email_field_id:null}};return e.form_version_id!==void 0&&(t.form_version_id=e.form_version_id),t}function s3e(e){console.debug("[MapperTransitionToApi] Mapping transition:",e.id);const t=e.actions.map(s=>{const a=GIe(s.actionType);return console.debug(`[MapperTransitionToApi] Mapping action "${s.actionType}" to action_id ${a}`),{id:typeof s.id=="number"?s.id:null,action_id:a,action_props:JSON.stringify(s.actionProps)}}),r={id:e.id,from_stage_id:e.from_stage_id,to_stage_id:e.to_stage_id===null?null:e.to_stage_id,to_complete:e.to_stage_id===null?!0:e.to_complete,label:e.label,condition:bE(e.condition),actions:t};return console.debug(`[MapperTransitionToApi] Mapped transition ${e.id}:`,`from_stage_id=${r.from_stage_id}, to_stage_id=${r.to_stage_id}, ${r.actions.length} actions`),r}function n3e(e){console.info(`[FormVersionMappers] Building update request with ${e.stages.length} stages and ${e.stageTransitions.length} transitions`);try{const t=e.stages.map(s=>{try{return r3e(s)}catch(a){throw console.error("[FormVersionMappers] Error mapping stage:",s.name,a),a}}),r=e.stageTransitions.map(s=>{try{return s3e(s)}catch(a){throw console.error("[FormVersionMappers] Error mapping transition:",s.label,a),a}});return console.info(`[FormVersionMappers] Built request with ${t.length} stages and ${r.length} transitions`),{stages:t,stage_transitions:r}}catch(t){throw console.error("[FormVersionMappers] Error building update request:",t),t}}const a3e={setStages:(e,t)=>{console.debug(`[StageReducers] Setting ${t.payload.length} stages`),e.stages=t.payload,e.dirty=!0},updateStage:(e,t)=>{console.debug(`[StageReducers] Updating stage ${t.payload.id}`);const r=e.stages.findIndex(s=>s.id===t.payload.id);r!==-1?(e.stages[r]=t.payload,e.dirty=!0):console.warn(`[StageReducers] Stage ${t.payload.id} not found for update`)},addStage:(e,t)=>{console.info(`[StageReducers] Adding stage ${t.payload.id}`),e.stages.push(t.payload),e.dirty=!0,e.stages.length===1&&(e.selectedStageId=t.payload.id,console.debug(`[StageReducers] Auto-selected new first stage: ${t.payload.id}`))},removeStage:(e,t)=>{console.info(`[StageReducers] Removing stage ${t.payload}`);const r=e.stages.findIndex(a=>a.id===t.payload),s=r!==-1&&e.stages[r].is_initial;e.stages=e.stages.filter(a=>a.id!==t.payload),s&&e.stages.length>0&&(console.debug("[StageReducers] Removed initial stage, making first remaining stage initial"),e.stages[0].is_initial=!0),e.dirty=!0,e.selectedStageId===t.payload&&(e.selectedStageId=e.stages.length>0?e.stages[0].id:null,e.selectedSectionId=null,console.debug(`[StageReducers] Selected stage was deleted, switching to: ${e.selectedStageId}`))},setStageTransitions:(e,t)=>{console.debug(`[StageReducers] Setting ${t.payload.length} stage transitions`),e.stageTransitions=t.payload,e.dirty=!0},addStageTransition:(e,t)=>{console.info("[StageReducers] Adding stage transition"),e.stageTransitions.push(t.payload),e.dirty=!0},removeStageTransition:(e,t)=>{console.info(`[StageReducers] Removing stage transition at index ${t.payload}`),e.stageTransitions=e.stageTransitions.filter((r,s)=>s!==t.payload),e.dirty=!0}},i3e={1:{label:"Text Input",placeholder:"Enter text...",helper_text:null,default_value:null},2:{label:"Email Address",placeholder:"user@example.com",helper_text:"We'll never share your email with anyone else.",default_value:null},3:{label:"Number",placeholder:"Enter number...",helper_text:null,default_value:null},4:{label:"Phone Number",placeholder:"+1 (555) 000-0000",helper_text:null,default_value:null},5:{label:"Description",placeholder:"Enter detailed description...",helper_text:null,default_value:null},6:{label:"Date",placeholder:null,helper_text:"Select a date",default_value:null},7:{label:"Time",placeholder:null,helper_text:"Select a time",default_value:null},8:{label:"Date & Time",placeholder:null,helper_text:"Select date and time",default_value:null},9:{label:"I agree to the terms",placeholder:null,helper_text:null,default_value:null},10:{label:"Radio Options",placeholder:JSON.stringify(["Option 1","Option 2"]),helper_text:"Select one option",default_value:null},11:{label:"Select Option",placeholder:JSON.stringify(["Option 1","Option 2","Option 3"]),helper_text:null,default_value:null},12:{label:"Select Multiple",placeholder:JSON.stringify(["Option 1","Option 2","Option 3"]),helper_text:"Select all that apply",default_value:null},13:{label:"Upload File",placeholder:null,helper_text:"Maximum file size: 10MB",default_value:null},14:{label:"Upload Image",placeholder:null,helper_text:"Maximum file size: 5MB",default_value:null},15:{label:"Upload Video",placeholder:null,helper_text:"Maximum file size: 100MB",default_value:null},16:{label:"Upload Document",placeholder:null,helper_text:"Maximum file size: 10MB",default_value:null},19:{label:"Color Picker",placeholder:null,helper_text:"Select a color",default_value:"#3B82F6"},20:{label:"Rating",placeholder:null,helper_text:"Rate your experience",default_value:"0"},21:{label:"Slider",placeholder:null,helper_text:"Select a value",default_value:"50"},22:{label:"Toggle Switch",placeholder:null,helper_text:"Enable or disable",default_value:"0"},24:{label:"Percentage",placeholder:null,helper_text:"Enter a percentage",default_value:null},26:{label:"Location",placeholder:null,helper_text:"Select location on map",default_value:null}},o3e=(e,t,r)=>{const s=i3e[t]||{label:`Field Type ${t}`,placeholder:"Enter value...",helper_text:null,default_value:null};return{...{id:Yo(),section_id:e,field_type_id:t,label:"",placeholder:null,helper_text:null,default_value:null,visibility_condition:null,visibility_conditions:null,rules:[]},...s,...r}},l3e={addSection:(e,t)=>{console.info(`[SectionReducers] Adding section ${t.payload.section.id} to stage ${t.payload.stageId}`);const r=e.stages.find(s=>s.id===t.payload.stageId);r?(r.sections.push(t.payload.section),e.dirty=!0):console.warn(`[SectionReducers] Stage ${t.payload.stageId} not found for adding section`)},updateSection:(e,t)=>{console.debug(`[SectionReducers] Updating section ${t.payload.section.id} in stage ${t.payload.stageId}`);const r=e.stages.find(s=>s.id===t.payload.stageId);if(r){const s=r.sections.findIndex(a=>a.id===t.payload.section.id);s!==-1?(r.sections[s]=t.payload.section,e.dirty=!0):console.warn(`[SectionReducers] Section ${t.payload.section.id} not found in stage ${t.payload.stageId}`)}else console.warn(`[SectionReducers] Stage ${t.payload.stageId} not found for updating section`)},removeSection:(e,t)=>{console.info(`[SectionReducers] Removing section ${t.payload.sectionId} from stage ${t.payload.stageId}`);const r=e.stages.find(s=>s.id===t.payload.stageId);r?(r.sections=r.sections.filter(s=>s.id!==t.payload.sectionId),e.dirty=!0,e.selectedSectionId===t.payload.sectionId&&(e.selectedSectionId=null,e.selectedFieldId=null)):console.warn(`[SectionReducers] Stage ${t.payload.stageId} not found for removing section`)},reorderSections:(e,t)=>{console.debug(`[SectionReducers] Reordering sections in stage ${t.payload.stageId}`);const r=e.stages.find(s=>s.id===t.payload.stageId);r?(r.sections=t.payload.sections,e.dirty=!0):console.warn(`[SectionReducers] Stage ${t.payload.stageId} not found for reordering sections`)},addField:(e,t)=>{const{stageId:r,sectionId:s,fieldTypeId:a,defaults:i}=t.payload;console.info(`[SectionReducers] Adding field with type ${a} to section ${s} in stage ${r}`);const o=e.stages.find(u=>u.id===r);if(!o){console.warn(`[SectionReducers] Stage ${r} not found for adding field`);return}const c=o.sections.find(u=>u.id===s);if(!c){console.warn(`[SectionReducers] Section ${s} not found for adding field`);return}const d=o3e(s,a,i);c.fields.push(d),e.dirty=!0,console.debug(`[SectionReducers] Created field with ID: ${d.id}`)},updateField:(e,t)=>{const{stageId:r,sectionId:s,fieldId:a,changes:i}=t.payload;console.debug(`[SectionReducers] Updating field ${a} in section ${s}, stage ${r}`);const o=e.stages.find(u=>u.id===r);if(!o){console.warn(`[SectionReducers] Stage ${r} not found for updating field`);return}const c=o.sections.find(u=>u.id===s);if(!c){console.warn(`[SectionReducers] Section ${s} not found for updating field`);return}const d=c.fields.findIndex(u=>u.id===a);if(d===-1){console.warn(`[SectionReducers] Field ${a} not found for update`);return}c.fields[d]={...c.fields[d],...i},e.dirty=!0,console.debug(`[SectionReducers] Field ${a} updated successfully`)},removeField:(e,t)=>{const{stageId:r,sectionId:s,fieldId:a}=t.payload;console.info(`[SectionReducers] Removing field ${a} from section ${s}, stage ${r}`);const i=e.stages.find(c=>c.id===r);if(!i){console.warn(`[SectionReducers] Stage ${r} not found for removing field`);return}const o=i.sections.find(c=>c.id===s);if(!o){console.warn(`[SectionReducers] Section ${s} not found for removing field`);return}o.fields=o.fields.filter(c=>c.id!==a),e.dirty=!0,e.selectedFieldId===a&&(e.selectedFieldId=null),console.debug(`[SectionReducers] Field ${a} removed successfully`)},reorderFields:(e,t)=>{const{stageId:r,sectionId:s,fields:a}=t.payload;console.debug(`[SectionReducers] Reordering fields in section ${s}, stage ${r}`);const i=e.stages.find(c=>c.id===r);if(!i){console.warn(`[SectionReducers] Stage ${r} not found for reordering fields`);return}const o=i.sections.find(c=>c.id===s);if(!o){console.warn(`[SectionReducers] Section ${s} not found for reordering fields`);return}o.fields=a,e.dirty=!0,console.debug("[SectionReducers] Fields reordered successfully")}},c3e={addTransition:(e,t)=>{const{fromStageId:r,toStageId:s}=t.payload;console.info(`[TransitionReducers] Adding transition from ${r} to ${s}`);const a={id:Yo(),from_stage_id:r,to_stage_id:s,label:"New Transition",condition:null,to_complete:!1,actions:[]};e.stageTransitions.push(a),e.dirty=!0,console.info(`[TransitionReducers] Created transition: ${a.id}`)},updateTransition:(e,t)=>{const{transitionId:r,changes:s}=t.payload;console.debug(`[TransitionReducers] Updating transition: ${r}`);const a=e.stageTransitions.findIndex(u=>u.id===r);if(a===-1){console.warn(`[TransitionReducers] Transition ${r} not found for update`);return}const i=e.stageTransitions[a],o=s.from_stage_id??i.from_stage_id,c=Object.prototype.hasOwnProperty.call(s,"to_stage_id")?s.to_stage_id:i.to_stage_id;if(c!==null&&o===c){e.validationErrors={...e.validationErrors||{},[`transition_${String(r)}_to_stage_id`]:"Cannot transition to the same stage"},console.warn("[TransitionReducers] Prevented self-transition");return}const d={...i,...s};d.to_stage_id===null&&(d.to_complete=!0),e.stageTransitions[a]=d,e.dirty=!0,console.debug(`[TransitionReducers] Transition ${r} updated`)},removeTransition:(e,t)=>{const{transitionId:r}=t.payload;console.info(`[TransitionReducers] Removing transition: ${r}`),e.stageTransitions=e.stageTransitions.filter(s=>s.id!==r),e.dirty=!0,e.selectedTransitionId===r&&(e.selectedTransitionId=null),console.debug(`[TransitionReducers] Transition ${r} removed`)},setSelectedTransitionId:(e,t)=>{console.debug(`[TransitionReducers] Setting selected transition: ${t.payload}`),e.selectedTransitionId=t.payload},addTransitionAction:(e,t)=>{const{transitionId:r,actionType:s}=t.payload;console.info(`[TransitionReducers] Adding action "${s}" to transition ${r}`);const a=e.stageTransitions.find(o=>o.id===r);if(!a){console.warn(`[TransitionReducers] Transition ${r} not found for adding action`);return}const i={actionType:s,actionProps:d3e(s)};a.actions.push(i),e.dirty=!0,console.debug(`[TransitionReducers] Added action "${s}" to transition ${r}`)},updateTransitionAction:(e,t)=>{const{transitionId:r,actionIndex:s,changes:a}=t.payload;console.debug(`[TransitionReducers] Updating action ${s} in transition ${r}`);const i=e.stageTransitions.find(o=>o.id===r);if(!i){console.warn(`[TransitionReducers] Transition ${r} not found for updating action`);return}if(s<0||s>=i.actions.length){console.warn(`[TransitionReducers] Action index ${s} out of bounds`);return}i.actions[s]={...i.actions[s],...a},e.dirty=!0,console.debug(`[TransitionReducers] Action ${s} updated in transition ${r}`)},removeTransitionAction:(e,t)=>{const{transitionId:r,actionIndex:s}=t.payload;console.info(`[TransitionReducers] Removing action ${s} from transition ${r}`);const a=e.stageTransitions.find(i=>i.id===r);if(!a){console.warn(`[TransitionReducers] Transition ${r} not found for removing action`);return}if(s<0||s>=a.actions.length){console.warn(`[TransitionReducers] Action index ${s} out of bounds`);return}a.actions.splice(s,1),e.dirty=!0,console.debug(`[TransitionReducers] Action ${s} removed from transition ${r}`)},reorderTransitionActions:(e,t)=>{const{transitionId:r,actions:s}=t.payload;console.debug(`[TransitionReducers] Reordering actions in transition ${r}`);const a=e.stageTransitions.find(i=>i.id===r);if(!a){console.warn(`[TransitionReducers] Transition ${r} not found for reordering actions`);return}a.actions=s,e.dirty=!0,console.debug(`[TransitionReducers] Actions reordered in transition ${r}`)}};function d3e(e){switch(e){case"Send Email":return{emailSubject:"Form Notification",emailContent:"You have a new notification.",receiversEmails:[],receiversRoles:[],receiversUsers:[],ccEmails:[],bccEmails:[]};case"Send Notification":return{notificationTitle:"New Notification",notificationBody:"You have a new update.",notificationType:"info",receiversRoles:[],receiversUsers:[]};case"Call Webhook":return{webhookUrl:"",webhookMethod:"POST",webhookHeaders:{},webhookPayload:{},webhookTimeout:30};default:return console.warn(`[TransitionReducers] Unknown action type: ${e}, returning empty props`),{}}}const hH={formVersionId:null,stages:[],stageTransitions:[],dirty:!1,lastSavedAt:null,selectedStageId:null,selectedSectionId:null,selectedFieldId:null,selectedTransitionId:null,saving:!1,saveError:null,validationErrors:{}},rQ=Pt({name:"formVersionBuilder",initialState:hH,reducers:{initializeBuilder:(e,t)=>{console.info("[FormVersionBuilderSlice] Initializing builder for form version",t.payload.formVersionId),e.formVersionId=t.payload.formVersionId,e.stages=t.payload.stages,e.stageTransitions=t.payload.stageTransitions,e.dirty=!1,e.lastSavedAt=null,e.selectedStageId=null,e.selectedSectionId=null,e.selectedFieldId=null,e.selectedTransitionId=null,console.info(`[FormVersionBuilderSlice] Initialized with ${e.stages.length} stages and ${e.stageTransitions.length} transitions`)},resetBuilder:e=>(console.info("[FormVersionBuilderSlice] Resetting builder"),hH),markAsSaved:e=>{console.debug("[FormVersionBuilderSlice] Marking as saved"),e.dirty=!1,e.lastSavedAt=Date.now()},setSelectedStageId:(e,t)=>{const r=t.payload;if(typeof r=="string"){const s=parseInt(r,10);e.selectedStageId=isNaN(s)?r:s}else e.selectedStageId=r;console.debug("[FormVersionBuilderSlice] Selected stage ID set to:",e.selectedStageId)},setSelectedSectionId:(e,t)=>{console.debug("[FormVersionBuilderSlice] Setting selected section:",t.payload),e.selectedSectionId=t.payload},setSelectedFieldId:(e,t)=>{console.debug("[FormVersionBuilderSlice] Setting selected field:",t.payload),e.selectedFieldId=t.payload},...a3e,...l3e,...c3e,setValidationErrors:(e,t)=>{e.validationErrors=t.payload||{}},clearValidationErrors:e=>{e.validationErrors={}}},extraReducers:e=>{e.addCase(UN.pending,t=>{t.saving=!0,t.saveError=null}),e.addCase(UN.fulfilled,t=>{t.saving=!1}),e.addCase(UN.rejected,(t,r)=>{t.saving=!1,t.saveError=r.payload||{message:"Save failed"}})}}),{initializeBuilder:u3e,resetBuilder:f3e,markAsSaved:m3e,setStages:h3e,setStageTransitions:p3e,addStageTransition:g3e,removeStageTransition:x3e,setSelectedStageId:v3e,setSelectedSectionId:y3e,setSelectedFieldId:sQ,addStage:b3e,updateStage:w3e,removeStage:j3e,addSection:nQ,updateSection:aQ,removeSection:iQ,reorderSections:oQ,addField:lQ,updateField:cQ,removeField:dQ,reorderFields:uQ,addTransition:S3e,updateTransition:N3e,removeTransition:C3e,setSelectedTransitionId:_3e,addTransitionAction:E3e,updateTransitionAction:k3e,removeTransitionAction:A3e,reorderTransitionActions:T3e,setValidationErrors:qIt,clearValidationErrors:GIt}=rQ.actions,D3e=rQ.reducer,UN=Me("formVersionBuilder/saveDraft",async(e,{getState:t,rejectWithValue:r,dispatch:s})=>{try{const i=t().formVersionBuilder,o=n3e({stages:i.stages,stageTransitions:i.stageTransitions});console.log("Request:",o),await JJ(e,o),s(m3e())}catch(a){return r(a)}}),P3e=e=>e.formVersionBuilder.formVersionId,R3e=e=>!!e.formVersionBuilder.saving,M3e=e=>e.formVersionBuilder.saveError||null,O3e=(e,t)=>r=>{if(e===null||t===null)return[];const a=r.formVersionBuilder.stages.find(i=>i.id===e)?.sections.find(i=>i.id===t);return a?a.fields:[]},I3e=(e,t,r)=>s=>e===null||t===null||r===null?void 0:s.formVersionBuilder.stages.find(o=>o.id===e)?.sections.find(o=>o.id===t)?.fields.find(o=>o.id===r),F3e=e=>e.formVersionBuilder.selectedFieldId,$3e=e=>{const t=e.formVersionBuilder.selectedStageId,r=e.formVersionBuilder.selectedSectionId,s=e.formVersionBuilder.selectedFieldId;return t===null||r===null||s===null?void 0:e.formVersionBuilder.stages.find(o=>o.id===t)?.sections.find(o=>o.id===r)?.fields.find(o=>o.id===s)},L3e="http://dforms.pnepizza.com/api",B3e=()=>{try{const t=Pr.getState().auth?.token;return t?(console.debug("[FormsStructureService] Using token from Redux state"),t):(console.debug("[FormsStructureService] Token not in Redux, loading from storage"),vr())}catch(e){return console.error("[FormsStructureService] Error retrieving auth token:",e),null}},z3e=()=>{const e=ot.create({baseURL:L3e,headers:{Accept:"application/json","Content-Type":"application/json"},timeout:"5000"});return e.interceptors.request.use(t=>{const r=B3e();return r?(t.headers.Authorization=`Bearer ${r}`,console.debug(`[FormsStructureService] Request: ${t.method?.toUpperCase()} ${t.url}`)):console.warn("[FormsStructureService] No auth token available for request"),t},t=>(console.error("[FormsStructureService] Request interceptor error:",t),Promise.reject(t))),e.interceptors.response.use(t=>(console.debug(`[FormsStructureService] Response: ${t.config.method?.toUpperCase()} ${t.config.url} - Status: ${t.status}`),t),t=>t?.code==="ERR_CANCELED"||t?.name==="CanceledError"||t?.name==="AbortError"?(console.debug("[FormsStructureService] Response cancelled"),Promise.reject(t)):(console.error("[FormsStructureService] Response error:",t),Promise.reject(t))),e},pH=z3e(),gH=e=>{if(ot.isAxiosError(e)){const t=e,r=t.response?.data?.message||t.response?.data?.error||t.message||"An unexpected error occurred";return console.error("[FormsStructureService] Normalized error:",{status:t.response?.status,message:r,url:t.config?.url}),{status:t.response?.status||500,message:r,data:t.response?.data}}return e instanceof Error?(console.error("[FormsStructureService] Non-Axios error:",e.message),{status:500,message:e.message,data:e}):(console.error("[FormsStructureService] Unknown error type:",e),{status:500,message:"An unknown error occurred",data:e})};class fQ{static async getFormStructure(t,r,s){try{if(!t||t<=0)throw new Error("Invalid form_version_id: must be a positive number");if(!r||r<=0)throw new Error("Invalid language_id: must be a positive number");console.debug("[FormsService.getFormStructure] Fetching form structure:",{formVersionId:t,languageId:r});const a=await pH.get("/enduser/forms/structure",{params:{form_version_id:t,language_id:r},signal:s});if(!a.data.success)throw console.error("[FormsService.getFormStructure] API returned success=false:",a.data),{status:a.status,message:"API returned unsuccessful response",data:a.data};return console.debug("[FormsService.getFormStructure] Success:",a.data),a.data.data}catch(a){throw a.name==="AbortError"||a.name==="CanceledError"?(console.debug("[FormsService.getFormStructure] Request was cancelled"),a):(console.error("[FormsService.getFormStructure] Error:",a),gH(a))}}static async getFormEntry(t,r,s){try{if(!t)throw new Error("Invalid publicIdentifier: must be a non-empty string");if(!r||r<=0)throw new Error("Invalid language_id: must be a positive number");console.debug("[FormsService.getFormEntry] Fetching form entry:",{publicIdentifier:t,languageId:r});const a=await pH.get(`/enduser/entries/${t}`,{params:{language_id:r},signal:s});if(!a.data.success)throw console.error("[FormsService.getFormEntry] API returned success=false:",a.data),{status:a.status,message:"API returned unsuccessful response",data:a.data};return console.debug("[FormsService.getFormEntry] Success:",a.data),a.data.data}catch(a){throw a.name==="AbortError"||a.name==="CanceledError"?(console.debug("[FormsService.getFormEntry] Request was cancelled"),a):(console.error("[FormsService.getFormEntry] Error:",a),gH(a))}}}const U3e={data:null,status:"idle",error:null,lastFetchedAt:null,entryData:null,entryStatus:"idle",entryError:null,entryLastFetchedAt:null},HN=Me("formStructure/fetchFormStructure",async({formVersionId:e,languageId:t,signal:r},{rejectWithValue:s})=>{try{console.debug("[formStructureSlice] Fetching form structure:",{formVersionId:e,languageId:t});const a=await fQ.getFormStructure(e,t,r);return console.debug("[formStructureSlice] Form structure fetched successfully"),a}catch(a){if(a.name==="AbortError"||a.name==="CanceledError")return console.debug("[formStructureSlice] Request was cancelled"),s({status:0,message:"Request was cancelled",data:null});console.error("[formStructureSlice] Error fetching form structure:",a);const i={status:a.status||500,message:a.message||"Failed to fetch form structure",data:a.data||null};return s(i)}}),VN=Me("formStructure/fetchFormEntry",async({publicIdentifier:e,languageId:t,signal:r},{rejectWithValue:s})=>{try{console.debug("[formStructureSlice] Fetching form entry:",{publicIdentifier:e,languageId:t});const a=await fQ.getFormEntry(e,t,r);return console.debug("[formStructureSlice] Form entry fetched successfully"),a}catch(a){if(a.name==="AbortError"||a.name==="CanceledError")return console.debug("[formStructureSlice] Request was cancelled"),s({status:0,message:"Request was cancelled",data:null});console.error("[formStructureSlice] Error fetching form entry:",a);const i={status:a.status||500,message:a.message||"Failed to fetch form entry",data:a.data||null};return s(i)}}),mQ=Pt({name:"formStructure",initialState:U3e,reducers:{resetFormStructure:e=>{console.debug("[formStructureSlice] Resetting form structure state"),e.data=null,e.status="idle",e.error=null,e.lastFetchedAt=null},clearFormStructureError:e=>{console.debug("[formStructureSlice] Clearing error state"),e.error=null},resetFormEntry:e=>{console.debug("[formStructureSlice] Resetting form entry state"),e.entryData=null,e.entryStatus="idle",e.entryError=null,e.entryLastFetchedAt=null},clearFormEntryError:e=>{console.debug("[formStructureSlice] Clearing entry error state"),e.entryError=null}},extraReducers:e=>{e.addCase(HN.pending,t=>{console.debug("[formStructureSlice] fetchFormStructure pending"),t.status="loading",t.error=null}).addCase(HN.fulfilled,(t,r)=>{console.debug("[formStructureSlice] fetchFormStructure fulfilled"),t.status="succeeded",t.data=r.payload,t.error=null,t.lastFetchedAt=Date.now()}).addCase(HN.rejected,(t,r)=>{!!(r.payload&&r.payload.status===0)?(console.debug("[formStructureSlice] fetchFormStructure cancelled"),t.status=t.data?"succeeded":"idle",t.error=null):(console.error("[formStructureSlice] fetchFormStructure rejected:",r.payload),t.status="failed",t.error=r.payload||{status:500,message:"An unknown error occurred",data:null})}).addCase(VN.pending,t=>{console.debug("[formStructureSlice] fetchFormEntry pending"),t.entryStatus="loading",t.entryError=null}).addCase(VN.fulfilled,(t,r)=>{console.debug("[formStructureSlice] fetchFormEntry fulfilled"),t.entryStatus="succeeded",t.entryData=r.payload,t.entryError=null,t.entryLastFetchedAt=Date.now()}).addCase(VN.rejected,(t,r)=>{!!(r.payload&&r.payload.status===0)?(console.debug("[formStructureSlice] fetchFormEntry cancelled"),t.entryStatus=t.entryData?"succeeded":"idle",t.entryError=null):(console.error("[formStructureSlice] fetchFormEntry rejected:",r.payload),t.entryStatus="failed",t.entryError=r.payload||{status:500,message:"An unknown error occurred",data:null})})}}),{resetFormStructure:YIt,clearFormStructureError:KIt,resetFormEntry:ZIt,clearFormEntryError:XIt}=mQ.actions,H3e=e=>e.formStructure.data,V3e=e=>e.formStructure.status==="loading",W3e=e=>e.formStructure.status==="failed",q3e=e=>e.formStructure.error,G3e=e=>e.formStructure.lastFetchedAt,Y3e=e=>e.formStructure.entryData,K3e=e=>e.formStructure.entryStatus==="loading",Z3e=e=>e.formStructure.entryStatus==="failed",X3e=e=>e.formStructure.entryError,J3e=e=>e.formStructure.entryLastFetchedAt,Q3e=mQ.reducer;function e5e(e){return e.success===!1}const t5e="http://dforms.pnepizza.com/api",r5e=5e3,rM=()=>{try{const t=Pr.getState().auth?.token;return t||vr()}catch(e){return console.error("Error retrieving auth token:",e),null}},Es={info:(e,...t)=>{},error:(e,...t)=>{},warn:(e,...t)=>{}};function s5e(e){if(ot.isAxiosError(e)){const t=e;if(!t.response)return t.code==="ECONNABORTED"?(Es.error("Request timeout:",t.message),{type:"network",message:"Request timed out. Please check your connection and try again.",originalError:t}):(Es.error("Network error:",t.message),{type:"network",message:t.message||"Network error. Please check your internet connection.",originalError:t});const{status:r,data:s}=t.response;return r===401||r===403?(Es.error("Authentication error:",r,s),{type:"authentication",message:s?.message||"Authentication failed. Please log in again.",statusCode:r}):r===400||r===422?(Es.error("Validation error:",r,s),{type:"validation",message:s?.message||"Validation failed. Please check your input.",statusCode:r,errors:s?.errors}):r>=500?(Es.error("Server error:",r,s),{type:"server",message:s?.message||"Server error. Please try again later.",statusCode:r}):(Es.error("HTTP error:",r,s),{type:"server",message:s?.message||`Request failed with status ${r}`,statusCode:r})}return e instanceof Error?(Es.error("Unexpected error:",e.message),{type:"unknown",message:e.message||"An unexpected error occurred.",originalError:e}):(Es.error("Unknown error type:",e),{type:"unknown",message:"An unexpected error occurred.",originalError:e})}const n5e=()=>{const e=ot.create({baseURL:t5e,timeout:r5e,headers:{"Content-Type":"application/json",Accept:"application/json"}});return e.interceptors.request.use(t=>{Es.info("Outgoing request:",t.method?.toUpperCase(),t.url);const r=rM();return r?(t.headers.Authorization=`Bearer ${r}`,Es.info("Auth token attached to request")):Es.warn("No auth token found - request may fail"),t},t=>(Es.error("Request interceptor error:",t),Promise.reject(t))),e.interceptors.response.use(t=>{Es.info("Response received:",t.status,t.config.url);const r=t.data;if(e5e(r)){Es.error("Business logic error (success: false):",r);const s={type:"business",message:r.message||"Operation failed",error_code:r.error_code,errors:r.errors};return Promise.reject(s)}return t},t=>{t.response?Es.error("Response error:",t.response.status,t.response.config?.url,t.response.data):Es.error("Request failed:",t.message);const r=s5e(t);return Promise.reject(r)}),e},xH=n5e(),hQ={submitInitialStage:async e=>{if(Es.info("Submitting initial stage:",{form_version_id:e.form_version_id,stage_transition_id:e.stage_transition_id,field_count:e.field_values.length}),console.log("Payload:",e),!rM())throw Es.error("Cannot submit form - no auth token available"),{type:"authentication",message:"Authentication required. Please log in to submit the form.",statusCode:401};try{const r=await xH.post("/api/enduser/forms/submit-initial",e);return Es.info("Form submitted successfully:",r.data.data.entry_id),r.data}catch(r){throw Es.error("Submit initial stage failed:",r),r}},submitLaterStage:async e=>{if(Es.info("Submitting later stage:",{public_identifier:e.public_identifier,stage_transition_id:e.stage_transition_id,field_count:e.field_values.length}),console.log("Payload:",e),!rM())throw Es.error("Cannot submit form - no auth token available"),{type:"authentication",message:"Authentication required. Please log in to submit the form.",statusCode:401};try{const r=await xH.post("/api/enduser/entries/submit-later-stage",e);return Es.info("Later stage submitted successfully:",r.data.data.entry_id),r.data}catch(r){throw Es.error("Submit later stage failed:",r),r}}},vH={status:"idle",error:null,lastResponse:null,requestId:void 0,lastRequestTimestamp:void 0,lastResponseTimestamp:void 0},cy=Me("formsSubmission/submitInitialStage",async(e,{rejectWithValue:t})=>{try{return(await hQ.submitInitialStage(e)).data}catch(r){return t(r)}}),dy=Me("formsSubmission/submitLaterStage",async(e,{rejectWithValue:t})=>{try{return(await hQ.submitLaterStage(e)).data}catch(r){return t(r)}}),pQ=Pt({name:"formsSubmission",initialState:vH,reducers:{resetFormsSubmission:()=>vH,clearError:e=>{e.error=null},resetStatus:e=>{e.status="idle"}},extraReducers:e=>{e.addCase(cy.pending,(t,r)=>{t.status="loading",t.error=null,t.requestId=r.meta.requestId,t.lastRequestTimestamp=Date.now()}),e.addCase(cy.fulfilled,(t,r)=>{t.status="succeeded",t.error=null,t.lastResponse=r.payload,t.lastResponseTimestamp=Date.now(),t.requestId=void 0}),e.addCase(cy.rejected,(t,r)=>{t.status="failed",t.lastResponseTimestamp=Date.now(),r.payload?t.error=r.payload:t.error={type:"unknown",message:r.error.message||"An unexpected error occurred",originalError:r.error},t.requestId=void 0}),e.addCase(dy.pending,(t,r)=>{t.status="loading",t.error=null,t.requestId=r.meta.requestId,t.lastRequestTimestamp=Date.now()}),e.addCase(dy.fulfilled,(t,r)=>{t.status="succeeded",t.error=null,t.lastResponse=r.payload,t.lastResponseTimestamp=Date.now(),t.requestId=void 0}),e.addCase(dy.rejected,(t,r)=>{t.status="failed",t.lastResponseTimestamp=Date.now(),r.payload?t.error=r.payload:t.error={type:"unknown",message:r.error.message||"An unexpected error occurred",originalError:r.error},t.requestId=void 0})}}),{resetFormsSubmission:gQ,clearError:xQ,resetStatus:vQ}=pQ.actions,a5e=pQ.reducer,yQ=e=>e.submitInitialForm.status,bQ=e=>e.submitInitialForm.status==="loading",wQ=e=>e.submitInitialForm.error,jQ=e=>e.submitInitialForm.lastResponse,SQ=e=>e.submitInitialForm.status==="succeeded",NQ=e=>e.submitInitialForm.status==="failed",CQ=e=>e.submitInitialForm.lastResponse?.entry_id,_Q=e=>e.submitInitialForm.lastResponse?.public_identifier,EQ=e=>e.submitInitialForm.lastResponse?.is_complete??!1,rx={1:{id:1,code:"en",name:"English",direction:"ltr"},2:{id:2,code:"ar",name:"",direction:"rtl"},3:{id:3,code:"es",name:"Espaol",direction:"ltr"}},PD={fields:{},globalStatus:{isValid:!0,isValidating:!1,isSubmitting:!1,submitCount:0,submissionError:null},defaultValues:{},languageId:1},kQ=Pt({name:"formRuntime",initialState:PD,reducers:{initForm:(e,t)=>{const{fields:r,defaultValues:s={},languageId:a=1}=t.payload;e.fields={},e.defaultValues={},e.languageId=a;const i=e.fields,o=e.defaultValues;r.forEach(c=>{const d=c.field_id,u=s[d.toString()]??c.default_value??null;o[d]=u,i[d]={fieldId:d,value:u,error:null,touched:!1,isValid:!0,metadata:{isVisible:!0,isDisabled:!1,isReadOnly:!1}}}),e.globalStatus={...PD.globalStatus,isValid:!0}},setFieldValue:(e,t)=>{const{fieldId:r,value:s}=t.payload;e.fields[r]&&(e.fields[r].value=s)},setFieldValues:(e,t)=>{Object.entries(t.payload).forEach(([r,s])=>{const a=Number(r);e.fields[a]&&(e.fields[a].value=s)})},setFieldTouched:(e,t)=>{const{fieldId:r,touched:s}=t.payload;e.fields[r]&&(e.fields[r].touched=s)},setFieldError:(e,t)=>{const{fieldId:r,error:s}=t.payload;e.fields[r]&&(e.fields[r].error=s,e.fields[r].isValid=!s)},setFieldErrors:(e,t)=>{Object.entries(t.payload).forEach(([r,s])=>{const a=Number(r);e.fields[a]&&(e.fields[a].error=s,e.fields[a].isValid=!s)})},setFieldMetadata:(e,t)=>{const{fieldId:r,metadata:s}=t.payload;e.fields[r]&&(e.fields[r].metadata={...e.fields[r].metadata,...s})},resetField:(e,t)=>{const r=t.payload,s=e.fields,a=e.defaultValues;s[r]&&(s[r].value=a[r]??null,s[r].error=null,s[r].touched=!1,s[r].isValid=!0)},resetForm:e=>{const t=e.fields,r=e.defaultValues;Object.keys(t).forEach(s=>{const a=Number(s);t[a].value=r[a]??null,t[a].error=null,t[a].touched=!1,t[a].isValid=!0}),e.globalStatus={...PD.globalStatus}},startValidation:e=>{e.globalStatus.isValidating=!0},endValidation:(e,t)=>{e.globalStatus.isValidating=!1,e.globalStatus.isValid=t.payload.isValid},setSubmitting:(e,t)=>{e.globalStatus.isSubmitting=t.payload,t.payload&&(e.globalStatus.submitCount+=1)}}}),{initForm:JIt,setFieldValue:QIt,setFieldValues:e3t,setFieldTouched:t3t,setFieldError:r3t,setFieldErrors:s3t,setFieldMetadata:n3t,resetField:a3t,resetForm:i3t,startValidation:o3t,endValidation:l3t,setSubmitting:c3t}=kQ.actions,ZI=e=>e.formRuntime,XI=we(ZI,e=>e.fields);we(ZI,e=>e.globalStatus);we(XI,e=>{const t={};return Object.values(e).forEach(r=>{t[r.fieldId]=r.value}),t});we([XI,e=>ZI(e).defaultValues],(e,t)=>Object.values(e).some(r=>r.value!==(t[r.fieldId]??null)));we(XI,e=>Object.values(e).filter(t=>t.isValid).length);const i5e=kQ.reducer,Pr=lZ({reducer:{auth:Nje,permissions:Pje,roles:Zje,users:v1e,authRules:U1e,serviceClients:ySe,positions:ONe,stores:_Se,userRolesStoresAssignment:YSe,roleHierarchy:fNe,statuses:KNe,skills:pCe,preferences:OCe,employees:JCe,schedulePreferences:u_e,employmentInformation:k_e,dailySchedules:TTe,weeklySchedules:RTe,dsprApi:FDe,dsprHourlySales:_Pe,dsprDsqr:MPe,dsprDaily:CRe,dsprWeekly:T4e,dsprWeeklyPrev:Y4e,dsprDailyByDate:BMe,fieldTypes:JMe,inputRules:oOe,actions:pOe,fieldTypeFilters:SOe,languages:IOe,forms:zOe,categories:ZOe,translations:wIe,languagesPreferences:MIe,formVersion:VIe,formVersionBuilder:D3e,formStructure:Q3e,submitInitialForm:a5e,formRuntime:i5e,entries:aDe},middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE"]}})});var a0={},yH;function o5e(){if(yH)return a0;yH=1,Object.defineProperty(a0,"__esModule",{value:!0}),a0.parse=o,a0.serialize=u;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,i=(()=>{const m=function(){};return m.prototype=Object.create(null),m})();function o(m,p){const x=new i,b=m.length;if(b<2)return x;const h=p?.decode||l;let y=0;do{const w=m.indexOf("=",y);if(w===-1)break;const S=m.indexOf(";",y),N=S===-1?b:S;if(w>N){y=m.lastIndexOf(";",w-1)+1;continue}const _=c(m,y,w),k=d(m,w,_),E=m.slice(_,k);if(x[E]===void 0){let T=c(m,w+1,N),D=d(m,N,T);const P=h(m.slice(T,D));x[E]=P}y=N+1}while(y<b);return x}function c(m,p,x){do{const b=m.charCodeAt(p);if(b!==32&&b!==9)return p}while(++p<x);return x}function d(m,p,x){for(;p>x;){const b=m.charCodeAt(--p);if(b!==32&&b!==9)return p+1}return x}function u(m,p,x){const b=x?.encode||encodeURIComponent;if(!e.test(m))throw new TypeError(`argument name is invalid: ${m}`);const h=b(p);if(!t.test(h))throw new TypeError(`argument val is invalid: ${p}`);let y=m+"="+h;if(!x)return y;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);y+="; Max-Age="+x.maxAge}if(x.domain){if(!r.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);y+="; Domain="+x.domain}if(x.path){if(!s.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);y+="; Path="+x.path}if(x.expires){if(!f(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);y+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(y+="; HttpOnly"),x.secure&&(y+="; Secure"),x.partitioned&&(y+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":y+="; Priority=Low";break;case"medium":y+="; Priority=Medium";break;case"high":y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":y+="; SameSite=Strict";break;case"lax":y+="; SameSite=Lax";break;case"none":y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return y}function l(m){if(m.indexOf("%")===-1)return m;try{return decodeURIComponent(m)}catch{return m}}function f(m){return a.call(m)==="[object Date]"}return a0}o5e();var bH="popstate";function l5e(e={}){function t(s,a){let{pathname:i,search:o,hash:c}=s.location;return sM("",{pathname:i,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:Sy(a)}return d5e(t,r,null,e)}function Rs(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function c5e(){return Math.random().toString(36).substring(2,10)}function wH(e,t){return{usr:e.state,key:e.key,idx:t}}function sM(e,t,r=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?sx(t):t,state:r,key:t&&t.key||s||c5e()}}function Sy({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function sx(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function d5e(e,t,r,s={}){let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,c="POP",d=null,u=l();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function l(){return(o.state||{idx:null}).idx}function f(){c="POP";let h=l(),y=h==null?null:h-u;u=h,d&&d({action:c,location:b.location,delta:y})}function m(h,y){c="PUSH";let w=sM(b.location,h,y);u=l()+1;let S=wH(w,u),N=b.createHref(w);try{o.pushState(S,"",N)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(N)}i&&d&&d({action:c,location:b.location,delta:1})}function p(h,y){c="REPLACE";let w=sM(b.location,h,y);u=l();let S=wH(w,u),N=b.createHref(w);o.replaceState(S,"",N),i&&d&&d({action:c,location:b.location,delta:0})}function x(h){return u5e(h)}let b={get action(){return c},get location(){return e(a,o)},listen(h){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(bH,f),d=h,()=>{a.removeEventListener(bH,f),d=null}},createHref(h){return t(a,h)},createURL:x,encodeLocation(h){let y=x(h);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:p,go(h){return o.go(h)}};return b}function u5e(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Rs(r,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Sy(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function AQ(e,t,r="/"){return f5e(e,t,r,!1)}function f5e(e,t,r,s){let a=typeof t=="string"?sx(t):t,i=Uc(a.pathname||"/",r);if(i==null)return null;let o=TQ(e);m5e(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let u=N5e(i);c=j5e(o[d],u,s)}return c}function TQ(e,t=[],r=[],s=""){let a=(i,o,c)=>{let d={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};d.relativePath.startsWith("/")&&(Rs(d.relativePath.startsWith(s),`Absolute route path "${d.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(s.length));let u=$c([s,d.relativePath]),l=r.concat(d);i.children&&i.children.length>0&&(Rs(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),TQ(i.children,t,l,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:b5e(u,i.index),routesMeta:l})};return e.forEach((i,o)=>{if(i.path===""||!i.path?.includes("?"))a(i,o);else for(let c of DQ(i.path))a(i,o,c)}),t}function DQ(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=DQ(s.join("/")),c=[];return c.push(...o.map(d=>d===""?i:[i,d].join("/"))),a&&c.push(...o),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function m5e(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:w5e(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var h5e=/^:[\w-]+$/,p5e=3,g5e=2,x5e=1,v5e=10,y5e=-2,jH=e=>e==="*";function b5e(e,t){let r=e.split("/"),s=r.length;return r.some(jH)&&(s+=y5e),t&&(s+=g5e),r.filter(a=>!jH(a)).reduce((a,i)=>a+(h5e.test(i)?p5e:i===""?x5e:v5e),s)}function w5e(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function j5e(e,t,r=!1){let{routesMeta:s}=e,a={},i="/",o=[];for(let c=0;c<s.length;++c){let d=s[c],u=c===s.length-1,l=i==="/"?t:t.slice(i.length)||"/",f=EC({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},l),m=d.route;if(!f&&u&&r&&!s[s.length-1].route.index&&(f=EC({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},l)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:$c([i,f.pathname]),pathnameBase:k5e($c([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=$c([i,f.pathnameBase]))}return o}function EC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=S5e(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:s.reduce((u,{paramName:l,isOptional:f},m)=>{if(l==="*"){let x=c[m]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const p=c[m];return f&&!p?u[l]=void 0:u[l]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function S5e(e,t=!1,r=!0){yo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(s.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function N5e(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return yo(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Uc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function C5e(e,t="/"){let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?sx(e):e;return{pathname:r?r.startsWith("/")?r:_5e(r,t):t,search:A5e(s),hash:T5e(a)}}function _5e(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function RD(e,t,r,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function E5e(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function JI(e){let t=E5e(e);return t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase)}function QI(e,t,r,s=!1){let a;typeof e=="string"?a=sx(e):(a={...e},Rs(!a.pathname||!a.pathname.includes("?"),RD("?","pathname","search",a)),Rs(!a.pathname||!a.pathname.includes("#"),RD("#","pathname","hash",a)),Rs(!a.search||!a.search.includes("#"),RD("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,c;if(o==null)c=r;else{let f=t.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}c=f>=0?t[f]:"/"}let d=C5e(a,c),u=o&&o!=="/"&&o.endsWith("/"),l=(i||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(u||l)&&(d.pathname+="/"),d}var $c=e=>e.join("/").replace(/\/\/+/g,"/"),k5e=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),A5e=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,T5e=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function D5e(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var PQ=["POST","PUT","PATCH","DELETE"];new Set(PQ);var P5e=["GET",...PQ];new Set(P5e);var nx=v.createContext(null);nx.displayName="DataRouter";var wE=v.createContext(null);wE.displayName="DataRouterState";var RQ=v.createContext({isTransitioning:!1});RQ.displayName="ViewTransition";var R5e=v.createContext(new Map);R5e.displayName="Fetchers";var M5e=v.createContext(null);M5e.displayName="Await";var tl=v.createContext(null);tl.displayName="Navigation";var jb=v.createContext(null);jb.displayName="Location";var rl=v.createContext({outlet:null,matches:[],isDataRoute:!1});rl.displayName="Route";var e3=v.createContext(null);e3.displayName="RouteError";function O5e(e,{relative:t}={}){Rs(ax(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=v.useContext(tl),{hash:a,pathname:i,search:o}=Sb(e,{relative:t}),c=i;return r!=="/"&&(c=i==="/"?r:$c([r,i])),s.createHref({pathname:c,search:o,hash:a})}function ax(){return v.useContext(jb)!=null}function la(){return Rs(ax(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(jb).location}var MQ="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OQ(e){v.useContext(tl).static||v.useLayoutEffect(e)}function Vt(){let{isDataRoute:e}=v.useContext(rl);return e?Y5e():I5e()}function I5e(){Rs(ax(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(nx),{basename:t,navigator:r}=v.useContext(tl),{matches:s}=v.useContext(rl),{pathname:a}=la(),i=JSON.stringify(JI(s)),o=v.useRef(!1);return OQ(()=>{o.current=!0}),v.useCallback((d,u={})=>{if(yo(o.current,MQ),!o.current)return;if(typeof d=="number"){r.go(d);return}let l=QI(d,JSON.parse(i),a,u.relative==="path");e==null&&t!=="/"&&(l.pathname=l.pathname==="/"?t:$c([t,l.pathname])),(u.replace?r.replace:r.push)(l,u.state,u)},[t,r,i,a,e])}v.createContext(null);function Sn(){let{matches:e}=v.useContext(rl),t=e[e.length-1];return t?t.params:{}}function Sb(e,{relative:t}={}){let{matches:r}=v.useContext(rl),{pathname:s}=la(),a=JSON.stringify(JI(r));return v.useMemo(()=>QI(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function F5e(e,t){return IQ(e,t)}function IQ(e,t,r,s){Rs(ax(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=v.useContext(tl),{matches:i}=v.useContext(rl),o=i[i.length-1],c=o?o.params:{},d=o?o.pathname:"/",u=o?o.pathnameBase:"/",l=o&&o.route;{let y=l&&l.path||"";FQ(d,!l||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let f=la(),m;if(t){let y=typeof t=="string"?sx(t):t;Rs(u==="/"||y.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${y.pathname}" was given in the \`location\` prop.`),m=y}else m=f;let p=m.pathname||"/",x=p;if(u!=="/"){let y=u.replace(/^\//,"").split("/");x="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let b=AQ(e,{pathname:x});yo(l||b!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),yo(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let h=U5e(b&&b.map(y=>Object.assign({},y,{params:Object.assign({},c,y.params),pathname:$c([u,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:$c([u,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,s);return t&&h?v.createElement(jb.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},h):h}function $5e(){let e=G5e(),t=D5e(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:i},"ErrorBoundary")," or"," ",v.createElement("code",{style:i},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:a},r):null,o)}var L5e=v.createElement($5e,null),B5e=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?v.createElement(rl.Provider,{value:this.props.routeContext},v.createElement(e3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function z5e({routeContext:e,match:t,children:r}){let s=v.useContext(nx);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(rl.Provider,{value:e},r)}function U5e(e,t=[],r=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,i=r?.errors;if(i!=null){let d=a.findIndex(u=>u.route.id&&i?.[u.route.id]!==void 0);Rs(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let o=!1,c=-1;if(r)for(let d=0;d<a.length;d++){let u=a[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=d),u.route.id){let{loaderData:l,errors:f}=r,m=u.route.loader&&!l.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||m){o=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,u,l)=>{let f,m=!1,p=null,x=null;r&&(f=i&&u.route.id?i[u.route.id]:void 0,p=u.route.errorElement||L5e,o&&(c<0&&l===0?(FQ("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,x=null):c===l&&(m=!0,x=u.route.hydrateFallbackElement||null)));let b=t.concat(a.slice(0,l+1)),h=()=>{let y;return f?y=p:m?y=x:u.route.Component?y=v.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=d,v.createElement(z5e,{match:u,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:y})};return r&&(u.route.ErrorBoundary||u.route.errorElement||l===0)?v.createElement(B5e,{location:r.location,revalidation:r.revalidation,component:p,error:f,children:h(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):h()},null)}function t3(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H5e(e){let t=v.useContext(nx);return Rs(t,t3(e)),t}function V5e(e){let t=v.useContext(wE);return Rs(t,t3(e)),t}function W5e(e){let t=v.useContext(rl);return Rs(t,t3(e)),t}function r3(e){let t=W5e(e),r=t.matches[t.matches.length-1];return Rs(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function q5e(){return r3("useRouteId")}function G5e(){let e=v.useContext(e3),t=V5e("useRouteError"),r=r3("useRouteError");return e!==void 0?e:t.errors?.[r]}function Y5e(){let{router:e}=H5e("useNavigate"),t=r3("useNavigate"),r=v.useRef(!1);return OQ(()=>{r.current=!0}),v.useCallback(async(a,i={})=>{yo(r.current,MQ),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var SH={};function FQ(e,t,r){!t&&!SH[e]&&(SH[e]=!0,yo(!1,r))}v.memo(K5e);function K5e({routes:e,future:t,state:r}){return IQ(e,void 0,r,t)}function kC({to:e,replace:t,state:r,relative:s}){Rs(ax(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=v.useContext(tl);yo(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=v.useContext(rl),{pathname:o}=la(),c=Vt(),d=QI(e,JI(i),o,s==="path"),u=JSON.stringify(d);return v.useEffect(()=>{c(JSON.parse(u),{replace:t,state:r,relative:s})},[c,u,s,t,r]),null}function At(e){Rs(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Z5e({basename:e="/",children:t=null,location:r,navigationType:s="POP",navigator:a,static:i=!1}){Rs(!ax(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof r=="string"&&(r=sx(r));let{pathname:d="/",search:u="",hash:l="",state:f=null,key:m="default"}=r,p=v.useMemo(()=>{let x=Uc(d,o);return x==null?null:{location:{pathname:x,search:u,hash:l,state:f,key:m},navigationType:s}},[o,d,u,l,f,m,s]);return yo(p!=null,`<Router basename="${o}"> is not able to match the URL "${d}${u}${l}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:v.createElement(tl.Provider,{value:c},v.createElement(jb.Provider,{children:t,value:p}))}function X5e({children:e,location:t}){return F5e(nM(e),t)}function nM(e,t=[]){let r=[];return v.Children.forEach(e,(s,a)=>{if(!v.isValidElement(s))return;let i=[...t,a];if(s.type===v.Fragment){r.push.apply(r,nM(s.props.children,i));return}Rs(s.type===At,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rs(!s.props.index||!s.props.children,"An index route cannot have child routes.");let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=nM(s.props.children,i)),r.push(o)}),r}var WN="get",qN="application/x-www-form-urlencoded";function jE(e){return e!=null&&typeof e.tagName=="string"}function J5e(e){return jE(e)&&e.tagName.toLowerCase()==="button"}function Q5e(e){return jE(e)&&e.tagName.toLowerCase()==="form"}function e6e(e){return jE(e)&&e.tagName.toLowerCase()==="input"}function t6e(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function r6e(e,t){return e.button===0&&(!t||t==="_self")&&!t6e(e)}function aM(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let s=e[r];return t.concat(Array.isArray(s)?s.map(a=>[r,a]):[[r,s]])},[]))}function s6e(e,t){let r=aM(e);return t&&t.forEach((s,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var n1=null;function n6e(){if(n1===null)try{new FormData(document.createElement("form"),0),n1=!1}catch{n1=!0}return n1}var a6e=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function MD(e){return e!=null&&!a6e.has(e)?(yo(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qN}"`),null):e}function i6e(e,t){let r,s,a,i,o;if(Q5e(e)){let c=e.getAttribute("action");s=c?Uc(c,t):null,r=e.getAttribute("method")||WN,a=MD(e.getAttribute("enctype"))||qN,i=new FormData(e)}else if(J5e(e)||e6e(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||c.getAttribute("action");if(s=d?Uc(d,t):null,r=e.getAttribute("formmethod")||c.getAttribute("method")||WN,a=MD(e.getAttribute("formenctype"))||MD(c.getAttribute("enctype"))||qN,i=new FormData(c,e),!n6e()){let{name:u,type:l,value:f}=e;if(l==="image"){let m=u?`${u}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else u&&i.append(u,f)}}else{if(jE(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=WN,s=null,a=qN,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:s,method:r.toLowerCase(),encType:a,formData:i,body:o}}function s3(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function o6e(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function l6e(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function c6e(e,t,r){let s=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await o6e(i,r);return o.links?o.links():[]}return[]}));return m6e(s.flat(1).filter(l6e).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function NH(e,t,r,s,a,i){let o=(d,u)=>r[u]?d.route.id!==r[u].route.id:!0,c=(d,u)=>r[u].pathname!==d.pathname||r[u].route.path?.endsWith("*")&&r[u].params["*"]!==d.params["*"];return i==="assets"?t.filter((d,u)=>o(d,u)||c(d,u)):i==="data"?t.filter((d,u)=>{let l=s.routes[d.route.id];if(!l||!l.hasLoader)return!1;if(o(d,u)||c(d,u))return!0;if(d.route.shouldRevalidate){let f=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function d6e(e,t,{includeHydrateFallback:r}={}){return u6e(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function u6e(e){return[...new Set(e)]}function f6e(e){let t={},r=Object.keys(e).sort();for(let s of r)t[s]=e[s];return t}function m6e(e,t){let r=new Set;return new Set(t),e.reduce((s,a)=>{let i=JSON.stringify(f6e(a));return r.has(i)||(r.add(i),s.push({key:i,link:a})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var h6e=new Set([100,101,204,205]);function p6e(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&Uc(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function $Q(){let e=v.useContext(nx);return s3(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function g6e(){let e=v.useContext(wE);return s3(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var n3=v.createContext(void 0);n3.displayName="FrameworkContext";function LQ(){let e=v.useContext(n3);return s3(e,"You must render this element inside a <HydratedRouter> element"),e}function x6e(e,t){let r=v.useContext(n3),[s,a]=v.useState(!1),[i,o]=v.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:u,onMouseLeave:l,onTouchStart:f}=t,m=v.useRef(null);v.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let b=y=>{y.forEach(w=>{o(w.isIntersecting)})},h=new IntersectionObserver(b,{threshold:.5});return m.current&&h.observe(m.current),()=>{h.disconnect()}}},[e]),v.useEffect(()=>{if(s){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[s]);let p=()=>{a(!0)},x=()=>{a(!1),o(!1)};return r?e!=="intent"?[i,m,{}]:[i,m,{onFocus:i0(c,p),onBlur:i0(d,x),onMouseEnter:i0(u,p),onMouseLeave:i0(l,x),onTouchStart:i0(f,p)}]:[!1,m,{}]}function i0(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function v6e({page:e,...t}){let{router:r}=$Q(),s=v.useMemo(()=>AQ(r.routes,e,r.basename),[r.routes,e,r.basename]);return s?v.createElement(b6e,{page:e,matches:s,...t}):null}function y6e(e){let{manifest:t,routeModules:r}=LQ(),[s,a]=v.useState([]);return v.useEffect(()=>{let i=!1;return c6e(e,t,r).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,r]),s}function b6e({page:e,matches:t,...r}){let s=la(),{manifest:a,routeModules:i}=LQ(),{basename:o}=$Q(),{loaderData:c,matches:d}=g6e(),u=v.useMemo(()=>NH(e,t,d,a,s,"data"),[e,t,d,a,s]),l=v.useMemo(()=>NH(e,t,d,a,s,"assets"),[e,t,d,a,s]),f=v.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let x=new Set,b=!1;if(t.forEach(y=>{let w=a.routes[y.route.id];!w||!w.hasLoader||(!u.some(S=>S.route.id===y.route.id)&&y.route.id in c&&i[y.route.id]?.shouldRevalidate||w.hasClientLoader?b=!0:x.add(y.route.id))}),x.size===0)return[];let h=p6e(e,o);return b&&x.size>0&&h.searchParams.set("_routes",t.filter(y=>x.has(y.route.id)).map(y=>y.route.id).join(",")),[h.pathname+h.search]},[o,c,s,a,u,t,e,i]),m=v.useMemo(()=>d6e(l,a),[l,a]),p=y6e(l);return v.createElement(v.Fragment,null,f.map(x=>v.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...r})),m.map(x=>v.createElement("link",{key:x,rel:"modulepreload",href:x,...r})),p.map(({key:x,link:b})=>v.createElement("link",{key:x,...b})))}function w6e(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var BQ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BQ&&(window.__reactRouterVersion="7.6.3")}catch{}function j6e({basename:e,children:t,window:r}){let s=v.useRef();s.current==null&&(s.current=l5e({window:r,v5Compat:!0}));let a=s.current,[i,o]=v.useState({action:a.action,location:a.location}),c=v.useCallback(d=>{v.startTransition(()=>o(d))},[o]);return v.useLayoutEffect(()=>a.listen(c),[a,c]),v.createElement(Z5e,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var zQ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hc=v.forwardRef(function({onClick:t,discover:r="render",prefetch:s="none",relative:a,reloadDocument:i,replace:o,state:c,target:d,to:u,preventScrollReset:l,viewTransition:f,...m},p){let{basename:x}=v.useContext(tl),b=typeof u=="string"&&zQ.test(u),h,y=!1;if(typeof u=="string"&&b&&(h=u,BQ))try{let D=new URL(window.location.href),P=u.startsWith("//")?new URL(D.protocol+u):new URL(u),M=Uc(P.pathname,x);P.origin===D.origin&&M!=null?u=M+P.search+P.hash:y=!0}catch{yo(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=O5e(u,{relative:a}),[S,N,_]=x6e(s,m),k=_6e(u,{replace:o,state:c,target:d,preventScrollReset:l,relative:a,viewTransition:f});function E(D){t&&t(D),D.defaultPrevented||k(D)}let T=v.createElement("a",{...m,..._,href:h||w,onClick:y||i?t:E,ref:w6e(p,N),target:d,"data-discover":!b&&r==="render"?"true":void 0});return S&&!b?v.createElement(v.Fragment,null,T,v.createElement(v6e,{page:w})):T});Hc.displayName="Link";var S6e=v.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:s="",end:a=!1,style:i,to:o,viewTransition:c,children:d,...u},l){let f=Sb(o,{relative:u.relative}),m=la(),p=v.useContext(wE),{navigator:x,basename:b}=v.useContext(tl),h=p!=null&&D6e(f)&&c===!0,y=x.encodeLocation?x.encodeLocation(f).pathname:f.pathname,w=m.pathname,S=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(w=w.toLowerCase(),S=S?S.toLowerCase():null,y=y.toLowerCase()),S&&b&&(S=Uc(S,b)||S);const N=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let _=w===y||!a&&w.startsWith(y)&&w.charAt(N)==="/",k=S!=null&&(S===y||!a&&S.startsWith(y)&&S.charAt(y.length)==="/"),E={isActive:_,isPending:k,isTransitioning:h},T=_?t:void 0,D;typeof s=="function"?D=s(E):D=[s,_?"active":null,k?"pending":null,h?"transitioning":null].filter(Boolean).join(" ");let P=typeof i=="function"?i(E):i;return v.createElement(Hc,{...u,"aria-current":T,className:D,ref:l,style:P,to:o,viewTransition:c},typeof d=="function"?d(E):d)});S6e.displayName="NavLink";var N6e=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:s,replace:a,state:i,method:o=WN,action:c,onSubmit:d,relative:u,preventScrollReset:l,viewTransition:f,...m},p)=>{let x=A6e(),b=T6e(c,{relative:u}),h=o.toLowerCase()==="get"?"get":"post",y=typeof c=="string"&&zQ.test(c),w=S=>{if(d&&d(S),S.defaultPrevented)return;S.preventDefault();let N=S.nativeEvent.submitter,_=N?.getAttribute("formmethod")||o;x(N||S.currentTarget,{fetcherKey:t,method:_,navigate:r,replace:a,state:i,relative:u,preventScrollReset:l,viewTransition:f})};return v.createElement("form",{ref:p,method:h,action:b,onSubmit:s?d:w,...m,"data-discover":!y&&e==="render"?"true":void 0})});N6e.displayName="Form";function C6e(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UQ(e){let t=v.useContext(nx);return Rs(t,C6e(e)),t}function _6e(e,{target:t,replace:r,state:s,preventScrollReset:a,relative:i,viewTransition:o}={}){let c=Vt(),d=la(),u=Sb(e,{relative:i});return v.useCallback(l=>{if(r6e(l,t)){l.preventDefault();let f=r!==void 0?r:Sy(d)===Sy(u);c(e,{replace:f,state:s,preventScrollReset:a,relative:i,viewTransition:o})}},[d,c,u,r,s,t,e,a,i,o])}function HQ(e){yo(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=v.useRef(aM(e)),r=v.useRef(!1),s=la(),a=v.useMemo(()=>s6e(s.search,r.current?null:t.current),[s.search]),i=Vt(),o=v.useCallback((c,d)=>{const u=aM(typeof c=="function"?c(a):c);r.current=!0,i("?"+u,d)},[i,a]);return[a,o]}var E6e=0,k6e=()=>`__${String(++E6e)}__`;function A6e(){let{router:e}=UQ("useSubmit"),{basename:t}=v.useContext(tl),r=q5e();return v.useCallback(async(s,a={})=>{let{action:i,method:o,encType:c,formData:d,body:u}=i6e(s,t);if(a.navigate===!1){let l=a.fetcherKey||k6e();await e.fetch(l,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:d,body:u,formMethod:a.method||o,formEncType:a.encType||c,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:d,body:u,formMethod:a.method||o,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function T6e(e,{relative:t}={}){let{basename:r}=v.useContext(tl),s=v.useContext(rl);Rs(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),i={...Sb(e||".",{relative:t})},o=la();if(e==null){i.search=o.search;let c=new URLSearchParams(i.search),d=c.getAll("index");if(d.some(l=>l==="")){c.delete("index"),d.filter(f=>f).forEach(f=>c.append("index",f));let l=c.toString();i.search=l?`?${l}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:$c([r,i.pathname])),Sy(i)}function D6e(e,t={}){let r=v.useContext(RQ);Rs(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=UQ("useViewTransitionState"),a=Sb(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Uc(r.currentLocation.pathname,s)||r.currentLocation.pathname,o=Uc(r.nextLocation.pathname,s)||r.nextLocation.pathname;return EC(a.pathname,o)!=null||EC(a.pathname,i)!=null}[...h6e];var Fu=uI();const VQ=Vi(Fu),P6e={theme:"system",setTheme:()=>null},WQ=v.createContext(P6e);function R6e({children:e,defaultTheme:t="system",storageKey:r="vite-ui-theme",...s}){const[a,i]=v.useState(()=>localStorage.getItem(r)||t);v.useEffect(()=>{const c=window.document.documentElement;if(c.classList.remove("light","dark"),a==="system"){const d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";c.classList.add(d);return}c.classList.add(a)},[a]);const o={theme:a,setTheme:c=>{localStorage.setItem(r,c),i(c)}};return n.jsx(WQ.Provider,{...s,value:o,children:e})}const $u=()=>{const e=v.useContext(WQ);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},ql=()=>ct(),Ce=se,Gl=()=>{const e=ql(),{user:t,token:r,permissions:s,roles:a,isLoading:i,error:o,isAuthenticated:c,isInitialized:d}=Ce(P=>P.auth),u=v.useCallback(P=>e(ES(P)),[e]),l=v.useCallback(P=>e(kS(P)),[e]),f=v.useCallback(P=>e(AS(P)),[e]),m=v.useCallback(()=>e(TS()),[e]),p=v.useCallback(()=>e(Yp()),[e]),x=v.useCallback(()=>e(jje()),[e]),b=v.useCallback(()=>e(Sje()),[e]),h=v.useCallback(P=>!s||s.length===0?!1:s.includes(P),[s]),y=v.useCallback(P=>!s||s.length===0||!P.length?!1:P.some(M=>s.includes(M)),[s]),w=v.useCallback(P=>!s||s.length===0||!P.length?!1:P.every(M=>s.includes(M)),[s]),S=v.useCallback(P=>!a||a.length===0?!1:a.includes(P),[a]),N=v.useCallback(P=>!a||a.length===0||!P.length?!1:P.some(M=>a.includes(M)),[a]),_=v.useCallback(P=>!a||a.length===0||!P.length?!1:P.every(M=>a.includes(M)),[a]),k=v.useCallback((P,M)=>{let R=!0,B=!0;return P&&P.length>0&&(R=y(P)),M&&M.length>0&&(B=N(M)),R&&B},[y,N]),E=v.useCallback(()=>S("super-admin"),[S]),T=v.useCallback(()=>t?.name||t?.email||"Unknown User",[t]),D=v.useCallback(()=>!!t?.email_verified_at,[t]);return{user:t,token:r,permissions:s,roles:a,isLoading:i,error:o,isAuthenticated:c,isInitialized:d,login:u,forgotPassword:l,resetPassword:f,getUserProfile:m,logout:p,initializeAuth:x,clearError:b,hasPermission:h,hasAnyPermission:y,hasAllPermissions:w,hasRole:S,hasAnyRole:N,hasAllRoles:_,canAccess:k,isSuperAdmin:E,getUserDisplayName:T,isEmailVerified:D}},M6e=()=>n.jsx("div",{className:"fixed inset-0 bg-background flex items-center justify-center z-50",children:n.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),n.jsx("div",{className:"text-lg font-medium text-foreground",children:"Initializing application..."}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Please wait while we set up your session"})]})}),O6e=({children:e,fallback:t=n.jsx(M6e,{})})=>{const{isInitialized:r,isAuthenticated:s,user:a,isLoading:i,initializeAuth:o,getUserProfile:c}=Gl(),d=v.useRef(!1);return v.useEffect(()=>{r||o()},[r,o]),v.useEffect(()=>{r&&s&&a&&a.id===0&&!d.current&&!i&&(d.current=!0,c())},[r,s,a,i,c]),v.useEffect(()=>{s||(d.current=!1)},[s]),!r||s&&a?.id===0?n.jsx(n.Fragment,{children:t}):n.jsx(n.Fragment,{children:e})},I6e="/assets/image-B6cuXDiM.svg",F6e=()=>{const{theme:e}=$u(),[t,r]=v.useState(0),s=e==="dark"||e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;return v.useEffect(()=>{let a=0;const i=setInterval(()=>{a+=.02,a>=1&&(a=1,clearInterval(i)),r(a)},50);return()=>clearInterval(i)},[]),n.jsxs(n.Fragment,{children:[n.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          20%, 60% { transform: translateX(-4px); }
          40%, 80% { transform: translateX(4px); }
        }
        .shake {
          animation: shake 0.5s ease-in-out infinite;
        }
      `}),n.jsx("div",{className:`fixed inset-0 flex items-center justify-center z-50 ${s?"bg-gradient-to-br from-gray-900 to-gray-700":"bg-gradient-to-br from-background to-muted"}`,children:n.jsx("div",{className:`rounded-lg p-8 max-w-md w-full mx-4 ${s?"bg-gray-800 text-white shadow-xl":"bg-card text-card-foreground shadow-xl"}`,style:{boxShadow:s?"0 10px 15px rgba(0,0,0,0.75)":"var(--shadow-xl)"},children:n.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[n.jsx("img",{src:I6e,alt:"PNE Empowering Logo",className:"shake",style:{transition:"clip-path 0.3s linear",width:"220px",height:"110px",objectFit:"contain",filter:s?"brightness(0) invert(1)":"none",clipPath:`inset(${100-t*100}% 0 0 0)`}}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-4 ${s?"border-gray-600":"border-border"}`}),n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 absolute top-0 left-0 border-t-transparent border-primary"})]}),n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("h2",{className:s?"text-white":"text-card-foreground",children:"Empowering a Brighter Future"}),n.jsx("p",{className:s?"text-gray-300":"text-muted-foreground",children:"Please wait while we power things up..."})]}),n.jsx("div",{className:"w-full rounded-full h-2 bg-muted",children:n.jsx("div",{className:"h-2 rounded-full bg-primary transition-all duration-300",style:{width:`${Math.round(t*100)}%`}})})]})})})]})};function $6e(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const L6e=e=>{switch(e){case"success":return U6e;case"info":return V6e;case"warning":return H6e;case"error":return W6e;default:return null}},B6e=Array(12).fill(0),z6e=({visible:e,className:t})=>te.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},te.createElement("div",{className:"sonner-spinner"},B6e.map((r,s)=>te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),U6e=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),H6e=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),V6e=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),W6e=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),q6e=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),G6e=()=>{const[e,t]=te.useState(document.hidden);return te.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let iM=1;class Y6e{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:s,...a}=t,i=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:iM++,o=this.toasts.find(d=>d.id===i),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...t,id:i,title:s}),{...d,...t,id:i,dismissible:c,title:s}):d):this.addToast({title:s,...a,dismissible:c,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(s=>s({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let s;r.loading!==void 0&&(s=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let i=s!==void 0,o;const c=a.then(async u=>{if(o=["resolve",u],te.isValidElement(u))i=!1,this.create({id:s,type:"default",message:u});else if(Z6e(u)&&!u.ok){i=!1;const f=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,m=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,x=typeof f=="object"&&!te.isValidElement(f)?f:{message:f};this.create({id:s,type:"error",description:m,...x})}else if(u instanceof Error){i=!1;const f=typeof r.error=="function"?await r.error(u):r.error,m=typeof r.description=="function"?await r.description(u):r.description,x=typeof f=="object"&&!te.isValidElement(f)?f:{message:f};this.create({id:s,type:"error",description:m,...x})}else if(r.success!==void 0){i=!1;const f=typeof r.success=="function"?await r.success(u):r.success,m=typeof r.description=="function"?await r.description(u):r.description,x=typeof f=="object"&&!te.isValidElement(f)?f:{message:f};this.create({id:s,type:"success",description:m,...x})}}).catch(async u=>{if(o=["reject",u],r.error!==void 0){i=!1;const l=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description,p=typeof l=="object"&&!te.isValidElement(l)?l:{message:l};this.create({id:s,type:"error",description:f,...p})}}).finally(()=>{i&&(this.dismiss(s),s=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((u,l)=>c.then(()=>o[0]==="reject"?l(o[1]):u(o[1])).catch(l));return typeof s!="string"&&typeof s!="number"?{unwrap:d}:Object.assign(s,{unwrap:d})},this.custom=(t,r)=>{const s=r?.id||iM++;return this.create({jsx:t(s),id:s,...r}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ua=new Y6e,K6e=(e,t)=>{const r=t?.id||iM++;return Ua.addToast({title:e,...t,id:r}),r},Z6e=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",X6e=K6e,J6e=()=>Ua.toasts,Q6e=()=>Ua.getActiveToasts(),We=Object.assign(X6e,{success:Ua.success,info:Ua.info,warning:Ua.warning,error:Ua.error,custom:Ua.custom,message:Ua.message,promise:Ua.promise,dismiss:Ua.dismiss,loading:Ua.loading},{getHistory:J6e,getToasts:Q6e});$6e("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function a1(e){return e.label!==void 0}const eFe=3,tFe="24px",rFe="16px",CH=4e3,sFe=356,nFe=14,aFe=45,iFe=200;function bl(...e){return e.filter(Boolean).join(" ")}function oFe(e){const[t,r]=e.split("-"),s=[];return t&&s.push(t),r&&s.push(r),s}const lFe=e=>{var t,r,s,a,i,o,c,d,u;const{invert:l,toast:f,unstyled:m,interacting:p,setHeights:x,visibleToasts:b,heights:h,index:y,toasts:w,expanded:S,removeToast:N,defaultRichColors:_,closeButton:k,style:E,cancelButtonStyle:T,actionButtonStyle:D,className:P="",descriptionClassName:M="",duration:R,position:B,gap:L,expandByDefault:$,classNames:I,icons:z,closeButtonAriaLabel:H="Close toast"}=e,[Z,V]=te.useState(null),[G,U]=te.useState(null),[Y,K]=te.useState(!1),[re,he]=te.useState(!1),[me,de]=te.useState(!1),[ie,ve]=te.useState(!1),[_e,xe]=te.useState(!1),[Le,Ie]=te.useState(0),[fe,Ze]=te.useState(0),it=te.useRef(f.duration||R||CH),ge=te.useRef(null),He=te.useRef(null),ee=y===0,le=y+1<=b,ce=f.type,Ke=f.dismissible!==!1,Xe=f.className||"",ye=f.descriptionClassName||"",Qe=te.useMemo(()=>h.findIndex(zt=>zt.toastId===f.id)||0,[h,f.id]),yt=te.useMemo(()=>{var zt;return(zt=f.closeButton)!=null?zt:k},[f.closeButton,k]),Bt=te.useMemo(()=>f.duration||R||CH,[f.duration,R]),lr=te.useRef(0),Ln=te.useRef(0),qs=te.useRef(0),Bn=te.useRef(null),[Ia,wa]=B.split("-"),ea=te.useMemo(()=>h.reduce((zt,fs,ms)=>ms>=Qe?zt:zt+fs.height,0),[h,Qe]),ja=G6e(),ni=f.invert||l,It=ce==="loading";Ln.current=te.useMemo(()=>Qe*L+ea,[Qe,ea]),te.useEffect(()=>{it.current=Bt},[Bt]),te.useEffect(()=>{K(!0)},[]),te.useEffect(()=>{const zt=He.current;if(zt){const fs=zt.getBoundingClientRect().height;return Ze(fs),x(ms=>[{toastId:f.id,height:fs,position:f.position},...ms]),()=>x(ms=>ms.filter(Fs=>Fs.toastId!==f.id))}},[x,f.id]),te.useLayoutEffect(()=>{if(!Y)return;const zt=He.current,fs=zt.style.height;zt.style.height="auto";const ms=zt.getBoundingClientRect().height;zt.style.height=fs,Ze(ms),x(Fs=>Fs.find(Gs=>Gs.toastId===f.id)?Fs.map(Gs=>Gs.toastId===f.id?{...Gs,height:ms}:Gs):[{toastId:f.id,height:ms,position:f.position},...Fs])},[Y,f.title,f.description,x,f.id,f.jsx,f.action,f.cancel]);const Qt=te.useCallback(()=>{he(!0),Ie(Ln.current),x(zt=>zt.filter(fs=>fs.toastId!==f.id)),setTimeout(()=>{N(f)},iFe)},[f,N,x,Ln]);te.useEffect(()=>{if(f.promise&&ce==="loading"||f.duration===1/0||f.type==="loading")return;let zt;return S||p||ja?(()=>{if(qs.current<lr.current){const Fs=new Date().getTime()-lr.current;it.current=it.current-Fs}qs.current=new Date().getTime()})():it.current!==1/0&&(lr.current=new Date().getTime(),zt=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),Qt()},it.current)),()=>clearTimeout(zt)},[S,p,f,ce,ja,Qt]),te.useEffect(()=>{f.delete&&(Qt(),f.onDismiss==null||f.onDismiss.call(f,f))},[Qt,f.delete]);function Mt(){var zt;if(z?.loading){var fs;return te.createElement("div",{className:bl(I?.loader,f==null||(fs=f.classNames)==null?void 0:fs.loader,"sonner-loader"),"data-visible":ce==="loading"},z.loading)}return te.createElement(z6e,{className:bl(I?.loader,f==null||(zt=f.classNames)==null?void 0:zt.loader),visible:ce==="loading"})}const fr=f.icon||z?.[ce]||L6e(ce);var us,er;return te.createElement("li",{tabIndex:0,ref:He,className:bl(P,Xe,I?.toast,f==null||(t=f.classNames)==null?void 0:t.toast,I?.default,I?.[ce],f==null||(r=f.classNames)==null?void 0:r[ce]),"data-sonner-toast":"","data-rich-colors":(us=f.richColors)!=null?us:_,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":Y,"data-promise":!!f.promise,"data-swiped":_e,"data-removed":re,"data-visible":le,"data-y-position":Ia,"data-x-position":wa,"data-index":y,"data-front":ee,"data-swiping":me,"data-dismissible":Ke,"data-type":ce,"data-invert":ni,"data-swipe-out":ie,"data-swipe-direction":G,"data-expanded":!!(S||$&&Y),"data-testid":f.testId,style:{"--index":y,"--toasts-before":y,"--z-index":w.length-y,"--offset":`${re?Le:Ln.current}px`,"--initial-height":$?"auto":`${fe}px`,...E,...f.style},onDragEnd:()=>{de(!1),V(null),Bn.current=null},onPointerDown:zt=>{zt.button!==2&&(It||!Ke||(ge.current=new Date,Ie(Ln.current),zt.target.setPointerCapture(zt.pointerId),zt.target.tagName!=="BUTTON"&&(de(!0),Bn.current={x:zt.clientX,y:zt.clientY})))},onPointerUp:()=>{var zt,fs,ms;if(ie||!Ke)return;Bn.current=null;const Fs=Number(((zt=He.current)==null?void 0:zt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ai=Number(((fs=He.current)==null?void 0:fs.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Gs=new Date().getTime()-((ms=ge.current)==null?void 0:ms.getTime()),$s=Z==="x"?Fs:ai,Ss=Math.abs($s)/Gs;if(Math.abs($s)>=aFe||Ss>.11){Ie(Ln.current),f.onDismiss==null||f.onDismiss.call(f,f),U(Z==="x"?Fs>0?"right":"left":ai>0?"down":"up"),Qt(),ve(!0);return}else{var Kt,es;(Kt=He.current)==null||Kt.style.setProperty("--swipe-amount-x","0px"),(es=He.current)==null||es.style.setProperty("--swipe-amount-y","0px")}xe(!1),de(!1),V(null)},onPointerMove:zt=>{var fs,ms,Fs;if(!Bn.current||!Ke||((fs=window.getSelection())==null?void 0:fs.toString().length)>0)return;const Gs=zt.clientY-Bn.current.y,$s=zt.clientX-Bn.current.x;var Ss;const Kt=(Ss=e.swipeDirections)!=null?Ss:oFe(B);!Z&&(Math.abs($s)>1||Math.abs(Gs)>1)&&V(Math.abs($s)>Math.abs(Gs)?"x":"y");let es={x:0,y:0};const ec=Oo=>1/(1.5+Math.abs(Oo)/20);if(Z==="y"){if(Kt.includes("top")||Kt.includes("bottom"))if(Kt.includes("top")&&Gs<0||Kt.includes("bottom")&&Gs>0)es.y=Gs;else{const Oo=Gs*ec(Gs);es.y=Math.abs(Oo)<Math.abs(Gs)?Oo:Gs}}else if(Z==="x"&&(Kt.includes("left")||Kt.includes("right")))if(Kt.includes("left")&&$s<0||Kt.includes("right")&&$s>0)es.x=$s;else{const Oo=$s*ec($s);es.x=Math.abs(Oo)<Math.abs($s)?Oo:$s}(Math.abs(es.x)>0||Math.abs(es.y)>0)&&xe(!0),(ms=He.current)==null||ms.style.setProperty("--swipe-amount-x",`${es.x}px`),(Fs=He.current)==null||Fs.style.setProperty("--swipe-amount-y",`${es.y}px`)}},yt&&!f.jsx&&ce!=="loading"?te.createElement("button",{"aria-label":H,"data-disabled":It,"data-close-button":!0,onClick:It||!Ke?()=>{}:()=>{Qt(),f.onDismiss==null||f.onDismiss.call(f,f)},className:bl(I?.closeButton,f==null||(s=f.classNames)==null?void 0:s.closeButton)},(er=z?.close)!=null?er:q6e):null,(ce||f.icon||f.promise)&&f.icon!==null&&(z?.[ce]!==null||f.icon)?te.createElement("div",{"data-icon":"",className:bl(I?.icon,f==null||(a=f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Mt():null,f.type!=="loading"?fr:null):null,te.createElement("div",{"data-content":"",className:bl(I?.content,f==null||(i=f.classNames)==null?void 0:i.content)},te.createElement("div",{"data-title":"",className:bl(I?.title,f==null||(o=f.classNames)==null?void 0:o.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?te.createElement("div",{"data-description":"",className:bl(M,ye,I?.description,f==null||(c=f.classNames)==null?void 0:c.description)},typeof f.description=="function"?f.description():f.description):null),te.isValidElement(f.cancel)?f.cancel:f.cancel&&a1(f.cancel)?te.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||T,onClick:zt=>{a1(f.cancel)&&Ke&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,zt),Qt())},className:bl(I?.cancelButton,f==null||(d=f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,te.isValidElement(f.action)?f.action:f.action&&a1(f.action)?te.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||D,onClick:zt=>{a1(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,zt),!zt.defaultPrevented&&Qt())},className:bl(I?.actionButton,f==null||(u=f.classNames)==null?void 0:u.actionButton)},f.action.label):null)};function _H(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function cFe(e,t){const r={};return[e,t].forEach((s,a)=>{const i=a===1,o=i?"--mobile-offset":"--offset",c=i?rFe:tFe;function d(u){["top","right","bottom","left"].forEach(l=>{r[`${o}-${l}`]=typeof u=="number"?`${u}px`:u})}typeof s=="number"||typeof s=="string"?d(s):typeof s=="object"?["top","right","bottom","left"].forEach(u=>{s[u]===void 0?r[`${o}-${u}`]=c:r[`${o}-${u}`]=typeof s[u]=="number"?`${s[u]}px`:s[u]}):d(c)}),r}const dFe=te.forwardRef(function(t,r){const{id:s,invert:a,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:c,closeButton:d,className:u,offset:l,mobileOffset:f,theme:m="light",richColors:p,duration:x,style:b,visibleToasts:h=eFe,toastOptions:y,dir:w=_H(),gap:S=nFe,icons:N,containerAriaLabel:_="Notifications"}=t,[k,E]=te.useState([]),T=te.useMemo(()=>s?k.filter(Y=>Y.toasterId===s):k.filter(Y=>!Y.toasterId),[k,s]),D=te.useMemo(()=>Array.from(new Set([i].concat(T.filter(Y=>Y.position).map(Y=>Y.position)))),[T,i]),[P,M]=te.useState([]),[R,B]=te.useState(!1),[L,$]=te.useState(!1),[I,z]=te.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=te.useRef(null),Z=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=te.useRef(null),G=te.useRef(!1),U=te.useCallback(Y=>{E(K=>{var re;return(re=K.find(he=>he.id===Y.id))!=null&&re.delete||Ua.dismiss(Y.id),K.filter(({id:he})=>he!==Y.id)})},[]);return te.useEffect(()=>Ua.subscribe(Y=>{if(Y.dismiss){requestAnimationFrame(()=>{E(K=>K.map(re=>re.id===Y.id?{...re,delete:!0}:re))});return}setTimeout(()=>{VQ.flushSync(()=>{E(K=>{const re=K.findIndex(he=>he.id===Y.id);return re!==-1?[...K.slice(0,re),{...K[re],...Y},...K.slice(re+1)]:[Y,...K]})})})}),[k]),te.useEffect(()=>{if(m!=="system"){z(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?z("dark"):z("light")),typeof window>"u")return;const Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:K})=>{z(K?"dark":"light")})}catch{Y.addListener(({matches:re})=>{try{z(re?"dark":"light")}catch(he){console.error(he)}})}},[m]),te.useEffect(()=>{k.length<=1&&B(!1)},[k]),te.useEffect(()=>{const Y=K=>{var re;if(o.every(de=>K[de]||K.code===de)){var me;B(!0),(me=H.current)==null||me.focus()}K.code==="Escape"&&(document.activeElement===H.current||(re=H.current)!=null&&re.contains(document.activeElement))&&B(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[o]),te.useEffect(()=>{if(H.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,G.current=!1)}},[H.current]),te.createElement("section",{ref:r,"aria-label":`${_} ${Z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((Y,K)=>{var re;const[he,me]=Y.split("-");return T.length?te.createElement("ol",{key:Y,dir:w==="auto"?_H():w,tabIndex:-1,ref:H,className:u,"data-sonner-toaster":!0,"data-sonner-theme":I,"data-y-position":he,"data-x-position":me,style:{"--front-toast-height":`${((re=P[0])==null?void 0:re.height)||0}px`,"--width":`${sFe}px`,"--gap":`${S}px`,...b,...cFe(l,f)},onBlur:de=>{G.current&&!de.currentTarget.contains(de.relatedTarget)&&(G.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||G.current||(G.current=!0,V.current=de.relatedTarget)},onMouseEnter:()=>B(!0),onMouseMove:()=>B(!0),onMouseLeave:()=>{L||B(!1)},onDragEnd:()=>B(!1),onPointerDown:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},T.filter(de=>!de.position&&K===0||de.position===Y).map((de,ie)=>{var ve,_e;return te.createElement(lFe,{key:de.id,icons:N,index:ie,toast:de,defaultRichColors:p,duration:(ve=y?.duration)!=null?ve:x,className:y?.className,descriptionClassName:y?.descriptionClassName,invert:a,visibleToasts:h,closeButton:(_e=y?.closeButton)!=null?_e:d,interacting:L,position:Y,style:y?.style,unstyled:y?.unstyled,classNames:y?.classNames,cancelButtonStyle:y?.cancelButtonStyle,actionButtonStyle:y?.actionButtonStyle,closeButtonAriaLabel:y?.closeButtonAriaLabel,removeToast:U,toasts:T.filter(xe=>xe.position==de.position),heights:P.filter(xe=>xe.position==de.position),setHeights:M,expandByDefault:c,gap:S,expanded:R,swipeDirections:t.swipeDirections})})):null}))}),uFe=({...e})=>{const{theme:t="system"}=$u();return n.jsx(dFe,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})},OD=({children:e,redirectTo:t="/dashboard"})=>{const{isAuthenticated:r,isLoading:s}=Gl();return s?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"text-lg",children:"Loading..."})}):r?n.jsx(kC,{to:t,replace:!0}):n.jsx(n.Fragment,{children:e})};const fFe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mFe=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,s)=>s?s.toUpperCase():r.toLowerCase()),EH=e=>{const t=mFe(e);return t.charAt(0).toUpperCase()+t.slice(1)},qQ=(...e)=>e.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim(),hFe=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var pFe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const gFe=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...c},d)=>v.createElement("svg",{ref:d,...pFe,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:qQ("lucide",a),...!i&&!hFe(c)&&{"aria-hidden":"true"},...c},[...o.map(([u,l])=>v.createElement(u,l)),...Array.isArray(i)?i:[i]]));const ze=(e,t)=>{const r=v.forwardRef(({className:s,...a},i)=>v.createElement(gFe,{ref:i,iconNode:t,className:qQ(`lucide-${fFe(EH(e))}`,`lucide-${e}`,s),...a}));return r.displayName=EH(e),r};const xFe=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],a3=ze("align-left",xFe);const vFe=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]],yFe=ze("archive-restore",vFe);const bFe=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],wFe=ze("archive",bFe);const jFe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],vn=ze("arrow-left",jFe);const SFe=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],i3=ze("arrow-right-left",SFe);const NFe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],SE=ze("arrow-right",NFe);const CFe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],_Fe=ze("bell",CFe);const EFe=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],kFe=ze("box",EFe);const AFe=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Ac=ze("briefcase",AFe);const TFe=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],zs=ze("building-2",TFe);const DFe=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],GQ=ze("building",DFe);const PFe=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],o3=ze("calendar-clock",PFe);const RFe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],MFe=ze("calendar-days",RFe);const OFe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],bn=ze("calendar",OFe);const IFe=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],l3=ze("car",IFe);const FFe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ix=ze("check",FFe);const $Fe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Eo=ze("chevron-down",$Fe);const LFe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ad=ze("chevron-left",LFe);const BFe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ko=ze("chevron-right",BFe);const zFe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],NE=ze("chevron-up",zFe);const UFe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Je=ze("circle-alert",UFe);const HFe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],bs=ze("circle-check-big",HFe);const VFe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],CE=ze("circle-check",VFe);const WFe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],ID=ze("circle-dot",WFe);const qFe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],GFe=ze("circle-plus",qFe);const YFe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],_E=ze("circle-x",YFe);const KFe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ju=ze("circle",KFe);const ZFe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],po=ze("clock",ZFe);const XFe=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],YQ=ze("copy",XFe);const JFe=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],KQ=ze("credit-card",JFe);const QFe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],e$e=ze("crosshair",QFe);const t$e=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],c3=ze("crown",t$e);const r$e=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],s$e=ze("database",r$e);const n$e=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],lu=ze("dollar-sign",n$e);const a$e=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],d3=ze("download",a$e);const i$e=[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],FD=ze("earth",i$e);const o$e=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Nb=ze("ellipsis",o$e);const l$e=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],u3=ze("external-link",l$e);const c$e=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Em=ze("eye-off",c$e);const d$e=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ln=ze("eye",d$e);const u$e=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],ZQ=ze("file-image",u$e);const f$e=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],XQ=ze("file-spreadsheet",f$e);const m$e=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$l=ze("file-text",m$e);const h$e=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]],p$e=ze("file-video",h$e);const g$e=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],f3=ze("file",g$e);const x$e=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],v$e=ze("folder-tree",x$e);const y$e=[["path",{d:"M12.531 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14v6a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341l.427-.473",key:"ol2ft2"}],["path",{d:"m16.5 3.5 5 5",key:"15e6fa"}],["path",{d:"m21.5 3.5-5 5",key:"m0lwru"}]],b$e=ze("funnel-x",y$e);const w$e=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Cb=ze("funnel",w$e);const j$e=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],S$e=ze("git-branch",j$e);const N$e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],JQ=ze("globe",N$e);const C$e=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],_$e=ze("grid-3x3",C$e);const E$e=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],k$e=ze("grip-vertical",E$e);const A$e=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Xm=ze("hash",A$e);const T$e=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],EE=ze("house",T$e);const D$e=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Ny=ze("image",D$e);const P$e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],R$e=ze("info",P$e);const M$e=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],O$e=ze("key",M$e);const I$e=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],F$e=ze("languages",I$e);const $$e=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],_b=ze("layers",$$e);const L$e=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],B$e=ze("layout-grid",L$e);const z$e=[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]],U$e=ze("link-2-off",z$e);const H$e=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],QQ=ze("link-2",H$e);const V$e=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],km=ze("link",V$e);const W$e=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],q$e=ze("list-checks",W$e);const G$e=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]],oM=ze("list-filter",G$e);const Y$e=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],K$e=ze("list",Y$e);const Z$e=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],at=ze("loader-circle",Z$e);const X$e=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],J$e=ze("loader",X$e);const Q$e=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ll=ze("lock",Q$e);const eLe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],tLe=ze("log-out",eLe);const rLe=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],sl=ze("mail",rLe);const sLe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],mo=ze("map-pin",sLe);const nLe=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],m3=ze("message-square",nLe);const aLe=[["path",{d:"M5 12h14",key:"1ays0h"}]],iLe=ze("minus",aLe);const oLe=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],eee=ze("navigation",oLe);const lLe=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],gg=ze("palette",lLe);const cLe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],dLe=ze("panel-left",cLe);const uLe=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Cy=ze("pen-tool",uLe);const fLe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],h3=ze("pencil",fLe);const mLe=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],p3=ze("percent",mLe);const hLe=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],_y=ze("phone",hLe);const pLe=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],AC=ze("play",pLe);const gLe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yt=ze("plus",gLe);const xLe=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],vLe=ze("power",xLe);const yLe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Zr=ze("refresh-cw",yLe);const bLe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],g3=ze("rotate-ccw",bLe);const wLe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],kE=ze("save",wLe);const jLe=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],SLe=ze("scroll-text",jLe);const NLe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],nl=ze("search",NLe);const CLe=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],lM=ze("send",CLe);const _Le=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Eb=ze("settings",_Le);const ELe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],kH=ze("shield-check",ELe);const kLe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ws=ze("shield",kLe);const ALe=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],TLe=ze("shirt",ALe);const DLe=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],PLe=ze("shopping-bag",DLe);const RLe=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],x3=ze("sliders-horizontal",RLe);const MLe=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ox=ze("square-check-big",MLe);const OLe=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Pa=ze("square-pen",OLe);const ILe=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Am=ze("star",ILe);const FLe=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],Ti=ze("store",FLe);const $Le=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],cM=ze("tag",$Le);const LLe=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],dM=ze("test-tube",LLe);const BLe=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],v3=ze("toggle-left",BLe);const zLe=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],ULe=ze("toggle-right",zLe);const HLe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],kt=ze("trash-2",HLe);const VLe=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],WLe=ze("tree-pine",VLe);const qLe=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],TC=ze("triangle-alert",qLe);const GLe=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],uM=ze("trophy",GLe);const YLe=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],kb=ze("type",YLe);const KLe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],bo=ze("upload",KLe);const ZLe=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Su=ze("user-check",ZLe);const XLe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],tee=ze("user-plus",XLe);const JLe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Xa=ze("user",JLe);const QLe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],cs=ze("users",QLe);const eBe=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],y3=ze("video",eBe);const tBe=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],rBe=ze("webhook",tBe);const sBe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Kr=ze("x",sBe),$D=({children:e})=>n.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-background",children:[n.jsx("div",{className:"flex flex-col items-center pt-8 pb-4",children:n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("div",{className:"w-12 h-12 bg-primary rounded-lg flex items-center justify-center",children:n.jsx(Xa,{className:"w-6 h-6 text-primary-foreground"})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Auth Portal"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Secure Access"})]})]})}),n.jsx("div",{className:"flex-1 flex items-center justify-center px-4",children:n.jsx("div",{className:"w-full max-w-md",children:e})}),n.jsx("div",{className:"h-16 flex items-center justify-center",children:n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",new Date().getFullYear()," Auth Portal. All rights reserved."]})})]});function ree(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=ree(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function St(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=ree(e))&&(s&&(s+=" "),s+=t);return s}const b3="-",nBe=e=>{const t=iBe(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const c=o.split(b3);return c[0]===""&&c.length!==1&&c.shift(),see(c,t)||aBe(o)},getConflictingClassGroupIds:(o,c)=>{const d=r[o]||[];return c&&s[o]?[...d,...s[o]]:d}}},see=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),a=s?see(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(b3);return t.validators.find(({validator:o})=>o(i))?.classGroupId},AH=/^\[(.+)\]$/,aBe=e=>{if(AH.test(e)){const t=AH.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},iBe=e=>{const{theme:t,classGroups:r}=e,s={nextPart:new Map,validators:[]};for(const a in r)fM(r[a],s,a,t);return s},fM=(e,t,r,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:TH(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(oBe(a)){fM(a(s),t,r,s);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{fM(o,TH(t,i),r,s)})})},TH=(e,t)=>{let r=e;return t.split(b3).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},oBe=e=>e.isThemeGetter,lBe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,s=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},mM="!",hM=":",cBe=hM.length,dBe=e=>{const{prefix:t,experimentalParseClassName:r}=e;let s=a=>{const i=[];let o=0,c=0,d=0,u;for(let x=0;x<a.length;x++){let b=a[x];if(o===0&&c===0){if(b===hM){i.push(a.slice(d,x)),d=x+cBe;continue}if(b==="/"){u=x;continue}}b==="["?o++:b==="]"?o--:b==="("?c++:b===")"&&c--}const l=i.length===0?a:a.substring(d),f=uBe(l),m=f!==l,p=u&&u>d?u-d:void 0;return{modifiers:i,hasImportantModifier:m,baseClassName:f,maybePostfixModifierPosition:p}};if(t){const a=t+hM,i=s;s=o=>o.startsWith(a)?i(o.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(r){const a=s;s=i=>r({className:i,parseClassName:a})}return s},uBe=e=>e.endsWith(mM)?e.substring(0,e.length-1):e.startsWith(mM)?e.substring(1):e,fBe=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const a=[];let i=[];return s.forEach(o=>{o[0]==="["||t[o]?(a.push(...i.sort(),o),i=[]):i.push(o)}),a.push(...i.sort()),a}},mBe=e=>({cache:lBe(e.cacheSize),parseClassName:dBe(e),sortModifiers:fBe(e),...nBe(e)}),hBe=/\s+/,pBe=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],c=e.trim().split(hBe);let d="";for(let u=c.length-1;u>=0;u-=1){const l=c[u],{isExternal:f,modifiers:m,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:b}=r(l);if(f){d=l+(d.length>0?" "+d:d);continue}let h=!!b,y=s(h?x.substring(0,b):x);if(!y){if(!h){d=l+(d.length>0?" "+d:d);continue}if(y=s(x),!y){d=l+(d.length>0?" "+d:d);continue}h=!1}const w=i(m).join(":"),S=p?w+mM:w,N=S+y;if(o.includes(N))continue;o.push(N);const _=a(y,h);for(let k=0;k<_.length;++k){const E=_[k];o.push(S+E)}d=l+(d.length>0?" "+d:d)}return d};function gBe(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=nee(t))&&(s&&(s+=" "),s+=r);return s}const nee=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=nee(e[s]))&&(r&&(r+=" "),r+=t);return r};function xBe(e,...t){let r,s,a,i=o;function o(d){const u=t.reduce((l,f)=>f(l),e());return r=mBe(u),s=r.cache.get,a=r.cache.set,i=c,c(d)}function c(d){const u=s(d);if(u)return u;const l=pBe(d,r);return a(d,l),l}return function(){return i(gBe.apply(null,arguments))}}const _n=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},aee=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,iee=/^\((?:(\w[\w-]*):)?(.+)\)$/i,vBe=/^\d+\/\d+$/,yBe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bBe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wBe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,jBe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,SBe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,lp=e=>vBe.test(e),Jt=e=>!!e&&!Number.isNaN(Number(e)),qd=e=>!!e&&Number.isInteger(Number(e)),LD=e=>e.endsWith("%")&&Jt(e.slice(0,-1)),vc=e=>yBe.test(e),NBe=()=>!0,CBe=e=>bBe.test(e)&&!wBe.test(e),oee=()=>!1,_Be=e=>jBe.test(e),EBe=e=>SBe.test(e),kBe=e=>!pt(e)&&!gt(e),ABe=e=>lx(e,dee,oee),pt=e=>aee.test(e),Df=e=>lx(e,uee,CBe),BD=e=>lx(e,MBe,Jt),DH=e=>lx(e,lee,oee),TBe=e=>lx(e,cee,EBe),i1=e=>lx(e,fee,_Be),gt=e=>iee.test(e),o0=e=>cx(e,uee),DBe=e=>cx(e,OBe),PH=e=>cx(e,lee),PBe=e=>cx(e,dee),RBe=e=>cx(e,cee),o1=e=>cx(e,fee,!0),lx=(e,t,r)=>{const s=aee.exec(e);return s?s[1]?t(s[1]):r(s[2]):!1},cx=(e,t,r=!1)=>{const s=iee.exec(e);return s?s[1]?t(s[1]):r:!1},lee=e=>e==="position"||e==="percentage",cee=e=>e==="image"||e==="url",dee=e=>e==="length"||e==="size"||e==="bg-size",uee=e=>e==="length",MBe=e=>e==="number",OBe=e=>e==="family-name",fee=e=>e==="shadow",IBe=()=>{const e=_n("color"),t=_n("font"),r=_n("text"),s=_n("font-weight"),a=_n("tracking"),i=_n("leading"),o=_n("breakpoint"),c=_n("container"),d=_n("spacing"),u=_n("radius"),l=_n("shadow"),f=_n("inset-shadow"),m=_n("text-shadow"),p=_n("drop-shadow"),x=_n("blur"),b=_n("perspective"),h=_n("aspect"),y=_n("ease"),w=_n("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...N(),gt,pt],k=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],T=()=>[gt,pt,d],D=()=>[lp,"full","auto",...T()],P=()=>[qd,"none","subgrid",gt,pt],M=()=>["auto",{span:["full",qd,gt,pt]},qd,gt,pt],R=()=>[qd,"auto",gt,pt],B=()=>["auto","min","max","fr",gt,pt],L=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$=()=>["start","end","center","stretch","center-safe","end-safe"],I=()=>["auto",...T()],z=()=>[lp,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],H=()=>[e,gt,pt],Z=()=>[...N(),PH,DH,{position:[gt,pt]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",PBe,ABe,{size:[gt,pt]}],U=()=>[LD,o0,Df],Y=()=>["","none","full",u,gt,pt],K=()=>["",Jt,o0,Df],re=()=>["solid","dashed","dotted","double"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],me=()=>[Jt,LD,PH,DH],de=()=>["","none",x,gt,pt],ie=()=>["none",Jt,gt,pt],ve=()=>["none",Jt,gt,pt],_e=()=>[Jt,gt,pt],xe=()=>[lp,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[vc],breakpoint:[vc],color:[NBe],container:[vc],"drop-shadow":[vc],ease:["in","out","in-out"],font:[kBe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[vc],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[vc],shadow:[vc],spacing:["px",Jt],text:[vc],"text-shadow":[vc],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",lp,pt,gt,h]}],container:["container"],columns:[{columns:[Jt,pt,gt,c]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[qd,"auto",gt,pt]}],basis:[{basis:[lp,"full","auto",c,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Jt,lp,"auto","initial","none",pt]}],grow:[{grow:["",Jt,gt,pt]}],shrink:[{shrink:["",Jt,gt,pt]}],order:[{order:[qd,"first","last","none",gt,pt]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...L(),"normal"]}],"justify-items":[{"justify-items":[...$(),"normal"]}],"justify-self":[{"justify-self":["auto",...$()]}],"align-content":[{content:["normal",...L()]}],"align-items":[{items:[...$(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$(),{baseline:["","last"]}]}],"place-content":[{"place-content":L()}],"place-items":[{"place-items":[...$(),"baseline"]}],"place-self":[{"place-self":["auto",...$()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:I()}],mx:[{mx:I()}],my:[{my:I()}],ms:[{ms:I()}],me:[{me:I()}],mt:[{mt:I()}],mr:[{mr:I()}],mb:[{mb:I()}],ml:[{ml:I()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:z()}],w:[{w:[c,"screen",...z()]}],"min-w":[{"min-w":[c,"screen","none",...z()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...z()]}],h:[{h:["screen","lh",...z()]}],"min-h":[{"min-h":["screen","lh","none",...z()]}],"max-h":[{"max-h":["screen","lh",...z()]}],"font-size":[{text:["base",r,o0,Df]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,gt,BD]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",LD,pt]}],"font-family":[{font:[DBe,pt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,gt,pt]}],"line-clamp":[{"line-clamp":[Jt,"none",gt,BD]}],leading:[{leading:[i,...T()]}],"list-image":[{"list-image":["none",gt,pt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",gt,pt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:[Jt,"from-font","auto",gt,Df]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[Jt,"auto",gt,pt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",gt,pt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",gt,pt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Z()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},qd,gt,pt],radial:["",gt,pt],conic:[qd,gt,pt]},RBe,TBe]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:Y()}],"rounded-s":[{"rounded-s":Y()}],"rounded-e":[{"rounded-e":Y()}],"rounded-t":[{"rounded-t":Y()}],"rounded-r":[{"rounded-r":Y()}],"rounded-b":[{"rounded-b":Y()}],"rounded-l":[{"rounded-l":Y()}],"rounded-ss":[{"rounded-ss":Y()}],"rounded-se":[{"rounded-se":Y()}],"rounded-ee":[{"rounded-ee":Y()}],"rounded-es":[{"rounded-es":Y()}],"rounded-tl":[{"rounded-tl":Y()}],"rounded-tr":[{"rounded-tr":Y()}],"rounded-br":[{"rounded-br":Y()}],"rounded-bl":[{"rounded-bl":Y()}],"border-w":[{border:K()}],"border-w-x":[{"border-x":K()}],"border-w-y":[{"border-y":K()}],"border-w-s":[{"border-s":K()}],"border-w-e":[{"border-e":K()}],"border-w-t":[{"border-t":K()}],"border-w-r":[{"border-r":K()}],"border-w-b":[{"border-b":K()}],"border-w-l":[{"border-l":K()}],"divide-x":[{"divide-x":K()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":K()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...re(),"hidden","none"]}],"divide-style":[{divide:[...re(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Jt,gt,pt]}],"outline-w":[{outline:["",Jt,o0,Df]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",l,o1,i1]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",f,o1,i1]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[Jt,Df]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":K()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",m,o1,i1]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[Jt,gt,pt]}],"mix-blend":[{"mix-blend":[...he(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":he()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Jt]}],"mask-image-linear-from-pos":[{"mask-linear-from":me()}],"mask-image-linear-to-pos":[{"mask-linear-to":me()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":me()}],"mask-image-t-to-pos":[{"mask-t-to":me()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":me()}],"mask-image-r-to-pos":[{"mask-r-to":me()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":me()}],"mask-image-b-to-pos":[{"mask-b-to":me()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":me()}],"mask-image-l-to-pos":[{"mask-l-to":me()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":me()}],"mask-image-x-to-pos":[{"mask-x-to":me()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":me()}],"mask-image-y-to-pos":[{"mask-y-to":me()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[gt,pt]}],"mask-image-radial-from-pos":[{"mask-radial-from":me()}],"mask-image-radial-to-pos":[{"mask-radial-to":me()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[Jt]}],"mask-image-conic-from-pos":[{"mask-conic-from":me()}],"mask-image-conic-to-pos":[{"mask-conic-to":me()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Z()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",gt,pt]}],filter:[{filter:["","none",gt,pt]}],blur:[{blur:de()}],brightness:[{brightness:[Jt,gt,pt]}],contrast:[{contrast:[Jt,gt,pt]}],"drop-shadow":[{"drop-shadow":["","none",p,o1,i1]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",Jt,gt,pt]}],"hue-rotate":[{"hue-rotate":[Jt,gt,pt]}],invert:[{invert:["",Jt,gt,pt]}],saturate:[{saturate:[Jt,gt,pt]}],sepia:[{sepia:["",Jt,gt,pt]}],"backdrop-filter":[{"backdrop-filter":["","none",gt,pt]}],"backdrop-blur":[{"backdrop-blur":de()}],"backdrop-brightness":[{"backdrop-brightness":[Jt,gt,pt]}],"backdrop-contrast":[{"backdrop-contrast":[Jt,gt,pt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Jt,gt,pt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Jt,gt,pt]}],"backdrop-invert":[{"backdrop-invert":["",Jt,gt,pt]}],"backdrop-opacity":[{"backdrop-opacity":[Jt,gt,pt]}],"backdrop-saturate":[{"backdrop-saturate":[Jt,gt,pt]}],"backdrop-sepia":[{"backdrop-sepia":["",Jt,gt,pt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",gt,pt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Jt,"initial",gt,pt]}],ease:[{ease:["linear","initial",y,gt,pt]}],delay:[{delay:[Jt,gt,pt]}],animate:[{animate:["none",w,gt,pt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,gt,pt]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:ie()}],"rotate-x":[{"rotate-x":ie()}],"rotate-y":[{"rotate-y":ie()}],"rotate-z":[{"rotate-z":ie()}],scale:[{scale:ve()}],"scale-x":[{"scale-x":ve()}],"scale-y":[{"scale-y":ve()}],"scale-z":[{"scale-z":ve()}],"scale-3d":["scale-3d"],skew:[{skew:_e()}],"skew-x":[{"skew-x":_e()}],"skew-y":[{"skew-y":_e()}],transform:[{transform:[gt,pt,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xe()}],"translate-x":[{"translate-x":xe()}],"translate-y":[{"translate-y":xe()}],"translate-z":[{"translate-z":xe()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",gt,pt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",gt,pt]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[Jt,o0,Df,BD]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},FBe=xBe(IBe);function X(...e){return FBe(St(e))}const oe=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:X("rounded-xl border bg-card text-card-foreground shadow",e),...t}));oe.displayName="Card";const Re=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:X("flex flex-col space-y-1.5 p-6",e),...t}));Re.displayName="CardHeader";const qe=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:X("font-semibold leading-none tracking-tight",e),...t}));qe.displayName="CardTitle";const Us=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:X("text-sm text-muted-foreground",e),...t}));Us.displayName="CardDescription";const je=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:X("p-6 pt-0",e),...t}));je.displayName="CardContent";const w3=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:X("flex items-center p-6 pt-0",e),...t}));w3.displayName="CardFooter";function RH(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Vc(...e){return t=>{let r=!1;const s=e.map(a=>{const i=RH(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():RH(e[a],null)}}}}function bt(...e){return v.useCallback(Vc(...e),e)}function Nu(e){const t=$Be(e),r=v.forwardRef((s,a)=>{const{children:i,...o}=s,c=v.Children.toArray(i),d=c.find(LBe);if(d){const u=d.props.children,l=c.map(f=>f===d?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return n.jsx(t,{...o,ref:a,children:v.isValidElement(u)?v.cloneElement(u,void 0,l):null})}return n.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var Lu=Nu("Slot");function $Be(e){const t=v.forwardRef((r,s)=>{const{children:a,...i}=r;if(v.isValidElement(a)){const o=zBe(a),c=BBe(i,a.props);return a.type!==v.Fragment&&(c.ref=s?Vc(s,o):o),v.cloneElement(a,c)}return v.Children.count(a)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mee=Symbol("radix.slottable");function hee(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=mee,t}function LBe(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mee}function BBe(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function zBe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const MH=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,OH=St,Jm=(e,t)=>r=>{var s;if(t?.variants==null)return OH(e,r?.class,r?.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const l=r?.[u],f=i?.[u];if(l===null)return null;const m=MH(l)||MH(f);return a[u][m]}),c=r&&Object.entries(r).reduce((u,l)=>{let[f,m]=l;return m===void 0||(u[f]=m),u},{}),d=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((u,l)=>{let{class:f,className:m,...p}=l;return Object.entries(p).every(x=>{let[b,h]=x;return Array.isArray(h)?h.includes({...i,...c}[b]):{...i,...c}[b]===h})?[...u,f,m]:u},[]);return OH(e,o,d,r?.class,r?.className)},xg=Jm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),W=v.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...a},i)=>{const o=s?Lu:"button";return n.jsx(o,{className:X(xg({variant:t,size:r,className:e})),ref:i,...a})});W.displayName="Button";const ne=v.forwardRef(({className:e,type:t,...r},s)=>n.jsx("input",{type:t,className:X("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));ne.displayName="Input";var UBe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],nt=UBe.reduce((e,t)=>{const r=Nu(`Primitive.${t}`),s=v.forwardRef((a,i)=>{const{asChild:o,...c}=a,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(d,{...c,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function AE(e,t){e&&Fu.flushSync(()=>e.dispatchEvent(t))}var HBe="Label",pee=v.forwardRef((e,t)=>n.jsx(nt.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));pee.displayName=HBe;var gee=pee;const VBe=Jm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Q=v.forwardRef(({className:e,...t},r)=>n.jsx(gee,{ref:r,className:X(VBe(),e),...t}));Q.displayName=gee.displayName;const WBe=Jm("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ge=v.forwardRef(({className:e,variant:t,...r},s)=>n.jsx("div",{ref:s,role:"alert",className:X(WBe({variant:t}),e),...r}));Ge.displayName="Alert";const pM=v.forwardRef(({className:e,...t},r)=>n.jsx("h5",{ref:r,className:X("mb-1 font-medium leading-none tracking-tight",e),...t}));pM.displayName="AlertTitle";const Ye=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:X("text-sm [&_p]:leading-relaxed",e),...t}));Ye.displayName="AlertDescription";const qBe=()=>{const e=Vt(),t=la(),{login:r,isLoading:s,error:a,isAuthenticated:i,clearError:o}=Gl(),[c,d]=v.useState({email:"",password:""}),[u,l]=v.useState({}),[f,m]=v.useState(!1);v.useEffect(()=>{if(i){const w=t.state?.from?.pathname||"/dashboard";e(w,{replace:!0})}},[i,e,t]);const p=()=>{o()},x=w=>{const{name:S,value:N}=w.target;d(_=>({..._,[S]:N})),u[S]&&l(_=>({..._,[S]:void 0})),a&&o()},b=()=>{const w={};return c.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.email)||(w.email="Please enter a valid email address"):w.email="Email is required",c.password.trim()?c.password.length<6&&(w.password="Password must be at least 6 characters"):w.password="Password is required",l(w),Object.keys(w).length===0},h=async w=>{if(w.preventDefault(),l({}),o(),!!b())try{const S=await r({email:c.email.trim(),password:c.password});if(S.meta.requestStatus==="fulfilled"){const N=t.state?.from?.pathname||"/dashboard";e(N,{replace:!0})}else if(S.payload&&typeof S.payload=="string"){const N=gje(S.payload);Object.keys(N).length>0&&l(N)}}catch(S){console.error("Login error:",S)}},y=()=>{m(!f)};return n.jsx("div",{className:" flex items-center justify-cente  px-4 sm:px-6 lg:px-8",children:n.jsxs(oe,{className:"w-full max-w-md mx-auto",children:[n.jsxs(Re,{className:"space-y-1",children:[n.jsx(qe,{className:"text-2xl font-bold text-center",children:"Sign In"}),n.jsx(Us,{className:"text-center",children:"Enter your credentials to access your account"})]}),n.jsxs(je,{children:[n.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a&&n.jsx(Ge,{variant:"destructive",children:n.jsx(Ye,{children:a})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{htmlFor:"email",children:"Email"}),n.jsxs("div",{className:"relative",children:[n.jsx(sl,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(ne,{id:"email",name:"email",type:"email",placeholder:"Enter your email",value:c.email,onChange:x,className:`pl-10 ${u.email?"border-destructive":""}`,disabled:s,autoComplete:"email"})]}),u.email&&n.jsx("p",{className:"text-sm text-destructive",children:u.email})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{htmlFor:"password",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ll,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(ne,{id:"password",name:"password",type:f?"text":"password",placeholder:"Enter your password",value:c.password,onChange:x,className:`pl-10 pr-10 ${u.password?"border-destructive":""}`,disabled:s,autoComplete:"current-password"}),n.jsx(W,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:y,disabled:s,tabIndex:-1,children:f?n.jsx(Em,{className:"h-4 w-4"}):n.jsx(ln,{className:"h-4 w-4"})})]}),u.password&&n.jsx("p",{className:"text-sm text-destructive",children:u.password})]}),n.jsx(W,{type:"submit",className:"w-full",disabled:s,children:s?"Signing in...":"Sign In"})]}),n.jsx("div",{className:"mt-6 text-center text-sm",children:n.jsx(Hc,{to:"/forgot-password",className:"text-primary hover:underline",onClick:p,children:"Forgot your password?"})})]})]})})},GBe=()=>{const e=Vt(),{forgotPassword:t,isLoading:r,error:s,isAuthenticated:a,clearError:i}=Gl(),[o,c]=v.useState({email:""}),[d,u]=v.useState({});v.useEffect(()=>{a&&e("/dashboard",{replace:!0})},[a,e]);const l=x=>{const{name:b,value:h}=x.target;c(y=>({...y,[b]:h})),d[b]&&u(y=>({...y,[b]:void 0})),s&&i()},f=()=>{const x={};return o.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)||(x.email="Please enter a valid email address"):x.email="Email is required",u(x),Object.keys(x).length===0},m=async x=>{if(x.preventDefault(),u({}),i(),!!f())try{(await t({email:o.email.trim()})).meta.requestStatus==="fulfilled"&&e("/reset-password",{state:{email:o.email.trim(),message:"Password reset OTP sent to your email. Please check your inbox."}})}catch(b){console.error("Forgot password error:",b)}},p=()=>{i()};return n.jsx("div",{className:" flex items-center justify-cente  px-4 sm:px-6 lg:px-8",children:n.jsxs(oe,{className:"w-full max-w-md mx-auto",children:[n.jsxs(Re,{className:"space-y-1",children:[n.jsx(qe,{className:"text-2xl font-bold text-center",children:"Forgot Password"}),n.jsx(Us,{className:"text-center",children:"Enter your email address and we'll send you an OTP to reset your password"})]}),n.jsxs(je,{children:[n.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s&&n.jsx(Ge,{variant:"destructive",children:n.jsx(Ye,{children:s})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{htmlFor:"email",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(sl,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(ne,{id:"email",name:"email",type:"email",placeholder:"Enter your email address",value:o.email,onChange:l,className:`pl-10 ${d.email?"border-destructive":""}`,disabled:r,autoComplete:"email",autoFocus:!0})]}),d.email&&n.jsx("p",{className:"text-sm text-destructive",children:d.email}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"We'll send a 6-digit OTP to this email address"})]}),n.jsx(W,{type:"submit",className:"w-full",disabled:r,children:r?n.jsxs(n.Fragment,{children:[n.jsx(lM,{className:"mr-2 h-4 w-4 animate-pulse"}),"Sending OTP..."]}):n.jsxs(n.Fragment,{children:[n.jsx(lM,{className:"mr-2 h-4 w-4"}),"Send Reset OTP"]})})]}),n.jsx("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:n.jsx("p",{className:"mb-4",children:"You'll receive a 6-digit OTP code to reset your password. The code will expire in 15 minutes for security reasons."})}),n.jsx("div",{className:"flex flex-col space-y-2 text-center text-sm",children:n.jsxs(Hc,{to:"/login",className:"text-primary hover:underline flex items-center justify-center",onClick:p,children:[n.jsx(vn,{className:"mr-1 h-3 w-3"}),"Back to Sign In"]})})]})]})})},YBe=()=>{const e=Vt(),t=la(),{resetPassword:r,forgotPassword:s,isLoading:a,error:i,isAuthenticated:o,clearError:c}=Gl(),d=t.state,u=d?.email||"",l=d?.message||"",f=v.useRef(null),[m,p]=v.useState({email:u,otp:"",password:"",password_confirmation:""}),[x,b]=v.useState({}),[h,y]=v.useState(!1),[w,S]=v.useState(!1),[N,_]=v.useState(!1),[k,E]=v.useState(!1),[T,D]=v.useState(0);v.useEffect(()=>{o&&e("/dashboard",{replace:!0})},[o,e]),v.useEffect(()=>{u||e("/forgot-password",{replace:!0})},[u,e]),v.useEffect(()=>{if(T>0){const V=setTimeout(()=>{D(T-1)},1e3);return()=>clearTimeout(V)}},[T]),v.useEffect(()=>{if(k){const V=setTimeout(()=>{E(!1)},5e3);return()=>clearTimeout(V)}},[k]);const P=V=>{const{name:G,value:U}=V.target;p(Y=>({...Y,[G]:U})),x[G]&&b(Y=>({...Y,[G]:void 0})),i&&c(),k&&E(!1)},M=V=>{let G=V.target.value.replace(/\D/g,"");G.length>6&&(G=G.slice(0,6)),p(U=>({...U,otp:G})),x.otp&&b(U=>({...U,otp:void 0})),i&&c(),k&&E(!1)},R=V=>{if(V.key==="Backspace"&&m.otp.length>0){const G=m.otp.slice(0,-1);p(U=>({...U,otp:G}))}},B=()=>{const V={};return m.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.email)||(V.email="Please enter a valid email address"):V.email="Email is required",m.otp.trim()?m.otp.length!==6&&(V.otp="OTP must be 6 digits"):V.otp="OTP is required",m.password.trim()?m.password.length<8&&(V.password="Password must be at least 8 characters"):V.password="Password is required",m.password_confirmation.trim()?m.password!==m.password_confirmation&&(V.password_confirmation="Passwords do not match"):V.password_confirmation="Please confirm your password",b(V),Object.keys(V).length===0},L=async V=>{if(V.preventDefault(),b({}),c(),E(!1),!!B())try{(await r({email:m.email.trim(),otp:m.otp,password:m.password,password_confirmation:m.password_confirmation})).meta.requestStatus==="fulfilled"&&e("/login",{state:{message:"Password reset successfully! Please login with your new password.",email:m.email.trim()}})}catch(G){console.error("Reset password error:",G)}},$=async()=>{if(!(T>0||!m.email.trim())){_(!0),c();try{(await s({email:m.email.trim()})).meta.requestStatus==="fulfilled"&&(E(!0),D(60),p(G=>({...G,otp:""})),setTimeout(()=>{f.current&&f.current.focus()},100))}catch(V){console.error("Resend OTP error:",V)}finally{_(!1)}}},I=V=>V.replace(/(.{3})/g,"$1 ").trim(),z=()=>{y(!h)},H=()=>{S(!w)},Z=()=>{c()};return n.jsx("div",{className:" flex items-center justify-cente  px-4 sm:px-6 lg:px-8",children:n.jsxs(oe,{className:"w-full max-w-md mx-auto",children:[n.jsxs(Re,{className:"space-y-1",children:[n.jsx(qe,{className:"text-2xl font-bold text-center",children:"Reset Password"}),n.jsx(Us,{className:"text-center",children:"Enter the OTP and your new password to reset your account"})]}),n.jsxs(je,{children:[l&&n.jsx(Ge,{className:"mb-4",children:n.jsx(Ye,{children:l})}),k&&n.jsx(Ge,{className:"mb-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(bs,{className:"h-4 w-4 text-green-600"}),n.jsx(Ye,{className:"text-green-800",children:"New OTP sent successfully! Please check your email."})]})}),n.jsxs("form",{onSubmit:L,className:"space-y-4",children:[i&&n.jsx(Ge,{variant:"destructive",children:n.jsx(Ye,{children:i})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{htmlFor:"email",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(sl,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(ne,{id:"email",name:"email",type:"email",value:m.email,readOnly:!0,className:"pl-10 bg-muted cursor-not-allowed"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"OTP has been sent to this email address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{htmlFor:"otp",children:"Reset Code"}),n.jsx(ne,{ref:f,id:"otp",name:"otp",type:"text",placeholder:"Enter 6-digit code",value:I(m.otp),onChange:M,onKeyDown:R,className:`text-center text-lg tracking-widest ${x.otp?"border-destructive":""}`,disabled:a||N,maxLength:7,autoComplete:"one-time-code"}),x.otp&&n.jsx("p",{className:"text-sm text-destructive",children:x.otp})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{htmlFor:"password",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ll,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(ne,{id:"password",name:"password",type:h?"text":"password",placeholder:"Enter new password",value:m.password,onChange:P,className:`pl-10 pr-10 ${x.password?"border-destructive":""}`,disabled:a||N,autoComplete:"new-password"}),n.jsx(W,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:z,disabled:a||N,tabIndex:-1,children:h?n.jsx(Em,{className:"h-4 w-4"}):n.jsx(ln,{className:"h-4 w-4"})})]}),x.password&&n.jsx("p",{className:"text-sm text-destructive",children:x.password})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{htmlFor:"password_confirmation",children:"Confirm New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ll,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(ne,{id:"password_confirmation",name:"password_confirmation",type:w?"text":"password",placeholder:"Confirm new password",value:m.password_confirmation,onChange:P,className:`pl-10 pr-10 ${x.password_confirmation?"border-destructive":""}`,disabled:a||N,autoComplete:"new-password"}),n.jsx(W,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:H,disabled:a||N,tabIndex:-1,children:w?n.jsx(Em,{className:"h-4 w-4"}):n.jsx(ln,{className:"h-4 w-4"})})]}),x.password_confirmation&&n.jsx("p",{className:"text-sm text-destructive",children:x.password_confirmation})]}),n.jsx(W,{type:"submit",className:"w-full",disabled:a||N,children:a?"Resetting Password...":"Reset Password"})]}),n.jsxs("div",{className:"mt-6 text-center",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Didn't receive the code?"}),n.jsx(W,{type:"button",variant:"outline",onClick:$,disabled:N||T>0,className:"w-full",children:N?n.jsxs(n.Fragment,{children:[n.jsx(Zr,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):T>0?`Resend OTP in ${T}s`:n.jsxs(n.Fragment,{children:[n.jsx(Zr,{className:"mr-2 h-4 w-4"}),"Resend OTP"]})})]}),n.jsxs("div",{className:"mt-6 flex flex-col space-y-2 text-center text-sm",children:[n.jsxs(Hc,{to:"/forgot-password",className:"text-primary hover:underline flex items-center justify-center",onClick:Z,children:[n.jsx(vn,{className:"mr-1 h-3 w-3"}),"Back to Forgot Password"]}),n.jsxs("div",{children:["Remember your password?"," ",n.jsx(Hc,{to:"/login",className:"text-primary hover:underline",onClick:Z,children:"Sign in"})]})]})]})]})})},KBe=[n.jsx(At,{path:"/login",element:n.jsx(OD,{children:n.jsx($D,{children:n.jsx(qBe,{})})})},"login"),n.jsx(At,{path:"/forgot-password",element:n.jsx(OD,{children:n.jsx($D,{children:n.jsx(GBe,{})})})},"forgot-password"),n.jsx(At,{path:"/reset-password",element:n.jsx(OD,{children:n.jsx($D,{children:n.jsx(YBe,{})})})},"reset-password")],Ft=({children:e})=>{const{isAuthenticated:t,isLoading:r}=Gl(),s=la();return r?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"text-lg",children:"Loading..."})}):t?n.jsx(n.Fragment,{children:e}):n.jsx(kC,{to:"/login",state:{from:s},replace:!0})},zD=768;function ca(){const[e,t]=v.useState(void 0);return v.useEffect(()=>{const r=window.matchMedia(`(max-width: ${zD-1}px)`),s=()=>{t(window.innerWidth<zD)};return r.addEventListener("change",s),t(window.innerWidth<zD),()=>r.removeEventListener("change",s)},[]),!!e}var ZBe="Separator",IH="horizontal",XBe=["horizontal","vertical"],xee=v.forwardRef((e,t)=>{const{decorative:r,orientation:s=IH,...a}=e,i=JBe(s)?s:IH,c=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(nt.div,{"data-orientation":i,...c,...a,ref:t})});xee.displayName=ZBe;function JBe(e){return XBe.includes(e)}var vee=xee;const Hs=v.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...s},a)=>n.jsx(vee,{ref:a,decorative:r,orientation:t,className:X("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));Hs.displayName=vee.displayName;function hu(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function QBe(e,t){const r=v.createContext(t),s=i=>{const{children:o,...c}=i,d=v.useMemo(()=>c,Object.values(c));return n.jsx(r.Provider,{value:d,children:o})};s.displayName=e+"Provider";function a(i){const o=v.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function cn(e,t=[]){let r=[];function s(i,o){const c=v.createContext(o),d=r.length;r=[...r,o];const u=f=>{const{scope:m,children:p,...x}=f,b=m?.[e]?.[d]||c,h=v.useMemo(()=>x,Object.values(x));return n.jsx(b.Provider,{value:h,children:p})};u.displayName=i+"Provider";function l(f,m){const p=m?.[e]?.[d]||c,x=v.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,l]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(c){const d=c?.[e]||i;return v.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return a.scopeName=e,[s,e8e(a,...t)]}function e8e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((c,{useScope:d,scopeName:u})=>{const f=d(i)[`__scope${u}`];return{...c,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Tr=globalThis?.document?v.useLayoutEffect:()=>{},t8e=wm[" useId ".trim().toString()]||(()=>{}),r8e=0;function An(e){const[t,r]=v.useState(t8e());return Tr(()=>{r(s=>s??String(r8e++))},[e]),e||(t?`radix-${t}`:"")}var s8e=wm[" useInsertionEffect ".trim().toString()]||Tr;function Di({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){const[a,i,o]=n8e({defaultProp:t,onChange:r}),c=e!==void 0,d=c?e:a;{const l=v.useRef(e!==void 0);v.useEffect(()=>{const f=l.current;f!==c&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),l.current=c},[c,s])}const u=v.useCallback(l=>{if(c){const f=a8e(l)?l(e):l;f!==e&&o.current?.(f)}else i(l)},[c,e,i,o]);return[d,u]}function n8e({defaultProp:e,onChange:t}){const[r,s]=v.useState(e),a=v.useRef(r),i=v.useRef(t);return s8e(()=>{i.current=t},[t]),v.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,s,i]}function a8e(e){return typeof e=="function"}function As(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>t.current?.(...r),[])}function j3(e,t=globalThis?.document){const r=As(e);v.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var i8e="DismissableLayer",gM="dismissableLayer.update",o8e="dismissableLayer.pointerDownOutside",l8e="dismissableLayer.focusOutside",FH,yee=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bee=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:c,...d}=e,u=v.useContext(yee),[l,f]=v.useState(null),m=l?.ownerDocument??globalThis?.document,[,p]=v.useState({}),x=bt(t,E=>f(E)),b=Array.from(u.layers),[h]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=b.indexOf(h),w=l?b.indexOf(l):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,N=w>=y,_=u8e(E=>{const T=E.target,D=[...u.branches].some(P=>P.contains(T));!N||D||(a?.(E),o?.(E),E.defaultPrevented||c?.())},m),k=f8e(E=>{const T=E.target;[...u.branches].some(P=>P.contains(T))||(i?.(E),o?.(E),E.defaultPrevented||c?.())},m);return j3(E=>{w===u.layers.size-1&&(s?.(E),!E.defaultPrevented&&c&&(E.preventDefault(),c()))},m),v.useEffect(()=>{if(l)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(FH=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(l)),u.layers.add(l),$H(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=FH)}},[l,m,r,u]),v.useEffect(()=>()=>{l&&(u.layers.delete(l),u.layersWithOutsidePointerEventsDisabled.delete(l),$H())},[l,u]),v.useEffect(()=>{const E=()=>p({});return document.addEventListener(gM,E),()=>document.removeEventListener(gM,E)},[]),n.jsx(nt.div,{...d,ref:x,style:{pointerEvents:S?N?"auto":"none":void 0,...e.style},onFocusCapture:hu(e.onFocusCapture,k.onFocusCapture),onBlurCapture:hu(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:hu(e.onPointerDownCapture,_.onPointerDownCapture)})});bee.displayName=i8e;var c8e="DismissableLayerBranch",d8e=v.forwardRef((e,t)=>{const r=v.useContext(yee),s=v.useRef(null),a=bt(t,s);return v.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(nt.div,{...e,ref:a})});d8e.displayName=c8e;function u8e(e,t=globalThis?.document){const r=As(e),s=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const i=c=>{if(c.target&&!s.current){let d=function(){wee(o8e,r,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function f8e(e,t=globalThis?.document){const r=As(e),s=v.useRef(!1);return v.useEffect(()=>{const a=i=>{i.target&&!s.current&&wee(l8e,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function $H(){const e=new CustomEvent(gM);document.dispatchEvent(e)}function wee(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?AE(a,i):a.dispatchEvent(i)}var UD="focusScope.autoFocusOnMount",HD="focusScope.autoFocusOnUnmount",LH={bubbles:!1,cancelable:!0},m8e="FocusScope",Ab=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[c,d]=v.useState(null),u=As(a),l=As(i),f=v.useRef(null),m=bt(t,b=>d(b)),p=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(s){let b=function(S){if(p.paused||!c)return;const N=S.target;c.contains(N)?f.current=N:eu(f.current,{select:!0})},h=function(S){if(p.paused||!c)return;const N=S.relatedTarget;N!==null&&(c.contains(N)||eu(f.current,{select:!0}))},y=function(S){if(document.activeElement===document.body)for(const _ of S)_.removedNodes.length>0&&eu(c)};document.addEventListener("focusin",b),document.addEventListener("focusout",h);const w=new MutationObserver(y);return c&&w.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",h),w.disconnect()}}},[s,c,p.paused]),v.useEffect(()=>{if(c){zH.add(p);const b=document.activeElement;if(!c.contains(b)){const y=new CustomEvent(UD,LH);c.addEventListener(UD,u),c.dispatchEvent(y),y.defaultPrevented||(h8e(y8e(jee(c)),{select:!0}),document.activeElement===b&&eu(c))}return()=>{c.removeEventListener(UD,u),setTimeout(()=>{const y=new CustomEvent(HD,LH);c.addEventListener(HD,l),c.dispatchEvent(y),y.defaultPrevented||eu(b??document.body,{select:!0}),c.removeEventListener(HD,l),zH.remove(p)},0)}}},[c,u,l,p]);const x=v.useCallback(b=>{if(!r&&!s||p.paused)return;const h=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,y=document.activeElement;if(h&&y){const w=b.currentTarget,[S,N]=p8e(w);S&&N?!b.shiftKey&&y===N?(b.preventDefault(),r&&eu(S,{select:!0})):b.shiftKey&&y===S&&(b.preventDefault(),r&&eu(N,{select:!0})):y===w&&b.preventDefault()}},[r,s,p.paused]);return n.jsx(nt.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});Ab.displayName=m8e;function h8e(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(eu(s,{select:t}),document.activeElement!==r)return}function p8e(e){const t=jee(e),r=BH(t,e),s=BH(t.reverse(),e);return[r,s]}function jee(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function BH(e,t){for(const r of e)if(!g8e(r,{upTo:t}))return r}function g8e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function x8e(e){return e instanceof HTMLInputElement&&"select"in e}function eu(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&x8e(e)&&t&&e.select()}}var zH=v8e();function v8e(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=UH(e,t),e.unshift(t)},remove(t){e=UH(e,t),e[0]?.resume()}}}function UH(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function y8e(e){return e.filter(t=>t.tagName!=="A")}var b8e="Portal",dx=v.forwardRef((e,t)=>{const{container:r,...s}=e,[a,i]=v.useState(!1);Tr(()=>i(!0),[]);const o=r||a&&globalThis?.document?.body;return o?VQ.createPortal(n.jsx(nt.div,{...s,ref:t}),o):null});dx.displayName=b8e;function w8e(e,t){return v.useReducer((r,s)=>t[r][s]??r,e)}var TE=e=>{const{present:t,children:r}=e,s=j8e(t),a=typeof r=="function"?r({present:s.isPresent}):v.Children.only(r),i=bt(s.ref,S8e(a));return typeof r=="function"||s.isPresent?v.cloneElement(a,{ref:i}):null};TE.displayName="Presence";function j8e(e){const[t,r]=v.useState(),s=v.useRef(null),a=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[c,d]=w8e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=l1(s.current);i.current=c==="mounted"?u:"none"},[c]),Tr(()=>{const u=s.current,l=a.current;if(l!==e){const m=i.current,p=l1(u);e?d("MOUNT"):p==="none"||u?.display==="none"?d("UNMOUNT"):d(l&&m!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),Tr(()=>{if(t){let u;const l=t.ownerDocument.defaultView??window,f=p=>{const b=l1(s.current).includes(CSS.escape(p.animationName));if(p.target===t&&b&&(d("ANIMATION_END"),!a.current)){const h=t.style.animationFillMode;t.style.animationFillMode="forwards",u=l.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=h)})}},m=p=>{p.target===t&&(i.current=l1(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{l.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:v.useCallback(u=>{s.current=u?getComputedStyle(u):null,r(u)},[])}}function l1(e){return e?.animationName||"none"}function S8e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var VD=0;function N8e(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??HH()),document.body.insertAdjacentElement("beforeend",e[1]??HH()),VD++,()=>{VD===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),VD--}},[])}function HH(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var _l=function(){return _l=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},_l.apply(this,arguments)};function See(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function C8e(e,t,r){if(r||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var GN="right-scroll-bar-position",YN="width-before-scroll-bar",_8e="with-scroll-bars-hidden",E8e="--removed-body-scroll-bar-size";function WD(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function k8e(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var a=r.value;a!==s&&(r.value=s,r.callback(s,a))}}}})[0];return r.callback=t,r.facade}var A8e=typeof window<"u"?v.useLayoutEffect:v.useEffect,VH=new WeakMap;function T8e(e,t){var r=k8e(null,function(s){return e.forEach(function(a){return WD(a,s)})});return A8e(function(){var s=VH.get(r);if(s){var a=new Set(s),i=new Set(e),o=r.current;a.forEach(function(c){i.has(c)||WD(c,null)}),i.forEach(function(c){a.has(c)||WD(c,o)})}VH.set(r,e)},[e]),r}function D8e(e){return e}function P8e(e,t){t===void 0&&(t=D8e);var r=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,s);return r.push(o),function(){r=r.filter(function(c){return c!==o})}},assignSyncMedium:function(i){for(s=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(c){return i(c)},filter:function(){return r}}},assignMedium:function(i){s=!0;var o=[];if(r.length){var c=r;r=[],c.forEach(i),o=r}var d=function(){var l=o;o=[],l.forEach(i)},u=function(){return Promise.resolve().then(d)};u(),r={push:function(l){o.push(l),u()},filter:function(l){return o=o.filter(l),r}}}};return a}function R8e(e){e===void 0&&(e={});var t=P8e(null);return t.options=_l({async:!0,ssr:!1},e),t}var Nee=function(e){var t=e.sideCar,r=See(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return v.createElement(s,_l({},r))};Nee.isSideCarExport=!0;function M8e(e,t){return e.useMedium(t),Nee}var Cee=R8e(),qD=function(){},DE=v.forwardRef(function(e,t){var r=v.useRef(null),s=v.useState({onScrollCapture:qD,onWheelCapture:qD,onTouchMoveCapture:qD}),a=s[0],i=s[1],o=e.forwardProps,c=e.children,d=e.className,u=e.removeScrollBar,l=e.enabled,f=e.shards,m=e.sideCar,p=e.noRelative,x=e.noIsolation,b=e.inert,h=e.allowPinchZoom,y=e.as,w=y===void 0?"div":y,S=e.gapMode,N=See(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=m,k=T8e([r,t]),E=_l(_l({},N),a);return v.createElement(v.Fragment,null,l&&v.createElement(_,{sideCar:Cee,removeScrollBar:u,shards:f,noRelative:p,noIsolation:x,inert:b,setCallbacks:i,allowPinchZoom:!!h,lockRef:r,gapMode:S}),o?v.cloneElement(v.Children.only(c),_l(_l({},E),{ref:k})):v.createElement(w,_l({},E,{className:d,ref:k}),c))});DE.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};DE.classNames={fullWidth:YN,zeroRight:GN};var O8e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function I8e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=O8e();return t&&e.setAttribute("nonce",t),e}function F8e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function $8e(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var L8e=function(){var e=0,t=null;return{add:function(r){e==0&&(t=I8e())&&(F8e(t,r),$8e(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},B8e=function(){var e=L8e();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},_ee=function(){var e=B8e(),t=function(r){var s=r.styles,a=r.dynamic;return e(s,a),null};return t},z8e={left:0,top:0,right:0,gap:0},GD=function(e){return parseInt(e||"",10)||0},U8e=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[GD(r),GD(s),GD(a)]},H8e=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return z8e;var t=U8e(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},V8e=_ee(),eg="data-scroll-locked",W8e=function(e,t,r,s){var a=e.left,i=e.top,o=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(_8e,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(c,"px ").concat(s,`;
  }
  body[`).concat(eg,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(GN,` {
    right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(YN,` {
    margin-right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(GN," .").concat(GN,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(YN," .").concat(YN,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(eg,`] {
    `).concat(E8e,": ").concat(c,`px;
  }
`)},WH=function(){var e=parseInt(document.body.getAttribute(eg)||"0",10);return isFinite(e)?e:0},q8e=function(){v.useEffect(function(){return document.body.setAttribute(eg,(WH()+1).toString()),function(){var e=WH()-1;e<=0?document.body.removeAttribute(eg):document.body.setAttribute(eg,e.toString())}},[])},G8e=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;q8e();var i=v.useMemo(function(){return H8e(a)},[a]);return v.createElement(V8e,{styles:W8e(i,!t,a,r?"":"!important")})},xM=!1;if(typeof window<"u")try{var c1=Object.defineProperty({},"passive",{get:function(){return xM=!0,!0}});window.addEventListener("test",c1,c1),window.removeEventListener("test",c1,c1)}catch{xM=!1}var cp=xM?{passive:!1}:!1,Y8e=function(e){return e.tagName==="TEXTAREA"},Eee=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Y8e(e)&&r[t]==="visible")},K8e=function(e){return Eee(e,"overflowY")},Z8e=function(e){return Eee(e,"overflowX")},qH=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=kee(e,s);if(a){var i=Aee(e,s),o=i[1],c=i[2];if(o>c)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},X8e=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},J8e=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},kee=function(e,t){return e==="v"?K8e(t):Z8e(t)},Aee=function(e,t){return e==="v"?X8e(t):J8e(t)},Q8e=function(e,t){return e==="h"&&t==="rtl"?-1:1},eze=function(e,t,r,s,a){var i=Q8e(e,window.getComputedStyle(t).direction),o=i*s,c=r.target,d=t.contains(c),u=!1,l=o>0,f=0,m=0;do{if(!c)break;var p=Aee(e,c),x=p[0],b=p[1],h=p[2],y=b-h-i*x;(x||y)&&kee(e,c)&&(f+=y,m+=x);var w=c.parentNode;c=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(l&&Math.abs(f)<1||!l&&Math.abs(m)<1)&&(u=!0),u},d1=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},GH=function(e){return[e.deltaX,e.deltaY]},YH=function(e){return e&&"current"in e?e.current:e},tze=function(e,t){return e[0]===t[0]&&e[1]===t[1]},rze=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},sze=0,dp=[];function nze(e){var t=v.useRef([]),r=v.useRef([0,0]),s=v.useRef(),a=v.useState(sze++)[0],i=v.useState(_ee)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var b=C8e([e.lockRef.current],(e.shards||[]).map(YH),!0).filter(Boolean);return b.forEach(function(h){return h.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),b.forEach(function(h){return h.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var c=v.useCallback(function(b,h){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!o.current.allowPinchZoom;var y=d1(b),w=r.current,S="deltaX"in b?b.deltaX:w[0]-y[0],N="deltaY"in b?b.deltaY:w[1]-y[1],_,k=b.target,E=Math.abs(S)>Math.abs(N)?"h":"v";if("touches"in b&&E==="h"&&k.type==="range")return!1;var T=qH(E,k);if(!T)return!0;if(T?_=E:(_=E==="v"?"h":"v",T=qH(E,k)),!T)return!1;if(!s.current&&"changedTouches"in b&&(S||N)&&(s.current=_),!_)return!0;var D=s.current||_;return eze(D,h,b,D==="h"?S:N)},[]),d=v.useCallback(function(b){var h=b;if(!(!dp.length||dp[dp.length-1]!==i)){var y="deltaY"in h?GH(h):d1(h),w=t.current.filter(function(_){return _.name===h.type&&(_.target===h.target||h.target===_.shadowParent)&&tze(_.delta,y)})[0];if(w&&w.should){h.cancelable&&h.preventDefault();return}if(!w){var S=(o.current.shards||[]).map(YH).filter(Boolean).filter(function(_){return _.contains(h.target)}),N=S.length>0?c(h,S[0]):!o.current.noIsolation;N&&h.cancelable&&h.preventDefault()}}},[]),u=v.useCallback(function(b,h,y,w){var S={name:b,delta:h,target:y,should:w,shadowParent:aze(y)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(N){return N!==S})},1)},[]),l=v.useCallback(function(b){r.current=d1(b),s.current=void 0},[]),f=v.useCallback(function(b){u(b.type,GH(b),b.target,c(b,e.lockRef.current))},[]),m=v.useCallback(function(b){u(b.type,d1(b),b.target,c(b,e.lockRef.current))},[]);v.useEffect(function(){return dp.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",d,cp),document.addEventListener("touchmove",d,cp),document.addEventListener("touchstart",l,cp),function(){dp=dp.filter(function(b){return b!==i}),document.removeEventListener("wheel",d,cp),document.removeEventListener("touchmove",d,cp),document.removeEventListener("touchstart",l,cp)}},[]);var p=e.removeScrollBar,x=e.inert;return v.createElement(v.Fragment,null,x?v.createElement(i,{styles:rze(a)}):null,p?v.createElement(G8e,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function aze(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ize=M8e(Cee,nze);var Tb=v.forwardRef(function(e,t){return v.createElement(DE,_l({},e,{ref:t,sideCar:ize}))});Tb.classNames=DE.classNames;var oze=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},up=new WeakMap,u1=new WeakMap,f1={},YD=0,Tee=function(e){return e&&(e.host||Tee(e.parentNode))},lze=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=Tee(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},cze=function(e,t,r,s){var a=lze(t,Array.isArray(e)?e:[e]);f1[r]||(f1[r]=new WeakMap);var i=f1[r],o=[],c=new Set,d=new Set(a),u=function(f){!f||c.has(f)||(c.add(f),u(f.parentNode))};a.forEach(u);var l=function(f){!f||d.has(f)||Array.prototype.forEach.call(f.children,function(m){if(c.has(m))l(m);else try{var p=m.getAttribute(s),x=p!==null&&p!=="false",b=(up.get(m)||0)+1,h=(i.get(m)||0)+1;up.set(m,b),i.set(m,h),o.push(m),b===1&&x&&u1.set(m,!0),h===1&&m.setAttribute(r,"true"),x||m.setAttribute(s,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return l(t),c.clear(),YD++,function(){o.forEach(function(f){var m=up.get(f)-1,p=i.get(f)-1;up.set(f,m),i.set(f,p),m||(u1.has(f)||f.removeAttribute(s),u1.delete(f)),p||f.removeAttribute(r)}),YD--,YD||(up=new WeakMap,up=new WeakMap,u1=new WeakMap,f1={})}},PE=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=oze(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),cze(s,a,r,"aria-hidden")):function(){return null}},RE="Dialog",[Dee,Pee]=cn(RE),[dze,al]=Dee(RE),Ree=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,c=v.useRef(null),d=v.useRef(null),[u,l]=Di({prop:s,defaultProp:a??!1,onChange:i,caller:RE});return n.jsx(dze,{scope:t,triggerRef:c,contentRef:d,contentId:An(),titleId:An(),descriptionId:An(),open:u,onOpenChange:l,onOpenToggle:v.useCallback(()=>l(f=>!f),[l]),modal:o,children:r})};Ree.displayName=RE;var Mee="DialogTrigger",Oee=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=al(Mee,r),i=bt(t,a.triggerRef);return n.jsx(nt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":C3(a.open),...s,ref:i,onClick:hu(e.onClick,a.onOpenToggle)})});Oee.displayName=Mee;var S3="DialogPortal",[uze,Iee]=Dee(S3,{forceMount:void 0}),Fee=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,i=al(S3,t);return n.jsx(uze,{scope:t,forceMount:r,children:v.Children.map(s,o=>n.jsx(TE,{present:r||i.open,children:n.jsx(dx,{asChild:!0,container:a,children:o})}))})};Fee.displayName=S3;var DC="DialogOverlay",$ee=v.forwardRef((e,t)=>{const r=Iee(DC,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=al(DC,e.__scopeDialog);return i.modal?n.jsx(TE,{present:s||i.open,children:n.jsx(mze,{...a,ref:t})}):null});$ee.displayName=DC;var fze=Nu("DialogOverlay.RemoveScroll"),mze=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=al(DC,r);return n.jsx(Tb,{as:fze,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(nt.div,{"data-state":C3(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Tm="DialogContent",Lee=v.forwardRef((e,t)=>{const r=Iee(Tm,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=al(Tm,e.__scopeDialog);return n.jsx(TE,{present:s||i.open,children:i.modal?n.jsx(hze,{...a,ref:t}):n.jsx(pze,{...a,ref:t})})});Lee.displayName=Tm;var hze=v.forwardRef((e,t)=>{const r=al(Tm,e.__scopeDialog),s=v.useRef(null),a=bt(t,r.contentRef,s);return v.useEffect(()=>{const i=s.current;if(i)return PE(i)},[]),n.jsx(Bee,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:hu(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:hu(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&i.preventDefault()}),onFocusOutside:hu(e.onFocusOutside,i=>i.preventDefault())})}),pze=v.forwardRef((e,t)=>{const r=al(Tm,e.__scopeDialog),s=v.useRef(!1),a=v.useRef(!1);return n.jsx(Bee,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(s.current||r.triggerRef.current?.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Bee=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,c=al(Tm,r),d=v.useRef(null),u=bt(t,d);return N8e(),n.jsxs(n.Fragment,{children:[n.jsx(Ab,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(bee,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":C3(c.open),...o,ref:u,onDismiss:()=>c.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(xze,{titleId:c.titleId}),n.jsx(yze,{contentRef:d,descriptionId:c.descriptionId})]})]})}),N3="DialogTitle",zee=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=al(N3,r);return n.jsx(nt.h2,{id:a.titleId,...s,ref:t})});zee.displayName=N3;var Uee="DialogDescription",Hee=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=al(Uee,r);return n.jsx(nt.p,{id:a.descriptionId,...s,ref:t})});Hee.displayName=Uee;var Vee="DialogClose",Wee=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=al(Vee,r);return n.jsx(nt.button,{type:"button",...s,ref:t,onClick:hu(e.onClick,()=>a.onOpenChange(!1))})});Wee.displayName=Vee;function C3(e){return e?"open":"closed"}var qee="DialogTitleWarning",[gze,Gee]=QBe(qee,{contentName:Tm,titleName:N3,docsSlug:"dialog"}),xze=({titleId:e})=>{const t=Gee(qee),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},vze="DialogDescriptionWarning",yze=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Gee(vze).contentName}}.`;return v.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},Db=Ree,Yee=Oee,Pb=Fee,Bu=$ee,zu=Lee,Uu=zee,Qm=Hee,ux=Wee;const bze=Db,wze=Pb,Kee=v.forwardRef(({className:e,...t},r)=>n.jsx(Bu,{className:X("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Kee.displayName=Bu.displayName;const jze=Jm("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Zee=v.forwardRef(({side:e="right",className:t,children:r,...s},a)=>n.jsxs(wze,{children:[n.jsx(Kee,{}),n.jsxs(zu,{ref:a,className:X(jze({side:e}),t),...s,children:[n.jsxs(ux,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[n.jsx(Kr,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]}),r]})]}));Zee.displayName=zu.displayName;const Xee=({className:e,...t})=>n.jsx("div",{className:X("flex flex-col space-y-2 text-center sm:text-left",e),...t});Xee.displayName="SheetHeader";const Jee=v.forwardRef(({className:e,...t},r)=>n.jsx(Uu,{ref:r,className:X("text-lg font-semibold text-foreground",e),...t}));Jee.displayName=Uu.displayName;const Qee=v.forwardRef(({className:e,...t},r)=>n.jsx(Qm,{ref:r,className:X("text-sm text-muted-foreground",e),...t}));Qee.displayName=Qm.displayName;function rt({className:e,...t}){return n.jsx("div",{className:X("animate-pulse rounded-md bg-primary/10",e),...t})}function Lt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}var Sze="DismissableLayer",vM="dismissableLayer.update",Nze="dismissableLayer.pointerDownOutside",Cze="dismissableLayer.focusOutside",KH,ete=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ME=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:c,...d}=e,u=v.useContext(ete),[l,f]=v.useState(null),m=l?.ownerDocument??globalThis?.document,[,p]=v.useState({}),x=bt(t,E=>f(E)),b=Array.from(u.layers),[h]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=b.indexOf(h),w=l?b.indexOf(l):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,N=w>=y,_=kze(E=>{const T=E.target,D=[...u.branches].some(P=>P.contains(T));!N||D||(a?.(E),o?.(E),E.defaultPrevented||c?.())},m),k=Aze(E=>{const T=E.target;[...u.branches].some(P=>P.contains(T))||(i?.(E),o?.(E),E.defaultPrevented||c?.())},m);return j3(E=>{w===u.layers.size-1&&(s?.(E),!E.defaultPrevented&&c&&(E.preventDefault(),c()))},m),v.useEffect(()=>{if(l)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(KH=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(l)),u.layers.add(l),ZH(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=KH)}},[l,m,r,u]),v.useEffect(()=>()=>{l&&(u.layers.delete(l),u.layersWithOutsidePointerEventsDisabled.delete(l),ZH())},[l,u]),v.useEffect(()=>{const E=()=>p({});return document.addEventListener(vM,E),()=>document.removeEventListener(vM,E)},[]),n.jsx(nt.div,{...d,ref:x,style:{pointerEvents:S?N?"auto":"none":void 0,...e.style},onFocusCapture:Lt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Lt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Lt(e.onPointerDownCapture,_.onPointerDownCapture)})});ME.displayName=Sze;var _ze="DismissableLayerBranch",Eze=v.forwardRef((e,t)=>{const r=v.useContext(ete),s=v.useRef(null),a=bt(t,s);return v.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(nt.div,{...e,ref:a})});Eze.displayName=_ze;function kze(e,t=globalThis?.document){const r=As(e),s=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const i=c=>{if(c.target&&!s.current){let d=function(){tte(Nze,r,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function Aze(e,t=globalThis?.document){const r=As(e),s=v.useRef(!1);return v.useEffect(()=>{const a=i=>{i.target&&!s.current&&tte(Cze,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function ZH(){const e=new CustomEvent(vM);document.dispatchEvent(e)}function tte(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?AE(a,i):a.dispatchEvent(i)}const Tze=["top","right","bottom","left"],Cu=Math.min,yi=Math.max,PC=Math.round,m1=Math.floor,Ml=e=>({x:e,y:e}),Dze={left:"right",right:"left",bottom:"top",top:"bottom"},Pze={start:"end",end:"start"};function yM(e,t,r){return yi(e,Cu(t,r))}function Wc(e,t){return typeof e=="function"?e(t):e}function qc(e){return e.split("-")[0]}function fx(e){return e.split("-")[1]}function _3(e){return e==="x"?"y":"x"}function E3(e){return e==="y"?"height":"width"}const Rze=new Set(["top","bottom"]);function Al(e){return Rze.has(qc(e))?"y":"x"}function k3(e){return _3(Al(e))}function Mze(e,t,r){r===void 0&&(r=!1);const s=fx(e),a=k3(e),i=E3(a);let o=a==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=RC(o)),[o,RC(o)]}function Oze(e){const t=RC(e);return[bM(e),t,bM(t)]}function bM(e){return e.replace(/start|end/g,t=>Pze[t])}const XH=["left","right"],JH=["right","left"],Ize=["top","bottom"],Fze=["bottom","top"];function $ze(e,t,r){switch(e){case"top":case"bottom":return r?t?JH:XH:t?XH:JH;case"left":case"right":return t?Ize:Fze;default:return[]}}function Lze(e,t,r,s){const a=fx(e);let i=$ze(qc(e),r==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(bM)))),i}function RC(e){return e.replace(/left|right|bottom|top/g,t=>Dze[t])}function Bze(e){return{top:0,right:0,bottom:0,left:0,...e}}function rte(e){return typeof e!="number"?Bze(e):{top:e,right:e,bottom:e,left:e}}function MC(e){const{x:t,y:r,width:s,height:a}=e;return{width:s,height:a,top:r,left:t,right:t+s,bottom:r+a,x:t,y:r}}function QH(e,t,r){let{reference:s,floating:a}=e;const i=Al(t),o=k3(t),c=E3(o),d=qc(t),u=i==="y",l=s.x+s.width/2-a.width/2,f=s.y+s.height/2-a.height/2,m=s[c]/2-a[c]/2;let p;switch(d){case"top":p={x:l,y:s.y-a.height};break;case"bottom":p={x:l,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:f};break;case"left":p={x:s.x-a.width,y:f};break;default:p={x:s.x,y:s.y}}switch(fx(t)){case"start":p[o]-=m*(r&&u?-1:1);break;case"end":p[o]+=m*(r&&u?-1:1);break}return p}const zze=async(e,t,r)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,c=i.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:l,y:f}=QH(u,s,d),m=s,p={},x=0;for(let b=0;b<c.length;b++){const{name:h,fn:y}=c[b],{x:w,y:S,data:N,reset:_}=await y({x:l,y:f,initialPlacement:s,placement:m,strategy:a,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});l=w??l,f=S??f,p={...p,[h]:{...p[h],...N}},_&&x<=50&&(x++,typeof _=="object"&&(_.placement&&(m=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):_.rects),{x:l,y:f}=QH(u,m,d)),b=-1)}return{x:l,y:f,placement:m,strategy:a,middlewareData:p}};async function Ey(e,t){var r;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:c,strategy:d}=e,{boundary:u="clippingAncestors",rootBoundary:l="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=Wc(t,e),x=rte(p),h=c[m?f==="floating"?"reference":"floating":f],y=MC(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(h)))==null||r?h:h.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:u,rootBoundary:l,strategy:d})),w=f==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),N=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},_=MC(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:w,offsetParent:S,strategy:d}):w);return{top:(y.top-_.top+x.top)/N.y,bottom:(_.bottom-y.bottom+x.bottom)/N.y,left:(y.left-_.left+x.left)/N.x,right:(_.right-y.right+x.right)/N.x}}const Uze=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:a,rects:i,platform:o,elements:c,middlewareData:d}=t,{element:u,padding:l=0}=Wc(e,t)||{};if(u==null)return{};const f=rte(l),m={x:r,y:s},p=k3(a),x=E3(p),b=await o.getDimensions(u),h=p==="y",y=h?"top":"left",w=h?"bottom":"right",S=h?"clientHeight":"clientWidth",N=i.reference[x]+i.reference[p]-m[p]-i.floating[x],_=m[p]-i.reference[p],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let E=k?k[S]:0;(!E||!await(o.isElement==null?void 0:o.isElement(k)))&&(E=c.floating[S]||i.floating[x]);const T=N/2-_/2,D=E/2-b[x]/2-1,P=Cu(f[y],D),M=Cu(f[w],D),R=P,B=E-b[x]-M,L=E/2-b[x]/2+T,$=yM(R,L,B),I=!d.arrow&&fx(a)!=null&&L!==$&&i.reference[x]/2-(L<R?P:M)-b[x]/2<0,z=I?L<R?L-R:L-B:0;return{[p]:m[p]+z,data:{[p]:$,centerOffset:L-$-z,...I&&{alignmentOffset:z}},reset:I}}}),Hze=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:c,platform:d,elements:u}=t,{mainAxis:l=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:b=!0,...h}=Wc(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=qc(a),w=Al(c),S=qc(c)===c,N=await(d.isRTL==null?void 0:d.isRTL(u.floating)),_=m||(S||!b?[RC(c)]:Oze(c)),k=x!=="none";!m&&k&&_.push(...Lze(c,b,x,N));const E=[c,..._],T=await Ey(t,h),D=[];let P=((s=i.flip)==null?void 0:s.overflows)||[];if(l&&D.push(T[y]),f){const L=Mze(a,o,N);D.push(T[L[0]],T[L[1]])}if(P=[...P,{placement:a,overflows:D}],!D.every(L=>L<=0)){var M,R;const L=(((M=i.flip)==null?void 0:M.index)||0)+1,$=E[L];if($&&(!(f==="alignment"?w!==Al($):!1)||P.every(H=>Al(H.placement)===w?H.overflows[0]>0:!0)))return{data:{index:L,overflows:P},reset:{placement:$}};let I=(R=P.filter(z=>z.overflows[0]<=0).sort((z,H)=>z.overflows[1]-H.overflows[1])[0])==null?void 0:R.placement;if(!I)switch(p){case"bestFit":{var B;const z=(B=P.filter(H=>{if(k){const Z=Al(H.placement);return Z===w||Z==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(Z=>Z>0).reduce((Z,V)=>Z+V,0)]).sort((H,Z)=>H[1]-Z[1])[0])==null?void 0:B[0];z&&(I=z);break}case"initialPlacement":I=c;break}if(a!==I)return{reset:{placement:I}}}return{}}}};function e9(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function t9(e){return Tze.some(t=>e[t]>=0)}const Vze=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:s="referenceHidden",...a}=Wc(e,t);switch(s){case"referenceHidden":{const i=await Ey(t,{...a,elementContext:"reference"}),o=e9(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:t9(o)}}}case"escaped":{const i=await Ey(t,{...a,altBoundary:!0}),o=e9(i,r.floating);return{data:{escapedOffsets:o,escaped:t9(o)}}}default:return{}}}}},ste=new Set(["left","top"]);async function Wze(e,t){const{placement:r,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=qc(r),c=fx(r),d=Al(r)==="y",u=ste.has(o)?-1:1,l=i&&d?-1:1,f=Wc(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof x=="number"&&(p=c==="end"?x*-1:x),d?{x:p*l,y:m*u}:{x:m*u,y:p*l}}const qze=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:a,y:i,placement:o,middlewareData:c}=t,d=await Wze(t,e);return o===((r=c.offset)==null?void 0:r.placement)&&(s=c.arrow)!=null&&s.alignmentOffset?{}:{x:a+d.x,y:i+d.y,data:{...d,placement:o}}}}},Gze=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:c={fn:h=>{let{x:y,y:w}=h;return{x:y,y:w}}},...d}=Wc(e,t),u={x:r,y:s},l=await Ey(t,d),f=Al(qc(a)),m=_3(f);let p=u[m],x=u[f];if(i){const h=m==="y"?"top":"left",y=m==="y"?"bottom":"right",w=p+l[h],S=p-l[y];p=yM(w,p,S)}if(o){const h=f==="y"?"top":"left",y=f==="y"?"bottom":"right",w=x+l[h],S=x-l[y];x=yM(w,x,S)}const b=c.fn({...t,[m]:p,[f]:x});return{...b,data:{x:b.x-r,y:b.y-s,enabled:{[m]:i,[f]:o}}}}}},Yze=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:c=0,mainAxis:d=!0,crossAxis:u=!0}=Wc(e,t),l={x:r,y:s},f=Al(a),m=_3(f);let p=l[m],x=l[f];const b=Wc(c,t),h=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(d){const S=m==="y"?"height":"width",N=i.reference[m]-i.floating[S]+h.mainAxis,_=i.reference[m]+i.reference[S]-h.mainAxis;p<N?p=N:p>_&&(p=_)}if(u){var y,w;const S=m==="y"?"width":"height",N=ste.has(qc(a)),_=i.reference[f]-i.floating[S]+(N&&((y=o.offset)==null?void 0:y[f])||0)+(N?0:h.crossAxis),k=i.reference[f]+i.reference[S]+(N?0:((w=o.offset)==null?void 0:w[f])||0)-(N?h.crossAxis:0);x<_?x=_:x>k&&(x=k)}return{[m]:p,[f]:x}}}},Kze=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:a,rects:i,platform:o,elements:c}=t,{apply:d=()=>{},...u}=Wc(e,t),l=await Ey(t,u),f=qc(a),m=fx(a),p=Al(a)==="y",{width:x,height:b}=i.floating;let h,y;f==="top"||f==="bottom"?(h=f,y=m===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(y=f,h=m==="end"?"top":"bottom");const w=b-l.top-l.bottom,S=x-l.left-l.right,N=Cu(b-l[h],w),_=Cu(x-l[y],S),k=!t.middlewareData.shift;let E=N,T=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=S),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(E=w),k&&!m){const P=yi(l.left,0),M=yi(l.right,0),R=yi(l.top,0),B=yi(l.bottom,0);p?T=x-2*(P!==0||M!==0?P+M:yi(l.left,l.right)):E=b-2*(R!==0||B!==0?R+B:yi(l.top,l.bottom))}await d({...t,availableWidth:T,availableHeight:E});const D=await o.getDimensions(c.floating);return x!==D.width||b!==D.height?{reset:{rects:!0}}:{}}}};function OE(){return typeof window<"u"}function mx(e){return nte(e)?(e.nodeName||"").toLowerCase():"#document"}function Ci(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Yl(e){var t;return(t=(nte(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function nte(e){return OE()?e instanceof Node||e instanceof Ci(e).Node:!1}function Ko(e){return OE()?e instanceof Element||e instanceof Ci(e).Element:!1}function Bl(e){return OE()?e instanceof HTMLElement||e instanceof Ci(e).HTMLElement:!1}function r9(e){return!OE()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ci(e).ShadowRoot}const Zze=new Set(["inline","contents"]);function Rb(e){const{overflow:t,overflowX:r,overflowY:s,display:a}=Zo(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!Zze.has(a)}const Xze=new Set(["table","td","th"]);function Jze(e){return Xze.has(mx(e))}const Qze=[":popover-open",":modal"];function IE(e){return Qze.some(t=>{try{return e.matches(t)}catch{return!1}})}const eUe=["transform","translate","scale","rotate","perspective"],tUe=["transform","translate","scale","rotate","perspective","filter"],rUe=["paint","layout","strict","content"];function A3(e){const t=T3(),r=Ko(e)?Zo(e):e;return eUe.some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||tUe.some(s=>(r.willChange||"").includes(s))||rUe.some(s=>(r.contain||"").includes(s))}function sUe(e){let t=_u(e);for(;Bl(t)&&!vg(t);){if(A3(t))return t;if(IE(t))return null;t=_u(t)}return null}function T3(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const nUe=new Set(["html","body","#document"]);function vg(e){return nUe.has(mx(e))}function Zo(e){return Ci(e).getComputedStyle(e)}function FE(e){return Ko(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function _u(e){if(mx(e)==="html")return e;const t=e.assignedSlot||e.parentNode||r9(e)&&e.host||Yl(e);return r9(t)?t.host:t}function ate(e){const t=_u(e);return vg(t)?e.ownerDocument?e.ownerDocument.body:e.body:Bl(t)&&Rb(t)?t:ate(t)}function ky(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=ate(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=Ci(a);if(i){const c=wM(o);return t.concat(o,o.visualViewport||[],Rb(a)?a:[],c&&r?ky(c):[])}return t.concat(a,ky(a,[],r))}function wM(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ite(e){const t=Zo(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=Bl(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:s,c=PC(r)!==i||PC(s)!==o;return c&&(r=i,s=o),{width:r,height:s,$:c}}function D3(e){return Ko(e)?e:e.contextElement}function tg(e){const t=D3(e);if(!Bl(t))return Ml(1);const r=t.getBoundingClientRect(),{width:s,height:a,$:i}=ite(t);let o=(i?PC(r.width):r.width)/s,c=(i?PC(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const aUe=Ml(0);function ote(e){const t=Ci(e);return!T3()||!t.visualViewport?aUe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function iUe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ci(e)?!1:t}function Dm(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=D3(e);let o=Ml(1);t&&(s?Ko(s)&&(o=tg(s)):o=tg(e));const c=iUe(i,r,s)?ote(i):Ml(0);let d=(a.left+c.x)/o.x,u=(a.top+c.y)/o.y,l=a.width/o.x,f=a.height/o.y;if(i){const m=Ci(i),p=s&&Ko(s)?Ci(s):s;let x=m,b=wM(x);for(;b&&s&&p!==x;){const h=tg(b),y=b.getBoundingClientRect(),w=Zo(b),S=y.left+(b.clientLeft+parseFloat(w.paddingLeft))*h.x,N=y.top+(b.clientTop+parseFloat(w.paddingTop))*h.y;d*=h.x,u*=h.y,l*=h.x,f*=h.y,d+=S,u+=N,x=Ci(b),b=wM(x)}}return MC({width:l,height:f,x:d,y:u})}function P3(e,t){const r=FE(e).scrollLeft;return t?t.left+r:Dm(Yl(e)).left+r}function lte(e,t,r){r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(r?0:P3(e,s)),i=s.top+t.scrollTop;return{x:a,y:i}}function oUe(e){let{elements:t,rect:r,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=Yl(s),c=t?IE(t.floating):!1;if(s===o||c&&i)return r;let d={scrollLeft:0,scrollTop:0},u=Ml(1);const l=Ml(0),f=Bl(s);if((f||!f&&!i)&&((mx(s)!=="body"||Rb(o))&&(d=FE(s)),Bl(s))){const p=Dm(s);u=tg(s),l.x=p.x+s.clientLeft,l.y=p.y+s.clientTop}const m=o&&!f&&!i?lte(o,d,!0):Ml(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-d.scrollLeft*u.x+l.x+m.x,y:r.y*u.y-d.scrollTop*u.y+l.y+m.y}}function lUe(e){return Array.from(e.getClientRects())}function cUe(e){const t=Yl(e),r=FE(e),s=e.ownerDocument.body,a=yi(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=yi(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-r.scrollLeft+P3(e);const c=-r.scrollTop;return Zo(s).direction==="rtl"&&(o+=yi(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:c}}function dUe(e,t){const r=Ci(e),s=Yl(e),a=r.visualViewport;let i=s.clientWidth,o=s.clientHeight,c=0,d=0;if(a){i=a.width,o=a.height;const u=T3();(!u||u&&t==="fixed")&&(c=a.offsetLeft,d=a.offsetTop)}return{width:i,height:o,x:c,y:d}}const uUe=new Set(["absolute","fixed"]);function fUe(e,t){const r=Dm(e,!0,t==="fixed"),s=r.top+e.clientTop,a=r.left+e.clientLeft,i=Bl(e)?tg(e):Ml(1),o=e.clientWidth*i.x,c=e.clientHeight*i.y,d=a*i.x,u=s*i.y;return{width:o,height:c,x:d,y:u}}function s9(e,t,r){let s;if(t==="viewport")s=dUe(e,r);else if(t==="document")s=cUe(Yl(e));else if(Ko(t))s=fUe(t,r);else{const a=ote(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return MC(s)}function cte(e,t){const r=_u(e);return r===t||!Ko(r)||vg(r)?!1:Zo(r).position==="fixed"||cte(r,t)}function mUe(e,t){const r=t.get(e);if(r)return r;let s=ky(e,[],!1).filter(c=>Ko(c)&&mx(c)!=="body"),a=null;const i=Zo(e).position==="fixed";let o=i?_u(e):e;for(;Ko(o)&&!vg(o);){const c=Zo(o),d=A3(o);!d&&c.position==="fixed"&&(a=null),(i?!d&&!a:!d&&c.position==="static"&&!!a&&uUe.has(a.position)||Rb(o)&&!d&&cte(e,o))?s=s.filter(l=>l!==o):a=c,o=_u(o)}return t.set(e,s),s}function hUe(e){let{element:t,boundary:r,rootBoundary:s,strategy:a}=e;const o=[...r==="clippingAncestors"?IE(t)?[]:mUe(t,this._c):[].concat(r),s],c=o[0],d=o.reduce((u,l)=>{const f=s9(t,l,a);return u.top=yi(f.top,u.top),u.right=Cu(f.right,u.right),u.bottom=Cu(f.bottom,u.bottom),u.left=yi(f.left,u.left),u},s9(t,c,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function pUe(e){const{width:t,height:r}=ite(e);return{width:t,height:r}}function gUe(e,t,r){const s=Bl(t),a=Yl(t),i=r==="fixed",o=Dm(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const d=Ml(0);function u(){d.x=P3(a)}if(s||!s&&!i)if((mx(t)!=="body"||Rb(a))&&(c=FE(t)),s){const p=Dm(t,!0,i,t);d.x=p.x+t.clientLeft,d.y=p.y+t.clientTop}else a&&u();i&&!s&&a&&u();const l=a&&!s&&!i?lte(a,c):Ml(0),f=o.left+c.scrollLeft-d.x-l.x,m=o.top+c.scrollTop-d.y-l.y;return{x:f,y:m,width:o.width,height:o.height}}function KD(e){return Zo(e).position==="static"}function n9(e,t){if(!Bl(e)||Zo(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Yl(e)===r&&(r=r.ownerDocument.body),r}function dte(e,t){const r=Ci(e);if(IE(e))return r;if(!Bl(e)){let a=_u(e);for(;a&&!vg(a);){if(Ko(a)&&!KD(a))return a;a=_u(a)}return r}let s=n9(e,t);for(;s&&Jze(s)&&KD(s);)s=n9(s,t);return s&&vg(s)&&KD(s)&&!A3(s)?r:s||sUe(e)||r}const xUe=async function(e){const t=this.getOffsetParent||dte,r=this.getDimensions,s=await r(e.floating);return{reference:gUe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function vUe(e){return Zo(e).direction==="rtl"}const yUe={convertOffsetParentRelativeRectToViewportRelativeRect:oUe,getDocumentElement:Yl,getClippingRect:hUe,getOffsetParent:dte,getElementRects:xUe,getClientRects:lUe,getDimensions:pUe,getScale:tg,isElement:Ko,isRTL:vUe};function ute(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function bUe(e,t){let r=null,s;const a=Yl(e);function i(){var c;clearTimeout(s),(c=r)==null||c.disconnect(),r=null}function o(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),i();const u=e.getBoundingClientRect(),{left:l,top:f,width:m,height:p}=u;if(c||t(),!m||!p)return;const x=m1(f),b=m1(a.clientWidth-(l+m)),h=m1(a.clientHeight-(f+p)),y=m1(l),S={rootMargin:-x+"px "+-b+"px "+-h+"px "+-y+"px",threshold:yi(0,Cu(1,d))||1};let N=!0;function _(k){const E=k[0].intersectionRatio;if(E!==d){if(!N)return o();E?o(!1,E):s=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!ute(u,e.getBoundingClientRect())&&o(),N=!1}try{r=new IntersectionObserver(_,{...S,root:a.ownerDocument})}catch{r=new IntersectionObserver(_,S)}r.observe(e)}return o(!0),i}function fte(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=s,u=D3(e),l=a||i?[...u?ky(u):[],...ky(t)]:[];l.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const f=u&&c?bUe(u,r):null;let m=-1,p=null;o&&(p=new ResizeObserver(y=>{let[w]=y;w&&w.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(t)})),r()}),u&&!d&&p.observe(u),p.observe(t));let x,b=d?Dm(e):null;d&&h();function h(){const y=Dm(e);b&&!ute(b,y)&&r(),b=y,x=requestAnimationFrame(h)}return r(),()=>{var y;l.forEach(w=>{a&&w.removeEventListener("scroll",r),i&&w.removeEventListener("resize",r)}),f?.(),(y=p)==null||y.disconnect(),p=null,d&&cancelAnimationFrame(x)}}const wUe=qze,jUe=Gze,SUe=Hze,NUe=Kze,CUe=Vze,a9=Uze,_Ue=Yze,EUe=(e,t,r)=>{const s=new Map,a={platform:yUe,...r},i={...a.platform,_c:s};return zze(e,t,{...a,platform:i})};var kUe=typeof document<"u",AUe=function(){},KN=kUe?v.useLayoutEffect:AUe;function OC(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!OC(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=r;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!OC(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function mte(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function i9(e,t){const r=mte(e);return Math.round(t*r)/r}function ZD(e){const t=v.useRef(e);return KN(()=>{t.current=e}),t}function hte(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:c=!0,whileElementsMounted:d,open:u}=e,[l,f]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=v.useState(s);OC(m,s)||p(s);const[x,b]=v.useState(null),[h,y]=v.useState(null),w=v.useCallback(H=>{H!==k.current&&(k.current=H,b(H))},[]),S=v.useCallback(H=>{H!==E.current&&(E.current=H,y(H))},[]),N=i||x,_=o||h,k=v.useRef(null),E=v.useRef(null),T=v.useRef(l),D=d!=null,P=ZD(d),M=ZD(a),R=ZD(u),B=v.useCallback(()=>{if(!k.current||!E.current)return;const H={placement:t,strategy:r,middleware:m};M.current&&(H.platform=M.current),EUe(k.current,E.current,H).then(Z=>{const V={...Z,isPositioned:R.current!==!1};L.current&&!OC(T.current,V)&&(T.current=V,Fu.flushSync(()=>{f(V)}))})},[m,t,r,M,R]);KN(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(H=>({...H,isPositioned:!1})))},[u]);const L=v.useRef(!1);KN(()=>(L.current=!0,()=>{L.current=!1}),[]),KN(()=>{if(N&&(k.current=N),_&&(E.current=_),N&&_){if(P.current)return P.current(N,_,B);B()}},[N,_,B,P,D]);const $=v.useMemo(()=>({reference:k,floating:E,setReference:w,setFloating:S}),[w,S]),I=v.useMemo(()=>({reference:N,floating:_}),[N,_]),z=v.useMemo(()=>{const H={position:r,left:0,top:0};if(!I.floating)return H;const Z=i9(I.floating,l.x),V=i9(I.floating,l.y);return c?{...H,transform:"translate("+Z+"px, "+V+"px)",...mte(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Z,top:V}},[r,c,I.floating,l.x,l.y]);return v.useMemo(()=>({...l,update:B,refs:$,elements:I,floatingStyles:z}),[l,B,$,I,z])}const TUe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:a}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?a9({element:s.current,padding:a}).fn(r):{}:s?a9({element:s,padding:a}).fn(r):{}}}},pte=(e,t)=>({...wUe(e),options:[e,t]}),gte=(e,t)=>({...jUe(e),options:[e,t]}),xte=(e,t)=>({..._Ue(e),options:[e,t]}),vte=(e,t)=>({...SUe(e),options:[e,t]}),yte=(e,t)=>({...NUe(e),options:[e,t]}),bte=(e,t)=>({...CUe(e),options:[e,t]}),wte=(e,t)=>({...TUe(e),options:[e,t]});var DUe="Arrow",jte=v.forwardRef((e,t)=>{const{children:r,width:s=10,height:a=5,...i}=e;return n.jsx(nt.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});jte.displayName=DUe;var Ste=jte;function hx(e){const[t,r]=v.useState(void 0);return Tr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,c;if("borderBoxSize"in i){const d=i.borderBoxSize,u=Array.isArray(d)?d[0]:d;o=u.inlineSize,c=u.blockSize}else o=e.offsetWidth,c=e.offsetHeight;r({width:o,height:c})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}var R3="Popper",[Nte,px]=cn(R3),[PUe,Cte]=Nte(R3),_te=e=>{const{__scopePopper:t,children:r}=e,[s,a]=v.useState(null);return n.jsx(PUe,{scope:t,anchor:s,onAnchorChange:a,children:r})};_te.displayName=R3;var Ete="PopperAnchor",kte=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...a}=e,i=Cte(Ete,r),o=v.useRef(null),c=bt(t,o);return v.useEffect(()=>{i.onAnchorChange(s?.current||o.current)}),s?null:n.jsx(nt.div,{...a,ref:c})});kte.displayName=Ete;var M3="PopperContent",[RUe,MUe]=Nte(M3),Ate=v.forwardRef((e,t)=>{const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:l=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:x,...b}=e,h=Cte(M3,r),[y,w]=v.useState(null),S=bt(t,me=>w(me)),[N,_]=v.useState(null),k=hx(N),E=k?.width??0,T=k?.height??0,D=s+(i!=="center"?"-"+i:""),P=typeof l=="number"?l:{top:0,right:0,bottom:0,left:0,...l},M=Array.isArray(u)?u:[u],R=M.length>0,B={padding:P,boundary:M.filter(IUe),altBoundary:R},{refs:L,floatingStyles:$,placement:I,isPositioned:z,middlewareData:H}=hte({strategy:"fixed",placement:D,whileElementsMounted:(...me)=>fte(...me,{animationFrame:p==="always"}),elements:{reference:h.anchor},middleware:[pte({mainAxis:a+T,alignmentAxis:o}),d&&gte({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?xte():void 0,...B}),d&&vte({...B}),yte({...B,apply:({elements:me,rects:de,availableWidth:ie,availableHeight:ve})=>{const{width:_e,height:xe}=de.reference,Le=me.floating.style;Le.setProperty("--radix-popper-available-width",`${ie}px`),Le.setProperty("--radix-popper-available-height",`${ve}px`),Le.setProperty("--radix-popper-anchor-width",`${_e}px`),Le.setProperty("--radix-popper-anchor-height",`${xe}px`)}}),N&&wte({element:N,padding:c}),FUe({arrowWidth:E,arrowHeight:T}),m&&bte({strategy:"referenceHidden",...B})]}),[Z,V]=Pte(I),G=As(x);Tr(()=>{z&&G?.()},[z,G]);const U=H.arrow?.x,Y=H.arrow?.y,K=H.arrow?.centerOffset!==0,[re,he]=v.useState();return Tr(()=>{y&&he(window.getComputedStyle(y).zIndex)},[y]),n.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:z?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[H.transformOrigin?.x,H.transformOrigin?.y].join(" "),...H.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(RUe,{scope:r,placedSide:Z,onArrowChange:_,arrowX:U,arrowY:Y,shouldHideArrow:K,children:n.jsx(nt.div,{"data-side":Z,"data-align":V,...b,ref:S,style:{...b.style,animation:z?void 0:"none"}})})})});Ate.displayName=M3;var Tte="PopperArrow",OUe={top:"bottom",right:"left",bottom:"top",left:"right"},Dte=v.forwardRef(function(t,r){const{__scopePopper:s,...a}=t,i=MUe(Tte,s),o=OUe[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(Ste,{...a,ref:r,style:{...a.style,display:"block"}})})});Dte.displayName=Tte;function IUe(e){return e!==null}var FUe=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:s,middlewareData:a}=t,o=a.arrow?.centerOffset!==0,c=o?0:e.arrowWidth,d=o?0:e.arrowHeight,[u,l]=Pte(r),f={start:"0%",center:"50%",end:"100%"}[l],m=(a.arrow?.x??0)+c/2,p=(a.arrow?.y??0)+d/2;let x="",b="";return u==="bottom"?(x=o?f:`${m}px`,b=`${-d}px`):u==="top"?(x=o?f:`${m}px`,b=`${s.floating.height+d}px`):u==="right"?(x=`${-d}px`,b=o?f:`${p}px`):u==="left"&&(x=`${s.floating.width+d}px`,b=o?f:`${p}px`),{data:{x,y:b}}}});function Pte(e){const[t,r="center"]=e.split("-");return[t,r]}var O3=_te,$E=kte,I3=Ate,F3=Dte;function $Ue(e,t){return v.useReducer((r,s)=>t[r][s]??r,e)}var Kl=e=>{const{present:t,children:r}=e,s=LUe(t),a=typeof r=="function"?r({present:s.isPresent}):v.Children.only(r),i=bt(s.ref,BUe(a));return typeof r=="function"||s.isPresent?v.cloneElement(a,{ref:i}):null};Kl.displayName="Presence";function LUe(e){const[t,r]=v.useState(),s=v.useRef(null),a=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[c,d]=$Ue(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=h1(s.current);i.current=c==="mounted"?u:"none"},[c]),Tr(()=>{const u=s.current,l=a.current;if(l!==e){const m=i.current,p=h1(u);e?d("MOUNT"):p==="none"||u?.display==="none"?d("UNMOUNT"):d(l&&m!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),Tr(()=>{if(t){let u;const l=t.ownerDocument.defaultView??window,f=p=>{const b=h1(s.current).includes(p.animationName);if(p.target===t&&b&&(d("ANIMATION_END"),!a.current)){const h=t.style.animationFillMode;t.style.animationFillMode="forwards",u=l.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=h)})}},m=p=>{p.target===t&&(i.current=h1(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{l.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:v.useCallback(u=>{s.current=u?getComputedStyle(u):null,r(u)},[])}}function h1(e){return e?.animationName||"none"}function BUe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Rte=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),zUe="VisuallyHidden",Mte=v.forwardRef((e,t)=>n.jsx(nt.span,{...e,ref:t,style:{...Rte,...e.style}}));Mte.displayName=zUe;var UUe=Mte,[LE,d3t]=cn("Tooltip",[px]),BE=px(),Ote="TooltipProvider",HUe=700,jM="tooltip.open",[VUe,$3]=LE(Ote),Ite=e=>{const{__scopeTooltip:t,delayDuration:r=HUe,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,o=v.useRef(!0),c=v.useRef(!1),d=v.useRef(0);return v.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),n.jsx(VUe,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:v.useCallback(u=>{c.current=u},[]),disableHoverableContent:a,children:i})};Ite.displayName=Ote;var Ay="Tooltip",[WUe,Mb]=LE(Ay),Fte=e=>{const{__scopeTooltip:t,children:r,open:s,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:c}=e,d=$3(Ay,e.__scopeTooltip),u=BE(t),[l,f]=v.useState(null),m=An(),p=v.useRef(0),x=o??d.disableHoverableContent,b=c??d.delayDuration,h=v.useRef(!1),[y,w]=Di({prop:s,defaultProp:a??!1,onChange:E=>{E?(d.onOpen(),document.dispatchEvent(new CustomEvent(jM))):d.onClose(),i?.(E)},caller:Ay}),S=v.useMemo(()=>y?h.current?"delayed-open":"instant-open":"closed",[y]),N=v.useCallback(()=>{window.clearTimeout(p.current),p.current=0,h.current=!1,w(!0)},[w]),_=v.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w(!1)},[w]),k=v.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{h.current=!0,w(!0),p.current=0},b)},[b,w]);return v.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),n.jsx(O3,{...u,children:n.jsx(WUe,{scope:t,contentId:m,open:y,stateAttribute:S,trigger:l,onTriggerChange:f,onTriggerEnter:v.useCallback(()=>{d.isOpenDelayedRef.current?k():N()},[d.isOpenDelayedRef,k,N]),onTriggerLeave:v.useCallback(()=>{x?_():(window.clearTimeout(p.current),p.current=0)},[_,x]),onOpen:N,onClose:_,disableHoverableContent:x,children:r})})};Fte.displayName=Ay;var SM="TooltipTrigger",$te=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=Mb(SM,r),i=$3(SM,r),o=BE(r),c=v.useRef(null),d=bt(t,c,a.onTriggerChange),u=v.useRef(!1),l=v.useRef(!1),f=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),n.jsx($E,{asChild:!0,...o,children:n.jsx(nt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:d,onPointerMove:Lt(e.onPointerMove,m=>{m.pointerType!=="touch"&&!l.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),l.current=!0)}),onPointerLeave:Lt(e.onPointerLeave,()=>{a.onTriggerLeave(),l.current=!1}),onPointerDown:Lt(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Lt(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:Lt(e.onBlur,a.onClose),onClick:Lt(e.onClick,a.onClose)})})});$te.displayName=SM;var L3="TooltipPortal",[qUe,GUe]=LE(L3,{forceMount:void 0}),Lte=e=>{const{__scopeTooltip:t,forceMount:r,children:s,container:a}=e,i=Mb(L3,t);return n.jsx(qUe,{scope:t,forceMount:r,children:n.jsx(Kl,{present:r||i.open,children:n.jsx(dx,{asChild:!0,container:a,children:s})})})};Lte.displayName=L3;var yg="TooltipContent",Bte=v.forwardRef((e,t)=>{const r=GUe(yg,e.__scopeTooltip),{forceMount:s=r.forceMount,side:a="top",...i}=e,o=Mb(yg,e.__scopeTooltip);return n.jsx(Kl,{present:s||o.open,children:o.disableHoverableContent?n.jsx(zte,{side:a,...i,ref:t}):n.jsx(YUe,{side:a,...i,ref:t})})}),YUe=v.forwardRef((e,t)=>{const r=Mb(yg,e.__scopeTooltip),s=$3(yg,e.__scopeTooltip),a=v.useRef(null),i=bt(t,a),[o,c]=v.useState(null),{trigger:d,onClose:u}=r,l=a.current,{onPointerInTransitChange:f}=s,m=v.useCallback(()=>{c(null),f(!1)},[f]),p=v.useCallback((x,b)=>{const h=x.currentTarget,y={x:x.clientX,y:x.clientY},w=QUe(y,h.getBoundingClientRect()),S=e7e(y,w),N=t7e(b.getBoundingClientRect()),_=s7e([...S,...N]);c(_),f(!0)},[f]);return v.useEffect(()=>()=>m(),[m]),v.useEffect(()=>{if(d&&l){const x=h=>p(h,l),b=h=>p(h,d);return d.addEventListener("pointerleave",x),l.addEventListener("pointerleave",b),()=>{d.removeEventListener("pointerleave",x),l.removeEventListener("pointerleave",b)}}},[d,l,p,m]),v.useEffect(()=>{if(o){const x=b=>{const h=b.target,y={x:b.clientX,y:b.clientY},w=d?.contains(h)||l?.contains(h),S=!r7e(y,o);w?m():S&&(m(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[d,l,o,u,m]),n.jsx(zte,{...e,ref:i})}),[KUe,ZUe]=LE(Ay,{isInside:!1}),XUe=hee("TooltipContent"),zte=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...c}=e,d=Mb(yg,r),u=BE(r),{onClose:l}=d;return v.useEffect(()=>(document.addEventListener(jM,l),()=>document.removeEventListener(jM,l)),[l]),v.useEffect(()=>{if(d.trigger){const f=m=>{m.target?.contains(d.trigger)&&l()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[d.trigger,l]),n.jsx(ME,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:l,children:n.jsxs(I3,{"data-state":d.stateAttribute,...u,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(XUe,{children:s}),n.jsx(KUe,{scope:r,isInside:!0,children:n.jsx(UUe,{id:d.contentId,role:"tooltip",children:a||s})})]})})});Bte.displayName=yg;var Ute="TooltipArrow",JUe=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=BE(r);return ZUe(Ute,r).isInside?null:n.jsx(F3,{...a,...s,ref:t})});JUe.displayName=Ute;function QUe(e,t){const r=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,s,a,i)){case i:return"left";case a:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function e7e(e,t,r=5){const s=[];switch(t){case"top":s.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":s.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":s.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":s.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return s}function t7e(e){const{top:t,right:r,bottom:s,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:s},{x:a,y:s}]}function r7e(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const c=t[i],d=t[o],u=c.x,l=c.y,f=d.x,m=d.y;l>s!=m>s&&r<(f-u)*(s-l)/(m-l)+u&&(a=!a)}return a}function s7e(e){const t=e.slice();return t.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),n7e(t)}function n7e(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var a7e=Ite,i7e=Fte,o7e=$te,l7e=Lte,Hte=Bte;const c7e=a7e,d7e=i7e,u7e=o7e,Vte=v.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(l7e,{children:n.jsx(Hte,{ref:s,sideOffset:t,className:X("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r})}));Vte.displayName=Hte.displayName;const f7e="sidebar_state",m7e=3600*24*7,h7e="16rem",p7e="18rem",g7e="3rem",x7e="b",Wte=v.createContext(null);function zE(){const e=v.useContext(Wte);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const qte=v.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:s,style:a,children:i,...o},c)=>{const d=ca(),[u,l]=v.useState(!1),[f,m]=v.useState(e),p=t??f,x=v.useCallback(w=>{const S=typeof w=="function"?w(p):w;r?r(S):m(S),document.cookie=`${f7e}=${S}; path=/; max-age=${m7e}`},[r,p]),b=v.useCallback(()=>d?l(w=>!w):x(w=>!w),[d,x,l]);v.useEffect(()=>{const w=S=>{S.key===x7e&&(S.metaKey||S.ctrlKey)&&(S.preventDefault(),b())};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[b]);const h=p?"expanded":"collapsed",y=v.useMemo(()=>({state:h,open:p,setOpen:x,isMobile:d,openMobile:u,setOpenMobile:l,toggleSidebar:b}),[h,p,x,d,u,l,b]);return n.jsx(Wte.Provider,{value:y,children:n.jsx(c7e,{delayDuration:0,children:n.jsx("div",{style:{"--sidebar-width":h7e,"--sidebar-width-icon":g7e,...a},className:X("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",s),ref:c,...o,children:i})})})});qte.displayName="SidebarProvider";const Gte=v.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:s,children:a,...i},o)=>{const{isMobile:c,state:d,openMobile:u,setOpenMobile:l}=zE();return r==="none"?n.jsx("div",{className:X("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",s),ref:o,...i,children:a}):c?n.jsx(bze,{open:u,onOpenChange:l,...i,children:n.jsxs(Zee,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":p7e},side:e,children:[n.jsxs(Xee,{className:"sr-only",children:[n.jsx(Jee,{children:"Sidebar"}),n.jsx(Qee,{children:"Displays the mobile sidebar."})]}),n.jsx("div",{className:"flex h-full w-full flex-col bg-sidebar",children:a})]})}):n.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":d,"data-collapsible":d==="collapsed"?r:"","data-variant":t,"data-side":e,children:[n.jsx("div",{className:X("relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),n.jsx("div",{className:X("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",s),...i,children:n.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});Gte.displayName="Sidebar";const NM=v.forwardRef(({className:e,onClick:t,...r},s)=>{const{toggleSidebar:a}=zE();return n.jsxs(W,{ref:s,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:X("h-7 w-7",e),onClick:i=>{t?.(i),a()},...r,children:[n.jsx(dLe,{}),n.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});NM.displayName="SidebarTrigger";const v7e=v.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:s}=zE();return n.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:s,title:"Toggle Sidebar",className:X("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});v7e.displayName="SidebarRail";const Yte=v.forwardRef(({className:e,...t},r)=>n.jsx("main",{ref:r,className:X("relative flex w-full flex-1 flex-col bg-background","md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));Yte.displayName="SidebarInset";const y7e=v.forwardRef(({className:e,...t},r)=>n.jsx(ne,{ref:r,"data-sidebar":"input",className:X("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));y7e.displayName="SidebarInput";const Kte=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,"data-sidebar":"header",className:X("flex flex-col gap-2 p-2",e),...t}));Kte.displayName="SidebarHeader";const Zte=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,"data-sidebar":"footer",className:X("flex flex-col gap-2 p-2",e),...t}));Zte.displayName="SidebarFooter";const b7e=v.forwardRef(({className:e,...t},r)=>n.jsx(Hs,{ref:r,"data-sidebar":"separator",className:X("mx-2 w-auto bg-sidebar-border",e),...t}));b7e.displayName="SidebarSeparator";const Xte=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,"data-sidebar":"content",className:X("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));Xte.displayName="SidebarContent";const Jte=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,"data-sidebar":"group",className:X("relative flex w-full min-w-0 flex-col p-2",e),...t}));Jte.displayName="SidebarGroup";const Qte=v.forwardRef(({className:e,asChild:t=!1,...r},s)=>{const a=t?Lu:"div";return n.jsx(a,{ref:s,"data-sidebar":"group-label",className:X("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});Qte.displayName="SidebarGroupLabel";const w7e=v.forwardRef(({className:e,asChild:t=!1,...r},s)=>{const a=t?Lu:"button";return n.jsx(a,{ref:s,"data-sidebar":"group-action",className:X("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});w7e.displayName="SidebarGroupAction";const ere=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,"data-sidebar":"group-content",className:X("w-full text-sm",e),...t}));ere.displayName="SidebarGroupContent";const B3=v.forwardRef(({className:e,...t},r)=>n.jsx("ul",{ref:r,"data-sidebar":"menu",className:X("flex w-full min-w-0 flex-col gap-1",e),...t}));B3.displayName="SidebarMenu";const IC=v.forwardRef(({className:e,...t},r)=>n.jsx("li",{ref:r,"data-sidebar":"menu-item",className:X("group/menu-item relative",e),...t}));IC.displayName="SidebarMenuItem";const j7e=Jm("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),FC=v.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:s="default",tooltip:a,className:i,...o},c)=>{const d=e?Lu:"button",{isMobile:u,state:l}=zE(),f=n.jsx(d,{ref:c,"data-sidebar":"menu-button","data-size":s,"data-active":t,className:X(j7e({variant:r,size:s}),i),...o});return a?(typeof a=="string"&&(a={children:a}),n.jsxs(d7e,{children:[n.jsx(u7e,{asChild:!0,children:f}),n.jsx(Vte,{side:"right",align:"center",hidden:l!=="collapsed"||u,...a})]})):f});FC.displayName="SidebarMenuButton";const S7e=v.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...s},a)=>{const i=t?Lu:"button";return n.jsx(i,{ref:a,"data-sidebar":"menu-action",className:X("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...s})});S7e.displayName="SidebarMenuAction";const N7e=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:X("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));N7e.displayName="SidebarMenuBadge";const C7e=v.forwardRef(({className:e,showIcon:t=!1,...r},s)=>{const a=v.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return n.jsxs("div",{ref:s,"data-sidebar":"menu-skeleton",className:X("flex h-8 items-center gap-2 rounded-md px-2",e),...r,children:[t&&n.jsx(rt,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),n.jsx(rt,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});C7e.displayName="SidebarMenuSkeleton";const _7e=v.forwardRef(({className:e,...t},r)=>n.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:X("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));_7e.displayName="SidebarMenuSub";const E7e=v.forwardRef(({...e},t)=>n.jsx("li",{ref:t,...e}));E7e.displayName="SidebarMenuSubItem";const k7e=v.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:s,...a},i)=>{const o=e?Lu:"a";return n.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:X("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",s),...a})});k7e.displayName="SidebarMenuSubButton";var o9=1,A7e=.9,T7e=.8,D7e=.17,XD=.1,JD=.999,P7e=.9999,R7e=.99,M7e=/[\\\/_+.#"@\[\(\{&]/,O7e=/[\\\/_+.#"@\[\(\{&]/g,I7e=/[\s-]/,tre=/[\s-]/g;function CM(e,t,r,s,a,i,o){if(i===t.length)return a===e.length?o9:R7e;var c=`${a},${i}`;if(o[c]!==void 0)return o[c];for(var d=s.charAt(i),u=r.indexOf(d,a),l=0,f,m,p,x;u>=0;)f=CM(e,t,r,s,u+1,i+1,o),f>l&&(u===a?f*=o9:M7e.test(e.charAt(u-1))?(f*=T7e,p=e.slice(a,u-1).match(O7e),p&&a>0&&(f*=Math.pow(JD,p.length))):I7e.test(e.charAt(u-1))?(f*=A7e,x=e.slice(a,u-1).match(tre),x&&a>0&&(f*=Math.pow(JD,x.length))):(f*=D7e,a>0&&(f*=Math.pow(JD,u-a))),e.charAt(u)!==t.charAt(i)&&(f*=P7e)),(f<XD&&r.charAt(u-1)===s.charAt(i+1)||s.charAt(i+1)===s.charAt(i)&&r.charAt(u-1)!==s.charAt(i))&&(m=CM(e,t,r,s,u+1,i+2,o),m*XD>f&&(f=m*XD)),f>l&&(l=f),u=r.indexOf(d,u+1);return o[c]=l,l}function l9(e){return e.toLowerCase().replace(tre," ")}function F7e(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,CM(e,t,l9(e),l9(t),0,0,{})}var l0='[cmdk-group=""]',QD='[cmdk-group-items=""]',$7e='[cmdk-group-heading=""]',rre='[cmdk-item=""]',c9=`${rre}:not([aria-disabled="true"])`,_M="cmdk-item-select",Ap="data-value",L7e=(e,t,r)=>F7e(e,t,r),sre=v.createContext(void 0),Ob=()=>v.useContext(sre),nre=v.createContext(void 0),z3=()=>v.useContext(nre),are=v.createContext(void 0),ire=v.forwardRef((e,t)=>{let r=Tp(()=>{var U,Y;return{search:"",value:(Y=(U=e.value)!=null?U:e.defaultValue)!=null?Y:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=Tp(()=>new Set),a=Tp(()=>new Map),i=Tp(()=>new Map),o=Tp(()=>new Set),c=ore(e),{label:d,children:u,value:l,onValueChange:f,filter:m,shouldFilter:p,loop:x,disablePointerSelection:b=!1,vimBindings:h=!0,...y}=e,w=An(),S=An(),N=An(),_=v.useRef(null),k=Z7e();Pm(()=>{if(l!==void 0){let U=l.trim();r.current.value=U,E.emit()}},[l]),Pm(()=>{k(6,B)},[]);let E=v.useMemo(()=>({subscribe:U=>(o.current.add(U),()=>o.current.delete(U)),snapshot:()=>r.current,setState:(U,Y,K)=>{var re,he,me,de;if(!Object.is(r.current[U],Y)){if(r.current[U]=Y,U==="search")R(),P(),k(1,M);else if(U==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ie=document.getElementById(N);ie?ie.focus():(re=document.getElementById(w))==null||re.focus()}if(k(7,()=>{var ie;r.current.selectedItemId=(ie=L())==null?void 0:ie.id,E.emit()}),K||k(5,B),((he=c.current)==null?void 0:he.value)!==void 0){let ie=Y??"";(de=(me=c.current).onValueChange)==null||de.call(me,ie);return}}E.emit()}},emit:()=>{o.current.forEach(U=>U())}}),[]),T=v.useMemo(()=>({value:(U,Y,K)=>{var re;Y!==((re=i.current.get(U))==null?void 0:re.value)&&(i.current.set(U,{value:Y,keywords:K}),r.current.filtered.items.set(U,D(Y,K)),k(2,()=>{P(),E.emit()}))},item:(U,Y)=>(s.current.add(U),Y&&(a.current.has(Y)?a.current.get(Y).add(U):a.current.set(Y,new Set([U]))),k(3,()=>{R(),P(),r.current.value||M(),E.emit()}),()=>{i.current.delete(U),s.current.delete(U),r.current.filtered.items.delete(U);let K=L();k(4,()=>{R(),K?.getAttribute("id")===U&&M(),E.emit()})}),group:U=>(a.current.has(U)||a.current.set(U,new Set),()=>{i.current.delete(U),a.current.delete(U)}),filter:()=>c.current.shouldFilter,label:d||e["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:w,inputId:N,labelId:S,listInnerRef:_}),[]);function D(U,Y){var K,re;let he=(re=(K=c.current)==null?void 0:K.filter)!=null?re:L7e;return U?he(U,r.current.search,Y):0}function P(){if(!r.current.search||c.current.shouldFilter===!1)return;let U=r.current.filtered.items,Y=[];r.current.filtered.groups.forEach(re=>{let he=a.current.get(re),me=0;he.forEach(de=>{let ie=U.get(de);me=Math.max(ie,me)}),Y.push([re,me])});let K=_.current;$().sort((re,he)=>{var me,de;let ie=re.getAttribute("id"),ve=he.getAttribute("id");return((me=U.get(ve))!=null?me:0)-((de=U.get(ie))!=null?de:0)}).forEach(re=>{let he=re.closest(QD);he?he.appendChild(re.parentElement===he?re:re.closest(`${QD} > *`)):K.appendChild(re.parentElement===K?re:re.closest(`${QD} > *`))}),Y.sort((re,he)=>he[1]-re[1]).forEach(re=>{var he;let me=(he=_.current)==null?void 0:he.querySelector(`${l0}[${Ap}="${encodeURIComponent(re[0])}"]`);me?.parentElement.appendChild(me)})}function M(){let U=$().find(K=>K.getAttribute("aria-disabled")!=="true"),Y=U?.getAttribute(Ap);E.setState("value",Y||void 0)}function R(){var U,Y,K,re;if(!r.current.search||c.current.shouldFilter===!1){r.current.filtered.count=s.current.size;return}r.current.filtered.groups=new Set;let he=0;for(let me of s.current){let de=(Y=(U=i.current.get(me))==null?void 0:U.value)!=null?Y:"",ie=(re=(K=i.current.get(me))==null?void 0:K.keywords)!=null?re:[],ve=D(de,ie);r.current.filtered.items.set(me,ve),ve>0&&he++}for(let[me,de]of a.current)for(let ie of de)if(r.current.filtered.items.get(ie)>0){r.current.filtered.groups.add(me);break}r.current.filtered.count=he}function B(){var U,Y,K;let re=L();re&&(((U=re.parentElement)==null?void 0:U.firstChild)===re&&((K=(Y=re.closest(l0))==null?void 0:Y.querySelector($7e))==null||K.scrollIntoView({block:"nearest"})),re.scrollIntoView({block:"nearest"}))}function L(){var U;return(U=_.current)==null?void 0:U.querySelector(`${rre}[aria-selected="true"]`)}function $(){var U;return Array.from(((U=_.current)==null?void 0:U.querySelectorAll(c9))||[])}function I(U){let Y=$()[U];Y&&E.setState("value",Y.getAttribute(Ap))}function z(U){var Y;let K=L(),re=$(),he=re.findIndex(de=>de===K),me=re[he+U];(Y=c.current)!=null&&Y.loop&&(me=he+U<0?re[re.length-1]:he+U===re.length?re[0]:re[he+U]),me&&E.setState("value",me.getAttribute(Ap))}function H(U){let Y=L(),K=Y?.closest(l0),re;for(;K&&!re;)K=U>0?Y7e(K,l0):K7e(K,l0),re=K?.querySelector(c9);re?E.setState("value",re.getAttribute(Ap)):z(U)}let Z=()=>I($().length-1),V=U=>{U.preventDefault(),U.metaKey?Z():U.altKey?H(1):z(1)},G=U=>{U.preventDefault(),U.metaKey?I(0):U.altKey?H(-1):z(-1)};return v.createElement(nt.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:U=>{var Y;(Y=y.onKeyDown)==null||Y.call(y,U);let K=U.nativeEvent.isComposing||U.keyCode===229;if(!(U.defaultPrevented||K))switch(U.key){case"n":case"j":{h&&U.ctrlKey&&V(U);break}case"ArrowDown":{V(U);break}case"p":case"k":{h&&U.ctrlKey&&G(U);break}case"ArrowUp":{G(U);break}case"Home":{U.preventDefault(),I(0);break}case"End":{U.preventDefault(),Z();break}case"Enter":{U.preventDefault();let re=L();if(re){let he=new Event(_M);re.dispatchEvent(he)}}}}},v.createElement("label",{"cmdk-label":"",htmlFor:T.inputId,id:T.labelId,style:J7e},d),UE(e,U=>v.createElement(nre.Provider,{value:E},v.createElement(sre.Provider,{value:T},U))))}),B7e=v.forwardRef((e,t)=>{var r,s;let a=An(),i=v.useRef(null),o=v.useContext(are),c=Ob(),d=ore(e),u=(s=(r=d.current)==null?void 0:r.forceMount)!=null?s:o?.forceMount;Pm(()=>{if(!u)return c.item(a,o?.id)},[u]);let l=lre(a,i,[e.value,e.children,i],e.keywords),f=z3(),m=Eu(k=>k.value&&k.value===l.current),p=Eu(k=>u||c.filter()===!1?!0:k.search?k.filtered.items.get(a)>0:!0);v.useEffect(()=>{let k=i.current;if(!(!k||e.disabled))return k.addEventListener(_M,x),()=>k.removeEventListener(_M,x)},[p,e.onSelect,e.disabled]);function x(){var k,E;b(),(E=(k=d.current).onSelect)==null||E.call(k,l.current)}function b(){f.setState("value",l.current,!0)}if(!p)return null;let{disabled:h,value:y,onSelect:w,forceMount:S,keywords:N,..._}=e;return v.createElement(nt.div,{ref:Vc(i,t),..._,id:a,"cmdk-item":"",role:"option","aria-disabled":!!h,"aria-selected":!!m,"data-disabled":!!h,"data-selected":!!m,onPointerMove:h||c.getDisablePointerSelection()?void 0:b,onClick:h?void 0:x},e.children)}),z7e=v.forwardRef((e,t)=>{let{heading:r,children:s,forceMount:a,...i}=e,o=An(),c=v.useRef(null),d=v.useRef(null),u=An(),l=Ob(),f=Eu(p=>a||l.filter()===!1?!0:p.search?p.filtered.groups.has(o):!0);Pm(()=>l.group(o),[]),lre(o,c,[e.value,e.heading,d]);let m=v.useMemo(()=>({id:o,forceMount:a}),[a]);return v.createElement(nt.div,{ref:Vc(c,t),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&v.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),UE(e,p=>v.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},v.createElement(are.Provider,{value:m},p))))}),U7e=v.forwardRef((e,t)=>{let{alwaysRender:r,...s}=e,a=v.useRef(null),i=Eu(o=>!o.search);return!r&&!i?null:v.createElement(nt.div,{ref:Vc(a,t),...s,"cmdk-separator":"",role:"separator"})}),H7e=v.forwardRef((e,t)=>{let{onValueChange:r,...s}=e,a=e.value!=null,i=z3(),o=Eu(u=>u.search),c=Eu(u=>u.selectedItemId),d=Ob();return v.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),v.createElement(nt.input,{ref:t,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":c,id:d.inputId,type:"text",value:a?e.value:o,onChange:u=>{a||i.setState("search",u.target.value),r?.(u.target.value)}})}),V7e=v.forwardRef((e,t)=>{let{children:r,label:s="Suggestions",...a}=e,i=v.useRef(null),o=v.useRef(null),c=Eu(u=>u.selectedItemId),d=Ob();return v.useEffect(()=>{if(o.current&&i.current){let u=o.current,l=i.current,f,m=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let p=u.offsetHeight;l.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return m.observe(u),()=>{cancelAnimationFrame(f),m.unobserve(u)}}},[]),v.createElement(nt.div,{ref:Vc(i,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":c,"aria-label":s,id:d.listId},UE(e,u=>v.createElement("div",{ref:Vc(o,d.listInnerRef),"cmdk-list-sizer":""},u)))}),W7e=v.forwardRef((e,t)=>{let{open:r,onOpenChange:s,overlayClassName:a,contentClassName:i,container:o,...c}=e;return v.createElement(Db,{open:r,onOpenChange:s},v.createElement(Pb,{container:o},v.createElement(Bu,{"cmdk-overlay":"",className:a}),v.createElement(zu,{"aria-label":e.label,"cmdk-dialog":"",className:i},v.createElement(ire,{ref:t,...c}))))}),q7e=v.forwardRef((e,t)=>Eu(r=>r.filtered.count===0)?v.createElement(nt.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),G7e=v.forwardRef((e,t)=>{let{progress:r,children:s,label:a="Loading...",...i}=e;return v.createElement(nt.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},UE(e,o=>v.createElement("div",{"aria-hidden":!0},o)))}),ti=Object.assign(ire,{List:V7e,Item:B7e,Input:H7e,Group:z7e,Separator:U7e,Dialog:W7e,Empty:q7e,Loading:G7e});function Y7e(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function K7e(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function ore(e){let t=v.useRef(e);return Pm(()=>{t.current=e}),t}var Pm=typeof window>"u"?v.useEffect:v.useLayoutEffect;function Tp(e){let t=v.useRef();return t.current===void 0&&(t.current=e()),t}function Eu(e){let t=z3(),r=()=>e(t.snapshot());return v.useSyncExternalStore(t.subscribe,r,r)}function lre(e,t,r,s=[]){let a=v.useRef(),i=Ob();return Pm(()=>{var o;let c=(()=>{var u;for(let l of r){if(typeof l=="string")return l.trim();if(typeof l=="object"&&"current"in l)return l.current?(u=l.current.textContent)==null?void 0:u.trim():a.current}})(),d=s.map(u=>u.trim());i.value(e,c,d),(o=t.current)==null||o.setAttribute(Ap,c),a.current=c}),a}var Z7e=()=>{let[e,t]=v.useState(),r=Tp(()=>new Map);return Pm(()=>{r.current.forEach(s=>s()),r.current=new Map},[e]),(s,a)=>{r.current.set(s,a),t({})}};function X7e(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function UE({asChild:e,children:t},r){return e&&v.isValidElement(t)?v.cloneElement(X7e(t),{ref:t.ref},r(t.props.children)):r(t)}var J7e={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Ur=Db,cre=Yee,Q7e=Pb,dre=v.forwardRef(({className:e,...t},r)=>n.jsx(Bu,{ref:r,className:X("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));dre.displayName=Bu.displayName;const Er=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Q7e,{children:[n.jsx(dre,{}),n.jsxs(zu,{ref:s,className:X("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(ux,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(Kr,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Er.displayName=zu.displayName;const kr=({className:e,...t})=>n.jsx("div",{className:X("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});kr.displayName="DialogHeader";const Hr=({className:e,...t})=>n.jsx("div",{className:X("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Hr.displayName="DialogFooter";const Ar=v.forwardRef(({className:e,...t},r)=>n.jsx(Uu,{ref:r,className:X("text-lg font-semibold leading-none tracking-tight",e),...t}));Ar.displayName=Uu.displayName;const as=v.forwardRef(({className:e,...t},r)=>n.jsx(Qm,{ref:r,className:X("text-sm text-muted-foreground",e),...t}));as.displayName=Qm.displayName;const ure=v.forwardRef(({className:e,...t},r)=>n.jsx(ti,{ref:r,className:X("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));ure.displayName=ti.displayName;const fre=v.forwardRef(({className:e,...t},r)=>n.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[n.jsx(nl,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),n.jsx(ti.Input,{ref:r,className:X("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));fre.displayName=ti.Input.displayName;const mre=v.forwardRef(({className:e,...t},r)=>n.jsx(ti.List,{ref:r,className:X("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));mre.displayName=ti.List.displayName;const hre=v.forwardRef((e,t)=>n.jsx(ti.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));hre.displayName=ti.Empty.displayName;const pre=v.forwardRef(({className:e,...t},r)=>n.jsx(ti.Group,{ref:r,className:X("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));pre.displayName=ti.Group.displayName;const eHe=v.forwardRef(({className:e,...t},r)=>n.jsx(ti.Separator,{ref:r,className:X("-mx-1 h-px bg-border",e),...t}));eHe.displayName=ti.Separator.displayName;const gre=v.forwardRef(({className:e,...t},r)=>n.jsx(ti.Item,{ref:r,className:X("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));gre.displayName=ti.Item.displayName;var eP=0;function xre(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??d9()),document.body.insertAdjacentElement("beforeend",e[1]??d9()),eP++,()=>{eP===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),eP--}},[])}function d9(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var HE="Popover",[vre,u3t]=cn(HE,[px]),Ib=px(),[tHe,Hu]=vre(HE),yre=e=>{const{__scopePopover:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,c=Ib(t),d=v.useRef(null),[u,l]=v.useState(!1),[f,m]=Di({prop:s,defaultProp:a??!1,onChange:i,caller:HE});return n.jsx(O3,{...c,children:n.jsx(tHe,{scope:t,contentId:An(),triggerRef:d,open:f,onOpenChange:m,onOpenToggle:v.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:u,onCustomAnchorAdd:v.useCallback(()=>l(!0),[]),onCustomAnchorRemove:v.useCallback(()=>l(!1),[]),modal:o,children:r})})};yre.displayName=HE;var bre="PopoverAnchor",rHe=v.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=Hu(bre,r),i=Ib(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:c}=a;return v.useEffect(()=>(o(),()=>c()),[o,c]),n.jsx($E,{...i,...s,ref:t})});rHe.displayName=bre;var wre="PopoverTrigger",jre=v.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=Hu(wre,r),i=Ib(r),o=bt(t,a.triggerRef),c=n.jsx(nt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Ere(a.open),...s,ref:o,onClick:Lt(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?c:n.jsx($E,{asChild:!0,...i,children:c})});jre.displayName=wre;var U3="PopoverPortal",[sHe,nHe]=vre(U3,{forceMount:void 0}),Sre=e=>{const{__scopePopover:t,forceMount:r,children:s,container:a}=e,i=Hu(U3,t);return n.jsx(sHe,{scope:t,forceMount:r,children:n.jsx(Kl,{present:r||i.open,children:n.jsx(dx,{asChild:!0,container:a,children:s})})})};Sre.displayName=U3;var bg="PopoverContent",Nre=v.forwardRef((e,t)=>{const r=nHe(bg,e.__scopePopover),{forceMount:s=r.forceMount,...a}=e,i=Hu(bg,e.__scopePopover);return n.jsx(Kl,{present:s||i.open,children:i.modal?n.jsx(iHe,{...a,ref:t}):n.jsx(oHe,{...a,ref:t})})});Nre.displayName=bg;var aHe=Nu("PopoverContent.RemoveScroll"),iHe=v.forwardRef((e,t)=>{const r=Hu(bg,e.__scopePopover),s=v.useRef(null),a=bt(t,s),i=v.useRef(!1);return v.useEffect(()=>{const o=s.current;if(o)return PE(o)},[]),n.jsx(Tb,{as:aHe,allowPinchZoom:!0,children:n.jsx(Cre,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Lt(e.onCloseAutoFocus,o=>{o.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:Lt(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Lt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),oHe=v.forwardRef((e,t)=>{const r=Hu(bg,e.__scopePopover),s=v.useRef(!1),a=v.useRef(!1);return n.jsx(Cre,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(s.current||r.triggerRef.current?.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Cre=v.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:l,...f}=e,m=Hu(bg,r),p=Ib(r);return xre(),n.jsx(Ab,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(ME,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:n.jsx(I3,{"data-state":Ere(m.open),role:"dialog",id:m.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),_re="PopoverClose",lHe=v.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=Hu(_re,r);return n.jsx(nt.button,{type:"button",...s,ref:t,onClick:Lt(e.onClick,()=>a.onOpenChange(!1))})});lHe.displayName=_re;var cHe="PopoverArrow",dHe=v.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=Ib(r);return n.jsx(F3,{...a,...s,ref:t})});dHe.displayName=cHe;function Ere(e){return e?"open":"closed"}var uHe=yre,fHe=jre,mHe=Sre,kre=Nre;const H3=uHe,V3=fHe,VE=v.forwardRef(({className:e,align:t="center",sideOffset:r=4,...s},a)=>n.jsx(mHe,{children:n.jsx(kre,{ref:a,align:t,sideOffset:r,className:X("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...s})}));VE.displayName=kre.displayName;const hHe=({stores:e,currentStore:t,onStoreChange:r})=>{const[s,a]=v.useState(!1),i=o=>{const c=e.find(d=>d.id===o);c&&r&&r(c),a(!1)};return n.jsxs(H3,{open:s,onOpenChange:a,children:[n.jsx(V3,{asChild:!0,children:n.jsxs(W,{variant:"outline",role:"combobox","aria-expanded":s,className:"w-full justify-between h-8 md:h-10 text-xs p-1 sm:p-2 bg-sidebar/50 border-sidebar-border hover:bg-sidebar-accent/50 group-data-[collapsible=icon]:w-8 group-data-[collapsible=icon]:h-8 group-data-[collapsible=icon]:p-1.5",children:[n.jsxs("div",{className:"m-1 flex flex-col items-start min-w-0 flex-1 group-data-[collapsible=icon]:hidden",children:[n.jsx("span",{className:"font-medium text-xs truncate w-full text-left",children:t.name}),n.jsx("span",{className:"text-muted-foreground text-xs truncate w-full text-left hidden sm:block",children:t.metadata.address||"No address"})]}),n.jsx(Ti,{className:"group-data-[collapsible=icon]:block hidden h-4 w-4"}),n.jsx(Eo,{className:"ml-1 sm:ml-2 h-2 w-2 sm:h-3 sm:w-3 shrink-0 opacity-50 group-data-[collapsible=icon]:hidden"})]})}),n.jsx(VE,{className:"w-[250px] sm:w-[280px] p-0 bg-popover border-border",children:n.jsxs(ure,{className:"bg-popover",children:[n.jsx(fre,{placeholder:"Search stores...",className:"h-7 sm:h-8"}),n.jsx(hre,{children:"No store found."}),n.jsx(pre,{children:n.jsx(mre,{children:e.map(o=>n.jsxs(gre,{value:`${o.name} ${o.metadata.address||""}`,onSelect:()=>{i(o.id)},className:"flex items-center space-x-2 p-1.5 sm:p-2",children:[n.jsx(ix,{className:`mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4 ${t.id===o.id?"opacity-100":"opacity-0"}`}),n.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[n.jsx("span",{className:"font-medium text-xs sm:text-sm truncate",children:o.name}),n.jsx("span",{className:"text-xs text-muted-foreground truncate",children:o.metadata.address||"No address"})]})]},o.id))})})]})})]})},pHe=({stores:e,currentStore:t,onStoreChange:r})=>n.jsxs(Kte,{className:"bg-transparent",children:[n.jsxs("div",{className:"px-2 sm:px-3 py-3 sm:py-4",children:[n.jsx("h1",{className:"text-lg sm:text-xl font-bold text-primary group-data-[collapsible=icon]:hidden",children:"Pizza Portal"}),n.jsx("div",{className:"hidden group-data-[collapsible=icon]:flex items-center justify-center",children:n.jsx("span",{className:"text-lg font-bold text-primary",children:"P"})})]}),n.jsx("div",{className:"",children:n.jsx(hHe,{stores:e,currentStore:t,onStoreChange:r})})]}),Wt=({role:e,roles:t,checkType:r="any",children:s,fallback:a=null,onRoleDenied:i,showErrorOnDataMissing:o=!1})=>{const c=se(m=>m.auth.roles),d=se(m=>m.auth.isAuthenticated);if(!se(m=>m.auth.isInitialized))return null;if(!d)return i?.(),n.jsx(n.Fragment,{children:a});if(!e&&(!t||t.length===0))return console.error('RoleGuard: Either "role" or "roles" prop must be provided'),o?n.jsx("div",{className:"text-red-500 text-sm",children:"Error: No roles specified for RoleGuard"}):n.jsx(n.Fragment,{children:a});const l=e?[e]:t;let f=!1;try{if(c&&c.length>0)r==="all"?f=l.every(m=>c.includes(m)):f=l.some(m=>c.includes(m));else if(eE())l.length===1?f=vje(l[0]):r==="all"?f=bje(l):f=yje(l);else{if(console.warn("RoleGuard: No roles data found in Redux store or localStorage"),o)return n.jsx("div",{className:"text-yellow-600 text-sm p-2 bg-yellow-50 border border-yellow-200 rounded",children:"Warning: Unable to verify roles. Please refresh the page or contact support."});f=!1}}catch(m){if(console.error("RoleGuard: Error checking roles:",m),o)return n.jsx("div",{className:"text-red-500 text-sm p-2 bg-red-50 border border-red-200 rounded",children:"Error: Failed to check roles. Please try again."});f=!1}return f?n.jsx(n.Fragment,{children:s}):(i?.(),n.jsx(n.Fragment,{children:a}))};function u9(e,t){return t==="/dashboard"||t==="/settings"?e===t:e===t||e.startsWith(t+"/")}const gHe=({menuItems:e})=>{const t=la();return n.jsxs(Jte,{children:[n.jsx(Qte,{className:"px-2 sm:px-3 text-xs sm:text-sm group-data-[collapsible=icon]:hidden",children:"Application"}),n.jsx(ere,{children:n.jsx(B3,{children:e.map(r=>r.url==="/dashboard"||r.url==="/settings"?n.jsx(IC,{children:n.jsx(FC,{asChild:!0,isActive:u9(t.pathname,r.url),className:"px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm hover:bg-sidebar-accent hover:underline data-[active=true]:bg-sidebar-accent/70",tooltip:r.title,children:n.jsxs(Hc,{to:r.url,className:"flex items-center space-x-2 sm:space-x-3",children:[n.jsx(r.icon,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:r.title})]})})},r.title):n.jsx(Wt,{role:"super-admin",fallback:null,children:n.jsx(IC,{children:n.jsx(FC,{asChild:!0,isActive:u9(t.pathname,r.url),className:"px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm hover:bg-sidebar-accent hover:underline data-[active=true]:bg-sidebar-accent/70",tooltip:r.title,children:n.jsxs(Hc,{to:r.url,className:"flex items-center space-x-2 sm:space-x-3",children:[n.jsx(r.icon,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:r.title})]})})})},r.title))})})]})},W3="current_store";function xHe(e){try{localStorage.setItem(W3,JSON.stringify(e))}catch{}}function f9(){try{const e=localStorage.getItem(W3);return e?JSON.parse(e):null}catch{return null}}function vHe(){try{localStorage.removeItem(W3)}catch{}}const Are=v.createContext(void 0),yHe=({children:e})=>{const[t,r]=v.useState(()=>f9());v.useEffect(()=>{t?xHe(t):vHe()},[t]),v.useEffect(()=>{const a=i=>{i.key==="current_store"&&r(f9())};return window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[]);const s=v.useMemo(()=>({currentStore:t,setCurrentStore:r,clear:()=>r(null)}),[t]);return n.jsx(Are.Provider,{value:s,children:e})};function q3(){const e=v.useContext(Are);if(!e)throw new Error("useCurrentStore must be used within CurrentStoreProvider");return e}const bHe=e=>e.map(t=>({id:t.store.id,name:t.store.name,metadata:t.store.metadata,is_active:t.store.is_active}));function wHe(e,t){return e===t}const jHe=()=>{const e=la(),{currentStore:t,setCurrentStore:r}=q3(),[s,a]=v.useState([]),[,i]=v.useState("");v.useEffect(()=>{const d=xje();if(d&&d.length>0){const l=bHe(d).filter(m=>m.is_active);if(a(l),l.length===0){r(null);return}t&&l.find(m=>m.id===t.id)||r(l[0])}else a([]),r(null)},[r]),v.useEffect(()=>{i(e.pathname)},[e.pathname]);const o=d=>{r(d)},c=[{title:"Dashboard",url:"/dashboard",icon:EE},{title:"Blank Page",url:"/blank-page",icon:$l},{title:"User Management",url:"/user-management",icon:cs},{title:"Employees",url:"/employees",icon:Su},{title:"Employment Information",url:"/employment-information",icon:KQ},{title:"Service Client Management",url:"/service-client-management",icon:kH},{title:"Auth Rules",url:"/auth-rules",icon:kH},{title:"Stores",url:"/stores",icon:Ti},{title:"User Role Store Assignment",url:"/user-role-store-assignment",icon:cs},{title:"Positions",url:"/positions",icon:GQ},{title:"Schedule Preferences",url:"/schedule-preferences",icon:bn},{title:"Forms",url:"/forms",icon:$l}];return n.jsxs(Gte,{collapsible:"icon",className:"bg-sidebar-gradient border-r border-sidebar-border shadow-md",children:[s.length>0&&t&&n.jsx(pHe,{stores:s,currentStore:t,onStoreChange:o}),n.jsx(Xte,{className:"!bg-sidebar",children:n.jsx(gHe,{menuItems:c})}),n.jsx(Zte,{className:"bg-transparent",children:n.jsx(B3,{children:n.jsx(IC,{children:n.jsx(FC,{asChild:!0,isActive:wHe(e.pathname,"/settings"),className:"px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm hover:bg-sidebar-accent/50 data-[active=true]:bg-sidebar-accent/70",tooltip:"Settings",children:n.jsxs(Hc,{to:"/settings",className:"flex items-center space-x-2 sm:space-x-3",children:[n.jsx(Eb,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:"Settings"})]})})})})})]})},Tre=v.forwardRef(({...e},t)=>n.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));Tre.displayName="Breadcrumb";const Dre=v.forwardRef(({className:e,...t},r)=>n.jsx("ol",{ref:r,className:X("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));Dre.displayName="BreadcrumbList";const Pre=v.forwardRef(({className:e,...t},r)=>n.jsx("li",{ref:r,className:X("inline-flex items-center gap-1.5",e),...t}));Pre.displayName="BreadcrumbItem";const EM=v.forwardRef(({asChild:e,className:t,...r},s)=>{const a=e?Lu:"a";return n.jsx(a,{ref:s,className:X("transition-colors hover:text-foreground",t),...r})});EM.displayName="BreadcrumbLink";const Rre=v.forwardRef(({className:e,...t},r)=>n.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:X("font-normal text-foreground",e),...t}));Rre.displayName="BreadcrumbPage";const Mre=({children:e,className:t,...r})=>n.jsx("li",{role:"presentation","aria-hidden":"true",className:X("[&>svg]:w-3.5 [&>svg]:h-3.5",t),...r,children:e??n.jsx(ko,{})});Mre.displayName="BreadcrumbSeparator";function SHe(e){const t={"/dashboard":"Dashboard","/blank-page":"Blank Page","/settings":"Settings","/terms":"Terms of Service","/privacy":"Privacy Policy","/user-management":"User Management","/user-management/create/user":"Create User","/user-management/edit/user":"Edit User","/user-management/view/user":"View User","/user-management/create/role":"Create Role","/user-management/roles/assign-permissions":"Assign Permissions","/user-management/create/permission":"Create Permission","/employees":"Employees","/employees/create":"Create Employee","/employees/edit":"Edit Employee","/employees/view":"View Employee","/employment-information":"Employment Information","/service-client-management":"Service Client Management","/auth-rules":"Auth Rules","/auth-rules/create":"Create Auth Rule","/stores":"Stores","/stores/create":"Create Store","/stores/edit":"Edit Store","/stores/view":"View Store","/user-role-store-assignment":"User Role Store Assignment","/user-role-store-assignment/bulk":"Bulk Assignment","/user-role-store-assignment/assign":"Assign Roles","/user-role-store-assignment/view/user":"View User Assignments","/user-role-store-assignment/view/store":"View Store Assignments","/stores-hierarchy":"Stores Hierarchy","/stores-hierarchy/view":"View Hierarchy","/stores-hierarchy/create":"Create Hierarchy","/stores-hierarchy/delete":"Delete Hierarchy","/stores-hierarchy/validate":"Validate Hierarchy","/positions":"Positions","/positions/create":"Create Position","/positions/edit":"Edit Position","/positions/view":"View Position","/schedule-preferences":"Schedule Preferences","/schedule-preferences/create":"Create Schedule Preference","/schedule-preferences/edit":"Edit Schedule Preference","/schedule-preferences/view":"View Schedule Preference","/daily-schedules":"Daily Schedules","/daily-schedules/create":"Create Daily Schedule","/daily-schedules/edit":"Edit Daily Schedule","/daily-schedules/view":"View Daily Schedule","/weekly-schedules":"Weekly Schedules","/weekly-schedules/create":"Create Weekly Schedule","/weekly-schedules/edit":"Edit Weekly Schedule","/weekly-schedules/view":"View Weekly Schedule","/field-types":"Field Types"},r=[];if(r.push({label:"Dashboard",href:"/dashboard",isActive:e==="/dashboard"}),e==="/dashboard")return r;const s=e.split("/").filter(Boolean);let a="";for(let i=0;i<s.length;i++){a+="/"+s[i];let o=t[a];if(!o){const d=a.replace(/\/[^/]+$/,"");if(o=t[d],!o){const u=s[i];o=u.charAt(0).toUpperCase()+u.slice(1).replace(/-/g," ")}}const c=a===e;r.push({label:o,href:a,isActive:c})}return r}const NHe=({pathname:e})=>{const t=SHe(e);return n.jsx("div",{className:"flex items-center px-2 py-1 sm:py-2 bg-muted/30",children:n.jsx(Tre,{children:n.jsx(Dre,{className:"text-xs sm:text-sm",children:t.map((r,s)=>n.jsxs(te.Fragment,{children:[n.jsx(Pre,{children:r.isActive?n.jsx(Rre,{className:"text-foreground font-medium text-xs sm:text-sm",children:r.label}):r.label.toLowerCase()==="stores"?n.jsx(EM,{href:"/stores",className:"text-muted-foreground hover:text-foreground transition-colors text-xs sm:text-sm cursor-pointer",children:r.label}):n.jsx(EM,{href:r.href,className:"text-muted-foreground hover:text-foreground transition-colors text-xs sm:text-sm",children:r.label})}),s<t.length-1&&n.jsx(Mre,{className:"w-3 h-3 sm:w-4 sm:h-4"})]},r.href))})})})},CHe=()=>{const{user:e,isAuthenticated:t}=Gl(),r=la();return!t||!e?n.jsx("header",{className:"flex h-12 sm:h-16 shrink-0 items-center gap-1 sm:gap-2 transition-[width,height] ease-linear group-has-[[data-collapsible=icon]]/sidebar-wrapper:h-12 border-b border-border",children:n.jsx("div",{className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-4",children:n.jsx(NM,{className:"-ml-0.5 sm:-ml-1"})})}):n.jsx("header",{className:"flex flex-col border-b border-border",children:n.jsx("div",{className:"flex h-12 sm:h-16 shrink-0 items-center gap-1 sm:gap-2 transition-[width,height] ease-linear group-has-[[data-collapsible=icon]]/sidebar-wrapper:h-12",children:n.jsxs("div",{className:"flex items-center px-2 sm:px-4",children:[n.jsx(NM,{className:"-ml-0.5 sm:-ml-1"}),n.jsx(NHe,{pathname:r.pathname})]})})})},$t=({children:e})=>n.jsx(yHe,{children:n.jsxs(qte,{children:[n.jsx(jHe,{}),n.jsxs(Yte,{children:[n.jsx(CHe,{}),n.jsx("div",{className:"flex flex-1 flex-col gap-4 p-4 pt-0",children:n.jsx("div",{className:"min-h-[100vh] flex-1 rounded-xl bg-muted/50 md:min-h-min",children:e})})]})]})});function Vu(){const e=ql(),t=Ce(JPe),r=Ce(QPe),s=Ce(eRe),a=Ce(tRe),i=Ce(rRe),o=Ce(sRe),c=Ce(nRe),d=Ce(aRe),u=Ce(iRe),l=Ce(oRe),f=Ce(lRe),m=Ce(cRe),p=Ce(dRe),x=Ce(uRe),b=Ce(fRe),h=Ce(mRe),y=Ce(hRe),w=Ce(pRe),S=Ce(gRe),N=Ce(xRe),_=Ce(vRe),k=Ce(yRe),E=Ce(bRe),T=Ce(wRe),D=Ce(jRe),P=Ce(SRe),M=Ce(NRe),R=v.useCallback(H=>{e(qPe(H))},[e]),B=v.useCallback(H=>{e(GPe(H))},[e]),L=v.useCallback(H=>{e(YPe(H))},[e]),$=v.useCallback(H=>{e(KPe(H))},[e]),I=v.useCallback(()=>{e(ZPe())},[e]),z=v.useCallback(()=>{e(XPe())},[e]);return{raw:t,processed:r,daily:s,financial:a,operational:i,salesChannels:o,quality:c,costControl:d,alerts:u,criticalAlerts:l,urgentAlerts:f,overallGrade:m,totalSales:w,laborCostPercentage:S,digitalAdoptionRate:N,customerServiceScore:_,wastePercentage:k,topChannel:M,hasData:y,store:b,date:h,lastProcessed:x,alertsEnabled:E,alertCount:T,hasCriticalAlerts:D,hasUrgentAlerts:P,config:p,setPerformanceTargets:R,setAlertSettings:B,setCostThresholds:L,toggleAlerts:$,resetConfig:I,clearData:z}}function od(){const e=ql(),t=Ce(XRe),r=Ce(JRe),s=Ce(QRe),a=Ce(e4e),i=Ce(t4e),o=Ce(r4e),c=Ce(s4e),d=Ce(n4e),u=Ce(a4e),l=Ce(i4e),f=Ce(o4e),m=Ce(l4e),p=Ce(c4e),x=Ce(d4e),b=Ce(u4e),h=Ce(f4e),y=Ce(m4e),w=Ce(h4e),S=Ce(p4e),N=Ce(g4e),_=Ce(x4e),k=Ce(v4e),E=Ce(y4e),T=Ce(b4e),D=Ce(w4e),P=Ce(j4e),M=Ce(S4e),R=Ce(N4e),B=Ce(C4e),L=Ce(_4e),$=Ce(E4e),I=Ce(k4e),z=Ce(A4e),H=v.useCallback(K=>{e(WRe(K))},[e]),Z=v.useCallback(K=>{e(qRe(K))},[e]),V=v.useCallback(()=>{e(GRe())},[e]),G=v.useCallback(K=>{e(YRe(K))},[e]),U=v.useCallback(()=>{e(KRe())},[e]),Y=v.useCallback(()=>{e(ZRe())},[e]);return{raw:t,rawPrevious:r,processed:s,comparison:a,financial:i,operational:o,quality:c,salesChannels:d,costControl:u,trends:l,grade:f,weekProgress:m,totalSales:k,dailyAverageSales:E,laborPercent:T,wastePercent:D,digitalPercent:P,customerService:M,projectedWeekTotal:R,annualRunRate:B,overallTrend:L,costEfficiencyScore:z,salesWoWChange:$,customersWoWChange:I,hasData:N,hasPreviousWeek:_,store:h,week:y,weekStartDate:w,weekEndDate:S,lastProcessed:b,config:p,filter:x,setPerformanceThresholds:H,setFilter:Z,clearFilter:V,setOperatingDays:G,resetConfig:U,clearData:Y}}const Fb=({title:e,subtitle:t,className:r,actions:s})=>{const a=ca();return n.jsx("header",{className:X("text-center",a?"space-y-1":"space-y-2",r),children:n.jsxs("div",{className:X("flex items-center justify-between",a&&"flex-col space-y-2"),children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:X("font-bold text-foreground",a?"text-lg":"text-xl md:text-2xl lg:text-3xl"),children:e}),t&&n.jsx("p",{className:X("text-muted-foreground mt-1",a?"text-xs":"text-sm"),children:t})]}),s&&n.jsx("div",{className:X("flex items-center",a?"gap-1":"gap-2"),children:s})]})})};function _He({title:e,titleId:t,...r},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const EHe=v.forwardRef(_He);function kHe({title:e,titleId:t,...r},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const AHe=v.forwardRef(kHe);function THe({title:e,titleId:t,...r},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const DHe=v.forwardRef(THe);function PHe({title:e,titleId:t,...r},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const RHe=v.forwardRef(PHe);function MHe({title:e,titleId:t,...r},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const OHe=v.forwardRef(MHe);function IHe({title:e,titleId:t,...r},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const FHe=v.forwardRef(IHe);function $He({title:e,titleId:t,...r},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))}const LHe=v.forwardRef($He);function BHe({title:e,titleId:t,...r},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ore=v.forwardRef(BHe);function zHe({title:e,titleId:t,...r},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const UHe=v.forwardRef(zHe);function HHe({title:e,titleId:t,...r},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const ku=v.forwardRef(HHe);function VHe({title:e,titleId:t,...r},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 0 1-3-3V4.5a3 3 0 1 1 6 0v8.25a3 3 0 0 1-3 3Z"}))}const WHe=v.forwardRef(VHe);function qHe({title:e,titleId:t,...r},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const GHe=v.forwardRef(qHe);function YHe({title:e,titleId:t,...r},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const KHe=v.forwardRef(YHe);function ZHe({title:e,titleId:t,...r},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const XHe=v.forwardRef(ZHe);function JHe({title:e,titleId:t,...r},s){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const G3=v.forwardRef(JHe),QHe={FlowbiteChartLineDownOutline:RHe,IconParkOutlineRecycling:EHe,TablerPlusMinus:KHe,Fa6SolidPencil:GHe,currency:Ore,trophy:XHe,trending:AHe,users:G3,arrowUp:DHe,checkCircle:OHe,computer:LHe,microphone:WHe,clock:FHe,document:UHe},Ire=({item:e,isLoading:t=!1,isMobile:r=!1,bgColor:s})=>{const a=QHe[e.icon];return n.jsxs(oe,{className:X("w-full h-full shadow-realistic transition-all duration-200 overflow-hidden","hover:shadow-realistic-lg transform hover:scale-[1.02]",t&&"opacity-50 pointer-events-none"),children:[n.jsxs(Re,{className:X("flex flex-row items-center justify-between space-y-0 rounded-t-md",s||e.bgColor,r?"p-2":"p-4"),children:[n.jsx(qe,{className:X("font-medium text-foreground truncate",r?"text-sm leading-tight":"text-base"),children:e.title}),n.jsx(a,{className:X("text-foreground",r?"h-4 w-4":"h-6 w-6")})]}),n.jsxs(je,{className:X("space-y-2",r?"p-2":"p-4",r?"space-y-2":"space-y-4"),children:[n.jsx(m9,{label:"Daily",value:e.daily,primary:!0,isMobile:r}),n.jsx(m9,{label:"Weekly",value:e.weekly,isMobile:r})]})]})},m9=({label:e,value:t,primary:r=!1,isMobile:s=!1})=>n.jsxs("div",{className:"flex items-center justify-between gap-2 min-w-0",children:[n.jsx("span",{className:X("text-muted-foreground truncate flex-shrink",r&&"font-semibold",s?"text-sm":"text-base"),children:e}),n.jsx("span",{className:X("text-foreground truncate flex-shrink-0",r&&"font-bold",s?"text-sm font-medium":"text-base",r&&!s&&"font-bold"),children:t})]}),Fre=({data:e,isLoading:t=!1,className:r})=>{const{theme:s}=$u(),a=ca(),i=s==="dark"||s==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;return n.jsx("div",{className:X("grid w-full","grid-cols-2 grid-rows-3","gap-2 sm:gap-3","md:grid-cols-6 md:grid-rows-2","md:gap-4 lg:gap-6 xl:gap-8",r),children:e.slice(0,5).map((o,c)=>{const f=(i?["bg-primary-500","bg-primary-600","bg-primary-700","bg-primary-800","bg-primary-900"]:["bg-primary-100","bg-primary-200","bg-primary-300","bg-primary-400","bg-primary-500"])[c];let m="";return c===4&&(m="col-span-2"),c===3&&(m=X(m,"md:col-span-2 md:row-start-2 md:col-start-2")),c===4&&(m=X(m,"md:col-span-2 md:row-start-2 md:col-start-4")),c===0?m=X(m,"md:col-span-2 md:row-start-1 md:col-start-1"):c===1?m=X(m,"md:col-span-2 md:row-start-1 md:col-start-3"):c===2&&(m=X(m,"md:col-span-2 md:row-start-1 md:col-start-5")),n.jsx("div",{className:X(m,"transition-all duration-300 ease-in-out","hover:scale-[1.02] hover:shadow-lg","min-h-[120px] sm:min-h-[140px] md:min-h-[160px]"),children:n.jsx(Ire,{item:o,isLoading:t,isMobile:a,bgColor:f})},`${o.title}-${c}`)})})};function ri(){const e=ql(),t=Ce(NDe),r=Ce(CDe),s=Ce(_De),a=Ce(RDe),i=Ce(oJ),o=Ce(MDe),c=Ce(ADe),d=Ce(TDe),u=Ce(DDe),l=Ce(PDe),f=Ce(kDe),m=Ce(EDe),p=Ce(ODe),x=Ce(IDe),b=v.useMemo(()=>t!==null,[t]),h=v.useMemo(()=>o,[o]),y=v.useMemo(()=>f?.store||null,[f]),w=v.useMemo(()=>f?.date||null,[f]),S=v.useCallback(async(T,D={})=>{const{force:P=!1,skipCache:M=!1}=D;if(!(!P&&!M&&i&&t&&t?.FilteringValues?.store===T.store&&t?.FilteringValues?.date===T.date))try{await e(ya(T)).unwrap()}catch(R){throw R}},[e,i,t,p]),N=v.useCallback(async(T={})=>{if(!f){console.warn("[useDsprApi] Cannot refetch: no previous request found");return}await S({store:f.store,date:f.date},{...T,force:!0})},[f,S]),_=v.useCallback(()=>{e(jDe())},[e]),k=v.useCallback(()=>{e(wDe())},[e]),E=v.useCallback(()=>{e(SDe())},[e]);return{data:t,filteringValues:c,reports:d,dailyReports:u,weeklyReports:l,status:r,error:s,isLoading:a,isFresh:i,isStale:h,hasData:b,lastFetched:m,cacheExpiresAt:p,timeUntilCacheExpires:x,currentStore:y,currentDate:w,fetchData:S,refetch:N,invalidateCache:_,clearData:k,clearError:E}}const e9e=({title:e="Sales Performance Overview",subtitle:t,data:r,className:s})=>{const{raw:a}=Vu(),{raw:i}=od(),{isLoading:o,error:c}=ri(),d=ca(),u=v.useMemo(()=>{const x=P=>{if(P==null||isNaN(P))return"$0";const M=Math.abs(P),R=P<0?"-":"";return M>=1e3?`${R}$${(M/1e3).toFixed(2)}k`:`${R}$${M.toFixed(2)}`},b=P=>P==null||isNaN(P)?"0":Math.round(P).toString(),h=a?.Waste_Alta??0,y=a?.waste_gateway??0,w=a?.over_short??0,S=a?.Modified_Order_Qty??0,N=a?.Cash_Sales_Vs_Deposite_Difference??0,_=i?.WasteAlta??0,k=i?.wastegateway??0,E=i?.overshort??0,T=i?.ModifiedOrderQty??0,D=i?.CashSalesVsDepositeDifference??0;return[{title:"Waste Altmetrics",bgColor:"bg-blue-500",icon:"FlowbiteChartLineDownOutline",daily:x(h),weekly:x(_)},{title:"Waste Gateway",bgColor:"bg-blue-400",icon:"IconParkOutlineRecycling",daily:x(y),weekly:x(k)},{title:"Over / Short",bgColor:"bg-blue-300",icon:"TablerPlusMinus",daily:x(w),weekly:x(E)},{title:"Modified Orders",bgColor:"bg-green-200",icon:"Fa6SolidPencil",daily:b(S),weekly:b(T)},{title:"Cash vs Deposite",bgColor:"bg-green-200",icon:"Fa6SolidPencil",daily:x(N),weekly:x(D)}]},[a,i]),l=r||u,f=!!(a||i),m=()=>n.jsxs("div",{className:X("w-full bg-card rounded-lg border border-destructive/20 p-6 shadow-realistic","flex flex-col items-center justify-center text-center space-y-4",d?"min-h-48":"min-h-64"),children:[n.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-destructive/10",children:n.jsx(ku,{className:"w-6 h-6 text-destructive"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:"Unable to Load Data"}),n.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"We're experiencing difficulties loading your performance metrics. This could be due to a temporary connection issue or data processing error."}),n.jsx("p",{className:"font-bold mt-1",children:"Try changing the Date filter."})]})]}),p=()=>n.jsxs("div",{className:X("w-full bg-card rounded-lg border border-border p-6 shadow-realistic","flex flex-col items-center justify-center text-center space-y-4",d?"min-h-48":"min-h-64"),children:[n.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-muted",children:n.jsx(ku,{className:"w-6 h-6 text-muted-foreground"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:"No Data Available"}),n.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"There's currently no performance data available to display. Please check back later or contact support if this issue persists."}),n.jsx("p",{className:"font-bold mt-1",children:"Try changing the Date filter."})]})]});return n.jsxs("section",{className:X("w-full p-2 space-y-2",d?" space-y-2":" space-y-6",s),children:[n.jsx(Fb,{title:e,subtitle:t}),c?n.jsx(m,{}):!f||!l||l.length===0?n.jsx(p,{}):n.jsx(Fre,{data:l,isLoading:o})]})},h9=({data:e,isLoading:t=!1,className:r})=>{const{theme:s}=$u(),a=ca(),i=s==="dark"||s==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;return n.jsx("div",{className:X("grid grid-cols-2 lg:grid-cols-4 grid-rows-2 lg:grid-rows-1",a?"gap-2":"gap-4 md:gap-8",r),children:e.slice(0,4).map((o,c)=>{const f=(i?["bg-primary-600","bg-primary-700","bg-primary-800","bg-primary-900"]:["bg-primary-100","bg-primary-200","bg-primary-300","bg-primary-400"])[c];return n.jsx(Ire,{item:o,isLoading:t,isMobile:a,bgColor:f},`${o.title}-${c}`)})})},t9e=({title:e="Customer Services Overview",subtitle:t,className:r})=>{const s=ca(),{raw:a}=Vu(),{raw:i}=od(),{isLoading:o,error:c}=ri(),d=x=>x==null?"0%":`${(x*100).toFixed(1)}%`,u=x=>x==null?"0":x.toString(),l=v.useMemo(()=>{const x=[{title:"Customer Count",bgColor:"bg-performance-bg-1",icon:"users",daily:u(a?.Customer_count),weekly:u(i?.Customercount)},{title:"Customer Count %",bgColor:"bg-performance-bg-2",icon:"trending",daily:d(a?.Customer_count_percent),weekly:d(i?.Customercountpercent)},{title:"Upselling %",bgColor:"bg-performance-bg-3",icon:"arrowUp",daily:d(a?.Upselling),weekly:d(i?.Upselling)},{title:"Digital Sales %",bgColor:"bg-performance-bg-4",icon:"computer",daily:d(a?.Digital_Sales_Percent),weekly:d(i?.DigitalSalesPercent)}],b=[{title:"Customer Service %",bgColor:"bg-performance-bg-5",icon:"microphone",daily:d(a?.Customer_Service),weekly:d(i?.CustomerService)},{title:"Put Into Portal %",bgColor:"bg-performance-bg-6",icon:"arrowUp",daily:d(a?.Put_into_Portal_Percent),weekly:d(i?.PutintoPortalPercent)},{title:"In Portal On Time %",bgColor:"bg-performance-bg-7",icon:"clock",daily:d(a?.In_Portal_on_Time_Percent),weekly:d(i?.InPortalonTimePercent)},{title:"Portal Eligible Transactions",bgColor:"bg-performance-bg-8",icon:"document",daily:u(a?.Total_Portal_Eligible_Transactions),weekly:u(i?.TotalPortalEligibleTransactions)}];return[...x,...b]},[a,i]),f=!!(a||i),m=()=>n.jsxs("div",{className:X("w-full bg-card rounded-lg border border-destructive/20 p-6 shadow-realistic","flex flex-col items-center justify-center text-center space-y-4",s?"min-h-48":"min-h-64"),children:[n.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-destructive/10",children:n.jsx(ku,{className:"w-6 h-6 text-destructive"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:"Unable to Load Data"}),n.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"We're experiencing difficulties loading your customer service metrics. This could be due to a temporary connection issue or data processing error."}),n.jsx("p",{className:"font-bold mt-1",children:"Try changing the Date filter."})]})]}),p=()=>n.jsxs("div",{className:X("w-full bg-card rounded-lg border border-border p-6 shadow-realistic","flex flex-col items-center justify-center text-center space-y-4",s?"min-h-48":"min-h-64"),children:[n.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-muted",children:n.jsx(ku,{className:"w-6 h-6 text-muted-foreground"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:"No Data Available"}),n.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"There's currently no customer service data available to display. Please check back later or contact support if this issue persists."}),n.jsx("p",{className:"font-bold mt-1",children:"Try changing the Date filter."})]})]});return n.jsxs("section",{className:X("w-full p-2 space-y-2",s?" space-y-2":" space-y-6",r),children:[n.jsx(Fb,{title:e,subtitle:t}),c?n.jsx(m,{}):!f||!l||l.length===0?n.jsx(p,{}):n.jsxs("div",{className:"space-y-6",children:[n.jsx(h9,{data:l.slice(0,4),isLoading:o}),n.jsx(h9,{data:l.slice(4,8),isLoading:o})]})]})},r9e=({title:e="Business Overview",subtitle:t,data:r,className:s})=>{const{raw:a}=Vu(),{raw:i}=od(),{isLoading:o,error:c}=ri(),d=ca(),u=!!(a||i),l=v.useMemo(()=>{if(r)return r;if(!u||!a)return[];const x=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(h),b=h=>`${(h*100).toFixed(1)}%`;return[{title:"Total Sales",bgColor:"bg-blue-500",daily:x(a.Total_Sales||0),weekly:x(i?.TotalSales||0),icon:"currency",id:"sales-1"},{title:"Total Tips",bgColor:"bg-blue-400",daily:x(a.Total_TIPS||0),weekly:x(i?.TotalTIPS||0),icon:"currency",id:"tips-1"},{title:"Labor Cost",bgColor:"bg-blue-300",daily:b(a.labor||0),weekly:b(i?.labor||0),icon:"users",id:"labor-1"},{title:"Refunded Order Qty",bgColor:"bg-green-200",daily:x(a.Refunded_order_Qty||0),weekly:x(i?.RefundedorderQty||0),icon:"trending",id:"refunded-1"},{title:"Average Ticket",bgColor:"bg-green-200",daily:x(a.Avrage_ticket||0),weekly:x(i?.Avrageticket||0),icon:"trending",id:"avrage-ticket-1"}]},[r,a,i,u]),f=()=>n.jsxs("div",{className:X("w-full bg-card rounded-lg border border-destructive/20 p-6 shadow-realistic","flex flex-col items-center justify-center text-center space-y-4",d?"min-h-48":"min-h-64"),children:[n.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-destructive/10",children:n.jsx(ku,{className:"w-6 h-6 text-destructive"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:"Unable to Load Data"}),n.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"We're experiencing difficulties loading your business metrics. This could be due to a temporary connection issue or data processing error."}),n.jsx("p",{className:"font-bold mt-1",children:"Try changing the Date filter."})]})]}),m=()=>n.jsxs("div",{className:X("w-full bg-card rounded-lg border border-border p-6 shadow-realistic","flex flex-col items-center justify-center text-center space-y-4",d?"min-h-48":"min-h-64"),children:[n.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-muted",children:n.jsx(ku,{className:"w-6 h-6 text-muted-foreground"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:"No Data Available"}),n.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"There's currently no business data available to display. Please check back later or contact support if this issue persists."}),n.jsx("p",{className:"font-bold mt-1",children:"Try changing the Date filter."})]})]}),p=l.map(x=>{let b;switch(x.icon){case"chart":b="FlowbiteChartLineDownOutline";break;case"currency":b="currency";break;case"trophy":b="trophy";break;case"trending":b="trending";break;default:x.title.toLowerCase().includes("sales")?b="FlowbiteChartLineDownOutline":x.title.toLowerCase().includes("tips")?b="currency":x.title.toLowerCase().includes("labor")?b="users":x.title.toLowerCase().includes("refunded")?b="IconParkOutlineRecycling":x.title.toLowerCase().includes("average")||x.title.toLowerCase().includes("ticket")?b="trending":b="FlowbiteChartLineDownOutline"}return{title:x.title,daily:x.daily,weekly:x.weekly,bgColor:x.bgColor||"#f3f4f6",icon:b}});return n.jsxs("section",{className:X("w-full",d?"p-2 space-y-2":"p-2 space-y-6",s),children:[n.jsx(Fb,{title:e,subtitle:t}),n.jsx("div",{className:"flex flex-col gap-6",children:c?n.jsx(f,{}):!u||l.length===0?n.jsx(m,{}):n.jsx(n.Fragment,{children:n.jsx("div",{className:"w-full",children:n.jsx(Fre,{data:p,isLoading:o})})})})]})},s9e=({channel:e,isLast:t=!1,isMobile:r=!1})=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:X("flex items-center justify-between",r?"px-2 py-1":"px-2.5 py-1"),children:[n.jsx(n9e,{channel:e,isMobile:r}),n.jsx(a9e,{channel:e,isMobile:r})]}),!t&&n.jsx(Hs,{className:X("w-[96%] mx-auto")})]}),n9e=({channel:e,isMobile:t})=>n.jsx("div",{className:X("flex flex-col items-center justify-center space-y-1",t?"min-w-[60px]":"min-w-[78px]"),children:n.jsx("h3",{className:X("font-bold text-foreground whitespace-nowrap",t?"text-xs":"text-sm md:text-base"),children:e.name})}),a9e=({channel:e,isMobile:t})=>n.jsxs("div",{className:X("flex flex-col items-center justify-center space-y-1",t?"min-w-[50px]":"min-w-[66px]"),children:[n.jsxs("span",{className:X("text-foreground whitespace-nowrap","font-semibold text-sm md:text-base"),children:["Daily  :  ",e.daily]}),n.jsxs("span",{className:X("text-muted-foreground whitespace-nowrap","text-xs md:text-sm"),children:["Weekly  :  ",e.weekly]})]}),i9e=({channels:e})=>{const t=ca();return n.jsx("div",{className:"space-y-0",children:e.map((r,s)=>n.jsx(s9e,{channel:r,isLast:s===e.length-1,isMobile:t},r.id))})};var tP={},rP={},p9;function o9e(){return p9||(p9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(rP)),rP}var sP={},g9;function $re(){return g9||(g9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(sP)),sP}var nP={},x9;function Lre(){return x9||(x9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(nP)),nP}var aP={},v9;function Y3(){return v9||(v9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const s=[],a=r.length;if(a===0)return s;let i=0,o="",c="",d=!1;for(r.charCodeAt(0)===46&&(s.push(""),i++);i<a;){const u=r[i];c?u==="\\"&&i+1<a?(i++,o+=r[i]):u===c?c="":o+=u:d?u==='"'||u==="'"?c=u:u==="]"?(d=!1,s.push(o),o=""):o+=u:u==="["?(d=!0,o&&(s.push(o),o="")):u==="."?o&&(s.push(o),o=""):o+=u,i++}return o&&s.push(o),s}e.toPath=t})(aP)),aP}var y9;function K3(){return y9||(y9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o9e(),r=$re(),s=Lre(),a=Y3();function i(c,d,u){if(c==null)return u;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return u;const l=c[d];return l===void 0?r.isDeepKey(d)?i(c,a.toPath(d),u):u:l}case"number":case"symbol":{typeof d=="number"&&(d=s.toKey(d));const l=c[d];return l===void 0?u:l}default:{if(Array.isArray(d))return o(c,d,u);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return u;const l=c[d];return l===void 0?u:l}}}function o(c,d,u){if(d.length===0)return u;let l=c;for(let f=0;f<d.length;f++){if(l==null||t.isUnsafeProperty(d[f]))return u;l=l[d[f]]}return l===void 0?u:l}e.get=i})(tP)),tP}var iP,b9;function l9e(){return b9||(b9=1,iP=K3().get),iP}var c9e=l9e();const Au=Vi(c9e);var oP={exports:{}},Gr={};var w9;function d9e(){if(w9)return Gr;w9=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),l=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),p=Symbol.for("react.client.reference");function x(b){if(typeof b=="object"&&b!==null){var h=b.$$typeof;switch(h){case e:switch(b=b.type,b){case r:case a:case s:case d:case u:case m:return b;default:switch(b=b&&b.$$typeof,b){case o:case c:case f:case l:return b;case i:return b;default:return h}}case t:return h}}}return Gr.ContextConsumer=i,Gr.ContextProvider=o,Gr.Element=e,Gr.ForwardRef=c,Gr.Fragment=r,Gr.Lazy=f,Gr.Memo=l,Gr.Portal=t,Gr.Profiler=a,Gr.StrictMode=s,Gr.Suspense=d,Gr.SuspenseList=u,Gr.isContextConsumer=function(b){return x(b)===i},Gr.isContextProvider=function(b){return x(b)===o},Gr.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===e},Gr.isForwardRef=function(b){return x(b)===c},Gr.isFragment=function(b){return x(b)===r},Gr.isLazy=function(b){return x(b)===f},Gr.isMemo=function(b){return x(b)===l},Gr.isPortal=function(b){return x(b)===t},Gr.isProfiler=function(b){return x(b)===a},Gr.isStrictMode=function(b){return x(b)===s},Gr.isSuspense=function(b){return x(b)===d},Gr.isSuspenseList=function(b){return x(b)===u},Gr.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===a||b===s||b===d||b===u||typeof b=="object"&&b!==null&&(b.$$typeof===f||b.$$typeof===l||b.$$typeof===o||b.$$typeof===i||b.$$typeof===c||b.$$typeof===p||b.getModuleId!==void 0)},Gr.typeOf=x,Gr}var j9;function u9e(){return j9||(j9=1,oP.exports=d9e()),oP.exports}var Z3=u9e(),Gn=e=>e===0?0:e>0?1:-1,Pi=e=>typeof e=="number"&&e!=+e,Zf=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,lt=e=>(typeof e=="number"||e instanceof Number)&&!Pi(e),zl=e=>lt(e)||typeof e=="string",f9e=0,Ty=e=>{var t=++f9e;return"".concat(e||"").concat(t)},Aa=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!lt(t)&&typeof t!="string")return s;var i;if(Zf(t)){if(r==null)return s;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Pi(i)&&(i=s),a&&r!=null&&i>r&&(i=r),i},Bre=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},s=0;s<t;s++)if(!r[e[s]])r[e[s]]=!0;else return!0;return!1},S9=(e,t)=>lt(e)&&lt(t)?r=>e+r*(t-e):()=>t;function fp(e,t,r){return lt(e)&&lt(t)?e+r*(t-e):t}function m9e(e,t,r){if(!(!e||!e.length))return e.find(s=>s&&(typeof t=="function"?t(s):Au(s,t))===r)}var Tn=e=>e===null||typeof e>"u",$b=e=>Tn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),h9e=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function X3(e){if(typeof e!="string")return!1;var t=h9e;return t.includes(e)}var p9e=["viewBox","children"],N9=["points","pathLength"],lP={svg:p9e,polygon:N9,polyline:N9},g9e=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(v.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var s={};return Object.keys(r).forEach(a=>{X3(a)&&(s[a]=(i=>r[a](r,i)))}),s},x9e=(e,t,r)=>s=>(e(t,r,s),null),Lb=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var s=null;return Object.keys(e).forEach(a=>{var i=e[a];X3(a)&&typeof i=="function"&&(s||(s={}),s[a]=x9e(i,t,r))}),s},v9e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function zre(e){if(typeof e!="string")return!1;var t=v9e;return t.includes(e)}function eh(e){var t=Object.entries(e).filter(r=>{var[s]=r;return zre(s)});return Object.fromEntries(t)}var C9=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",_9=null,cP=null,Ure=e=>{if(e===_9&&Array.isArray(cP))return cP;var t=[];return v.Children.forEach(e,r=>{Tn(r)||(Z3.isFragment(r)?t=t.concat(Ure(r.props.children)):t.push(r))}),cP=t,_9=e,t};function Bb(e,t){var r=[],s=[];return Array.isArray(t)?s=t.map(a=>C9(a)):s=[C9(t)],Ure(e).forEach(a=>{var i=Au(a,"type.displayName")||Au(a,"type.name");s.indexOf(i)!==-1&&r.push(a)}),r}var y9e=(e,t,r,s)=>{var a;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(a=s&&lP?.[s])!==null&&a!==void 0?a:[],o=t.startsWith("data-"),c=typeof e!="function"&&(!!s&&i.includes(t)||zre(t)),d=!!r&&X3(t);return o||c||d},gn=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(v.isValidElement(e)&&(s=e.props),typeof s!="object"&&typeof s!="function")return null;var a={};return Object.keys(s).forEach(i=>{var o;y9e((o=s)===null||o===void 0?void 0:o[i],i,t,r)&&(a[i]=s[i])}),a},b9e=["children","width","height","viewBox","className","style","title","desc"];function kM(){return kM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},kM.apply(null,arguments)}function w9e(e,t){if(e==null)return{};var r,s,a=j9e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function j9e(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var J3=v.forwardRef((e,t)=>{var{children:r,width:s,height:a,viewBox:i,className:o,style:c,title:d,desc:u}=e,l=w9e(e,b9e),f=i||{width:s,height:a,x:0,y:0},m=St("recharts-surface",o);return v.createElement("svg",kM({},gn(l,!0,"svg"),{className:m,width:s,height:a,style:c,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),v.createElement("title",null,d),v.createElement("desc",null,u),r)}),S9e=["children","className"];function AM(){return AM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},AM.apply(null,arguments)}function N9e(e,t){if(e==null)return{};var r,s,a=C9e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function C9e(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var Ri=v.forwardRef((e,t)=>{var{children:r,className:s}=e,a=N9e(e,S9e),i=St("recharts-layer",s);return v.createElement("g",AM({className:i},gn(a,!0),{ref:t}),r)}),Hre=v.createContext(null),_9e=()=>v.useContext(Hre);function pr(e){return function(){return e}}const Vre=Math.cos,$C=Math.sin,il=Math.sqrt,LC=Math.PI,fm=2*LC,TM=Math.PI,DM=2*TM,Bf=1e-6,E9e=DM-Bf;function Wre(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function k9e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Wre;const r=10**t;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+s[a]}}class A9e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Wre:k9e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,s,a){this._append`Q${+t},${+r},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(t,r,s,a,i,o){this._append`C${+t},${+r},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,s,a,i){if(t=+t,r=+r,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,c=this._y1,d=s-t,u=a-r,l=o-t,f=c-r,m=l*l+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>Bf)if(!(Math.abs(f*d-u*l)>Bf)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=s-o,x=a-c,b=d*d+u*u,h=p*p+x*x,y=Math.sqrt(b),w=Math.sqrt(m),S=i*Math.tan((TM-Math.acos((b+m-h)/(2*y*w)))/2),N=S/w,_=S/y;Math.abs(N-1)>Bf&&this._append`L${t+N*l},${r+N*f}`,this._append`A${i},${i},0,0,${+(f*p>l*x)},${this._x1=t+_*d},${this._y1=r+_*u}`}}arc(t,r,s,a,i,o){if(t=+t,r=+r,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let c=s*Math.cos(a),d=s*Math.sin(a),u=t+c,l=r+d,f=1^o,m=o?a-i:i-a;this._x1===null?this._append`M${u},${l}`:(Math.abs(this._x1-u)>Bf||Math.abs(this._y1-l)>Bf)&&this._append`L${u},${l}`,s&&(m<0&&(m=m%DM+DM),m>E9e?this._append`A${s},${s},0,1,${f},${t-c},${r-d}A${s},${s},0,1,${f},${this._x1=u},${this._y1=l}`:m>Bf&&this._append`A${s},${s},0,${+(m>=TM)},${f},${this._x1=t+s*Math.cos(i)},${this._y1=r+s*Math.sin(i)}`)}rect(t,r,s,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function Q3(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const s=Math.floor(r);if(!(s>=0))throw new RangeError(`invalid digits: ${r}`);t=s}return e},()=>new A9e(t)}function WE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function qre(e){this._context=e}qre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function qE(e){return new qre(e)}function Gre(e){return e[0]}function Yre(e){return e[1]}function Kre(e,t){var r=pr(!0),s=null,a=qE,i=null,o=Q3(c);e=typeof e=="function"?e:e===void 0?Gre:pr(e),t=typeof t=="function"?t:t===void 0?Yre:pr(t);function c(d){var u,l=(d=WE(d)).length,f,m=!1,p;for(s==null&&(i=a(p=o())),u=0;u<=l;++u)!(u<l&&r(f=d[u],u,d))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(f,u,d),+t(f,u,d));if(p)return i=null,p+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:pr(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:pr(+d),c):t},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:pr(!!d),c):r},c.curve=function(d){return arguments.length?(a=d,s!=null&&(i=a(s)),c):a},c.context=function(d){return arguments.length?(d==null?s=i=null:i=a(s=d),c):s},c}function p1(e,t,r){var s=null,a=pr(!0),i=null,o=qE,c=null,d=Q3(u);e=typeof e=="function"?e:e===void 0?Gre:pr(+e),t=typeof t=="function"?t:pr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Yre:pr(+r);function u(f){var m,p,x,b=(f=WE(f)).length,h,y=!1,w,S=new Array(b),N=new Array(b);for(i==null&&(c=o(w=d())),m=0;m<=b;++m){if(!(m<b&&a(h=f[m],m,f))===y)if(y=!y)p=m,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),x=m-1;x>=p;--x)c.point(S[x],N[x]);c.lineEnd(),c.areaEnd()}y&&(S[m]=+e(h,m,f),N[m]=+t(h,m,f),c.point(s?+s(h,m,f):S[m],r?+r(h,m,f):N[m]))}if(w)return c=null,w+""||null}function l(){return Kre().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:pr(+f),s=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:pr(+f),u):e},u.x1=function(f){return arguments.length?(s=f==null?null:typeof f=="function"?f:pr(+f),u):s},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:pr(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:pr(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:pr(+f),u):r},u.lineX0=u.lineY0=function(){return l().x(e).y(t)},u.lineY1=function(){return l().x(e).y(r)},u.lineX1=function(){return l().x(s).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:pr(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(c=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=c=null:c=o(i=f),u):i},u}function T9e(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function D9e(e){return e}function P9e(){var e=D9e,t=T9e,r=null,s=pr(0),a=pr(fm),i=pr(0);function o(c){var d,u=(c=WE(c)).length,l,f,m=0,p=new Array(u),x=new Array(u),b=+s.apply(this,arguments),h=Math.min(fm,Math.max(-fm,a.apply(this,arguments)-b)),y,w=Math.min(Math.abs(h)/u,i.apply(this,arguments)),S=w*(h<0?-1:1),N;for(d=0;d<u;++d)(N=x[p[d]=d]=+e(c[d],d,c))>0&&(m+=N);for(t!=null?p.sort(function(_,k){return t(x[_],x[k])}):r!=null&&p.sort(function(_,k){return r(c[_],c[k])}),d=0,f=m?(h-u*S)/m:0;d<u;++d,b=y)l=p[d],N=x[l],y=b+(N>0?N*f:0)+S,x[l]={data:c[l],index:d,value:N,startAngle:b,endAngle:y,padAngle:w};return x}return o.value=function(c){return arguments.length?(e=typeof c=="function"?c:pr(+c),o):e},o.sortValues=function(c){return arguments.length?(t=c,r=null,o):t},o.sort=function(c){return arguments.length?(r=c,t=null,o):r},o.startAngle=function(c){return arguments.length?(s=typeof c=="function"?c:pr(+c),o):s},o.endAngle=function(c){return arguments.length?(a=typeof c=="function"?c:pr(+c),o):a},o.padAngle=function(c){return arguments.length?(i=typeof c=="function"?c:pr(+c),o):i},o}class Zre{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function R9e(e){return new Zre(e,!0)}function M9e(e){return new Zre(e,!1)}const e5={draw(e,t){const r=il(t/LC);e.moveTo(r,0),e.arc(0,0,r,0,fm)}},O9e={draw(e,t){const r=il(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Xre=il(1/3),I9e=Xre*2,F9e={draw(e,t){const r=il(t/I9e),s=r*Xre;e.moveTo(0,-r),e.lineTo(s,0),e.lineTo(0,r),e.lineTo(-s,0),e.closePath()}},$9e={draw(e,t){const r=il(t),s=-r/2;e.rect(s,s,r,r)}},L9e=.8908130915292852,Jre=$C(LC/10)/$C(7*LC/10),B9e=$C(fm/10)*Jre,z9e=-Vre(fm/10)*Jre,U9e={draw(e,t){const r=il(t*L9e),s=B9e*r,a=z9e*r;e.moveTo(0,-r),e.lineTo(s,a);for(let i=1;i<5;++i){const o=fm*i/5,c=Vre(o),d=$C(o);e.lineTo(d*r,-c*r),e.lineTo(c*s-d*a,d*s+c*a)}e.closePath()}},dP=il(3),H9e={draw(e,t){const r=-il(t/(dP*3));e.moveTo(0,r*2),e.lineTo(-dP*r,-r),e.lineTo(dP*r,-r),e.closePath()}},so=-.5,no=il(3)/2,PM=1/il(12),V9e=(PM/2+1)*3,W9e={draw(e,t){const r=il(t/V9e),s=r/2,a=r*PM,i=s,o=r*PM+r,c=-i,d=o;e.moveTo(s,a),e.lineTo(i,o),e.lineTo(c,d),e.lineTo(so*s-no*a,no*s+so*a),e.lineTo(so*i-no*o,no*i+so*o),e.lineTo(so*c-no*d,no*c+so*d),e.lineTo(so*s+no*a,so*a-no*s),e.lineTo(so*i+no*o,so*o-no*i),e.lineTo(so*c+no*d,so*d-no*c),e.closePath()}};function q9e(e,t){let r=null,s=Q3(a);e=typeof e=="function"?e:pr(e||e5),t=typeof t=="function"?t:pr(t===void 0?64:+t);function a(){let i;if(r||(r=i=s()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:pr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:pr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function BC(){}function zC(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Qre(e){this._context=e}Qre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zC(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zC(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function G9e(e){return new Qre(e)}function ese(e){this._context=e}ese.prototype={areaStart:BC,areaEnd:BC,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zC(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Y9e(e){return new ese(e)}function tse(e){this._context=e}tse.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break;case 3:this._point=4;default:zC(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function K9e(e){return new tse(e)}function rse(e){this._context=e}rse.prototype={areaStart:BC,areaEnd:BC,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Z9e(e){return new rse(e)}function E9(e){return e<0?-1:1}function k9(e,t,r){var s=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(s||a<0&&-0),o=(r-e._y1)/(a||s<0&&-0),c=(i*a+o*s)/(s+a);return(E9(i)+E9(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(c))||0}function A9(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function uP(e,t,r){var s=e._x0,a=e._y0,i=e._x1,o=e._y1,c=(i-s)/3;e._context.bezierCurveTo(s+c,a+c*t,i-c,o-c*r,i,o)}function UC(e){this._context=e}UC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:uP(this,this._t0,A9(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,uP(this,A9(this,r=k9(this,e,t)),r);break;default:uP(this,this._t0,r=k9(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function sse(e){this._context=new nse(e)}(sse.prototype=Object.create(UC.prototype)).point=function(e,t){UC.prototype.point.call(this,t,e)};function nse(e){this._context=e}nse.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,s,a,i){this._context.bezierCurveTo(t,e,s,r,i,a)}};function X9e(e){return new UC(e)}function J9e(e){return new sse(e)}function ase(e){this._context=e}ase.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var s=T9(e),a=T9(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function T9(e){var t,r=e.length-1,s,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)s=a[t]/i[t-1],i[t]-=s,o[t]-=s*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Q9e(e){return new ase(e)}function GE(e,t){this._context=e,this._t=t}GE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function eVe(e){return new GE(e,.5)}function tVe(e){return new GE(e,0)}function rVe(e){return new GE(e,1)}function Rm(e,t){if((o=e.length)>1)for(var r=1,s,a,i=e[t[0]],o,c=i.length;r<o;++r)for(a=i,i=e[t[r]],s=0;s<c;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function Mm(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function sVe(e,t){return e[t]}function nVe(e){const t=[];return t.key=e,t}function t5(){var e=pr([]),t=Mm,r=Rm,s=sVe;function a(i){var o=Array.from(e.apply(this,arguments),nVe),c,d=o.length,u=-1,l;for(const f of i)for(c=0,++u;c<d;++c)(o[c][u]=[0,+s(f,o[c].key,u,i)]).data=f;for(c=0,l=WE(t(o));c<d;++c)o[l[c]].index=c;return r(o,l),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:pr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:pr(+i),a):s},a.order=function(i){return arguments.length?(t=i==null?Mm:typeof i=="function"?i:pr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Rm,a):r},a}function ise(e,t){if((s=e.length)>0){for(var r,s,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<s;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<s;++r)e[r][a][1]/=o}Rm(e,t)}}function aVe(e,t){if((d=e.length)>0)for(var r,s=0,a,i,o,c,d,u=e[t[0]].length;s<u;++s)for(o=c=0,r=0;r<d;++r)(i=(a=e[t[r]][s])[1]-a[0])>0?(a[0]=o,a[1]=o+=i):i<0?(a[1]=c,a[0]=c+=i):(a[0]=0,a[1]=i)}function ose(e,t){if((a=e.length)>0){for(var r=0,s=e[t[0]],a,i=s.length;r<i;++r){for(var o=0,c=0;o<a;++o)c+=e[o][r][1]||0;s[r][1]+=s[r][0]=-c/2}Rm(e,t)}}function lse(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,s=1,a,i,o;s<i;++s){for(var c=0,d=0,u=0;c<o;++c){for(var l=e[t[c]],f=l[s][1]||0,m=l[s-1][1]||0,p=(f-m)/2,x=0;x<c;++x){var b=e[t[x]],h=b[s][1]||0,y=b[s-1][1]||0;p+=h-y}d+=f,u+=p*f}a[s-1][1]+=a[s-1][0]=r,d&&(r-=u/d)}a[s-1][1]+=a[s-1][0]=r,Rm(e,t)}}function cse(e){var t=e.map(iVe);return Mm(e).sort(function(r,s){return t[r]-t[s]})}function iVe(e){for(var t=-1,r=0,s=e.length,a,i=-1/0;++t<s;)(a=+e[t][1])>i&&(i=a,r=t);return r}function dse(e){var t=e.map(use);return Mm(e).sort(function(r,s){return t[r]-t[s]})}function use(e){for(var t=0,r=-1,s=e.length,a;++r<s;)(a=+e[r][1])&&(t+=a);return t}function oVe(e){return dse(e).reverse()}function lVe(e){var t=e.length,r,s,a=e.map(use),i=cse(e),o=0,c=0,d=[],u=[];for(r=0;r<t;++r)s=i[r],o<c?(o+=a[s],d.push(s)):(c+=a[s],u.push(s));return u.reverse().concat(d)}function cVe(e){return Mm(e).reverse()}var dVe=["type","size","sizeType"];function RM(){return RM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},RM.apply(null,arguments)}function D9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function P9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D9(Object(r),!0).forEach(function(s){uVe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D9(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function uVe(e,t,r){return(t=fVe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fVe(e){var t=mVe(e,"string");return typeof t=="symbol"?t:t+""}function mVe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hVe(e,t){if(e==null)return{};var r,s,a=pVe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pVe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var fse={symbolCircle:e5,symbolCross:O9e,symbolDiamond:F9e,symbolSquare:$9e,symbolStar:U9e,symbolTriangle:H9e,symbolWye:W9e},gVe=Math.PI/180,xVe=e=>{var t="symbol".concat($b(e));return fse[t]||e5},vVe=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*gVe;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.tan(s)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},yVe=(e,t)=>{fse["symbol".concat($b(e))]=t},r5=e=>{var{type:t="circle",size:r=64,sizeType:s="area"}=e,a=hVe(e,dVe),i=P9(P9({},a),{},{type:t,size:r,sizeType:s}),o=()=>{var f=xVe(t),m=q9e().type(f).size(vVe(r,s,t));return m()},{className:c,cx:d,cy:u}=i,l=gn(i,!0);return d===+d&&u===+u&&r===+r?v.createElement("path",RM({},l,{className:St("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(u,")"),d:o()})):null};r5.registerSymbol=yVe;function MM(){return MM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},MM.apply(null,arguments)}function R9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function bVe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R9(Object(r),!0).forEach(function(s){s5(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R9(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function s5(e,t,r){return(t=wVe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wVe(e){var t=jVe(e,"string");return typeof t=="symbol"?t:t+""}function jVe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ao=32;class n5 extends v.PureComponent{renderIcon(t,r){var{inactiveColor:s}=this.props,a=ao/2,i=ao/6,o=ao/3,c=t.inactive?s:t.color,d=r??t.type;if(d==="none")return null;if(d==="plainline")return v.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:ao,y2:a,className:"recharts-legend-icon"});if(d==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(ao,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(d==="rect")return v.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ao/8,"h").concat(ao,"v").concat(ao*3/4,"h").concat(-ao,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var u=bVe({},t);return delete u.legendIcon,v.cloneElement(t.legendIcon,u)}return v.createElement(r5,{fill:c,cx:a,cy:a,size:ao,sizeType:"diameter",type:d})}renderItems(){var{payload:t,iconSize:r,layout:s,formatter:a,inactiveColor:i,iconType:o}=this.props,c={x:0,y:0,width:ao,height:ao},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((l,f)=>{var m=l.formatter||a,p=St({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:l.inactive});if(l.type==="none")return null;var x=l.inactive?i:l.color,b=m?m(l.value,l,f):l.value;return v.createElement("li",MM({className:p,style:d,key:"legend-item-".concat(f)},Lb(this.props,l,f)),v.createElement(J3,{width:r,height:r,viewBox:c,style:u,"aria-label":"".concat(b," legend icon")},this.renderIcon(l,o)),v.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},b))})}render(){var{payload:t,layout:r,align:s}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?s:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}s5(n5,"displayName","Legend");s5(n5,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var fP={},mP={},M9;function SVe(){return M9||(M9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,s){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],c=s(o);a.has(c)||a.set(c,o)}return Array.from(a.values())}e.uniqBy=t})(mP)),mP}var hP={},O9;function mse(){return O9||(O9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(hP)),hP}var pP={},gP={},xP={},I9;function NVe(){return I9||(I9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(xP)),xP}var F9;function a5(){return F9||(F9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NVe();function r(s){return s!=null&&typeof s!="function"&&t.isLength(s.length)}e.isArrayLike=r})(gP)),gP}var vP={},$9;function CVe(){return $9||($9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(vP)),vP}var L9;function _Ve(){return L9||(L9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a5(),r=CVe();function s(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=s})(pP)),pP}var yP={},bP={},B9;function EVe(){return B9||(B9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K3();function r(s){return function(a){return t.get(a,s)}}e.property=r})(bP)),bP}var wP={},jP={},SP={},NP={},z9;function hse(){return z9||(z9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(NP)),NP}var CP={},U9;function pse(){return U9||(U9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(CP)),CP}var _P={},H9;function i5(){return H9||(H9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,s){return r===s||Number.isNaN(r)&&Number.isNaN(s)}e.eq=t})(_P)),_P}var V9;function kVe(){return V9||(V9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o5(),r=hse(),s=pse(),a=i5();function i(f,m,p){return typeof p!="function"?t.isMatch(f,m):o(f,m,function x(b,h,y,w,S,N){const _=p(b,h,y,w,S,N);return _!==void 0?!!_:o(b,h,x,N)},new Map)}function o(f,m,p,x){if(m===f)return!0;switch(typeof m){case"object":return c(f,m,p,x);case"function":return Object.keys(m).length>0?o(f,{...m},p,x):a.eq(f,m);default:return r.isObject(f)?typeof m=="string"?m==="":!0:a.eq(f,m)}}function c(f,m,p,x){if(m==null)return!0;if(Array.isArray(m))return u(f,m,p,x);if(m instanceof Map)return d(f,m,p,x);if(m instanceof Set)return l(f,m,p,x);const b=Object.keys(m);if(f==null)return b.length===0;if(b.length===0)return!0;if(x&&x.has(m))return x.get(m)===f;x&&x.set(m,f);try{for(let h=0;h<b.length;h++){const y=b[h];if(!s.isPrimitive(f)&&!(y in f)||m[y]===void 0&&f[y]!==void 0||m[y]===null&&f[y]!==null||!p(f[y],m[y],y,f,m,x))return!1}return!0}finally{x&&x.delete(m)}}function d(f,m,p,x){if(m.size===0)return!0;if(!(f instanceof Map))return!1;for(const[b,h]of m.entries()){const y=f.get(b);if(p(y,h,b,f,m,x)===!1)return!1}return!0}function u(f,m,p,x){if(m.length===0)return!0;if(!Array.isArray(f))return!1;const b=new Set;for(let h=0;h<m.length;h++){const y=m[h];let w=!1;for(let S=0;S<f.length;S++){if(b.has(S))continue;const N=f[S];let _=!1;if(p(N,y,h,f,m,x)&&(_=!0),_){b.add(S),w=!0;break}}if(!w)return!1}return!0}function l(f,m,p,x){return m.size===0?!0:f instanceof Set?u([...f],[...m],p,x):!1}e.isMatchWith=i,e.isSetMatch=l})(SP)),SP}var W9;function o5(){return W9||(W9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kVe();function r(s,a){return t.isMatchWith(s,a,()=>{})}e.isMatch=r})(jP)),jP}var EP={},kP={},AP={},q9;function gse(){return q9||(q9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(s=>Object.prototype.propertyIsEnumerable.call(r,s))}e.getSymbols=t})(AP)),AP}var TP={},G9;function l5(){return G9||(G9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(TP)),TP}var DP={},Y9;function c5(){return Y9||(Y9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",s="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",c="[object Date]",d="[object Map]",u="[object Set]",l="[object Array]",f="[object Function]",m="[object ArrayBuffer]",p="[object Object]",x="[object Error]",b="[object DataView]",h="[object Uint8Array]",y="[object Uint8ClampedArray]",w="[object Uint16Array]",S="[object Uint32Array]",N="[object BigUint64Array]",_="[object Int8Array]",k="[object Int16Array]",E="[object Int32Array]",T="[object BigInt64Array]",D="[object Float32Array]",P="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=m,e.arrayTag=l,e.bigInt64ArrayTag=T,e.bigUint64ArrayTag=N,e.booleanTag=a,e.dataViewTag=b,e.dateTag=c,e.errorTag=x,e.float32ArrayTag=D,e.float64ArrayTag=P,e.functionTag=f,e.int16ArrayTag=k,e.int32ArrayTag=E,e.int8ArrayTag=_,e.mapTag=d,e.numberTag=s,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=w,e.uint32ArrayTag=S,e.uint8ArrayTag=h,e.uint8ClampedArrayTag=y})(DP)),DP}var PP={},K9;function AVe(){return K9||(K9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(PP)),PP}var Z9;function xse(){return Z9||(Z9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gse(),r=l5(),s=c5(),a=pse(),i=AVe();function o(l,f){return c(l,void 0,l,new Map,f)}function c(l,f,m,p=new Map,x=void 0){const b=x?.(l,f,m,p);if(b!==void 0)return b;if(a.isPrimitive(l))return l;if(p.has(l))return p.get(l);if(Array.isArray(l)){const h=new Array(l.length);p.set(l,h);for(let y=0;y<l.length;y++)h[y]=c(l[y],y,m,p,x);return Object.hasOwn(l,"index")&&(h.index=l.index),Object.hasOwn(l,"input")&&(h.input=l.input),h}if(l instanceof Date)return new Date(l.getTime());if(l instanceof RegExp){const h=new RegExp(l.source,l.flags);return h.lastIndex=l.lastIndex,h}if(l instanceof Map){const h=new Map;p.set(l,h);for(const[y,w]of l)h.set(y,c(w,y,m,p,x));return h}if(l instanceof Set){const h=new Set;p.set(l,h);for(const y of l)h.add(c(y,void 0,m,p,x));return h}if(typeof Buffer<"u"&&Buffer.isBuffer(l))return l.subarray();if(i.isTypedArray(l)){const h=new(Object.getPrototypeOf(l)).constructor(l.length);p.set(l,h);for(let y=0;y<l.length;y++)h[y]=c(l[y],y,m,p,x);return h}if(l instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&l instanceof SharedArrayBuffer)return l.slice(0);if(l instanceof DataView){const h=new DataView(l.buffer.slice(0),l.byteOffset,l.byteLength);return p.set(l,h),d(h,l,m,p,x),h}if(typeof File<"u"&&l instanceof File){const h=new File([l],l.name,{type:l.type});return p.set(l,h),d(h,l,m,p,x),h}if(l instanceof Blob){const h=new Blob([l],{type:l.type});return p.set(l,h),d(h,l,m,p,x),h}if(l instanceof Error){const h=new l.constructor;return p.set(l,h),h.message=l.message,h.name=l.name,h.stack=l.stack,h.cause=l.cause,d(h,l,m,p,x),h}if(typeof l=="object"&&u(l)){const h=Object.create(Object.getPrototypeOf(l));return p.set(l,h),d(h,l,m,p,x),h}return l}function d(l,f,m=l,p,x){const b=[...Object.keys(f),...t.getSymbols(f)];for(let h=0;h<b.length;h++){const y=b[h],w=Object.getOwnPropertyDescriptor(l,y);(w==null||w.writable)&&(l[y]=c(f[y],y,m,p,x))}}function u(l){switch(r.getTag(l)){case s.argumentsTag:case s.arrayTag:case s.arrayBufferTag:case s.dataViewTag:case s.booleanTag:case s.dateTag:case s.float32ArrayTag:case s.float64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.mapTag:case s.numberTag:case s.objectTag:case s.regexpTag:case s.setTag:case s.stringTag:case s.symbolTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=c,e.copyProperties=d})(kP)),kP}var X9;function TVe(){return X9||(X9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xse();function r(s){return t.cloneDeepWithImpl(s,void 0,s,new Map,void 0)}e.cloneDeep=r})(EP)),EP}var J9;function DVe(){return J9||(J9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o5(),r=TVe();function s(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=s})(wP)),wP}var RP={},MP={},OP={},Q9;function PVe(){return Q9||(Q9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xse(),r=c5();function s(a,i){return t.cloneDeepWith(a,(o,c,d,u)=>{const l=i?.(o,c,d,u);if(l!==void 0)return l;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a?.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=s})(OP)),OP}var eV;function RVe(){return eV||(eV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PVe();function r(s){return t.cloneDeepWith(s)}e.cloneDeep=r})(MP)),MP}var IP={},FP={},tV;function vse(){return tV||(tV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(s,a=Number.MAX_SAFE_INTEGER){switch(typeof s){case"number":return Number.isInteger(s)&&s>=0&&s<a;case"symbol":return!1;case"string":return t.test(s)}}e.isIndex=r})(FP)),FP}var $P={},rV;function MVe(){return rV||(rV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l5();function r(s){return s!==null&&typeof s=="object"&&t.getTag(s)==="[object Arguments]"}e.isArguments=r})($P)),$P}var sV;function OVe(){return sV||(sV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$re(),r=vse(),s=MVe(),a=Y3();function i(o,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&t.isDeepKey(c)&&o?.[c]==null?d=a.toPath(c):d=[c],d.length===0)return!1;let u=o;for(let l=0;l<d.length;l++){const f=d[l];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||s.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(IP)),IP}var nV;function IVe(){return nV||(nV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o5(),r=Lre(),s=RVe(),a=K3(),i=OVe();function o(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=r.toKey(c);break}}return d=s.cloneDeep(d),function(u){const l=a.get(u,c);return l===void 0?i.has(u,c):d===void 0?l===void 0:t.isMatch(l,d)}}e.matchesProperty=o})(RP)),RP}var aV;function FVe(){return aV||(aV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mse(),r=EVe(),s=DVe(),a=IVe();function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):s.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(yP)),yP}var iV;function $Ve(){return iV||(iV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SVe(),r=mse(),s=_Ve(),a=FVe();function i(o,c=r.identity){return s.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(c)):[]}e.uniqBy=i})(fP)),fP}var LP,oV;function LVe(){return oV||(oV=1,LP=$Ve().uniqBy),LP}var BVe=LVe();const lV=Vi(BVe);function yse(e,t,r){return t===!0?lV(e,r):typeof t=="function"?lV(e,t):e}var BP={exports:{}},zP={},UP={exports:{}},HP={};var cV;function zVe(){if(cV)return HP;cV=1;var e=Ru();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:t,s=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function c(f,m){var p=m(),x=s({inst:{value:p,getSnapshot:m}}),b=x[0].inst,h=x[1];return i(function(){b.value=p,b.getSnapshot=m,d(b)&&h({inst:b})},[f,p,m]),a(function(){return d(b)&&h({inst:b}),f(function(){d(b)&&h({inst:b})})},[f]),o(p),p}function d(f){var m=f.getSnapshot;f=f.value;try{var p=m();return!r(f,p)}catch{return!0}}function u(f,m){return m()}var l=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:c;return HP.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:l,HP}var dV;function bse(){return dV||(dV=1,UP.exports=zVe()),UP.exports}var uV;function UVe(){if(uV)return zP;uV=1;var e=Ru(),t=bse();function r(u,l){return u===l&&(u!==0||1/u===1/l)||u!==u&&l!==l}var s=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,c=e.useMemo,d=e.useDebugValue;return zP.useSyncExternalStoreWithSelector=function(u,l,f,m,p){var x=i(null);if(x.current===null){var b={hasValue:!1,value:null};x.current=b}else b=x.current;x=c(function(){function y(k){if(!w){if(w=!0,S=k,k=m(k),p!==void 0&&b.hasValue){var E=b.value;if(p(E,k))return N=E}return N=k}if(E=N,s(S,k))return E;var T=m(k);return p!==void 0&&p(E,T)?(S=k,E):(S=k,N=T)}var w=!1,S,N,_=f===void 0?null:f;return[function(){return y(l())},_===null?void 0:function(){return y(_())}]},[l,f,m,p]);var h=a(u,x[0],x[1]);return o(function(){b.hasValue=!0,b.value=h},[h]),d(h),h},zP}var fV;function HVe(){return fV||(fV=1,BP.exports=UVe()),BP.exports}var wse=HVe(),d5=v.createContext(null),VVe=e=>e,Ws=()=>{var e=v.useContext(d5);return e?e.store.dispatch:VVe},ZN=()=>{},WVe=()=>ZN,qVe=(e,t)=>e===t;function Ct(e){var t=v.useContext(d5);return wse.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:WVe,t?t.store.getState:ZN,t?t.store.getState:ZN,t?e:ZN,qVe)}var VP={},WP={},qP={},mV;function GVe(){return mV||(mV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return typeof s=="symbol"?1:s===null?2:s===void 0?3:s!==s?4:0}const r=(s,a,i)=>{if(s!==a){const o=t(s),c=t(a);if(o===c&&o===0){if(s<a)return i==="desc"?1:-1;if(s>a)return i==="desc"?-1:1}return i==="desc"?c-o:o-c}return 0};e.compareValues=r})(qP)),qP}var GP={},YP={},hV;function jse(){return hV||(hV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(YP)),YP}var pV;function YVe(){return pV||(pV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jse(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(s.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(GP)),GP}var gV;function KVe(){return gV||(gV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GVe(),r=YVe(),s=Y3();function a(i,o,c,d){if(i==null)return[];c=d?void 0:c,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(p=>String(p));const u=(p,x)=>{let b=p;for(let h=0;h<x.length&&b!=null;++h)b=b[x[h]];return b},l=(p,x)=>x==null||p==null?x:typeof p=="object"&&"key"in p?Object.hasOwn(x,p.key)?x[p.key]:u(x,p.path):typeof p=="function"?p(x):Array.isArray(p)?u(x,p):typeof x=="object"?x[p]:x,f=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:s.toPath(p)}));return i.map(p=>({original:p,criteria:f.map(x=>l(x,p))})).slice().sort((p,x)=>{for(let b=0;b<f.length;b++){const h=t.compareValues(p.criteria[b],x.criteria[b],c[b]);if(h!==0)return h}return 0}).map(p=>p.original)}e.orderBy=a})(WP)),WP}var KP={},xV;function ZVe(){return xV||(xV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,s=1){const a=[],i=Math.floor(s),o=(c,d)=>{for(let u=0;u<c.length;u++){const l=c[u];Array.isArray(l)&&d<i?o(l,d+1):a.push(l)}};return o(r,0),a}e.flatten=t})(KP)),KP}var ZP={},vV;function Sse(){return vV||(vV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vse(),r=a5(),s=hse(),a=i5();function i(o,c,d){return s.isObject(d)&&(typeof c=="number"&&r.isArrayLike(d)&&t.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?a.eq(d[c],o):!1}e.isIterateeCall=i})(ZP)),ZP}var yV;function XVe(){return yV||(yV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KVe(),r=ZVe(),s=Sse();function a(i,...o){const c=o.length;return c>1&&s.isIterateeCall(i,o[0],o[1])?o=[]:c>2&&s.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(VP)),VP}var XP,bV;function JVe(){return bV||(bV=1,XP=XVe().sortBy),XP}var QVe=JVe();const YE=Vi(QVe);var Nse=e=>e.legend.settings,eWe=e=>e.legend.size,tWe=e=>e.legend.payload,rWe=we([tWe,Nse],(e,t)=>{var{itemSorter:r}=t,s=e.flat(1);return r?YE(s,r):s});function sWe(){return Ct(rWe)}var g1=1;function Cse(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=v.useState({height:0,left:0,top:0,width:0}),s=v.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>g1||Math.abs(o.left-t.left)>g1||Math.abs(o.top-t.top)>g1||Math.abs(o.width-t.width)>g1)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,s]}var nWe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},_se=Pt({name:"chartLayout",initialState:nWe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:aWe,setLayout:iWe,setChartSize:oWe,setScale:lWe}=_se.actions,cWe=_se.reducer;function wV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function jV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wV(Object(r),!0).forEach(function(s){dWe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wV(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function dWe(e,t,r){return(t=uWe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uWe(e){var t=fWe(e,"string");return typeof t=="symbol"?t:t+""}function fWe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HC=Math.PI/180,mWe=e=>e*180/Math.PI,xn=(e,t,r,s)=>({x:e+Math.cos(-HC*s)*r,y:t+Math.sin(-HC*s)*r}),Ese=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(s.left||0)-(s.right||0)),Math.abs(r-(s.top||0)-(s.bottom||0)))/2},hWe=(e,t)=>{var{x:r,y:s}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(s-i)**2)},pWe=(e,t)=>{var{x:r,y:s}=e,{cx:a,cy:i}=t,o=hWe({x:r,y:s},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var c=(r-a)/o,d=Math.acos(c);return s>i&&(d=2*Math.PI-d),{radius:o,angle:mWe(d),angleInRadian:d}},gWe=e=>{var{startAngle:t,endAngle:r}=e,s=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(s,a);return{startAngle:t-i*360,endAngle:r-i*360}},xWe=(e,t)=>{var{startAngle:r,endAngle:s}=t,a=Math.floor(r/360),i=Math.floor(s/360),o=Math.min(a,i);return e+o*360},vWe=(e,t)=>{var{x:r,y:s}=e,{radius:a,angle:i}=pWe({x:r,y:s},t),{innerRadius:o,outerRadius:c}=t;if(a<o||a>c||a===0)return null;var{startAngle:d,endAngle:u}=gWe(t),l=i,f;if(d<=u){for(;l>u;)l-=360;for(;l<d;)l+=360;f=l>=d&&l<=u}else{for(;l>d;)l-=360;for(;l<u;)l+=360;f=l>=u&&l<=d}return f?jV(jV({},t),{},{radius:a,angle:xWe(l,t)}):null};function kse(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function SV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function co(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SV(Object(r),!0).forEach(function(s){yWe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SV(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function yWe(e,t,r){return(t=bWe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bWe(e){var t=wWe(e,"string");return typeof t=="symbol"?t:t+""}function wWe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ts(e,t,r){return Tn(e)||Tn(t)?r:zl(t)?Au(e,t,r):typeof t=="function"?t(e):r}var jWe=(e,t,r,s,a)=>{var i,o=-1,c=(i=t?.length)!==null&&i!==void 0?i:0;if(c<=1||e==null)return 0;if(s==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var d=0;d<c;d++){var u=d>0?r[d-1].coordinate:r[c-1].coordinate,l=r[d].coordinate,f=d>=c-1?r[0].coordinate:r[d+1].coordinate,m=void 0;if(Gn(l-u)!==Gn(f-l)){var p=[];if(Gn(f-l)===Gn(a[1]-a[0])){m=f;var x=l+a[1]-a[0];p[0]=Math.min(x,(x+u)/2),p[1]=Math.max(x,(x+u)/2)}else{m=u;var b=f+a[1]-a[0];p[0]=Math.min(l,(b+l)/2),p[1]=Math.max(l,(b+l)/2)}var h=[Math.min(l,(m+l)/2),Math.max(l,(m+l)/2)];if(e>h[0]&&e<=h[1]||e>=p[0]&&e<=p[1]){({index:o}=r[d]);break}}else{var y=Math.min(u,f),w=Math.max(u,f);if(e>(y+l)/2&&e<=(w+l)/2){({index:o}=r[d]);break}}}else if(t){for(var S=0;S<c;S++)if(S===0&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S>0&&S<c-1&&e>(t[S].coordinate+t[S-1].coordinate)/2&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S===c-1&&e>(t[S].coordinate+t[S-1].coordinate)/2){({index:o}=t[S]);break}}return o},SWe=(e,t,r)=>{if(t&&r){var{width:s,height:a}=r,{align:i,verticalAlign:o,layout:c}=t;if((c==="vertical"||c==="horizontal"&&o==="middle")&&i!=="center"&&lt(e[i]))return co(co({},e),{},{[i]:e[i]+(s||0)});if((c==="horizontal"||c==="vertical"&&i==="center")&&o!=="middle"&&lt(e[o]))return co(co({},e),{},{[o]:e[o]+(a||0)})}return e},th=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Ase=(e,t,r,s)=>{if(s)return e.map(c=>c.coordinate);var a,i,o=e.map(c=>(c.coordinate===t&&(a=!0),c.coordinate===r&&(i=!0),c.coordinate));return a||o.push(t),i||o.push(r),o},Tse=(e,t,r)=>{if(!e)return null;var{duplicateDomain:s,type:a,range:i,scale:o,realScaleType:c,isCategorical:d,categoricalDomain:u,tickCount:l,ticks:f,niceTicks:m,axisType:p}=e;if(!o)return null;var x=c==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,b=a==="category"&&o.bandwidth?o.bandwidth()/x:0;if(b=p==="angleAxis"&&i&&i.length>=2?Gn(i[0]-i[1])*2*b:b,f||m){var h=(f||m||[]).map((y,w)=>{var S=s?s.indexOf(y):y;return{coordinate:o(S)+b,value:y,offset:b,index:w}});return h.filter(y=>!Pi(y.coordinate))}return d&&u?u.map((y,w)=>({coordinate:o(y)+b,value:y,index:w,offset:b})):o.ticks&&l!=null?o.ticks(l).map((y,w)=>({coordinate:o(y)+b,value:y,offset:b,index:w})):o.domain().map((y,w)=>({coordinate:o(y)+b,value:s?s[y]:y,index:w,offset:b}))},NV=1e-4,NWe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,s=e.range(),a=Math.min(s[0],s[1])-NV,i=Math.max(s[0],s[1])+NV,o=e(t[0]),c=e(t[r-1]);(o<a||o>i||c<a||c>i)&&e.domain([t[0],t[r-1]])}},CWe=(e,t)=>{if(!t||t.length!==2||!lt(t[0])||!lt(t[1]))return e;var r=Math.min(t[0],t[1]),s=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!lt(e[0])||e[0]<r)&&(a[0]=r),(!lt(e[1])||e[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<r&&(a[1]=r),a},_We=e=>{var t=e.length;if(!(t<=0))for(var r=0,s=e[0].length;r<s;++r)for(var a=0,i=0,o=0;o<t;++o){var c=Pi(e[o][r][1])?e[o][r][0]:e[o][r][1];c>=0?(e[o][r][0]=a,e[o][r][1]=a+c,a=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+c,i=e[o][r][1])}},EWe=e=>{var t=e.length;if(!(t<=0))for(var r=0,s=e[0].length;r<s;++r)for(var a=0,i=0;i<t;++i){var o=Pi(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},kWe={sign:_We,expand:ise,none:Rm,silhouette:ose,wiggle:lse,positive:EWe},AWe=(e,t,r)=>{var s=kWe[r],a=t5().keys(t).value((i,o)=>+Ts(i,o,0)).order(Mm).offset(s);return a(e)};function TWe(e){return e==null?void 0:String(e)}var CV=e=>{var{axis:t,ticks:r,offset:s,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+s:null;var c=Ts(i,t.dataKey,t.scale.domain()[o]);return Tn(c)?null:t.scale(c)-a/2+s},DWe=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return s<=0&&a>=0?0:a<0?a:s}return r[0]},PWe=e=>{var t=e.flat(2).filter(lt);return[Math.min(...t),Math.max(...t)]},RWe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],MWe=(e,t,r)=>{if(e!=null)return RWe(Object.keys(e).reduce((s,a)=>{var i=e[a],{stackedData:o}=i,c=o.reduce((d,u)=>{var l=kse(u,t,r),f=PWe(l);return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]))},_V=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,EV=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,u5=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!r||s>0)return s}if(e&&t&&t.length>=2){for(var a=YE(t,l=>l.coordinate),i=1/0,o=1,c=a.length;o<c;o++){var d=a[o],u=a[o-1];i=Math.min((d.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function kV(e){var{tooltipEntrySettings:t,dataKey:r,payload:s,value:a,name:i}=e;return co(co({},t),{},{dataKey:r,payload:s,value:a,name:i})}function KE(e,t){if(e)return String(e);if(typeof t=="string")return t}function OWe(e,t,r,s,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return s?vWe({x:e,y:t},s):null}var IWe=(e,t,r,s)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:o}=s;return co(co(co({},s),xn(s.cx,s.cy,o,i)),{},{angle:i,radius:o})}var c=a.coordinate,{angle:d}=s;return co(co(co({},s),xn(s.cx,s.cy,c,d)),{},{angle:d,radius:c})}return{x:0,y:0}},FWe=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,ld=e=>e.layout.width,cd=e=>e.layout.height,$We=e=>e.layout.scale,Dse=e=>e.layout.margin,f5=we(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),m5=we(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Pse="data-recharts-item-index",Rse="data-recharts-item-data-key",ZE=60;function AV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Gd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AV(Object(r),!0).forEach(function(s){LWe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AV(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function LWe(e,t,r){return(t=BWe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BWe(e){var t=zWe(e,"string");return typeof t=="symbol"?t:t+""}function zWe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UWe=e=>e.brush.height,Rn=we([ld,cd,Dse,UWe,f5,m5,Nse,eWe],(e,t,r,s,a,i,o,c)=>{var d=i.reduce((x,b)=>{var{orientation:h}=b;if(!b.mirror&&!b.hide){var y=typeof b.width=="number"?b.width:ZE;return Gd(Gd({},x),{},{[h]:x[h]+y})}return x},{left:r.left||0,right:r.right||0}),u=a.reduce((x,b)=>{var{orientation:h}=b;return!b.mirror&&!b.hide?Gd(Gd({},x),{},{[h]:Au(x,"".concat(h))+b.height}):x},{top:r.top||0,bottom:r.bottom||0}),l=Gd(Gd({},u),d),f=l.bottom;l.bottom+=s,l=SWe(l,o,c);var m=e-l.left-l.right,p=t-l.top-l.bottom;return Gd(Gd({brushBottom:f},l),{},{width:Math.max(m,0),height:Math.max(p,0)})}),HWe=we(Rn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Mse=we(ld,cd,(e,t)=>({x:0,y:0,width:e,height:t})),VWe=v.createContext(null),Ao=()=>v.useContext(VWe)!=null,XE=e=>e.brush,JE=we([XE,Rn,Dse],(e,t,r)=>({height:e.height,x:lt(e.x)?e.x:t.left,y:lt(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:lt(e.width)?e.width:t.width})),h5=()=>{var e,t=Ao(),r=Ct(HWe),s=Ct(JE),a=(e=Ct(XE))===null||e===void 0?void 0:e.padding;return!t||!s||!a?r:{width:s.width-a.left-a.right,height:s.height-a.top-a.bottom,x:a.left,y:a.top}},WWe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Ose=()=>{var e;return(e=Ct(Rn))!==null&&e!==void 0?e:WWe},p5=()=>Ct(ld),g5=()=>Ct(cd),qWe={top:0,right:0,bottom:0,left:0},GWe=()=>{var e;return(e=Ct(t=>t.layout.margin))!==null&&e!==void 0?e:qWe},yr=e=>e.layout.layoutType,x5=()=>Ct(yr),YWe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Ise=Pt({name:"legend",initialState:YWe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Mc(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:TV,setLegendSettings:KWe,addLegendPayload:Fse,removeLegendPayload:$se}=Ise.actions,ZWe=Ise.reducer,XWe=["contextPayload"];function OM(){return OM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},OM.apply(null,arguments)}function DV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function wg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DV(Object(r),!0).forEach(function(s){v5(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DV(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function v5(e,t,r){return(t=JWe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JWe(e){var t=QWe(e,"string");return typeof t=="symbol"?t:t+""}function QWe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eqe(e,t){if(e==null)return{};var r,s,a=tqe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tqe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function rqe(e){return e.value}function sqe(e){var{contextPayload:t}=e,r=eqe(e,XWe),s=yse(t,e.payloadUniqBy,rqe),a=wg(wg({},r),{},{payload:s});return v.isValidElement(e.content)?v.cloneElement(e.content,a):typeof e.content=="function"?v.createElement(e.content,a):v.createElement(n5,a)}function nqe(e,t,r,s,a,i){var{layout:o,align:c,verticalAlign:d}=t,u,l;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(c==="center"&&o==="vertical"?u={left:((s||0)-i.width)/2}:u=c==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?l={top:((a||0)-i.height)/2}:l=d==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),wg(wg({},u),l)}function aqe(e){var t=Ws();return v.useEffect(()=>{t(KWe(e))},[t,e]),null}function iqe(e){var t=Ws();return v.useEffect(()=>(t(TV(e)),()=>{t(TV({width:0,height:0}))}),[t,e]),null}function oqe(e){var t=sWe(),r=_9e(),s=GWe(),{width:a,height:i,wrapperStyle:o,portal:c}=e,[d,u]=Cse([t]),l=p5(),f=g5(),m=l-(s.left||0)-(s.right||0),p=gx.getWidthOrHeight(e.layout,i,a,m),x=c?o:wg(wg({position:"absolute",width:p?.width||a||"auto",height:p?.height||i||"auto"},nqe(o,e,s,l,f,d)),o),b=c??r;if(b==null)return null;var h=v.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:u},v.createElement(aqe,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),v.createElement(iqe,{width:d.width,height:d.height}),v.createElement(sqe,OM({},e,p,{margin:s,chartWidth:l,chartHeight:f,contextPayload:t})));return Fu.createPortal(h,b)}class gx extends v.PureComponent{static getWidthOrHeight(t,r,s,a){return t==="vertical"&&lt(r)?{height:r}:t==="horizontal"?{width:s||a}:null}render(){return v.createElement(oqe,this.props)}}v5(gx,"displayName","Legend");v5(gx,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function IM(){return IM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},IM.apply(null,arguments)}function PV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function JP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PV(Object(r),!0).forEach(function(s){lqe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PV(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function lqe(e,t,r){return(t=cqe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cqe(e){var t=dqe(e,"string");return typeof t=="symbol"?t:t+""}function dqe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uqe(e){return Array.isArray(e)&&zl(e[0])&&zl(e[1])?e.join(" ~ "):e}var fqe=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:s={},labelStyle:a={},payload:i,formatter:o,itemSorter:c,wrapperClassName:d,labelClassName:u,label:l,labelFormatter:f,accessibilityLayer:m=!1}=e,p=()=>{if(i&&i.length){var _={padding:0,margin:0},k=(c?YE(i,c):i).map((E,T)=>{if(E.type==="none")return null;var D=E.formatter||o||uqe,{value:P,name:M}=E,R=P,B=M;if(D){var L=D(P,M,E,T,i);if(Array.isArray(L))[R,B]=L;else if(L!=null)R=L;else return null}var $=JP({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},s);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:$},zl(B)?v.createElement("span",{className:"recharts-tooltip-item-name"},B):null,zl(B)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},R),v.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:_},k)}return null},x=JP({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=JP({margin:0},a),h=!Tn(l),y=h?l:"",w=St("recharts-default-tooltip",d),S=St("recharts-tooltip-label",u);h&&f&&i!==void 0&&i!==null&&(y=f(l,i));var N=m?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",IM({className:w,style:x},N),v.createElement("p",{className:S,style:b},v.isValidElement(y)?y:"".concat(y)),p())},c0="recharts-tooltip-wrapper",mqe={visibility:"hidden"};function hqe(e){var{coordinate:t,translateX:r,translateY:s}=e;return St(c0,{["".concat(c0,"-right")]:lt(r)&&t&&lt(t.x)&&r>=t.x,["".concat(c0,"-left")]:lt(r)&&t&&lt(t.x)&&r<t.x,["".concat(c0,"-bottom")]:lt(s)&&t&&lt(t.y)&&s>=t.y,["".concat(c0,"-top")]:lt(s)&&t&&lt(t.y)&&s<t.y})}function RV(e){var{allowEscapeViewBox:t,coordinate:r,key:s,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:c,viewBox:d,viewBoxDimension:u}=e;if(i&&lt(i[s]))return i[s];var l=r[s]-c-(a>0?a:0),f=r[s]+a;if(t[s])return o[s]?l:f;var m=d[s];if(m==null)return 0;if(o[s]){var p=l,x=m;return p<x?Math.max(f,m):Math.max(l,m)}if(u==null)return 0;var b=f+c,h=m+u;return b>h?Math.max(l,m):Math.max(f,m)}function pqe(e){var{translateX:t,translateY:r,useTranslate3d:s}=e;return{transform:s?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function gqe(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:s,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:c,viewBox:d}=e,u,l,f;return o.height>0&&o.width>0&&r?(l=RV({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),f=RV({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),u=pqe({translateX:l,translateY:f,useTranslate3d:c})):u=mqe,{cssProperties:u,cssClasses:hqe({translateX:l,translateY:f,coordinate:r})}}function MV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function x1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MV(Object(r),!0).forEach(function(s){FM(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MV(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function FM(e,t,r){return(t=xqe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xqe(e){var t=vqe(e,"string");return typeof t=="symbol"?t:t+""}function vqe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class yqe extends v.PureComponent{constructor(){super(...arguments),FM(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),FM(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,s,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:s,animationEasing:a,children:i,coordinate:o,hasPayload:c,isAnimationActive:d,offset:u,position:l,reverseDirection:f,useTranslate3d:m,viewBox:p,wrapperStyle:x,lastBoundingBox:b,innerRef:h,hasPortalFromProps:y}=this.props,{cssClasses:w,cssProperties:S}=gqe({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:l,reverseDirection:f,tooltipBox:{height:b.height,width:b.width},useTranslate3d:m,viewBox:p}),N=y?{}:x1(x1({transition:d&&t?"transform ".concat(s,"ms ").concat(a):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),_=x1(x1({},N),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},x);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:_,ref:h},i)}}var bqe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),xx={isSsr:bqe()},Lse=()=>Ct(e=>e.rootProps.accessibilityLayer);function Mi(e){return Number.isFinite(e)}function jg(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function $M(){return $M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},$M.apply(null,arguments)}function OV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function IV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OV(Object(r),!0).forEach(function(s){wqe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OV(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function wqe(e,t,r){return(t=jqe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jqe(e){var t=Sqe(e,"string");return typeof t=="symbol"?t:t+""}function Sqe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FV={curveBasisClosed:Y9e,curveBasisOpen:K9e,curveBasis:G9e,curveBumpX:R9e,curveBumpY:M9e,curveLinearClosed:Z9e,curveLinear:qE,curveMonotoneX:X9e,curveMonotoneY:J9e,curveNatural:Q9e,curveStep:eVe,curveStepAfter:rVe,curveStepBefore:tVe},v1=e=>Mi(e.x)&&Mi(e.y),d0=e=>e.x,u0=e=>e.y,Nqe=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat($b(e));return(r==="curveMonotone"||r==="curveBump")&&t?FV["".concat(r).concat(t==="vertical"?"Y":"X")]:FV[r]||qE},Cqe=e=>{var{type:t="linear",points:r=[],baseLine:s,layout:a,connectNulls:i=!1}=e,o=Nqe(t,a),c=i?r.filter(v1):r,d;if(Array.isArray(s)){var u=i?s.filter(f=>v1(f)):s,l=c.map((f,m)=>IV(IV({},f),{},{base:u[m]}));return a==="vertical"?d=p1().y(u0).x1(d0).x0(f=>f.base.x):d=p1().x(d0).y1(u0).y0(f=>f.base.y),d.defined(v1).curve(o),d(l)}return a==="vertical"&&lt(s)?d=p1().y(u0).x1(d0).x0(s):lt(s)?d=p1().x(d0).y1(u0).y0(s):d=Kre().x(d0).y(u0),d.defined(v1).curve(o),d(c)},Bse=e=>{var{className:t,points:r,path:s,pathRef:a}=e;if((!r||!r.length)&&!s)return null;var i=r&&r.length?Cqe(e):s;return v.createElement("path",$M({},eh(e),g9e(e),{className:St("recharts-curve",t),d:i===null?void 0:i,ref:a}))},_qe=["x","y","top","left","width","height","className"];function LM(){return LM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},LM.apply(null,arguments)}function $V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Eqe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$V(Object(r),!0).forEach(function(s){kqe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$V(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function kqe(e,t,r){return(t=Aqe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aqe(e){var t=Tqe(e,"string");return typeof t=="symbol"?t:t+""}function Tqe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dqe(e,t){if(e==null)return{};var r,s,a=Pqe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Pqe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var Rqe=(e,t,r,s,a,i)=>"M".concat(e,",").concat(a,"v").concat(s,"M").concat(i,",").concat(t,"h").concat(r),Mqe=e=>{var{x:t=0,y:r=0,top:s=0,left:a=0,width:i=0,height:o=0,className:c}=e,d=Dqe(e,_qe),u=Eqe({x:t,y:r,top:s,left:a,width:i,height:o},d);return!lt(t)||!lt(r)||!lt(i)||!lt(o)||!lt(s)||!lt(a)?null:v.createElement("path",LM({},gn(u,!0),{className:St("recharts-cross",c),d:Rqe(t,r,i,o,s,a)}))};function Oqe(e,t,r,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?s:r.width-1,height:e==="horizontal"?r.height-1:s}}function LV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Iqe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LV(Object(r),!0).forEach(function(s){Fqe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LV(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Fqe(e,t,r){return(t=$qe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $qe(e){var t=Lqe(e,"string");return typeof t=="symbol"?t:t+""}function Lqe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ol(e,t){var r=Iqe({},e),s=t,a=Object.keys(t),i=a.reduce((o,c)=>(o[c]===void 0&&s[c]!==void 0&&(o[c]=s[c]),o),r);return i}var QP={},eR={},tR={},BV;function Bqe(){return BV||(BV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const s=Object.getPrototypeOf(r);return s===null||s===Object.prototype||Object.getPrototypeOf(s)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(tR)),tR}var zV;function zqe(){return zV||(zV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bqe(),r=gse(),s=l5(),a=c5(),i=i5();function o(u,l,f){return c(u,l,void 0,void 0,void 0,void 0,f)}function c(u,l,f,m,p,x,b){const h=b(u,l,f,m,p,x);if(h!==void 0)return h;if(typeof u==typeof l)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===l;case"number":return u===l||Object.is(u,l);case"function":return u===l;case"object":return d(u,l,x,b)}return d(u,l,x,b)}function d(u,l,f,m){if(Object.is(u,l))return!0;let p=s.getTag(u),x=s.getTag(l);if(p===a.argumentsTag&&(p=a.objectTag),x===a.argumentsTag&&(x=a.objectTag),p!==x)return!1;switch(p){case a.stringTag:return u.toString()===l.toString();case a.numberTag:{const y=u.valueOf(),w=l.valueOf();return i.eq(y,w)}case a.booleanTag:case a.dateTag:case a.symbolTag:return Object.is(u.valueOf(),l.valueOf());case a.regexpTag:return u.source===l.source&&u.flags===l.flags;case a.functionTag:return u===l}f=f??new Map;const b=f.get(u),h=f.get(l);if(b!=null&&h!=null)return b===l;f.set(u,l),f.set(l,u);try{switch(p){case a.mapTag:{if(u.size!==l.size)return!1;for(const[y,w]of u.entries())if(!l.has(y)||!c(w,l.get(y),y,u,l,f,m))return!1;return!0}case a.setTag:{if(u.size!==l.size)return!1;const y=Array.from(u.values()),w=Array.from(l.values());for(let S=0;S<y.length;S++){const N=y[S],_=w.findIndex(k=>c(N,k,void 0,u,l,f,m));if(_===-1)return!1;w.splice(_,1)}return!0}case a.arrayTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:case a.bigUint64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.bigInt64ArrayTag:case a.float32ArrayTag:case a.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(l)||u.length!==l.length)return!1;for(let y=0;y<u.length;y++)if(!c(u[y],l[y],y,u,l,f,m))return!1;return!0}case a.arrayBufferTag:return u.byteLength!==l.byteLength?!1:d(new Uint8Array(u),new Uint8Array(l),f,m);case a.dataViewTag:return u.byteLength!==l.byteLength||u.byteOffset!==l.byteOffset?!1:d(new Uint8Array(u),new Uint8Array(l),f,m);case a.errorTag:return u.name===l.name&&u.message===l.message;case a.objectTag:{if(!(d(u.constructor,l.constructor,f,m)||t.isPlainObject(u)&&t.isPlainObject(l)))return!1;const w=[...Object.keys(u),...r.getSymbols(u)],S=[...Object.keys(l),...r.getSymbols(l)];if(w.length!==S.length)return!1;for(let N=0;N<w.length;N++){const _=w[N],k=u[_];if(!Object.hasOwn(l,_))return!1;const E=l[_];if(!c(k,E,_,u,l,f,m))return!1}return!0}default:return!1}}finally{f.delete(u),f.delete(l)}}e.isEqualWith=o})(eR)),eR}var rR={},UV;function Uqe(){return UV||(UV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(rR)),rR}var HV;function Hqe(){return HV||(HV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zqe(),r=Uqe();function s(a,i){return t.isEqualWith(a,i,r.noop)}e.isEqual=s})(QP)),QP}var sR,VV;function Vqe(){return VV||(VV=1,sR=Hqe().isEqual),sR}var Wqe=Vqe();const qqe=Vi(Wqe);var VC=1e-4,zse=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Use=(e,t)=>e.map((r,s)=>r*t**s).reduce((r,s)=>r+s),WV=(e,t)=>r=>{var s=zse(e,t);return Use(s,r)},Gqe=(e,t)=>r=>{var s=zse(e,t),a=[...s.map((i,o)=>i*o).slice(1),0];return Use(a,r)},qV=function(){for(var t,r,s,a,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];if(o.length===1)switch(o[0]){case"linear":[t,s,r,a]=[0,0,1,1];break;case"ease":[t,s,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,s,r,a]=[.42,0,1,1];break;case"ease-out":[t,s,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,s,r,a]=[0,0,.58,1];break;default:{var d=o[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([t,s,r,a]=d[1].split(")")[0].split(",").map(x=>parseFloat(x)))}}else o.length===4&&([t,s,r,a]=o);var u=WV(t,r),l=WV(s,a),f=Gqe(t,r),m=x=>x>1?1:x<0?0:x,p=x=>{for(var b=x>1?1:x,h=b,y=0;y<8;++y){var w=u(h)-b,S=f(h);if(Math.abs(w-b)<VC||S<VC)return l(h);h=m(h-w/S)}return l(h)};return p.isStepper=!1,p},Yqe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:s=8,dt:a=17}=t,i=(o,c,d)=>{var u=-(o-c)*r,l=d*s,f=d+(u-l)*a/1e3,m=d*a/1e3+o;return Math.abs(m-c)<VC&&Math.abs(f)<VC?[c,0]:[m,f]};return i.isStepper=!0,i.dt=a,i},Hse=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return qV(e);case"spring":return Yqe();default:if(e.split("(")[0]==="cubic-bezier")return qV(e)}return typeof e=="function"?e:null};function GV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function YV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GV(Object(r),!0).forEach(function(s){Kqe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GV(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Kqe(e,t,r){return(t=Zqe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zqe(e){var t=Xqe(e,"string");return typeof t=="symbol"?t:t+""}function Xqe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jqe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Qqe=(e,t,r)=>e.map(s=>"".concat(Jqe(s)," ").concat(t,"ms ").concat(r)).join(","),eGe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,s)=>r.filter(a=>s.includes(a))),Dy=(e,t)=>Object.keys(t).reduce((r,s)=>YV(YV({},r),{},{[s]:e(s,t[s])}),{});function KV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KV(Object(r),!0).forEach(function(s){tGe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KV(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function tGe(e,t,r){return(t=rGe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rGe(e){var t=sGe(e,"string");return typeof t=="symbol"?t:t+""}function sGe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WC=(e,t,r)=>e+(t-e)*r,BM=e=>{var{from:t,to:r}=e;return t!==r},Vse=(e,t,r)=>{var s=Dy((a,i)=>{if(BM(i)){var[o,c]=e(i.from,i.to,i.velocity);return aa(aa({},i),{},{from:o,velocity:c})}return i},t);return r<1?Dy((a,i)=>BM(i)?aa(aa({},i),{},{velocity:WC(i.velocity,s[a].velocity,r),from:WC(i.from,s[a].from,r)}):i,t):Vse(e,s,r-1)};function nGe(e,t,r,s,a,i){var o,c=s.reduce((m,p)=>aa(aa({},m),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),d=()=>Dy((m,p)=>p.from,c),u=()=>!Object.values(c).filter(BM).length,l=null,f=m=>{o||(o=m);var p=m-o,x=p/r.dt;c=Vse(r,c,x),a(aa(aa(aa({},e),t),d())),o=m,u()||(l=i.setTimeout(f))};return()=>(l=i.setTimeout(f),()=>{l()})}function aGe(e,t,r,s,a,i,o){var c=null,d=a.reduce((f,m)=>aa(aa({},f),{},{[m]:[e[m],t[m]]}),{}),u,l=f=>{u||(u=f);var m=(f-u)/s,p=Dy((b,h)=>WC(...h,r(m)),d);if(i(aa(aa(aa({},e),t),p)),m<1)c=o.setTimeout(l);else{var x=Dy((b,h)=>WC(...h,r(1)),d);i(aa(aa(aa({},e),t),x))}};return()=>(c=o.setTimeout(l),()=>{c()})}const Wse=(e,t,r,s,a,i)=>{var o=eGe(e,t);return r.isStepper===!0?nGe(e,t,r,o,a,i):aGe(e,t,r,s,o,a,i)};function iGe(e){var t,r=()=>null,s=!1,a=null,i=o=>{if(!s){if(Array.isArray(o)){if(!o.length)return;var c=o,[d,...u]=c;if(typeof d=="number"){a=e.setTimeout(i.bind(null,u),d);return}i(d),a=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{s=!0},start:o=>{s=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class oGe{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=performance.now(),a=null,i=o=>{o-s>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function lGe(){return iGe(new oGe)}var cGe=v.createContext(lGe);function qse(e,t){var r=v.useContext(cGe);return v.useMemo(()=>t??r(e),[e,t,r])}var dGe=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function zM(){return zM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},zM.apply(null,arguments)}function uGe(e,t){if(e==null)return{};var r,s,a=fGe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fGe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function ZV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Yd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZV(Object(r),!0).forEach(function(s){Xf(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZV(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Xf(e,t,r){return(t=mGe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mGe(e){var t=hGe(e,"string");return typeof t=="symbol"?t:t+""}function hGe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class y5 extends v.PureComponent{constructor(t,r){super(t,r),Xf(this,"mounted",!1),Xf(this,"manager",void 0),Xf(this,"stopJSAnimation",null),Xf(this,"unSubscribe",null);var{isActive:s,attributeName:a,from:i,to:o,children:c,duration:d,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!s||d<=0){this.state={style:{}},typeof c=="function"&&(this.state={style:o});return}if(i){if(typeof c=="function"){this.state={style:i};return}this.state={style:a?{[a]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:s,attributeName:a,shouldReAnimate:i,to:o,from:c}=this.props,{style:d}=this.state;if(s){if(!r){var u={style:a?{[a]:o}:o};this.state&&d&&(a&&d[a]!==o||!a&&d!==o)&&this.setState(u);return}if(!(qqe(t.to,o)&&t.canBegin&&t.isActive)){var l=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=l||i?c:t.to;if(this.state&&d){var m={style:a?{[a]:f}:f};(a&&d[a]!==f||!a&&d!==f)&&this.setState(m)}this.runAnimation(Yd(Yd({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:s,duration:a,easing:i,begin:o,onAnimationEnd:c,onAnimationStart:d}=t,u=Wse(r,s,Hse(i),a,this.changeStyle,this.manager.getTimeoutController()),l=()=>{this.stopJSAnimation=u()};this.manager.start([d,o,l,a,c])}runAnimation(t){var{begin:r,duration:s,attributeName:a,to:i,easing:o,onAnimationStart:c,onAnimationEnd:d,children:u}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof u=="function"||o==="spring"){this.runJSAnimation(t);return}var l=a?{[a]:i}:i,f=Qqe(Object.keys(l),s,o);this.manager.start([c,r,Yd(Yd({},l),{},{transition:f}),s,d])}render(){var t=this.props,{children:r,begin:s,duration:a,attributeName:i,easing:o,isActive:c,from:d,to:u,canBegin:l,onAnimationEnd:f,shouldReAnimate:m,onAnimationReStart:p,animationManager:x}=t,b=uGe(t,dGe),h=v.Children.count(r),y=this.state.style;if(typeof r=="function")return r(y);if(!c||h===0||a<=0)return r;var w=S=>{var{style:N={},className:_}=S.props,k=v.cloneElement(S,Yd(Yd({},b),{},{style:Yd(Yd({},N),y),className:_}));return k};return h===1?w(v.Children.only(r)):v.createElement("div",null,v.Children.map(r,S=>w(S)))}}Xf(y5,"displayName","Animate");Xf(y5,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function qC(e){var t,r=qse((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return v.createElement(y5,zM({},e,{animationManager:r}))}function GC(){return GC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},GC.apply(null,arguments)}var XV=(e,t,r,s,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(s)/2),o=s>=0?1:-1,c=r>=0?1:-1,d=s>=0&&r>=0||s<0&&r<0?1:0,u;if(i>0&&a instanceof Array){for(var l=[0,0,0,0],f=0,m=4;f<m;f++)l[f]=a[f]>i?i:a[f];u="M".concat(e,",").concat(t+o*l[0]),l[0]>0&&(u+="A ".concat(l[0],",").concat(l[0],",0,0,").concat(d,",").concat(e+c*l[0],",").concat(t)),u+="L ".concat(e+r-c*l[1],",").concat(t),l[1]>0&&(u+="A ".concat(l[1],",").concat(l[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(t+o*l[1])),u+="L ".concat(e+r,",").concat(t+s-o*l[2]),l[2]>0&&(u+="A ".concat(l[2],",").concat(l[2],",0,0,").concat(d,`,
        `).concat(e+r-c*l[2],",").concat(t+s)),u+="L ".concat(e+c*l[3],",").concat(t+s),l[3]>0&&(u+="A ".concat(l[3],",").concat(l[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+s-o*l[3])),u+="Z"}else if(i>0&&a===+a&&a>0){var p=Math.min(i,a);u="M ".concat(e,",").concat(t+o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(d,",").concat(e+c*p,",").concat(t,`
            L `).concat(e+r-c*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(d,",").concat(e+r,",").concat(t+o*p,`
            L `).concat(e+r,",").concat(t+s-o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(d,",").concat(e+r-c*p,",").concat(t+s,`
            L `).concat(e+c*p,",").concat(t+s,`
            A `).concat(p,",").concat(p,",0,0,").concat(d,",").concat(e,",").concat(t+s-o*p," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(s," h ").concat(-r," Z");return u},pGe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Gse=e=>{var t=ol(e,pGe),r=v.useRef(null),[s,a]=v.useState(-1);v.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&a(y)}catch{}},[]);var{x:i,y:o,width:c,height:d,radius:u,className:l}=t,{animationEasing:f,animationDuration:m,animationBegin:p,isAnimationActive:x,isUpdateAnimationActive:b}=t;if(i!==+i||o!==+o||c!==+c||d!==+d||c===0||d===0)return null;var h=St("recharts-rectangle",l);return b?v.createElement(qC,{canBegin:s>0,from:{width:c,height:d,x:i,y:o},to:{width:c,height:d,x:i,y:o},duration:m,animationEasing:f,isActive:b},y=>{var{width:w,height:S,x:N,y:_}=y;return v.createElement(qC,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:m,isActive:x,easing:f},v.createElement("path",GC({},gn(t,!0),{className:h,d:XV(N,_,w,S,u),ref:r})))}):v.createElement("path",GC({},gn(t,!0),{className:h,d:XV(i,o,c,d,u)}))};function Yse(e){var{cx:t,cy:r,radius:s,startAngle:a,endAngle:i}=e,o=xn(t,r,s,a),c=xn(t,r,s,i);return{points:[o,c],cx:t,cy:r,radius:s,startAngle:a,endAngle:i}}function UM(){return UM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},UM.apply(null,arguments)}var gGe=(e,t)=>{var r=Gn(t-e),s=Math.min(Math.abs(t-e),359.999);return r*s},y1=e=>{var{cx:t,cy:r,radius:s,angle:a,sign:i,isExternal:o,cornerRadius:c,cornerIsExternal:d}=e,u=c*(o?1:-1)+s,l=Math.asin(c/u)/HC,f=d?a:a+i*l,m=xn(t,r,u,f),p=xn(t,r,s,f),x=d?a-i*l:a,b=xn(t,r,u*Math.cos(l*HC),x);return{center:m,circleTangency:p,lineTangency:b,theta:l}},Kse=e=>{var{cx:t,cy:r,innerRadius:s,outerRadius:a,startAngle:i,endAngle:o}=e,c=gGe(i,o),d=i+c,u=xn(t,r,a,i),l=xn(t,r,a,d),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>d),`,
    `).concat(l.x,",").concat(l.y,`
  `);if(s>0){var m=xn(t,r,s,i),p=xn(t,r,s,d);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=d),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},xGe=e=>{var{cx:t,cy:r,innerRadius:s,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:u}=e,l=Gn(u-d),{circleTangency:f,lineTangency:m,theta:p}=y1({cx:t,cy:r,radius:a,angle:d,sign:l,cornerRadius:i,cornerIsExternal:c}),{circleTangency:x,lineTangency:b,theta:h}=y1({cx:t,cy:r,radius:a,angle:u,sign:-l,cornerRadius:i,cornerIsExternal:c}),y=c?Math.abs(d-u):Math.abs(d-u)-p-h;if(y<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):Kse({cx:t,cy:r,innerRadius:s,outerRadius:a,startAngle:d,endAngle:u});var w="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(l<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(y>180),",").concat(+(l<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(l<0),",").concat(b.x,",").concat(b.y,`
  `);if(s>0){var{circleTangency:S,lineTangency:N,theta:_}=y1({cx:t,cy:r,radius:s,angle:d,sign:l,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),{circleTangency:k,lineTangency:E,theta:T}=y1({cx:t,cy:r,radius:s,angle:u,sign:-l,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),D=c?Math.abs(d-u):Math.abs(d-u)-_-T;if(D<0&&i===0)return"".concat(w,"L").concat(t,",").concat(r,"Z");w+="L".concat(E.x,",").concat(E.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(l<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(D>180),",").concat(+(l>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(l<0),",").concat(N.x,",").concat(N.y,"Z")}else w+="L".concat(t,",").concat(r,"Z");return w},vGe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Zse=e=>{var t=ol(e,vGe),{cx:r,cy:s,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:l,className:f}=t;if(i<a||u===l)return null;var m=St("recharts-sector",f),p=i-a,x=Aa(o,p,0,!0),b;return x>0&&Math.abs(u-l)<360?b=xGe({cx:r,cy:s,innerRadius:a,outerRadius:i,cornerRadius:Math.min(x,p/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:l}):b=Kse({cx:r,cy:s,innerRadius:a,outerRadius:i,startAngle:u,endAngle:l}),v.createElement("path",UM({},gn(t,!0),{className:m,d:b}))};function yGe(e,t,r){var s,a,i,o;if(e==="horizontal")s=t.x,i=s,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,s=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:c,cy:d,innerRadius:u,outerRadius:l,angle:f}=t,m=xn(c,d,u,f),p=xn(c,d,l,f);s=m.x,a=m.y,i=p.x,o=p.y}else return Yse(t);return[{x:s,y:a},{x:i,y:o}]}var nR={},aR={},iR={},JV;function bGe(){return JV||(JV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jse();function r(s){return t.isSymbol(s)?NaN:Number(s)}e.toNumber=r})(iR)),iR}var QV;function wGe(){return QV||(QV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bGe();function r(s){return s?(s=t.toNumber(s),s===1/0||s===-1/0?(s<0?-1:1)*Number.MAX_VALUE:s===s?s:0):s===0?s:0}e.toFinite=r})(aR)),aR}var eW;function jGe(){return eW||(eW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sse(),r=wGe();function s(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const c=Math.max(Math.ceil((i-a)/(o||1)),0),d=new Array(c);for(let u=0;u<c;u++)d[u]=a,a+=o;return d}e.range=s})(nR)),nR}var oR,tW;function SGe(){return tW||(tW=1,oR=jGe().range),oR}var NGe=SGe();const Xse=Vi(NGe);function pu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function CGe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function b5(e){let t,r,s;e.length!==2?(t=pu,r=(c,d)=>pu(e(c),d),s=(c,d)=>e(c)-d):(t=e===pu||e===CGe?e:_Ge,r=e,s=e);function a(c,d,u=0,l=c.length){if(u<l){if(t(d,d)!==0)return l;do{const f=u+l>>>1;r(c[f],d)<0?u=f+1:l=f}while(u<l)}return u}function i(c,d,u=0,l=c.length){if(u<l){if(t(d,d)!==0)return l;do{const f=u+l>>>1;r(c[f],d)<=0?u=f+1:l=f}while(u<l)}return u}function o(c,d,u=0,l=c.length){const f=a(c,d,u,l-1);return f>u&&s(c[f-1],d)>-s(c[f],d)?f-1:f}return{left:a,center:o,right:i}}function _Ge(){return 0}function Jse(e){return e===null?NaN:+e}function*EGe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const kGe=b5(pu),zb=kGe.right;b5(Jse).center;class YC extends Map{constructor(t,r=DGe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[s,a]of t)this.set(s,a)}get(t){return super.get(rW(this,t))}has(t){return super.has(rW(this,t))}set(t,r){return super.set(AGe(this,t),r)}delete(t){return super.delete(TGe(this,t))}}function rW({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):r}function AGe({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):(e.set(s,r),r)}function TGe({_intern:e,_key:t},r){const s=t(r);return e.has(s)&&(r=e.get(s),e.delete(s)),r}function DGe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function PGe(e=pu){if(e===pu)return Qse;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const s=e(t,r);return s||s===0?s:(e(r,r)===0)-(e(t,t)===0)}}function Qse(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const RGe=Math.sqrt(50),MGe=Math.sqrt(10),OGe=Math.sqrt(2);function KC(e,t,r){const s=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=RGe?10:i>=MGe?5:i>=OGe?2:1;let c,d,u;return a<0?(u=Math.pow(10,-a)/o,c=Math.round(e*u),d=Math.round(t*u),c/u<e&&++c,d/u>t&&--d,u=-u):(u=Math.pow(10,a)*o,c=Math.round(e/u),d=Math.round(t/u),c*u<e&&++c,d*u>t&&--d),d<c&&.5<=r&&r<2?KC(e,t,r*2):[c,d,u]}function HM(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const s=t<e,[a,i,o]=s?KC(t,e,r):KC(e,t,r);if(!(i>=a))return[];const c=i-a+1,d=new Array(c);if(s)if(o<0)for(let u=0;u<c;++u)d[u]=(i-u)/-o;else for(let u=0;u<c;++u)d[u]=(i-u)*o;else if(o<0)for(let u=0;u<c;++u)d[u]=(a+u)/-o;else for(let u=0;u<c;++u)d[u]=(a+u)*o;return d}function VM(e,t,r){return t=+t,e=+e,r=+r,KC(e,t,r)[2]}function WM(e,t,r){t=+t,e=+e,r=+r;const s=t<e,a=s?VM(t,e,r):VM(e,t,r);return(s?-1:1)*(a<0?1/-a:a)}function sW(e,t){let r;for(const s of e)s!=null&&(r<s||r===void 0&&s>=s)&&(r=s);return r}function nW(e,t){let r;for(const s of e)s!=null&&(r>s||r===void 0&&s>=s)&&(r=s);return r}function ene(e,t,r=0,s=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),s=Math.floor(Math.min(e.length-1,s)),!(r<=t&&t<=s))return e;for(a=a===void 0?Qse:PGe(a);s>r;){if(s-r>600){const d=s-r+1,u=t-r+1,l=Math.log(d),f=.5*Math.exp(2*l/3),m=.5*Math.sqrt(l*f*(d-f)/d)*(u-d/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/d+m)),x=Math.min(s,Math.floor(t+(d-u)*f/d+m));ene(e,t,p,x,a)}const i=e[t];let o=r,c=s;for(f0(e,r,t),a(e[s],i)>0&&f0(e,r,s);o<c;){for(f0(e,o,c),++o,--c;a(e[o],i)<0;)++o;for(;a(e[c],i)>0;)--c}a(e[r],i)===0?f0(e,r,c):(++c,f0(e,c,s)),c<=t&&(r=c+1),t<=c&&(s=c-1)}return e}function f0(e,t,r){const s=e[t];e[t]=e[r],e[r]=s}function IGe(e,t,r){if(e=Float64Array.from(EGe(e)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return nW(e);if(t>=1)return sW(e);var s,a=(s-1)*t,i=Math.floor(a),o=sW(ene(e,i).subarray(0,i+1)),c=nW(e.subarray(i+1));return o+(c-o)*(a-i)}}function FGe(e,t,r=Jse){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+r(e[0],0,e);if(t>=1)return+r(e[s-1],s-1,e);var s,a=(s-1)*t,i=Math.floor(a),o=+r(e[i],i,e),c=+r(e[i+1],i+1,e);return o+(c-o)*(a-i)}}function tne(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var s=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++s<a;)i[s]=e+s*r;return i}function To(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function dd(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const qM=Symbol("implicit");function Py(){var e=new YC,t=[],r=[],s=qM;function a(i){let o=e.get(i);if(o===void 0){if(s!==qM)return s;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new YC;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return Py(t,r).unknown(s)},To.apply(a,arguments),a}function w5(){var e=Py().unknown(void 0),t=e.domain,r=e.range,s=0,a=1,i,o,c=!1,d=0,u=0,l=.5;delete e.unknown;function f(){var m=t().length,p=a<s,x=p?a:s,b=p?s:a;i=(b-x)/Math.max(1,m-d+u*2),c&&(i=Math.floor(i)),x+=(b-x-i*(m-d))*l,o=i*(1-d),c&&(x=Math.round(x),o=Math.round(o));var h=tne(m).map(function(y){return x+i*y});return r(p?h.reverse():h)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([s,a]=m,s=+s,a=+a,f()):[s,a]},e.rangeRound=function(m){return[s,a]=m,s=+s,a=+a,c=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(c=!!m,f()):c},e.padding=function(m){return arguments.length?(d=Math.min(1,u=+m),f()):d},e.paddingInner=function(m){return arguments.length?(d=Math.min(1,m),f()):d},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(l=Math.max(0,Math.min(1,m)),f()):l},e.copy=function(){return w5(t(),[s,a]).round(c).paddingInner(d).paddingOuter(u).align(l)},To.apply(f(),arguments)}function rne(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return rne(t())},e}function $Ge(){return rne(w5.apply(null,arguments).paddingInner(1))}function j5(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function sne(e,t){var r=Object.create(e.prototype);for(var s in t)r[s]=t[s];return r}function Ub(){}var Ry=.7,ZC=1/Ry,rg="\\s*([+-]?\\d+)\\s*",My="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ol="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",LGe=/^#([0-9a-f]{3,8})$/,BGe=new RegExp(`^rgb\\(${rg},${rg},${rg}\\)$`),zGe=new RegExp(`^rgb\\(${Ol},${Ol},${Ol}\\)$`),UGe=new RegExp(`^rgba\\(${rg},${rg},${rg},${My}\\)$`),HGe=new RegExp(`^rgba\\(${Ol},${Ol},${Ol},${My}\\)$`),VGe=new RegExp(`^hsl\\(${My},${Ol},${Ol}\\)$`),WGe=new RegExp(`^hsla\\(${My},${Ol},${Ol},${My}\\)$`),aW={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};j5(Ub,Oy,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:iW,formatHex:iW,formatHex8:qGe,formatHsl:GGe,formatRgb:oW,toString:oW});function iW(){return this.rgb().formatHex()}function qGe(){return this.rgb().formatHex8()}function GGe(){return nne(this).formatHsl()}function oW(){return this.rgb().formatRgb()}function Oy(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=LGe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?lW(t):r===3?new Wa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?b1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?b1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=BGe.exec(e))?new Wa(t[1],t[2],t[3],1):(t=zGe.exec(e))?new Wa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=UGe.exec(e))?b1(t[1],t[2],t[3],t[4]):(t=HGe.exec(e))?b1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=VGe.exec(e))?uW(t[1],t[2]/100,t[3]/100,1):(t=WGe.exec(e))?uW(t[1],t[2]/100,t[3]/100,t[4]):aW.hasOwnProperty(e)?lW(aW[e]):e==="transparent"?new Wa(NaN,NaN,NaN,0):null}function lW(e){return new Wa(e>>16&255,e>>8&255,e&255,1)}function b1(e,t,r,s){return s<=0&&(e=t=r=NaN),new Wa(e,t,r,s)}function YGe(e){return e instanceof Ub||(e=Oy(e)),e?(e=e.rgb(),new Wa(e.r,e.g,e.b,e.opacity)):new Wa}function GM(e,t,r,s){return arguments.length===1?YGe(e):new Wa(e,t,r,s??1)}function Wa(e,t,r,s){this.r=+e,this.g=+t,this.b=+r,this.opacity=+s}j5(Wa,GM,sne(Ub,{brighter(e){return e=e==null?ZC:Math.pow(ZC,e),new Wa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ry:Math.pow(Ry,e),new Wa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Wa(mm(this.r),mm(this.g),mm(this.b),XC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cW,formatHex:cW,formatHex8:KGe,formatRgb:dW,toString:dW}));function cW(){return`#${Jf(this.r)}${Jf(this.g)}${Jf(this.b)}`}function KGe(){return`#${Jf(this.r)}${Jf(this.g)}${Jf(this.b)}${Jf((isNaN(this.opacity)?1:this.opacity)*255)}`}function dW(){const e=XC(this.opacity);return`${e===1?"rgb(":"rgba("}${mm(this.r)}, ${mm(this.g)}, ${mm(this.b)}${e===1?")":`, ${e})`}`}function XC(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function mm(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Jf(e){return e=mm(e),(e<16?"0":"")+e.toString(16)}function uW(e,t,r,s){return s<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Vo(e,t,r,s)}function nne(e){if(e instanceof Vo)return new Vo(e.h,e.s,e.l,e.opacity);if(e instanceof Ub||(e=Oy(e)),!e)return new Vo;if(e instanceof Vo)return e;e=e.rgb();var t=e.r/255,r=e.g/255,s=e.b/255,a=Math.min(t,r,s),i=Math.max(t,r,s),o=NaN,c=i-a,d=(i+a)/2;return c?(t===i?o=(r-s)/c+(r<s)*6:r===i?o=(s-t)/c+2:o=(t-r)/c+4,c/=d<.5?i+a:2-i-a,o*=60):c=d>0&&d<1?0:o,new Vo(o,c,d,e.opacity)}function ZGe(e,t,r,s){return arguments.length===1?nne(e):new Vo(e,t,r,s??1)}function Vo(e,t,r,s){this.h=+e,this.s=+t,this.l=+r,this.opacity=+s}j5(Vo,ZGe,sne(Ub,{brighter(e){return e=e==null?ZC:Math.pow(ZC,e),new Vo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ry:Math.pow(Ry,e),new Vo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*t,a=2*r-s;return new Wa(lR(e>=240?e-240:e+120,a,s),lR(e,a,s),lR(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new Vo(fW(this.h),w1(this.s),w1(this.l),XC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=XC(this.opacity);return`${e===1?"hsl(":"hsla("}${fW(this.h)}, ${w1(this.s)*100}%, ${w1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function fW(e){return e=(e||0)%360,e<0?e+360:e}function w1(e){return Math.max(0,Math.min(1,e||0))}function lR(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const S5=e=>()=>e;function XGe(e,t){return function(r){return e+r*t}}function JGe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(s){return Math.pow(e+s*t,r)}}function QGe(e){return(e=+e)==1?ane:function(t,r){return r-t?JGe(t,r,e):S5(isNaN(t)?r:t)}}function ane(e,t){var r=t-e;return r?XGe(e,r):S5(isNaN(e)?t:e)}const mW=(function e(t){var r=QGe(t);function s(a,i){var o=r((a=GM(a)).r,(i=GM(i)).r),c=r(a.g,i.g),d=r(a.b,i.b),u=ane(a.opacity,i.opacity);return function(l){return a.r=o(l),a.g=c(l),a.b=d(l),a.opacity=u(l),a+""}}return s.gamma=e,s})(1);function eYe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,s=t.slice(),a;return function(i){for(a=0;a<r;++a)s[a]=e[a]*(1-i)+t[a]*i;return s}}function tYe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function rYe(e,t){var r=t?t.length:0,s=e?Math.min(r,e.length):0,a=new Array(s),i=new Array(r),o;for(o=0;o<s;++o)a[o]=vx(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(c){for(o=0;o<s;++o)i[o]=a[o](c);return i}}function N5(e,t){var r=new Date;return e=+e,t=+t,function(s){return r.setTime(e*(1-s)+t*s),r}}function kn(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function sYe(e,t){var r={},s={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=vx(e[a],t[a]):s[a]=t[a];return function(i){for(a in r)s[a]=r[a](i);return s}}var YM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cR=new RegExp(YM.source,"g");function nYe(e){return function(){return e}}function aYe(e){return function(t){return e(t)+""}}function iYe(e,t){var r=YM.lastIndex=cR.lastIndex=0,s,a,i,o=-1,c=[],d=[];for(e=e+"",t=t+"";(s=YM.exec(e))&&(a=cR.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),c[o]?c[o]+=i:c[++o]=i),(s=s[0])===(a=a[0])?c[o]?c[o]+=a:c[++o]=a:(c[++o]=null,d.push({i:o,x:kn(s,a)})),r=cR.lastIndex;return r<t.length&&(i=t.slice(r),c[o]?c[o]+=i:c[++o]=i),c.length<2?d[0]?aYe(d[0].x):nYe(t):(t=d.length,function(u){for(var l=0,f;l<t;++l)c[(f=d[l]).i]=f.x(u);return c.join("")})}function vx(e,t){var r=typeof t,s;return t==null||r==="boolean"?S5(t):(r==="number"?kn:r==="string"?(s=Oy(t))?(t=s,mW):iYe:t instanceof Oy?mW:t instanceof Date?N5:tYe(t)?eYe:Array.isArray(t)?rYe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?sYe:kn)(e,t)}function C5(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function oYe(e,t){t===void 0&&(t=e,e=vx);for(var r=0,s=t.length-1,a=t[0],i=new Array(s<0?0:s);r<s;)i[r]=e(a,a=t[++r]);return function(o){var c=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[c](o-c)}}function lYe(e){return function(){return e}}function JC(e){return+e}var hW=[0,1];function Ea(e){return e}function KM(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:lYe(isNaN(t)?NaN:.5)}function cYe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(s){return Math.max(e,Math.min(t,s))}}function dYe(e,t,r){var s=e[0],a=e[1],i=t[0],o=t[1];return a<s?(s=KM(a,s),i=r(o,i)):(s=KM(s,a),i=r(i,o)),function(c){return i(s(c))}}function uYe(e,t,r){var s=Math.min(e.length,t.length)-1,a=new Array(s),i=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<s;)a[o]=KM(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(c){var d=zb(e,c,1,s)-1;return i[d](a[d](c))}}function Hb(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function QE(){var e=hW,t=hW,r=vx,s,a,i,o=Ea,c,d,u;function l(){var m=Math.min(e.length,t.length);return o!==Ea&&(o=cYe(e[0],e[m-1])),c=m>2?uYe:dYe,d=u=null,f}function f(m){return m==null||isNaN(m=+m)?i:(d||(d=c(e.map(s),t,r)))(s(o(m)))}return f.invert=function(m){return o(a((u||(u=c(t,e.map(s),kn)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,JC),l()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),l()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),r=C5,l()},f.clamp=function(m){return arguments.length?(o=m?!0:Ea,l()):o!==Ea},f.interpolate=function(m){return arguments.length?(r=m,l()):r},f.unknown=function(m){return arguments.length?(i=m,f):i},function(m,p){return s=m,a=p,l()}}function _5(){return QE()(Ea,Ea)}function fYe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function QC(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,s=e.slice(0,r);return[s.length>1?s[0]+s.slice(2):s,+e.slice(r+1)]}function Sg(e){return e=QC(Math.abs(e)),e?e[1]:NaN}function mYe(e,t){return function(r,s){for(var a=r.length,i=[],o=0,c=e[0],d=0;a>0&&c>0&&(d+c+1>s&&(c=Math.max(1,s-d)),i.push(r.substring(a-=c,a+c)),!((d+=c+1)>s));)c=e[o=(o+1)%e.length];return i.reverse().join(t)}}function hYe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var pYe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Iy(e){if(!(t=pYe.exec(e)))throw new Error("invalid format: "+e);var t;return new E5({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Iy.prototype=E5.prototype;function E5(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}E5.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gYe(e){e:for(var t=e.length,r=1,s=-1,a;r<t;++r)switch(e[r]){case".":s=a=r;break;case"0":s===0&&(s=r),a=r;break;default:if(!+e[r])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(a+1):e}var ine;function xYe(e,t){var r=QC(e,t);if(!r)return e+"";var s=r[0],a=r[1],i=a-(ine=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+QC(e,Math.max(0,t+i-1))[0]}function pW(e,t){var r=QC(e,t);if(!r)return e+"";var s=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const gW={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:fYe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>pW(e*100,t),r:pW,s:xYe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function xW(e){return e}var vW=Array.prototype.map,yW=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function vYe(e){var t=e.grouping===void 0||e.thousands===void 0?xW:mYe(vW.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?xW:hYe(vW.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Iy(f);var m=f.fill,p=f.align,x=f.sign,b=f.symbol,h=f.zero,y=f.width,w=f.comma,S=f.precision,N=f.trim,_=f.type;_==="n"?(w=!0,_="g"):gW[_]||(S===void 0&&(S=12),N=!0,_="g"),(h||m==="0"&&p==="=")&&(h=!0,m="0",p="=");var k=b==="$"?r:b==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",E=b==="$"?s:/[%p]/.test(_)?o:"",T=gW[_],D=/[defgprs%]/.test(_);S=S===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function P(M){var R=k,B=E,L,$,I;if(_==="c")B=T(M)+B,M="";else{M=+M;var z=M<0||1/M<0;if(M=isNaN(M)?d:T(Math.abs(M),S),N&&(M=gYe(M)),z&&+M==0&&x!=="+"&&(z=!1),R=(z?x==="("?x:c:x==="-"||x==="("?"":x)+R,B=(_==="s"?yW[8+ine/3]:"")+B+(z&&x==="("?")":""),D){for(L=-1,$=M.length;++L<$;)if(I=M.charCodeAt(L),48>I||I>57){B=(I===46?a+M.slice(L+1):M.slice(L))+B,M=M.slice(0,L);break}}}w&&!h&&(M=t(M,1/0));var H=R.length+M.length+B.length,Z=H<y?new Array(y-H+1).join(m):"";switch(w&&h&&(M=t(Z+M,Z.length?y-B.length:1/0),Z=""),p){case"<":M=R+M+B+Z;break;case"=":M=R+Z+M+B;break;case"^":M=Z.slice(0,H=Z.length>>1)+R+M+B+Z.slice(H);break;default:M=Z+R+M+B;break}return i(M)}return P.toString=function(){return f+""},P}function l(f,m){var p=u((f=Iy(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(Sg(m)/3)))*3,b=Math.pow(10,-x),h=yW[8+x/3];return function(y){return p(b*y)+h}}return{format:u,formatPrefix:l}}var j1,k5,one;yYe({thousands:",",grouping:[3],currency:["$",""]});function yYe(e){return j1=vYe(e),k5=j1.format,one=j1.formatPrefix,j1}function bYe(e){return Math.max(0,-Sg(Math.abs(e)))}function wYe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sg(t)/3)))*3-Sg(Math.abs(e)))}function jYe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Sg(t)-Sg(e))+1}function lne(e,t,r,s){var a=WM(e,t,r),i;switch(s=Iy(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(i=wYe(a,o))&&(s.precision=i),one(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=jYe(a,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=bYe(a))&&(s.precision=i-(s.type==="%")*2);break}}return k5(s)}function Wu(e){var t=e.domain;return e.ticks=function(r){var s=t();return HM(s[0],s[s.length-1],r??10)},e.tickFormat=function(r,s){var a=t();return lne(a[0],a[a.length-1],r??10,s)},e.nice=function(r){r==null&&(r=10);var s=t(),a=0,i=s.length-1,o=s[a],c=s[i],d,u,l=10;for(c<o&&(u=o,o=c,c=u,u=a,a=i,i=u);l-- >0;){if(u=VM(o,c,r),u===d)return s[a]=o,s[i]=c,t(s);if(u>0)o=Math.floor(o/u)*u,c=Math.ceil(c/u)*u;else if(u<0)o=Math.ceil(o*u)/u,c=Math.floor(c*u)/u;else break;d=u}return e},e}function e2(){var e=_5();return e.copy=function(){return Hb(e,e2())},To.apply(e,arguments),Wu(e)}function cne(e){var t;function r(s){return s==null||isNaN(s=+s)?t:s}return r.invert=r,r.domain=r.range=function(s){return arguments.length?(e=Array.from(s,JC),r):e.slice()},r.unknown=function(s){return arguments.length?(t=s,r):t},r.copy=function(){return cne(e).unknown(t)},e=arguments.length?Array.from(e,JC):[0,1],Wu(r)}function dne(e,t){e=e.slice();var r=0,s=e.length-1,a=e[r],i=e[s],o;return i<a&&(o=r,r=s,s=o,o=a,a=i,i=o),e[r]=t.floor(a),e[s]=t.ceil(i),e}function bW(e){return Math.log(e)}function wW(e){return Math.exp(e)}function SYe(e){return-Math.log(-e)}function NYe(e){return-Math.exp(-e)}function CYe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function _Ye(e){return e===10?CYe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function EYe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function jW(e){return(t,r)=>-e(-t,r)}function A5(e){const t=e(bW,wW),r=t.domain;let s=10,a,i;function o(){return a=EYe(s),i=_Ye(s),r()[0]<0?(a=jW(a),i=jW(i),e(SYe,NYe)):e(bW,wW),t}return t.base=function(c){return arguments.length?(s=+c,o()):s},t.domain=function(c){return arguments.length?(r(c),o()):r()},t.ticks=c=>{const d=r();let u=d[0],l=d[d.length-1];const f=l<u;f&&([u,l]=[l,u]);let m=a(u),p=a(l),x,b;const h=c==null?10:+c;let y=[];if(!(s%1)&&p-m<h){if(m=Math.floor(m),p=Math.ceil(p),u>0){for(;m<=p;++m)for(x=1;x<s;++x)if(b=m<0?x/i(-m):x*i(m),!(b<u)){if(b>l)break;y.push(b)}}else for(;m<=p;++m)for(x=s-1;x>=1;--x)if(b=m>0?x/i(-m):x*i(m),!(b<u)){if(b>l)break;y.push(b)}y.length*2<h&&(y=HM(u,l,h))}else y=HM(m,p,Math.min(p-m,h)).map(i);return f?y.reverse():y},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=s===10?"s":","),typeof d!="function"&&(!(s%1)&&(d=Iy(d)).precision==null&&(d.trim=!0),d=k5(d)),c===1/0)return d;const u=Math.max(1,s*c/t.ticks().length);return l=>{let f=l/i(Math.round(a(l)));return f*s<s-.5&&(f*=s),f<=u?d(l):""}},t.nice=()=>r(dne(r(),{floor:c=>i(Math.floor(a(c))),ceil:c=>i(Math.ceil(a(c)))})),t}function Fy(){const e=A5(QE()).domain([1,10]);return e.copy=()=>Hb(e,Fy()).base(e.base()),To.apply(e,arguments),e}function SW(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function NW(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function T5(e){var t=1,r=e(SW(t),NW(t));return r.constant=function(s){return arguments.length?e(SW(t=+s),NW(t)):t},Wu(r)}function D5(){var e=T5(QE());return e.copy=function(){return Hb(e,D5()).constant(e.constant())},To.apply(e,arguments)}function CW(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function kYe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function AYe(e){return e<0?-e*e:e*e}function P5(e){var t=e(Ea,Ea),r=1;function s(){return r===1?e(Ea,Ea):r===.5?e(kYe,AYe):e(CW(r),CW(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,s()):r},Wu(t)}function t2(){var e=P5(QE());return e.copy=function(){return Hb(e,t2()).exponent(e.exponent())},To.apply(e,arguments),e}function une(){return t2.apply(null,arguments).exponent(.5)}function _W(e){return Math.sign(e)*e*e}function TYe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function fne(){var e=_5(),t=[0,1],r=!1,s;function a(i){var o=TYe(e(i));return isNaN(o)?s:r?Math.round(o):o}return a.invert=function(i){return e.invert(_W(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,JC)).map(_W)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return fne(e.domain(),t).round(r).clamp(e.clamp()).unknown(s)},To.apply(a,arguments),Wu(a)}function mne(){var e=[],t=[],r=[],s;function a(){var o=0,c=Math.max(1,t.length);for(r=new Array(c-1);++o<c;)r[o-1]=FGe(e,o/c);return i}function i(o){return o==null||isNaN(o=+o)?s:t[zb(r,o)]}return i.invertExtent=function(o){var c=t.indexOf(o);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(pu),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return r.slice()},i.copy=function(){return mne().domain(e).range(t).unknown(s)},To.apply(i,arguments)}function hne(){var e=0,t=1,r=1,s=[.5],a=[0,1],i;function o(d){return d!=null&&d<=d?a[zb(s,d,0,r)]:i}function c(){var d=-1;for(s=new Array(r);++d<r;)s[d]=((d+1)*t-(d-r)*e)/(r+1);return o}return o.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,c()):[e,t]},o.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,c()):a.slice()},o.invertExtent=function(d){var u=a.indexOf(d);return u<0?[NaN,NaN]:u<1?[e,s[0]]:u>=r?[s[r-1],t]:[s[u-1],s[u]]},o.unknown=function(d){return arguments.length&&(i=d),o},o.thresholds=function(){return s.slice()},o.copy=function(){return hne().domain([e,t]).range(a).unknown(i)},To.apply(Wu(o),arguments)}function R5(){var e=[.5],t=[0,1],r,s=1;function a(i){return i!=null&&i<=i?t[zb(e,i,0,s)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),s=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),s=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return R5().domain(e).range(t).unknown(r)},To.apply(a,arguments)}const dR=new Date,uR=new Date;function Mn(e,t,r,s){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),c=a.ceil(i);return i-o<c-i?o:c},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,c)=>{const d=[];if(i=a.ceil(i),c=c==null?1:Math.floor(c),!(i<o)||!(c>0))return d;let u;do d.push(u=new Date(+i)),t(i,c),e(i);while(u<i&&i<o);return d},a.filter=i=>Mn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!i(o););else for(;--c>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(dR.setTime(+i),uR.setTime(+o),e(dR),e(uR),Math.floor(r(dR,uR))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const e_=Mn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);e_.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Mn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):e_);e_.range;const Tc=1e3,ho=Tc*60,Dc=ho*60,Gc=Dc*24,M5=Gc*7,EW=Gc*30,fR=Gc*365,Qf=Mn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Tc)},(e,t)=>(t-e)/Tc,e=>e.getUTCSeconds());Qf.range;const O5=Mn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Tc)},(e,t)=>{e.setTime(+e+t*ho)},(e,t)=>(t-e)/ho,e=>e.getMinutes());O5.range;const I5=Mn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ho)},(e,t)=>(t-e)/ho,e=>e.getUTCMinutes());I5.range;const F5=Mn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Tc-e.getMinutes()*ho)},(e,t)=>{e.setTime(+e+t*Dc)},(e,t)=>(t-e)/Dc,e=>e.getHours());F5.range;const $5=Mn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Dc)},(e,t)=>(t-e)/Dc,e=>e.getUTCHours());$5.range;const Vb=Mn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ho)/Gc,e=>e.getDate()-1);Vb.range;const r2=Mn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gc,e=>e.getUTCDate()-1);r2.range;const pne=Mn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gc,e=>Math.floor(e/Gc));pne.range;function rh(e){return Mn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ho)/M5)}const s2=rh(0),t_=rh(1),DYe=rh(2),PYe=rh(3),Ng=rh(4),RYe=rh(5),MYe=rh(6);s2.range;t_.range;DYe.range;PYe.range;Ng.range;RYe.range;MYe.range;function sh(e){return Mn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/M5)}const n2=sh(0),r_=sh(1),OYe=sh(2),IYe=sh(3),Cg=sh(4),FYe=sh(5),$Ye=sh(6);n2.range;r_.range;OYe.range;IYe.range;Cg.range;FYe.range;$Ye.range;const L5=Mn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());L5.range;const B5=Mn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());B5.range;const Yc=Mn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Yc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Yc.range;const Kc=Mn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Kc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Kc.range;function gne(e,t,r,s,a,i){const o=[[Qf,1,Tc],[Qf,5,5*Tc],[Qf,15,15*Tc],[Qf,30,30*Tc],[i,1,ho],[i,5,5*ho],[i,15,15*ho],[i,30,30*ho],[a,1,Dc],[a,3,3*Dc],[a,6,6*Dc],[a,12,12*Dc],[s,1,Gc],[s,2,2*Gc],[r,1,M5],[t,1,EW],[t,3,3*EW],[e,1,fR]];function c(u,l,f){const m=l<u;m&&([u,l]=[l,u]);const p=f&&typeof f.range=="function"?f:d(u,l,f),x=p?p.range(u,+l+1):[];return m?x.reverse():x}function d(u,l,f){const m=Math.abs(l-u)/f,p=b5(([,,h])=>h).right(o,m);if(p===o.length)return e.every(WM(u/fR,l/fR,f));if(p===0)return e_.every(Math.max(WM(u,l,f),1));const[x,b]=o[m/o[p-1][2]<o[p][2]/m?p-1:p];return x.every(b)}return[c,d]}const[LYe,BYe]=gne(Kc,B5,n2,pne,$5,I5),[zYe,UYe]=gne(Yc,L5,s2,Vb,F5,O5);function mR(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function hR(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function m0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function HYe(e){var t=e.dateTime,r=e.date,s=e.time,a=e.periods,i=e.days,o=e.shortDays,c=e.months,d=e.shortMonths,u=h0(a),l=p0(a),f=h0(i),m=p0(i),p=h0(o),x=p0(o),b=h0(c),h=p0(c),y=h0(d),w=p0(d),S={a:z,A:H,b:Z,B:V,c:null,d:RW,e:RW,f:fKe,g:jKe,G:NKe,H:cKe,I:dKe,j:uKe,L:xne,m:mKe,M:hKe,p:G,q:U,Q:IW,s:FW,S:pKe,u:gKe,U:xKe,V:vKe,w:yKe,W:bKe,x:null,X:null,y:wKe,Y:SKe,Z:CKe,"%":OW},N={a:Y,A:K,b:re,B:he,c:null,d:MW,e:MW,f:AKe,g:LKe,G:zKe,H:_Ke,I:EKe,j:kKe,L:yne,m:TKe,M:DKe,p:me,q:de,Q:IW,s:FW,S:PKe,u:RKe,U:MKe,V:OKe,w:IKe,W:FKe,x:null,X:null,y:$Ke,Y:BKe,Z:UKe,"%":OW},_={a:P,A:M,b:R,B,c:L,d:DW,e:DW,f:aKe,g:TW,G:AW,H:PW,I:PW,j:tKe,L:nKe,m:eKe,M:rKe,p:D,q:QYe,Q:oKe,s:lKe,S:sKe,u:YYe,U:KYe,V:ZYe,w:GYe,W:XYe,x:$,X:I,y:TW,Y:AW,Z:JYe,"%":iKe};S.x=k(r,S),S.X=k(s,S),S.c=k(t,S),N.x=k(r,N),N.X=k(s,N),N.c=k(t,N);function k(ie,ve){return function(_e){var xe=[],Le=-1,Ie=0,fe=ie.length,Ze,it,ge;for(_e instanceof Date||(_e=new Date(+_e));++Le<fe;)ie.charCodeAt(Le)===37&&(xe.push(ie.slice(Ie,Le)),(it=kW[Ze=ie.charAt(++Le)])!=null?Ze=ie.charAt(++Le):it=Ze==="e"?" ":"0",(ge=ve[Ze])&&(Ze=ge(_e,it)),xe.push(Ze),Ie=Le+1);return xe.push(ie.slice(Ie,Le)),xe.join("")}}function E(ie,ve){return function(_e){var xe=m0(1900,void 0,1),Le=T(xe,ie,_e+="",0),Ie,fe;if(Le!=_e.length)return null;if("Q"in xe)return new Date(xe.Q);if("s"in xe)return new Date(xe.s*1e3+("L"in xe?xe.L:0));if(ve&&!("Z"in xe)&&(xe.Z=0),"p"in xe&&(xe.H=xe.H%12+xe.p*12),xe.m===void 0&&(xe.m="q"in xe?xe.q:0),"V"in xe){if(xe.V<1||xe.V>53)return null;"w"in xe||(xe.w=1),"Z"in xe?(Ie=hR(m0(xe.y,0,1)),fe=Ie.getUTCDay(),Ie=fe>4||fe===0?r_.ceil(Ie):r_(Ie),Ie=r2.offset(Ie,(xe.V-1)*7),xe.y=Ie.getUTCFullYear(),xe.m=Ie.getUTCMonth(),xe.d=Ie.getUTCDate()+(xe.w+6)%7):(Ie=mR(m0(xe.y,0,1)),fe=Ie.getDay(),Ie=fe>4||fe===0?t_.ceil(Ie):t_(Ie),Ie=Vb.offset(Ie,(xe.V-1)*7),xe.y=Ie.getFullYear(),xe.m=Ie.getMonth(),xe.d=Ie.getDate()+(xe.w+6)%7)}else("W"in xe||"U"in xe)&&("w"in xe||(xe.w="u"in xe?xe.u%7:"W"in xe?1:0),fe="Z"in xe?hR(m0(xe.y,0,1)).getUTCDay():mR(m0(xe.y,0,1)).getDay(),xe.m=0,xe.d="W"in xe?(xe.w+6)%7+xe.W*7-(fe+5)%7:xe.w+xe.U*7-(fe+6)%7);return"Z"in xe?(xe.H+=xe.Z/100|0,xe.M+=xe.Z%100,hR(xe)):mR(xe)}}function T(ie,ve,_e,xe){for(var Le=0,Ie=ve.length,fe=_e.length,Ze,it;Le<Ie;){if(xe>=fe)return-1;if(Ze=ve.charCodeAt(Le++),Ze===37){if(Ze=ve.charAt(Le++),it=_[Ze in kW?ve.charAt(Le++):Ze],!it||(xe=it(ie,_e,xe))<0)return-1}else if(Ze!=_e.charCodeAt(xe++))return-1}return xe}function D(ie,ve,_e){var xe=u.exec(ve.slice(_e));return xe?(ie.p=l.get(xe[0].toLowerCase()),_e+xe[0].length):-1}function P(ie,ve,_e){var xe=p.exec(ve.slice(_e));return xe?(ie.w=x.get(xe[0].toLowerCase()),_e+xe[0].length):-1}function M(ie,ve,_e){var xe=f.exec(ve.slice(_e));return xe?(ie.w=m.get(xe[0].toLowerCase()),_e+xe[0].length):-1}function R(ie,ve,_e){var xe=y.exec(ve.slice(_e));return xe?(ie.m=w.get(xe[0].toLowerCase()),_e+xe[0].length):-1}function B(ie,ve,_e){var xe=b.exec(ve.slice(_e));return xe?(ie.m=h.get(xe[0].toLowerCase()),_e+xe[0].length):-1}function L(ie,ve,_e){return T(ie,t,ve,_e)}function $(ie,ve,_e){return T(ie,r,ve,_e)}function I(ie,ve,_e){return T(ie,s,ve,_e)}function z(ie){return o[ie.getDay()]}function H(ie){return i[ie.getDay()]}function Z(ie){return d[ie.getMonth()]}function V(ie){return c[ie.getMonth()]}function G(ie){return a[+(ie.getHours()>=12)]}function U(ie){return 1+~~(ie.getMonth()/3)}function Y(ie){return o[ie.getUTCDay()]}function K(ie){return i[ie.getUTCDay()]}function re(ie){return d[ie.getUTCMonth()]}function he(ie){return c[ie.getUTCMonth()]}function me(ie){return a[+(ie.getUTCHours()>=12)]}function de(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var ve=k(ie+="",S);return ve.toString=function(){return ie},ve},parse:function(ie){var ve=E(ie+="",!1);return ve.toString=function(){return ie},ve},utcFormat:function(ie){var ve=k(ie+="",N);return ve.toString=function(){return ie},ve},utcParse:function(ie){var ve=E(ie+="",!0);return ve.toString=function(){return ie},ve}}}var kW={"-":"",_:" ",0:"0"},Zn=/^\s*\d+/,VYe=/^%/,WYe=/[\\^$*+?|[\]().{}]/g;function xr(e,t,r){var s=e<0?"-":"",a=(s?-e:e)+"",i=a.length;return s+(i<r?new Array(r-i+1).join(t)+a:a)}function qYe(e){return e.replace(WYe,"\\$&")}function h0(e){return new RegExp("^(?:"+e.map(qYe).join("|")+")","i")}function p0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function GYe(e,t,r){var s=Zn.exec(t.slice(r,r+1));return s?(e.w=+s[0],r+s[0].length):-1}function YYe(e,t,r){var s=Zn.exec(t.slice(r,r+1));return s?(e.u=+s[0],r+s[0].length):-1}function KYe(e,t,r){var s=Zn.exec(t.slice(r,r+2));return s?(e.U=+s[0],r+s[0].length):-1}function ZYe(e,t,r){var s=Zn.exec(t.slice(r,r+2));return s?(e.V=+s[0],r+s[0].length):-1}function XYe(e,t,r){var s=Zn.exec(t.slice(r,r+2));return s?(e.W=+s[0],r+s[0].length):-1}function AW(e,t,r){var s=Zn.exec(t.slice(r,r+4));return s?(e.y=+s[0],r+s[0].length):-1}function TW(e,t,r){var s=Zn.exec(t.slice(r,r+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),r+s[0].length):-1}function JYe(e,t,r){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),r+s[0].length):-1}function QYe(e,t,r){var s=Zn.exec(t.slice(r,r+1));return s?(e.q=s[0]*3-3,r+s[0].length):-1}function eKe(e,t,r){var s=Zn.exec(t.slice(r,r+2));return s?(e.m=s[0]-1,r+s[0].length):-1}function DW(e,t,r){var s=Zn.exec(t.slice(r,r+2));return s?(e.d=+s[0],r+s[0].length):-1}function tKe(e,t,r){var s=Zn.exec(t.slice(r,r+3));return s?(e.m=0,e.d=+s[0],r+s[0].length):-1}function PW(e,t,r){var s=Zn.exec(t.slice(r,r+2));return s?(e.H=+s[0],r+s[0].length):-1}function rKe(e,t,r){var s=Zn.exec(t.slice(r,r+2));return s?(e.M=+s[0],r+s[0].length):-1}function sKe(e,t,r){var s=Zn.exec(t.slice(r,r+2));return s?(e.S=+s[0],r+s[0].length):-1}function nKe(e,t,r){var s=Zn.exec(t.slice(r,r+3));return s?(e.L=+s[0],r+s[0].length):-1}function aKe(e,t,r){var s=Zn.exec(t.slice(r,r+6));return s?(e.L=Math.floor(s[0]/1e3),r+s[0].length):-1}function iKe(e,t,r){var s=VYe.exec(t.slice(r,r+1));return s?r+s[0].length:-1}function oKe(e,t,r){var s=Zn.exec(t.slice(r));return s?(e.Q=+s[0],r+s[0].length):-1}function lKe(e,t,r){var s=Zn.exec(t.slice(r));return s?(e.s=+s[0],r+s[0].length):-1}function RW(e,t){return xr(e.getDate(),t,2)}function cKe(e,t){return xr(e.getHours(),t,2)}function dKe(e,t){return xr(e.getHours()%12||12,t,2)}function uKe(e,t){return xr(1+Vb.count(Yc(e),e),t,3)}function xne(e,t){return xr(e.getMilliseconds(),t,3)}function fKe(e,t){return xne(e,t)+"000"}function mKe(e,t){return xr(e.getMonth()+1,t,2)}function hKe(e,t){return xr(e.getMinutes(),t,2)}function pKe(e,t){return xr(e.getSeconds(),t,2)}function gKe(e){var t=e.getDay();return t===0?7:t}function xKe(e,t){return xr(s2.count(Yc(e)-1,e),t,2)}function vne(e){var t=e.getDay();return t>=4||t===0?Ng(e):Ng.ceil(e)}function vKe(e,t){return e=vne(e),xr(Ng.count(Yc(e),e)+(Yc(e).getDay()===4),t,2)}function yKe(e){return e.getDay()}function bKe(e,t){return xr(t_.count(Yc(e)-1,e),t,2)}function wKe(e,t){return xr(e.getFullYear()%100,t,2)}function jKe(e,t){return e=vne(e),xr(e.getFullYear()%100,t,2)}function SKe(e,t){return xr(e.getFullYear()%1e4,t,4)}function NKe(e,t){var r=e.getDay();return e=r>=4||r===0?Ng(e):Ng.ceil(e),xr(e.getFullYear()%1e4,t,4)}function CKe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+xr(t/60|0,"0",2)+xr(t%60,"0",2)}function MW(e,t){return xr(e.getUTCDate(),t,2)}function _Ke(e,t){return xr(e.getUTCHours(),t,2)}function EKe(e,t){return xr(e.getUTCHours()%12||12,t,2)}function kKe(e,t){return xr(1+r2.count(Kc(e),e),t,3)}function yne(e,t){return xr(e.getUTCMilliseconds(),t,3)}function AKe(e,t){return yne(e,t)+"000"}function TKe(e,t){return xr(e.getUTCMonth()+1,t,2)}function DKe(e,t){return xr(e.getUTCMinutes(),t,2)}function PKe(e,t){return xr(e.getUTCSeconds(),t,2)}function RKe(e){var t=e.getUTCDay();return t===0?7:t}function MKe(e,t){return xr(n2.count(Kc(e)-1,e),t,2)}function bne(e){var t=e.getUTCDay();return t>=4||t===0?Cg(e):Cg.ceil(e)}function OKe(e,t){return e=bne(e),xr(Cg.count(Kc(e),e)+(Kc(e).getUTCDay()===4),t,2)}function IKe(e){return e.getUTCDay()}function FKe(e,t){return xr(r_.count(Kc(e)-1,e),t,2)}function $Ke(e,t){return xr(e.getUTCFullYear()%100,t,2)}function LKe(e,t){return e=bne(e),xr(e.getUTCFullYear()%100,t,2)}function BKe(e,t){return xr(e.getUTCFullYear()%1e4,t,4)}function zKe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Cg(e):Cg.ceil(e),xr(e.getUTCFullYear()%1e4,t,4)}function UKe(){return"+0000"}function OW(){return"%"}function IW(e){return+e}function FW(e){return Math.floor(+e/1e3)}var mp,wne,jne;HKe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function HKe(e){return mp=HYe(e),wne=mp.format,mp.parse,jne=mp.utcFormat,mp.utcParse,mp}function VKe(e){return new Date(e)}function WKe(e){return e instanceof Date?+e:+new Date(+e)}function z5(e,t,r,s,a,i,o,c,d,u){var l=_5(),f=l.invert,m=l.domain,p=u(".%L"),x=u(":%S"),b=u("%I:%M"),h=u("%I %p"),y=u("%a %d"),w=u("%b %d"),S=u("%B"),N=u("%Y");function _(k){return(d(k)<k?p:c(k)<k?x:o(k)<k?b:i(k)<k?h:s(k)<k?a(k)<k?y:w:r(k)<k?S:N)(k)}return l.invert=function(k){return new Date(f(k))},l.domain=function(k){return arguments.length?m(Array.from(k,WKe)):m().map(VKe)},l.ticks=function(k){var E=m();return e(E[0],E[E.length-1],k??10)},l.tickFormat=function(k,E){return E==null?_:u(E)},l.nice=function(k){var E=m();return(!k||typeof k.range!="function")&&(k=t(E[0],E[E.length-1],k??10)),k?m(dne(E,k)):l},l.copy=function(){return Hb(l,z5(e,t,r,s,a,i,o,c,d,u))},l}function U5(){return To.apply(z5(zYe,UYe,Yc,L5,s2,Vb,F5,O5,Qf,wne).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Sne(){return To.apply(z5(LYe,BYe,Kc,B5,n2,r2,$5,I5,Qf,jne).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function a2(){var e=0,t=1,r,s,a,i,o=Ea,c=!1,d;function u(f){return f==null||isNaN(f=+f)?d:o(a===0?.5:(f=(i(f)-r)*a,c?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),s=i(t=+t),a=r===s?0:1/(s-r),u):[e,t]},u.clamp=function(f){return arguments.length?(c=!!f,u):c},u.interpolator=function(f){return arguments.length?(o=f,u):o};function l(f){return function(m){var p,x;return arguments.length?([p,x]=m,o=f(p,x),u):[o(0),o(1)]}}return u.range=l(vx),u.rangeRound=l(C5),u.unknown=function(f){return arguments.length?(d=f,u):d},function(f){return i=f,r=f(e),s=f(t),a=r===s?0:1/(s-r),u}}function qu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function H5(){var e=Wu(a2()(Ea));return e.copy=function(){return qu(e,H5())},dd.apply(e,arguments)}function Nne(){var e=A5(a2()).domain([1,10]);return e.copy=function(){return qu(e,Nne()).base(e.base())},dd.apply(e,arguments)}function Cne(){var e=T5(a2());return e.copy=function(){return qu(e,Cne()).constant(e.constant())},dd.apply(e,arguments)}function V5(){var e=P5(a2());return e.copy=function(){return qu(e,V5()).exponent(e.exponent())},dd.apply(e,arguments)}function qKe(){return V5.apply(null,arguments).exponent(.5)}function _ne(){var e=[],t=Ea;function r(s){if(s!=null&&!isNaN(s=+s))return t((zb(e,s,1)-1)/(e.length-1))}return r.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(pu),r},r.interpolator=function(s){return arguments.length?(t=s,r):t},r.range=function(){return e.map((s,a)=>t(a/(e.length-1)))},r.quantiles=function(s){return Array.from({length:s+1},(a,i)=>IGe(e,i/s))},r.copy=function(){return _ne(t).domain(e)},dd.apply(r,arguments)}function i2(){var e=0,t=.5,r=1,s=1,a,i,o,c,d,u=Ea,l,f=!1,m;function p(b){return isNaN(b=+b)?m:(b=.5+((b=+l(b))-i)*(s*b<s*i?c:d),u(f?Math.max(0,Math.min(1,b)):b))}p.domain=function(b){return arguments.length?([e,t,r]=b,a=l(e=+e),i=l(t=+t),o=l(r=+r),c=a===i?0:.5/(i-a),d=i===o?0:.5/(o-i),s=i<a?-1:1,p):[e,t,r]},p.clamp=function(b){return arguments.length?(f=!!b,p):f},p.interpolator=function(b){return arguments.length?(u=b,p):u};function x(b){return function(h){var y,w,S;return arguments.length?([y,w,S]=h,u=oYe(b,[y,w,S]),p):[u(0),u(.5),u(1)]}}return p.range=x(vx),p.rangeRound=x(C5),p.unknown=function(b){return arguments.length?(m=b,p):m},function(b){return l=b,a=b(e),i=b(t),o=b(r),c=a===i?0:.5/(i-a),d=i===o?0:.5/(o-i),s=i<a?-1:1,p}}function Ene(){var e=Wu(i2()(Ea));return e.copy=function(){return qu(e,Ene())},dd.apply(e,arguments)}function kne(){var e=A5(i2()).domain([.1,1,10]);return e.copy=function(){return qu(e,kne()).base(e.base())},dd.apply(e,arguments)}function Ane(){var e=T5(i2());return e.copy=function(){return qu(e,Ane()).constant(e.constant())},dd.apply(e,arguments)}function W5(){var e=P5(i2());return e.copy=function(){return qu(e,W5()).exponent(e.exponent())},dd.apply(e,arguments)}function GKe(){return W5.apply(null,arguments).exponent(.5)}const A0=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:w5,scaleDiverging:Ene,scaleDivergingLog:kne,scaleDivergingPow:W5,scaleDivergingSqrt:GKe,scaleDivergingSymlog:Ane,scaleIdentity:cne,scaleImplicit:qM,scaleLinear:e2,scaleLog:Fy,scaleOrdinal:Py,scalePoint:$Ge,scalePow:t2,scaleQuantile:mne,scaleQuantize:hne,scaleRadial:fne,scaleSequential:H5,scaleSequentialLog:Nne,scaleSequentialPow:V5,scaleSequentialQuantile:_ne,scaleSequentialSqrt:qKe,scaleSequentialSymlog:Cne,scaleSqrt:une,scaleSymlog:D5,scaleThreshold:R5,scaleTime:U5,scaleUtc:Sne,tickFormat:lne},Symbol.toStringTag,{value:"Module"}));var Gu=e=>e.chartData,q5=we([Gu],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),G5=(e,t,r,s)=>s?q5(e):Gu(e);function _g(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Mi(t)&&Mi(r))return!0}return!1}function $W(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function YKe(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,s]=e,a,i;if(Mi(r))a=r;else if(typeof r=="function")return;if(Mi(s))i=s;else if(typeof s=="function")return;var o=[a,i];if(_g(o))return o}}function KKe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var s=e(t,r);if(_g(s))return $W(s,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,c;if(a==="auto")t!=null&&(o=Math.min(...t));else if(lt(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t?.[0]))}catch{}else if(typeof a=="string"&&_V.test(a)){var d=_V.exec(a);if(d==null||t==null)o=void 0;else{var u=+d[1];o=t[0]-u}}else o=t?.[0];if(i==="auto")t!=null&&(c=Math.max(...t));else if(lt(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t?.[1]))}catch{}else if(typeof i=="string"&&EV.test(i)){var l=EV.exec(i);if(l==null||t==null)c=void 0;else{var f=+l[1];c=t[1]+f}}else c=t?.[1];var m=[o,c];if(_g(m))return t==null?m:$W(m,t,r)}}}var yx=1e9,ZKe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},K5,Ds=!0,wo="[DecimalError] ",hm=wo+"Invalid argument: ",Y5=wo+"Exponent out of range: ",bx=Math.floor,zf=Math.pow,XKe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wi,Wn=1e7,ps=7,Tne=9007199254740991,s_=bx(Tne/ps),ut={};ut.absoluteValue=ut.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ut.comparedTo=ut.cmp=function(e){var t,r,s,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(s=i.d.length,a=e.d.length,t=0,r=s<a?s:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};ut.decimalPlaces=ut.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ps;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ut.dividedBy=ut.div=function(e){return Lc(this,new this.constructor(e))};ut.dividedToIntegerBy=ut.idiv=function(e){var t=this,r=t.constructor;return ns(Lc(t,new r(e),0,1),r.precision)};ut.equals=ut.eq=function(e){return!this.cmp(e)};ut.exponent=function(){return yn(this)};ut.greaterThan=ut.gt=function(e){return this.cmp(e)>0};ut.greaterThanOrEqualTo=ut.gte=function(e){return this.cmp(e)>=0};ut.isInteger=ut.isint=function(){return this.e>this.d.length-2};ut.isNegative=ut.isneg=function(){return this.s<0};ut.isPositive=ut.ispos=function(){return this.s>0};ut.isZero=function(){return this.s===0};ut.lessThan=ut.lt=function(e){return this.cmp(e)<0};ut.lessThanOrEqualTo=ut.lte=function(e){return this.cmp(e)<1};ut.logarithm=ut.log=function(e){var t,r=this,s=r.constructor,a=s.precision,i=a+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(wi))throw Error(wo+"NaN");if(r.s<1)throw Error(wo+(r.s?"NaN":"-Infinity"));return r.eq(wi)?new s(0):(Ds=!1,t=Lc($y(r,i),$y(e,i),i),Ds=!0,ns(t,a))};ut.minus=ut.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Rne(t,e):Dne(t,(e.s=-e.s,e))};ut.modulo=ut.mod=function(e){var t,r=this,s=r.constructor,a=s.precision;if(e=new s(e),!e.s)throw Error(wo+"NaN");return r.s?(Ds=!1,t=Lc(r,e,0,1).times(e),Ds=!0,r.minus(t)):ns(new s(r),a)};ut.naturalExponential=ut.exp=function(){return Pne(this)};ut.naturalLogarithm=ut.ln=function(){return $y(this)};ut.negated=ut.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ut.plus=ut.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Dne(t,e):Rne(t,(e.s=-e.s,e))};ut.precision=ut.sd=function(e){var t,r,s,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(hm+e);if(t=yn(a)+1,s=a.d.length-1,r=s*ps+1,s=a.d[s],s){for(;s%10==0;s/=10)r--;for(s=a.d[0];s>=10;s/=10)r++}return e&&t>r?t:r};ut.squareRoot=ut.sqrt=function(){var e,t,r,s,a,i,o,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(wo+"NaN")}for(e=yn(c),Ds=!1,a=Math.sqrt(+c),a==0||a==1/0?(t=Tl(c.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=bx((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new d(t)):s=new d(a.toString()),r=d.precision,a=o=r+3;;)if(i=s,s=i.plus(Lc(c,i,o+2)).times(.5),Tl(i.d).slice(0,o)===(t=Tl(s.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(ns(i,r+1,0),i.times(i).eq(c)){s=i;break}}else if(t!="9999")break;o+=4}return Ds=!0,ns(s,r)};ut.times=ut.mul=function(e){var t,r,s,a,i,o,c,d,u,l=this,f=l.constructor,m=l.d,p=(e=new f(e)).d;if(!l.s||!e.s)return new f(0);for(e.s*=l.s,r=l.e+e.e,d=m.length,u=p.length,d<u&&(i=m,m=p,p=i,o=d,d=u,u=o),i=[],o=d+u,s=o;s--;)i.push(0);for(s=u;--s>=0;){for(t=0,a=d+s;a>s;)c=i[a]+p[s]*m[a-s-1]+t,i[a--]=c%Wn|0,t=c/Wn|0;i[a]=(i[a]+t)%Wn|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ds?ns(e,f.precision):e};ut.toDecimalPlaces=ut.todp=function(e,t){var r=this,s=r.constructor;return r=new s(r),e===void 0?r:(Ul(e,0,yx),t===void 0?t=s.rounding:Ul(t,0,8),ns(r,e+yn(r)+1,t))};ut.toExponential=function(e,t){var r,s=this,a=s.constructor;return e===void 0?r=Om(s,!0):(Ul(e,0,yx),t===void 0?t=a.rounding:Ul(t,0,8),s=ns(new a(s),e+1,t),r=Om(s,!0,e+1)),r};ut.toFixed=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?Om(a):(Ul(e,0,yx),t===void 0?t=i.rounding:Ul(t,0,8),s=ns(new i(a),e+yn(a)+1,t),r=Om(s.abs(),!1,e+yn(s)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ut.toInteger=ut.toint=function(){var e=this,t=e.constructor;return ns(new t(e),yn(e)+1,t.rounding)};ut.toNumber=function(){return+this};ut.toPower=ut.pow=function(e){var t,r,s,a,i,o,c=this,d=c.constructor,u=12,l=+(e=new d(e));if(!e.s)return new d(wi);if(c=new d(c),!c.s){if(e.s<1)throw Error(wo+"Infinity");return c}if(c.eq(wi))return c;if(s=d.precision,e.eq(wi))return ns(c,s);if(t=e.e,r=e.d.length-1,o=t>=r,i=c.s,o){if((r=l<0?-l:l)<=Tne){for(a=new d(wi),t=Math.ceil(s/ps+4),Ds=!1;r%2&&(a=a.times(c),BW(a.d,t)),r=bx(r/2),r!==0;)c=c.times(c),BW(c.d,t);return Ds=!0,e.s<0?new d(wi).div(a):ns(a,s)}}else if(i<0)throw Error(wo+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,Ds=!1,a=e.times($y(c,s+u)),Ds=!0,a=Pne(a),a.s=i,a};ut.toPrecision=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?(r=yn(a),s=Om(a,r<=i.toExpNeg||r>=i.toExpPos)):(Ul(e,1,yx),t===void 0?t=i.rounding:Ul(t,0,8),a=ns(new i(a),e,t),r=yn(a),s=Om(a,e<=r||r<=i.toExpNeg,e)),s};ut.toSignificantDigits=ut.tosd=function(e,t){var r=this,s=r.constructor;return e===void 0?(e=s.precision,t=s.rounding):(Ul(e,1,yx),t===void 0?t=s.rounding:Ul(t,0,8)),ns(new s(r),e,t)};ut.toString=ut.valueOf=ut.val=ut.toJSON=ut[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=yn(e),r=e.constructor;return Om(e,t<=r.toExpNeg||t>=r.toExpPos)};function Dne(e,t){var r,s,a,i,o,c,d,u,l=e.constructor,f=l.precision;if(!e.s||!t.s)return t.s||(t=new l(e)),Ds?ns(t,f):t;if(d=e.d,u=t.d,o=e.e,a=t.e,d=d.slice(),i=o-a,i){for(i<0?(s=d,i=-i,c=u.length):(s=u,a=o,c=d.length),o=Math.ceil(f/ps),c=o>c?o+1:c+1,i>c&&(i=c,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(c=d.length,i=u.length,c-i<0&&(i=c,s=u,u=d,d=s),r=0;i;)r=(d[--i]=d[i]+u[i]+r)/Wn|0,d[i]%=Wn;for(r&&(d.unshift(r),++a),c=d.length;d[--c]==0;)d.pop();return t.d=d,t.e=a,Ds?ns(t,f):t}function Ul(e,t,r){if(e!==~~e||e<t||e>r)throw Error(hm+e)}function Tl(e){var t,r,s,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)s=e[t]+"",r=ps-s.length,r&&(i+=su(r)),i+=s;o=e[t],s=o+"",r=ps-s.length,r&&(i+=su(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Lc=(function(){function e(s,a){var i,o=0,c=s.length;for(s=s.slice();c--;)i=s[c]*a+o,s[c]=i%Wn|0,o=i/Wn|0;return o&&s.unshift(o),s}function t(s,a,i,o){var c,d;if(i!=o)d=i>o?1:-1;else for(c=d=0;c<i;c++)if(s[c]!=a[c]){d=s[c]>a[c]?1:-1;break}return d}function r(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*Wn+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var c,d,u,l,f,m,p,x,b,h,y,w,S,N,_,k,E,T,D=s.constructor,P=s.s==a.s?1:-1,M=s.d,R=a.d;if(!s.s)return new D(s);if(!a.s)throw Error(wo+"Division by zero");for(d=s.e-a.e,E=R.length,_=M.length,p=new D(P),x=p.d=[],u=0;R[u]==(M[u]||0);)++u;if(R[u]>(M[u]||0)&&--d,i==null?w=i=D.precision:o?w=i+(yn(s)-yn(a))+1:w=i,w<0)return new D(0);if(w=w/ps+2|0,u=0,E==1)for(l=0,R=R[0],w++;(u<_||l)&&w--;u++)S=l*Wn+(M[u]||0),x[u]=S/R|0,l=S%R|0;else{for(l=Wn/(R[0]+1)|0,l>1&&(R=e(R,l),M=e(M,l),E=R.length,_=M.length),N=E,b=M.slice(0,E),h=b.length;h<E;)b[h++]=0;T=R.slice(),T.unshift(0),k=R[0],R[1]>=Wn/2&&++k;do l=0,c=t(R,b,E,h),c<0?(y=b[0],E!=h&&(y=y*Wn+(b[1]||0)),l=y/k|0,l>1?(l>=Wn&&(l=Wn-1),f=e(R,l),m=f.length,h=b.length,c=t(f,b,m,h),c==1&&(l--,r(f,E<m?T:R,m))):(l==0&&(c=l=1),f=R.slice()),m=f.length,m<h&&f.unshift(0),r(b,f,h),c==-1&&(h=b.length,c=t(R,b,E,h),c<1&&(l++,r(b,E<h?T:R,h))),h=b.length):c===0&&(l++,b=[0]),x[u++]=l,c&&b[0]?b[h++]=M[N]||0:(b=[M[N]],h=1);while((N++<_||b[0]!==void 0)&&w--)}return x[0]||x.shift(),p.e=d,ns(p,o?i+yn(p)+1:i)}})();function Pne(e,t){var r,s,a,i,o,c,d=0,u=0,l=e.constructor,f=l.precision;if(yn(e)>16)throw Error(Y5+yn(e));if(!e.s)return new l(wi);for(Ds=!1,c=f,o=new l(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(s=Math.log(zf(2,u))/Math.LN10*2+5|0,c+=s,r=a=i=new l(wi),l.precision=c;;){if(a=ns(a.times(e),c),r=r.times(++d),o=i.plus(Lc(a,r,c)),Tl(o.d).slice(0,c)===Tl(i.d).slice(0,c)){for(;u--;)i=ns(i.times(i),c);return l.precision=f,t==null?(Ds=!0,ns(i,f)):i}i=o}}function yn(e){for(var t=e.e*ps,r=e.d[0];r>=10;r/=10)t++;return t}function pR(e,t,r){if(t>e.LN10.sd())throw Ds=!0,r&&(e.precision=r),Error(wo+"LN10 precision limit exceeded");return ns(new e(e.LN10),t)}function su(e){for(var t="";e--;)t+="0";return t}function $y(e,t){var r,s,a,i,o,c,d,u,l,f=1,m=10,p=e,x=p.d,b=p.constructor,h=b.precision;if(p.s<1)throw Error(wo+(p.s?"NaN":"-Infinity"));if(p.eq(wi))return new b(0);if(t==null?(Ds=!1,u=h):u=t,p.eq(10))return t==null&&(Ds=!0),pR(b,u);if(u+=m,b.precision=u,r=Tl(x),s=r.charAt(0),i=yn(p),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&r.charAt(1)>3;)p=p.times(e),r=Tl(p.d),s=r.charAt(0),f++;i=yn(p),s>1?(p=new b("0."+r),i++):p=new b(s+"."+r.slice(1))}else return d=pR(b,u+2,h).times(i+""),p=$y(new b(s+"."+r.slice(1)),u-m).plus(d),b.precision=h,t==null?(Ds=!0,ns(p,h)):p;for(c=o=p=Lc(p.minus(wi),p.plus(wi),u),l=ns(p.times(p),u),a=3;;){if(o=ns(o.times(l),u),d=c.plus(Lc(o,new b(a),u)),Tl(d.d).slice(0,u)===Tl(c.d).slice(0,u))return c=c.times(2),i!==0&&(c=c.plus(pR(b,u+2,h).times(i+""))),c=Lc(c,new b(f),u),b.precision=h,t==null?(Ds=!0,ns(c,h)):c;c=d,a+=2}}function LW(e,t){var r,s,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;t.charCodeAt(s)===48;)++s;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(s,a),t){if(a-=s,r=r-s-1,e.e=bx(r/ps),e.d=[],s=(r+1)%ps,r<0&&(s+=ps),s<a){for(s&&e.d.push(+t.slice(0,s)),a-=ps;s<a;)e.d.push(+t.slice(s,s+=ps));t=t.slice(s),s=ps-t.length}else s-=a;for(;s--;)t+="0";if(e.d.push(+t),Ds&&(e.e>s_||e.e<-s_))throw Error(Y5+r)}else e.s=0,e.e=0,e.d=[0];return e}function ns(e,t,r){var s,a,i,o,c,d,u,l,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(s=t-o,s<0)s+=ps,a=t,u=f[l=0];else{if(l=Math.ceil((s+1)/ps),i=f.length,l>=i)return e;for(u=i=f[l],o=1;i>=10;i/=10)o++;s%=ps,a=s-ps+o}if(r!==void 0&&(i=zf(10,o-a-1),c=u/i%10|0,d=t<0||f[l+1]!==void 0||u%i,d=r<4?(c||d)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(s>0?a>0?u/zf(10,o-a):0:f[l-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return d?(i=yn(e),f.length=1,t=t-i-1,f[0]=zf(10,(ps-t%ps)%ps),e.e=bx(-t/ps)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(s==0?(f.length=l,i=1,l--):(f.length=l+1,i=zf(10,ps-s),f[l]=a>0?(u/zf(10,o-a)%zf(10,a)|0)*i:0),d)for(;;)if(l==0){(f[0]+=i)==Wn&&(f[0]=1,++e.e);break}else{if(f[l]+=i,f[l]!=Wn)break;f[l--]=0,i=1}for(s=f.length;f[--s]===0;)f.pop();if(Ds&&(e.e>s_||e.e<-s_))throw Error(Y5+yn(e));return e}function Rne(e,t){var r,s,a,i,o,c,d,u,l,f,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Ds?ns(t,p):t;if(d=e.d,f=t.d,s=t.e,u=e.e,d=d.slice(),o=u-s,o){for(l=o<0,l?(r=d,o=-o,c=f.length):(r=f,s=u,c=d.length),a=Math.max(Math.ceil(p/ps),c)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=d.length,c=f.length,l=a<c,l&&(c=a),a=0;a<c;a++)if(d[a]!=f[a]){l=d[a]<f[a];break}o=0}for(l&&(r=d,d=f,f=r,t.s=-t.s),c=d.length,a=f.length-c;a>0;--a)d[c++]=0;for(a=f.length;a>o;){if(d[--a]<f[a]){for(i=a;i&&d[--i]===0;)d[i]=Wn-1;--d[i],d[a]+=Wn}d[a]-=f[a]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--s;return d[0]?(t.d=d,t.e=s,Ds?ns(t,p):t):new m(0)}function Om(e,t,r){var s,a=yn(e),i=Tl(e.d),o=i.length;return t?(r&&(s=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+su(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+su(-a-1)+i,r&&(s=r-o)>0&&(i+=su(s))):a>=o?(i+=su(a+1-o),r&&(s=r-a-1)>0&&(i=i+"."+su(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),r&&(s=r-o)>0&&(a+1===o&&(i+="."),i+=su(s))),e.s<0?"-"+i:i}function BW(e,t){if(e.length>t)return e.length=t,!0}function Mne(e){var t,r,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(hm+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return LW(o,i.toString())}else if(typeof i!="string")throw Error(hm+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,XKe.test(i))LW(o,i);else throw Error(hm+i)}if(a.prototype=ut,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Mne,a.config=a.set=JKe,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(r=s[t++])||(e[r]=this[r]);return a.config(e),a}function JKe(e){if(!e||typeof e!="object")throw Error(wo+"Object expected");var t,r,s,a=["precision",1,yx,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((s=e[r=a[t]])!==void 0)if(bx(s)===s&&s>=a[t+1]&&s<=a[t+2])this[r]=s;else throw Error(hm+r+": "+s);if((s=e[r="LN10"])!==void 0)if(s==Math.LN10)this[r]=new this(s);else throw Error(hm+r+": "+s);return this}var K5=Mne(ZKe);wi=new K5(1);const zr=K5;var QKe=e=>e,One={},Ine=e=>e===One,zW=e=>function t(){return arguments.length===0||arguments.length===1&&Ine(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Fne=(e,t)=>e===1?t:zW(function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];var i=s.filter(o=>o!==One).length;return i>=e?t(...s):Fne(e-i,zW(function(){for(var o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];var u=s.map(l=>Ine(l)?c.shift():l);return t(...u,...c)}))}),o2=e=>Fne(e.length,e),ZM=(e,t)=>{for(var r=[],s=e;s<t;++s)r[s-e]=s;return r},eZe=o2((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),tZe=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];if(!r.length)return QKe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((c,d)=>d(c),i(...arguments))}},XM=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),$ne=e=>{var t=null,r=null;return function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return t&&a.every((o,c)=>{var d;return o===((d=t)===null||d===void 0?void 0:d[c])})||(t=a,r=e(...a)),r}};function Lne(e){var t;return e===0?t=1:t=Math.floor(new zr(e).abs().log(10).toNumber())+1,t}function Bne(e,t,r){for(var s=new zr(e),a=0,i=[];s.lt(t)&&a<1e5;)i.push(s.toNumber()),s=s.add(r),a++;return i}o2((e,t,r)=>{var s=+e,a=+t;return s+r*(a-s)});o2((e,t,r)=>{var s=t-+e;return s=s||1/0,(r-e)/s});o2((e,t,r)=>{var s=t-+e;return s=s||1/0,Math.max(0,Math.min(1,(r-e)/s))});var zne=e=>{var[t,r]=e,[s,a]=[t,r];return t>r&&([s,a]=[r,t]),[s,a]},Une=(e,t,r)=>{if(e.lte(0))return new zr(0);var s=Lne(e.toNumber()),a=new zr(10).pow(s),i=e.div(a),o=s!==1?.05:.1,c=new zr(Math.ceil(i.div(o).toNumber())).add(r).mul(o),d=c.mul(a);return t?new zr(d.toNumber()):new zr(Math.ceil(d.toNumber()))},rZe=(e,t,r)=>{var s=new zr(1),a=new zr(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(s=new zr(10).pow(Lne(e)-1),a=new zr(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new zr(Math.floor(e)))}else e===0?a=new zr(Math.floor((t-1)/2)):r||(a=new zr(Math.floor(e)));var o=Math.floor((t-1)/2),c=tZe(eZe(d=>a.add(new zr(d-o).mul(s)).toNumber()),ZM);return c(0,t)},Hne=function(t,r,s,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(s-1)))return{step:new zr(0),tickMin:new zr(0),tickMax:new zr(0)};var o=Une(new zr(r).sub(t).div(s-1),a,i),c;t<=0&&r>=0?c=new zr(0):(c=new zr(t).add(r).div(2),c=c.sub(new zr(c).mod(o)));var d=Math.ceil(c.sub(t).div(o).toNumber()),u=Math.ceil(new zr(r).sub(c).div(o).toNumber()),l=d+u+1;return l>s?Hne(t,r,s,a,i+1):(l<s&&(u=r>0?u+(s-l):u,d=r>0?d:d+(s-l)),{step:o,tickMin:c.sub(new zr(d).mul(o)),tickMax:c.add(new zr(u).mul(o))})};function sZe(e){var[t,r]=e,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(s,2),[o,c]=zne([t,r]);if(o===-1/0||c===1/0){var d=c===1/0?[o,...ZM(0,s-1).map(()=>1/0)]:[...ZM(0,s-1).map(()=>-1/0),c];return t>r?XM(d):d}if(o===c)return rZe(o,s,a);var{step:u,tickMin:l,tickMax:f}=Hne(o,c,i,a,0),m=Bne(l,f.add(new zr(.1).mul(u)),u);return t>r?XM(m):m}function nZe(e,t){var[r,s]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=zne([r,s]);if(i===-1/0||o===1/0)return[r,s];if(i===o)return[i];var c=Math.max(t,2),d=Une(new zr(o).sub(i).div(c-1),a,0),u=[...Bne(new zr(i),new zr(o),d),o];return a===!1&&(u=u.map(l=>Math.round(l))),r>s?XM(u):u}var aZe=$ne(sZe),iZe=$ne(nZe),Vne=e=>e.rootProps.maxBarSize,oZe=e=>e.rootProps.barGap,Wne=e=>e.rootProps.barCategoryGap,lZe=e=>e.rootProps.barSize,Wb=e=>e.rootProps.stackOffset,Z5=e=>e.options.chartName,X5=e=>e.rootProps.syncId,qne=e=>e.rootProps.syncMethod,J5=e=>e.options.eventEmitter,Cc={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},xi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},l2=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},cZe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Cc.angleAxisId,includeHidden:!1,name:void 0,reversed:Cc.reversed,scale:Cc.scale,tick:Cc.tick,tickCount:void 0,ticks:void 0,type:Cc.type,unit:void 0},dZe={allowDataOverflow:xi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xi.scale,tick:xi.tick,tickCount:xi.tickCount,ticks:void 0,type:xi.type,unit:void 0},uZe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Cc.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Cc.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Cc.scale,tick:Cc.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},fZe={allowDataOverflow:xi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xi.scale,tick:xi.tick,tickCount:xi.tickCount,ticks:void 0,type:"category",unit:void 0},Q5=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?uZe:cZe,e6=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?fZe:dZe,c2=e=>e.polarOptions,t6=we([ld,cd,Rn],Ese),Gne=we([c2,t6],(e,t)=>{if(e!=null)return Aa(e.innerRadius,t,0)}),Yne=we([c2,t6],(e,t)=>{if(e!=null)return Aa(e.outerRadius,t,t*.8)}),mZe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},Kne=we([c2],mZe);we([Q5,Kne],l2);var Zne=we([t6,Gne,Yne],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});we([e6,Zne],l2);var Xne=we([yr,c2,Gne,Yne,ld,cd],(e,t,r,s,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||s==null)){var{cx:o,cy:c,startAngle:d,endAngle:u}=t;return{cx:Aa(o,a,a/2),cy:Aa(c,i,i/2),innerRadius:r,outerRadius:s,startAngle:d,endAngle:u,clockWise:!1}}}),Is=(e,t)=>t,qb=(e,t,r)=>r;function r6(e){return e?.id}var On=e=>{var t=yr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},wx=e=>e.tooltip.settings.axisId,In=e=>{var t=On(e),r=wx(e);return Gb(e,t,r)};function Jne(e,t,r){var{chartData:s=[]}=t,a=r?.dataKey,i=new Map;return e.forEach(o=>{var c,d=(c=o.data)!==null&&c!==void 0?c:s;if(!(d==null||d.length===0)){var u=r6(o);d.forEach((l,f)=>{var m=a==null?f:String(Ts(l,a,null)),p=Ts(l,o.dataKey,0),x;i.has(m)?x=i.get(m):x={},Object.assign(x,{[u]:p}),i.set(m,x)})}}),Array.from(i.values())}function d2(e){return e.stackId!=null&&e.dataKey!=null}function UW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function n_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UW(Object(r),!0).forEach(function(s){hZe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UW(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function hZe(e,t,r){return(t=pZe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pZe(e){var t=gZe(e,"string");return typeof t=="symbol"?t:t+""}function gZe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JM=[0,"auto"],hi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ud=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??hi},pi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:JM,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ZE},Yu=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??pi},xZe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},s6=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??xZe},dn=(e,t,r)=>{switch(t){case"xAxis":return ud(e,r);case"yAxis":return Yu(e,r);case"zAxis":return s6(e,r);case"angleAxis":return Q5(e,r);case"radiusAxis":return e6(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},vZe=(e,t,r)=>{switch(t){case"xAxis":return ud(e,r);case"yAxis":return Yu(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Gb=(e,t,r)=>{switch(t){case"xAxis":return ud(e,r);case"yAxis":return Yu(e,r);case"angleAxis":return Q5(e,r);case"radiusAxis":return e6(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Qne=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function n6(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var a6=e=>e.graphicalItems.cartesianItems,yZe=we([Is,qb],n6),i6=(e,t,r)=>e.filter(r).filter(s=>t?.includeHidden===!0?!0:!s.hide),Yb=we([a6,dn,yZe],i6),eae=we([Yb],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(d2)),tae=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),rae=we([Yb],tae),o6=e=>e.map(t=>t.data).filter(Boolean).flat(1),bZe=we([Yb],o6),l6=(e,t)=>{var{chartData:r=[],dataStartIndex:s,dataEndIndex:a}=t;return e.length>0?e:r.slice(s,a+1)},c6=we([bZe,G5],l6),d6=(e,t,r)=>t?.dataKey!=null?e.map(s=>({value:Ts(s,t.dataKey)})):r.length>0?r.map(s=>s.dataKey).flatMap(s=>e.map(a=>({value:Ts(a,s)}))):e.map(s=>({value:s})),u2=we([c6,dn,Yb],d6);function sae(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function nh(e){return e.filter(t=>zl(t)||t instanceof Date).map(Number).filter(t=>Pi(t)===!1)}function wZe(e,t,r){return!r||typeof t!="number"||Pi(t)?[]:r.length?nh(r.flatMap(s=>{var a=Ts(e,s.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!Mi(i)||!Mi(o)))return[t-i,t+o]})):[]}var jZe=we([eae,G5,In],Jne),nae=(e,t,r)=>{var s={},a=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),s);return Object.fromEntries(Object.entries(a).map(i=>{var[o,c]=i,d=c.map(r6);return[o,{stackedData:AWe(e,d,r),graphicalItems:c}]}))},QM=we([jZe,eae,Wb],nae),aae=(e,t,r)=>{var{dataStartIndex:s,dataEndIndex:a}=t;if(r!=="zAxis"){var i=MWe(e,s,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},SZe=we([QM,Gu,Is],aae),iae=(e,t,r,s,a)=>r.length>0?e.flatMap(i=>r.flatMap(o=>{var c,d,u=(c=s[o.id])===null||c===void 0?void 0:c.filter(f=>sae(a,f)),l=Ts(i,(d=t.dataKey)!==null&&d!==void 0?d:o.dataKey);return{value:l,errorDomain:wZe(i,l,u)}})).filter(Boolean):t?.dataKey!=null?e.map(i=>({value:Ts(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),f2=e=>e.errorBars,oae=(e,t,r)=>e.flatMap(s=>t[s.id]).filter(Boolean).filter(s=>sae(r,s));we([rae,f2,Is],oae);var NZe=we([c6,dn,rae,f2,Is],iae);function CZe(e){var{value:t}=e;if(zl(t)||t instanceof Date)return t}var HW=e=>{var t=e.flatMap(s=>[s.value,s.errorDomain]).flat(1),r=nh(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},_Ze=(e,t,r)=>{var s=e.map(CZe).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&Bre(s))?Xse(0,e.length):t.allowDuplicatedCategory?s:Array.from(new Set(s))},u6=e=>{var t;if(e==null||!("domain"in e))return JM;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=nh(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:JM},a_=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),c=Math.max(...i);return[o,c]}},lae=e=>e.referenceElements.dots,jx=(e,t,r)=>e.filter(s=>s.ifOverflow==="extendDomain").filter(s=>t==="xAxis"?s.xAxisId===r:s.yAxisId===r),EZe=we([lae,Is,qb],jx),cae=e=>e.referenceElements.areas,kZe=we([cae,Is,qb],jx),dae=e=>e.referenceElements.lines,AZe=we([dae,Is,qb],jx),uae=(e,t)=>{var r=nh(e.map(s=>t==="xAxis"?s.x:s.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},TZe=we(EZe,Is,uae),fae=(e,t)=>{var r=nh(e.flatMap(s=>[t==="xAxis"?s.x1:s.y1,t==="xAxis"?s.x2:s.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},DZe=we([kZe,Is],fae),mae=(e,t)=>{var r=nh(e.map(s=>t==="xAxis"?s.x:s.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},PZe=we(AZe,Is,mae),RZe=we(TZe,PZe,DZe,(e,t,r)=>a_(e,r,t)),hae=we([dn],u6),f6=(e,t,r,s,a,i,o)=>{var c=YKe(t,e.allowDataOverflow);if(c!=null)return c;var d=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",u=d?a_(r,a,HW(s)):a_(a,HW(s));return KKe(t,u,e.allowDataOverflow)},MZe=we([dn,hae,SZe,NZe,RZe,yr,Is],f6),OZe=[0,1],m6=(e,t,r,s,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:c,type:d}=e,u=th(t,i);return u&&c==null?Xse(0,r.length):d==="category"?_Ze(s,e,u):a==="expand"?OZe:o}},h6=we([dn,yr,c6,u2,Wb,Is,MZe],m6),pae=(e,t,r,s,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&s&&(s.indexOf("LineChart")>=0||s.indexOf("AreaChart")>=0||s.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var c="scale".concat($b(i));return c in A0?c:"point"}}},Sx=we([dn,yr,Qne,Z5,Is],pae);function IZe(e){if(e!=null){if(e in A0)return A0[e]();var t="scale".concat($b(e));if(t in A0)return A0[t]()}}function p6(e,t,r,s){if(!(r==null||s==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(s);var a=IZe(t);if(a!=null){var i=a.domain(r).range(s);return NWe(i),i}}}var g6=(e,t,r)=>{var s=u6(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(s)&&(s[0]==="auto"||s[1]==="auto")&&_g(e))return aZe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&_g(e))return iZe(e,t.tickCount,t.allowDecimals)}},x6=we([h6,Gb,Sx],g6),v6=(e,t,r,s)=>{if(s!=="angleAxis"&&e?.type==="number"&&_g(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],c=r[r.length-1];return[Math.min(a,i),Math.max(o,c)]}return t},FZe=we([dn,h6,x6,Is],v6),$Ze=we(u2,dn,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,s=Array.from(nh(e.map(c=>c.value))).sort((c,d)=>c-d);if(s.length<2)return 1/0;var a=s[s.length-1]-s[0];if(a===0)return 1/0;for(var i=0;i<s.length-1;i++){var o=s[i+1]-s[i];r=Math.min(r,o)}return r/a}}),gae=we($Ze,yr,Wne,Rn,(e,t,r,s)=>s,(e,t,r,s,a)=>{if(!Mi(e))return 0;var i=t==="vertical"?s.height:s.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=Aa(r,e*i),c=e*i/2;return c-o-(c-o)/i*o}return 0}),LZe=(e,t)=>{var r=ud(e,t);return r==null||typeof r.padding!="string"?0:gae(e,"xAxis",t,r.padding)},BZe=(e,t)=>{var r=Yu(e,t);return r==null||typeof r.padding!="string"?0:gae(e,"yAxis",t,r.padding)},zZe=we(ud,LZe,(e,t)=>{var r,s;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((s=a.right)!==null&&s!==void 0?s:0)+t}}),UZe=we(Yu,BZe,(e,t)=>{var r,s;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((s=a.bottom)!==null&&s!==void 0?s:0)+t}}),HZe=we([Rn,zZe,JE,XE,(e,t,r)=>r],(e,t,r,s,a)=>{var{padding:i}=s;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),VZe=we([Rn,yr,UZe,JE,XE,(e,t,r)=>r],(e,t,r,s,a,i)=>{var{padding:o}=a;return i?[s.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Kb=(e,t,r,s)=>{var a;switch(t){case"xAxis":return HZe(e,r,s);case"yAxis":return VZe(e,r,s);case"zAxis":return(a=s6(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return Kne(e);case"radiusAxis":return Zne(e,r);default:return}},xae=we([dn,Kb],l2),Nx=we([dn,Sx,FZe,xae],p6);we([Yb,f2,Is],oae);function vae(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var m2=(e,t)=>t,h2=(e,t,r)=>r,WZe=we(f5,m2,h2,(e,t,r)=>e.filter(s=>s.orientation===t).filter(s=>s.mirror===r).sort(vae)),qZe=we(m5,m2,h2,(e,t,r)=>e.filter(s=>s.orientation===t).filter(s=>s.mirror===r).sort(vae)),yae=(e,t)=>({width:e.width,height:t.height}),GZe=(e,t)=>{var r=typeof t.width=="number"?t.width:ZE;return{width:r,height:e.height}},bae=we(Rn,ud,yae),YZe=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},KZe=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},ZZe=we(cd,Rn,WZe,m2,h2,(e,t,r,s,a)=>{var i={},o;return r.forEach(c=>{var d=yae(t,c);o==null&&(o=YZe(t,s,e));var u=s==="top"&&!a||s==="bottom"&&a;i[c.id]=o-Number(u)*d.height,o+=(u?-1:1)*d.height}),i}),XZe=we(ld,Rn,qZe,m2,h2,(e,t,r,s,a)=>{var i={},o;return r.forEach(c=>{var d=GZe(t,c);o==null&&(o=KZe(t,s,e));var u=s==="left"&&!a||s==="right"&&a;i[c.id]=o-Number(u)*d.width,o+=(u?-1:1)*d.width}),i}),JZe=(e,t)=>{var r=Rn(e),s=ud(e,t);if(s!=null){var a=ZZe(e,s.orientation,s.mirror),i=a[t];return i==null?{x:r.left,y:0}:{x:r.left,y:i}}},QZe=(e,t)=>{var r=Rn(e),s=Yu(e,t);if(s!=null){var a=XZe(e,s.orientation,s.mirror),i=a[t];return i==null?{x:0,y:r.top}:{x:i,y:r.top}}},wae=we(Rn,Yu,(e,t)=>{var r=typeof t.width=="number"?t.width:ZE;return{width:r,height:e.height}}),VW=(e,t,r)=>{switch(t){case"xAxis":return bae(e,r).width;case"yAxis":return wae(e,r).height;default:return}},jae=(e,t,r,s)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,c=th(e,s),d=t.map(u=>u.value);if(o&&c&&i==="category"&&a&&Bre(d))return d}},y6=we([yr,u2,dn,Is],jae),Sae=(e,t,r,s)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=th(e,s);if(o&&(a==="number"||i!=="auto"))return t.map(c=>c.value)}},b6=we([yr,u2,Gb,Is],Sae),WW=we([yr,vZe,Sx,Nx,y6,b6,Kb,x6,Is],(e,t,r,s,a,i,o,c,d)=>{if(t==null)return null;var u=th(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:c,range:o,realScaleType:r,scale:s}}),eXe=(e,t,r,s,a,i,o,c,d)=>{if(!(t==null||s==null)){var u=th(e,d),{type:l,ticks:f,tickCount:m}=t,p=r==="scaleBand"&&typeof s.bandwidth=="function"?s.bandwidth()/2:2,x=l==="category"&&s.bandwidth?s.bandwidth()/p:0;x=d==="angleAxis"&&i!=null&&i.length>=2?Gn(i[0]-i[1])*2*x:x;var b=f||a;if(b){var h=b.map((y,w)=>{var S=o?o.indexOf(y):y;return{index:w,coordinate:s(S)+x,value:y,offset:x}});return h.filter(y=>!Pi(y.coordinate))}return u&&c?c.map((y,w)=>({coordinate:s(y)+x,value:y,index:w,offset:x})):s.ticks?s.ticks(m).map(y=>({coordinate:s(y)+x,value:y,offset:x})):s.domain().map((y,w)=>({coordinate:s(y)+x,value:o?o[y]:y,index:w,offset:x}))}},Nae=we([yr,Gb,Sx,Nx,x6,Kb,y6,b6,Is],eXe),tXe=(e,t,r,s,a,i,o)=>{if(!(t==null||r==null||s==null||s[0]===s[1])){var c=th(e,o),{tickCount:d}=t,u=0;return u=o==="angleAxis"&&s?.length>=2?Gn(s[0]-s[1])*2*u:u,c&&i?i.map((l,f)=>({coordinate:r(l)+u,value:l,index:f,offset:u})):r.ticks?r.ticks(d).map(l=>({coordinate:r(l)+u,value:l,offset:u})):r.domain().map((l,f)=>({coordinate:r(l)+u,value:a?a[l]:l,index:f,offset:u}))}},Eg=we([yr,Gb,Nx,Kb,y6,b6,Is],tXe),kg=we(dn,Nx,(e,t)=>{if(!(e==null||t==null))return n_(n_({},e),{},{scale:t})}),rXe=we([dn,Sx,h6,xae],p6);we((e,t,r)=>s6(e,r),rXe,(e,t)=>{if(!(e==null||t==null))return n_(n_({},e),{},{scale:t})});var sXe=we([yr,f5,m5],(e,t,r)=>{switch(e){case"horizontal":return t.some(s=>s.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(s=>s.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Cae=e=>e.options.defaultTooltipEventType,_ae=e=>e.options.validateTooltipEventTypes;function Eae(e,t,r){if(e==null)return t;var s=e?"axis":"item";return r==null?t:r.includes(s)?s:t}function w6(e,t){var r=Cae(e),s=_ae(e);return Eae(t,r,s)}function nXe(e){return Ct(t=>w6(t,e))}var kae=(e,t)=>{var r,s=Number(t);if(!(Pi(s)||t==null))return s>=0?e==null||(r=e[s])===null||r===void 0?void 0:r.value:void 0},aXe=e=>e.tooltip.settings,iu={active:!1,index:null,dataKey:void 0,coordinate:void 0},iXe={itemInteraction:{click:iu,hover:iu},axisInteraction:{click:iu,hover:iu},keyboardInteraction:iu,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Aae=Pt({name:"tooltip",initialState:iXe,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Mc(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:oXe,removeTooltipEntrySettings:lXe,setTooltipSettingsState:cXe,setActiveMouseOverItemIndex:Tae,mouseLeaveItem:dXe,mouseLeaveChart:Dae,setActiveClickItemIndex:uXe,setMouseOverAxisIndex:Pae,setMouseClickAxisIndex:fXe,setSyncInteraction:eO,setKeyboardInteraction:tO}=Aae.actions,mXe=Aae.reducer;function qW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function S1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qW(Object(r),!0).forEach(function(s){hXe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qW(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function hXe(e,t,r){return(t=pXe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pXe(e){var t=gXe(e,"string");return typeof t=="symbol"?t:t+""}function gXe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xXe(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function vXe(e){return e.index!=null}var Rae=(e,t,r,s)=>{if(t==null)return iu;var a=xXe(e,t,r);if(a==null)return iu;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(vXe(a)){if(i)return S1(S1({},a),{},{active:!0})}else if(s!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:s};return S1(S1({},iu),{},{coordinate:a.coordinate})},j6=(e,t)=>{var r=e?.index;if(r==null)return null;var s=Number(r);if(!Mi(s))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(s,i)))},Mae=(e,t,r,s,a,i,o,c)=>{if(!(i==null||c==null)){var d=o[0],u=d==null?void 0:c(d.positions,i);if(u!=null)return u;var l=a?.[Number(i)];if(l)switch(r){case"horizontal":return{x:l.coordinate,y:(s.top+t)/2};default:return{x:(s.left+e)/2,y:l.coordinate}}}},Oae=(e,t,r,s)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&s!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===a})},Zb=e=>e.options.tooltipPayloadSearcher,Cx=e=>e.tooltip;function GW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function YW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GW(Object(r),!0).forEach(function(s){yXe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GW(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function yXe(e,t,r){return(t=bXe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bXe(e){var t=wXe(e,"string");return typeof t=="symbol"?t:t+""}function wXe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jXe(e,t){return e??t}var Iae=(e,t,r,s,a,i,o)=>{if(!(t==null||i==null)){var{chartData:c,computedData:d,dataStartIndex:u,dataEndIndex:l}=r,f=[];return e.reduce((m,p)=>{var x,{dataDefinedOnItem:b,settings:h}=p,y=jXe(b,c),w=Array.isArray(y)?kse(y,u,l):y,S=(x=h?.dataKey)!==null&&x!==void 0?x:s?.dataKey,N=h?.nameKey,_;if(s!=null&&s.dataKey&&Array.isArray(w)&&!Array.isArray(w[0])&&o==="axis"?_=m9e(w,s.dataKey,a):_=i(w,t,d,N),Array.isArray(_))_.forEach(E=>{var T=YW(YW({},h),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});m.push(kV({tooltipEntrySettings:T,dataKey:E.dataKey,payload:E.payload,value:Ts(E.payload,E.dataKey),name:E.name}))});else{var k;m.push(kV({tooltipEntrySettings:h,dataKey:S,payload:_,value:Ts(_,S),name:(k=Ts(_,N))!==null&&k!==void 0?k:h?.name}))}return m},f)}},S6=we([In,yr,Qne,Z5,On],pae),SXe=we([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),NXe=we([On,wx],n6),Xb=we([SXe,In,NXe],i6),CXe=we([Xb],e=>e.filter(d2)),_Xe=we([Xb],o6),_x=we([_Xe,Gu],l6),EXe=we([CXe,Gu,In],Jne),N6=we([_x,In,Xb],d6),kXe=we([In],u6),AXe=we([Xb],e=>e.filter(d2)),TXe=we([EXe,AXe,Wb],nae),DXe=we([TXe,Gu,On],aae),PXe=we([Xb],tae),RXe=we([_x,In,PXe,f2,On],iae),MXe=we([lae,On,wx],jx),OXe=we([MXe,On],uae),IXe=we([cae,On,wx],jx),FXe=we([IXe,On],fae),$Xe=we([dae,On,wx],jx),LXe=we([$Xe,On],mae),BXe=we([OXe,LXe,FXe],a_),zXe=we([In,kXe,DXe,RXe,BXe,yr,On],f6),Fae=we([In,yr,_x,N6,Wb,On,zXe],m6),UXe=we([Fae,In,S6],g6),HXe=we([In,Fae,UXe,On],v6),$ae=e=>{var t=On(e),r=wx(e),s=!1;return Kb(e,t,r,s)},Lae=we([In,$ae],l2),Bae=we([In,S6,HXe,Lae],p6),VXe=we([yr,N6,In,On],jae),WXe=we([yr,N6,In,On],Sae),qXe=(e,t,r,s,a,i,o,c)=>{if(t){var{type:d}=t,u=th(e,c);if(s){var l=r==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,f=d==="category"&&s.bandwidth?s.bandwidth()/l:0;return f=c==="angleAxis"&&a!=null&&a?.length>=2?Gn(a[0]-a[1])*2*f:f,u&&o?o.map((m,p)=>({coordinate:s(m)+f,value:m,index:p,offset:f})):s.domain().map((m,p)=>({coordinate:s(m)+f,value:i?i[m]:m,index:p,offset:f}))}}},fd=we([yr,In,S6,Bae,$ae,VXe,WXe,On],qXe),C6=we([Cae,_ae,aXe],(e,t,r)=>Eae(r.shared,e,t)),zae=e=>e.tooltip.settings.trigger,_6=e=>e.tooltip.settings.defaultIndex,p2=we([Cx,C6,zae,_6],Rae),Im=we([p2,_x],j6),Uae=we([fd,Im],kae),Hae=we([p2],e=>{if(e)return e.dataKey}),Vae=we([Cx,C6,zae,_6],Oae),GXe=we([ld,cd,yr,Rn,fd,_6,Vae,Zb],Mae),YXe=we([p2,GXe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),KXe=we([p2],e=>e.active),ZXe=we([Vae,Im,Gu,In,Uae,Zb,C6],Iae);we([ZXe],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function KW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ZW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KW(Object(r),!0).forEach(function(s){XXe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KW(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function XXe(e,t,r){return(t=JXe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JXe(e){var t=QXe(e,"string");return typeof t=="symbol"?t:t+""}function QXe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eJe=()=>Ct(In),tJe=()=>{var e=eJe(),t=Ct(fd),r=Ct(Bae);return u5(ZW(ZW({},e),{},{scale:r}),t)},rJe=()=>Ct(Z5),E6=(e,t)=>t,Wae=(e,t,r)=>r,k6=(e,t,r,s)=>s,sJe=we(fd,e=>YE(e,t=>t.coordinate)),A6=we([Cx,E6,Wae,k6],Rae),qae=we([A6,_x],j6),nJe=(e,t,r)=>{if(t!=null){var s=Cx(e);return t==="axis"?r==="hover"?s.axisInteraction.hover.dataKey:s.axisInteraction.click.dataKey:r==="hover"?s.itemInteraction.hover.dataKey:s.itemInteraction.click.dataKey}},Gae=we([Cx,E6,Wae,k6],Oae),i_=we([ld,cd,yr,Rn,fd,k6,Gae,Zb],Mae),aJe=we([A6,i_],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),Yae=we(fd,qae,kae),iJe=we([Gae,qae,Gu,In,Yae,Zb,E6],Iae),oJe=we([A6],e=>({isActive:e.active,activeIndex:e.index})),lJe=(e,t,r,s,a,i,o,c)=>{if(!(!e||!t||!s||!a||!i)){var d=OWe(e.chartX,e.chartY,t,r,c);if(d){var u=FWe(d,t),l=jWe(u,o,i,s,a),f=IWe(t,i,l,d);return{activeIndex:String(l),activeCoordinate:f}}}};function rO(){return rO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},rO.apply(null,arguments)}function XW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function N1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XW(Object(r),!0).forEach(function(s){cJe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XW(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function cJe(e,t,r){return(t=dJe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dJe(e){var t=uJe(e,"string");return typeof t=="symbol"?t:t+""}function uJe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fJe(e){var{coordinate:t,payload:r,index:s,offset:a,tooltipAxisBandSize:i,layout:o,cursor:c,tooltipEventType:d,chartName:u}=e,l=t,f=r,m=s;if(!c||!l||u!=="ScatterChart"&&d!=="axis")return null;var p,x;if(u==="ScatterChart")p=l,x=Mqe;else if(u==="BarChart")p=Oqe(o,l,a,i),x=Gse;else if(o==="radial"){var{cx:b,cy:h,radius:y,startAngle:w,endAngle:S}=Yse(l);p={cx:b,cy:h,startAngle:w,endAngle:S,innerRadius:y,outerRadius:y},x=Zse}else p={points:yGe(o,l,a)},x=Bse;var N=typeof c=="object"&&"className"in c?c.className:void 0,_=N1(N1(N1(N1({stroke:"#ccc",pointerEvents:"none"},a),p),gn(c,!1)),{},{payload:f,payloadIndex:m,className:St("recharts-tooltip-cursor",N)});return v.isValidElement(c)?v.cloneElement(c,_):v.createElement(x,_)}function mJe(e){var t=tJe(),r=Ose(),s=x5(),a=rJe();return v.createElement(fJe,rO({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:s,tooltipAxisBandSize:t,chartName:a}))}var Kae=v.createContext(null),hJe=()=>v.useContext(Kae),gR={exports:{}},JW;function pJe(){return JW||(JW=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(r=!1));function a(d,u,l){this.fn=d,this.context=u,this.once=l||!1}function i(d,u,l,f,m){if(typeof l!="function")throw new TypeError("The listener must be a function");var p=new a(l,f||d,m),x=r?r+u:u;return d._events[x]?d._events[x].fn?d._events[x]=[d._events[x],p]:d._events[x].push(p):(d._events[x]=p,d._eventsCount++),d}function o(d,u){--d._eventsCount===0?d._events=new s:delete d._events[u]}function c(){this._events=new s,this._eventsCount=0}c.prototype.eventNames=function(){var u=[],l,f;if(this._eventsCount===0)return u;for(f in l=this._events)t.call(l,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},c.prototype.listeners=function(u){var l=r?r+u:u,f=this._events[l];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,p=f.length,x=new Array(p);m<p;m++)x[m]=f[m].fn;return x},c.prototype.listenerCount=function(u){var l=r?r+u:u,f=this._events[l];return f?f.fn?1:f.length:0},c.prototype.emit=function(u,l,f,m,p,x){var b=r?r+u:u;if(!this._events[b])return!1;var h=this._events[b],y=arguments.length,w,S;if(h.fn){switch(h.once&&this.removeListener(u,h.fn,void 0,!0),y){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,l),!0;case 3:return h.fn.call(h.context,l,f),!0;case 4:return h.fn.call(h.context,l,f,m),!0;case 5:return h.fn.call(h.context,l,f,m,p),!0;case 6:return h.fn.call(h.context,l,f,m,p,x),!0}for(S=1,w=new Array(y-1);S<y;S++)w[S-1]=arguments[S];h.fn.apply(h.context,w)}else{var N=h.length,_;for(S=0;S<N;S++)switch(h[S].once&&this.removeListener(u,h[S].fn,void 0,!0),y){case 1:h[S].fn.call(h[S].context);break;case 2:h[S].fn.call(h[S].context,l);break;case 3:h[S].fn.call(h[S].context,l,f);break;case 4:h[S].fn.call(h[S].context,l,f,m);break;default:if(!w)for(_=1,w=new Array(y-1);_<y;_++)w[_-1]=arguments[_];h[S].fn.apply(h[S].context,w)}}return!0},c.prototype.on=function(u,l,f){return i(this,u,l,f,!1)},c.prototype.once=function(u,l,f){return i(this,u,l,f,!0)},c.prototype.removeListener=function(u,l,f,m){var p=r?r+u:u;if(!this._events[p])return this;if(!l)return o(this,p),this;var x=this._events[p];if(x.fn)x.fn===l&&(!m||x.once)&&(!f||x.context===f)&&o(this,p);else{for(var b=0,h=[],y=x.length;b<y;b++)(x[b].fn!==l||m&&!x[b].once||f&&x[b].context!==f)&&h.push(x[b]);h.length?this._events[p]=h.length===1?h[0]:h:o(this,p)}return this},c.prototype.removeAllListeners=function(u){var l;return u?(l=r?r+u:u,this._events[l]&&o(this,l)):(this._events=new s,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c})(gR)),gR.exports}var gJe=pJe();const xJe=Vi(gJe);var Ly=new xJe,sO="recharts.syncEvent.tooltip",QW="recharts.syncEvent.brush";function Zae(e,t){if(t){var r=Number.parseInt(t,10);if(!Pi(r))return e?.[r]}}var vJe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Xae=Pt({name:"options",initialState:vJe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),yJe=Xae.reducer,{createEventEmitter:bJe}=Xae.actions;function wJe(e){return e.tooltip.syncInteraction}var jJe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Jae=Pt({name:"chartData",initialState:jJe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:s}=t.payload;r!=null&&(e.dataStartIndex=r),s!=null&&(e.dataEndIndex=s)}}}),{setChartData:eq,setDataStartEndIndexes:SJe,setComputedData:f3t}=Jae.actions,NJe=Jae.reducer,Qae=()=>{};function CJe(){var e=Ct(X5),t=Ct(J5),r=Ws(),s=Ct(qne),a=Ct(fd),i=x5(),o=h5(),c=Ct(d=>d.rootProps.className);v.useEffect(()=>{if(e==null)return Qae;var d=(u,l,f)=>{if(t!==f&&e===u){if(s==="index"){r(l);return}if(a!=null){var m;if(typeof s=="function"){var p={activeTooltipIndex:l.payload.index==null?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:l.payload.index==null?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},x=s(a,p);m=a[x]}else s==="value"&&(m=a.find(k=>String(k.value)===l.payload.label));var{coordinate:b}=l.payload;if(m==null||l.payload.active===!1||b==null||o==null){r(eO({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:h,y}=b,w=Math.min(h,o.x+o.width),S=Math.min(y,o.y+o.height),N={x:i==="horizontal"?m.coordinate:w,y:i==="horizontal"?S:m.coordinate},_=eO({active:l.payload.active,coordinate:N,dataKey:l.payload.dataKey,index:String(m.index),label:l.payload.label});r(_)}}};return Ly.on(sO,d),()=>{Ly.off(sO,d)}},[c,r,t,e,s,a,i,o])}function _Je(){var e=Ct(X5),t=Ct(J5),r=Ws();v.useEffect(()=>{if(e==null)return Qae;var s=(a,i,o)=>{t!==o&&e===a&&r(SJe(i))};return Ly.on(QW,s),()=>{Ly.off(QW,s)}},[r,t,e])}function EJe(){var e=Ws();v.useEffect(()=>{e(bJe())},[e]),CJe(),_Je()}function kJe(e,t,r,s,a,i){var o=Ct(m=>nJe(m,e,t)),c=Ct(J5),d=Ct(X5),u=Ct(qne),l=Ct(wJe),f=l?.active;v.useEffect(()=>{if(!f&&d!=null&&c!=null){var m=eO({active:i,coordinate:r,dataKey:o,index:a,label:typeof s=="number"?String(s):s});Ly.emit(sO,d,m,c)}},[f,r,o,a,s,c,d,u,i])}function tq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function rq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tq(Object(r),!0).forEach(function(s){AJe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tq(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function AJe(e,t,r){return(t=TJe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TJe(e){var t=DJe(e,"string");return typeof t=="symbol"?t:t+""}function DJe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PJe(e){return e.dataKey}function RJe(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(fqe,t)}var sq=[],MJe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!xx.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function T6(e){var t=ol(e,MJe),{active:r,allowEscapeViewBox:s,animationDuration:a,animationEasing:i,content:o,filterNull:c,isAnimationActive:d,offset:u,payloadUniqBy:l,position:f,reverseDirection:m,useTranslate3d:p,wrapperStyle:x,cursor:b,shared:h,trigger:y,defaultIndex:w,portal:S,axisId:N}=t,_=Ws(),k=typeof w=="number"?String(w):w;v.useEffect(()=>{_(cXe({shared:h,trigger:y,axisId:N,active:r,defaultIndex:k}))},[_,h,y,N,r,k]);var E=h5(),T=Lse(),D=nXe(h),{activeIndex:P,isActive:M}=Ct(re=>oJe(re,D,y,k)),R=Ct(re=>iJe(re,D,y,k)),B=Ct(re=>Yae(re,D,y,k)),L=Ct(re=>aJe(re,D,y,k)),$=R,I=hJe(),z=r??M,[H,Z]=Cse([$,z]),V=D==="axis"?B:void 0;kJe(D,y,L,V,P,z);var G=S??I;if(G==null)return null;var U=$??sq;z||(U=sq),c&&U.length&&(U=yse($.filter(re=>re.value!=null&&(re.hide!==!0||t.includeHidden)),l,PJe));var Y=U.length>0,K=v.createElement(yqe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:i,isAnimationActive:d,active:z,coordinate:L,hasPayload:Y,offset:u,position:f,reverseDirection:m,useTranslate3d:p,viewBox:E,wrapperStyle:x,lastBoundingBox:H,innerRef:Z,hasPortalFromProps:!!S},RJe(o,rq(rq({},t),{},{payload:U,label:V,active:z,coordinate:L,accessibilityLayer:T})));return v.createElement(v.Fragment,null,Fu.createPortal(K,G),z&&v.createElement(mJe,{cursor:b,tooltipEventType:D,coordinate:L,payload:$,index:P}))}var xR={},vR={},yR={},nq;function OJe(){return nq||(nq=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,s,{signal:a,edges:i}={}){let o,c=null;const d=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),l=()=>{c!==null&&(r.apply(o,c),o=void 0,c=null)},f=()=>{u&&l(),b()};let m=null;const p=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,f()},s)},x=()=>{m!==null&&(clearTimeout(m),m=null)},b=()=>{x(),o=void 0,c=null},h=()=>{l()},y=function(...w){if(a?.aborted)return;o=this,c=w;const S=m==null;p(),d&&S&&l()};return y.schedule=p,y.cancel=b,y.flush=h,a?.addEventListener("abort",b,{once:!0}),y}e.debounce=t})(yR)),yR}var aq;function IJe(){return aq||(aq=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OJe();function r(s,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:c=!0,maxWait:d}=i,u=Array(2);o&&(u[0]="leading"),c&&(u[1]="trailing");let l,f=null;const m=t.debounce(function(...b){l=s.apply(this,b),f=null},a,{edges:u}),p=function(...b){return d!=null&&(f===null&&(f=Date.now()),Date.now()-f>=d)?(l=s.apply(this,b),f=Date.now(),m.cancel(),m.schedule(),l):(m.apply(this,b),l)},x=()=>(m.flush(),l);return p.cancel=m.cancel,p.flush=x,p}e.debounce=r})(vR)),vR}var iq;function FJe(){return iq||(iq=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IJe();function r(s,a=0,i={}){const{leading:o=!0,trailing:c=!0}=i;return t.debounce(s,a,{leading:o,maxWait:a,trailing:c})}e.throttle=r})(xR)),xR}var bR,oq;function $Je(){return oq||(oq=1,bR=FJe().throttle),bR}var LJe=$Je();const BJe=Vi(LJe);var uy=function(t,r){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]};function lq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function wR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lq(Object(r),!0).forEach(function(s){zJe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lq(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function zJe(e,t,r){return(t=UJe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UJe(e){var t=HJe(e,"string");return typeof t=="symbol"?t:t+""}function HJe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var D6=v.forwardRef((e,t)=>{var{aspect:r,initialDimension:s={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:o=0,minHeight:c,maxHeight:d,children:u,debounce:l=0,id:f,className:m,onResize:p,style:x={}}=e,b=v.useRef(null),h=v.useRef();h.current=p,v.useImperativeHandle(t,()=>b.current);var[y,w]=v.useState({containerWidth:s.width,containerHeight:s.height}),S=v.useCallback((_,k)=>{w(E=>{var T=Math.round(_),D=Math.round(k);return E.containerWidth===T&&E.containerHeight===D?E:{containerWidth:T,containerHeight:D}})},[]);v.useEffect(()=>{var _=D=>{var P,{width:M,height:R}=D[0].contentRect;S(M,R),(P=h.current)===null||P===void 0||P.call(h,M,R)};l>0&&(_=BJe(_,l,{trailing:!0,leading:!1}));var k=new ResizeObserver(_),{width:E,height:T}=b.current.getBoundingClientRect();return S(E,T),k.observe(b.current),()=>{k.disconnect()}},[S,l]);var N=v.useMemo(()=>{var{containerWidth:_,containerHeight:k}=y;if(_<0||k<0)return null;uy(Zf(a)||Zf(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,i),uy(!r||r>0,"The aspect(%s) must be greater than zero.",r);var E=Zf(a)?_:a,T=Zf(i)?k:i;return r&&r>0&&(E?T=E/r:T&&(E=T*r),d&&T>d&&(T=d)),uy(E>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,E,T,a,i,o,c,r),v.Children.map(u,D=>v.cloneElement(D,{width:E,height:T,style:wR({width:E,height:T},D.props.style)}))},[r,u,i,d,c,o,y,a]);return v.createElement("div",{id:f?"".concat(f):void 0,className:St("recharts-responsive-container",m),style:wR(wR({},x),{},{width:a,height:i,minWidth:o,minHeight:c,maxHeight:d}),ref:b},v.createElement("div",{style:{width:0,height:0,overflow:"visible"}},N))}),Jb=e=>null;Jb.displayName="Cell";function VJe(e,t,r){return(t=WJe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WJe(e){var t=qJe(e,"string");return typeof t=="symbol"?t:t+""}function qJe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class GJe{constructor(t){VJe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var s=this.cache.keys().next().value;this.cache.delete(s)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function cq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function YJe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cq(Object(r),!0).forEach(function(s){KJe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cq(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function KJe(e,t,r){return(t=ZJe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZJe(e){var t=XJe(e,"string");return typeof t=="symbol"?t:t+""}function XJe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JJe={cacheSize:2e3,enableCache:!0},eie=YJe({},JJe),dq=new GJe(eie.cacheSize),QJe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},uq="recharts_measurement_span";function eQe(e,t){var r=t.fontSize||"",s=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(s,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(c)}var fq=(e,t)=>{try{var r=document.getElementById(uq);r||(r=document.createElement("span"),r.setAttribute("id",uq),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,QJe,t),r.textContent="".concat(e);var s=r.getBoundingClientRect();return{width:s.width,height:s.height}}catch{return{width:0,height:0}}},fy=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||xx.isSsr)return{width:0,height:0};if(!eie.enableCache)return fq(t,r);var s=eQe(t,r),a=dq.get(s);if(a)return a;var i=fq(t,r);return dq.set(s,i),i},mq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tQe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,rQe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,tie={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},sQe=Object.keys(tie),Bp="NaN";function nQe(e,t){return e*tie[t]}class Ha{static parse(t){var r,[,s,a]=(r=rQe.exec(t))!==null&&r!==void 0?r:[];return new Ha(parseFloat(s),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Pi(t)&&(this.unit=""),r!==""&&!tQe.test(r)&&(this.num=NaN,this.unit=""),sQe.includes(r)&&(this.num=nQe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ha(NaN,""):new Ha(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ha(NaN,""):new Ha(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ha(NaN,""):new Ha(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ha(NaN,""):new Ha(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Pi(this.num)}}function rie(e){if(e.includes(Bp))return Bp;for(var t=e;t.includes("*")||t.includes("/");){var r,[,s,a,i]=(r=mq.exec(t))!==null&&r!==void 0?r:[],o=Ha.parse(s??""),c=Ha.parse(i??""),d=a==="*"?o.multiply(c):o.divide(c);if(d.isNaN())return Bp;t=t.replace(mq,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,l,f,m]=(u=hq.exec(t))!==null&&u!==void 0?u:[],p=Ha.parse(l??""),x=Ha.parse(m??""),b=f==="+"?p.add(x):p.subtract(x);if(b.isNaN())return Bp;t=t.replace(hq,b.toString())}return t}var pq=/\(([^()]*)\)/;function aQe(e){for(var t=e,r;(r=pq.exec(t))!=null;){var[,s]=r;t=t.replace(pq,rie(s))}return t}function iQe(e){var t=e.replace(/\s+/g,"");return t=aQe(t),t=rie(t),t}function oQe(e){try{return iQe(e)}catch{return Bp}}function jR(e){var t=oQe(e.slice(5,-1));return t===Bp?"":t}var lQe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],cQe=["dx","dy","angle","className","breakAll"];function nO(){return nO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},nO.apply(null,arguments)}function gq(e,t){if(e==null)return{};var r,s,a=dQe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dQe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var sie=/[ \f\n\r\t\v\u2028\u2029]+/,nie=e=>{var{children:t,breakAll:r,style:s}=e;try{var a=[];Tn(t)||(r?a=t.toString().split(""):a=t.toString().split(sie));var i=a.map(c=>({word:c,width:fy(c,s).width})),o=r?0:fy("",s).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},uQe=(e,t,r,s,a)=>{var{maxLines:i,children:o,style:c,breakAll:d}=e,u=lt(i),l=o,f=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce((R,B)=>{var{word:L,width:$}=B,I=R[R.length-1];if(I&&(s==null||a||I.width+$+r<Number(s)))I.words.push(L),I.width+=$+r;else{var z={words:[L],width:$};R.push(z)}return R},[])},m=f(t),p=P=>P.reduce((M,R)=>M.width>R.width?M:R);if(!u||a)return m;var x=m.length>i||p(m).width>Number(s);if(!x)return m;for(var b="",h=P=>{var M=l.slice(0,P),R=nie({breakAll:d,style:c,children:M+b}).wordsWithComputedWidth,B=f(R),L=B.length>i||p(B).width>Number(s);return[L,B]},y=0,w=l.length-1,S=0,N;y<=w&&S<=l.length-1;){var _=Math.floor((y+w)/2),k=_-1,[E,T]=h(k),[D]=h(_);if(!E&&!D&&(y=_+1),E&&D&&(w=_-1),!E&&D){N=T;break}S++}return N||m},xq=e=>{var t=Tn(e)?[]:e.toString().split(sie);return[{words:t}]},fQe=e=>{var{width:t,scaleToFit:r,children:s,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!xx.isSsr){var c,d,u=nie({breakAll:i,children:s,style:a});if(u){var{wordsWithComputedWidth:l,spaceWidth:f}=u;c=l,d=f}else return xq(s);return uQe({breakAll:i,children:s,maxLines:o,style:a},c,d,t,r)}return xq(s)},vq="#808080",g2=v.forwardRef((e,t)=>{var{x:r=0,y:s=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:c="start",verticalAnchor:d="end",fill:u=vq}=e,l=gq(e,lQe),f=v.useMemo(()=>fQe({breakAll:l.breakAll,children:l.children,maxLines:l.maxLines,scaleToFit:o,style:l.style,width:l.width}),[l.breakAll,l.children,l.maxLines,o,l.style,l.width]),{dx:m,dy:p,angle:x,className:b,breakAll:h}=l,y=gq(l,cQe);if(!zl(r)||!zl(s))return null;var w=r+(lt(m)?m:0),S=s+(lt(p)?p:0),N;switch(d){case"start":N=jR("calc(".concat(i,")"));break;case"middle":N=jR("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:N=jR("calc(".concat(f.length-1," * -").concat(a,")"));break}var _=[];if(o){var k=f[0].width,{width:E}=l;_.push("scale(".concat(lt(E)?E/k:1,")"))}return x&&_.push("rotate(".concat(x,", ").concat(w,", ").concat(S,")")),_.length&&(y.transform=_.join(" ")),v.createElement("text",nO({},gn(y,!0),{ref:t,x:w,y:S,className:St("recharts-text",b),textAnchor:c,fill:u.includes("url")?vq:u}),f.map((T,D)=>{var P=T.words.join(h?"":" ");return v.createElement("tspan",{x:w,dy:D===0?N:a,key:"".concat(P,"-").concat(D)},P)}))});g2.displayName="Text";var mQe=["offset"],hQe=["labelRef"];function yq(e,t){if(e==null)return{};var r,s,a=pQe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pQe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function bq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bq(Object(r),!0).forEach(function(s){gQe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bq(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function gQe(e,t,r){return(t=xQe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xQe(e){var t=vQe(e,"string");return typeof t=="symbol"?t:t+""}function vQe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _c(){return _c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},_c.apply(null,arguments)}var yQe=e=>{var{value:t,formatter:r}=e,s=Tn(e.children)?t:e.children;return typeof r=="function"?r(s):s},P6=e=>e!=null&&typeof e=="function",bQe=(e,t)=>{var r=Gn(t-e),s=Math.min(Math.abs(t-e),360);return r*s},wQe=(e,t,r,s)=>{var{position:a,offset:i,className:o}=e,{cx:c,cy:d,innerRadius:u,outerRadius:l,startAngle:f,endAngle:m,clockWise:p}=s,x=(u+l)/2,b=bQe(f,m),h=b>=0?1:-1,y,w;a==="insideStart"?(y=f+h*i,w=p):a==="insideEnd"?(y=m-h*i,w=!p):a==="end"&&(y=m+h*i,w=p),w=b<=0?w:!w;var S=xn(c,d,x,y),N=xn(c,d,x,y+(w?1:-1)*359),_="M".concat(S.x,",").concat(S.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(w?0:1,`,
    `).concat(N.x,",").concat(N.y),k=Tn(e.id)?Ty("recharts-radial-line-"):e.id;return v.createElement("text",_c({},r,{dominantBaseline:"central",className:St("recharts-radial-bar-label",o)}),v.createElement("defs",null,v.createElement("path",{id:k,d:_})),v.createElement("textPath",{xlinkHref:"#".concat(k)},t))},jQe=(e,t,r)=>{var{cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:c,endAngle:d}=e,u=(c+d)/2;if(r==="outside"){var{x:l,y:f}=xn(s,a,o+t,u);return{x:l,y:f,textAnchor:l>=s?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var m=(i+o)/2,{x:p,y:x}=xn(s,a,m,u);return{x:p,y:x,textAnchor:"middle",verticalAnchor:"middle"}},SQe=(e,t)=>{var{parentViewBox:r,offset:s,position:a}=e,{x:i,y:o,width:c,height:d}=t,u=d>=0?1:-1,l=u*s,f=u>0?"end":"start",m=u>0?"start":"end",p=c>=0?1:-1,x=p*s,b=p>0?"end":"start",h=p>0?"start":"end";if(a==="top"){var y={x:i+c/2,y:o-u*s,textAnchor:"middle",verticalAnchor:f};return Js(Js({},y),r?{height:Math.max(o-r.y,0),width:c}:{})}if(a==="bottom"){var w={x:i+c/2,y:o+d+l,textAnchor:"middle",verticalAnchor:m};return Js(Js({},w),r?{height:Math.max(r.y+r.height-(o+d),0),width:c}:{})}if(a==="left"){var S={x:i-x,y:o+d/2,textAnchor:b,verticalAnchor:"middle"};return Js(Js({},S),r?{width:Math.max(S.x-r.x,0),height:d}:{})}if(a==="right"){var N={x:i+c+x,y:o+d/2,textAnchor:h,verticalAnchor:"middle"};return Js(Js({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:d}:{})}var _=r?{width:c,height:d}:{};return a==="insideLeft"?Js({x:i+x,y:o+d/2,textAnchor:h,verticalAnchor:"middle"},_):a==="insideRight"?Js({x:i+c-x,y:o+d/2,textAnchor:b,verticalAnchor:"middle"},_):a==="insideTop"?Js({x:i+c/2,y:o+l,textAnchor:"middle",verticalAnchor:m},_):a==="insideBottom"?Js({x:i+c/2,y:o+d-l,textAnchor:"middle",verticalAnchor:f},_):a==="insideTopLeft"?Js({x:i+x,y:o+l,textAnchor:h,verticalAnchor:m},_):a==="insideTopRight"?Js({x:i+c-x,y:o+l,textAnchor:b,verticalAnchor:m},_):a==="insideBottomLeft"?Js({x:i+x,y:o+d-l,textAnchor:h,verticalAnchor:f},_):a==="insideBottomRight"?Js({x:i+c-x,y:o+d-l,textAnchor:b,verticalAnchor:f},_):a&&typeof a=="object"&&(lt(a.x)||Zf(a.x))&&(lt(a.y)||Zf(a.y))?Js({x:i+Aa(a.x,c),y:o+Aa(a.y,d),textAnchor:"end",verticalAnchor:"end"},_):Js({x:i+c/2,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},NQe=e=>"cx"in e&&lt(e.cx);function bi(e){var{offset:t=5}=e,r=yq(e,mQe),s=Js({offset:t},r),{viewBox:a,position:i,value:o,children:c,content:d,className:u="",textBreakAll:l,labelRef:f}=s,m=Ct(Xne),p=h5(),x=i==="center"?p:m??p,b=a||x;if(!b||Tn(o)&&Tn(c)&&!v.isValidElement(d)&&typeof d!="function")return null;var h=Js(Js({},s),{},{viewBox:b});if(v.isValidElement(d)){var{labelRef:y}=h,w=yq(h,hQe);return v.cloneElement(d,w)}var S;if(typeof d=="function"){if(S=v.createElement(d,h),v.isValidElement(S))return S}else S=yQe(s);var N=NQe(b),_=gn(s,!0);if(N&&(i==="insideStart"||i==="insideEnd"||i==="end"))return wQe(s,S,_,b);var k=N?jQe(b,s.offset,s.position):SQe(s,b);return v.createElement(g2,_c({ref:f,className:St("recharts-label",u)},_,k,{breakAll:l}),S)}bi.displayName="Label";var aie=e=>{var{cx:t,cy:r,angle:s,startAngle:a,endAngle:i,r:o,radius:c,innerRadius:d,outerRadius:u,x:l,y:f,top:m,left:p,width:x,height:b,clockWise:h,labelViewBox:y}=e;if(y)return y;if(lt(x)&&lt(b)){if(lt(l)&&lt(f))return{x:l,y:f,width:x,height:b};if(lt(m)&&lt(p))return{x:m,y:p,width:x,height:b}}if(lt(l)&&lt(f))return{x:l,y:f,width:0,height:0};if(lt(t)&&lt(r))return{cx:t,cy:r,startAngle:a||s||0,endAngle:i||s||0,innerRadius:d||0,outerRadius:u||c||o||0,clockWise:h};if(e.viewBox)return e.viewBox},CQe=(e,t,r)=>{if(!e)return null;var s={viewBox:t,labelRef:r};return e===!0?v.createElement(bi,_c({key:"label-implicit"},s)):zl(e)?v.createElement(bi,_c({key:"label-implicit",value:e},s)):v.isValidElement(e)?e.type===bi?v.cloneElement(e,Js({key:"label-implicit"},s)):v.createElement(bi,_c({key:"label-implicit",content:e},s)):P6(e)?v.createElement(bi,_c({key:"label-implicit",content:e},s)):e&&typeof e=="object"?v.createElement(bi,_c({},e,{key:"label-implicit"},s)):null},_Qe=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&s&&!t.label)return null;var{children:a,labelRef:i}=t,o=aie(t),c=Bb(a,bi).map((u,l)=>v.cloneElement(u,{viewBox:r||o,key:"label-".concat(l)}));if(!s)return c;var d=CQe(t.label,r||o,i);return[d,...c]};bi.parseViewBox=aie;bi.renderCallByParent=_Qe;var SR={},NR={},wq;function EQe(){return wq||(wq=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(NR)),NR}var CR={},jq;function kQe(){return jq||(jq=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(CR)),CR}var Sq;function AQe(){return Sq||(Sq=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EQe(),r=kQe(),s=a5();function a(i){if(s.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(SR)),SR}var _R,Nq;function TQe(){return Nq||(Nq=1,_R=AQe().last),_R}var DQe=TQe();const PQe=Vi(DQe);var RQe=["valueAccessor"],MQe=["data","dataKey","clockWise","id","textBreakAll"];function o_(){return o_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},o_.apply(null,arguments)}function Cq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function _q(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cq(Object(r),!0).forEach(function(s){OQe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cq(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function OQe(e,t,r){return(t=IQe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IQe(e){var t=FQe(e,"string");return typeof t=="symbol"?t:t+""}function FQe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eq(e,t){if(e==null)return{};var r,s,a=$Qe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $Qe(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var LQe=e=>Array.isArray(e.value)?PQe(e.value):e.value;function pm(e){var{valueAccessor:t=LQe}=e,r=Eq(e,RQe),{data:s,dataKey:a,clockWise:i,id:o,textBreakAll:c}=r,d=Eq(r,MQe);return!s||!s.length?null:v.createElement(Ri,{className:"recharts-label-list"},s.map((u,l)=>{var f=Tn(a)?t(u,l):Ts(u&&u.payload,a),m=Tn(o)?{}:{id:"".concat(o,"-").concat(l)};return v.createElement(bi,o_({},gn(u,!0),d,m,{parentViewBox:u.parentViewBox,value:f,textBreakAll:c,viewBox:bi.parseViewBox(Tn(i)?u:_q(_q({},u),{},{clockWise:i})),key:"label-".concat(l),index:l}))}))}pm.displayName="LabelList";function BQe(e,t){return e?e===!0?v.createElement(pm,{key:"labelList-implicit",data:t}):v.isValidElement(e)||P6(e)?v.createElement(pm,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?v.createElement(pm,o_({data:t},e,{key:"labelList-implicit"})):null:null}function zQe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:s}=e,a=Bb(s,pm).map((o,c)=>v.cloneElement(o,{data:t,key:"labelList-".concat(c)}));if(!r)return a;var i=BQe(e.label,t);return[i,...a]}pm.renderCallByParent=zQe;var iie=e=>e.graphicalItems.polarItems,UQe=we([Is,qb],n6),R6=we([iie,dn,UQe],i6),HQe=we([R6],o6),M6=we([HQe,q5],l6),VQe=we([M6,dn,R6],d6),WQe=we([M6,dn,R6],(e,t,r)=>r.length>0?e.flatMap(s=>r.flatMap(a=>{var i,o=Ts(s,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(s=>({value:Ts(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]}))),kq=()=>{},qQe=we([dn,hae,kq,WQe,kq,yr,Is],f6),oie=we([dn,yr,M6,VQe,Wb,Is,qQe],m6),GQe=we([oie,dn,Sx],g6);we([dn,oie,GQe,Is],v6);var YQe={radiusAxis:{},angleAxis:{}},lie=Pt({name:"polarAxis",initialState:YQe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:m3t,removeRadiusAxis:h3t,addAngleAxis:p3t,removeAngleAxis:g3t}=lie.actions,KQe=lie.reducer;function Aq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Tq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aq(Object(r),!0).forEach(function(s){ZQe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aq(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ZQe(e,t,r){return(t=XQe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XQe(e){var t=JQe(e,"string");return typeof t=="symbol"?t:t+""}function JQe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QQe=(e,t)=>t,O6=we([iie,QQe],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),eet=[],I6=(e,t,r)=>r?.length===0?eet:r,cie=we([q5,O6,I6],(e,t,r)=>{var{chartData:s}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=s,(!a||!a.length)&&r!=null&&(a=r.map(i=>Tq(Tq({},t.presentationProps),i.props))),a!=null)return a}}),tet=we([cie,O6,I6],(e,t,r)=>{if(!(e==null||t==null))return e.map((s,a)=>{var i,o=Ts(s,t.nameKey,t.name),c;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?c=r[a].props.fill:typeof s=="object"&&s!=null&&"fill"in s?c=s.fill:c=t.fill,{value:KE(o,t.dataKey),color:c,payload:s,type:t.legendType}})}),ret=we([cie,O6,I6,Rn],(e,t,r,s)=>{if(!(t==null||e==null))return Qet({offset:s,pieSettings:t,displayedData:e,cells:r})}),ER={},Dq;function set(){return Dq||(Dq=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let s=r;for(;Object.getPrototypeOf(s)!==null;)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(r)===s}e.isPlainObject=t})(ER)),ER}var kR,Pq;function net(){return Pq||(Pq=1,kR=set().isPlainObject),kR}var aet=net();const iet=Vi(aet);function l_(){return l_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},l_.apply(null,arguments)}var Rq=(e,t,r,s,a)=>{var i=r-s,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+a),o+="L ".concat(e+r-i/2-s,",").concat(t+a),o+="L ".concat(e,",").concat(t," Z"),o},oet={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cet=e=>{var t=ol(e,oet),r=v.useRef(),[s,a]=v.useState(-1);v.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var h=r.current.getTotalLength();h&&a(h)}catch{}},[]);var{x:i,y:o,upperWidth:c,lowerWidth:d,height:u,className:l}=t,{animationEasing:f,animationDuration:m,animationBegin:p,isUpdateAnimationActive:x}=t;if(i!==+i||o!==+o||c!==+c||d!==+d||u!==+u||c===0&&d===0||u===0)return null;var b=St("recharts-trapezoid",l);return x?v.createElement(qC,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:u,x:i,y:o},to:{upperWidth:c,lowerWidth:d,height:u,x:i,y:o},duration:m,animationEasing:f,isActive:x},h=>{var{upperWidth:y,lowerWidth:w,height:S,x:N,y:_}=h;return v.createElement(qC,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:m,easing:f},v.createElement("path",l_({},gn(t,!0),{className:b,d:Rq(N,_,y,w,S),ref:r})))}):v.createElement("g",null,v.createElement("path",l_({},gn(t,!0),{className:b,d:Rq(i,o,c,d,u)})))},det=["option","shapeType","propTransformer","activeClassName","isActive"];function uet(e,t){if(e==null)return{};var r,s,a=fet(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fet(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function Mq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function c_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mq(Object(r),!0).forEach(function(s){met(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mq(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function met(e,t,r){return(t=het(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function het(e){var t=pet(e,"string");return typeof t=="symbol"?t:t+""}function pet(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function get(e,t){return c_(c_({},t),e)}function xet(e,t){return e==="symbols"}function Oq(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return v.createElement(Gse,r);case"trapezoid":return v.createElement(cet,r);case"sector":return v.createElement(Zse,r);case"symbols":if(xet(t))return v.createElement(r5,r);break;default:return null}}function vet(e){return v.isValidElement(e)?e.props:e}function die(e){var{option:t,shapeType:r,propTransformer:s=get,activeClassName:a="recharts-active-shape",isActive:i}=e,o=uet(e,det),c;if(v.isValidElement(t))c=v.cloneElement(t,c_(c_({},o),vet(t)));else if(typeof t=="function")c=t(o);else if(iet(t)&&typeof t!="boolean"){var d=s(t,o);c=v.createElement(Oq,{shapeType:r,elementProps:d})}else{var u=o;c=v.createElement(Oq,{shapeType:r,elementProps:u})}return i?v.createElement(Ri,{className:a},c):c}var F6=(e,t)=>{var r=Ws();return(s,a)=>i=>{e?.(s,a,i),r(Tae({activeIndex:String(a),activeDataKey:t,activeCoordinate:s.tooltipPosition}))}},$6=e=>{var t=Ws();return(r,s)=>a=>{e?.(r,s,a),t(dXe())}},L6=(e,t)=>{var r=Ws();return(s,a)=>i=>{e?.(s,a,i),r(uXe({activeIndex:String(a),activeDataKey:t,activeCoordinate:s.tooltipPosition}))}};function uie(e){var{fn:t,args:r}=e,s=Ws(),a=Ao();return v.useEffect(()=>{if(!a){var i=t(r);return s(oXe(i)),()=>{s(lXe(i))}}},[t,r,s,a]),null}var fie=()=>{};function yet(e){var{legendPayload:t}=e,r=Ws(),s=Ao();return v.useEffect(()=>s?fie:(r(Fse(t)),()=>{r($se(t))}),[r,s,t]),null}function bet(e){var{legendPayload:t}=e,r=Ws(),s=Ct(yr);return v.useEffect(()=>s!=="centric"&&s!=="radial"?fie:(r(Fse(t)),()=>{r($se(t))}),[r,s,t]),null}function mie(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=v.useRef(Ty(t)),s=v.useRef(e);return s.current!==e&&(r.current=Ty(t),s.current=e),r.current}var AR,wet=()=>{var[e]=v.useState(()=>Ty("uid-"));return e},jet=(AR=wm.useId)!==null&&AR!==void 0?AR:wet;function Net(e,t){var r=jet();return t||(e?"".concat(e,"-").concat(r):r)}var Cet=v.createContext(void 0),hie=e=>{var{id:t,type:r,children:s}=e,a=Net("recharts-".concat(r),t);return v.createElement(Cet.Provider,{value:a},s(a))},_et={cartesianItems:[],polarItems:[]},pie=Pt({name:"graphicalItems",initialState:_et,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:s}=t.payload,a=Mc(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=s)},removeCartesianGraphicalItem(e,t){var r=Mc(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Mc(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:Eet,replaceCartesianGraphicalItem:ket,removeCartesianGraphicalItem:Aet,addPolarGraphicalItem:Tet,removePolarGraphicalItem:Det}=pie.actions,Pet=pie.reducer;function Ret(e){var t=Ws(),r=v.useRef(null);return v.useEffect(()=>{r.current===null?t(Eet(e)):r.current!==e&&t(ket({prev:r.current,next:e})),r.current=e},[t,e]),v.useEffect(()=>()=>{r.current&&(t(Aet(r.current)),r.current=null)},[t]),null}function Met(e){var t=Ws();return v.useEffect(()=>(t(Tet(e)),()=>{t(Det(e))}),[t,e]),null}function Oet(){}var Iet={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Iq={t:0},TR={t:1};function gie(e){var t=ol(e,Iet),{isActive:r,canBegin:s,duration:a,easing:i,begin:o,onAnimationEnd:c,onAnimationStart:d,children:u}=t,l=qse("JavascriptAnimate",t.animationManager),[f,m]=v.useState(r?Iq:TR),p=v.useRef(null);return v.useEffect(()=>{r||m(TR)},[r]),v.useEffect(()=>{if(!r||!s)return Oet;var x=Wse(Iq,TR,Hse(i),a,m,l.getTimeoutController()),b=()=>{p.current=x()};return l.start([d,o,b,a,c]),()=>{l.stop(),p.current&&p.current(),c()}},[r,s,a,i,o,d,c,l]),u(f.t)}var Fet=["onMouseEnter","onClick","onMouseLeave"],$et=["id"],Let=["id"];function B6(e,t){if(e==null)return{};var r,s,a=Bet(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Bet(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function Fq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Qs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fq(Object(r),!0).forEach(function(s){zet(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fq(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function zet(e,t,r){return(t=Uet(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uet(e){var t=Het(e,"string");return typeof t=="symbol"?t:t+""}function Het(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zc(){return Zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Zc.apply(null,arguments)}function Vet(e){var t=v.useMemo(()=>Bb(e.children,Jb),[e.children]),r=Ct(s=>tet(s,e.id,t));return r==null?null:v.createElement(bet,{legendPayload:r})}function Wet(e){var{dataKey:t,nameKey:r,sectors:s,stroke:a,strokeWidth:i,fill:o,name:c,hide:d,tooltipType:u}=e;return{dataDefinedOnItem:s?.map(l=>l.tooltipPayload),positions:s?.map(l=>l.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:KE(c,t),hide:d,type:u,color:o,unit:""}}}var qet=(e,t)=>e>t?"start":e<t?"end":"middle",Get=(e,t,r)=>typeof t=="function"?t(e):Aa(t,r,r*.8),Yet=(e,t,r)=>{var{top:s,left:a,width:i,height:o}=t,c=Ese(i,o),d=a+Aa(e.cx,i,i/2),u=s+Aa(e.cy,o,o/2),l=Aa(e.innerRadius,c,0),f=Get(r,e.outerRadius,c),m=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:d,cy:u,innerRadius:l,outerRadius:f,maxRadius:m}},Ket=(e,t)=>{var r=Gn(t-e),s=Math.min(Math.abs(t-e),360);return r*s},Zet=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var r=St("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return v.createElement(Bse,Zc({},t,{type:"linear",className:r}))},Xet=(e,t,r)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var s=r;if(typeof e=="function"&&(s=e(t),v.isValidElement(s)))return s;var a=St("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return v.createElement(g2,Zc({},t,{alignmentBaseline:"middle",className:a}),s)};function Jet(e){var{sectors:t,props:r,showLabels:s}=e,{label:a,labelLine:i,dataKey:o}=r;if(!s||!a||!t)return null;var c=eh(r),d=gn(a,!1),u=gn(i,!1),l=typeof a=="object"&&"offsetRadius"in a&&a.offsetRadius||20,f=t.map((m,p)=>{var x=(m.startAngle+m.endAngle)/2,b=xn(m.cx,m.cy,m.outerRadius+l,x),h=Qs(Qs(Qs(Qs({},c),m),{},{stroke:"none"},d),{},{index:p,textAnchor:qet(b.x,m.cx)},b),y=Qs(Qs(Qs(Qs({},c),m),{},{fill:"none",stroke:m.fill},u),{},{index:p,points:[xn(m.cx,m.cy,m.outerRadius,x),b],key:"line"});return v.createElement(Ri,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(p)},i&&Zet(i,y),Xet(a,h,Ts(m,o)))});return v.createElement(Ri,{className:"recharts-pie-labels"},f)}function xie(e){var{sectors:t,activeShape:r,inactiveShape:s,allOtherPieProps:a,showLabels:i}=e,o=Ct(Im),{onMouseEnter:c,onClick:d,onMouseLeave:u}=a,l=B6(a,Fet),f=F6(c,a.dataKey),m=$6(u),p=L6(d,a.dataKey);return t==null?null:v.createElement(v.Fragment,null,t.map((x,b)=>{if(x?.startAngle===0&&x?.endAngle===0&&t.length!==1)return null;var h=r&&String(b)===o,y=o?s:null,w=h?r:y,S=Qs(Qs({},x),{},{stroke:x.stroke,tabIndex:-1,[Pse]:b,[Rse]:a.dataKey});return v.createElement(Ri,Zc({tabIndex:-1,className:"recharts-pie-sector"},Lb(l,x,b),{onMouseEnter:f(x,b),onMouseLeave:m(x,b),onClick:p(x,b),key:"sector-".concat(x?.startAngle,"-").concat(x?.endAngle,"-").concat(x.midAngle,"-").concat(b)}),v.createElement(die,Zc({option:w,isActive:h,shapeType:"sector"},S)))}),v.createElement(Jet,{sectors:t,props:a,showLabels:i}))}function Qet(e){var t,{pieSettings:r,displayedData:s,cells:a,offset:i}=e,{cornerRadius:o,startAngle:c,endAngle:d,dataKey:u,nameKey:l,tooltipType:f}=r,m=Math.abs(r.minAngle),p=Ket(c,d),x=Math.abs(p),b=s.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,h=s.filter(k=>Ts(k,u,0)!==0).length,y=(x>=360?h:h-1)*b,w=x-h*m-y,S=s.reduce((k,E)=>{var T=Ts(E,u,0);return k+(lt(T)?T:0)},0),N;if(S>0){var _;N=s.map((k,E)=>{var T=Ts(k,u,0),D=Ts(k,l,E),P=Yet(r,i,k),M=(lt(T)?T:0)/S,R,B=Qs(Qs({},k),a&&a[E]&&a[E].props);E?R=_.endAngle+Gn(p)*b*(T!==0?1:0):R=c;var L=R+Gn(p)*((T!==0?m:0)+M*w),$=(R+L)/2,I=(P.innerRadius+P.outerRadius)/2,z=[{name:D,value:T,payload:B,dataKey:u,type:f}],H=xn(P.cx,P.cy,I,$);return _=Qs(Qs(Qs(Qs({},r.presentationProps),{},{percent:M,cornerRadius:o,name:D,tooltipPayload:z,midAngle:$,middleRadius:I,tooltipPosition:H},B),P),{},{value:Ts(k,u),startAngle:R,endAngle:L,payload:B,paddingAngle:Gn(p)*b}),_})}return N}function ett(e){var{props:t,previousSectorsRef:r}=e,{sectors:s,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:c,activeShape:d,inactiveShape:u,onAnimationStart:l,onAnimationEnd:f}=t,m=mie(t,"recharts-pie-"),p=r.current,[x,b]=v.useState(!0),h=v.useCallback(()=>{typeof f=="function"&&f(),b(!1)},[f]),y=v.useCallback(()=>{typeof l=="function"&&l(),b(!0)},[l]);return v.createElement(gie,{begin:i,duration:o,isActive:a,easing:c,onAnimationStart:y,onAnimationEnd:h,key:m},w=>{var S=[],N=s&&s[0],_=N.startAngle;return s.forEach((k,E)=>{var T=p&&p[E],D=E>0?Au(k,"paddingAngle",0):0;if(T){var P=S9(T.endAngle-T.startAngle,k.endAngle-k.startAngle),M=Qs(Qs({},k),{},{startAngle:_+D,endAngle:_+P(w)+D});S.push(M),_=M.endAngle}else{var{endAngle:R,startAngle:B}=k,L=S9(0,R-B),$=L(w),I=Qs(Qs({},k),{},{startAngle:_+D,endAngle:_+$+D});S.push(I),_=I.endAngle}}),r.current=S,v.createElement(Ri,null,v.createElement(xie,{sectors:S,activeShape:d,inactiveShape:u,allOtherPieProps:t,showLabels:!x}))})}function ttt(e){var{sectors:t,isAnimationActive:r,activeShape:s,inactiveShape:a}=e,i=v.useRef(null),o=i.current;return r&&t&&t.length&&(!o||o!==t)?v.createElement(ett,{props:e,previousSectorsRef:i}):v.createElement(xie,{sectors:t,activeShape:s,inactiveShape:a,allOtherPieProps:e,showLabels:!0})}function rtt(e){var{hide:t,className:r,rootTabIndex:s}=e,a=St("recharts-pie",r);return t?null:v.createElement(Ri,{tabIndex:s,className:a},v.createElement(ttt,e))}var stt={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!xx.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function ntt(e){var{id:t}=e,r=B6(e,$et),s=v.useMemo(()=>Bb(e.children,Jb),[e.children]),a=Ct(i=>ret(i,t,s));return v.createElement(v.Fragment,null,v.createElement(uie,{fn:Wet,args:Qs(Qs({},e),{},{sectors:a})}),v.createElement(rtt,Zc({},r,{sectors:a})))}function vie(e){var t=ol(e,stt),{id:r}=t,s=B6(t,Let),a=eh(s);return v.createElement(hie,{id:r,type:"pie"},i=>v.createElement(v.Fragment,null,v.createElement(Met,{type:"pie",id:i,data:s.data,dataKey:s.dataKey,hide:s.hide,angleAxisId:0,radiusAxisId:0,name:s.name,nameKey:s.nameKey,tooltipType:s.tooltipType,legendType:s.legendType,fill:s.fill,cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,paddingAngle:s.paddingAngle,minAngle:s.minAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius,cornerRadius:s.cornerRadius,presentationProps:a}),v.createElement(Vet,Zc({},s,{id:i})),v.createElement(ntt,Zc({},s,{id:i})),s.children))}vie.displayName="Pie";var att=we([Rn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),itt=we([att,ld,cd],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),yie=()=>Ct(itt),ott="Invariant failed";function ltt(e,t){throw new Error(ott)}var ctt=["x","y"];function aO(){return aO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},aO.apply(null,arguments)}function $q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function g0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$q(Object(r),!0).forEach(function(s){dtt(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$q(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function dtt(e,t,r){return(t=utt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function utt(e){var t=ftt(e,"string");return typeof t=="symbol"?t:t+""}function ftt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mtt(e,t){if(e==null)return{};var r,s,a=htt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function htt(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function ptt(e,t){var{x:r,y:s}=e,a=mtt(e,ctt),i="".concat(r),o=parseInt(i,10),c="".concat(s),d=parseInt(c,10),u="".concat(t.height||a.height),l=parseInt(u,10),f="".concat(t.width||a.width),m=parseInt(f,10);return g0(g0(g0(g0(g0({},t),a),o?{x:o}:{}),d?{y:d}:{}),{},{height:l,width:m,name:t.name,radius:t.radius})}function bie(e){return v.createElement(die,aO({shapeType:"rectangle",propTransformer:ptt,activeClassName:"recharts-active-bar"},e))}var gtt=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(s,a)=>{if(lt(t))return t;var i=lt(s)||Tn(s);return i?t(s,a):(i||ltt(),r)}},xtt={},wie=Pt({name:"errorBars",initialState:xtt,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:s}=t.payload;e[r]||(e[r]=[]),e[r].push(s)},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:s}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==s.dataKey||a.direction!==s.direction))}}}),{addErrorBar:x3t,removeErrorBar:v3t}=wie.actions,vtt=wie.reducer,ytt=["children"];function btt(e,t){if(e==null)return{};var r,s,a=wtt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wtt(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var jtt={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Stt=v.createContext(jtt);function Ntt(e){var{children:t}=e,r=btt(e,ytt);return v.createElement(Stt.Provider,{value:r},t)}function jie(e,t){var r,s,a=Ct(u=>ud(u,e)),i=Ct(u=>Yu(u,t)),o=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:hi.allowDataOverflow,c=(s=i?.allowDataOverflow)!==null&&s!==void 0?s:pi.allowDataOverflow,d=o||c;return{needClip:d,needClipX:o,needClipY:c}}function Ctt(e){var{xAxisId:t,yAxisId:r,clipPathId:s}=e,a=yie(),{needClipX:i,needClipY:o,needClip:c}=jie(t,r);if(!c)return null;var{x:d,y:u,width:l,height:f}=a;return v.createElement("clipPath",{id:"clipPath-".concat(s)},v.createElement("rect",{x:i?d:d-l/2,y:o?u:u-f/2,width:i?l:l*2,height:o?f:f*2}))}var _tt=["onMouseEnter","onMouseLeave","onClick"],Ett=["value","background","tooltipPosition"],ktt=["id"],Att=["onMouseEnter","onClick","onMouseLeave"];function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ag.apply(null,arguments)}function Lq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lq(Object(r),!0).forEach(function(s){Ttt(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lq(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Ttt(e,t,r){return(t=Dtt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dtt(e){var t=Ptt(e,"string");return typeof t=="symbol"?t:t+""}function Ptt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d_(e,t){if(e==null)return{};var r,s,a=Rtt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Rtt(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var Mtt=e=>{var{dataKey:t,name:r,fill:s,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:s,value:KE(r,t),payload:e}]};function Ott(e){var{dataKey:t,stroke:r,strokeWidth:s,fill:a,name:i,hide:o,unit:c}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:a,dataKey:t,nameKey:void 0,name:KE(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:c}}}function Itt(e){var t=Ct(Im),{data:r,dataKey:s,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:c,onClick:d}=i,u=d_(i,_tt),l=F6(o,s),f=$6(c),m=L6(d,s);if(!a||r==null)return null;var p=gn(a,!1);return v.createElement(v.Fragment,null,r.map((x,b)=>{var{value:h,background:y,tooltipPosition:w}=x,S=d_(x,Ett);if(!y)return null;var N=l(x,b),_=f(x,b),k=m(x,b),E=pa(pa(pa(pa(pa({option:a,isActive:String(b)===t},S),{},{fill:"#eee"},y),p),Lb(u,x,b)),{},{onMouseEnter:N,onMouseLeave:_,onClick:k,dataKey:s,index:b,className:"recharts-bar-background-rectangle"});return v.createElement(bie,Ag({key:"background-bar-".concat(b)},E))}))}function Sie(e){var{data:t,props:r,showLabels:s}=e,a=eh(r),{id:i}=a,o=d_(a,ktt),{shape:c,dataKey:d,activeBar:u}=r,l=Ct(Im),f=Ct(Hae),{onMouseEnter:m,onClick:p,onMouseLeave:x}=r,b=d_(r,Att),h=F6(m,d),y=$6(x),w=L6(p,d);return t?v.createElement(v.Fragment,null,t.map((S,N)=>{var _=u&&String(N)===l&&(f==null||d===f),k=_?u:c,E=pa(pa(pa({},o),S),{},{isActive:_,option:k,index:N,dataKey:d});return v.createElement(Ri,Ag({className:"recharts-bar-rectangle"},Lb(b,S,N),{onMouseEnter:h(S,N),onMouseLeave:y(S,N),onClick:w(S,N),key:"rectangle-".concat(S?.x,"-").concat(S?.y,"-").concat(S?.value,"-").concat(N)}),v.createElement(bie,E))}),s&&pm.renderCallByParent(r,t)):null}function Ftt(e){var{props:t,previousRectanglesRef:r}=e,{data:s,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:c,animationEasing:d,onAnimationEnd:u,onAnimationStart:l}=t,f=r.current,m=mie(t,"recharts-bar-"),[p,x]=v.useState(!1),b=v.useCallback(()=>{typeof u=="function"&&u(),x(!1)},[u]),h=v.useCallback(()=>{typeof l=="function"&&l(),x(!0)},[l]);return v.createElement(gie,{begin:o,duration:c,isActive:i,easing:d,onAnimationEnd:b,onAnimationStart:h,key:m},y=>{var w=y===1?s:s?.map((S,N)=>{var _=f&&f[N];if(_)return pa(pa({},S),{},{x:fp(_.x,S.x,y),y:fp(_.y,S.y,y),width:fp(_.width,S.width,y),height:fp(_.height,S.height,y)});if(a==="horizontal"){var k=fp(0,S.height,y);return pa(pa({},S),{},{y:S.y+S.height-k,height:k})}var E=fp(0,S.width,y);return pa(pa({},S),{},{width:E})});return y>0&&(r.current=w??null),w==null?null:v.createElement(Ri,null,v.createElement(Sie,{props:t,data:w,showLabels:!p}))})}function $tt(e){var{data:t,isAnimationActive:r}=e,s=v.useRef(null);return r&&t&&t.length&&(s.current==null||s.current!==t)?v.createElement(Ftt,{previousRectanglesRef:s,props:e}):v.createElement(Sie,{props:e,data:t,showLabels:!0})}var Nie=0,Ltt=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ts(e,t)}};class Btt extends v.PureComponent{render(){var{hide:t,data:r,dataKey:s,className:a,xAxisId:i,yAxisId:o,needClip:c,background:d,id:u}=this.props;if(t)return null;var l=St("recharts-bar",a),f=u;return v.createElement(Ri,{className:l,id:u},c&&v.createElement("defs",null,v.createElement(Ctt,{clipPathId:f,xAxisId:i,yAxisId:o})),v.createElement(Ri,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(f,")"):void 0},v.createElement(Itt,{data:r,dataKey:s,background:d,allOtherBarProps:this.props}),v.createElement($tt,this.props)),this.props.children)}}var ztt={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!xx.isSsr,legendType:"rect",minPointSize:Nie,xAxisId:0,yAxisId:0};function Utt(e){var{xAxisId:t,yAxisId:r,hide:s,legendType:a,minPointSize:i,activeBar:o,animationBegin:c,animationDuration:d,animationEasing:u,isAnimationActive:l}=e,{needClip:f}=jie(t,r),m=x5(),p=Ao(),x=Bb(e.children,Jb),b=Ct(w=>prt(w,t,r,p,e.id,x));if(m!=="vertical"&&m!=="horizontal")return null;var h,y=b?.[0];return y==null||y.height==null||y.width==null?h=0:h=m==="vertical"?y.height/2:y.width/2,v.createElement(Ntt,{xAxisId:t,yAxisId:r,data:b,dataPointFormatter:Ltt,errorBarOffset:h},v.createElement(Btt,Ag({},e,{layout:m,needClip:f,data:b,xAxisId:t,yAxisId:r,hide:s,legendType:a,minPointSize:i,activeBar:o,animationBegin:c,animationDuration:d,animationEasing:u,isAnimationActive:l})))}function Htt(e){var{layout:t,barSettings:{dataKey:r,minPointSize:s},pos:a,bandSize:i,xAxis:o,yAxis:c,xAxisTicks:d,yAxisTicks:u,stackedData:l,displayedData:f,offset:m,cells:p}=e,x=t==="horizontal"?c:o,b=l?x.scale.domain():null,h=DWe({numericAxis:x});return f.map((y,w)=>{var S,N,_,k,E,T;l?S=CWe(l[w],b):(S=Ts(y,r),Array.isArray(S)||(S=[h,S]));var D=gtt(s,Nie)(S[1],w);if(t==="horizontal"){var P,[M,R]=[c.scale(S[0]),c.scale(S[1])];N=CV({axis:o,ticks:d,bandSize:i,offset:a.offset,entry:y,index:w}),_=(P=R??M)!==null&&P!==void 0?P:void 0,k=a.size;var B=M-R;if(E=Pi(B)?0:B,T={x:N,y:m.top,width:k,height:m.height},Math.abs(D)>0&&Math.abs(E)<Math.abs(D)){var L=Gn(E||D)*(Math.abs(D)-Math.abs(E));_-=L,E+=L}}else{var[$,I]=[o.scale(S[0]),o.scale(S[1])];if(N=$,_=CV({axis:c,ticks:u,bandSize:i,offset:a.offset,entry:y,index:w}),k=I-$,E=a.size,T={x:m.left,y:_,width:m.width,height:E},Math.abs(D)>0&&Math.abs(k)<Math.abs(D)){var z=Gn(k||D)*(Math.abs(D)-Math.abs(k));k+=z}}if(N==null||_==null||k==null||E==null)return null;var H=pa(pa({},y),{},{x:N,y:_,width:k,height:E,value:l?S:S[1],payload:y,background:T,tooltipPosition:{x:N+k/2,y:_+E/2}},p&&p[w]&&p[w].props);return H}).filter(Boolean)}function By(e){var t=ol(e,ztt),r=Ao();return v.createElement(hie,{id:t.id,type:"bar"},s=>v.createElement(v.Fragment,null,v.createElement(yet,{legendPayload:Mtt(t)}),v.createElement(uie,{fn:Ott,args:t}),v.createElement(Ret,{type:"bar",id:s,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:TWe(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),v.createElement(Utt,Ag({},t,{id:s}))))}By.displayName="Bar";function Bq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function C1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bq(Object(r),!0).forEach(function(s){Vtt(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bq(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Vtt(e,t,r){return(t=Wtt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wtt(e){var t=qtt(e,"string");return typeof t=="symbol"?t:t+""}function qtt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gtt=(e,t)=>t,Ytt=(e,t,r)=>r,Ktt=(e,t,r,s)=>s,Ztt=(e,t,r,s,a)=>a,Qb=we([a6,Ztt],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Xtt=we([Qb],e=>e?.maxBarSize),Jtt=(e,t,r,s,a,i)=>i,zq=(e,t,r)=>{var s=r??e;if(!Tn(s))return Aa(s,t,0)},Qtt=we([yr,a6,Gtt,Ytt,Ktt],(e,t,r,s,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===s).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),ert=(e,t,r,s)=>{var a=yr(e);return a==="horizontal"?QM(e,"yAxis",r,s):QM(e,"xAxis",t,s)},trt=(e,t,r)=>{var s=yr(e);return s==="horizontal"?VW(e,"xAxis",t):VW(e,"yAxis",r)},rrt=(e,t,r)=>{var s={},a=e.filter(d2),i=e.filter(u=>u.stackId==null),o=a.reduce((u,l)=>(u[l.stackId]||(u[l.stackId]=[]),u[l.stackId].push(l),u),s),c=Object.entries(o).map(u=>{var[l,f]=u,m=f.map(x=>x.dataKey),p=zq(t,r,f[0].barSize);return{stackId:l,dataKeys:m,barSize:p}}),d=i.map(u=>{var l=[u.dataKey].filter(m=>m!=null),f=zq(t,r,u.barSize);return{stackId:void 0,dataKeys:l,barSize:f}});return[...c,...d]},srt=we([Qtt,lZe,trt],rrt),nrt=(e,t,r,s,a)=>{var i,o,c=Qb(e,t,r,s,a);if(c!=null){var d=yr(e),u=Vne(e),{maxBarSize:l}=c,f=Tn(l)?u:l,m,p;return d==="horizontal"?(m=kg(e,"xAxis",t,s),p=Eg(e,"xAxis",t,s)):(m=kg(e,"yAxis",r,s),p=Eg(e,"yAxis",r,s)),(i=(o=u5(m,p,!0))!==null&&o!==void 0?o:f)!==null&&i!==void 0?i:0}},Cie=(e,t,r,s)=>{var a=yr(e),i,o;return a==="horizontal"?(i=kg(e,"xAxis",t,s),o=Eg(e,"xAxis",t,s)):(i=kg(e,"yAxis",r,s),o=Eg(e,"yAxis",r,s)),u5(i,o)};function art(e,t,r,s,a){var i=s.length;if(!(i<1)){var o=Aa(e,r,0,!0),c,d=[];if(Mi(s[0].barSize)){var u=!1,l=r/i,f=s.reduce((y,w)=>y+(w.barSize||0),0);f+=(i-1)*o,f>=r&&(f-=(i-1)*o,o=0),f>=r&&l>0&&(u=!0,l*=.9,f=i*l);var m=(r-f)/2>>0,p={offset:m-o,size:0};c=s.reduce((y,w)=>{var S,N={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:p.offset+p.size+o,size:u?l:(S=w.barSize)!==null&&S!==void 0?S:0}},_=[...y,N];return p=_[_.length-1].position,_},d)}else{var x=Aa(t,r,0,!0);r-2*x-(i-1)*o<=0&&(o=0);var b=(r-2*x-(i-1)*o)/i;b>1&&(b>>=0);var h=Mi(a)?Math.min(b,a):b;c=s.reduce((y,w,S)=>[...y,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:x+(b+o)*S+(b-h)/2,size:h}}],d)}return c}}var irt=(e,t,r,s,a,i,o)=>{var c=Tn(o)?t:o,d=art(r,s,a!==i?a:i,e,c);return a!==i&&d!=null&&(d=d.map(u=>C1(C1({},u),{},{position:C1(C1({},u.position),{},{offset:u.position.offset-a/2})}))),d},ort=we([srt,Vne,oZe,Wne,nrt,Cie,Xtt],irt),lrt=(e,t,r,s)=>kg(e,"xAxis",t,s),crt=(e,t,r,s)=>kg(e,"yAxis",r,s),drt=(e,t,r,s)=>Eg(e,"xAxis",t,s),urt=(e,t,r,s)=>Eg(e,"yAxis",r,s),frt=we([ort,Qb],(e,t)=>{if(!(e==null||t==null)){var r=e.find(s=>s.stackId===t.stackId&&t.dataKey!=null&&s.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),mrt=(e,t)=>{var r=r6(t);if(!(!e||r==null||t==null)){var{stackId:s}=t;if(s!=null){var a=e[s];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}},hrt=we([ert,Qb],mrt),prt=we([Rn,lrt,crt,drt,urt,frt,yr,G5,Cie,hrt,Qb,Jtt],(e,t,r,s,a,i,o,c,d,u,l,f)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:x}=c;if(!(l==null||i==null||o!=="horizontal"&&o!=="vertical"||t==null||r==null||s==null||a==null||d==null)){var{data:b}=l,h;if(b!=null&&b.length>0?h=b:h=m?.slice(p,x+1),h!=null)return Htt({layout:o,barSettings:l,pos:i,bandSize:d,xAxis:t,yAxis:r,xAxisTicks:s,yAxisTicks:a,stackedData:u,displayedData:h,offset:e,cells:f})}}),_ie=e=>{var{chartData:t}=e,r=Ws(),s=Ao();return v.useEffect(()=>s?()=>{}:(r(eq(t)),()=>{r(eq(void 0))}),[t,r,s]),null},Uq={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Eie=Pt({name:"brush",initialState:Uq,reducers:{setBrushSettings(e,t){return t.payload==null?Uq:t.payload}}}),{setBrushSettings:y3t}=Eie.actions,grt=Eie.reducer;function xrt(e,t,r){return(t=vrt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vrt(e){var t=yrt(e,"string");return typeof t=="symbol"?t:t+""}function yrt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class z6{static create(t){return new z6(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(s)switch(s){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),s=r[0],a=r[r.length-1];return s<=a?t>=s&&t<=a:t>=a&&t<=s}}xrt(z6,"EPS",1e-4);function brt(e){return(e%180+180)%180}var wrt=function(t){var{width:r,height:s}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=brt(a),o=i*Math.PI/180,c=Math.atan(s/r),d=o>c&&o<Math.PI-c?s/Math.sin(o):r/Math.cos(o);return Math.abs(d)},jrt={dots:[],areas:[],lines:[]},kie=Pt({name:"referenceElements",initialState:jrt,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Mc(e).dots.findIndex(s=>s===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Mc(e).areas.findIndex(s=>s===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Mc(e).lines.findIndex(s=>s===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:b3t,removeDot:w3t,addArea:j3t,removeArea:S3t,addLine:N3t,removeLine:C3t}=kie.actions,Srt=kie.reducer,Nrt=v.createContext(void 0),Crt=e=>{var{children:t}=e,[r]=v.useState("".concat(Ty("recharts"),"-clip")),s=yie();if(s==null)return null;var{x:a,y:i,width:o,height:c}=s;return v.createElement(Nrt.Provider,{value:r},v.createElement("defs",null,v.createElement("clipPath",{id:r},v.createElement("rect",{x:a,y:i,height:c,width:o}))),t)};function DR(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var s in t)if({}.hasOwnProperty.call(t,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function Aie(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var s=[],a=0;a<e.length;a+=t)s.push(e[a]);return s}function _rt(e,t,r){var s={width:e.width+t.width,height:e.height+t.height};return wrt(s,r)}function Ert(e,t,r){var s=r==="width",{x:a,y:i,width:o,height:c}=e;return t===1?{start:s?a:i,end:s?a+o:i+c}:{start:s?a+o:i+c,end:s?a:i}}function u_(e,t,r,s,a){if(e*t<e*s||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-s)>=0&&e*(t+e*i/2-a)<=0}function krt(e,t){return Aie(e,t+1)}function Art(e,t,r,s,a){for(var i=(s||[]).slice(),{start:o,end:c}=t,d=0,u=1,l=o,f=function(){var x=s?.[d];if(x===void 0)return{v:Aie(s,u)};var b=d,h,y=()=>(h===void 0&&(h=r(x,b)),h),w=x.coordinate,S=d===0||u_(e,w,y,l,c);S||(d=0,l=o,u+=1),S&&(l=w+e*(y()/2+a),d+=u)},m;u<=i.length;)if(m=f(),m)return m.v;return[]}function Hq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hq(Object(r),!0).forEach(function(s){Trt(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hq(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Trt(e,t,r){return(t=Drt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Drt(e){var t=Prt(e,"string");return typeof t=="symbol"?t:t+""}function Prt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rrt(e,t,r,s,a){for(var i=(s||[]).slice(),o=i.length,{start:c}=t,{end:d}=t,u=function(m){var p=i[m],x,b=()=>(x===void 0&&(x=r(p,m)),x);if(m===o-1){var h=e*(p.coordinate+e*b()/2-d);i[m]=p=ma(ma({},p),{},{tickCoord:h>0?p.coordinate-h*e:p.coordinate})}else i[m]=p=ma(ma({},p),{},{tickCoord:p.coordinate});var y=u_(e,p.tickCoord,b,c,d);y&&(d=p.tickCoord-e*(b()/2+a),i[m]=ma(ma({},p),{},{isShow:!0}))},l=o-1;l>=0;l--)u(l);return i}function Mrt(e,t,r,s,a,i){var o=(s||[]).slice(),c=o.length,{start:d,end:u}=t;if(i){var l=s[c-1],f=r(l,c-1),m=e*(l.coordinate+e*f/2-u);o[c-1]=l=ma(ma({},l),{},{tickCoord:m>0?l.coordinate-m*e:l.coordinate});var p=u_(e,l.tickCoord,()=>f,d,u);p&&(u=l.tickCoord-e*(f/2+a),o[c-1]=ma(ma({},l),{},{isShow:!0}))}for(var x=i?c-1:c,b=function(w){var S=o[w],N,_=()=>(N===void 0&&(N=r(S,w)),N);if(w===0){var k=e*(S.coordinate-e*_()/2-d);o[w]=S=ma(ma({},S),{},{tickCoord:k<0?S.coordinate-k*e:S.coordinate})}else o[w]=S=ma(ma({},S),{},{tickCoord:S.coordinate});var E=u_(e,S.tickCoord,_,d,u);E&&(d=S.tickCoord+e*(_()/2+a),o[w]=ma(ma({},S),{},{isShow:!0}))},h=0;h<x;h++)b(h);return o}function U6(e,t,r){var{tick:s,ticks:a,viewBox:i,minTickGap:o,orientation:c,interval:d,tickFormatter:u,unit:l,angle:f}=e;if(!a||!a.length||!s)return[];if(lt(d)||xx.isSsr){var m;return(m=krt(a,lt(d)?d:0))!==null&&m!==void 0?m:[]}var p=[],x=c==="top"||c==="bottom"?"width":"height",b=l&&x==="width"?fy(l,{fontSize:t,letterSpacing:r}):{width:0,height:0},h=(S,N)=>{var _=typeof u=="function"?u(S.value,N):S.value;return x==="width"?_rt(fy(_,{fontSize:t,letterSpacing:r}),b,f):fy(_,{fontSize:t,letterSpacing:r})[x]},y=a.length>=2?Gn(a[1].coordinate-a[0].coordinate):1,w=Ert(i,y,x);return d==="equidistantPreserveStart"?Art(y,w,h,a,o):(d==="preserveStart"||d==="preserveStartEnd"?p=Mrt(y,w,h,a,o,d==="preserveStartEnd"):p=Rrt(y,w,h,a,o),p.filter(S=>S.isShow))}var Ort=["viewBox"],Irt=["viewBox"];function zp(){return zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},zp.apply(null,arguments)}function Vq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vq(Object(r),!0).forEach(function(s){H6(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vq(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Wq(e,t){if(e==null)return{};var r,s,a=Frt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Frt(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function H6(e,t,r){return(t=$rt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $rt(e){var t=Lrt(e,"string");return typeof t=="symbol"?t:t+""}function Lrt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Ku extends v.Component{constructor(t){super(t),this.tickRefs=v.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:s}=t,a=Wq(t,Ort),i=this.props,{viewBox:o}=i,c=Wq(i,Irt);return!DR(s,o)||!DR(a,c)||!DR(r,this.state)}getTickLineCoord(t){var{x:r,y:s,width:a,height:i,orientation:o,tickSize:c,mirror:d,tickMargin:u}=this.props,l,f,m,p,x,b,h=d?-1:1,y=t.tickSize||c,w=lt(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":l=f=t.coordinate,p=s+ +!d*i,m=p-h*y,b=m-h*u,x=w;break;case"left":m=p=t.coordinate,f=r+ +!d*a,l=f-h*y,x=l-h*u,b=w;break;case"right":m=p=t.coordinate,f=r+ +d*a,l=f+h*y,x=l+h*u,b=w;break;default:l=f=t.coordinate,p=s+ +d*i,m=p+h*y,b=m+h*u,x=w;break}return{line:{x1:l,y1:m,x2:f,y2:p},tick:{x,y:b}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,s;switch(t){case"left":s=r?"start":"end";break;case"right":s=r?"end":"start";break;default:s="middle";break}return s}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:s,height:a,orientation:i,mirror:o,axisLine:c}=this.props,d=En(En(En({},gn(this.props,!1)),gn(c,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!o||i==="bottom"&&o);d=En(En({},d),{},{x1:t,y1:r+u*a,x2:t+s,y2:r+u*a})}else{var l=+(i==="left"&&!o||i==="right"&&o);d=En(En({},d),{},{x1:t+l*s,y1:r,x2:t+l*s,y2:r+a})}return v.createElement("line",zp({},d,{className:St("recharts-cartesian-axis-line",Au(c,"className"))}))}static renderTickItem(t,r,s){var a,i=St(r.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))a=v.cloneElement(t,En(En({},r),{},{className:i}));else if(typeof t=="function")a=t(En(En({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=St(o,t.className)),a=v.createElement(g2,zp({},r,{className:o}),s)}return a}renderTicks(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:a,stroke:i,tick:o,tickFormatter:c,unit:d,padding:u}=this.props,l=U6(En(En({},this.props),{},{ticks:s}),t,r),f=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),p=eh(this.props),x=gn(o,!1),b=En(En({},p),{},{fill:"none"},gn(a,!1)),h=l.map((y,w)=>{var{line:S,tick:N}=this.getTickLineCoord(y),_=En(En(En(En({textAnchor:f,verticalAnchor:m},p),{},{stroke:"none",fill:i},x),N),{},{index:w,payload:y,visibleTicksCount:l.length,tickFormatter:c,padding:u});return v.createElement(Ri,zp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(y.value,"-").concat(y.coordinate,"-").concat(y.tickCoord)},Lb(this.props,y,w)),a&&v.createElement("line",zp({},b,S,{className:St("recharts-cartesian-axis-tick-line",Au(a,"className"))})),o&&Ku.renderTickItem(o,_,"".concat(typeof c=="function"?c(y.value,w):y.value).concat(d||"")))});return h.length>0?v.createElement("g",{className:"recharts-cartesian-axis-ticks"},h):null}render(){var{axisLine:t,width:r,height:s,className:a,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return r!=null&&r<=0||s!=null&&s<=0?null:v.createElement(Ri,{className:St("recharts-cartesian-axis",a),ref:c=>{if(c){var d=c.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(d);var u=d[0];if(u){var l=window.getComputedStyle(u).fontSize,f=window.getComputedStyle(u).letterSpacing;(l!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),bi.renderCallByParent(this.props))}}H6(Ku,"displayName","CartesianAxis");H6(Ku,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Brt=["x1","y1","x2","y2","key"],zrt=["offset"],Urt=["xAxisId","yAxisId"],Hrt=["xAxisId","yAxisId"];function qq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qq(Object(r),!0).forEach(function(s){Vrt(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qq(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Vrt(e,t,r){return(t=Wrt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wrt(e){var t=qrt(e,"string");return typeof t=="symbol"?t:t+""}function qrt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function em(){return em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},em.apply(null,arguments)}function f_(e,t){if(e==null)return{};var r,s,a=Grt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Grt(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var Yrt=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:s,y:a,width:i,height:o,ry:c}=e;return v.createElement("rect",{x:s,y:a,ry:c,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Tie(e,t){var r;if(v.isValidElement(e))r=v.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:s,y1:a,x2:i,y2:o,key:c}=t,d=f_(t,Brt),u=eh(d),{offset:l}=u,f=f_(u,zrt);r=v.createElement("line",em({},f,{x1:s,y1:a,x2:i,y2:o,fill:"none",key:c}))}return r}function Krt(e){var{x:t,width:r,horizontal:s=!0,horizontalPoints:a}=e;if(!s||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,c=f_(e,Urt),d=a.map((u,l)=>{var f=ga(ga({},c),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(l),index:l});return Tie(s,f)});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function Zrt(e){var{y:t,height:r,vertical:s=!0,verticalPoints:a}=e;if(!s||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,c=f_(e,Hrt),d=a.map((u,l)=>{var f=ga(ga({},c),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(l),index:l});return Tie(s,f)});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function Xrt(e){var{horizontalFill:t,fillOpacity:r,x:s,y:a,width:i,height:o,horizontalPoints:c,horizontal:d=!0}=e;if(!d||!t||!t.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==u[0]&&u.unshift(0);var l=u.map((f,m)=>{var p=!u[m+1],x=p?a+o-f:u[m+1]-f;if(x<=0)return null;var b=m%t.length;return v.createElement("rect",{key:"react-".concat(m),y:f,x:s,height:x,width:i,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},l)}function Jrt(e){var{vertical:t=!0,verticalFill:r,fillOpacity:s,x:a,y:i,width:o,height:c,verticalPoints:d}=e;if(!t||!r||!r.length)return null;var u=d.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==u[0]&&u.unshift(0);var l=u.map((f,m)=>{var p=!u[m+1],x=p?a+o-f:u[m+1]-f;if(x<=0)return null;var b=m%r.length;return v.createElement("rect",{key:"react-".concat(m),x:f,y:i,width:x,height:c,stroke:"none",fill:r[b],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},l)}var Qrt=(e,t)=>{var{xAxis:r,width:s,height:a,offset:i}=e;return Ase(U6(ga(ga(ga({},Ku.defaultProps),r),{},{ticks:Tse(r),viewBox:{x:0,y:0,width:s,height:a}})),i.left,i.left+i.width,t)},est=(e,t)=>{var{yAxis:r,width:s,height:a,offset:i}=e;return Ase(U6(ga(ga(ga({},Ku.defaultProps),r),{},{ticks:Tse(r),viewBox:{x:0,y:0,width:s,height:a}})),i.top,i.top+i.height,t)},tst={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function V6(e){var t=p5(),r=g5(),s=Ose(),a=ga(ga({},ol(e,tst)),{},{x:lt(e.x)?e.x:s.left,y:lt(e.y)?e.y:s.top,width:lt(e.width)?e.width:s.width,height:lt(e.height)?e.height:s.height}),{xAxisId:i,yAxisId:o,x:c,y:d,width:u,height:l,syncWithTicks:f,horizontalValues:m,verticalValues:p}=a,x=Ao(),b=Ct(D=>WW(D,"xAxis",i,x)),h=Ct(D=>WW(D,"yAxis",o,x));if(!lt(u)||u<=0||!lt(l)||l<=0||!lt(c)||c!==+c||!lt(d)||d!==+d)return null;var y=a.verticalCoordinatesGenerator||Qrt,w=a.horizontalCoordinatesGenerator||est,{horizontalPoints:S,verticalPoints:N}=a;if((!S||!S.length)&&typeof w=="function"){var _=m&&m.length,k=w({yAxis:h?ga(ga({},h),{},{ticks:_?m:h.ticks}):void 0,width:t,height:r,offset:s},_?!0:f);uy(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(S=k)}if((!N||!N.length)&&typeof y=="function"){var E=p&&p.length,T=y({xAxis:b?ga(ga({},b),{},{ticks:E?p:b.ticks}):void 0,width:t,height:r,offset:s},E?!0:f);uy(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(N=T)}return v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(Yrt,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),v.createElement(Xrt,em({},a,{horizontalPoints:S})),v.createElement(Jrt,em({},a,{verticalPoints:N})),v.createElement(Krt,em({},a,{offset:s,horizontalPoints:S,xAxis:b,yAxis:h})),v.createElement(Zrt,em({},a,{offset:s,verticalPoints:N,xAxis:b,yAxis:h})))}V6.displayName="CartesianGrid";function Gq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Yq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gq(Object(r),!0).forEach(function(s){rst(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gq(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function rst(e,t,r){return(t=sst(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sst(e){var t=nst(e,"string");return typeof t=="symbol"?t:t+""}function nst(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ast={xAxis:{},yAxis:{},zAxis:{}},Die=Pt({name:"cartesianAxis",initialState:ast,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:s}=t.payload;e.yAxis[r]&&(e.yAxis[r]=Yq(Yq({},e.yAxis[r]),{},{width:s}))}}}),{addXAxis:ist,removeXAxis:ost,addYAxis:lst,removeYAxis:cst,addZAxis:_3t,removeZAxis:E3t,updateYAxisWidth:dst}=Die.actions,ust=Die.reducer,fst=["children"],mst=["dangerouslySetInnerHTML","ticks"];function Pie(e,t,r){return(t=hst(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hst(e){var t=pst(e,"string");return typeof t=="symbol"?t:t+""}function pst(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iO(){return iO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},iO.apply(null,arguments)}function Rie(e,t){if(e==null)return{};var r,s,a=gst(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gst(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function xst(e){var t=Ws(),r=v.useMemo(()=>{var{children:i}=e,o=Rie(e,fst);return o},[e]),s=Ct(i=>ud(i,r.id)),a=r===s;return v.useEffect(()=>(t(ist(r)),()=>{t(ost(r))}),[r,t]),a?e.children:null}var vst=e=>{var{xAxisId:t,className:r}=e,s=Ct(Mse),a=Ao(),i="xAxis",o=Ct(p=>Nx(p,i,t,a)),c=Ct(p=>Nae(p,i,t,a)),d=Ct(p=>bae(p,t)),u=Ct(p=>JZe(p,t));if(d==null||u==null)return null;var{dangerouslySetInnerHTML:l,ticks:f}=e,m=Rie(e,mst);return v.createElement(Ku,iO({},m,{scale:o,x:u.x,y:u.y,width:d.width,height:d.height,className:St("recharts-".concat(i," ").concat(i),r),viewBox:s,ticks:c}))},yst=e=>{var t,r,s,a,i;return v.createElement(xst,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(s=e.angle)!==null&&s!==void 0?s:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},v.createElement(vst,e))};class x2 extends v.Component{render(){return v.createElement(yst,this.props)}}Pie(x2,"displayName","XAxis");Pie(x2,"defaultProps",{allowDataOverflow:hi.allowDataOverflow,allowDecimals:hi.allowDecimals,allowDuplicatedCategory:hi.allowDuplicatedCategory,height:hi.height,hide:!1,mirror:hi.mirror,orientation:hi.orientation,padding:hi.padding,reversed:hi.reversed,scale:hi.scale,tickCount:hi.tickCount,type:hi.type,xAxisId:0});var bst=e=>{var{ticks:t,label:r,labelGapWithTick:s=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(l=>{if(l){var f=l.getBoundingClientRect();f.width>o&&(o=f.width)}});var c=r?r.getBoundingClientRect().width:0,d=a+i,u=o+d+c+(r?s:0);return Math.round(u)}return 0},wst=["dangerouslySetInnerHTML","ticks"];function Mie(e,t,r){return(t=jst(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jst(e){var t=Sst(e,"string");return typeof t=="symbol"?t:t+""}function Sst(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oO(){return oO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},oO.apply(null,arguments)}function Nst(e,t){if(e==null)return{};var r,s,a=Cst(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Cst(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function _st(e){var t=Ws();return v.useEffect(()=>(t(lst(e)),()=>{t(cst(e))}),[e,t]),null}var Est=e=>{var t,{yAxisId:r,className:s,width:a,label:i}=e,o=v.useRef(null),c=v.useRef(null),d=Ct(Mse),u=Ao(),l=Ws(),f="yAxis",m=Ct(S=>Nx(S,f,r,u)),p=Ct(S=>wae(S,r)),x=Ct(S=>QZe(S,r)),b=Ct(S=>Nae(S,f,r,u));if(v.useLayoutEffect(()=>{var S;if(!(a!=="auto"||!p||P6(i)||v.isValidElement(i))){var N=o.current,_=N==null||(S=N.tickRefs)===null||S===void 0?void 0:S.current,{tickSize:k,tickMargin:E}=N.props,T=bst({ticks:_,label:c.current,labelGapWithTick:5,tickSize:k,tickMargin:E});Math.round(p.width)!==Math.round(T)&&l(dst({id:r,width:T}))}},[o,o==null||(t=o.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,p?.width,p,l,i,r,a]),p==null||x==null)return null;var{dangerouslySetInnerHTML:h,ticks:y}=e,w=Nst(e,wst);return v.createElement(Ku,oO({},w,{ref:o,labelRef:c,scale:m,x:x.x,y:x.y,width:p.width,height:p.height,className:St("recharts-".concat(f," ").concat(f),s),viewBox:d,ticks:b}))},kst=e=>{var t,r,s,a,i;return v.createElement(v.Fragment,null,v.createElement(_st,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(s=e.angle)!==null&&s!==void 0?s:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),v.createElement(Est,e))},Ast={allowDataOverflow:pi.allowDataOverflow,allowDecimals:pi.allowDecimals,allowDuplicatedCategory:pi.allowDuplicatedCategory,hide:!1,mirror:pi.mirror,orientation:pi.orientation,padding:pi.padding,reversed:pi.reversed,scale:pi.scale,tickCount:pi.tickCount,type:pi.type,width:pi.width,yAxisId:0};class v2 extends v.Component{render(){return v.createElement(kst,this.props)}}Mie(v2,"displayName","YAxis");Mie(v2,"defaultProps",Ast);var Tst=(e,t)=>t,W6=we([Tst,yr,Xne,On,Lae,fd,sJe,Rn],lJe),q6=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,s=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/s)}},Oie=ka("mouseClick"),Iie=sb();Iie.startListening({actionCreator:Oie,effect:(e,t)=>{var r=e.payload,s=W6(t.getState(),q6(r));s?.activeIndex!=null&&t.dispatch(fXe({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}});var lO=ka("mouseMove"),Fie=sb();Fie.startListening({actionCreator:lO,effect:(e,t)=>{var r=e.payload,s=t.getState(),a=w6(s,s.tooltip.settings.shared),i=W6(s,q6(r));a==="axis"&&(i?.activeIndex!=null?t.dispatch(Pae({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(Dae()))}});function Dst(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var Kq={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},$ie=Pt({name:"rootProps",initialState:Kq,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:Kq.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Pst=$ie.reducer,{updateOptions:Rst}=$ie.actions,Lie=Pt({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Mst}=Lie.actions,Ost=Lie.reducer,Bie=ka("keyDown"),zie=ka("focus"),G6=sb();G6.startListening({actionCreator:Bie,effect:(e,t)=>{var r=t.getState(),s=r.rootProps.accessibilityLayer!==!1;if(s){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(j6(a,_x(r))),c=fd(r);if(i==="Enter"){var d=i_(r,"axis","hover",String(a.index));t.dispatch(tO({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:d}));return}var u=sXe(r),l=u==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,m=o+f*l;if(!(c==null||m>=c.length||m<0)){var p=i_(r,"axis","hover",String(m));t.dispatch(tO({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});G6.startListening({actionCreator:zie,effect:(e,t)=>{var r=t.getState(),s=r.rootProps.accessibilityLayer!==!1;if(s){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=i_(r,"axis","hover",String(i));t.dispatch(tO({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var oo=ka("externalEvent"),Uie=sb();Uie.startListening({actionCreator:oo,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),s={activeCoordinate:YXe(r),activeDataKey:Hae(r),activeIndex:Im(r),activeLabel:Uae(r),activeTooltipIndex:Im(r),isTooltipActive:KXe(r)};e.payload.handler(s,e.payload.reactEvent)}}});var Ist=we([Cx],e=>e.tooltipItemPayloads),Fst=we([Ist,Zb,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,s)=>{var a=e.find(c=>c.settings.dataKey===s);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),Hie=ka("touchMove"),Vie=sb();Vie.startListening({actionCreator:Hie,effect:(e,t)=>{var r=e.payload,s=t.getState(),a=w6(s,s.tooltip.settings.shared);if(a==="axis"){var i=W6(s,q6({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));i?.activeIndex!=null&&t.dispatch(Pae({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var o,c=r.touches[0],d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var u=d.getAttribute(Pse),l=(o=d.getAttribute(Rse))!==null&&o!==void 0?o:void 0,f=Fst(t.getState(),u,l);t.dispatch(Tae({activeDataKey:l,activeIndex:u,activeCoordinate:f}))}}});var $st=KK({brush:grt,cartesianAxis:ust,chartData:NJe,errorBars:vtt,graphicalItems:Pet,layout:cWe,legend:ZWe,options:yJe,polarAxis:KQe,polarOptions:Ost,referenceElements:Srt,rootProps:Pst,tooltip:mXe}),Lst=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return lZ({reducer:$st,preloadedState:t,middleware:s=>s({serializableCheck:!1}).concat([Iie.middleware,Fie.middleware,G6.middleware,Uie.middleware,Vie.middleware]),devTools:{serialize:{replacer:Dst},name:"recharts-".concat(r)}})};function Wie(e){var{preloadedState:t,children:r,reduxStoreName:s}=e,a=Ao(),i=v.useRef(null);if(a)return r;i.current==null&&(i.current=Lst(t,s));var o=d5;return v.createElement(WK,{context:o,store:i.current},r)}function qie(e){var{layout:t,width:r,height:s,margin:a}=e,i=Ws(),o=Ao();return v.useEffect(()=>{o||(i(iWe(t)),i(oWe({width:r,height:s})),i(aWe(a)))},[i,o,t,r,s,a]),null}function Gie(e){var t=Ws();return v.useEffect(()=>{t(Rst(e))},[t,e]),null}var Bst=["children"];function zst(e,t){if(e==null)return{};var r,s,a=Ust(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ust(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function m_(){return m_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},m_.apply(null,arguments)}var Hst={width:"100%",height:"100%"},Vst=v.forwardRef((e,t)=>{var r=p5(),s=g5(),a=Lse();if(!jg(r)||!jg(s))return null;var{children:i,otherAttributes:o,title:c,desc:d}=e,u,l;return typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?l=o.role:l=a?"application":void 0,v.createElement(J3,m_({},o,{title:c,desc:d,role:l,tabIndex:u,width:r,height:s,style:Hst,ref:t}),i)}),Wst=e=>{var{children:t}=e,r=Ct(JE);if(!r)return null;var{width:s,height:a,y:i,x:o}=r;return v.createElement(J3,{width:s,height:a,x:o,y:i},t)},Zq=v.forwardRef((e,t)=>{var{children:r}=e,s=zst(e,Bst),a=Ao();return a?v.createElement(Wst,null,r):v.createElement(Vst,m_({ref:t},s),r)});function qst(){var e=Ws(),[t,r]=v.useState(null),s=Ct($We);return v.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Mi(i)&&i!==s&&e(lWe(i))}},[t,e,s]),r}function Xq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Gst(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xq(Object(r),!0).forEach(function(s){Yst(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xq(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Yst(e,t,r){return(t=Kst(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kst(e){var t=Zst(e,"string");return typeof t=="symbol"?t:t+""}function Zst(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xst=v.forwardRef((e,t)=>{var{children:r,className:s,height:a,onClick:i,onContextMenu:o,onDoubleClick:c,onMouseDown:d,onMouseEnter:u,onMouseLeave:l,onMouseMove:f,onMouseUp:m,onTouchEnd:p,onTouchMove:x,onTouchStart:b,style:h,width:y}=e,w=Ws(),[S,N]=v.useState(null),[_,k]=v.useState(null);EJe();var E=qst(),T=v.useCallback(U=>{E(U),typeof t=="function"&&t(U),N(U),k(U)},[E,t,N,k]),D=v.useCallback(U=>{w(Oie(U)),w(oo({handler:i,reactEvent:U}))},[w,i]),P=v.useCallback(U=>{w(lO(U)),w(oo({handler:u,reactEvent:U}))},[w,u]),M=v.useCallback(U=>{w(Dae()),w(oo({handler:l,reactEvent:U}))},[w,l]),R=v.useCallback(U=>{w(lO(U)),w(oo({handler:f,reactEvent:U}))},[w,f]),B=v.useCallback(()=>{w(zie())},[w]),L=v.useCallback(U=>{w(Bie(U.key))},[w]),$=v.useCallback(U=>{w(oo({handler:o,reactEvent:U}))},[w,o]),I=v.useCallback(U=>{w(oo({handler:c,reactEvent:U}))},[w,c]),z=v.useCallback(U=>{w(oo({handler:d,reactEvent:U}))},[w,d]),H=v.useCallback(U=>{w(oo({handler:m,reactEvent:U}))},[w,m]),Z=v.useCallback(U=>{w(oo({handler:b,reactEvent:U}))},[w,b]),V=v.useCallback(U=>{w(Hie(U)),w(oo({handler:x,reactEvent:U}))},[w,x]),G=v.useCallback(U=>{w(oo({handler:p,reactEvent:U}))},[w,p]);return v.createElement(Kae.Provider,{value:S},v.createElement(Hre.Provider,{value:_},v.createElement("div",{className:St("recharts-wrapper",s),style:Gst({position:"relative",cursor:"default",width:y,height:a},h),onClick:D,onContextMenu:$,onDoubleClick:I,onFocus:B,onKeyDown:L,onMouseDown:z,onMouseEnter:P,onMouseLeave:M,onMouseMove:R,onMouseUp:H,onTouchEnd:G,onTouchMove:V,onTouchStart:Z,ref:T},r)))}),Jst=["children","className","width","height","style","compact","title","desc"];function Qst(e,t){if(e==null)return{};var r,s,a=ent(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ent(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var Yie=v.forwardRef((e,t)=>{var{children:r,className:s,width:a,height:i,style:o,compact:c,title:d,desc:u}=e,l=Qst(e,Jst),f=eh(l);return c?v.createElement(Zq,{otherAttributes:f,title:d,desc:u},r):v.createElement(Xst,{className:s,style:o,width:a,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(Zq,{otherAttributes:f,title:d,desc:u,ref:t},v.createElement(Crt,null,r)))}),tnt=["width","height"];function cO(){return cO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},cO.apply(null,arguments)}function rnt(e,t){if(e==null)return{};var r,s,a=snt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function snt(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var nnt={top:5,right:5,bottom:5,left:5},ant={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:nnt,reverseStackOrder:!1,syncMethod:"index"},int=v.forwardRef(function(t,r){var s,a=ol(t.categoricalChartProps,ant),{width:i,height:o}=a,c=rnt(a,tnt);if(!jg(i)||!jg(o))return null;var{chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:l,tooltipPayloadSearcher:f,categoricalChartProps:m}=t,p={chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:l,tooltipPayloadSearcher:f,eventEmitter:void 0};return v.createElement(Wie,{preloadedState:{options:p},reduxStoreName:(s=m.id)!==null&&s!==void 0?s:d},v.createElement(_ie,{chartData:m.data}),v.createElement(qie,{width:i,height:o,layout:a.layout,margin:a.margin}),v.createElement(Gie,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),v.createElement(Yie,cO({},c,{width:i,height:o,ref:r})))}),ont=["axis","item"],Kie=v.forwardRef((e,t)=>v.createElement(int,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ont,tooltipPayloadSearcher:Zae,categoricalChartProps:e,ref:t}));function lnt(e){var t=Ws();return v.useEffect(()=>{t(Mst(e))},[t,e]),null}var cnt=["width","height","layout"];function dO(){return dO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},dO.apply(null,arguments)}function dnt(e,t){if(e==null)return{};var r,s,a=unt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function unt(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var fnt={top:5,right:5,bottom:5,left:5},mnt={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:fnt,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},hnt=v.forwardRef(function(t,r){var s,a=ol(t.categoricalChartProps,mnt),{width:i,height:o,layout:c}=a,d=dnt(a,cnt);if(!jg(i)||!jg(o))return null;var{chartName:u,defaultTooltipEventType:l,validateTooltipEventTypes:f,tooltipPayloadSearcher:m}=t,p={chartName:u,defaultTooltipEventType:l,validateTooltipEventTypes:f,tooltipPayloadSearcher:m,eventEmitter:void 0};return v.createElement(Wie,{preloadedState:{options:p},reduxStoreName:(s=a.id)!==null&&s!==void 0?s:u},v.createElement(_ie,{chartData:a.data}),v.createElement(qie,{width:i,height:o,layout:c,margin:a.margin}),v.createElement(Gie,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),v.createElement(lnt,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),v.createElement(Yie,dO({width:i,height:o},d,{ref:r})))}),pnt=["item"],gnt={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},xnt=v.forwardRef((e,t)=>{var r=ol(e,gnt);return v.createElement(hnt,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:pnt,tooltipPayloadSearcher:Zae,categoricalChartProps:r,ref:t})});const Kd={DoorDash:"#E4572E",UberEats:"#2E933C",GrubHub:"#D81B60",Phone:"#1E88E5",Call_Center:"#00897B",Website:"#F9A825",Mobile:"#8E24AA",Drive_Thru:"#6D4C41"},vnt=({title:e="Channel Sales",channels:t,className:r})=>{const{raw:s}=Vu(),{raw:a}=od(),{isLoading:i,error:o}=ri(),c=ca(),d=v.useMemo(()=>{if(!s)return[];const p=[];if(s.DoorDash_Sales!==void 0){const x=s.DoorDash_Sales||0,b=a?.DoorDashSales||0;p.push({id:"doordash",name:"DoorDash",daily:`$${x.toFixed(2)}`,weekly:`$${b.toFixed(2)}`})}if(s.UberEats_Sales!==void 0){const x=s.UberEats_Sales||0,b=a?.UberEatsSales||0;p.push({id:"ubereats",name:"UberEats",daily:`$${x.toFixed(2)}`,weekly:`$${b.toFixed(2)}`})}if(s.GrubHub_Sales!==void 0){const x=s.GrubHub_Sales||0,b=a?.GrubHubSales||0;p.push({id:"grubhub",name:"GrubHub",daily:`$${x.toFixed(2)}`,weekly:`$${b.toFixed(2)}`})}if(s.Phone!==void 0){const x=s.Phone||0,b=a?.Phone||0;p.push({id:"phone",name:"Phone",daily:`$${x.toFixed(2)}`,weekly:`$${b.toFixed(2)}`})}if(s.Call_Center_Agent!==void 0){const x=s.Call_Center_Agent||0,b=a?.CallCenterAgent||0;p.push({id:"call_center",name:"Call Center",daily:`$${x.toFixed(2)}`,weekly:`$${b.toFixed(2)}`})}if(s.Website!==void 0){const x=s.Website||0,b=a?.Website||0;p.push({id:"website",name:"Website",daily:`$${x.toFixed(2)}`,weekly:`$${b.toFixed(2)}`})}if(s.Mobile!==void 0){const x=s.Mobile||0,b=a?.Mobile||0;p.push({id:"mobile",name:"Mobile",daily:`$${x.toFixed(2)}`,weekly:`$${b.toFixed(2)}`})}if(s.Drive_Thru_Sales!==void 0){const x=s.Drive_Thru_Sales||0,b=a?.DriveThruSales||0;p.push({id:"drive_thru",name:"Drive Thru",daily:`$${x.toFixed(2)}`,weekly:`$${b.toFixed(2)}`})}return p},[s,a]),u=t||d,l=v.useMemo(()=>{if(!s)return[];const p=[{name:"DoorDash",value:s.DoorDash_Sales||0,fill:Kd.DoorDash},{name:"UberEats",value:s.UberEats_Sales||0,fill:Kd.UberEats},{name:"GrubHub",value:s.GrubHub_Sales||0,fill:Kd.GrubHub},{name:"Phone",value:s.Phone||0,fill:Kd.Phone},{name:"Call Center",value:s.Call_Center_Agent||0,fill:Kd.Call_Center},{name:"Website",value:s.Website||0,fill:Kd.Website},{name:"Mobile",value:s.Mobile||0,fill:Kd.Mobile}];return s.Drive_Thru_Sales!==void 0&&p.push({name:"Drive Thru",value:s.Drive_Thru_Sales||0,fill:Kd.Drive_Thru}),p.filter(x=>x.value>0)},[s]),f=({cx:p,cy:x,midAngle:b,innerRadius:h,outerRadius:y,percent:w})=>{if(w<.1)return null;const S=Math.PI/180,N=h+(y-h)*.5,_=p+N*Math.cos(-b*S),k=x+N*Math.sin(-b*S);return n.jsx("text",{x:_,y:k,fill:"white",textAnchor:_>p?"start":"end",dominantBaseline:"central",fontSize:12,fontWeight:"bold",children:`${(w*100).toFixed(0)}%`})},m=({active:p,payload:x})=>{if(p&&x&&x.length){const b=x[0];return n.jsxs("div",{className:"bg-white p-3 border border-gray-300 rounded shadow-lg",children:[n.jsx("p",{className:"font-semibold text-black",children:b.name}),n.jsxs("p",{className:"text-blue-600",children:["Sales: $",b.value?.toLocaleString()||0]}),n.jsxs("p",{className:"text-gray-600",children:[(b.value/l.reduce((h,y)=>h+y.value,0)*100).toFixed(1),"%"]})]})}return null};return n.jsxs("div",{className:X("w-full grid grid-cols-1 gap-8 p-2 overflow-hidden",c?"grid-cols-1":"grid-cols-2"),children:[n.jsxs(oe,{className:X("shadow-realistic-lg flex-shrink-0 overflow-hidden","w-full",r),children:[n.jsx(Re,{className:X("bg-channel-header text-channel-header-foreground rounded-t-lg",c?"p-3":"p-6"),children:n.jsx(qe,{className:X("font-bold text-center",c?"text-base":"text-lg md:text-xl"),children:e})}),n.jsx(je,{className:"p-0",children:i?n.jsx("div",{className:"flex items-center justify-center h-48",children:n.jsx("div",{className:"text-gray-500",children:"Loading channel sales data..."})}):o?n.jsx("div",{className:"flex items-center justify-center h-48",children:n.jsx("div",{className:"text-red-500",children:"Error loading channel sales data"})}):u.length===0?n.jsx("div",{className:"flex items-center justify-center h-48",children:n.jsx("div",{className:"text-gray-500",children:"No channel sales data available"})}):n.jsx(i9e,{channels:u})})]}),n.jsxs(oe,{className:X("shadow-realistic-lg flex-1 overflow-hidden","w-full"),children:[n.jsx(Re,{className:X("bg-channel-header text-channel-header-foreground rounded-t-lg",c?"p-3":"p-6"),children:n.jsx(qe,{className:X("font-bold text-center",c?"text-base":"text-lg md:text-xl"),children:"Sales Distribution"})}),n.jsx(je,{className:X("p-4 overflow-hidden",c?"h-64":"h-96 "),children:i?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx("div",{className:"text-gray-500",children:"Loading sales data..."})}):o?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx("div",{className:"text-red-500",children:"Error loading sales data"})}):l.length===0?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx("div",{className:"text-gray-500",children:"No sales data available"})}):n.jsx(D6,{width:"100%",height:"100%",children:n.jsxs(xnt,{children:[n.jsx(vie,{data:l,cx:"50%",cy:"50%",labelLine:!1,label:f,outerRadius:c?60:90,fill:"#8884d8",dataKey:"value",children:l.map((p,x)=>n.jsx(Jb,{fill:p.fill},`cell-${x}`))}),n.jsx(T6,{content:n.jsx(m,{})}),n.jsx(gx,{})]})})})]})]})},Xr=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:r,className:X("w-full caption-bottom text-sm",e),...t})}));Xr.displayName="Table";const Jr=v.forwardRef(({className:e,...t},r)=>n.jsx("thead",{ref:r,className:X("[&_tr]:border-b",e),...t}));Jr.displayName="TableHeader";const Qr=v.forwardRef(({className:e,...t},r)=>n.jsx("tbody",{ref:r,className:X("[&_tr:last-child]:border-0",e),...t}));Qr.displayName="TableBody";const ynt=v.forwardRef(({className:e,...t},r)=>n.jsx("tfoot",{ref:r,className:X("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));ynt.displayName="TableFooter";const Nt=v.forwardRef(({className:e,...t},r)=>n.jsx("tr",{ref:r,className:X("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Nt.displayName="TableRow";const De=v.forwardRef(({className:e,...t},r)=>n.jsx("th",{ref:r,className:X("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));De.displayName="TableHead";const Ee=v.forwardRef(({className:e,...t},r)=>n.jsx("td",{ref:r,className:X("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));Ee.displayName="TableCell";const bnt=v.forwardRef(({className:e,...t},r)=>n.jsx("caption",{ref:r,className:X("mt-4 text-sm text-muted-foreground",e),...t}));bnt.displayName="TableCaption";function wnt(){const e=ql(),t=Ce(QDe),r=Ce(ePe),s=Ce(tPe),a=Ce(rPe),i=Ce(sPe),o=Ce(nPe),c=Ce(aPe),d=Ce(iPe),u=Ce(oPe),l=Ce(lPe),f=Ce(cPe),m=Ce(dPe),p=Ce(uPe),x=Ce(fPe),b=Ce(mPe),h=Ce(hPe),y=Ce(pPe),w=Ce(gPe),S=Ce(xPe),N=Ce(vPe),_=Ce(yPe),k=Ce(bPe),E=Ce(wPe),T=Ce(jPe),D=Ce(SPe),P=Ce(NPe),M=Ce(CPe),R=v.useCallback(z=>{e(YDe(z))},[e]),B=v.useCallback(z=>{e(KDe(z))},[e]),L=v.useCallback(z=>{e(ZDe(z))},[e]),$=v.useCallback(()=>{e(XDe())},[e]),I=v.useCallback(()=>{e(JDe())},[e]);return{raw:t,processed:r,financial:s,operational:a,quality:i,costControl:o,salesChannels:c,hours:M,grade:d,alerts:u,criticalAlerts:l,totalSales:h,totalOrders:y,averageTicket:w,digitalPercent:S,laborPercent:N,wastePercent:_,customerService:k,promiseMetPercent:E,hasData:b,store:p,date:x,lastProcessed:m,alertsEnabled:T,alertCount:D,hasCriticalAlerts:P,config:f,setThresholds:R,setGradeThresholds:B,toggleAlerts:L,resetConfig:$,clearData:I}}const io=e=>{const t=e??0;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)},Jq=e=>`${(e??0).toFixed(1)}%`,jnt=e=>{const t=e>=12?"PM":"AM";return`${e===0?12:e>12?e-12:e}:00 ${t}`},Snt=({title:e="Daily Hours",subtitle:t,className:r})=>{const{financial:s,operational:a,salesChannels:i,hasData:o,hours:c}=wnt(),d=ca(),u=v.useMemo(()=>{const m=(Array.isArray(c)?c:[]).map((p,x)=>{const b=Number(p.Total_Sales||0),h=Number(p.Order_Count||0),y=Number(p.Website||0),w=Number(p.Mobile||0),S=Number(p.Phone_Sales||0),N=Number(p.Drive_Thru||0),_=h>0?b/h:0,k=b>0?(y+w)/b*100:0,E=b>0||h>0;return{hourLabel:jnt(x),totalSales:io(b),orders:h,website:io(y),mobile:io(w),phone:io(S),driveThru:io(N),aov:io(_),digitalPct:Jq(k),hasActivity:E}});if(s&&a&&i){const p=(i.digitalPercent??0)*100,x=(s.totalSales??0)>0,b={hourLabel:"Total",totalSales:io(s.totalSales),orders:a.customerCount??0,website:io(i.websiteSales),mobile:io(i.mobileSales),phone:io(i.phoneSales),driveThru:io(i.driveThruSales),aov:io(a.averageTicket),digitalPct:Jq(p),hasActivity:x};return[...m,b]}return m},[c,s,a,i]),l=()=>n.jsxs("div",{className:X("w-full bg-card rounded-lg border border-border p-6 shadow-realistic","flex flex-col items-center justify-center text-center space-y-2",d?"min-h-40":"min-h-56"),children:[n.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-muted",children:n.jsx(ku,{className:"w-5 h-5 text-muted-foreground"})}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"No hourly sales data available"})]});return n.jsxs("section",{className:X(d?"p-2 space-y-2":"p-2 space-y-6",r),children:[n.jsx(Fb,{title:e,subtitle:t}),!o||u.length===0?n.jsx(l,{}):n.jsxs(oe,{className:X("shadow-realistic"),children:[n.jsx(Re,{className:"py-3",children:n.jsx(qe,{className:"text-base text-center",children:"Hourly Sales"})}),n.jsx(je,{className:"p-3",children:n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs(Xr,{className:"min-w-[800px]",children:[n.jsx(Jr,{children:n.jsxs(Nt,{children:[n.jsx(De,{className:"whitespace-nowrap",children:"Hour"}),n.jsx(De,{className:"whitespace-nowrap",children:"Total Sales"}),n.jsx(De,{className:"whitespace-nowrap",children:"Orders"}),n.jsx(De,{className:"whitespace-nowrap",children:"Website"}),n.jsx(De,{className:"whitespace-nowrap",children:"Mobile"}),n.jsx(De,{className:"whitespace-nowrap",children:"Phone"}),n.jsx(De,{className:"whitespace-nowrap",children:"Drive Thru"}),n.jsx(De,{className:"whitespace-nowrap",children:"Avg Order"}),n.jsx(De,{className:"whitespace-nowrap",children:"Digital %"})]})}),n.jsx(Qr,{children:u.map((f,m)=>n.jsxs(Nt,{className:X(!f.hasActivity&&"opacity-60"),children:[n.jsx(Ee,{children:f.hourLabel}),n.jsx(Ee,{children:f.totalSales}),n.jsx(Ee,{children:f.orders}),n.jsx(Ee,{children:f.website}),n.jsx(Ee,{children:f.mobile}),n.jsx(Ee,{children:f.phone}),n.jsx(Ee,{children:f.driveThru}),n.jsx(Ee,{children:f.aov}),n.jsx(Ee,{children:f.digitalPct})]},m))})]})})})]})]})},Nnt=Jm("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ae({className:e,variant:t,...r}){return n.jsx("div",{className:X(Nnt({variant:t}),e),...r})}const Zie=({label:e,value:t,multiline:r=!1,isLast:s=!1,isMobile:a=!1})=>n.jsxs("div",{className:X("space-y-2",a&&"space-y-1"),children:[n.jsxs("div",{className:X("flex items-center justify-between",a?"py-1":"py-2"),children:[n.jsx("span",{className:X("font-semibold text-muted-foreground truncate flex-1",a?"text-xs":"text-sm",r?"leading-relaxed":"whitespace-nowrap"),children:r?n.jsx("span",{className:"block",children:e.split(`
`).map((i,o)=>n.jsxs(te.Fragment,{children:[i,o<e.split(`
`).length-1&&n.jsx("br",{})]},o))}):e}),n.jsx("span",{className:X("font-bold text-foreground truncate flex-shrink-0",a?"text-xs":"text-sm"),children:t})]}),!s&&n.jsx(Hs,{})]}),Xie=({label:e,value:t,status:r,statusColor:s,multiline:a=!1,isLast:i=!1,isMobile:o=!1})=>n.jsxs("div",{className:X("space-y-2",o&&"space-y-1"),children:[n.jsxs("div",{className:X("flex items-center justify-between",o?"py-1":"py-2"),children:[n.jsx("span",{className:X("font-semibold text-muted-foreground flex-1 truncate",o?"text-xs":"text-sm",a?"leading-relaxed":"whitespace-nowrap"),children:a?n.jsx("span",{className:"block",children:e.split(`
`).map((c,d)=>n.jsxs(te.Fragment,{children:[c,d<e.split(`
`).length-1&&n.jsx("br",{})]},d))}):e}),n.jsxs("div",{className:X("flex items-center",o?"gap-1":"gap-2"),children:[n.jsx("span",{className:X("font-bold text-foreground truncate flex-shrink-0",o?"text-xs":"text-sm"),children:t}),n.jsx("div",{className:X("flex items-center justify-center rounded-lg overflow-hidden",o?"w-6 h-5":"w-8 h-6"),children:n.jsx(Ae,{variant:r==="OT"?"secondary":"destructive",className:X("p-2 ",r==="OT"&&"bg-[var(--chart-3)] text-foreground",o?"text-xs h-3":"text-xs h-4"),style:{color:s},children:r})})]})]}),!i&&n.jsx(Hs,{})]}),uO=({isMobile:e=!1})=>n.jsx("div",{className:X("flex items-center",e?"py-1":"py-2"),children:n.jsx("span",{className:X("font-bold text-dsqr-warning",e?"text-sm":"text-base"),children:"On Track ?"})}),Qq={doordash:{light:"/doordash-svgrepo-com.svg",dark:"/doordash-svgrepo-com-dark.svg"},ubereats:{light:"/ubereats-svgrepo-com.svg",dark:"/ubereats-svgrepo-com-dark.svg"},grubhub:{light:"/grubhub-svgrepo-com.svg",dark:"/grubhub-svgrepo-com-dark.svg"},default:{light:"/vite.svg",dark:"/vite.svg"}},cu=(e,t)=>{const r=Qq[e]||Qq.default;return t?r.dark:r.light},Jie=()=>typeof window>"u"?!1:window.document.documentElement.classList.contains("dark"),Cnt=({iconSrc:e,title:t,data:r=null,metrics:s=null,hasOnTrack:a=!0,onTrackPosition:i="middle",className:o,isMobile:c=!1})=>{const{theme:d}=$u(),u=r||[],l=s||[],f=d==="dark"||d==="system"&&Jie(),m=()=>e?e.includes("doordash")?cu("doordash",f):e.includes("ubereats")?cu("ubereats",f):e.includes("grubhub")?cu("grubhub",f):e:cu("default",f);return n.jsxs(oe,{className:X("w-full shadow-realistic hover:shadow-realistic-lg transition-shadow duration-200",c?"max-w-full":"max-w-full mx-auto",o),children:[n.jsx(Re,{className:X("p-2"),children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("img",{src:m(),alt:`${t} icon`,className:X("text-muted-foreground",c?"w-4 h-4":"w-12 h-12")})})}),n.jsxs(je,{className:X(c?"space-y-2 p-3 pt-0":"space-y-3"),children:[u.length>0&&u.map((p,x)=>n.jsx(Zie,{...p,isLast:!1,isMobile:c},`data-${x}`)),a&&i==="top"&&n.jsx(uO,{isMobile:c}),a&&i==="middle"&&u.length>0&&n.jsx(uO,{isMobile:c}),l.length>0&&l.map((p,x)=>n.jsx(Xie,{...p,isLast:x===l.length-1,isMobile:c},`metric-${x}`))]})]})},_nt=({platforms:e,layout:t="horizontal",className:r})=>{const s=ca(),a=()=>{if(s)return"flex flex-col gap-4";switch(t){case"vertical":return"flex flex-col gap-6";case"grid":return"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6";default:return"flex flex-col lg:flex-row justify-start gap-4 lg:gap-6 overflow-x-auto"}};return n.jsx("div",{className:X("w-full",a(),r),children:e.map((i,o)=>n.jsx(Cnt,{...i,className:X(t==="horizontal"&&!s?"flex-1 min-w-0":"flex-shrink-0"),isMobile:s},`platform-${o}`))})};function ew(e){const t=e+"CollectionProvider",[r,s]=cn(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:h,children:y}=b,w=te.useRef(null),S=te.useRef(new Map).current;return n.jsx(a,{scope:h,itemMap:S,collectionRef:w,children:y})};o.displayName=t;const c=e+"CollectionSlot",d=Nu(c),u=te.forwardRef((b,h)=>{const{scope:y,children:w}=b,S=i(c,y),N=bt(h,S.collectionRef);return n.jsx(d,{ref:N,children:w})});u.displayName=c;const l=e+"CollectionItemSlot",f="data-radix-collection-item",m=Nu(l),p=te.forwardRef((b,h)=>{const{scope:y,children:w,...S}=b,N=te.useRef(null),_=bt(h,N),k=i(l,y);return te.useEffect(()=>(k.itemMap.set(N,{ref:N,...S}),()=>{k.itemMap.delete(N)})),n.jsx(m,{[f]:"",ref:_,children:w})});p.displayName=l;function x(b){const h=i(e+"CollectionConsumer",b);return te.useCallback(()=>{const w=h.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(h.itemMap.values()).sort((k,E)=>S.indexOf(k.ref.current)-S.indexOf(E.ref.current))},[h.collectionRef,h.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},x,s]}var Ent=v.createContext(void 0);function Zu(e){const t=v.useContext(Ent);return e||t||"ltr"}var PR="rovingFocusGroup.onEntryFocus",knt={bubbles:!1,cancelable:!0},tw="RovingFocusGroup",[fO,Qie,Ant]=ew(tw),[Tnt,y2]=cn(tw,[Ant]),[Dnt,Pnt]=Tnt(tw),eoe=v.forwardRef((e,t)=>n.jsx(fO.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(fO.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Rnt,{...e,ref:t})})}));eoe.displayName=tw;var Rnt=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:l=!1,...f}=e,m=v.useRef(null),p=bt(t,m),x=Zu(i),[b,h]=Di({prop:o,defaultProp:c??null,onChange:d,caller:tw}),[y,w]=v.useState(!1),S=As(u),N=Qie(r),_=v.useRef(!1),[k,E]=v.useState(0);return v.useEffect(()=>{const T=m.current;if(T)return T.addEventListener(PR,S),()=>T.removeEventListener(PR,S)},[S]),n.jsx(Dnt,{scope:r,orientation:s,dir:x,loop:a,currentTabStopId:b,onItemFocus:v.useCallback(T=>h(T),[h]),onItemShiftTab:v.useCallback(()=>w(!0),[]),onFocusableItemAdd:v.useCallback(()=>E(T=>T+1),[]),onFocusableItemRemove:v.useCallback(()=>E(T=>T-1),[]),children:n.jsx(nt.div,{tabIndex:y||k===0?-1:0,"data-orientation":s,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Lt(e.onMouseDown,()=>{_.current=!0}),onFocus:Lt(e.onFocus,T=>{const D=!_.current;if(T.target===T.currentTarget&&D&&!y){const P=new CustomEvent(PR,knt);if(T.currentTarget.dispatchEvent(P),!P.defaultPrevented){const M=N().filter(I=>I.focusable),R=M.find(I=>I.active),B=M.find(I=>I.id===b),$=[R,B,...M].filter(Boolean).map(I=>I.ref.current);soe($,l)}}_.current=!1}),onBlur:Lt(e.onBlur,()=>w(!1))})})}),toe="RovingFocusGroupItem",roe=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:i,children:o,...c}=e,d=An(),u=i||d,l=Pnt(toe,r),f=l.currentTabStopId===u,m=Qie(r),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:b}=l;return v.useEffect(()=>{if(s)return p(),()=>x()},[s,p,x]),n.jsx(fO.ItemSlot,{scope:r,id:u,focusable:s,active:a,children:n.jsx(nt.span,{tabIndex:f?0:-1,"data-orientation":l.orientation,...c,ref:t,onMouseDown:Lt(e.onMouseDown,h=>{s?l.onItemFocus(u):h.preventDefault()}),onFocus:Lt(e.onFocus,()=>l.onItemFocus(u)),onKeyDown:Lt(e.onKeyDown,h=>{if(h.key==="Tab"&&h.shiftKey){l.onItemShiftTab();return}if(h.target!==h.currentTarget)return;const y=Int(h,l.orientation,l.dir);if(y!==void 0){if(h.metaKey||h.ctrlKey||h.altKey||h.shiftKey)return;h.preventDefault();let S=m().filter(N=>N.focusable).map(N=>N.ref.current);if(y==="last")S.reverse();else if(y==="prev"||y==="next"){y==="prev"&&S.reverse();const N=S.indexOf(h.currentTarget);S=l.loop?Fnt(S,N+1):S.slice(N+1)}setTimeout(()=>soe(S))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:b!=null}):o})})});roe.displayName=toe;var Mnt={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ont(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Int(e,t,r){const s=Ont(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Mnt[s]}function soe(e,t=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}function Fnt(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var noe=eoe,aoe=roe,b2="Tabs",[$nt,k3t]=cn(b2,[y2]),ioe=y2(),[Lnt,Y6]=$nt(b2),ooe=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:c,activationMode:d="automatic",...u}=e,l=Zu(c),[f,m]=Di({prop:s,onChange:a,defaultProp:i??"",caller:b2});return n.jsx(Lnt,{scope:r,baseId:An(),value:f,onValueChange:m,orientation:o,dir:l,activationMode:d,children:n.jsx(nt.div,{dir:l,"data-orientation":o,...u,ref:t})})});ooe.displayName=b2;var loe="TabsList",coe=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:s=!0,...a}=e,i=Y6(loe,r),o=ioe(r);return n.jsx(noe,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:n.jsx(nt.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});coe.displayName=loe;var doe="TabsTrigger",uoe=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,disabled:a=!1,...i}=e,o=Y6(doe,r),c=ioe(r),d=hoe(o.baseId,s),u=poe(o.baseId,s),l=s===o.value;return n.jsx(aoe,{asChild:!0,...c,focusable:!a,active:l,children:n.jsx(nt.button,{type:"button",role:"tab","aria-selected":l,"aria-controls":u,"data-state":l?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...i,ref:t,onMouseDown:Lt(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:Lt(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:Lt(e.onFocus,()=>{const f=o.activationMode!=="manual";!l&&!a&&f&&o.onValueChange(s)})})})});uoe.displayName=doe;var foe="TabsContent",moe=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,forceMount:a,children:i,...o}=e,c=Y6(foe,r),d=hoe(c.baseId,s),u=poe(c.baseId,s),l=s===c.value,f=v.useRef(l);return v.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),n.jsx(Kl,{present:a||l,children:({present:m})=>n.jsx(nt.div,{"data-state":l?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});moe.displayName=foe;function hoe(e,t){return`${e}-trigger-${t}`}function poe(e,t){return`${e}-content-${t}`}var Bnt=ooe,goe=coe,xoe=uoe,voe=moe;const Zl=Bnt,ll=v.forwardRef(({className:e,...t},r)=>n.jsx(goe,{ref:r,className:X("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));ll.displayName=goe.displayName;const xs=v.forwardRef(({className:e,...t},r)=>n.jsx(xoe,{ref:r,className:X("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));xs.displayName=xoe.displayName;const vs=v.forwardRef(({className:e,...t},r)=>n.jsx(voe,{ref:r,className:X("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));vs.displayName=voe.displayName;const znt=e=>({name:e.title,basicMetrics:(e.data||[]).map(t=>({label:t.label,value:t.value,line:t.line})),detailedMetrics:(e.metrics||[]).map(t=>({label:t.label,value:t.value,status:t.status,statusColor:t.statusColor,line:t.line})),hasOnTrack:e.hasOnTrack,onTrackPosition:e.onTrackPosition}),Unt=({platforms:e,className:t})=>{const{theme:r}=$u(),s=e[0]?.title.toLowerCase().replace(/\s+/g,"")||"platform-0",[a,i]=v.useState(s),o=r==="dark"||r==="system"&&Jie(),c=d=>d?d.includes("doordash")?cu("doordash",o):d.includes("ubereats")?cu("ubereats",o):d.includes("grubhub")?cu("grubhub",o):d:cu("default",o);return n.jsx("div",{className:X("w-full max-w-full mx-auto p-4",t),children:n.jsxs(Zl,{value:a,onValueChange:i,className:"w-full",children:[n.jsx(ll,{className:"grid w-full h-full mb-0 rounded-b-none shadow-realistic",style:{gridTemplateColumns:`repeat(${e.length}, 1fr)`},children:e.map((d,u)=>{const l=d.title.toLowerCase().replace(/\s+/g,"")||`platform-${u}`;return n.jsx(xs,{value:l,className:"text-sm font-bold data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=inactive]:bg-mute rounded-t-lg rounded-b-none transition-colors duration-200 flex items-center justify-center",children:d.iconSrc&&d.iconSrc.includes("doordash")?n.jsx("svg",{width:"50",height:"50",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M67.6694 72.9947L53.1808 73.0277L36.8629 55.5806L68.2835 55.4204C69.7479 55.413 71.1497 54.8261 72.1826 53.788C73.2154 52.7499 73.7952 51.3451 73.7952 49.8808C73.7952 49.1512 73.6511 48.4288 73.3711 47.7551C73.0911 47.0814 72.6809 46.4696 72.1638 45.9549C71.6468 45.4402 71.0331 45.0327 70.3582 44.7557C69.6832 44.4788 68.9602 44.3379 68.2306 44.3412L27.5848 44.5233L9.375 26.9727L67.62 26.9795C73.7216 26.9802 79.573 29.4045 83.8872 33.7192C88.2014 38.0339 90.6251 43.8857 90.625 49.9872C90.625 56.0802 88.2081 61.9244 83.9046 66.2377C79.6011 70.5509 73.7623 72.981 67.6694 72.9947Z",stroke:"currentColor","stroke-width":"2.08333","stroke-linecap":"round","stroke-linejoin":"round"})}):d.iconSrc&&d.iconSrc.includes("grubhub")?n.jsx("svg",{width:"50",height:"50",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M69.6167 40.3H66.1167C65.9167 40.3 65.8167 40.5 65.8167 40.6V48.2167H62.3167V40.6C62.3167 40.4 62.1167 40.3 62.0167 40.3H58.5167C58.3167 40.3 58.2167 40.5 58.2167 40.6V60.15C58.2167 60.35 58.4167 60.45 58.5167 60.45H62.0167C62.2167 60.45 62.3167 60.25 62.3167 60.15V52.3333H65.8167V60.15C65.8167 60.35 66.0167 60.45 66.1167 60.45H69.6167C69.8167 60.45 69.9167 60.25 69.9167 60.15V40.6C69.9167 40.5 69.8167 40.3 69.6167 40.3ZM40.1167 40.3H36.6167C36.4167 40.3 36.3167 40.4 36.3167 40.6V54.45C36.3357 55.0245 36.1595 55.5886 35.8167 56.05C35.5167 56.45 35.1167 56.55 34.6167 56.55C34.3935 56.5501 34.1726 56.506 33.9666 56.4202C33.7606 56.3344 33.5737 56.2085 33.4167 56.05C33.0739 55.5886 32.8976 55.0245 32.9167 54.45V40.6C32.9167 40.4 32.7167 40.3 32.6167 40.3H29.1167C28.9167 40.3 28.8167 40.4 28.8167 40.6V54.55C28.8167 56.35 29.2167 58.05 30.3167 59.1667C31.4167 60.2667 32.9167 60.8667 34.6333 60.8667C36.4333 60.8667 37.95 60.2667 38.95 59.1667C40.05 58.0667 40.45 56.4667 40.45 54.55V40.6C40.4333 40.5 40.3333 40.3 40.1167 40.3ZM5.81667 40C4.01667 40 2.5 40.6 1.5 41.7C0.4 42.8 0 44.4 0 46.3167V54.65C0 56.45 0.4 58.15 1.5 59.2667C2.6 60.3667 4.1 60.9667 5.81667 60.9667C7.61667 60.9667 9.13333 60.3667 10.1333 59.2667C11.2333 58.1667 11.6333 56.5667 11.6333 54.65V50.05C11.6274 49.9459 11.5833 49.8475 11.5095 49.7738C11.4358 49.7 11.3375 49.656 11.2333 49.65H6.11667C6.01252 49.656 5.91421 49.7 5.84045 49.7738C5.76669 49.8475 5.72263 49.9459 5.71667 50.05V53.4667C5.71667 53.6667 5.91667 53.8667 6.11667 53.8667H7.43333V54.6667C7.4539 55.2724 7.27855 55.8685 6.93333 56.3667C6.63333 56.7667 6.23333 56.8667 5.73333 56.8667C5.51019 56.8668 5.28923 56.8227 5.08325 56.7369C4.87727 56.651 4.69036 56.5252 4.53333 56.3667C4.19184 55.8668 4.01685 55.2718 4.03333 54.6667V46.4333C4.03333 45.7333 4.23333 45.1167 4.53333 44.7333C4.83333 44.3333 5.23333 44.2333 5.73333 44.2333C6.21667 44.2333 6.63333 44.4333 6.93333 44.7333C7.23333 45.1333 7.43333 45.7333 7.43333 46.4333V47.2333C7.43333 47.4333 7.63333 47.5333 7.73333 47.5333H11.2333C11.4333 47.5333 11.5333 47.4333 11.5333 47.2333V46.4333C11.5333 44.6333 11.1333 42.9333 10.0333 41.8167C9.13333 40.6 7.51667 40 5.81667 40ZM50.95 55.95C50.65 56.35 50.25 56.45 49.6333 56.45H47.6333V52.2167H49.6333C50.1333 52.2167 50.5333 52.4167 50.8333 52.7167C51.1625 53.15 51.3375 53.675 51.3333 54.2167C51.3667 55.05 51.2667 55.5333 50.95 55.95ZM49.4333 44.4167C49.9333 44.4167 50.3333 44.5167 50.6333 44.9167C50.9333 45.2167 51.0333 45.7167 51.0333 46.3333C51.0333 46.95 50.9333 47.4333 50.6333 47.8333C50.3458 48.137 49.9511 48.3164 49.5333 48.3333H47.7333V44.4167H49.4333ZM53.45 50.1333C54.05 49.5333 55.15 48.1333 55.15 46.3167C55.15 44.2 54.35 42.9 53.7333 42.2C52.6333 41 51.1333 40.4 49.4167 40.4H43.9333C43.7333 40.4 43.6333 40.6 43.6333 40.7V60.2667C43.6333 60.4667 43.8333 60.5667 43.9333 60.5667H49.75C51.55 60.5667 53.25 59.8667 54.3667 58.45C54.9667 57.65 55.6833 56.3333 55.6833 54.3333C55.5667 51.9333 54.0667 50.5167 53.45 50.1333ZM21.5667 48.2167C21.2667 48.6167 20.7667 48.8167 20.15 48.8167H18.45V44.4167H20.15C20.75 44.4167 21.25 44.6167 21.5667 45.0167C21.9667 45.4167 22.0667 45.9167 22.0667 46.6167C22.0667 47.3167 21.9833 47.8167 21.5667 48.2167ZM23.7833 51.8333C24.1833 51.5333 24.4833 51.3333 24.7833 50.9333C25.4833 50.1333 26.3833 48.7167 26.3833 46.5167C26.3833 44.4 25.5833 43.0167 24.7833 42.2C23.7833 41 22.2833 40.4 20.5667 40.3H14.75C14.55 40.3 14.45 40.5 14.45 40.6V60.15C14.45 60.35 14.65 60.45 14.75 60.45H18.25C18.45 60.45 18.55 60.25 18.55 60.15V52.9167H19.75L21.9667 60.3333C21.9667 60.4333 22.1667 60.5333 22.2667 60.5333H25.9667C26.0667 60.5333 26.1667 60.4333 26.2667 60.4333C26.3667 60.4333 26.3667 60.2333 26.3667 60.1333L23.7833 51.8333ZM95.1833 55.95C94.8833 56.35 94.4833 56.45 93.8667 56.45H91.8667V52.2167H93.8667C94.3667 52.2167 94.7667 52.4167 95.0667 52.7167C95.3958 53.15 95.5708 53.675 95.5667 54.2167C95.6833 55.05 95.5 55.5333 95.1833 55.95ZM93.7667 44.4167C94.2667 44.4167 94.6667 44.5167 94.9667 44.9167C95.2667 45.2167 95.3667 45.7167 95.3667 46.3333C95.3667 46.95 95.2667 47.4333 94.9667 47.8333C94.6792 48.137 94.2845 48.3164 93.8667 48.3333H92.0667V44.4167H93.7667ZM97.7833 50.1333C98.3833 49.5333 99.4833 48.1333 99.4833 46.3167C99.4833 44.2 98.6833 42.9 98.0667 42.2C96.9667 41 95.4667 40.4 93.75 40.4H88.2167C88.0167 40.4 87.9167 40.6 87.9167 40.7V60.2667C87.9167 60.4667 88.1167 60.5667 88.2167 60.5667H94.0667C95.8667 60.5667 97.5667 59.8667 98.6833 58.45C99.2833 57.65 100 56.3333 100 54.3333C99.9353 53.5194 99.7054 52.7272 99.3242 52.005C98.9431 51.2829 98.4188 50.646 97.7833 50.1333ZM84.35 40.3H80.85C80.65 40.3 80.55 40.4 80.55 40.6V54.45C80.5691 55.0245 80.3928 55.5886 80.05 56.05C79.75 56.45 79.35 56.55 78.85 56.55C78.6269 56.5501 78.4059 56.506 78.1999 56.4202C77.9939 56.3344 77.807 56.2085 77.65 56.05C77.3072 55.5886 77.1309 55.0245 77.15 54.45V40.6C77.15 40.4 76.95 40.3 76.85 40.3H73.3333C73.1333 40.3 73.0333 40.4 73.0333 40.6V54.55C73.0333 56.35 73.4333 58.05 74.5333 59.1667C75.6333 60.2667 77.1333 60.8667 78.85 60.8667C80.65 60.8667 82.1667 60.2667 83.1667 59.1667C84.2667 58.0667 84.6667 56.4667 84.6667 54.55V40.6C84.7667 40.5 84.5667 40.3 84.35 40.3Z",fill:"currentColor"})}):d.iconSrc&&d.iconSrc.includes("ubereats")?n.jsx("svg",{width:"50",height:"50",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M33.25 71.9792H23.5V52.4583H33.25M23.5 62.2083H29.8542M70.7083 38.5833C70.7083 37.2885 71.2213 36.0464 72.1349 35.1288C73.0486 34.2113 74.2885 33.693 75.5833 33.6875M70.7083 33.6875V46.625M63.375 70.875C64.5099 71.7574 65.9481 72.1543 67.375 71.9792H68.4792C69.3339 71.9737 70.1521 71.6317 70.7565 71.0273C71.3609 70.4229 71.7029 69.6047 71.7083 68.75C71.7083 67.8916 71.3688 67.0681 70.7638 66.4592C70.1588 65.8503 69.3375 65.5055 68.4792 65.5H66.2083C65.7835 65.5028 65.3623 65.4211 64.9693 65.2598C64.5763 65.0985 64.2192 64.8608 63.9188 64.5604C63.6184 64.26 63.3806 63.9029 63.2193 63.5098C63.058 63.1168 62.9764 62.6957 62.9792 62.2708C62.9792 61.4144 63.3194 60.5931 63.925 59.9875C64.5306 59.3819 65.3519 59.0417 66.2083 59.0417H67.2917C68.7213 58.8729 70.1611 59.2609 71.3125 60.125M65 44.1667C64.5779 44.9022 63.9719 45.5155 63.2415 45.9464C62.5111 46.3774 61.6813 46.6112 60.8333 46.625C60.1793 46.6474 59.5274 46.5378 58.9165 46.3029C58.3057 46.0679 57.7484 45.7124 57.2779 45.2574C56.8074 44.8025 56.4334 44.2575 56.178 43.6549C55.9227 43.0523 55.7913 42.4045 55.7917 41.75V38.5833C55.7917 37.2885 56.3046 36.0464 57.2182 35.1288C58.1319 34.2113 59.3718 33.693 60.6667 33.6875C61.3086 33.6875 61.9442 33.8143 62.5371 34.0606C63.1299 34.3069 63.6682 34.6678 64.1212 35.1227C64.5742 35.5776 64.9328 36.1175 65.1766 36.7114C65.4203 37.3052 65.5444 37.9414 65.5417 38.5833V40.1667H55.7917M55.0417 55.0208V69.6042C55.0417 69.9243 55.1047 70.2412 55.2272 70.537C55.3497 70.8327 55.5292 71.1014 55.7556 71.3277C55.9819 71.5541 56.2506 71.7336 56.5464 71.8561C56.8421 71.9786 57.1591 72.0417 57.4792 72.0417H58.2083M52.4792 59.0417H57.6042M47.3333 67.1042C47.3333 68.3971 46.8197 69.6371 45.9055 70.5513C44.9912 71.4656 43.7513 71.9792 42.4583 71.9792C41.1654 71.9792 39.9254 71.4656 39.0112 70.5513C38.0969 69.6371 37.5833 68.3971 37.5833 67.1042V63.9167C37.5833 62.6237 38.0969 61.3838 39.0112 60.4695C39.9254 59.5553 41.1654 59.0417 42.4583 59.0417C43.7513 59.0417 44.9912 59.5553 45.9055 60.4695C46.8197 61.3838 47.3333 62.6237 47.3333 63.9167M47.3333 71.9792V59.0417M23.5 27.1042V40.1667C23.5938 41.8188 24.3162 43.3725 25.519 44.5089C26.7219 45.6454 28.3139 46.2786 29.9687 46.2786C31.6236 46.2786 33.2156 45.6454 34.4185 44.5089C35.6213 43.3725 36.3437 41.8188 36.4375 40.1667V27.1042M41.4583 38.5833C41.4583 37.2885 41.9713 36.0464 42.8849 35.1288C43.7986 34.2113 45.0385 33.693 46.3333 33.6875C47.6282 33.693 48.8681 34.2113 49.7817 35.1288C50.6954 36.0464 51.2083 37.2885 51.2083 38.5833V41.75C51.2083 43.0429 50.6947 44.2829 49.7805 45.1971C48.8662 46.1114 47.6263 46.625 46.3333 46.625C45.0404 46.625 43.8004 46.1114 42.8862 45.1971C41.9719 44.2829 41.4583 43.0429 41.4583 41.75M41.4583 46.625V27.1042M83.9167 88.0833H15.1667C14.0616 88.0833 13.0018 87.6443 12.2204 86.8629C11.439 86.0815 11 85.0217 11 83.9167V15.1667C11 14.0616 11.439 13.0018 12.2204 12.2204C13.0018 11.439 14.0616 11 15.1667 11H83.9167C85.0217 11 86.0815 11.439 86.8629 12.2204C87.6443 13.0018 88.0833 14.0616 88.0833 15.1667V83.9167C88.0833 85.0217 87.6443 86.0815 86.8629 86.8629C86.0815 87.6443 85.0217 88.0833 83.9167 88.0833Z",stroke:"currentColor","stroke-width":"2.08333","stroke-linecap":"round","stroke-linejoin":"round"})}):n.jsx("img",{src:c(d.iconSrc),alt:`${d.title} icon`,className:"w-12 h-12"})},l)})}),e.map((d,u)=>{const l=d.title.toLowerCase().replace(/\s+/g,"")||`platform-${u}`,f=znt(d);return n.jsx(vs,{value:l,className:"mt-0",children:n.jsx(oe,{className:"rounded-t-none border-t-0 shadow-realistic min-h-[400px]",children:n.jsx(je,{className:"p-3",children:n.jsxs("div",{className:"space-y-2",children:[f.basicMetrics.length>0&&n.jsx("div",{className:"space-y-1",children:f.basicMetrics.map((m,p)=>n.jsx(Zie,{...m,isLast:!1,isMobile:!0},`basic-${p}`))}),f.hasOnTrack&&(f.onTrackPosition==="top"||f.onTrackPosition==="middle"&&f.basicMetrics.length>0)&&n.jsx(uO,{isMobile:!0}),f.detailedMetrics.length>0&&n.jsx("div",{className:"space-y-1",children:f.detailedMetrics.map((m,p)=>n.jsx(Xie,{...m,isLast:p===f.detailedMetrics.length-1,isMobile:!0},`detailed-${p}`))})]})})})},l)})]})})},eG=[{iconSrc:"/doordash-svgrepo-com.svg",title:"Doordash",data:[{label:"Most Loved Restaurant",value:"0"},{label:"Optimization Score",value:"Med"},{label:"#1 Top Missing or Incorrect Item",value:"0"},{label:"Reviews Responded",value:"1"}],metrics:[{label:"Ratings - Average Rating",value:"4",status:"NA",statusColor:"#c30000"},{label:"Cancellations - Sales Lost",value:"0",status:"OT",statusColor:"#00c610"},{label:"Missing or Incorrect Error Charges",value:"4",status:"NA",statusColor:"#c30000"},{label:"Avoidable Wait M.Sec",value:"1",status:"OT",statusColor:"#00c610"},{label:"total Dasher Wait M.Sec",value:"4",status:"NA",statusColor:"#c30000"},{label:"Downtime H.MM",value:"1",status:"NA",statusColor:"#c30000"}],hasOnTrack:!0,onTrackPosition:"middle"},{iconSrc:"/ubereats-svgrepo-com.svg",title:"UberEats",data:[{label:"Top Inaccurate item",value:"0"},{label:"Reviews Responded",value:"1"}],metrics:[{label:"Customer reviews overview",value:"4",status:"NA",statusColor:"#c30000"},{label:"Cost of Refunds",value:"0",status:"OT",statusColor:"#00c610"},{label:"Unfulfilled order rate",value:"0",status:"OT",statusColor:"#14cd24"},{label:`Time unavailable during
open hours hh.mm`,value:"0",status:"OT",statusColor:"#00c610",multiline:!0}],hasOnTrack:!0,onTrackPosition:"middle"},{iconSrc:"/grubhub-svgrepo-com.svg",title:"GrubHub",data:null,metrics:[{label:"Rating",value:"4",status:"NA",statusColor:"#c30000"},{label:"Food was good",value:"0.83",status:"NA",statusColor:"#c30000"},{label:"Delivery was on time",value:"1",status:"OT",statusColor:"#00c610"},{label:"Order was accurate",value:"0.91",status:"NA",statusColor:"#c30000"}],hasOnTrack:!0,onTrackPosition:"top"}],Hnt=()=>{const[e,t]=v.useState(eG),[r,s]=v.useState(!1);return{platforms:e,isLoading:r,refreshData:async()=>{s(!0),await new Promise(i=>setTimeout(i,500)),t([...eG]),s(!1)}}},Vnt=({title:e="DSQR",platforms:t,className:r,layout:s="horizontal"})=>{const{platforms:a}=Hnt(),[i,o]=v.useState(!1),c=t||a;v.useEffect(()=>{const u=()=>{o(window.innerWidth<1024)};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]);const d=i;return n.jsxs("div",{className:X("w-full max-w-full mx-auto",i?"p-2":"p-4 md:p-6",r),children:[n.jsx(Fb,{title:e,className:"mb-4"}),d?n.jsx(Unt,{platforms:c}):n.jsx(_nt,{platforms:c,layout:s})]})};function Wnt(e,t,r="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:r}).format(t).split(/\s/g).slice(2).join(" ")}const qnt={},T0={};function tm(e,t){try{const s=(qnt[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return s in T0?T0[s]:tG(s,s.split(":"))}catch{if(e in T0)return T0[e];const r=e?.match(Gnt);return r?tG(e,r.slice(1)):NaN}}const Gnt=/([+-]\d\d):?(\d\d)?/;function tG(e,t){const r=+(t[0]||0),s=+(t[1]||0),a=+(t[2]||0)/60;return T0[e]=r*60+s>0?r*60+s+a:r*60-s-a}class Dl extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(tm(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),yoe(this),mO(this)):this.setTime(Date.now())}static tz(t,...r){return r.length?new Dl(...r,t):new Dl(Date.now(),t)}withTimeZone(t){return new Dl(+this,t)}getTimezoneOffset(){const t=-tm(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),mO(this),+this}[Symbol.for("constructDateFrom")](t){return new Dl(+new Date(t),this.timeZone)}}const rG=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!rG.test(e))return;const t=e.replace(rG,"$1UTC");Dl.prototype[t]&&(e.startsWith("get")?Dl.prototype[e]=function(){return this.internal[t]()}:(Dl.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),Ynt(this),+this},Dl.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),mO(this),+this}))});function mO(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-tm(e.timeZone,e)*60))}function Ynt(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),yoe(e)}function yoe(e){const t=tm(e.timeZone,e),r=t>0?Math.floor(t):Math.ceil(t),s=new Date(+e);s.setUTCHours(s.getUTCHours()-1);const a=-new Date(+e).getTimezoneOffset(),i=-new Date(+s).getTimezoneOffset(),o=a-i,c=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();o&&c&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+o);const d=a-r;d&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+d);const u=new Date(+e);u.setUTCSeconds(0);const l=a>0?u.getSeconds():(u.getSeconds()-60)%60,f=Math.round(-(tm(e.timeZone,e)*60))%60;(f||l)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+f),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+f+l));const m=tm(e.timeZone,e),p=m>0?Math.floor(m):Math.ceil(m),b=-new Date(+e).getTimezoneOffset()-p,h=p!==r,y=b-d;if(h&&y){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+y);const w=tm(e.timeZone,e),S=w>0?Math.floor(w):Math.ceil(w),N=p-S;N&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+N),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+N))}}class ha extends Dl{static tz(t,...r){return r.length?new ha(...r,t):new ha(Date.now(),t)}toISOString(){const[t,r,s]=this.tzComponents(),a=`${t}${r}:${s}`;return this.internal.toISOString().slice(0,-1)+a}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,r,s,a]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${s} ${r} ${a}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[r,s,a]=this.tzComponents();return`${t} GMT${r}${s}${a} (${Wnt(this.timeZone,this)})`}toLocaleString(t,r){return Date.prototype.toLocaleString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleDateString(t,r){return Date.prototype.toLocaleDateString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleTimeString(t,r){return Date.prototype.toLocaleTimeString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),r=t>0?"-":"+",s=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),a=String(Math.abs(t)%60).padStart(2,"0");return[r,s,a]}withTimeZone(t){return new ha(+this,t)}[Symbol.for("constructDateFrom")](t){return new ha(+new Date(t),this.timeZone)}}const boe=6048e5,Knt=864e5,woe=6e4,joe=36e5,sG=Symbol.for("constructDateFrom");function wn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&sG in e?e[sG](t):e instanceof Date?new e.constructor(t):new Date(t)}function Dr(e,t){return wn(t||e,e)}function Soe(e,t,r){const s=Dr(e,r?.in);return isNaN(t)?wn(e,NaN):(t&&s.setDate(s.getDate()+t),s)}function Noe(e,t,r){const s=Dr(e,r?.in);if(isNaN(t))return wn(e,NaN);if(!t)return s;const a=s.getDate(),i=wn(e,s.getTime());i.setMonth(s.getMonth()+t+1,0);const o=i.getDate();return a>=o?i:(s.setFullYear(i.getFullYear(),i.getMonth(),a),s)}let Znt={};function rw(){return Znt}function Tg(e,t){const r=rw(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Dr(e,t?.in),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function zy(e,t){return Tg(e,{...t,weekStartsOn:1})}function Coe(e,t){const r=Dr(e,t?.in),s=r.getFullYear(),a=wn(r,0);a.setFullYear(s+1,0,4),a.setHours(0,0,0,0);const i=zy(a),o=wn(r,0);o.setFullYear(s,0,4),o.setHours(0,0,0,0);const c=zy(o);return r.getTime()>=i.getTime()?s+1:r.getTime()>=c.getTime()?s:s-1}function nG(e){const t=Dr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Ex(e,...t){const r=wn.bind(null,t.find(s=>typeof s=="object"));return t.map(r)}function Uy(e,t){const r=Dr(e,t?.in);return r.setHours(0,0,0,0),r}function _oe(e,t,r){const[s,a]=Ex(r?.in,e,t),i=Uy(s),o=Uy(a),c=+i-nG(i),d=+o-nG(o);return Math.round((c-d)/Knt)}function Xnt(e,t){const r=Coe(e,t),s=wn(e,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),zy(s)}function Jnt(e,t,r){return Soe(e,t*7,r)}function Qnt(e,t,r){return Noe(e,t*12,r)}function eat(e,t){let r,s=t?.in;return e.forEach(a=>{!s&&typeof a=="object"&&(s=wn.bind(null,a));const i=Dr(a,s);(!r||r<i||isNaN(+i))&&(r=i)}),wn(s,r||NaN)}function tat(e,t){let r,s=t?.in;return e.forEach(a=>{!s&&typeof a=="object"&&(s=wn.bind(null,a));const i=Dr(a,s);(!r||r>i||isNaN(+i))&&(r=i)}),wn(s,r||NaN)}function rat(e,t,r){const[s,a]=Ex(r?.in,e,t);return+Uy(s)==+Uy(a)}function Eoe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function sat(e){return!(!Eoe(e)&&typeof e!="number"||isNaN(+Dr(e)))}function nat(e,t,r){const[s,a]=Ex(r?.in,e,t),i=s.getFullYear()-a.getFullYear(),o=s.getMonth()-a.getMonth();return i*12+o}function aat(e,t){const r=Dr(e,t?.in),s=r.getMonth();return r.setFullYear(r.getFullYear(),s+1,0),r.setHours(23,59,59,999),r}function iat(e,t){const[r,s]=Ex(e,t.start,t.end);return{start:r,end:s}}function oat(e,t){const{start:r,end:s}=iat(t?.in,e);let a=+r>+s;const i=a?+r:+s,o=a?s:r;o.setHours(0,0,0,0),o.setDate(1);let c=1;const d=[];for(;+o<=i;)d.push(wn(r,o)),o.setMonth(o.getMonth()+c);return a?d.reverse():d}function lat(e,t){const r=Dr(e,t?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function cat(e,t){const r=Dr(e,t?.in),s=r.getFullYear();return r.setFullYear(s+1,0,0),r.setHours(23,59,59,999),r}function koe(e,t){const r=Dr(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Aoe(e,t){const r=rw(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Dr(e,t?.in),i=a.getDay(),o=(i<s?-7:0)+6-(i-s);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function dat(e,t){return Aoe(e,{...t,weekStartsOn:1})}const uat={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fat=(e,t,r)=>{let s;const a=uat[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function RR(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const mat={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hat={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pat={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gat={date:RR({formats:mat,defaultWidth:"full"}),time:RR({formats:hat,defaultWidth:"full"}),dateTime:RR({formats:pat,defaultWidth:"full"})},xat={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vat=(e,t,r,s)=>xat[e];function x0(e){return(t,r)=>{const s=r?.context?String(r.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,c=r?.width?String(r.width):o;a=e.formattingValues[c]||e.formattingValues[o]}else{const o=e.defaultWidth,c=r?.width?String(r.width):e.defaultWidth;a=e.values[c]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const yat={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bat={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wat={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jat={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Sat={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Nat={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Cat=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},_at={ordinalNumber:Cat,era:x0({values:yat,defaultWidth:"wide"}),quarter:x0({values:bat,defaultWidth:"wide",argumentCallback:e=>e-1}),month:x0({values:wat,defaultWidth:"wide"}),day:x0({values:jat,defaultWidth:"wide"}),dayPeriod:x0({values:Sat,defaultWidth:"wide",formattingValues:Nat,defaultFormattingWidth:"wide"})};function v0(e){return(t,r={})=>{const s=r.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],c=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(c)?kat(c,f=>f.test(o)):Eat(c,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(d):d,u=r.valueCallback?r.valueCallback(u):u;const l=t.slice(o.length);return{value:u,rest:l}}}function Eat(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function kat(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Aat(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const c=t.slice(a.length);return{value:o,rest:c}}}const Tat=/^(\d+)(th|st|nd|rd)?/i,Dat=/\d+/i,Pat={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Rat={any:[/^b/i,/^(a|c)/i]},Mat={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Oat={any:[/1/i,/2/i,/3/i,/4/i]},Iat={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Fat={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$at={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Lat={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Bat={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zat={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Uat={ordinalNumber:Aat({matchPattern:Tat,parsePattern:Dat,valueCallback:e=>parseInt(e,10)}),era:v0({matchPatterns:Pat,defaultMatchWidth:"wide",parsePatterns:Rat,defaultParseWidth:"any"}),quarter:v0({matchPatterns:Mat,defaultMatchWidth:"wide",parsePatterns:Oat,defaultParseWidth:"any",valueCallback:e=>e+1}),month:v0({matchPatterns:Iat,defaultMatchWidth:"wide",parsePatterns:Fat,defaultParseWidth:"any"}),day:v0({matchPatterns:$at,defaultMatchWidth:"wide",parsePatterns:Lat,defaultParseWidth:"any"}),dayPeriod:v0({matchPatterns:Bat,defaultMatchWidth:"any",parsePatterns:zat,defaultParseWidth:"any"})},K6={code:"en-US",formatDistance:fat,formatLong:gat,formatRelative:vat,localize:_at,match:Uat,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Hat(e,t){const r=Dr(e,t?.in);return _oe(r,koe(r))+1}function Toe(e,t){const r=Dr(e,t?.in),s=+zy(r)-+Xnt(r);return Math.round(s/boe)+1}function Doe(e,t){const r=Dr(e,t?.in),s=r.getFullYear(),a=rw(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=wn(t?.in||e,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const c=Tg(o,t),d=wn(t?.in||e,0);d.setFullYear(s,0,i),d.setHours(0,0,0,0);const u=Tg(d,t);return+r>=+c?s+1:+r>=+u?s:s-1}function Vat(e,t){const r=rw(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=Doe(e,t),i=wn(t?.in||e,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),Tg(i,t)}function Poe(e,t){const r=Dr(e,t?.in),s=+Tg(r,t)-+Vat(r,t);return Math.round(s/boe)+1}function Br(e,t){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return r+s}const Zd={y(e,t){const r=e.getFullYear(),s=r>0?r:1-r;return Br(t==="yy"?s%100:s,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Br(r+1,2)},d(e,t){return Br(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Br(e.getHours()%12||12,t.length)},H(e,t){return Br(e.getHours(),t.length)},m(e,t){return Br(e.getMinutes(),t.length)},s(e,t){return Br(e.getSeconds(),t.length)},S(e,t){const r=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,r-3));return Br(a,t.length)}},hp={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},aG={G:function(e,t,r){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return Zd.y(e,t)},Y:function(e,t,r,s){const a=Doe(e,s),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Br(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Br(i,t.length)},R:function(e,t){const r=Coe(e);return Br(r,t.length)},u:function(e,t){const r=e.getFullYear();return Br(r,t.length)},Q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Br(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Br(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){const s=e.getMonth();switch(t){case"M":case"MM":return Zd.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return Br(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){const a=Poe(e,s);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Br(a,t.length)},I:function(e,t,r){const s=Toe(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):Br(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Zd.d(e,t)},D:function(e,t,r){const s=Hat(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Br(s,t.length)},E:function(e,t,r){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Br(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Br(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return Br(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const s=e.getHours();let a;switch(s===12?a=hp.noon:s===0?a=hp.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const s=e.getHours();let a;switch(s>=17?a=hp.evening:s>=12?a=hp.afternoon:s>=4?a=hp.morning:a=hp.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Zd.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Zd.H(e,t)},K:function(e,t,r){const s=e.getHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Br(s,t.length)},k:function(e,t,r){let s=e.getHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):Br(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Zd.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Zd.s(e,t)},S:function(e,t){return Zd.S(e,t)},X:function(e,t,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return oG(s);case"XXXX":case"XX":return Uf(s);case"XXXXX":case"XXX":default:return Uf(s,":")}},x:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"x":return oG(s);case"xxxx":case"xx":return Uf(s);case"xxxxx":case"xxx":default:return Uf(s,":")}},O:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+iG(s,":");case"OOOO":default:return"GMT"+Uf(s,":")}},z:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+iG(s,":");case"zzzz":default:return"GMT"+Uf(s,":")}},t:function(e,t,r){const s=Math.trunc(+e/1e3);return Br(s,t.length)},T:function(e,t,r){return Br(+e,t.length)}};function iG(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),i=s%60;return i===0?r+String(a):r+String(a)+t+Br(i,2)}function oG(e,t){return e%60===0?(e>0?"-":"+")+Br(Math.abs(e)/60,2):Uf(e,t)}function Uf(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Br(Math.trunc(s/60),2),i=Br(s%60,2);return r+a+t+i}const lG=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Roe=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Wat=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return lG(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",lG(s,t)).replace("{{time}}",Roe(a,t))},qat={p:Roe,P:Wat},Gat=/^D+$/,Yat=/^Y+$/,Kat=["D","DD","YY","YYYY"];function Zat(e){return Gat.test(e)}function Xat(e){return Yat.test(e)}function Jat(e,t,r){const s=Qat(e,t,r);if(console.warn(s),Kat.includes(e))throw new RangeError(s)}function Qat(e,t,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const eit=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tit=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rit=/^'([^]*?)'?$/,sit=/''/g,nit=/[a-zA-Z]/;function Hl(e,t,r){const s=rw(),a=r?.locale??s.locale??K6,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,c=Dr(e,r?.in);if(!sat(c))throw new RangeError("Invalid time value");let d=t.match(tit).map(l=>{const f=l[0];if(f==="p"||f==="P"){const m=qat[f];return m(l,a.formatLong)}return l}).join("").match(eit).map(l=>{if(l==="''")return{isToken:!1,value:"'"};const f=l[0];if(f==="'")return{isToken:!1,value:ait(l)};if(aG[f])return{isToken:!0,value:l};if(f.match(nit))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:l}});a.localize.preprocessor&&(d=a.localize.preprocessor(c,d));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return d.map(l=>{if(!l.isToken)return l.value;const f=l.value;(!r?.useAdditionalWeekYearTokens&&Xat(f)||!r?.useAdditionalDayOfYearTokens&&Zat(f))&&Jat(f,t,String(e));const m=aG[f[0]];return m(c,f,a.localize,u)}).join("")}function ait(e){const t=e.match(rit);return t?t[1].replace(sit,"'"):e}function iit(e,t){const r=Dr(e,t?.in),s=r.getFullYear(),a=r.getMonth(),i=wn(r,0);return i.setFullYear(s,a+1,0),i.setHours(0,0,0,0),i.getDate()}function oit(e,t){return Dr(e,t?.in).getMonth()}function lit(e,t){return Dr(e,t?.in).getFullYear()}function cit(e,t){return+Dr(e)>+Dr(t)}function dit(e,t){return+Dr(e)<+Dr(t)}function uit(e,t,r){const[s,a]=Ex(r?.in,e,t);return s.getFullYear()===a.getFullYear()&&s.getMonth()===a.getMonth()}function fit(e,t,r){const[s,a]=Ex(r?.in,e,t);return s.getFullYear()===a.getFullYear()}function sw(e,t){const r=()=>wn(t?.in,NaN),a=git(e);let i;if(a.date){const u=xit(a.date,2);i=vit(u.restDateString,u.year)}if(!i||isNaN(+i))return r();const o=+i;let c=0,d;if(a.time&&(c=yit(a.time),isNaN(c)))return r();if(a.timezone){if(d=bit(a.timezone),isNaN(d))return r()}else{const u=new Date(o+c),l=Dr(0,t?.in);return l.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),l.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),l}return Dr(o+c+d,t?.in)}const _1={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},mit=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,hit=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,pit=/^([+-])(\d{2})(?::?(\d{2}))?$/;function git(e){const t={},r=e.split(_1.dateTimeDelimiter);let s;if(r.length>2)return t;if(/:/.test(r[0])?s=r[0]:(t.date=r[0],s=r[1],_1.timeZoneDelimiter.test(t.date)&&(t.date=e.split(_1.timeZoneDelimiter)[0],s=e.substr(t.date.length,e.length))),s){const a=_1.timezone.exec(s);a?(t.time=s.replace(a[1],""),t.timezone=a[1]):t.time=s}return t}function xit(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(r);if(!s)return{year:NaN,restDateString:""};const a=s[1]?parseInt(s[1]):null,i=s[2]?parseInt(s[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((s[1]||s[2]).length)}}function vit(e,t){if(t===null)return new Date(NaN);const r=e.match(mit);if(!r)return new Date(NaN);const s=!!r[4],a=y0(r[1]),i=y0(r[2])-1,o=y0(r[3]),c=y0(r[4]),d=y0(r[5])-1;if(s)return Cit(t,c,d)?wit(t,c,d):new Date(NaN);{const u=new Date(0);return!Sit(t,i,o)||!Nit(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function y0(e){return e?parseInt(e):1}function yit(e){const t=e.match(hit);if(!t)return NaN;const r=MR(t[1]),s=MR(t[2]),a=MR(t[3]);return _it(r,s,a)?r*joe+s*woe+a*1e3:NaN}function MR(e){return e&&parseFloat(e.replace(",","."))||0}function bit(e){if(e==="Z")return 0;const t=e.match(pit);if(!t)return 0;const r=t[1]==="+"?-1:1,s=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Eit(s,a)?r*(s*joe+a*woe):NaN}function wit(e,t,r){const s=new Date(0);s.setUTCFullYear(e,0,4);const a=s.getUTCDay()||7,i=(t-1)*7+r+1-a;return s.setUTCDate(s.getUTCDate()+i),s}const jit=[31,null,31,30,31,30,31,31,30,31,30,31];function Moe(e){return e%400===0||e%4===0&&e%100!==0}function Sit(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(jit[t]||(Moe(e)?29:28))}function Nit(e,t){return t>=1&&t<=(Moe(e)?366:365)}function Cit(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function _it(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Eit(e,t){return t>=0&&t<=59}function kit(e,t,r){const s=Dr(e,r?.in),a=s.getFullYear(),i=s.getDate(),o=wn(e,0);o.setFullYear(a,t,15),o.setHours(0,0,0,0);const c=iit(o);return s.setMonth(t,Math.min(i,c)),s}function Ait(e,t,r){const s=Dr(e,r?.in);return isNaN(+s)?wn(e,NaN):(s.setFullYear(t),s)}const cG=5,Tit=4;function Dit(e,t){const r=t.startOfMonth(e),s=r.getDay()>0?r.getDay():7,a=t.addDays(e,-s+1),i=t.addDays(a,cG*7-1);return t.getMonth(e)===t.getMonth(i)?cG:Tit}function Ooe(e,t){const r=t.startOfMonth(e),s=r.getDay();return s===1?r:s===0?t.addDays(r,-6):t.addDays(r,-1*(s-1))}function Pit(e,t){const r=Ooe(e,t),s=Dit(e,t);return t.addDays(r,s*7-1)}class Oi{constructor(t,r){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?ha.tz(this.options.timeZone):new this.Date,this.newDate=(s,a,i)=>this.overrides?.newDate?this.overrides.newDate(s,a,i):this.options.timeZone?new ha(s,a,i,this.options.timeZone):new Date(s,a,i),this.addDays=(s,a)=>this.overrides?.addDays?this.overrides.addDays(s,a):Soe(s,a),this.addMonths=(s,a)=>this.overrides?.addMonths?this.overrides.addMonths(s,a):Noe(s,a),this.addWeeks=(s,a)=>this.overrides?.addWeeks?this.overrides.addWeeks(s,a):Jnt(s,a),this.addYears=(s,a)=>this.overrides?.addYears?this.overrides.addYears(s,a):Qnt(s,a),this.differenceInCalendarDays=(s,a)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(s,a):_oe(s,a),this.differenceInCalendarMonths=(s,a)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(s,a):nat(s,a),this.eachMonthOfInterval=s=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(s):oat(s),this.endOfBroadcastWeek=s=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(s):Pit(s,this),this.endOfISOWeek=s=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(s):dat(s),this.endOfMonth=s=>this.overrides?.endOfMonth?this.overrides.endOfMonth(s):aat(s),this.endOfWeek=(s,a)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(s,a):Aoe(s,this.options),this.endOfYear=s=>this.overrides?.endOfYear?this.overrides.endOfYear(s):cat(s),this.format=(s,a,i)=>{const o=this.overrides?.format?this.overrides.format(s,a,this.options):Hl(s,a,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(o):o},this.getISOWeek=s=>this.overrides?.getISOWeek?this.overrides.getISOWeek(s):Toe(s),this.getMonth=(s,a)=>this.overrides?.getMonth?this.overrides.getMonth(s,this.options):oit(s,this.options),this.getYear=(s,a)=>this.overrides?.getYear?this.overrides.getYear(s,this.options):lit(s,this.options),this.getWeek=(s,a)=>this.overrides?.getWeek?this.overrides.getWeek(s,this.options):Poe(s,this.options),this.isAfter=(s,a)=>this.overrides?.isAfter?this.overrides.isAfter(s,a):cit(s,a),this.isBefore=(s,a)=>this.overrides?.isBefore?this.overrides.isBefore(s,a):dit(s,a),this.isDate=s=>this.overrides?.isDate?this.overrides.isDate(s):Eoe(s),this.isSameDay=(s,a)=>this.overrides?.isSameDay?this.overrides.isSameDay(s,a):rat(s,a),this.isSameMonth=(s,a)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(s,a):uit(s,a),this.isSameYear=(s,a)=>this.overrides?.isSameYear?this.overrides.isSameYear(s,a):fit(s,a),this.max=s=>this.overrides?.max?this.overrides.max(s):eat(s),this.min=s=>this.overrides?.min?this.overrides.min(s):tat(s),this.setMonth=(s,a)=>this.overrides?.setMonth?this.overrides.setMonth(s,a):kit(s,a),this.setYear=(s,a)=>this.overrides?.setYear?this.overrides.setYear(s,a):Ait(s,a),this.startOfBroadcastWeek=(s,a)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(s,this):Ooe(s,this),this.startOfDay=s=>this.overrides?.startOfDay?this.overrides.startOfDay(s):Uy(s),this.startOfISOWeek=s=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(s):zy(s),this.startOfMonth=s=>this.overrides?.startOfMonth?this.overrides.startOfMonth(s):lat(s),this.startOfWeek=(s,a)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(s,this.options):Tg(s,this.options),this.startOfYear=s=>this.overrides?.startOfYear?this.overrides.startOfYear(s):koe(s),this.options={locale:K6,...t},this.overrides=r}getDigitMap(){const{numerals:t="latn"}=this.options,r=new Intl.NumberFormat("en-US",{numberingSystem:t}),s={};for(let a=0;a<10;a++)s[a.toString()]=r.format(a);return s}replaceDigits(t){const r=this.getDigitMap();return t.replace(/\d/g,s=>r[s]||s)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&Oi.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:r,timeZone:s,numerals:a}=this.options,i=r?.code;if(i&&Oi.yearFirstLocales.has(i))try{return new Intl.DateTimeFormat(i,{month:"long",year:"numeric",timeZone:s,numberingSystem:a}).format(t)}catch{}const o=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,o)}}Oi.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const Xl=new Oi;class Ioe{constructor(t,r,s=Xl){this.date=t,this.displayMonth=r,this.outside=!!(r&&!s.isSameMonth(t,r)),this.dateLib=s}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class Rit{constructor(t,r){this.date=t,this.weeks=r}}class Mit{constructor(t,r){this.days=r,this.weekNumber=t}}function Oit(e){return te.createElement("button",{...e})}function Iit(e){return te.createElement("span",{...e})}function Fit(e){const{size:t=24,orientation:r="left",className:s}=e;return te.createElement("svg",{className:s,width:t,height:t,viewBox:"0 0 24 24"},r==="up"&&te.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),r==="down"&&te.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),r==="left"&&te.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),r==="right"&&te.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function $it(e){const{day:t,modifiers:r,...s}=e;return te.createElement("td",{...s})}function Lit(e){const{day:t,modifiers:r,...s}=e,a=te.useRef(null);return te.useEffect(()=>{r.focused&&a.current?.focus()},[r.focused]),te.createElement("button",{ref:a,...s})}var Et;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(Et||(Et={}));var Bs;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(Bs||(Bs={}));var qo;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(qo||(qo={}));var gi;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(gi||(gi={}));function Bit(e){const{options:t,className:r,components:s,classNames:a,...i}=e,o=[a[Et.Dropdown],r].join(" "),c=t?.find(({value:d})=>d===i.value);return te.createElement("span",{"data-disabled":i.disabled,className:a[Et.DropdownRoot]},te.createElement(s.Select,{className:o,...i},t?.map(({value:d,label:u,disabled:l})=>te.createElement(s.Option,{key:d,value:d,disabled:l},u))),te.createElement("span",{className:a[Et.CaptionLabel],"aria-hidden":!0},c?.label,te.createElement(s.Chevron,{orientation:"down",size:18,className:a[Et.Chevron]})))}function zit(e){return te.createElement("div",{...e})}function Uit(e){return te.createElement("div",{...e})}function Hit(e){const{calendarMonth:t,displayIndex:r,...s}=e;return te.createElement("div",{...s},e.children)}function Vit(e){const{calendarMonth:t,displayIndex:r,...s}=e;return te.createElement("div",{...s})}function Wit(e){return te.createElement("table",{...e})}function qit(e){return te.createElement("div",{...e})}const Foe=v.createContext(void 0);function nw(){const e=v.useContext(Foe);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function Git(e){const{components:t}=nw();return te.createElement(t.Dropdown,{...e})}function Yit(e){const{onPreviousClick:t,onNextClick:r,previousMonth:s,nextMonth:a,...i}=e,{components:o,classNames:c,labels:{labelPrevious:d,labelNext:u}}=nw(),l=v.useCallback(m=>{a&&r?.(m)},[a,r]),f=v.useCallback(m=>{s&&t?.(m)},[s,t]);return te.createElement("nav",{...i},te.createElement(o.PreviousMonthButton,{type:"button",className:c[Et.PreviousMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":d(s),onClick:f},te.createElement(o.Chevron,{disabled:s?void 0:!0,className:c[Et.Chevron],orientation:"left"})),te.createElement(o.NextMonthButton,{type:"button",className:c[Et.NextMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":u(a),onClick:l},te.createElement(o.Chevron,{disabled:a?void 0:!0,orientation:"right",className:c[Et.Chevron]})))}function Kit(e){const{components:t}=nw();return te.createElement(t.Button,{...e})}function Zit(e){return te.createElement("option",{...e})}function Xit(e){const{components:t}=nw();return te.createElement(t.Button,{...e})}function Jit(e){const{rootRef:t,...r}=e;return te.createElement("div",{...r,ref:t})}function Qit(e){return te.createElement("select",{...e})}function eot(e){const{week:t,...r}=e;return te.createElement("tr",{...r})}function tot(e){return te.createElement("th",{...e})}function rot(e){return te.createElement("thead",{"aria-hidden":!0},te.createElement("tr",{...e}))}function sot(e){const{week:t,...r}=e;return te.createElement("th",{...r})}function not(e){return te.createElement("th",{...e})}function aot(e){return te.createElement("tbody",{...e})}function iot(e){const{components:t}=nw();return te.createElement(t.Dropdown,{...e})}const oot=Object.freeze(Object.defineProperty({__proto__:null,Button:Oit,CaptionLabel:Iit,Chevron:Fit,Day:$it,DayButton:Lit,Dropdown:Bit,DropdownNav:zit,Footer:Uit,Month:Hit,MonthCaption:Vit,MonthGrid:Wit,Months:qit,MonthsDropdown:Git,Nav:Yit,NextMonthButton:Kit,Option:Zit,PreviousMonthButton:Xit,Root:Jit,Select:Qit,Week:eot,WeekNumber:sot,WeekNumberHeader:not,Weekday:tot,Weekdays:rot,Weeks:aot,YearsDropdown:iot},Symbol.toStringTag,{value:"Module"}));function Pc(e,t,r=!1,s=Xl){let{from:a,to:i}=e;const{differenceInCalendarDays:o,isSameDay:c}=s;return a&&i?(o(i,a)<0&&([a,i]=[i,a]),o(t,a)>=(r?1:0)&&o(i,t)>=(r?1:0)):!r&&i?c(i,t):!r&&a?c(a,t):!1}function $oe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Z6(e){return!!(e&&typeof e=="object"&&"from"in e)}function Loe(e){return!!(e&&typeof e=="object"&&"after"in e)}function Boe(e){return!!(e&&typeof e=="object"&&"before"in e)}function zoe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Uoe(e,t){return Array.isArray(e)&&e.every(t.isDate)}function Rc(e,t,r=Xl){const s=Array.isArray(t)?t:[t],{isSameDay:a,differenceInCalendarDays:i,isAfter:o}=r;return s.some(c=>{if(typeof c=="boolean")return c;if(r.isDate(c))return a(e,c);if(Uoe(c,r))return c.includes(e);if(Z6(c))return Pc(c,e,!1,r);if(zoe(c))return Array.isArray(c.dayOfWeek)?c.dayOfWeek.includes(e.getDay()):c.dayOfWeek===e.getDay();if($oe(c)){const d=i(c.before,e),u=i(c.after,e),l=d>0,f=u<0;return o(c.before,c.after)?f&&l:l||f}return Loe(c)?i(e,c.after)>0:Boe(c)?i(c.before,e)>0:typeof c=="function"?c(e):!1})}function lot(e,t,r,s,a){const{disabled:i,hidden:o,modifiers:c,showOutsideDays:d,broadcastCalendar:u,today:l}=t,{isSameDay:f,isSameMonth:m,startOfMonth:p,isBefore:x,endOfMonth:b,isAfter:h}=a,y=r&&p(r),w=s&&b(s),S={[Bs.focused]:[],[Bs.outside]:[],[Bs.disabled]:[],[Bs.hidden]:[],[Bs.today]:[]},N={};for(const _ of e){const{date:k,displayMonth:E}=_,T=!!(E&&!m(k,E)),D=!!(y&&x(k,y)),P=!!(w&&h(k,w)),M=!!(i&&Rc(k,i,a)),R=!!(o&&Rc(k,o,a))||D||P||!u&&!d&&T||u&&d===!1&&T,B=f(k,l??a.today());T&&S.outside.push(_),M&&S.disabled.push(_),R&&S.hidden.push(_),B&&S.today.push(_),c&&Object.keys(c).forEach(L=>{const $=c?.[L];$&&Rc(k,$,a)&&(N[L]?N[L].push(_):N[L]=[_])})}return _=>{const k={[Bs.focused]:!1,[Bs.disabled]:!1,[Bs.hidden]:!1,[Bs.outside]:!1,[Bs.today]:!1},E={};for(const T in S){const D=S[T];k[T]=D.some(P=>P===_)}for(const T in N)E[T]=N[T].some(D=>D===_);return{...k,...E}}}function cot(e,t,r={}){return Object.entries(e).filter(([,a])=>a===!0).reduce((a,[i])=>(r[i]?a.push(r[i]):t[Bs[i]]?a.push(t[Bs[i]]):t[qo[i]]&&a.push(t[qo[i]]),a),[t[Et.Day]])}function dot(e){return{...oot,...e}}function uot(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([r,s])=>{r.startsWith("data-")&&(t[r]=s)}),t}function X6(){const e={};for(const t in Et)e[Et[t]]=`rdp-${Et[t]}`;for(const t in Bs)e[Bs[t]]=`rdp-${Bs[t]}`;for(const t in qo)e[qo[t]]=`rdp-${qo[t]}`;for(const t in gi)e[gi[t]]=`rdp-${gi[t]}`;return e}function Hoe(e,t,r){return(r??new Oi(t)).formatMonthYear(e)}const fot=Hoe;function mot(e,t,r){return(r??new Oi(t)).format(e,"d")}function hot(e,t=Xl){return t.format(e,"LLLL")}function pot(e,t,r){return(r??new Oi(t)).format(e,"cccccc")}function got(e,t=Xl){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function xot(){return""}function Voe(e,t=Xl){return t.format(e,"yyyy")}const vot=Voe,yot=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:Hoe,formatDay:mot,formatMonthCaption:fot,formatMonthDropdown:hot,formatWeekNumber:got,formatWeekNumberHeader:xot,formatWeekdayName:pot,formatYearCaption:vot,formatYearDropdown:Voe},Symbol.toStringTag,{value:"Module"}));function bot(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...yot,...e}}function wot(e,t,r,s,a){const{startOfMonth:i,startOfYear:o,endOfYear:c,eachMonthOfInterval:d,getMonth:u}=a;return d({start:o(e),end:c(e)}).map(m=>{const p=s.formatMonthDropdown(m,a),x=u(m),b=t&&m<i(t)||r&&m>i(r)||!1;return{value:x,label:p,disabled:b}})}function jot(e,t={},r={}){let s={...t?.[Et.Day]};return Object.entries(e).filter(([,a])=>a===!0).forEach(([a])=>{s={...s,...r?.[a]}}),s}function Sot(e,t,r){const s=e.today(),a=t?e.startOfISOWeek(s):e.startOfWeek(s),i=[];for(let o=0;o<7;o++){const c=e.addDays(a,o);i.push(c)}return i}function Not(e,t,r,s,a=!1){if(!e||!t)return;const{startOfYear:i,endOfYear:o,addYears:c,getYear:d,isBefore:u,isSameYear:l}=s,f=i(e),m=o(t),p=[];let x=f;for(;u(x,m)||l(x,m);)p.push(x),x=c(x,1);return a&&p.reverse(),p.map(b=>{const h=r.formatYearDropdown(b,s);return{value:d(b),label:h,disabled:!1}})}function Woe(e,t,r,s){let a=(s??new Oi(r)).format(e,"PPPP");return t.today&&(a=`Today, ${a}`),t.selected&&(a=`${a}, selected`),a}const Cot=Woe;function qoe(e,t,r){return(r??new Oi(t)).formatMonthYear(e)}const _ot=qoe;function Eot(e,t,r,s){let a=(s??new Oi(r)).format(e,"PPPP");return t?.today&&(a=`Today, ${a}`),a}function kot(e){return"Choose the Month"}function Aot(){return""}function Tot(e){return"Go to the Next Month"}function Dot(e){return"Go to the Previous Month"}function Pot(e,t,r){return(r??new Oi(t)).format(e,"cccc")}function Rot(e,t){return`Week ${e}`}function Mot(e){return"Week Number"}function Oot(e){return"Choose the Year"}const Iot=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:_ot,labelDay:Cot,labelDayButton:Woe,labelGrid:qoe,labelGridcell:Eot,labelMonthDropdown:kot,labelNav:Aot,labelNext:Tot,labelPrevious:Dot,labelWeekNumber:Rot,labelWeekNumberHeader:Mot,labelWeekday:Pot,labelYearDropdown:Oot},Symbol.toStringTag,{value:"Module"})),aw=e=>e instanceof HTMLElement?e:null,OR=e=>[...e.querySelectorAll("[data-animated-month]")??[]],Fot=e=>aw(e.querySelector("[data-animated-month]")),IR=e=>aw(e.querySelector("[data-animated-caption]")),FR=e=>aw(e.querySelector("[data-animated-weeks]")),$ot=e=>aw(e.querySelector("[data-animated-nav]")),Lot=e=>aw(e.querySelector("[data-animated-weekdays]"));function Bot(e,t,{classNames:r,months:s,focused:a,dateLib:i}){const o=v.useRef(null),c=v.useRef(s),d=v.useRef(!1);v.useLayoutEffect(()=>{const u=c.current;if(c.current=s,!t||!e.current||!(e.current instanceof HTMLElement)||s.length===0||u.length===0||s.length!==u.length)return;const l=i.isSameMonth(s[0].date,u[0].date),f=i.isAfter(s[0].date,u[0].date),m=f?r[gi.caption_after_enter]:r[gi.caption_before_enter],p=f?r[gi.weeks_after_enter]:r[gi.weeks_before_enter],x=o.current,b=e.current.cloneNode(!0);if(b instanceof HTMLElement?(OR(b).forEach(S=>{if(!(S instanceof HTMLElement))return;const N=Fot(S);N&&S.contains(N)&&S.removeChild(N);const _=IR(S);_&&_.classList.remove(m);const k=FR(S);k&&k.classList.remove(p)}),o.current=b):o.current=null,d.current||l||a)return;const h=x instanceof HTMLElement?OR(x):[],y=OR(e.current);if(y?.every(w=>w instanceof HTMLElement)&&h&&h.every(w=>w instanceof HTMLElement)){d.current=!0,e.current.style.isolation="isolate";const w=$ot(e.current);w&&(w.style.zIndex="1"),y.forEach((S,N)=>{const _=h[N];if(!_)return;S.style.position="relative",S.style.overflow="hidden";const k=IR(S);k&&k.classList.add(m);const E=FR(S);E&&E.classList.add(p);const T=()=>{d.current=!1,e.current&&(e.current.style.isolation=""),w&&(w.style.zIndex=""),k&&k.classList.remove(m),E&&E.classList.remove(p),S.style.position="",S.style.overflow="",S.contains(_)&&S.removeChild(_)};_.style.pointerEvents="none",_.style.position="absolute",_.style.overflow="hidden",_.setAttribute("aria-hidden","true");const D=Lot(_);D&&(D.style.opacity="0");const P=IR(_);P&&(P.classList.add(f?r[gi.caption_before_exit]:r[gi.caption_after_exit]),P.addEventListener("animationend",T));const M=FR(_);M&&M.classList.add(f?r[gi.weeks_before_exit]:r[gi.weeks_after_exit]),S.insertBefore(_,S.firstChild)})}})}function zot(e,t,r,s){const a=e[0],i=e[e.length-1],{ISOWeek:o,fixedWeeks:c,broadcastCalendar:d}=r??{},{addDays:u,differenceInCalendarDays:l,differenceInCalendarMonths:f,endOfBroadcastWeek:m,endOfISOWeek:p,endOfMonth:x,endOfWeek:b,isAfter:h,startOfBroadcastWeek:y,startOfISOWeek:w,startOfWeek:S}=s,N=d?y(a,s):o?w(a):S(a),_=d?m(i):o?p(x(i)):b(x(i)),k=l(_,N),E=f(i,a)+1,T=[];for(let M=0;M<=k;M++){const R=u(N,M);if(t&&h(R,t))break;T.push(R)}const P=(d?35:42)*E;if(c&&T.length<P){const M=P-T.length;for(let R=0;R<M;R++){const B=u(T[T.length-1],1);T.push(B)}}return T}function Uot(e){const t=[];return e.reduce((r,s)=>{const a=s.weeks.reduce((i,o)=>i.concat(o.days.slice()),t.slice());return r.concat(a.slice())},t.slice())}function Hot(e,t,r,s){const{numberOfMonths:a=1}=r,i=[];for(let o=0;o<a;o++){const c=s.addMonths(e,o);if(t&&c>t)break;i.push(c)}return i}function dG(e,t,r,s){const{month:a,defaultMonth:i,today:o=s.today(),numberOfMonths:c=1}=e;let d=a||i||o;const{differenceInCalendarMonths:u,addMonths:l,startOfMonth:f}=s;if(r&&u(r,d)<c-1){const m=-1*(c-1);d=l(r,m)}return t&&u(d,t)<0&&(d=t),f(d)}function Vot(e,t,r,s){const{addDays:a,endOfBroadcastWeek:i,endOfISOWeek:o,endOfMonth:c,endOfWeek:d,getISOWeek:u,getWeek:l,startOfBroadcastWeek:f,startOfISOWeek:m,startOfWeek:p}=s,x=e.reduce((b,h)=>{const y=r.broadcastCalendar?f(h,s):r.ISOWeek?m(h):p(h),w=r.broadcastCalendar?i(h):r.ISOWeek?o(c(h)):d(c(h)),S=t.filter(E=>E>=y&&E<=w),N=r.broadcastCalendar?35:42;if(r.fixedWeeks&&S.length<N){const E=t.filter(T=>{const D=N-S.length;return T>w&&T<=a(w,D)});S.push(...E)}const _=S.reduce((E,T)=>{const D=r.ISOWeek?u(T):l(T),P=E.find(R=>R.weekNumber===D),M=new Ioe(T,h,s);return P?P.days.push(M):E.push(new Mit(D,[M])),E},[]),k=new Rit(h,_);return b.push(k),b},[]);return r.reverseMonths?x.reverse():x}function Wot(e,t){let{startMonth:r,endMonth:s}=e;const{startOfYear:a,startOfDay:i,startOfMonth:o,endOfMonth:c,addYears:d,endOfYear:u,newDate:l,today:f}=t,{fromYear:m,toYear:p,fromMonth:x,toMonth:b}=e;!r&&x&&(r=x),!r&&m&&(r=t.newDate(m,0,1)),!s&&b&&(s=b),!s&&p&&(s=l(p,11,31));const h=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return r?r=o(r):m?r=l(m,0,1):!r&&h&&(r=a(d(e.today??f(),-100))),s?s=c(s):p?s=l(p,11,31):!s&&h&&(s=u(e.today??f())),[r&&i(r),s&&i(s)]}function qot(e,t,r,s){if(r.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:i=1}=r,{startOfMonth:o,addMonths:c,differenceInCalendarMonths:d}=s,u=a?i:1,l=o(e);if(!t)return c(l,u);if(!(d(t,e)<i))return c(l,u)}function Got(e,t,r,s){if(r.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:i}=r,{startOfMonth:o,addMonths:c,differenceInCalendarMonths:d}=s,u=a?i??1:1,l=o(e);if(!t)return c(l,-u);if(!(d(l,t)<=0))return c(l,-u)}function Yot(e){const t=[];return e.reduce((r,s)=>r.concat(s.weeks.slice()),t.slice())}function w2(e,t){const[r,s]=v.useState(e);return[t===void 0?r:t,s]}function Kot(e,t){const[r,s]=Wot(e,t),{startOfMonth:a,endOfMonth:i}=t,o=dG(e,r,s,t),[c,d]=w2(o,e.month?o:void 0);v.useEffect(()=>{const k=dG(e,r,s,t);d(k)},[e.timeZone]);const u=Hot(c,s,e,t),l=zot(u,e.endMonth?i(e.endMonth):void 0,e,t),f=Vot(u,l,e,t),m=Yot(f),p=Uot(f),x=Got(c,r,e,t),b=qot(c,s,e,t),{disableNavigation:h,onMonthChange:y}=e,w=k=>m.some(E=>E.days.some(T=>T.isEqualTo(k))),S=k=>{if(h)return;let E=a(k);r&&E<a(r)&&(E=a(r)),s&&E>a(s)&&(E=a(s)),d(E),y?.(E)};return{months:f,weeks:m,days:p,navStart:r,navEnd:s,previousMonth:x,nextMonth:b,goToMonth:S,goToDay:k=>{w(k)||S(k.date)}}}var Sl;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(Sl||(Sl={}));function uG(e){return!e[Bs.disabled]&&!e[Bs.hidden]&&!e[Bs.outside]}function Zot(e,t,r,s){let a,i=-1;for(const o of e){const c=t(o);uG(c)&&(c[Bs.focused]&&i<Sl.FocusedModifier?(a=o,i=Sl.FocusedModifier):s?.isEqualTo(o)&&i<Sl.LastFocused?(a=o,i=Sl.LastFocused):r(o.date)&&i<Sl.Selected?(a=o,i=Sl.Selected):c[Bs.today]&&i<Sl.Today&&(a=o,i=Sl.Today))}return a||(a=e.find(o=>uG(t(o)))),a}function Xot(e,t,r,s,a,i,o){const{ISOWeek:c,broadcastCalendar:d}=i,{addDays:u,addMonths:l,addWeeks:f,addYears:m,endOfBroadcastWeek:p,endOfISOWeek:x,endOfWeek:b,max:h,min:y,startOfBroadcastWeek:w,startOfISOWeek:S,startOfWeek:N}=o;let k={day:u,week:f,month:l,year:m,startOfWeek:E=>d?w(E,o):c?S(E):N(E),endOfWeek:E=>d?p(E):c?x(E):b(E)}[e](r,t==="after"?1:-1);return t==="before"&&s?k=h([s,k]):t==="after"&&a&&(k=y([a,k])),k}function Goe(e,t,r,s,a,i,o,c=0){if(c>365)return;const d=Xot(e,t,r.date,s,a,i,o),u=!!(i.disabled&&Rc(d,i.disabled,o)),l=!!(i.hidden&&Rc(d,i.hidden,o)),f=d,m=new Ioe(d,f,o);return!u&&!l?m:Goe(e,t,m,s,a,i,o,c+1)}function Jot(e,t,r,s,a){const{autoFocus:i}=e,[o,c]=v.useState(),d=Zot(t.days,r,s||(()=>!1),o),[u,l]=v.useState(i?d:void 0);return{isFocusTarget:b=>!!d?.isEqualTo(b),setFocused:l,focused:u,blur:()=>{c(u),l(void 0)},moveFocus:(b,h)=>{if(!u)return;const y=Goe(b,h,u,t.navStart,t.navEnd,e,a);y&&(t.goToDay(y),l(y))}}}function Qot(e,t){const{selected:r,required:s,onSelect:a}=e,[i,o]=w2(r,a?r:void 0),c=a?r:i,{isSameDay:d}=t,u=p=>c?.some(x=>d(x,p))??!1,{min:l,max:f}=e;return{selected:c,select:(p,x,b)=>{let h=[...c??[]];if(u(p)){if(c?.length===l||s&&c?.length===1)return;h=c?.filter(y=>!d(y,p))}else c?.length===f?h=[p]:h=[...h,p];return a||o(h),a?.(h,p,x,b),h},isSelected:u}}function elt(e,t,r=0,s=0,a=!1,i=Xl){const{from:o,to:c}=t||{},{isSameDay:d,isAfter:u,isBefore:l}=i;let f;if(!o&&!c)f={from:e,to:r>0?void 0:e};else if(o&&!c)d(o,e)?r===0?f={from:o,to:e}:a?f={from:o,to:void 0}:f=void 0:l(e,o)?f={from:e,to:o}:f={from:o,to:e};else if(o&&c)if(d(o,e)&&d(c,e))a?f={from:o,to:c}:f=void 0;else if(d(o,e))f={from:o,to:r>0?void 0:e};else if(d(c,e))f={from:e,to:r>0?void 0:e};else if(l(e,o))f={from:e,to:c};else if(u(e,o))f={from:o,to:e};else if(u(e,c))f={from:o,to:e};else throw new Error("Invalid range");if(f?.from&&f?.to){const m=i.differenceInCalendarDays(f.to,f.from);s>0&&m>s?f={from:e,to:void 0}:r>1&&m<r&&(f={from:e,to:void 0})}return f}function tlt(e,t,r=Xl){const s=Array.isArray(t)?t:[t];let a=e.from;const i=r.differenceInCalendarDays(e.to,e.from),o=Math.min(i,6);for(let c=0;c<=o;c++){if(s.includes(a.getDay()))return!0;a=r.addDays(a,1)}return!1}function fG(e,t,r=Xl){return Pc(e,t.from,!1,r)||Pc(e,t.to,!1,r)||Pc(t,e.from,!1,r)||Pc(t,e.to,!1,r)}function rlt(e,t,r=Xl){const s=Array.isArray(t)?t:[t];if(s.filter(c=>typeof c!="function").some(c=>typeof c=="boolean"?c:r.isDate(c)?Pc(e,c,!1,r):Uoe(c,r)?c.some(d=>Pc(e,d,!1,r)):Z6(c)?c.from&&c.to?fG(e,{from:c.from,to:c.to},r):!1:zoe(c)?tlt(e,c.dayOfWeek,r):$oe(c)?r.isAfter(c.before,c.after)?fG(e,{from:r.addDays(c.after,1),to:r.addDays(c.before,-1)},r):Rc(e.from,c,r)||Rc(e.to,c,r):Loe(c)||Boe(c)?Rc(e.from,c,r)||Rc(e.to,c,r):!1))return!0;const o=s.filter(c=>typeof c=="function");if(o.length){let c=e.from;const d=r.differenceInCalendarDays(e.to,e.from);for(let u=0;u<=d;u++){if(o.some(l=>l(c)))return!0;c=r.addDays(c,1)}}return!1}function slt(e,t){const{disabled:r,excludeDisabled:s,selected:a,required:i,onSelect:o}=e,[c,d]=w2(a,o?a:void 0),u=o?a:c;return{selected:u,select:(m,p,x)=>{const{min:b,max:h}=e,y=m?elt(m,u,b,h,i,t):void 0;return s&&r&&y?.from&&y.to&&rlt({from:y.from,to:y.to},r,t)&&(y.from=m,y.to=void 0),o||d(y),o?.(y,m,p,x),y},isSelected:m=>u&&Pc(u,m,!1,t)}}function nlt(e,t){const{selected:r,required:s,onSelect:a}=e,[i,o]=w2(r,a?r:void 0),c=a?r:i,{isSameDay:d}=t;return{selected:c,select:(f,m,p)=>{let x=f;return!s&&c&&c&&d(f,c)&&(x=void 0),a||o(x),a?.(x,f,m,p),x},isSelected:f=>c?d(c,f):!1}}function alt(e,t){const r=nlt(e,t),s=Qot(e,t),a=slt(e,t);switch(e.mode){case"single":return r;case"multiple":return s;case"range":return a;default:return}}function ilt(e){let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new ha(t.today,t.timeZone)),t.month&&(t.month=new ha(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new ha(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new ha(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new ha(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new ha(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(It=>new ha(It,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new ha(t.selected.from,t.timeZone):void 0,to:t.selected.to?new ha(t.selected.to,t.timeZone):void 0}));const{components:r,formatters:s,labels:a,dateLib:i,locale:o,classNames:c}=v.useMemo(()=>{const It={...K6,...t.locale};return{dateLib:new Oi({locale:It,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:dot(t.components),formatters:bot(t.formatters),labels:{...Iot,...t.labels},locale:It,classNames:{...X6(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:d,mode:u,navLayout:l,numberOfMonths:f=1,onDayBlur:m,onDayClick:p,onDayFocus:x,onDayKeyDown:b,onDayMouseEnter:h,onDayMouseLeave:y,onNextClick:w,onPrevClick:S,showWeekNumber:N,styles:_}=t,{formatCaption:k,formatDay:E,formatMonthDropdown:T,formatWeekNumber:D,formatWeekNumberHeader:P,formatWeekdayName:M,formatYearDropdown:R}=s,B=Kot(t,i),{days:L,months:$,navStart:I,navEnd:z,previousMonth:H,nextMonth:Z,goToMonth:V}=B,G=lot(L,t,I,z,i),{isSelected:U,select:Y,selected:K}=alt(t,i)??{},{blur:re,focused:he,isFocusTarget:me,moveFocus:de,setFocused:ie}=Jot(t,B,G,U??(()=>!1),i),{labelDayButton:ve,labelGridcell:_e,labelGrid:xe,labelMonthDropdown:Le,labelNav:Ie,labelPrevious:fe,labelNext:Ze,labelWeekday:it,labelWeekNumber:ge,labelWeekNumberHeader:He,labelYearDropdown:ee}=a,le=v.useMemo(()=>Sot(i,t.ISOWeek),[i,t.ISOWeek]),ce=u!==void 0||p!==void 0,Ke=v.useCallback(()=>{H&&(V(H),S?.(H))},[H,V,S]),Xe=v.useCallback(()=>{Z&&(V(Z),w?.(Z))},[V,Z,w]),ye=v.useCallback((It,Qt)=>Mt=>{Mt.preventDefault(),Mt.stopPropagation(),ie(It),Y?.(It.date,Qt,Mt),p?.(It.date,Qt,Mt)},[Y,p,ie]),Qe=v.useCallback((It,Qt)=>Mt=>{ie(It),x?.(It.date,Qt,Mt)},[x,ie]),yt=v.useCallback((It,Qt)=>Mt=>{re(),m?.(It.date,Qt,Mt)},[re,m]),Bt=v.useCallback((It,Qt)=>Mt=>{const fr={ArrowLeft:[Mt.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[Mt.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[Mt.shiftKey?"year":"week","after"],ArrowUp:[Mt.shiftKey?"year":"week","before"],PageUp:[Mt.shiftKey?"year":"month","before"],PageDown:[Mt.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(fr[Mt.key]){Mt.preventDefault(),Mt.stopPropagation();const[us,er]=fr[Mt.key];de(us,er)}b?.(It.date,Qt,Mt)},[de,b,t.dir]),lr=v.useCallback((It,Qt)=>Mt=>{h?.(It.date,Qt,Mt)},[h]),Ln=v.useCallback((It,Qt)=>Mt=>{y?.(It.date,Qt,Mt)},[y]),qs=v.useCallback(It=>Qt=>{const Mt=Number(Qt.target.value),fr=i.setMonth(i.startOfMonth(It),Mt);V(fr)},[i,V]),Bn=v.useCallback(It=>Qt=>{const Mt=Number(Qt.target.value),fr=i.setYear(i.startOfMonth(It),Mt);V(fr)},[i,V]),{className:Ia,style:wa}=v.useMemo(()=>({className:[c[Et.Root],t.className].filter(Boolean).join(" "),style:{..._?.[Et.Root],...t.style}}),[c,t.className,t.style,_]),ea=uot(t),ja=v.useRef(null);Bot(ja,!!t.animate,{classNames:c,months:$,focused:he,dateLib:i});const ni={dayPickerProps:t,selected:K,select:Y,isSelected:U,months:$,nextMonth:Z,previousMonth:H,goToMonth:V,getModifiers:G,components:r,classNames:c,styles:_,labels:a,formatters:s};return te.createElement(Foe.Provider,{value:ni},te.createElement(r.Root,{rootRef:t.animate?ja:void 0,className:Ia,style:wa,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...ea},te.createElement(r.Months,{className:c[Et.Months],style:_?.[Et.Months]},!t.hideNavigation&&!l&&te.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[Et.Nav],style:_?.[Et.Nav],"aria-label":Ie(),onPreviousClick:Ke,onNextClick:Xe,previousMonth:H,nextMonth:Z}),$.map((It,Qt)=>te.createElement(r.Month,{"data-animated-month":t.animate?"true":void 0,className:c[Et.Month],style:_?.[Et.Month],key:Qt,displayIndex:Qt,calendarMonth:It},l==="around"&&!t.hideNavigation&&Qt===0&&te.createElement(r.PreviousMonthButton,{type:"button",className:c[Et.PreviousMonthButton],tabIndex:H?void 0:-1,"aria-disabled":H?void 0:!0,"aria-label":fe(H),onClick:Ke,"data-animated-button":t.animate?"true":void 0},te.createElement(r.Chevron,{disabled:H?void 0:!0,className:c[Et.Chevron],orientation:t.dir==="rtl"?"right":"left"})),te.createElement(r.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:c[Et.MonthCaption],style:_?.[Et.MonthCaption],calendarMonth:It,displayIndex:Qt},d?.startsWith("dropdown")?te.createElement(r.DropdownNav,{className:c[Et.Dropdowns],style:_?.[Et.Dropdowns]},(()=>{const Mt=d==="dropdown"||d==="dropdown-months"?te.createElement(r.MonthsDropdown,{key:"month",className:c[Et.MonthsDropdown],"aria-label":Le(),classNames:c,components:r,disabled:!!t.disableNavigation,onChange:qs(It.date),options:wot(It.date,I,z,s,i),style:_?.[Et.Dropdown],value:i.getMonth(It.date)}):te.createElement("span",{key:"month"},T(It.date,i)),fr=d==="dropdown"||d==="dropdown-years"?te.createElement(r.YearsDropdown,{key:"year",className:c[Et.YearsDropdown],"aria-label":ee(i.options),classNames:c,components:r,disabled:!!t.disableNavigation,onChange:Bn(It.date),options:Not(I,z,s,i,!!t.reverseYears),style:_?.[Et.Dropdown],value:i.getYear(It.date)}):te.createElement("span",{key:"year"},R(It.date,i));return i.getMonthYearOrder()==="year-first"?[fr,Mt]:[Mt,fr]})(),te.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},k(It.date,i.options,i))):te.createElement(r.CaptionLabel,{className:c[Et.CaptionLabel],role:"status","aria-live":"polite"},k(It.date,i.options,i))),l==="around"&&!t.hideNavigation&&Qt===f-1&&te.createElement(r.NextMonthButton,{type:"button",className:c[Et.NextMonthButton],tabIndex:Z?void 0:-1,"aria-disabled":Z?void 0:!0,"aria-label":Ze(Z),onClick:Xe,"data-animated-button":t.animate?"true":void 0},te.createElement(r.Chevron,{disabled:Z?void 0:!0,className:c[Et.Chevron],orientation:t.dir==="rtl"?"left":"right"})),Qt===f-1&&l==="after"&&!t.hideNavigation&&te.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[Et.Nav],style:_?.[Et.Nav],"aria-label":Ie(),onPreviousClick:Ke,onNextClick:Xe,previousMonth:H,nextMonth:Z}),te.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":u==="multiple"||u==="range","aria-label":xe(It.date,i.options,i)||void 0,className:c[Et.MonthGrid],style:_?.[Et.MonthGrid]},!t.hideWeekdays&&te.createElement(r.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:c[Et.Weekdays],style:_?.[Et.Weekdays]},N&&te.createElement(r.WeekNumberHeader,{"aria-label":He(i.options),className:c[Et.WeekNumberHeader],style:_?.[Et.WeekNumberHeader],scope:"col"},P()),le.map(Mt=>te.createElement(r.Weekday,{"aria-label":it(Mt,i.options,i),className:c[Et.Weekday],key:String(Mt),style:_?.[Et.Weekday],scope:"col"},M(Mt,i.options,i)))),te.createElement(r.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:c[Et.Weeks],style:_?.[Et.Weeks]},It.weeks.map(Mt=>te.createElement(r.Week,{className:c[Et.Week],key:Mt.weekNumber,style:_?.[Et.Week],week:Mt},N&&te.createElement(r.WeekNumber,{week:Mt,style:_?.[Et.WeekNumber],"aria-label":ge(Mt.weekNumber,{locale:o}),className:c[Et.WeekNumber],scope:"row",role:"rowheader"},D(Mt.weekNumber,i)),Mt.days.map(fr=>{const{date:us}=fr,er=G(fr);if(er[Bs.focused]=!er.hidden&&!!he?.isEqualTo(fr),er[qo.selected]=U?.(us)||er.selected,Z6(K)){const{from:Fs,to:ai}=K;er[qo.range_start]=!!(Fs&&ai&&i.isSameDay(us,Fs)),er[qo.range_end]=!!(Fs&&ai&&i.isSameDay(us,ai)),er[qo.range_middle]=Pc(K,us,!0,i)}const zt=jot(er,_,t.modifiersStyles),fs=cot(er,c,t.modifiersClassNames),ms=!ce&&!er.hidden?_e(us,er,i.options,i):void 0;return te.createElement(r.Day,{key:`${i.format(us,"yyyy-MM-dd")}_${i.format(fr.displayMonth,"yyyy-MM")}`,day:fr,modifiers:er,className:fs.join(" "),style:zt,role:"gridcell","aria-selected":er.selected||void 0,"aria-label":ms,"data-day":i.format(us,"yyyy-MM-dd"),"data-month":fr.outside?i.format(us,"yyyy-MM"):void 0,"data-selected":er.selected||void 0,"data-disabled":er.disabled||void 0,"data-hidden":er.hidden||void 0,"data-outside":fr.outside||void 0,"data-focused":er.focused||void 0,"data-today":er.today||void 0},!er.hidden&&ce?te.createElement(r.DayButton,{className:c[Et.DayButton],style:_?.[Et.DayButton],type:"button",day:fr,modifiers:er,disabled:er.disabled||void 0,tabIndex:me(fr)?0:-1,"aria-label":ve(us,er,i.options,i),onClick:ye(fr,er),onBlur:yt(fr,er),onFocus:Qe(fr,er),onKeyDown:Bt(fr,er),onMouseEnter:lr(fr,er),onMouseLeave:Ln(fr,er)},E(us,i.options,i)):!er.hidden&&E(fr.date,i.options,i))})))))))),t.footer&&te.createElement(r.Footer,{className:c[Et.Footer],style:_?.[Et.Footer],role:"status","aria-live":"polite"},t.footer)))}function olt({className:e,classNames:t,showOutsideDays:r=!0,captionLayout:s="label",buttonVariant:a="ghost",formatters:i,components:o,...c}){const d=X6();return n.jsx(ilt,{showOutsideDays:r,className:X("bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:s,formatters:{formatMonthDropdown:u=>u.toLocaleString("default",{month:"short"}),...i},classNames:{root:X("w-fit",d.root),months:X("relative flex flex-col gap-4 md:flex-row",d.months),month:X("flex w-full flex-col gap-4",d.month),nav:X("absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1",d.nav),button_previous:X(xg({variant:a}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",d.button_previous),button_next:X(xg({variant:a}),"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",d.button_next),month_caption:X("flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]",d.month_caption),dropdowns:X("flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium",d.dropdowns),dropdown_root:X("has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border",d.dropdown_root),dropdown:X("bg-popover absolute inset-0 opacity-0",d.dropdown),caption_label:X("select-none font-medium",s==="label"?"text-sm":"[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5",d.caption_label),table:"w-full border-collapse",weekdays:X("flex",d.weekdays),weekday:X("text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal",d.weekday),week:X("mt-2 flex w-full",d.week),week_number_header:X("w-[--cell-size] select-none",d.week_number_header),week_number:X("text-muted-foreground select-none text-[0.8rem]",d.week_number),day:X("group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md",d.day),range_start:X("bg-accent rounded-l-md",d.range_start),range_middle:X("rounded-none",d.range_middle),range_end:X("bg-accent rounded-r-md",d.range_end),today:X("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",d.today),outside:X("text-muted-foreground aria-selected:text-muted-foreground",d.outside),disabled:X("text-muted-foreground opacity-50",d.disabled),hidden:X("invisible",d.hidden),...t},components:{Root:({className:u,rootRef:l,...f})=>n.jsx("div",{"data-slot":"calendar",ref:l,className:X(u),...f}),Chevron:({className:u,orientation:l,...f})=>l==="left"?n.jsx(ad,{className:X("size-4",u),...f}):l==="right"?n.jsx(ko,{className:X("size-4",u),...f}):n.jsx(Eo,{className:X("size-4",u),...f}),DayButton:llt,WeekNumber:({children:u,...l})=>n.jsx("td",{...l,children:n.jsx("div",{className:"flex size-[--cell-size] items-center justify-center text-center",children:u})}),...o},...c})}function llt({className:e,day:t,modifiers:r,...s}){const a=X6(),i=v.useRef(null);return v.useEffect(()=>{r.focused&&i.current?.focus()},[r.focused]),n.jsx(W,{ref:i,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":r.selected&&!r.range_start&&!r.range_end&&!r.range_middle,"data-range-start":r.range_start,"data-range-end":r.range_end,"data-range-middle":r.range_middle,className:X("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70",a.day,e),...s})}const clt=({value:e,onChange:t,placeholder:r="Pick a date",disabled:s=!1,maxDate:a,minDate:i,className:o=""})=>{const[c,d]=v.useState(!1),u=f=>{t?.(f),d(!1)},l=()=>{const f={};return a&&(f.after=a),i&&(f.before=i),Object.keys(f).length>0?f:void 0};return n.jsxs(H3,{open:c,onOpenChange:d,children:[n.jsx(V3,{asChild:!0,children:n.jsxs(W,{variant:"outline",className:`justify-between font-normal ${o}`,disabled:s,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(bn,{className:"h-4 w-4"}),e?e.toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric"}):r]}),n.jsx(Eo,{className:"h-4 w-4"})]})}),n.jsx(VE,{className:"w-auto overflow-hidden p-0",align:"start",children:n.jsx(olt,{mode:"single",selected:e,onSelect:u,disabled:l(),captionLayout:"dropdown"})})]})},dlt=({className:e="",onFilterChange:t,onError:r})=>{const{currentStore:s}=q3(),{fetchData:a,clearError:i}=ri(),[,o]=v.useState(null),c=v.useCallback(w=>{o(w),r&&r(w)},[r]),d=w=>{if(!w)return!1;const[S,N,_]=w.split("-").map(Number),k=new Date(S,N-1,_),E=new Date,T=new Date(E.getFullYear(),E.getMonth(),E.getDate());return k<T},u=w=>{const S=w.getFullYear(),N=String(w.getMonth()+1).padStart(2,"0"),_=String(w.getDate()).padStart(2,"0");return`${S}-${N}-${_}`},l=()=>{const w=new Date,S=new Date(w.getFullYear(),w.getMonth(),w.getDate()-2);return u(S)},f=new Date,m=new Date(f.getFullYear(),f.getMonth(),f.getDate()-1),[p,x]=v.useState(new Date(l())),b=v.useCallback(async(w,S,N="filter-update")=>{try{if(w&&S){const _=u(S);await a({store:w,date:_}),console.log(`[${N}] DSPR API call initiated:`,{store:w,date:_}),c(null),i()}}catch(_){const k="Date Error: No data available for the selected date at this store. Please select another date.";console.error(`[${N}] DSPR API call failed:`,_),c(k)}},[a,c,i]),h=v.useRef(b);h.current=b,v.useEffect(()=>{c(s?null:"No store selected. Please select a store to continue.")},[s,c]);const y=w=>{if(!w)return;const S=u(w);if(!d(S)){c("Invalid date selected. Please select a date before today.");return}c(null),x(w),t&&t({date:S})};return v.useEffect(()=>{s?.id&&p&&(d(u(p))?h.current(s.id,p,"filters-changed"):c("Cannot make API call with invalid date."))},[s?.id,p,c]),s?n.jsx(oe,{className:`bg-card border-border shadow-sm ${e}`,children:n.jsx(Re,{className:"px-4 py-2",children:n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsx(qe,{className:"text-sm sm:text-base md:text-lg text-card-foreground",children:s.name}),n.jsx(clt,{value:p,onChange:y,maxDate:m,placeholder:"Select date",className:"w-40 bg-background border-border text-foreground focus:ring-ring focus:border-ring text-sm"})]})})}):n.jsx(oe,{className:`bg-yellow-50 border-yellow-200 ${e}`,children:n.jsx(je,{className:"p-4",children:n.jsx("p",{className:"text-yellow-800",children:"Please select a store to view filters."})})})},ult=()=>{const{raw:e}=Vu(),{isLoading:t,error:r}=ri(),s=e?.HNR_Transactions??null,a=e?.HNR_Promise_Met_Transactions??null,i=e?.HNR_Promise_Met_Percent??null;if(t)return n.jsx("div",{className:"rounded-lg border bg-card p-4",children:n.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading HNR data..."})});if(r)return n.jsx("div",{className:"rounded-lg border bg-card p-4",children:n.jsx("div",{className:"text-sm text-destructive",children:r?.message})});if(!e)return n.jsx("div",{className:"rounded-lg border bg-card p-4",children:n.jsx("div",{className:"text-sm text-muted-foreground",children:"No HNR data available."})});const o=i!=null?`${i.toFixed(2)}%`:"N/A";return n.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[n.jsx("div",{className:"mb-2 text-base font-semibold",children:"HNR Overview"}),n.jsxs("ul",{className:"space-y-1 text-sm",children:[n.jsxs("li",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total transactions"}),n.jsx("span",{className:"font-medium",children:s??"N/A"})]}),n.jsxs("li",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Promise met transactions"}),n.jsx("span",{className:"font-medium",children:a??"N/A"})]}),n.jsxs("li",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Promise met transactions %"}),n.jsx("span",{className:"font-medium",children:o})]})]})]})},flt=({storeName:e,percent:t,loading:r,error:s,className:a})=>{const i=typeof t=="number"&&!Number.isNaN(t),o=i?t.toFixed(2):null,c=e??"Unknown Store",d="relative overflow-hidden rounded-xl border p-4 md:p-6 flex flex-col md:flex-row items-center gap-4",u="bg-gradient-to-r from-pink-50 via-rose-50 to-red-50 border-rose-200",l="bg-amber-50 border-amber-200",f="text-sm md:text-base",m=i&&!r&&!s;return n.jsx("div",{className:`${d} ${m?u:l} ${a??""}`,children:n.jsxs("div",{className:"flex items-center gap-3 md:gap-4 w-full",children:[n.jsx("img",{src:"/celebrate.png",alt:"Celebrate",className:"h-12 w-12 md:h-16 md:w-16 shrink-0"}),n.jsxs("div",{className:"flex-1",children:[r?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"h-3 w-3 animate-spin rounded-full border-2 border-b-0 border-rose-500"}),n.jsx("span",{className:"text-muted-foreground text-sm",children:"Loading celebration..."})]}):s?n.jsx("div",{className:"text-amber-900 text-sm",children:s}):n.jsxs("div",{className:f,children:[n.jsx("span",{className:"font-semibold text-rose-700",children:"Congrats to store "}),n.jsx("span",{className:"font-bold text-rose-900",children:c}),n.jsx("span",{className:"font-semibold text-rose-700",children:" for passing "}),n.jsxs("span",{className:"font-bold text-rose-900",children:[o??"N/A","%"]})]}),!i&&!r&&!s&&n.jsx("div",{className:"mt-1 text-xs text-amber-800",children:"HNR metrics unavailable. Showing limited celebration info."})]}),m&&n.jsx("div",{className:"text-3xl md:text-4xl select-none","aria-hidden":!0,children:""})]})})};function Xu(){const e=ql(),t=Ce(hMe),r=Ce(pMe),s=Ce(LI),a=Ce(gMe),i=Ce(DJ),o=Ce(xMe),c=Ce(vMe),d=Ce(yMe),u=Ce(bMe),l=Ce(wMe),f=Ce(jMe),m=Ce(SMe),p=Ce(NMe),x=Ce(CMe),b=Ce(_Me),h=Ce(EMe),y=Ce(kMe),w=Ce(AMe),S=Ce(TMe),N=Ce(DMe),_=Ce(PMe),k=Ce(RMe),E=Ce(MMe),T=Ce(IMe),D=Ce(FMe),P=Ce($Me),M=Ce(OMe),R=Ce(LMe),B=v.useCallback(G=>{e(aMe(G))},[e]),L=v.useCallback(()=>{e(iMe())},[e]),$=v.useCallback(G=>{e(oMe(G))},[e]),I=v.useCallback(G=>{e(lMe(G))},[e]),z=v.useCallback(()=>{e(cMe())},[e]),H=v.useCallback(()=>{e(dMe())},[e]),Z=v.useCallback(G=>a[G]||null,[a]),V=v.useCallback(G=>s.find(U=>U.date===G)||null,[s]);return{raw:t,processed:r,entries:s,comparisons:a,timeline:i,bestDay:o,worstDay:c,averages:d,weekPattern:u,dayOfWeekBreakdown:l,strongestDay:f,weakestDay:m,dayCount:N,avgDailySales:_,salesVariability:k,weekendWeekdayRatio:E,improvedDays:T,declinedDays:D,allDates:P,daysByTrend:R,hasData:S,store:y,week:w,lastProcessed:h,isFilterActive:M,config:p,filter:x,sort:b,setFilter:B,clearFilter:L,setSort:$,setComparisonThresholds:I,resetConfig:z,clearData:H,getComparisonForDate:Z,getEntryForDate:V}}function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},pe.apply(null,arguments)}function Fm(e,...t){const r=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(s=>r.searchParams.append("args[]",s)),`Minified MUI error #${e}; visit ${r} for the full message.`}const j2="$$material";function mlt(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function hlt(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var plt=(function(){function e(r){var s=this;this._insertTag=function(a){var i;s.tags.length===0?s.insertionPoint?i=s.insertionPoint.nextSibling:s.prepend?i=s.container.firstChild:i=s.before:i=s.tags[s.tags.length-1].nextSibling,s.container.insertBefore(a,i),s.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(s){s.forEach(this._insertTag)},t.insert=function(s){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(hlt(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var i=mlt(a);try{i.insertRule(s,i.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(s));this.ctr++},t.flush=function(){this.tags.forEach(function(s){var a;return(a=s.parentNode)==null?void 0:a.removeChild(s)}),this.tags=[],this.ctr=0},e})(),fa="-ms-",h_="-moz-",wr="-webkit-",Yoe="comm",J6="rule",Q6="decl",glt="@import",Koe="@keyframes",xlt="@layer",vlt=Math.abs,S2=String.fromCharCode,ylt=Object.assign;function blt(e,t){return oa(e,0)^45?(((t<<2^oa(e,0))<<2^oa(e,1))<<2^oa(e,2))<<2^oa(e,3):0}function Zoe(e){return e.trim()}function wlt(e,t){return(e=t.exec(e))?e[0]:e}function jr(e,t,r){return e.replace(t,r)}function hO(e,t){return e.indexOf(t)}function oa(e,t){return e.charCodeAt(t)|0}function Hy(e,t,r){return e.slice(t,r)}function Nl(e){return e.length}function eF(e){return e.length}function E1(e,t){return t.push(e),e}function jlt(e,t){return e.map(t).join("")}var N2=1,Dg=1,Xoe=0,Ja=0,pn=0,kx="";function C2(e,t,r,s,a,i,o){return{value:e,root:t,parent:r,type:s,props:a,children:i,line:N2,column:Dg,length:o,return:""}}function b0(e,t){return ylt(C2("",null,null,"",null,null,0),e,{length:-e.length},t)}function Slt(){return pn}function Nlt(){return pn=Ja>0?oa(kx,--Ja):0,Dg--,pn===10&&(Dg=1,N2--),pn}function _i(){return pn=Ja<Xoe?oa(kx,Ja++):0,Dg++,pn===10&&(Dg=1,N2++),pn}function Il(){return oa(kx,Ja)}function XN(){return Ja}function iw(e,t){return Hy(kx,e,t)}function Vy(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Joe(e){return N2=Dg=1,Xoe=Nl(kx=e),Ja=0,[]}function Qoe(e){return kx="",e}function JN(e){return Zoe(iw(Ja-1,pO(e===91?e+2:e===40?e+1:e)))}function Clt(e){for(;(pn=Il())&&pn<33;)_i();return Vy(e)>2||Vy(pn)>3?"":" "}function _lt(e,t){for(;--t&&_i()&&!(pn<48||pn>102||pn>57&&pn<65||pn>70&&pn<97););return iw(e,XN()+(t<6&&Il()==32&&_i()==32))}function pO(e){for(;_i();)switch(pn){case e:return Ja;case 34:case 39:e!==34&&e!==39&&pO(pn);break;case 40:e===41&&pO(e);break;case 92:_i();break}return Ja}function Elt(e,t){for(;_i()&&e+pn!==57;)if(e+pn===84&&Il()===47)break;return"/*"+iw(t,Ja-1)+"*"+S2(e===47?e:_i())}function klt(e){for(;!Vy(Il());)_i();return iw(e,Ja)}function Alt(e){return Qoe(QN("",null,null,null,[""],e=Joe(e),0,[0],e))}function QN(e,t,r,s,a,i,o,c,d){for(var u=0,l=0,f=o,m=0,p=0,x=0,b=1,h=1,y=1,w=0,S="",N=a,_=i,k=s,E=S;h;)switch(x=w,w=_i()){case 40:if(x!=108&&oa(E,f-1)==58){hO(E+=jr(JN(w),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:E+=JN(w);break;case 9:case 10:case 13:case 32:E+=Clt(x);break;case 92:E+=_lt(XN()-1,7);continue;case 47:switch(Il()){case 42:case 47:E1(Tlt(Elt(_i(),XN()),t,r),d);break;default:E+="/"}break;case 123*b:c[u++]=Nl(E)*y;case 125*b:case 59:case 0:switch(w){case 0:case 125:h=0;case 59+l:y==-1&&(E=jr(E,/\f/g,"")),p>0&&Nl(E)-f&&E1(p>32?hG(E+";",s,r,f-1):hG(jr(E," ","")+";",s,r,f-2),d);break;case 59:E+=";";default:if(E1(k=mG(E,t,r,u,l,a,c,S,N=[],_=[],f),i),w===123)if(l===0)QN(E,t,k,k,N,i,f,c,_);else switch(m===99&&oa(E,3)===110?100:m){case 100:case 108:case 109:case 115:QN(e,k,k,s&&E1(mG(e,k,k,0,0,a,c,S,a,N=[],f),_),a,_,f,c,s?N:_);break;default:QN(E,k,k,k,[""],_,0,c,_)}}u=l=p=0,b=y=1,S=E="",f=o;break;case 58:f=1+Nl(E),p=x;default:if(b<1){if(w==123)--b;else if(w==125&&b++==0&&Nlt()==125)continue}switch(E+=S2(w),w*b){case 38:y=l>0?1:(E+="\f",-1);break;case 44:c[u++]=(Nl(E)-1)*y,y=1;break;case 64:Il()===45&&(E+=JN(_i())),m=Il(),l=f=Nl(S=E+=klt(XN())),w++;break;case 45:x===45&&Nl(E)==2&&(b=0)}}return i}function mG(e,t,r,s,a,i,o,c,d,u,l){for(var f=a-1,m=a===0?i:[""],p=eF(m),x=0,b=0,h=0;x<s;++x)for(var y=0,w=Hy(e,f+1,f=vlt(b=o[x])),S=e;y<p;++y)(S=Zoe(b>0?m[y]+" "+w:jr(w,/&\f/g,m[y])))&&(d[h++]=S);return C2(e,t,r,a===0?J6:c,d,u,l)}function Tlt(e,t,r){return C2(e,t,r,Yoe,S2(Slt()),Hy(e,2,-2),0)}function hG(e,t,r,s){return C2(e,t,r,Q6,Hy(e,0,s),Hy(e,s+1,-1),s)}function sg(e,t){for(var r="",s=eF(e),a=0;a<s;a++)r+=t(e[a],a,e,t)||"";return r}function Dlt(e,t,r,s){switch(e.type){case xlt:if(e.children.length)break;case glt:case Q6:return e.return=e.return||e.value;case Yoe:return"";case Koe:return e.return=e.value+"{"+sg(e.children,s)+"}";case J6:e.value=e.props.join(",")}return Nl(r=sg(e.children,s))?e.return=e.value+"{"+r+"}":""}function Plt(e){var t=eF(e);return function(r,s,a,i){for(var o="",c=0;c<t;c++)o+=e[c](r,s,a,i)||"";return o}}function Rlt(e){return function(t){t.root||(t=t.return)&&e(t)}}function ele(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var Mlt=function(t,r,s){for(var a=0,i=0;a=i,i=Il(),a===38&&i===12&&(r[s]=1),!Vy(i);)_i();return iw(t,Ja)},Olt=function(t,r){var s=-1,a=44;do switch(Vy(a)){case 0:a===38&&Il()===12&&(r[s]=1),t[s]+=Mlt(Ja-1,r,s);break;case 2:t[s]+=JN(a);break;case 4:if(a===44){t[++s]=Il()===58?"&\f":"",r[s]=t[s].length;break}default:t[s]+=S2(a)}while(a=_i());return t},Ilt=function(t,r){return Qoe(Olt(Joe(t),r))},pG=new WeakMap,Flt=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,s=t.parent,a=t.column===s.column&&t.line===s.line;s.type!=="rule";)if(s=s.parent,!s)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!pG.get(s))&&!a){pG.set(t,!0);for(var i=[],o=Ilt(r,i),c=s.props,d=0,u=0;d<o.length;d++)for(var l=0;l<c.length;l++,u++)t.props[u]=i[d]?o[d].replace(/&\f/g,c[l]):c[l]+" "+o[d]}}},$lt=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function tle(e,t){switch(blt(e,t)){case 5103:return wr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return wr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return wr+e+h_+e+fa+e+e;case 6828:case 4268:return wr+e+fa+e+e;case 6165:return wr+e+fa+"flex-"+e+e;case 5187:return wr+e+jr(e,/(\w+).+(:[^]+)/,wr+"box-$1$2"+fa+"flex-$1$2")+e;case 5443:return wr+e+fa+"flex-item-"+jr(e,/flex-|-self/,"")+e;case 4675:return wr+e+fa+"flex-line-pack"+jr(e,/align-content|flex-|-self/,"")+e;case 5548:return wr+e+fa+jr(e,"shrink","negative")+e;case 5292:return wr+e+fa+jr(e,"basis","preferred-size")+e;case 6060:return wr+"box-"+jr(e,"-grow","")+wr+e+fa+jr(e,"grow","positive")+e;case 4554:return wr+jr(e,/([^-])(transform)/g,"$1"+wr+"$2")+e;case 6187:return jr(jr(jr(e,/(zoom-|grab)/,wr+"$1"),/(image-set)/,wr+"$1"),e,"")+e;case 5495:case 3959:return jr(e,/(image-set\([^]*)/,wr+"$1$`$1");case 4968:return jr(jr(e,/(.+:)(flex-)?(.*)/,wr+"box-pack:$3"+fa+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+wr+e+e;case 4095:case 3583:case 4068:case 2532:return jr(e,/(.+)-inline(.+)/,wr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Nl(e)-1-t>6)switch(oa(e,t+1)){case 109:if(oa(e,t+4)!==45)break;case 102:return jr(e,/(.+:)(.+)-([^]+)/,"$1"+wr+"$2-$3$1"+h_+(oa(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~hO(e,"stretch")?tle(jr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(oa(e,t+1)!==115)break;case 6444:switch(oa(e,Nl(e)-3-(~hO(e,"!important")&&10))){case 107:return jr(e,":",":"+wr)+e;case 101:return jr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+wr+(oa(e,14)===45?"inline-":"")+"box$3$1"+wr+"$2$3$1"+fa+"$2box$3")+e}break;case 5936:switch(oa(e,t+11)){case 114:return wr+e+fa+jr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return wr+e+fa+jr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return wr+e+fa+jr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return wr+e+fa+e+e}return e}var Llt=function(t,r,s,a){if(t.length>-1&&!t.return)switch(t.type){case Q6:t.return=tle(t.value,t.length);break;case Koe:return sg([b0(t,{value:jr(t.value,"@","@"+wr)})],a);case J6:if(t.length)return jlt(t.props,function(i){switch(wlt(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return sg([b0(t,{props:[jr(i,/:(read-\w+)/,":"+h_+"$1")]})],a);case"::placeholder":return sg([b0(t,{props:[jr(i,/:(plac\w+)/,":"+wr+"input-$1")]}),b0(t,{props:[jr(i,/:(plac\w+)/,":"+h_+"$1")]}),b0(t,{props:[jr(i,/:(plac\w+)/,fa+"input-$1")]})],a)}return""})}},Blt=[Llt],zlt=function(t){var r=t.key;if(r==="css"){var s=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(s,function(b){var h=b.getAttribute("data-emotion");h.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var a=t.stylisPlugins||Blt,i={},o,c=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(b){for(var h=b.getAttribute("data-emotion").split(" "),y=1;y<h.length;y++)i[h[y]]=!0;c.push(b)});var d,u=[Flt,$lt];{var l,f=[Dlt,Rlt(function(b){l.insert(b)})],m=Plt(u.concat(a,f)),p=function(h){return sg(Alt(h),m)};d=function(h,y,w,S){l=w,p(h?h+"{"+y.styles+"}":y.styles),S&&(x.inserted[y.name]=!0)}}var x={key:r,sheet:new plt({key:r,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:d};return x.sheet.hydrate(c),x},$R={exports:{}},_r={};var gG;function Ult(){if(gG)return _r;gG=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,s=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,d=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,l=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,m=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,x=e?Symbol.for("react.lazy"):60116,b=e?Symbol.for("react.block"):60121,h=e?Symbol.for("react.fundamental"):60117,y=e?Symbol.for("react.responder"):60118,w=e?Symbol.for("react.scope"):60119;function S(_){if(typeof _=="object"&&_!==null){var k=_.$$typeof;switch(k){case t:switch(_=_.type,_){case d:case u:case s:case i:case a:case f:return _;default:switch(_=_&&_.$$typeof,_){case c:case l:case x:case p:case o:return _;default:return k}}case r:return k}}}function N(_){return S(_)===u}return _r.AsyncMode=d,_r.ConcurrentMode=u,_r.ContextConsumer=c,_r.ContextProvider=o,_r.Element=t,_r.ForwardRef=l,_r.Fragment=s,_r.Lazy=x,_r.Memo=p,_r.Portal=r,_r.Profiler=i,_r.StrictMode=a,_r.Suspense=f,_r.isAsyncMode=function(_){return N(_)||S(_)===d},_r.isConcurrentMode=N,_r.isContextConsumer=function(_){return S(_)===c},_r.isContextProvider=function(_){return S(_)===o},_r.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===t},_r.isForwardRef=function(_){return S(_)===l},_r.isFragment=function(_){return S(_)===s},_r.isLazy=function(_){return S(_)===x},_r.isMemo=function(_){return S(_)===p},_r.isPortal=function(_){return S(_)===r},_r.isProfiler=function(_){return S(_)===i},_r.isStrictMode=function(_){return S(_)===a},_r.isSuspense=function(_){return S(_)===f},_r.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===s||_===u||_===i||_===a||_===f||_===m||typeof _=="object"&&_!==null&&(_.$$typeof===x||_.$$typeof===p||_.$$typeof===o||_.$$typeof===c||_.$$typeof===l||_.$$typeof===h||_.$$typeof===y||_.$$typeof===w||_.$$typeof===b)},_r.typeOf=S,_r}var xG;function Hlt(){return xG||(xG=1,$R.exports=Ult()),$R.exports}var LR,vG;function Vlt(){if(vG)return LR;vG=1;var e=Hlt(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[e.ForwardRef]=s,i[e.Memo]=a;function o(x){return e.isMemo(x)?a:i[x.$$typeof]||t}var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,m=Object.prototype;function p(x,b,h){if(typeof b!="string"){if(m){var y=f(b);y&&y!==m&&p(x,y,h)}var w=d(b);u&&(w=w.concat(u(b)));for(var S=o(x),N=o(b),_=0;_<w.length;++_){var k=w[_];if(!r[k]&&!(h&&h[k])&&!(N&&N[k])&&!(S&&S[k])){var E=l(b,k);try{c(x,k,E)}catch{}}}}return x}return LR=p,LR}Vlt();var Wlt=!0;function rle(e,t,r){var s="";return r.split(" ").forEach(function(a){e[a]!==void 0?t.push(e[a]+";"):a&&(s+=a+" ")}),s}var tF=function(t,r,s){var a=t.key+"-"+r.name;(s===!1||Wlt===!1)&&t.registered[a]===void 0&&(t.registered[a]=r.styles)},sle=function(t,r,s){tF(t,r,s);var a=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var i=r;do t.insert(r===i?"."+a:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function qlt(e){for(var t=0,r,s=0,a=e.length;a>=4;++s,a-=4)r=e.charCodeAt(s)&255|(e.charCodeAt(++s)&255)<<8|(e.charCodeAt(++s)&255)<<16|(e.charCodeAt(++s)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(a){case 3:t^=(e.charCodeAt(s+2)&255)<<16;case 2:t^=(e.charCodeAt(s+1)&255)<<8;case 1:t^=e.charCodeAt(s)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Glt={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ylt=/[A-Z]|^ms/g,Klt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,nle=function(t){return t.charCodeAt(1)===45},yG=function(t){return t!=null&&typeof t!="boolean"},BR=ele(function(e){return nle(e)?e:e.replace(Ylt,"-$&").toLowerCase()}),bG=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(Klt,function(s,a,i){return Cl={name:a,styles:i,next:Cl},a})}return Glt[t]!==1&&!nle(t)&&typeof r=="number"&&r!==0?r+"px":r};function Wy(e,t,r){if(r==null)return"";var s=r;if(s.__emotion_styles!==void 0)return s;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return Cl={name:a.name,styles:a.styles,next:Cl},a.name;var i=r;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)Cl={name:o.name,styles:o.styles,next:Cl},o=o.next;var c=i.styles+";";return c}return Zlt(e,t,r)}case"function":{if(e!==void 0){var d=Cl,u=r(e);return Cl=d,Wy(e,t,u)}break}}var l=r;if(t==null)return l;var f=t[l];return f!==void 0?f:l}function Zlt(e,t,r){var s="";if(Array.isArray(r))for(var a=0;a<r.length;a++)s+=Wy(e,t,r[a])+";";else for(var i in r){var o=r[i];if(typeof o!="object"){var c=o;t!=null&&t[c]!==void 0?s+=i+"{"+t[c]+"}":yG(c)&&(s+=BR(i)+":"+bG(i,c)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var d=0;d<o.length;d++)yG(o[d])&&(s+=BR(i)+":"+bG(i,o[d])+";");else{var u=Wy(e,t,o);switch(i){case"animation":case"animationName":{s+=BR(i)+":"+u+";";break}default:s+=i+"{"+u+"}"}}}return s}var wG=/label:\s*([^\s;{]+)\s*(;|$)/g,Cl;function _2(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var s=!0,a="";Cl=void 0;var i=e[0];if(i==null||i.raw===void 0)s=!1,a+=Wy(r,t,i);else{var o=i;a+=o[0]}for(var c=1;c<e.length;c++)if(a+=Wy(r,t,e[c]),s){var d=i;a+=d[c]}wG.lastIndex=0;for(var u="",l;(l=wG.exec(a))!==null;)u+="-"+l[1];var f=qlt(a)+u;return{name:f,styles:a,next:Cl}}var Xlt=function(t){return t()},Jlt=wm.useInsertionEffect?wm.useInsertionEffect:!1,ale=Jlt||Xlt,ile=v.createContext(typeof HTMLElement<"u"?zlt({key:"css"}):null);ile.Provider;var ole=function(t){return v.forwardRef(function(r,s){var a=v.useContext(ile);return t(r,a,s)})},rF=v.createContext({}),sF={}.hasOwnProperty,gO="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Qlt=function(t,r){var s={};for(var a in r)sF.call(r,a)&&(s[a]=r[a]);return s[gO]=t,s},ect=function(t){var r=t.cache,s=t.serialized,a=t.isStringTag;return tF(r,s,a),ale(function(){return sle(r,s,a)}),null},tct=ole(function(e,t,r){var s=e.css;typeof s=="string"&&t.registered[s]!==void 0&&(s=t.registered[s]);var a=e[gO],i=[s],o="";typeof e.className=="string"?o=rle(t.registered,i,e.className):e.className!=null&&(o=e.className+" ");var c=_2(i,void 0,v.useContext(rF));o+=t.key+"-"+c.name;var d={};for(var u in e)sF.call(e,u)&&u!=="css"&&u!==gO&&(d[u]=e[u]);return d.className=o,r&&(d.ref=r),v.createElement(v.Fragment,null,v.createElement(ect,{cache:t,serialized:c,isStringTag:typeof a=="string"}),v.createElement(a,d))}),rct=tct,jG=function(t,r){var s=arguments;if(r==null||!sF.call(r,"css"))return v.createElement.apply(void 0,s);var a=s.length,i=new Array(a);i[0]=rct,i[1]=Qlt(t,r);for(var o=2;o<a;o++)i[o]=s[o];return v.createElement.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(jG||(jG={}));function nF(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return _2(t)}function ow(){var e=nF.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var sct=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,nct=ele(function(e){return sct.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),act=nct,ict=function(t){return t!=="theme"},SG=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?act:ict},NG=function(t,r,s){var a;if(r){var i=r.shouldForwardProp;a=t.__emotion_forwardProp&&i?function(o){return t.__emotion_forwardProp(o)&&i(o)}:i}return typeof a!="function"&&s&&(a=t.__emotion_forwardProp),a},oct=function(t){var r=t.cache,s=t.serialized,a=t.isStringTag;return tF(r,s,a),ale(function(){return sle(r,s,a)}),null},lct=function e(t,r){var s=t.__emotion_real===t,a=s&&t.__emotion_base||t,i,o;r!==void 0&&(i=r.label,o=r.target);var c=NG(t,r,s),d=c||SG(a),u=!d("as");return function(){var l=arguments,f=s&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(i!==void 0&&f.push("label:"+i+";"),l[0]==null||l[0].raw===void 0)f.push.apply(f,l);else{var m=l[0];f.push(m[0]);for(var p=l.length,x=1;x<p;x++)f.push(l[x],m[x])}var b=ole(function(h,y,w){var S=u&&h.as||a,N="",_=[],k=h;if(h.theme==null){k={};for(var E in h)k[E]=h[E];k.theme=v.useContext(rF)}typeof h.className=="string"?N=rle(y.registered,_,h.className):h.className!=null&&(N=h.className+" ");var T=_2(f.concat(_),y.registered,k);N+=y.key+"-"+T.name,o!==void 0&&(N+=" "+o);var D=u&&c===void 0?SG(S):d,P={};for(var M in h)u&&M==="as"||D(M)&&(P[M]=h[M]);return P.className=N,w&&(P.ref=w),v.createElement(v.Fragment,null,v.createElement(oct,{cache:y,serialized:T,isStringTag:typeof S=="string"}),v.createElement(S,P))});return b.displayName=i!==void 0?i:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",b.defaultProps=t.defaultProps,b.__emotion_real=b,b.__emotion_base=a,b.__emotion_styles=f,b.__emotion_forwardProp=c,Object.defineProperty(b,"toString",{value:function(){return"."+o}}),b.withComponent=function(h,y){var w=e(h,pe({},r,y,{shouldForwardProp:NG(b,y,!0)}));return w.apply(void 0,f)},b}},cct=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],xO=lct.bind(null);cct.forEach(function(e){xO[e]=xO(e)});function dct(e,t){return xO(e,t)}function uct(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const CG=[];function gm(e){return CG[0]=e,_2(CG)}function El(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function lle(e){if(v.isValidElement(e)||Z3.isValidElementType(e)||!El(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=lle(e[r])}),t}function Ei(e,t,r={clone:!0}){const s=r.clone?{...e}:e;return El(e)&&El(t)&&Object.keys(t).forEach(a=>{v.isValidElement(t[a])||Z3.isValidElementType(t[a])?s[a]=t[a]:El(t[a])&&Object.prototype.hasOwnProperty.call(e,a)&&El(e[a])?s[a]=Ei(e[a],t[a],r):r.clone?s[a]=El(t[a])?lle(t[a]):t[a]:s[a]=t[a]}),s}const fct=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,s)=>r.val-s.val),t.reduce((r,s)=>({...r,[s.key]:s.val}),{})};function mct(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:s=5,...a}=e,i=fct(t),o=Object.keys(i);function c(m){return`@media (min-width:${typeof t[m]=="number"?t[m]:m}${r})`}function d(m){return`@media (max-width:${(typeof t[m]=="number"?t[m]:m)-s/100}${r})`}function u(m,p){const x=o.indexOf(p);return`@media (min-width:${typeof t[m]=="number"?t[m]:m}${r}) and (max-width:${(x!==-1&&typeof t[o[x]]=="number"?t[o[x]]:p)-s/100}${r})`}function l(m){return o.indexOf(m)+1<o.length?u(m,o[o.indexOf(m)+1]):c(m)}function f(m){const p=o.indexOf(m);return p===0?c(o[1]):p===o.length-1?d(o[p]):u(m,o[o.indexOf(m)+1]).replace("@media","@media not all and")}return{keys:o,values:i,up:c,down:d,between:u,only:l,not:f,unit:r,...a}}function _G(e,t){if(!e.containerQueries)return t;const r=Object.keys(t).filter(s=>s.startsWith("@container")).sort((s,a)=>{const i=/min-width:\s*([0-9.]+)/;return+(s.match(i)?.[1]||0)-+(a.match(i)?.[1]||0)});return r.length?r.reduce((s,a)=>{const i=t[a];return delete s[a],s[a]=i,s},{...t}):t}function hct(e,t){return t==="@"||t.startsWith("@")&&(e.some(r=>t.startsWith(`@${r}`))||!!t.match(/^@\d/))}function pct(e,t){const r=t.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,s,a]=r,i=Number.isNaN(+s)?s||0:+s;return e.containerQueries(a).up(i)}function gct(e){const t=(i,o)=>i.replace("@media",o?`@container ${o}`:"@container");function r(i,o){i.up=(...c)=>t(e.breakpoints.up(...c),o),i.down=(...c)=>t(e.breakpoints.down(...c),o),i.between=(...c)=>t(e.breakpoints.between(...c),o),i.only=(...c)=>t(e.breakpoints.only(...c),o),i.not=(...c)=>{const d=t(e.breakpoints.not(...c),o);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const s={},a=i=>(r(s,i),s);return r(a),{...e,containerQueries:a}}const xct={borderRadius:4};function my(e,t){return t?Ei(e,t,{clone:!1}):e}const E2={xs:0,sm:600,md:900,lg:1200,xl:1536},EG={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${E2[e]}px)`},vct={containerQueries:e=>({up:t=>{let r=typeof t=="number"?t:E2[t]||t;return typeof r=="number"&&(r=`${r}px`),e?`@container ${e} (min-width:${r})`:`@container (min-width:${r})`}})};function Xc(e,t,r){const s=e.theme||{};if(Array.isArray(t)){const i=s.breakpoints||EG;return t.reduce((o,c,d)=>(o[i.up(i.keys[d])]=r(t[d]),o),{})}if(typeof t=="object"){const i=s.breakpoints||EG;return Object.keys(t).reduce((o,c)=>{if(hct(i.keys,c)){const d=pct(s.containerQueries?s:vct,c);d&&(o[d]=r(t[c],c))}else if(Object.keys(i.values||E2).includes(c)){const d=i.up(c);o[d]=r(t[c],c)}else{const d=c;o[d]=t[d]}return o},{})}return r(t)}function yct(e={}){return e.keys?.reduce((r,s)=>{const a=e.up(s);return r[a]={},r},{})||{}}function kG(e,t){return e.reduce((r,s)=>{const a=r[s];return(!a||Object.keys(a).length===0)&&delete r[s],r},t)}function ss(e){if(typeof e!="string")throw new Error(Fm(7));return e.charAt(0).toUpperCase()+e.slice(1)}function k2(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const s=`vars.${t}`.split(".").reduce((a,i)=>a&&a[i]?a[i]:null,e);if(s!=null)return s}return t.split(".").reduce((s,a)=>s&&s[a]!=null?s[a]:null,e)}function p_(e,t,r,s=r){let a;return typeof e=="function"?a=e(r):Array.isArray(e)?a=e[r]||s:a=k2(e,r)||s,t&&(a=t(a,s,e)),a}function un(e){const{prop:t,cssProperty:r=e.prop,themeKey:s,transform:a}=e,i=o=>{if(o[t]==null)return null;const c=o[t],d=o.theme,u=k2(d,s)||{};return Xc(o,c,f=>{let m=p_(u,a,f);return f===m&&typeof f=="string"&&(m=p_(u,a,`${t}${f==="default"?"":ss(f)}`,f)),r===!1?m:{[r]:m}})};return i.propTypes={},i.filterProps=[t],i}function bct(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const wct={m:"margin",p:"padding"},jct={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},AG={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Sct=bct(e=>{if(e.length>2)if(AG[e])e=AG[e];else return[e];const[t,r]=e.split(""),s=wct[t],a=jct[r]||"";return Array.isArray(a)?a.map(i=>s+i):[s+a]}),aF=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],iF=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...aF,...iF];function lw(e,t,r,s){const a=k2(e,t,!0)??r;return typeof a=="number"||typeof a=="string"?i=>typeof i=="string"?i:typeof a=="string"?a.startsWith("var(")&&i===0?0:a.startsWith("var(")&&i===1?a:`calc(${i} * ${a})`:a*i:Array.isArray(a)?i=>{if(typeof i=="string")return i;const o=Math.abs(i),c=a[o];return i>=0?c:typeof c=="number"?-c:typeof c=="string"&&c.startsWith("var(")?`calc(-1 * ${c})`:`-${c}`}:typeof a=="function"?a:()=>{}}function oF(e){return lw(e,"spacing",8)}function cw(e,t){return typeof t=="string"||t==null?t:e(t)}function Nct(e,t){return r=>e.reduce((s,a)=>(s[a]=cw(t,r),s),{})}function Cct(e,t,r,s){if(!t.includes(r))return null;const a=Sct(r),i=Nct(a,s),o=e[r];return Xc(e,o,i)}function cle(e,t){const r=oF(e.theme);return Object.keys(e).map(s=>Cct(e,t,s,r)).reduce(my,{})}function Zs(e){return cle(e,aF)}Zs.propTypes={};Zs.filterProps=aF;function Xs(e){return cle(e,iF)}Xs.propTypes={};Xs.filterProps=iF;function dle(e=8,t=oF({spacing:e})){if(e.mui)return e;const r=(...s)=>(s.length===0?[1]:s).map(i=>{const o=t(i);return typeof o=="number"?`${o}px`:o}).join(" ");return r.mui=!0,r}function A2(...e){const t=e.reduce((s,a)=>(a.filterProps.forEach(i=>{s[i]=a}),s),{}),r=s=>Object.keys(s).reduce((a,i)=>t[i]?my(a,t[i](s)):a,{});return r.propTypes={},r.filterProps=e.reduce((s,a)=>s.concat(a.filterProps),[]),r}function uo(e){return typeof e!="number"?e:`${e}px solid`}function Do(e,t){return un({prop:e,themeKey:"borders",transform:t})}const _ct=Do("border",uo),Ect=Do("borderTop",uo),kct=Do("borderRight",uo),Act=Do("borderBottom",uo),Tct=Do("borderLeft",uo),Dct=Do("borderColor"),Pct=Do("borderTopColor"),Rct=Do("borderRightColor"),Mct=Do("borderBottomColor"),Oct=Do("borderLeftColor"),Ict=Do("outline",uo),Fct=Do("outlineColor"),T2=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=lw(e.theme,"shape.borderRadius",4),r=s=>({borderRadius:cw(t,s)});return Xc(e,e.borderRadius,r)}return null};T2.propTypes={};T2.filterProps=["borderRadius"];A2(_ct,Ect,kct,Act,Tct,Dct,Pct,Rct,Mct,Oct,T2,Ict,Fct);const D2=e=>{if(e.gap!==void 0&&e.gap!==null){const t=lw(e.theme,"spacing",8),r=s=>({gap:cw(t,s)});return Xc(e,e.gap,r)}return null};D2.propTypes={};D2.filterProps=["gap"];const P2=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=lw(e.theme,"spacing",8),r=s=>({columnGap:cw(t,s)});return Xc(e,e.columnGap,r)}return null};P2.propTypes={};P2.filterProps=["columnGap"];const R2=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=lw(e.theme,"spacing",8),r=s=>({rowGap:cw(t,s)});return Xc(e,e.rowGap,r)}return null};R2.propTypes={};R2.filterProps=["rowGap"];const $ct=un({prop:"gridColumn"}),Lct=un({prop:"gridRow"}),Bct=un({prop:"gridAutoFlow"}),zct=un({prop:"gridAutoColumns"}),Uct=un({prop:"gridAutoRows"}),Hct=un({prop:"gridTemplateColumns"}),Vct=un({prop:"gridTemplateRows"}),Wct=un({prop:"gridTemplateAreas"}),qct=un({prop:"gridArea"});A2(D2,P2,R2,$ct,Lct,Bct,zct,Uct,Hct,Vct,Wct,qct);function ng(e,t){return t==="grey"?t:e}const Gct=un({prop:"color",themeKey:"palette",transform:ng}),Yct=un({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ng}),Kct=un({prop:"backgroundColor",themeKey:"palette",transform:ng});A2(Gct,Yct,Kct);function ji(e){return e<=1&&e!==0?`${e*100}%`:e}const Zct=un({prop:"width",transform:ji}),lF=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{const s=e.theme?.breakpoints?.values?.[r]||E2[r];return s?e.theme?.breakpoints?.unit!=="px"?{maxWidth:`${s}${e.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:ji(r)}};return Xc(e,e.maxWidth,t)}return null};lF.filterProps=["maxWidth"];const Xct=un({prop:"minWidth",transform:ji}),Jct=un({prop:"height",transform:ji}),Qct=un({prop:"maxHeight",transform:ji}),edt=un({prop:"minHeight",transform:ji});un({prop:"size",cssProperty:"width",transform:ji});un({prop:"size",cssProperty:"height",transform:ji});const tdt=un({prop:"boxSizing"});A2(Zct,lF,Xct,Jct,Qct,edt,tdt);const dw={border:{themeKey:"borders",transform:uo},borderTop:{themeKey:"borders",transform:uo},borderRight:{themeKey:"borders",transform:uo},borderBottom:{themeKey:"borders",transform:uo},borderLeft:{themeKey:"borders",transform:uo},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:uo},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:T2},color:{themeKey:"palette",transform:ng},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ng},backgroundColor:{themeKey:"palette",transform:ng},p:{style:Xs},pt:{style:Xs},pr:{style:Xs},pb:{style:Xs},pl:{style:Xs},px:{style:Xs},py:{style:Xs},padding:{style:Xs},paddingTop:{style:Xs},paddingRight:{style:Xs},paddingBottom:{style:Xs},paddingLeft:{style:Xs},paddingX:{style:Xs},paddingY:{style:Xs},paddingInline:{style:Xs},paddingInlineStart:{style:Xs},paddingInlineEnd:{style:Xs},paddingBlock:{style:Xs},paddingBlockStart:{style:Xs},paddingBlockEnd:{style:Xs},m:{style:Zs},mt:{style:Zs},mr:{style:Zs},mb:{style:Zs},ml:{style:Zs},mx:{style:Zs},my:{style:Zs},margin:{style:Zs},marginTop:{style:Zs},marginRight:{style:Zs},marginBottom:{style:Zs},marginLeft:{style:Zs},marginX:{style:Zs},marginY:{style:Zs},marginInline:{style:Zs},marginInlineStart:{style:Zs},marginInlineEnd:{style:Zs},marginBlock:{style:Zs},marginBlockStart:{style:Zs},marginBlockEnd:{style:Zs},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:D2},rowGap:{style:R2},columnGap:{style:P2},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ji},maxWidth:{style:lF},minWidth:{transform:ji},height:{transform:ji},maxHeight:{transform:ji},minHeight:{transform:ji},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function rdt(...e){const t=e.reduce((s,a)=>s.concat(Object.keys(a)),[]),r=new Set(t);return e.every(s=>r.size===Object.keys(s).length)}function sdt(e,t){return typeof e=="function"?e(t):e}function ndt(){function e(r,s,a,i){const o={[r]:s,theme:a},c=i[r];if(!c)return{[r]:s};const{cssProperty:d=r,themeKey:u,transform:l,style:f}=c;if(s==null)return null;if(u==="typography"&&s==="inherit")return{[r]:s};const m=k2(a,u)||{};return f?f(o):Xc(o,s,x=>{let b=p_(m,l,x);return x===b&&typeof x=="string"&&(b=p_(m,l,`${r}${x==="default"?"":ss(x)}`,x)),d===!1?b:{[d]:b}})}function t(r){const{sx:s,theme:a={},nested:i}=r||{};if(!s)return null;const o=a.unstable_sxConfig??dw;function c(d){let u=d;if(typeof d=="function")u=d(a);else if(typeof d!="object")return d;if(!u)return null;const l=yct(a.breakpoints),f=Object.keys(l);let m=l;return Object.keys(u).forEach(p=>{const x=sdt(u[p],a);if(x!=null)if(typeof x=="object")if(o[p])m=my(m,e(p,x,a,o));else{const b=Xc({theme:a},x,h=>({[p]:h}));rdt(b,x)?m[p]=t({sx:x,theme:a,nested:!0}):m=my(m,b)}else m=my(m,e(p,x,a,o))}),!i&&a.modularCssLayers?{"@layer sx":_G(a,kG(f,m))}:_G(a,kG(f,m))}return Array.isArray(s)?s.map(c):c(s)}return t}const Pg=ndt();Pg.filterProps=["sx"];function adt(e,t){const r=this;if(r.vars){if(!r.colorSchemes?.[e]||typeof r.getColorSchemeSelector!="function")return{};let s=r.getColorSchemeSelector(e);return s==="&"?t:((s.includes("data-")||s.includes("."))&&(s=`*:where(${s.replace(/\s*&$/,"")}) &`),{[s]:t})}return r.palette.mode===e?t:{}}function cF(e={},...t){const{breakpoints:r={},palette:s={},spacing:a,shape:i={},...o}=e,c=mct(r),d=dle(a);let u=Ei({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...s},spacing:d,shape:{...xct,...i}},o);return u=gct(u),u.applyStyles=adt,u=t.reduce((l,f)=>Ei(l,f),u),u.unstable_sxConfig={...dw,...o?.unstable_sxConfig},u.unstable_sx=function(f){return Pg({sx:f,theme:this})},u}function idt(e){return Object.keys(e).length===0}function ule(e=null){const t=v.useContext(rF);return!t||idt(t)?e:t}const odt=cF();function fle(e=odt){return ule(e)}const ldt=e=>{const t={systemProps:{},otherProps:{}},r=e?.theme?.unstable_sxConfig??dw;return Object.keys(e).forEach(s=>{r[s]?t.systemProps[s]=e[s]:t.otherProps[s]=e[s]}),t};function cdt(e){const{sx:t,...r}=e,{systemProps:s,otherProps:a}=ldt(r);let i;return Array.isArray(t)?i=[s,...t]:typeof t=="function"?i=(...o)=>{const c=t(...o);return El(c)?{...s,...c}:s}:i={...s,...t},{...a,sx:i}}const TG=e=>e,ddt=()=>{let e=TG;return{configure(t){e=t},generate(t){return e(t)},reset(){e=TG}}},udt=ddt(),fdt={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Xn(e,t,r="Mui"){const s=fdt[t];return s?`${r}-${s}`:`${udt.generate(e)}-${t}`}function Fn(e,t,r="Mui"){const s={};return t.forEach(a=>{s[a]=Xn(e,a,r)}),s}function mle(e){const{variants:t,...r}=e,s={variants:t,style:gm(r),isProcessed:!0};return s.style===r||t&&t.forEach(a=>{typeof a.style!="function"&&(a.style=gm(a.style))}),s}const mdt=cF();function eC(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function rm(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}function hdt(e){return e?(t,r)=>r[e]:null}function pdt(e,t,r){e.theme=vdt(e.theme)?r:e.theme[t]||e.theme}function tC(e,t,r){const s=typeof t=="function"?t(e):t;if(Array.isArray(s))return s.flatMap(a=>tC(e,a,r));if(Array.isArray(s?.variants)){let a;if(s.isProcessed)a=r?rm(s.style,r):s.style;else{const{variants:i,...o}=s;a=r?rm(gm(o),r):o}return hle(e,s.variants,[a],r)}return s?.isProcessed?r?rm(gm(s.style),r):s.style:r?rm(gm(s),r):s}function hle(e,t,r=[],s=void 0){let a;e:for(let i=0;i<t.length;i+=1){const o=t[i];if(typeof o.props=="function"){if(a??={...e,...e.ownerState,ownerState:e.ownerState},!o.props(a))continue}else for(const c in o.props)if(e[c]!==o.props[c]&&e.ownerState?.[c]!==o.props[c])continue e;typeof o.style=="function"?(a??={...e,...e.ownerState,ownerState:e.ownerState},r.push(s?rm(gm(o.style(a)),s):o.style(a))):r.push(s?rm(gm(o.style),s):o.style)}return r}function gdt(e={}){const{themeId:t,defaultTheme:r=mdt,rootShouldForwardProp:s=eC,slotShouldForwardProp:a=eC}=e;function i(c){pdt(c,t,r)}return(c,d={})=>{uct(c,k=>k.filter(E=>E!==Pg));const{name:u,slot:l,skipVariantsResolver:f,skipSx:m,overridesResolver:p=hdt(bdt(l)),...x}=d,b=u&&u.startsWith("Mui")||l?"components":"custom",h=f!==void 0?f:l&&l!=="Root"&&l!=="root"||!1,y=m||!1;let w=eC;l==="Root"||l==="root"?w=s:l?w=a:ydt(c)&&(w=void 0);const S=dct(c,{shouldForwardProp:w,label:xdt(),...x}),N=k=>{if(k.__emotion_real===k)return k;if(typeof k=="function")return function(T){return tC(T,k,T.theme.modularCssLayers?b:void 0)};if(El(k)){const E=mle(k);return function(D){return E.variants?tC(D,E,D.theme.modularCssLayers?b:void 0):D.theme.modularCssLayers?rm(E.style,b):E.style}}return k},_=(...k)=>{const E=[],T=k.map(N),D=[];if(E.push(i),u&&p&&D.push(function(B){const $=B.theme.components?.[u]?.styleOverrides;if(!$)return null;const I={};for(const z in $)I[z]=tC(B,$[z],B.theme.modularCssLayers?"theme":void 0);return p(B,I)}),u&&!h&&D.push(function(B){const $=B.theme?.components?.[u]?.variants;return $?hle(B,$,[],B.theme.modularCssLayers?"theme":void 0):null}),y||D.push(Pg),Array.isArray(T[0])){const R=T.shift(),B=new Array(E.length).fill(""),L=new Array(D.length).fill("");let $;$=[...B,...R,...L],$.raw=[...B,...R.raw,...L],E.unshift($)}const P=[...E,...T,...D],M=S(...P);return c.muiName&&(M.muiName=c.muiName),M};return S.withConfig&&(_.withConfig=S.withConfig),_}}function xdt(e,t){return void 0}function vdt(e){for(const t in e)return!1;return!0}function ydt(e){return typeof e=="string"&&e.charCodeAt(0)>96}function bdt(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function $m(e,t,r=!1){const s={...t};for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const i=a;if(i==="components"||i==="slots")s[i]={...e[i],...s[i]};else if(i==="componentsProps"||i==="slotProps"){const o=e[i],c=t[i];if(!c)s[i]=o||{};else if(!o)s[i]=c;else{s[i]={...c};for(const d in o)if(Object.prototype.hasOwnProperty.call(o,d)){const u=d;s[i][u]=$m(o[u],c[u],r)}}}else i==="className"&&r&&t.className?s.className=St(e?.className,t?.className):i==="style"&&r&&t.style?s.style={...e?.style,...t?.style}:s[i]===void 0&&(s[i]=e[i])}return s}function ple(e){const{theme:t,name:r,props:s}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?s:$m(t.components[r].defaultProps,s)}function wdt({props:e,name:t,defaultTheme:r,themeId:s}){let a=fle(r);return a=a[s]||a,ple({theme:a,name:t,props:e})}const Pn=typeof window<"u"?v.useLayoutEffect:v.useEffect;function jdt(e,t,r,s,a){const[i,o]=v.useState(()=>a&&r?r(e).matches:s?s(e).matches:t);return Pn(()=>{if(!r)return;const c=r(e),d=()=>{o(c.matches)};return d(),c.addEventListener("change",d),()=>{c.removeEventListener("change",d)}},[e,r]),i}const Sdt={...wm},gle=Sdt.useSyncExternalStore;function Ndt(e,t,r,s,a){const i=v.useCallback(()=>t,[t]),o=v.useMemo(()=>{if(a&&r)return()=>r(e).matches;if(s!==null){const{matches:l}=s(e);return()=>l}return i},[i,e,s,a,r]),[c,d]=v.useMemo(()=>{if(r===null)return[i,()=>()=>{}];const l=r(e);return[()=>l.matches,f=>(l.addEventListener("change",f),()=>{l.removeEventListener("change",f)})]},[i,r,e]);return gle(d,c,o)}function xle(e={}){const{themeId:t}=e;return function(s,a={}){let i=ule();i&&t&&(i=i[t]||i);const o=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:c=!1,matchMedia:d=o?window.matchMedia:null,ssrMatchMedia:u=null,noSsr:l=!1}=ple({name:"MuiUseMediaQuery",props:a,theme:i});let f=typeof s=="function"?s(i):s;return f=f.replace(/^@media( ?)/m,""),f.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),(gle!==void 0?Ndt:jdt)(f,c,d,u,l)}}xle();function Cdt(e,t=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,r))}function dF(e,t=0,r=1){return Cdt(e,t,r)}function _dt(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(s=>s+s)),r?`rgb${r.length===4?"a":""}(${r.map((s,a)=>a<3?parseInt(s,16):Math.round(parseInt(s,16)/255*1e3)/1e3).join(", ")})`:""}function Tu(e){if(e.type)return e;if(e.charAt(0)==="#")return Tu(_dt(e));const t=e.indexOf("("),r=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(Fm(9,e));let s=e.substring(t+1,e.length-1),a;if(r==="color"){if(s=s.split(" "),a=s.shift(),s.length===4&&s[3].charAt(0)==="/"&&(s[3]=s[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(a))throw new Error(Fm(10,a))}else s=s.split(",");return s=s.map(i=>parseFloat(i)),{type:r,values:s,colorSpace:a}}const Edt=e=>{const t=Tu(e);return t.values.slice(0,3).map((r,s)=>t.type.includes("hsl")&&s!==0?`${r}%`:r).join(" ")},D0=(e,t)=>{try{return Edt(e)}catch{return e}};function M2(e){const{type:t,colorSpace:r}=e;let{values:s}=e;return t.includes("rgb")?s=s.map((a,i)=>i<3?parseInt(a,10):a):t.includes("hsl")&&(s[1]=`${s[1]}%`,s[2]=`${s[2]}%`),t.includes("color")?s=`${r} ${s.join(" ")}`:s=`${s.join(", ")}`,`${t}(${s})`}function vle(e){e=Tu(e);const{values:t}=e,r=t[0],s=t[1]/100,a=t[2]/100,i=s*Math.min(a,1-a),o=(u,l=(u+r/30)%12)=>a-i*Math.max(Math.min(l-3,9-l,1),-1);let c="rgb";const d=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(c+="a",d.push(t[3])),M2({type:c,values:d})}function vO(e){e=Tu(e);let t=e.type==="hsl"||e.type==="hsla"?Tu(vle(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function kdt(e,t){const r=vO(e),s=vO(t);return(Math.max(r,s)+.05)/(Math.min(r,s)+.05)}function yle(e,t){return e=Tu(e),t=dF(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,M2(e)}function Pf(e,t,r){try{return yle(e,t)}catch{return e}}function O2(e,t){if(e=Tu(e),t=dF(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]*=1-t;return M2(e)}function $r(e,t,r){try{return O2(e,t)}catch{return e}}function I2(e,t){if(e=Tu(e),t=dF(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return M2(e)}function Lr(e,t,r){try{return I2(e,t)}catch{return e}}function Adt(e,t=.15){return vO(e)>.5?O2(e,t):I2(e,t)}function k1(e,t,r){try{return Adt(e,t)}catch{return e}}const Tdt=v.createContext(),uw=()=>v.useContext(Tdt)??!1,Ddt=v.createContext(void 0);function Pdt(e){const{theme:t,name:r,props:s}=e;if(!t||!t.components||!t.components[r])return s;const a=t.components[r];return a.defaultProps?$m(a.defaultProps,s,t.components.mergeClassNameAndStyle):!a.styleOverrides&&!a.variants?$m(a,s,t.components.mergeClassNameAndStyle):s}function Rdt({props:e,name:t}){const r=v.useContext(Ddt);return Pdt({props:e,name:t,theme:{components:r}})}let DG=0;function Mdt(e){const[t,r]=v.useState(e),s=e||t;return v.useEffect(()=>{t==null&&(DG+=1,r(`mui-${DG}`))},[t]),s}const Odt={...wm},PG=Odt.useId;function F2(e){if(PG!==void 0){const t=PG();return e??t}return Mdt(e)}const RG={theme:void 0};function Idt(e){let t,r;return function(a){let i=t;return(i===void 0||a.theme!==r)&&(RG.theme=a.theme,i=mle(e(RG)),t=i,r=a.theme),i}}function Fdt(e=""){function t(...s){if(!s.length)return"";const a=s[0];return typeof a=="string"&&!a.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${a}${t(...s.slice(1))})`:`, ${a}`}return(s,...a)=>`var(--${e?`${e}-`:""}${s}${t(...a)})`}const MG=(e,t,r,s=[])=>{let a=e;t.forEach((i,o)=>{o===t.length-1?Array.isArray(a)?a[Number(i)]=r:a&&typeof a=="object"&&(a[i]=r):a&&typeof a=="object"&&(a[i]||(a[i]=s.includes(i)?[]:{}),a=a[i])})},$dt=(e,t,r)=>{function s(a,i=[],o=[]){Object.entries(a).forEach(([c,d])=>{(!r||r&&!r([...i,c]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?s(d,[...i,c],Array.isArray(d)?[...o,c]:o):t([...i,c],d,o))})}s(e)},Ldt=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(s=>e.includes(s))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function zR(e,t){const{prefix:r,shouldSkipGeneratingVar:s}=t||{},a={},i={},o={};return $dt(e,(c,d,u)=>{if((typeof d=="string"||typeof d=="number")&&(!s||!s(c,d))){const l=`--${r?`${r}-`:""}${c.join("-")}`,f=Ldt(c,d);Object.assign(a,{[l]:f}),MG(i,c,`var(${l})`,u),MG(o,c,`var(${l}, ${f})`,u)}},c=>c[0]==="vars"),{css:a,vars:i,varsWithDefaults:o}}function Bdt(e,t={}){const{getSelector:r=y,disableCssColorScheme:s,colorSchemeSelector:a,enableContrastVars:i}=t,{colorSchemes:o={},components:c,defaultColorScheme:d="light",...u}=e,{vars:l,css:f,varsWithDefaults:m}=zR(u,t);let p=m;const x={},{[d]:b,...h}=o;if(Object.entries(h||{}).forEach(([N,_])=>{const{vars:k,css:E,varsWithDefaults:T}=zR(_,t);p=Ei(p,T),x[N]={css:E,vars:k}}),b){const{css:N,vars:_,varsWithDefaults:k}=zR(b,t);p=Ei(p,k),x[d]={css:N,vars:_}}function y(N,_){let k=a;if(a==="class"&&(k=".%s"),a==="data"&&(k="[data-%s]"),a?.startsWith("data-")&&!a.includes("%s")&&(k=`[${a}="%s"]`),N){if(k==="media")return e.defaultColorScheme===N?":root":{[`@media (prefers-color-scheme: ${o[N]?.palette?.mode||N})`]:{":root":_}};if(k)return e.defaultColorScheme===N?`:root, ${k.replace("%s",String(N))}`:k.replace("%s",String(N))}return":root"}return{vars:p,generateThemeVars:()=>{let N={...l};return Object.entries(x).forEach(([,{vars:_}])=>{N=Ei(N,_)}),N},generateStyleSheets:()=>{const N=[],_=e.defaultColorScheme||"light";function k(D,P){Object.keys(P).length&&N.push(typeof D=="string"?{[D]:{...P}}:D)}k(r(void 0,{...f}),f);const{[_]:E,...T}=x;if(E){const{css:D}=E,P=o[_]?.palette?.mode,M=!s&&P?{colorScheme:P,...D}:{...D};k(r(_,{...M}),M)}return Object.entries(T).forEach(([D,{css:P}])=>{const M=o[D]?.palette?.mode,R=!s&&M?{colorScheme:M,...P}:{...P};k(r(D,{...R}),R)}),i&&N.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),N}}}function zdt(e){return function(r){return e==="media"?`@media (prefers-color-scheme: ${r})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${r}"] &`:e==="class"?`.${r} &`:e==="data"?`[data-${r}] &`:`${e.replace("%s",r)} &`:"&"}}function Jn(e,t,r=void 0){const s={};for(const a in e){const i=e[a];let o="",c=!0;for(let d=0;d<i.length;d+=1){const u=i[d];u&&(o+=(c===!0?"":" ")+t(u),c=!1,r&&r[u]&&(o+=" "+r[u]))}s[a]=o}return s}const qy={black:"#000",white:"#fff"},Udt={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},pp={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},gp={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},w0={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},xp={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},vp={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},yp={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function ble(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:qy.white,default:qy.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const wle=ble();function jle(){return{text:{primary:qy.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:qy.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const yO=jle();function OG(e,t,r,s){const a=s.light||s,i=s.dark||s*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=I2(e.main,a):t==="dark"&&(e.dark=O2(e.main,i)))}function IG(e,t,r,s,a){const i=a.light||a,o=a.dark||a*1.5;t[r]||(t.hasOwnProperty(s)?t[r]=t[s]:r==="light"?t.light=`color-mix(in ${e}, ${t.main}, #fff ${(i*100).toFixed(0)}%)`:r==="dark"&&(t.dark=`color-mix(in ${e}, ${t.main}, #000 ${(o*100).toFixed(0)}%)`))}function Hdt(e="light"){return e==="dark"?{main:xp[200],light:xp[50],dark:xp[400]}:{main:xp[700],light:xp[400],dark:xp[800]}}function Vdt(e="light"){return e==="dark"?{main:pp[200],light:pp[50],dark:pp[400]}:{main:pp[500],light:pp[300],dark:pp[700]}}function Wdt(e="light"){return e==="dark"?{main:gp[500],light:gp[300],dark:gp[700]}:{main:gp[700],light:gp[400],dark:gp[800]}}function qdt(e="light"){return e==="dark"?{main:vp[400],light:vp[300],dark:vp[700]}:{main:vp[700],light:vp[500],dark:vp[900]}}function Gdt(e="light"){return e==="dark"?{main:yp[400],light:yp[300],dark:yp[700]}:{main:yp[800],light:yp[500],dark:yp[900]}}function Ydt(e="light"){return e==="dark"?{main:w0[400],light:w0[300],dark:w0[700]}:{main:"#ed6c02",light:w0[500],dark:w0[900]}}function Kdt(e){return`oklch(from ${e} var(--__l) 0 h / var(--__a))`}function uF(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:s=.2,colorSpace:a,...i}=e,o=e.primary||Hdt(t),c=e.secondary||Vdt(t),d=e.error||Wdt(t),u=e.info||qdt(t),l=e.success||Gdt(t),f=e.warning||Ydt(t);function m(h){return a?Kdt(h):kdt(h,yO.text.primary)>=r?yO.text.primary:wle.text.primary}const p=({color:h,name:y,mainShade:w=500,lightShade:S=300,darkShade:N=700})=>{if(h={...h},!h.main&&h[w]&&(h.main=h[w]),!h.hasOwnProperty("main"))throw new Error(Fm(11,y?` (${y})`:"",w));if(typeof h.main!="string")throw new Error(Fm(12,y?` (${y})`:"",JSON.stringify(h.main)));return a?(IG(a,h,"light",S,s),IG(a,h,"dark",N,s)):(OG(h,"light",S,s),OG(h,"dark",N,s)),h.contrastText||(h.contrastText=m(h.main)),h};let x;return t==="light"?x=ble():t==="dark"&&(x=jle()),Ei({common:{...qy},mode:t,primary:p({color:o,name:"primary"}),secondary:p({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:d,name:"error"}),warning:p({color:f,name:"warning"}),info:p({color:u,name:"info"}),success:p({color:l,name:"success"}),grey:Udt,contrastThreshold:r,getContrastText:m,augmentColor:p,tonalOffset:s,...x},i)}function Zdt(e){const t={};return Object.entries(e).forEach(s=>{const[a,i]=s;typeof i=="object"&&(t[a]=`${i.fontStyle?`${i.fontStyle} `:""}${i.fontVariant?`${i.fontVariant} `:""}${i.fontWeight?`${i.fontWeight} `:""}${i.fontStretch?`${i.fontStretch} `:""}${i.fontSize||""}${i.lineHeight?`/${i.lineHeight} `:""}${i.fontFamily||""}`)}),t}function Xdt(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function Jdt(e){return Math.round(e*1e5)/1e5}const FG={textTransform:"uppercase"},$G='"Roboto", "Helvetica", "Arial", sans-serif';function Qdt(e,t){const{fontFamily:r=$G,fontSize:s=14,fontWeightLight:a=300,fontWeightRegular:i=400,fontWeightMedium:o=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:u,pxToRem:l,...f}=typeof t=="function"?t(e):t,m=s/14,p=l||(h=>`${h/d*m}rem`),x=(h,y,w,S,N)=>({fontFamily:r,fontWeight:h,fontSize:p(y),lineHeight:w,...r===$G?{letterSpacing:`${Jdt(S/y)}em`}:{},...N,...u}),b={h1:x(a,96,1.167,-1.5),h2:x(a,60,1.2,-.5),h3:x(i,48,1.167,0),h4:x(i,34,1.235,.25),h5:x(i,24,1.334,0),h6:x(o,20,1.6,.15),subtitle1:x(i,16,1.75,.15),subtitle2:x(o,14,1.57,.1),body1:x(i,16,1.5,.15),body2:x(i,14,1.43,.15),button:x(o,14,1.75,.4,FG),caption:x(i,12,1.66,.4),overline:x(i,12,2.66,1,FG),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ei({htmlFontSize:d,pxToRem:p,fontFamily:r,fontSize:s,fontWeightLight:a,fontWeightRegular:i,fontWeightMedium:o,fontWeightBold:c,...b},f,{clone:!1})}const eut=.2,tut=.14,rut=.12;function Cs(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${eut})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${tut})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${rut})`].join(",")}const sut=["none",Cs(0,2,1,-1,0,1,1,0,0,1,3,0),Cs(0,3,1,-2,0,2,2,0,0,1,5,0),Cs(0,3,3,-2,0,3,4,0,0,1,8,0),Cs(0,2,4,-1,0,4,5,0,0,1,10,0),Cs(0,3,5,-1,0,5,8,0,0,1,14,0),Cs(0,3,5,-1,0,6,10,0,0,1,18,0),Cs(0,4,5,-2,0,7,10,1,0,2,16,1),Cs(0,5,5,-3,0,8,10,1,0,3,14,2),Cs(0,5,6,-3,0,9,12,1,0,3,16,2),Cs(0,6,6,-3,0,10,14,1,0,4,18,3),Cs(0,6,7,-4,0,11,15,1,0,4,20,3),Cs(0,7,8,-4,0,12,17,2,0,5,22,4),Cs(0,7,8,-4,0,13,19,2,0,5,24,4),Cs(0,7,9,-4,0,14,21,2,0,5,26,4),Cs(0,8,9,-5,0,15,22,2,0,6,28,5),Cs(0,8,10,-5,0,16,24,2,0,6,30,5),Cs(0,8,11,-5,0,17,26,2,0,6,32,5),Cs(0,9,11,-5,0,18,28,2,0,7,34,6),Cs(0,9,12,-6,0,19,29,2,0,7,36,6),Cs(0,10,13,-6,0,20,31,3,0,8,38,7),Cs(0,10,13,-6,0,21,33,3,0,8,40,7),Cs(0,10,14,-6,0,22,35,3,0,8,42,7),Cs(0,11,14,-7,0,23,36,3,0,9,44,8),Cs(0,11,15,-7,0,24,38,3,0,9,46,8)],nut={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},aut={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function LG(e){return`${Math.round(e)}ms`}function iut(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function out(e){const t={...nut,...e.easing},r={...aut,...e.duration};return{getAutoHeightDuration:iut,create:(a=["all"],i={})=>{const{duration:o=r.standard,easing:c=t.easeInOut,delay:d=0,...u}=i;return(Array.isArray(a)?a:[a]).map(l=>`${l} ${typeof o=="string"?o:LG(o)} ${c} ${typeof d=="string"?d:LG(d)}`).join(",")},...e,easing:t,duration:r}}const lut={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function cut(e){return El(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function Sle(e={}){const t={...e};function r(s){const a=Object.entries(s);for(let i=0;i<a.length;i++){const[o,c]=a[i];!cut(c)||o.startsWith("unstable_")?delete s[o]:El(c)&&(s[o]={...c},r(s[o]))}}return r(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function BG(e){return typeof e=="number"?`${(e*100).toFixed(0)}%`:`calc((${e}) * 100%)`}const dut=e=>{if(!Number.isNaN(+e))return+e;const t=e.match(/\d*\.?\d+/g);if(!t)return 0;let r=0;for(let s=0;s<t.length;s+=1)r+=+t[s];return r};function uut(e){Object.assign(e,{alpha(t,r){const s=this||e;return s.colorSpace?`oklch(from ${t} l c h / ${typeof r=="string"?`calc(${r})`:r})`:s.vars?`rgba(${t.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof r=="string"?`calc(${r})`:r})`:yle(t,dut(r))},lighten(t,r){const s=this||e;return s.colorSpace?`color-mix(in ${s.colorSpace}, ${t}, #fff ${BG(r)})`:I2(t,r)},darken(t,r){const s=this||e;return s.colorSpace?`color-mix(in ${s.colorSpace}, ${t}, #000 ${BG(r)})`:O2(t,r)}})}function bO(e={},...t){const{breakpoints:r,mixins:s={},spacing:a,palette:i={},transitions:o={},typography:c={},shape:d,colorSpace:u,...l}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(Fm(20));const f=uF({...i,colorSpace:u}),m=cF(e);let p=Ei(m,{mixins:Xdt(m.breakpoints,s),palette:f,shadows:sut.slice(),typography:Qdt(f,c),transitions:out(o),zIndex:{...lut}});return p=Ei(p,l),p=t.reduce((x,b)=>Ei(x,b),p),p.unstable_sxConfig={...dw,...l?.unstable_sxConfig},p.unstable_sx=function(b){return Pg({sx:b,theme:this})},p.toRuntimeSource=Sle,uut(p),p}function fut(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const mut=[...Array(25)].map((e,t)=>{if(t===0)return"none";const r=fut(t);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function Nle(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function Cle(e){return e==="dark"?mut:[]}function hut(e){const{palette:t={mode:"light"},opacity:r,overlays:s,colorSpace:a,...i}=e,o=uF({...t,colorSpace:a});return{palette:o,opacity:{...Nle(o.mode),...r},overlays:s||Cle(o.mode),...i}}function put(e){return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!e[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const gut=e=>[...[...Array(25)].map((t,r)=>`--${e?`${e}-`:""}overlays-${r}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],xut=e=>(t,r)=>{const s=e.rootSelector||":root",a=e.colorSchemeSelector;let i=a;if(a==="class"&&(i=".%s"),a==="data"&&(i="[data-%s]"),a?.startsWith("data-")&&!a.includes("%s")&&(i=`[${a}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const o={};return gut(e.cssVarPrefix).forEach(c=>{o[c]=r[c],delete r[c]}),i==="media"?{[s]:r,"@media (prefers-color-scheme: dark)":{[s]:o}}:i?{[i.replace("%s",t)]:o,[`${s}, ${i.replace("%s",t)}`]:r}:{[s]:{...r,...o}}}if(i&&i!=="media")return`${s}, ${i.replace("%s",String(t))}`}else if(t){if(i==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[s]:r}};if(i)return i.replace("%s",String(t))}return s};function vut(e,t){t.forEach(r=>{e[r]||(e[r]={})})}function Oe(e,t,r){!e[t]&&r&&(e[t]=r)}function P0(e){return typeof e!="string"||!e.startsWith("hsl")?e:vle(e)}function yc(e,t){`${t}Channel`in e||(e[`${t}Channel`]=D0(P0(e[t])))}function yut(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const wl=e=>{try{return e()}catch{}},but=(e="mui")=>Fdt(e);function UR(e,t,r,s,a){if(!r)return;r=r===!0?{}:r;const i=a==="dark"?"dark":"light";if(!s){t[a]=hut({...r,palette:{mode:i,...r?.palette},colorSpace:e});return}const{palette:o,...c}=bO({...s,palette:{mode:i,...r?.palette},colorSpace:e});return t[a]={...r,palette:o,opacity:{...Nle(i),...r?.opacity},overlays:r?.overlays||Cle(i)},c}function wut(e={},...t){const{colorSchemes:r={light:!0},defaultColorScheme:s,disableCssColorScheme:a=!1,cssVarPrefix:i="mui",nativeColor:o=!1,shouldSkipGeneratingVar:c=put,colorSchemeSelector:d=r.light&&r.dark?"media":void 0,rootSelector:u=":root",...l}=e,f=Object.keys(r)[0],m=s||(r.light&&f!=="light"?"light":f),p=but(i),{[m]:x,light:b,dark:h,...y}=r,w={...y};let S=x;if((m==="dark"&&!("dark"in r)||m==="light"&&!("light"in r))&&(S=!0),!S)throw new Error(Fm(21,m));let N;o&&(N="oklch");const _=UR(N,w,S,l,m);b&&!w.light&&UR(N,w,b,void 0,"light"),h&&!w.dark&&UR(N,w,h,void 0,"dark");let k={defaultColorScheme:m,..._,cssVarPrefix:i,colorSchemeSelector:d,rootSelector:u,getCssVar:p,colorSchemes:w,font:{...Zdt(_.typography),..._.font},spacing:yut(l.spacing)};Object.keys(k.colorSchemes).forEach(M=>{const R=k.colorSchemes[M].palette,B=$=>{const I=$.split("-"),z=I[1],H=I[2];return p($,R[z][H])};R.mode==="light"&&(Oe(R.common,"background","#fff"),Oe(R.common,"onBackground","#000")),R.mode==="dark"&&(Oe(R.common,"background","#000"),Oe(R.common,"onBackground","#fff"));function L($,I,z){if(N){let H;return $===Pf&&(H=`transparent ${((1-z)*100).toFixed(0)}%`),$===$r&&(H=`#000 ${(z*100).toFixed(0)}%`),$===Lr&&(H=`#fff ${(z*100).toFixed(0)}%`),`color-mix(in ${N}, ${I}, ${H})`}return $(I,z)}if(vut(R,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),R.mode==="light"){Oe(R.Alert,"errorColor",L($r,R.error.light,.6)),Oe(R.Alert,"infoColor",L($r,R.info.light,.6)),Oe(R.Alert,"successColor",L($r,R.success.light,.6)),Oe(R.Alert,"warningColor",L($r,R.warning.light,.6)),Oe(R.Alert,"errorFilledBg",B("palette-error-main")),Oe(R.Alert,"infoFilledBg",B("palette-info-main")),Oe(R.Alert,"successFilledBg",B("palette-success-main")),Oe(R.Alert,"warningFilledBg",B("palette-warning-main")),Oe(R.Alert,"errorFilledColor",wl(()=>R.getContrastText(R.error.main))),Oe(R.Alert,"infoFilledColor",wl(()=>R.getContrastText(R.info.main))),Oe(R.Alert,"successFilledColor",wl(()=>R.getContrastText(R.success.main))),Oe(R.Alert,"warningFilledColor",wl(()=>R.getContrastText(R.warning.main))),Oe(R.Alert,"errorStandardBg",L(Lr,R.error.light,.9)),Oe(R.Alert,"infoStandardBg",L(Lr,R.info.light,.9)),Oe(R.Alert,"successStandardBg",L(Lr,R.success.light,.9)),Oe(R.Alert,"warningStandardBg",L(Lr,R.warning.light,.9)),Oe(R.Alert,"errorIconColor",B("palette-error-main")),Oe(R.Alert,"infoIconColor",B("palette-info-main")),Oe(R.Alert,"successIconColor",B("palette-success-main")),Oe(R.Alert,"warningIconColor",B("palette-warning-main")),Oe(R.AppBar,"defaultBg",B("palette-grey-100")),Oe(R.Avatar,"defaultBg",B("palette-grey-400")),Oe(R.Button,"inheritContainedBg",B("palette-grey-300")),Oe(R.Button,"inheritContainedHoverBg",B("palette-grey-A100")),Oe(R.Chip,"defaultBorder",B("palette-grey-400")),Oe(R.Chip,"defaultAvatarColor",B("palette-grey-700")),Oe(R.Chip,"defaultIconColor",B("palette-grey-700")),Oe(R.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Oe(R.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Oe(R.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Oe(R.LinearProgress,"primaryBg",L(Lr,R.primary.main,.62)),Oe(R.LinearProgress,"secondaryBg",L(Lr,R.secondary.main,.62)),Oe(R.LinearProgress,"errorBg",L(Lr,R.error.main,.62)),Oe(R.LinearProgress,"infoBg",L(Lr,R.info.main,.62)),Oe(R.LinearProgress,"successBg",L(Lr,R.success.main,.62)),Oe(R.LinearProgress,"warningBg",L(Lr,R.warning.main,.62)),Oe(R.Skeleton,"bg",N?L(Pf,R.text.primary,.11):`rgba(${B("palette-text-primaryChannel")} / 0.11)`),Oe(R.Slider,"primaryTrack",L(Lr,R.primary.main,.62)),Oe(R.Slider,"secondaryTrack",L(Lr,R.secondary.main,.62)),Oe(R.Slider,"errorTrack",L(Lr,R.error.main,.62)),Oe(R.Slider,"infoTrack",L(Lr,R.info.main,.62)),Oe(R.Slider,"successTrack",L(Lr,R.success.main,.62)),Oe(R.Slider,"warningTrack",L(Lr,R.warning.main,.62));const $=N?L($r,R.background.default,.6825):k1(R.background.default,.8);Oe(R.SnackbarContent,"bg",$),Oe(R.SnackbarContent,"color",wl(()=>N?yO.text.primary:R.getContrastText($))),Oe(R.SpeedDialAction,"fabHoverBg",k1(R.background.paper,.15)),Oe(R.StepConnector,"border",B("palette-grey-400")),Oe(R.StepContent,"border",B("palette-grey-400")),Oe(R.Switch,"defaultColor",B("palette-common-white")),Oe(R.Switch,"defaultDisabledColor",B("palette-grey-100")),Oe(R.Switch,"primaryDisabledColor",L(Lr,R.primary.main,.62)),Oe(R.Switch,"secondaryDisabledColor",L(Lr,R.secondary.main,.62)),Oe(R.Switch,"errorDisabledColor",L(Lr,R.error.main,.62)),Oe(R.Switch,"infoDisabledColor",L(Lr,R.info.main,.62)),Oe(R.Switch,"successDisabledColor",L(Lr,R.success.main,.62)),Oe(R.Switch,"warningDisabledColor",L(Lr,R.warning.main,.62)),Oe(R.TableCell,"border",L(Lr,L(Pf,R.divider,1),.88)),Oe(R.Tooltip,"bg",L(Pf,R.grey[700],.92))}if(R.mode==="dark"){Oe(R.Alert,"errorColor",L(Lr,R.error.light,.6)),Oe(R.Alert,"infoColor",L(Lr,R.info.light,.6)),Oe(R.Alert,"successColor",L(Lr,R.success.light,.6)),Oe(R.Alert,"warningColor",L(Lr,R.warning.light,.6)),Oe(R.Alert,"errorFilledBg",B("palette-error-dark")),Oe(R.Alert,"infoFilledBg",B("palette-info-dark")),Oe(R.Alert,"successFilledBg",B("palette-success-dark")),Oe(R.Alert,"warningFilledBg",B("palette-warning-dark")),Oe(R.Alert,"errorFilledColor",wl(()=>R.getContrastText(R.error.dark))),Oe(R.Alert,"infoFilledColor",wl(()=>R.getContrastText(R.info.dark))),Oe(R.Alert,"successFilledColor",wl(()=>R.getContrastText(R.success.dark))),Oe(R.Alert,"warningFilledColor",wl(()=>R.getContrastText(R.warning.dark))),Oe(R.Alert,"errorStandardBg",L($r,R.error.light,.9)),Oe(R.Alert,"infoStandardBg",L($r,R.info.light,.9)),Oe(R.Alert,"successStandardBg",L($r,R.success.light,.9)),Oe(R.Alert,"warningStandardBg",L($r,R.warning.light,.9)),Oe(R.Alert,"errorIconColor",B("palette-error-main")),Oe(R.Alert,"infoIconColor",B("palette-info-main")),Oe(R.Alert,"successIconColor",B("palette-success-main")),Oe(R.Alert,"warningIconColor",B("palette-warning-main")),Oe(R.AppBar,"defaultBg",B("palette-grey-900")),Oe(R.AppBar,"darkBg",B("palette-background-paper")),Oe(R.AppBar,"darkColor",B("palette-text-primary")),Oe(R.Avatar,"defaultBg",B("palette-grey-600")),Oe(R.Button,"inheritContainedBg",B("palette-grey-800")),Oe(R.Button,"inheritContainedHoverBg",B("palette-grey-700")),Oe(R.Chip,"defaultBorder",B("palette-grey-700")),Oe(R.Chip,"defaultAvatarColor",B("palette-grey-300")),Oe(R.Chip,"defaultIconColor",B("palette-grey-300")),Oe(R.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Oe(R.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Oe(R.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Oe(R.LinearProgress,"primaryBg",L($r,R.primary.main,.5)),Oe(R.LinearProgress,"secondaryBg",L($r,R.secondary.main,.5)),Oe(R.LinearProgress,"errorBg",L($r,R.error.main,.5)),Oe(R.LinearProgress,"infoBg",L($r,R.info.main,.5)),Oe(R.LinearProgress,"successBg",L($r,R.success.main,.5)),Oe(R.LinearProgress,"warningBg",L($r,R.warning.main,.5)),Oe(R.Skeleton,"bg",N?L(Pf,R.text.primary,.13):`rgba(${B("palette-text-primaryChannel")} / 0.13)`),Oe(R.Slider,"primaryTrack",L($r,R.primary.main,.5)),Oe(R.Slider,"secondaryTrack",L($r,R.secondary.main,.5)),Oe(R.Slider,"errorTrack",L($r,R.error.main,.5)),Oe(R.Slider,"infoTrack",L($r,R.info.main,.5)),Oe(R.Slider,"successTrack",L($r,R.success.main,.5)),Oe(R.Slider,"warningTrack",L($r,R.warning.main,.5));const $=N?L(Lr,R.background.default,.985):k1(R.background.default,.98);Oe(R.SnackbarContent,"bg",$),Oe(R.SnackbarContent,"color",wl(()=>N?wle.text.primary:R.getContrastText($))),Oe(R.SpeedDialAction,"fabHoverBg",k1(R.background.paper,.15)),Oe(R.StepConnector,"border",B("palette-grey-600")),Oe(R.StepContent,"border",B("palette-grey-600")),Oe(R.Switch,"defaultColor",B("palette-grey-300")),Oe(R.Switch,"defaultDisabledColor",B("palette-grey-600")),Oe(R.Switch,"primaryDisabledColor",L($r,R.primary.main,.55)),Oe(R.Switch,"secondaryDisabledColor",L($r,R.secondary.main,.55)),Oe(R.Switch,"errorDisabledColor",L($r,R.error.main,.55)),Oe(R.Switch,"infoDisabledColor",L($r,R.info.main,.55)),Oe(R.Switch,"successDisabledColor",L($r,R.success.main,.55)),Oe(R.Switch,"warningDisabledColor",L($r,R.warning.main,.55)),Oe(R.TableCell,"border",L($r,L(Pf,R.divider,1),.68)),Oe(R.Tooltip,"bg",L(Pf,R.grey[700],.92))}yc(R.background,"default"),yc(R.background,"paper"),yc(R.common,"background"),yc(R.common,"onBackground"),yc(R,"divider"),Object.keys(R).forEach($=>{const I=R[$];$!=="tonalOffset"&&I&&typeof I=="object"&&(I.main&&Oe(R[$],"mainChannel",D0(P0(I.main))),I.light&&Oe(R[$],"lightChannel",D0(P0(I.light))),I.dark&&Oe(R[$],"darkChannel",D0(P0(I.dark))),I.contrastText&&Oe(R[$],"contrastTextChannel",D0(P0(I.contrastText))),$==="text"&&(yc(R[$],"primary"),yc(R[$],"secondary")),$==="action"&&(I.active&&yc(R[$],"active"),I.selected&&yc(R[$],"selected")))})}),k=t.reduce((M,R)=>Ei(M,R),k);const E={prefix:i,disableCssColorScheme:a,shouldSkipGeneratingVar:c,getSelector:xut(k),enableContrastVars:o},{vars:T,generateThemeVars:D,generateStyleSheets:P}=Bdt(k,E);return k.vars=T,Object.entries(k.colorSchemes[k.defaultColorScheme]).forEach(([M,R])=>{k[M]=R}),k.generateThemeVars=D,k.generateStyleSheets=P,k.generateSpacing=function(){return dle(l.spacing,oF(this))},k.getColorSchemeSelector=zdt(d),k.spacing=k.generateSpacing(),k.shouldSkipGeneratingVar=c,k.unstable_sxConfig={...dw,...l?.unstable_sxConfig},k.unstable_sx=function(R){return Pg({sx:R,theme:this})},k.toRuntimeSource=Sle,k}function zG(e,t,r){e.colorSchemes&&r&&(e.colorSchemes[t]={...r!==!0&&r,palette:uF({...r===!0?{}:r.palette,mode:t})})}function jut(e={},...t){const{palette:r,cssVariables:s=!1,colorSchemes:a=r?void 0:{light:!0},defaultColorScheme:i=r?.mode,...o}=e,c=i||"light",d=a?.[c],u={...a,...r?{[c]:{...typeof d!="boolean"&&d,palette:r}}:void 0};if(s===!1){if(!("colorSchemes"in e))return bO(e,...t);let l=r;"palette"in e||u[c]&&(u[c]!==!0?l=u[c].palette:c==="dark"&&(l={mode:"dark"}));const f=bO({...e,palette:l},...t);return f.defaultColorScheme=c,f.colorSchemes=u,f.palette.mode==="light"&&(f.colorSchemes.light={...u.light!==!0&&u.light,palette:f.palette},zG(f,"dark",u.dark)),f.palette.mode==="dark"&&(f.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:f.palette},zG(f,"light",u.light)),f}return!r&&!("light"in u)&&c==="light"&&(u.light=!0),wut({...o,colorSchemes:u,defaultColorScheme:c,...typeof s!="boolean"&&s},...t)}const fF=jut();function ah(){const e=fle(fF);return e[j2]||e}function Wi({props:e,name:t}){return wdt({props:e,name:t,defaultTheme:fF,themeId:j2})}function Sut(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const _le=e=>Sut(e)&&e!=="classes",dr=gdt({themeId:j2,defaultTheme:fF,rootShouldForwardProp:_le});function Cr(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function Nut(e){return Xn("MuiBarElement",e)}const Cut=Fn("MuiBarElement",["root","highlighted","faded","series"]),_ut=e=>{const{classes:t,id:r,isHighlighted:s,isFaded:a}=e,i={root:["root",`series-${r}`,s&&"highlighted",a&&"faded"]};return Jn(i,Nut,t)};function Du(...e){const t=v.useRef(void 0),r=v.useCallback(s=>{const a=e.map(i=>{if(i==null)return null;if(typeof i=="function"){const o=i,c=o(s);return typeof c=="function"?c:()=>{o(null)}}return i.current=s,()=>{i.current=null}});return()=>{a.forEach(i=>i?.())}},e);return v.useMemo(()=>e.every(s=>s==null)?null:s=>{t.current&&(t.current(),t.current=void 0),s!=null&&(t.current=r(s))},e)}function Eut(e){return typeof e=="string"}function kut(e,t,r){return e===void 0||Eut(e)?t:{...t,ownerState:{...t.ownerState,...r}}}function Aut(e,t=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(s=>s.match(/^on[A-Z]/)&&typeof e[s]=="function"&&!t.includes(s)).forEach(s=>{r[s]=e[s]}),r}function UG(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{t[r]=e[r]}),t}function Tut(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:s,externalForwardedProps:a,className:i}=e;if(!t){const p=St(r?.className,i,a?.className,s?.className),x={...r?.style,...a?.style,...s?.style},b={...r,...a,...s};return p.length>0&&(b.className=p),Object.keys(x).length>0&&(b.style=x),{props:b,internalRef:void 0}}const o=Aut({...a,...s}),c=UG(s),d=UG(a),u=t(o),l=St(u?.className,r?.className,i,a?.className,s?.className),f={...u?.style,...r?.style,...a?.style,...s?.style},m={...u,...r,...d,...c};return l.length>0&&(m.className=l),Object.keys(f).length>0&&(m.style=f),{props:m,internalRef:u.ref}}function Dut(e,t,r){return typeof e=="function"?e(t,r):e}function Jc(e){const{elementType:t,externalSlotProps:r,ownerState:s,skipResolvingSlotProps:a=!1,...i}=e,o=a?{}:Dut(r,s),{props:c,internalRef:d}=Tut({...i,externalSlotProps:o}),u=Du(d,o?.ref,e.additionalProps?.ref);return kut(t,{...c,ref:u},s)}function Yn(e){const t=v.useRef(e);return Pn(()=>{t.current=e}),v.useRef((...r)=>(0,t.current)(...r)).current}const Put=aZ({memoize:L0e,memoizeOptions:{maxSize:1,equalityCheck:Object.is}}),fw=(e,t,r,s,a,i,o,c,...d)=>{if(d.length>0)throw new Error("Unsupported number of selectors");let u;if(e&&t&&r&&s&&a&&i&&o&&c)u=(l,f,m,p)=>{const x=e(l,f,m,p),b=t(l,f,m,p),h=r(l,f,m,p),y=s(l,f,m,p),w=a(l,f,m,p),S=i(l,f,m,p),N=o(l,f,m,p);return c(x,b,h,y,w,S,N,f,m,p)};else if(e&&t&&r&&s&&a&&i&&o)u=(l,f,m,p)=>{const x=e(l,f,m,p),b=t(l,f,m,p),h=r(l,f,m,p),y=s(l,f,m,p),w=a(l,f,m,p),S=i(l,f,m,p);return o(x,b,h,y,w,S,f,m,p)};else if(e&&t&&r&&s&&a&&i)u=(l,f,m,p)=>{const x=e(l,f,m,p),b=t(l,f,m,p),h=r(l,f,m,p),y=s(l,f,m,p),w=a(l,f,m,p);return i(x,b,h,y,w,f,m,p)};else if(e&&t&&r&&s&&a)u=(l,f,m,p)=>{const x=e(l,f,m,p),b=t(l,f,m,p),h=r(l,f,m,p),y=s(l,f,m,p);return a(x,b,h,y,f,m,p)};else if(e&&t&&r&&s)u=(l,f,m,p)=>{const x=e(l,f,m,p),b=t(l,f,m,p),h=r(l,f,m,p);return s(x,b,h,f,m,p)};else if(e&&t&&r)u=(l,f,m,p)=>{const x=e(l,f,m,p),b=t(l,f,m,p);return r(x,b,f,m,p)};else if(e&&t)u=(l,f,m,p)=>{const x=e(l,f,m,p);return t(x,f,m,p)};else if(e)u=e;else throw new Error("Missing arguments");return u},$2=e=>(...t)=>{const r=new WeakMap;let s=1;const a=t[t.length-1],i=t.length-1||1,o=Math.max(a.length-i,0);if(o>3)throw new Error("Unsupported number of arguments");return(d,u,l,f)=>{let m=d.__cacheKey__;m||(m={id:s},d.__cacheKey__=m,s+=1);let p=r.get(m);if(!p){const x=t.length===1?[y=>y,a]:t;let b=t;const h=[void 0,void 0,void 0];switch(o){case 0:break;case 1:{b=[...x.slice(0,-1),()=>h[0],a];break}case 2:{b=[...x.slice(0,-1),()=>h[0],()=>h[1],a];break}case 3:{b=[...x.slice(0,-1),()=>h[0],()=>h[1],()=>h[2],a];break}default:throw new Error("Unsupported number of arguments")}e&&(b=[...b,e]),p=Put(...b),p.selectorArgs=h,r.set(m,p)}switch(o){case 3:p.selectorArgs[2]=f;case 2:p.selectorArgs[1]=l;case 1:p.selectorArgs[0]=u}switch(o){case 0:return p(d);case 1:return p(d,u);case 2:return p(d,u,l);case 3:return p(d,u,l,f);default:throw new Error("unreachable")}}},$n=$2();function Rut(e,t,r,s,a){const i=o=>t(o,r,s,a);return wse.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,e.getSnapshot,i)}const HG={};function L2(e,t){const r=v.useRef(HG);return r.current===HG&&(r.current=e(t)),r}const Mut=[];function Ele(e){v.useEffect(e,Mut)}const Out=()=>{};function Iut(e,t,r){const s=L2(Fut,{store:e,selector:t}).current;s.effect=r,Ele(s.onMount)}function Fut(e){const{store:t,selector:r}=e;let s=r(t.state);const a={effect:Out,dispose:null,subscribe:()=>{a.dispose??=t.subscribe(i=>{const o=r(i);a.effect(s,o),s=o})},onMount:()=>(a.subscribe(),()=>{a.dispose?.(),a.dispose=null})};return a.subscribe(),a}class mF{static create(t){return new mF(t)}constructor(t){this.state=t,this.listeners=new Set,this.updateTick=0}subscribe=t=>(this.listeners.add(t),()=>{this.listeners.delete(t)});getSnapshot=()=>this.state;setState(t){this.state=t,this.updateTick+=1;const r=this.updateTick,s=this.listeners.values();let a;for(;a=s.next(),!a.done;){if(r!==this.updateTick)return;const i=a.value;i(t)}}update(t){for(const r in t)if(!Object.is(this.state[r],t[r])){this.setState(pe({},this.state,t));return}}set(t,r){Object.is(this.state[t],r)||this.setState(pe({},this.state,{[t]:r}))}}const B2=({params:e,store:t})=>{v.useEffect(()=>{t.set("animation",pe({},t.state.animation,{skip:e.skipAnimation}))},[t,e.skipAnimation]);const r=v.useCallback(()=>{let s=!1;return t.set("animation",pe({},t.state.animation,{skipAnimationRequests:t.state.animation.skipAnimationRequests+1})),()=>{s||(s=!0,t.set("animation",pe({},t.state.animation,{skipAnimationRequests:t.state.animation.skipAnimationRequests-1})))}},[t]);return Pn(()=>{if(typeof window>"u"||!window?.matchMedia)return;let a;const i=c=>{c.matches?a=r():a?.()},o=window.matchMedia("(prefers-reduced-motion)");return i(o),o.addEventListener("change",i),()=>{o.removeEventListener("change",i)}},[r,t]),{instance:{disableAnimation:r}}};B2.params={skipAnimation:!0};B2.getDefaultizedParams=({params:e})=>pe({},e,{skipAnimation:e.skipAnimation??!1});B2.getInitialState=({skipAnimation:e})=>({animation:{skip:e,skipAnimationRequests:0}});const tt=(e,t)=>fw(...e,t),$ut=e=>e.animation,Lut=tt([$ut],e=>e.skip||e.skipAnimationRequests>0);function But(e,t){const r=v.useRef(!0);v.useEffect(()=>{if(r.current){r.current=!1;return}return e()},t)}function wO(e){return e&&e.ownerDocument||document}function zut(e){return wO(e).defaultView||window}const Tt=Rut,hF="DEFAULT_X_AXIS_KEY",pF="DEFAULT_Y_AXIS_KEY",Uut={top:20,bottom:20,left:20,right:20},Hut=45,Vut=25,kle=20,md=e=>e.cartesianAxis?.x,Ju=e=>e.cartesianAxis?.y,Wut=fw(Ju,function(t){return(t??[]).reduce((r,s)=>s.position==="left"?r+(s.width||0)+(s.zoom?.slider.enabled?s.zoom.slider.size:0):r,0)}),qut=fw(Ju,function(t){return(t??[]).reduce((r,s)=>s.position==="right"?r+(s.width||0)+(s.zoom?.slider.enabled?s.zoom.slider.size:0):r,0)}),Gut=fw(md,function(t){return(t??[]).reduce((r,s)=>s.position==="top"?r+(s.height||0)+(s.zoom?.slider.enabled?s.zoom.slider.size:0):r,0)}),Yut=fw(md,function(t){return(t??[]).reduce((r,s)=>s.position==="bottom"?r+(s.height||0)+(s.zoom?.slider.enabled?s.zoom.slider.size:0):r,0)}),Kut=$n(Wut,qut,Gut,Yut,function(t,r,s,a){return{left:t,right:r,top:s,bottom:a}}),mw=e=>e.dimensions,Zut=e=>e.dimensions.margin,si=$n(mw,Zut,Kut,function({width:t,height:r},{top:s,right:a,bottom:i,left:o},{left:c,right:d,top:u,bottom:l}){return{width:t-o-a-c-d,left:o+c,right:a+d,height:r-s-i-u-l,top:s+u,bottom:i+l}}),Xut=tt([mw],e=>e.width),Jut=tt([mw],e=>e.height),Ale=tt([mw],e=>e.propsWidth),Tle=tt([mw],e=>e.propsHeight);function Qut(e,t){return typeof e=="number"?{top:e,bottom:e,left:e,right:e}:t?pe({},t,e):e}const eft=10,z2=({params:e,store:t,svgRef:r})=>{const s=e.width!==void 0&&e.height!==void 0,a=v.useRef({displayError:!1,initialCompute:!0,computeRun:0}),[i,o]=v.useState(0),[c,d]=v.useState(0),u=v.useCallback(()=>{const x=r?.current;if(!x)return{};const h=zut(x).getComputedStyle(x),y=Math.floor(parseFloat(h.height))||0,w=Math.floor(parseFloat(h.width))||0;return(t.state.dimensions.width!==w||t.state.dimensions.height!==y)&&t.set("dimensions",{margin:{top:e.margin.top,right:e.margin.right,bottom:e.margin.bottom,left:e.margin.left},width:e.width??w,height:e.height??y,propsWidth:e.width,propsHeight:e.height}),{height:y,width:w}},[t,r,e.height,e.width,e.margin.left,e.margin.right,e.margin.top,e.margin.bottom]);But(()=>{const x=e.width??t.state.dimensions.width,b=e.height??t.state.dimensions.height;t.set("dimensions",{margin:{top:e.margin.top,right:e.margin.right,bottom:e.margin.bottom,left:e.margin.left},width:x,height:b,propsHeight:e.height,propsWidth:e.width})},[t,e.height,e.width,e.margin.left,e.margin.right,e.margin.top,e.margin.bottom]),v.useEffect(()=>{a.current.displayError=!0},[]),Pn(()=>{if(s||!a.current.initialCompute||a.current.computeRun>eft)return;const x=u();x.width!==i||x.height!==c?(a.current.computeRun+=1,x.width!==void 0&&o(x.width),x.height!==void 0&&d(x.height)):a.current.initialCompute&&(a.current.initialCompute=!1)},[c,i,u,s]),Pn(()=>{if(s)return()=>{};u();const x=r.current;if(typeof ResizeObserver>"u")return()=>{};let b;const h=new ResizeObserver(()=>{b=requestAnimationFrame(()=>{u()})});return x&&h.observe(x),()=>{b&&cancelAnimationFrame(b),x&&h.unobserve(x)}},[u,s,r]);const l=Tt(t,si),f=v.useCallback(x=>x>=l.left-1&&x<=l.left+l.width,[l.left,l.width]),m=v.useCallback(x=>x>=l.top-1&&x<=l.top+l.height,[l.height,l.top]);return{instance:{isPointInside:v.useCallback((x,b,h)=>h&&"closest"in h&&h.closest("[data-drawing-container]")?!0:f(x)&&m(b),[f,m]),isXInside:f,isYInside:m}}};z2.params={width:!0,height:!0,margin:!0};z2.getDefaultizedParams=({params:e})=>pe({},e,{margin:Qut(e.margin,Uut)});z2.getInitialState=({width:e,height:t,margin:r})=>({dimensions:{margin:r,width:e??0,height:t??0,propsWidth:e,propsHeight:t}});const gF=({params:e,store:t})=>(Pn(()=>{t.set("experimentalFeatures",e.experimentalFeatures)},[t,e.experimentalFeatures]),{});gF.params={experimentalFeatures:!0};gF.getInitialState=({experimentalFeatures:e})=>({experimentalFeatures:e});const tft=e=>e.experimentalFeatures,U2=tt([tft],e=>!!e?.preferStrictDomainInLineCharts);let VG=0;const rft=()=>(VG+=1,`mui-chart-${VG}`),xF=({params:e,store:t})=>(v.useEffect(()=>{e.id===void 0||e.id===t.state.id.providedChartId&&t.state.id.chartId!==void 0||t.set("id",pe({},t.state.id,{chartId:e.id??rft()}))},[t,e.id]),{});xF.params={id:!0};xF.getInitialState=({id:e})=>({id:{chartId:e,providedChartId:e}});const sft=e=>e.id,nft=tt([sft],e=>e.chartId),aft=["#4254FB","#FFB422","#FA4F58","#0DBEFF","#22BF75","#FA83B4","#FF7511"],ift=["#495AFB","#FFC758","#F35865","#30C8FF","#44CE8D","#F286B3","#FF8C39"],Dle=e=>e==="dark"?ift:aft,Ple=({series:e,colors:t,seriesConfig:r,dataset:s})=>{const a={};e.forEach((o,c)=>{const d=r[o.type].getSeriesWithDefaultValues(o,c,t),u=d.id;if(a[o.type]===void 0&&(a[o.type]={series:{},seriesOrder:[]}),a[o.type]?.series[u]!==void 0)throw new Error(`MUI X Charts: series' id "${u}" is not unique.`);a[o.type].series[u]=d,a[o.type].seriesOrder.push(u)});const i={};return Object.keys(r).forEach(o=>{const c=a[o];c!==void 0&&(i[o]=r[o]?.seriesProcessor?.(c,s)??a[o])}),i},H2=({params:e,store:t,seriesConfig:r})=>{const{series:s,dataset:a,theme:i,colors:o}=e,c=v.useRef(!0);return v.useEffect(()=>{if(c.current){c.current=!1;return}t.set("series",pe({},t.state.series,{processedSeries:Ple({series:s,colors:typeof o=="function"?o(i):o,seriesConfig:r,dataset:a}),dataset:a}))},[o,a,s,i,r,t]),{}};H2.params={dataset:!0,series:!0,colors:!0,theme:!0};const oft=[];H2.getDefaultizedParams=({params:e})=>pe({},e,{series:e.series?.length?e.series:oft,colors:e.colors??Dle,theme:e.theme??"light"});H2.getInitialState=({series:e=[],colors:t,theme:r,dataset:s},a,i)=>({series:{seriesConfig:i,processedSeries:Ple({series:e,colors:typeof t=="function"?t(r):t,seriesConfig:i,dataset:s}),dataset:s}});const vF=e=>e.series,Qn=tt([vF],e=>e.processedSeries),Po=tt([vF],e=>e.seriesConfig);tt([vF],e=>e.dataset);const lft={abort:!0,animationcancel:!0,animationend:!0,animationiteration:!0,animationstart:!0,auxclick:!0,beforeinput:!0,beforetoggle:!0,blur:!0,cancel:!0,canplay:!0,canplaythrough:!0,change:!0,click:!0,close:!0,compositionend:!0,compositionstart:!0,compositionupdate:!0,contextlost:!0,contextmenu:!0,contextrestored:!0,copy:!0,cuechange:!0,cut:!0,dblclick:!0,drag:!0,dragend:!0,dragenter:!0,dragleave:!0,dragover:!0,dragstart:!0,drop:!0,durationchange:!0,emptied:!0,ended:!0,error:!0,focus:!0,focusin:!0,focusout:!0,formdata:!0,gotpointercapture:!0,input:!0,invalid:!0,keydown:!0,keypress:!0,keyup:!0,load:!0,loadeddata:!0,loadedmetadata:!0,loadstart:!0,lostpointercapture:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,paste:!0,pause:!0,play:!0,playing:!0,pointercancel:!0,pointerdown:!0,pointerenter:!0,pointerleave:!0,pointermove:!0,pointerout:!0,pointerover:!0,pointerup:!0,progress:!0,ratechange:!0,reset:!0,resize:!0,scroll:!0,scrollend:!0,securitypolicyviolation:!0,seeked:!0,seeking:!0,select:!0,selectionchange:!0,selectstart:!0,slotchange:!0,stalled:!0,submit:!0,suspend:!0,timeupdate:!0,toggle:!0,touchcancel:!0,touchend:!0,touchmove:!0,touchstart:!0,transitioncancel:!0,transitionend:!0,transitionrun:!0,transitionstart:!0,volumechange:!0,waiting:!0,webkitanimationend:!0,webkitanimationiteration:!0,webkitanimationstart:!0,webkittransitionend:!0,wheel:!0,beforematch:!0,pointerrawupdate:!0};class Rle{customData={};constructor(t){if(!t||!t.name)throw new Error("Gesture must be initialized with a valid name.");if(t.name in lft)throw new Error(`Gesture can't be created with a native event name. Tried to use "${t.name}". Please use a custom name instead.`);this.name=t.name,this.preventDefault=t.preventDefault??!1,this.stopPropagation=t.stopPropagation??!1,this.preventIf=t.preventIf??[],this.requiredKeys=t.requiredKeys??[],this.pointerMode=t.pointerMode??[],this.pointerOptions=t.pointerOptions??{}}init(t,r,s,a){this.element=t,this.pointerManager=r,this.gesturesRegistry=s,this.keyboardManager=a;const i=`${this.name}ChangeOptions`;this.element.addEventListener(i,this.handleOptionsChange);const o=`${this.name}ChangeState`;this.element.addEventListener(o,this.handleStateChange)}handleOptionsChange=t=>{t&&t.detail&&this.updateOptions(t.detail)};updateOptions(t){this.preventDefault=t.preventDefault??this.preventDefault,this.stopPropagation=t.stopPropagation??this.stopPropagation,this.preventIf=t.preventIf??this.preventIf,this.requiredKeys=t.requiredKeys??this.requiredKeys,this.pointerMode=t.pointerMode??this.pointerMode,this.pointerOptions=t.pointerOptions??this.pointerOptions}getBaseConfig(){return{requiredKeys:this.requiredKeys}}getEffectiveConfig(t,r){if(t!=="mouse"&&t!=="touch"&&t!=="pen")return r;const s=this.pointerOptions[t];return s?pe({},r,s):r}handleStateChange=t=>{t&&t.detail&&this.updateState(t.detail)};updateState(t){Object.assign(this.state,t)}getTargetElement(t){return this.isActive||this.element===t.target||"contains"in this.element&&this.element.contains(t.target)||"getRootNode"in this.element&&this.element.getRootNode()instanceof ShadowRoot&&t.composedPath().includes(this.element)?this.element:null}set isActive(t){t?this.gesturesRegistry.registerActiveGesture(this.element,this):this.gesturesRegistry.unregisterActiveGesture(this.element,this)}get isActive(){return this.gesturesRegistry.isGestureActive(this.element,this)??!1}shouldPreventGesture(t,r){const s=this.getEffectiveConfig(r,this.getBaseConfig());if(!this.keyboardManager.areKeysPressed(s.requiredKeys))return!0;if(this.preventIf.length===0)return!1;const a=this.gesturesRegistry.getActiveGestures(t);return this.preventIf.some(i=>a[i])}isPointerTypeAllowed(t){return!this.pointerMode||this.pointerMode.length===0?!0:this.pointerMode.includes(t)}destroy(){const t=`${this.name}ChangeOptions`;this.element.removeEventListener(t,this.handleOptionsChange);const r=`${this.name}ChangeState`;this.element.removeEventListener(r,this.handleStateChange)}}class cft{activeGestures=new Map;registerActiveGesture(t,r){this.activeGestures.has(t)||this.activeGestures.set(t,new Set);const s=this.activeGestures.get(t),a={gesture:r,element:t};s.add(a)}unregisterActiveGesture(t,r){const s=this.activeGestures.get(t);s&&(s.forEach(a=>{a.gesture===r&&s.delete(a)}),s.size===0&&this.activeGestures.delete(t))}getActiveGestures(t){const r=this.activeGestures.get(t);return r?Array.from(r).reduce((s,a)=>(s[a.gesture.name]=!0,s),{}):{}}isGestureActive(t,r){const s=this.activeGestures.get(t);return s?Array.from(s).some(a=>a.gesture===r):!1}destroy(){this.activeGestures.clear()}unregisterElement(t){this.activeGestures.delete(t)}}class dft{pressedKeys=new Set;constructor(){this.initialize()}initialize(){typeof window>"u"||(window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp),window.addEventListener("blur",this.clearKeys))}handleKeyDown=t=>{this.pressedKeys.add(t.key)};handleKeyUp=t=>{this.pressedKeys.delete(t.key)};clearKeys=()=>{this.pressedKeys.clear()};areKeysPressed(t){return!t||t.length===0?!0:t.every(r=>r==="ControlOrMeta"?navigator.platform.includes("Mac")?this.pressedKeys.has("Meta"):this.pressedKeys.has("Control"):this.pressedKeys.has(r))}destroy(){typeof window<"u"&&(window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("keyup",this.handleKeyUp),window.removeEventListener("blur",this.clearKeys)),this.clearKeys()}}class uft{preventEventInterruption=!0;pointers=new Map;gestureHandlers=new Set;constructor(t){this.root=t.root??document.getRootNode({composed:!0})??document.body,this.touchAction=t.touchAction||"auto",this.passive=t.passive??!1,this.preventEventInterruption=t.preventEventInterruption??!0,this.setupEventListeners()}registerGestureHandler(t){return this.gestureHandlers.add(t),()=>{this.gestureHandlers.delete(t)}}getPointers(){return new Map(this.pointers)}setupEventListeners(){this.touchAction!=="auto"&&(this.root.style.touchAction=this.touchAction),this.root.addEventListener("pointerdown",this.handlePointerEvent,{passive:this.passive}),this.root.addEventListener("pointermove",this.handlePointerEvent,{passive:this.passive}),this.root.addEventListener("pointerup",this.handlePointerEvent,{passive:this.passive}),this.root.addEventListener("pointercancel",this.handlePointerEvent,{passive:this.passive}),this.root.addEventListener("forceCancel",this.handlePointerEvent,{passive:this.passive}),this.root.addEventListener("blur",this.handleInterruptEvents),this.root.addEventListener("contextmenu",this.handleInterruptEvents)}handleInterruptEvents=t=>{if(this.preventEventInterruption&&"pointerType"in t&&t.pointerType==="touch"){t.preventDefault();return}const r=new PointerEvent("forceCancel",{bubbles:!1,cancelable:!1}),s=this.pointers.values().next().value;if(this.pointers.size>0&&s){Object.defineProperties(r,{clientX:{value:s.clientX},clientY:{value:s.clientY},pointerId:{value:s.pointerId},pointerType:{value:s.pointerType}});for(const[a,i]of this.pointers.entries()){const o=pe({},i,{type:"forceCancel"});this.pointers.set(a,o)}}this.notifyHandlers(r),this.pointers.clear()};handlePointerEvent=t=>{const{type:r,pointerId:s}=t;if(r==="pointerdown"||r==="pointermove")this.pointers.set(s,this.createPointerData(t));else if(r==="pointerup"||r==="pointercancel"||r==="forceCancel"){this.pointers.set(s,this.createPointerData(t)),this.notifyHandlers(t),this.pointers.delete(s);return}this.notifyHandlers(t)};notifyHandlers(t){this.gestureHandlers.forEach(r=>r(this.pointers,t))}createPointerData(t){return{pointerId:t.pointerId,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,target:t.target,timeStamp:t.timeStamp,type:t.type,isPrimary:t.isPrimary,pressure:t.pressure,width:t.width,height:t.height,pointerType:t.pointerType,srcEvent:t}}destroy(){this.root.removeEventListener("pointerdown",this.handlePointerEvent),this.root.removeEventListener("pointermove",this.handlePointerEvent),this.root.removeEventListener("pointerup",this.handlePointerEvent),this.root.removeEventListener("pointercancel",this.handlePointerEvent),this.root.removeEventListener("forceCancel",this.handlePointerEvent),this.root.removeEventListener("blur",this.handleInterruptEvents),this.root.removeEventListener("contextmenu",this.handleInterruptEvents),this.pointers.clear(),this.gestureHandlers.clear()}}class fft{gestureTemplates=new Map;elementGestureMap=new Map;activeGesturesRegistry=new cft;keyboardManager=new dft;constructor(t){this.pointerManager=new uft({root:t.root,touchAction:t.touchAction,passive:t.passive}),t.gestures&&t.gestures.length>0&&t.gestures.forEach(r=>{this.addGestureTemplate(r)})}addGestureTemplate(t){this.gestureTemplates.has(t.name)&&console.warn(`Gesture template with name "${t.name}" already exists. It will be overwritten.`),this.gestureTemplates.set(t.name,t)}setGestureOptions(t,r,s){const a=this.elementGestureMap.get(r);if(!a||!a.has(t)){console.error(`Gesture "${t}" not found on the provided element.`);return}const i=new CustomEvent(`${t}ChangeOptions`,{detail:s,bubbles:!1,cancelable:!1,composed:!1});r.dispatchEvent(i)}setGestureState(t,r,s){const a=this.elementGestureMap.get(r);if(!a||!a.has(t)){console.error(`Gesture "${t}" not found on the provided element.`);return}const i=new CustomEvent(`${t}ChangeState`,{detail:s,bubbles:!1,cancelable:!1,composed:!1});r.dispatchEvent(i)}registerElement(t,r,s){return Array.isArray(t)||(t=[t]),t.forEach(a=>{const i=s?.[a];this.registerSingleGesture(a,r,i)}),r}registerSingleGesture(t,r,s){const a=this.gestureTemplates.get(t);if(!a)return console.error(`Gesture template "${t}" not found.`),!1;this.elementGestureMap.has(r)||this.elementGestureMap.set(r,new Map);const i=this.elementGestureMap.get(r);i.has(t)&&(console.warn(`Element already has gesture "${t}" registered. It will be replaced.`),this.unregisterElement(t,r));const o=a.clone(s);return o.init(r,this.pointerManager,this.activeGesturesRegistry,this.keyboardManager),i.set(t,o),!0}unregisterElement(t,r){const s=this.elementGestureMap.get(r);return!s||!s.has(t)?!1:(s.get(t).destroy(),s.delete(t),this.activeGesturesRegistry.unregisterElement(r),s.size===0&&this.elementGestureMap.delete(r),!0)}unregisterAllGestures(t){const r=this.elementGestureMap.get(t);if(r){for(const[,s]of r)s.destroy(),this.activeGesturesRegistry.unregisterElement(t);this.elementGestureMap.delete(t)}}destroy(){for(const[t]of this.elementGestureMap)this.unregisterAllGestures(t);this.gestureTemplates.clear(),this.elementGestureMap.clear(),this.activeGesturesRegistry.destroy(),this.keyboardManager.destroy(),this.pointerManager.destroy()}}class ih extends Rle{unregisterHandler=null;originalTarget=null;constructor(t){super(t),this.minPointers=t.minPointers??1,this.maxPointers=t.maxPointers??1/0}init(t,r,s,a){super.init(t,r,s,a),this.unregisterHandler=this.pointerManager.registerGestureHandler(this.handlePointerEvent)}updateOptions(t){super.updateOptions(t),this.minPointers=t.minPointers??this.minPointers,this.maxPointers=t.maxPointers??this.maxPointers}getBaseConfig(){return{requiredKeys:this.requiredKeys,minPointers:this.minPointers,maxPointers:this.maxPointers}}isWithinPointerCount(t,r){const s=this.getEffectiveConfig(r,this.getBaseConfig());return t.length>=s.minPointers&&t.length<=s.maxPointers}getRelevantPointers(t,r){return t.filter(s=>this.isPointerTypeAllowed(s.pointerType)&&(r===s.target||s.target===this.originalTarget||r===this.originalTarget||"contains"in r&&r.contains(s.target))||"getRootNode"in r&&r.getRootNode()instanceof ShadowRoot&&s.srcEvent.composedPath().includes(r))}destroy(){this.unregisterHandler&&(this.unregisterHandler(),this.unregisterHandler=null),super.destroy()}}function mft(e,t){const r=t.x-e.x,s=t.y-e.y;return Math.sqrt(r*r+s*s)}function HR(e){if(e.length<2)return 0;let t=0,r=0;for(let s=0;s<e.length;s+=1)for(let a=s+1;a<e.length;a+=1)t+=mft({x:e[s].clientX,y:e[s].clientY},{x:e[a].clientX,y:e[a].clientY}),r+=1;return r>0?t/r:0}function Qc(e){if(e.length===0)return{x:0,y:0};const t=e.reduce((r,s)=>(r.x+=s.clientX,r.y+=s.clientY,r),{x:0,y:0});return{x:t.x/e.length,y:t.y/e.length}}function go(e,t){return`${e}${t==="ongoing"?"":t.charAt(0).toUpperCase()+t.slice(1)}`}const A1=1e-5,Xd=1e-5,WG=.15;function hft(e,t){const r=t.x-e.x,s=t.y-e.y,a={vertical:null,horizontal:null,mainAxis:null},i=pft(t,e),o=Math.abs(r)>Math.abs(s)?"horizontal":"vertical",c=i||o==="horizontal"?A1:WG,d=i?A1:o==="horizontal"?WG:A1;return Math.abs(r)>c&&(a.horizontal=r>0?"right":"left"),Math.abs(s)>d&&(a.vertical=s>0?"down":"up"),a.mainAxis=i?"diagonal":o,a}function pft(e,t){const r=t.x-e.x,s=t.y-e.y,a=Math.atan2(s,r)*180/Math.PI;return a>=-45+Xd&&a<=-22.5+Xd||a>=22.5+Xd&&a<=45+Xd||a>=135+Xd&&a<=157.5+Xd||a>=-157.5+Xd&&a<=-135+Xd}function gft(e,t){if(!e.vertical&&!e.horizontal)return!1;if(t.length===0)return!0;const r=e.vertical===null||t.includes(e.vertical),s=e.horizontal===null||t.includes(e.horizontal);return r&&s}const qG=0,xft=e=>e>qG?1:e<-qG?-1:0,nu=e=>{e.cancelable&&e.preventDefault()};class yF extends ih{state={lastPosition:null};constructor(t){super(t),this.threshold=t.threshold||0}clone(t){return new yF(pe({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,threshold:this.threshold,minPointers:this.minPointers,maxPointers:this.maxPointers,requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf],pointerOptions:structuredClone(this.pointerOptions)},t))}init(t,r,s,a){super.init(t,r,s,a),this.element.addEventListener("pointerenter",this.handleElementEnter),this.element.addEventListener("pointerleave",this.handleElementLeave)}destroy(){this.element.removeEventListener("pointerenter",this.handleElementEnter),this.element.removeEventListener("pointerleave",this.handleElementLeave),this.resetState(),super.destroy()}updateOptions(t){super.updateOptions(t)}resetState(){this.isActive=!1,this.state={lastPosition:null}}handleElementEnter=t=>{if(t.pointerType!=="mouse"&&t.pointerType!=="pen")return;const r=this.pointerManager.getPointers()||new Map,s=Array.from(r.values());if(this.isWithinPointerCount(s,t.pointerType)){this.isActive=!0;const a={x:t.clientX,y:t.clientY};this.state.lastPosition=a,this.emitMoveEvent(this.element,"start",s,t),this.emitMoveEvent(this.element,"ongoing",s,t)}};handleElementLeave=t=>{if(t.pointerType!=="mouse"&&t.pointerType!=="pen"||!this.isActive)return;const r=this.pointerManager.getPointers()||new Map,s=Array.from(r.values());this.emitMoveEvent(this.element,"end",s,t),this.resetState()};handlePointerEvent=(t,r)=>{if(r.type!=="pointermove"||r.pointerType!=="mouse"&&r.pointerType!=="pen")return;this.preventDefault&&r.preventDefault(),this.stopPropagation&&r.stopPropagation();const s=Array.from(t.values()),a=this.getTargetElement(r);if(!a||!this.isWithinPointerCount(s,r.pointerType))return;if(this.shouldPreventGesture(a,r.pointerType)){if(!this.isActive)return;this.resetState(),this.emitMoveEvent(a,"end",s,r);return}const i={x:r.clientX,y:r.clientY};this.state.lastPosition=i,this.isActive||(this.isActive=!0,this.emitMoveEvent(a,"start",s,r)),this.emitMoveEvent(a,"ongoing",s,r)};emitMoveEvent(t,r,s,a){const i=this.state.lastPosition||Qc(s),o=this.gesturesRegistry.getActiveGestures(t),c={gestureName:this.name,centroid:i,target:a.target,srcEvent:a,phase:r,pointers:s,timeStamp:a.timeStamp,activeGestures:o,customData:this.customData},d=go(this.name,r),u=new CustomEvent(d,{bubbles:!0,cancelable:!0,composed:!0,detail:c});t.dispatchEvent(u)}}class xm extends ih{state={startPointers:new Map,startCentroid:null,lastCentroid:null,movementThresholdReached:!1,totalDeltaX:0,totalDeltaY:0,activeDeltaX:0,activeDeltaY:0,lastDirection:{vertical:null,horizontal:null,mainAxis:null},lastDeltas:null};constructor(t){super(t),this.direction=t.direction||["up","down","left","right"],this.threshold=t.threshold||0}clone(t){return new xm(pe({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,threshold:this.threshold,minPointers:this.minPointers,maxPointers:this.maxPointers,direction:[...this.direction],requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf],pointerOptions:structuredClone(this.pointerOptions)},t))}destroy(){this.resetState(),super.destroy()}updateOptions(t){super.updateOptions(t),this.direction=t.direction||this.direction,this.threshold=t.threshold??this.threshold}resetState(){this.isActive=!1,this.state=pe({},this.state,{startPointers:new Map,startCentroid:null,lastCentroid:null,lastDeltas:null,activeDeltaX:0,activeDeltaY:0,movementThresholdReached:!1,lastDirection:{vertical:null,horizontal:null,mainAxis:null}})}handlePointerEvent=(t,r)=>{const s=Array.from(t.values());if(r.type==="forceCancel"){this.cancel(r.target,s,r);return}const a=this.getTargetElement(r);if(!a)return;if(this.shouldPreventGesture(a,r.pointerType)){this.cancel(a,s,r);return}const i=this.getRelevantPointers(s,a);if(!this.isWithinPointerCount(i,r.pointerType)){this.cancel(a,i,r);return}switch(r.type){case"pointerdown":!this.isActive&&!this.state.startCentroid&&(i.forEach(o=>{this.state.startPointers.set(o.pointerId,o)}),this.originalTarget=a,this.state.startCentroid=Qc(i),this.state.lastCentroid=pe({},this.state.startCentroid));break;case"pointermove":if(this.state.startCentroid&&this.isWithinPointerCount(s,r.pointerType)){const o=Qc(i),c=o.x-this.state.startCentroid.x,d=o.y-this.state.startCentroid.y,u=Math.sqrt(c*c+d*d),l=hft(this.state.lastCentroid??this.state.startCentroid,o),f=this.state.lastCentroid?o.x-this.state.lastCentroid.x:0,m=this.state.lastCentroid?o.y-this.state.lastCentroid.y:0;!this.state.movementThresholdReached&&u>=this.threshold&&gft(l,this.direction)?(this.state.movementThresholdReached=!0,this.isActive=!0,this.state.lastDeltas={x:f,y:m},this.state.totalDeltaX+=f,this.state.totalDeltaY+=m,this.state.activeDeltaX+=f,this.state.activeDeltaY+=m,this.emitPanEvent(a,"start",i,r,o),this.emitPanEvent(a,"ongoing",i,r,o)):this.state.movementThresholdReached&&this.isActive&&(this.state.lastDeltas={x:f,y:m},this.state.totalDeltaX+=f,this.state.totalDeltaY+=m,this.state.activeDeltaX+=f,this.state.activeDeltaY+=m,this.emitPanEvent(a,"ongoing",i,r,o)),this.state.lastCentroid=o,this.state.lastDirection=l}break;case"pointerup":case"pointercancel":case"forceCancel":if(this.isActive&&this.state.movementThresholdReached){const o=i.filter(c=>c.type!=="pointerup"&&c.type!=="pointercancel");if(!this.isWithinPointerCount(o,r.pointerType)){const c=this.state.lastCentroid||this.state.startCentroid;r.type==="pointercancel"&&this.emitPanEvent(a,"cancel",i,r,c),this.emitPanEvent(a,"end",i,r,c),this.resetState()}}else this.resetState();break}};emitPanEvent(t,r,s,a,i){if(!this.state.startCentroid)return;const o=this.state.lastDeltas?.x??0,c=this.state.lastDeltas?.y??0,d=this.state.startPointers.values().next().value,u=d?(a.timeStamp-d.timeStamp)/1e3:0,l=u>0?o/u:0,f=u>0?c/u:0,m=Math.sqrt(l*l+f*f),p=this.gesturesRegistry.getActiveGestures(t),x={gestureName:this.name,initialCentroid:this.state.startCentroid,centroid:i,target:a.target,srcEvent:a,phase:r,pointers:s,timeStamp:a.timeStamp,deltaX:o,deltaY:c,direction:this.state.lastDirection,velocityX:l,velocityY:f,velocity:m,totalDeltaX:this.state.totalDeltaX,totalDeltaY:this.state.totalDeltaY,activeDeltaX:this.state.activeDeltaX,activeDeltaY:this.state.activeDeltaY,activeGestures:p,customData:this.customData},b=go(this.name,r),h=new CustomEvent(b,{bubbles:!0,cancelable:!0,composed:!0,detail:x});t.dispatchEvent(h),this.preventDefault&&a.preventDefault(),this.stopPropagation&&a.stopPropagation()}cancel(t,r,s){if(this.isActive){const a=t??this.element;this.emitPanEvent(a,"cancel",r,s,this.state.lastCentroid),this.emitPanEvent(a,"end",r,s,this.state.lastCentroid)}this.resetState()}}class bF extends ih{state={startDistance:0,lastDistance:0,lastScale:1,lastTime:0,velocity:0,totalScale:1,deltaScale:0};constructor(t){super(pe({},t,{minPointers:t.minPointers??2})),this.threshold=t.threshold??0}clone(t){return new bF(pe({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,threshold:this.threshold,minPointers:this.minPointers,maxPointers:this.maxPointers,requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf],pointerOptions:structuredClone(this.pointerOptions)},t))}destroy(){this.resetState(),super.destroy()}updateOptions(t){super.updateOptions(t)}resetState(){this.isActive=!1,this.state=pe({},this.state,{startDistance:0,lastDistance:0,lastScale:1,lastTime:0,velocity:0,deltaScale:0})}handlePointerEvent=(t,r)=>{const s=Array.from(t.values()),a=this.getTargetElement(r);if(!a)return;if(this.shouldPreventGesture(a,r.pointerType)){this.isActive&&(this.emitPinchEvent(a,"cancel",s,r),this.resetState());return}const i=this.getRelevantPointers(s,a);switch(r.type){case"pointerdown":if(i.length>=2&&!this.isActive){const o=HR(i);this.state.startDistance=o,this.state.lastDistance=o,this.state.lastTime=r.timeStamp,this.originalTarget=a}break;case"pointermove":if(this.state.startDistance&&this.isWithinPointerCount(i,r.pointerType)){const o=HR(i),c=Math.abs(o-this.state.lastDistance);if(c!==0&&c>=this.threshold){const d=this.state.startDistance?o/this.state.startDistance:1,u=d/this.state.lastScale;this.state.totalScale*=u;const l=(r.timeStamp-this.state.lastTime)/1e3;if(this.state.lastDistance){const m=(o-this.state.lastDistance)/l;this.state.velocity=Number.isNaN(m)?0:m}this.state.lastDistance=o,this.state.deltaScale=d-this.state.lastScale,this.state.lastScale=d,this.state.lastTime=r.timeStamp,this.isActive?this.emitPinchEvent(a,"ongoing",i,r):(this.isActive=!0,this.emitPinchEvent(a,"start",i,r),this.emitPinchEvent(a,"ongoing",i,r))}}break;case"pointerup":case"pointercancel":case"forceCancel":if(this.isActive){const o=i.filter(c=>c.type!=="pointerup"&&c.type!=="pointercancel");if(!this.isWithinPointerCount(o,r.pointerType))r.type==="pointercancel"&&this.emitPinchEvent(a,"cancel",i,r),this.emitPinchEvent(a,"end",i,r),this.resetState();else if(o.length>=2){const c=HR(o);this.state.startDistance=c/this.state.lastScale}}break}};emitPinchEvent(t,r,s,a){const i=Qc(s),o=this.state.lastDistance,c=this.state.lastScale,d=this.gesturesRegistry.getActiveGestures(t),u={gestureName:this.name,centroid:i,target:a.target,srcEvent:a,phase:r,pointers:s,timeStamp:a.timeStamp,scale:c,deltaScale:this.state.deltaScale,totalScale:this.state.totalScale,distance:o,velocity:this.state.velocity,activeGestures:d,direction:xft(this.state.velocity),customData:this.customData};this.preventDefault&&a.preventDefault(),this.stopPropagation&&a.stopPropagation();const l=go(this.name,r),f=new CustomEvent(l,{bubbles:!0,cancelable:!0,composed:!0,detail:u});t.dispatchEvent(f)}}class V2 extends ih{state={startCentroid:null,lastPosition:null,timerId:null,startTime:0,pressThresholdReached:!1};constructor(t){super(t),this.duration=t.duration??500,this.maxDistance=t.maxDistance??10}clone(t){return new V2(pe({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,minPointers:this.minPointers,maxPointers:this.maxPointers,duration:this.duration,maxDistance:this.maxDistance,requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf],pointerOptions:structuredClone(this.pointerOptions)},t))}destroy(){this.clearPressTimer(),this.resetState(),super.destroy()}updateOptions(t){super.updateOptions(t),this.duration=t.duration??this.duration,this.maxDistance=t.maxDistance??this.maxDistance}resetState(){this.clearPressTimer(),this.isActive=!1,this.state=pe({},this.state,{startCentroid:null,lastPosition:null,timerId:null,startTime:0,pressThresholdReached:!1})}clearPressTimer(){this.state.timerId!==null&&(clearTimeout(this.state.timerId),this.state.timerId=null)}handlePointerEvent=(t,r)=>{const s=Array.from(t.values());if(r.type==="forceCancel"){this.cancelPress(r.target,s,r);return}const a=this.getTargetElement(r);if(!a)return;if(this.shouldPreventGesture(a,r.pointerType)){this.isActive&&this.cancelPress(a,s,r);return}const i=this.getRelevantPointers(s,a);if(!this.isWithinPointerCount(i,r.pointerType)){this.isActive&&this.cancelPress(a,i,r);return}switch(r.type){case"pointerdown":!this.isActive&&!this.state.startCentroid&&(this.state.startCentroid=Qc(i),this.state.lastPosition=pe({},this.state.startCentroid),this.state.startTime=r.timeStamp,this.isActive=!0,this.originalTarget=a,this.clearPressTimer(),this.state.timerId=setTimeout(()=>{if(this.isActive&&this.state.startCentroid){this.state.pressThresholdReached=!0;const o=this.state.lastPosition;this.emitPressEvent(a,"start",i,r,o),this.emitPressEvent(a,"ongoing",i,r,o)}},this.duration));break;case"pointermove":if(this.isActive&&this.state.startCentroid){const o=Qc(i);this.state.lastPosition=o;const c=o.x-this.state.startCentroid.x,d=o.y-this.state.startCentroid.y;Math.sqrt(c*c+d*d)>this.maxDistance&&this.cancelPress(a,i,r)}break;case"pointerup":if(this.isActive){if(this.state.pressThresholdReached){const o=this.state.lastPosition||this.state.startCentroid;this.emitPressEvent(a,"end",i,r,o)}this.resetState()}break;case"pointercancel":case"forceCancel":this.cancelPress(a,i,r);break}};emitPressEvent(t,r,s,a,i){const o=this.gesturesRegistry.getActiveGestures(t),c=a.timeStamp-this.state.startTime,d={gestureName:this.name,centroid:i,target:a.target,srcEvent:a,phase:r,pointers:s,timeStamp:a.timeStamp,x:i.x,y:i.y,duration:c,activeGestures:o,customData:this.customData},u=go(this.name,r),l=new CustomEvent(u,{bubbles:!0,cancelable:!0,composed:!0,detail:d});t.dispatchEvent(l),this.preventDefault&&a.preventDefault(),this.stopPropagation&&a.stopPropagation()}cancelPress(t,r,s){if(this.isActive&&this.state.pressThresholdReached){const a=this.state.lastPosition||this.state.startCentroid;this.emitPressEvent(t??this.element,"cancel",r,s,a),this.emitPressEvent(t??this.element,"end",r,s,a)}this.resetState()}}class wF extends ih{state={phase:"waitingForPress",dragTimeoutId:null};constructor(t){super(t),this.pressDuration=t.pressDuration??500,this.pressMaxDistance=t.pressMaxDistance??10,this.dragTimeout=t.dragTimeout??1e3,this.dragThreshold=t.dragThreshold??0,this.dragDirection=t.dragDirection||["up","down","left","right"],this.pressGesture=new V2({name:`${this.name}-press`,duration:this.pressDuration,maxDistance:this.pressMaxDistance,maxPointers:this.maxPointers,pointerMode:this.pointerMode,requiredKeys:this.requiredKeys,preventIf:this.preventIf,pointerOptions:structuredClone(this.pointerOptions)}),this.panGesture=new xm({name:`${this.name}-pan`,minPointers:this.minPointers,maxPointers:this.maxPointers,threshold:this.dragThreshold,direction:this.dragDirection,pointerMode:this.pointerMode,requiredKeys:this.requiredKeys,preventIf:this.preventIf,pointerOptions:structuredClone(this.pointerOptions)})}clone(t){return new wF(pe({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,minPointers:this.minPointers,maxPointers:this.maxPointers,pressDuration:this.pressDuration,pressMaxDistance:this.pressMaxDistance,dragTimeout:this.dragTimeout,dragThreshold:this.dragThreshold,dragDirection:[...this.dragDirection],requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf],pointerOptions:structuredClone(this.pointerOptions)},t))}init(t,r,s,a){super.init(t,r,s,a),this.pressGesture.init(t,r,s,a),this.panGesture.init(t,r,s,a),this.element.addEventListener(this.pressGesture.name,this.pressHandler),this.element.addEventListener(`${this.panGesture.name}Start`,this.dragStartHandler),this.element.addEventListener(this.panGesture.name,this.dragMoveHandler),this.element.addEventListener(`${this.panGesture.name}End`,this.dragEndHandler),this.element.addEventListener(`${this.panGesture.name}Cancel`,this.dragEndHandler)}destroy(){this.resetState(),this.pressGesture.destroy(),this.panGesture.destroy(),this.element.removeEventListener(this.pressGesture.name,this.pressHandler),this.element.removeEventListener(`${this.panGesture.name}Start`,this.dragStartHandler),this.element.removeEventListener(this.panGesture.name,this.dragMoveHandler),this.element.removeEventListener(`${this.panGesture.name}End`,this.dragEndHandler),this.element.removeEventListener(`${this.panGesture.name}Cancel`,this.dragEndHandler),super.destroy()}updateOptions(t){super.updateOptions(t),this.pressDuration=t.pressDuration??this.pressDuration,this.pressMaxDistance=t.pressMaxDistance??this.pressMaxDistance,this.dragTimeout=t.dragTimeout??this.dragTimeout,this.dragThreshold=t.dragThreshold??this.dragThreshold,this.dragDirection=t.dragDirection||this.dragDirection,this.element.dispatchEvent(new CustomEvent(`${this.panGesture.name}ChangeOptions`,{detail:{minPointers:this.minPointers,maxPointers:this.maxPointers,threshold:this.dragThreshold,direction:this.dragDirection,pointerMode:this.pointerMode,requiredKeys:this.requiredKeys,preventIf:this.preventIf,pointerOptions:structuredClone(this.pointerOptions)}})),this.element.dispatchEvent(new CustomEvent(`${this.pressGesture.name}ChangeOptions`,{detail:{duration:this.pressDuration,maxDistance:this.pressMaxDistance,maxPointers:this.maxPointers,pointerMode:this.pointerMode,requiredKeys:this.requiredKeys,preventIf:this.preventIf,pointerOptions:structuredClone(this.pointerOptions)}}))}resetState(){this.state.dragTimeoutId!==null&&clearTimeout(this.state.dragTimeoutId),this.restoreTouchAction(),this.isActive=!1,this.state={phase:"waitingForPress",dragTimeoutId:null}}handlePointerEvent(){}pressHandler=()=>{this.state.phase==="waitingForPress"&&(this.state.phase="pressDetected",this.setTouchAction(),this.state.dragTimeoutId=setTimeout(()=>{this.resetState()},this.dragTimeout))};dragStartHandler=t=>{this.state.phase==="pressDetected"&&(this.state.dragTimeoutId!==null&&(clearTimeout(this.state.dragTimeoutId),this.state.dragTimeoutId=null),this.restoreTouchAction(),this.state.phase="dragging",this.isActive=!0,this.element.dispatchEvent(new CustomEvent(go(this.name,t.detail.phase),t)))};dragMoveHandler=t=>{this.state.phase==="dragging"&&this.element.dispatchEvent(new CustomEvent(go(this.name,t.detail.phase),t))};dragEndHandler=t=>{this.state.phase==="dragging"&&(this.resetState(),this.element.dispatchEvent(new CustomEvent(go(this.name,t.detail.phase),t)))};setTouchAction(){this.element.addEventListener("touchstart",nu,{passive:!1}),this.element.addEventListener("touchmove",nu,{passive:!1}),this.element.addEventListener("touchend",nu,{passive:!1})}restoreTouchAction(){this.element.removeEventListener("touchstart",nu),this.element.removeEventListener("touchmove",nu),this.element.removeEventListener("touchend",nu)}}class Gy extends ih{state={startCentroid:null,currentTapCount:0,lastTapTime:0,lastPosition:null};constructor(t){super(t),this.maxDistance=t.maxDistance??10,this.taps=t.taps??1}clone(t){return new Gy(pe({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,minPointers:this.minPointers,maxPointers:this.maxPointers,maxDistance:this.maxDistance,taps:this.taps,requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf],pointerOptions:structuredClone(this.pointerOptions)},t))}destroy(){this.resetState(),super.destroy()}updateOptions(t){super.updateOptions(t),this.maxDistance=t.maxDistance??this.maxDistance,this.taps=t.taps??this.taps}resetState(){this.isActive=!1,this.state={startCentroid:null,currentTapCount:0,lastTapTime:0,lastPosition:null}}handlePointerEvent=(t,r)=>{const s=Array.from(t.values()),a=this.getTargetElement(r);if(!a)return;const i=this.getRelevantPointers(s,a);if(this.shouldPreventGesture(a,r.pointerType)||!this.isWithinPointerCount(i,r.pointerType)){this.isActive&&this.cancelTap(a,i,r);return}switch(r.type){case"pointerdown":this.isActive||(this.state.startCentroid=Qc(i),this.state.lastPosition=pe({},this.state.startCentroid),this.isActive=!0,this.originalTarget=a);break;case"pointermove":if(this.isActive&&this.state.startCentroid){const o=Qc(i);this.state.lastPosition=o;const c=o.x-this.state.startCentroid.x,d=o.y-this.state.startCentroid.y;Math.sqrt(c*c+d*d)>this.maxDistance&&this.cancelTap(a,i,r)}break;case"pointerup":if(this.isActive){this.state.currentTapCount+=1;const o=this.state.lastPosition||this.state.startCentroid;if(!o){this.cancelTap(a,i,r);return}this.state.currentTapCount>=this.taps?(this.fireTapEvent(a,i,r,o),this.resetState()):(this.state.lastTapTime=r.timeStamp,this.isActive=!1,this.state.startCentroid=null,setTimeout(()=>{this.state&&this.state.currentTapCount>0&&this.state.currentTapCount<this.taps&&(this.state.currentTapCount=0)},300))}break;case"pointercancel":case"forceCancel":this.cancelTap(a,i,r);break}};fireTapEvent(t,r,s,a){const i=this.gesturesRegistry.getActiveGestures(t),o={gestureName:this.name,centroid:a,target:s.target,srcEvent:s,phase:"end",pointers:r,timeStamp:s.timeStamp,x:a.x,y:a.y,tapCount:this.state.currentTapCount,activeGestures:i,customData:this.customData},c=new CustomEvent(this.name,{bubbles:!0,cancelable:!0,composed:!0,detail:o});t.dispatchEvent(c),this.preventDefault&&s.preventDefault(),this.stopPropagation&&s.stopPropagation()}cancelTap(t,r,s){if(this.state.startCentroid||this.state.lastPosition){const a=this.state.lastPosition||this.state.startCentroid,i=this.gesturesRegistry.getActiveGestures(t),o={gestureName:this.name,centroid:a,target:s.target,srcEvent:s,phase:"cancel",pointers:r,timeStamp:s.timeStamp,x:a.x,y:a.y,tapCount:this.state.currentTapCount,activeGestures:i,customData:this.customData},c=go(this.name,"cancel"),d=new CustomEvent(c,{bubbles:!0,cancelable:!0,composed:!0,detail:o});t.dispatchEvent(d)}this.resetState()}}class jF extends ih{state={phase:"waitingForTap",dragTimeoutId:null};constructor(t){super(t),this.tapMaxDistance=t.tapMaxDistance??10,this.dragTimeout=t.dragTimeout??1e3,this.dragThreshold=t.dragThreshold??0,this.dragDirection=t.dragDirection||["up","down","left","right"],this.tapGesture=new Gy({name:`${this.name}-tap`,maxDistance:this.tapMaxDistance,maxPointers:this.maxPointers,pointerMode:this.pointerMode,requiredKeys:this.requiredKeys,preventIf:this.preventIf,pointerOptions:structuredClone(this.pointerOptions)}),this.panGesture=new xm({name:`${this.name}-pan`,minPointers:this.minPointers,maxPointers:this.maxPointers,threshold:this.dragThreshold,direction:this.dragDirection,pointerMode:this.pointerMode,requiredKeys:this.requiredKeys,preventIf:this.preventIf,pointerOptions:structuredClone(this.pointerOptions)})}clone(t){return new jF(pe({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,minPointers:this.minPointers,maxPointers:this.maxPointers,tapMaxDistance:this.tapMaxDistance,dragTimeout:this.dragTimeout,dragThreshold:this.dragThreshold,dragDirection:[...this.dragDirection],requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf],pointerOptions:structuredClone(this.pointerOptions)},t))}init(t,r,s,a){super.init(t,r,s,a),this.tapGesture.init(t,r,s,a),this.panGesture.init(t,r,s,a),this.element.addEventListener(this.tapGesture.name,this.tapHandler),this.element.addEventListener(`${this.panGesture.name}Start`,this.dragStartHandler),this.element.addEventListener(this.panGesture.name,this.dragMoveHandler),this.element.addEventListener(`${this.panGesture.name}End`,this.dragEndHandler),this.element.addEventListener(`${this.panGesture.name}Cancel`,this.dragEndHandler)}destroy(){this.resetState(),this.tapGesture.destroy(),this.panGesture.destroy(),this.element.removeEventListener(this.tapGesture.name,this.tapHandler),this.element.removeEventListener(`${this.panGesture.name}Start`,this.dragStartHandler),this.element.removeEventListener(this.panGesture.name,this.dragMoveHandler),this.element.removeEventListener(`${this.panGesture.name}End`,this.dragEndHandler),this.element.removeEventListener(`${this.panGesture.name}Cancel`,this.dragEndHandler),super.destroy()}updateOptions(t){super.updateOptions(t),this.tapMaxDistance=t.tapMaxDistance??this.tapMaxDistance,this.dragTimeout=t.dragTimeout??this.dragTimeout,this.dragThreshold=t.dragThreshold??this.dragThreshold,this.dragDirection=t.dragDirection||this.dragDirection,this.element.dispatchEvent(new CustomEvent(`${this.panGesture.name}ChangeOptions`,{detail:{minPointers:this.minPointers,maxPointers:this.maxPointers,threshold:this.dragThreshold,direction:this.dragDirection,pointerMode:this.pointerMode,requiredKeys:this.requiredKeys,preventIf:this.preventIf,pointerOptions:structuredClone(this.pointerOptions)}})),this.element.dispatchEvent(new CustomEvent(`${this.tapGesture.name}ChangeOptions`,{detail:{maxDistance:this.tapMaxDistance,maxPointers:this.maxPointers,pointerMode:this.pointerMode,requiredKeys:this.requiredKeys,preventIf:this.preventIf,pointerOptions:structuredClone(this.pointerOptions)}}))}resetState(){this.state.dragTimeoutId!==null&&clearTimeout(this.state.dragTimeoutId),this.restoreTouchAction(),this.isActive=!1,this.state={phase:"waitingForTap",dragTimeoutId:null}}handlePointerEvent(){}tapHandler=()=>{this.state.phase==="waitingForTap"&&(this.state.phase="tapDetected",this.setTouchAction(),this.state.dragTimeoutId=setTimeout(()=>{this.resetState()},this.dragTimeout))};dragStartHandler=t=>{this.state.phase==="tapDetected"&&(this.state.dragTimeoutId!==null&&(clearTimeout(this.state.dragTimeoutId),this.state.dragTimeoutId=null),this.restoreTouchAction(),this.state.phase="dragging",this.isActive=!0,this.element.dispatchEvent(new CustomEvent(go(this.name,t.detail.phase),t)))};dragMoveHandler=t=>{this.state.phase==="dragging"&&this.element.dispatchEvent(new CustomEvent(go(this.name,t.detail.phase),t))};dragEndHandler=t=>{this.state.phase==="dragging"&&(this.resetState(),this.element.dispatchEvent(new CustomEvent(go(this.name,t.detail.phase),t)))};setTouchAction(){this.element.addEventListener("touchstart",nu,{passive:!1})}restoreTouchAction(){this.element.removeEventListener("touchstart",nu)}}class SF extends Rle{state={totalDeltaX:0,totalDeltaY:0,totalDeltaZ:0};constructor(t){super(t),this.sensitivity=t.sensitivity??1,this.max=t.max??Number.MAX_SAFE_INTEGER,this.min=t.min??Number.MIN_SAFE_INTEGER,this.initialDelta=t.initialDelta??0,this.invert=t.invert??!1,this.state.totalDeltaX=this.initialDelta,this.state.totalDeltaY=this.initialDelta,this.state.totalDeltaZ=this.initialDelta}clone(t){return new SF(pe({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,sensitivity:this.sensitivity,max:this.max,min:this.min,initialDelta:this.initialDelta,invert:this.invert,requiredKeys:[...this.requiredKeys],preventIf:[...this.preventIf]},t))}init(t,r,s,a){super.init(t,r,s,a),this.element.addEventListener("wheel",this.handleWheelEvent)}destroy(){this.element.removeEventListener("wheel",this.handleWheelEvent),this.resetState(),super.destroy()}resetState(){this.isActive=!1,this.state={totalDeltaX:0,totalDeltaY:0,totalDeltaZ:0}}updateOptions(t){super.updateOptions(t),this.sensitivity=t.sensitivity??this.sensitivity,this.max=t.max??this.max,this.min=t.min??this.min,this.initialDelta=t.initialDelta??this.initialDelta,this.invert=t.invert??this.invert}handleWheelEvent=t=>{if(this.shouldPreventGesture(this.element,"mouse"))return;const r=this.pointerManager.getPointers()||new Map,s=Array.from(r.values());this.state.totalDeltaX+=t.deltaX*this.sensitivity*(this.invert?-1:1),this.state.totalDeltaY+=t.deltaY*this.sensitivity*(this.invert?-1:1),this.state.totalDeltaZ+=t.deltaZ*this.sensitivity*(this.invert?-1:1),["totalDeltaX","totalDeltaY","totalDeltaZ"].forEach(a=>{this.state[a]<this.min&&(this.state[a]=this.min),this.state[a]>this.max&&(this.state[a]=this.max)}),this.emitWheelEvent(s,t)};emitWheelEvent(t,r){const s=t.length>0?Qc(t):{x:r.clientX,y:r.clientY},a=this.gesturesRegistry.getActiveGestures(this.element),i={gestureName:this.name,centroid:s,target:r.target,srcEvent:r,phase:"ongoing",pointers:t,timeStamp:r.timeStamp,deltaX:r.deltaX*this.sensitivity*(this.invert?-1:1),deltaY:r.deltaY*this.sensitivity*(this.invert?-1:1),deltaZ:r.deltaZ*this.sensitivity*(this.invert?-1:1),deltaMode:r.deltaMode,totalDeltaX:this.state.totalDeltaX,totalDeltaY:this.state.totalDeltaY,totalDeltaZ:this.state.totalDeltaZ,activeGestures:a,customData:this.customData};this.preventDefault&&r.preventDefault(),this.stopPropagation&&r.stopPropagation();const o=go(this.name,"ongoing"),c=new CustomEvent(o,{bubbles:!0,cancelable:!0,composed:!0,detail:i});this.element.dispatchEvent(c)}}const bp=e=>e.preventDefault(),NF=({svgRef:e})=>{const t=v.useRef(null);v.useEffect(()=>{const a=e.current;t.current||(t.current=new fft({gestures:[new xm({name:"pan",threshold:0,maxPointers:1}),new yF({name:"move",preventIf:["pan","zoomPinch","zoomPan"]}),new Gy({name:"tap",preventIf:["pan","zoomPinch","zoomPan"]}),new V2({name:"quickPress",duration:50}),new xm({name:"brush",threshold:0,maxPointers:1}),new xm({name:"zoomPan",threshold:0,preventIf:["zoomTapAndDrag","zoomPressAndDrag"]}),new bF({name:"zoomPinch",threshold:5}),new SF({name:"zoomTurnWheel",sensitivity:.01,initialDelta:1}),new jF({name:"zoomTapAndDrag",dragThreshold:10}),new wF({name:"zoomPressAndDrag",dragThreshold:10,preventIf:["zoomPinch"]}),new Gy({name:"zoomDoubleTapReset",taps:2})]}));const i=t.current;if(!(!a||!i))return i.registerElement(["pan","move","zoomPinch","zoomPan","zoomTurnWheel","tap","quickPress","zoomTapAndDrag","zoomPressAndDrag","zoomDoubleTapReset","brush"],a),()=>{i.unregisterAllGestures(a)}},[e,t]);const r=v.useCallback((a,i,o)=>{const c=e.current;return c?.addEventListener(a,i,o),{cleanup:()=>c?.removeEventListener(a,i)}},[e]),s=v.useCallback((a,i)=>{const o=e.current,c=t.current;!c||!o||c.setGestureOptions(a,o,i??{})},[e,t]);return v.useEffect(()=>{const a=e.current;return a?.addEventListener("gesturestart",bp),a?.addEventListener("gesturechange",bp),a?.addEventListener("gestureend",bp),()=>{a?.removeEventListener("gesturestart",bp),a?.removeEventListener("gesturechange",bp),a?.removeEventListener("gestureend",bp)}},[e]),{instance:{addInteractionListener:r,updateZoomInteractionListeners:s}}};NF.params={};NF.getInitialState=()=>({});const vft=[xF,gF,z2,H2,NF,B2],yft=["apiRef"],bft=e=>{let{plugins:t}=e,r=Cr(e.props,yft);const s={};t.forEach(o=>{Object.assign(s,o.params)});const a={};return Object.keys(r).forEach(o=>{const c=r[o];s[o]&&(a[o]=c)}),t.reduce((o,c)=>c.getDefaultizedParams?c.getDefaultizedParams({params:o}):o,a)};let GG=0;function wft(e,t,r){const s=F2(),a=v.useMemo(()=>[...vft,...e],[e]),i=bft({plugins:a,props:t});i.id=i.id??s;const c=v.useRef({}).current,d=Sft(t.apiRef),u=v.useRef(null),l=v.useRef(null),f=v.useRef(null);if(f.current==null){GG+=1;const x={cacheKey:{id:GG}};a.forEach(b=>{b.getInitialState&&Object.assign(x,b.getInitialState(i,x,r))}),f.current=new mF(x)}const m=x=>{const b=x({instance:c,params:i,plugins:a,store:f.current,svgRef:l,chartRootRef:u,seriesConfig:r});b.publicAPI&&Object.assign(d.current,b.publicAPI),b.instance&&Object.assign(c,b.instance)};return a.forEach(m),{contextValue:v.useMemo(()=>({store:f.current,publicAPI:d.current,instance:c,svgRef:l,chartRootRef:u}),[c,d])}}function jft(e){return e.current==null&&(e.current={}),e}function Sft(e){const t=v.useRef({});return e?jft(e):t}const Mle=v.createContext(null);const Ole=()=>{},Ile=4,Fle=20+2*Ile,Nft=40+2*Ile,Cft="hover",T1={minStart:0,maxEnd:100,step:5,minSpan:10,maxSpan:100,panning:!0,filterMode:"keep",reverse:!1,slider:{enabled:!1,preview:!1,size:Fle,showTooltip:Cft}},CF=(e,t,r,s)=>{if(e)return e===!0?pe({axisId:t,axisDirection:r},T1,{reverse:s??!1}):pe({axisId:t,axisDirection:r},T1,{reverse:s??!1},e,{slider:pe({},T1.slider,{size:e.slider?.preview??T1.slider.preview?Nft:Fle},e.slider)})};function $le(e,t){const r={top:0,bottom:0,none:0};return(e&&e.length>0?e:[{id:hF,scaleType:"linear"}]).map((i,o)=>{const c=i.dataKey,d=o===0?"bottom":"none",u=i.position??d,l=Vut+(i.label?kle:0),f=i.id??`defaultized-x-axis-${o}`,m=pe({offset:r[u]},i,{id:f,position:u,height:i.height??l,zoom:CF(i.zoom,f,"x",i.reverse)});if(u!=="none"&&(r[u]+=m.height,m.zoom?.slider.enabled&&(r[u]+=m.zoom.slider.size)),c===void 0||i.data!==void 0)return m;if(t===void 0)throw new Error("MUI X Charts: x-axis uses `dataKey` but no `dataset` is provided.");return pe({},m,{data:t.map(p=>p[c])})})}function Lle(e,t){const r={right:0,left:0,none:0};return(e&&e.length>0?e:[{id:pF,scaleType:"linear"}]).map((i,o)=>{const c=i.dataKey,d=o===0?"left":"none",u=i.position??d,l=Hut+(i.label?kle:0),f=i.id??`defaultized-y-axis-${o}`,m=pe({offset:r[u]},i,{id:f,position:u,width:i.width??l,zoom:CF(i.zoom,f,"y",i.reverse)});if(u!=="none"&&(r[u]+=m.width,m.zoom?.slider.enabled&&(r[u]+=m.zoom.slider.size)),c===void 0||i.data!==void 0)return m;if(t===void 0)throw new Error("MUI X Charts: y-axis uses `dataKey` but no `dataset` is provided.");return pe({},m,{data:t.map(p=>p[c])})})}function _ft(e,t){return function(s,a){if(a.location==="tick"){const i=a.scale.domain();return i[0]===i[1]?a.scale.tickFormat(1)(s):a.scale.tickFormat(e)(s)}return a.location==="zoom-slider-tooltip"?t.tickFormat(2)(s):`${s}`}}function ed(e){return e.scaleType==="band"}function Qu(e){return e.scaleType==="point"}function Eft(e){return e.scaleType!=="point"&&e.scaleType!=="band"}function kft(e){return e.scaleType==="symlog"}function Ble(e){return e.type==="piecewise"?R5(e.thresholds,e.colors):H5([e.min??0,e.max??100],e.color)}function Rg(e){return e.values?Py(e.values,e.colors).unknown(e.unknownColor??null):Py(e.colors.map((t,r)=>r),e.colors).unknown(e.unknownColor??null)}function ag(e){return e.type==="ordinal"?Rg(e):Ble(e)}function zle(e,t,r){const{tickMaxStep:s,tickMinStep:a,tickNumber:i}=e,o=a===void 0?999:Math.floor(Math.abs(t[1]-t[0])/a),c=s===void 0?2:Math.ceil(Math.abs(t[1]-t[0])/s);return Math.min(o,Math.max(c,i??r))}function Ule(e,t){return t[1]-t[0]===0?1:e/((t[1]-t[0])/100)}function _F(e){return Math.floor(Math.abs(e)/50)}function YG(e){return Array.isArray(e)?JSON.stringify(e):typeof e=="object"&&e!==null?e.valueOf():e}function W2(...e){let t=new YC(void 0,YG),r=[],s=[],a=0,i=1,o,c,d=!1,u=0,l=0,f=.5;const m=h=>{const y=t.get(h);if(y!==void 0)return s[y%s.length]},p=()=>{const h=r.length,y=i<a,w=y?i:a,S=y?a:i;o=(S-w)/Math.max(1,h-u+l*2),d&&(o=Math.floor(o));const N=w+(S-w-o*(h-u))*f;c=o*(1-u);const _=d?Math.round(N):N;c=d?Math.round(c):c;const E=tne(h).map(T=>_+o*T);return s=y?E.reverse():E,m};m.domain=function(h){if(!arguments.length)return r.slice();r=[],t=new YC(void 0,YG);for(const y of h)t.has(y)||t.set(y,r.push(y)-1);return p()},m.range=function(h){if(!arguments.length)return[a,i];const[y,w]=h;return a=+y,i=+w,p()},m.rangeRound=function(h){const[y,w]=h;return a=+y,i=+w,d=!0,p()},m.bandwidth=function(){return c},m.step=function(){return o},m.round=function(h){return arguments.length?(d=!!h,p()):d},m.padding=function(h){return arguments.length?(u=Math.min(1,l=+h),p()):u},m.paddingInner=function(h){return arguments.length?(u=Math.min(1,h),p()):u},m.paddingOuter=function(h){return arguments.length?(l=+h,p()):l},m.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),p()):f},m.copy=()=>W2(r,[a,i]).round(d).paddingInner(u).paddingOuter(l).align(f);const[x,b]=e;return e.length>1?(m.domain(x),m.range(b)):x?m.range(x):p(),m}function Hle(...e){const t=W2(...e).paddingInner(1),r=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=()=>{const s=r();return s.padding=s.paddingOuter,delete s.paddingInner,delete s.paddingOuter,s.copy=t.copy,s},t}function Vle(...e){const t=D5(...e),r=t.ticks,{negativeScale:s,linearScale:a,positiveScale:i}=Aft(t);return t.ticks=o=>{const c=r(o),d=t.constant();let u=0,l=0,f=0;c.forEach(p=>{p>-d&&p<d&&(l+=1),p<=-d&&(u+=1),p>=d&&(f+=1)});const m=[];if(u>0&&m.push(...s.ticks(u)),l>0){const p=a.ticks(l);m.at(-1)===p[0]?m.push(...p.slice(1)):m.push(...p)}if(f>0){const p=i.ticks(f);m.at(-1)===p[0]?m.push(...p.slice(1)):m.push(...p)}return m},t.tickFormat=(o=10,c)=>{const d=t.constant(),[u,l]=t.domain(),f=l-u,m=s.domain(),p=m[1]-m[0],b=(f===0?0:p/f)*o,h=a.domain(),y=h[1]-h[0],S=(f===0?0:y/f)*o,N=i.domain(),_=N[1]-N[0],E=(f===0?0:_/f)*o,T=s.tickFormat(b,c),D=a.tickFormat(S,c),P=i.tickFormat(E,c);return M=>(M.valueOf()<=-d?T:M.valueOf()>=d?P:D)(M)},t.copy=()=>Vle(t.domain(),t.range()).constant(t.constant()),t}function Aft(e){const t=e.constant(),r=e.domain(),s=[r[0],Math.min(r[1],-t)],a=Fy(s,e.range()),i=[Math.max(r[0],-t),Math.min(r[1],t)],o=e2(i,e.range()),c=[Math.max(r[0],t),r[1]],d=Fy(c,e.range());return{negativeScale:a,linearScale:o,positiveScale:d}}function q2(e,t,r){switch(e){case"log":return Fy(t,r);case"pow":return t2(t,r);case"sqrt":return une(t,r);case"time":return U5(t,r);case"utc":return Sne(t,r);case"symlog":return Vle(t,r);default:return e2(t,r)}}const jO=e=>e?.[0]instanceof Date;function SO(e,t,r){const s=U5(e,t);return(a,{location:i})=>i==="tick"?s.tickFormat(r)(a):`${a.toLocaleString()}`}let KG,ZG;class Tft{types=new Set;constructor(){if(KG)throw new Error("You can only create one instance!");KG=this.types}addType(t){this.types.add(t)}getTypes(){return this.types}}class Dft{types=new Set;constructor(){if(ZG)throw new Error("You can only create one instance!");ZG=this.types}addType(t){this.types.add(t)}getTypes(){return this.types}}const G2=new Tft;G2.addType("bar");G2.addType("line");G2.addType("scatter");const Wle=new Dft;Wle.addType("radar");function Y2(e){return G2.getTypes().has(e)}function g_(e){return Y2(e.type)}const Pft=(e,t,r,s)=>{const a=new Set;return Object.keys(t).filter(Y2).forEach(o=>{const c=r[o]?.series??{},d=t[o].axisTooltipGetter?.(c);d!==void 0&&d.forEach(({axisId:u,direction:l})=>{l===e&&a.add(u??s)})}),a};function ba(e){return e.bandwidth!==void 0}function Rft(e){return ba(e)&&e.paddingOuter!==void 0}function Mft(e,t,r){const s=t==="x"?[e.left,e.left+e.width]:[e.top+e.height,e.top];return r?[s[1],s[0]]:s}const Oft=.2,Ift=.1;function qle({scales:e,drawingArea:t,formattedSeries:r,axis:s,seriesConfig:a,axisDirection:i,zoomMap:o,domains:c}){if(s===void 0)return{axis:{},axisIds:[]};const d=Pft(i,a,r,s[0].id),u={};return s.forEach(l=>{const f=l,m=e[f.id],p=o?.get(f.id),x=p?[p.start,p.end]:[0,100],b=Mft(t,i,f.reverse??!1),h=!f.ignoreTooltip&&d.has(f.id),y=f.data??[];if(ba(m)){const k=i==="y"?[b[1],b[0]]:b;if(Rft(m)&&ed(f)){const E=f.categoryGapRatio??Oft,T=f.barGapRatio??Ift;u[f.id]=pe({offset:0,height:0,categoryGapRatio:E,barGapRatio:T,triggerTooltip:h},f,{data:y,scale:m,tickNumber:f.data.length,colorScale:f.colorMap&&(f.colorMap.type==="ordinal"?Rg(pe({values:f.data},f.colorMap)):ag(f.colorMap))})}if(Qu(f)&&(u[f.id]=pe({offset:0,height:0,triggerTooltip:h},f,{data:y,scale:m,tickNumber:f.data.length,colorScale:f.colorMap&&(f.colorMap.type==="ordinal"?Rg(pe({values:f.data},f.colorMap)):ag(f.colorMap))})),jO(f.data)){const E=SO(f.data,k,f.tickNumber);u[f.id].valueFormatter=f.valueFormatter??E}return}if(f.scaleType==="band"||f.scaleType==="point")return;const w=c[f.id].tickNumber,S=f,N=S.scaleType??"linear",_=Ule(w,x);u[f.id]=pe({offset:0,height:0,triggerTooltip:h},S,{data:y,scaleType:N,scale:m,tickNumber:_,colorScale:S.colorMap&&Ble(S.colorMap),valueFormatter:f.valueFormatter??_ft(_,q2(N,b.map(k=>m.invert(k)),b))})}),{axis:u,axisIds:s.map(({id:l})=>l)}}function Fft(e){return e!=null}function $ft(e,t,r,s){const a=e?.length??0,i=Math.floor(t*a/100),o=Math.ceil(r*a/100);return function(d,u){return(d[s]??e?.[u])==null?!0:u>=i&&u<o}}function Lft(e,t,r,s,a){const i=e[0].valueOf(),o=e[1].valueOf(),c=i+t*(o-i)/100,d=i+r*(o-i)/100;return function(l,f){const m=l[s]??a?.[f];return m==null?!0:m>=c&&m<=d}}const Bft=e=>({currentAxisId:t,seriesXAxisId:r,seriesYAxisId:s,isDefaultAxis:a})=>(i,o)=>!(t===r?s:r)||a?Object.values(e??{})[0]?.(i,o)??!0:[s,r].filter(u=>u!==t).map(u=>e[u??""]).filter(Fft).every(u=>u(i,o)),XG=e=>(t=[])=>t.reduce((r,s)=>{const{zoom:a,id:i,reverse:o}=s,c=CF(a,i,e,o);return c&&(r[i]=c),r},{}),zft=.2;function Gle(e,t,r){const s=t==="x"?[e.left,e.left+e.width]:[e.top+e.height,e.top];return r.reverse?[s[1],s[0]]:s}function Yle(e,t){const r=[0,1];if(ed(e)){const i=e.categoryGapRatio??zft;return W2(t,r).paddingInner(i).paddingOuter(i/2)}if(Qu(e))return Hle(t,r);const s=e.scaleType??"linear",a=q2(s,t,r);return kft(e)&&e.constant!=null&&a.constant(e.constant),a}const Kle=(e,t)=>{const r=e[1]-e[0],s=t[1]-t[0],a=e[0]-t[0]*r/s,i=e[1]+(100-t[1])*r/s;return[a,i]},Uft=(e,t,r,s,a,i,o)=>{const c=r==="x"?s[e].xExtremumGetter:s[e].yExtremumGetter,d=i[e]?.series??{};return c?.({series:d,axis:t,axisIndex:a,isDefaultAxis:a===0,getFilters:o})??[1/0,-1/0]};function K2(e,t,r,s,a,i){const o=Object.keys(r).filter(Y2);let c=[1/0,-1/0];for(const d of o){const[u,l]=Uft(d,e,t,r,s,a,i);c=[Math.min(c[0],u),Math.max(c[1],l)]}return Number.isNaN(c[0])||Number.isNaN(c[1])?[1/0,-1/0]:c}const Hft=(e,t,r,s)=>{if(e.domainLimit!==void 0)return e.domainLimit;if(t==="x")for(const a of s.line?.seriesOrder??[]){const i=s.line.series[a];if(i.xAxisId===e.id||i.xAxisId===void 0&&r===0)return"strict"}return"nice"};function Zle(e,t,r){return q2(e??"linear",t,[0,1]).nice(r).domain()}function Xle(e,t,r,s,[a,i],o,c){const d=Qle(e,t,r,s,c);let u=ece(e,a,i);if(typeof d=="function"){const{min:f,max:m}=d(a.valueOf(),i.valueOf());u[0]=f,u[1]=m}const l=zle(e,u,o);return d==="nice"&&(u=Zle(e.scaleType,u,l)),u=["min"in e?e.min??u[0]:u[0],"max"in e?e.max??u[1]:u[1]],{domain:u,tickNumber:l}}function Jle(e,t,r,s,[a,i],o,c){const d=Qle(e,t,r,s,c);let u=ece(e,a,i);if(typeof d=="function"){const{min:l,max:f}=d(a.valueOf(),i.valueOf());u[0]=l,u[1]=f}return d==="nice"&&(u=Zle(e.scaleType,u,o)),[e.min??u[0],e.max??u[1]]}function Qle(e,t,r,s,a){return a?Hft(e,t,r,s):e.domainLimit??"nice"}function ece(e,t,r){let s=t,a=r;return"max"in e&&e.max!=null&&e.max<t&&(s=e.max),"min"in e&&e.min!=null&&e.min>t&&(a=e.min),!("min"in e)&&!("max"in e)?[s,a]:[e.min??s,e.max??a]}class Vft{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(t,r){let s=this.length++;for(;s>0;){const a=s-1>>1,i=this.values[a];if(r>=i)break;this.ids[s]=this.ids[a],this.values[s]=i,s=a}this.ids[s]=t,this.values[s]=r}pop(){if(this.length===0)return;const t=this.ids,r=this.values,s=t[0],a=--this.length;if(a>0){const i=t[a],o=r[a];let c=0;const d=a>>1;for(;c<d;){const u=(c<<1)+1,l=u+1,f=u+(+(l<a)&+(r[l]<r[u]));if(r[f]>=o)break;t[c]=t[f],r[c]=r[f],c=f}t[c]=i,r[c]=o}return s}peek(){return this.length>0?this.ids[0]:void 0}peekValue(){return this.length>0?this.values[0]:void 0}shrink(){this.ids.length=this.values.length=this.length}}const JG=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],VR=3;class EF{static from(t,r=0){if(r%8!==0)throw new Error("byteOffset must be 8-byte aligned.");if(!t||t.byteLength===void 0||t.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");const[s,a]=new Uint8Array(t,r+0,2);if(s!==251)throw new Error("Data does not appear to be in a Flatbush format.");const i=a>>4;if(i!==VR)throw new Error(`Got v${i} data when expected v${VR}.`);const o=JG[a&15];if(!o)throw new Error("Unrecognized array type.");const[c]=new Uint16Array(t,r+2,1),[d]=new Uint32Array(t,r+4,1);return new EF(d,c,o,void 0,t,r)}constructor(t,r=16,s=Float64Array,a=ArrayBuffer,i,o=0){if(t===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(t)||t<=0)throw new Error(`Unexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+r,2),65535),this.byteOffset=o;let c=t,d=c;this._levelBounds=[c*4];do c=Math.ceil(c/this.nodeSize),d+=c,this._levelBounds.push(d*4);while(c!==1);this.ArrayType=s,this.IndexArrayType=d<16384?Uint16Array:Uint32Array;const u=JG.indexOf(s),l=d*4*s.BYTES_PER_ELEMENT;if(u<0)throw new Error(`Unexpected typed array class: ${s}.`);if(i)this.data=i,this._boxes=new s(i,o+8,d*4),this._indices=new this.IndexArrayType(i,o+8+l,d),this._pos=d*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1];else{const f=this.data=new a(8+l+d*this.IndexArrayType.BYTES_PER_ELEMENT);this._boxes=new s(f,8,d*4),this._indices=new this.IndexArrayType(f,8+l,d),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(f,0,2).set([251,(VR<<4)+u]),new Uint16Array(f,2,1)[0]=r,new Uint32Array(f,4,1)[0]=t}this._queue=new Vft}add(t,r,s=t,a=r){const i=this._pos>>2,o=this._boxes;return this._indices[i]=i,o[this._pos++]=t,o[this._pos++]=r,o[this._pos++]=s,o[this._pos++]=a,t<this.minX&&(this.minX=t),r<this.minY&&(this.minY=r),s>this.maxX&&(this.maxX=s),a>this.maxY&&(this.maxY=a),i}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);const t=this._boxes;if(this.numItems<=this.nodeSize){t[this._pos++]=this.minX,t[this._pos++]=this.minY,t[this._pos++]=this.maxX,t[this._pos++]=this.maxY;return}const r=this.maxX-this.minX||1,s=this.maxY-this.minY||1,a=new Uint32Array(this.numItems),i=65535;for(let o=0,c=0;o<this.numItems;o++){const d=t[c++],u=t[c++],l=t[c++],f=t[c++],m=Math.floor(i*((d+l)/2-this.minX)/r),p=Math.floor(i*((u+f)/2-this.minY)/s);a[o]=Gft(m,p)}NO(a,t,this._indices,0,this.numItems-1,this.nodeSize);for(let o=0,c=0;o<this._levelBounds.length-1;o++){const d=this._levelBounds[o];for(;c<d;){const u=c;let l=t[c++],f=t[c++],m=t[c++],p=t[c++];for(let x=1;x<this.nodeSize&&c<d;x++)l=Math.min(l,t[c++]),f=Math.min(f,t[c++]),m=Math.max(m,t[c++]),p=Math.max(p,t[c++]);this._indices[this._pos>>2]=u,t[this._pos++]=l,t[this._pos++]=f,t[this._pos++]=m,t[this._pos++]=p}}}search(t,r,s,a,i){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let o=this._boxes.length-4;const c=[],d=[];for(;o!==void 0;){const u=Math.min(o+this.nodeSize*4,QG(o,this._levelBounds));for(let l=o;l<u;l+=4){if(s<this._boxes[l]||a<this._boxes[l+1]||t>this._boxes[l+2]||r>this._boxes[l+3])continue;const f=this._indices[l>>2]|0;o>=this.numItems*4?c.push(f):(i===void 0||i(f))&&(d.push(f),d.push(this._boxes[l]),d.push(this._boxes[l+1]))}o=c.pop()}return d}neighbors(t,r,s=1/0,a=1/0,i,o=Wft){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let c=this._boxes.length-4;const d=this._queue,u=[];e:for(;c!==void 0;){const l=Math.min(c+this.nodeSize*4,QG(c,this._levelBounds));for(let f=c;f<l;f+=4){const m=this._indices[f>>2]|0,p=this._boxes[f],x=this._boxes[f+1],b=this._boxes[f+2],h=this._boxes[f+3],y=t<p?p-t:t>b?t-b:0,w=r<x?x-r:r>h?r-h:0,S=o(y,w);S>a||(c>=this.numItems*4?d.push(m<<1,S):(i===void 0||i(m))&&d.push((m<<1)+1,S))}for(;d.length&&d.peek()&1;)if(d.peekValue()>a||(u.push(d.pop()>>1),u.length===s))break e;c=d.length?d.pop()>>1:void 0}return d.clear(),u}}function Wft(e,t){return e*e+t*t}function QG(e,t){let r=0,s=t.length-1;for(;r<s;){const a=r+s>>1;t[a]>e?s=a:r=a+1}return t[r]}function NO(e,t,r,s,a,i){if(Math.floor(s/i)>=Math.floor(a/i))return;const o=e[s],c=e[s+a>>1],d=e[a];let u=d;const l=Math.max(o,c);d>l?u=l:l===o?u=Math.max(c,d):l===c&&(u=Math.max(o,d));let f=s-1,m=a+1;for(;;){do f++;while(e[f]<u);do m--;while(e[m]>u);if(f>=m)break;qft(e,t,r,f,m)}NO(e,t,r,s,m,i),NO(e,t,r,m+1,a,i)}function qft(e,t,r,s,a){const i=e[s];e[s]=e[a],e[a]=i;const o=4*s,c=4*a,d=t[o],u=t[o+1],l=t[o+2],f=t[o+3];t[o]=t[c],t[o+1]=t[c+1],t[o+2]=t[c+2],t[o+3]=t[c+3],t[c]=d,t[c+1]=u,t[c+2]=l,t[c+3]=f;const m=r[s];r[s]=r[a],r[a]=m}function Gft(e,t){let r=e^t,s=65535^r,a=65535^(e|t),i=e&(t^65535),o=r|s>>1,c=r>>1^r,d=a>>1^s&i>>1^a,u=r&a>>1^i>>1^i;r=o,s=c,a=d,i=u,o=r&r>>2^s&s>>2,c=r&s>>2^s&(r^s)>>2,d^=r&a>>2^s&i>>2,u^=s&a>>2^(r^s)&i>>2,r=o,s=c,a=d,i=u,o=r&r>>4^s&s>>4,c=r&s>>4^s&(r^s)>>4,d^=r&a>>4^s&i>>4,u^=s&a>>4^(r^s)&i>>4,r=o,s=c,a=d,i=u,d^=r&a>>8^s&i>>8,u^=s&a>>8^(r^s)&i>>8,r=d^d>>1,s=u^u>>1;let l=e^t,f=s|65535^(l|r);return l=(l|l<<8)&16711935,l=(l|l<<4)&252645135,l=(l|l<<2)&858993459,l=(l|l<<1)&1431655765,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,(f<<1|l)>>>0}const Yft=e=>{const t=new Map;return e.forEach(r=>{t.set(r.axisId,r)}),t},tce=e=>e.zoom,rce=tt([tce],e=>e?.isInteracting),ef=$n(tce,function(t){return t?.zoomData&&Yft(t?.zoomData)}),eY=tt([ef],(e,t)=>e?.get(t)),hw=$n(md,Ju,function(t,r){return pe({},XG("x")(t),XG("y")(r))});tt([hw],(e,t)=>e[t]);const Kft=tt([si],function(t){return _F(t.width)}),Zft=tt([si],function(t){return _F(t.height)}),kF=$n(md,Qn,Po,U2,Kft,function(t,r,s,a,i){const c={};return t?.forEach((d,u)=>{const l=d;if(ed(l)||Qu(l)){c[l.id]={domain:l.data};return}const f=K2(l,"x",s,u,r);c[l.id]=Xle(l,"x",u,r,f,i,a)}),{axes:t,domains:c}}),AF=$n(Ju,Qn,Po,U2,Zft,function(t,r,s,a,i){const c={};return t?.forEach((d,u)=>{const l=d;if(ed(l)||Qu(l)){c[l.id]={domain:l.data};return}const f=K2(l,"y",s,u,r);c[l.id]=Xle(l,"y",u,r,f,i,a)}),{axes:t,domains:c}}),sce=$n(ef,hw,kF,AF,function(t,r,{axes:s,domains:a},{axes:i,domains:o}){if(!t||!r)return;let c=!1;const d={},u=[...s??[],...i??[]];for(let l=0;l<u.length;l+=1){const f=u[l];if(!r[f.id]||r[f.id].filterMode!=="discard")continue;const m=t.get(f.id);if(m===void 0||m.start<=0&&m.end>=100)continue;const p=l<(s?.length??0)?"x":"y";if(f.scaleType==="band"||f.scaleType==="point")d[f.id]=$ft(f.data,m.start,m.end,p);else{const{domain:x}=p==="x"?a[f.id]:o[f.id];d[f.id]=Lft(x,m.start,m.end,p,f.data)}c=!0}if(c)return Bft(d)}),Xft=$n(Qn,Po,ef,hw,sce,U2,kF,function(t,r,s,a,i,o,{axes:c,domains:d}){const u={};return c?.forEach((l,f)=>{const m=d[l.id].domain;if(ed(l)||Qu(l)){u[l.id]=m;return}const p=s?.get(l.id),x=a?.[l.id],b=p===void 0&&!x?i:void 0;if(!b){u[l.id]=m;return}const h=d[l.id].tickNumber,y=K2(l,"x",r,f,t,b);u[l.id]=Jle(l,"x",f,t,y,h,o)}),u}),Jft=$n(Qn,Po,ef,hw,sce,U2,AF,function(t,r,s,a,i,o,{axes:c,domains:d}){const u={};return c?.forEach((l,f)=>{const m=d[l.id].domain;if(ed(l)||Qu(l)){u[l.id]=m;return}const p=s?.get(l.id),x=a?.[l.id],b=p===void 0&&!x?i:void 0;if(!b){u[l.id]=m;return}const h=d[l.id].tickNumber,y=K2(l,"y",r,f,t,b);u[l.id]=Jle(l,"y",f,t,y,h,o)}),u}),nce=$n(md,Xft,function(t,r){const s={};return t?.forEach(a=>{const i=a,o=r[i.id];s[i.id]=Yle(i,o)}),s}),ace=$n(Ju,Jft,function(t,r){const s={};return t?.forEach(a=>{const i=a,o=r[i.id];s[i.id]=Yle(i,o)}),s}),Qft=$n(md,nce,si,ef,function(t,r,s,a){const i={};return t?.forEach(o=>{const c=o,d=a?.get(c.id),u=d?[d.start,d.end]:[0,100],l=Gle(s,"x",c),f=r[c.id].copy(),m=Kle(l,u);f.range(m),i[c.id]=f}),i}),emt=$n(Ju,ace,si,ef,function(t,r,s,a){const i={};return t?.forEach(o=>{const c=o,d=a?.get(c.id),u=d?[d.start,d.end]:[0,100],l=Gle(s,"y",c),f=r[c.id].copy(),m=ba(f)?l.reverse():l,p=Kle(m,u);f.range(p),i[c.id]=f}),i}),Ra=$n(si,Qn,Po,ef,kF,Qft,function(t,r,s,a,{axes:i,domains:o},c){return qle({scales:c,drawingArea:t,formattedSeries:r,axis:i,seriesConfig:s,axisDirection:"x",zoomMap:a,domains:o})}),Ma=$n(si,Qn,Po,ef,AF,emt,function(t,r,s,a,{axes:i,domains:o},c){return qle({scales:c,drawingArea:t,formattedSeries:r,axis:i,seriesConfig:s,axisDirection:"y",zoomMap:a,domains:o})});tt([Ra,Ma],(e,t,r)=>e?.axis[r]??t?.axis[r]);tt([md,Ju],(e,t,r)=>{const s=e?.find(a=>a.id===r)??t?.find(a=>a.id===r)??null;if(s)return s});const tmt=tt([md],e=>e[0].id),rmt=tt([Ju],e=>e[0].id),smt=new Map,nmt=()=>smt,amt=$n(Qn,nce,ace,tmt,rmt,function(t,r,s,a,i){const o=t.scatter,c=new Map;return o&&o.seriesOrder.forEach(d=>{const{data:u,xAxisId:l=a,yAxisId:f=i}=o.series[d],m=new EF(u.length),p=r[l],x=s[f];for(const b of u)m.add(p(b.x),x(b.y));m.finish(),c.set(d,m)}),c});function wp(e){return e instanceof Date?e.getTime():e}function Mg(e,t){const{scale:r,data:s,reverse:a}=e;if(!ba(r)){const o=r.invert(t);if(s===void 0)return-1;const c=wp(o);return s?.findIndex((u,l)=>{const f=wp(u);return f>c&&(l===0||Math.abs(c-f)<=Math.abs(c-wp(s[l-1])))||f<=c&&(l===s.length-1||Math.abs(wp(o)-f)<Math.abs(wp(o)-wp(s[l+1])))})}const i=r.bandwidth()===0?Math.floor((t-Math.min(...r.range())+r.step()/2)/r.step()):Math.floor((t-Math.min(...r.range()))/r.step());return i<0||i>=s.length?-1:a?s.length-1-i:i}function tY(e,t,r,s){if(!ba(e)){if(s===null){const a=e.invert(r);return Number.isNaN(a)?null:a}return t[s]}return s===null||s<0||s>=t.length?null:t[s]}function Yy(e,t){const r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r.matrixTransform(e.getScreenCTM().inverse())}const imt=Object.is;function ice(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;let r=0,s=0;for(const a in e)if(r+=1,!imt(e[a],t[a])||!(a in t))return!1;for(const a in t)s+=1;return r===s}const pw=({store:e})=>{const t=Yn(function(){e.set("interaction",pe({},e.state.interaction,{pointer:null,item:null}))}),r=Yn(function(o){const c=e.state.interaction.item;if(!o){c!==null&&e.set("interaction",pe({},e.state.interaction,{item:null}));return}c===null||Object.keys(o).some(d=>o[d]!==c[d])||e.set("interaction",pe({},e.state.interaction,{item:null}))}),s=Yn(function(o,c){ice(e.state.interaction.item,o)||e.set("interaction",pe({},e.state.interaction,{lastUpdate:c.interaction,item:o}))}),a=Yn(function(o){e.set("interaction",pe({},e.state.interaction,{pointer:o,lastUpdate:o!==null?"pointer":e.state.interaction.lastUpdate}))});return{instance:{cleanInteraction:t,setItemInteraction:s,removeItemInteraction:r,setPointerCoordinate:a}}};pw.getInitialState=()=>({interaction:{item:null,pointer:null,lastUpdate:"pointer"}});pw.params={};const Z2=e=>e.interaction,omt=tt([Z2],e=>e!==void 0),oce=tt([Z2],e=>e?.item??null),lce=tt([Z2],e=>e?.pointer??null),gw=tt([lce],e=>e&&e.x),xw=tt([lce],e=>e&&e.y),lmt=tt([oce],e=>e!==null),vw=tt([Z2],e=>e?.lastUpdate),cmt=new Set(["bar","line","scatter","pie"]);function cce(e){return cmt.has(e)}function dce(e,t,r){const s=Object.keys(e),a=t!==void 0&&e[t]?s.indexOf(t):0,i=t!==void 0&&r!==void 0&&e[t]&&e[t].series[r]?e[t].seriesOrder.indexOf(r):-1,o=s.filter(cce);for(let l=0;l<o.length;l+=1){const f=(a+l)%o.length,m=e[o[f]],p=l===0?i+1:0;for(let x=p;x<m.seriesOrder.length;x+=1)if(m.series[m.seriesOrder[x]].data.length>0)return{type:o[f],seriesId:m.seriesOrder[x]}}const c=a,d=e[o[c]],u=i;for(let l=0;l<u;l+=1)if(d.series[d.seriesOrder[l]].data.length>0)return{type:o[c],seriesId:d.seriesOrder[l]};return null}function uce(e,t,r){const s=Object.keys(e),a=t!==void 0&&e[t]?s.indexOf(t):0,i=t!==void 0&&r!==void 0&&e[t]&&e[t].series[r]?e[t].seriesOrder.indexOf(r):1,o=s.filter(cce);for(let l=0;l<o.length;l+=1){const f=(o.length+a-l)%o.length,m=e[o[f]],p=l===0?i+1:m.seriesOrder.length;for(let x=1;x<p;x+=1){const b=(m.seriesOrder.length+i-x)%m.seriesOrder.length;if(m.series[m.seriesOrder[b]].data.length>0)return{type:o[f],seriesId:m.seriesOrder[b]}}}const c=a,d=e[o[c]],u=d.seriesOrder;for(let l=u.length-1;l>i;l-=1)if(d.series[d.seriesOrder[l]].data.length>0)return{type:o[c],seriesId:d.seriesOrder[l]};return null}function fce(e,t,r){if(t==="sankey")return!1;const s=e[t]?.series[r]?.data;return s&&s.length>0}function dmt(e){let{type:t,seriesId:r}=e.keyboardNavigation.item??{};if(t===void 0||t==="sankey"||r===void 0||!fce(e.series.processedSeries,t,r)){const a=dce(e.series.processedSeries,t,r);if(a===null)return null;t=a.type,r=a.seriesId}const s=e.series.processedSeries[t].series[r].data.length;return{type:t,seriesId:r,dataIndex:((e.keyboardNavigation.item?.dataIndex??-1)+1)%s}}function umt(e){let{type:t,seriesId:r}=e.keyboardNavigation.item??{};if(t===void 0||t==="sankey"||r===void 0||!fce(e.series.processedSeries,t,r)){const a=uce(e.series.processedSeries,t,r);if(a===null)return null;t=a.type,r=a.seriesId}const s=e.series.processedSeries[t].series[r].data.length;return{type:t,seriesId:r,dataIndex:(s+(e.keyboardNavigation.item?.dataIndex??1)-1)%s}}function fmt(e){let{type:t,seriesId:r}=e.keyboardNavigation.item??{};const s=dce(e.series.processedSeries,t,r);if(s===null)return null;t=s.type,r=s.seriesId;const a=e.series.processedSeries[t].series[r].data.length;return{type:t,seriesId:r,dataIndex:Math.min(a-1,e.keyboardNavigation.item?.dataIndex??0)}}function mmt(e){let{type:t,seriesId:r}=e.keyboardNavigation.item??{};const s=uce(e.series.processedSeries,t,r);if(s===null)return null;t=s.type,r=s.seriesId;const a=e.series.processedSeries[t].series[r].data.length;return{type:t,seriesId:r,dataIndex:Math.min(a-1,e.keyboardNavigation.item?.dataIndex??0)}}const X2=({params:e,store:t,svgRef:r})=>{const s=Yn(function(){t.state.keyboardNavigation.item!==null&&t.set("keyboardNavigation",pe({},t.state.keyboardNavigation,{item:null}))});return v.useEffect(()=>{const a=r.current;if(!a||!e.enableKeyboardNavigation)return;function i(o){let c=t.state.keyboardNavigation.item;switch(o.key){case"ArrowRight":c=dmt(t.state);break;case"ArrowLeft":c=umt(t.state);break;case"ArrowDown":{c=mmt(t.state);break}case"ArrowUp":{c=fmt(t.state);break}}c!==t.state.keyboardNavigation.item&&(o.preventDefault(),t.update(pe({},t.state.highlight&&{highlight:pe({},t.state.highlight,{lastUpdate:"keyboard"})},t.state.interaction&&{interaction:pe({},t.state.interaction,{lastUpdate:"keyboard"})},{keyboardNavigation:pe({},t.state.keyboardNavigation,{item:c})})))}return a.addEventListener("keydown",i),a.addEventListener("blur",s),()=>{a.removeEventListener("keydown",i),a.removeEventListener("blur",s)}},[r,s,e.enableKeyboardNavigation,t]),Pn(()=>{t.state.keyboardNavigation.enableKeyboardNavigation!==e.enableKeyboardNavigation&&t.set("keyboardNavigation",pe({},t.state.keyboardNavigation,{enableKeyboardNavigation:!!e.enableKeyboardNavigation}))},[t,e.enableKeyboardNavigation]),{}};X2.getInitialState=e=>({keyboardNavigation:{item:null,enableKeyboardNavigation:!!e.enableKeyboardNavigation}});X2.params={enableKeyboardNavigation:!0};const oh=e=>e.keyboardNavigation,hmt=tt([oh],(e,t)=>e?.item!=null&&e.item.type===t.seriesType&&e.item.seriesId===t.seriesId&&e.item.dataIndex===t.dataIndex),pmt=tt([oh],e=>e?.item!=null),TF=tt([oh],e=>e?.item?.type),DF=tt([oh],e=>e?.item?.seriesId),PF=tt([oh],e=>e?.item?.dataIndex),gmt=tt([oh],e=>!!e?.enableKeyboardNavigation),mce=e=>(t,r,s,a,i)=>{if(t===void 0||r===void 0||s===void 0)return;const o=i[t]?.series[r];if(!o)return;let c=e==="x"?"xAxisId"in o&&o.xAxisId:"yAxisId"in o&&o.yAxisId;return(c===void 0||c===!1)&&(c=a.axisIds[0]),{axisId:c,dataIndex:s}},xmt=tt([TF,DF,PF,Ra,Qn],mce("x")),vmt=tt([TF,DF,PF,Ma,Qn],mce("y")),hce=tt([oh],function(t){if(t?.item==null)return null;const{type:r,seriesId:s}=t.item;return r===void 0||s===void 0?null:t.item}),ymt=tt([TF,DF,PF],function(t,r,s){return r!==void 0&&s!==void 0}),pce=tt([vw,oce,hce],(e,t,r)=>e==="keyboard"?r:t??null),bmt=tt([vw,lmt,ymt],(e,t,r)=>e==="keyboard"?r:t),wmt=tt([pce,si,Po,Ra,Ma,Qn,(e,t)=>t],function(t,r,s,{axis:a,axisIds:i},{axis:o,axisIds:c},d,u="top"){if(!t)return null;const l=d[t.type]?.series[t.seriesId];if(l){const f={},m=g_(l)?l.xAxisId??i[0]:void 0,p=g_(l)?l.yAxisId??c[0]:void 0;return m!==void 0&&(f.x=a[m]),p!==void 0&&(f.y=o[p]),s[l.type].tooltipItemPositionGetter?.({series:d,drawingArea:r,axesConfig:f,identifier:t,placement:u})??null}return null});function ig(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){const a=e.length;if(a!==t.length)return!1;for(let i=0;i<a;i+=1)if(!ig(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;const a=Array.from(e.entries());for(let i=0;i<a.length;i+=1)if(!t.has(a[i][0]))return!1;for(let i=0;i<a.length;i+=1){const o=a[i];if(!ig(o[1],t.get(o[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;const a=Array.from(e.entries());for(let i=0;i<a.length;i+=1)if(!t.has(a[i][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){const a=e.length;if(a!==t.length)return!1;for(let i=0;i<a;i+=1)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const r=Object.keys(e),s=r.length;if(s!==Object.keys(t).length)return!1;for(let a=0;a<s;a+=1)if(!Object.prototype.hasOwnProperty.call(t,r[a]))return!1;for(let a=0;a<s;a+=1){const i=r[a];if(!ig(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function CO(e,t,r=t.axisIds[0]){return Array.isArray(r)?r.map(s=>Mg(t.axis[s],e)):Mg(t.axis[r],e)}const gce=(e,t,r)=>{if(e===null)return null;const s=CO(e,t,r);return s===-1?null:s},RF=tt([gw,Ra],gce),MF=tt([xw,Ma],gce),jmt=tt([gw,xw,Ra,Ma],(e,t,r,s)=>[...e===null?[]:r.axisIds.map(a=>({axisId:a,dataIndex:CO(e,r,a)})),...t===null?[]:s.axisIds.map(a=>({axisId:a,dataIndex:CO(t,s,a)}))].filter(a=>a.dataIndex!==null&&a.dataIndex>=0));function xce(e,t,r,s=t.axisIds[0]){return Array.isArray(s)?s.map((a,i)=>{const o=t.axis[a];return tY(o.scale,o.data,e,r[i])}):tY(t.axis[s].scale,t.axis[s].data,e,r)}const Smt=tt([gw,Ra,RF],(e,t,r,s)=>e===null||t.axisIds.length===0?null:xce(e,t,r,s)),Nmt=tt([xw,Ma,MF],(e,t,r,s)=>e===null||t.axisIds.length===0?null:xce(e,t,r,s)),vce=[],yce=$2({memoizeOptions:{resultEqualityCheck:ig}})(gw,Ra,(e,t)=>e===null?vce:t.axisIds.filter(r=>t.axis[r].triggerTooltip).map(r=>({axisId:r,dataIndex:Mg(t.axis[r],e)})).filter(({dataIndex:r})=>r>=0)),bce=$2({memoizeOptions:{resultEqualityCheck:ig}})(xw,Ma,(e,t)=>e===null?vce:t.axisIds.filter(r=>t.axis[r].triggerTooltip).map(r=>({axisId:r,dataIndex:Mg(t.axis[r],e)})).filter(({dataIndex:r})=>r>=0)),Cmt=tt([yce,bce],(e,t)=>e.length>0||t.length>0);function _mt(e){return e.setPointerCoordinate!==void 0}const Ax=({params:e,store:t,seriesConfig:r,svgRef:s,instance:a})=>{const{xAxis:i,yAxis:o,dataset:c,onHighlightedAxisChange:d}=e,u=Tt(t,si),l=Tt(t,Qn),f=Tt(t,omt),{axis:m,axisIds:p}=Tt(t,Ra),{axis:x,axisIds:b}=Tt(t,Ma);Ole({controlled:e.highlightedAxis}),Pn(()=>{e.highlightedAxis!==void 0&&t.set("controlledCartesianAxisHighlight",e.highlightedAxis)},[t,e.highlightedAxis]);const h=v.useRef(!0);v.useEffect(()=>{if(h.current){h.current=!1;return}t.set("cartesianAxis",{x:$le(i,c),y:Lle(o,c)})},[r,u,i,o,c,t]);const y=p[0],w=b[0];Iut(t,jmt,(N,_)=>{if(d&&!Object.is(N,_)){if(N.length!==_.length){d(_);return}N?.some(({axisId:k,dataIndex:E},T)=>_[T].axisId!==k||_[T].dataIndex!==E)&&d(_)}});const S=_mt(a);return v.useEffect(()=>{const N=s.current;if(!f||!S||!N||e.disableAxisListener)return()=>{};const _=a.addInteractionListener("moveEnd",R=>{R.detail.activeGestures.pan||a.cleanInteraction()}),k=a.addInteractionListener("panEnd",R=>{R.detail.activeGestures.move||a.cleanInteraction()}),E=a.addInteractionListener("quickPressEnd",R=>{!R.detail.activeGestures.move&&!R.detail.activeGestures.pan&&a.cleanInteraction()}),T=R=>{const B=R.detail.srcEvent,L=R.detail.target,$=Yy(N,B);if(R.detail.srcEvent.buttons>=1&&L?.hasPointerCapture(R.detail.srcEvent.pointerId)&&!L?.closest("[data-charts-zoom-slider]")&&L?.releasePointerCapture(R.detail.srcEvent.pointerId),!a.isPointInside($.x,$.y,L)){a.cleanInteraction?.();return}a.setPointerCoordinate($)},D=a.addInteractionListener("move",T),P=a.addInteractionListener("pan",T),M=a.addInteractionListener("quickPress",T);return()=>{D.cleanup(),_.cleanup(),P.cleanup(),k.cleanup(),M.cleanup(),E.cleanup()}},[s,t,m,y,x,w,a,e.disableAxisListener,f,S]),v.useEffect(()=>{const N=s.current,_=e.onAxisClick;if(N===null||!_)return()=>{};const k=a.addInteractionListener("tap",E=>{let T=null,D=!1;const P=Yy(N,E.detail.srcEvent),M=Mg(m[y],P.x);D=M!==-1,T=D?M:Mg(x[w],P.y);const R=D?p[0]:b[0];if(T==null||T===-1)return;const B=(D?m:x)[R].data[T],L={};Object.keys(l).filter($=>["bar","line"].includes($)).forEach($=>{l[$]?.seriesOrder.forEach(I=>{const z=l[$].series[I],H=z.xAxisId,Z=z.yAxisId,V=D?H:Z;(V===void 0||V===R)&&(L[I]=z.data[T])})}),_(E.detail.srcEvent,{dataIndex:T,axisValue:B,seriesValues:L})});return()=>{k.cleanup()}},[e.onAxisClick,l,s,m,p,x,b,y,w,a]),{}};Ax.params={xAxis:!0,yAxis:!0,dataset:!0,onAxisClick:!0,disableAxisListener:!0,onHighlightedAxisChange:!0,highlightedAxis:!0};Ax.getDefaultizedParams=({params:e})=>pe({},e,{colors:e.colors??Dle,theme:e.theme??"light",defaultizedXAxis:$le(e.xAxis,e.dataset),defaultizedYAxis:Lle(e.yAxis,e.dataset)});Ax.getInitialState=e=>pe({cartesianAxis:{x:e.defaultizedXAxis,y:e.defaultizedYAxis}},e.highlightedAxis===void 0?{}:{controlledCartesianAxisHighlight:e.highlightedAxis});const Jl=e=>e.brush;tt([Jl],e=>e?.start);tt([Jl],e=>e?.current);const Emt=tt([Jl],e=>e?.start?.x??null),kmt=tt([Jl],e=>e?.start?.y??null),Amt=tt([Jl],e=>e?.current?.x??null),Tmt=tt([Jl],e=>e?.current?.y??null);tt([Emt,kmt,Amt,Tmt],(e,t,r,s)=>e===null||t===null||r===null||s===null?null:{start:{x:e,y:t},current:{x:r,y:s}});const Dmt=tt([Qn],e=>{let t=!1,r=!1;return e&&Object.entries(e).forEach(([s,a])=>{Object.values(a.series).some(i=>i.layout==="horizontal")&&(t=!0),s==="scatter"&&a.seriesOrder.length>0&&(r=!0)}),r?"xy":t?"y":"x"}),Pmt=tt([hw],function(t){let r=!1,s=!1;return Object.values(t).forEach(a=>{a.axisDirection==="y"&&(s=!0),a.axisDirection==="x"&&(r=!0)}),r&&s?"xy":s?"y":r?"x":null});tt([Dmt,Pmt],(e,t)=>t??e);const wce=tt([Jl],e=>e?.enabled||e?.isZoomBrushEnabled),jce=tt([wce,Jl],(e,t)=>e&&t?.start!==null&&t?.current!==null),J2=tt([Jl,jce],(e,t)=>t&&e?.preventHighlight),Rmt=tt([Jl,jce],(e,t)=>t&&e?.preventTooltip),yw=({store:e,svgRef:t,instance:r,params:s})=>{const a=Tt(e,wce);Pn(()=>{e.set("brush",pe({},e.state.brush,{enabled:s.brushConfig.enabled,preventTooltip:s.brushConfig.preventTooltip,preventHighlight:s.brushConfig.preventHighlight}))},[e,s.brushConfig.enabled,s.brushConfig.preventTooltip,s.brushConfig.preventHighlight]);const i=Yn(function(u){e.set("brush",pe({},e.state.brush,{start:e.state.brush.start??u,current:u}))}),o=Yn(function(){e.set("brush",pe({},e.state.brush,{start:null,current:null}))}),c=Yn(function(u){e.state.brush.isZoomBrushEnabled!==u&&e.set("brush",pe({},e.state.brush,{isZoomBrushEnabled:u}))});return v.useEffect(()=>{const d=t.current;if(d===null||!a)return()=>{};const u=b=>{if(b.detail.target?.closest("[data-charts-zoom-slider]"))return;const h=Yy(d,{clientX:b.detail.initialCentroid.x,clientY:b.detail.initialCentroid.y});i(h)},l=b=>{const h=Yy(d,{clientX:b.detail.centroid.x,clientY:b.detail.centroid.y});i(h)},f=r.addInteractionListener("brushStart",u),m=r.addInteractionListener("brush",l),p=r.addInteractionListener("brushCancel",o),x=r.addInteractionListener("brushEnd",o);return()=>{f.cleanup(),m.cleanup(),x.cleanup(),p.cleanup()}},[t,r,e,o,i,a]),{instance:{setBrushCoordinates:i,clearBrush:o,setZoomBrushEnabled:c}}};yw.params={brushConfig:!0};yw.getDefaultizedParams=({params:e})=>pe({},e,{brushConfig:{enabled:e?.brushConfig?.enabled??!1,preventTooltip:e?.brushConfig?.preventTooltip??!0,preventHighlight:e?.brushConfig?.preventHighlight??!0}});yw.getInitialState=e=>({brush:{enabled:e.brushConfig.enabled,isZoomBrushEnabled:!1,preventTooltip:e.brushConfig.preventTooltip,preventHighlight:e.brushConfig.preventHighlight,start:null,current:null}});const Tx=e=>e.controlledCartesianAxisHighlight,Sce=(e,t,r,s)=>s?[]:r!==void 0?r.filter(a=>t.axis[a.axisId]!==void 0).map(a=>a):e===null?[]:[{axisId:t.axisIds[0],dataIndex:e}];$n(RF,Ra,Tx,J2,Sce);$n(MF,Ma,Tx,J2,Sce);const Nce=(e,t,r,s,a,i,o)=>{if(o)return[];if(s!==void 0)return s.map(l=>pe({},l,{value:r.axis[l.axisId]?.data?.[l.dataIndex]})).filter(({value:l})=>l!==void 0);const c=t!==null&&{axisId:r.axisIds[0],dataIndex:e,value:t},d=a&&r.axis[a.axisId]?.data?.[a.dataIndex],u=a&&d!=null&&pe({},a,{value:d});if(i==="pointer"){if(c)return[c];if(u)return[u]}if(i==="keyboard"){if(u)return[u];if(c)return[c]}return[]},Mmt=tt([RF,Smt,Ra,Tx,xmt,vw,J2],Nce),Omt=tt([MF,Nmt,Ma,Tx,vmt,vw,J2],Nce),Cce=(e,t)=>e===void 0?[t.axis[t.axisIds[0]]]:e.map(s=>t.axis[s.axisId]??null).filter(s=>s!==null);tt([Tx,Ra],Cce);tt([Tx,Ma],Cce);function rY(e,t){return e.id!==void 0?e:pe({id:t},e)}function sY(e){return e.colorMap?pe({},e,{colorScale:e.colorMap.type==="ordinal"&&e.data?Rg(pe({values:e.data},e.colorMap)):ag(e.colorMap.type==="continuous"?pe({min:e.min,max:e.max},e.colorMap):e.colorMap)}):e}function _ce(e,t){if(!e||e.length===0)return{axis:{},axisIds:[]};const r={},s=[];return e.forEach((a,i)=>{const o=a.dataKey,c=a.id??`defaultized-z-axis-${i}`;if(o===void 0||a.data!==void 0){r[c]=sY(rY(a,c)),s.push(c);return}if(t===void 0)throw new Error("MUI X Charts: z-axis uses `dataKey` but no `dataset` is provided.");r[c]=sY(rY(pe({},a,{data:t.map(d=>d[o])}),c)),s.push(c)}),{axis:r,axisIds:s}}const bw=({params:e,store:t})=>{const{zAxis:r,dataset:s}=e,a=v.useRef(!0);return v.useEffect(()=>{if(a.current){a.current=!1;return}t.set("zAxis",_ce(r,s))},[r,s,t]),{}};bw.params={zAxis:!0,dataset:!0};bw.getInitialState=e=>({zAxis:_ce(e.zAxis,e.dataset)});const Imt=e=>e,Fmt=tt([Imt],e=>e.zAxis),Dx=({store:e,params:t})=>{Ole({controlled:t.highlightedItem}),Pn(()=>{e.state.highlight.item!==t.highlightedItem&&e.set("highlight",pe({},e.state.highlight,{item:t.highlightedItem}))},[e,t.highlightedItem]);const r=Yn(()=>{t.onHighlightChange?.(null),e.getSnapshot().highlight.item!==null&&e.set("highlight",{item:null,lastUpdate:"pointer"})}),s=Yn(a=>{const i=e.getSnapshot().highlight.item;ice(i,a)||(t.onHighlightChange?.(a),e.set("highlight",{item:a,lastUpdate:"pointer"}))});return{instance:{clearHighlight:r,setHighlight:s}}};Dx.getDefaultizedParams=({params:e})=>pe({},e,{highlightedItem:e.highlightedItem??null});Dx.getInitialState=e=>({highlight:{item:e.highlightedItem,lastUpdate:"pointer"}});Dx.params={highlightedItem:!0,onHighlightChange:!0};function x_(e){let t=1/0,r=-1/0;for(const s of e??[])s<t&&(t=s),s>r&&(r=s);return[t,r]}const nY=(e,t)=>t==="x"?{x:e,y:null}:{x:null,y:e},Ece=e=>{const{axis:t,getFilters:r,isDefaultAxis:s}=e,a=r?.({currentAxisId:t.id,isDefaultAxis:s}),i=a?t.data?.filter((o,c)=>a({x:null,y:null},c)):t.data;return x_(i??[])},kce=e=>t=>{const{series:r,axis:s,getFilters:a,isDefaultAxis:i}=t;return Object.keys(r).filter(o=>{const c=e==="x"?r[o].xAxisId:r[o].yAxisId;return c===s.id||i&&c===void 0}).reduce((o,c)=>{const{stackedData:d}=r[c],u=a?.({currentAxisId:s.id,isDefaultAxis:i,seriesXAxisId:r[c].xAxisId,seriesYAxisId:r[c].yAxisId}),[l,f]=d?.reduce((m,p,x)=>u&&(!u(nY(p[0],e),x)||!u(nY(p[1],e),x))?m:[Math.min(...p,m[0]),Math.max(...p,m[1])],[1/0,-1/0])??[1/0,-1/0];return[Math.min(l,o[0]),Math.max(f,o[1])]},[1/0,-1/0])},$mt=e=>Object.keys(e.series).some(r=>e.series[r].layout==="horizontal")?kce("x")(e):Ece(e),Lmt=e=>Object.keys(e.series).some(r=>e.series[r].layout==="horizontal")?Ece(e):kce("y")(e),WR={appearance:cse,ascending:dse,descending:oVe,insideOut:lVe,none:Mm,reverse:cVe},qR={expand:ise,diverging:aVe,none:Rm,silhouette:ose,wiggle:lse},Ace=e=>{const{series:t,seriesOrder:r,defaultStrategy:s}=e,a=[],i={};return r.forEach(o=>{const{stack:c,stackOrder:d,stackOffset:u}=t[o];c===void 0?a.push({ids:[o],stackingOrder:WR.none,stackingOffset:qR.none}):i[c]===void 0?(i[c]=a.length,a.push({ids:[o],stackingOrder:WR[d??s?.stackOrder??"none"],stackingOffset:qR[u??s?.stackOffset??"diverging"]})):(a[i[c]].ids.push(o),d!==void 0&&(a[i[c]].stackingOrder=WR[d]),u!==void 0&&(a[i[c]].stackingOffset=qR[u]))}),a},Bmt=e=>e==null?"":e.toLocaleString(),zmt=(e,t)=>{const{seriesOrder:r,series:s}=e,a=Ace(e),i=t??[];r.forEach(c=>{const d=s[c].data;if(d!==void 0)d.forEach((u,l)=>{i.length<=l?i.push({[c]:u}):i[l][c]=u});else if(t===void 0)throw new Error([`MUI X Charts: bar series with id='${c}' has no data.`,"Either provide a data property to the series or use the dataset prop."].join(`
`))});const o={};return a.forEach(c=>{const{ids:d,stackingOffset:u,stackingOrder:l}=c,f=t5().keys(d.map(m=>{const p=s[m].dataKey;return s[m].data===void 0&&p!==void 0?p:m})).value((m,p)=>m[p]??0).order(l).offset(u)(i);d.forEach((m,p)=>{const x=s[m].dataKey;o[m]=pe({layout:"vertical",labelMarkType:"square",minBarSize:0,valueFormatter:s[m].valueFormatter??Bmt},s[m],{data:x?t.map(b=>{const h=b[x];return typeof h!="number"?null:h}):s[m].data,stackedData:f[p].map(([b,h])=>[b,h])})})}),{seriesOrder:r,stackingGroups:a,series:o}};function Xo(e,t){return typeof e=="function"?e(t):e}const Umt=e=>{const{seriesOrder:t,series:r}=e;return t.reduce((s,a)=>{const i=Xo(r[a].label,"legend");return i===void 0||s.push({markType:r[a].labelMarkType,id:a,seriesId:a,color:r[a].color,label:i}),s},[])};function OF(e){return e.colorGetter?e.colorGetter:()=>e.color}const Tce=(e,t,r)=>{const s=e.layout==="vertical",a=s?t?.colorScale:r?.colorScale,i=s?r?.colorScale:t?.colorScale,o=s?t?.data:r?.data,c=OF(e);return i?d=>{if(d===void 0)return e.color;const u=e.data[d],l=u===null?c({value:u,dataIndex:d}):i(u);return l===null?c({value:u,dataIndex:d}):l}:a&&o?d=>{if(d===void 0)return e.color;const u=o[d],l=u===null?c({value:u,dataIndex:d}):a(u);return l===null?c({value:u,dataIndex:d}):l}:d=>{if(d===void 0)return e.color;const u=e.data[d];return c({value:u,dataIndex:d})}},Hmt=e=>{const{series:t,getColor:r,identifier:s}=e;if(!s||s.dataIndex===void 0)return null;const a=Xo(t.label,"tooltip"),i=t.data[s.dataIndex];if(i==null)return null;const o=t.valueFormatter(i,{dataIndex:s.dataIndex});return{identifier:s,color:r(s.dataIndex),label:a,value:i,formattedValue:o,markType:t.labelMarkType}},Vmt=e=>Object.values(e).map(t=>t.layout==="horizontal"?{direction:"y",axisId:t.yAxisId}:{direction:"x",axisId:t.xAxisId});function ds(){const e=xd();if(!e)throw new Error(["MUI X Charts: Could not find the charts context.","It looks like you rendered your component outside of a ChartContainer parent component."].join(`
`));return e.store}function Ro(){const e=ds();return Tt(e,si)}function IF(){const e=ds();return Tt(e,nft)}function FF(e){return Wle.getTypes().has(e)}const Wmt=(e,t,r,s,a,i,o)=>{const c=s==="rotation"?a[t].rotationExtremumGetter:a[t].radiusExtremumGetter,d=o[t]?.series??{},[u,l]=c?.({series:d,axis:r,axisIndex:i,isDefaultAxis:i===0})??[1/0,-1/0],[f,m]=e;return[Math.min(u,f),Math.max(l,m)]},qmt=(e,t,r,s,a)=>{const o=Object.keys(r).filter(FF).reduce((c,d)=>Wmt(c,d,e,t,r,s,a),[1/0,-1/0]);return Number.isNaN(o[0])||Number.isNaN(o[1])?[1/0,-1/0]:o},du=(e,t)=>e===void 0?t:Math.PI*e/180,Gmt=(e,t,r,s)=>{const a=new Set;return Object.keys(t).filter(FF).forEach(o=>{const c=r[o]?.series??{},d=t[o].axisTooltipGetter?.(c);d!==void 0&&d.forEach(({axisId:u,direction:l})=>{l===e&&a.add(u??s)})}),a};function Ymt(e,t,r){if(t==="rotation"){if(r.scaleType==="point"){const s=[du(r.startAngle,0),du(r.endAngle,2*Math.PI)],a=s[1]-s[0];return a>Math.PI*2-.1&&(s[1]-=a/r.data.length),s}return[du(r.startAngle,0),du(r.endAngle,2*Math.PI)]}return[0,Math.min(e.height,e.width)/2]}const Kmt=.2,Zmt=.1;function Dce({drawingArea:e,formattedSeries:t,axis:r,seriesConfig:s,axisDirection:a}){if(r===void 0)return{axis:{},axisIds:[]};const i=Gmt(a,s,t,r[0].id),o={};return r.forEach((c,d)=>{const u=c,l=Ymt(e,a,u),[f,m]=qmt(u,a,s,d,t),p=!u.ignoreTooltip&&i.has(u.id),x=u.data??[];if(ed(u)){const D=u.categoryGapRatio??Kmt,P=u.barGapRatio??Zmt;if(o[u.id]=pe({offset:0,categoryGapRatio:D,barGapRatio:P,triggerTooltip:p},u,{data:x,scale:W2(u.data,l).paddingInner(D).paddingOuter(D/2),tickNumber:u.data.length,colorScale:u.colorMap&&(u.colorMap.type==="ordinal"?Rg(pe({values:u.data},u.colorMap)):ag(u.colorMap))}),jO(u.data)){const M=SO(u.data,l,u.tickNumber);o[u.id].valueFormatter=u.valueFormatter??M}}if(Qu(u)&&(o[u.id]=pe({offset:0,triggerTooltip:p},u,{data:x,scale:Hle(u.data,l),tickNumber:u.data.length,colorScale:u.colorMap&&(u.colorMap.type==="ordinal"?Rg(pe({values:u.data},u.colorMap)):ag(u.colorMap))}),jO(u.data))){const D=SO(u.data,l,u.tickNumber);o[u.id].valueFormatter=u.valueFormatter??D}if(!Eft(u))return;const b=u.scaleType??"linear",h=u.domainLimit??"nice",y=[u.min??f,u.max??m];if(typeof h=="function"){const{min:D,max:P}=h(f,m);y[0]=D,y[1]=P}const w=zle(u,y,_F(Math.abs(l[1]-l[0]))),S=Ule(w,l),N=q2(b,y,l),_=h==="nice"?N.nice(w):N,[k,E]=_.domain(),T=[u.min??k,u.max??E];o[u.id]=pe({offset:0,triggerTooltip:p},u,{data:x,scaleType:b,scale:_.domain(T),tickNumber:S,colorScale:u.colorMap&&ag(u.colorMap)})}),{axis:o,axisIds:r.map(({id:c})=>c)}}const Pce=e=>e.polarAxis,Rce=tt([Pce],e=>e?.rotation),Xmt=tt([Pce],e=>e?.radius),lh=tt([Rce,si,Qn,Po],(e,t,r,s)=>Dce({drawingArea:t,formattedSeries:r,axis:e,seriesConfig:s,axisDirection:"rotation"}));tt([Xmt,si,Qn,Po],(e,t,r,s)=>Dce({drawingArea:t,formattedSeries:r,axis:e,seriesConfig:s,axisDirection:"radius"}));const Jmt=tt([si],e=>({cx:e.left+e.width/2,cy:e.top+e.height/2})),Qmt=e=>(t,r)=>Math.atan2(t-e.cx,e.cy-r);function Q2(e){return(e%360+360)%360}const GR=2*Math.PI;function eht(e){return(e%GR+GR)%GR}function aY(e,t){const{scale:r,data:s,reverse:a}=e;if(!ba(r))throw new Error("MUI X Charts: getAxisValue is not implemented for polare continuous axes.");if(!s)return-1;const i=eht(t-Math.min(...r.range())),o=r.bandwidth()===0?Math.floor((i+r.step()/2)/r.step())%s.length:Math.floor(i/r.step());return o<0||o>=s.length?-1:a?s.length-1-o:o}function hd(){const e=ds(),{axis:t,axisIds:r}=Tt(e,Ra);return{xAxis:t,xAxisIds:r}}function pd(){const e=ds(),{axis:t,axisIds:r}=Tt(e,Ma);return{yAxis:t,yAxisIds:r}}function tht(e){const t=ds(),{axis:r,axisIds:s}=Tt(t,Ra),a=s[0];return r[a]}function rht(e){const t=ds(),{axis:r,axisIds:s}=Tt(t,Ma),a=s[0];return r[a]}function Mce(){const e=ds(),{axis:t,axisIds:r}=Tt(e,lh);return{rotationAxis:t,rotationAxisIds:r}}function sht(e){const t=ds(),{axis:r,axisIds:s}=Tt(t,lh),a=s[0];return r[a]}function Oce(e){if(ba(e))return r=>(e(r)??0)+e.bandwidth()/2;const t=e.domain();return t[0]===t[1]?r=>r===t[0]?e(r):NaN:r=>e(r)}function $F(){const e=ds(),{axis:t,axisIds:r}=Tt(e,Fmt)??{axis:{},axisIds:[]};return{zAxis:t,zAxisIds:r}}function LF(){const e=xd();if(!e)throw new Error(["MUI X Charts: Could not find the svg ref context.","It looks like you rendered your component outside of a ChartContainer parent component."].join(`
`));return e.svgRef}function ek(){const e=ds();return Tt(e,Qn)}function nht(e){const t=tt([Qn],(r,s)=>{if(!s||Array.isArray(s)&&s.length===0)return r[e]?.seriesOrder?.map(i=>r[e]?.series[i])??[];if(!Array.isArray(s))return r[e]?.series?.[s];const a=[];for(const i of s){const o=r[e]?.series?.[i];o&&a.push(o)}return a});return r=>{const s=ds();return Tt(s,t,r)}}function aht(e){const t=tt([Qn],r=>r[e]);return()=>{const r=ds();return Tt(r,t)}}nht("bar");const iht=aht("bar");function oht(){return iht()}function lht(){return!1}function Ice(e,t){return!e||!t?lht:function(s){return s?e.highlight==="series"?s.seriesId===t.seriesId:e.highlight==="item"?s.dataIndex===t.dataIndex&&s.seriesId===t.seriesId:!1:!1}}function cht(){return!1}function Fce(e,t){return!e||!t?cht:function(s){return s?e.fade==="series"?s.seriesId===t.seriesId&&s.dataIndex!==t.dataIndex:e.fade==="global"?s.seriesId!==t.seriesId||s.dataIndex!==t.dataIndex:!1:!1}}function BF(e,t,r){return e?.highlight==="series"&&t?.seriesId===r}function dht(e,t,r){return BF(e,t,r)?!1:e?.fade==="global"&&t!=null||e?.fade==="series"&&t?.seriesId===r}function $ce(e,t,r){return e?.highlight==="item"&&t?.seriesId===r?t.dataIndex:null}function uht(e,t,r){return BF(e,t,r)||$ce(e,t,r)===t?.dataIndex?null:(e?.fade==="series"||e?.fade==="global")&&t?.seriesId===r?t.dataIndex:null}const fht=e=>e.highlight,mht=e=>e.series,hht=tt([mht],e=>{const t=new Map;return Object.keys(e.processedSeries).forEach(r=>{const s=e.processedSeries[r];s?.seriesOrder?.forEach(a=>{const i=s?.series[a];t.set(a,i?.highlightScope)})}),t}),gd=$n(fht,hce,function(t,r){return t.lastUpdate==="pointer"?t.item:r}),tf=tt([hht,gd],function(t,r){if(!r)return null;const s=t.get(r.seriesId);return s===void 0?null:s});tt([tf,gd],Ice);tt([tf,gd],Fce);const pht=tt([tf,gd],function(t,r,s){return Ice(t,r)(s)});tt([tf,gd],BF);tt([tf,gd],dht);tt([tf,gd],uht);tt([tf,gd],$ce);const ght=tt([tf,gd],function(t,r,s){return Fce(t,r)(s)});function Lce(e){const t=ds(),r=Tt(t,pht,e),s=Tt(t,ght,e);return{isHighlighted:r,isFaded:!r&&s}}function xht(e,t){return Object.keys(e).flatMap(r=>{const s=t[r].legendGetter;return s===void 0?[]:s(e[r])})}function vht(){const e=ek(),t=ds(),r=Tt(t,Po);return{items:xht(e,r)}}function yht(){const e=IF();return v.useCallback(t=>`${e}-gradient-${t}`,[e])}function bht(){const e=IF();return v.useCallback(t=>`${e}-gradient-${t}-object-bound`,[e])}var YR,iY;function wht(){if(iY)return YR;iY=1;var e=4,t=.001,r=1e-7,s=10,a=11,i=1/(a-1),o=typeof Float32Array=="function";function c(b,h){return 1-3*h+3*b}function d(b,h){return 3*h-6*b}function u(b){return 3*b}function l(b,h,y){return((c(h,y)*b+d(h,y))*b+u(h))*b}function f(b,h,y){return 3*c(h,y)*b*b+2*d(h,y)*b+u(h)}function m(b,h,y,w,S){var N,_,k=0;do _=h+(y-h)/2,N=l(_,w,S)-b,N>0?y=_:h=_;while(Math.abs(N)>r&&++k<s);return _}function p(b,h,y,w){for(var S=0;S<e;++S){var N=f(h,y,w);if(N===0)return h;var _=l(h,y,w)-b;h-=_/N}return h}function x(b){return b}return YR=function(h,y,w,S){if(!(0<=h&&h<=1&&0<=w&&w<=1))throw new Error("bezier x values must be in [0, 1] range");if(h===y&&w===S)return x;for(var N=o?new Float32Array(a):new Array(a),_=0;_<a;++_)N[_]=l(_*i,h,w);function k(E){for(var T=0,D=1,P=a-1;D!==P&&N[D]<=E;++D)T+=i;--D;var M=(E-N[D])/(N[D+1]-N[D]),R=T+M*i,B=f(R,h,w);return B>=t?p(E,R,h,w):B===0?R:m(E,T,T+i,h,w)}return function(T){return T===0?0:T===1?1:l(k(T),y,S)}},YR}var jht=wht();const Sht=Vi(jht),Nht=300,Cht=Sht(.66,0,.34,1);var Og=0,R0=0,j0=0,Bce=1e3,v_,M0,y_=0,Lm=0,tk=0,Ky=typeof performance=="object"&&performance.now?performance:Date,zce=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function zF(){return Lm||(zce(_ht),Lm=Ky.now()+tk)}function _ht(){Lm=0}function b_(){this._call=this._time=this._next=null}b_.prototype=Uce.prototype={constructor:b_,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?zF():+r)+(t==null?0:+t),!this._next&&M0!==this&&(M0?M0._next=this:v_=this,M0=this),this._call=e,this._time=r,_O()},stop:function(){this._call&&(this._call=null,this._time=1/0,_O())}};function Uce(e,t,r){var s=new b_;return s.restart(e,t,r),s}function Eht(){zF(),++Og;for(var e=v_,t;e;)(t=Lm-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Og}function oY(){Lm=(y_=Ky.now())+tk,Og=R0=0;try{Eht()}finally{Og=0,Aht(),Lm=0}}function kht(){var e=Ky.now(),t=e-y_;t>Bce&&(tk-=t,y_=e)}function Aht(){for(var e,t=v_,r,s=1/0;t;)t._call?(s>t._time&&(s=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:v_=r);M0=e,_O(s)}function _O(e){if(!Og){R0&&(R0=clearTimeout(R0));var t=e-Lm;t>24?(e<1/0&&(R0=setTimeout(oY,e-Ky.now()-tk)),j0&&(j0=clearInterval(j0))):(j0||(y_=Ky.now(),j0=setInterval(kht,Bce)),Og=1,zce(oY))}}function Tht(e,t,r){var s=new b_;return t=t==null?0:+t,s.restart(a=>{s.stop(),e(a+t)},t,r),s}class Dht{elapsed=0;timer=null;constructor(t,r,s){this.duration=t,this.easingFn=r,this.onTickCallback=s,this.resume()}get running(){return this.timer!==null}timerCallback(t){this.elapsed=Math.min(t,this.duration);const r=this.duration===0?1:this.elapsed/this.duration,s=this.easingFn(r);this.onTickCallback(s),this.elapsed>=this.duration&&this.stop()}resume(){if(this.running||this.elapsed>=this.duration)return this;const t=zF()-this.elapsed;return this.timer=Uce(r=>this.timerCallback(r),0,t),this}stop(){return this.running?(this.timer&&(this.timer.stop(),this.timer=null),this):this}finish(){return this.stop(),Tht(()=>this.timerCallback(this.duration)),this}}function Pht(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(let a=0;a<r.length;a+=1){const i=r[a];if(!Object.prototype.hasOwnProperty.call(t,i)||!Object.is(e[i],t[i]))return!1}return!0}function Rht(e,{createInterpolator:t,applyProps:r,skip:s,initialProps:a=e}){const i=v.useRef(a),o=v.useRef(null),c=v.useRef(null),d=v.useRef(e);Pn(()=>{d.current=e},[e]),Pn(()=>{s&&(o.current?.finish(),o.current=null,c.current=null,i.current=e)},[e,s]);const u=v.useCallback(f=>{const m=i.current,p=t(m,e);o.current=new Dht(Nht,Cht,x=>{const b=p(x);i.current=b,r(f,b)})},[r,t,e]);return[v.useCallback(f=>{if(f===null){o.current?.stop();return}const m=c.current;if(m===f){if(Pht(d.current,e)){o.current?.resume();return}o.current?.stop()}m&&o.current?.stop(),c.current=f,(o.current||!s)&&u(f)},[u,e,s]),i.current]}function UF(e,{createInterpolator:t,transformProps:r,applyProps:s,skip:a,initialProps:i=e,ref:o}){const c=r??(f=>f),[d,u]=Rht(e,{initialProps:i,createInterpolator:t,applyProps:(f,m)=>s(f,c(m)),skip:a}),l=r(a?e:u);return pe({},l,{ref:Du(d,o)})}function Mht(e,t){const r=kn(e.x,t.x),s=kn(e.y,t.y),a=kn(e.width,t.width),i=kn(e.height,t.height);return o=>({x:r(o),y:s(o),width:a(o),height:i(o)})}function Oht(e){const t={x:e.layout==="vertical"?e.x:e.xOrigin,y:e.layout==="vertical"?e.yOrigin:e.y,width:e.layout==="vertical"?e.width:0,height:e.layout==="vertical"?0:e.height};return UF({x:e.x,y:e.y,width:e.width,height:e.height},{createInterpolator:Mht,applyProps(r,s){r.setAttribute("x",s.x.toString()),r.setAttribute("y",s.y.toString()),r.setAttribute("width",s.width.toString()),r.setAttribute("height",s.height.toString())},transformProps:r=>r,initialProps:t,skip:e.skipAnimation,ref:e.ref})}function Iht(e,t){const r=kn(e.x,t.x),s=kn(e.y,t.y),a=kn(e.width,t.width),i=kn(e.height,t.height);return o=>({x:r(o),y:s(o),width:a(o),height:i(o)})}function Fht(e){const{initialX:t,currentX:r,initialY:s,currentY:a}=e.placement==="outside"?Lht(e):$ht(e),i={x:t,y:s,width:e.width,height:e.height},o={x:r,y:a,width:e.width,height:e.height};return UF(o,{createInterpolator:Iht,transformProps:c=>c,applyProps(c,d){c.setAttribute("x",d.x.toString()),c.setAttribute("y",d.y.toString()),c.setAttribute("width",d.width.toString()),c.setAttribute("height",d.height.toString())},initialProps:i,skip:e.skipAnimation,ref:e.ref})}const jp=4;function $ht(e){return{initialX:e.layout==="vertical"?e.x+e.width/2:e.xOrigin,initialY:e.layout==="vertical"?e.yOrigin:e.y+e.height/2,currentX:e.x+e.width/2,currentY:e.y+e.height/2}}function Lht(e){let t=0,r=0,s=0,a=0;return e.layout==="vertical"?(e.y<e.yOrigin?(t=e.yOrigin-jp,r=e.y-jp):(t=e.yOrigin+jp,r=e.y+e.height+jp),{initialX:e.x+e.width/2,currentX:e.x+e.width/2,initialY:t,currentY:r}):(e.x<e.xOrigin?(s=e.xOrigin,a=e.x-jp):(s=e.xOrigin,a=e.x+e.width+jp),{initialX:s,currentX:a,initialY:e.y+e.height/2,currentY:e.y+e.height/2})}function Bht(){return xd().chartRootRef}const zht={"image/png":"PNG","image/jpeg":"JPEG","image/webp":"WebP"},Uht=e=>({components:{MuiChartsLocalizationProvider:{defaultProps:{localeText:pe({},e)}}}}),Hce={loading:"Loading data",noData:"No data to display",zoomIn:"Zoom in",zoomOut:"Zoom out",toolbarExport:"Export",toolbarExportPrint:"Print",toolbarExportImage:e=>`Export as ${zht[e]??e}`,chartTypeBar:"Bar",chartTypeColumn:"Column",chartTypeLine:"Line",chartTypeArea:"Area",chartTypePie:"Pie",chartPaletteLabel:"Color palette",chartPaletteNameRainbowSurge:"Rainbow Surge",chartPaletteNameBlueberryTwilight:"Blueberry Twilight",chartPaletteNameMangoFusion:"Mango Fusion",chartPaletteNameCheerfulFiesta:"Cheerful Fiesta",chartPaletteNameStrawberrySky:"Strawberry Sky",chartPaletteNameBlue:"Blue",chartPaletteNameGreen:"Green",chartPaletteNamePurple:"Purple",chartPaletteNameRed:"Red",chartPaletteNameOrange:"Orange",chartPaletteNameYellow:"Yellow",chartPaletteNameCyan:"Cyan",chartPaletteNamePink:"Pink",chartConfigurationSectionChart:"Chart",chartConfigurationSectionColumns:"Columns",chartConfigurationSectionBars:"Bars",chartConfigurationSectionAxes:"Axes",chartConfigurationGrid:"Grid",chartConfigurationBorderRadius:"Border radius",chartConfigurationCategoryGapRatio:"Category gap ratio",chartConfigurationBarGapRatio:"Series gap ratio",chartConfigurationStacked:"Stacked",chartConfigurationShowToolbar:"Show toolbar",chartConfigurationSkipAnimation:"Skip animation",chartConfigurationInnerRadius:"Inner radius",chartConfigurationOuterRadius:"Outer radius",chartConfigurationColors:"Colors",chartConfigurationHideLegend:"Hide legend",chartConfigurationShowMark:"Show mark",chartConfigurationHeight:"Height",chartConfigurationWidth:"Width",chartConfigurationSeriesGap:"Series gap",chartConfigurationTickPlacement:"Tick placement",chartConfigurationTickLabelPlacement:"Tick label placement",chartConfigurationCategoriesAxisLabel:"Categories axis label",chartConfigurationSeriesAxisLabel:"Series axis label",chartConfigurationXAxisPosition:"X-axis position",chartConfigurationYAxisPosition:"Y-axis position",chartConfigurationSeriesAxisReverse:"Reverse series axis",chartConfigurationTooltipPlacement:"Placement",chartConfigurationTooltipTrigger:"Trigger",chartConfigurationLegendPosition:"Position",chartConfigurationLegendDirection:"Direction",chartConfigurationBarLabels:"Bar labels",chartConfigurationColumnLabels:"Column labels",chartConfigurationInterpolation:"Interpolation",chartConfigurationSectionTooltip:"Tooltip",chartConfigurationSectionLegend:"Legend",chartConfigurationSectionLines:"Lines",chartConfigurationSectionAreas:"Areas",chartConfigurationSectionArcs:"Arcs",chartConfigurationPaddingAngle:"Padding angle",chartConfigurationCornerRadius:"Corner radius",chartConfigurationArcLabels:"Arc labels",chartConfigurationStartAngle:"Start angle",chartConfigurationEndAngle:"End angle",chartConfigurationPieTooltipTrigger:"Trigger",chartConfigurationPieLegendPosition:"Position",chartConfigurationPieLegendDirection:"Direction",chartConfigurationOptionNone:"None",chartConfigurationOptionValue:"Value",chartConfigurationOptionAuto:"Auto",chartConfigurationOptionTop:"Top",chartConfigurationOptionTopLeft:"Top Left",chartConfigurationOptionTopRight:"Top Right",chartConfigurationOptionBottom:"Bottom",chartConfigurationOptionBottomLeft:"Bottom Left",chartConfigurationOptionBottomRight:"Bottom Right",chartConfigurationOptionLeft:"Left",chartConfigurationOptionRight:"Right",chartConfigurationOptionAxis:"Axis",chartConfigurationOptionItem:"Item",chartConfigurationOptionHorizontal:"Horizontal",chartConfigurationOptionVertical:"Vertical",chartConfigurationOptionBoth:"Both",chartConfigurationOptionStart:"Start",chartConfigurationOptionMiddle:"Middle",chartConfigurationOptionEnd:"End",chartConfigurationOptionExtremities:"Extremities",chartConfigurationOptionTick:"Tick",chartConfigurationOptionMonotoneX:"Monotone X",chartConfigurationOptionMonotoneY:"Monotone Y",chartConfigurationOptionCatmullRom:"Catmull-Rom",chartConfigurationOptionLinear:"Linear",chartConfigurationOptionNatural:"Natural",chartConfigurationOptionStep:"Step",chartConfigurationOptionStepBefore:"Step Before",chartConfigurationOptionStepAfter:"Step After",chartConfigurationOptionBumpX:"Bump X",chartConfigurationOptionBumpY:"Bump Y"},Hht=Hce;Uht(Hce);const Vht=["localeText"],EO=v.createContext(null);function Wht(e){const{localeText:t}=e,r=Cr(e,Vht),{localeText:s}=v.useContext(EO)??{localeText:void 0},a=Wi({props:r,name:"MuiChartsLocalizationProvider"}),{children:i,localeText:o}=a,c=v.useMemo(()=>pe({},Hht,o,s,t),[o,s,t]),d=v.useMemo(()=>({localeText:c}),[c]);return n.jsx(EO.Provider,{value:d,children:i})}const Vce=()=>{const e=v.useContext(EO);if(e===null)throw new Error(["MUI X Charts: Can not find the charts localization context.","It looks like you forgot to wrap your component in ChartsLocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-charts` package"].join(`
`));return e},KR=(e,t)=>{const r=`${e}-axis`,s=`${e}Axis`;return t===(e==="x"?hF:pF)?`The first \`${s}\``:`The ${r} with id "${t}"`};function qht(e,t,r,s,a,i,o){const c=a[s],d=o[i],u=e?c:d,l=e?d:c,f=e?s:i,m=e?i:s,p=e?"x":"y",x=e?"y":"x";if(!ed(u))throw new Error(`MUI X Charts: ${KR(p,f)} should be of type "band" to display the bar series of id "${t}".`);if(u.data===void 0)throw new Error(`MUI X Charts: ${KR(p,f)} should have data property.`);if(ed(l)||Qu(l))throw new Error(`MUI X Charts: ${KR(x,m)} should be a continuous type to display the bar series of id "${t}".`)}function Ght(e,t,r){const s=oht()??{series:{},stackingGroups:[]},a=hd().xAxisIds[0],i=pd().yAxisIds[0],o=IF(),{series:c,stackingGroups:d}=s,u={};return{completedData:d.flatMap(({ids:f},m)=>{const p=e.left,x=e.left+e.width,b=e.top,h=e.top+e.height;return f.map(y=>{const w=c[y].xAxisId??a,S=c[y].yAxisId??i,N=t[w],_=r[S],k=c[y].layout==="vertical",E=(k?_.reverse:N.reverse)??!1;qht(k,y,c[y],w,t,S,r);const T=k?N:_,D=N.scale,P=_.scale,M=Tce(c[y],t[w],r[S]),R=[];for(let B=0;B<T.data.length;B+=1){const L=Wce({verticalLayout:k,xAxisConfig:N,yAxisConfig:_,series:c[y],dataIndex:B,numberOfGroups:d.length,groupIndex:m});if(L==null)continue;const $=c[y].stack,I=pe({seriesId:y,dataIndex:B,layout:c[y].layout,xOrigin:Math.round(D(0)??0),yOrigin:Math.round(P(0)??0)},L,{color:M(B),value:c[y].data[B],maskId:`${o}_${$||y}_${m}_${B}`});if(I.x>x||I.x+I.width<p||I.y>h||I.y+I.height<b)continue;u[I.maskId]||(u[I.maskId]={id:I.maskId,width:0,height:0,hasNegative:!1,hasPositive:!1,layout:I.layout,xOrigin:D(0),yOrigin:P(0),x:0,y:0});const z=u[I.maskId];z.width=I.layout==="vertical"?I.width:z.width+I.width,z.height=I.layout==="vertical"?z.height+I.height:I.height,z.x=Math.min(z.x===0?1/0:z.x,I.x),z.y=Math.min(z.y===0?1/0:z.y,I.y);const H=I.value??0;z.hasNegative=z.hasNegative||(E?H>0:H<0),z.hasPositive=z.hasPositive||(E?H<0:H>0),R.push(I)}return{seriesId:y,barLabel:c[y].barLabel,barLabelPlacement:c[y].barLabelPlacement,data:R}})}),masksData:Object.values(u)}}function Yht({bandWidth:e,numberOfGroups:t,gapRatio:r}){if(r===0)return{barWidth:e/t,offset:0};const s=e/(t+(t-1)*r),a=r*s;return{barWidth:s,offset:a}}function Kht(e,t,r){const s=e&&t>0,a=!e&&t<0,i=s||a;return r?!i:i}function Wce(e){const{verticalLayout:t,xAxisConfig:r,yAxisConfig:s,series:a,dataIndex:i,numberOfGroups:o,groupIndex:c}=e,d=t?r:s,u=(t?s.reverse:r.reverse)??!1,{barWidth:l,offset:f}=Yht({bandWidth:d.scale.bandwidth(),numberOfGroups:o,gapRatio:d.barGapRatio}),m=c*(l+f),p=r.scale,x=s.scale,b=d.data[i],h=a.data[i];if(h==null)return null;const w=a.stackedData[i].map(E=>t?x(E):p(E)),S=Math.round(Math.min(...w)),N=Math.round(Math.max(...w)),_=h===0?0:Math.max(a.minBarSize,N-S),k=Kht(t,h,u)?N-_:S;return{x:t?p(b)+m:k,y:t?k:x(b)+m,height:t?_:l,width:t?l:_}}const Zht=e=>{const{series:t,identifier:r,axesConfig:s,placement:a}=e;if(!r||r.dataIndex===void 0)return null;const i=t.bar?.series[r.seriesId];if(t.bar==null||i==null||s.x===void 0||s.y===void 0)return null;const o=Wce({verticalLayout:i.layout==="vertical",xAxisConfig:s.x,yAxisConfig:s.y,series:i,dataIndex:r.dataIndex,numberOfGroups:t.bar.stackingGroups.length,groupIndex:t.bar.stackingGroups.findIndex(f=>f.ids.includes(i.id))});if(o==null)return null;const{x:c,y:d,width:u,height:l}=o;switch(a){case"right":return{x:c+u,y:d+l/2};case"bottom":return{x:c+u/2,y:d+l};case"left":return{x:c,y:d+l/2};case"top":default:return{x:c+u/2,y:d}}},Xht=(e,t,r)=>pe({},e,{id:e.id??`auto-generated-id-${t}`,color:e.color??r[t%r.length]}),Jht={seriesProcessor:zmt,colorProcessor:Tce,legendGetter:Umt,tooltipGetter:Hmt,tooltipItemPositionGetter:Zht,axisTooltipGetter:Vmt,xExtremumGetter:$mt,yExtremumGetter:Lmt,getSeriesWithDefaultValues:Xht},Qht=e=>{const{series:t,axis:r,isDefaultAxis:s,getFilters:a}=e;let i=1/0,o=-1/0;for(const c in t){if(!Object.hasOwn(t,c))continue;const d=t[c].xAxisId;if(!(d===r.id||d===void 0&&s))continue;const u=a?.({currentAxisId:r.id,isDefaultAxis:s,seriesXAxisId:t[c].xAxisId,seriesYAxisId:t[c].yAxisId}),l=t[c].data??[];for(let f=0;f<l.length;f+=1){const m=l[f];u&&!u(m,f)||m.x!==null&&(m.x<i&&(i=m.x),m.x>o&&(o=m.x))}}return[i,o]},ept=e=>{const{series:t,axis:r,isDefaultAxis:s,getFilters:a}=e;let i=1/0,o=-1/0;for(const c in t){if(!Object.hasOwn(t,c))continue;const d=t[c].yAxisId;if(!(d===r.id||d===void 0&&s))continue;const u=a?.({currentAxisId:r.id,isDefaultAxis:s,seriesXAxisId:t[c].xAxisId,seriesYAxisId:t[c].yAxisId}),l=t[c].data??[];for(let f=0;f<l.length;f+=1){const m=l[f];u&&!u(m,f)||m.y!==null&&(m.y<i&&(i=m.y),m.y>o&&(o=m.y))}}return[i,o]},tpt=({series:e,seriesOrder:t},r)=>({series:Object.fromEntries(Object.entries(e).map(([a,i])=>{const o=i?.datasetKeys,c=["x","y"].filter(u=>typeof o?.[u]!="string");if(i?.datasetKeys&&c.length>0)throw new Error([`MUI X Charts: scatter series with id='${a}' has incomplete datasetKeys.`,`Properties ${c.map(u=>`"${u}"`).join(", ")} are missing.`].join(`
`));const d=o?r?.map(u=>({x:u[o.x]??null,y:u[o.y]??null,z:o.z&&u[o.z],id:o.id&&u[o.id]}))??[]:i.data??[];return[a,pe({labelMarkType:"circle",markerSize:4},i,{preview:pe({markerSize:1},i?.preview),data:d,valueFormatter:i.valueFormatter??(u=>u&&`(${u.x}, ${u.y})`)})]})),seriesOrder:t}),rpt=(e,t,r,s)=>{const a=s?.colorScale,i=r?.colorScale,o=t?.colorScale,c=OF(e);return a?d=>{if(d===void 0)return e.color;if(s?.data?.[d]!==void 0){const f=a(s?.data?.[d]);if(f!==null)return f}const u=e.data[d],l=u===null?c({value:u,dataIndex:d}):a(u.z);return l===null?c({value:u,dataIndex:d}):l}:i?d=>{if(d===void 0)return e.color;const u=e.data[d],l=u===null?c({value:u,dataIndex:d}):i(u.y);return l===null?c({value:u,dataIndex:d}):l}:o?d=>{if(d===void 0)return e.color;const u=e.data[d],l=u===null?c({value:u,dataIndex:d}):o(u.x);return l===null?c({value:u,dataIndex:d}):l}:d=>{if(d===void 0)return e.color;const u=e.data[d];return c({value:u,dataIndex:d})}},spt=e=>{const{seriesOrder:t,series:r}=e;return t.reduce((s,a)=>{const i=Xo(r[a].label,"legend");return i===void 0||s.push({markType:r[a].labelMarkType,id:a,seriesId:a,color:r[a].color,label:i}),s},[])},npt=e=>{const{series:t,getColor:r,identifier:s}=e;if(!s||s.dataIndex===void 0)return null;const a=Xo(t.label,"tooltip"),i=t.data[s.dataIndex],o=t.valueFormatter(i,{dataIndex:s.dataIndex});return{identifier:s,color:r(s.dataIndex),label:a,value:i,formattedValue:o,markType:t.labelMarkType}},apt=(e,t,r)=>pe({},e,{id:e.id??`auto-generated-id-${t}`,color:e.color??r[t%r.length]}),ipt=e=>{const{series:t,identifier:r,axesConfig:s}=e;if(!r||r.dataIndex===void 0)return null;const a=t.scatter?.series[r.seriesId];if(a==null||s.x===void 0||s.y===void 0)return null;const i=a.data?.[r.dataIndex].x,o=a.data?.[r.dataIndex].y;return i==null||o==null?null:{x:s.x.scale(i),y:s.y.scale(o)}},opt={seriesProcessor:tpt,colorProcessor:rpt,legendGetter:spt,tooltipGetter:npt,tooltipItemPositionGetter:ipt,xExtremumGetter:Qht,yExtremumGetter:ept,getSeriesWithDefaultValues:apt},lpt=e=>{const{axis:t}=e;return x_(t.data??[])};function cpt(e,t,r,s){return r.reduce((a,i,o)=>{if(t[o]===null)return a;const[c,d]=e(i);return s&&(!s({y:c,x:null},o)||!s({y:d,x:null},o))?a:[Math.min(c,d,a[0]),Math.max(c,d,a[1])]},[1/0,-1/0])}const dpt=e=>{const{series:t,axis:r,isDefaultAxis:s,getFilters:a}=e;return Object.keys(t).filter(i=>{const o=t[i].yAxisId;return o===r.id||s&&o===void 0}).reduce((i,o)=>{const{area:c,stackedData:d,data:u}=t[o],l=c!==void 0,f=a?.({currentAxisId:r.id,isDefaultAxis:s,seriesXAxisId:t[o].xAxisId,seriesYAxisId:t[o].yAxisId}),m=l&&r.scaleType!=="log"&&typeof t[o].baseline!="string"?h=>h:h=>[h[1],h[1]],p=cpt(m,u,d,f),[x,b]=p;return[Math.min(x,i[0]),Math.max(b,i[1])]},[1/0,-1/0])};function upt(e,t){const r={};return Object.keys(e).forEach(s=>{r[s]=pe({},e[s],{valueFormatter:e[s].valueFormatter??t})}),r}const fpt=(e,t)=>{const{seriesOrder:r,series:s}=e,a=Ace(pe({},e,{defaultStrategy:{stackOffset:"none"}})),i=t??[];r.forEach(c=>{const d=s[c].data;d!==void 0&&d.forEach((u,l)=>{i.length<=l?i.push({[c]:u}):i[l][c]=u})});const o={};return a.forEach(c=>{const{ids:d,stackingOrder:u,stackingOffset:l}=c,f=t5().keys(d.map(m=>{const p=s[m].dataKey;return s[m].data===void 0&&p!==void 0?p:m})).value((m,p)=>m[p]??0).order(u).offset(l)(i);d.forEach((m,p)=>{const x=s[m].dataKey;o[m]=pe({labelMarkType:"line"},s[m],{data:x?t.map(b=>{const h=b[x];return typeof h!="number"?null:h}):s[m].data,stackedData:f[p].map(([b,h])=>[b,h])})})}),{seriesOrder:r,stackingGroups:a,series:upt(o,c=>c==null?"":c.toLocaleString())}},mpt=(e,t,r)=>{const s=r?.colorScale,a=t?.colorScale,i=OF(e);return s?o=>{if(o===void 0)return e.color;const c=e.data[o],d=c===null?i({value:c,dataIndex:o}):s(c);return d===null?i({value:c,dataIndex:o}):d}:a?o=>{if(o===void 0)return e.color;const c=t.data?.[o],d=c===null?i({value:c,dataIndex:o}):a(c);return d===null?i({value:c,dataIndex:o}):d}:o=>{if(o===void 0)return e.color;const c=e.data[o];return i({value:c,dataIndex:o})}},hpt=e=>{const{seriesOrder:t,series:r}=e;return t.reduce((s,a)=>{const i=Xo(r[a].label,"legend");return i===void 0||s.push({markType:r[a].labelMarkType,id:a,seriesId:a,color:r[a].color,label:i}),s},[])},ppt=e=>{const{series:t,getColor:r,identifier:s}=e;if(!s||s.dataIndex===void 0)return null;const a=Xo(t.label,"tooltip"),i=t.data[s.dataIndex],o=t.valueFormatter(i,{dataIndex:s.dataIndex});return{identifier:s,color:r(s.dataIndex),label:a,value:i,formattedValue:o,markType:t.labelMarkType}},gpt=e=>Object.values(e).map(t=>({direction:"x",axisId:t.xAxisId})),xpt=(e,t,r)=>pe({},e,{id:e.id??`auto-generated-id-${t}`,color:e.color??r[t%r.length]}),vpt=e=>{const{series:t,identifier:r,axesConfig:s}=e;if(!r||r.dataIndex===void 0)return null;const a=t.line?.series[r.seriesId];if(a==null||s.x===void 0||s.y===void 0)return null;const i=s.x.data?.[r.dataIndex],o=a.data[r.dataIndex];return i==null||o==null?null:{x:s.x.scale(i),y:s.y.scale(o)}},ypt={colorProcessor:mpt,seriesProcessor:fpt,legendGetter:hpt,tooltipGetter:ppt,tooltipItemPositionGetter:vpt,axisTooltipGetter:gpt,xExtremumGetter:lpt,yExtremumGetter:dpt,getSeriesWithDefaultValues:xpt},bpt=(e="none")=>{if(typeof e=="function")return e;switch(e){case"none":return null;case"desc":return(t,r)=>r-t;case"asc":return(t,r)=>t-r;default:return null}},wpt=e=>{const{seriesOrder:t,series:r}=e,s={};return t.forEach(a=>{const i=P9e().startAngle(du(r[a].startAngle??0)).endAngle(du(r[a].endAngle??360)).padAngle(du(r[a].paddingAngle??0)).sortValues(bpt(r[a].sortingValues??"none"))(r[a].data.map(o=>o.value));s[a]=pe({labelMarkType:"circle",valueFormatter:o=>o.value.toLocaleString()},r[a],{data:r[a].data.map((o,c)=>pe({},o,{id:o.id??`auto-generated-pie-id-${a}-${c}`},i[c])).map((o,c)=>pe({labelMarkType:"circle"},o,{formattedValue:r[a].valueFormatter?.(pe({},o,{label:Xo(o.label,"arc")}),{dataIndex:c})??o.value.toLocaleString()}))})}),{seriesOrder:t,series:s}},jpt=e=>t=>e.data[t].color,Spt=e=>{const{seriesOrder:t,series:r}=e;return t.reduce((s,a)=>(r[a].data.forEach((i,o)=>{const c=Xo(i.label,"legend");c!==void 0&&s.push({markType:i.labelMarkType??r[a].labelMarkType,id:i.id??o,seriesId:a,color:i.color,label:c,itemId:i.id??o})}),s),[])},Npt=e=>{const{series:t,getColor:r,identifier:s}=e;if(!s||s.dataIndex===void 0)return null;const a=t.data[s.dataIndex];if(a==null)return null;const i=Xo(a.label,"tooltip"),o=pe({},a,{label:i}),c=t.valueFormatter(o,{dataIndex:s.dataIndex});return{identifier:s,color:r(s.dataIndex),label:i,value:o,formattedValue:c,markType:a.labelMarkType??t.labelMarkType}},Cpt=(e,t,r)=>pe({},e,{id:e.id??`auto-generated-id-${t}`,data:e.data.map((s,a)=>pe({},s,{color:s.color??r[a%r.length]}))});function w_(e,t){if(typeof e=="number")return e;if(e==="100%")return t;if(e.endsWith("%")){const r=Number.parseFloat(e.slice(0,e.length-1));if(!Number.isNaN(r))return r*t/100}if(e.endsWith("px")){const r=Number.parseFloat(e.slice(0,e.length-2));if(!Number.isNaN(r))return r}throw new Error(`MUI X Charts: Received an unknown value "${e}". It should be a number, or a string with a percentage value.`)}function _pt(e,t){const{height:r,width:s}=t,{cx:a,cy:i}=e,o=Math.min(s,r)/2,c=w_(a??"50%",s),d=w_(i??"50%",r);return{cx:c,cy:d,availableRadius:o}}const Ept=e=>{const{series:t,drawingArea:r,identifier:s,placement:a}=e;if(!s||s.dataIndex===void 0)return null;const i=t.pie?.series[s.seriesId];if(i==null)return null;const{cx:o,cy:c,availableRadius:d}=_pt({cx:i.cx,cy:i.cy},r),{data:u,innerRadius:l=0,outerRadius:f}=i,m=Math.max(0,w_(l??0,d)),p=Math.max(0,w_(f??d,d)),x=u[s.dataIndex];if(!x)return null;const b=[[m,x.startAngle],[m,x.endAngle],[p,x.startAngle],[p,x.endAngle]].map(([N,_])=>({x:o+N*Math.sin(_),y:c-N*Math.cos(_)})),[h,y]=x_(b.map(N=>N.x)),[w,S]=x_(b.map(N=>N.y));switch(a){case"bottom":return{x:(y+h)/2,y:S};case"left":return{x:h,y:(S+w)/2};case"right":return{x:y,y:(S+w)/2};case"top":default:return{x:(y+h)/2,y:w}}},kpt={colorProcessor:jpt,seriesProcessor:wpt,legendGetter:Spt,tooltipGetter:Npt,tooltipItemPositionGetter:Ept,getSeriesWithDefaultValues:Cpt},Apt={bar:Jht,scatter:opt,line:ypt,pie:kpt},Tpt=[bw,pw,Ax,Dx];function Dpt(e){const{children:t,plugins:r=Tpt,pluginParams:s={},seriesConfig:a=Apt}=e,{contextValue:i}=wft(r,s,a);return n.jsx(Mle.Provider,{value:i,children:t})}const xd=()=>{const e=v.useContext(Mle);if(e==null)throw new Error(["MUI X Charts: Could not find the Chart context.","It looks like you rendered your component outside of a ChartDataProvider.","This can also happen if you are bundling multiple versions of the library."].join(`
`));return e};function Ppt(e){"hasPointerCapture"in e.currentTarget&&e.currentTarget.hasPointerCapture(e.pointerId)&&e.currentTarget.releasePointerCapture(e.pointerId)}const Rpt=(e,t)=>{const{instance:r}=xd(),s=v.useRef(!1),a=Yn(()=>{s.current=!0,r.setItemInteraction(e,{interaction:"pointer"}),r.setHighlight(e)}),i=Yn(()=>{s.current=!1,r.removeItemInteraction(e),r.clearHighlight()});return v.useEffect(()=>()=>{s.current&&i()},[i]),v.useMemo(()=>({onPointerEnter:a,onPointerLeave:i,onPointerDown:Ppt}),[t,a,i])},Mpt=["ownerState","skipAnimation","id","dataIndex","xOrigin","yOrigin"];function Opt(e){const{ownerState:t}=e,r=Cr(e,Mpt),s=Oht(e);return n.jsx("rect",pe({},r,{filter:t.isHighlighted?"brightness(120%)":void 0,opacity:t.isFaded?.3:1,"data-highlighted":t.isHighlighted||void 0,"data-faded":t.isFaded||void 0},s))}function Ipt(e){const t=ds();return Tt(t,hmt,e)}const Fpt=["id","dataIndex","classes","color","slots","slotProps","style","onClick","skipAnimation","layout","x","xOrigin","y","yOrigin","width","height"];function $pt(e){const{id:t,dataIndex:r,classes:s,color:a,slots:i,slotProps:o,style:c,onClick:d,skipAnimation:u,layout:l,x:f,xOrigin:m,y:p,yOrigin:x,width:b,height:h}=e,y=Cr(e,Fpt),w=v.useMemo(()=>({type:"bar",seriesId:t,dataIndex:r}),[t,r]),S=Rpt(w),{isFaded:N,isHighlighted:_}=Lce(w),k=Ipt(v.useMemo(()=>({seriesType:"bar",seriesId:t,dataIndex:r}),[t,r])),E={id:t,dataIndex:r,classes:s,color:a,isFaded:N,isHighlighted:_,isFocused:k},T=_ut(E),D=i?.bar??Opt,P=Jc({elementType:D,externalSlotProps:o?.bar,externalForwardedProps:y,additionalProps:pe({},S,{id:t,dataIndex:r,color:a,x:f,xOrigin:m,y:p,yOrigin:x,width:b,height:h,style:c,onClick:d,cursor:d?"pointer":"unset",stroke:"none",fill:a,skipAnimation:u,layout:l,"data-focused":k||void 0}),className:T.root,ownerState:E});return n.jsx(D,pe({},P))}function Lpt(e,t){const r=kn(e.x,t.x),s=kn(e.y,t.y),a=kn(e.width,t.width),i=kn(e.height,t.height),o=kn(e.borderRadius,t.borderRadius);return c=>({x:r(c),y:s(c),width:a(c),height:i(c),borderRadius:o(c)})}function Bpt(e){const t={x:e.layout==="vertical"?e.x:e.xOrigin,y:e.layout==="vertical"?e.yOrigin:e.y,width:e.layout==="vertical"?e.width:0,height:e.layout==="vertical"?0:e.height,borderRadius:e.borderRadius};return UF({x:e.x,y:e.y,width:e.width,height:e.height,borderRadius:e.borderRadius},{createInterpolator:Lpt,transformProps:r=>({d:Upt(e.hasNegative,e.hasPositive,e.layout,r.x,r.y,r.width,r.height,e.xOrigin,e.yOrigin,r.borderRadius)}),applyProps(r,{d:s}){s&&r.setAttribute("d",s)},initialProps:t,skip:e.skipAnimation,ref:e.ref})}function zpt(e){const{maskId:t,x:r,y:s,width:a,height:i,skipAnimation:o}=e,{ref:c,d}=Bpt({layout:e.layout??"vertical",hasNegative:e.hasNegative,hasPositive:e.hasPositive,xOrigin:e.xOrigin,yOrigin:e.yOrigin,x:r,y:s,width:a,height:i,borderRadius:e.borderRadius??0,skipAnimation:o});return!e.borderRadius||e.borderRadius<=0?null:n.jsx("clipPath",{id:t,children:n.jsx("path",{ref:c,d})})}function Upt(e,t,r,s,a,i,o,c,d,u){if(r==="vertical"){if(t&&e){const f=Math.min(u,i/2,o/2);return`M${s},${a+o/2} v${-(o/2-f)} a${f},${f} 0 0 1 ${f},${-f} h${i-f*2} a${f},${f} 0 0 1 ${f},${f} v${o-2*f} a${f},${f} 0 0 1 ${-f},${f} h${-(i-f*2)} a${f},${f} 0 0 1 ${-f},${-f} v${-(o/2-f)}`}const l=Math.min(u,i/2);if(t)return`M${s},${Math.max(d,a+l)} v${Math.min(0,-(d-a-l))} a${l},${l} 0 0 1 ${l},${-l} h${i-l*2} a${l},${l} 0 0 1 ${l},${l} v${Math.max(0,d-a-l)} Z`;if(e)return`M${s},${Math.min(d,a+o-l)} v${Math.max(0,o-l)} a${l},${l} 0 0 0 ${l},${l} h${i-l*2} a${l},${l} 0 0 0 ${l},${-l} v${-Math.max(0,o-l)} Z`}if(r==="horizontal"){if(t&&e){const f=Math.min(u,i/2,o/2);return`M${s+i/2},${a} h${i/2-f} a${f},${f} 0 0 1 ${f},${f} v${o-f*2} a${f},${f} 0 0 1 ${-f},${f} h${-(i-2*f)} a${f},${f} 0 0 1 ${-f},${-f} v${-(o-f*2)} a${f},${f} 0 0 1 ${f},${-f} h${i/2-f}`}const l=Math.min(u,o/2);if(t)return`M${Math.min(c,s-l)},${a} h${i} a${l},${l} 0 0 1 ${l},${l} v${o-l*2} a${l},${l} 0 0 1 ${-l},${l} h${-i} Z`;if(e)return`M${Math.max(c,s+i+l)},${a} h${-i} a${l},${l} 0 0 0 ${-l},${l} v${o-l*2} a${l},${l} 0 0 0 ${l},${l} h${i} Z`}}function Hpt(e){return Xn("MuiBarLabel",e)}const ZR=Fn("MuiBarLabel",["root","highlighted","faded","animate"]),Vpt=e=>{const{classes:t,seriesId:r,isFaded:s,isHighlighted:a,skipAnimation:i}=e,o={root:["root",`series-${r}`,a&&"highlighted",s&&"faded",!i&&"animate"]};return Jn(o,Hpt,t)},Wpt=e=>{const{barLabel:t,value:r,dataIndex:s,seriesId:a,height:i,width:o}=e;return t==="value"?r?r?.toString():null:t({seriesId:a,dataIndex:s,value:r},{bar:{height:i,width:o}})},qpt=["seriesId","dataIndex","color","isFaded","isHighlighted","classes","skipAnimation","layout","xOrigin","yOrigin","placement"],Gpt=dr("text",{name:"MuiBarLabel",slot:"Root",overridesResolver:(e,t)=>[{[`&.${ZR.faded}`]:t.faded},{[`&.${ZR.highlighted}`]:t.highlighted},t.root]})(({theme:e})=>pe({},e?.typography?.body2,{stroke:"none",fill:(e.vars||e)?.palette?.text?.primary,transition:"opacity 0.2s ease-in, fill 0.2s ease-in",pointerEvents:"none",opacity:1,[`&.${ZR.faded}`]:{opacity:.3}}));function Ypt(e){const t=Wi({props:e,name:"MuiBarLabel"}),r=Cr(t,qpt),s=Fht(t),a=Kpt(t),i=Zpt(t);return n.jsx(Gpt,pe({textAnchor:a,dominantBaseline:i},r,s))}function Kpt({placement:e,layout:t,xOrigin:r,x:s}){return e==="outside"&&t==="horizontal"?s<r?"end":"start":"middle"}function Zpt({placement:e,layout:t,yOrigin:r,y:s}){return e==="outside"?t==="horizontal"?"central":s<r?"auto":"hanging":"central"}const Xpt=["seriesId","classes","color","dataIndex","barLabel","slots","slotProps","xOrigin","yOrigin","x","y","width","height","value","skipAnimation","layout","barLabelPlacement"],Jpt=["ownerState"];function Qpt(e){const{seriesId:t,classes:r,color:s,dataIndex:a,barLabel:i,slots:o,slotProps:c,xOrigin:d,yOrigin:u,x:l,y:f,width:m,height:p,value:x,skipAnimation:b,layout:h,barLabelPlacement:y}=e,w=Cr(e,Xpt),{isFaded:S,isHighlighted:N}=Lce({seriesId:t,dataIndex:a}),_={seriesId:t,classes:r,color:s,isFaded:S,isHighlighted:N,dataIndex:a,skipAnimation:b,layout:h},k=Vpt(_),E=o?.barLabel??Ypt,T=Jc({elementType:E,externalSlotProps:c?.barLabel,additionalProps:pe({},w,{xOrigin:d,yOrigin:u,x:l,y:f,width:m,height:p,placement:y,className:k.root}),ownerState:_}),{ownerState:D}=T,P=Cr(T,Jpt);if(!i)return null;const M=Wpt({barLabel:i,value:x,dataIndex:a,seriesId:t,height:p,width:m});return M?n.jsx(E,pe({},P,D,{children:M})):null}function egt(e){return Xn("MuiBar",e)}Fn("MuiBar",["root","series","seriesLabels"]);const qce=e=>Jn({root:["root"],series:["series"],seriesLabels:["seriesLabels"]},egt,e),tgt=["processedSeries","skipAnimation"];function rgt(e){const{processedSeries:t,skipAnimation:r}=e,s=Cr(e,tgt),{seriesId:a,data:i}=t,o=qce(),c=t.barLabel??e.barLabel;return c?n.jsx("g",{className:o.seriesLabels,"data-series":a,children:i.map(({xOrigin:d,yOrigin:u,x:l,y:f,dataIndex:m,color:p,value:x,width:b,height:h,layout:y})=>n.jsx(Qpt,pe({seriesId:a,dataIndex:m,value:x,color:p,xOrigin:d,yOrigin:u,x:l,y:f,width:b,height:h,skipAnimation:r??!1,layout:y??"vertical"},s,{barLabel:c,barLabelPlacement:t.barLabelPlacement||"center"}),m))},a):null}function sgt(e){const t=ds(),r=Tt(t,Lut);return e||r}function ngt(){const e=ds();return Tt(e,rce)}const agt=["skipAnimation","onItemClick","borderRadius","barLabel"],igt=dr("g",{name:"MuiBarPlot",slot:"Root"})({[`& .${Cut.root}`]:{transition:"opacity 0.2s ease-in, fill 0.2s ease-in"}});function ogt(e){const{skipAnimation:t,onItemClick:r,borderRadius:s,barLabel:a}=e,i=Cr(e,agt),o=ngt(),c=sgt(o||t),{xAxis:d}=hd(),{yAxis:u}=pd(),{completedData:l,masksData:f}=Ght(Ro(),d,u),m=!s||s<=0,p=qce();return n.jsxs(igt,{className:p.root,children:[!m&&f.map(({id:x,x:b,y:h,xOrigin:y,yOrigin:w,width:S,height:N,hasPositive:_,hasNegative:k,layout:E})=>n.jsx(zpt,{maskId:x,borderRadius:s,hasNegative:k,hasPositive:_,layout:E,x:b,y:h,xOrigin:y,yOrigin:w,width:S,height:N,skipAnimation:c??!1},x)),l.map(({seriesId:x,data:b})=>n.jsx("g",{"data-series":x,className:p.series,children:b.map(({dataIndex:h,color:y,maskId:w,layout:S,x:N,xOrigin:_,y:k,yOrigin:E,width:T,height:D})=>{const P=n.jsx($pt,pe({id:x,dataIndex:h,color:y,skipAnimation:c??!1,layout:S??"vertical",x:N,xOrigin:_,y:k,yOrigin:E,width:T,height:D},i,{onClick:r&&(M=>{r(M,{type:"bar",seriesId:x,dataIndex:h})})}),h);return m?P:n.jsx("g",{clipPath:`url(#${w})`,children:P},h)})},x)),l.map(x=>n.jsx(rgt,pe({processedSeries:x,skipAnimation:c,barLabel:a},i),x.seriesId))]})}function rk(){const[e,t]=v.useState(typeof window<"u"||!1);return v.useEffect(()=>{t(!0)},[]),e}function HF(e){return typeof e=="number"&&!Number.isFinite(e)}const XR={start:0,extremities:0,end:1,middle:.5};function lgt(e){const{scale:t,tickNumber:r,valueFormatter:s,tickInterval:a,tickPlacement:i="extremities",tickLabelPlacement:o,isInside:c}=e;if(ba(t)){const m=t.domain(),p=o??"middle";return t.bandwidth()>0?[...(typeof a=="function"&&m.filter(a)||typeof a=="object"&&a||m).map(h=>{const y=`${h}`;return{value:h,formattedValue:s?.(h,{location:"tick",scale:t,tickNumber:r,defaultTickLabel:y})??y,offset:t(h)-(t.step()-t.bandwidth())/2+XR[i]*t.step(),labelOffset:p==="tick"?0:t.step()*(XR[p]-XR[i])}}),...i==="extremities"?[{formattedValue:void 0,offset:t.range()[1],labelOffset:0}]:[]]:(typeof a=="function"&&m.filter(a)||typeof a=="object"&&a||m).map(b=>{const h=`${b}`;return{value:b,formattedValue:s?.(b,{location:"tick",scale:t,tickNumber:r,defaultTickLabel:h})??h,offset:t(b),labelOffset:0}})}if(t.domain().some(HF))return[];const u=o,l=typeof a=="object"?a:cgt(t,r),f=[];for(let m=0;m<l.length;m+=1){const p=l[m],x=t(p);if(c(x)){const b=t.tickFormat(r)(p);f.push({value:p,formattedValue:s?.(p,{location:"tick",scale:t,tickNumber:r,defaultTickLabel:b})??b,offset:x,labelOffset:u==="middle"?t(l[m-1]??0)-(x+t(l[m-1]??0))/2:0})}}return f}function cgt(e,t){const r=e.domain();return r[0]===r[1]?[r[0]]:e.ticks(t)}function sk(e){const{scale:t,tickNumber:r,valueFormatter:s,tickInterval:a,tickPlacement:i="extremities",tickLabelPlacement:o,direction:c}=e,{instance:d}=xd(),u=c==="x"?d.isXInside:d.isYInside;return v.useMemo(()=>lgt({scale:t,tickNumber:r,tickPlacement:i,tickInterval:a,tickLabelPlacement:o,valueFormatter:s,isInside:u}),[t,r,i,a,o,s,u])}function dgt(e=!1){const[t,r]=v.useState(!1);return Pn(()=>{e||r(!0)},[e]),v.useEffect(()=>{e&&r(!0)},[e]),t}const Gce=typeof window<"u"&&"Intl"in window&&"Segmenter"in Intl?new Intl.Segmenter(void 0,{granularity:"grapheme"}):null;function ugt(e){return e.length}function fgt(e){const t=Gce.segment(e);let r=0;for(const s of t)r+=1;return r}const mgt=Gce?fgt:ugt;function hgt(e){return e*(Math.PI/180)}const Yce=typeof window<"u"&&"Intl"in window&&"Segmenter"in Intl?new Intl.Segmenter(void 0,{granularity:"grapheme"}):null;function pgt(e,t){return e.slice(0,t)}function ggt(e,t){const r=Yce.segment(e);let s="",a=0;for(const i of r)if(s+=i.segment,a+=1,a>=t)break;return s}const xgt=Yce?ggt:pgt,lY="";function Kce(e,t){const{width:r,height:s,measureText:a}=t,i=hgt(t.angle),o=a(e),c=Math.abs(o.width*Math.cos(i))+Math.abs(o.height*Math.sin(i)),d=Math.abs(o.width*Math.sin(i))+Math.abs(o.height*Math.cos(i));return c<=r&&d<=s}function Zce(e,t){if(t(e))return e;let r=e,s=1,a=1/2;const i=mgt(e);let o=i,c=i,d=null;do{if(c=o,o=Math.floor(i*a),o===0)break;r=xgt(e,o).trim();const u=t(r+lY);s+=1,u?(d=r,a+=1/2**s):a-=1/2**s}while(Math.abs(o-c)!==1);return d?d+lY:""}function Xce(){return typeof window>"u"}const uu=new Map,Jce=2e3,vgt=new Set(["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"]);function VF(e,t){return vgt.has(e)&&t===+t?`${t}px`:t}const ygt=/([A-Z])/g;function WF(e){return String(e).replace(ygt,t=>`-${t.toLowerCase()}`)}function Qce(e){let t="";for(const r in e)if(Object.hasOwn(e,r)){const s=r,a=e[s];if(a===void 0)continue;t+=`${WF(s)}:${VF(s,a)};`}return t}const ww=(e,t={})=>{if(e==null||Xce())return{width:0,height:0};const r=String(e),s=Qce(t),a=`${r}-${s}`,i=uu.get(a);if(i)return i;try{const o=ede(),c=document.createElementNS("http://www.w3.org/2000/svg","text");Object.keys(t).map(l=>(c.style[WF(l)]=VF(l,t[l]),l)),c.textContent=r,o.replaceChildren(c);const d=c.getBoundingClientRect(),u={width:d.width,height:d.height};return uu.set(a,u),uu.size+1>Jce&&uu.clear(),u}catch{return{width:0,height:0}}};function bgt(e,t={}){if(Xce())return new Map(Array.from(e).map(d=>[d,{width:0,height:0}]));const r=new Map,s=[],a=Qce(t);for(const d of e){const u=`${d}-${a}`,l=uu.get(u);l?r.set(d,l):s.push(d)}const i=ede(),o=pe({},t);Object.keys(o).map(d=>(i.style[WF(d)]=VF(d,o[d]),d));const c=[];for(const d of s){const u=document.createElementNS("http://www.w3.org/2000/svg","text");u.textContent=`${d}`,c.push(u)}i.replaceChildren(...c);for(let d=0;d<s.length;d+=1){const u=s[d],f=i.children[d].getBoundingClientRect(),m={width:f.width,height:f.height},p=`${u}-${a}`;uu.set(p,m),r.set(u,m)}return uu.size+1>Jce&&uu.clear(),r}let za=null;function ede(){return za===null&&(za=document.createElementNS("http://www.w3.org/2000/svg","svg"),za.setAttribute("aria-hidden","true"),za.style.position="absolute",za.style.top="-20000px",za.style.left="0",za.style.padding="0",za.style.margin="0",za.style.border="none",za.style.pointerEvents="none",za.style.visibility="hidden",za.style.contain="strict",document.body.appendChild(za)),za}function wgt(e,t,r,s,a){const i=new Map,o=Q2(a?.angle??0);let c=1,d=1;a?.textAnchor==="start"?(c=1/0,d=1):a?.textAnchor==="end"?(c=1,d=1/0):(c=2,d=2),o>90&&o<270&&([c,d]=[d,c]),s&&([c,d]=[d,c]);for(const u of e)if(u.formattedValue){const l=Math.min((u.offset+u.labelOffset)*c,(t.left+t.width+t.right-u.offset-u.labelOffset)*d),f=m=>Kce(m,{width:l,height:r,angle:o,measureText:p=>ww(p,a)});i.set(u,Zce(u.formattedValue.toString(),f))}return i}const cY=5;function jgt(e,t,r=0){const s=Math.min(Math.abs(r)%180,Math.abs(Math.abs(r)%180-180)%180);if(s<cY)return e;if(s>90-cY)return t;const a=du(s),i=Math.atan2(t,e);return a<i?e/Math.cos(a):t/Math.sin(a)}function Sgt(e,{tickLabelStyle:t,tickLabelInterval:r,tickLabelMinGap:s,reverse:a,isMounted:i,isXInside:o}){if(typeof r=="function")return new Set(e.filter((f,m)=>r(f.value,m)));let c=0;const d=a?-1:1,u=e.filter(f=>{const{offset:m,labelOffset:p,formattedValue:x}=f;if(x==="")return!1;const b=m+p;return o(b)}),l=Cgt(u,t);return new Set(u.filter((f,m)=>{const{offset:p,labelOffset:x}=f,b=p+x;if(m>0&&d*b<d*(c+s))return!1;const{width:h,height:y}=i?Ngt(l,f):{width:0,height:0},w=jgt(h,y,t?.angle),S=b-d*w/2;return m>0&&d*S<d*(c+s)?!1:(c=b+d*w/2,!0)}))}function Ngt(e,t){if(t.formattedValue===void 0)return{width:0,height:0};let r=0,s=0;for(const a of t.formattedValue.split(`
`)){const i=e.get(a);i&&(r=Math.max(r,i.width),s+=i.height)}return{width:r,height:s}}function Cgt(e,t){const r=new Set;for(const s of e)s.formattedValue&&s.formattedValue.split(`
`).forEach(a=>r.add(a));return bgt(r,t)}function tde(e){return Xn("MuiChartsAxis",e)}const D1=Fn("MuiChartsAxis",["root","line","tickContainer","tick","tickLabel","label","directionX","directionY","top","bottom","left","right","id"]),rde=e=>{const{classes:t,position:r,id:s}=e,a={root:["root","directionX",r,`id-${s}`],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]};return Jn(a,tde,t)},kO=3,_gt=4,sde={disableLine:!1,disableTicks:!1,tickSize:6,tickLabelMinGap:4};function Egt({style:e,needsComputation:t,text:r}){return r.split(`
`).map(s=>pe({text:s},t?ww(s,e):{width:0,height:0}))}const kgt=["x","y","style","text","ownerState"],Agt=["angle","textAnchor","dominantBaseline"];function nk(e){const{x:t,y:r,style:s,text:a}=e,i=Cr(e,kgt),o=s??{},{angle:c,textAnchor:d,dominantBaseline:u}=o,l=Cr(o,Agt),f=rk(),m=v.useMemo(()=>Egt({style:l,needsComputation:f&&a.includes(`
`),text:a}),[l,a,f]);let p;switch(u){case"hanging":case"text-before-edge":p=0;break;case"central":p=(m.length-1)/2*-m[0].height;break;default:p=(m.length-1)*-m[0].height;break}return n.jsx("text",pe({},i,{transform:c?`rotate(${c}, ${t}, ${r})`:void 0,x:t,y:r,textAnchor:d,dominantBaseline:u,style:l,children:m.map((x,b)=>n.jsx("tspan",{x:t,dy:`${b===0?p:m[0].height}px`,dominantBaseline:u,children:x.text},b))}))}function nde(e){const t=Q2(e);return t<=30||t>=330||t<=210&&t>=150?"middle":t<=180?"end":"start"}function ade(e){const t=Q2(e);return t<=30||t>=330?"hanging":t<=210&&t>=150?"auto":"central"}function ide(e){switch(e){case"start":return"end";case"end":return"start";default:return e}}const Tgt=["scale","tickNumber","reverse"];function ode(e){const{xAxis:t,xAxisIds:r}=hd(),s=t[e.axisId??r[0]],{scale:a,tickNumber:i,reverse:o}=s,c=Cr(s,Tgt),d=Wi({props:pe({},c,e),name:"MuiChartsXAxis"}),u=pe({},sde,d),{position:l,tickLabelStyle:f,slots:m,slotProps:p}=u,x=ah(),b=uw(),h=rde(u),y=l==="bottom"?1:-1,w=m?.axisTick??"line",S=m?.axisTickLabel??nk,N=nde((l==="bottom"?0:180)-(f?.angle??0)),_=ade((l==="bottom"?0:180)-(f?.angle??0)),k=Jc({elementType:S,externalSlotProps:p?.axisTickLabel,additionalProps:{style:pe({},x.typography.caption,{fontSize:12,lineHeight:1.25,textAnchor:b?ide(N):N,dominantBaseline:_},f)},className:h.tickLabel,ownerState:{}});return{xScale:a,defaultizedProps:u,tickNumber:i,positionSign:y,classes:h,Tick:w,TickLabel:S,axisTickLabelProps:k,reverse:o}}function Dgt(e){const{axisLabelHeight:t}=e,{xScale:r,defaultizedProps:s,tickNumber:a,positionSign:i,classes:o,Tick:c,TickLabel:d,axisTickLabelProps:u,reverse:l}=ode(e),f=uw(),m=dgt(),{disableTicks:p,tickSize:x,valueFormatter:b,slotProps:h,tickInterval:y,tickLabelInterval:w,tickPlacement:S,tickLabelPlacement:N,tickLabelMinGap:_,height:k}=s,E=Ro(),{instance:T}=xd(),D=rk(),P=p?4:x,M=sk({scale:r,tickNumber:a,valueFormatter:b,tickInterval:y,tickPlacement:S,tickLabelPlacement:N,direction:"x"}),R=Sgt(M,{tickLabelStyle:u.style,tickLabelInterval:w,tickLabelMinGap:_,reverse:l,isMounted:m,isXInside:T.isXInside}),B=Math.max(0,k-(t>0?t+_gt:0)-P-kO),L=D?wgt(R,E,B,f,u.style):new Map(Array.from(R).map($=>[$,$.formattedValue]));return n.jsx(v.Fragment,{children:M.map(($,I)=>{const{offset:z,labelOffset:H}=$,Z=H??0,V=i*(P+kO),G=T.isXInside(z),U=L.get($),Y=R.has($);return n.jsxs("g",{transform:`translate(${z}, 0)`,className:o.tickContainer,children:[!p&&G&&n.jsx(c,pe({y2:i*P,className:o.tick},h?.axisTick)),U!==void 0&&Y&&n.jsx(d,pe({x:Z,y:V},u,{text:U}))]},I)})})}const S0={start:0,extremities:0,end:1,middle:.5,tick:0};function lde(e){const{scale:t,tickInterval:r,tickLabelPlacement:s="middle",tickPlacement:a="extremities",groups:i}=e;return v.useMemo(()=>{const o=t.domain(),c=typeof r=="function"&&o.filter(r)||typeof r=="object"&&r||o;if(t.bandwidth()>0){const d=dY(c,i,a,s,t);return d[0]&&(d[0].ignoreTick=!0),[{formattedValue:void 0,offset:t.range()[0],labelOffset:0,groupIndex:i.length-1},...d,{formattedValue:void 0,offset:t.range()[1],labelOffset:0,groupIndex:i.length-1}]}return dY(c,i,a,s,t)},[t,r,i,a,s])}function dY(e,t,r,s,a){const i=[],o=new Map;let c=0;for(let d=0;d<t.length;d+=1)for(let u=0;u<e.length;u+=1){const l=e[u],f=t[d].getValue(l,u),m=i[i.length-1];if(m?.value!==f||m?.groupIndex!==d){c=1;const x=ba(a)?a(l)-(a.step()-a.bandwidth())/2+S0[r]*a.step():a(l),b=a.step()*c*(S0[s]-S0[r]);i.push({value:f,formattedValue:`${f}`,offset:x,groupIndex:d,dataIndex:u,ignoreTick:!1,labelOffset:b}),o.has(u)||o.set(u,new Set);const h=o.get(u);for(const y of h.values())i[y].ignoreTick=!0;h.add(i.length-1)}else{c+=1;const x=a.step()*c*(S0[s]-S0[r]);m.labelOffset=x}}return i}const uY={tickSize:6},Pgt=(e,t,r)=>{const s=e[t]??{},a=r??uY.tickSize,i=a*t*2+a;return pe({},uY,s,{tickSize:s.tickSize??i})};function Rgt(e){const{xScale:t,defaultizedProps:r,positionSign:s,classes:a,Tick:i,TickLabel:o,axisTickLabelProps:c}=ode(e);if(!ba(t))throw new Error("MUI X Charts: ChartsGroupedXAxis only supports the `band` and `point` scale types.");const{disableTicks:d,tickSize:u,valueFormatter:l,slotProps:f,tickInterval:m,tickPlacement:p,tickLabelPlacement:x}=r,b=r.groups,{instance:h}=xd(),y=lde({scale:t,tickInterval:m,tickPlacement:p,tickLabelPlacement:x,groups:b});return n.jsx(v.Fragment,{children:y.map((w,S)=>{const{offset:N,labelOffset:_}=w,k=_??0,E=h.isXInside(N),T=w.formattedValue,D=w.ignoreTick??!1,P=w.groupIndex??0,M=Pgt(b,P,u),R=s*M.tickSize,B=s*(M.tickSize+kO);return n.jsxs("g",{transform:`translate(${N}, 0)`,className:a.tickContainer,"data-group-index":P,children:[!d&&!D&&E&&n.jsx(i,pe({y2:R,className:a.tick},f?.axisTick)),T!==void 0&&n.jsx(o,pe({x:k,y:B},c,{style:pe({},c.style,M.tickLabelStyle),text:T}))]},S)})})}const cde=dr("g",{name:"MuiChartsAxis",slot:"Root"})(({theme:e})=>({[`& .${D1.tickLabel}`]:pe({},e.typography.caption,{fill:(e.vars||e).palette.text.primary}),[`& .${D1.label}`]:{fill:(e.vars||e).palette.text.primary},[`& .${D1.line}`]:{stroke:(e.vars||e).palette.text.primary,shapeRendering:"crispEdges",strokeWidth:1},[`& .${D1.tick}`]:{stroke:(e.vars||e).palette.text.primary,shapeRendering:"crispEdges"}})),Mgt=["axis"],Ogt=["scale","tickNumber","reverse"],Igt=dr(cde,{name:"MuiChartsXAxis",slot:"Root"})({});function Fgt(e){let{axis:t}=e,r=Cr(e,Mgt);const{scale:s}=t,a=Cr(t,Ogt),i=Wi({props:pe({},a,r),name:"MuiChartsXAxis"}),o=pe({},sde,i),{position:c,labelStyle:d,offset:u,slots:l,slotProps:f,sx:m,disableLine:p,label:x,height:b}=o,h=ah(),y=rde(o),{left:w,top:S,width:N,height:_}=Ro(),k=c==="bottom"?1:-1,E=l?.axisLine??"line",T=l?.axisLabel??nk,D=Jc({elementType:T,externalSlotProps:f?.axisLabel,additionalProps:{style:pe({},h.typography.body1,{lineHeight:1,fontSize:14,textAnchor:"middle",dominantBaseline:c==="bottom"?"text-after-edge":"text-before-edge"},d)},ownerState:{}});if(c==="none")return null;const P=x?ww(x,D.style).height:0,M=s.domain(),B=ba(s)?M.length===0:M.some(HF);let L=null;B||(L="groups"in t&&Array.isArray(t.groups)?n.jsx(Rgt,pe({},r)):n.jsx(Dgt,pe({},r,{axisLabelHeight:P})));const $={x:w+N/2,y:k*b};return n.jsxs(Igt,{transform:`translate(0, ${c==="bottom"?S+_+u:S-u})`,className:y.root,sx:m,children:[!p&&n.jsx(E,pe({x1:w,x2:w+N,className:y.line},f?.axisLine)),L,x&&n.jsx("g",{className:y.label,children:n.jsx(T,pe({},$,D,{text:x}))})]})}function $gt(e){const{xAxis:t,xAxisIds:r}=hd(),s=t[e.axisId??r[0]];return s?n.jsx(Fgt,pe({},e,{axis:s})):(`${e.axisId}`,null)}function Lgt(e,t,r,s,a){const i=new Map,o=Q2(a?.angle??0);let c=1,d=1;a?.textAnchor==="start"?(c=1/0,d=1):a?.textAnchor==="end"?(c=1,d=1/0):(c=2,d=2),o>180&&([c,d]=[d,c]),s&&([c,d]=[d,c]);for(const u of e)if(u.formattedValue){const l=Math.min((u.offset+u.labelOffset)*c,(t.top+t.height+t.bottom-u.offset-u.labelOffset)*d),f=m=>Kce(m,{width:r,height:l,angle:o,measureText:p=>ww(p,a)});i.set(u,Zce(u.formattedValue.toString(),f))}return i}const dde=e=>{const{classes:t,position:r,id:s}=e,a={root:["root","directionY",r,`id-${s}`],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]};return Jn(a,tde,t)},AO=2,Bgt=2,ude={disableLine:!1,disableTicks:!1,tickSize:6},zgt=["scale","tickNumber","reverse"];function fde(e){const{yAxis:t,yAxisIds:r}=pd(),s=t[e.axisId??r[0]],{scale:a,tickNumber:i}=s,o=Cr(s,zgt),c=Wi({props:pe({},o,e),name:"MuiChartsYAxis"}),d=pe({},ude,c),{position:u,tickLabelStyle:l,slots:f,slotProps:m}=d,p=ah(),x=uw(),b=dde(d),h=u==="right"?1:-1,y=typeof l?.fontSize=="number"?l.fontSize:12,w=f?.axisTick??"line",S=f?.axisTickLabel??nk,N=nde((u==="right"?-90:90)-(l?.angle??0)),_=ade((u==="right"?-90:90)-(l?.angle??0)),k=Jc({elementType:S,externalSlotProps:m?.axisTickLabel,additionalProps:{style:pe({},p.typography.caption,{fontSize:y,textAnchor:x?ide(N):N,dominantBaseline:_},l)},className:b.tickLabel,ownerState:{}});return{yScale:a,defaultizedProps:d,tickNumber:i,positionSign:h,classes:b,Tick:w,TickLabel:S,axisTickLabelProps:k}}function Ugt(e){const{axisLabelHeight:t}=e,{yScale:r,defaultizedProps:s,tickNumber:a,positionSign:i,classes:o,Tick:c,TickLabel:d,axisTickLabelProps:u}=fde(e),l=uw(),{disableTicks:f,tickSize:m,valueFormatter:p,slotProps:x,tickPlacement:b,tickLabelPlacement:h,tickInterval:y,tickLabelInterval:w,width:S}=s,N=Ro(),{instance:_}=xd(),k=rk(),E=f?4:m,T=sk({scale:r,tickNumber:a,valueFormatter:p,tickPlacement:b,tickLabelPlacement:h,tickInterval:y,direction:"y"}),D=Math.max(0,S-(t>0?t+Bgt:0)-E-AO),P=k?Lgt(T,N,D,l,u.style):new Map(Array.from(T).map(M=>[M,M.formattedValue]));return n.jsx(v.Fragment,{children:T.map((M,R)=>{const{offset:B,labelOffset:L,value:$}=M,I=i*(E+AO),z=L,H=typeof w=="function"&&!w?.($,R),Z=_.isYInside(B),V=P.get(M);return Z?n.jsxs("g",{transform:`translate(0, ${B})`,className:o.tickContainer,children:[!f&&n.jsx(c,pe({x2:i*E,className:o.tick},x?.axisTick)),V!==void 0&&!H&&n.jsx(d,pe({x:I,y:z,text:V},u))]},R):null})})}const fY={tickSize:6},Hgt=(e,t,r)=>{const s=e[t]??{},a=r??fY.tickSize,i=a*t*2+a;return pe({},fY,s,{tickSize:s.tickSize??i})};function Vgt(e){const{yScale:t,defaultizedProps:r,positionSign:s,classes:a,Tick:i,TickLabel:o,axisTickLabelProps:c}=fde(e);if(!ba(t))throw new Error("MUI X Charts: ChartsGroupedYAxis only supports the `band` and `point` scale types.");const{disableTicks:d,tickSize:u,valueFormatter:l,slotProps:f,tickInterval:m,tickPlacement:p,tickLabelPlacement:x}=r,b=r.groups,{instance:h}=xd(),y=lde({scale:t,tickInterval:m,tickPlacement:p,tickLabelPlacement:x,groups:b});return n.jsx(v.Fragment,{children:y.map((w,S)=>{const{offset:N,labelOffset:_}=w,k=_??0,E=h.isYInside(N),T=w.formattedValue,D=w.ignoreTick??!1,P=w.groupIndex??0,M=Hgt(b,P,u),R=s*M.tickSize,B=s*(M.tickSize+AO);return n.jsxs("g",{transform:`translate(0, ${N})`,className:a.tickContainer,"data-group-index":P,children:[!d&&!D&&E&&n.jsx(i,pe({x2:R,className:a.tick},f?.axisTick)),T!==void 0&&n.jsx(o,pe({x:B,y:k},c,{style:pe({},c.style,M.tickLabelStyle),text:T}))]},S)})})}const Wgt=["axis"],qgt=["scale","tickNumber","reverse"],Ggt=dr(cde,{name:"MuiChartsYAxis",slot:"Root"})({});function Ygt(e){let{axis:t}=e,r=Cr(e,Wgt);const{scale:s}=t,a=Cr(t,qgt),i=rk(),o=Wi({props:pe({},a,r),name:"MuiChartsYAxis"}),c=pe({},ude,o),{position:d,disableLine:u,label:l,labelStyle:f,offset:m,width:p,sx:x,slots:b,slotProps:h}=c,y=ah(),w=dde(c),{left:S,top:N,width:_,height:k}=Ro(),E=d==="right"?1:-1,T=b?.axisLine??"line",D=b?.axisLabel??nk,P=Jc({elementType:T,externalSlotProps:h?.axisLine,additionalProps:{strokeLinecap:"square"},ownerState:{}}),M=Jc({elementType:D,externalSlotProps:h?.axisLabel,additionalProps:{style:pe({},y.typography.body1,{lineHeight:1,fontSize:14,angle:E*90,textAnchor:"middle",dominantBaseline:"text-before-edge"},f)},ownerState:{}});if(d==="none")return null;const R={x:E*p,y:N+k/2},B=l==null?0:ww(l,M.style).height,L=s.domain(),I=ba(s)?L.length===0:L.some(HF);let z=null;return I||(z="groups"in t&&Array.isArray(t.groups)?n.jsx(Vgt,pe({},r)):n.jsx(Ugt,pe({},r,{axisLabelHeight:B}))),n.jsxs(Ggt,{transform:`translate(${d==="right"?S+_+m:S-m}, 0)`,className:w.root,sx:x,children:[!u&&n.jsx(T,pe({y1:N,y2:N+k,className:w.line},P)),z,l&&i&&n.jsx("g",{className:w.label,children:n.jsx(D,pe({},R,M,{text:l}))})]})}function Kgt(e){const{yAxis:t,yAxisIds:r}=pd(),s=t[e.axisId??r[0]];return s?n.jsx(Ygt,pe({},e,{axis:s})):(`${e.axisId}`,null)}function Zgt(e){const{slots:t,slotProps:r}=e,{xAxisIds:s,xAxis:a}=hd(),{yAxisIds:i,yAxis:o}=pd();return n.jsxs(v.Fragment,{children:[s.map(c=>!a[c].position||a[c].position==="none"?null:n.jsx($gt,{slots:t,slotProps:r,axisId:c},c)),i.map(c=>!o[c].position||o[c].position==="none"?null:n.jsx(Kgt,{slots:t,slotProps:r,axisId:c},c))]})}function Xgt(){return cdt}const Bm=Idt;function ch(e){return Rdt(e)}function Jgt(e){return typeof e.main=="string"}function Qgt(e,t=[]){if(!Jgt(e))return!1;for(const r of t)if(!e.hasOwnProperty(r)||typeof e[r]!="string")return!1;return!0}function Zy(e=[]){return([,t])=>t&&Qgt(t,e)}function ext(e){return Xn("MuiTypography",e)}Fn("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const txt={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},rxt=Xgt(),sxt=e=>{const{align:t,gutterBottom:r,noWrap:s,paragraph:a,variant:i,classes:o}=e,c={root:["root",i,e.align!=="inherit"&&`align${ss(t)}`,r&&"gutterBottom",s&&"noWrap",a&&"paragraph"]};return Jn(c,ext,o)},nxt=dr("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${ss(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(Bm(({theme:e})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([t,r])=>t!=="inherit"&&r&&typeof r=="object").map(([t,r])=>({props:{variant:t},style:r})),...Object.entries(e.palette).filter(Zy()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette?.text||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${ss(t)}`},style:{color:(e.vars||e).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}))),mY={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},qF=v.forwardRef(function(t,r){const{color:s,...a}=ch({props:t,name:"MuiTypography"}),i=!txt[s],o=rxt({...a,...i&&{color:s}}),{align:c="inherit",className:d,component:u,gutterBottom:l=!1,noWrap:f=!1,paragraph:m=!1,variant:p="body1",variantMapping:x=mY,...b}=o,h={...o,align:c,color:s,className:d,component:u,gutterBottom:l,noWrap:f,paragraph:m,variant:p,variantMapping:x},y=u||(m?"p":x[p]||mY[p])||"span",w=sxt(h);return n.jsx(nxt,{as:y,ref:r,className:St(w.root,d),...b,ownerState:h,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...b.style}})});function axt(e){return Xn("MuiChartsTooltip",e)}const Dp=Fn("MuiChartsTooltip",["root","paper","table","row","cell","mark","markContainer","labelCell","valueCell","axisValueCell"]),ak=e=>Jn({root:["root"],paper:["paper"],table:["table"],row:["row"],cell:["cell"],mark:["mark"],markContainer:["markContainer"],labelCell:["labelCell"],valueCell:["valueCell"],axisValueCell:["axisValueCell"]},axt,e);function ixt(){const e=ds(),t=Tt(e,pce),r=Tt(e,Po),s=ek(),{xAxis:a,xAxisIds:i}=hd(),{yAxis:o,yAxisIds:c}=pd(),{zAxis:d,zAxisIds:u}=$F(),{rotationAxis:l,rotationAxisIds:f}=Mce();if(!t)return null;const m=s[t.type]?.series[t.seriesId];if(!m)return null;const p=g_(m)?m.xAxisId??i[0]:void 0,x=g_(m)?m.yAxisId??c[0]:void 0,b="zAxisId"in m?m.zAxisId??u[0]:u[0],h=f[0],y=r[m.type].colorProcessor?.(m,p!==void 0?a[p]:void 0,x!==void 0?o[x]:void 0,b!==void 0?d[b]:void 0)??(()=>""),w={};return p!==void 0&&(w.x=a[p]),x!==void 0&&(w.y=o[x]),h!==void 0&&(w.rotation=l[h]),r[m.type].tooltipGetter({series:m,axesConfig:w,getColor:y,identifier:t})}const TO=dr("div",{name:"MuiChartsTooltip",slot:"Container",overridesResolver:(e,t)=>t.paper})(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,borderRadius:(e.vars||e).shape?.borderRadius,border:`solid ${(e.vars||e).palette.divider} 1px`})),DO=dr("table",{name:"MuiChartsTooltip",slot:"Table"})(({theme:e})=>({borderSpacing:0,[`& .${Dp.markContainer}`]:{display:"inline-block",width:`calc(20px + ${e.spacing(1.5)})`,verticalAlign:"middle"},"& caption":{borderBottom:`solid ${(e.vars||e).palette.divider} 1px`,padding:e.spacing(.5,1.5),textAlign:"start",whiteSpace:"nowrap","& span":{marginRight:e.spacing(1.5)}}})),PO=dr("tr",{name:"MuiChartsTooltip",slot:"Row"})(({theme:e})=>({"tr:first-of-type& td":{paddingTop:e.spacing(.5)},"tr:last-of-type& td":{paddingBottom:e.spacing(.5)}})),Up=dr(qF,{name:"MuiChartsTooltip",slot:"Cell"})(({theme:e})=>({verticalAlign:"middle",color:(e.vars||e).palette.text.secondary,textAlign:"start",[`&.${Dp.cell}`]:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},[`&.${Dp.labelCell}`]:{whiteSpace:"nowrap",fontWeight:e.typography.fontWeightRegular},[`&.${Dp.valueCell}, &.${Dp.axisValueCell}`]:{color:(e.vars||e).palette.text.primary,fontWeight:e.typography.fontWeightMedium},[`&.${Dp.valueCell}`]:{paddingLeft:e.spacing(1.5),paddingRight:e.spacing(1.5)},"td:first-of-type&, th:first-of-type&":{paddingLeft:e.spacing(1.5)},"td:last-of-type&, th:last-of-type&":{paddingRight:e.spacing(1.5)}}));function oxt(e){return Xn("MuiChartsLabelMark",e)}const Sp=Fn("MuiChartsLabelMark",["root","line","square","circle","mask","fill"]),lxt=e=>{const{type:t}=e;return Jn({root:typeof t=="function"?["root"]:["root",t],mask:["mask"],fill:["fill"]},oxt,e.classes)},mde=(e,t,r)=>v.forwardRef(function(a,i){const o=Wi({props:a,name:e}),c=typeof t.defaultProps=="function"?t.defaultProps(o):t.defaultProps??{},d=$m(c,o),u=ah(),l=t.classesResolver?.(d,u),f=v.forwardRef(r);return n.jsx(f,pe({},d,{classes:l,ref:i}))}),cxt=["type","color","className","classes"],dxt=dr("div",{name:"MuiChartsLabelMark",slot:"Root"})(()=>({display:"flex",width:14,height:14,[`&.${Sp.line}`]:{width:16,height:"unset",alignItems:"center",[`.${Sp.mask}`]:{height:4,width:"100%",borderRadius:1,overflow:"hidden"}},[`&.${Sp.square}`]:{height:13,width:13,borderRadius:2,overflow:"hidden"},[`&.${Sp.circle}`]:{height:15,width:15},svg:{display:"block"},[`& .${Sp.mask} > *`]:{height:"100%",width:"100%"},[`& .${Sp.mask}`]:{height:"100%",width:"100%"}})),j_=mde("MuiChartsLabelMark",{defaultProps:{type:"square"},classesResolver:lxt},function(t,r){const{type:s,color:a,className:i,classes:o}=t,c=Cr(t,cxt),d=s;return n.jsx(dxt,pe({className:St(o?.root,i),ownerState:t,"aria-hidden":"true",ref:r},c,{children:n.jsx("div",{className:o?.mask,children:typeof d=="function"?n.jsx(d,{className:o?.fill,color:a}):n.jsx("svg",{viewBox:"0 0 24 24",preserveAspectRatio:s==="line"?"none":void 0,children:s==="circle"?n.jsx("circle",{className:o?.fill,r:"12",cx:"12",cy:"12",fill:a}):n.jsx("rect",{className:o?.fill,width:"24",height:"24",fill:a})})})}))});function uxt(e){const{classes:t,sx:r}=e,s=ixt(),a=ak(t);if(!s)return null;if("values"in s){const{label:u,color:l,markType:f}=s;return n.jsx(TO,{sx:r,className:a.paper,children:n.jsxs(DO,{className:a.table,children:[n.jsxs(qF,{component:"caption",children:[n.jsx("div",{className:a.markContainer,children:n.jsx(j_,{type:f,color:l,className:a.mark})}),u]}),n.jsx("tbody",{children:s.values.map(({formattedValue:m,label:p})=>n.jsxs(PO,{className:a.row,children:[n.jsx(Up,{className:St(a.labelCell,a.cell),component:"th",children:p}),n.jsx(Up,{className:St(a.valueCell,a.cell),component:"td",children:m})]},p))})]})})}const{color:i,label:o,formattedValue:c,markType:d}=s;return n.jsx(TO,{sx:r,className:a.paper,children:n.jsx(DO,{className:a.table,children:n.jsx("tbody",{children:n.jsxs(PO,{className:a.row,children:[n.jsxs(Up,{className:St(a.labelCell,a.cell),component:"th",children:[n.jsx("div",{className:a.markContainer,children:n.jsx(j_,{type:d,color:i,className:a.mark})}),o]}),n.jsx(Up,{className:St(a.valueCell,a.cell),component:"td",children:c})]})})})})}function fxt(e){const t=ds(),r=Tt(t,Po);return v.useMemo(()=>{const a={};return Object.keys(r).forEach(i=>{a[i]=r[i].colorProcessor}),a},[r])}const mxt=xle({themeId:j2});function hxt(){const e=LF(),[t,r]=v.useState(null);return v.useEffect(()=>{const s=e.current;if(s===null)return()=>{};const a=o=>{o.pointerType!=="mouse"&&r(null)},i=o=>{r({pointerType:o.pointerType})};return s.addEventListener("pointerenter",i),s.addEventListener("pointerup",a),()=>{s.removeEventListener("pointerenter",i),s.removeEventListener("pointerup",a)}},[e]),t}function pxt(e){return e instanceof Date?e.toUTCString():e.toLocaleString()}const gxt="@media (pointer: fine)",xxt=()=>mxt(gxt,{defaultMatches:!0}),hde=(e,t)=>t,pde=(e,t)=>t;function gde(e,t,r){return Array.isArray(r)?r.map(s=>aY(t.axis[s],e)):aY(t.axis[r],e)}const xde=tt([gw,xw,Jmt],(e,t,r)=>e===null||t===null?null:Qmt(r)(e,t)),vxt=tt([xde,lh,hde],(e,t,r=t.axisIds[0])=>e===null?null:gde(e,t,r)),vde=tt([xde,lh,pde],(e,t,r=t.axisIds)=>e===null?null:gde(e,t,r));tt([lh,vxt,hde],(e,t,r=e.axisIds[0])=>{if(t===null||t===-1||e.axisIds.length===0)return null;const s=e.axis[r]?.data;return s?s[t]:null});tt([lh,vde,pde],(e,t,r=e.axisIds)=>t===null?null:r.map((s,a)=>{const i=t[a];return i===-1?null:e.axis[s].data?.[i]}));const yde=$2({memoizeOptions:{resultEqualityCheck:ig}})(vde,lh,(e,t)=>e===null?[]:t.axisIds.map((r,s)=>({axisId:r,dataIndex:e[s]})).filter(({axisId:r,dataIndex:s})=>t.axis[r].triggerTooltip&&s>=0)),yxt=tt([yde],e=>e.length>0);function JR(e,t,r){const s=e.data?.[t]??null,i=(e.valueFormatter??(o=>e.scaleType==="utc"?pxt(o):o.toLocaleString()))(s,{location:"tooltip",scale:e.scale});return{axisDirection:r,axisId:e.id,mainAxis:e,dataIndex:t,axisValue:s,axisFormattedValue:i,seriesItems:[]}}function bxt(e={}){const{multipleAxes:t,directions:r}=e,s=tht(),a=rht(),i=sht(),o=ds(),c=Tt(o,yce),d=Tt(o,bce),u=Tt(o,yde),l=ek(),{xAxis:f}=hd(),{yAxis:m}=pd(),{zAxis:p,zAxisIds:x}=$F(),{rotationAxis:b}=Mce(),h=fxt();if(c.length===0&&d.length===0&&u.length===0)return null;const y=[];return(r===void 0||r.includes("x"))&&c.forEach(({axisId:w,dataIndex:S})=>{!t&&y.length>1||y.push(JR(f[w],S,"x"))}),(r===void 0||r.includes("y"))&&d.forEach(({axisId:w,dataIndex:S})=>{!t&&y.length>1||y.push(JR(m[w],S,"y"))}),(r===void 0||r.includes("rotation"))&&u.forEach(({axisId:w,dataIndex:S})=>{!t&&y.length>1||y.push(JR(b[w],S,"rotation"))}),Object.keys(l).filter(Y2).forEach(w=>{const S=l[w];return S?S.seriesOrder.forEach(N=>{const _=S.series[N],k=_.xAxisId??s.id,E=_.yAxisId??a.id,T=y.findIndex(({axisDirection:D,axisId:P})=>D==="x"&&P===k||D==="y"&&P===E);if(T>=0){const D="zAxisId"in _?_.zAxisId:x[0],{dataIndex:P}=y[T],M=h[w]?.(_,f[k],m[E],D?p[D]:void 0)(P)??"",R=_.data[P]??null,B=_.valueFormatter(R,{dataIndex:P}),L=Xo(_.label,"tooltip")??null;y[T].seriesItems.push({seriesId:N,color:M,value:R,formattedValue:B,formattedLabel:L,markType:_.labelMarkType})}}):[]}),Object.keys(l).filter(FF).forEach(w=>{const S=l[w];return S?S.seriesOrder.forEach(N=>{const _=S.series[N],k=_.rotationAxisId??i?.id,E=y.findIndex(({axisDirection:T,axisId:D})=>T==="rotation"&&D===k);if(E>=0){const{dataIndex:T}=y[E],D=h[w]?.(_)(T)??"",P=_.data[T]??null,M=_.valueFormatter(P,{dataIndex:T}),R=Xo(_.label,"tooltip")??null;y[E].seriesItems.push({seriesId:N,color:D,value:P,formattedValue:M,formattedLabel:R,markType:_.labelMarkType})}}):[]}),t?y:y.length===0?y[0]:null}function wxt(e){return bxt(pe({},e,{multipleAxes:!0}))}function jxt(e){const t=ak(e.classes),r=wxt();return r===null?null:n.jsx(TO,{sx:e.sx,className:t.paper,children:r.map(({axisId:s,mainAxis:a,axisValue:i,axisFormattedValue:o,seriesItems:c})=>n.jsxs(DO,{className:t.table,children:[i!=null&&!a.hideTooltip&&n.jsx(qF,{component:"caption",children:o}),n.jsx("tbody",{children:c.map(({seriesId:d,color:u,formattedValue:l,formattedLabel:f,markType:m})=>l==null?null:n.jsxs(PO,{className:t.row,children:[n.jsxs(Up,{className:St(t.labelCell,t.cell),component:"th",children:[n.jsx("div",{className:t.markContainer,children:n.jsx(j_,{type:m,color:u,className:t.mark})}),f||null]}),n.jsx(Up,{className:St(t.valueCell,t.cell),component:"td",children:l})]},d))})]},s))})}var Ka="top",jo="bottom",So="right",Za="left",GF="auto",jw=[Ka,jo,So,Za],Ig="start",Xy="end",Sxt="clippingParents",bde="viewport",N0="popper",Nxt="reference",hY=jw.reduce(function(e,t){return e.concat([t+"-"+Ig,t+"-"+Xy])},[]),wde=[].concat(jw,[GF]).reduce(function(e,t){return e.concat([t,t+"-"+Ig,t+"-"+Xy])},[]),Cxt="beforeRead",_xt="read",Ext="afterRead",kxt="beforeMain",Axt="main",Txt="afterMain",Dxt="beforeWrite",Pxt="write",Rxt="afterWrite",Mxt=[Cxt,_xt,Ext,kxt,Axt,Txt,Dxt,Pxt,Rxt];function Vl(e){return e?(e.nodeName||"").toLowerCase():null}function Ii(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function zm(e){var t=Ii(e).Element;return e instanceof t||e instanceof Element}function xo(e){var t=Ii(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function YF(e){if(typeof ShadowRoot>"u")return!1;var t=Ii(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Oxt(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var s=t.styles[r]||{},a=t.attributes[r]||{},i=t.elements[r];!xo(i)||!Vl(i)||(Object.assign(i.style,s),Object.keys(a).forEach(function(o){var c=a[o];c===!1?i.removeAttribute(o):i.setAttribute(o,c===!0?"":c)}))})}function Ixt(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(s){var a=t.elements[s],i=t.attributes[s]||{},o=Object.keys(t.styles.hasOwnProperty(s)?t.styles[s]:r[s]),c=o.reduce(function(d,u){return d[u]="",d},{});!xo(a)||!Vl(a)||(Object.assign(a.style,c),Object.keys(i).forEach(function(d){a.removeAttribute(d)}))})}}const Fxt={name:"applyStyles",enabled:!0,phase:"write",fn:Oxt,effect:Ixt,requires:["computeStyles"]};function Fl(e){return e.split("-")[0]}var vm=Math.max,S_=Math.min,Fg=Math.round;function RO(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function jde(){return!/^((?!chrome|android).)*safari/i.test(RO())}function $g(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var s=e.getBoundingClientRect(),a=1,i=1;t&&xo(e)&&(a=e.offsetWidth>0&&Fg(s.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Fg(s.height)/e.offsetHeight||1);var o=zm(e)?Ii(e):window,c=o.visualViewport,d=!jde()&&r,u=(s.left+(d&&c?c.offsetLeft:0))/a,l=(s.top+(d&&c?c.offsetTop:0))/i,f=s.width/a,m=s.height/i;return{width:f,height:m,top:l,right:u+f,bottom:l+m,left:u,x:u,y:l}}function KF(e){var t=$g(e),r=e.offsetWidth,s=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-s)<=1&&(s=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:s}}function Sde(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&YF(r)){var s=t;do{if(s&&e.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function td(e){return Ii(e).getComputedStyle(e)}function $xt(e){return["table","td","th"].indexOf(Vl(e))>=0}function rf(e){return((zm(e)?e.ownerDocument:e.document)||window.document).documentElement}function ik(e){return Vl(e)==="html"?e:e.assignedSlot||e.parentNode||(YF(e)?e.host:null)||rf(e)}function pY(e){return!xo(e)||td(e).position==="fixed"?null:e.offsetParent}function Lxt(e){var t=/firefox/i.test(RO()),r=/Trident/i.test(RO());if(r&&xo(e)){var s=td(e);if(s.position==="fixed")return null}var a=ik(e);for(YF(a)&&(a=a.host);xo(a)&&["html","body"].indexOf(Vl(a))<0;){var i=td(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function Sw(e){for(var t=Ii(e),r=pY(e);r&&$xt(r)&&td(r).position==="static";)r=pY(r);return r&&(Vl(r)==="html"||Vl(r)==="body"&&td(r).position==="static")?t:r||Lxt(e)||t}function ZF(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function hy(e,t,r){return vm(e,S_(t,r))}function Bxt(e,t,r){var s=hy(e,t,r);return s>r?r:s}function Nde(){return{top:0,right:0,bottom:0,left:0}}function Cde(e){return Object.assign({},Nde(),e)}function _de(e,t){return t.reduce(function(r,s){return r[s]=e,r},{})}var zxt=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,Cde(typeof t!="number"?t:_de(t,jw))};function Uxt(e){var t,r=e.state,s=e.name,a=e.options,i=r.elements.arrow,o=r.modifiersData.popperOffsets,c=Fl(r.placement),d=ZF(c),u=[Za,So].indexOf(c)>=0,l=u?"height":"width";if(!(!i||!o)){var f=zxt(a.padding,r),m=KF(i),p=d==="y"?Ka:Za,x=d==="y"?jo:So,b=r.rects.reference[l]+r.rects.reference[d]-o[d]-r.rects.popper[l],h=o[d]-r.rects.reference[d],y=Sw(i),w=y?d==="y"?y.clientHeight||0:y.clientWidth||0:0,S=b/2-h/2,N=f[p],_=w-m[l]-f[x],k=w/2-m[l]/2+S,E=hy(N,k,_),T=d;r.modifiersData[s]=(t={},t[T]=E,t.centerOffset=E-k,t)}}function Hxt(e){var t=e.state,r=e.options,s=r.element,a=s===void 0?"[data-popper-arrow]":s;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||Sde(t.elements.popper,a)&&(t.elements.arrow=a))}const Vxt={name:"arrow",enabled:!0,phase:"main",fn:Uxt,effect:Hxt,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Lg(e){return e.split("-")[1]}var Wxt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function qxt(e,t){var r=e.x,s=e.y,a=t.devicePixelRatio||1;return{x:Fg(r*a)/a||0,y:Fg(s*a)/a||0}}function gY(e){var t,r=e.popper,s=e.popperRect,a=e.placement,i=e.variation,o=e.offsets,c=e.position,d=e.gpuAcceleration,u=e.adaptive,l=e.roundOffsets,f=e.isFixed,m=o.x,p=m===void 0?0:m,x=o.y,b=x===void 0?0:x,h=typeof l=="function"?l({x:p,y:b}):{x:p,y:b};p=h.x,b=h.y;var y=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),S=Za,N=Ka,_=window;if(u){var k=Sw(r),E="clientHeight",T="clientWidth";if(k===Ii(r)&&(k=rf(r),td(k).position!=="static"&&c==="absolute"&&(E="scrollHeight",T="scrollWidth")),k=k,a===Ka||(a===Za||a===So)&&i===Xy){N=jo;var D=f&&k===_&&_.visualViewport?_.visualViewport.height:k[E];b-=D-s.height,b*=d?1:-1}if(a===Za||(a===Ka||a===jo)&&i===Xy){S=So;var P=f&&k===_&&_.visualViewport?_.visualViewport.width:k[T];p-=P-s.width,p*=d?1:-1}}var M=Object.assign({position:c},u&&Wxt),R=l===!0?qxt({x:p,y:b},Ii(r)):{x:p,y:b};if(p=R.x,b=R.y,d){var B;return Object.assign({},M,(B={},B[N]=w?"0":"",B[S]=y?"0":"",B.transform=(_.devicePixelRatio||1)<=1?"translate("+p+"px, "+b+"px)":"translate3d("+p+"px, "+b+"px, 0)",B))}return Object.assign({},M,(t={},t[N]=w?b+"px":"",t[S]=y?p+"px":"",t.transform="",t))}function Gxt(e){var t=e.state,r=e.options,s=r.gpuAcceleration,a=s===void 0?!0:s,i=r.adaptive,o=i===void 0?!0:i,c=r.roundOffsets,d=c===void 0?!0:c,u={placement:Fl(t.placement),variation:Lg(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,gY(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:d})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,gY(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Yxt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Gxt,data:{}};var P1={passive:!0};function Kxt(e){var t=e.state,r=e.instance,s=e.options,a=s.scroll,i=a===void 0?!0:a,o=s.resize,c=o===void 0?!0:o,d=Ii(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&u.forEach(function(l){l.addEventListener("scroll",r.update,P1)}),c&&d.addEventListener("resize",r.update,P1),function(){i&&u.forEach(function(l){l.removeEventListener("scroll",r.update,P1)}),c&&d.removeEventListener("resize",r.update,P1)}}const Zxt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Kxt,data:{}};var Xxt={left:"right",right:"left",bottom:"top",top:"bottom"};function rC(e){return e.replace(/left|right|bottom|top/g,function(t){return Xxt[t]})}var Jxt={start:"end",end:"start"};function xY(e){return e.replace(/start|end/g,function(t){return Jxt[t]})}function XF(e){var t=Ii(e),r=t.pageXOffset,s=t.pageYOffset;return{scrollLeft:r,scrollTop:s}}function JF(e){return $g(rf(e)).left+XF(e).scrollLeft}function Qxt(e,t){var r=Ii(e),s=rf(e),a=r.visualViewport,i=s.clientWidth,o=s.clientHeight,c=0,d=0;if(a){i=a.width,o=a.height;var u=jde();(u||!u&&t==="fixed")&&(c=a.offsetLeft,d=a.offsetTop)}return{width:i,height:o,x:c+JF(e),y:d}}function evt(e){var t,r=rf(e),s=XF(e),a=(t=e.ownerDocument)==null?void 0:t.body,i=vm(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=vm(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),c=-s.scrollLeft+JF(e),d=-s.scrollTop;return td(a||r).direction==="rtl"&&(c+=vm(r.clientWidth,a?a.clientWidth:0)-i),{width:i,height:o,x:c,y:d}}function QF(e){var t=td(e),r=t.overflow,s=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+s)}function Ede(e){return["html","body","#document"].indexOf(Vl(e))>=0?e.ownerDocument.body:xo(e)&&QF(e)?e:Ede(ik(e))}function py(e,t){var r;t===void 0&&(t=[]);var s=Ede(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),i=Ii(s),o=a?[i].concat(i.visualViewport||[],QF(s)?s:[]):s,c=t.concat(o);return a?c:c.concat(py(ik(o)))}function MO(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function tvt(e,t){var r=$g(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function vY(e,t,r){return t===bde?MO(Qxt(e,r)):zm(t)?tvt(t,r):MO(evt(rf(e)))}function rvt(e){var t=py(ik(e)),r=["absolute","fixed"].indexOf(td(e).position)>=0,s=r&&xo(e)?Sw(e):e;return zm(s)?t.filter(function(a){return zm(a)&&Sde(a,s)&&Vl(a)!=="body"}):[]}function svt(e,t,r,s){var a=t==="clippingParents"?rvt(e):[].concat(t),i=[].concat(a,[r]),o=i[0],c=i.reduce(function(d,u){var l=vY(e,u,s);return d.top=vm(l.top,d.top),d.right=S_(l.right,d.right),d.bottom=S_(l.bottom,d.bottom),d.left=vm(l.left,d.left),d},vY(e,o,s));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function kde(e){var t=e.reference,r=e.element,s=e.placement,a=s?Fl(s):null,i=s?Lg(s):null,o=t.x+t.width/2-r.width/2,c=t.y+t.height/2-r.height/2,d;switch(a){case Ka:d={x:o,y:t.y-r.height};break;case jo:d={x:o,y:t.y+t.height};break;case So:d={x:t.x+t.width,y:c};break;case Za:d={x:t.x-r.width,y:c};break;default:d={x:t.x,y:t.y}}var u=a?ZF(a):null;if(u!=null){var l=u==="y"?"height":"width";switch(i){case Ig:d[u]=d[u]-(t[l]/2-r[l]/2);break;case Xy:d[u]=d[u]+(t[l]/2-r[l]/2);break}}return d}function Jy(e,t){t===void 0&&(t={});var r=t,s=r.placement,a=s===void 0?e.placement:s,i=r.strategy,o=i===void 0?e.strategy:i,c=r.boundary,d=c===void 0?Sxt:c,u=r.rootBoundary,l=u===void 0?bde:u,f=r.elementContext,m=f===void 0?N0:f,p=r.altBoundary,x=p===void 0?!1:p,b=r.padding,h=b===void 0?0:b,y=Cde(typeof h!="number"?h:_de(h,jw)),w=m===N0?Nxt:N0,S=e.rects.popper,N=e.elements[x?w:m],_=svt(zm(N)?N:N.contextElement||rf(e.elements.popper),d,l,o),k=$g(e.elements.reference),E=kde({reference:k,element:S,placement:a}),T=MO(Object.assign({},S,E)),D=m===N0?T:k,P={top:_.top-D.top+y.top,bottom:D.bottom-_.bottom+y.bottom,left:_.left-D.left+y.left,right:D.right-_.right+y.right},M=e.modifiersData.offset;if(m===N0&&M){var R=M[a];Object.keys(P).forEach(function(B){var L=[So,jo].indexOf(B)>=0?1:-1,$=[Ka,jo].indexOf(B)>=0?"y":"x";P[B]+=R[$]*L})}return P}function nvt(e,t){t===void 0&&(t={});var r=t,s=r.placement,a=r.boundary,i=r.rootBoundary,o=r.padding,c=r.flipVariations,d=r.allowedAutoPlacements,u=d===void 0?wde:d,l=Lg(s),f=l?c?hY:hY.filter(function(x){return Lg(x)===l}):jw,m=f.filter(function(x){return u.indexOf(x)>=0});m.length===0&&(m=f);var p=m.reduce(function(x,b){return x[b]=Jy(e,{placement:b,boundary:a,rootBoundary:i,padding:o})[Fl(b)],x},{});return Object.keys(p).sort(function(x,b){return p[x]-p[b]})}function avt(e){if(Fl(e)===GF)return[];var t=rC(e);return[xY(e),t,xY(t)]}function ivt(e){var t=e.state,r=e.options,s=e.name;if(!t.modifiersData[s]._skip){for(var a=r.mainAxis,i=a===void 0?!0:a,o=r.altAxis,c=o===void 0?!0:o,d=r.fallbackPlacements,u=r.padding,l=r.boundary,f=r.rootBoundary,m=r.altBoundary,p=r.flipVariations,x=p===void 0?!0:p,b=r.allowedAutoPlacements,h=t.options.placement,y=Fl(h),w=y===h,S=d||(w||!x?[rC(h)]:avt(h)),N=[h].concat(S).reduce(function(K,re){return K.concat(Fl(re)===GF?nvt(t,{placement:re,boundary:l,rootBoundary:f,padding:u,flipVariations:x,allowedAutoPlacements:b}):re)},[]),_=t.rects.reference,k=t.rects.popper,E=new Map,T=!0,D=N[0],P=0;P<N.length;P++){var M=N[P],R=Fl(M),B=Lg(M)===Ig,L=[Ka,jo].indexOf(R)>=0,$=L?"width":"height",I=Jy(t,{placement:M,boundary:l,rootBoundary:f,altBoundary:m,padding:u}),z=L?B?So:Za:B?jo:Ka;_[$]>k[$]&&(z=rC(z));var H=rC(z),Z=[];if(i&&Z.push(I[R]<=0),c&&Z.push(I[z]<=0,I[H]<=0),Z.every(function(K){return K})){D=M,T=!1;break}E.set(M,Z)}if(T)for(var V=x?3:1,G=function(re){var he=N.find(function(me){var de=E.get(me);if(de)return de.slice(0,re).every(function(ie){return ie})});if(he)return D=he,"break"},U=V;U>0;U--){var Y=G(U);if(Y==="break")break}t.placement!==D&&(t.modifiersData[s]._skip=!0,t.placement=D,t.reset=!0)}}const ovt={name:"flip",enabled:!0,phase:"main",fn:ivt,requiresIfExists:["offset"],data:{_skip:!1}};function yY(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function bY(e){return[Ka,So,jo,Za].some(function(t){return e[t]>=0})}function lvt(e){var t=e.state,r=e.name,s=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,o=Jy(t,{elementContext:"reference"}),c=Jy(t,{altBoundary:!0}),d=yY(o,s),u=yY(c,a,i),l=bY(d),f=bY(u);t.modifiersData[r]={referenceClippingOffsets:d,popperEscapeOffsets:u,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}const cvt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:lvt};function dvt(e,t,r){var s=Fl(e),a=[Za,Ka].indexOf(s)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=i[0],c=i[1];return o=o||0,c=(c||0)*a,[Za,So].indexOf(s)>=0?{x:c,y:o}:{x:o,y:c}}function uvt(e){var t=e.state,r=e.options,s=e.name,a=r.offset,i=a===void 0?[0,0]:a,o=wde.reduce(function(l,f){return l[f]=dvt(f,t.rects,i),l},{}),c=o[t.placement],d=c.x,u=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=d,t.modifiersData.popperOffsets.y+=u),t.modifiersData[s]=o}const fvt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:uvt};function mvt(e){var t=e.state,r=e.name;t.modifiersData[r]=kde({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const hvt={name:"popperOffsets",enabled:!0,phase:"read",fn:mvt,data:{}};function pvt(e){return e==="x"?"y":"x"}function gvt(e){var t=e.state,r=e.options,s=e.name,a=r.mainAxis,i=a===void 0?!0:a,o=r.altAxis,c=o===void 0?!1:o,d=r.boundary,u=r.rootBoundary,l=r.altBoundary,f=r.padding,m=r.tether,p=m===void 0?!0:m,x=r.tetherOffset,b=x===void 0?0:x,h=Jy(t,{boundary:d,rootBoundary:u,padding:f,altBoundary:l}),y=Fl(t.placement),w=Lg(t.placement),S=!w,N=ZF(y),_=pvt(N),k=t.modifiersData.popperOffsets,E=t.rects.reference,T=t.rects.popper,D=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,P=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),M=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,R={x:0,y:0};if(k){if(i){var B,L=N==="y"?Ka:Za,$=N==="y"?jo:So,I=N==="y"?"height":"width",z=k[N],H=z+h[L],Z=z-h[$],V=p?-T[I]/2:0,G=w===Ig?E[I]:T[I],U=w===Ig?-T[I]:-E[I],Y=t.elements.arrow,K=p&&Y?KF(Y):{width:0,height:0},re=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Nde(),he=re[L],me=re[$],de=hy(0,E[I],K[I]),ie=S?E[I]/2-V-de-he-P.mainAxis:G-de-he-P.mainAxis,ve=S?-E[I]/2+V+de+me+P.mainAxis:U+de+me+P.mainAxis,_e=t.elements.arrow&&Sw(t.elements.arrow),xe=_e?N==="y"?_e.clientTop||0:_e.clientLeft||0:0,Le=(B=M?.[N])!=null?B:0,Ie=z+ie-Le-xe,fe=z+ve-Le,Ze=hy(p?S_(H,Ie):H,z,p?vm(Z,fe):Z);k[N]=Ze,R[N]=Ze-z}if(c){var it,ge=N==="x"?Ka:Za,He=N==="x"?jo:So,ee=k[_],le=_==="y"?"height":"width",ce=ee+h[ge],Ke=ee-h[He],Xe=[Ka,Za].indexOf(y)!==-1,ye=(it=M?.[_])!=null?it:0,Qe=Xe?ce:ee-E[le]-T[le]-ye+P.altAxis,yt=Xe?ee+E[le]+T[le]-ye-P.altAxis:Ke,Bt=p&&Xe?Bxt(Qe,ee,yt):hy(p?Qe:ce,ee,p?yt:Ke);k[_]=Bt,R[_]=Bt-ee}t.modifiersData[s]=R}}const xvt={name:"preventOverflow",enabled:!0,phase:"main",fn:gvt,requiresIfExists:["offset"]};function vvt(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function yvt(e){return e===Ii(e)||!xo(e)?XF(e):vvt(e)}function bvt(e){var t=e.getBoundingClientRect(),r=Fg(t.width)/e.offsetWidth||1,s=Fg(t.height)/e.offsetHeight||1;return r!==1||s!==1}function wvt(e,t,r){r===void 0&&(r=!1);var s=xo(t),a=xo(t)&&bvt(t),i=rf(t),o=$g(e,a,r),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(s||!s&&!r)&&((Vl(t)!=="body"||QF(i))&&(c=yvt(t)),xo(t)?(d=$g(t,!0),d.x+=t.clientLeft,d.y+=t.clientTop):i&&(d.x=JF(i))),{x:o.left+c.scrollLeft-d.x,y:o.top+c.scrollTop-d.y,width:o.width,height:o.height}}function jvt(e){var t=new Map,r=new Set,s=[];e.forEach(function(i){t.set(i.name,i)});function a(i){r.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(c){if(!r.has(c)){var d=t.get(c);d&&a(d)}}),s.push(i)}return e.forEach(function(i){r.has(i.name)||a(i)}),s}function Svt(e){var t=jvt(e);return Mxt.reduce(function(r,s){return r.concat(t.filter(function(a){return a.phase===s}))},[])}function Nvt(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function Cvt(e){var t=e.reduce(function(r,s){var a=r[s.name];return r[s.name]=a?Object.assign({},a,s,{options:Object.assign({},a.options,s.options),data:Object.assign({},a.data,s.data)}):s,r},{});return Object.keys(t).map(function(r){return t[r]})}var wY={placement:"bottom",modifiers:[],strategy:"absolute"};function jY(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function _vt(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,s=r===void 0?[]:r,a=t.defaultOptions,i=a===void 0?wY:a;return function(c,d,u){u===void 0&&(u=i);var l={placement:"bottom",orderedModifiers:[],options:Object.assign({},wY,i),modifiersData:{},elements:{reference:c,popper:d},attributes:{},styles:{}},f=[],m=!1,p={state:l,setOptions:function(y){var w=typeof y=="function"?y(l.options):y;b(),l.options=Object.assign({},i,l.options,w),l.scrollParents={reference:zm(c)?py(c):c.contextElement?py(c.contextElement):[],popper:py(d)};var S=Svt(Cvt([].concat(s,l.options.modifiers)));return l.orderedModifiers=S.filter(function(N){return N.enabled}),x(),p.update()},forceUpdate:function(){if(!m){var y=l.elements,w=y.reference,S=y.popper;if(jY(w,S)){l.rects={reference:wvt(w,Sw(S),l.options.strategy==="fixed"),popper:KF(S)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(P){return l.modifiersData[P.name]=Object.assign({},P.data)});for(var N=0;N<l.orderedModifiers.length;N++){if(l.reset===!0){l.reset=!1,N=-1;continue}var _=l.orderedModifiers[N],k=_.fn,E=_.options,T=E===void 0?{}:E,D=_.name;typeof k=="function"&&(l=k({state:l,options:T,name:D,instance:p})||l)}}}},update:Nvt(function(){return new Promise(function(h){p.forceUpdate(),h(l)})}),destroy:function(){b(),m=!0}};if(!jY(c,d))return p;p.setOptions(u).then(function(h){!m&&u.onFirstUpdate&&u.onFirstUpdate(h)});function x(){l.orderedModifiers.forEach(function(h){var y=h.name,w=h.options,S=w===void 0?{}:w,N=h.effect;if(typeof N=="function"){var _=N({state:l,name:y,instance:p,options:S}),k=function(){};f.push(_||k)}})}function b(){f.forEach(function(h){return h()}),f=[]}return p}}var Evt=[Zxt,hvt,Yxt,Fxt,fvt,ovt,xvt,Vxt,cvt],kvt=_vt({defaultModifiers:Evt});function SY(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Avt(e){return parseInt(v.version,10)>=19?e?.props?.ref||null:e?.ref||null}function Tvt(e){return typeof e=="function"?e():e}const Dvt=v.forwardRef(function(t,r){const{children:s,container:a,disablePortal:i=!1}=t,[o,c]=v.useState(null),d=Du(v.isValidElement(s)?Avt(s):null,r);if(Pn(()=>{i||c(Tvt(a)||document.body)},[a,i]),Pn(()=>{if(o&&!i)return SY(r,o),()=>{SY(r,null)}},[r,o,i]),i){if(v.isValidElement(s)){const u={ref:d};return v.cloneElement(s,u)}return s}return o&&Fu.createPortal(s,o)});function Pvt(e){return Xn("MuiPopper",e)}Fn("MuiPopper",["root"]);function Rvt(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function OO(e){return typeof e=="function"?e():e}function Mvt(e){return e.nodeType!==void 0}const Ovt=e=>{const{classes:t}=e;return Jn({root:["root"]},Pvt,t)},Ivt={},Fvt=v.forwardRef(function(t,r){const{anchorEl:s,children:a,direction:i,disablePortal:o,modifiers:c,open:d,placement:u,popperOptions:l,popperRef:f,slotProps:m={},slots:p={},TransitionProps:x,ownerState:b,...h}=t,y=v.useRef(null),w=Du(y,r),S=v.useRef(null),N=Du(S,f),_=v.useRef(N);Pn(()=>{_.current=N},[N]),v.useImperativeHandle(f,()=>S.current,[]);const k=Rvt(u,i),[E,T]=v.useState(k),[D,P]=v.useState(OO(s));v.useEffect(()=>{S.current&&S.current.forceUpdate()}),v.useEffect(()=>{s&&P(OO(s))},[s]),Pn(()=>{if(!D||!d)return;const $=H=>{T(H.placement)};let I=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:H})=>{$(H)}}];c!=null&&(I=I.concat(c)),l&&l.modifiers!=null&&(I=I.concat(l.modifiers));const z=kvt(D,y.current,{placement:k,...l,modifiers:I});return _.current(z),()=>{z.destroy(),_.current(null)}},[D,o,c,d,l,k]);const M={placement:E};x!==null&&(M.TransitionProps=x);const R=Ovt(t),B=p.root??"div",L=Jc({elementType:B,externalSlotProps:m.root,externalForwardedProps:h,additionalProps:{role:"tooltip",ref:w},ownerState:t,className:R.root});return n.jsx(B,{...L,children:typeof a=="function"?a(M):a})}),$vt=v.forwardRef(function(t,r){const{anchorEl:s,children:a,container:i,direction:o="ltr",disablePortal:c=!1,keepMounted:d=!1,modifiers:u,open:l,placement:f="bottom",popperOptions:m=Ivt,popperRef:p,style:x,transition:b=!1,slotProps:h={},slots:y={},...w}=t,[S,N]=v.useState(!0),_=()=>{N(!1)},k=()=>{N(!0)};if(!d&&!l&&(!b||S))return null;let E;if(i)E=i;else if(s){const P=OO(s);E=P&&Mvt(P)?wO(P).body:wO(null).body}const T=!l&&d&&(!b||S)?"none":void 0,D=b?{in:l,onEnter:_,onExited:k}:void 0;return n.jsx(Dvt,{disablePortal:c,container:E,children:n.jsx(Fvt,{anchorEl:s,direction:o,disablePortal:c,modifiers:u,ref:r,open:b?!S:l,placement:f,popperOptions:m,popperRef:p,slotProps:h,slots:y,...w,style:{position:"fixed",top:0,left:0,display:T,...x},TransitionProps:D,children:a})})}),Lvt=dr($vt,{name:"MuiPopper",slot:"Root"})({}),Bvt=v.forwardRef(function(t,r){const s=uw(),a=ch({props:t,name:"MuiPopper"}),{anchorEl:i,component:o,components:c,componentsProps:d,container:u,disablePortal:l,keepMounted:f,modifiers:m,open:p,placement:x,popperOptions:b,popperRef:h,transition:y,slots:w,slotProps:S,...N}=a,_=w?.root??c?.Root,k={anchorEl:i,container:u,disablePortal:l,keepMounted:f,modifiers:m,open:p,placement:x,popperOptions:b,popperRef:h,transition:y,...N};return n.jsx(Lvt,{as:o,direction:s?"rtl":"ltr",slots:{root:_},slotProps:S??d,...k,ref:r})});function zvt(e){const{children:t,defer:r=!1,fallback:s=null}=e,[a,i]=v.useState(!1);return Pn(()=>{r||i(!0)},[r]),v.useEffect(()=>{r&&i(!0)},[r]),a?t:s}function NY(e){let t,r;const s=()=>{r=null,e(...t)};function a(...i){t=i,r||(r=requestAnimationFrame(s))}return a.clear=()=>{r&&(cancelAnimationFrame(r),r=null)},a}function Uvt(){const e=ds(),t=Tt(e,Rce),r=Tt(e,md);return t!==void 0?"polar":r!==void 0?"cartesian":"none"}const Hvt=["trigger","position","anchor","classes","children"],CY=()=>!1;function Vvt(e,t,r){return r?CY:e==="item"?bmt:t==="polar"?yxt:t==="cartesian"?Cmt:CY}const Wvt=dr(Bvt,{name:"MuiChartsTooltip",slot:"Root"})(({theme:e})=>({pointerEvents:"none",zIndex:e.zIndex.modal}));function qvt(e){const t=Wi({props:e,name:"MuiChartsTooltipContainer"}),{trigger:r="axis",position:s,anchor:a="pointer",classes:i,children:o}=t,c=Cr(t,Hvt),d=LF(),u=ak(i),l=hxt(),f=xxt(),m=v.useRef(null),p=L2(()=>({x:0,y:0})),x=Uvt(),b=ds(),h=Tt(b,Rmt),y=Tt(b,Vvt(r,x,h)),S=Tt(b,vw)==="keyboard"?"node":a,N=Tt(b,r==="item"&&S==="node"?wmt:()=>null,[s]);v.useEffect(()=>{const D=d.current;if(D===null)return()=>{};if(N!==null){const R=NY(()=>{p.current={x:D.getBoundingClientRect().left+(N?.x??0),y:D.getBoundingClientRect().top+(N?.y??0)},m.current?.update()});return R(),()=>R.clear()}const P=NY((R,B)=>{p.current={x:R,y:B},m.current?.update()}),M=R=>{P(R.clientX,R.clientY)};return D.addEventListener("pointerdown",M),D.addEventListener("pointermove",M),D.addEventListener("pointerenter",M),()=>{D.removeEventListener("pointerdown",M),D.removeEventListener("pointermove",M),D.removeEventListener("pointerenter",M),P.clear()}},[d,p,N]);const _=v.useMemo(()=>({getBoundingClientRect:()=>({x:p.current.x,y:p.current.y,top:p.current.y,left:p.current.x,right:p.current.x,bottom:p.current.y,width:0,height:0,toJSON:()=>""})}),[p]),k=l?.pointerType==="mouse"||f,E=l?.pointerType==="touch"||!f,T=v.useMemo(()=>[{name:"offset",options:{offset:()=>E?[0,64]:[0,8]}},...k?[]:[{name:"flip",options:{fallbackPlacements:["top-end","top-start","bottom-end","bottom"]}}],{name:"preventOverflow",options:{altAxis:!0}}],[k,E]);return r==="none"?null:n.jsx(zvt,{children:y&&n.jsx(Wvt,pe({},c,{className:u?.root,open:y,placement:c.placement??s??(k?"right-start":"top"),popperRef:m,anchorEl:_,modifiers:T,children:o}))})}function Gvt(e){const{classes:t,trigger:r="axis"}=e,s=ak(t);return n.jsx(qvt,pe({},e,{classes:t,children:r==="axis"?n.jsx(jxt,{classes:s}):n.jsx(uxt,{classes:s})}))}const Yvt=e=>({type:"series",color:e.color,label:e.label,seriesId:e.seriesId,itemId:e.itemId});function Kvt(e){return Xn("MuiChartsLegend",e)}const Zvt=e=>{const{classes:t,direction:r}=e;return Jn({root:["root",r],item:["item"],mark:["mark"],label:["label"],series:["series"]},Kvt,t)},_Y=Fn("MuiChartsLegend",["root","item","series","mark","label","vertical","horizontal"]),Xvt=["slots","slotProps"],Jvt=["ownerState"],Qvt=(e,t,r,s)=>{function a(i,o){const c=Wi({props:i,name:e}),d=typeof r.defaultProps=="function"?r.defaultProps(c):r.defaultProps??{},u=$m(d,c),l=u,{slots:f,slotProps:m}=l,p=Cr(l,Xvt),x=ah(),b=r.classesResolver?.(u,x),h=f?.[t]??s,y=r.propagateSlots&&!f?.[t],w=Jc({elementType:h,externalSlotProps:m?.[t],additionalProps:pe({},p,{classes:b},y&&{slots:f,slotProps:m}),ownerState:{}}),S=Cr(w,Jvt),N=pe({},S);for(const _ of r.omitProps??[])delete N[_];return n.jsx(h,pe({},N,{ref:o}))}return v.forwardRef(a)};function e0t(e){return Xn("MuiChartsLabel",e)}Fn("MuiChartsLabel",["root"]);const t0t=e=>Jn({root:["root"]},e0t,e.classes),r0t=["children","className","classes"],s0t=mde("MuiChartsLabel",{classesResolver:t0t},function(t,r){const{children:s,className:a,classes:i}=t,o=Cr(t,r0t);return n.jsx("span",pe({className:St(i?.root,a),ref:r},o,{children:s}))}),n0t=["direction","onItemClick","className","classes"],a0t=dr("ul",{name:"MuiChartsLegend",slot:"Root"})(({ownerState:e,theme:t})=>pe({},t.typography.caption,{color:(t.vars||t).palette.text.primary,lineHeight:"100%",display:"flex",flexDirection:e.direction==="vertical"?"column":"row",alignItems:e.direction==="vertical"?void 0:"center",flexShrink:0,gap:t.spacing(2),listStyleType:"none",paddingInlineStart:0,marginBlock:t.spacing(1),marginInline:t.spacing(1),flexWrap:"wrap",li:{display:e.direction==="horizontal"?"inline-flex":void 0},[`button.${_Y.series}`]:{background:"none",border:"none",padding:0,fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",letterSpacing:"inherit",color:"inherit"},[`& .${_Y.series}`]:{display:e.direction==="vertical"?"flex":"inline-flex",alignItems:"center",gap:t.spacing(1)},gridArea:"legend"})),i0t=Qvt("MuiChartsLegend","legend",{defaultProps:{direction:"horizontal"},omitProps:["position"],classesResolver:Zvt},v.forwardRef(function(t,r){const s=vht(),{onItemClick:a,className:i,classes:o}=t,c=Cr(t,n0t);if(s.items.length===0)return null;const d=a?"button":"div";return n.jsx(a0t,pe({className:St(o?.root,i),ref:r},c,{ownerState:t,children:s.items.map((u,l)=>n.jsx("li",{className:o?.item,"data-series":u.id,children:n.jsxs(d,{className:o?.series,role:a?"button":void 0,type:a?"button":void 0,onClick:a?(f=>a(f,Yvt(u),l)):void 0,children:[n.jsx(j_,{className:o?.mark,color:u.color,type:u.markType}),n.jsx(s0t,{className:o?.label,children:u.label})]})},u.id))}))}));function o0t(e){return Xn("MuiChartsAxisHighlight",e)}Fn("MuiChartsAxisHighlight",["root"]);const N_=dr("path",{name:"MuiChartsAxisHighlight",slot:"Root"})(({theme:e})=>({pointerEvents:"none",variants:[{props:{axisHighlight:"band"},style:pe({fill:"white",fillOpacity:.1},e.applyStyles("light",{fill:"gray"}))},{props:{axisHighlight:"line"},style:pe({strokeDasharray:"5 2",stroke:"#ffffff"},e.applyStyles("light",{stroke:"#000000"}))}]}));function l0t(e){const{type:t,classes:r}=e,{left:s,width:a}=Ro(),i=ds(),o=Tt(i,Omt),c=Tt(i,Ma);return o.length===0?null:o.map(({axisId:d,value:u})=>{const f=c.axis[d].scale,m=Oce(f),p=t==="band"&&u!==null&&ba(f);return n.jsxs(v.Fragment,{children:[p&&f(u)!==void 0&&n.jsx(N_,{d:`M ${s} ${f(u)-(f.step()-f.bandwidth())/2} l 0 ${f.step()} l ${a} 0 l 0 ${-f.step()} Z`,className:r.root,ownerState:{axisHighlight:"band"}}),t==="line"&&u!==null&&n.jsx(N_,{d:`M ${s} ${m(u)} L ${s+a} ${m(u)}`,className:r.root,ownerState:{axisHighlight:"line"}})]},`${d}-${u}`)})}function c0t(e){const{type:t,classes:r}=e,{top:s,height:a}=Ro(),i=ds(),o=Tt(i,Mmt),c=Tt(i,Ra);return o.length===0?null:o.map(({axisId:d,value:u})=>{const f=c.axis[d].scale,m=Oce(f),p=t==="band"&&u!==null&&ba(f);return n.jsxs(v.Fragment,{children:[p&&f(u)!==void 0&&n.jsx(N_,{d:`M ${f(u)-(f.step()-f.bandwidth())/2} ${s} l ${f.step()} 0 l 0 ${a} l ${-f.step()} 0 Z`,className:r.root,ownerState:{axisHighlight:"band"}}),t==="line"&&u!==null&&n.jsx(N_,{d:`M ${m(u)} ${s} L ${m(u)} ${s+a}`,className:r.root,ownerState:{axisHighlight:"line"}})]},`${d}-${u}`)})}const d0t=()=>Jn({root:["root"]},o0t);function u0t(e){const{x:t,y:r}=e,s=d0t();return n.jsxs(v.Fragment,{children:[t&&t!=="none"&&n.jsx(c0t,{type:t,classes:s}),r&&r!=="none"&&n.jsx(l0t,{type:r,classes:s})]})}function f0t(e){const{id:t,offset:r}=e,{left:s,top:a,width:i,height:o}=Ro(),c=pe({top:0,right:0,bottom:0,left:0},r);return n.jsx("clipPath",{id:t,children:n.jsx("rect",{x:s-c.left,y:a-c.top,width:i+c.left+c.right,height:o+c.top+c.bottom})})}function m0t(e){return Xn("MuiChartsGrid",e)}const EY=Fn("MuiChartsGrid",["root","line","horizontalLine","verticalLine"]),h0t=dr("g",{name:"MuiChartsGrid",slot:"Root",overridesResolver:(e,t)=>[{[`&.${EY.verticalLine}`]:t.verticalLine},{[`&.${EY.horizontalLine}`]:t.horizontalLine},t.root]})({}),Ade=dr("line",{name:"MuiChartsGrid",slot:"Line"})(({theme:e})=>({stroke:(e.vars||e).palette.divider,shapeRendering:"crispEdges",strokeWidth:1}));function p0t(e){const{axis:t,start:r,end:s,classes:a}=e,{scale:i,tickNumber:o,tickInterval:c}=t,d=sk({scale:i,tickNumber:o,tickInterval:c,direction:"x"});return n.jsx(v.Fragment,{children:d.map(({value:u,offset:l})=>n.jsx(Ade,{y1:r,y2:s,x1:l,x2:l,className:a.verticalLine},`vertical-${u?.getTime?.()??u}`))})}function g0t(e){const{axis:t,start:r,end:s,classes:a}=e,{scale:i,tickNumber:o,tickInterval:c}=t,d=sk({scale:i,tickNumber:o,tickInterval:c,direction:"y"});return n.jsx(v.Fragment,{children:d.map(({value:u,offset:l})=>n.jsx(Ade,{y1:l,y2:l,x1:r,x2:s,className:a.horizontalLine},`horizontal-${u?.getTime?.()??u}`))})}const x0t=["vertical","horizontal"],v0t=({classes:e})=>Jn({root:["root"],verticalLine:["line","verticalLine"],horizontalLine:["line","horizontalLine"]},m0t,e);function y0t(e){const t=Wi({props:e,name:"MuiChartsGrid"}),r=Ro(),{vertical:s,horizontal:a}=t,i=Cr(t,x0t),{xAxis:o,xAxisIds:c}=hd(),{yAxis:d,yAxisIds:u}=pd(),l=v0t(t),f=d[u[0]],m=o[c[0]];return n.jsxs(h0t,pe({},i,{className:l.root,children:[s&&n.jsx(p0t,{axis:m,start:r.top,end:r.height+r.top,classes:l}),a&&n.jsx(g0t,{axis:f,start:r.left,end:r.width+r.left,classes:l})]}))}const b0t=["message"],w0t=dr("text")(({theme:e})=>pe({},e.typography.body2,{stroke:"none",fill:(e.vars||e).palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"}));function j0t(e){const{message:t}=e,r=Cr(e,b0t),{top:s,left:a,height:i,width:o}=Ro(),{localeText:c}=Vce();return n.jsx(w0t,pe({x:a+o/2,y:s+i/2},r,{children:t??c.loading}))}const S0t=["message"],N0t=dr("text")(({theme:e})=>pe({},e.typography.body2,{stroke:"none",fill:(e.vars||e).palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"}));function C0t(e){const{message:t}=e,r=Cr(e,S0t),{top:s,left:a,height:i,width:o}=Ro(),{localeText:c}=Vce();return n.jsx(N0t,pe({x:a+o/2,y:s+i/2},r,{children:t??c.noData}))}function _0t(){const e=ek();return Object.values(e).every(t=>{if(!t)return!0;const{series:r,seriesOrder:s}=t;return s.every(a=>{const i=r[a];return i.type==="sankey"?i.data.links.length===0:i.data.length===0})})}function E0t(e){const t=_0t();if(e.loading){const r=e.slots?.loadingOverlay??j0t;return n.jsx(r,pe({},e.slotProps?.loadingOverlay))}if(t){const r=e.slots?.noDataOverlay??C0t;return n.jsx(r,pe({},e.slotProps?.noDataOverlay))}return null}const k0t=[bw,yw,pw,Ax,Dx,X2],A0t=["xAxis","yAxis","series","width","height","margin","colors","dataset","sx","axisHighlight","grid","children","slots","slotProps","skipAnimation","loading","layout","onItemClick","highlightedItem","onHighlightChange","borderRadius","barLabel","className","hideLegend","showToolbar","brushConfig"],T0t=e=>{const{xAxis:t,yAxis:r,series:s,width:a,height:i,margin:o,colors:c,dataset:d,sx:u,axisHighlight:l,grid:f,children:m,slots:p,slotProps:x,skipAnimation:b,loading:h,layout:y,onItemClick:w,highlightedItem:S,onHighlightChange:N,borderRadius:_,barLabel:k,className:E,brushConfig:T}=e,D=Cr(e,A0t),M=`${F2()}-clip-path`,R=y==="horizontal"||y===void 0&&s.some(ve=>ve.layout==="horizontal"),B=v.useMemo(()=>[{id:hF,scaleType:"band",data:Array.from({length:Math.max(...s.map(ve=>(ve.data??d??[]).length))},(ve,_e)=>_e)}],[d,s]),L=v.useMemo(()=>[{id:pF,scaleType:"band",data:Array.from({length:Math.max(...s.map(ve=>(ve.data??d??[]).length))},(ve,_e)=>_e)}],[d,s]),$=v.useMemo(()=>s.map(ve=>pe({type:"bar"},ve,{layout:R?"horizontal":"vertical"})),[R,s]),I=R?void 0:B,z=v.useMemo(()=>t?R?t:t.map(ve=>pe({scaleType:"band"},ve)):I,[I,R,t]),H=R?L:void 0,Z=v.useMemo(()=>r?R?r.map(ve=>pe({scaleType:"band"},ve)):r:H,[H,R,r]),V=pe({},D,{series:$,width:a,height:i,margin:o,colors:c,dataset:d,xAxis:z,yAxis:Z,highlightedItem:S,onHighlightChange:N,disableAxisListener:x?.tooltip?.trigger!=="axis"&&l?.x==="none"&&l?.y==="none",className:E,skipAnimation:b,brushConfig:T,plugins:k0t}),G={onItemClick:w,slots:p,slotProps:x,borderRadius:_,barLabel:k},U={vertical:f?.vertical,horizontal:f?.horizontal},Y={clipPath:`url(#${M})`},K={id:M},re={slots:p,slotProps:x,loading:h},he={slots:p,slotProps:x},me=pe({},R?{y:"band"}:{x:"band"},l),de={slots:p,slotProps:x};return{chartsWrapperProps:{sx:u,legendPosition:e.slotProps?.legend?.position,legendDirection:e.slotProps?.legend?.direction,hideLegend:e.hideLegend??!1},chartContainerProps:V,barPlotProps:G,gridProps:U,clipPathProps:K,clipPathGroupProps:Y,overlayProps:re,chartsAxisProps:he,axisHighlightProps:me,legendProps:de,children:m}};function kY(e){try{return e.matches(":focus-visible")}catch{}return!1}class C_{static create(){return new C_}static use(){const t=L2(C_.create).current,[r,s]=v.useState(!1);return t.shouldMount=r,t.setShouldMount=s,v.useEffect(t.mountEffect,[r]),t}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=P0t(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...t){this.mount().then(()=>this.ref.current?.start(...t))}stop(...t){this.mount().then(()=>this.ref.current?.stop(...t))}pulsate(...t){this.mount().then(()=>this.ref.current?.pulsate(...t))}}function D0t(){return C_.use()}function P0t(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});return r.resolve=e,r.reject=t,r}function IO(e,t){return IO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},IO(e,t)}function R0t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,IO(e,t)}const AY=te.createContext(null);function M0t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e$(e,t){var r=function(i){return t&&v.isValidElement(i)?t(i):i},s=Object.create(null);return e&&v.Children.map(e,function(a){return a}).forEach(function(a){s[a.key]=r(a)}),s}function O0t(e,t){e=e||{},t=t||{};function r(l){return l in t?t[l]:e[l]}var s=Object.create(null),a=[];for(var i in e)i in t?a.length&&(s[i]=a,a=[]):a.push(i);var o,c={};for(var d in t){if(s[d])for(o=0;o<s[d].length;o++){var u=s[d][o];c[s[d][o]]=r(u)}c[d]=r(d)}for(o=0;o<a.length;o++)c[a[o]]=r(a[o]);return c}function sm(e,t,r){return r[t]!=null?r[t]:e.props[t]}function I0t(e,t){return e$(e.children,function(r){return v.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:sm(r,"appear",e),enter:sm(r,"enter",e),exit:sm(r,"exit",e)})})}function F0t(e,t,r){var s=e$(e.children),a=O0t(t,s);return Object.keys(a).forEach(function(i){var o=a[i];if(v.isValidElement(o)){var c=i in t,d=i in s,u=t[i],l=v.isValidElement(u)&&!u.props.in;d&&(!c||l)?a[i]=v.cloneElement(o,{onExited:r.bind(null,o),in:!0,exit:sm(o,"exit",e),enter:sm(o,"enter",e)}):!d&&c&&!l?a[i]=v.cloneElement(o,{in:!1}):d&&c&&v.isValidElement(u)&&(a[i]=v.cloneElement(o,{onExited:r.bind(null,o),in:u.props.in,exit:sm(o,"exit",e),enter:sm(o,"enter",e)}))}}),a}var $0t=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},L0t={component:"div",childFactory:function(t){return t}},t$=(function(e){R0t(t,e);function t(s,a){var i;i=e.call(this,s,a)||this;var o=i.handleExited.bind(M0t(i));return i.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},i}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(a,i){var o=i.children,c=i.handleExited,d=i.firstRender;return{children:d?I0t(a,c):F0t(a,o,c),firstRender:!1}},r.handleExited=function(a,i){var o=e$(this.props.children);a.key in o||(a.props.onExited&&a.props.onExited(i),this.mounted&&this.setState(function(c){var d=pe({},c.children);return delete d[a.key],{children:d}}))},r.render=function(){var a=this.props,i=a.component,o=a.childFactory,c=Cr(a,["component","childFactory"]),d=this.state.contextValue,u=$0t(this.state.children).map(o);return delete c.appear,delete c.enter,delete c.exit,i===null?te.createElement(AY.Provider,{value:d},u):te.createElement(AY.Provider,{value:d},te.createElement(i,c,u))},t})(te.Component);t$.propTypes={};t$.defaultProps=L0t;class r${static create(){return new r$}currentId=null;start(t,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},t)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function B0t(){const e=L2(r$.create).current;return Ele(e.disposeEffect),e}function z0t(e){const{className:t,classes:r,pulsate:s=!1,rippleX:a,rippleY:i,rippleSize:o,in:c,onExited:d,timeout:u}=e,[l,f]=v.useState(!1),m=St(t,r.ripple,r.rippleVisible,s&&r.ripplePulsate),p={width:o,height:o,top:-(o/2)+i,left:-(o/2)+a},x=St(r.child,l&&r.childLeaving,s&&r.childPulsate);return!c&&!l&&f(!0),v.useEffect(()=>{if(!c&&d!=null){const b=setTimeout(d,u);return()=>{clearTimeout(b)}}},[d,c,u]),n.jsx("span",{className:m,style:p,children:n.jsx("span",{className:x})})}const lo=Fn("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),FO=550,U0t=80,H0t=ow`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,V0t=ow`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,W0t=ow`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,q0t=dr("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),G0t=dr(z0t,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${lo.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${H0t};
    animation-duration: ${FO}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${lo.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${lo.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${lo.childLeaving} {
    opacity: 0;
    animation-name: ${V0t};
    animation-duration: ${FO}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${lo.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${W0t};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Y0t=v.forwardRef(function(t,r){const s=ch({props:t,name:"MuiTouchRipple"}),{center:a=!1,classes:i={},className:o,...c}=s,[d,u]=v.useState([]),l=v.useRef(0),f=v.useRef(null);v.useEffect(()=>{f.current&&(f.current(),f.current=null)},[d]);const m=v.useRef(!1),p=B0t(),x=v.useRef(null),b=v.useRef(null),h=v.useCallback(N=>{const{pulsate:_,rippleX:k,rippleY:E,rippleSize:T,cb:D}=N;u(P=>[...P,n.jsx(G0t,{classes:{ripple:St(i.ripple,lo.ripple),rippleVisible:St(i.rippleVisible,lo.rippleVisible),ripplePulsate:St(i.ripplePulsate,lo.ripplePulsate),child:St(i.child,lo.child),childLeaving:St(i.childLeaving,lo.childLeaving),childPulsate:St(i.childPulsate,lo.childPulsate)},timeout:FO,pulsate:_,rippleX:k,rippleY:E,rippleSize:T},l.current)]),l.current+=1,f.current=D},[i]),y=v.useCallback((N={},_={},k=()=>{})=>{const{pulsate:E=!1,center:T=a||_.pulsate,fakeElement:D=!1}=_;if(N?.type==="mousedown"&&m.current){m.current=!1;return}N?.type==="touchstart"&&(m.current=!0);const P=D?null:b.current,M=P?P.getBoundingClientRect():{width:0,height:0,left:0,top:0};let R,B,L;if(T||N===void 0||N.clientX===0&&N.clientY===0||!N.clientX&&!N.touches)R=Math.round(M.width/2),B=Math.round(M.height/2);else{const{clientX:$,clientY:I}=N.touches&&N.touches.length>0?N.touches[0]:N;R=Math.round($-M.left),B=Math.round(I-M.top)}if(T)L=Math.sqrt((2*M.width**2+M.height**2)/3),L%2===0&&(L+=1);else{const $=Math.max(Math.abs((P?P.clientWidth:0)-R),R)*2+2,I=Math.max(Math.abs((P?P.clientHeight:0)-B),B)*2+2;L=Math.sqrt($**2+I**2)}N?.touches?x.current===null&&(x.current=()=>{h({pulsate:E,rippleX:R,rippleY:B,rippleSize:L,cb:k})},p.start(U0t,()=>{x.current&&(x.current(),x.current=null)})):h({pulsate:E,rippleX:R,rippleY:B,rippleSize:L,cb:k})},[a,h,p]),w=v.useCallback(()=>{y({},{pulsate:!0})},[y]),S=v.useCallback((N,_)=>{if(p.clear(),N?.type==="touchend"&&x.current){x.current(),x.current=null,p.start(0,()=>{S(N,_)});return}x.current=null,u(k=>k.length>0?k.slice(1):k),f.current=_},[p]);return v.useImperativeHandle(r,()=>({pulsate:w,start:y,stop:S}),[w,y,S]),n.jsx(q0t,{className:St(lo.root,i.root,o),ref:b,...c,children:n.jsx(t$,{component:null,exit:!0,children:d})})});function K0t(e){return Xn("MuiButtonBase",e)}const Z0t=Fn("MuiButtonBase",["root","disabled","focusVisible"]),X0t=e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:s,classes:a}=e,o=Jn({root:["root",t&&"disabled",r&&"focusVisible"]},K0t,a);return r&&s&&(o.root+=` ${s}`),o},J0t=dr("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Z0t.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Tde=v.forwardRef(function(t,r){const s=ch({props:t,name:"MuiButtonBase"}),{action:a,centerRipple:i=!1,children:o,className:c,component:d="button",disabled:u=!1,disableRipple:l=!1,disableTouchRipple:f=!1,focusRipple:m=!1,focusVisibleClassName:p,LinkComponent:x="a",onBlur:b,onClick:h,onContextMenu:y,onDragLeave:w,onFocus:S,onFocusVisible:N,onKeyDown:_,onKeyUp:k,onMouseDown:E,onMouseLeave:T,onMouseUp:D,onTouchEnd:P,onTouchMove:M,onTouchStart:R,tabIndex:B=0,TouchRippleProps:L,touchRippleRef:$,type:I,...z}=s,H=v.useRef(null),Z=D0t(),V=Du(Z.ref,$),[G,U]=v.useState(!1);u&&G&&U(!1),v.useImperativeHandle(a,()=>({focusVisible:()=>{U(!0),H.current.focus()}}),[]);const Y=Z.shouldMount&&!l&&!u;v.useEffect(()=>{G&&m&&!l&&Z.pulsate()},[l,m,G,Z]);const K=bc(Z,"start",E,f),re=bc(Z,"stop",y,f),he=bc(Z,"stop",w,f),me=bc(Z,"stop",D,f),de=bc(Z,"stop",ce=>{G&&ce.preventDefault(),T&&T(ce)},f),ie=bc(Z,"start",R,f),ve=bc(Z,"stop",P,f),_e=bc(Z,"stop",M,f),xe=bc(Z,"stop",ce=>{kY(ce.target)||U(!1),b&&b(ce)},!1),Le=Yn(ce=>{H.current||(H.current=ce.currentTarget),kY(ce.target)&&(U(!0),N&&N(ce)),S&&S(ce)}),Ie=()=>{const ce=H.current;return d&&d!=="button"&&!(ce.tagName==="A"&&ce.href)},fe=Yn(ce=>{m&&!ce.repeat&&G&&ce.key===" "&&Z.stop(ce,()=>{Z.start(ce)}),ce.target===ce.currentTarget&&Ie()&&ce.key===" "&&ce.preventDefault(),_&&_(ce),ce.target===ce.currentTarget&&Ie()&&ce.key==="Enter"&&!u&&(ce.preventDefault(),h&&h(ce))}),Ze=Yn(ce=>{m&&ce.key===" "&&G&&!ce.defaultPrevented&&Z.stop(ce,()=>{Z.pulsate(ce)}),k&&k(ce),h&&ce.target===ce.currentTarget&&Ie()&&ce.key===" "&&!ce.defaultPrevented&&h(ce)});let it=d;it==="button"&&(z.href||z.to)&&(it=x);const ge={};it==="button"?(ge.type=I===void 0?"button":I,ge.disabled=u):(!z.href&&!z.to&&(ge.role="button"),u&&(ge["aria-disabled"]=u));const He=Du(r,H),ee={...s,centerRipple:i,component:d,disabled:u,disableRipple:l,disableTouchRipple:f,focusRipple:m,tabIndex:B,focusVisible:G},le=X0t(ee);return n.jsxs(J0t,{as:it,className:St(le.root,c),ownerState:ee,onBlur:xe,onClick:h,onContextMenu:re,onFocus:Le,onKeyDown:fe,onKeyUp:Ze,onMouseDown:K,onMouseLeave:de,onMouseUp:me,onDragLeave:he,onTouchEnd:ve,onTouchMove:_e,onTouchStart:ie,ref:He,tabIndex:u?-1:B,type:I,...ge,...z,children:[o,Y?n.jsx(Y0t,{ref:V,center:i,...L}):null]})});function bc(e,t,r,s=!1){return Yn(a=>(r&&r(a),s||e[t](a),!0))}function Q0t(e){return Xn("MuiCircularProgress",e)}Fn("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Bo=44,$O=ow`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,LO=ow`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,eyt=typeof $O!="string"?nF`
        animation: ${$O} 1.4s linear infinite;
      `:null,tyt=typeof LO!="string"?nF`
        animation: ${LO} 1.4s ease-in-out infinite;
      `:null,ryt=e=>{const{classes:t,variant:r,color:s,disableShrink:a}=e,i={root:["root",r,`color${ss(s)}`],svg:["svg"],track:["track"],circle:["circle",`circle${ss(r)}`,a&&"circleDisableShrink"]};return Jn(i,Q0t,t)},syt=dr("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`color${ss(r.color)}`]]}})(Bm(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:eyt||{animation:`${$O} 1.4s linear infinite`}},...Object.entries(e.palette).filter(Zy()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),nyt=dr("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),ayt=dr("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.circle,t[`circle${ss(r.variant)}`],r.disableShrink&&t.circleDisableShrink]}})(Bm(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:tyt||{animation:`${LO} 1.4s ease-in-out infinite`}}]}))),iyt=dr("circle",{name:"MuiCircularProgress",slot:"Track"})(Bm(({theme:e})=>({stroke:"currentColor",opacity:(e.vars||e).palette.action.activatedOpacity}))),Dde=v.forwardRef(function(t,r){const s=ch({props:t,name:"MuiCircularProgress"}),{className:a,color:i="primary",disableShrink:o=!1,enableTrackSlot:c=!1,size:d=40,style:u,thickness:l=3.6,value:f=0,variant:m="indeterminate",...p}=s,x={...s,color:i,disableShrink:o,size:d,thickness:l,value:f,variant:m,enableTrackSlot:c},b=ryt(x),h={},y={},w={};if(m==="determinate"){const S=2*Math.PI*((Bo-l)/2);h.strokeDasharray=S.toFixed(3),w["aria-valuenow"]=Math.round(f),h.strokeDashoffset=`${((100-f)/100*S).toFixed(3)}px`,y.transform="rotate(-90deg)"}return n.jsx(syt,{className:St(b.root,a),style:{width:d,height:d,...y,...u},ownerState:x,ref:r,role:"progressbar",...w,...p,children:n.jsxs(nyt,{className:b.svg,ownerState:x,viewBox:`${Bo/2} ${Bo/2} ${Bo} ${Bo}`,children:[c?n.jsx(iyt,{className:b.track,ownerState:x,cx:Bo,cy:Bo,r:(Bo-l)/2,fill:"none",strokeWidth:l,"aria-hidden":"true"}):null,n.jsx(ayt,{className:b.circle,style:h,ownerState:x,cx:Bo,cy:Bo,r:(Bo-l)/2,fill:"none",strokeWidth:l})]})})});function oyt(e){return Xn("MuiIconButton",e)}const TY=Fn("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),lyt=e=>{const{classes:t,disabled:r,color:s,edge:a,size:i,loading:o}=e,c={root:["root",o&&"loading",r&&"disabled",s!=="default"&&`color${ss(s)}`,a&&`edge${ss(a)}`,`size${ss(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Jn(c,oyt,t)},cyt=dr(Tde,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.loading&&t.loading,r.color!=="default"&&t[`color${ss(r.color)}`],r.edge&&t[`edge${ss(r.edge)}`],t[`size${ss(r.size)}`]]}})(Bm(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Bm(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(Zy()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(Zy()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${TY.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${TY.loading}`]:{color:"transparent"}}))),dyt=dr("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),uyt=v.forwardRef(function(t,r){const s=ch({props:t,name:"MuiIconButton"}),{edge:a=!1,children:i,className:o,color:c="default",disabled:d=!1,disableFocusRipple:u=!1,size:l="medium",id:f,loading:m=null,loadingIndicator:p,...x}=s,b=F2(f),h=p??n.jsx(Dde,{"aria-labelledby":b,color:"inherit",size:16}),y={...s,edge:a,color:c,disabled:d,disableFocusRipple:u,loading:m,loadingIndicator:h,size:l},w=lyt(y);return n.jsxs(cyt,{id:m?b:f,className:St(w.root,o),centerRipple:!0,focusRipple:!u,disabled:d||m,ref:r,...x,ownerState:y,children:[typeof m=="boolean"&&n.jsx("span",{className:w.loadingWrapper,style:{display:"contents"},children:n.jsx(dyt,{className:w.loadingIndicator,ownerState:y,children:m&&h})}),i]})});function fyt(e){return Xn("MuiButton",e)}const Rf=Fn("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),myt=v.createContext({}),hyt=v.createContext(void 0),pyt=e=>{const{color:t,disableElevation:r,fullWidth:s,size:a,variant:i,loading:o,loadingPosition:c,classes:d}=e,u={root:["root",o&&"loading",i,`${i}${ss(t)}`,`size${ss(a)}`,`${i}Size${ss(a)}`,`color${ss(t)}`,r&&"disableElevation",s&&"fullWidth",o&&`loadingPosition${ss(c)}`],startIcon:["icon","startIcon",`iconSize${ss(a)}`],endIcon:["icon","endIcon",`iconSize${ss(a)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},l=Jn(u,fyt,d);return{...d,...l}},Pde=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],gyt=dr(Tde,{shouldForwardProp:e=>_le(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${ss(r.color)}`],t[`size${ss(r.size)}`],t[`${r.variant}Size${ss(r.size)}`],r.color==="inherit"&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth,r.loading&&t.loading]}})(Bm(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],r=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Rf.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${Rf.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${Rf.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Rf.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(Zy()).map(([s])=>({props:{color:s},style:{"--variant-textColor":(e.vars||e).palette[s].main,"--variant-outlinedColor":(e.vars||e).palette[s].main,"--variant-outlinedBorder":e.alpha((e.vars||e).palette[s].main,.5),"--variant-containedColor":(e.vars||e).palette[s].contrastText,"--variant-containedBg":(e.vars||e).palette[s].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[s].dark,"--variant-textBg":e.alpha((e.vars||e).palette[s].main,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[s].main,"--variant-outlinedBg":e.alpha((e.vars||e).palette[s].main,(e.vars||e).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Rf.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Rf.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${Rf.loading}`]:{color:"transparent"}}}]}})),xyt=dr("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,r.loading&&t.startIconLoadingStart,t[`iconSize${ss(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...Pde]})),vyt=dr("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,r.loading&&t.endIconLoadingEnd,t[`iconSize${ss(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...Pde]})),yyt=dr("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),DY=dr("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),byt=v.forwardRef(function(t,r){const s=v.useContext(myt),a=v.useContext(hyt),i=$m(s,t),o=ch({props:i,name:"MuiButton"}),{children:c,color:d="primary",component:u="button",className:l,disabled:f=!1,disableElevation:m=!1,disableFocusRipple:p=!1,endIcon:x,focusVisibleClassName:b,fullWidth:h=!1,id:y,loading:w=null,loadingIndicator:S,loadingPosition:N="center",size:_="medium",startIcon:k,type:E,variant:T="text",...D}=o,P=F2(y),M=S??n.jsx(Dde,{"aria-labelledby":P,color:"inherit",size:16}),R={...o,color:d,component:u,disabled:f,disableElevation:m,disableFocusRipple:p,fullWidth:h,loading:w,loadingIndicator:M,loadingPosition:N,size:_,type:E,variant:T},B=pyt(R),L=(k||w&&N==="start")&&n.jsx(xyt,{className:B.startIcon,ownerState:R,children:k||n.jsx(DY,{className:B.loadingIconPlaceholder,ownerState:R})}),$=(x||w&&N==="end")&&n.jsx(vyt,{className:B.endIcon,ownerState:R,children:x||n.jsx(DY,{className:B.loadingIconPlaceholder,ownerState:R})}),I=a||"",z=typeof w=="boolean"?n.jsx("span",{className:B.loadingWrapper,style:{display:"contents"},children:w&&n.jsx(yyt,{className:B.loadingIndicator,ownerState:R,children:M})}):null;return n.jsxs(gyt,{ownerState:R,className:St(s.className,B.root,l,I),component:u,disabled:f||w,focusRipple:!p,focusVisibleClassName:St(B.focusVisible,b),ref:r,type:E,id:w?P:y,...D,classes:B,children:[L,N!=="end"&&z,c,N==="end"&&z,$]})}),wyt={baseButton:byt,baseIconButton:uyt},jyt={},Syt=pe({},wyt,jyt),Nyt=v.createContext(null);function Cyt(e){const{slots:t,slotProps:r={},defaultSlots:s,children:a}=e,i=v.useMemo(()=>({slots:pe({},s,t),slotProps:r}),[s,t,r]);return n.jsx(Nyt.Provider,{value:i,children:a})}function _yt(e,t,r,s,a,i,o,c,d,u,l,f=1/0,m=1){const p=s.copy(),x=a.copy();p.range([0,1]),x.range([0,1]);const b=function(T){const D=p(r[T].x),P=x(r[T].y);return D>=i&&D<=o&&P>=c&&P<=d},h=s.range()[1]-s.range()[0],y=a.range()[1]-a.range()[0],w=h*h,S=y*y;function N(E,T){return w*E*E+S*T*T}const _=p(PY(s,u,E=>r[E].x)),k=x(PY(a,l,E=>r[E].y));return e.neighbors(_,k,m,f!=null?f*f:1/0,b,N)}function PY(e,t,r){if(ba(e)){const s=e.bandwidth()===0?Math.floor((t-Math.min(...e.range())+e.step()/2)/e.step()):Math.floor((t-Math.min(...e.range()))/e.step());return r(s)}return e.invert(t)}const ok=({svgRef:e,params:t,store:r,instance:s})=>{const{disableVoronoi:a,voronoiMaxRadius:i,onItemClick:o}=t,c=Tt(r,si),{axis:d,axisIds:u}=Tt(r,Ra),{axis:l,axisIds:f}=Tt(r,Ma),m=Tt(r,rce),{series:p,seriesOrder:x}=Tt(r,Qn)?.scatter??{},b=Tt(r,m?nmt:amt),h=u[0],y=f[0];Pn(()=>{r.set("voronoi",{isVoronoiEnabled:!a})},[r,a]),v.useEffect(()=>{if(e.current===null||a)return;const N=e.current;function _(L){const $=Yy(N,L);if(!s.isPointInside($.x,$.y))return"outside-chart";let I;for(const z of x??[]){const H=(p??{})[z],Z=b.get(z);if(!Z)continue;const V=H.xAxisId??h,G=H.yAxisId??y,U=eY(r.getSnapshot(),V),Y=eY(r.getSnapshot(),G),K=i==="item"?H.markerSize:i,re=(U?.start??0)/100,he=(U?.end??100)/100,me=(Y?.start??0)/100,de=(Y?.end??100)/100,ie=d[V].scale,ve=l[G].scale,_e=_yt(Z,c,H.data,ie,ve,re,he,me,de,$.x,$.y,K)[0];if(_e===void 0)continue;const xe=H.data[_e],Le=ie(xe.x),Ie=ve(xe.y),fe=(Le-$.x)**2+(Ie-$.y)**2;(I===void 0||fe<I.distanceSq)&&(I={dataIndex:_e,seriesId:z,distanceSq:fe})}return I===void 0?"no-point-found":{seriesId:I.seriesId,dataIndex:I.dataIndex}}const k=s.addInteractionListener("moveEnd",L=>{L.detail.activeGestures.pan||(s.cleanInteraction?.(),s.clearHighlight?.())}),E=s.addInteractionListener("panEnd",L=>{L.detail.activeGestures.move||(s.cleanInteraction?.(),s.clearHighlight?.())}),T=s.addInteractionListener("quickPressEnd",L=>{!L.detail.activeGestures.move&&!L.detail.activeGestures.pan&&(s.cleanInteraction?.(),s.clearHighlight?.())}),D=L=>{const $=_(L.detail.srcEvent);if($==="outside-chart"){s.cleanInteraction?.(),s.clearHighlight?.();return}if($==="outside-voronoi-max-radius"||$==="no-point-found"){s.removeItemInteraction?.(),s.clearHighlight?.();return}const{seriesId:I,dataIndex:z}=$;s.setItemInteraction?.({type:"scatter",seriesId:I,dataIndex:z},{interaction:"pointer"}),s.setHighlight?.({seriesId:I,dataIndex:z})},P=s.addInteractionListener("tap",L=>{const $=_(L.detail.srcEvent);if(typeof $!="string"&&o){const{seriesId:I,dataIndex:z}=$;o(L.detail.srcEvent,{type:"scatter",seriesId:I,dataIndex:z})}}),M=s.addInteractionListener("move",D),R=s.addInteractionListener("pan",D),B=s.addInteractionListener("quickPress",D);return()=>{P.cleanup(),M.cleanup(),k.cleanup(),R.cleanup(),E.cleanup(),B.cleanup(),T.cleanup()}},[e,l,d,i,o,a,c,s,x,p,b,h,y,r]);const w=Yn(()=>{r.set("voronoi",{isVoronoiEnabled:!0})}),S=Yn(()=>{r.set("voronoi",{isVoronoiEnabled:!1})});return{instance:{enableVoronoi:w,disableVoronoi:S}}};ok.getDefaultizedParams=({params:e})=>pe({},e,{disableVoronoi:e.disableVoronoi??!e.series.some(t=>t.type==="scatter")});ok.getInitialState=e=>({voronoi:{isVoronoiEnabled:!e.disableVoronoi}});ok.params={disableVoronoi:!0,voronoiMaxRadius:!0,onItemClick:!0};const Rde=[bw,yw,pw,Ax,Dx,ok,X2],Eyt=["children","localeText","plugins","seriesConfig","slots","slotProps"],kyt=e=>{const t=Wi({props:e,name:"MuiChartDataProvider"}),{children:r,localeText:s,plugins:a=Rde,seriesConfig:i,slots:o,slotProps:c}=t,d=Cr(t,Eyt),u=ah(),l={plugins:a,seriesConfig:i,pluginParams:pe({theme:u.palette.mode},d)};return{children:r,localeText:s,chartProviderProps:l,slots:o,slotProps:c}};function Ayt(e){const{children:t,localeText:r,chartProviderProps:s,slots:a,slotProps:i}=kyt(e);return n.jsx(Dpt,pe({},s,{children:n.jsx(Wht,{localeText:r,children:n.jsx(Cyt,{slots:a,slotProps:i,defaultSlots:Syt,children:t})})}))}function RY(e){const{isReversed:t,gradientId:r,size:s,direction:a,scale:i,colorMap:o}=e;return s<=0?null:n.jsx("linearGradient",{id:r,x1:"0",x2:"0",y1:"0",y2:"0",[`${a}${t?1:2}`]:`${s}px`,gradientUnits:"userSpaceOnUse",children:o.thresholds.map((c,d)=>{const u=i(c);if(u===void 0)return null;const l=t?1-u/s:u/s;return Number.isNaN(l)?null:n.jsxs(v.Fragment,{children:[n.jsx("stop",{offset:l,stopColor:o.colors[d],stopOpacity:1}),n.jsx("stop",{offset:l,stopColor:o.colors[d+1],stopOpacity:1})]},c.toString()+d)})})}const Tyt=10;function MY(e){const{gradientUnits:t,isReversed:r,gradientId:s,size:a,direction:i,scale:o,colorScale:c,colorMap:d}=e,u=[d.min??0,d.max??100],l=u.map(o).filter(x=>x!==void 0);if(l.length!==2)return null;const f=typeof u[0]=="number"?kn(u[0],u[1]):N5(u[0],u[1]),m=Math.round((Math.max(...l)-Math.min(...l))/Tyt),p=`${u[0]}-${u[1]}-`;return n.jsx("linearGradient",{id:s,x1:"0",x2:"0",y1:"0",y2:"0",[`${i}${r?1:2}`]:t==="objectBoundingBox"?1:`${a}px`,gradientUnits:t??"userSpaceOnUse",children:Array.from({length:m+1},(x,b)=>{const h=f(b/m);if(h===void 0)return null;const y=o(h);if(y===void 0)return null;const w=r?1-y/a:y/a,S=c(h);return S===null?null:n.jsx("stop",{offset:w,stopColor:S,stopOpacity:1},p+b)})})}const Dyt=10,Pyt=e=>e?{x1:"1",x2:"0",y1:"0",y2:"0"}:{x1:"0",x2:"1",y1:"0",y2:"0"};function QR(e){const{isReversed:t,gradientId:r,colorScale:s,colorMap:a}=e,i=[a.min??0,a.max??100],o=typeof i[0]=="number"?kn(i[0],i[1]):N5(i[0],i[1]),c=Dyt,d=`${i[0]}-${i[1]}-`;return n.jsx("linearGradient",pe({id:r},Pyt(t),{gradientUnits:"objectBoundingBox",children:Array.from({length:c+1},(u,l)=>{const f=l/c,m=o(f);if(m===void 0)return null;const p=s(m);return p===null?null:n.jsx("stop",{offset:f,stopColor:p,stopOpacity:1},d+l)})}))}function Ryt(){const{top:e,height:t,bottom:r,left:s,width:a,right:i}=Ro(),o=e+t+r,c=s+a+i,d=yht(),u=bht(),{xAxis:l,xAxisIds:f}=hd(),{yAxis:m,yAxisIds:p}=pd(),{zAxis:x,zAxisIds:b}=$F(),h=p.filter(S=>m[S].colorMap!==void 0),y=f.filter(S=>l[S].colorMap!==void 0),w=b.filter(S=>x[S].colorMap!==void 0);return h.length===0&&y.length===0&&w.length===0?null:n.jsxs("defs",{children:[h.map(S=>{const N=d(S),_=u(S),{colorMap:k,scale:E,colorScale:T,reverse:D}=m[S];return k?.type==="piecewise"?n.jsx(RY,{isReversed:!D,scale:E,colorMap:k,size:o,gradientId:N,direction:"y"},N):k?.type==="continuous"?n.jsxs(v.Fragment,{children:[n.jsx(MY,{isReversed:!D,scale:E,colorScale:T,colorMap:k,size:o,gradientId:N,direction:"y"}),n.jsx(QR,{isReversed:D,colorScale:T,colorMap:k,gradientId:_})]},N):null}),y.map(S=>{const N=d(S),_=u(S),{colorMap:k,scale:E,reverse:T,colorScale:D}=l[S];return k?.type==="piecewise"?n.jsx(RY,{isReversed:T,scale:E,colorMap:k,size:c,gradientId:N,direction:"x"},N):k?.type==="continuous"?n.jsxs(v.Fragment,{children:[n.jsx(MY,{isReversed:T,scale:E,colorScale:D,colorMap:k,size:c,gradientId:N,direction:"x"}),n.jsx(QR,{isReversed:T,colorScale:D,colorMap:k,gradientId:_})]},N):null}),w.map(S=>{const N=u(S),{colorMap:_,colorScale:k}=x[S];return _?.type==="continuous"?n.jsx(QR,{colorScale:k,colorMap:_,gradientId:N},N):null})]})}function Myt(e){return Xn("MuiChartsSurface",e)}const Oyt=()=>Jn({root:["root"]},Myt);Fn("MuiChartsSurface",["root"]);const Iyt=["children","className","title","desc"],Fyt=dr("svg",{name:"MuiChartsSurface",slot:"Root"})(({ownerState:e,theme:t})=>({width:e.width??"100%",height:e.height??"100%",display:"flex",position:"relative",flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden",touchAction:"pan-y",userSelect:"none",gridArea:"chart","&:focus":{outline:"none"},"&:focus-visible":{outline:`${(t.vars??t).palette.text.primary} solid 2px`,"&[data-has-focused-item=true]":{outline:"none"}},"& [data-focused=true]":{outline:`${(t.vars??t).palette.text.primary} solid 2px`}})),$yt=v.forwardRef(function(t,r){const s=ds(),a=Tt(s,Xut),i=Tt(s,Jut),o=Tt(s,Ale),c=Tt(s,Tle),d=Tt(s,gmt),u=Tt(s,pmt),l=LF(),f=Du(l,r),m=Wi({props:t,name:"MuiChartsSurface"}),{children:p,className:x,title:b,desc:h}=m,y=Cr(m,Iyt),w=Oyt(),S=i>0&&a>0;return n.jsxs(Fyt,pe({ownerState:{width:o,height:c},viewBox:`0 0 ${a} ${i}`,className:St(w.root,x),tabIndex:d?0:void 0,"data-has-focused-item":u||void 0},y,{ref:f,children:[b&&n.jsx("title",{children:b}),h&&n.jsx("desc",{children:h}),n.jsx(Ryt,{}),S&&p]}))}),Lyt=["width","height","margin","children","series","colors","dataset","desc","onAxisClick","highlightedAxis","onHighlightedAxisChange","disableVoronoi","voronoiMaxRadius","onItemClick","disableAxisListener","highlightedItem","onHighlightChange","sx","title","xAxis","yAxis","zAxis","rotationAxis","radiusAxis","skipAnimation","seriesConfig","plugins","localeText","slots","slotProps","experimentalFeatures","enableKeyboardNavigation","brushConfig"],Byt=(e,t)=>{const r=e,{width:s,height:a,margin:i,children:o,series:c,colors:d,dataset:u,desc:l,onAxisClick:f,highlightedAxis:m,onHighlightedAxisChange:p,disableVoronoi:x,voronoiMaxRadius:b,onItemClick:h,disableAxisListener:y,highlightedItem:w,onHighlightChange:S,sx:N,title:_,xAxis:k,yAxis:E,zAxis:T,rotationAxis:D,radiusAxis:P,skipAnimation:M,seriesConfig:R,plugins:B,localeText:L,slots:$,slotProps:I,experimentalFeatures:z,enableKeyboardNavigation:H,brushConfig:Z}=r,V=Cr(r,Lyt),G=pe({title:_,desc:l,sx:N,ref:t},V);return{chartDataProviderProps:{margin:i,series:c,colors:d,dataset:u,disableAxisListener:y,highlightedItem:w,onHighlightChange:S,onAxisClick:f,highlightedAxis:m,onHighlightedAxisChange:p,disableVoronoi:x,voronoiMaxRadius:b,onItemClick:h,xAxis:k,yAxis:E,zAxis:T,rotationAxis:D,radiusAxis:P,skipAnimation:M,width:s,height:a,localeText:L,seriesConfig:R,experimentalFeatures:z,enableKeyboardNavigation:H,brushConfig:Z,plugins:B??Rde,slots:$,slotProps:I},chartsSurfaceProps:G,children:o}},OY=Fn("MuiChartsToolbar",["root"]),zyt=e=>e?.horizontal==="start"?"start":e?.horizontal==="end"?"end":"center",Uyt=e=>e?.vertical==="top"?"flex-start":e?.vertical==="bottom"?"flex-end":"center",Hyt=(e,t,r)=>e?'"chart"':t==="vertical"?r?.horizontal==="start"?'"legend chart"':'"chart legend"':r?.vertical==="bottom"?`"chart"
            "legend"`:`"legend"
          "chart"`,Vyt=(e=!1,t="horizontal",r="end",s=void 0)=>{const a=s?"auto":"1fr";return t==="horizontal"||e?a:r==="start"?`auto ${a}`:`${a} auto`},Wyt=(e=!1,t="horizontal",r="top")=>t==="vertical"||e?"1fr":r==="bottom"?"1fr auto":"auto 1fr",qyt=dr("div",{name:"MuiChartsWrapper",slot:"Root",shouldForwardProp:e=>eC(e)&&e!=="extendVertically"&&e!=="width"})(({ownerState:e,width:t})=>{const r=Vyt(e.hideLegend,e.legendDirection,e.legendPosition?.horizontal,t),s=Wyt(e.hideLegend,e.legendDirection,e.legendPosition?.vertical),a=Hyt(e.hideLegend,e.legendDirection,e.legendPosition);return{variants:[{props:{extendVertically:!0},style:{height:"100%",minHeight:0}}],flex:1,display:"grid",gridTemplateColumns:r,gridTemplateRows:s,gridTemplateAreas:a,[`&:has(.${OY.root})`]:{gridTemplateRows:`auto ${s}`,gridTemplateAreas:`"${r.split(" ").map(()=>"toolbar").join(" ")}"
        ${a}`},[`& .${OY.root}`]:{gridArea:"toolbar",justifySelf:"center"},justifyContent:"safe center",justifyItems:zyt(e.legendPosition),alignItems:Uyt(e.legendPosition)}});function Gyt(e){const{children:t,sx:r,extendVertically:s}=e,a=Bht(),i=ds(),o=Tt(i,Ale),c=Tt(i,Tle);return n.jsx(qyt,{ref:a,ownerState:e,sx:r,extendVertically:s??c===void 0,width:o,children:t})}const Mde=v.forwardRef(function(t,r){const s=Wi({props:t,name:"MuiBarChart"}),{chartsWrapperProps:a,chartContainerProps:i,barPlotProps:o,gridProps:c,clipPathProps:d,clipPathGroupProps:u,overlayProps:l,chartsAxisProps:f,axisHighlightProps:m,legendProps:p,children:x}=T0t(s),{chartDataProviderProps:b,chartsSurfaceProps:h}=Byt(i,r),y=s.slots?.tooltip??Gvt,w=s.slots?.toolbar;return n.jsx(Ayt,pe({},b,{children:n.jsxs(Gyt,pe({},a,{children:[s.showToolbar&&w?n.jsx(w,pe({},s.slotProps?.toolbar)):null,!s.hideLegend&&n.jsx(i0t,pe({},p)),n.jsxs($yt,pe({},h,{children:[n.jsx(y0t,pe({},c)),n.jsxs("g",pe({},u,{children:[n.jsx(ogt,pe({},o)),n.jsx(E0t,pe({},l)),n.jsx(u0t,pe({},m))]})),n.jsx(Zgt,pe({},f)),n.jsx(f0t,pe({},d)),x]})),!s.loading&&n.jsx(y,pe({},s.slotProps?.tooltip))]}))}))}),IY=({title:e="Total Sales by Date",className:t})=>{const{timeline:r}=Xu(),{isLoading:s,error:a,filteringValues:i,currentDate:o}=ri(),c=ca(),d=v.useRef(null),[u,l]=v.useState(800);v.useEffect(()=>{const b=d.current;if(!b)return;const h=new ResizeObserver(y=>{const w=y[0]?.contentRect?.width||800;l(Math.max(320,Math.floor(w)))});return h.observe(b),()=>{h.disconnect()}},[]),v.useEffect(()=>{},[s,a]);const f=v.useMemo(()=>{if(!r)return{labels:[],currentValuesNum:[],prevValuesNum:[],hasPrev:!1,hasCurrent:!1};const b=r.dates,h=(r.sales||[]).map(N=>Number(N||0)),y=(r.prevWeekSales||[]).map(N=>Number(N||0)),w=y.some(N=>N!==0),S=h.some(N=>N!==0);return{labels:b,currentValuesNum:h,prevValuesNum:y,hasPrev:w,hasCurrent:S}},[r]),m=v.useMemo(()=>!f.hasCurrent&&!f.hasPrev,[f]),p=b=>{try{const w=sw(b);if(!isNaN(w.getTime()))return w}catch{}const h=b.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(h){const[,w,S,N]=h;return new Date(Number(w),Number(S)-1,Number(N))}const y=new Date(b);return isNaN(y.getTime())?new Date:y},x=b=>{const h=p(b),y=Hl(h,"EEE"),w=Hl(h,"d MMM");return`${y}
${w}`};return n.jsxs(oe,{className:t,children:[n.jsxs(Re,{className:"flex flex-row items-center justify-between",children:[n.jsx(qe,{className:"text-base sm:text-lg",children:e}),(i?.date||o)&&n.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:i?.date||o})]}),n.jsx(je,{children:n.jsx("div",{ref:d,className:"w-full",children:s?n.jsx("div",{className:"flex items-center justify-center h-48",children:n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})}):a?n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center text-red-700",children:a?.message}):m?n.jsx("div",{className:"text-muted-foreground text-sm p-4",children:"No sales data available."}):n.jsx(Mde,{width:u,height:c?260:360,xAxis:[{data:f.labels,scaleType:"band",valueFormatter:b=>x(b)}],series:[{data:f.currentValuesNum,label:"Current",color:"var(--chart-1)"},...f.hasPrev?[{data:f.prevValuesNum,label:"Prev Week",color:"var(--chart-2)"}]:[]],margin:{top:20,right:20,bottom:50,left:50}})})})]})},Yyt=({title:e="Total Sales by Date",className:t})=>{const{timeline:r}=Xu(),{isLoading:s,error:a,filteringValues:i,currentDate:o}=ri(),c=ca(),d=v.useMemo(()=>{if(!r)return[];const p=r.dates||[],x=r.sales||[],b=r.prevWeekSales||[];return p.map((h,y)=>({name:h,current:Number(x[y]||0),prev:Number(b[y]||0)}))},[r]),u=v.useMemo(()=>d.some(p=>p.prev!==0),[d]),l=v.useMemo(()=>d.length===0||d.every(p=>p.current===0)&&!u,[d,u]),f=p=>{try{const h=sw(p);if(!isNaN(h.getTime()))return h}catch{}const x=p.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(x){const[,h,y,w]=x;return new Date(Number(h),Number(y)-1,Number(w))}const b=new Date(p);return isNaN(b.getTime())?new Date:b},m=p=>{const{x,y:b,payload:h}=p,y=f(String(h.value)),w=Hl(y,"EEE"),S=Hl(y,"d MMM");return n.jsxs("text",{x,y:b,dy:16,textAnchor:"middle",fill:"var(--muted-foreground)",children:[n.jsx("tspan",{fontSize:c?10:12,children:w}),n.jsx("tspan",{x,dy:16,fontSize:c?10:12,children:S})]})};return n.jsxs(oe,{className:t,children:[n.jsxs(Re,{className:"flex flex-row items-center justify-between",children:[n.jsx(qe,{className:"text-base sm:text-lg",children:e}),(i?.date||o)&&n.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:i?.date||o})]}),n.jsx(je,{children:s?n.jsx("div",{className:"flex items-center justify-center h-48",children:n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})}):a?n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center text-red-700",children:a?.message}):l?n.jsx("div",{className:"text-muted-foreground text-sm p-4",children:"No sales data available."}):n.jsx("div",{className:"w-full",style:{height:c?260:360},children:n.jsx(D6,{width:"100%",height:"100%",children:n.jsxs(Kie,{data:d,margin:{top:20,right:20,bottom:60,left:50},children:[n.jsx(V6,{strokeDasharray:"3 3",stroke:"var(--border)"}),n.jsx(x2,{dataKey:"name",stroke:"var(--muted-foreground)",tick:m,tickMargin:12}),n.jsx(v2,{stroke:"var(--muted-foreground)"}),n.jsx(T6,{contentStyle:{backgroundColor:"var(--popover)",border:"1px solid var(--border)",borderRadius:"var(--radius)",color:"var(--popover-foreground)"}}),n.jsx(gx,{}),n.jsx(By,{dataKey:"current",name:"Current",fill:"var(--chart-1)"}),u&&n.jsx(By,{dataKey:"prev",name:"Prev Week",fill:"var(--chart-2)"})]})})})})]})},FY=e=>{try{return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(e)}catch{return e.toLocaleString()}},Kyt=({title:e="Total Sales by Date",className:t})=>{const{timeline:r}=Xu(),{isLoading:s,error:a,filteringValues:i,currentDate:o}=ri(),c=ca(),d=v.useMemo(()=>{if(!r)return[];const p=r.dates||[],x=r.sales||[],b=r.prevWeekSales||[];return p.map((h,y)=>({name:h,current:Number(x[y]||0),prev:Number(b[y]||0)}))},[r]),u=v.useMemo(()=>d.some(p=>p.prev!==0),[d]),l=v.useMemo(()=>d.length===0||d.every(p=>p.current===0)&&!u,[d,u]),f=p=>{try{const h=sw(p);if(!isNaN(h.getTime()))return h}catch{}const x=p.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(x){const[,h,y,w]=x;return new Date(Number(h),Number(y)-1,Number(w))}const b=new Date(p);return isNaN(b.getTime())?new Date:b},m=p=>{const{x,y:b,payload:h}=p,y=f(String(h.value)),w=Hl(y,"EEE"),S=Hl(y,"d MMM");return n.jsxs("text",{x,y:b,dy:16,textAnchor:"middle",fill:"var(--muted-foreground)",children:[n.jsx("tspan",{fontSize:c?10:12,children:w}),n.jsx("tspan",{x,dy:16,fontSize:c?10:12,children:S})]})};return n.jsxs(oe,{className:t,children:[n.jsxs(Re,{className:"flex flex-row items-center justify-between",children:[n.jsx(qe,{className:"text-base sm:text-lg",children:e}),(i?.date||o)&&n.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:i?.date||o})]}),n.jsx(je,{children:s?n.jsx("div",{className:"flex items-center justify-center h-48",children:n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})}):a?n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center text-red-700",children:a?.message}):l?n.jsx("div",{className:"text-muted-foreground text-sm p-4",children:"No sales data available."}):n.jsx("div",{className:"w-full",style:{height:c?260:360},children:n.jsx(D6,{width:"100%",height:"100%",children:n.jsxs(Kie,{data:d,margin:{top:20,right:20,bottom:40,left:50},children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"barGradientCurrent",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"var(--chart-1)",stopOpacity:1}),n.jsx("stop",{offset:"100%",stopColor:"var(--chart-1)",stopOpacity:.2})]}),n.jsxs("linearGradient",{id:"barGradientPrev",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"var(--chart-4)",stopOpacity:1}),n.jsx("stop",{offset:"100%",stopColor:"var(--chart-4)",stopOpacity:.2})]})]}),n.jsx(V6,{strokeDasharray:"3 3",stroke:"var(--border)"}),n.jsx(x2,{dataKey:"name",stroke:"var(--muted-foreground)",tick:m,tickMargin:12}),n.jsx(v2,{stroke:"var(--muted-foreground)",tick:{fontSize:c?10:12},tickFormatter:p=>FY(Number(p)),width:60}),n.jsx(T6,{formatter:(p,x)=>[FY(p),x],contentStyle:{backgroundColor:"var(--popover)",border:"1px solid var(--border)",borderRadius:"var(--radius)",color:"var(--popover-foreground)"}}),n.jsx(gx,{wrapperStyle:{color:"var(--muted-foreground)"}}),n.jsx(By,{dataKey:"current",name:"Current",fill:"url(#barGradientCurrent)",radius:[10,10,0,0]}),u&&n.jsx(By,{dataKey:"prev",name:"Prev Week",fill:"url(#barGradientPrev)",radius:[10,10,0,0]})]})})})})]})},$Y=({title:e="Labor % by Date",className:t})=>{const{entries:r}=Xu(),{isLoading:s,error:a,filteringValues:i,currentDate:o}=ri(),c=ca(),d=v.useRef(null),[u,l]=v.useState(800);v.useEffect(()=>{const b=d.current;if(!b)return;const h=new ResizeObserver(y=>{const w=y[0]?.contentRect?.width||800;l(Math.max(320,Math.floor(w)))});return h.observe(b),()=>{h.disconnect()}},[]);const f=v.useMemo(()=>{const b=[...r].sort((_,k)=>_.date.localeCompare(k.date)),h=b.map(_=>_.date),y=b.map(_=>Number((_.current.labor??0)*100)),w=b.map(_=>Number((_.prevWeek?.labor??0)*100)),S=w.some(_=>_!==0),N=y.some(_=>_!==0);return{labels:h,currentValuesNum:y,prevValuesNum:w,hasPrev:S,hasCurrent:N}},[r]),m=v.useMemo(()=>!f.hasCurrent&&!f.hasPrev,[f]),p=b=>{try{const w=sw(b);if(!isNaN(w.getTime()))return w}catch{}const h=b.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(h){const[,w,S,N]=h;return new Date(Number(w),Number(S)-1,Number(N))}const y=new Date(b);return isNaN(y.getTime())?new Date:y},x=b=>{const h=p(b),y=Hl(h,"EEE"),w=Hl(h,"d MMM");return`${y}
${w}`};return n.jsxs(oe,{className:t,children:[n.jsxs(Re,{className:"flex flex-row items-center justify-between",children:[n.jsx(qe,{className:"text-base sm:text-lg",children:e}),(i?.date||o)&&n.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:i?.date||o})]}),n.jsx(je,{children:n.jsx("div",{ref:d,className:"w-full",children:s?n.jsx("div",{className:"flex items-center justify-center h-48",children:n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})}):a?n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center text-red-700",children:a?.message}):m?n.jsx("div",{className:"text-muted-foreground text-sm p-4",children:"No labor data available."}):n.jsx(Mde,{width:u,height:c?260:360,xAxis:[{data:f.labels,scaleType:"band",valueFormatter:b=>x(b)}],series:[{data:f.currentValuesNum,label:"Current",color:"var(--chart-1)"},...f.hasPrev?[{data:f.prevValuesNum,label:"Prev Week",color:"var(--chart-2)"}]:[]],margin:{top:20,right:20,bottom:50,left:50}})})})]})},e4=e=>{if(e==null||Number.isNaN(e))return"";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:0}).format(e)}catch{return`${e}`}},Zyt=({title:e="Total Sales",Icon:t=Ore,iconColorClass:r="text-primary",iconBgClass:s="bg-primary-50 dark:bg-primary-900",className:a,hover:i=!0})=>{const{totalSales:o,projectedWeekTotal:c,hasData:d}=od(),{filter:u,getEntryForDate:l,hasData:f,allDates:m}=Xu(),{currentDate:p}=ri(),x=p??u.startDate??u.endDate??(m.length?m[m.length-1]:null),b=x?l(x):null,h=b?.current?.TotalSales??null,y=b?.prevWeek?.TotalSales??null,w=!d&&!f,S=c??o??null;return n.jsxs(oe,{className:X("relative overflow-hidden p-6 w-full","shadow-lg border-0 border-b-2  border-primary-400",i?"transition-all hover:border-b-4":"",a),children:[n.jsx("div",{className:"flex w-full items-center justify-between",children:n.jsxs("div",{className:"relative flex items-center justify-between w-full gap-2",children:[n.jsx("div",{className:X("rounded-md p-2",s),children:n.jsx(t,{className:X("h-6 w-6",r),"aria-hidden":"true"})}),n.jsx("div",{className:"text-primary-500 text-sm md:text-base font-medium",children:e})]})}),n.jsx(je,{className:"p-0",children:w?n.jsxs("div",{className:"animate-pulse space-y-3",children:[n.jsx("div",{className:"h-5 w-32 bg-primary-50 rounded"}),n.jsx("div",{className:"h-8 w-48 bg-primary-50 rounded"}),n.jsx("div",{className:"h-6 w-44 bg-primary-50 rounded"}),n.jsx("div",{className:"h-6 w-56 bg-primary-50 rounded"})]}):n.jsxs("div",{className:"flex flex-col gap-4 mt-4",children:[n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs("div",{className:"grid grid-cols-3 gap-x-6 sm:gap-x-8 md:gap-x-10 w-full",children:[n.jsx("span",{className:"text-primary-500 text-xs text-start",children:"Weekly"}),n.jsx("span",{className:"text-primary-500 text-base font-semibold text-center",children:"Daily"}),n.jsx("span",{className:"text-primary-500 text-xs text-end",children:"Prev Week"})]})}),n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs("div",{className:"grid grid-cols-3 gap-x-6 sm:gap-x-8 md:gap-x-10 w-full",children:[n.jsx("span",{className:"text-muted-foreground text-base font-medium text-start",children:e4(S)}),n.jsx("span",{className:"text-card-foreground text-lg md:text-xl font-semibold text-center",children:e4(h)}),n.jsx("span",{className:"text-muted-foreground text-base font-medium text-end",children:e4(y)})]})})]})})]})},t4=e=>{if(e==null||Number.isNaN(e))return"";try{return new Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:1}).format(e)}catch{return`${(e*100).toFixed(1)}%`}},Xyt=({title:e="Labor Percentage",Icon:t=G3,iconColorClass:r="text-primary",iconBgClass:s="bg-primary-50 dark:bg-primary-900",className:a,hover:i=!0})=>{const{financial:o}=Vu(),{operational:c}=od(),{getEntryForDate:d}=Xu(),{currentDate:u,isLoading:l,error:f}=ri(),m=c?.laborPercent??null,p=o?.laborCostPercentage??null,x=u,b=x?d(x)?.prevWeek?.labor??null:null;return n.jsxs(oe,{className:X("relative overflow-hidden p-6 w-full","shadow-lg border-0 border-b-2  border-primary-400",i?"transition-all hover:border-b-4":"",a),children:[n.jsxs("div",{className:"flex w-full items-center justify-between",children:[n.jsx("div",{className:"flex flex-col items-center gap-1",children:l?n.jsx("div",{className:"h-6 w-20 bg-primary-50 rounded animate-pulse"}):f?null:n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-primary-500 text-lg font-semibold",children:"Daily"}),n.jsx("span",{className:"text-card-foreground text-lg md:text-xl font-semibold",children:t4(p)})]})}),n.jsxs("div",{className:"relative flex flex-col items-center gap-2",children:[n.jsx("div",{className:X("rounded-md p-2",s),children:n.jsx(t,{className:X("h-6 w-6",r),"aria-hidden":"true"})}),n.jsx("div",{className:"text-primary-500 text-sm md:text-base font-medium",children:e})]})]}),n.jsx(je,{className:"p-0",children:l?n.jsxs("div",{className:"animate-pulse space-y-3",children:[n.jsx("div",{className:"h-5 w-32 bg-primary-50 rounded"}),n.jsx("div",{className:"h-8 w-48 bg-primary-50 rounded"}),n.jsx("div",{className:"h-6 w-44 bg-primary-50 rounded"}),n.jsx("div",{className:"h-6 w-56 bg-primary-50 rounded"})]}):f?n.jsx("div",{className:"text-sm text-red-600",children:f?.message}):n.jsxs("div",{className:"flex flex-col gap-2 mt-6",children:[n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs("div",{className:"grid grid-cols-2 gap-x-6 sm:gap-x-8 md:gap-x-10 w-full",children:[n.jsx("span",{className:"text-primary-500 text-xs text-start",children:"Weekly"}),n.jsx("span",{className:"text-chart-4 text-xs text-end",children:"Prev Week"})]})}),n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs("div",{className:"grid grid-cols-2 gap-x-6 sm:gap-x-8 md:gap-x-10 w-full",children:[n.jsx("span",{className:"text-muted-foreground text-base font-medium text-start",children:t4(m)}),n.jsx("span",{className:"text-muted-foreground text-base font-medium text-end",children:t4(b)})]})})]})})]})};var s$="Progress",n$=100,[Jyt,A3t]=cn(s$),[Qyt,ebt]=Jyt(s$),Ode=v.forwardRef((e,t)=>{const{__scopeProgress:r,value:s=null,max:a,getValueLabel:i=tbt,...o}=e;(a||a===0)&&!LY(a)&&console.error(rbt(`${a}`,"Progress"));const c=LY(a)?a:n$;s!==null&&!BY(s,c)&&console.error(sbt(`${s}`,"Progress"));const d=BY(s,c)?s:null,u=__(d)?i(d,c):void 0;return n.jsx(Qyt,{scope:r,value:d,max:c,children:n.jsx(nt.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":__(d)?d:void 0,"aria-valuetext":u,role:"progressbar","data-state":$de(d,c),"data-value":d??void 0,"data-max":c,...o,ref:t})})});Ode.displayName=s$;var Ide="ProgressIndicator",Fde=v.forwardRef((e,t)=>{const{__scopeProgress:r,...s}=e,a=ebt(Ide,r);return n.jsx(nt.div,{"data-state":$de(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})});Fde.displayName=Ide;function tbt(e,t){return`${Math.round(e/t*100)}%`}function $de(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function __(e){return typeof e=="number"}function LY(e){return __(e)&&!isNaN(e)&&e>0}function BY(e,t){return __(e)&&!isNaN(e)&&e<=t&&e>=0}function rbt(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${n$}\`.`}function sbt(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${n$} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Lde=Ode,nbt=Fde;const Pu=v.forwardRef(({className:e,value:t,...r},s)=>n.jsx(Lde,{ref:s,className:X("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...r,children:n.jsx(nbt,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Pu.displayName=Lde.displayName;const r4=e=>{if(e==null||Number.isNaN(e))return"";try{return new Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:1}).format(e)}catch{return`${(e*100).toFixed(1)}%`}},zY=e=>{if(e==null||Number.isNaN(e))return 0;const t=e*100;return Number.isNaN(t)?0:Math.max(0,Math.min(100,t))},abt=({title:e="Labor Percentage",Icon:t=G3,iconColorClass:r="text-dashboard-green-500",iconBgClass:s="bg-dashboard-green-50 dark:bg-dashboard-green-900",className:a,hover:i=!0})=>{const{financial:o}=Vu(),{operational:c}=od(),{getEntryForDate:d}=Xu(),{currentDate:u,isLoading:l,error:f}=ri(),m=c?.laborPercent??null,p=o?.laborCostPercentage??null,x=u,b=x?d(x)?.prevWeek?.labor??null:null;return n.jsxs(oe,{className:X("relative overflow-hidden p-6 w-full","shadow-lg border-0 border-b-2  border-primary-400",i?"transition-all hover:border-b-4":"",a),children:[n.jsxs("div",{className:"flex w-full items-center justify-between",children:[n.jsx("div",{className:"flex flex-col items-center gap-1",children:l?n.jsx("div",{className:"h-6 w-20 bg-primary-50 rounded animate-pulse"}):f?null:n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-dashboard-green text-lg font-semibold",children:"Daily"}),n.jsx("span",{className:"text-card-foreground text-lg md:text-xl font-semibold",children:r4(p)})]})}),n.jsxs("div",{className:"relative flex flex-col items-center gap-2",children:[n.jsx("div",{className:X("rounded-md p-2",s),children:n.jsx(t,{className:X("h-6 w-6",r),"aria-hidden":"true"})}),n.jsx("div",{className:"text-dashboard-green text-sm md:text-base font-medium",children:e})]})]}),n.jsx(je,{className:"p-0",children:l?n.jsxs("div",{className:"animate-pulse space-y-3",children:[n.jsx("div",{className:"h-5 w-32 bg-primary-50 rounded"}),n.jsx("div",{className:"h-8 w-48 bg-primary-50 rounded"}),n.jsx("div",{className:"h-6 w-44 bg-primary-50 rounded"}),n.jsx("div",{className:"h-6 w-56 bg-primary-50 rounded"})]}):f?n.jsx("div",{className:"text-sm text-red-600",children:f?.message}):n.jsxs("div",{className:"flex flex-col gap-3 mt-6",children:[n.jsx("div",{className:"w-full",children:n.jsxs("div",{className:"grid grid-cols-2 gap-x-6 sm:gap-x-8 md:gap-x-10 w-full",children:[n.jsx("span",{className:"text-dashboard-green text-xs text-start",children:"Weekly"}),n.jsx("span",{className:"text-chart-4 text-xs text-end",children:"Prev Week"})]})}),n.jsx("div",{className:"w-full",children:n.jsxs("div",{className:"grid grid-cols-2 gap-x-6 sm:gap-x-8 md:gap-x-10 w-full items-center",children:[n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("span",{className:"text-dashboard-green text-sm font-medium text-start",children:r4(m)}),n.jsx(Pu,{value:zY(m),className:"h-3 md:h-4 bg-primary/30 ring-1 ring-primary/40"})]}),n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("span",{className:"text-chart-4 text-sm font-medium text-end",children:r4(b)}),n.jsx(Pu,{value:zY(b),className:"h-3 md:h-4 bg-primary/30 ring-1 ring-primary/40"})]})]})})]})})]})},ibt={"dashboard-green":"bg-[var(--dashboard-green-100)] dark:bg-[var(--dashboard-green-900)] text-[var(--dashboard-green)]","dashboard-blue":"bg-[var(--dashboard-blue-100)] dark:bg-[var(--dashboard-blue-900)] text-[var(--dashboard-blue)]","dashboard-ocean":"bg-[var(--dashboard-ocean-100)] dark:bg-[var(--dashboard-ocean-900)] text-[var(--dashboard-ocean)]","dashboard-yellow":"bg-[var(--dashboard-yellow-100)] dark:bg-[var(--dashboard-yellow-900)] text-[var(--dashboard-yellow)]","dashboard-purble":"bg-[var(--dashboard-purble-100)] dark:bg-[var(--dashboard-purble-900)] text-[var(--dashboard-purble)]"},obt=({title:e="Metrics",description:t,rows:r,className:s})=>{const a=N=>{const _=typeof N=="number"?N:Number(N);return Number.isFinite(_)?_.toFixed(0):typeof N=="string"?N:String(N)},{raw:i}=od(),{allDates:o,filter:c,getEntryForDate:d}=Xu(),{currentDate:u}=ri(),l=ca(),f=v.useMemo(()=>{const N=o;if(!N||N.length===0)return null;const _=[...N].sort();return _[_.length-1]||null},[o]),m=v.useMemo(()=>(u??c?.startDate??c?.endDate??f)||null,[u,c?.startDate,c?.endDate,f]),p=v.useMemo(()=>m?d(m):null,[m,d]),x=!!(p||i),b=v.useMemo(()=>{const N=T=>{const D=p?.current;if(!D)return 0;switch(T){case"Total_TIPS":return D.TotalTIPS??0;case"Average_ticket":return D.Avrageticket??0;case"Total_Cash_Sales":return D.TotalCashSales??0;default:return 0}},_=T=>{if(!i)return 0;switch(T){case"Total_TIPS":return i.TotalTIPS??0;case"Average_ticket":return i.Avrageticket??0;case"Total_Cash_Sales":return i.TotalCashSales??0;default:return 0}},k=T=>{const D=p?.prevWeek;if(!D)return 0;switch(T){case"Total_TIPS":return D.TotalTIPS??0;case"Average_ticket":return D.Avrageticket??0;case"Total_Cash_Sales":return D.TotalCashSales??0;default:return 0}};return[{label:"Total_TIPS",weekly:_("Total_TIPS"),daily:N("Total_TIPS"),prev:k("Total_TIPS"),color:"dashboard-green"},{label:"Average_ticket",weekly:_("Average_ticket"),daily:N("Average_ticket"),prev:k("Average_ticket"),color:"dashboard-blue"},{label:"Total_Cash_Sales",weekly:_("Total_Cash_Sales"),daily:N("Total_Cash_Sales"),prev:k("Total_Cash_Sales"),color:"dashboard-ocean"}]},[p,i]),h=r&&r.length>0?r:b,y=te.useId(),w=te.useId(),S=()=>n.jsxs("div",{className:X("w-full bg-card rounded-lg border border-border p-6 shadow-realistic","flex flex-col items-center justify-center text-center space-y-4",l?"min-h-48":"min-h-64"),children:[n.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-muted",children:n.jsx(ku,{className:"w-6 h-6 text-muted-foreground"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:"No Data Available"}),n.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"There's currently no customer service data available to display. Please check back later or contact support if this issue persists."}),n.jsx("p",{className:"font-bold mt-1",children:"Try changing the Date filter."})]})]});return n.jsxs(oe,{className:X("bg-card border-border shadow-sm w-1/3",s),children:[n.jsxs(Re,{className:"pb-4",children:[e?n.jsx(qe,{id:y,className:"text-base sm:text-lg",children:e}):null,t?n.jsx(Us,{id:w,children:t}):null]}),n.jsx(je,{children:!x||!h||h.length===0?n.jsx(S,{}):n.jsxs(Xr,{"aria-label":e??"Metrics","aria-labelledby":e?y:void 0,"aria-describedby":t?w:void 0,className:"text-xs sm:text-sm",children:[n.jsx(Jr,{children:n.jsxs(Nt,{children:[n.jsx(De,{children:n.jsx("span",{className:"sr-only",children:"Metric"})}),n.jsx(De,{children:"Weekly"}),n.jsx(De,{className:"text-lg font-semibold text-foreground",children:"Daily"}),n.jsx(De,{children:"Prev"})]})}),n.jsx(Qr,{children:h.map(N=>{const _=N.color?`var(--${N.color})`:void 0,k=N.color?ibt[N.color]:"";return n.jsxs(Nt,{className:"hover:bg-muted/50 transition-colors",children:[n.jsx(Ee,{className:"font-medium",style:_?{color:_}:void 0,children:N.label}),n.jsx(Ee,{className:"text-muted-foreground",children:a(N.weekly)}),n.jsx(Ee,{className:"text-lg font-semibold",style:_?{color:_}:void 0,children:a(N.daily)}),n.jsx(Ee,{className:"text-muted-foreground",children:n.jsx(Ae,{variant:"outline",className:X(k),children:a(N.prev)})})]},N.label)})})]})})]})},lbt=()=>{const{isAuthenticated:e,isLoading:t}=Gl(),r=Vt(),{currentStore:s}=q3(),{raw:a,hasData:i}=Vu(),{hasData:o}=od(),c=v.useMemo(()=>a?{promiseMetPercent:a.HNR_Promise_Met_Percent??null,promiseMetTransactions:a.HNR_Promise_Met_Transactions??null,totalTransactions:a.HNR_Transactions??null}:null,[a]),d=!i&&!o,[u,l]=v.useState(null);v.useEffect(()=>{!e&&!t&&r("/login")},[e,t,r]);const f=v.useCallback(m=>{l(m)},[]);return t?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),n.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading..."})]})}):e?n.jsxs("div",{className:"container mx-auto space-y-4 md:space-y-6 p-2 md:p-4 max-w-7xl",children:[n.jsx(dlt,{className:"mb-6",onError:f}),u?n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[n.jsx("div",{className:"text-red-600 font-semibold text-lg mb-2",children:"Store Date Filter Error"}),n.jsx("div",{className:"text-red-700 mb-4",children:u}),n.jsx("div",{className:"text-red-600 text-sm",children:"Dashboard components are unavailable due to filter processing failure."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsx(flt,{storeName:s?.name,percent:c?.promiseMetPercent??null,loading:d,error:null,className:"mt-2"}),n.jsx(Zyt,{className:"mt-2"}),n.jsx(Xyt,{className:"mt-2"})]}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:n.jsx(abt,{className:"mt-2"})}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx(IY,{className:"mt-2"}),n.jsx($Y,{className:"mt-2"})]}),n.jsx(obt,{className:"mt-2",title:"Key Metrics"}),n.jsx(r9e,{}),n.jsx(e9e,{}),n.jsx(IY,{className:"mt-2"}),n.jsx(Yyt,{className:"mt-2"}),n.jsx(Kyt,{className:"mt-2"}),n.jsx($Y,{className:"mt-2"}),n.jsx(t9e,{}),n.jsx(vnt,{}),n.jsx(Snt,{}),n.jsx(ult,{})]}),n.jsx(Vnt,{})]}):null},Zt=({title:e,subtitle:t,mainButtons:r,subButtons:s,backButton:a,children:i,className:o,headerClassName:c,contentClassName:d})=>{const u=Vt(),l=ca(),f=()=>{a?.onClick?a.onClick():a?.to?u(a.to):u(-1)};return n.jsxs("div",{className:X("flex-1 flex-col min-h-full space-y-6 p-4 md:p-6 lg:p-8",o),children:[n.jsx("header",{className:X("flex flex-col space-y-4 pb-4 sm:pb-6 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",c),children:n.jsxs("div",{className:"flex flex-col space-y-3 lg:flex-row lg:items-start lg:justify-between lg:space-y-0 ",children:[n.jsx("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4",children:n.jsxs("div",{className:"flex items-center space-x-5 flex-1 ",children:[a?.show&&n.jsx(W,{onClick:f,variant:"outline",size:l?"sm":"default",className:"hover:bg-accent w-fit p-2 flex-shrink-0","aria-label":a.text||"Back",children:n.jsx(vn,{className:"h-4 w-4"})}),n.jsxs("div",{className:"space-y-1 flex-1",children:[n.jsx("h1",{className:X("font-bold text-foreground",l?"text-lg":"text-xl sm:text-2xl lg:text-3xl"),children:e}),t&&n.jsx("p",{className:X("text-muted-foreground",l?"text-xs":"text-sm sm:text-base"),children:t})]})]})}),(r||s)&&n.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-col sm:space-y-2 sm:items-end",children:[r&&n.jsx("div",{className:"flex flex-wrap mx-auto md:m-0 items-center gap-4",children:r}),s&&n.jsx("div",{className:"flex flex-wrap mx-auto md:m-0 items-center gap-4",children:s})]})]})}),n.jsx("main",{className:X("flex-1 pt-4 sm:pt-6","px-0 sm:px-0","space-y-4 sm:space-y-6",d),children:i})]})},cbt=()=>n.jsx(Zt,{title:"",subtitle:"",children:n.jsx("div",{})}),dbt=()=>n.jsxs("div",{className:"container mx-auto p-3 sm:p-4 lg:p-6 ",children:[n.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[n.jsxs("div",{className:"flex items-center justify-center mb-3 sm:mb-4",children:[n.jsx(SLe,{className:"h-6 w-6 sm:h-8 sm:w-8 text-primary mr-2 sm:mr-3"}),n.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-foreground",children:"Terms of Service"})]}),n.jsx("p",{className:"text-muted-foreground text-sm sm:text-lg px-2 sm:px-0",children:"Please read these terms carefully before using our pizza ordering service."}),n.jsxs("div",{className:"flex items-center justify-center mt-3 sm:mt-4 text-xs sm:text-sm text-muted-foreground",children:[n.jsx(bn,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),n.jsxs("span",{children:["Last updated: ",new Date().toLocaleDateString()]})]})]}),n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs(oe,{className:"border-border bg-card",children:[n.jsx(Re,{className:"pb-3 sm:pb-6",children:n.jsxs(qe,{className:"flex items-center text-lg sm:text-xl text-card-foreground",children:[n.jsx(ws,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-primary"}),"1. Acceptance of Terms"]})}),n.jsx(je,{className:"space-y-3 sm:space-y-4 pt-0",children:n.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"By accessing and using Pizza Portal, you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to abide by the above, please do not use this service."})})]}),n.jsxs(oe,{className:"border-border bg-card",children:[n.jsx(Re,{className:"pb-3 sm:pb-6",children:n.jsx(qe,{className:"text-lg sm:text-xl text-card-foreground",children:"2. Service Description"})}),n.jsxs(je,{className:"space-y-3 sm:space-y-4 pt-0",children:[n.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"Pizza Portal is an online platform that allows users to browse, customize, and order pizzas for delivery or pickup. Our service includes:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 sm:space-y-2 text-muted-foreground ml-3 sm:ml-4 text-sm sm:text-base",children:[n.jsx("li",{children:"Online pizza ordering and customization"}),n.jsx("li",{children:"Real-time order tracking"}),n.jsx("li",{children:"Payment processing"}),n.jsx("li",{children:"Customer account management"}),n.jsx("li",{children:"Delivery and pickup coordination"})]})]})]}),n.jsxs(oe,{className:"border-border bg-card",children:[n.jsx(Re,{className:"pb-3 sm:pb-6",children:n.jsx(qe,{className:"text-lg sm:text-xl text-card-foreground",children:"3. User Responsibilities"})}),n.jsxs(je,{className:"space-y-3 sm:space-y-4 pt-0",children:[n.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"As a user of our service, you agree to:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 sm:space-y-2 text-muted-foreground ml-3 sm:ml-4 text-sm sm:text-base",children:[n.jsx("li",{children:"Provide accurate and complete information when placing orders"}),n.jsx("li",{children:"Use the service only for lawful purposes"}),n.jsx("li",{children:"Maintain the security of your account credentials"}),n.jsx("li",{children:"Pay for all orders placed through your account"}),n.jsx("li",{children:"Respect our staff and delivery personnel"})]})]})]}),n.jsxs(oe,{className:"border-border bg-card",children:[n.jsx(Re,{className:"pb-3 sm:pb-6",children:n.jsx(qe,{className:"text-lg sm:text-xl text-card-foreground",children:"4. Payment Terms"})}),n.jsxs(je,{className:"space-y-3 sm:space-y-4 pt-0",children:[n.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"Payment is required at the time of order placement. We accept major credit cards, debit cards, and digital payment methods. All prices are subject to change without notice. Taxes and delivery fees may apply."}),n.jsx("div",{className:"bg-destructive/5 dark:bg-destructive/10 p-3 sm:p-4 rounded-lg border border-destructive/20",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(TC,{className:"h-4 w-4 sm:h-5 sm:w-5 text-destructive mr-2 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium text-destructive",children:"Refund Policy"}),n.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1",children:"Refunds are available for cancelled orders before preparation begins. Contact customer service within 30 minutes of order placement."})]})]})})]})]}),n.jsxs(oe,{className:"border-border bg-card",children:[n.jsx(Re,{className:"pb-3 sm:pb-6",children:n.jsx(qe,{className:"text-lg sm:text-xl text-card-foreground",children:"5. Delivery Terms"})}),n.jsx(je,{className:"space-y-3 sm:space-y-4 pt-0",children:n.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"Delivery times are estimates and may vary based on location, weather, and order volume. We are not responsible for delays beyond our control. Delivery is available within our designated service areas only."})})]}),n.jsxs(oe,{className:"border-border bg-card",children:[n.jsx(Re,{className:"pb-3 sm:pb-6",children:n.jsx(qe,{className:"text-lg sm:text-xl text-card-foreground",children:"6. Limitation of Liability"})}),n.jsx(je,{className:"space-y-3 sm:space-y-4 pt-0",children:n.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"Pizza Portal shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses."})})]}),n.jsxs(oe,{className:"border-border bg-card",children:[n.jsx(Re,{className:"pb-3 sm:pb-6",children:n.jsx(qe,{className:"text-lg sm:text-xl text-card-foreground",children:"7. Privacy"})}),n.jsx(je,{className:"space-y-3 sm:space-y-4 pt-0",children:n.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"Your privacy is important to us. Please review our Privacy Policy, which also governs your use of the service, to understand our practices."})})]}),n.jsxs(oe,{className:"border-border bg-card",children:[n.jsx(Re,{className:"pb-3 sm:pb-6",children:n.jsx(qe,{className:"text-lg sm:text-xl text-card-foreground",children:"8. Modifications to Terms"})}),n.jsx(je,{className:"space-y-3 sm:space-y-4 pt-0",children:n.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"We reserve the right to modify these terms at any time. Changes will be effective immediately upon posting. Your continued use of the service constitutes acceptance of the modified terms."})})]}),n.jsxs(oe,{className:"border-border bg-card",children:[n.jsx(Re,{className:"pb-3 sm:pb-6",children:n.jsx(qe,{className:"text-lg sm:text-xl text-card-foreground",children:"9. Contact Information"})}),n.jsxs(je,{className:"space-y-3 sm:space-y-4 pt-0",children:[n.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"If you have any questions about these Terms of Service, please contact us at:"}),n.jsxs("div",{className:"bg-muted/50 p-3 sm:p-4 rounded-lg",children:[n.jsx("p",{className:"font-medium text-foreground text-sm sm:text-base",children:"Pizza Portal Support"}),n.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Email: legal@pizzaportal.com"}),n.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Phone: 1-800-PIZZA-01"}),n.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Address: 123 Pizza Street, Food City, FC 12345"})]})]})]})]}),n.jsx(Hs,{className:"my-6 sm:my-8"}),n.jsx("div",{className:"text-center text-xs sm:text-sm text-muted-foreground px-2 sm:px-0",children:n.jsx("p",{children:"By using Pizza Portal, you acknowledge that you have read, understood, and agree to be bound by these Terms of Service."})})]}),ubt=()=>n.jsxs("div",{className:"container mx-auto p-3 sm:p-4 md:p-6 lg:p-8",children:[n.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[n.jsxs("div",{className:"flex items-center justify-center mb-3 sm:mb-4",children:[n.jsx(ws,{className:"h-6 w-6 sm:h-7 sm:w-7 md:h-8 md:w-8 text-primary mr-2 sm:mr-3"}),n.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-foreground",children:"Privacy Policy"})]}),n.jsx("p",{className:"text-muted-foreground text-base sm:text-lg px-4 sm:px-0",children:"Your privacy is important to us. This policy explains how we collect, use, and protect your information."}),n.jsxs("div",{className:"flex items-center justify-center mt-3 sm:mt-4 text-xs sm:text-sm text-muted-foreground",children:[n.jsx(bn,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),n.jsxs("span",{children:["Last updated: ",new Date().toLocaleDateString()]})]})]}),n.jsxs("div",{className:"space-y-4 sm:space-y-6 mx-2 sm:mx-0",children:[n.jsxs(oe,{className:"border-border bg-card",children:[n.jsx(Re,{className:"pb-3 sm:pb-6",children:n.jsxs(qe,{className:"flex items-center text-lg sm:text-xl text-card-foreground",children:[n.jsx(s$e,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-primary"}),"1. Information We Collect"]})}),n.jsxs(je,{className:"space-y-3 sm:space-y-4 pt-0",children:[n.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"We collect information you provide directly to us, such as when you create an account, place an order, or contact us for support."}),n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2 text-sm sm:text-base",children:"Personal Information:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground ml-3 sm:ml-4 text-sm sm:text-base",children:[n.jsx("li",{children:"Name, email address, and phone number"}),n.jsx("li",{children:"Delivery address and billing information"}),n.jsx("li",{children:"Payment method details (processed securely)"}),n.jsx("li",{children:"Order history and preferences"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2 text-sm sm:text-base",children:"Automatically Collected Information:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground ml-3 sm:ml-4 text-sm sm:text-base",children:[n.jsx("li",{children:"Device information and IP address"}),n.jsx("li",{children:"Browser type and operating system"}),n.jsx("li",{children:"Usage patterns and interaction data"}),n.jsx("li",{children:"Location data (with your permission)"})]})]})]})]})]}),n.jsxs(oe,{className:"border-border bg-card",children:[n.jsx(Re,{className:"pb-3 sm:pb-6",children:n.jsxs(qe,{className:"flex items-center text-lg sm:text-xl text-card-foreground",children:[n.jsx(ln,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-primary"}),"2. How We Use Your Information"]})}),n.jsxs(je,{className:"space-y-3 sm:space-y-4 pt-0",children:[n.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"We use the information we collect to provide, maintain, and improve our services:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 sm:space-y-2 text-muted-foreground ml-3 sm:ml-4 text-sm sm:text-base",children:[n.jsx("li",{children:"Process and fulfill your pizza orders"}),n.jsx("li",{children:"Communicate with you about your orders and account"}),n.jsx("li",{children:"Provide customer support and respond to inquiries"}),n.jsx("li",{children:"Send promotional offers and updates (with your consent)"}),n.jsx("li",{children:"Improve our website and services"}),n.jsx("li",{children:"Prevent fraud and ensure security"}),n.jsx("li",{children:"Comply with legal obligations"})]})]})]}),n.jsxs(oe,{className:"border-border bg-card",children:[n.jsx(Re,{className:"pb-3 sm:pb-6",children:n.jsx(qe,{className:"text-lg sm:text-xl text-card-foreground",children:"3. Information Sharing and Disclosure"})}),n.jsxs(je,{className:"space-y-3 sm:space-y-4 pt-0",children:[n.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"We do not sell, trade, or otherwise transfer your personal information to third parties except in the following circumstances:"}),n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:"bg-primary/5 dark:bg-primary/10 p-3 sm:p-4 rounded-lg border border-primary/20",children:[n.jsx("h4",{className:"font-semibold text-primary mb-2 text-sm sm:text-base",children:"Service Providers:"}),n.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"We share information with trusted third-party service providers who help us operate our business, such as payment processors, delivery services, and cloud hosting providers."})]}),n.jsxs("div",{className:"bg-destructive/5 dark:bg-destructive/10 p-3 sm:p-4 rounded-lg border border-destructive/20",children:[n.jsx("h4",{className:"font-semibold text-destructive mb-2 text-sm sm:text-base",children:"Legal Requirements:"}),n.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"We may disclose information when required by law, court order, or government request, or to protect our rights and safety."})]})]})]})]}),n.jsxs(oe,{className:"border-border bg-card",children:[n.jsx(Re,{className:"pb-3 sm:pb-6",children:n.jsxs(qe,{className:"flex items-center text-lg sm:text-xl text-card-foreground",children:[n.jsx(Ll,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-primary"}),"4. Data Security"]})}),n.jsxs(je,{className:"space-y-3 sm:space-y-4 pt-0",children:[n.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"We implement appropriate technical and organizational measures to protect your personal information:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 sm:space-y-2 text-muted-foreground ml-3 sm:ml-4 text-sm sm:text-base",children:[n.jsx("li",{children:"SSL encryption for data transmission"}),n.jsx("li",{children:"Secure servers and databases"}),n.jsx("li",{children:"Regular security audits and updates"}),n.jsx("li",{children:"Access controls and employee training"}),n.jsx("li",{children:"Payment card industry (PCI) compliance"})]}),n.jsx("div",{className:"bg-destructive/5 dark:bg-destructive/10 p-3 sm:p-4 rounded-lg border border-destructive/20 mt-3 sm:mt-4",children:n.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:[n.jsx("strong",{className:"text-destructive",children:"Important:"})," While we strive to protect your information, no method of transmission over the internet or electronic storage is 100% secure. We cannot guarantee absolute security."]})})]})]}),n.jsxs(oe,{className:"border-border bg-card",children:[n.jsx(Re,{className:"pb-3 sm:pb-6",children:n.jsx(qe,{className:"text-lg sm:text-xl text-card-foreground",children:"5. Your Rights and Choices"})}),n.jsxs(je,{className:"space-y-3 sm:space-y-4 pt-0",children:[n.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"You have several rights regarding your personal information:"}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground text-sm sm:text-base",children:"Access & Update"}),n.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"View and update your account information anytime"})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground text-sm sm:text-base",children:"Delete Account"}),n.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Request deletion of your account and data"})]})]}),n.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground text-sm sm:text-base",children:"Marketing Opt-out"}),n.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Unsubscribe from promotional emails"})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground text-sm sm:text-base",children:"Data Portability"}),n.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Request a copy of your data"})]})]})]})]})]}),n.jsxs(oe,{className:"border-border bg-card",children:[n.jsx(Re,{className:"pb-3 sm:pb-6",children:n.jsx(qe,{className:"text-lg sm:text-xl text-card-foreground",children:"6. Cookies and Tracking Technologies"})}),n.jsxs(je,{className:"space-y-3 sm:space-y-4 pt-0",children:[n.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"We use cookies and similar technologies to enhance your experience:"}),n.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[n.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[n.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground text-sm sm:text-base",children:"Essential Cookies"}),n.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Required for basic website functionality"})]})]}),n.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[n.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground text-sm sm:text-base",children:"Analytics Cookies"}),n.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Help us understand how you use our website"})]})]}),n.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[n.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground text-sm sm:text-base",children:"Marketing Cookies"}),n.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Used to show relevant advertisements"})]})]})]})]})]}),n.jsxs(oe,{className:"border-border bg-card",children:[n.jsx(Re,{className:"pb-3 sm:pb-6",children:n.jsx(qe,{className:"text-lg sm:text-xl text-card-foreground",children:"7. Children's Privacy"})}),n.jsx(je,{className:"space-y-3 sm:space-y-4 pt-0",children:n.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"Our service is not intended for children under 13 years of age. We do not knowingly collect personal information from children under 13. If you are a parent or guardian and believe your child has provided us with personal information, please contact us immediately."})})]}),n.jsxs(oe,{className:"border-border bg-card",children:[n.jsx(Re,{className:"pb-3 sm:pb-6",children:n.jsx(qe,{className:"text-lg sm:text-xl text-card-foreground",children:"8. Changes to This Privacy Policy"})}),n.jsx(je,{className:"space-y-3 sm:space-y-4 pt-0",children:n.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:'We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last updated" date. You are advised to review this Privacy Policy periodically for any changes.'})})]}),n.jsxs(oe,{className:"border-border bg-card",children:[n.jsx(Re,{className:"pb-3 sm:pb-6",children:n.jsxs(qe,{className:"flex items-center text-lg sm:text-xl text-card-foreground",children:[n.jsx(sl,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-primary"}),"9. Contact Us"]})}),n.jsxs(je,{className:"space-y-3 sm:space-y-4 pt-0",children:[n.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm sm:text-base",children:"If you have any questions about this Privacy Policy or our privacy practices, please contact us:"}),n.jsxs("div",{className:"bg-muted/50 p-3 sm:p-4 rounded-lg",children:[n.jsx("p",{className:"font-medium text-foreground text-sm sm:text-base",children:"Privacy Officer - Pizza Portal"}),n.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Email: privacy@pizzaportal.com"}),n.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Phone: 1-800-PRIVACY"}),n.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Address: 123 Pizza Street, Food City, FC 12345"})]})]})]})]}),n.jsx(Hs,{className:"my-6 sm:my-8"}),n.jsx("div",{className:"text-center text-xs sm:text-sm text-muted-foreground",children:n.jsx("p",{children:"By using Pizza Portal, you consent to the collection and use of your information as described in this Privacy Policy."})})]}),fbt=()=>{const{user:e,getUserProfile:t,logout:r}=Gl(),{theme:s,setTheme:a}=$u(),i=Vt(),[o,c]=v.useState(e),[d,u]=v.useState(!1),[l,f]=v.useState(""),[m,p]=v.useState(!1),[x]=v.useState(null);v.useEffect(()=>{c(e)},[e]),v.useEffect(()=>{e||b()},[]);const b=async()=>{u(!0),f("");try{const S=await t();S.type.endsWith("/fulfilled")?(f(""),c(S.payload||e)):f("Failed to load user profile")}catch(S){f("Failed to load user profile"),console.error("Profile refresh error:",S)}finally{u(!1)}},h=async()=>{p(!0);try{await r(),i("/login")}catch(S){console.error("Logout error:",S)}finally{p(!1)}},y=()=>{i("/settings/terms")},w=()=>{i("/settings/privacy")};return n.jsxs("div",{className:"container mx-auto p-3 sm:p-4 md:p-6 lg:p-8 max-w-4xl",children:[n.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[n.jsxs("div",{className:"flex items-center justify-center mb-3 sm:mb-4",children:[n.jsx(Eb,{className:"h-6 w-6 sm:h-7 sm:w-7 md:h-8 md:w-8 text-primary mr-2 sm:mr-3"}),n.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-foreground",children:"Settings"})]}),n.jsx("p",{className:"text-muted-foreground text-base sm:text-lg px-4 sm:px-0",children:"Manage your account preferences and privacy settings."})]}),x&&n.jsxs(Ge,{className:`mb-4 sm:mb-6 mx-2 sm:mx-0 ${x.includes("successfully")?"border-green-200 bg-green-50 dark:bg-green-900/20":"border-red-200 bg-red-50 dark:bg-red-900/20"}`,children:[n.jsx(bs,{className:`h-4 w-4 ${x.includes("successfully")?"text-green-600":"text-red-600"}`}),n.jsx(Ye,{className:x.includes("successfully")?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300",children:x})]}),n.jsxs(Zl,{defaultValue:"profile",className:"space-y-4 sm:space-y-6",children:[n.jsxs(ll,{className:"grid w-full grid-cols-2 mx-2 sm:mx-0",children:[n.jsxs(xs,{value:"profile",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm",children:[n.jsx(Xa,{className:"h-3 w-3 sm:h-4 sm:w-4"}),n.jsx("span",{className:"hidden xs:inline sm:inline",children:"Profile"})]}),n.jsxs(xs,{value:"appearance",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm",children:[n.jsx(gg,{className:"h-3 w-3 sm:h-4 sm:w-4"}),n.jsx("span",{className:"hidden xs:inline sm:inline",children:"Appearance"})]})]}),n.jsxs(vs,{value:"profile",className:"space-y-4 sm:space-y-6 mx-2 sm:mx-0",children:[n.jsxs(oe,{className:"border-border bg-card",children:[n.jsxs(Re,{className:"pb-3 sm:pb-6",children:[n.jsx(qe,{className:"text-lg sm:text-xl text-card-foreground",children:"Current Profile Information"}),n.jsx(Us,{className:"text-sm sm:text-base text-muted-foreground",children:"View your current account information and details"})]}),n.jsxs(je,{className:"pt-0",children:[l&&n.jsx("div",{className:"bg-destructive/10 border border-destructive/20 text-destructive px-3 sm:px-4 py-2 sm:py-3 rounded-md text-sm mb-3 sm:mb-4",children:l}),d?n.jsxs("div",{className:"text-center py-6 sm:py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 border-b-2 border-primary mx-auto"}),n.jsx("p",{className:"mt-2 text-muted-foreground text-sm sm:text-base",children:"Loading profile..."})]}):o?n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Name"}),n.jsx("p",{className:"mt-1 text-sm sm:text-base text-foreground font-medium",children:o.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Email"}),n.jsx("p",{className:"mt-1 text-sm sm:text-base text-foreground font-medium break-all",children:o.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Email Verified"}),n.jsx("p",{className:"mt-1",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${o.email_verified_at?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-destructive/10 text-destructive"}`,children:o.email_verified_at?"Verified":"Not Verified"})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Member Since"}),n.jsx("p",{className:"mt-1 text-sm sm:text-base text-foreground",children:new Date(o.created_at).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Last Updated"}),n.jsx("p",{className:"mt-1 text-sm sm:text-base text-foreground",children:new Date(o.updated_at).toLocaleDateString()})]})]}):n.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"No profile data available"})]})]}),n.jsxs(oe,{className:"border-border bg-card",children:[n.jsxs(Re,{className:"pb-3 sm:pb-6",children:[n.jsx(qe,{className:"text-lg sm:text-xl text-card-foreground",children:"Account Actions"}),n.jsx(Us,{className:"text-sm sm:text-base text-muted-foreground",children:"Manage your account and access important information"})]}),n.jsx(je,{className:"pt-0",children:n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[n.jsxs(W,{variant:"outline",onClick:y,className:"flex items-center gap-2 justify-center sm:justify-start",children:[n.jsx($l,{className:"h-4 w-4"}),"Terms & Services"]}),n.jsxs(W,{variant:"outline",onClick:w,className:"flex items-center gap-2 justify-center sm:justify-start",children:[n.jsx(ws,{className:"h-4 w-4"}),"Privacy Policy"]})]}),n.jsx("div",{className:"pt-2 border-t border-border",children:n.jsxs(W,{variant:"destructive",onClick:h,disabled:m,className:"flex items-center gap-2 w-full sm:w-auto",children:[n.jsx(tLe,{className:"h-4 w-4"}),m?"Logging out...":"Logout"]})})]})})]})]}),n.jsx(vs,{value:"appearance",className:"space-y-4 sm:space-y-6 mx-2 sm:mx-0",children:n.jsxs(oe,{className:"border-border bg-card",children:[n.jsxs(Re,{className:"pb-3 sm:pb-6",children:[n.jsx(qe,{className:"text-lg sm:text-xl text-card-foreground",children:"Theme Preferences"}),n.jsx(Us,{className:"text-sm sm:text-base text-muted-foreground",children:"Customize the appearance of your Pizza Portal experience."})]}),n.jsx(je,{className:"space-y-3 sm:space-y-4 pt-0",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[n.jsxs(W,{variant:s==="light"?"default":"outline",onClick:()=>a("light"),className:"h-16 sm:h-20 flex flex-col items-center justify-center space-y-1 sm:space-y-2 text-sm sm:text-base",children:[n.jsx("div",{className:"w-6 h-6 bg-white border-2 border-gray-300 rounded"}),n.jsx("span",{children:"Light"})]}),n.jsxs(W,{variant:s==="dark"?"default":"outline",onClick:()=>a("dark"),className:"h-16 sm:h-20 flex flex-col items-center justify-center space-y-1 sm:space-y-2 text-sm sm:text-base",children:[n.jsx("div",{className:"w-6 h-6 bg-gray-800 border-2 border-gray-600 rounded"}),n.jsx("span",{children:"Dark"})]}),n.jsxs(W,{variant:s==="system"?"default":"outline",onClick:()=>a("system"),className:"h-16 sm:h-20 flex flex-col items-center justify-center space-y-1 sm:space-y-2 text-sm sm:text-base sm:col-span-1 col-span-1",children:[n.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-white to-gray-800 border-2 border-gray-400 rounded"}),n.jsx("span",{children:"System"})]})]})})]})})]})]})},mbt=[n.jsx(At,{path:"/dashboard",element:n.jsx(Ft,{children:n.jsx($t,{children:n.jsx(lbt,{})})})},"dashboard"),n.jsx(At,{path:"/blank-page",element:n.jsx(Ft,{children:n.jsx($t,{children:n.jsx(cbt,{})})})},"blank-page"),n.jsx(At,{path:"/settings",element:n.jsx(Ft,{children:n.jsx($t,{children:n.jsx(fbt,{})})})},"settings"),n.jsx(At,{path:"/settings/terms",element:n.jsx(Ft,{children:n.jsx($t,{children:n.jsx(dbt,{})})})},"terms"),n.jsx(At,{path:"/settings/privacy",element:n.jsx(Ft,{children:n.jsx($t,{children:n.jsx(ubt,{})})})},"privacy")],au={validateName:e=>{if(!e||!e.trim())return{isValid:!1,error:"User name is required"};const t=e.trim();return t.length<mi.NAME_MIN_LENGTH?{isValid:!1,error:`Name must be at least ${mi.NAME_MIN_LENGTH} characters`}:t.length>mi.NAME_MAX_LENGTH?{isValid:!1,error:`Name must be less than ${mi.NAME_MAX_LENGTH} characters`}:/^[a-zA-Z\s'-]+$/.test(t)?{isValid:!0}:{isValid:!1,error:"Name can only contain letters, spaces, apostrophes, and hyphens"}},validateEmail:e=>{if(!e||!e.trim())return{isValid:!1,error:"Email is required"};const t=e.trim().toLowerCase();return t.length>mi.EMAIL_MAX_LENGTH?{isValid:!1,error:`Email must be less than ${mi.EMAIL_MAX_LENGTH} characters`}:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)?{isValid:!0}:{isValid:!1,error:"Please enter a valid email address"}},validatePassword:(e,t={minLength:mi.PASSWORD_MIN_LENGTH,requireUppercase:!0,requireLowercase:!0,requireNumbers:!0,requireSpecialChars:!0})=>e?e.length<t.minLength?{isValid:!1,error:`Password must be at least ${t.minLength} characters long`}:e.length>mi.PASSWORD_MAX_LENGTH?{isValid:!1,error:`Password must be less than ${mi.PASSWORD_MAX_LENGTH} characters`}:t.requireUppercase&&!/[A-Z]/.test(e)?{isValid:!1,error:"Password must contain at least one uppercase letter"}:t.requireLowercase&&!/[a-z]/.test(e)?{isValid:!1,error:"Password must contain at least one lowercase letter"}:t.requireNumbers&&!/\d/.test(e)?{isValid:!1,error:"Password must contain at least one number"}:t.requireSpecialChars&&!/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\?]/.test(e)?{isValid:!1,error:"Password must contain at least one special character"}:t.forbiddenPasswords?.some(r=>e.toLowerCase().includes(r.toLowerCase()))?{isValid:!1,error:"Password contains forbidden words"}:{isValid:!0}:{isValid:!1,error:"Password is required"},validatePasswordConfirmation:(e,t)=>t?e!==t?{isValid:!1,error:"Password confirmation does not match"}:{isValid:!0}:{isValid:!1,error:"Password confirmation is required"},validateRoles:e=>Array.isArray(e)?e.length>mi.MAX_ROLES_PER_USER?{isValid:!1,error:`Cannot assign more than ${mi.MAX_ROLES_PER_USER} roles to a user`}:e.filter(r=>!r||!r.trim()).length>0?{isValid:!1,error:"All roles must have valid names"}:{isValid:!0}:{isValid:!1,error:"Roles must be an array"},validatePermissions:e=>Array.isArray(e)?e.length>mi.MAX_PERMISSIONS_PER_USER?{isValid:!1,error:`Cannot assign more than ${mi.MAX_PERMISSIONS_PER_USER} permissions to a user`}:e.filter(r=>!r||!r.trim()).length>0?{isValid:!1,error:"All permissions must have valid names"}:{isValid:!0}:{isValid:!1,error:"Permissions must be an array"},validateUserForm:(e,t=!1)=>{const r={},s=au.validateName(e.name);!s.isValid&&s.error&&(r.name=s.error);const a=au.validateEmail(e.email);if(!a.isValid&&a.error&&(r.email=a.error),!t||e.password){if(!e.password&&!t)r.password="Password is required";else if(e.password){const c=au.validatePassword(e.password);!c.isValid&&c.error&&(r.password=c.error);const d=au.validatePasswordConfirmation(e.password,e.password_confirmation||"");!d.isValid&&d.error&&(r.password_confirmation=d.error)}}const i=au.validateRoles(e.roles);!i.isValid&&i.error&&(r.roles=i.error);const o=au.validatePermissions(e.permissions);return!o.isValid&&o.error&&(r.permissions=o.error),{isValid:Object.keys(r).length===0,errors:r}}},ks={formatDisplayName:e=>e?e.trim().toLowerCase().replace(/\b\w/g,t=>t.toUpperCase()):"",formatEmail:e=>e?e.trim().toLowerCase():"",formatCreatedAt:e=>{try{const t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)}catch{return"Invalid Date"}},formatRelativeTime:e=>{try{const t=new Date(e),s=Math.floor((new Date().getTime()-t.getTime())/1e3);return s<60?"Just now":s<3600?`${Math.floor(s/60)} minutes ago`:s<86400?`${Math.floor(s/3600)} hours ago`:s<2592e3?`${Math.floor(s/86400)} days ago`:s<31536e3?`${Math.floor(s/2592e3)} months ago`:`${Math.floor(s/31536e3)} years ago`}catch{return"Unknown"}},formatEmailVerificationStatus:e=>e?"Verified":"Unverified",formatRoleCount:e=>e===0?"No roles":e===1?"1 role":`${e} roles`,formatPermissionCount:e=>e===0?"No permissions":e===1?"1 permission":`${e} permissions`,formatInitials:e=>{if(!e)return"";const t=e.trim().split(" ");return t.length===1?t[0].charAt(0).toUpperCase():(t[0].charAt(0)+t[t.length-1].charAt(0)).toUpperCase()}},Np={sortByName:(e,t="asc")=>[...e].sort((r,s)=>{const a=r.name.localeCompare(s.name);return t==="asc"?a:-a}),sortByEmail:(e,t="asc")=>[...e].sort((r,s)=>{const a=r.email.localeCompare(s.email);return t==="asc"?a:-a}),sortByCreatedAt:(e,t="desc")=>[...e].sort((r,s)=>{const a=new Date(r.created_at).getTime(),i=new Date(s.created_at).getTime();return t==="asc"?a-i:i-a}),sortByRoleCount:(e,t="desc")=>[...e].sort((r,s)=>{const a=r.roles?.length||0,i=s.roles?.length||0;return t==="asc"?a-i:i-a}),sortByPermissionCount:(e,t="desc")=>[...e].sort((r,s)=>{const a=r.permissions?.length||0,i=s.permissions?.length||0;return t==="asc"?a-i:i-a}),sortByVerificationStatus:(e,t="desc")=>[...e].sort((r,s)=>{const a=!!r.email_verified_at,i=!!s.email_verified_at;return a===i?0:t==="desc"?a?-1:1:a?1:-1})},Mf={filterBySearch:(e,t)=>{if(!t.trim())return e;const r=t.toLowerCase().trim();return e.filter(s=>s.name.toLowerCase().includes(r)||s.email.toLowerCase().includes(r))},filterByVerificationStatus:(e,t)=>e.filter(r=>t?!!r.email_verified_at:!r.email_verified_at),filterByRoles:(e,t)=>!t||t.length===0?e:e.filter(r=>r.roles?.some(s=>t.includes(s.name))),filterByPermissions:(e,t)=>!t||t.length===0?e:e.filter(r=>r.permissions?.some(s=>t.includes(s.name))||r.roles?.some(s=>s.permissions?.some(a=>t.includes(a.name)))),filterWithRoles:e=>e.filter(t=>t.roles&&t.roles.length>0),filterWithPermissions:e=>e.filter(t=>t.permissions&&t.permissions.length>0||t.roles&&t.roles.some(r=>r.permissions&&r.permissions.length>0)),filterByStores:(e,t)=>!t||t.length===0?e:e.filter(r=>r.stores?.some(s=>t.includes(s.store.id)))},Bde={toSelectOption:e=>({value:e.id,label:`${ks.formatDisplayName(e.name)} (${e.email})`,user:e}),toSelectOptions:e=>e.map(Bde.toSelectOption),toSearchResult:e=>({id:e.id,title:ks.formatDisplayName(e.name),subtitle:e.email,meta:`${ks.formatRoleCount(e.roles?.length||0)}  ${ks.formatEmailVerificationStatus(e.email_verified_at)}`,user:e}),toCsvData:e=>e.map(t=>({ID:t.id,Name:t.name,Email:t.email,"Email Verified":ks.formatEmailVerificationStatus(t.email_verified_at),"Role Count":t.roles?.length||0,"Permission Count":t.permissions?.length||0,"Store Count":t.stores?.length||0,"Role Names":t.roles?.map(r=>r.name).join("; ")||"","Permission Names":t.permissions?.map(r=>r.name).join("; ")||"","Created At":ks.formatCreatedAt(t.created_at),"Updated At":ks.formatCreatedAt(t.updated_at)})),toAnalyticsData:e=>({id:e.id,name:e.name,email:e.email,is_verified:!!e.email_verified_at,role_count:e.roles?.length||0,permission_count:e.permissions?.length||0,store_count:e.stores?.length||0,created_date:e.created_at.split("T")[0],days_since_creation:Math.floor((new Date().getTime()-new Date(e.created_at).getTime())/(1e3*60*60*24))})},hbt=e=>{const t=e.length,r=e.filter(l=>l.email_verified_at).length,s=e.filter(l=>l.roles&&l.roles.length>0).length,a=e.filter(l=>l.permissions&&l.permissions.length>0).length,i=e.filter(l=>l.stores&&l.stores.length>0).length,o=e.reduce((l,f)=>l+(f.roles?.length||0),0),c=e.reduce((l,f)=>l+(f.permissions?.length||0),0),d=t>0?o/t:0,u=t>0?c/t:0;return{totalUsers:t,verifiedUsers:r,unverifiedUsers:t-r,verificationRate:t>0?r/t*100:0,usersWithRoles:s,usersWithPermissions:a,usersWithStores:i,usersWithoutRoles:t-s,avgRolesPerUser:Math.round(d*100)/100,avgPermissionsPerUser:Math.round(u*100)/100}},Px=(e=!0,t)=>{const r=ct(),[s,a]=v.useState("name"),[i,o]=v.useState("asc"),c=se(E1e),d=se(y1e),u=se(nX),l=se(aX),f=se(b1e),m=se(D1e),p=se(P1e),x=se(R1e),b=se(T1e),h=se(k1e),y=se(iX),w=v.useMemo(()=>{let M=[...d];switch(s){case"name":M=Np.sortByName(M,i);break;case"email":M=Np.sortByEmail(M,i);break;case"created_at":M=Np.sortByCreatedAt(M,i);break;case"role_count":M=Np.sortByRoleCount(M,i);break;case"permission_count":M=Np.sortByPermissionCount(M,i);break;default:M=Np.sortByName(M,i)}return M},[d,s,i]),S=v.useMemo(()=>{let M=w;return c&&(M=Mf.filterBySearch(M,c)),h.emailVerified!==void 0&&(M=Mf.filterByVerificationStatus(M,h.emailVerified)),h.roleNames&&h.roleNames.length>0&&(M=Mf.filterByRoles(M,h.roleNames)),h.permissionNames&&h.permissionNames.length>0&&(M=Mf.filterByPermissions(M,h.permissionNames)),h.storeIds&&h.storeIds.length>0&&(M=Mf.filterByStores(M,h.storeIds)),h.hasRoles===!0?M=Mf.filterWithRoles(M):h.hasRoles===!1&&(M=M.filter(R=>!R.roles||R.roles.length===0)),h.hasPermissions===!0?M=Mf.filterWithPermissions(M):h.hasPermissions===!1&&(M=M.filter(R=>(!R.permissions||R.permissions.length===0)&&(!R.roles||!R.roles.some(B=>B.permissions&&B.permissions.length>0)))),M},[w,c,h]),N=v.useMemo(()=>Bde.toSelectOptions(S),[S]),_=v.useMemo(()=>hbt(d),[d]),k=v.useRef(t);k.current=t;const E=v.useCallback(async M=>{const R={page:f?.currentPage||1,per_page:y,search:c,...h,...M};try{await r(Oc(R)).unwrap()}catch(B){throw console.error("Failed to fetch users:",B),B}},[r,f?.currentPage,y,c,h]),T=v.useCallback(async()=>{await E(k.current)},[E]),D=v.useCallback(M=>{r(x1e(M))},[r]),P=v.useCallback(M=>{r(sX(M))},[r]);return v.useEffect(()=>{e&&!m&&!u&&!l&&E(k.current)},[e,m,u,l,E]),v.useEffect(()=>()=>{l&&r(m1e())},[r,l]),v.useMemo(()=>({users:d,loading:u,error:l,pagination:f,hasUsers:m,isEmpty:p,totalUsers:x,fetchUsers:E,refetch:T,sortedUsers:w,setSortField:a,setSortDirection:o,sortField:s,sortDirection:i,searchTerm:c,setSearchTerm:D,filteredUsers:S,selectOptions:N,usersWithCounts:b,userStats:_,perPage:y,setPerPage:P}),[d,u,l,f,m,p,x,E,T,w,a,o,s,i,c,D,S,N,b,_,y,P])},pbt=()=>{const e=ct(),t=se(w1e),r=se(j1e),s=v.useCallback(c=>au.validateUserForm(c,!1),[]),a=v.useCallback(c=>({name:ks.formatDisplayName(c.name),email:ks.formatEmail(c.email),password:c.password,password_confirmation:c.password_confirmation,roles:c.roles,permissions:c.permissions}),[]),i=v.useCallback(async c=>{const d={name:c.name,email:c.email,password:c.password,password_confirmation:c.password_confirmation,roles:c.roles,permissions:c.permissions},u=s(d);if(!u.isValid){const f=Object.values(u.errors)[0];throw new Error(f)}const l=a(d);try{return await e(MS(l)).unwrap()}catch(f){throw console.error("Failed to create user:",f),f}},[e,s,a]),o=v.useCallback(()=>{e(h1e())},[e]);return v.useMemo(()=>({createUser:i,loading:t,error:r,reset:o,validateForm:s,formatForApi:a}),[i,t,r,o,s,a])},gbt=()=>{const e=ct(),t=se(S1e),r=se(N1e),s=v.useCallback(c=>au.validateUserForm(c,!0),[]),a=v.useCallback(c=>{const d={name:ks.formatDisplayName(c.name),email:ks.formatEmail(c.email),roles:c.roles,permissions:c.permissions};return c.password&&(d.password=c.password,d.password_confirmation=c.password_confirmation),d},[]),i=v.useCallback(async(c,d)=>{const u={name:d.name||"",email:d.email||"",password:d.password,password_confirmation:d.password_confirmation,roles:d.roles||[],permissions:d.permissions||[]},l=s(u);if(!l.isValid){const f=Object.values(l.errors)[0];throw new Error(f)}try{return await e(OS({userId:c,data:d})).unwrap()}catch(f){throw console.error("Failed to update user:",f),f}},[e,s]),o=v.useCallback(()=>{e(p1e())},[e]);return v.useMemo(()=>({updateUser:i,loading:t,error:r,reset:o,validateForm:s,formatForApi:a}),[i,t,r,o,s,a])},xbt=()=>{const e=ct(),t=se(C1e),r=se(_1e),s=v.useCallback(async i=>{try{await e(IS(i)).unwrap()}catch(o){throw console.error("Failed to delete user:",o),o}},[e]),a=v.useCallback(()=>{e(g1e())},[e]);return v.useMemo(()=>({deleteUser:s,loading:t,error:r,reset:a}),[s,t,r,a])},zde=e=>{const t=ct(),r=se(o=>e?A1e(o,e):void 0),s=se(nX),a=se(aX);v.useEffect(()=>{e&&!r&&!s&&t(FS(e))},[e,r,s,t]);const i=v.useMemo(()=>r?{displayName:ks.formatDisplayName(r.name),formattedEmail:ks.formatEmail(r.email),createdAt:ks.formatCreatedAt(r.created_at),updatedAt:ks.formatCreatedAt(r.updated_at),relativeTime:ks.formatRelativeTime(r.created_at),verificationStatus:ks.formatEmailVerificationStatus(r.email_verified_at),roleCount:r.roles?.length||0,permissionCount:r.permissions?.length||0,storeCount:r.stores?.length||0,roleNames:r.roles?.map(o=>o.name).join(", ")||"No roles",permissionNames:r.permissions?.map(o=>o.name).join(", ")||"No permissions",initials:ks.formatInitials(r.name)}:null,[r]);return v.useMemo(()=>({user:r,formattedData:i,loading:s,error:a,exists:!!r}),[r,i,s,a])},vbt=({user:e,onView:t,onEdit:r,onDelete:s,deleteLoading:a=!1})=>n.jsxs(Nt,{className:"border-border bg-card hover:bg-muted/50",children:[n.jsx(Ee,{className:"font-medium text-xs sm:text-sm p-2 sm:p-4 text-foreground",children:n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n.jsx("div",{className:"h-6 w-6 sm:h-8 sm:w-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium bg-primary text-primary-foreground",children:ks.formatInitials(e.name)}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("div",{className:"text-xs sm:text-sm font-medium truncate text-foreground",title:ks.formatDisplayName(e.name),children:ks.formatDisplayName(e.name)}),n.jsxs("div",{className:"sm:hidden mt-1 space-y-1",children:[e.roles&&e.roles.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.roles.slice(0,2).map(i=>n.jsx(Ae,{variant:"outline",className:"text-xs px-1 py-0.5 bg-secondary text-secondary-foreground border-border",children:i.name},i.id)),e.roles.length>2&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.roles.length-2]})]}),e.stores&&e.stores.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.stores.slice(0,2).map(i=>n.jsx(Ae,{variant:"secondary",className:"text-xs px-1 py-0.5 bg-accent text-accent-foreground border-border",children:i.store.name},i.store.id)),e.stores.length>2&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.stores.length-2]})]})]})]})]})}),n.jsx(Ee,{className:"p-2 sm:p-4 hidden sm:table-cell",children:n.jsx("div",{className:"space-y-1 max-w-[20rem] lg:max-w-none",children:e.roles&&e.roles.length>0?n.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.roles.slice(0,4).map(i=>n.jsx(Ae,{variant:"outline",className:"text-xs px-1 py-0.5 bg-secondary text-secondary-foreground border-border",children:n.jsx("span",{className:"truncate max-w-[7rem]",title:i.name,children:i.name})},i.id)),e.roles.length>4&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.roles.length-4]})]}):n.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"No roles"})})}),n.jsx(Ee,{className:"p-2 sm:p-4 hidden md:table-cell",children:n.jsx("div",{className:"space-y-1 max-w-[20rem] lg:max-w-none",children:e.stores&&e.stores.length>0?n.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.stores.slice(0,4).map(i=>n.jsx(Ae,{variant:"secondary",className:"text-xs px-1 py-0.5 bg-accent text-accent-foreground border-border",children:n.jsx("span",{className:"truncate max-w-[7rem]",title:i.store.name,children:i.store.name})},i.store.id)),e.stores.length>4&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.stores.length-4]})]}):n.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"No stores"})})}),n.jsx(Ee,{className:"text-right p-2 sm:p-4",children:n.jsxs("div",{className:"flex items-center justify-end gap-1 sm:gap-2",children:[n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>t(e.id),className:"h-7 w-7 sm:h-8 sm:w-8 p-0 text-muted-foreground bg-transparent hover:bg-muted/50",title:"View user",children:n.jsx(ln,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>r(e.id),className:"h-7 w-7 sm:h-8 sm:w-8 p-0 text-muted-foreground bg-transparent hover:bg-muted/50",title:"Edit user",children:n.jsx(Pa,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>s({id:e.id,name:e.name}),className:"h-7 w-7 sm:h-8 sm:w-8 p-0 text-destructive bg-transparent hover:bg-destructive/10",disabled:a,title:"Delete user",children:n.jsx(kt,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})})]}),ybt=()=>n.jsx(Jr,{className:"bg-muted border-b border-border",children:n.jsxs(Nt,{className:"border-border",children:[n.jsx(De,{className:"min-w-[10rem] text-xs sm:text-sm text-foreground font-semibold",children:"Name"}),n.jsx(De,{className:"min-w-[8rem] text-xs sm:text-sm hidden sm:table-cell text-foreground font-semibold",children:"Roles"}),n.jsx(De,{className:"min-w-[8rem] text-xs sm:text-sm hidden md:table-cell text-foreground font-semibold",children:"Stores"}),n.jsx(De,{className:"min-w-[6rem] text-xs sm:text-sm text-right text-foreground font-semibold",children:"Actions"})]})});function Qy(e,[t,r]){return Math.min(r,Math.max(t,e))}function hn(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}var bbt="DismissableLayer",BO="dismissableLayer.update",wbt="dismissableLayer.pointerDownOutside",jbt="dismissableLayer.focusOutside",UY,Ude=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Hde=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:c,...d}=e,u=v.useContext(Ude),[l,f]=v.useState(null),m=l?.ownerDocument??globalThis?.document,[,p]=v.useState({}),x=bt(t,E=>f(E)),b=Array.from(u.layers),[h]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=b.indexOf(h),w=l?b.indexOf(l):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,N=w>=y,_=Cbt(E=>{const T=E.target,D=[...u.branches].some(P=>P.contains(T));!N||D||(a?.(E),o?.(E),E.defaultPrevented||c?.())},m),k=_bt(E=>{const T=E.target;[...u.branches].some(P=>P.contains(T))||(i?.(E),o?.(E),E.defaultPrevented||c?.())},m);return j3(E=>{w===u.layers.size-1&&(s?.(E),!E.defaultPrevented&&c&&(E.preventDefault(),c()))},m),v.useEffect(()=>{if(l)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(UY=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(l)),u.layers.add(l),HY(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=UY)}},[l,m,r,u]),v.useEffect(()=>()=>{l&&(u.layers.delete(l),u.layersWithOutsidePointerEventsDisabled.delete(l),HY())},[l,u]),v.useEffect(()=>{const E=()=>p({});return document.addEventListener(BO,E),()=>document.removeEventListener(BO,E)},[]),n.jsx(nt.div,{...d,ref:x,style:{pointerEvents:S?N?"auto":"none":void 0,...e.style},onFocusCapture:hn(e.onFocusCapture,k.onFocusCapture),onBlurCapture:hn(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:hn(e.onPointerDownCapture,_.onPointerDownCapture)})});Hde.displayName=bbt;var Sbt="DismissableLayerBranch",Nbt=v.forwardRef((e,t)=>{const r=v.useContext(Ude),s=v.useRef(null),a=bt(t,s);return v.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(nt.div,{...e,ref:a})});Nbt.displayName=Sbt;function Cbt(e,t=globalThis?.document){const r=As(e),s=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const i=c=>{if(c.target&&!s.current){let d=function(){Vde(wbt,r,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function _bt(e,t=globalThis?.document){const r=As(e),s=v.useRef(!1);return v.useEffect(()=>{const a=i=>{i.target&&!s.current&&Vde(jbt,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function HY(){const e=new CustomEvent(BO);document.dispatchEvent(e)}function Vde(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?AE(a,i):a.dispatchEvent(i)}var s4=0;function Ebt(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??VY()),document.body.insertAdjacentElement("beforeend",e[1]??VY()),s4++,()=>{s4===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),s4--}},[])}function VY(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var a$="Popper",[Wde,qde]=cn(a$),[kbt,Gde]=Wde(a$),Yde=e=>{const{__scopePopper:t,children:r}=e,[s,a]=v.useState(null);return n.jsx(kbt,{scope:t,anchor:s,onAnchorChange:a,children:r})};Yde.displayName=a$;var Kde="PopperAnchor",Zde=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...a}=e,i=Gde(Kde,r),o=v.useRef(null),c=bt(t,o),d=v.useRef(null);return v.useEffect(()=>{const u=d.current;d.current=s?.current||o.current,u!==d.current&&i.onAnchorChange(d.current)}),s?null:n.jsx(nt.div,{...a,ref:c})});Zde.displayName=Kde;var i$="PopperContent",[Abt,Tbt]=Wde(i$),Xde=v.forwardRef((e,t)=>{const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:l=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:x,...b}=e,h=Gde(i$,r),[y,w]=v.useState(null),S=bt(t,me=>w(me)),[N,_]=v.useState(null),k=hx(N),E=k?.width??0,T=k?.height??0,D=s+(i!=="center"?"-"+i:""),P=typeof l=="number"?l:{top:0,right:0,bottom:0,left:0,...l},M=Array.isArray(u)?u:[u],R=M.length>0,B={padding:P,boundary:M.filter(Pbt),altBoundary:R},{refs:L,floatingStyles:$,placement:I,isPositioned:z,middlewareData:H}=hte({strategy:"fixed",placement:D,whileElementsMounted:(...me)=>fte(...me,{animationFrame:p==="always"}),elements:{reference:h.anchor},middleware:[pte({mainAxis:a+T,alignmentAxis:o}),d&&gte({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?xte():void 0,...B}),d&&vte({...B}),yte({...B,apply:({elements:me,rects:de,availableWidth:ie,availableHeight:ve})=>{const{width:_e,height:xe}=de.reference,Le=me.floating.style;Le.setProperty("--radix-popper-available-width",`${ie}px`),Le.setProperty("--radix-popper-available-height",`${ve}px`),Le.setProperty("--radix-popper-anchor-width",`${_e}px`),Le.setProperty("--radix-popper-anchor-height",`${xe}px`)}}),N&&wte({element:N,padding:c}),Rbt({arrowWidth:E,arrowHeight:T}),m&&bte({strategy:"referenceHidden",...B})]}),[Z,V]=eue(I),G=As(x);Tr(()=>{z&&G?.()},[z,G]);const U=H.arrow?.x,Y=H.arrow?.y,K=H.arrow?.centerOffset!==0,[re,he]=v.useState();return Tr(()=>{y&&he(window.getComputedStyle(y).zIndex)},[y]),n.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:z?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[H.transformOrigin?.x,H.transformOrigin?.y].join(" "),...H.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(Abt,{scope:r,placedSide:Z,onArrowChange:_,arrowX:U,arrowY:Y,shouldHideArrow:K,children:n.jsx(nt.div,{"data-side":Z,"data-align":V,...b,ref:S,style:{...b.style,animation:z?void 0:"none"}})})})});Xde.displayName=i$;var Jde="PopperArrow",Dbt={top:"bottom",right:"left",bottom:"top",left:"right"},Qde=v.forwardRef(function(t,r){const{__scopePopper:s,...a}=t,i=Tbt(Jde,s),o=Dbt[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(Ste,{...a,ref:r,style:{...a.style,display:"block"}})})});Qde.displayName=Jde;function Pbt(e){return e!==null}var Rbt=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:s,middlewareData:a}=t,o=a.arrow?.centerOffset!==0,c=o?0:e.arrowWidth,d=o?0:e.arrowHeight,[u,l]=eue(r),f={start:"0%",center:"50%",end:"100%"}[l],m=(a.arrow?.x??0)+c/2,p=(a.arrow?.y??0)+d/2;let x="",b="";return u==="bottom"?(x=o?f:`${m}px`,b=`${-d}px`):u==="top"?(x=o?f:`${m}px`,b=`${s.floating.height+d}px`):u==="right"?(x=`${-d}px`,b=o?f:`${p}px`):u==="left"&&(x=`${s.floating.width+d}px`,b=o?f:`${p}px`),{data:{x,y:b}}}});function eue(e){const[t,r="center"]=e.split("-");return[t,r]}var Mbt=Yde,Obt=Zde,Ibt=Xde,Fbt=Qde;function Nw(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var $bt=[" ","Enter","ArrowUp","ArrowDown"],Lbt=[" ","Enter"],Um="Select",[lk,ck,Bbt]=ew(Um),[Rx,T3t]=cn(Um,[Bbt,qde]),dk=qde(),[zbt,sf]=Rx(Um),[Ubt,Hbt]=Rx(Um),tue=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:c,onValueChange:d,dir:u,name:l,autoComplete:f,disabled:m,required:p,form:x}=e,b=dk(t),[h,y]=v.useState(null),[w,S]=v.useState(null),[N,_]=v.useState(!1),k=Zu(u),[E,T]=Di({prop:s,defaultProp:a??!1,onChange:i,caller:Um}),[D,P]=Di({prop:o,defaultProp:c,onChange:d,caller:Um}),M=v.useRef(null),R=h?x||!!h.closest("form"):!0,[B,L]=v.useState(new Set),$=Array.from(B).map(I=>I.props.value).join(";");return n.jsx(Mbt,{...b,children:n.jsxs(zbt,{required:p,scope:t,trigger:h,onTriggerChange:y,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:N,onValueNodeHasChildrenChange:_,contentId:An(),value:D,onValueChange:P,open:E,onOpenChange:T,dir:k,triggerPointerDownPosRef:M,disabled:m,children:[n.jsx(lk.Provider,{scope:t,children:n.jsx(Ubt,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(I=>{L(z=>new Set(z).add(I))},[]),onNativeOptionRemove:v.useCallback(I=>{L(z=>{const H=new Set(z);return H.delete(I),H})},[]),children:r})}),R?n.jsxs(Cue,{"aria-hidden":!0,required:p,tabIndex:-1,name:l,autoComplete:f,value:D,onChange:I=>P(I.target.value),disabled:m,form:x,children:[D===void 0?n.jsx("option",{value:""}):null,Array.from(B)]},$):null]})})};tue.displayName=Um;var rue="SelectTrigger",sue=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...a}=e,i=dk(r),o=sf(rue,r),c=o.disabled||s,d=bt(t,o.onTriggerChange),u=ck(r),l=v.useRef("touch"),[f,m,p]=Eue(b=>{const h=u().filter(S=>!S.disabled),y=h.find(S=>S.value===o.value),w=kue(h,b,y);w!==void 0&&o.onValueChange(w.value)}),x=b=>{c||(o.onOpenChange(!0),p()),b&&(o.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return n.jsx(Obt,{asChild:!0,...i,children:n.jsx(nt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":_ue(o.value)?"":void 0,...a,ref:d,onClick:hn(a.onClick,b=>{b.currentTarget.focus(),l.current!=="mouse"&&x(b)}),onPointerDown:hn(a.onPointerDown,b=>{l.current=b.pointerType;const h=b.target;h.hasPointerCapture(b.pointerId)&&h.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(x(b),b.preventDefault())}),onKeyDown:hn(a.onKeyDown,b=>{const h=f.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&m(b.key),!(h&&b.key===" ")&&$bt.includes(b.key)&&(x(),b.preventDefault())})})})});sue.displayName=rue;var nue="SelectValue",aue=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,children:i,placeholder:o="",...c}=e,d=sf(nue,r),{onValueNodeHasChildrenChange:u}=d,l=i!==void 0,f=bt(t,d.onValueNodeChange);return Tr(()=>{u(l)},[u,l]),n.jsx(nt.span,{...c,ref:f,style:{pointerEvents:"none"},children:_ue(d.value)?n.jsx(n.Fragment,{children:o}):i})});aue.displayName=nue;var Vbt="SelectIcon",iue=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:s,...a}=e;return n.jsx(nt.span,{"aria-hidden":!0,...a,ref:t,children:s||""})});iue.displayName=Vbt;var Wbt="SelectPortal",oue=e=>n.jsx(dx,{asChild:!0,...e});oue.displayName=Wbt;var Hm="SelectContent",lue=v.forwardRef((e,t)=>{const r=sf(Hm,e.__scopeSelect),[s,a]=v.useState();if(Tr(()=>{a(new DocumentFragment)},[]),!r.open){const i=s;return i?Fu.createPortal(n.jsx(cue,{scope:e.__scopeSelect,children:n.jsx(lk.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(due,{...e,ref:t})});lue.displayName=Hm;var zo=10,[cue,nf]=Rx(Hm),qbt="SelectContentImpl",Gbt=Nu("SelectContent.RemoveScroll"),due=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:c,sideOffset:d,align:u,alignOffset:l,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:x,hideWhenDetached:b,avoidCollisions:h,...y}=e,w=sf(Hm,r),[S,N]=v.useState(null),[_,k]=v.useState(null),E=bt(t,me=>N(me)),[T,D]=v.useState(null),[P,M]=v.useState(null),R=ck(r),[B,L]=v.useState(!1),$=v.useRef(!1);v.useEffect(()=>{if(S)return PE(S)},[S]),Ebt();const I=v.useCallback(me=>{const[de,...ie]=R().map(xe=>xe.ref.current),[ve]=ie.slice(-1),_e=document.activeElement;for(const xe of me)if(xe===_e||(xe?.scrollIntoView({block:"nearest"}),xe===de&&_&&(_.scrollTop=0),xe===ve&&_&&(_.scrollTop=_.scrollHeight),xe?.focus(),document.activeElement!==_e))return},[R,_]),z=v.useCallback(()=>I([T,S]),[I,T,S]);v.useEffect(()=>{B&&z()},[B,z]);const{onOpenChange:H,triggerPointerDownPosRef:Z}=w;v.useEffect(()=>{if(S){let me={x:0,y:0};const de=ve=>{me={x:Math.abs(Math.round(ve.pageX)-(Z.current?.x??0)),y:Math.abs(Math.round(ve.pageY)-(Z.current?.y??0))}},ie=ve=>{me.x<=10&&me.y<=10?ve.preventDefault():S.contains(ve.target)||H(!1),document.removeEventListener("pointermove",de),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",ie,{capture:!0})}}},[S,H,Z]),v.useEffect(()=>{const me=()=>H(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[H]);const[V,G]=Eue(me=>{const de=R().filter(_e=>!_e.disabled),ie=de.find(_e=>_e.ref.current===document.activeElement),ve=kue(de,me,ie);ve&&setTimeout(()=>ve.ref.current.focus())}),U=v.useCallback((me,de,ie)=>{const ve=!$.current&&!ie;(w.value!==void 0&&w.value===de||ve)&&(D(me),ve&&($.current=!0))},[w.value]),Y=v.useCallback(()=>S?.focus(),[S]),K=v.useCallback((me,de,ie)=>{const ve=!$.current&&!ie;(w.value!==void 0&&w.value===de||ve)&&M(me)},[w.value]),re=s==="popper"?zO:uue,he=re===zO?{side:c,sideOffset:d,align:u,alignOffset:l,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:x,hideWhenDetached:b,avoidCollisions:h}:{};return n.jsx(cue,{scope:r,content:S,viewport:_,onViewportChange:k,itemRefCallback:U,selectedItem:T,onItemLeave:Y,itemTextRefCallback:K,focusSelectedItem:z,selectedItemText:P,position:s,isPositioned:B,searchRef:V,children:n.jsx(Tb,{as:Gbt,allowPinchZoom:!0,children:n.jsx(Ab,{asChild:!0,trapped:w.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:hn(a,me=>{w.trigger?.focus({preventScroll:!0}),me.preventDefault()}),children:n.jsx(Hde,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:n.jsx(re,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:me=>me.preventDefault(),...y,...he,onPlaced:()=>L(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:hn(y.onKeyDown,me=>{const de=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!de&&me.key.length===1&&G(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let ve=R().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);if(["ArrowUp","End"].includes(me.key)&&(ve=ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const _e=me.target,xe=ve.indexOf(_e);ve=ve.slice(xe+1)}setTimeout(()=>I(ve)),me.preventDefault()}})})})})})})});due.displayName=qbt;var Ybt="SelectItemAlignedPosition",uue=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:s,...a}=e,i=sf(Hm,r),o=nf(Hm,r),[c,d]=v.useState(null),[u,l]=v.useState(null),f=bt(t,E=>l(E)),m=ck(r),p=v.useRef(!1),x=v.useRef(!0),{viewport:b,selectedItem:h,selectedItemText:y,focusSelectedItem:w}=o,S=v.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&u&&b&&h&&y){const E=i.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),D=i.valueNode.getBoundingClientRect(),P=y.getBoundingClientRect();if(i.dir!=="rtl"){const _e=P.left-T.left,xe=D.left-_e,Le=E.left-xe,Ie=E.width+Le,fe=Math.max(Ie,T.width),Ze=window.innerWidth-zo,it=Qy(xe,[zo,Math.max(zo,Ze-fe)]);c.style.minWidth=Ie+"px",c.style.left=it+"px"}else{const _e=T.right-P.right,xe=window.innerWidth-D.right-_e,Le=window.innerWidth-E.right-xe,Ie=E.width+Le,fe=Math.max(Ie,T.width),Ze=window.innerWidth-zo,it=Qy(xe,[zo,Math.max(zo,Ze-fe)]);c.style.minWidth=Ie+"px",c.style.right=it+"px"}const M=m(),R=window.innerHeight-zo*2,B=b.scrollHeight,L=window.getComputedStyle(u),$=parseInt(L.borderTopWidth,10),I=parseInt(L.paddingTop,10),z=parseInt(L.borderBottomWidth,10),H=parseInt(L.paddingBottom,10),Z=$+I+B+H+z,V=Math.min(h.offsetHeight*5,Z),G=window.getComputedStyle(b),U=parseInt(G.paddingTop,10),Y=parseInt(G.paddingBottom,10),K=E.top+E.height/2-zo,re=R-K,he=h.offsetHeight/2,me=h.offsetTop+he,de=$+I+me,ie=Z-de;if(de<=K){const _e=M.length>0&&h===M[M.length-1].ref.current;c.style.bottom="0px";const xe=u.clientHeight-b.offsetTop-b.offsetHeight,Le=Math.max(re,he+(_e?Y:0)+xe+z),Ie=de+Le;c.style.height=Ie+"px"}else{const _e=M.length>0&&h===M[0].ref.current;c.style.top="0px";const Le=Math.max(K,$+b.offsetTop+(_e?U:0)+he)+ie;c.style.height=Le+"px",b.scrollTop=de-K+b.offsetTop}c.style.margin=`${zo}px 0`,c.style.minHeight=V+"px",c.style.maxHeight=R+"px",s?.(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,c,u,b,h,y,i.dir,s]);Tr(()=>S(),[S]);const[N,_]=v.useState();Tr(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const k=v.useCallback(E=>{E&&x.current===!0&&(S(),w?.(),x.current=!1)},[S,w]);return n.jsx(Zbt,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:n.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:n.jsx(nt.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});uue.displayName=Ybt;var Kbt="SelectPopperPosition",zO=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:a=zo,...i}=e,o=dk(r);return n.jsx(Ibt,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});zO.displayName=Kbt;var[Zbt,o$]=Rx(Hm,{}),UO="SelectViewport",fue=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:s,...a}=e,i=nf(UO,r),o=o$(UO,r),c=bt(t,i.onViewportChange),d=v.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(lk.Slot,{scope:r,children:n.jsx(nt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:hn(a.onScroll,u=>{const l=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m?.current&&f){const p=Math.abs(d.current-l.scrollTop);if(p>0){const x=window.innerHeight-zo*2,b=parseFloat(f.style.minHeight),h=parseFloat(f.style.height),y=Math.max(b,h);if(y<x){const w=y+p,S=Math.min(x,w),N=w-S;f.style.height=S+"px",f.style.bottom==="0px"&&(l.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}d.current=l.scrollTop})})})]})});fue.displayName=UO;var mue="SelectGroup",[Xbt,Jbt]=Rx(mue),Qbt=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=An();return n.jsx(Xbt,{scope:r,id:a,children:n.jsx(nt.div,{role:"group","aria-labelledby":a,...s,ref:t})})});Qbt.displayName=mue;var hue="SelectLabel",pue=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=Jbt(hue,r);return n.jsx(nt.div,{id:a.id,...s,ref:t})});pue.displayName=hue;var E_="SelectItem",[ewt,gue]=Rx(E_),xue=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:s,disabled:a=!1,textValue:i,...o}=e,c=sf(E_,r),d=nf(E_,r),u=c.value===s,[l,f]=v.useState(i??""),[m,p]=v.useState(!1),x=bt(t,w=>d.itemRefCallback?.(w,s,a)),b=An(),h=v.useRef("touch"),y=()=>{a||(c.onValueChange(s),c.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(ewt,{scope:r,value:s,disabled:a,textId:b,isSelected:u,onItemTextChange:v.useCallback(w=>{f(S=>S||(w?.textContent??"").trim())},[]),children:n.jsx(lk.ItemSlot,{scope:r,value:s,disabled:a,textValue:l,children:n.jsx(nt.div,{role:"option","aria-labelledby":b,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:x,onFocus:hn(o.onFocus,()=>p(!0)),onBlur:hn(o.onBlur,()=>p(!1)),onClick:hn(o.onClick,()=>{h.current!=="mouse"&&y()}),onPointerUp:hn(o.onPointerUp,()=>{h.current==="mouse"&&y()}),onPointerDown:hn(o.onPointerDown,w=>{h.current=w.pointerType}),onPointerMove:hn(o.onPointerMove,w=>{h.current=w.pointerType,a?d.onItemLeave?.():h.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:hn(o.onPointerLeave,w=>{w.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:hn(o.onKeyDown,w=>{d.searchRef?.current!==""&&w.key===" "||(Lbt.includes(w.key)&&y(),w.key===" "&&w.preventDefault())})})})})});xue.displayName=E_;var O0="SelectItemText",vue=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,...i}=e,o=sf(O0,r),c=nf(O0,r),d=gue(O0,r),u=Hbt(O0,r),[l,f]=v.useState(null),m=bt(t,y=>f(y),d.onItemTextChange,y=>c.itemTextRefCallback?.(y,d.value,d.disabled)),p=l?.textContent,x=v.useMemo(()=>n.jsx("option",{value:d.value,disabled:d.disabled,children:p},d.value),[d.disabled,d.value,p]),{onNativeOptionAdd:b,onNativeOptionRemove:h}=u;return Tr(()=>(b(x),()=>h(x)),[b,h,x]),n.jsxs(n.Fragment,{children:[n.jsx(nt.span,{id:d.textId,...i,ref:m}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Fu.createPortal(i.children,o.valueNode):null]})});vue.displayName=O0;var yue="SelectItemIndicator",bue=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return gue(yue,r).isSelected?n.jsx(nt.span,{"aria-hidden":!0,...s,ref:t}):null});bue.displayName=yue;var HO="SelectScrollUpButton",wue=v.forwardRef((e,t)=>{const r=nf(HO,e.__scopeSelect),s=o$(HO,e.__scopeSelect),[a,i]=v.useState(!1),o=bt(t,s.onScrollButtonChange);return Tr(()=>{if(r.viewport&&r.isPositioned){let c=function(){const u=d.scrollTop>0;i(u)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?n.jsx(Sue,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});wue.displayName=HO;var VO="SelectScrollDownButton",jue=v.forwardRef((e,t)=>{const r=nf(VO,e.__scopeSelect),s=o$(VO,e.__scopeSelect),[a,i]=v.useState(!1),o=bt(t,s.onScrollButtonChange);return Tr(()=>{if(r.viewport&&r.isPositioned){let c=function(){const u=d.scrollHeight-d.clientHeight,l=Math.ceil(d.scrollTop)<u;i(l)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?n.jsx(Sue,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});jue.displayName=VO;var Sue=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...a}=e,i=nf("SelectScrollButton",r),o=v.useRef(null),c=ck(r),d=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>d(),[d]),Tr(()=>{c().find(l=>l.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),n.jsx(nt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:hn(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:hn(a.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:hn(a.onPointerLeave,()=>{d()})})}),twt="SelectSeparator",Nue=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return n.jsx(nt.div,{"aria-hidden":!0,...s,ref:t})});Nue.displayName=twt;var WO="SelectArrow",rwt=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=dk(r),i=sf(WO,r),o=nf(WO,r);return i.open&&o.position==="popper"?n.jsx(Fbt,{...a,...s,ref:t}):null});rwt.displayName=WO;var swt="SelectBubbleInput",Cue=v.forwardRef(({__scopeSelect:e,value:t,...r},s)=>{const a=v.useRef(null),i=bt(s,a),o=Nw(t);return v.useEffect(()=>{const c=a.current;if(!c)return;const d=window.HTMLSelectElement.prototype,l=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==t&&l){const f=new Event("change",{bubbles:!0});l.call(c,t),c.dispatchEvent(f)}},[o,t]),n.jsx(nt.select,{...r,style:{...Rte,...r.style},ref:i,defaultValue:t})});Cue.displayName=swt;function _ue(e){return e===""||e===void 0}function Eue(e){const t=As(e),r=v.useRef(""),s=v.useRef(0),a=v.useCallback(o=>{const c=r.current+o;t(c),(function d(u){r.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>d(""),1e3))})(c)},[t]),i=v.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,a,i]}function kue(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=nwt(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const d=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function nwt(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var awt=tue,Aue=sue,iwt=aue,owt=iue,lwt=oue,Tue=lue,cwt=fue,Due=pue,Pue=xue,dwt=vue,uwt=bue,Rue=wue,Mue=jue,Oue=Nue;const xt=awt,vt=iwt,ft=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Aue,{ref:s,className:X("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(owt,{asChild:!0,children:n.jsx(Eo,{className:"h-4 w-4 opacity-50"})})]}));ft.displayName=Aue.displayName;const Iue=v.forwardRef(({className:e,...t},r)=>n.jsx(Rue,{ref:r,className:X("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(NE,{className:"h-4 w-4"})}));Iue.displayName=Rue.displayName;const Fue=v.forwardRef(({className:e,...t},r)=>n.jsx(Mue,{ref:r,className:X("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Eo,{className:"h-4 w-4"})}));Fue.displayName=Mue.displayName;const mt=v.forwardRef(({className:e,children:t,position:r="popper",...s},a)=>n.jsx(lwt,{children:n.jsxs(Tue,{ref:a,className:X("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[n.jsx(Iue,{}),n.jsx(cwt,{className:X("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(Fue,{})]})}));mt.displayName=Tue.displayName;const fwt=v.forwardRef(({className:e,...t},r)=>n.jsx(Due,{ref:r,className:X("px-2 py-1.5 text-sm font-semibold",e),...t}));fwt.displayName=Due.displayName;const Ue=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Pue,{ref:s,className:X("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(uwt,{children:n.jsx(ix,{className:"h-4 w-4"})})}),n.jsx(dwt,{children:t})]}));Ue.displayName=Pue.displayName;const mwt=v.forwardRef(({className:e,...t},r)=>n.jsx(Oue,{ref:r,className:X("-mx-1 my-1 h-px bg-muted",e),...t}));mwt.displayName=Oue.displayName;const hwt=["5","10","15","20","25","50"],$ue=v.memo(({loading:e,users:t,pagination:r,currentPage:s,perPage:a,onPerPageChange:i,onPreviousPage:o,onNextPage:c})=>{const d=v.useMemo(()=>a.toString(),[a]),u=v.useMemo(()=>!e&&t.length>0,[e,t.length]),l=v.useMemo(()=>r&&r.lastPage>1,[r]),f=v.useMemo(()=>s<=1,[s]),m=v.useMemo(()=>s>=(r?.lastPage||1),[s,r?.lastPage]),p=v.useMemo(()=>r?`${r.from} to ${r.to} of ${r.total} users`:`1 to ${t.length} of ${t.length} users`,[r,t.length]);return u?n.jsxs("div",{className:"px-4 py-3 border-t border-border bg-card flex flex-col lg:flex-row items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Show"}),n.jsxs(xt,{value:d,onValueChange:i,children:[n.jsx(ft,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:n.jsx(vt,{})}),n.jsx(mt,{className:"bg-popover border-border",children:hwt.map(x=>n.jsx(Ue,{value:x,children:x},x))})]}),n.jsx("span",{className:"text-muted-foreground",children:"per page"})]}),l&&r&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(W,{variant:"outline",size:"sm",onClick:o,disabled:f,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Prev"}),n.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground",children:["Page ",s," of ",r.lastPage]}),n.jsx(W,{variant:"outline",size:"sm",onClick:c,disabled:m,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Next"})]}),n.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:p})]}):null});$ue.displayName="UsersTableFooter";const pwt=()=>n.jsx("div",{className:"text-center py-6 sm:py-8 bg-card",children:n.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No users found."})}),af=({message:e="Loading...",showLogo:t=!0,showProgressBar:r=!0,size:s="medium",className:a=""})=>{const{theme:i}=$u(),[o,c]=v.useState(0),d=i==="dark"||i==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;v.useEffect(()=>{let f=0;const m=setInterval(()=>{f+=.02,f>=1&&(f=1,clearInterval(m)),c(f)},10);return()=>clearInterval(m)},[]);const l={small:{logo:{width:"80px",height:"40px"},spinner:"h-6 w-6",text:"text-xs",title:"text-sm",progressBar:"w-24 h-1",spacing:"space-y-2"},medium:{logo:{width:"120px",height:"60px"},spinner:"h-8 w-8",text:"text-xs",title:"text-sm",progressBar:"w-32 h-1.5",spacing:"space-y-4"},large:{logo:{width:"220px",height:"110px"},spinner:"h-12 w-12",text:"text-base",title:"text-xl",progressBar:"w-48 h-2",spacing:"space-y-6"}}[s];return n.jsxs(n.Fragment,{children:[n.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          20%, 60% { transform: translateX(-4px); }
          40%, 80% { transform: translateX(4px); }
        }
        .shake {
          animation: shake 0.5s ease-in-out infinite;
        }
      `}),n.jsxs("div",{className:`flex flex-col items-center justify-center ${l.spacing} ${a}`,children:[t&&n.jsx("img",{src:"/image.svg",alt:"PNE Empowering Logo",className:"shake",style:{transition:"clip-path 0.3s linear",width:l.logo.width,height:l.logo.height,objectFit:"contain",filter:d?"brightness(0) invert(1)":"none",clipPath:`inset(${100-o*100}% 0 0 0)`}}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:`animate-spin rounded-full border-4 ${l.spinner} ${d?"border-gray-600":"border-border"}`}),n.jsx("div",{className:`animate-spin rounded-full border-4 absolute top-0 left-0 border-t-transparent ${l.spinner} border-primary`})]}),n.jsxs("div",{className:"text-center space-y-1",children:[t&&n.jsx("p",{className:`font-medium ${d?"text-white":"text-card-foreground"} ${l.title}`,children:"Empowering a Brighter Future"}),n.jsx("p",{className:`${d?"text-gray-300":"text-muted-foreground"} ${l.text}`,children:e})]}),r&&n.jsx("div",{className:`rounded-full bg-muted ${l.progressBar}`,children:n.jsx("div",{className:"h-full rounded-full bg-primary transition-all duration-300",style:{width:`${Math.round(o*100)}%`}})})]})]})},gwt=()=>n.jsx(af,{message:"Loading users...",size:"medium",className:"h-48 sm:h-64 bg-card text-muted-foreground"});function xwt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}var Lue="AlertDialog",[vwt,D3t]=cn(Lue,[Pee]),vd=Pee(),Bue=e=>{const{__scopeAlertDialog:t,...r}=e,s=vd(t);return n.jsx(Db,{...s,...r,modal:!0})};Bue.displayName=Lue;var ywt="AlertDialogTrigger",bwt=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=vd(r);return n.jsx(Yee,{...a,...s,ref:t})});bwt.displayName=ywt;var wwt="AlertDialogPortal",zue=e=>{const{__scopeAlertDialog:t,...r}=e,s=vd(t);return n.jsx(Pb,{...s,...r})};zue.displayName=wwt;var jwt="AlertDialogOverlay",Uue=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=vd(r);return n.jsx(Bu,{...a,...s,ref:t})});Uue.displayName=jwt;var og="AlertDialogContent",[Swt,Nwt]=vwt(og),Cwt=hee("AlertDialogContent"),Hue=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:s,...a}=e,i=vd(r),o=v.useRef(null),c=bt(t,o),d=v.useRef(null);return n.jsx(gze,{contentName:og,titleName:Vue,docsSlug:"alert-dialog",children:n.jsx(Swt,{scope:r,cancelRef:d,children:n.jsxs(zu,{role:"alertdialog",...i,...a,ref:c,onOpenAutoFocus:xwt(a.onOpenAutoFocus,u=>{u.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[n.jsx(Cwt,{children:s}),n.jsx(Ewt,{contentRef:o})]})})})});Hue.displayName=og;var Vue="AlertDialogTitle",Wue=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=vd(r);return n.jsx(Uu,{...a,...s,ref:t})});Wue.displayName=Vue;var que="AlertDialogDescription",Gue=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=vd(r);return n.jsx(Qm,{...a,...s,ref:t})});Gue.displayName=que;var _wt="AlertDialogAction",Yue=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=vd(r);return n.jsx(ux,{...a,...s,ref:t})});Yue.displayName=_wt;var Kue="AlertDialogCancel",Zue=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,{cancelRef:a}=Nwt(Kue,r),i=vd(r),o=bt(t,a);return n.jsx(ux,{...i,...s,ref:o})});Zue.displayName=Kue;var Ewt=({contentRef:e})=>{const t=`\`${og}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${og}\` by passing a \`${que}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${og}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},kwt=Bue,Awt=zue,Xue=Uue,Jue=Hue,Que=Yue,efe=Zue,tfe=Wue,rfe=Gue;const No=kwt,Twt=Awt,sfe=v.forwardRef(({className:e,...t},r)=>n.jsx(Xue,{className:X("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));sfe.displayName=Xue.displayName;const Fi=v.forwardRef(({className:e,...t},r)=>n.jsxs(Twt,{children:[n.jsx(sfe,{}),n.jsx(Jue,{ref:r,className:X("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Fi.displayName=Jue.displayName;const $i=({className:e,...t})=>n.jsx("div",{className:X("flex flex-col space-y-2 text-center sm:text-left",e),...t});$i.displayName="AlertDialogHeader";const Li=({className:e,...t})=>n.jsx("div",{className:X("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Li.displayName="AlertDialogFooter";const Bi=v.forwardRef(({className:e,...t},r)=>n.jsx(tfe,{ref:r,className:X("text-lg font-semibold",e),...t}));Bi.displayName=tfe.displayName;const zi=v.forwardRef(({className:e,...t},r)=>n.jsx(rfe,{ref:r,className:X("text-sm text-muted-foreground",e),...t}));zi.displayName=rfe.displayName;const Ui=v.forwardRef(({className:e,...t},r)=>n.jsx(Que,{ref:r,className:X(xg(),e),...t}));Ui.displayName=Que.displayName;const Hi=v.forwardRef(({className:e,...t},r)=>n.jsx(efe,{ref:r,className:X(xg({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Hi.displayName=efe.displayName;const Dwt=({open:e,onOpenChange:t,userToDelete:r,onConfirm:s,loading:a=!1})=>n.jsx(No,{open:e,onOpenChange:t,children:n.jsxs(Fi,{className:"w-[90vw] max-w-md mx-auto",children:[n.jsxs($i,{className:"space-y-3",children:[n.jsx(Bi,{className:"text-lg sm:text-xl",children:"Are you absolutely sure?"}),n.jsxs(zi,{className:"text-sm sm:text-base leading-relaxed",children:["This action cannot be undone. This will permanently delete the user"," ",n.jsx("span",{className:"font-semibold text-foreground",children:r?.name})," ","and remove all their data from our servers."]})]}),n.jsxs(Li,{className:"flex-col sm:flex-row gap-2 sm:gap-0",children:[n.jsx(Hi,{className:"w-full sm:w-auto order-2 sm:order-1",children:"Cancel"}),n.jsxs(Ui,{onClick:s,className:"w-full sm:w-auto order-1 sm:order-2 bg-destructive hover:bg-destructive/90 text-destructive-foreground",disabled:a,children:[a&&n.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}),"Delete User"]})]})]})}),Pwt=()=>{const e=Vt(),t=ct(),{users:r,loading:s,error:a,pagination:i,refetch:o,perPage:c,setPerPage:d}=Px(),{deleteUser:u,loading:l}=xbt(),[f,m]=v.useState(!1),[p,x]=v.useState(null),b=D=>{e(`/user-management/view/user/${D}`)},h=D=>{e(`/user-management/edit/user/${D}`)},y=()=>{e("/user-management/create/user")},w=D=>{x(D),m(!0)},S=async()=>{if(p)try{await u(p.id),m(!1),x(null)}catch(D){console.error("Failed to delete user:",D)}},N=D=>{t(Oc({page:D,per_page:c}))},_=async D=>{const P=parseInt(D,10);d(P),t(Oc({page:1,per_page:P}))},k=()=>{i&&i.currentPage>1&&N(i.currentPage-1)},E=()=>{i&&i.currentPage<i.lastPage&&N(i.currentPage+1)},T=()=>s?n.jsx(gwt,{}):r.length?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Xr,{className:"min-w-full",children:[n.jsx(ybt,{}),n.jsx(Qr,{children:r.map(D=>n.jsx(vbt,{user:D,onView:b,onEdit:h,onDelete:w,deleteLoading:l},D.id))})]})}):n.jsx(pwt,{});return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[a&&n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsxs(Ye,{children:["Error loading users: ",a]})]}),n.jsxs(oe,{className:"rounded-sm bg-card border border-border shadow-sm",children:[n.jsx(Re,{className:"mb-0 bg-muted border-b border-border",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[n.jsx(qe,{className:"text-lg sm:text-xl text-card-foreground",children:"Users"}),n.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4 w-full sm:w-auto",children:n.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:()=>o(),disabled:s,className:`flex items-center gap-2 bg-secondary text-secondary-foreground border-border ${s?"bg-muted opacity-60":""}`,children:[n.jsx(Zr,{className:`h-4 w-4 ${s?"animate-spin":""}`}),n.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]}),n.jsxs(W,{onClick:y,className:"flex items-center justify-center gap-2 text-sm bg-primary text-primary-foreground shadow-sm",children:[n.jsx(Yt,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden xs:inline",children:"Create User"}),n.jsx("span",{className:"xs:hidden",children:"Create"})]})]})})]})}),n.jsx(je,{className:"p-0 bg-card",children:T()}),n.jsx($ue,{loading:s,users:r,pagination:i,currentPage:i?.currentPage||1,perPage:c,onPerPageChange:_,onPreviousPage:k,onNextPage:E})]})]}),n.jsx(Dwt,{open:f,onOpenChange:m,userToDelete:p,onConfirm:S,loading:l})]})},gy={validateName:e=>{if(!e||!e.trim())return{isValid:!1,error:"Role name is required"};const t=e.trim();return t.length<Xh.NAME_MIN_LENGTH?{isValid:!1,error:`Role name must be at least ${Xh.NAME_MIN_LENGTH} characters`}:t.length>Xh.NAME_MAX_LENGTH?{isValid:!1,error:`Role name must be less than ${Xh.NAME_MAX_LENGTH} characters`}:/^[a-zA-Z0-9\s\-_]+$/.test(t)?{isValid:!0}:{isValid:!1,error:"Role name can only contain letters, numbers, spaces, hyphens, and underscores"}},validateGuardName:e=>{if(!e||!e.trim())return{isValid:!1,error:"Guard name is required"};const t=Object.values(rE);return t.includes(e)?{isValid:!0}:{isValid:!1,error:`Guard name must be one of: ${t.join(", ")}`}},validatePermissions:e=>Array.isArray(e)?e.length===0?{isValid:!1,error:"At least one permission must be selected"}:e.length>Xh.MAX_PERMISSIONS_PER_ROLE?{isValid:!1,error:`Cannot assign more than ${Xh.MAX_PERMISSIONS_PER_ROLE} permissions to a role`}:e.filter(r=>!r||!r.trim()).length>0?{isValid:!1,error:"All permissions must have valid names"}:{isValid:!0}:{isValid:!1,error:"Permissions must be an array"},validateRoleForm:e=>{const t={},r=gy.validateName(e.name);!r.isValid&&r.error&&(t.name=r.error);const s=gy.validateGuardName(e.guard_name);!s.isValid&&s.error&&(t.guard_name=s.error);const a=gy.validatePermissions(e.permissions);return!a.isValid&&a.error&&(t.permissions=a.error),{isValid:Object.keys(t).length===0,errors:t}}},kl={formatDisplayName:e=>e?e.trim().toLowerCase().replace(/[_-]/g," ").replace(/\s+/g," ").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "):"",formatApiName:e=>e?e.trim().toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9\-]/g,""):"",formatCreatedAt:e=>{try{const t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)}catch{return"Invalid Date"}},formatRelativeTime:e=>{try{const t=new Date(e),s=Math.floor((new Date().getTime()-t.getTime())/1e3);return s<60?"Just now":s<3600?`${Math.floor(s/60)} minutes ago`:s<86400?`${Math.floor(s/3600)} hours ago`:s<2592e3?`${Math.floor(s/86400)} days ago`:s<31536e3?`${Math.floor(s/2592e3)} months ago`:`${Math.floor(s/31536e3)} years ago`}catch{return"Unknown"}},formatPermissionCount:e=>e===0?"No permissions":e===1?"1 permission":`${e} permissions`},R1={sortByName:(e,t="asc")=>[...e].sort((r,s)=>{const a=r.name.localeCompare(s.name);return t==="asc"?a:-a}),sortByCreatedAt:(e,t="desc")=>[...e].sort((r,s)=>{const a=new Date(r.created_at).getTime(),i=new Date(s.created_at).getTime();return t==="asc"?a-i:i-a}),sortByPermissionCount:(e,t="desc")=>[...e].sort((r,s)=>{const a=r.permissions?.length||0,i=s.permissions?.length||0;return t==="asc"?a-i:i-a})},Rwt={filterBySearch:(e,t)=>{if(!t.trim())return e;const r=t.toLowerCase().trim();return e.filter(s=>s.name.toLowerCase().includes(r)||s.permissions?.some(a=>a.name.toLowerCase().includes(r)))},filterByGuardName:(e,t)=>t.trim()?e.filter(r=>r.guard_name===t.trim()):e,filterByPermissions:(e,t)=>!t||t.length===0?e:e.filter(r=>r.permissions?.some(s=>t.includes(s.name))),filterWithPermissions:e=>e.filter(t=>t.permissions&&t.permissions.length>0),filterWithoutPermissions:e=>e.filter(t=>!t.permissions||t.permissions.length===0)},nfe={toSelectOption:e=>({value:e.id,label:kl.formatDisplayName(e.name),role:e}),toSelectOptions:e=>e.map(nfe.toSelectOption),toSearchResult:e=>({id:e.id,title:kl.formatDisplayName(e.name),subtitle:`Guard: ${e.guard_name}`,meta:kl.formatPermissionCount(e.permissions?.length||0),role:e}),toCsvData:e=>e.map(t=>({ID:t.id,Name:t.name,"Guard Name":t.guard_name,"Permission Count":t.permissions?.length||0,"Permission Names":t.permissions?.map(r=>r.name).join("; ")||"","Created At":kl.formatCreatedAt(t.created_at),"Updated At":kl.formatCreatedAt(t.updated_at)})),toAnalyticsData:e=>({id:e.id,name:e.name,permission_count:e.permissions?.length||0,guard_name:e.guard_name,created_date:e.created_at.split("T")[0],days_since_creation:Math.floor((new Date().getTime()-new Date(e.created_at).getTime())/(1e3*60*60*24))})};rE.WEB;const cl=(e=!0,t)=>{const r=ct(),[s,a]=v.useState("name"),[i,o]=v.useState("asc"),[c,d]=v.useState(""),u=se(Xje),l=se(Jje),f=se(Qje),m=se(e1e),p=se(i1e),x=se(o1e),b=se(l1e),h=se(a1e),y=v.useMemo(()=>{let E=[...u];switch(s){case"name":E=R1.sortByName(E,i);break;case"created_at":E=R1.sortByCreatedAt(E,i);break;case"permission_count":E=R1.sortByPermissionCount(E,i);break;default:E=R1.sortByName(E,i)}return E},[u,s,i]),w=v.useMemo(()=>Rwt.filterBySearch(y,c),[y,c]),S=v.useMemo(()=>nfe.toSelectOptions(w),[w]),N=v.useRef(t);N.current=t;const _=v.useCallback(async E=>{try{await r(B0(E)).unwrap()}catch(T){throw console.error("Failed to fetch roles:",T),T}},[r]),k=v.useCallback(async()=>{await _(N.current)},[_]);return v.useEffect(()=>{e&&!p&&!l&&!f&&_(N.current)},[e,p,l,f,_]),v.useEffect(()=>()=>{f&&r(qje())},[r,f]),v.useMemo(()=>({roles:u,loading:l,error:f,pagination:m,hasRoles:p,isEmpty:x,totalRoles:b,fetchRoles:_,refetch:k,sortedRoles:y,setSortField:a,setSortDirection:o,sortField:s,sortDirection:i,searchTerm:c,setSearchTerm:d,filteredRoles:w,selectOptions:S,rolesWithCounts:h}),[u,l,f,m,p,x,b,_,k,y,a,o,s,i,c,d,w,S,h])},Mwt=()=>{const e=ct(),t=se(t1e),r=se(r1e),s=v.useCallback(c=>gy.validateRoleForm(c),[]),a=v.useCallback(c=>({name:kl.formatApiName(c.name),guard_name:c.guard_name,permissions:c.permissions}),[]),i=v.useCallback(async c=>{const d={name:c.name,guard_name:c.guard_name,permissions:c.permissions},u=s(d);if(!u.isValid){const p=Object.values(u.errors)[0];throw new Error(p)}const l=a(d),f=Date.now(),m={id:f,name:l.name,guard_name:l.guard_name,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),permissions:[]};try{e(Kje(m));const p=await e(PS(l)).unwrap();return e(h7(f)),p}catch(p){throw e(h7(f)),p}},[e,s,a]),o=v.useCallback(()=>{e(Gje())},[e]);return v.useMemo(()=>({createRole:i,loading:t,error:r,reset:o,validateForm:s,formatForApi:a}),[i,t,r,o,s,a])},Owt=()=>{const e=ct(),t=se(s1e),r=se(n1e),s=v.useCallback(o=>gy.validatePermissions(o),[]),a=v.useCallback(async(o,c)=>{const d=s(c);if(!d.isValid&&d.error)throw new Error(d.error);try{return await e(RS({roleId:o,permissions:c})).unwrap()}catch(u){throw console.error("Failed to assign permissions:",u),u}},[e,s]),i=v.useCallback(()=>{e(Yje())},[e]);return v.useMemo(()=>({assignPermissions:a,loading:t,error:r,reset:i,validatePermissions:s}),[a,t,r,i,s])},Iwt=({loading:e,onRefresh:t,onAssignPermissions:r,onCreateRole:s})=>n.jsx(Re,{className:"mb-0 bg-muted border border-border border-b",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[n.jsx(qe,{className:"text-lg sm:text-xl text-card-foreground",children:"Roles"}),n.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4 w-full sm:w-auto",children:n.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:t,disabled:e,className:"flex items-center gap-2",style:{backgroundColor:e?"var(--muted)":"var(--secondary)",color:"var(--secondary-foreground)",borderColor:"var(--border)",opacity:e?.6:1},children:[n.jsx(Zr,{className:`h-4 w-4 ${e?"animate-spin":""}`}),n.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]}),n.jsxs(W,{onClick:r,variant:"outline",size:"sm",className:"flex items-center gap-2 bg-secondary text-secondary-foreground border-border ",children:[n.jsx(Eb,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden xs:inline",children:"Assign"})]}),n.jsxs(W,{onClick:s,className:"flex items-center justify-center gap-2 text-sm bg-primary text-primary-foreground",style:{boxShadow:"var(--shadow-sm)"},children:[n.jsx(Yt,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden xs:inline",children:"Create Role"}),n.jsx("span",{className:"xs:hidden",children:"Create"})]})]})})]})}),Fwt=({role:e})=>n.jsxs(Nt,{className:"hover:bg-muted/50 border-border bg-card",children:[n.jsx(Ee,{className:"font-medium text-xs sm:text-sm p-2 sm:p-4 text-foreground",children:n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n.jsx("div",{className:"bg-primary text-primary-foreground h-6 w-6 sm:h-8 sm:w-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium",children:kl.formatDisplayName(e.name).charAt(0).toUpperCase()}),n.jsx("div",{className:"min-w-0 flex-1",children:n.jsx("div",{className:"text-xs sm:text-sm font-medium truncate text-foreground",title:kl.formatDisplayName(e.name),children:kl.formatDisplayName(e.name)})})]})}),n.jsx(Ee,{className:"p-2 sm:p-4",children:n.jsxs("div",{className:"space-y-1 max-w-[10rem] lg:max-w-none",children:[n.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:kl.formatPermissionCount(e.permissions?.length||0)}),e.permissions&&e.permissions.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.permissions.slice(0,4).map(t=>n.jsx(Ae,{variant:"secondary",className:"text-xs px-1 py-0.5 bg-accent text-accent-foreground border-border",children:n.jsx("span",{className:"truncate max-w-[10rem]",title:t.name,children:t.name})},t.id)),e.permissions.length>4&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.permissions.length-4]})]})]})})]}),$wt=({roles:e,loading:t})=>t?n.jsx("div",{className:"flex items-center justify-center h-48 sm:h-64 bg-card",children:n.jsx(af,{message:"Loading roles...",size:"medium",className:"h-48 sm:h-64 bg-card text-muted-foreground"})}):e.length?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Xr,{className:"min-w-full",children:[n.jsx(Jr,{className:"bg-muted border-border border border-b",children:n.jsxs(Nt,{className:"border-border",children:[n.jsx(De,{className:"min-w-[8rem] text-xs sm:text-sm text-foreground font-semibold",children:"Name"}),n.jsx(De,{className:"min-w-[12rem] text-xs sm:text-sm text-foreground font-semibold",children:"Permissions"})]})}),n.jsx(Qr,{children:e.map(r=>n.jsx(Fwt,{role:r},r.id))})]})}):n.jsx("div",{className:"text-center py-6 sm:py-8 bg-card",children:n.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No roles found."})}),Lwt=({paginationInfo:e,perPage:t,loading:r,onPerPageChange:s,onPreviousPage:a,onNextPage:i})=>{const o=[5,10,15,25,50];return e?n.jsxs("div",{className:"bg-card border-border flex flex-col sm:flex-row items-center justify-between gap-4 px-4 py-3 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Show"}),n.jsxs(xt,{value:t.toString(),onValueChange:s,children:[n.jsx(ft,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:n.jsx(vt,{})}),n.jsx(mt,{className:"bg-popover border-border",children:o.map(c=>n.jsx(Ue,{value:c.toString(),children:c},c))})]}),n.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"per page"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(W,{variant:"outline",size:"sm",onClick:a,disabled:r||e.currentPage<=1,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Prev"}),n.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground",children:["Page ",e.currentPage," of ",e.lastPage]}),n.jsx(W,{variant:"outline",size:"sm",onClick:i,disabled:r||e.currentPage>=e.lastPage,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Next"})]}),n.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground",children:[n.jsxs("span",{className:"hidden sm:inline",children:[e.from," to ",e.to," of ",e.total," ","roles"]}),n.jsxs("span",{className:"sm:hidden",children:[e.from,"-",e.to," of ",e.total]})]})]}):null},Bwt=()=>{const e=Vt(),[t,r]=v.useState(10),[s,a]=v.useState(1),{roles:i,loading:o,error:c,pagination:d,fetchRoles:u,refetch:l}=cl(!0,{per_page:t,page:s}),f=v.useCallback(()=>{e("/user-management/roles/assign-permissions")},[e]),m=v.useCallback(()=>{e("/user-management/create/role")},[e]),p=v.useCallback(w=>{const S=parseInt(w,10);r(S),a(1),u({per_page:S,page:1})},[u]),x=v.useCallback(w=>{a(w),u({per_page:t,page:w})},[u,t]),b=v.useCallback(()=>{s>1&&x(s-1)},[s,x]),h=v.useCallback(()=>{d&&s<d.lastPage&&x(s+1)},[s,d,x]),y=d?{from:d.from||(s-1)*t+1,to:d.to||Math.min(s*t,d.total),total:d.total,currentPage:d.currentPage||s,lastPage:d.lastPage||Math.ceil(d.total/t)}:null;return n.jsxs("div",{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[c&&n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsxs(Ye,{children:["Error loading roles: ",c]})]}),n.jsxs(oe,{className:"rounded-sm bg-card border-border",style:{boxShadow:"var(--shadow-realistic)"},children:[n.jsx(Iwt,{totalRoles:y?.total||i.length,loading:o,onRefresh:l,onAssignPermissions:f,onCreateRole:m}),n.jsxs(je,{className:"p-0 bg-card ",children:[n.jsx($wt,{roles:i,loading:o}),n.jsx(Lwt,{paginationInfo:y,perPage:t,loading:o,onPerPageChange:p,onPreviousPage:b,onNextPage:h})]})]})]})},zwt={WEB:"web",API:"api"},M1={NAME_MIN_LENGTH:3,NAME_MAX_LENGTH:255},qO={validateName:e=>{if(!e||!e.trim())return{isValid:!1,error:"Permission name is required"};const t=e.trim();return t.length<M1.NAME_MIN_LENGTH?{isValid:!1,error:`Permission name must be at least ${M1.NAME_MIN_LENGTH} characters`}:t.length>M1.NAME_MAX_LENGTH?{isValid:!1,error:`Permission name must be less than ${M1.NAME_MAX_LENGTH} characters`}:/^[a-zA-Z0-9\s\-_]+$/.test(t)?{isValid:!0}:{isValid:!1,error:"Permission name can only contain letters, numbers, spaces, hyphens, and underscores"}},validateGuardName:e=>{if(!e||!e.trim())return{isValid:!1,error:"Guard name is required"};const t=Object.values(zwt);return t.includes(e)?{isValid:!0}:{isValid:!1,error:`Guard name must be one of: ${t.join(", ")}`}},validatePermissionForm:e=>{const t={},r=qO.validateName(e.name);!r.isValid&&r.error&&(t.name=r.error);const s=qO.validateGuardName(e.guard_name);return!s.isValid&&s.error&&(t.guard_name=s.error),{isValid:Object.keys(t).length===0,errors:t}}},Hp={formatDisplayName:e=>e?e.trim().toLowerCase().replace(/[_-]/g," ").replace(/\s+/g," ").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "):"",formatApiName:e=>e?e.trim().toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""):"",formatCreatedAt:e=>{try{const t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)}catch{return"Invalid Date"}},formatRelativeTime:e=>{try{const t=new Date(e),s=Math.floor((new Date().getTime()-t.getTime())/1e3);return s<60?"Just now":s<3600?`${Math.floor(s/60)} minutes ago`:s<86400?`${Math.floor(s/3600)} hours ago`:s<2592e3?`${Math.floor(s/86400)} days ago`:s<31536e3?`${Math.floor(s/2592e3)} months ago`:`${Math.floor(s/31536e3)} years ago`}catch{return"Unknown"}}},n4={sortByName:(e,t="asc")=>[...e].sort((r,s)=>{const a=r.name.localeCompare(s.name);return t==="asc"?a:-a}),sortByCreatedAt:(e,t="desc")=>[...e].sort((r,s)=>{const a=new Date(r.created_at).getTime(),i=new Date(s.created_at).getTime();return t==="asc"?a-i:i-a}),sortByRoleCount:(e,t="desc")=>[...e].sort((r,s)=>{const a=r.roles?.length||0,i=s.roles?.length||0;return t==="asc"?a-i:i-a})},Uwt={filterBySearch:(e,t)=>{if(!t.trim())return e;const r=t.toLowerCase().trim();return e.filter(s=>s.name.toLowerCase().includes(r))},filterByGuardName:(e,t)=>t.trim()?e.filter(r=>r.guard_name===t.trim()):e,filterWithRoles:e=>e.filter(t=>t.roles&&t.roles.length>0),filterWithoutRoles:e=>e.filter(t=>!t.roles||t.roles.length===0)},afe={toSelectOption:e=>({value:e.id,label:Hp.formatDisplayName(e.name),permission:e}),toSelectOptions:e=>e.map(afe.toSelectOption),toSearchResult:e=>({id:e.id,title:Hp.formatDisplayName(e.name),subtitle:`Guard: ${e.guard_name}`,meta:`${e.roles?.length||0} roles`,permission:e}),toCsvData:e=>e.map(t=>({ID:t.id,Name:t.name,"Guard Name":t.guard_name,"Role Count":t.roles?.length||0,"Created At":Hp.formatCreatedAt(t.created_at),"Updated At":Hp.formatCreatedAt(t.updated_at)}))},Mx=(e=!0,t)=>{const r=ct(),[s,a]=v.useState("name"),[i,o]=v.useState("asc"),[c,d]=v.useState(""),u=se(Rje),l=se(Mje),f=se(Oje),m=se(Ije),p=se(Lje),x=se(Bje),b=se(zje),h=v.useMemo(()=>{let k=[...u];switch(s){case"name":k=n4.sortByName(k,i);break;case"created_at":k=n4.sortByCreatedAt(k,i);break;default:k=n4.sortByName(k,i)}return k},[u,s,i]),y=v.useMemo(()=>Uwt.filterBySearch(h,c),[h,c]),w=v.useMemo(()=>afe.toSelectOptions(y),[y]),S=v.useRef(t);S.current=t;const N=v.useCallback(async k=>{try{await r(L0(k)).unwrap()}catch(E){throw console.error("Failed to fetch permissions:",E),E}},[r]),_=v.useCallback(async()=>{await N(S.current)},[N]);return v.useEffect(()=>{e&&!p&&!l&&!f&&N(S.current)},[e,p,l,f,N]),v.useEffect(()=>()=>{f&&r(Aje())},[r,f]),v.useMemo(()=>({permissions:u,loading:l,error:f,pagination:m,hasPermissions:p,isEmpty:x,totalPermissions:b,fetchPermissions:N,refetch:_,sortedPermissions:h,setSortField:a,setSortDirection:o,sortField:s,sortDirection:i,searchTerm:c,setSearchTerm:d,filteredPermissions:y,selectOptions:w}),[u,l,f,m,p,x,b,N,_,h,a,o,s,i,c,d,y,w])},Hwt=()=>{const e=ct(),t=se(Fje),r=se($je),s=v.useCallback(c=>qO.validatePermissionForm(c),[]),a=v.useCallback(c=>({name:Hp.formatApiName(c.name),guard_name:c.guard_name}),[]),i=v.useCallback(async c=>{const d={name:c.name,guard_name:c.guard_name},u=s(d);if(!u.isValid){const p=Object.values(u.errors)[0];throw new Error(p)}const l=a(d),f=Date.now(),m={id:f,name:l.name,guard_name:l.guard_name,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),roles:[]};try{e(Dje(m));const p=await e(DS(l)).unwrap();return e(f7(f)),p}catch(p){throw e(f7(f)),p}},[e,s,a]),o=v.useCallback(()=>{e(Tje())},[e]);return v.useMemo(()=>({createPermission:i,loading:t,error:r,reset:o,validateForm:s,formatForApi:a}),[i,t,r,o,s,a])},ife=v.memo(({loading:e,onRefresh:t,onCreatePermission:r})=>{const s=v.useMemo(()=>`h-4 w-4 ${e?"animate-spin":""}`,[e]);return n.jsx(Re,{className:"mb-0 bg-muted border-b border-border",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[n.jsx(qe,{className:"text-lg sm:text-xl text-card-foreground",children:"Permissions"}),n.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4 w-full sm:w-auto",children:n.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:t,disabled:e,className:"flex items-center gap-2 bg-secondary text-secondary-foreground border-border disabled:bg-muted disabled:opacity-60",children:[n.jsx(Zr,{className:s}),n.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]}),n.jsxs(W,{onClick:r,className:"flex items-center justify-center gap-2 text-sm bg-primary text-primary-foreground shadow-sm",children:[n.jsx(Yt,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden xs:inline",children:"Create Permission"}),n.jsx("span",{className:"xs:hidden",children:"Create"})]})]})})]})})});ife.displayName="PermissionsTableHeader";const WY=4,ofe=v.memo(({permission:e})=>{const t=v.useMemo(()=>Hp.formatDisplayName(e.name),[e.name]),r=v.useMemo(()=>t.charAt(0).toUpperCase(),[t]),s=v.useMemo(()=>{const a=e.roles?.length||0,i=e.roles?.slice(0,WY)||[],o=Math.max(0,a-WY);return{rolesCount:a,visibleRoles:i,extraCount:o}},[e.roles]);return n.jsxs(Nt,{className:"border-border bg-card hover:bg-muted/50",children:[n.jsx(Ee,{className:"font-medium text-xs sm:text-sm p-2 sm:p-4 text-foreground",children:n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n.jsx("div",{className:"h-6 w-6 sm:h-8 sm:w-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium bg-primary text-primary-foreground",children:r}),n.jsx("div",{className:"min-w-0 flex-1",children:n.jsx("div",{className:"text-xs sm:text-sm font-medium truncate text-foreground",title:t,children:t})})]})}),n.jsx(Ee,{className:"p-2 sm:p-4",children:n.jsxs("div",{className:"space-y-1 max-w-[10rem] lg:max-w-none",children:[n.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground",children:[s.rolesCount," roles"]}),s.rolesCount>0&&n.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.visibleRoles.map(a=>n.jsx(Ae,{variant:"secondary",className:"text-xs px-1 py-0.5 bg-accent text-accent-foreground border-border",children:n.jsx("span",{className:"truncate max-w-[7rem]",title:a.name,children:a.name})},a.id)),s.extraCount>0&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",s.extraCount]})]})]})})]})});ofe.displayName="PermissionTableRow";const lfe=v.memo(()=>n.jsx("div",{className:"flex items-center justify-center h-48 sm:h-64 bg-card",children:n.jsx(af,{message:"Loading permissions...",size:"medium",className:"h-48 sm:h-64 bg-card text-muted-foreground"})}));lfe.displayName="LoadingState";const cfe=v.memo(()=>n.jsx("div",{className:"text-center py-6 sm:py-8 bg-card",children:n.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No permissions found."})}));cfe.displayName="EmptyState";const dfe=v.memo(()=>n.jsx(Jr,{className:"bg-muted border-b border-border",children:n.jsxs(Nt,{className:"border-border",children:[n.jsx(De,{className:"min-w-[8rem] text-xs sm:text-sm text-foreground font-semibold",children:"Name"}),n.jsx(De,{className:"min-w-[12rem] text-xs sm:text-sm text-foreground font-semibold",children:"Used by Roles"})]})}));dfe.displayName="TableHeaderComponent";const ufe=v.memo(({permissions:e,loading:t})=>t?n.jsx(lfe,{}):e.length?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Xr,{className:"min-w-full",children:[n.jsx(dfe,{}),n.jsx(Qr,{children:e.map(r=>n.jsx(ofe,{permission:r},r.id))})]})}):n.jsx(cfe,{}));ufe.displayName="PermissionsTableContent";const Vwt=["5","10","15","20","50"],ffe=v.memo(({loading:e,permissions:t,pagination:r,currentPage:s,perPage:a,onPerPageChange:i,onPreviousPage:o,onNextPage:c})=>{const d=v.useMemo(()=>a.toString(),[a]),u=v.useMemo(()=>!e&&t.length>0,[e,t.length]),l=v.useMemo(()=>r&&r.lastPage>1,[r]),f=v.useMemo(()=>s<=1,[s]),m=v.useMemo(()=>s>=(r?.lastPage||1),[s,r?.lastPage]),p=v.useMemo(()=>r?`${r.from} to ${r.to} of ${r.total} permissions`:`1 to ${t.length} of ${t.length} permissions`,[r,t.length]);return u?n.jsxs("div",{className:"px-4 py-3 border-t border-border bg-card flex flex-col lg:flex-row items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Show"}),n.jsxs(xt,{value:d,onValueChange:i,children:[n.jsx(ft,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:n.jsx(vt,{})}),n.jsx(mt,{className:"bg-popover border-border",children:Vwt.map(x=>n.jsx(Ue,{value:x,children:x},x))})]}),n.jsx("span",{className:"text-muted-foreground",children:"per page"})]}),l&&r&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(W,{variant:"outline",size:"sm",onClick:o,disabled:f,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Prev"}),n.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground",children:["Page ",s," of ",r.lastPage]}),n.jsx(W,{variant:"outline",size:"sm",onClick:c,disabled:m,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Next"})]}),n.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:p})]}):null});ffe.displayName="PermissionsTableFooter";const Wwt=()=>{const e=Vt(),[t,r]=v.useState(1),[s,a]=v.useState(10),i=v.useMemo(()=>({page:t,per_page:s}),[t,s]),{permissions:o,loading:c,error:d,refetch:u,pagination:l,fetchPermissions:f}=Mx(!0,i),m=v.useCallback(()=>{e("/user-management/create/permission")},[e]),p=v.useCallback(async w=>{const S=parseInt(w,10);a(S),r(1),await f({page:1,per_page:S})},[f]),x=v.useCallback(async w=>{r(w),await f({page:w,per_page:s})},[f,s]),b=v.useCallback(()=>{l&&t>1&&x(t-1)},[l,t,x]),h=v.useCallback(()=>{l&&t<l.lastPage&&x(t+1)},[l,t,x]),y=v.useMemo(()=>l?.total||o.length,[l?.total,o.length]);return n.jsxs("div",{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[d&&n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsxs(Ye,{children:["Error loading permissions: ",d]})]}),n.jsxs(oe,{className:"rounded-sm bg-card border border-border shadow-[var(--shadow-realistic)]",children:[n.jsx(ife,{permissionsCount:y,loading:c,onRefresh:u,onCreatePermission:m}),n.jsx(je,{className:"p-0 bg-card",children:n.jsx(ufe,{permissions:o,loading:c})}),n.jsx(ffe,{loading:c,permissions:o,pagination:l,currentPage:t,perPage:s,onPerPageChange:p,onPreviousPage:b,onNextPage:h})]})]})},qwt=()=>n.jsx(Zt,{title:"User Management",subtitle:"Manage users, roles, and permissions for your application.",children:n.jsxs("div",{className:"grid gap-6 sm:gap-8 lg:gap-10",children:[n.jsx(Pwt,{}),n.jsx(Bwt,{}),n.jsx(Wwt,{})]})});var Cw=e=>e.type==="checkbox",nm=e=>e instanceof Date,_a=e=>e==null;const mfe=e=>typeof e=="object";var on=e=>!_a(e)&&!Array.isArray(e)&&mfe(e)&&!nm(e),hfe=e=>on(e)&&e.target?Cw(e.target)?e.target.checked:e.target.value:e,Gwt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,pfe=(e,t)=>e.has(Gwt(t)),Ywt=e=>{const t=e.constructor&&e.constructor.prototype;return on(t)&&t.hasOwnProperty("isPrototypeOf")},l$=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function hs(e){let t;const r=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(l$&&(e instanceof Blob||s))&&(r||on(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!Ywt(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=hs(e[a]));else return e;return t}var uk=e=>/^\w*$/.test(e),gs=e=>e===void 0,fk=e=>Array.isArray(e)?e.filter(Boolean):[],c$=e=>fk(e.replace(/["|']|\]/g,"").split(/\.|\[/)),st=(e,t,r)=>{if(!t||!on(e))return r;const s=(uk(t)?[t]:c$(t)).reduce((a,i)=>_a(a)?a:a[i],e);return gs(s)||s===e?gs(e[t])?r:e[t]:s},vi=e=>typeof e=="boolean",Sr=(e,t,r)=>{let s=-1;const a=uk(t)?[t]:c$(t),i=a.length,o=i-1;for(;++s<i;){const c=a[s];let d=r;if(s!==o){const u=e[c];d=on(u)||Array.isArray(u)?u:isNaN(+a[s+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=d,e=e[c]}};const k_={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},fo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},wc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},d$=te.createContext(null);d$.displayName="HookFormContext";const _w=()=>te.useContext(d$),Kwt=e=>{const{children:t,...r}=e;return te.createElement(d$.Provider,{value:r},t)};var gfe=(e,t,r,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==fo.all&&(t._proxyFormState[o]=!s||fo.all),r&&(r[o]=!0),e[o]}});return a};const mk=typeof window<"u"?te.useLayoutEffect:te.useEffect;function Zwt(e){const t=_w(),{control:r=t.control,disabled:s,name:a,exact:i}=e||{},[o,c]=te.useState(r._formState),d=te.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return mk(()=>r._subscribe({name:a,formState:d.current,exact:i,callback:u=>{!s&&c({...r._formState,...u})}}),[a,s,i]),te.useEffect(()=>{d.current.isValid&&r._setValid(!0)},[r]),te.useMemo(()=>gfe(o,r,d.current,!1),[o,r])}var Pl=e=>typeof e=="string",xfe=(e,t,r,s,a)=>Pl(e)?(s&&t.watch.add(e),st(r,e,a)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),st(r,i))):(s&&(t.watchAll=!0),r),GO=e=>_a(e)||!mfe(e);function Ec(e,t,r=new WeakSet){if(GO(e)||GO(t))return e===t;if(nm(e)&&nm(t))return e.getTime()===t.getTime();const s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of s){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const c=t[i];if(nm(o)&&nm(c)||on(o)&&on(c)||Array.isArray(o)&&Array.isArray(c)?!Ec(o,c,r):o!==c)return!1}}return!0}function Xwt(e){const t=_w(),{control:r=t.control,name:s,defaultValue:a,disabled:i,exact:o,compute:c}=e||{},d=te.useRef(a),u=te.useRef(c),l=te.useRef(void 0);u.current=c;const f=te.useMemo(()=>r._getWatch(s,d.current),[r,s]),[m,p]=te.useState(u.current?u.current(f):f);return mk(()=>r._subscribe({name:s,formState:{values:!0},exact:o,callback:x=>{if(!i){const b=xfe(s,r._names,x.values||r._formValues,!1,d.current);if(u.current){const h=u.current(b);Ec(h,l.current)||(p(h),l.current=h)}else p(b)}}}),[r,i,s,o]),te.useEffect(()=>r._removeUnmounted()),m}function Jwt(e){const t=_w(),{name:r,disabled:s,control:a=t.control,shouldUnregister:i,defaultValue:o}=e,c=pfe(a._names.array,r),d=te.useMemo(()=>st(a._formValues,r,st(a._defaultValues,r,o)),[a,r,o]),u=Xwt({control:a,name:r,defaultValue:d,exact:!0}),l=Zwt({control:a,name:r,exact:!0}),f=te.useRef(e),m=te.useRef(a.register(r,{...e.rules,value:u,...vi(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const p=te.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!st(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!st(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!st(l.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!st(l.validatingFields,r)},error:{enumerable:!0,get:()=>st(l.errors,r)}}),[l,r]),x=te.useCallback(w=>m.current.onChange({target:{value:hfe(w),name:r},type:k_.CHANGE}),[r]),b=te.useCallback(()=>m.current.onBlur({target:{value:st(a._formValues,r),name:r},type:k_.BLUR}),[r,a._formValues]),h=te.useCallback(w=>{const S=st(a._fields,r);S&&w&&(S._f.ref={focus:()=>w.focus&&w.focus(),select:()=>w.select&&w.select(),setCustomValidity:N=>w.setCustomValidity(N),reportValidity:()=>w.reportValidity()})},[a._fields,r]),y=te.useMemo(()=>({name:r,value:u,...vi(s)||l.disabled?{disabled:l.disabled||s}:{},onChange:x,onBlur:b,ref:h}),[r,s,l.disabled,x,b,h,u]);return te.useEffect(()=>{const w=a._options.shouldUnregister||i;a.register(r,{...f.current.rules,...vi(f.current.disabled)?{disabled:f.current.disabled}:{}});const S=(N,_)=>{const k=st(a._fields,N);k&&k._f&&(k._f.mount=_)};if(S(r,!0),w){const N=hs(st(a._options.defaultValues,r));Sr(a._defaultValues,r,N),gs(st(a._formValues,r))&&Sr(a._formValues,r,N)}return!c&&a.register(r),()=>{(c?w&&!a._state.action:w)?a.unregister(r):S(r,!1)}},[r,a,c,i]),te.useEffect(()=>{a._setDisabledField({disabled:s,name:r})},[s,r,a]),te.useMemo(()=>({field:y,formState:l,fieldState:p}),[y,l,p])}const u$=e=>e.render(Jwt(e));var f$=(e,t,r,s,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:a||!0}}:{},qa=e=>Array.isArray(e)?e:[e],qY=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Ca=e=>on(e)&&!Object.keys(e).length,m$=e=>e.type==="file",Wo=e=>typeof e=="function",A_=e=>{if(!l$)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},vfe=e=>e.type==="select-multiple",h$=e=>e.type==="radio",Qwt=e=>h$(e)||Cw(e),a4=e=>A_(e)&&e.isConnected;function ejt(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=gs(e)?s++:e[t[s++]];return e}function tjt(e){for(const t in e)if(e.hasOwnProperty(t)&&!gs(e[t]))return!1;return!0}function sn(e,t){const r=Array.isArray(t)?t:uk(t)?[t]:c$(t),s=r.length===1?e:ejt(e,r),a=r.length-1,i=r[a];return s&&delete s[i],a!==0&&(on(s)&&Ca(s)||Array.isArray(s)&&tjt(s))&&sn(e,r.slice(0,-1)),e}var yfe=e=>{for(const t in e)if(Wo(e[t]))return!0;return!1};function T_(e,t={}){const r=Array.isArray(e);if(on(e)||r)for(const s in e)Array.isArray(e[s])||on(e[s])&&!yfe(e[s])?(t[s]=Array.isArray(e[s])?[]:{},T_(e[s],t[s])):_a(e[s])||(t[s]=!0);return t}function bfe(e,t,r){const s=Array.isArray(e);if(on(e)||s)for(const a in e)Array.isArray(e[a])||on(e[a])&&!yfe(e[a])?gs(t)||GO(r[a])?r[a]=Array.isArray(e[a])?T_(e[a],[]):{...T_(e[a])}:bfe(e[a],_a(t)?{}:t[a],r[a]):r[a]=!Ec(e[a],t[a]);return r}var C0=(e,t)=>bfe(e,t,T_(t));const GY={value:!1,isValid:!1},YY={value:!0,isValid:!0};var wfe=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!gs(e[0].attributes.value)?gs(e[0].value)||e[0].value===""?YY:{value:e[0].value,isValid:!0}:YY:GY}return GY},jfe=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>gs(e)?e:t?e===""?NaN:e&&+e:r&&Pl(e)?new Date(e):s?s(e):e;const KY={isValid:!1,value:null};var Sfe=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,KY):KY;function ZY(e){const t=e.ref;return m$(t)?t.files:h$(t)?Sfe(e.refs).value:vfe(t)?[...t.selectedOptions].map(({value:r})=>r):Cw(t)?wfe(e.refs).value:jfe(gs(t.value)?e.ref.value:t.value,e)}var rjt=(e,t,r,s)=>{const a={};for(const i of e){const o=st(t,i);o&&Sr(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:s}},D_=e=>e instanceof RegExp,_0=e=>gs(e)?e:D_(e)?e.source:on(e)?D_(e.value)?e.value.source:e.value:e,Vp=e=>({isOnSubmit:!e||e===fo.onSubmit,isOnBlur:e===fo.onBlur,isOnChange:e===fo.onChange,isOnAll:e===fo.all,isOnTouch:e===fo.onTouched});const XY="AsyncFunction";var sjt=e=>!!e&&!!e.validate&&!!(Wo(e.validate)&&e.validate.constructor.name===XY||on(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===XY)),njt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),YO=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const lg=(e,t,r,s)=>{for(const a of r||Object.keys(e)){const i=st(e,a);if(i){const{_f:o,...c}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(lg(c,t))break}else if(on(c)&&lg(c,t))break}}};function JY(e,t,r){const s=st(e,r);if(s||uk(r))return{error:s,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=st(t,i),c=st(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(c&&c.type)return{name:i,error:c};if(c&&c.root&&c.root.type)return{name:`${i}.root`,error:c.root};a.pop()}return{name:r}}var ajt=(e,t,r,s)=>{r(e);const{name:a,...i}=e;return Ca(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!s||fo.all))},ijt=(e,t,r)=>!e||!t||e===t||qa(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s))),ojt=(e,t,r,s,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?s.isOnBlur:a.isOnBlur)?!e:(r?s.isOnChange:a.isOnChange)?e:!0,ljt=(e,t)=>!fk(st(e,t)).length&&sn(e,t),Nfe=(e,t,r)=>{const s=qa(st(e,r));return Sr(s,"root",t[r]),Sr(e,r,s),e},sC=e=>Pl(e);function QY(e,t,r="validate"){if(sC(e)||Array.isArray(e)&&e.every(sC)||vi(e)&&!e)return{type:r,message:sC(e)?e:"",ref:t}}var Cp=e=>on(e)&&!D_(e)?e:{value:e,message:""},KO=async(e,t,r,s,a,i)=>{const{ref:o,refs:c,required:d,maxLength:u,minLength:l,min:f,max:m,pattern:p,validate:x,name:b,valueAsNumber:h,mount:y}=e._f,w=st(r,b);if(!y||t.has(b))return{};const S=c?c[0]:o,N=R=>{a&&S.reportValidity&&(S.setCustomValidity(vi(R)?"":R||""),S.reportValidity())},_={},k=h$(o),E=Cw(o),T=k||E,D=(h||m$(o))&&gs(o.value)&&gs(w)||A_(o)&&o.value===""||w===""||Array.isArray(w)&&!w.length,P=f$.bind(null,b,s,_),M=(R,B,L,$=wc.maxLength,I=wc.minLength)=>{const z=R?B:L;_[b]={type:R?$:I,message:z,ref:o,...P(R?$:I,z)}};if(i?!Array.isArray(w)||!w.length:d&&(!T&&(D||_a(w))||vi(w)&&!w||E&&!wfe(c).isValid||k&&!Sfe(c).isValid)){const{value:R,message:B}=sC(d)?{value:!!d,message:d}:Cp(d);if(R&&(_[b]={type:wc.required,message:B,ref:S,...P(wc.required,B)},!s))return N(B),_}if(!D&&(!_a(f)||!_a(m))){let R,B;const L=Cp(m),$=Cp(f);if(!_a(w)&&!isNaN(w)){const I=o.valueAsNumber||w&&+w;_a(L.value)||(R=I>L.value),_a($.value)||(B=I<$.value)}else{const I=o.valueAsDate||new Date(w),z=V=>new Date(new Date().toDateString()+" "+V),H=o.type=="time",Z=o.type=="week";Pl(L.value)&&w&&(R=H?z(w)>z(L.value):Z?w>L.value:I>new Date(L.value)),Pl($.value)&&w&&(B=H?z(w)<z($.value):Z?w<$.value:I<new Date($.value))}if((R||B)&&(M(!!R,L.message,$.message,wc.max,wc.min),!s))return N(_[b].message),_}if((u||l)&&!D&&(Pl(w)||i&&Array.isArray(w))){const R=Cp(u),B=Cp(l),L=!_a(R.value)&&w.length>+R.value,$=!_a(B.value)&&w.length<+B.value;if((L||$)&&(M(L,R.message,B.message),!s))return N(_[b].message),_}if(p&&!D&&Pl(w)){const{value:R,message:B}=Cp(p);if(D_(R)&&!w.match(R)&&(_[b]={type:wc.pattern,message:B,ref:o,...P(wc.pattern,B)},!s))return N(B),_}if(x){if(Wo(x)){const R=await x(w,r),B=QY(R,S);if(B&&(_[b]={...B,...P(wc.validate,B.message)},!s))return N(B.message),_}else if(on(x)){let R={};for(const B in x){if(!Ca(R)&&!s)break;const L=QY(await x[B](w,r),S,B);L&&(R={...L,...P(B,L.message)},N(L.message),s&&(_[b]=R))}if(!Ca(R)&&(_[b]={ref:S,...R},!s))return _}}return N(!0),_};const cjt={mode:fo.onSubmit,reValidateMode:fo.onChange,shouldFocusError:!0};function djt(e={}){let t={...cjt,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Wo(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=on(t.defaultValues)||on(t.values)?hs(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:hs(a),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,u=0;const l={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...l};const m={array:qY(),state:qY()},p=t.criteriaMode===fo.all,x=ee=>le=>{clearTimeout(u),u=setTimeout(ee,le)},b=async ee=>{if(!t.disabled&&(l.isValid||f.isValid||ee)){const le=t.resolver?Ca((await E()).errors):await D(s,!0);le!==r.isValid&&m.state.next({isValid:le})}},h=(ee,le)=>{!t.disabled&&(l.isValidating||l.validatingFields||f.isValidating||f.validatingFields)&&((ee||Array.from(c.mount)).forEach(ce=>{ce&&(le?Sr(r.validatingFields,ce,le):sn(r.validatingFields,ce))}),m.state.next({validatingFields:r.validatingFields,isValidating:!Ca(r.validatingFields)}))},y=(ee,le=[],ce,Ke,Xe=!0,ye=!0)=>{if(Ke&&ce&&!t.disabled){if(o.action=!0,ye&&Array.isArray(st(s,ee))){const Qe=ce(st(s,ee),Ke.argA,Ke.argB);Xe&&Sr(s,ee,Qe)}if(ye&&Array.isArray(st(r.errors,ee))){const Qe=ce(st(r.errors,ee),Ke.argA,Ke.argB);Xe&&Sr(r.errors,ee,Qe),ljt(r.errors,ee)}if((l.touchedFields||f.touchedFields)&&ye&&Array.isArray(st(r.touchedFields,ee))){const Qe=ce(st(r.touchedFields,ee),Ke.argA,Ke.argB);Xe&&Sr(r.touchedFields,ee,Qe)}(l.dirtyFields||f.dirtyFields)&&(r.dirtyFields=C0(a,i)),m.state.next({name:ee,isDirty:M(ee,le),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Sr(i,ee,le)},w=(ee,le)=>{Sr(r.errors,ee,le),m.state.next({errors:r.errors})},S=ee=>{r.errors=ee,m.state.next({errors:r.errors,isValid:!1})},N=(ee,le,ce,Ke)=>{const Xe=st(s,ee);if(Xe){const ye=st(i,ee,gs(ce)?st(a,ee):ce);gs(ye)||Ke&&Ke.defaultChecked||le?Sr(i,ee,le?ye:ZY(Xe._f)):L(ee,ye),o.mount&&b()}},_=(ee,le,ce,Ke,Xe)=>{let ye=!1,Qe=!1;const yt={name:ee};if(!t.disabled){if(!ce||Ke){(l.isDirty||f.isDirty)&&(Qe=r.isDirty,r.isDirty=yt.isDirty=M(),ye=Qe!==yt.isDirty);const Bt=Ec(st(a,ee),le);Qe=!!st(r.dirtyFields,ee),Bt?sn(r.dirtyFields,ee):Sr(r.dirtyFields,ee,!0),yt.dirtyFields=r.dirtyFields,ye=ye||(l.dirtyFields||f.dirtyFields)&&Qe!==!Bt}if(ce){const Bt=st(r.touchedFields,ee);Bt||(Sr(r.touchedFields,ee,ce),yt.touchedFields=r.touchedFields,ye=ye||(l.touchedFields||f.touchedFields)&&Bt!==ce)}ye&&Xe&&m.state.next(yt)}return ye?yt:{}},k=(ee,le,ce,Ke)=>{const Xe=st(r.errors,ee),ye=(l.isValid||f.isValid)&&vi(le)&&r.isValid!==le;if(t.delayError&&ce?(d=x(()=>w(ee,ce)),d(t.delayError)):(clearTimeout(u),d=null,ce?Sr(r.errors,ee,ce):sn(r.errors,ee)),(ce?!Ec(Xe,ce):Xe)||!Ca(Ke)||ye){const Qe={...Ke,...ye&&vi(le)?{isValid:le}:{},errors:r.errors,name:ee};r={...r,...Qe},m.state.next(Qe)}},E=async ee=>{h(ee,!0);const le=await t.resolver(i,t.context,rjt(ee||c.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return h(ee),le},T=async ee=>{const{errors:le}=await E(ee);if(ee)for(const ce of ee){const Ke=st(le,ce);Ke?Sr(r.errors,ce,Ke):sn(r.errors,ce)}else r.errors=le;return le},D=async(ee,le,ce={valid:!0})=>{for(const Ke in ee){const Xe=ee[Ke];if(Xe){const{_f:ye,...Qe}=Xe;if(ye){const yt=c.array.has(ye.name),Bt=Xe._f&&sjt(Xe._f);Bt&&l.validatingFields&&h([Ke],!0);const lr=await KO(Xe,c.disabled,i,p,t.shouldUseNativeValidation&&!le,yt);if(Bt&&l.validatingFields&&h([Ke]),lr[ye.name]&&(ce.valid=!1,le))break;!le&&(st(lr,ye.name)?yt?Nfe(r.errors,lr,ye.name):Sr(r.errors,ye.name,lr[ye.name]):sn(r.errors,ye.name))}!Ca(Qe)&&await D(Qe,le,ce)}}return ce.valid},P=()=>{for(const ee of c.unMount){const le=st(s,ee);le&&(le._f.refs?le._f.refs.every(ce=>!a4(ce)):!a4(le._f.ref))&&me(ee)}c.unMount=new Set},M=(ee,le)=>!t.disabled&&(ee&&le&&Sr(i,ee,le),!Ec(V(),a)),R=(ee,le,ce)=>xfe(ee,c,{...o.mount?i:gs(le)?a:Pl(ee)?{[ee]:le}:le},ce,le),B=ee=>fk(st(o.mount?i:a,ee,t.shouldUnregister?st(a,ee,[]):[])),L=(ee,le,ce={})=>{const Ke=st(s,ee);let Xe=le;if(Ke){const ye=Ke._f;ye&&(!ye.disabled&&Sr(i,ee,jfe(le,ye)),Xe=A_(ye.ref)&&_a(le)?"":le,vfe(ye.ref)?[...ye.ref.options].forEach(Qe=>Qe.selected=Xe.includes(Qe.value)):ye.refs?Cw(ye.ref)?ye.refs.forEach(Qe=>{(!Qe.defaultChecked||!Qe.disabled)&&(Array.isArray(Xe)?Qe.checked=!!Xe.find(yt=>yt===Qe.value):Qe.checked=Xe===Qe.value||!!Xe)}):ye.refs.forEach(Qe=>Qe.checked=Qe.value===Xe):m$(ye.ref)?ye.ref.value="":(ye.ref.value=Xe,ye.ref.type||m.state.next({name:ee,values:hs(i)})))}(ce.shouldDirty||ce.shouldTouch)&&_(ee,Xe,ce.shouldTouch,ce.shouldDirty,!0),ce.shouldValidate&&Z(ee)},$=(ee,le,ce)=>{for(const Ke in le){if(!le.hasOwnProperty(Ke))return;const Xe=le[Ke],ye=ee+"."+Ke,Qe=st(s,ye);(c.array.has(ee)||on(Xe)||Qe&&!Qe._f)&&!nm(Xe)?$(ye,Xe,ce):L(ye,Xe,ce)}},I=(ee,le,ce={})=>{const Ke=st(s,ee),Xe=c.array.has(ee),ye=hs(le);Sr(i,ee,ye),Xe?(m.array.next({name:ee,values:hs(i)}),(l.isDirty||l.dirtyFields||f.isDirty||f.dirtyFields)&&ce.shouldDirty&&m.state.next({name:ee,dirtyFields:C0(a,i),isDirty:M(ee,ye)})):Ke&&!Ke._f&&!_a(ye)?$(ee,ye,ce):L(ee,ye,ce),YO(ee,c)&&m.state.next({...r,name:ee}),m.state.next({name:o.mount?ee:void 0,values:hs(i)})},z=async ee=>{o.mount=!0;const le=ee.target;let ce=le.name,Ke=!0;const Xe=st(s,ce),ye=Bt=>{Ke=Number.isNaN(Bt)||nm(Bt)&&isNaN(Bt.getTime())||Ec(Bt,st(i,ce,Bt))},Qe=Vp(t.mode),yt=Vp(t.reValidateMode);if(Xe){let Bt,lr;const Ln=le.type?ZY(Xe._f):hfe(ee),qs=ee.type===k_.BLUR||ee.type===k_.FOCUS_OUT,Bn=!njt(Xe._f)&&!t.resolver&&!st(r.errors,ce)&&!Xe._f.deps||ojt(qs,st(r.touchedFields,ce),r.isSubmitted,yt,Qe),Ia=YO(ce,c,qs);Sr(i,ce,Ln),qs?(!le||!le.readOnly)&&(Xe._f.onBlur&&Xe._f.onBlur(ee),d&&d(0)):Xe._f.onChange&&Xe._f.onChange(ee);const wa=_(ce,Ln,qs),ea=!Ca(wa)||Ia;if(!qs&&m.state.next({name:ce,type:ee.type,values:hs(i)}),Bn)return(l.isValid||f.isValid)&&(t.mode==="onBlur"?qs&&b():qs||b()),ea&&m.state.next({name:ce,...Ia?{}:wa});if(!qs&&Ia&&m.state.next({...r}),t.resolver){const{errors:ja}=await E([ce]);if(ye(Ln),Ke){const ni=JY(r.errors,s,ce),It=JY(ja,s,ni.name||ce);Bt=It.error,ce=It.name,lr=Ca(ja)}}else h([ce],!0),Bt=(await KO(Xe,c.disabled,i,p,t.shouldUseNativeValidation))[ce],h([ce]),ye(Ln),Ke&&(Bt?lr=!1:(l.isValid||f.isValid)&&(lr=await D(s,!0)));Ke&&(Xe._f.deps&&Z(Xe._f.deps),k(ce,lr,Bt,wa))}},H=(ee,le)=>{if(st(r.errors,le)&&ee.focus)return ee.focus(),1},Z=async(ee,le={})=>{let ce,Ke;const Xe=qa(ee);if(t.resolver){const ye=await T(gs(ee)?ee:Xe);ce=Ca(ye),Ke=ee?!Xe.some(Qe=>st(ye,Qe)):ce}else ee?(Ke=(await Promise.all(Xe.map(async ye=>{const Qe=st(s,ye);return await D(Qe&&Qe._f?{[ye]:Qe}:Qe)}))).every(Boolean),!(!Ke&&!r.isValid)&&b()):Ke=ce=await D(s);return m.state.next({...!Pl(ee)||(l.isValid||f.isValid)&&ce!==r.isValid?{}:{name:ee},...t.resolver||!ee?{isValid:ce}:{},errors:r.errors}),le.shouldFocus&&!Ke&&lg(s,H,ee?Xe:c.mount),Ke},V=ee=>{const le={...o.mount?i:a};return gs(ee)?le:Pl(ee)?st(le,ee):ee.map(ce=>st(le,ce))},G=(ee,le)=>({invalid:!!st((le||r).errors,ee),isDirty:!!st((le||r).dirtyFields,ee),error:st((le||r).errors,ee),isValidating:!!st(r.validatingFields,ee),isTouched:!!st((le||r).touchedFields,ee)}),U=ee=>{ee&&qa(ee).forEach(le=>sn(r.errors,le)),m.state.next({errors:ee?r.errors:{}})},Y=(ee,le,ce)=>{const Ke=(st(s,ee,{_f:{}})._f||{}).ref,Xe=st(r.errors,ee)||{},{ref:ye,message:Qe,type:yt,...Bt}=Xe;Sr(r.errors,ee,{...Bt,...le,ref:Ke}),m.state.next({name:ee,errors:r.errors,isValid:!1}),ce&&ce.shouldFocus&&Ke&&Ke.focus&&Ke.focus()},K=(ee,le)=>Wo(ee)?m.state.subscribe({next:ce=>"values"in ce&&ee(R(void 0,le),ce)}):R(ee,le,!0),re=ee=>m.state.subscribe({next:le=>{ijt(ee.name,le.name,ee.exact)&&ajt(le,ee.formState||l,it,ee.reRenderRoot)&&ee.callback({values:{...i},...r,...le,defaultValues:a})}}).unsubscribe,he=ee=>(o.mount=!0,f={...f,...ee.formState},re({...ee,formState:f})),me=(ee,le={})=>{for(const ce of ee?qa(ee):c.mount)c.mount.delete(ce),c.array.delete(ce),le.keepValue||(sn(s,ce),sn(i,ce)),!le.keepError&&sn(r.errors,ce),!le.keepDirty&&sn(r.dirtyFields,ce),!le.keepTouched&&sn(r.touchedFields,ce),!le.keepIsValidating&&sn(r.validatingFields,ce),!t.shouldUnregister&&!le.keepDefaultValue&&sn(a,ce);m.state.next({values:hs(i)}),m.state.next({...r,...le.keepDirty?{isDirty:M()}:{}}),!le.keepIsValid&&b()},de=({disabled:ee,name:le})=>{(vi(ee)&&o.mount||ee||c.disabled.has(le))&&(ee?c.disabled.add(le):c.disabled.delete(le))},ie=(ee,le={})=>{let ce=st(s,ee);const Ke=vi(le.disabled)||vi(t.disabled);return Sr(s,ee,{...ce||{},_f:{...ce&&ce._f?ce._f:{ref:{name:ee}},name:ee,mount:!0,...le}}),c.mount.add(ee),ce?de({disabled:vi(le.disabled)?le.disabled:t.disabled,name:ee}):N(ee,!0,le.value),{...Ke?{disabled:le.disabled||t.disabled}:{},...t.progressive?{required:!!le.required,min:_0(le.min),max:_0(le.max),minLength:_0(le.minLength),maxLength:_0(le.maxLength),pattern:_0(le.pattern)}:{},name:ee,onChange:z,onBlur:z,ref:Xe=>{if(Xe){ie(ee,le),ce=st(s,ee);const ye=gs(Xe.value)&&Xe.querySelectorAll&&Xe.querySelectorAll("input,select,textarea")[0]||Xe,Qe=Qwt(ye),yt=ce._f.refs||[];if(Qe?yt.find(Bt=>Bt===ye):ye===ce._f.ref)return;Sr(s,ee,{_f:{...ce._f,...Qe?{refs:[...yt.filter(a4),ye,...Array.isArray(st(a,ee))?[{}]:[]],ref:{type:ye.type,name:ee}}:{ref:ye}}}),N(ee,!1,void 0,ye)}else ce=st(s,ee,{}),ce._f&&(ce._f.mount=!1),(t.shouldUnregister||le.shouldUnregister)&&!(pfe(c.array,ee)&&o.action)&&c.unMount.add(ee)}}},ve=()=>t.shouldFocusError&&lg(s,H,c.mount),_e=ee=>{vi(ee)&&(m.state.next({disabled:ee}),lg(s,(le,ce)=>{const Ke=st(s,ce);Ke&&(le.disabled=Ke._f.disabled||ee,Array.isArray(Ke._f.refs)&&Ke._f.refs.forEach(Xe=>{Xe.disabled=Ke._f.disabled||ee}))},0,!1))},xe=(ee,le)=>async ce=>{let Ke;ce&&(ce.preventDefault&&ce.preventDefault(),ce.persist&&ce.persist());let Xe=hs(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:ye,values:Qe}=await E();r.errors=ye,Xe=hs(Qe)}else await D(s);if(c.disabled.size)for(const ye of c.disabled)sn(Xe,ye);if(sn(r.errors,"root"),Ca(r.errors)){m.state.next({errors:{}});try{await ee(Xe,ce)}catch(ye){Ke=ye}}else le&&await le({...r.errors},ce),ve(),setTimeout(ve);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ca(r.errors)&&!Ke,submitCount:r.submitCount+1,errors:r.errors}),Ke)throw Ke},Le=(ee,le={})=>{st(s,ee)&&(gs(le.defaultValue)?I(ee,hs(st(a,ee))):(I(ee,le.defaultValue),Sr(a,ee,hs(le.defaultValue))),le.keepTouched||sn(r.touchedFields,ee),le.keepDirty||(sn(r.dirtyFields,ee),r.isDirty=le.defaultValue?M(ee,hs(st(a,ee))):M()),le.keepError||(sn(r.errors,ee),l.isValid&&b()),m.state.next({...r}))},Ie=(ee,le={})=>{const ce=ee?hs(ee):a,Ke=hs(ce),Xe=Ca(ee),ye=Xe?a:Ke;if(le.keepDefaultValues||(a=ce),!le.keepValues){if(le.keepDirtyValues){const Qe=new Set([...c.mount,...Object.keys(C0(a,i))]);for(const yt of Array.from(Qe))st(r.dirtyFields,yt)?Sr(ye,yt,st(i,yt)):I(yt,st(ye,yt))}else{if(l$&&gs(ee))for(const Qe of c.mount){const yt=st(s,Qe);if(yt&&yt._f){const Bt=Array.isArray(yt._f.refs)?yt._f.refs[0]:yt._f.ref;if(A_(Bt)){const lr=Bt.closest("form");if(lr){lr.reset();break}}}}if(le.keepFieldsRef)for(const Qe of c.mount)I(Qe,st(ye,Qe));else s={}}i=t.shouldUnregister?le.keepDefaultValues?hs(a):{}:hs(ye),m.array.next({values:{...ye}}),m.state.next({values:{...ye}})}c={mount:le.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!l.isValid||!!le.keepIsValid||!!le.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:le.keepSubmitCount?r.submitCount:0,isDirty:Xe?!1:le.keepDirty?r.isDirty:!!(le.keepDefaultValues&&!Ec(ee,a)),isSubmitted:le.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Xe?{}:le.keepDirtyValues?le.keepDefaultValues&&i?C0(a,i):r.dirtyFields:le.keepDefaultValues&&ee?C0(a,ee):le.keepDirty?r.dirtyFields:{},touchedFields:le.keepTouched?r.touchedFields:{},errors:le.keepErrors?r.errors:{},isSubmitSuccessful:le.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},fe=(ee,le)=>Ie(Wo(ee)?ee(i):ee,le),Ze=(ee,le={})=>{const ce=st(s,ee),Ke=ce&&ce._f;if(Ke){const Xe=Ke.refs?Ke.refs[0]:Ke.ref;Xe.focus&&(Xe.focus(),le.shouldSelect&&Wo(Xe.select)&&Xe.select())}},it=ee=>{r={...r,...ee}},He={control:{register:ie,unregister:me,getFieldState:G,handleSubmit:xe,setError:Y,_subscribe:re,_runSchema:E,_focusError:ve,_getWatch:R,_getDirty:M,_setValid:b,_setFieldArray:y,_setDisabledField:de,_setErrors:S,_getFieldArray:B,_reset:Ie,_resetDefaultValues:()=>Wo(t.defaultValues)&&t.defaultValues().then(ee=>{fe(ee,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:_e,_subjects:m,_proxyFormState:l,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(ee){o=ee},get _defaultValues(){return a},get _names(){return c},set _names(ee){c=ee},get _formState(){return r},get _options(){return t},set _options(ee){t={...t,...ee}}},subscribe:he,trigger:Z,register:ie,handleSubmit:xe,watch:K,setValue:I,getValues:V,reset:fe,resetField:Le,clearErrors:U,unregister:me,setError:Y,setFocus:Ze,getFieldState:G};return{...He,formControl:He}}var Jd=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},i4=(e,t,r={})=>r.shouldFocus||gs(r.shouldFocus)?r.focusName||`${e}.${gs(r.focusIndex)?t:r.focusIndex}.`:"",o4=(e,t)=>[...e,...qa(t)],l4=e=>Array.isArray(e)?e.map(()=>{}):void 0;function c4(e,t,r){return[...e.slice(0,t),...qa(r),...e.slice(t)]}var d4=(e,t,r)=>Array.isArray(e)?(gs(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],u4=(e,t)=>[...qa(t),...qa(e)];function ujt(e,t){let r=0;const s=[...e];for(const a of t)s.splice(a-r,1),r++;return fk(s).length?s:[]}var f4=(e,t)=>gs(t)?[]:ujt(e,qa(t).sort((r,s)=>r-s)),m4=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]},eK=(e,t,r)=>(e[t]=r,e);function fjt(e){const t=_w(),{control:r=t.control,name:s,keyName:a="id",shouldUnregister:i,rules:o}=e,[c,d]=te.useState(r._getFieldArray(s)),u=te.useRef(r._getFieldArray(s).map(Jd)),l=te.useRef(c),f=te.useRef(!1);l.current=c,r._names.array.add(s),te.useMemo(()=>o&&r.register(s,o),[r,o,s]),mk(()=>r._subjects.array.subscribe({next:({values:_,name:k})=>{if(k===s||!k){const E=st(_,s);Array.isArray(E)&&(d(E),u.current=E.map(Jd))}}}).unsubscribe,[r,s]);const m=te.useCallback(_=>{f.current=!0,r._setFieldArray(s,_)},[r,s]),p=(_,k)=>{const E=qa(hs(_)),T=o4(r._getFieldArray(s),E);r._names.focus=i4(s,T.length-1,k),u.current=o4(u.current,E.map(Jd)),m(T),d(T),r._setFieldArray(s,T,o4,{argA:l4(_)})},x=(_,k)=>{const E=qa(hs(_)),T=u4(r._getFieldArray(s),E);r._names.focus=i4(s,0,k),u.current=u4(u.current,E.map(Jd)),m(T),d(T),r._setFieldArray(s,T,u4,{argA:l4(_)})},b=_=>{const k=f4(r._getFieldArray(s),_);u.current=f4(u.current,_),m(k),d(k),!Array.isArray(st(r._fields,s))&&Sr(r._fields,s,void 0),r._setFieldArray(s,k,f4,{argA:_})},h=(_,k,E)=>{const T=qa(hs(k)),D=c4(r._getFieldArray(s),_,T);r._names.focus=i4(s,_,E),u.current=c4(u.current,_,T.map(Jd)),m(D),d(D),r._setFieldArray(s,D,c4,{argA:_,argB:l4(k)})},y=(_,k)=>{const E=r._getFieldArray(s);m4(E,_,k),m4(u.current,_,k),m(E),d(E),r._setFieldArray(s,E,m4,{argA:_,argB:k},!1)},w=(_,k)=>{const E=r._getFieldArray(s);d4(E,_,k),d4(u.current,_,k),m(E),d(E),r._setFieldArray(s,E,d4,{argA:_,argB:k},!1)},S=(_,k)=>{const E=hs(k),T=eK(r._getFieldArray(s),_,E);u.current=[...T].map((D,P)=>!D||P===_?Jd():u.current[P]),m(T),d([...T]),r._setFieldArray(s,T,eK,{argA:_,argB:E},!0,!1)},N=_=>{const k=qa(hs(_));u.current=k.map(Jd),m([...k]),d([...k]),r._setFieldArray(s,[...k],E=>E,{},!0,!1)};return te.useEffect(()=>{if(r._state.action=!1,YO(s,r._names)&&r._subjects.state.next({...r._formState}),f.current&&(!Vp(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!Vp(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([s]).then(_=>{const k=st(_.errors,s),E=st(r._formState.errors,s);(E?!k&&E.type||k&&(E.type!==k.type||E.message!==k.message):k&&k.type)&&(k?Sr(r._formState.errors,s,k):sn(r._formState.errors,s),r._subjects.state.next({errors:r._formState.errors}))});else{const _=st(r._fields,s);_&&_._f&&!(Vp(r._options.reValidateMode).isOnSubmit&&Vp(r._options.mode).isOnSubmit)&&KO(_,r._names.disabled,r._formValues,r._options.criteriaMode===fo.all,r._options.shouldUseNativeValidation,!0).then(k=>!Ca(k)&&r._subjects.state.next({errors:Nfe(r._formState.errors,k,s)}))}r._subjects.state.next({name:s,values:hs(r._formValues)}),r._names.focus&&lg(r._fields,(_,k)=>{if(r._names.focus&&k.startsWith(r._names.focus)&&_.focus)return _.focus(),1}),r._names.focus="",r._setValid(),f.current=!1},[c,s,r]),te.useEffect(()=>(!st(r._formValues,s)&&r._setFieldArray(s),()=>{const _=(k,E)=>{const T=st(r._fields,k);T&&T._f&&(T._f.mount=E)};r._options.shouldUnregister||i?r.unregister(s):_(s,!1)}),[s,r,a,i]),{swap:te.useCallback(y,[m,s,r]),move:te.useCallback(w,[m,s,r]),prepend:te.useCallback(x,[m,s,r]),append:te.useCallback(p,[m,s,r]),remove:te.useCallback(b,[m,s,r]),insert:te.useCallback(h,[m,s,r]),update:te.useCallback(S,[m,s,r]),replace:te.useCallback(N,[m,s,r]),fields:te.useMemo(()=>c.map((_,k)=>({..._,[a]:u.current[k]||Jd()})),[c,a])}}function Da(e={}){const t=te.useRef(void 0),r=te.useRef(void 0),[s,a]=te.useState({isDirty:!1,isValidating:!1,isLoading:Wo(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Wo(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!Wo(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...c}=djt(e);t.current={...c,formState:s}}const i=t.current.control;return i._options=e,mk(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(c=>({...c,isReady:!0})),i._formState.isReady=!0,o},[i]),te.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),te.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),te.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),te.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),te.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),te.useEffect(()=>{e.values&&!Ec(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),te.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=gfe(s,i),t.current}const tK=(e,t,r)=>{if(e&&"reportValidity"in e){const s=st(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},ZO=(e,t)=>{for(const r in t.fields){const s=t.fields[r];s&&s.ref&&"reportValidity"in s.ref?tK(s.ref,r,e):s&&s.refs&&s.refs.forEach(a=>tK(a,r,e))}},rK=(e,t)=>{t.shouldUseNativeValidation&&ZO(e,t);const r={};for(const s in e){const a=st(t.fields,s),i=Object.assign(e[s]||{},{ref:a&&a.ref});if(mjt(t.names||Object.keys(e),s)){const o=Object.assign({},st(r,s));Sr(o,"root",i),Sr(r,s,o)}else Sr(r,s,i)}return r},mjt=(e,t)=>{const r=sK(t);return e.some(s=>sK(s).match(`^${r}\\.\\d+`))};function sK(e){return e.replace(/\]|\[/g,"")}function nK(e,t){try{var r=e()}catch(s){return t(s)}return r&&r.then?r.then(void 0,t):r}function hjt(e,t){for(var r={};e.length;){var s=e[0],a=s.code,i=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var c=s.unionErrors[0].errors[0];r[o]={message:c.message,type:c.code}}else r[o]={message:i,type:a};if("unionErrors"in s&&s.unionErrors.forEach(function(l){return l.errors.forEach(function(f){return e.push(f)})}),t){var d=r[o].types,u=d&&d[s.code];r[o]=f$(o,t,r,a,u?[].concat(u,s.message):s.message)}e.shift()}return r}function pjt(e,t){for(var r={};e.length;){var s=e[0],a=s.code,i=s.message,o=s.path.join(".");if(!r[o])if(s.code==="invalid_union"&&s.errors.length>0){var c=s.errors[0][0];r[o]={message:c.message,type:c.code}}else r[o]={message:i,type:a};if(s.code==="invalid_union"&&s.errors.forEach(function(l){return l.forEach(function(f){return e.push(f)})}),t){var d=r[o].types,u=d&&d[s.code];r[o]=f$(o,t,r,a,u?[].concat(u,s.message):s.message)}e.shift()}return r}function Qa(e,t,r){if(r===void 0&&(r={}),(function(s){return"_def"in s&&typeof s._def=="object"&&"typeName"in s._def})(e))return function(s,a,i){try{return Promise.resolve(nK(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(o){return i.shouldUseNativeValidation&&ZO({},i),{errors:{},values:r.raw?Object.assign({},s):o}})},function(o){if((function(c){return Array.isArray(c?.issues)})(o))return{values:{},errors:rK(hjt(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};if((function(s){return"_zod"in s&&typeof s._zod=="object"})(e))return function(s,a,i){try{return Promise.resolve(nK(function(){return Promise.resolve((r.mode==="sync"?W_e:q_e)(e,s,t)).then(function(o){return i.shouldUseNativeValidation&&ZO({},i),{errors:{},values:r.raw?Object.assign({},s):o}})},function(o){if((function(c){return c instanceof PI})(o))return{values:{},errors:rK(pjt(o.issues,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};throw new Error("Invalid input: not a Zod schema")}const Co=Kwt,Cfe=v.createContext({}),or=e=>n.jsx(Cfe.Provider,{value:{name:e.name},children:n.jsx(u$,{...e})}),hk=()=>{const e=v.useContext(Cfe),t=v.useContext(_fe),{getFieldState:r,formState:s}=_w(),a=r(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},_fe=v.createContext({}),nr=v.forwardRef(({className:e,...t},r)=>{const s=v.useId();return n.jsx(_fe.Provider,{value:{id:s},children:n.jsx("div",{ref:r,className:X("space-y-2",e),...t})})});nr.displayName="FormItem";const ar=v.forwardRef(({className:e,...t},r)=>{const{error:s,formItemId:a}=hk();return n.jsx(Q,{ref:r,className:X(s&&"text-destructive",e),htmlFor:a,...t})});ar.displayName="FormLabel";const ir=v.forwardRef(({...e},t)=>{const{error:r,formItemId:s,formDescriptionId:a,formMessageId:i}=hk();return n.jsx(Lu,{ref:t,id:s,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});ir.displayName="FormControl";const ia=v.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:s}=hk();return n.jsx("p",{ref:r,id:s,className:X("text-sm text-muted-foreground",e),...t})});ia.displayName="FormDescription";const Nr=v.forwardRef(({className:e,children:t,...r},s)=>{const{error:a,formMessageId:i}=hk(),o=a?String(a?.message):t;return o?n.jsx("p",{ref:s,id:i,className:X("text-sm font-medium text-destructive",e),...r,children:o}):null});Nr.displayName="FormMessage";function aK(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function gjt(e,t){return v.useReducer((r,s)=>t[r][s]??r,e)}var Efe=e=>{const{present:t,children:r}=e,s=xjt(t),a=typeof r=="function"?r({present:s.isPresent}):v.Children.only(r),i=bt(s.ref,vjt(a));return typeof r=="function"||s.isPresent?v.cloneElement(a,{ref:i}):null};Efe.displayName="Presence";function xjt(e){const[t,r]=v.useState(),s=v.useRef(null),a=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[c,d]=gjt(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=O1(s.current);i.current=c==="mounted"?u:"none"},[c]),Tr(()=>{const u=s.current,l=a.current;if(l!==e){const m=i.current,p=O1(u);e?d("MOUNT"):p==="none"||u?.display==="none"?d("UNMOUNT"):d(l&&m!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),Tr(()=>{if(t){let u;const l=t.ownerDocument.defaultView??window,f=p=>{const b=O1(s.current).includes(CSS.escape(p.animationName));if(p.target===t&&b&&(d("ANIMATION_END"),!a.current)){const h=t.style.animationFillMode;t.style.animationFillMode="forwards",u=l.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=h)})}},m=p=>{p.target===t&&(i.current=O1(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{l.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:v.useCallback(u=>{s.current=u?getComputedStyle(u):null,r(u)},[])}}function O1(e){return e?.animationName||"none"}function vjt(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var pk="Checkbox",[yjt,P3t]=cn(pk),[bjt,p$]=yjt(pk);function wjt(e){const{__scopeCheckbox:t,checked:r,children:s,defaultChecked:a,disabled:i,form:o,name:c,onCheckedChange:d,required:u,value:l="on",internal_do_not_use_render:f}=e,[m,p]=Di({prop:r,defaultProp:a??!1,onChange:d,caller:pk}),[x,b]=v.useState(null),[h,y]=v.useState(null),w=v.useRef(!1),S=x?!!o||!!x.closest("form"):!0,N={checked:m,disabled:i,setChecked:p,control:x,setControl:b,name:c,form:o,value:l,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:gu(a)?!1:a,isFormControl:S,bubbleInput:h,setBubbleInput:y};return n.jsx(bjt,{scope:t,...N,children:jjt(f)?f(N):s})}var kfe="CheckboxTrigger",Afe=v.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...s},a)=>{const{control:i,value:o,disabled:c,checked:d,required:u,setControl:l,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:x}=p$(kfe,e),b=bt(a,l),h=v.useRef(d);return v.useEffect(()=>{const y=i?.form;if(y){const w=()=>f(h.current);return y.addEventListener("reset",w),()=>y.removeEventListener("reset",w)}},[i,f]),n.jsx(nt.button,{type:"button",role:"checkbox","aria-checked":gu(d)?"mixed":d,"aria-required":u,"data-state":Mfe(d),"data-disabled":c?"":void 0,disabled:c,value:o,...s,ref:b,onKeyDown:aK(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:aK(r,y=>{f(w=>gu(w)?!0:!w),x&&p&&(m.current=y.isPropagationStopped(),m.current||y.stopPropagation())})})});Afe.displayName=kfe;var g$=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:s,checked:a,defaultChecked:i,required:o,disabled:c,value:d,onCheckedChange:u,form:l,...f}=e;return n.jsx(wjt,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:c,required:o,onCheckedChange:u,name:s,form:l,value:d,internal_do_not_use_render:({isFormControl:m})=>n.jsxs(n.Fragment,{children:[n.jsx(Afe,{...f,ref:t,__scopeCheckbox:r}),m&&n.jsx(Rfe,{__scopeCheckbox:r})]})})});g$.displayName=pk;var Tfe="CheckboxIndicator",Dfe=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:s,...a}=e,i=p$(Tfe,r);return n.jsx(Efe,{present:s||gu(i.checked)||i.checked===!0,children:n.jsx(nt.span,{"data-state":Mfe(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});Dfe.displayName=Tfe;var Pfe="CheckboxBubbleInput",Rfe=v.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:c,disabled:d,name:u,value:l,form:f,bubbleInput:m,setBubbleInput:p}=p$(Pfe,e),x=bt(r,p),b=Nw(i),h=hx(s);v.useEffect(()=>{const w=m;if(!w)return;const S=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(S,"checked").set,k=!a.current;if(b!==i&&_){const E=new Event("click",{bubbles:k});w.indeterminate=gu(i),_.call(w,gu(i)?!1:i),w.dispatchEvent(E)}},[m,b,i,a]);const y=v.useRef(gu(i)?!1:i);return n.jsx(nt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:c,disabled:d,name:u,value:l,form:f,...t,tabIndex:-1,ref:x,style:{...t.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Rfe.displayName=Pfe;function jjt(e){return typeof e=="function"}function gu(e){return e==="indeterminate"}function Mfe(e){return gu(e)?"indeterminate":e?"checked":"unchecked"}const dt=v.forwardRef(({className:e,...t},r)=>n.jsx(g$,{ref:r,className:X("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(Dfe,{className:X("flex items-center justify-center text-current"),children:n.jsx(ix,{className:"h-4 w-4"})})}));dt.displayName=g$.displayName;const Ofe=te.memo(({role:e,checked:t,onRoleChange:r})=>{const s=v.useCallback(a=>{r(e.name,a)},[e.name,r]);return n.jsxs("div",{className:`flex items-start space-x-2 sm:space-x-3 p-3 sm:p-4 rounded-lg border transition-all duration-200 hover:shadow-md hover:scale-[1.02] ${t?"bg-accent border-primary border-2":"bg-muted border-border border"}`,children:[n.jsx(dt,{id:`role-${e.id}`,checked:t,onCheckedChange:s,className:`mt-0.5 sm:mt-1 ${t?"border-primary bg-primary":"border-border bg-background"}`}),n.jsxs("div",{className:"grid gap-1 sm:gap-1.5 leading-none flex-1",children:[n.jsx(Q,{htmlFor:`role-${e.id}`,className:`text-xs sm:text-sm md:text-base font-medium leading-tight cursor-pointer transition-colors duration-200 ${t?"text-accent-foreground":"text-foreground"}`,children:e.name}),e.permissions&&e.permissions.length>0&&n.jsxs("p",{className:"text-xs sm:text-sm leading-tight text-muted-foreground",children:[e.permissions.length," permission",e.permissions.length>1?"s":""]})]})]})});Ofe.displayName="RoleCard";const Ife=te.memo(({permission:e,checked:t,onPermissionChange:r})=>{const s=v.useCallback(a=>{r(e.name,a)},[e.name,r]);return n.jsxs("div",{className:`flex items-start space-x-2 sm:space-x-3 p-3 sm:p-4 rounded-lg border transition-all duration-200 hover:shadow-md hover:scale-[1.02] ${t?"bg-accent border-primary border-2":"bg-muted border-border border"}`,children:[n.jsx(dt,{id:`permission-${e.id}`,checked:t,onCheckedChange:s,className:`mt-0.5 sm:mt-1 ${t?"border-primary bg-primary":"border-border bg-background"}`}),n.jsx("div",{className:"grid gap-1 sm:gap-1.5 leading-none flex-1",children:n.jsx(Q,{htmlFor:`permission-${e.id}`,className:`text-xs sm:text-sm md:text-base font-medium leading-tight cursor-pointer transition-colors duration-200 ${t?"text-accent-foreground":"text-foreground"}`,children:e.name})})]})});Ife.displayName="PermissionCard";const x$=te.memo(({paginationInfo:e,onPageChange:t,className:r=""})=>{const{currentPage:s,totalPages:a,hasPrevPage:i,hasNextPage:o}=e,c=()=>{i&&t(s-1)},d=()=>{o&&t(s+1)},u=f=>{t(f)},l=()=>{const f=[];if(a<=5)for(let p=1;p<=a;p++)f.push(p);else{const p=Math.max(1,s-2),x=Math.min(a,p+5-1);for(let b=p;b<=x;b++)f.push(b)}return f};return a<=1?null:n.jsxs("div",{className:`flex items-center justify-center space-x-2 ${r}`,children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:c,disabled:!i,className:"flex items-center space-x-1",children:[n.jsx(ad,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),n.jsx("div",{className:"flex items-center space-x-1",children:l().map(f=>n.jsx(W,{variant:f===s?"default":"outline",size:"sm",onClick:()=>u(f),className:"min-w-[2.5rem]",children:f},f))}),n.jsxs(W,{variant:"outline",size:"sm",onClick:d,disabled:!o,className:"flex items-center space-x-1",children:[n.jsx("span",{className:"hidden sm:inline",children:"Next"}),n.jsx(ko,{className:"h-4 w-4"})]})]})});x$.displayName="PaginationControls";const XO=te.memo(({className:e,...t})=>{const[r,s]=v.useState(!1),a=v.useCallback(()=>{s(i=>!i)},[]);return n.jsxs("div",{className:"relative",children:[n.jsx(ne,{...t,type:r?"text":"password",className:X("pr-10",e)}),n.jsxs(W,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:a,tabIndex:-1,children:[r?n.jsx(Em,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(ln,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"sr-only",children:r?"Hide password":"Show password"})]})]})});XO.displayName="PasswordInput";const v$=te.memo(({form:e,isEditMode:t=!1,showPasswordFields:r=!0})=>n.jsx("div",{className:"space-y-4 sm:space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-foreground mb-3 sm:mb-4",children:t?"Edit User Information":"Basic Information"}),n.jsxs("div",{className:"grid gap-4 sm:gap-6",children:[n.jsx(or,{control:e.control,name:"name",render:({field:s})=>n.jsxs(nr,{children:[n.jsx(ar,{className:"text-sm font-medium text-foreground",children:"Full Name *"}),n.jsx(ir,{children:n.jsx(ne,{...s,placeholder:"Enter full name",className:"w-full"})}),n.jsx(Nr,{})]})}),n.jsx(or,{control:e.control,name:"email",render:({field:s})=>n.jsxs(nr,{children:[n.jsx(ar,{className:"text-sm font-medium text-foreground",children:"Email Address *"}),n.jsx(ir,{children:n.jsx(ne,{...s,type:"email",placeholder:"Enter email address",className:"w-full"})}),n.jsx(Nr,{})]})}),r&&n.jsxs(n.Fragment,{children:[n.jsx(or,{control:e.control,name:"password",render:({field:s})=>n.jsxs(nr,{children:[n.jsxs(ar,{className:"text-sm font-medium text-foreground",children:["Password ",!t&&"*",t&&n.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:"(Leave blank to keep current password)"})]}),n.jsx(ir,{children:n.jsx(XO,{...s,placeholder:t?"Enter new password (optional)":"Enter password",className:"w-full"})}),n.jsx(Nr,{})]})}),n.jsx(or,{control:e.control,name:"password_confirmation",render:({field:s})=>n.jsxs(nr,{children:[n.jsxs(ar,{className:"text-sm font-medium text-foreground",children:["Confirm Password ",!t&&"*"]}),n.jsx(ir,{children:n.jsx(XO,{...s,placeholder:t?"Confirm new password":"Confirm password",className:"w-full"})}),n.jsx(Nr,{})]})})]})]})]})}));v$.displayName="BasicInfoSection";const y$=te.memo(({roles:e,selectedRoles:t,onRoleChange:r,paginationInfo:s,onPageChange:a,isLoading:i=!1})=>{const o=c=>t.includes(c);return n.jsx("div",{className:"space-y-4 sm:space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-foreground mb-3 sm:mb-4",children:"Assign Roles"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Select one or more roles for this user. Each role comes with its own set of permissions."}),i?n.jsx("div",{className:"grid gap-3 sm:gap-4",children:Array.from({length:6}).map((c,d)=>n.jsx("div",{className:"animate-pulse",children:n.jsxs("div",{className:"flex items-start space-x-3 p-4 rounded-lg border bg-muted",children:[n.jsx("div",{className:"w-4 h-4 bg-muted-foreground/20 rounded mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-4 bg-muted-foreground/20 rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-3 bg-muted-foreground/20 rounded w-1/2"})]})]})},d))}):e.length===0?n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-muted-foreground",children:"No roles available."})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid gap-3 sm:gap-4",children:e.map(c=>n.jsx(Ofe,{role:c,checked:o(c.name),onRoleChange:r},c.id))}),n.jsx(x$,{paginationInfo:s,onPageChange:a,className:"mt-6"})]}),t.length>0&&n.jsxs("div",{className:"mt-4 p-3 bg-accent/50 rounded-lg border",children:[n.jsxs("p",{className:"text-sm font-medium text-foreground mb-2",children:["Selected Roles (",t.length,"):"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(c=>n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-primary text-primary-foreground",children:c},c))})]})]})})});y$.displayName="RoleSelectionSection";const b$=te.memo(({permissions:e,selectedPermissions:t,roleBasedPermissions:r=[],onPermissionChange:s,paginationInfo:a,onPageChange:i,isLoading:o=!1})=>{const c=u=>t.includes(u),d=u=>r.includes(u);return n.jsx("div",{className:"space-y-4 sm:space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-foreground mb-3 sm:mb-4",children:"Additional Permissions"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Grant additional permissions beyond those provided by roles. Permissions from roles are automatically included."}),o?n.jsx("div",{className:"grid gap-3 sm:gap-4",children:Array.from({length:8}).map((u,l)=>n.jsx("div",{className:"animate-pulse",children:n.jsxs("div",{className:"flex items-start space-x-3 p-4 rounded-lg border bg-muted",children:[n.jsx("div",{className:"w-4 h-4 bg-muted-foreground/20 rounded mt-1"}),n.jsx("div",{className:"flex-1",children:n.jsx("div",{className:"h-4 bg-muted-foreground/20 rounded w-2/3"})})]})},l))}):e.length===0?n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-muted-foreground",children:"No permissions available."})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid gap-3 sm:gap-4",children:e.map(u=>{const l=d(u.name),f=c(u.name);return n.jsxs("div",{className:"relative",children:[n.jsx(Ife,{permission:u,checked:f,onPermissionChange:s}),l&&n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:"From Role"})})]},u.id)})}),n.jsx(x$,{paginationInfo:a,onPageChange:i,className:"mt-6"})]}),n.jsxs("div",{className:"mt-4 space-y-3",children:[r.length>0&&n.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[n.jsxs("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-2",children:["Permissions from Roles (",r.length,"):"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(u=>n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-100",children:u},u))})]}),t.filter(u=>!r.includes(u)).length>0&&n.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[n.jsxs("p",{className:"text-sm font-medium text-green-900 dark:text-green-100 mb-2",children:["Additional Permissions (",t.filter(u=>!r.includes(u)).length,"):"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:t.filter(u=>!r.includes(u)).map(u=>n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100",children:u},u))})]})]})]})})});b$.displayName="PermissionSelectionSection";const Ffe=({roles:e,initialSelectedRoles:t=[],initialSelectedPermissions:r=[]})=>{const[s,a]=v.useState(t),[i,o]=v.useState(r),c=v.useCallback((h,y)=>{a(S=>y?S.includes(h)?S:[...S,h]:S.filter(N=>N!==h));const w=e.find(S=>S.name===h);if(w?.permissions){const S=w.permissions.map(N=>N.name);o(N=>{if(y){const _=S.filter(k=>!N.includes(k));return[...N,..._]}else return N.filter(_=>!S.includes(_))})}},[e]),d=v.useCallback((h,y)=>{o(w=>y?w.includes(h)?w:[...w,h]:w.filter(S=>S!==h))},[]),u=v.useCallback(h=>s.includes(h),[s]),l=v.useCallback(h=>i.includes(h),[i]),f=v.useMemo(()=>{const h=new Set;return s.forEach(y=>{const w=e.find(S=>S.name===y);w?.permissions&&w.permissions.forEach(S=>h.add(S.name))}),Array.from(h)},[s,e]),m=v.useMemo(()=>i.filter(h=>!f.includes(h)),[i,f]),p=v.useMemo(()=>Array.from(new Set([...f,...i])),[f,i]),x=v.useCallback(()=>{a([]),o([])},[]),b=v.useCallback((h,y)=>{a(h),o(y)},[]);return{selectedRoles:s,selectedPermissions:i,handleRoleChange:c,handlePermissionChange:d,isRoleSelected:u,isPermissionSelected:l,roleBasedPermissions:f,manualPermissions:m,allEffectivePermissions:p,resetSelections:x,setSelections:b}},P_=({totalItems:e,itemsPerPage:t,initialPage:r=1})=>{const[s,a]=v.useState(r),i=v.useMemo(()=>{const x=Math.max(1,Math.ceil(e/t)),b=Math.min(Math.max(1,s),x);return{totalPages:x,currentPage:b,totalItems:e,hasNextPage:b<x,hasPrevPage:b>1}},[e,t,s]),o=v.useCallback(x=>{const b=Math.ceil(e/t),h=Math.min(Math.max(1,x),b);a(h)},[e,t]),c=v.useCallback(()=>{i.hasNextPage&&o(s+1)},[i.hasNextPage,s,o]),d=v.useCallback(()=>{i.hasPrevPage&&o(s-1)},[i.hasPrevPage,s,o]),u=v.useCallback(()=>{o(1)},[o]),l=v.useCallback(()=>{o(i.totalPages)},[i.totalPages,o]),f=v.useCallback(x=>{const b=(i.currentPage-1)*t,h=b+t;return x.slice(b,h)},[i.currentPage,t]),m=v.useCallback(()=>{const x=(i.currentPage-1)*t+1,b=Math.min(i.currentPage*t,e);return{startItem:x,endItem:b,totalItems:e}},[i.currentPage,t,e]),p=v.useCallback(()=>{a(1)},[]);return{paginationInfo:i,currentPage:i.currentPage,totalPages:i.totalPages,hasNextPage:i.hasNextPage,hasPrevPage:i.hasPrevPage,handlePageChange:o,goToNextPage:c,goToPrevPage:d,goToFirstPage:u,goToLastPage:l,getCurrentPageItems:f,getPaginationRange:m,resetToFirstPage:p}},$fe={name:et().min(1,"Full name is required").min(2,"Full name must be at least 2 characters").max(100,"Full name must not exceed 100 characters").regex(/^[a-zA-Z\s]+$/,"Full name can only contain letters and spaces"),email:et().min(1,"Email address is required").email("Please enter a valid email address").max(255,"Email address must not exceed 255 characters"),roles:hr(et()),permissions:hr(et())},Sjt={password:et().min(8,"Password must be at least 8 characters").max(128,"Password must not exceed 128 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter, one lowercase letter, and one number"),password_confirmation:et().min(1,"Please confirm your password")},Njt={password:et().optional().refine(e=>!e||e.trim()===""?!0:e.length>=8,"Password must be at least 8 characters").refine(e=>!e||e.trim()===""?!0:e.length<=128,"Password must not exceed 128 characters").refine(e=>!e||e.trim()===""?!0:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(e),"Password must contain at least one uppercase letter, one lowercase letter, and one number"),password_confirmation:et().optional()},Cjt=Dt({...$fe,...Sjt}).refine(e=>e.password===e.password_confirmation,{message:"Passwords don't match",path:["password_confirmation"]}),_jt=Dt({...$fe,...Njt}).refine(e=>e.password&&e.password.trim()!==""?e.password===e.password_confirmation:!0,{message:"Passwords don't match",path:["password_confirmation"]}),Ejt=()=>{const e=Vt(),t=pbt(),{roles:r,loading:s}=cl(),{permissions:a,loading:i}=Mx(),o=Da({resolver:Qa(Cjt),defaultValues:{name:"",email:"",password:"",password_confirmation:"",roles:[],permissions:[]}}),c=r||[],d=a||[],{selectedRoles:u,selectedPermissions:l,handleRoleChange:f,handlePermissionChange:m,roleBasedPermissions:p}=Ffe({roles:c,initialSelectedRoles:o.watch("roles"),initialSelectedPermissions:o.watch("permissions")}),x=6,b=P_({totalItems:c.length,itemsPerPage:x,initialPage:1}),h=P_({totalItems:d.length,itemsPerPage:x,initialPage:1});te.useEffect(()=>{o.setValue("roles",u),o.setValue("permissions",l)},[u,l,o]);const y=b.getCurrentPageItems(c),w=h.getCurrentPageItems(d),S=v.useCallback(async _=>{try{await t.createUser({name:_.name,email:_.email,password:_.password,password_confirmation:_.password_confirmation,roles:_.roles,permissions:_.permissions}),e("/user-management")}catch(k){console.error("Failed to create user:",k)}},[t,e]),N=v.useCallback(()=>{e("/user-management")},[e]);return n.jsx(Zt,{title:"Create New User",subtitle:"Add a new user to the system with roles and permissions",backButton:{show:!0},children:n.jsx(Co,{...o,children:n.jsxs("form",{onSubmit:o.handleSubmit(S),className:"space-y-6 sm:space-y-8 max-w-full",children:[n.jsx(v$,{form:o,isEditMode:!1,showPasswordFields:!0}),n.jsx(y$,{roles:y,selectedRoles:u,onRoleChange:f,isLoading:s,paginationInfo:b.paginationInfo,onPageChange:b.handlePageChange}),n.jsx(b$,{permissions:w,selectedPermissions:l,roleBasedPermissions:p,onPermissionChange:m,isLoading:i,paginationInfo:h.paginationInfo,onPageChange:h.handlePageChange}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end gap-3 sm:gap-4 pt-6 sm:pt-8 px-4 sm:px-2 lg:px-0 border-t border-border",children:[n.jsx(W,{type:"button",variant:"outline",onClick:N,disabled:o.formState.isSubmitting,className:"w-full sm:w-auto h-11 sm:h-12 text-sm sm:text-base font-medium transition-all duration-200 hover:scale-105 border-border bg-background text-foreground",children:"Cancel"}),n.jsx(W,{type:"submit",disabled:o.formState.isSubmitting||s||i,className:"w-full sm:w-auto min-w-[140px] sm:min-w-[160px] h-11 sm:h-12 text-sm sm:text-base font-medium transition-all duration-200 hover:scale-105 shadow-lg bg-primary text-primary-foreground border-primary",children:o.formState.isSubmitting?n.jsxs(n.Fragment,{children:[n.jsx(at,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5 animate-spin text-primary-foreground"}),n.jsx("span",{className:"text-sm sm:text-base",children:"Creating..."})]}):n.jsx("span",{className:"text-sm sm:text-base",children:"Create User"})})]})]})})})},kjt=()=>{const e=Vt(),{id:t}=Sn(),r=parseInt(t||"0",10),{user:s,loading:a,error:i}=zde(r),{updateUser:o,error:c}=gbt(),d=Da({resolver:Qa(_jt),defaultValues:{name:"",email:"",password:"",password_confirmation:"",roles:[],permissions:[]},mode:"onBlur"}),{handleSubmit:u,setValue:l,formState:{isSubmitting:f}}=d,m=cl(!0),p=Mx(!0),x=m.roles||[],b=p.permissions||[],h=m.loading,y=p.loading,w=Ffe({roles:x,initialSelectedRoles:[],initialSelectedPermissions:[]}),S=P_({totalItems:x.length,itemsPerPage:8,initialPage:1}),N=P_({totalItems:b.length,itemsPerPage:12,initialPage:1}),[_,k]=v.useState(!1),E=S.getCurrentPageItems(x),T=N.getCurrentPageItems(b);v.useEffect(()=>{_&&(l("roles",Array.from(w.selectedRoles)),l("permissions",Array.from(w.selectedPermissions)))},[w.selectedRoles,w.selectedPermissions,_,l]),v.useEffect(()=>{if(s&&!_){l("name",s.name||""),l("email",s.email||""),l("password",""),l("password_confirmation","");const P=s.roles?.map(B=>B.name)||[],M=s.permissions?.map(B=>B.name)||[];P.forEach(B=>{w.handleRoleChange(B,!0)});const R=new Set;s.roles?.forEach(B=>{B.permissions?.forEach(L=>{R.add(L.name)})}),M.forEach(B=>{R.has(B)||w.handlePermissionChange(B,!0)}),k(!0)}},[s,_,l,w]);const D=async P=>{const M={name:P.name,email:P.email,roles:P.roles,permissions:P.permissions};P.password&&P.password.trim()!==""&&(M.password=P.password,M.password_confirmation=P.password_confirmation);try{await o(r,M),e("/user-management")}catch(R){console.error("Failed to update user:",R)}};return a?n.jsx(Zt,{title:"Edit User",subtitle:"Update user information and permissions",backButton:{show:!0},children:n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx(at,{className:"h-8 w-8 animate-spin mr-3 text-muted-foreground"}),n.jsx("span",{className:"text-lg text-muted-foreground",children:"Loading user..."})]})}):i||!s?n.jsx(Zt,{title:"Edit User",subtitle:"Update user information and permissions",backButton:{show:!0},children:n.jsxs(Ge,{className:"mb-6 border-destructive bg-destructive/10",children:[n.jsx(Je,{className:"h-4 w-4 text-destructive"}),n.jsx(Ye,{className:"text-destructive",children:i||"User not found"})]})}):n.jsxs(Zt,{title:"Edit User",subtitle:"Update user information and permissions",backButton:{show:!0},children:[c&&n.jsxs(Ge,{className:"mb-6 border-destructive bg-destructive/10",children:[n.jsx(Je,{className:"h-4 w-4 text-destructive"}),n.jsx(Ye,{className:"text-destructive",children:c})]}),n.jsx(Co,{...d,children:n.jsxs("form",{onSubmit:u(D),className:"space-y-6 sm:space-y-8 max-w-full",children:[n.jsx(v$,{form:d,isEditMode:!0,showPasswordFields:!0}),n.jsx(y$,{roles:E,isLoading:h,selectedRoles:w.selectedRoles,onRoleChange:w.handleRoleChange,paginationInfo:S.paginationInfo,onPageChange:S.handlePageChange}),n.jsx(b$,{permissions:T,isLoading:y,selectedPermissions:w.selectedPermissions,roleBasedPermissions:w.roleBasedPermissions,onPermissionChange:w.handlePermissionChange,paginationInfo:N.paginationInfo,onPageChange:N.handlePageChange}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end gap-3 sm:gap-4 pt-6 sm:pt-8 px-4 sm:px-2 lg:px-0 border-t border-border",children:[n.jsx(W,{type:"button",variant:"outline",onClick:()=>e("/user-management"),disabled:f,className:"w-full sm:w-auto h-11 sm:h-12 text-sm sm:text-base font-medium transition-all duration-200 hover:scale-105 border-border bg-background text-foreground",children:"Cancel"}),n.jsx(W,{type:"submit",disabled:f||h||y||!_,className:"w-full sm:w-auto min-w-[140px] sm:min-w-[160px] h-11 sm:h-12 text-sm sm:text-base font-medium transition-all duration-200 hover:scale-105 shadow-lg bg-primary text-primary-foreground border-primary",children:f?n.jsxs(n.Fragment,{children:[n.jsx(at,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5 animate-spin text-primary-foreground"}),n.jsx("span",{className:"text-sm sm:text-base",children:"Updating..."})]}):n.jsx("span",{className:"text-sm sm:text-base",children:"Update User"})})]})]})})]})},Ajt=({user:e,formattedData:t})=>n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"bg-card border-border",children:n.jsx(je,{className:"pt-4 sm:pt-5 md:pt-6 p-4 sm:p-5 md:p-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4 sm:gap-6",children:[n.jsx("div",{className:"h-16 w-16 sm:h-18 sm:w-18 md:h-20 md:w-20 rounded-full flex items-center justify-center text-lg sm:text-xl md:text-2xl font-bold mx-auto sm:mx-0 bg-primary/10 text-primary",children:t?.initials}),n.jsxs("div",{className:"flex-1 space-y-2 text-center sm:text-left",children:[n.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-card-foreground",children:t?.displayName}),n.jsxs("div",{className:"flex items-center gap-2 justify-center sm:justify-start text-muted-foreground",children:[n.jsx(sl,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm sm:text-base",children:t?.formattedEmail})]}),n.jsx("div",{className:"flex items-center gap-2 justify-center sm:justify-start",children:n.jsx(Ae,{variant:e.email_verified_at?"default":"secondary",className:"text-xs sm:text-sm",children:t?.verificationStatus})})]})]})})}),n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-5 md:gap-6",children:n.jsxs(oe,{className:"bg-card border-border",children:[n.jsx(Re,{className:"pb-3 sm:pb-4",children:n.jsxs(qe,{className:"flex items-center gap-2 text-base sm:text-lg text-card-foreground",children:[n.jsx(Xa,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Account Information"]})}),n.jsxs(je,{className:"space-y-3 sm:space-y-4 p-4 sm:p-5 md:p-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"User ID"}),n.jsx("p",{className:"text-sm sm:text-base mt-1 text-card-foreground",children:e.id})]}),n.jsx(Hs,{className:"bg-border"}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Created"}),n.jsxs("p",{className:"text-sm sm:text-base mt-1 flex items-center gap-2 text-card-foreground",children:[n.jsx(bn,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"}),t?.createdAt]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Last Updated"}),n.jsx("p",{className:"text-sm sm:text-base mt-1 text-card-foreground",children:t?.updatedAt})]})]})]})})]}),Tjt=({user:e,formattedData:t})=>{const[r,s]=v.useState(new Set),a=v.useCallback(c=>{s(d=>{const u=new Set(d);return u.has(c)?u.delete(c):u.add(c),u})},[]),i=v.useMemo(()=>!e?.roles||e.roles.length===0?n.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"No roles assigned"}):e.roles.map(c=>n.jsxs("div",{className:"border border-border rounded-lg p-3 bg-muted/50",children:[n.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>a(c.id),children:[n.jsx(Ae,{variant:"outline",className:"text-xs sm:text-sm px-2 py-1",children:c.name}),c.permissions&&c.permissions.length>0&&n.jsx("button",{className:"text-muted-foreground hover:text-foreground",children:r.has(c.id)?n.jsx(NE,{className:"h-4 w-4"}):n.jsx(Eo,{className:"h-4 w-4"})})]}),r.has(c.id)&&c.permissions&&n.jsxs("div",{className:"mt-3 pt-3 border-t border-border",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Permissions (",c.permissions.length,")"]}),n.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2",children:c.permissions.map(d=>n.jsx(Ae,{variant:"secondary",className:"text-xs px-2 py-1",children:d.name},d.id))})]}),!c.permissions||c.permissions.length===0?n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"No permissions assigned to this role"}):null]},c.id)),[e?.roles,r,a]),o=v.useMemo(()=>!e?.permissions||e.permissions.length===0?n.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"No direct permissions"}):e.permissions.map(c=>n.jsx(Ae,{variant:"secondary",className:"text-xs sm:text-sm px-2 py-1",children:c.name},c.id)),[e?.permissions]);return n.jsxs(oe,{className:"bg-card border-border",children:[n.jsx(Re,{className:"pb-3 sm:pb-4",children:n.jsxs(qe,{className:"flex items-center gap-2 text-base sm:text-lg text-card-foreground",children:[n.jsx(ws,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Roles & Permissions"]})}),n.jsxs(je,{className:"space-y-3 sm:space-y-4 p-4 sm:p-5 md:p-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:["Roles (",t?.roleCount,")"]}),n.jsx("div",{className:"space-y-3 mt-2",children:i})]}),n.jsx(Hs,{className:"bg-border"}),n.jsxs("div",{children:[n.jsxs("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:["Direct Permissions (",t?.permissionCount,")"]}),n.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 mt-2",children:o})]})]})]})},Djt=({user:e,formattedData:t})=>{const r=v.useMemo(()=>!e?.stores||e.stores.length===0?n.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No store access assigned"}):e.stores.map(s=>n.jsxs("div",{className:"rounded-lg p-3 sm:p-4 border border-border bg-muted",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-3 mb-3",children:[n.jsx("h4",{className:"font-semibold text-sm sm:text-base text-card-foreground",children:s.store.name}),n.jsx(Ae,{variant:"outline",className:"text-xs sm:text-sm px-2 py-1 w-fit",children:s.store.id})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Store Roles"}),n.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 mt-1",children:s.roles.map(a=>n.jsx(Ae,{variant:"secondary",className:"text-xs sm:text-sm px-2 py-1",children:a.name},a.id))})]})]},s.store.id)),[e?.stores]);return n.jsxs(oe,{className:"lg:col-span-2 bg-card border-border",children:[n.jsx(Re,{className:"pb-3 sm:pb-4",children:n.jsxs(qe,{className:"flex items-center gap-2 text-base sm:text-lg text-card-foreground",children:[n.jsx(Ti,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Store Access (",t?.storeCount,")"]})}),n.jsx(je,{className:"p-4 sm:p-5 md:p-6",children:e.stores&&e.stores.length>0?n.jsx("div",{className:"space-y-3 sm:space-y-4",children:r}):n.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No store access assigned"})})]})},Pjt=()=>{const e=Vt(),{id:t}=Sn(),r=v.useMemo(()=>{if(!t)return;const u=parseInt(t,10);return isNaN(u)?void 0:u},[t]),{user:s,loading:a,error:i,formattedData:o}=zde(r),c=v.useCallback(()=>{e(`/user-management/edit/user/${r}`)},[e,r]),d=v.useMemo(()=>n.jsxs(W,{onClick:c,className:"flex items-center gap-2 bg-primary text-primary-foreground hover:bg-primary/90",children:[n.jsx(Pa,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm sm:text-base",children:"Edit User"})]}),[c]);return a?n.jsx(Zt,{title:"User Details",subtitle:"View all information about this user",backButton:{show:!0},children:n.jsxs("div",{className:"flex items-center justify-center py-8 sm:py-10 md:py-12 lg:py-16",children:[n.jsx(at,{className:"h-6 w-6 sm:h-7 sm:w-7 md:h-8 md:w-8 animate-spin text-primary"}),n.jsx("span",{className:"ml-2 text-sm sm:text-base text-foreground",children:"Loading user..."})]})}):i||!s?n.jsx(Zt,{title:"User Details",subtitle:"View all information about this user",backButton:{show:!0},children:n.jsx("div",{className:"text-center py-3 sm:py-4 text-sm sm:text-base text-destructive",children:i||"User not found"})}):n.jsxs(Zt,{title:"User Details",subtitle:"View all information about this user",backButton:{show:!0},mainButtons:d,children:[n.jsx(Ajt,{user:s,formattedData:o}),n.jsx(Tjt,{user:s,formattedData:o}),n.jsx(Djt,{user:s,formattedData:o})]})},Rjt=({permissions:e,selectedPermissions:t,onPermissionChange:r,loading:s,validationError:a})=>{const i=(d,u)=>{const l=u?[...t,d]:t.filter(f=>f!==d);r(l)},o=()=>{const d=e.map(u=>u.name);r(d)},c=()=>{r([])};return n.jsxs(oe,{className:"bg-card border-border shadow-sm",children:[n.jsx(Re,{className:"pb-3 sm:pb-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(qe,{className:"text-lg sm:text-xl text-card-foreground",children:"Permissions"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Select permissions for this role"})]}),!s&&e.length>0&&n.jsxs("div",{className:"flex gap-2",children:[n.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:o,className:"text-xs",children:"Select All"}),n.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:c,className:"text-xs",children:"Deselect All"})]})]})}),n.jsxs(je,{children:[s?n.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[n.jsx(at,{className:"h-4 w-4 animate-spin mr-2 text-primary"}),n.jsx("span",{className:"text-muted-foreground",children:"Loading permissions..."})]}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 max-h-60 sm:max-h-80 overflow-y-auto border border-border rounded-md p-3 sm:p-4 bg-background/50",children:e.map(d=>n.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3 space-y-0 p-2 rounded-md hover:bg-accent/50 transition-colors",children:[n.jsx(dt,{id:`permission-${d.id}`,checked:t.includes(d.name),onCheckedChange:u=>i(d.name,u),className:"border-border data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),n.jsx("div",{className:"grid gap-1.5 leading-none flex-1",children:n.jsx(Q,{htmlFor:`permission-${d.id}`,className:"text-sm font-medium leading-none text-foreground cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:d.name})})]},d.id))}),a&&n.jsx("p",{className:"text-sm text-destructive mt-2",children:a}),t.length>0&&n.jsxs("div",{className:"mt-4 p-3 sm:p-4 bg-muted rounded-lg border border-border",children:[n.jsxs("p",{className:"text-sm font-medium mb-2 text-muted-foreground",children:["Selected permissions (",t.length,"):"]}),n.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:t.map(d=>n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-primary/10 text-primary text-xs font-medium border border-primary/20",children:d},d))})]})]})]})},Mjt=Dt({name:et().min(1,"Role name is required").min(2,"Role name must be at least 2 characters").max(50,"Role name must be less than 50 characters").regex(/^[a-zA-Z0-9\s-_]+$/,"Role name can only contain letters, numbers, spaces, hyphens, and underscores"),guard_name:OAe(rE),permissions:hr(et()).min(1,"At least one permission must be selected")}),Ojt=()=>{const e=Vt(),{createRole:t,loading:r,error:s}=Mwt(),{permissions:a,loading:i}=Mx(),{register:o,handleSubmit:c,control:d,formState:{errors:u,isSubmitting:l}}=Da({resolver:Qa(Mjt),defaultValues:{name:"",guard_name:rE.WEB,permissions:[]},mode:"onChange"}),f=()=>{e("/user-management")},m=async p=>{try{const x={name:p.name.trim(),guard_name:p.guard_name,permissions:p.permissions};await t(x),e("/user-management")}catch(x){console.error("Failed to create role:",x)}};return n.jsxs(Zt,{title:"Create Role",subtitle:"Add a new role to the system",backButton:{show:!0},children:[s&&n.jsxs(Ge,{variant:"destructive",className:"border-destructive bg-destructive/10",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{className:"text-destructive-foreground",children:s})]}),n.jsxs("form",{onSubmit:c(m),className:"space-y-4 sm:space-y-6",children:[n.jsxs(oe,{className:"bg-card border-border shadow-sm",children:[n.jsx(Re,{className:"pb-3 sm:pb-6",children:n.jsx(qe,{className:"text-lg sm:text-xl text-card-foreground",children:"Role Information"})}),n.jsx(je,{className:"space-y-3 sm:space-y-4",children:n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{htmlFor:"name",className:"text-sm font-medium text-foreground",children:"Role Name *"}),n.jsx(ne,{id:"name",type:"text",...o("name"),placeholder:"Enter role name (e.g., Manager, Editor)",className:`bg-background border-input text-foreground placeholder:text-muted-foreground ${u.name?"border-destructive focus:ring-destructive":"focus:ring-ring"}`}),u.name&&n.jsx("p",{className:"text-sm text-destructive",children:u.name.message})]})})})]}),n.jsx(u$,{name:"permissions",control:d,render:({field:{value:p,onChange:x}})=>n.jsx(Rjt,{permissions:a,selectedPermissions:p,onPermissionChange:x,loading:i,validationError:u.permissions?.message})}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end space-y-2 sm:space-y-0 sm:space-x-4 pt-4 sm:pt-6",children:[n.jsx(W,{type:"button",variant:"outline",onClick:f,disabled:l,className:"w-full sm:w-auto bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:"Cancel"}),n.jsx(W,{type:"submit",disabled:l||r,className:"w-full sm:w-auto min-w-[120px] bg-primary text-primary-foreground hover:bg-primary/90 focus:ring-ring",children:l?n.jsxs(n.Fragment,{children:[n.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Role"})]})]})]})},Ijt=({roles:e,permissions:t,onSuccess:r})=>{const{assignPermissions:s,loading:a,error:i,reset:o}=Owt(),{getUserProfile:c}=Gl(),[d,u]=v.useState(""),[l,f]=v.useState(new Set),[m,p]=v.useState(!1),[x,b]=v.useState({}),[h,y]=v.useState(""),w=v.useMemo(()=>d&&e.find(M=>M.id.toString()===d)||null,[d,e]),S=v.useMemo(()=>w?.permissions?new Set(w.permissions.map(M=>M.name)):new Set,[w]),N=v.useMemo(()=>t.filter(M=>!S.has(M.name)),[t,S]);v.useEffect(()=>{f(new Set),b({}),y(""),o()},[d,o]),v.useEffect(()=>{if(h){const M=setTimeout(()=>y(""),5e3);return()=>clearTimeout(M)}},[h]);const _=M=>{u(M)},k=(M,R)=>{f(B=>{const L=new Set(B);return R?L.add(M):L.delete(M),L}),x.permissions&&b(B=>({...B,permissions:""}))},E=()=>{const M=new Set(N.map(R=>R.name));f(M)},T=()=>{f(new Set)},D=()=>{const M={};return d||(M.role="Please select a role"),l.size===0&&(M.permissions="Please select at least one permission to assign"),b(M),Object.keys(M).length===0};return{selectedRoleId:d,selectedPermissions:l,isSubmitting:m,formErrors:x,successMessage:h,selectedRole:w,currentRolePermissions:S,availablePermissions:N,assignLoading:a,assignError:i,handleRoleChange:_,handlePermissionChange:k,handleSelectAll:E,handleClearAll:T,handleSubmit:async M=>{if(M.preventDefault(),!!D()){p(!0);try{await s(parseInt(d),Array.from(l)),y(`Successfully assigned ${l.size} permission(s) to ${w?.name}`),f(new Set),c(),r?.()}catch(R){console.error("Failed to assign permissions:",R),R.response?.status===403?b({permissions:"Insufficient permissions to assign these roles"}):R.response?.status===422?b({validation:R.response.data.errors||{}}):b({network:"Network error occurred. Please try again."})}finally{p(!1)}}},validateForm:D}},Fjt=({message:e})=>e?n.jsxs(Ge,{className:"border-primary/20 bg-primary/10",children:[n.jsx(ws,{className:"h-4 w-4 text-primary"}),n.jsx(Ye,{className:"text-primary",children:e})]}):null,$jt=({error:e})=>e?n.jsxs(Ge,{variant:"destructive",className:"border-destructive bg-destructive/10",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{className:"text-destructive-foreground",children:e})]}):null,Ljt=({roles:e,selectedRoleId:t,selectedRole:r,currentRolePermissions:s,rolesLoading:a,formErrors:i,onRoleChange:o})=>n.jsxs(oe,{className:"bg-card border-border shadow-sm",children:[n.jsxs(Re,{className:"pb-3 sm:pb-6",children:[n.jsx(qe,{className:"text-lg sm:text-xl text-card-foreground",children:"Select Role"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose the role to assign permissions to"})]}),n.jsxs(je,{className:"space-y-3 sm:space-y-4",children:[a?n.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[n.jsx(at,{className:"h-4 w-4 animate-spin mr-2 text-primary"}),n.jsx("span",{className:"text-muted-foreground",children:"Loading roles..."})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{htmlFor:"role-select",className:"text-sm font-medium text-foreground",children:"Role *"}),n.jsxs(xt,{value:t,onValueChange:o,children:[n.jsx(ft,{className:`bg-background border-input text-foreground ${i.role?"border-destructive focus:ring-destructive":"focus:ring-ring"}`,children:n.jsx(vt,{placeholder:"Select a role",className:"text-muted-foreground"})}),n.jsx(mt,{className:"bg-popover border-border",children:e.map(c=>n.jsx(Ue,{value:c.id.toString(),className:"text-popover-foreground hover:bg-accent hover:text-accent-foreground",children:n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsx("span",{children:c.name}),n.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[c.permissions?.length||0," permissions"]})]})},c.id))})]}),i.role&&n.jsx("p",{className:"text-sm text-destructive",children:i.role})]}),r&&s.size>0&&n.jsx(Bjt,{roleName:r.name,permissions:s})]})]}),Bjt=({permissions:e})=>n.jsxs("div",{className:"mt-4 p-3 sm:p-4 bg-muted rounded-lg border border-border",children:[n.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center gap-2 text-muted-foreground",children:[n.jsx(Ll,{className:"h-4 w-4"}),"Current Permissions (",e.size,")"]}),n.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:Array.from(e).map(t=>n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-secondary text-secondary-foreground border border-border",children:t},t))})]}),zjt=({selectedRole:e,availablePermissions:t,selectedPermissions:r,permissionsLoading:s,formErrors:a,onPermissionChange:i,onSelectAll:o,onClearAll:c})=>e?n.jsxs(oe,{className:"bg-card border-border shadow-sm",children:[n.jsx(Re,{className:"pb-3 sm:pb-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[n.jsxs("div",{children:[n.jsx(qe,{className:"text-lg sm:text-xl text-card-foreground",children:"Available Permissions"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Select permissions to assign to ",e.name]})]}),t.length>0&&n.jsx(Ujt,{selectedPermissions:r,availablePermissions:t,onSelectAll:o,onClearAll:c})]})}),n.jsxs(je,{children:[s?n.jsx(Hjt,{}):t.length===0?n.jsx(Vjt,{}):n.jsx(Wjt,{availablePermissions:t,selectedPermissions:r,onPermissionChange:i}),a.permissions&&n.jsx("p",{className:"text-sm text-destructive mt-2",children:a.permissions}),n.jsx(qjt,{count:r.size})]})]}):null,Ujt=({selectedPermissions:e,availablePermissions:t,onSelectAll:r,onClearAll:s})=>n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[n.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:r,disabled:e.size===t.length,className:"bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:"Select All"}),n.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:s,disabled:e.size===0,className:"bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:"Clear All"})]}),Hjt=()=>n.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[n.jsx(at,{className:"h-4 w-4 animate-spin mr-2 text-primary"}),n.jsx("span",{className:"text-muted-foreground",children:"Loading permissions..."})]}),Vjt=()=>n.jsxs("div",{className:"text-center py-8 sm:py-12 text-muted-foreground",children:[n.jsx(ws,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-sm sm:text-base",children:"All available permissions are already assigned to this role."})]}),Wjt=({availablePermissions:e,selectedPermissions:t,onPermissionChange:r})=>n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 max-h-60 sm:max-h-80 overflow-y-auto border border-border rounded-md p-3 sm:p-4 bg-background/50",children:e.map(s=>{const a=t.has(s.name);return n.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3 space-y-0 p-2 rounded-md hover:bg-accent/50 transition-colors",children:[n.jsx(dt,{id:`permission-${s.id}`,checked:a,onCheckedChange:i=>r(s.name,i),className:"border-border data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),n.jsxs("div",{className:"grid gap-1.5 leading-none flex-1",children:[n.jsx(Q,{htmlFor:`permission-${s.id}`,className:"text-sm font-medium leading-none text-foreground cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:s.name}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Guard: ",s.guard_name]})]})]},s.id)})}),qjt=({count:e})=>e===0?null:n.jsx("div",{className:"mt-4 p-3 sm:p-4 bg-primary/10 rounded-lg border border-primary/20",children:n.jsxs("p",{className:"text-sm text-primary font-medium",children:[e," permission(s) selected for assignment"]})}),Gjt=({isSubmitting:e,assignLoading:t,selectedRole:r,selectedPermissionsCount:s,onCancel:a})=>n.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end space-y-2 sm:space-y-0 sm:space-x-4 pt-4 sm:pt-6",children:[n.jsx(W,{type:"button",variant:"outline",onClick:a,disabled:e,className:"w-full sm:w-auto bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:"Cancel"}),n.jsx(W,{type:"submit",disabled:e||t||!r||s===0,className:"w-full sm:w-auto min-w-[140px] bg-primary text-primary-foreground hover:bg-primary/90 focus:ring-ring",children:e?n.jsxs(n.Fragment,{children:[n.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}),"Assigning..."]}):"Assign Permissions"})]}),Yjt=()=>{const e=Vt(),{roles:t,loading:r}=cl(),{permissions:s,loading:a}=Mx(),i=Ijt({roles:t,permissions:s,onSuccess:()=>{setTimeout(()=>{e("/user-management")},2e3)}}),o=()=>{e("/user-management")};return n.jsxs(Zt,{title:"Assign Permissions",subtitle:"Assign permissions to roles - users with these roles will inherit the permissions",backButton:{show:!0},children:[n.jsx(Fjt,{message:i.successMessage}),n.jsx($jt,{error:i.assignError}),n.jsxs("form",{onSubmit:i.handleSubmit,className:"space-y-4 sm:space-y-6",children:[n.jsx(Ljt,{roles:t,selectedRoleId:i.selectedRoleId,selectedRole:i.selectedRole,currentRolePermissions:i.currentRolePermissions,rolesLoading:r,formErrors:i.formErrors,onRoleChange:i.handleRoleChange}),n.jsx(zjt,{selectedRole:i.selectedRole,availablePermissions:i.availablePermissions,selectedPermissions:i.selectedPermissions,permissionsLoading:a,formErrors:i.formErrors,onPermissionChange:i.handlePermissionChange,onSelectAll:i.handleSelectAll,onClearAll:i.handleClearAll}),n.jsx(Gjt,{isSubmitting:i.isSubmitting,assignLoading:i.assignLoading,selectedRole:i.selectedRole,selectedPermissionsCount:i.selectedPermissions.size,onCancel:o})]})]})},Kjt=()=>{const e=Vt(),{createPermission:t,loading:r,error:s,reset:a,validateForm:i,formatForApi:o}=Hwt(),[c,d]=v.useState(null),[u,l]=v.useState({name:""}),[f,m]=v.useState({}),p=(w,S)=>{l(N=>({...N,[w]:S})),f[w]&&m(N=>({...N,[w]:void 0})),(s||c)&&(d(null),a())},x=()=>{const w={};return u.name.trim()?u.name.length<3&&(w.name="Permission name must be at least 3 characters"):w.name="Permission name is required",m(w),Object.keys(w).length===0},b=async w=>{if(w.preventDefault(),!!x()){d(null),a();try{const S={name:u.name,guard_name:"web"},N=i(S);if(!N.isValid){const _=Object.values(N.errors)[0];d(_);return}await t(o(S)),e("/user-management",{state:{message:"Permission created successfully!"}})}catch(S){const N=S instanceof Error?S.message:"Failed to create permission. Please try again.";d(N)}}},h=()=>{e(-1)},y=c||(s?"Failed to create permission. Please try again.":null);return n.jsxs(Zt,{title:"Create Permission",subtitle:"Add a new permission to the system",backButton:{show:!0},children:[y&&n.jsx(Ge,{variant:"destructive",className:"border-destructive bg-destructive/10 text-destructive",children:n.jsx(Ye,{className:"text-sm sm:text-base",children:y})}),n.jsxs("form",{onSubmit:b,className:"space-y-4 sm:space-y-6",children:[n.jsxs(oe,{className:"bg-card border-border shadow-sm hover:shadow-md transition-shadow",children:[n.jsxs(Re,{className:"pb-4 sm:pb-6",children:[n.jsxs(qe,{className:"flex items-center gap-2 text-lg sm:text-xl text-card-foreground",children:[n.jsx(O$e,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Permission Details"]}),n.jsx(Us,{className:"text-sm sm:text-base text-muted-foreground",children:"Enter the permission name"})]}),n.jsx(je,{className:"space-y-4 sm:space-y-6",children:n.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[n.jsx(Q,{htmlFor:"name",className:"text-sm sm:text-base font-medium text-foreground",children:"Permission Name *"}),n.jsx(ne,{id:"name",type:"text",placeholder:"e.g., manage-users, view-reports",value:u.name,onChange:w=>p("name",w.target.value),className:`bg-background border-input text-foreground placeholder:text-muted-foreground focus:ring-ring focus:border-ring transition-colors ${f.name?"border-destructive focus:border-destructive focus:ring-destructive":""}`,disabled:r}),f.name&&n.jsx("p",{className:"text-xs sm:text-sm text-destructive font-medium",children:f.name}),n.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Use lowercase letters, numbers, and hyphens only"})]})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end gap-3 sm:gap-4 pt-4 sm:pt-6",children:[n.jsx(W,{type:"button",variant:"outline",onClick:h,disabled:r,className:"order-2 sm:order-1 bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground transition-colors",children:"Cancel"}),n.jsx(W,{type:"submit",disabled:r,className:"order-1 sm:order-2 min-w-[120px] sm:min-w-[140px] bg-primary text-primary-foreground hover:bg-primary/90 transition-colors shadow-sm",children:r?n.jsxs(n.Fragment,{children:[n.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}),n.jsx("span",{className:"text-sm sm:text-base",children:"Creating..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(Yt,{className:"mr-2 h-4 w-4"}),n.jsx("span",{className:"text-sm sm:text-base",children:"Create Permission"})]})})]})]})]})},Zjt=[n.jsx(At,{path:"/user-management",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(qwt,{})})})})},"user-management"),n.jsx(At,{path:"/user-management/create/user",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(Ejt,{})})})})},"create-user"),n.jsx(At,{path:"/user-management/edit/user/:id",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(kjt,{})})})})},"edit-user"),n.jsx(At,{path:"/user-management/view/user/:id",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(Pjt,{})})})})},"view-user"),n.jsx(At,{path:"/user-management/create/role",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(Ojt,{})})})})},"create-role"),n.jsx(At,{path:"/user-management/roles/assign-permissions",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(Yjt,{})})})})},"assign-permissions"),n.jsx(At,{path:"/user-management/create/permission",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(Kjt,{})})})})},"create-permission")],Xjt=1,Jjt=1e6;let h4=0;function Qjt(){return h4=(h4+1)%Number.MAX_SAFE_INTEGER,h4.toString()}const p4=new Map,iK=e=>{if(p4.has(e))return;const t=setTimeout(()=>{p4.delete(e),xy({type:"REMOVE_TOAST",toastId:e})},Jjt);p4.set(e,t)},e1t=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Xjt)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?iK(r):e.toasts.forEach(s=>{iK(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},nC=[];let aC={toasts:[]};function xy(e){aC=e1t(aC,e),nC.forEach(t=>{t(aC)})}function t1t({...e}){const t=Qjt(),r=a=>xy({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>xy({type:"DISMISS_TOAST",toastId:t});return xy({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:r}}function Lfe(){const[e,t]=v.useState(aC);return v.useEffect(()=>(nC.push(t),()=>{const r=nC.indexOf(t);r>-1&&nC.splice(r,1)}),[e]),{...e,toast:t1t,dismiss:r=>xy({type:"DISMISS_TOAST",toastId:r})}}const w$=()=>{const e=ct(),t=se(x=>mSe(x)),r=se(x=>hSe(x)),s=se(x=>pSe(x)),a=se(x=>gSe(x)),i=se(x=>xSe(x)),o=se(x=>vSe(x)),c=v.useCallback(async x=>{try{await e(zS(x)).unwrap()}catch(b){console.error("Failed to fetch service clients:",b)}},[e]),d=v.useCallback(async x=>{try{return(await e(US(x)).unwrap()).token}catch(b){return console.error("Failed to create service client:",b),null}},[e]),u=v.useCallback(async(x,b)=>{try{return(await e(HS({clientId:x,data:b})).unwrap()).token}catch(h){return console.error("Failed to rotate service token:",h),null}},[e]),l=v.useCallback(async x=>{try{return await e(VS(x)).unwrap(),!0}catch(b){return console.error("Failed to toggle service status:",b),!1}},[e]),f=v.useCallback(x=>{e(dSe(x))},[e]),m=v.useCallback(()=>{e(uSe())},[e]),p=v.useCallback(()=>{e(fSe())},[e]);return{clients:t,pagination:r,loading:s,errors:a,selectedClient:i,lastCreatedToken:o,fetchClients:c,createClient:d,rotateToken:u,toggleStatus:l,selectClient:f,clearErrors:m,clearLastCreatedToken:p}},r1t=({errors:e})=>!e.fetch&&!e.create&&!e.rotate&&!e.toggle?null:n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:e.fetch||e.create||e.rotate||e.toggle||"An error occurred"})]}),s1t=({loading:e,onRefresh:t,onCreateClick:r})=>n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[n.jsx(qe,{className:"text-lg sm:text-xl text-card-foreground",children:"Service Clients"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:t,disabled:e,className:"flex items-center gap-2 bg-secondary text-secondary-foreground border-border hover:bg-secondary/80 disabled:opacity-60",children:[n.jsx(Zr,{className:`h-4 w-4 ${e?"animate-spin":""}`}),n.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]}),n.jsxs(W,{onClick:r,className:"flex items-center justify-center gap-2 text-sm bg-primary text-primary-foreground shadow-sm hover:bg-primary/90",children:[n.jsx(Yt,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden xs:inline",children:"Create Client"}),n.jsx("span",{className:"xs:hidden",children:"Create"})]})]})]}),oK=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"}):"Never expires",n1t=({client:e,loading:t,onToggleStatus:r,onRotateToken:s})=>n.jsxs(Nt,{className:"border-border bg-card hover:bg-muted/50",children:[n.jsx(Ee,{className:"font-medium text-xs sm:text-sm p-2 sm:p-4 text-foreground",children:n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("div",{className:"text-xs sm:text-sm font-medium truncate text-foreground",title:e.name,children:e.name}),e.notes&&n.jsx("div",{className:"text-xs mt-1 truncate text-muted-foreground",title:e.notes,children:e.notes}),n.jsxs("div",{className:"sm:hidden mt-1 space-y-1",children:[n.jsx(Ae,{variant:e.is_active?"default":"secondary",className:"text-xs px-1 py-0.5",children:e.is_active?"Active":"Inactive"}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Expires: ",oK(e.expires_at)]})]})]})}),n.jsx(Ee,{className:"p-2 sm:p-4 hidden sm:table-cell",children:n.jsx(Ae,{variant:e.is_active?"default":"secondary",className:"text-xs px-2 py-1",children:e.is_active?"Active":"Inactive"})}),n.jsx(Ee,{className:"p-2 sm:p-4 hidden md:table-cell text-xs sm:text-sm text-foreground",children:oK(e.expires_at)}),n.jsx(Ee,{className:"text-right p-2 sm:p-4",children:n.jsxs("div",{className:"flex items-center justify-end gap-1 sm:gap-2",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:()=>s(e),disabled:t.rotating,className:"text-xs px-2 sm:px-3 bg-secondary text-secondary-foreground border-border hover:bg-secondary/80",children:[n.jsx(g3,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-1"}),n.jsx("span",{className:"hidden sm:inline",children:"Rotate"})]}),n.jsxs(W,{variant:e.is_active?"destructive":"default",size:"sm",onClick:()=>r(e),disabled:t.toggling,className:"text-xs px-2 sm:px-3",children:[n.jsx(vLe,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-1"}),n.jsx("span",{className:"hidden sm:inline",children:e.is_active?"Deactivate":"Activate"}),n.jsx("span",{className:"sm:hidden",children:e.is_active?"Off":"On"})]})]})})]},e.id),a1t=({clients:e,loading:t,onToggleStatus:r,onRotateToken:s})=>t.fetching?n.jsx("div",{className:"flex items-center justify-center h-48 sm:h-64 bg-card",children:n.jsx(af,{message:"Loading service clients...",size:"medium",className:"h-48 sm:h-64 bg-card text-muted-foreground"})}):e.length?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Xr,{className:"min-w-full",children:[n.jsx(Jr,{className:"bg-muted border-b border-border",children:n.jsxs(Nt,{className:"border-border",children:[n.jsx(De,{className:"min-w-[8rem] text-xs sm:text-sm text-foreground font-semibold",children:"Name"}),n.jsx(De,{className:"min-w-[4rem] text-xs sm:text-sm hidden sm:table-cell text-foreground font-semibold",children:"Status"}),n.jsx(De,{className:"min-w-[6rem] text-xs sm:text-sm hidden md:table-cell text-foreground font-semibold",children:"Expires"}),n.jsx(De,{className:"min-w-[6rem] text-xs sm:text-sm text-right text-foreground font-semibold",children:"Actions"})]})}),n.jsx(Qr,{children:e.map(a=>n.jsx(n1t,{client:a,loading:t,onToggleStatus:r,onRotateToken:s},a.id))})]})}):n.jsx("div",{className:"text-center py-6 sm:py-8 bg-card",children:n.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No service clients found."})}),i1t=({pagination:e,perPage:t,perPageOptions:r,loading:s,onPerPageChange:a,onPageChange:i})=>n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Show"}),n.jsxs(xt,{value:t.toString(),onValueChange:a,disabled:s,children:[n.jsx(ft,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:n.jsx(vt,{})}),n.jsx(mt,{className:"bg-popover border-border",children:r.map(o=>n.jsx(Ue,{value:o.toString(),children:o},o))})]}),n.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"per page"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(W,{variant:"outline",size:"sm",onClick:()=>i(e.current_page-1),disabled:s||e.current_page<=1,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Prev"}),n.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground",children:["Page ",e.current_page," of ",e.last_page]}),n.jsx(W,{variant:"outline",size:"sm",onClick:()=>i(e.current_page+1),disabled:s||e.current_page>=e.last_page,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Next"})]}),n.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground",children:[n.jsxs("span",{className:"hidden sm:inline",children:[e.from," to ",e.to," of ",e.total," ","clients"]}),n.jsxs("span",{className:"sm:hidden",children:[e.from,"-",e.to," of ",e.total]})]})]}),Ht=v.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:X("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));Ht.displayName="Textarea";var gk="Switch",[o1t,R3t]=cn(gk),[l1t,c1t]=o1t(gk),Bfe=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:s,checked:a,defaultChecked:i,required:o,disabled:c,value:d="on",onCheckedChange:u,form:l,...f}=e,[m,p]=v.useState(null),x=bt(t,S=>p(S)),b=v.useRef(!1),h=m?l||!!m.closest("form"):!0,[y,w]=Di({prop:a,defaultProp:i??!1,onChange:u,caller:gk});return n.jsxs(l1t,{scope:r,checked:y,disabled:c,children:[n.jsx(nt.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":Vfe(y),"data-disabled":c?"":void 0,disabled:c,value:d,...f,ref:x,onClick:Lt(e.onClick,S=>{w(N=>!N),h&&(b.current=S.isPropagationStopped(),b.current||S.stopPropagation())})}),h&&n.jsx(Hfe,{control:m,bubbles:!b.current,name:s,value:d,checked:y,required:o,disabled:c,form:l,style:{transform:"translateX(-100%)"}})]})});Bfe.displayName=gk;var zfe="SwitchThumb",Ufe=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...s}=e,a=c1t(zfe,r);return n.jsx(nt.span,{"data-state":Vfe(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});Ufe.displayName=zfe;var d1t="SwitchBubbleInput",Hfe=v.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:s=!0,...a},i)=>{const o=v.useRef(null),c=bt(o,i),d=Nw(r),u=hx(t);return v.useEffect(()=>{const l=o.current;if(!l)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==r&&p){const x=new Event("click",{bubbles:s});p.call(l,r),l.dispatchEvent(x)}},[d,r,s]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:c,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Hfe.displayName=d1t;function Vfe(e){return e?"checked":"unchecked"}var Wfe=Bfe,u1t=Ufe;const ys=v.forwardRef(({className:e,...t},r)=>n.jsx(Wfe,{className:X("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:n.jsx(u1t,{className:X("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ys.displayName=Wfe.displayName;const g4={name:"",is_active:!0,expires_at:"",notes:""},I1=500,f1t=7,m1t=({open:e,onOpenChange:t,onSuccess:r})=>{const{createClient:s,loading:a}=w$(),[i,o]=v.useState(g4),[c,d]=v.useState({}),[u,l]=v.useState(null),f=v.useMemo(()=>{const _={};return i.name.trim()?i.name.trim().length<2&&(_.name="Name must be at least 2 characters long"):_.name="Name is required",i.expires_at&&new Date(i.expires_at)<=new Date&&(_.expires_at="Expiration date must be in the future"),i.notes&&i.notes.length>I1&&(_.notes=`Notes must be ${I1} characters or less`),_},[i]);v.useEffect(()=>{d(f)},[f]);const m=v.useCallback(()=>Object.keys(f).length===0,[f]),p=v.useCallback(_=>{const k=_.target.value;o(E=>({...E,name:k}))},[]),x=v.useCallback(_=>{o(k=>({...k,is_active:_}))},[]),b=v.useCallback(_=>{const k=_.target.value;o(E=>({...E,expires_at:k}))},[]),h=v.useCallback(_=>{const k=_.target.value;o(E=>({...E,notes:k}))},[]),y=v.useCallback(()=>{o(g4),d({}),l(null),t(!1)},[t]),w=async _=>{if(_.preventDefault(),l(null),!!m()){if(i.expires_at){const k=new Date(i.expires_at),E=Math.ceil((k.getTime()-Date.now())/(1e3*60*60*24));if(E<=f1t){const T=E===1?"This token will expire tomorrow. Continue?":`This token will expire in ${E} days. Continue?`;if(!window.confirm(T))return}}try{const k=await s({...i,name:i.name.trim(),expires_at:i.expires_at||null});k&&(o(g4),d({}),l(null),t(!1),r?.(k))}catch(k){console.error("Failed to create service client:",k),l("Failed to create service client. Please try again.")}}},S=I1-i.notes.length,N=a.creating;return n.jsx(Ur,{open:e,onOpenChange:t,children:n.jsxs(Er,{className:"sm:max-w-[425px] mx-2 sm:mx-0 max-h-[90vh] overflow-y-auto",children:[n.jsxs(kr,{children:[n.jsx(Ar,{className:"text-lg sm:text-xl",children:"Create Service Client"}),n.jsx(as,{className:"text-sm sm:text-base",children:"Create a new API service client with authentication token"})]}),u&&n.jsx(Ge,{variant:"destructive",children:n.jsx(Ye,{children:u})}),n.jsxs("form",{onSubmit:w,className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{children:[n.jsxs(Q,{htmlFor:"name",className:"text-sm sm:text-base",children:["Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(ne,{id:"name",value:i.name,onChange:p,placeholder:"Enter service client name",className:`mt-1 ${c.name?"border-red-500 focus:border-red-500":""}`,"aria-describedby":c.name?"name-error":void 0}),c.name&&n.jsx("p",{id:"name-error",className:"text-red-500 text-xs mt-1",children:c.name})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ys,{id:"is_active",checked:i.is_active,onCheckedChange:x}),n.jsx(Q,{htmlFor:"is_active",className:"text-sm sm:text-base",children:"Active"})]}),n.jsxs("div",{children:[n.jsx(Q,{htmlFor:"expires_at",className:"text-sm sm:text-base",children:"Expires At (Optional)"}),n.jsx(ne,{id:"expires_at",type:"date",value:i.expires_at,onChange:b,className:`mt-1 ${c.expires_at?"border-red-500 focus:border-red-500":""}`,"aria-describedby":c.expires_at?"expires-error":void 0}),c.expires_at&&n.jsx("p",{id:"expires-error",className:"text-red-500 text-xs mt-1",children:c.expires_at})]}),n.jsxs("div",{children:[n.jsx(Q,{htmlFor:"notes",className:"text-sm sm:text-base",children:"Notes"}),n.jsx(Ht,{id:"notes",value:i.notes,onChange:h,placeholder:"Enter notes about this service client",rows:3,className:`mt-1 resize-none ${c.notes?"border-red-500 focus:border-red-500":""}`,maxLength:I1,"aria-describedby":c.notes?"notes-error":"notes-count"}),n.jsxs("div",{className:"flex justify-between items-center mt-1",children:[c.notes?n.jsx("p",{id:"notes-error",className:"text-red-500 text-xs",children:c.notes}):n.jsx("span",{}),n.jsxs("span",{id:"notes-count",className:`text-xs ${S<50?"text-orange-500":"text-gray-500"}`,children:[S," characters remaining"]})]})]}),n.jsxs(Hr,{className:"flex flex-col sm:flex-row gap-2 sm:gap-0",children:[n.jsx(W,{type:"button",variant:"outline",onClick:y,className:"w-full sm:w-auto order-2 sm:order-1",disabled:a.creating,children:"Cancel"}),n.jsx(W,{type:"submit",disabled:N,className:"w-full sm:w-auto order-1 sm:order-2",children:a.creating?"Creating...":"Create Client"})]})]})]})})},h1t=({open:e,onOpenChange:t,serviceClient:r,onSuccess:s})=>{const{rotateToken:a,loading:i}=w$(),[o,c]=v.useState(null),{register:d,handleSubmit:u,reset:l,formState:{errors:f,isSubmitting:m}}=Da({defaultValues:{expires_at:""}}),p=m||i.rotating,x=async y=>{if(r){c(null);try{const w=await a(r.id,{expires_at:y.expires_at||void 0});w&&(l(),t(!1),s?.(w))}catch(w){console.error("Failed to rotate token:",w),c("Failed to rotate token. Please try again.")}}},b=y=>{if(!y)return!0;const w=new Date(y);if(isNaN(w.getTime()))return"Please enter a valid date";const S=new Date;return S.setHours(0,0,0,0),w<=S?"Expiration date must be in the future":!0},h=v.useCallback(y=>{y||l(),c(null),t(y)},[l,t]);return r?n.jsx(Ur,{open:e,onOpenChange:h,children:n.jsxs(Er,{className:"sm:max-w-[425px] mx-2 sm:mx-0 max-h-[90vh] overflow-y-auto",children:[n.jsxs(kr,{children:[n.jsx(Ar,{className:"text-lg sm:text-xl",children:"Rotate Service Token"}),n.jsxs(as,{className:"text-sm sm:text-base",children:['Generate a new token for "',r.name,'". The old token will be invalidated.']})]}),n.jsxs("form",{onSubmit:u(x),className:"space-y-3 sm:space-y-4",children:[o&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:n.jsx("p",{className:"text-sm text-red-600",role:"alert",children:o})}),n.jsxs("div",{children:[n.jsx(Q,{htmlFor:"expires_at",className:"text-sm sm:text-base",children:"New Expiration Date (Optional)"}),n.jsx(ne,{id:"expires_at",type:"date",...d("expires_at",{validate:b}),className:"mt-1","aria-invalid":f.expires_at?"true":"false",disabled:p}),f.expires_at&&n.jsx("p",{className:"text-sm text-red-600 mt-1",role:"alert",children:f.expires_at.message})]}),n.jsxs(Hr,{className:"flex flex-col sm:flex-row gap-2 sm:gap-0",children:[n.jsx(W,{type:"button",variant:"outline",onClick:()=>h(!1),className:"w-full sm:w-auto order-2 sm:order-1",disabled:p,children:"Cancel"}),n.jsx(W,{type:"submit",disabled:p,className:"w-full sm:w-auto order-1 sm:order-2",children:p?"Rotating...":"Rotate Token"})]})]})]})}):null},p1t=({open:e,onOpenChange:t,token:r,onClose:s,autoClearTimeout:a=3e5})=>{const{toast:i}=Lfe(),[o,c]=v.useState(!1),[d,u]=v.useState(!1),[l,f]=v.useState(r);v.useEffect(()=>{if(!e||!l)return;const w=setTimeout(()=>{f(""),i({title:"Security Notice",description:"Token has been cleared from memory for security.",variant:"destructive"})},a);return()=>clearTimeout(w)},[e,l,a,i]);const m=v.useCallback(async w=>{if(!w){i({title:"Error",description:"No token available to copy.",variant:"destructive"});return}try{await navigator.clipboard.writeText(w),u(!0),i({title:"Success",description:"Token copied to clipboard!"})}catch{const N=document.createElement("textarea");N.value=w,N.style.position="fixed",N.style.left="-999999px",N.style.top="-999999px",document.body.appendChild(N),N.focus(),N.select();try{document.execCommand("copy"),u(!0),i({title:"Success",description:"Token copied to clipboard!"})}catch{i({title:"Error",description:"Failed to copy token. Please copy manually.",variant:"destructive"})}finally{document.body.removeChild(N)}}},[i]),p=v.useCallback(()=>{if(!l){i({title:"Error",description:"Token is no longer available for viewing.",variant:"destructive"});return}c(!o),u(!0)},[l,o,i]),x=v.useCallback(()=>{d&&(c(!1),u(!1),f(r),t(!1),s?.())},[d,t,s,r]),b=v.useCallback(w=>{!w&&!d||w||x()},[d,x]),h=v.useCallback(w=>{d||w.preventDefault()},[d]),y=v.useCallback(w=>{d||w.preventDefault()},[d]);return v.useEffect(()=>{e&&!l&&f(r)},[e,r,l]),n.jsx(Ur,{open:e,onOpenChange:b,children:n.jsxs(Er,{className:"sm:max-w-[500px]",onPointerDownOutside:h,onEscapeKeyDown:y,"aria-describedby":"token-warning",children:[n.jsxs(kr,{children:[n.jsx(Ar,{children:"Service Client Token"}),n.jsx(as,{children:"Save this token securely. You won't be able to see it again."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Q,{htmlFor:"token-input",children:"Token"}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(ne,{id:"token-input",type:o?"text":"password",value:l,readOnly:!0,className:"font-mono text-sm","aria-describedby":"token-warning"}),n.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:p,disabled:!l,"aria-label":o?"Hide token":"Show token",children:o?n.jsx(Em,{className:"h-4 w-4"}):n.jsx(ln,{className:"h-4 w-4"})}),n.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>m(l),disabled:!l,"aria-label":"Copy token to clipboard",children:n.jsx(YQ,{className:"h-4 w-4"})})]})]}),n.jsx("div",{id:"token-warning",className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3",role:"alert","aria-live":"polite",children:n.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[n.jsx("strong",{children:"Important:"})," Store this token securely. You won't be able to retrieve it again.",!l&&n.jsx("span",{className:"block mt-1 font-medium text-red-600 dark:text-red-400",children:"Token has been cleared from memory for security."}),l&&!d&&n.jsx("span",{className:"block mt-1 font-medium",children:"Please view or copy the token before closing this dialog."})]})})]}),n.jsxs(Hr,{children:[n.jsx(W,{onClick:x,disabled:!d,variant:d?"default":"secondary","aria-describedby":d?void 0:"interaction-required",children:"I've Saved the Token"}),!d&&n.jsx("span",{id:"interaction-required",className:"sr-only","aria-live":"polite",children:"You must view or copy the token before you can close this dialog"})]})]})})},g1t=({createDialogOpen:e,rotateDialogOpen:t,tokenDialogOpen:r,selectedClient:s,currentToken:a,onCreateDialogChange:i,onRotateDialogChange:o,onTokenDialogChange:c,onCreateSuccess:d,onRotateSuccess:u,onCloseTokenDialog:l})=>n.jsxs(n.Fragment,{children:[n.jsx(m1t,{open:e,onOpenChange:i,onSuccess:d}),n.jsx(h1t,{open:t,onOpenChange:o,serviceClient:s,onSuccess:u}),n.jsx(p1t,{open:r,onOpenChange:c,token:a,onClose:l})]}),x1t=({onCreateSuccess:e})=>{const{clients:t,loading:r,errors:s,pagination:a,toggleStatus:i,fetchClients:o}=w$(),{toast:c}=Lfe(),[d,u]=v.useState(!1),[l,f]=v.useState(1),[m,p]=v.useState(10),[x,b]=v.useState(!1),[h,y]=v.useState(!1),[w,S]=v.useState(null),[N,_]=v.useState(""),k=[5,10,15,20,25,50],E=async $=>{await i($.id)},T=$=>{u(!1),_($),y(!0),c({title:"Success",description:"Service client created successfully!"}),o({per_page:m,page:l}),e&&e($)},D=$=>{_($),y(!0),S(null),c({title:"Success",description:"Service token rotated successfully!"})},P=$=>{S($),b(!0)},M=()=>{y(!1),_("")};v.useEffect(()=>{o({per_page:m,page:l})},[l,m,o]);const R=$=>{f($)},B=$=>{const I=Number($);p(I),f(1)},L=()=>{o({per_page:m,page:l})};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[n.jsx(r1t,{errors:s}),n.jsxs(oe,{className:"rounded-sm bg-card border border-border shadow-sm",children:[n.jsx(Re,{className:"mb-0 bg-muted border-b border-border",children:n.jsx(s1t,{loading:r.fetching,onRefresh:L,onCreateClick:()=>u(!0)})}),n.jsx(je,{className:"p-0 bg-card",children:n.jsx(a1t,{clients:t,loading:r,onToggleStatus:E,onRotateToken:P})}),a&&a.last_page>0&&n.jsx(w3,{className:"bg-card border-t border-border flex flex-col sm:flex-row items-center justify-between gap-4 px-4 py-3",children:n.jsx(i1t,{pagination:a,perPage:m,perPageOptions:k,loading:r.fetching,onPerPageChange:B,onPageChange:R})})]})]}),n.jsx(g1t,{createDialogOpen:d,rotateDialogOpen:x,tokenDialogOpen:h,selectedClient:w,currentToken:N,onCreateDialogChange:u,onRotateDialogChange:b,onTokenDialogChange:y,onCreateSuccess:T,onRotateSuccess:D,onCloseTokenDialog:M})]})},v1t=()=>n.jsx(Zt,{title:"Service Client Management",subtitle:"Manage API service clients and their authentication tokens",children:n.jsx(x1t,{onRotateToken:()=>{},onCreateSuccess:()=>{}})}),y1t=[n.jsx(At,{path:"/service-client-management",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(v1t,{})})})})},"service-client-management")],j$=(e={})=>{const{autoFetch:t=!0,showToasts:r=!0,debounceMs:s=300}=e,a=ct(),i=se(Na.selectRules),o=se(Na.selectPagination),c=se(Na.selectTestResult),d=se(Na.selectFilters),u=se(Na.selectTogglingStates),l={fetching:se(Na.selectIsFetching),creating:se(Na.selectIsCreating),testing:se(Na.selectIsTesting),isToggling:v.useCallback(P=>u[P]||!1,[u])},f=se(Na.selectError),m=se(Na.selectSuccessMessage),p=se(Na.selectHasRules),x=se(Na.selectTotalRules),b=se(Na.selectActiveRules),h=se(Na.selectInactiveRules);v.useEffect(()=>{if(f&&r){We.error(g7(f),{description:f.type==="validation"?"Please fix the highlighted errors and try again.":f.details,duration:5e3,action:f.type==="unauthorized"?{label:"Login",onClick:()=>{window.location.href="/login"}}:void 0});const P=setTimeout(()=>{a(x7())},100);return()=>clearTimeout(P)}},[f,r,a]),v.useEffect(()=>{if(m&&r){We.success(m,{duration:3e3});const P=setTimeout(()=>{a(v7())},100);return()=>clearTimeout(P)}},[m,r,a]),v.useEffect(()=>{t&&!l.fetching&&i.length===0&&a(Sc({service:d.service,search:d.search,page:d.currentPage,per_page:d.perPage}))},[t,a,d]);const y=v.useCallback(async P=>{const M=P||{service:d.service,search:d.search,page:d.currentPage,per_page:d.perPage};await a(Sc(M)).unwrap()},[a,d]),w=v.useCallback(async()=>{await y()},[y]),S=v.useCallback(async P=>{const M=r?We.loading("Creating authorization rule..."):null;try{return await a($S(P)).unwrap(),M&&We.dismiss(M),!0}catch(R){return M&&We.dismiss(M),console.error("Failed to create auth rule:",R),!1}},[a,r]),N=v.useCallback(async P=>{const M=r?We.loading("Testing path pattern..."):null;try{return await a(LS(P)).unwrap(),M&&We.dismiss(M),!0}catch(R){return M&&We.dismiss(M),console.error("Failed to test auth rule:",R),!1}},[a,r]),_=v.useCallback(async P=>{try{return await a(z0(P)).unwrap(),!0}catch(M){return console.error("Failed to toggle rule status:",M),!1}},[a]),k=v.useCallback(async P=>{const M=r?We.loading(`Updating ${P.length} rule${P.length>1?"s":""}...`):null;try{return await a(BS(P)).unwrap(),M&&We.dismiss(M),!0}catch(R){return M&&We.dismiss(M),console.error("Failed to batch toggle rules:",R),!1}},[a,r]),E=v.useCallback(P=>{if(a(L1e(P)),P.currentPage!==void 0){a(Sc({service:P.service??d.service,search:P.search??d.search,page:P.currentPage,per_page:P.perPage??d.perPage}));return}if(P.perPage!==void 0){a(Sc({service:P.service??d.service,search:P.search??d.search,page:1,per_page:P.perPage}));return}if(P.search!==void 0||P.service!==void 0){const M=setTimeout(()=>{a(Sc({service:P.service??d.service,search:P.search??d.search,page:1,per_page:d.perPage}))},s);return()=>clearTimeout(M)}},[a,d,s]),T=v.useCallback(P=>{const M=[];P.service.trim()||M.push({field:"service",messages:["Service is required"]}),P.method||M.push({field:"method",messages:["HTTP method is required"]}),P.pathType==="dsl"&&!P.path_dsl?.trim()&&M.push({field:"path_dsl",messages:["Path DSL is required when using DSL type"]}),P.pathType==="route"&&!P.route_name?.trim()&&M.push({field:"route_name",messages:["Route name is required when using route type"]});const R=P.roles.length>0,B=P.permissions_any.length>0,L=P.permissions_all.length>0;return!R&&!B&&!L&&M.push({field:"authorization",messages:["At least one role, permissions_any, or permissions_all is required"]}),(P.priority<1||P.priority>1e3)&&M.push({field:"priority",messages:["Priority must be between 1 and 1000"]}),M},[]),D=v.useCallback(P=>i.filter(M=>M.service===P),[i]);return v.useMemo(()=>({rules:i,pagination:o,testResult:c,filters:d,loading:l,error:f,successMessage:m,actions:{fetchRules:y,refreshRules:w,createRule:S,testRule:N,toggleRuleStatus:_,batchToggleRules:k,clearError:()=>a(x7()),clearSuccessMessage:()=>a(v7()),clearTestResult:()=>a($1e()),updateFilters:E,resetFilters:()=>a(B1e()),resetState:()=>a(z1e())},helpers:{getDisplayErrorMessage:()=>g7(f),getValidationErrors:P=>F1e(f,P),isValidationError:()=>nD(f,"validation"),isUnauthorizedError:()=>nD(f,"unauthorized"),isNetworkError:()=>nD(f,"network_error"),hasRules:p,totalRules:x,activeRulesCount:b.length,inactiveRulesCount:h.length,validateRuleForm:T,getActiveRules:()=>b,getInactiveRules:()=>h,getRulesByService:D}}),[i,o,c,d,l,f,m,y,w,S,N,_,k,E,p,x,b,h,T,D,a])},qfe=()=>{const{actions:e,helpers:t,loading:r,error:s}=j$({showToasts:!1});return{createRule:e.createRule,testRule:e.testRule,clearTestResult:e.clearTestResult,validateForm:t.validateRuleForm,getValidationErrors:t.getValidationErrors,isValidationError:t.isValidationError,testResult:se(Na.selectTestResult),isCreating:r.creating,isTesting:r.testing,error:s}},b1t=({loading:e,onRefresh:t})=>{const r=Vt(),s=()=>{r("/auth-rules/create")};return n.jsx(Re,{className:"mb-0 bg-muted border-b border-border",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[n.jsx(qe,{className:"text-lg sm:text-xl text-card-foreground",children:"Authorization Rules"}),n.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4 w-full sm:w-auto",children:n.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:t,disabled:e,className:`flex items-center gap-2 text-secondary-foreground border-border ${e?"bg-muted opacity-60":"bg-secondary"}`,children:[n.jsx(Zr,{className:`h-4 w-4 ${e?"animate-spin":""}`}),n.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]}),n.jsxs(W,{onClick:s,className:"flex items-center justify-center gap-2 text-sm bg-primary text-primary-foreground shadow-[var(--shadow-sm)]",children:[n.jsx(Yt,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden xs:inline",children:"Create Rule"}),n.jsx("span",{className:"xs:hidden",children:"Create"})]})]})})]})})},w1t=({isActive:e,showIcon:t=!0,variant:r="default"})=>r==="compact"?n.jsx(Ae,{variant:e?"default":"secondary",className:"text-xs sm:text-sm px-1.5 py-0.5 sm:px-2 sm:py-1",style:{backgroundColor:e?"var(--chart-2)":"var(--muted)",color:e?"var(--primary-foreground)":"var(--muted-foreground)",borderColor:e?"var(--chart-2)":"var(--border)",fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},children:e?"Active":"Inactive"}):n.jsxs(Ae,{variant:e?"default":"secondary",className:"flex items-center gap-0.5 sm:gap-1 text-xs sm:text-sm px-1.5 py-0.5 sm:px-2 sm:py-1",style:{backgroundColor:e?"var(--chart-2)":"var(--muted)",color:e?"var(--primary-foreground)":"var(--muted-foreground)",borderColor:e?"var(--chart-2)":"var(--border)",fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},children:[t&&(e?n.jsx(bs,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3",style:{color:"var(--primary-foreground)",minWidth:"0.625rem",minHeight:"0.625rem"}}):n.jsx(_E,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3",style:{color:"var(--muted-foreground)",minWidth:"0.625rem",minHeight:"0.625rem"}})),n.jsx("span",{className:"whitespace-nowrap",children:e?"Active":"Inactive"})]}),iC=te.memo(({items:e,label:t,variant:r,maxDisplay:s=2})=>{if(!e||e.length===0)return null;const a=i=>{switch(i){case"secondary":return"bg-secondary text-secondary-foreground";case"outline":return"bg-accent text-accent-foreground border-border";case"default":return"bg-primary text-primary-foreground";default:return"bg-secondary text-secondary-foreground"}};return n.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.jsxs("span",{className:"text-xs whitespace-nowrap text-muted-foreground",children:[t,":"]}),e.slice(0,s).map((i,o)=>n.jsx(Ae,{variant:r,className:`text-xs px-1 py-0.5 ${a(r)}`,children:n.jsx("span",{className:"truncate max-w-[3rem]",title:i,children:i})},o)),e.length>s&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.length-s]})]})});iC.displayName="AuthorizationBadges";const Gfe=te.memo(({rule:e,onToggleStatus:t,isToggling:r})=>n.jsxs(Nt,{className:"border-border bg-card hover:bg-muted/50",children:[n.jsx(Ee,{className:"font-medium text-xs sm:text-sm p-2 sm:p-4 text-foreground",children:n.jsx("div",{className:"truncate max-w-[4rem] sm:max-w-none",title:e.service,children:e.service})}),n.jsx(Ee,{className:"p-2 sm:p-4",children:n.jsx(Ae,{variant:"outline",className:"text-xs px-1 py-0.5 sm:px-2 sm:py-1 bg-secondary text-secondary-foreground border-border",children:e.method})}),n.jsx(Ee,{className:"p-2 sm:p-4",children:n.jsx("div",{className:"max-w-[6rem] sm:max-w-xs",children:e.path_dsl?n.jsxs("div",{children:[n.jsx("div",{className:"text-xs sm:text-sm font-mono px-1 py-0.5 sm:px-2 sm:py-1 rounded truncate bg-muted text-foreground border border-border",title:e.path_dsl,children:e.path_dsl}),n.jsx("div",{className:"text-xs mt-1 hidden sm:block text-muted-foreground",children:"DSL Pattern"})]}):n.jsxs("div",{children:[n.jsx("div",{className:"text-xs sm:text-sm truncate text-foreground",title:e.route_name||void 0,children:e.route_name}),n.jsx("div",{className:"text-xs hidden sm:block text-muted-foreground",children:"Named Route"})]})})}),n.jsx(Ee,{className:"p-2 sm:p-4 hidden sm:table-cell",children:n.jsxs("div",{className:"space-y-1 max-w-[8rem] lg:max-w-none",children:[n.jsx(iC,{items:e.roles_any,label:"Roles",variant:"secondary"}),n.jsx(iC,{items:e.permissions_any,label:"Perms",variant:"outline"}),n.jsx(iC,{items:e.permissions_all,label:"All",variant:"default"})]})}),n.jsx(Ee,{className:"p-2 sm:p-4",children:n.jsx(w1t,{isActive:e.is_active})}),n.jsx(Ee,{className:"text-right p-2 sm:p-4",children:n.jsx("div",{className:"flex justify-end",children:n.jsx(ys,{checked:e.is_active,onCheckedChange:t(e.id),disabled:r(e.id),className:"scale-75 sm:scale-100",style:{"--switch-thumb":"var(--primary-foreground)","--switch-track-checked":"var(--primary)","--switch-track-unchecked":"var(--input)"}})})})]}));Gfe.displayName="AuthRuleRow";const j1t=({rules:e,loading:t,onToggleStatus:r,isToggling:s})=>n.jsx(je,{className:"p-0 bg-card",children:t?n.jsx("div",{className:"flex items-center justify-center h-48 sm:h-64 bg-card",children:n.jsx(af,{message:"Loading rules...",size:"medium",className:"h-48 sm:h-64 bg-card text-muted-foreground"})}):e.length?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Xr,{className:"min-w-full",children:[n.jsx(Jr,{className:"bg-muted border-b border-border",children:n.jsxs(Nt,{className:"border-border",children:[n.jsx(De,{className:"min-w-[5rem] text-xs sm:text-sm text-foreground font-semibold",children:"Service"}),n.jsx(De,{className:"min-w-[4rem] text-xs sm:text-sm text-foreground font-semibold",children:"Method"}),n.jsx(De,{className:"min-w-[8rem] text-xs sm:text-sm text-foreground font-semibold",children:"Path/Route"}),n.jsx(De,{className:"min-w-[10rem] text-xs sm:text-sm hidden sm:table-cell text-foreground font-semibold",children:"Authorization"}),n.jsx(De,{className:"min-w-[4rem] text-foreground font-semibold text-xs sm:text-sm",children:"Status"}),n.jsx(De,{className:"min-w-[5rem] text-right text-xs sm:text-sm text-foreground font-semibold",children:"Active"})]})}),n.jsx(Qr,{children:e.map(a=>n.jsx(Gfe,{rule:a,onToggleStatus:r,isToggling:s},a.id))})]})}):n.jsx("div",{className:"text-center py-6 sm:py-8 bg-card",children:n.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No authorization rules found."})})}),S1t=({pagination:e,filters:t,loading:r,totalRules:s,onUpdateFilters:a})=>{const i=c=>{a({currentPage:c})},o=c=>{a({perPage:c,currentPage:1})};return n.jsx(w3,{className:"pt-4 sm:pt-5 lg:pt-6 bg-card border-t border-border",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 w-full",children:[n.jsxs("div",{className:"flex items-center gap-2 order-2 sm:order-1",children:[n.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground whitespace-nowrap",children:"Show:"}),n.jsxs("select",{value:t.perPage,onChange:c=>o(Number(c.target.value)),disabled:r,className:`text-xs sm:text-sm px-2 py-1 border rounded focus:outline-none focus:ring-2 focus:ring-primary text-foreground border-border ${r?"bg-muted opacity-60":"bg-background"}`,children:[n.jsx("option",{value:5,children:"5"}),n.jsx("option",{value:10,children:"10"}),n.jsx("option",{value:15,children:"15"}),n.jsx("option",{value:25,children:"25"}),n.jsx("option",{value:50,children:"50"}),n.jsx("option",{value:100,children:"100"})]}),n.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground whitespace-nowrap",children:[n.jsx("span",{className:"hidden sm:inline",children:"per page"}),n.jsx("span",{className:"sm:hidden",children:"/page"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[n.jsxs(W,{variant:"outline",size:"sm",disabled:!e||e.current_page<=1||r,onClick:()=>i((e?.current_page||1)-1),className:`text-secondary-foreground border-border ${!e||e.current_page<=1||r?"bg-muted opacity-50":"bg-secondary"}`,children:[n.jsx("span",{className:"hidden xs:inline",children:"Previous"}),n.jsx("span",{className:"xs:hidden",children:"Prev"})]}),n.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground whitespace-nowrap px-2",children:e?n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"hidden sm:inline",children:["Page ",e.current_page," of ",e.last_page]}),n.jsxs("span",{className:"sm:hidden",children:[e.current_page,"/",e.last_page]})]}):n.jsx("span",{className:"hidden sm:inline",children:"Page 1 of 1"})}),n.jsxs(W,{variant:"outline",size:"sm",disabled:!e||e.current_page>=e.last_page||r,onClick:()=>i((e?.current_page||1)+1),className:`text-secondary-foreground border-border ${!e||e.current_page>=e.last_page||r?"bg-muted opacity-50":"bg-secondary"}`,children:[n.jsx("span",{className:"hidden xs:inline",children:"Next"}),n.jsx("span",{className:"xs:hidden",children:"Next"})]})]}),n.jsx("div",{className:"flex items-center order-3",children:n.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground whitespace-nowrap",children:e?n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"hidden sm:inline",children:["Showing ",e.from,"-",e.to," of"," ",e.total," rules"]}),n.jsxs("span",{className:"sm:hidden",children:[e.from,"-",e.to," of ",e.total]})]}):n.jsxs("span",{className:"hidden sm:inline",children:["Showing ",s," ",s===1?"rule":"rules"]})})})]})})},N1t=()=>{const{rules:e,loading:t,error:r,pagination:s,filters:a,helpers:i,actions:o}=j$(),c=v.useCallback(d=>()=>o.toggleRuleStatus(d),[o.toggleRuleStatus]);return n.jsxs("div",{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[r&&n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:i.getDisplayErrorMessage()})]}),n.jsxs(oe,{className:"rounded-sm bg-card border border-border shadow-[var(--shadow-realistic)]",children:[n.jsx(b1t,{loading:t.fetching,onRefresh:o.refreshRules}),n.jsx(j1t,{rules:e,loading:t.fetching,onToggleStatus:c,isToggling:t.isToggling}),s&&n.jsx(S1t,{pagination:s,filters:a,loading:t.fetching,totalRules:i.totalRules,onUpdateFilters:o.updateFilters})]})]})},Yfe=({pathDsl:e="",onClose:t})=>{const{testRule:r,testResult:s,isTesting:a,clearTestResult:i}=qfe(),[o,c]=v.useState(e),[d,u]=v.useState(""),l=async()=>{!o.trim()||!d.trim()||await r({path_dsl:o.trim(),test_path:d.trim()})},f=()=>{i(),t()};return n.jsx(Ur,{open:!0,onOpenChange:f,children:n.jsxs(Er,{className:"w-[95vw] max-w-sm sm:max-w-md lg:max-w-lg max-h-[90vh] overflow-y-auto bg-card border border-border",style:{boxShadow:"var(--shadow-realistic)"},children:[n.jsx(kr,{className:"pb-3 sm:pb-4",children:n.jsx(Ar,{className:"text-lg sm:text-xl text-center sm:text-left text-foreground",children:"Test Path DSL Pattern"})}),n.jsxs("div",{className:"space-y-3 sm:space-y-4 px-1",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"text-sm sm:text-base font-medium text-foreground",children:"DSL Pattern"}),n.jsx(Ht,{value:o,onChange:m=>c(m.target.value),placeholder:"/api/users/{id}/posts/*",className:"font-mono text-xs sm:text-sm min-h-[3rem] sm:min-h-[4rem] resize-none bg-input border-border text-foreground"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"text-sm sm:text-base font-medium text-foreground",children:"Test Path"}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[n.jsx(ne,{placeholder:"/api/users/123/posts/456",value:d,onChange:m=>u(m.target.value),onKeyPress:m=>m.key==="Enter"&&l(),className:"text-xs sm:text-sm font-mono flex-1 bg-input border-border text-foreground"}),n.jsx(W,{onClick:l,disabled:!o.trim()||!d.trim()||a,size:"sm",className:"w-full sm:w-auto min-w-[4rem] text-sm disabled:bg-muted disabled:opacity-60",style:{backgroundColor:!o.trim()||!d.trim()||a?void 0:"var(--primary)",color:"var(--primary-foreground)"},children:a?n.jsx(at,{className:"h-4 w-4 animate-spin text-primary-foreground"}):"Test"})]})]}),s&&n.jsxs("div",{className:"space-y-3 p-3 sm:p-4 border rounded-md bg-muted border-border",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[s.matches?n.jsx(bs,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0",style:{color:"var(--chart-2)"}}):n.jsx(_E,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0 text-destructive"}),n.jsx("span",{className:"font-medium text-sm sm:text-base text-foreground",children:s.matches?"Pattern Matches!":"No Match"})]}),n.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Generated Regex:"}),n.jsx("div",{className:"font-mono text-xs sm:text-sm p-2 sm:p-3 rounded mt-1 break-all bg-card border border-border text-foreground",children:s.path_regex})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[n.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Compilation:"}),n.jsx(Ae,{variant:s.compiled_successfully?"default":"destructive",className:"text-xs w-fit",children:s.compiled_successfully?"Success":"Failed"})]})]})]}),n.jsx("div",{className:"flex justify-end gap-2 pt-2 sm:pt-3",children:n.jsx(W,{variant:"outline",onClick:f,className:"w-full sm:w-auto min-w-[5rem] text-sm bg-secondary text-secondary-foreground border-border",children:"Close"})})]})]})})},C1t=()=>{const[e,t]=v.useState(!1),r=()=>{t(!0)};return n.jsxs(Zt,{title:"Authorization Rules",subtitle:"Manage access control rules for your application",mainButtons:n.jsxs(W,{variant:"outline",onClick:r,className:"flex items-center justify-center gap-2 text-sm",style:{backgroundColor:"var(--secondary)",color:"var(--secondary-foreground)",borderColor:"var(--border)"},children:[n.jsx(dM,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden md:inline",children:"Test Path"}),n.jsx("span",{className:"inline md:hidden",children:"Test"})]}),children:[n.jsx(N1t,{}),e&&n.jsx(Yfe,{pathDsl:"",onClose:()=>t(!1)})]})},_1t=()=>{const[e,t]=v.useState({}),r=v.useCallback(d=>{e[d]&&t(u=>({...u,[d]:""}))},[e]),s=v.useCallback(()=>{e.authorization&&t(d=>({...d,authorization:""}))},[e]),a=v.useCallback((d,u)=>{const l={};d.service.trim()||(l.service="Service is required"),d.method||(l.method="HTTP method is required"),d.pathType==="dsl"&&!d.pathDsl.trim()&&(l.pathDsl="Path DSL is required when using DSL type"),d.pathType==="route"&&!d.routeName.trim()&&(l.routeName="Route name is required when using route type");const{selectedRoles:f,selectedPermissionsAny:m,selectedPermissionsAll:p}=u;return f.length===0&&m.length===0&&p.length===0&&(l.authorization="At least one role or permission is required"),l},[]),i=v.useCallback(d=>{t(d)},[]),o=v.useCallback(()=>Object.keys(e).some(d=>e[d]),[e]),c=v.useCallback(d=>e[d]||"",[e]);return{validationErrors:e,clearFieldError:r,clearAuthorizationError:s,validateForm:a,setErrors:i,hasErrors:o,getFieldError:c}},E1t=()=>{const[e,t]=v.useState([]),[r,s]=v.useState([]),[a,i]=v.useState([]),o=v.useCallback(w=>{t(S=>S.includes(w)?S.filter(N=>N!==w):[...S,w])},[]),c=v.useCallback(w=>{s(S=>S.includes(w)?S.filter(N=>N!==w):(i(N=>N.filter(_=>_!==w)),[...S,w]))},[]),d=v.useCallback(w=>{i(S=>S.includes(w)?S.filter(N=>N!==w):(s(N=>N.filter(_=>_!==w)),[...S,w]))},[]),u=v.useCallback(w=>{const S=w.map(N=>N.name);t(S)},[]),l=v.useCallback(()=>{t([])},[]),f=v.useCallback(w=>{const S=w.map(N=>N.name);s(S),i([])},[]),m=v.useCallback(()=>{s([])},[]),p=v.useCallback(w=>{const S=w.map(N=>N.name);i(S),s([])},[]),x=v.useCallback(()=>{i([])},[]),b=v.useCallback(()=>{t([]),s([]),i([])},[]),h=v.useCallback(()=>({selectedRoles:e,selectedPermissionsAny:r,selectedPermissionsAll:a}),[e,r,a]),y=v.useCallback(()=>e.length>0||r.length>0||a.length>0,[e,r,a]);return{selectedRoles:e,selectedPermissionsAny:r,selectedPermissionsAll:a,toggleRoleSelection:o,selectAllRoles:u,clearAllRoles:l,togglePermissionAnySelection:c,selectAllPermissionsAny:f,clearAllPermissionsAny:m,togglePermissionAllSelection:d,selectAllPermissionsAll:p,clearAllPermissionsAll:x,resetSelections:b,getAuthorizationData:h,hasAnySelection:y}},k1t=({availableRoles:e,selectedRoles:t,rolesLoading:r,onToggleRole:s,onSelectAllRoles:a,onClearAllRoles:i})=>{const o=v.useMemo(()=>new Set(t),[t]),c=v.useCallback(d=>()=>s(d),[s]);return n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(cs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"}),n.jsx(Q,{className:"text-sm sm:text-base font-medium",children:"Roles"})]}),n.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"(User must have ANY of these roles)"})]}),r?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(at,{className:"h-6 w-6 animate-spin mr-2"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading roles..."})]}):e&&e.length>0?n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(W,{type:"button",variant:"outline",size:"sm",className:"text-xs sm:text-sm flex-1 sm:flex-none",onClick:a,children:"Select All"}),n.jsx(W,{type:"button",variant:"ghost",size:"sm",className:"text-xs sm:text-sm flex-1 sm:flex-none",onClick:i,children:"Clear All"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-3 max-h-48 overflow-y-auto border rounded-md p-2 sm:p-3",children:e.map(d=>n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(dt,{id:`role-${d.id}`,checked:o.has(d.name),onCheckedChange:()=>s(d.name)}),n.jsx(Q,{htmlFor:`role-${d.id}`,className:"text-xs sm:text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:d.name})]},d.id))}),t.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Q,{className:"text-xs sm:text-sm text-muted-foreground",children:["Selected Roles (",t.length,")"]}),n.jsx("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:t.map(d=>n.jsxs(Ae,{variant:"secondary",className:"flex items-center gap-1 text-xs",children:[n.jsx("span",{className:"truncate max-w-[8rem] sm:max-w-none",children:d}),n.jsx(Kr,{className:"h-3 w-3 cursor-pointer hover:text-red-500 flex-shrink-0",onClick:c(d)})]},d))})]})]}):n.jsxs("div",{className:"text-center py-8 border rounded-md bg-gray-50",children:[n.jsx(cs,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"No roles available"})]})]})},lK=({mode:e,description:t,bgColorClass:r,badgeVariant:s,availablePermissions:a,selectedPermissions:i,onTogglePermission:o,onSelectAll:c,onClearAll:d})=>{const u=e.toLowerCase();return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:`text-xs sm:text-sm text-muted-foreground ${r} p-2 sm:p-3 rounded-md`,children:[n.jsxs("strong",{children:[e," mode:"]})," ",t]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(W,{type:"button",variant:"outline",size:"sm",className:"text-xs sm:text-sm flex-1 sm:flex-none",onClick:c,children:["Select All ",e]}),n.jsxs(W,{type:"button",variant:"ghost",size:"sm",className:"text-xs sm:text-sm flex-1 sm:flex-none",onClick:d,children:["Clear All ",e]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-3 max-h-48 overflow-y-auto border rounded-md p-2 sm:p-3",children:a.map(l=>n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(dt,{id:`permission-${u}-${l.id}`,checked:i.includes(l.name),onCheckedChange:()=>o(l.name)}),n.jsx("div",{className:"flex-1 min-w-0",children:n.jsx(Q,{htmlFor:`permission-${u}-${l.id}`,className:"text-xs sm:text-sm font-medium leading-none cursor-pointer peer-disabled:cursor-not-allowed peer-disabled:opacity-70 block",children:l.name})})]},`${u}-${l.id}`))}),i.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Q,{className:"text-xs sm:text-sm text-muted-foreground",children:["Selected ",e," Permissions (",i.length,")"]}),n.jsx("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:i.map(l=>n.jsxs(Ae,{variant:s,className:"flex items-center gap-1 text-xs",children:[n.jsx("span",{className:"truncate max-w-[8rem] sm:max-w-none",children:l}),n.jsx(Kr,{className:"h-3 w-3 cursor-pointer hover:text-red-500 flex-shrink-0",onClick:()=>o(l)})]},`${u}-${l}`))})]})]})},A1t=({availablePermissions:e,selectedPermissionsAny:t,selectedPermissionsAll:r,permissionsLoading:s,onTogglePermissionAny:a,onTogglePermissionAll:i,onSelectAllPermissionsAny:o,onClearAllPermissionsAny:c,onSelectAllPermissionsAll:d,onClearAllPermissionsAll:u})=>n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ws,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"}),n.jsx(Q,{className:"text-sm sm:text-base font-medium",children:"Permissions"})]}),n.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Configure permissions for both ANY and ALL authorization modes"})]}),s?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(at,{className:"h-6 w-6 animate-spin mr-2"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading permissions..."})]}):e&&e.length>0?n.jsxs("div",{className:"space-y-6",children:[n.jsx(lK,{mode:"ANY",description:"User needs at least ONE of the selected permissions",bgColorClass:"bg-blue-50",badgeVariant:"default",availablePermissions:e,selectedPermissions:t,onTogglePermission:a,onSelectAll:o,onClearAll:c}),n.jsx(lK,{mode:"ALL",description:"User needs ALL of the selected permissions",bgColorClass:"bg-green-50",badgeVariant:"secondary",availablePermissions:e,selectedPermissions:r,onTogglePermission:i,onSelectAll:d,onClearAll:u})]}):n.jsxs("div",{className:"text-center py-8 border rounded-md bg-gray-50",children:[n.jsx(ws,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"No permissions available"})]})]}),T1t=({error:e,className:t})=>e?n.jsxs(Ge,{variant:"destructive",className:t,children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:e?.message||"An error occurred"})]}):null,D1t=["GET","POST","PUT","PATCH","DELETE"],P1t=({service:e,method:t,onServiceChange:r,onMethodChange:s,getFieldError:a})=>n.jsxs(oe,{children:[n.jsx(Re,{className:"pb-3 sm:pb-4",children:n.jsx(qe,{className:"text-lg sm:text-xl",children:"Basic Information"})}),n.jsx(je,{className:"space-y-3 sm:space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[n.jsx(Q,{htmlFor:"service",className:"text-sm sm:text-base font-medium",children:"Service *"}),n.jsx(ne,{id:"service",value:e,onChange:i=>r(i.target.value),placeholder:"e.g., data, auth, api",className:`text-sm sm:text-base ${a("service")?"border-red-500":""}`}),a("service")&&n.jsx("p",{className:"text-xs sm:text-sm text-red-500",children:a("service")})]}),n.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[n.jsx(Q,{htmlFor:"method",className:"text-sm sm:text-base font-medium",children:"HTTP Method *"}),n.jsx("select",{id:"method",value:t,onChange:i=>s(i.target.value),className:`flex h-9 sm:h-10 w-full rounded-md border border-input bg-background px-2 sm:px-3 py-1 sm:py-2 text-sm ring-offset-background ${a("method")?"border-red-500":""}`,children:D1t.map(i=>n.jsx("option",{value:i,children:i},i))}),a("method")&&n.jsx("p",{className:"text-xs sm:text-sm text-red-500",children:a("method")})]})]})})]}),R1t=({pathType:e,pathDsl:t,routeName:r,onPathTypeChange:s,onPathDslChange:a,onRouteNameChange:i,onTestClick:o,getFieldError:c})=>n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsx(Q,{className:"text-sm sm:text-base font-medium",children:"Path Configuration *"}),n.jsxs(Zl,{value:e,onValueChange:s,children:[n.jsxs(ll,{className:"grid w-full grid-cols-2 h-9 sm:h-10",children:[n.jsx(xs,{value:"dsl",className:"text-xs sm:text-sm",children:"Path DSL"}),n.jsx(xs,{value:"route",className:"text-xs sm:text-sm",children:"Route Name"})]}),n.jsx(vs,{value:"dsl",className:"mt-3 sm:mt-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{htmlFor:"pathDsl",className:"text-sm sm:text-base",children:"Path DSL Pattern"}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[n.jsx(Ht,{id:"pathDsl",value:t,onChange:d=>a(d.target.value),placeholder:"/api/users/{id}/posts/*",className:`text-sm font-mono min-h-[2.5rem] sm:min-h-[3rem] flex-1 ${c("pathDsl")?"border-red-500":""}`}),t.trim()&&n.jsx(W,{type:"button",variant:"outline",size:"sm",className:"w-full sm:w-auto text-sm",onClick:o,children:"Test"})]}),c("pathDsl")&&n.jsx("p",{className:"text-xs sm:text-sm text-red-500",children:c("pathDsl")})]})}),n.jsx(vs,{value:"route",className:"mt-3 sm:mt-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{htmlFor:"routeName",className:"text-sm sm:text-base",children:"Route Name"}),n.jsx(ne,{id:"routeName",value:r,onChange:d=>i(d.target.value),placeholder:"users.posts.index",className:`text-sm sm:text-base ${c("routeName")?"border-red-500":""}`}),c("routeName")&&n.jsx("p",{className:"text-xs sm:text-sm text-red-500",children:c("routeName")})]})})]})]}),M1t=({isActive:e,onActiveChange:t})=>n.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-2 sm:p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Q,{className:"text-sm sm:text-base",children:"Active Rule"}),n.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Enable this rule immediately"})]}),n.jsx(ys,{checked:e,onCheckedChange:t})]}),O1t=({onCancel:e,isSubmitting:t,isCreating:r})=>n.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end gap-3 sm:gap-4 pt-4",children:[e&&n.jsx(W,{type:"button",variant:"outline",onClick:e,disabled:t,className:"w-full sm:w-auto",children:"Cancel"}),n.jsx(W,{type:"submit",disabled:t||r,className:"w-full sm:w-auto min-w-[120px]",children:t?n.jsxs(n.Fragment,{children:[n.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Rule"})]}),I1t=({onSuccess:e,onCancel:t})=>{const{createRule:r,isCreating:s,error:a}=qfe(),{roles:i,loading:o}=cl(!0),{permissions:c,loading:d}=Mx(!0),{clearFieldError:u,clearAuthorizationError:l,validateForm:f,setErrors:m,getFieldError:p}=_1t(),{selectedRoles:x,selectedPermissionsAny:b,selectedPermissionsAll:h,toggleRoleSelection:y,selectAllRoles:w,clearAllRoles:S,togglePermissionAnySelection:N,selectAllPermissionsAny:_,clearAllPermissionsAny:k,togglePermissionAllSelection:E,selectAllPermissionsAll:T,clearAllPermissionsAll:D,getAuthorizationData:P}=E1t(),[M,R]=v.useState(""),[B,L]=v.useState("GET"),[$,I]=v.useState("dsl"),[z,H]=v.useState(""),[Z,V]=v.useState(""),[G,U]=v.useState(!0),[Y,K]=v.useState(!1),[re,he]=v.useState(!1),me=fe=>{y(fe),l()},de=fe=>{N(fe),l()},ie=fe=>{E(fe),l()},ve=()=>{w(i),l()},_e=()=>{_(c),l()},xe=()=>{T(c),l()},Le=(fe,Ze)=>{switch(u(fe),fe){case"service":R(Ze);break;case"method":L(Ze);break;case"pathDsl":H(Ze);break;case"routeName":V(Ze);break;case"isActive":U(Ze);break}},Ie=async fe=>{fe.preventDefault();const Ze={service:M,method:B,pathType:$,pathDsl:z,routeName:Z,isActive:G},it=P(),ge=f(Ze,it);if(Object.keys(ge).length>0){m(ge);return}he(!0);try{const He={service:M.trim(),method:B,is_active:G,...$==="dsl"?{path_dsl:z.trim()}:{route_name:Z.trim()},...it.selectedRoles.length>0&&{roles_any:it.selectedRoles},...it.selectedPermissionsAny.length>0&&{permissions_any:it.selectedPermissionsAny},...it.selectedPermissionsAll.length>0&&{permissions_all:it.selectedPermissionsAll}};await r(He)&&e?.()}catch(He){console.error("Failed to create auth rule:",He)}finally{he(!1)}};return n.jsx("div",{className:"container mx-auto py-4 px-3 sm:py-6 sm:px-4 lg:py-8 lg:px-6",children:n.jsxs("div",{className:"mx-auto space-y-4 sm:space-y-5 lg:space-y-6",children:[n.jsx(T1t,{error:a}),n.jsxs("form",{onSubmit:Ie,className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[n.jsx(P1t,{service:M,method:B,onServiceChange:fe=>Le("service",fe),onMethodChange:fe=>Le("method",fe),getFieldError:p}),n.jsxs(oe,{children:[n.jsx(Re,{className:"pb-3 sm:pb-4",children:n.jsx(qe,{className:"text-lg sm:text-xl",children:"Configuration"})}),n.jsxs(je,{className:"space-y-3 sm:space-y-4",children:[n.jsx(R1t,{pathType:$,pathDsl:z,routeName:Z,onPathTypeChange:fe=>I(fe),onPathDslChange:fe=>Le("pathDsl",fe),onRouteNameChange:fe=>Le("routeName",fe),onTestClick:()=>K(!0),getFieldError:p}),n.jsx(M1t,{isActive:G,onActiveChange:fe=>Le("isActive",fe)})]})]}),n.jsxs(oe,{children:[n.jsxs(Re,{className:"pb-3 sm:pb-4",children:[n.jsx(qe,{className:"text-lg sm:text-xl",children:"Authorization Requirements"}),n.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Select roles and permissions required to access this endpoint"})]}),n.jsxs(je,{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[p("authorization")&&n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:p("authorization")})]}),n.jsx(k1t,{availableRoles:i,selectedRoles:x,rolesLoading:o,onToggleRole:me,onSelectAllRoles:ve,onClearAllRoles:S}),n.jsx(Hs,{}),n.jsx(A1t,{availablePermissions:c,selectedPermissionsAny:b,selectedPermissionsAll:h,permissionsLoading:d,onTogglePermissionAny:de,onTogglePermissionAll:ie,onSelectAllPermissionsAny:_e,onClearAllPermissionsAny:k,onSelectAllPermissionsAll:xe,onClearAllPermissionsAll:D})]})]}),n.jsx(O1t,{onCancel:t,isSubmitting:re,isCreating:s})]}),Y&&z&&n.jsx(Yfe,{pathDsl:z,onClose:()=>K(!1)})]})})},F1t=()=>{const e=Vt(),{error:t,helpers:r}=j$({autoFetch:!1,showToasts:!0}),s=()=>{e("/auth-rules")},a=()=>{e("/auth-rules")};return n.jsx(Zt,{title:"Create Authorization Rule",subtitle:"Define a new access control rule for your application",backButton:{show:!0},children:n.jsxs("div",{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[t&&r.isNetworkError()&&n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:"Unable to connect to the server. Please check your internet connection and try again."})]}),t&&r.isUnauthorizedError()&&n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsxs(Ye,{children:["Your session has expired. Please ",n.jsx("a",{href:"/login",className:"underline",children:"login again"})," to continue."]})]}),n.jsxs("div",{className:"bg-primary-50 border border-primary-200 rounded-lg p-3 sm:p-4",children:[n.jsx("h3",{className:"font-medium text-primary-900 mb-2 text-sm sm:text-base",children:"Creating Authorization Rules"}),n.jsxs("div",{className:"text-xs sm:text-sm text-primary-800 space-y-1 sm:space-y-1.5",children:[n.jsxs("p",{className:"break-words",children:[" ",n.jsx("strong",{children:"Service:"})," The application service this rule applies to (e.g., api, data, auth)"]}),n.jsxs("p",{className:"break-words",children:[" ",n.jsx("strong",{children:"Path DSL:"})," Dynamic path pattern with variables like ",n.jsxs("code",{className:"bg-primary-100 px-1 rounded text-xs",children:["/users/","{id}","/posts/*"]})]}),n.jsxs("p",{className:"break-words",children:[" ",n.jsx("strong",{children:"Route Name:"})," Named route identifier like ",n.jsx("code",{className:"bg-primary-100 px-1 rounded text-xs",children:"users.posts.show"})]}),n.jsxs("p",{children:[" ",n.jsx("strong",{children:"Roles:"})," User must have ANY of the specified roles"]}),n.jsxs("p",{children:[" ",n.jsx("strong",{children:"Permissions (Any):"})," User needs ANY of these permissions"]}),n.jsxs("p",{children:[" ",n.jsx("strong",{children:"Permissions (All):"})," User needs ALL of these permissions"]})]})]}),n.jsx(I1t,{onSuccess:s,onCancel:a}),n.jsxs("div",{className:"border-t pt-4 sm:pt-5 lg:pt-6",children:[n.jsx("h3",{className:"font-medium mb-3 text-sm sm:text-base",children:"Common Examples"}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-5 text-xs sm:text-sm",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium text-chart-3 text-sm sm:text-base",children:"Path DSL Examples:"}),n.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[n.jsxs("li",{className:"break-all",children:[n.jsxs("code",{className:"bg-muted px-1 rounded text-xs",children:["/api/users/","{id}"]})," - Matches /api/users/123"]}),n.jsxs("li",{className:"break-all",children:[n.jsx("code",{className:"bg-muted px-1 rounded text-xs",children:"/files/*"})," - Matches any path starting with /files/"]}),n.jsxs("li",{className:"break-all",children:[n.jsxs("code",{className:"bg-muted px-1 rounded text-xs",children:["/admin/","{section}","/settings"]})," - Matches admin sections"]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium text-chart-4 text-sm sm:text-base",children:"Route Name Examples:"}),n.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[n.jsxs("li",{className:"break-all",children:[n.jsx("code",{className:"bg-muted px-1 rounded text-xs",children:"users.show"})," - Show user profile"]}),n.jsxs("li",{className:"break-all",children:[n.jsx("code",{className:"bg-muted px-1 rounded text-xs",children:"admin.dashboard"})," - Admin dashboard"]}),n.jsxs("li",{className:"break-all",children:[n.jsx("code",{className:"bg-muted px-1 rounded text-xs",children:"api.data.export"})," - Data export endpoint"]})]})]})]})]}),n.jsxs("div",{className:"bg-chart-2/10 border border-chart-2/30 rounded-lg p-3 sm:p-4",children:[n.jsx("h3",{className:"font-medium text-chart-2 mb-2 text-sm sm:text-base",children:" Pro Tips"}),n.jsxs("ul",{className:"text-xs sm:text-sm text-chart-2/80 space-y-1",children:[n.jsxs("li",{children:[" Use the ",n.jsx("strong",{children:"Test"})," button to validate your Path DSL patterns before saving"]}),n.jsx("li",{children:" Either Path DSL OR Route Name is required, not both"}),n.jsx("li",{children:" At least one role or permission must be specified"}),n.jsx("li",{children:" Inactive rules won't be enforced but are kept for future use"})]})]})]})})},$1t=[n.jsx(At,{path:"/auth-rules",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(C1t,{})})})})},"auth-rules"),n.jsx(At,{path:"/auth-rules/create",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(F1t,{})})})})},"create-auth-rule")],dl=(e=!0,t)=>{const r=ct(),[s,a]=v.useState(""),i=v.useRef(t);i.current=t;const o=se(ESe),c=se(RSe),d=se(OSe),u=se(kSe),l=se(PSe),f=se(db),m=se(DSe),p=o.length>0,x=!c&&o.length===0,b=u?.total||0,h=v.useMemo(()=>({from:u?.from||0,to:u?.to||0,total:u?.total||0}),[u]),y=v.useCallback(async S=>{try{const N={page:S?.page||l,per_page:S?.per_page||f,search:S?.search!==void 0?S.search:m};await r(Kp(N)).unwrap()}catch(N){throw console.error("Failed to fetch stores:",N),N}},[r,l,f,m]);v.useEffect(()=>{e&&!p&&!c&&!d&&y(i.current)},[e,p,c,d,y]),v.useEffect(()=>()=>{d&&r(dX("fetchStores"))},[r,d]);const w=v.useCallback(S=>{S!==l&&S>0&&(!u||S<=u.last_page)&&(r(NSe(S)),y({page:S}))},[r,l,u,y]);return v.useMemo(()=>({stores:o,pagination:u||null,loading:c,error:d,refetch:y,changePage:w,searchTerm:s,setSearchTerm:a,totalStores:b,hasStores:p,isEmpty:x,currentPageData:h}),[o,u,c,d,y,w,s,a,b,p,x,h])},L1t=(e,t=!0)=>{const r=ct(),s=se(ASe),a=se(MSe),i=se(ISe),o=se(TSe),c=se(m=>e?FSe(e)(m):null),d=v.useMemo(()=>s&&s.id===e?s:c&&c.id===e?c:null,[s,c,e]),u=!!d,l=o===e,f=v.useCallback(async m=>{try{if(!m.trim())throw new Error("Store ID is required");await r(U0(m)).unwrap()}catch(p){throw console.error(`Failed to fetch store ${m}:`,p),p}},[r]);return v.useEffect(()=>{t&&e&&e!==o&&!a&&!i&&f(e)},[t,e,o,a,i,f]),v.useEffect(()=>{e||r(CSe())},[e,r]),v.useEffect(()=>()=>{i&&r(dX("fetchStore"))},[r,i]),v.useMemo(()=>({store:d,loading:a,error:i,refetch:f,exists:u,isSelected:l}),[d,a,i,f,u,l])},B1t=({error:e})=>n.jsxs(Ge,{variant:"destructive",className:"bg-destructive/10 border-destructive/20 text-destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsxs(Ye,{className:"text-destructive",children:["Failed to load stores: ",e]})]}),z1t=({onCreateStore:e,onRefresh:t,loading:r})=>n.jsx(Re,{className:"mb-0 bg-muted border-b border-border",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[n.jsx(qe,{className:"text-lg sm:text-xl text-card-foreground",children:"Stores"}),n.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4 w-full sm:w-auto",children:n.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:t,disabled:r,className:`flex items-center gap-2 border-border ${r?"bg-muted text-muted-foreground opacity-60":"bg-secondary text-secondary-foreground hover:bg-secondary/80"}`,children:[n.jsx(Zr,{className:`h-4 w-4 ${r?"animate-spin":""}`}),n.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]}),n.jsxs(W,{onClick:e,className:"flex items-center justify-center gap-2 text-sm bg-primary text-primary-foreground shadow-sm hover:bg-primary/90",children:[n.jsx(Yt,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden xs:inline",children:"Create Store"}),n.jsx("span",{className:"xs:hidden",children:"Create"})]})]})})]})});var JO=["Enter"," "],U1t=["ArrowDown","PageUp","Home"],Kfe=["ArrowUp","PageDown","End"],H1t=[...U1t,...Kfe],V1t={ltr:[...JO,"ArrowRight"],rtl:[...JO,"ArrowLeft"]},W1t={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ew="Menu",[eb,q1t,G1t]=ew(Ew),[dh,Zfe]=cn(Ew,[G1t,px,y2]),xk=px(),Xfe=y2(),[Y1t,uh]=dh(Ew),[K1t,kw]=dh(Ew),Jfe=e=>{const{__scopeMenu:t,open:r=!1,children:s,dir:a,onOpenChange:i,modal:o=!0}=e,c=xk(t),[d,u]=v.useState(null),l=v.useRef(!1),f=As(i),m=Zu(a);return v.useEffect(()=>{const p=()=>{l.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>l.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),n.jsx(O3,{...c,children:n.jsx(Y1t,{scope:t,open:r,onOpenChange:f,content:d,onContentChange:u,children:n.jsx(K1t,{scope:t,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:l,dir:m,modal:o,children:s})})})};Jfe.displayName=Ew;var Z1t="MenuAnchor",S$=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=xk(r);return n.jsx($E,{...a,...s,ref:t})});S$.displayName=Z1t;var N$="MenuPortal",[X1t,Qfe]=dh(N$,{forceMount:void 0}),eme=e=>{const{__scopeMenu:t,forceMount:r,children:s,container:a}=e,i=uh(N$,t);return n.jsx(X1t,{scope:t,forceMount:r,children:n.jsx(Kl,{present:r||i.open,children:n.jsx(dx,{asChild:!0,container:a,children:s})})})};eme.displayName=N$;var vo="MenuContent",[J1t,C$]=dh(vo),tme=v.forwardRef((e,t)=>{const r=Qfe(vo,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=uh(vo,e.__scopeMenu),o=kw(vo,e.__scopeMenu);return n.jsx(eb.Provider,{scope:e.__scopeMenu,children:n.jsx(Kl,{present:s||i.open,children:n.jsx(eb.Slot,{scope:e.__scopeMenu,children:o.modal?n.jsx(Q1t,{...a,ref:t}):n.jsx(eSt,{...a,ref:t})})})})}),Q1t=v.forwardRef((e,t)=>{const r=uh(vo,e.__scopeMenu),s=v.useRef(null),a=bt(t,s);return v.useEffect(()=>{const i=s.current;if(i)return PE(i)},[]),n.jsx(_$,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Lt(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),eSt=v.forwardRef((e,t)=>{const r=uh(vo,e.__scopeMenu);return n.jsx(_$,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),tSt=Nu("MenuContent.ScrollLock"),_$=v.forwardRef((e,t)=>{const{__scopeMenu:r,loop:s=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:u,onPointerDownOutside:l,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:x,...b}=e,h=uh(vo,r),y=kw(vo,r),w=xk(r),S=Xfe(r),N=q1t(r),[_,k]=v.useState(null),E=v.useRef(null),T=bt(t,E,h.onContentChange),D=v.useRef(0),P=v.useRef(""),M=v.useRef(0),R=v.useRef(null),B=v.useRef("right"),L=v.useRef(0),$=x?Tb:v.Fragment,I=x?{as:tSt,allowPinchZoom:!0}:void 0,z=Z=>{const V=P.current+Z,G=N().filter(me=>!me.disabled),U=document.activeElement,Y=G.find(me=>me.ref.current===U)?.textValue,K=G.map(me=>me.textValue),re=mSt(K,V,Y),he=G.find(me=>me.textValue===re)?.ref.current;(function me(de){P.current=de,window.clearTimeout(D.current),de!==""&&(D.current=window.setTimeout(()=>me(""),1e3))})(V),he&&setTimeout(()=>he.focus())};v.useEffect(()=>()=>window.clearTimeout(D.current),[]),xre();const H=v.useCallback(Z=>B.current===R.current?.side&&pSt(Z,R.current?.area),[]);return n.jsx(J1t,{scope:r,searchRef:P,onItemEnter:v.useCallback(Z=>{H(Z)&&Z.preventDefault()},[H]),onItemLeave:v.useCallback(Z=>{H(Z)||(E.current?.focus(),k(null))},[H]),onTriggerLeave:v.useCallback(Z=>{H(Z)&&Z.preventDefault()},[H]),pointerGraceTimerRef:M,onPointerGraceIntentChange:v.useCallback(Z=>{R.current=Z},[]),children:n.jsx($,{...I,children:n.jsx(Ab,{asChild:!0,trapped:a,onMountAutoFocus:Lt(i,Z=>{Z.preventDefault(),E.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(ME,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:l,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:n.jsx(noe,{asChild:!0,...S,dir:y.dir,orientation:"vertical",loop:s,currentTabStopId:_,onCurrentTabStopIdChange:k,onEntryFocus:Lt(d,Z=>{y.isUsingKeyboardRef.current||Z.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(I3,{role:"menu","aria-orientation":"vertical","data-state":xme(h.open),"data-radix-menu-content":"",dir:y.dir,...w,...b,ref:T,style:{outline:"none",...b.style},onKeyDown:Lt(b.onKeyDown,Z=>{const G=Z.target.closest("[data-radix-menu-content]")===Z.currentTarget,U=Z.ctrlKey||Z.altKey||Z.metaKey,Y=Z.key.length===1;G&&(Z.key==="Tab"&&Z.preventDefault(),!U&&Y&&z(Z.key));const K=E.current;if(Z.target!==K||!H1t.includes(Z.key))return;Z.preventDefault();const he=N().filter(me=>!me.disabled).map(me=>me.ref.current);Kfe.includes(Z.key)&&he.reverse(),uSt(he)}),onBlur:Lt(e.onBlur,Z=>{Z.currentTarget.contains(Z.target)||(window.clearTimeout(D.current),P.current="")}),onPointerMove:Lt(e.onPointerMove,tb(Z=>{const V=Z.target,G=L.current!==Z.clientX;if(Z.currentTarget.contains(V)&&G){const U=Z.clientX>L.current?"right":"left";B.current=U,L.current=Z.clientX}}))})})})})})})});tme.displayName=vo;var rSt="MenuGroup",E$=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(nt.div,{role:"group",...s,ref:t})});E$.displayName=rSt;var sSt="MenuLabel",rme=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(nt.div,{...s,ref:t})});rme.displayName=sSt;var R_="MenuItem",cK="menu.itemSelect",vk=v.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:s,...a}=e,i=v.useRef(null),o=kw(R_,e.__scopeMenu),c=C$(R_,e.__scopeMenu),d=bt(t,i),u=v.useRef(!1),l=()=>{const f=i.current;if(!r&&f){const m=new CustomEvent(cK,{bubbles:!0,cancelable:!0});f.addEventListener(cK,p=>s?.(p),{once:!0}),AE(f,m),m.defaultPrevented?u.current=!1:o.onClose()}};return n.jsx(sme,{...a,ref:d,disabled:r,onClick:Lt(e.onClick,l),onPointerDown:f=>{e.onPointerDown?.(f),u.current=!0},onPointerUp:Lt(e.onPointerUp,f=>{u.current||f.currentTarget?.click()}),onKeyDown:Lt(e.onKeyDown,f=>{const m=c.searchRef.current!=="";r||m&&f.key===" "||JO.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});vk.displayName=R_;var sme=v.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:s=!1,textValue:a,...i}=e,o=C$(R_,r),c=Xfe(r),d=v.useRef(null),u=bt(t,d),[l,f]=v.useState(!1),[m,p]=v.useState("");return v.useEffect(()=>{const x=d.current;x&&p((x.textContent??"").trim())},[i.children]),n.jsx(eb.ItemSlot,{scope:r,disabled:s,textValue:a??m,children:n.jsx(aoe,{asChild:!0,...c,focusable:!s,children:n.jsx(nt.div,{role:"menuitem","data-highlighted":l?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:u,onPointerMove:Lt(e.onPointerMove,tb(x=>{s?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Lt(e.onPointerLeave,tb(x=>o.onItemLeave(x))),onFocus:Lt(e.onFocus,()=>f(!0)),onBlur:Lt(e.onBlur,()=>f(!1))})})})}),nSt="MenuCheckboxItem",nme=v.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:s,...a}=e;return n.jsx(cme,{scope:e.__scopeMenu,checked:r,children:n.jsx(vk,{role:"menuitemcheckbox","aria-checked":M_(r)?"mixed":r,...a,ref:t,"data-state":A$(r),onSelect:Lt(a.onSelect,()=>s?.(M_(r)?!0:!r),{checkForDefaultPrevented:!1})})})});nme.displayName=nSt;var ame="MenuRadioGroup",[aSt,iSt]=dh(ame,{value:void 0,onValueChange:()=>{}}),ime=v.forwardRef((e,t)=>{const{value:r,onValueChange:s,...a}=e,i=As(s);return n.jsx(aSt,{scope:e.__scopeMenu,value:r,onValueChange:i,children:n.jsx(E$,{...a,ref:t})})});ime.displayName=ame;var ome="MenuRadioItem",lme=v.forwardRef((e,t)=>{const{value:r,...s}=e,a=iSt(ome,e.__scopeMenu),i=r===a.value;return n.jsx(cme,{scope:e.__scopeMenu,checked:i,children:n.jsx(vk,{role:"menuitemradio","aria-checked":i,...s,ref:t,"data-state":A$(i),onSelect:Lt(s.onSelect,()=>a.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});lme.displayName=ome;var k$="MenuItemIndicator",[cme,oSt]=dh(k$,{checked:!1}),dme=v.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:s,...a}=e,i=oSt(k$,r);return n.jsx(Kl,{present:s||M_(i.checked)||i.checked===!0,children:n.jsx(nt.span,{...a,ref:t,"data-state":A$(i.checked)})})});dme.displayName=k$;var lSt="MenuSeparator",ume=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(nt.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});ume.displayName=lSt;var cSt="MenuArrow",fme=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=xk(r);return n.jsx(F3,{...a,...s,ref:t})});fme.displayName=cSt;var dSt="MenuSub",[M3t,mme]=dh(dSt),I0="MenuSubTrigger",hme=v.forwardRef((e,t)=>{const r=uh(I0,e.__scopeMenu),s=kw(I0,e.__scopeMenu),a=mme(I0,e.__scopeMenu),i=C$(I0,e.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=i,u={__scopeMenu:e.__scopeMenu},l=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>l,[l]),v.useEffect(()=>{const f=c.current;return()=>{window.clearTimeout(f),d(null)}},[c,d]),n.jsx(S$,{asChild:!0,...u,children:n.jsx(sme,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":xme(r.open),...e,ref:Vc(t,a.onTriggerChange),onClick:f=>{e.onClick?.(f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Lt(e.onPointerMove,tb(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),l()},100))})),onPointerLeave:Lt(e.onPointerLeave,tb(f=>{l();const m=r.content?.getBoundingClientRect();if(m){const p=r.content?.dataset.side,x=p==="right",b=x?-5:5,h=m[x?"left":"right"],y=m[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:h,y:m.top},{x:y,y:m.top},{x:y,y:m.bottom},{x:h,y:m.bottom}],side:p}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Lt(e.onKeyDown,f=>{const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||V1t[s.dir].includes(f.key)&&(r.onOpenChange(!0),r.content?.focus(),f.preventDefault())})})})});hme.displayName=I0;var pme="MenuSubContent",gme=v.forwardRef((e,t)=>{const r=Qfe(vo,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=uh(vo,e.__scopeMenu),o=kw(vo,e.__scopeMenu),c=mme(pme,e.__scopeMenu),d=v.useRef(null),u=bt(t,d);return n.jsx(eb.Provider,{scope:e.__scopeMenu,children:n.jsx(Kl,{present:s||i.open,children:n.jsx(eb.Slot,{scope:e.__scopeMenu,children:n.jsx(_$,{id:c.contentId,"aria-labelledby":c.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:l=>{o.isUsingKeyboardRef.current&&d.current?.focus(),l.preventDefault()},onCloseAutoFocus:l=>l.preventDefault(),onFocusOutside:Lt(e.onFocusOutside,l=>{l.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Lt(e.onEscapeKeyDown,l=>{o.onClose(),l.preventDefault()}),onKeyDown:Lt(e.onKeyDown,l=>{const f=l.currentTarget.contains(l.target),m=W1t[o.dir].includes(l.key);f&&m&&(i.onOpenChange(!1),c.trigger?.focus(),l.preventDefault())})})})})})});gme.displayName=pme;function xme(e){return e?"open":"closed"}function M_(e){return e==="indeterminate"}function A$(e){return M_(e)?"indeterminate":e?"checked":"unchecked"}function uSt(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function fSt(e,t){return e.map((r,s)=>e[(t+s)%e.length])}function mSt(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=fSt(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const d=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function hSt(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const c=t[i],d=t[o],u=c.x,l=c.y,f=d.x,m=d.y;l>s!=m>s&&r<(f-u)*(s-l)/(m-l)+u&&(a=!a)}return a}function pSt(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return hSt(r,t)}function tb(e){return t=>t.pointerType==="mouse"?e(t):void 0}var gSt=Jfe,xSt=S$,vSt=eme,ySt=tme,bSt=E$,wSt=rme,jSt=vk,SSt=nme,NSt=ime,CSt=lme,_St=dme,ESt=ume,kSt=fme,ASt=hme,TSt=gme,yk="DropdownMenu",[DSt,O3t]=cn(yk,[Zfe]),Oa=Zfe(),[PSt,vme]=DSt(yk),yme=e=>{const{__scopeDropdownMenu:t,children:r,dir:s,open:a,defaultOpen:i,onOpenChange:o,modal:c=!0}=e,d=Oa(t),u=v.useRef(null),[l,f]=Di({prop:a,defaultProp:i??!1,onChange:o,caller:yk});return n.jsx(PSt,{scope:t,triggerId:An(),triggerRef:u,contentId:An(),open:l,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(m=>!m),[f]),modal:c,children:n.jsx(gSt,{...d,open:l,onOpenChange:f,dir:s,modal:c,children:r})})};yme.displayName=yk;var bme="DropdownMenuTrigger",wme=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:s=!1,...a}=e,i=vme(bme,r),o=Oa(r);return n.jsx(xSt,{asChild:!0,...o,children:n.jsx(nt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:Vc(t,i.triggerRef),onPointerDown:Lt(e.onPointerDown,c=>{!s&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:Lt(e.onKeyDown,c=>{s||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});wme.displayName=bme;var RSt="DropdownMenuPortal",jme=e=>{const{__scopeDropdownMenu:t,...r}=e,s=Oa(t);return n.jsx(vSt,{...s,...r})};jme.displayName=RSt;var Sme="DropdownMenuContent",Nme=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=vme(Sme,r),i=Oa(r),o=v.useRef(!1);return n.jsx(ySt,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...s,ref:t,onCloseAutoFocus:Lt(e.onCloseAutoFocus,c=>{o.current||a.triggerRef.current?.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:Lt(e.onInteractOutside,c=>{const d=c.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0,l=d.button===2||u;(!a.modal||l)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Nme.displayName=Sme;var MSt="DropdownMenuGroup",OSt=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Oa(r);return n.jsx(bSt,{...a,...s,ref:t})});OSt.displayName=MSt;var ISt="DropdownMenuLabel",Cme=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Oa(r);return n.jsx(wSt,{...a,...s,ref:t})});Cme.displayName=ISt;var FSt="DropdownMenuItem",_me=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Oa(r);return n.jsx(jSt,{...a,...s,ref:t})});_me.displayName=FSt;var $St="DropdownMenuCheckboxItem",Eme=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Oa(r);return n.jsx(SSt,{...a,...s,ref:t})});Eme.displayName=$St;var LSt="DropdownMenuRadioGroup",BSt=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Oa(r);return n.jsx(NSt,{...a,...s,ref:t})});BSt.displayName=LSt;var zSt="DropdownMenuRadioItem",kme=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Oa(r);return n.jsx(CSt,{...a,...s,ref:t})});kme.displayName=zSt;var USt="DropdownMenuItemIndicator",Ame=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Oa(r);return n.jsx(_St,{...a,...s,ref:t})});Ame.displayName=USt;var HSt="DropdownMenuSeparator",Tme=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Oa(r);return n.jsx(ESt,{...a,...s,ref:t})});Tme.displayName=HSt;var VSt="DropdownMenuArrow",WSt=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Oa(r);return n.jsx(kSt,{...a,...s,ref:t})});WSt.displayName=VSt;var qSt="DropdownMenuSubTrigger",Dme=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Oa(r);return n.jsx(ASt,{...a,...s,ref:t})});Dme.displayName=qSt;var GSt="DropdownMenuSubContent",Pme=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Oa(r);return n.jsx(TSt,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Pme.displayName=GSt;var YSt=yme,KSt=wme,ZSt=jme,Rme=Nme,Mme=Cme,Ome=_me,Ime=Eme,Fme=kme,$me=Ame,Lme=Tme,Bme=Dme,zme=Pme;const Aw=YSt,Tw=KSt,XSt=v.forwardRef(({className:e,inset:t,children:r,...s},a)=>n.jsxs(Bme,{ref:a,className:X("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...s,children:[r,n.jsx(ko,{className:"ml-auto"})]}));XSt.displayName=Bme.displayName;const JSt=v.forwardRef(({className:e,...t},r)=>n.jsx(zme,{ref:r,className:X("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));JSt.displayName=zme.displayName;const Ox=v.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(ZSt,{children:n.jsx(Rme,{ref:s,sideOffset:t,className:X("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));Ox.displayName=Rme.displayName;const Go=v.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(Ome,{ref:s,className:X("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...r}));Go.displayName=Ome.displayName;const QSt=v.forwardRef(({className:e,children:t,checked:r,...s},a)=>n.jsxs(Ime,{ref:a,className:X("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx($me,{children:n.jsx(ix,{className:"h-4 w-4"})})}),t]}));QSt.displayName=Ime.displayName;const eNt=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Fme,{ref:s,className:X("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx($me,{children:n.jsx(ju,{className:"h-2 w-2 fill-current"})})}),t]}));eNt.displayName=Fme.displayName;const tNt=v.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(Mme,{ref:s,className:X("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));tNt.displayName=Mme.displayName;const rNt=v.forwardRef(({className:e,...t},r)=>n.jsx(Lme,{ref:r,className:X("-mx-1 my-1 h-px bg-muted",e),...t}));rNt.displayName=Lme.displayName;const sNt=({storeId:e,onView:t,onEdit:r,onViewHierarchy:s})=>n.jsxs(Aw,{children:[n.jsx(Tw,{asChild:!0,children:n.jsxs(W,{variant:"ghost",className:"h-6 w-6 sm:h-8 sm:w-8 p-0 text-muted-foreground bg-transparent hover:bg-muted/50",children:[n.jsx("span",{className:"sr-only",children:"Open menu"}),n.jsx(Nb,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})}),n.jsxs(Ox,{align:"end",className:"min-w-[140px] sm:min-w-[160px] bg-popover border border-border shadow-md",children:[n.jsxs(Go,{onClick:()=>t(e),className:"text-xs sm:text-sm px-2 py-1.5 sm:px-3 sm:py-2 cursor-pointer text-popover-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",children:[n.jsx(ln,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),n.jsx("span",{children:"View Details"})]}),n.jsxs(Go,{onClick:()=>r(e),className:"text-xs sm:text-sm px-2 py-1.5 sm:px-3 sm:py-2 cursor-pointer text-popover-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",children:[n.jsx(Pa,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),n.jsx("span",{children:"Edit Store"})]}),n.jsxs(Go,{onClick:()=>s(e),className:"text-xs sm:text-sm px-2 py-1.5 sm:px-3 sm:py-2 cursor-pointer text-popover-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",children:[n.jsx(WLe,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),n.jsx("span",{children:"View Hierarchy"})]})]})]}),nNt=({store:e,onView:t,onEdit:r,onViewHierarchy:s})=>n.jsxs(Nt,{className:"border-border bg-card hover:bg-muted/50 transition-colors",children:[n.jsx(Ee,{className:"font-medium text-xs sm:text-sm p-2 sm:p-4 text-foreground",children:n.jsx("div",{className:"truncate max-w-[5rem] sm:max-w-none",title:e.id,children:e.id})}),n.jsx(Ee,{className:"p-2 sm:p-4",children:n.jsx("div",{className:"text-xs sm:text-sm truncate max-w-[8rem] sm:max-w-none text-foreground",title:e.name,children:e.name})}),n.jsx(Ee,{className:"p-2 sm:p-4",children:n.jsx(Ae,{variant:e.statusBadgeVariant,className:`text-xs px-1 py-0.5 sm:px-2 sm:py-1 ${e.statusBadgeClassName}`,children:e.statusText})}),n.jsx(Ee,{className:"text-xs sm:text-sm p-2 sm:p-4 hidden sm:table-cell text-muted-foreground",children:e.formattedDate}),n.jsx(Ee,{className:"text-right p-2 sm:p-4",children:n.jsx("div",{className:"flex justify-end",children:n.jsx(sNt,{storeId:e.id,onView:t,onEdit:r,onViewHierarchy:s})})})]},e.id),aNt=({storeRowsData:e,onView:t,onEdit:r,onViewHierarchy:s})=>n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Xr,{className:"min-w-full",children:[n.jsx(Jr,{className:"bg-muted border-b border-border",children:n.jsxs(Nt,{className:"border-border",children:[n.jsx(De,{className:"min-w-[6rem] text-xs sm:text-sm text-foreground font-semibold",children:"Store ID"}),n.jsx(De,{className:"min-w-[10rem] text-xs sm:text-sm text-foreground font-semibold",children:"Name"}),n.jsx(De,{className:"min-w-[5rem] text-xs sm:text-sm text-foreground font-semibold",children:"Status"}),n.jsx(De,{className:"min-w-[8rem] text-xs sm:text-sm hidden sm:table-cell text-foreground font-semibold",children:"Created"}),n.jsx(De,{className:"min-w-[5rem] text-right text-xs sm:text-sm text-foreground font-semibold",children:"Actions"})]})}),n.jsx(Qr,{children:e.map(a=>n.jsx(nNt,{store:a,onView:t,onEdit:r,onViewHierarchy:s},a.id))})]})}),iNt=({loading:e,stores:t,storeRowsData:r,onView:s,onEdit:a,onViewHierarchy:i})=>n.jsx(je,{className:"p-0 bg-card",children:e?n.jsx("div",{className:"flex items-center justify-center h-48 sm:h-64 bg-card",children:n.jsx(af,{message:"Loading stores...",size:"medium",className:"h-48 sm:h-64 bg-card text-muted-foreground"})}):t.length?n.jsx(aNt,{storeRowsData:r,onView:s,onEdit:a,onViewHierarchy:i}):n.jsx("div",{className:"text-center py-6 sm:py-8 bg-card",children:n.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No stores found."})})}),oNt=({perPage:e,perPageOptions:t,loading:r,paginationState:s,pagination:a,resultsText:i,onPerPageChange:o,onPreviousPage:c,onNextPage:d})=>n.jsxs("div",{className:"px-4 py-3 border-t border-border bg-card flex flex-col lg:flex-row items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Show"}),n.jsxs(xt,{value:e.toString(),onValueChange:o,disabled:r,children:[n.jsx(ft,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:n.jsx(vt,{})}),n.jsx(mt,{className:"bg-popover border-border",children:t.map(u=>n.jsx(Ue,{value:u,children:u},u))})]}),n.jsx("span",{className:"text-muted-foreground",children:"per page"})]}),s.shouldShowPagination&&a&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(W,{variant:"outline",size:"sm",onClick:c,disabled:s.isPrevDisabled,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Prev"}),n.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground",children:["Page ",s.currentPage," of ",a.last_page]}),n.jsx(W,{variant:"outline",size:"sm",onClick:d,disabled:s.isNextDisabled,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Next"})]}),n.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:i})]}),lNt=["5","10","15","25","50"],cNt=({onCreateStore:e})=>{const t=Vt(),r=ct(),{stores:s,loading:a,error:i,pagination:o,refetch:c,changePage:d,currentPageData:u}=dl(),l=se(db),f=v.useMemo(()=>s,[s]),m=v.useCallback(D=>{t(`/stores/view/${D}`)},[t]),p=v.useCallback(D=>{t(`/stores/edit/${D}`)},[t]),x=v.useCallback(()=>{c()},[c]),b=v.useCallback(()=>{e?e():t("/stores/create")},[e,t]),h=v.useCallback(D=>{t(`/stores-hierarchy/view/${D}`)},[t]),y=v.useCallback(D=>{d(D)},[d]),w=v.useCallback(async D=>{const P=parseInt(D,10);r(iE(P)),await c({per_page:P,page:1})},[r,c]),S=v.useCallback(D=>new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),[]),N=v.useMemo(()=>{const D=!!(o&&o.last_page>1),P=o?.current_page||1,M=P<=1||a,R=P>=(o?.last_page||1)||a;return{shouldShowPagination:D,currentPage:P,isPrevDisabled:M,isNextDisabled:R}},[o,a]),_=v.useMemo(()=>{if(a)return"Loading...";if(!f.length)return"No results";const{from:D,to:P,total:M}=u;return M<=l?`${M} result${M!==1?"s":""}`:`Showing ${D} to ${P} of ${M} results`},[a,f.length,u,l]),k=v.useCallback(()=>{y(N.currentPage-1)},[y,N.currentPage]),E=v.useCallback(()=>{y(N.currentPage+1)},[y,N.currentPage]),T=v.useMemo(()=>f.map(D=>({...D,formattedDate:S(D.created_at),statusBadgeVariant:D.is_active?"default":"secondary",statusBadgeClassName:D.is_active?"bg-primary text-primary-foreground border-primary":"bg-secondary text-secondary-foreground border-border",statusText:D.is_active?"Active":"Inactive"})),[f,S]);return n.jsxs("div",{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[i&&n.jsx(B1t,{error:i}),n.jsxs(oe,{className:"rounded-sm bg-card border border-border shadow-lg",children:[n.jsx(z1t,{onCreateStore:b,onRefresh:x,loading:a}),n.jsx(iNt,{loading:a,stores:f,storeRowsData:T,onView:m,onEdit:p,onViewHierarchy:h}),n.jsx(oNt,{perPage:l,perPageOptions:lNt,loading:a,paginationState:N,pagination:o,resultsText:_,onPerPageChange:w,onPreviousPage:k,onNextPage:E})]})]})},dNt=()=>{const e=Vt(),t=()=>{e("/stores/create")};return n.jsx(Zt,{title:"Stores Management",subtitle:"Manage your store locations and settings",children:n.jsx(cNt,{onCreateStore:t})})},uNt=Dt({key:et().min(1,"Key is required").min(2,"Key must be at least 2 characters"),value:et().min(1,"Value is required")}),Ume=Dt({name:et().min(1,"Store name is required").min(2,"Store name must be at least 2 characters"),is_active:Ps(),metadata:hr(uNt).refine(e=>{const t=e.map(r=>r.key.toLowerCase());return t.length===new Set(t).size},{message:"Duplicate metadata keys are not allowed"})}),fNt=Ume.extend({id:et().min(1,"Store ID is required").min(3,"Store ID must be at least 3 characters")}),mNt=Ume.extend({id:et().min(1,"Store ID is required")}),dK=e=>Object.entries(e).map(([t,r])=>({key:t,value:String(r)})),hNt=e=>e.reduce((t,{key:r,value:s})=>(r.trim()&&s.trim()&&(t[r.trim()]=s.trim()),t),{}),x4={base:"w-full bg-background text-foreground border-input focus:ring-ring",error:"border-destructive focus:ring-destructive",small:"text-xs sm:text-sm",normal:"text-sm sm:text-base"},uK={base:"font-medium text-foreground",small:"text-xs sm:text-sm",normal:"text-sm sm:text-base"},fK={responsive:"text-sm sm:text-base px-4 sm:px-6 py-2 sm:py-3"},O_=(e,t="normal")=>`${x4.base} ${x4[t]} ${e?x4.error:""}`,Bg=(e="normal")=>`${uK.base} ${uK[e]}`,pNt=({mode:e})=>n.jsxs("div",{className:"mb-6 sm:mb-8",children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-foreground mb-2",children:e==="create"?"Store Information":"Edit Store Information"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e==="create"?"Please fill in all required fields to create a new store.":"Update the store information below."})]}),gNt=({mode:e,initialData:t,register:r,formErrors:s})=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Q,{htmlFor:"id",className:Bg("normal"),children:["Store ID ",e==="create"?"*":""]}),n.jsx(ne,{id:"id",type:"text",placeholder:e==="create"?"Enter unique store ID":"",value:e==="edit"&&t?t.id:void 0,disabled:e==="edit",className:O_(!!s.id,"normal"),...e==="create"?r("id"):{}}),s.id&&n.jsx("p",{className:"text-xs sm:text-sm text-destructive",children:s.id.message})]}),xNt=({register:e,formErrors:t})=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{htmlFor:"name",className:Bg("normal"),children:"Store Name *"}),n.jsx(ne,{id:"name",type:"text",placeholder:"Enter store name",className:O_(!!t.name,"normal"),...e("name")}),t.name&&n.jsx("p",{className:"text-xs sm:text-sm text-destructive",children:t.name.message})]}),vNt=({index:e,register:t,formErrors:r,remove:s,loading:a,isSubmitting:i})=>n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 p-4 border border-border rounded-lg bg-card",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:Bg("small"),children:"Key"}),n.jsx(ne,{type:"text",placeholder:"Enter key",className:O_(!!r.metadata?.[e]?.key,"small"),...t(`metadata.${e}.key`)}),r.metadata?.[e]?.key&&n.jsx("p",{className:"text-xs text-destructive",children:r.metadata[e].key.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Q,{className:Bg("small"),children:"Value"}),n.jsx(W,{type:"button",variant:"ghost",size:"sm",onClick:()=>s(e),disabled:a||i,className:"text-destructive hover:text-destructive hover:bg-destructive/10 p-1 h-auto",children:n.jsx(iLe,{className:"h-3 w-3"})})]}),n.jsx(ne,{type:"text",placeholder:"Enter value",className:O_(!!r.metadata?.[e]?.value,"small"),...t(`metadata.${e}.value`)}),r.metadata?.[e]?.value&&n.jsx("p",{className:"text-xs text-destructive",children:r.metadata[e].value.message})]})]}),yNt=({fields:e,append:t,remove:r,register:s,formErrors:a,loading:i,isSubmitting:o})=>{const c=()=>{t({key:"",value:""})};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Q,{className:Bg("normal"),children:"Metadata"}),n.jsxs(W,{type:"button",variant:"outline",size:"sm",onClick:c,disabled:i||o,className:"text-xs sm:text-sm",children:[n.jsx(Yt,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),"Add Metadata"]})]}),e.length===0&&n.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:'No metadata entries. Click "Add Metadata" to add key-value pairs.'}),a.metadata&&n.jsx("p",{className:"text-xs sm:text-sm text-destructive",children:a.metadata.message}),e.map((d,u)=>n.jsx(vNt,{index:u,register:s,formErrors:a,remove:r,loading:i,isSubmitting:o},d.id))]})},bNt=({control:e})=>n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 py-2",children:[n.jsx(u$,{name:"is_active",control:e,render:({field:t})=>n.jsx(ys,{id:"is_active",checked:t.value,onCheckedChange:t.onChange,className:"data-[state=checked]:bg-primary data-[state=unchecked]:bg-input"})}),n.jsx(Q,{htmlFor:"is_active",className:`${Bg("normal")} cursor-pointer`,children:"Store is active"})]}),wNt=({mode:e,loading:t,isSubmitting:r})=>n.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 sm:gap-4 pt-6 sm:pt-8 border-t border-border",children:[n.jsx(W,{type:"button",variant:"outline",onClick:()=>window.history.back(),disabled:t||r,className:`w-full sm:w-auto order-2 sm:order-1 ${fK.responsive} border-border hover:bg-accent hover:text-accent-foreground`,children:"Cancel"}),n.jsxs(W,{type:"submit",disabled:t||r,className:`w-full sm:w-auto order-1 sm:order-2 ${fK.responsive} bg-primary hover:bg-primary/90 text-primary-foreground`,children:[(t||r)&&n.jsx(at,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4 animate-spin"}),e==="create"?"Create Store":"Update Store"]})]}),Hme=({mode:e,initialData:t,onSubmit:r,loading:s=!1,error:a})=>{const i=e==="create"?fNt:mNt,o=v.useMemo(()=>e==="edit"&&t?{id:t.id,name:t.name,is_active:t.is_active,metadata:dK(t.metadata||{})}:{...e==="create"&&{id:""},name:"",is_active:!0,metadata:[]},[e,t]),{control:c,register:d,handleSubmit:u,formState:{errors:l,isSubmitting:f},reset:m}=Da({resolver:Qa(i),defaultValues:o,mode:"onBlur"}),{fields:p,append:x,remove:b}=fjt({control:c,name:"metadata"});v.useEffect(()=>{e==="edit"&&t&&m({id:t.id,name:t.name,is_active:t.is_active,metadata:dK(t.metadata||{})})},[e,t,m]);const h=async y=>{try{const w=hNt(y.metadata);if(e==="create"){const S={id:y.id,name:y.name,metadata:w,is_active:y.is_active};await r(S)}else{const S={name:y.name,metadata:w,is_active:y.is_active};await r(S)}}catch(w){console.error("Form submission error:",w)}};return n.jsxs("div",{className:"w-full",children:[n.jsx(pNt,{mode:e}),a&&n.jsxs(Ge,{variant:"destructive",className:"mb-6",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:a})]}),n.jsxs("form",{onSubmit:u(h),className:"space-y-4 sm:space-y-6",children:[n.jsx(gNt,{mode:e,initialData:t,register:d,formErrors:l}),n.jsx(xNt,{register:d,formErrors:l}),n.jsx(yNt,{fields:p,append:x,remove:b,register:d,formErrors:l,loading:s,isSubmitting:f}),n.jsx(bNt,{control:c}),n.jsx(wNt,{mode:e,loading:s,isSubmitting:f})]})]})},jNt=()=>{const e=Vt(),t=ct(),r=se(i=>i.stores.asyncStates.createStore.loading),s=se(i=>i.stores.asyncStates.createStore.error),a=async i=>{try{await t(WS(i)).unwrap(),We.success("Store created successfully!",{description:`Store "${"name"in i?i.name:"New store"}" has been created.`}),e("/stores")}catch(o){console.error("Failed to create store:",o),We.error("Failed to create store",{description:"Please check the form and try again."})}};return n.jsx(Zt,{title:"Create New Store",subtitle:"Add a new store to your system with all the necessary details.",backButton:{show:!0},children:n.jsx("div",{className:"bg-card border border-border rounded-lg shadow-sm",children:n.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:n.jsx(Hme,{mode:"create",onSubmit:a,loading:r,error:s})})})})},SNt=()=>{const e=Vt(),t=ct(),{storeId:r}=Sn(),s=se(u=>u.stores.currentStore),a=se(u=>u.stores.asyncStates.fetchStore.loading),i=se(u=>u.stores.asyncStates.fetchStore.error),o=se(u=>u.stores.asyncStates.updateStore.loading),c=se(u=>u.stores.asyncStates.updateStore.error);v.useEffect(()=>{r&&t(U0(r))},[t,r]);const d=async u=>{if(!r){We.error("Store ID is missing");return}try{await t(qS({storeId:r,payload:u})).unwrap(),We.success("Store updated successfully!",{description:`Store "${u.name}" has been updated.`}),e(`/stores/view/${r}`)}catch(l){console.error("Failed to update store:",l),We.error("Failed to update store",{description:"Please check the form and try again."})}};return r?i&&!a?n.jsx(Zt,{title:"Edit Store",subtitle:"Failed to load store data",backButton:{show:!0},children:n.jsxs(Ge,{variant:"destructive",className:"max-w-2xl mx-auto",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsxs(Ye,{children:["Failed to load store data: ",i]})]})}):a||!s?n.jsx(Zt,{title:"Edit Store",subtitle:"Loading store data...",backButton:{show:!0},children:n.jsx(oe,{className:"w-full max-w-2xl mx-auto",children:n.jsx(je,{className:"p-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(rt,{className:"h-4 w-20"}),n.jsx(rt,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(rt,{className:"h-4 w-16"}),n.jsx(rt,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(rt,{className:"h-4 w-24"}),n.jsx(rt,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(rt,{className:"h-4 w-16"}),n.jsx(rt,{className:"h-20 w-full"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(rt,{className:"h-6 w-10"}),n.jsx(rt,{className:"h-4 w-24"})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[n.jsx(rt,{className:"h-10 w-20"}),n.jsx(rt,{className:"h-10 w-28"})]})]})})})}):n.jsx(Zt,{title:"Edit Store",subtitle:`Update the details for store: ${s.name}`,backButton:{show:!0},children:n.jsx("div",{className:"w-full max-w-4xl mx-auto",children:n.jsx(oe,{children:n.jsx(je,{className:"p-6",children:n.jsx(Hme,{mode:"edit",initialData:s,onSubmit:d,loading:o,error:c})})})})}):n.jsx(Zt,{title:"Edit Store",subtitle:"Store ID is missing",backButton:{show:!0},children:n.jsxs(Ge,{variant:"destructive",className:"max-w-2xl mx-auto",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:"Store ID is missing from the URL. Please navigate to this page from the stores list."})]})})},T$=()=>{const e=ct(),t=se(Rp("assign"))==="pending",r=se(Rp("remove"))==="pending",s=se(Rp("toggle"))==="pending",a=se(Rp("bulkAssign"))==="pending",i=se(Mp("assign")),o=se(Mp("remove")),c=se(Mp("toggle")),d=se(Mp("bulkAssign")),u=v.useCallback(p=>e(GS(p)),[e]),l=v.useCallback(p=>e(YS(p)),[e]),f=v.useCallback(p=>e(KS(p)),[e]),m=v.useCallback(p=>e(ZS(p)),[e]);return v.useMemo(()=>({assignUserRole:u,removeUserRole:l,toggleUserRoleStatus:f,bulkAssignUserRoles:m,isAssigning:t,isRemoving:r,isToggling:s,isBulkAssigning:a,assignError:i,removeError:o,toggleError:c,bulkAssignError:d}),[u,l,f,m,t,r,s,a,i,o,c,d])},D$=()=>{const e=ct(),t=se(KSe),r=se(ZSe),s=se(Rp("fetchStoreAssignments"))==="pending",a=se(Rp("fetchUserAssignments"))==="pending",i=se(Mp("fetchStoreAssignments")),o=se(Mp("fetchUserAssignments")),c=v.useCallback(h=>t.storeAssignments[h]||[],[t.storeAssignments]),d=v.useCallback(h=>t.userAssignments[h]||[],[t.userAssignments]),u=v.useCallback(()=>t.assignments,[t.assignments]),l=v.useCallback(h=>e(XS({store_id:h})),[e]),f=v.useCallback(h=>e(JS({user_id:h})),[e]),m=v.useCallback(()=>s,[s]),p=v.useCallback(()=>a,[a]),x=v.useCallback(()=>i,[i]),b=v.useCallback(()=>o,[o]);return v.useMemo(()=>({getStoreAssignments:c,getUserAssignments:d,getAllAssignments:u,fetchStoreAssignments:l,fetchUserAssignments:f,isLoadingStoreAssignments:m,isLoadingUserAssignments:p,isLoading:r,getStoreAssignmentsError:x,getUserAssignmentsError:b}),[c,d,u,l,f,m,p,r,x,b])},Vme=()=>{const e=T$(),t=D$();return v.useMemo(()=>({...e,...t}),[e,t])},Wme=te.memo(({assignment:e})=>n.jsxs(Nt,{children:[n.jsx(Ee,{className:"py-2 sm:py-4",children:n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[n.jsx("div",{className:"h-6 w-6 sm:h-8 sm:w-8 rounded-full flex items-center justify-center bg-primary/10",children:n.jsx("span",{className:"text-xs sm:text-sm font-medium text-primary",children:e.userInitials||n.jsx(Xa,{className:"h-3 w-3"})})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("div",{className:"font-medium text-xs sm:text-sm truncate",children:e.user?.name||`User ID: ${e.user_id}`}),n.jsxs("div",{className:"text-xs text-muted-foreground truncate",children:["ID: ",e.user_id]}),e.user?.email&&n.jsxs("div",{className:"sm:hidden text-xs text-muted-foreground truncate mt-1",children:[e.user.email,e.user.email_verified_at&&n.jsx("span",{className:"ml-2 text-xs text-green-500",children:" Verified"})]})]})]})}),n.jsx(Ee,{className:"hidden sm:table-cell py-2 sm:py-4",children:e.user?.email?n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(sl,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"}),n.jsx("span",{className:"text-xs sm:text-sm truncate max-w-[150px] lg:max-w-none",children:e.user.email})]}),e.user.email_verified_at&&n.jsx("div",{className:"text-xs mt-1 text-green-500",children:"Verified"})]}):n.jsx("div",{className:"text-xs text-muted-foreground",children:"No email available"})}),n.jsx(Ee,{className:"py-2 sm:py-4",children:n.jsx(Ae,{variant:"outline",className:"text-xs",children:e.formattedRole})}),n.jsx(Ee,{className:"py-2 sm:py-4",children:n.jsx(Ae,{variant:e.is_active?"default":"secondary",className:`text-xs ${e.is_active?"bg-green-500 text-white hover:bg-green-600":""}`,children:e.is_active?"Active":"Inactive"})}),n.jsx(Ee,{className:"hidden md:table-cell py-2 sm:py-4",children:n.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-muted-foreground",children:[n.jsx(bn,{className:"h-3 w-3 sm:h-4 sm:w-4"}),n.jsx("span",{className:"whitespace-nowrap",children:e.formattedDate})]})})]}));Wme.displayName="StoreUsersTableRow";const qme=te.memo(({assignments:e})=>n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Xr,{children:[n.jsx(Jr,{children:n.jsxs(Nt,{children:[n.jsx(De,{className:"min-w-[200px] sm:min-w-[250px]",children:"User"}),n.jsx(De,{className:"hidden sm:table-cell min-w-[200px]",children:"Email"}),n.jsx(De,{className:"min-w-[100px]",children:"Role"}),n.jsx(De,{className:"min-w-[80px]",children:"Status"}),n.jsx(De,{className:"hidden md:table-cell min-w-[120px]",children:"Assigned"})]})}),n.jsx(Qr,{children:e.map(t=>n.jsx(Wme,{assignment:t},t.uniqueKey))})]})}));qme.displayName="StoreUsersTable";const Gme=te.memo(()=>n.jsxs("div",{className:"text-center py-6 sm:py-8 px-4",children:[n.jsx(cs,{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 text-muted-foreground mb-3 sm:mb-4"}),n.jsx("h3",{className:"text-base sm:text-lg font-medium text-muted-foreground mb-2",children:"No user assignments"}),n.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-4 max-w-sm mx-auto",children:"This store doesn't have any user role assignments yet."})]}));Gme.displayName="StoreUsersEmptyState";const NNt=3,Yme=te.memo(()=>n.jsx("div",{className:"space-y-2 sm:space-y-3",children:[...Array(NNt)].map((e,t)=>n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 p-2 sm:p-4",children:[n.jsx(rt,{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full"}),n.jsxs("div",{className:"space-y-1 sm:space-y-2 flex-1",children:[n.jsx(rt,{className:"h-3 sm:h-4 w-24 sm:w-32"}),n.jsx(rt,{className:"h-2 sm:h-3 w-32 sm:w-48"})]}),n.jsx(rt,{className:"h-5 sm:h-6 w-16 sm:w-20"}),n.jsx(rt,{className:"h-3 sm:h-4 w-20 sm:w-24"})]},t))}));Yme.displayName="StoreUsersLoadingSkeleton";const CNt={year:"numeric",month:"short",day:"numeric"},Kme=te.memo(({storeId:e})=>{const{getStoreAssignments:t,fetchStoreAssignments:r,isLoadingStoreAssignments:s,getStoreAssignmentsError:a}=D$(),i=t(e),o=s(),c=a(),d=v.useCallback(()=>{e&&r(e)},[e,r]);v.useEffect(()=>{d()},[d]);const u=v.useCallback(()=>{d()},[d]),l=v.useCallback(x=>new Date(x).toLocaleDateString("en-US",CNt),[]),f=v.useCallback(x=>x.role?.name||`Role ID: ${x.role_id}`,[]),m=v.useCallback(x=>x.split(" ").map(b=>b.charAt(0)).join("").toUpperCase().substring(0,2),[]),p=v.useMemo(()=>i.map(x=>({...x,formattedDate:l(x.created_at),formattedRole:f(x),userInitials:x.user?.name?m(x.user.name):null,uniqueKey:x.id||`${x.user_id}-${x.role_id}`})),[i,l,f,m]);return n.jsxs(oe,{className:"w-full",children:[n.jsx(Re,{className:"px-3 sm:px-6 py-3 sm:py-4",children:n.jsx("div",{className:"flex items-center justify-between flex-wrap gap-2",children:n.jsxs("div",{className:"flex items-center space-x-2 min-w-0 flex-1",children:[n.jsx(cs,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"}),n.jsx(qe,{className:"text-sm sm:text-base lg:text-lg truncate",children:"Store User Assignments"}),n.jsx(Ae,{variant:"secondary",className:"ml-2 text-xs px-2 py-1 flex-shrink-0",children:i.length})]})})}),n.jsxs(je,{className:"px-3 sm:px-6 py-3 sm:py-4",children:[c&&n.jsxs(Ge,{variant:"destructive",className:"mb-3 sm:mb-4",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsxs(Ye,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[n.jsxs("span",{className:"text-xs sm:text-sm",children:["Failed to load user assignments: ",c.message]}),n.jsxs(W,{variant:"outline",size:"sm",onClick:u,className:"h-8 text-xs self-start sm:self-auto",children:[n.jsx(Zr,{className:"mr-2 h-3 w-3"}),"Retry"]})]})]}),o&&n.jsx(Yme,{}),!o&&!c&&i.length===0&&n.jsx(Gme,{}),!o&&!c&&i.length>0&&n.jsx("div",{className:"rounded-md border overflow-hidden",children:n.jsx(qme,{assignments:p})})]})]})});Kme.displayName="StoreUsersSection";const Zme=te.memo(({assignment:e,formatDate:t,getRoleIcon:r})=>n.jsxs(Nt,{children:[n.jsx(Ee,{className:"py-3 sm:py-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[n.jsx("div",{className:"h-6 w-6 sm:h-8 sm:w-8 rounded bg-primary/10 flex items-center justify-center mx-auto sm:mx-0 flex-shrink-0",children:n.jsx("span",{className:"text-sm sm:text-lg",children:r(e.role?.name||"Role")})}),n.jsxs("div",{className:"text-center sm:text-left min-w-0",children:[n.jsx("div",{className:"font-medium text-sm sm:text-base truncate",children:e.role?.name||`Role ID: ${e.role_id}`}),n.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground",children:["Role ID: ",e.role_id]}),n.jsx("div",{className:"md:hidden mt-1 space-y-1",children:n.jsxs("div",{className:"flex items-center justify-center space-x-1 text-xs text-muted-foreground",children:[n.jsx(Xa,{className:"h-3 w-3"}),n.jsx("span",{children:e.user?.name||`User ID: ${e.user_id}`})]})})]})]})}),n.jsx(Ee,{className:"hidden md:table-cell py-3 sm:py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Xa,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground flex-shrink-0"}),n.jsx("span",{className:"text-xs sm:text-sm truncate",children:e.user?.name||`User ID: ${e.user_id}`})]})}),n.jsxs(Ee,{className:"py-3 sm:py-4",children:[n.jsx("div",{className:"flex justify-center sm:justify-start",children:n.jsx(Ae,{variant:e.is_active?"default":"secondary",className:`text-xs sm:text-sm ${e.is_active?"bg-[#d1fae5] text-[#065f46] dark:bg-[#064e3b] dark:text-[#10b981]":""}`,children:e.is_active?"Active":"Inactive"})}),n.jsxs("div",{className:"lg:hidden mt-1 flex items-center justify-center sm:justify-start space-x-1 text-xs text-muted-foreground",children:[n.jsx(bn,{className:"h-3 w-3"}),n.jsx("span",{children:t(e.created_at)})]})]}),n.jsx(Ee,{className:"hidden lg:table-cell py-3 sm:py-4",children:n.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-muted-foreground",children:[n.jsx(bn,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),n.jsx("span",{children:t(e.created_at)})]})})]}));Zme.displayName="AssignmentRow";const _Nt=({assignments:e})=>{const t=v.useCallback(s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),[]),r=v.useCallback(s=>{const a=s.toLowerCase();return a.includes("admin")||a.includes("manager")?"":a.includes("user")||a.includes("member")?"":a.includes("viewer")||a.includes("read")?"":""},[]);return n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Xr,{children:[n.jsx(Jr,{children:n.jsxs(Nt,{children:[n.jsx(De,{className:"min-w-[200px] sm:min-w-[250px]",children:"Role"}),n.jsx(De,{className:"hidden md:table-cell min-w-[140px]",children:"User"}),n.jsx(De,{className:"min-w-[80px]",children:"Status"}),n.jsx(De,{className:"hidden lg:table-cell min-w-[120px]",children:"Assigned"})]})}),n.jsx(Qr,{children:e.map(s=>n.jsx(Zme,{assignment:s,formatDate:t,getRoleIcon:r},s.id||`${s.role_id}-${s.user_id}`))})]})})},Xme=te.memo(()=>n.jsx("div",{className:"space-y-2 sm:space-y-3",children:[...Array(3)].map((e,t)=>n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-4 p-3 sm:p-4",children:[n.jsx(rt,{className:"h-8 w-8 sm:h-10 sm:w-10 rounded mx-auto sm:mx-0"}),n.jsxs("div",{className:"space-y-2 flex-1 text-center sm:text-left",children:[n.jsx(rt,{className:"h-3 sm:h-4 w-24 sm:w-32 mx-auto sm:mx-0"}),n.jsx(rt,{className:"h-3 w-32 sm:w-48 mx-auto sm:mx-0"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-2",children:[n.jsx(rt,{className:"h-5 sm:h-6 w-16 sm:w-20"}),n.jsx(rt,{className:"h-3 sm:h-4 w-20 sm:w-24"})]})]},t))}));Xme.displayName="LoadingSkeleton";const Jme=te.memo(()=>n.jsxs("div",{className:"text-center py-6 sm:py-8 lg:py-12 px-4",children:[n.jsx(ws,{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 lg:h-16 lg:w-16 text-muted-foreground mb-3 sm:mb-4"}),n.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-medium text-muted-foreground mb-2",children:"No role assignments"}),n.jsx("p",{className:"text-xs sm:text-sm lg:text-base text-muted-foreground mb-4 max-w-md mx-auto",children:"This store doesn't have any role assignments yet."})]}));Jme.displayName="EmptyState";const ENt=({storeId:e})=>{const{getStoreAssignments:t,fetchStoreAssignments:r,isLoadingStoreAssignments:s,getStoreAssignmentsError:a}=D$(),i=t(e),o=s(),c=a();v.useEffect(()=>{e&&r(e)},[e,r]);const d=v.useCallback(()=>{e&&r(e)},[e,r]),u=v.useMemo(()=>i.length,[i.length]);return n.jsxs(oe,{className:"w-full",children:[n.jsx(Re,{className:"pb-3 sm:pb-6",children:n.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:n.jsxs("div",{className:"flex items-center justify-center sm:justify-start space-x-2",children:[n.jsx(ws,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-primary"}),n.jsx(qe,{className:"text-base sm:text-lg lg:text-xl",children:"Store Role Assignments"}),n.jsx(Ae,{variant:"secondary",className:"ml-1 sm:ml-2 text-xs sm:text-sm",children:u})]})})}),n.jsxs(je,{className:"px-3 sm:px-6 pb-3 sm:pb-6",children:[c&&n.jsxs(Ge,{variant:"destructive",className:"mb-3 sm:mb-4",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsxs(Ye,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[n.jsxs("span",{className:"text-sm",children:["Failed to load role assignments: ",c.message]}),n.jsxs(W,{variant:"outline",size:"sm",onClick:d,className:"sm:ml-4 h-8 text-xs sm:text-sm w-full sm:w-auto",children:[n.jsx(Zr,{className:"mr-1 sm:mr-2 h-3 w-3"}),"Retry"]})]})]}),o&&n.jsx(Xme,{}),!o&&!c&&u===0&&n.jsx(Jme,{}),!o&&!c&&u>0&&n.jsx("div",{className:"rounded-md border border-border bg-card",children:n.jsx(_Nt,{assignments:i})})]})]})},kNt=e=>{switch(e.toLowerCase()){case"active":return"bg-[#d1fae5] text-[#064e3b] border-[#a7f3d0] dark:bg-[#064e3b] dark:text-[#d1fae5] dark:border-[#065f46]";case"inactive":return"bg-[#fecaca] text-[#7f1d1d] border-[#fca5a5] dark:bg-[#7f1d1d] dark:text-[#fecaca] dark:border-[#991b1b]";case"pending":return"bg-[#fef3c7] text-[#92400e] border-[#fde68a] dark:bg-[#92400e] dark:text-[#fef3c7] dark:border-[#b45309]";default:return"bg-secondary text-secondary-foreground border-border"}},ANt=({store:e})=>n.jsxs(oe,{children:[n.jsx(Re,{className:"pb-3 sm:pb-6",children:n.jsxs(qe,{className:"flex items-center space-x-2 text-base sm:text-lg",children:[n.jsx(zs,{className:"h-4 w-4 sm:h-5 sm:w-5"}),n.jsx("span",{children:"Basic Information"})]})}),n.jsxs(je,{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1 sm:gap-0",children:[n.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Store ID"}),n.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[n.jsx(Xm,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"}),n.jsx("span",{className:"font-mono text-xs sm:text-sm break-all",children:e.id})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1 sm:gap-0",children:[n.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Name"}),n.jsx("span",{className:"font-medium text-sm sm:text-base break-words",children:e.name})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1 sm:gap-0",children:[n.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Status"}),n.jsx(Ae,{className:`text-xs sm:text-sm ${kNt(e.is_active?"active":"inactive")}`,children:e.is_active?"Active":"Inactive"})]})]})]}),mK=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),TNt=({store:e})=>n.jsxs(oe,{children:[n.jsx(Re,{className:"pb-3 sm:pb-6",children:n.jsxs(qe,{className:"flex items-center space-x-2 text-base sm:text-lg",children:[n.jsx(mo,{className:"h-4 w-4 sm:h-5 sm:w-5"}),n.jsx("span",{children:"Location & Contact"})]})}),n.jsxs(je,{className:"space-y-3 sm:space-y-4",children:[e.metadata?.address&&n.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[n.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Address"}),n.jsxs("div",{className:"flex items-start space-x-1 sm:space-x-2",children:[n.jsx(mo,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground mt-0.5 shrink-0"}),n.jsx("span",{className:"text-xs sm:text-sm break-words",children:e.metadata.address})]})]}),e.metadata?.phone&&n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1 sm:gap-0",children:[n.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Phone"}),n.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[n.jsx(_y,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"}),n.jsx("span",{className:"text-xs sm:text-sm break-all",children:e.metadata.phone})]})]}),n.jsx(Hs,{className:"my-2 sm:my-4"}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1 sm:gap-0",children:[n.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Created"}),n.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[n.jsx(bn,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"}),n.jsx("span",{className:"text-xs sm:text-sm break-words",children:mK(e.created_at)})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1 sm:gap-0",children:[n.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Last Updated"}),n.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[n.jsx(po,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"}),n.jsx("span",{className:"text-xs sm:text-sm break-words",children:mK(e.updated_at)})]})]})]})]}),DNt=()=>n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[n.jsxs(oe,{children:[n.jsx(Re,{className:"pb-3 sm:pb-6",children:n.jsx(rt,{className:"h-5 w-28 sm:h-6 sm:w-32"})}),n.jsx(je,{className:"space-y-3 sm:space-y-4",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"flex justify-between",children:[n.jsx(rt,{className:"h-3 w-20 sm:h-4 sm:w-24"}),n.jsx(rt,{className:"h-3 w-24 sm:h-4 sm:w-32"})]},t))})]}),n.jsxs(oe,{children:[n.jsx(Re,{className:"pb-3 sm:pb-6",children:n.jsx(rt,{className:"h-5 w-28 sm:h-6 sm:w-32"})}),n.jsx(je,{className:"space-y-3 sm:space-y-4",children:[...Array(3)].map((e,t)=>n.jsxs("div",{className:"flex justify-between",children:[n.jsx(rt,{className:"h-3 w-20 sm:h-4 sm:w-24"}),n.jsx(rt,{className:"h-3 w-24 sm:h-4 sm:w-32"})]},t))})]})]}),PNt=()=>{const{id:e}=Sn(),t=Vt(),{store:r,loading:s,error:a}=L1t(e||null),i=v.useCallback(()=>{e&&t(`/stores/edit/${e}`)},[e,t]),o=v.useCallback(c=>{t(`/stores-hierarchy/view/${c}`)},[t]);return s?n.jsx(Zt,{title:"Loading...",subtitle:"Please wait while we load the store details",backButton:{show:!0,to:"/stores"},children:n.jsx(DNt,{})}):a?n.jsx(Zt,{title:"Error",subtitle:"Failed to load store details",backButton:{show:!0,to:"/stores"},children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsxs(Ye,{className:"text-sm sm:text-base",children:["Failed to load store details: ",a]})]})})}):r?n.jsx(Zt,{title:r.name,subtitle:`Store ID: ${r.id}`,backButton:{show:!0,to:"/stores"},mainButtons:n.jsxs(W,{onClick:i,children:[n.jsx(Pa,{className:"mr-2 h-4 w-4"}),"Edit Store"]}),subButtons:n.jsxs(W,{variant:"outline",onClick:()=>o(r.id),children:[n.jsx(S$e,{className:"mr-2 h-4 w-4"}),"View Hierarchy"]}),children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[n.jsx(ANt,{store:r}),n.jsx(TNt,{store:r})]}),n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsx(Kme,{storeId:r.id}),n.jsx(ENt,{storeId:r.id})]})]})}):n.jsx(Zt,{title:"Store Not Found",subtitle:"The store may have been deleted or the ID is invalid",backButton:{show:!0,to:"/stores"},children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs(Ge,{children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{className:"text-sm sm:text-base",children:"Store not found. The store may have been deleted or the ID is invalid."})]})})})},RNt=[n.jsx(At,{path:"/stores",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(dNt,{})})})})},"stores-list"),n.jsx(At,{path:"/stores/create",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(jNt,{})})})})},"create-store"),n.jsx(At,{path:"/stores/edit/:storeId",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(SNt,{})})})})},"edit-store"),n.jsx(At,{path:"/stores/view/:id",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(PNt,{})})})})},"view-store")],MNt=({loading:e,onRefresh:t})=>n.jsx(Re,{className:"mb-0 bg-muted border-b",style:{color:"var(--card-foreground)"},children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[n.jsx(qe,{className:"text-lg sm:text-xl text-card-foreground",children:"Users"}),n.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4 w-full sm:w-auto",children:n.jsx("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:n.jsxs(W,{variant:"outline",size:"sm",onClick:t,disabled:e,className:`flex items-center gap-2 bg-secondary text-secondary-foreground border-border ${e?"opacity-60":""}`,children:[n.jsx(Zr,{className:`h-4 w-4 ${e?"animate-spin":""}`}),n.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]})})})]})}),ONt=({user:e,onView:t,onAssign:r})=>n.jsxs(Nt,{className:"border-border bg-card hover:bg-muted/50",children:[n.jsx(Ee,{className:"font-medium text-xs sm:text-sm p-2 sm:p-4 text-foreground",children:n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n.jsx("div",{className:"h-6 w-6 sm:h-8 sm:w-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-medium text-primary-foreground",style:{backgroundColor:"var(--primary)"},children:ks.formatInitials(e.name)}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("div",{className:"text-xs sm:text-sm font-medium truncate text-foreground",title:ks.formatDisplayName(e.name),children:ks.formatDisplayName(e.name)}),n.jsxs("div",{className:"sm:hidden mt-1 space-y-1",children:[e.roles&&e.roles.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.roles.slice(0,2).map(s=>n.jsx(Ae,{variant:"outline",className:"text-xs px-1 py-0.5 bg-secondary text-secondary-foreground border-border",children:s.name},s.id)),e.roles.length>2&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.roles.length-2]})]}),e.stores&&e.stores.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.stores.slice(0,2).map(s=>n.jsx(Ae,{variant:"secondary",className:"text-xs px-1 py-0.5 bg-accent text-accent-foreground border-border",children:s.store.name},s.store.id)),e.stores.length>2&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.stores.length-2]})]})]})]})]})}),n.jsx(Ee,{className:"p-2 sm:p-4 hidden sm:table-cell",children:n.jsx("div",{className:"space-y-1 max-w-[20rem] lg:max-w-none",children:e.roles&&e.roles.length>0?n.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.roles.slice(0,4).map(s=>n.jsx(Ae,{variant:"outline",className:"text-xs px-1 py-0.5 bg-secondary text-secondary-foreground border-border",children:n.jsx("span",{className:"truncate max-w-[8rem]",title:s.name,children:s.name})},s.id)),e.roles.length>4&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.roles.length-4]})]}):n.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"No roles"})})}),n.jsx(Ee,{className:"p-2 sm:p-4 hidden md:table-cell",children:n.jsx("div",{className:"space-y-1 max-w-[20rem] lg:max-w-none",children:e.stores&&e.stores.length>0?n.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.stores.slice(0,4).map(s=>n.jsx(Ae,{variant:"secondary",className:"text-xs px-1 py-0.5 bg-accent text-accent-foreground border-border",children:n.jsx("span",{className:"truncate max-w-[7rem]",title:s.store.name,children:s.store.name})},s.store.id)),e.stores.length>4&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.stores.length-4]})]}):n.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"No stores"})})}),n.jsx(Ee,{className:"text-right p-2 sm:p-4",children:n.jsxs("div",{className:"flex items-center justify-end gap-1 sm:gap-2",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:()=>r(e.id),className:"text-xs px-2 py-1 sm:px-3 sm:py-2 h-auto bg-secondary text-secondary-foreground border-border",children:[n.jsx(tee,{className:"h-3 w-3 sm:mr-1"}),n.jsx("span",{className:"hidden sm:inline",children:"Assign"})]}),n.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>t(e.id),className:"text-xs px-2 py-1 sm:px-3 sm:py-2 h-auto text-muted-foreground bg-transparent",children:[n.jsx(ln,{className:"h-3 w-3 sm:mr-1"}),n.jsx("span",{className:"hidden sm:inline",children:"View"})]})]})})]}),INt=()=>n.jsx("div",{className:"flex items-center justify-center h-48 sm:h-64 bg-card",children:n.jsx(af,{message:"Loading users...",size:"medium",className:"h-48 sm:h-64 bg-card text-muted-foreground"})}),FNt=()=>n.jsx("div",{className:"text-center py-6 sm:py-8 bg-card",children:n.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No users found."})}),$Nt=({users:e,loading:t,onView:r,onAssign:s})=>t?n.jsx(INt,{}):e.length?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Xr,{className:"min-w-full",children:[n.jsx(Jr,{className:"bg-muted border-b",children:n.jsxs(Nt,{className:"border-border",children:[n.jsx(De,{className:"min-w-[10rem] text-xs sm:text-sm text-foreground font-semibold",children:"Name"}),n.jsx(De,{className:"min-w-[8rem] text-xs sm:text-sm hidden sm:table-cell text-foreground font-semibold",children:"Roles"}),n.jsx(De,{className:"min-w-[8rem] text-xs sm:text-sm hidden md:table-cell text-foreground font-semibold",children:"Stores"}),n.jsx(De,{className:"min-w-[6rem] text-xs sm:text-sm text-right text-foreground font-semibold",children:"Actions"})]})}),n.jsx(Qr,{children:e.map(a=>n.jsx(ONt,{user:a,onView:r,onAssign:s},a.id))})]})}):n.jsx(FNt,{}),LNt=["5","10","15","20","25","50"],Qme=v.memo(({loading:e,users:t,pagination:r,currentPage:s,perPage:a,onPerPageChange:i,onPreviousPage:o,onNextPage:c})=>{const d=v.useMemo(()=>a.toString(),[a]),u=v.useMemo(()=>!e&&t.length>0,[e,t.length]),l=v.useMemo(()=>r&&r.lastPage>1,[r]),f=v.useMemo(()=>s<=1,[s]),m=v.useMemo(()=>s>=(r?.lastPage||1),[s,r?.lastPage]),p=v.useMemo(()=>r?`${r.from} to ${r.to} of ${r.total} users`:`1 to ${t.length} of ${t.length} users`,[r,t.length]);return u?n.jsxs("div",{className:"px-4 py-3 border-t bg-card flex flex-col lg:flex-row items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Show"}),n.jsxs(xt,{value:d,onValueChange:i,children:[n.jsx(ft,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:n.jsx(vt,{})}),n.jsx(mt,{className:"bg-popover border-border",children:LNt.map(x=>n.jsx(Ue,{value:x,children:x},x))})]}),n.jsx("span",{className:"text-muted-foreground",children:"per page"})]}),l&&r&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(W,{variant:"outline",size:"sm",onClick:o,disabled:f,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Prev"}),n.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground",children:["Page ",s," of ",r.lastPage]}),n.jsx(W,{variant:"outline",size:"sm",onClick:c,disabled:m,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Next"})]}),n.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:p})]}):null});Qme.displayName="UsersTableFooter";const BNt=()=>{const e=Vt(),t=ct(),{users:r,loading:s,error:a,pagination:i,refetch:o,perPage:c,setPerPage:d}=Px(),u=b=>{e(`/user-role-store-assignment/view/user/${b}`)},l=b=>{e(`/user-role-store-assignment/assign?userId=${b}`)},f=b=>{t(Oc({page:b,per_page:c}))},m=async b=>{const h=parseInt(b,10);d(h),t(Oc({page:1,per_page:h}))},p=()=>{i&&i.currentPage>1&&f(i.currentPage-1)},x=()=>{i&&i.currentPage<i.lastPage&&f(i.currentPage+1)};return n.jsxs("div",{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[a&&n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsxs(Ye,{children:["Error loading users: ",a]})]}),n.jsxs(oe,{className:"rounded-sm border shadow-sm",style:{backgroundColor:"var(--card)",boxShadow:"var(--shadow-realistic)"},children:[n.jsx(MNt,{loading:s,onRefresh:o}),n.jsx(je,{className:"p-0 bg-card",children:n.jsx($Nt,{users:r,loading:s,onView:u,onAssign:l})}),n.jsx(Qme,{loading:s,users:r,pagination:i,currentPage:i?.currentPage||1,perPage:c,onPerPageChange:m,onPreviousPage:p,onNextPage:x})]})]})},zNt=({loading:e,onRetry:t})=>n.jsx(Re,{className:"mb-0 bg-muted border-b border-border",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[n.jsx(qe,{className:"text-lg sm:text-xl text-card-foreground",children:"Stores"}),n.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4 w-full sm:w-auto",children:n.jsx("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:n.jsxs(W,{variant:"outline",size:"sm",onClick:t,disabled:e,className:`flex items-center gap-2 border-border ${e?"bg-muted text-secondary-foreground opacity-60":"bg-secondary text-secondary-foreground"}`,children:[n.jsx(Zr,{className:`h-4 w-4 ${e?"animate-spin":""}`}),n.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]})})})]})}),UNt=({store:e,onView:t,onAssign:r})=>n.jsxs(Nt,{className:"border-border bg-card hover:bg-muted/50",children:[n.jsx(Ee,{className:"font-medium text-xs sm:text-sm p-2 sm:p-4 text-foreground",children:n.jsx("div",{className:"truncate max-w-[5rem] sm:max-w-none",title:e.id,children:e.id})}),n.jsx(Ee,{className:"p-2 sm:p-4",children:n.jsx("div",{className:"text-xs sm:text-sm truncate max-w-[8rem] sm:max-w-none text-foreground",title:e.name,children:e.name})}),n.jsx(Ee,{className:"p-2 sm:p-4",children:n.jsx(Ae,{variant:e.is_active?"default":"secondary",className:`text-xs px-1 py-0.5 sm:px-2 sm:py-1 ${e.is_active?"bg-primary text-primary-foreground border-primary":"bg-secondary text-secondary-foreground border-border"}`,children:e.is_active?"Active":"Inactive"})}),n.jsx(Ee,{className:"text-right p-2 sm:p-4",children:n.jsxs("div",{className:"flex items-center justify-end gap-1 sm:gap-2",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:()=>r(e.id),className:"text-xs px-2 py-1 sm:px-3 sm:py-2 h-auto bg-secondary text-secondary-foreground border-border",children:[n.jsx(tee,{className:"h-3 w-3 sm:mr-1"}),n.jsx("span",{className:"hidden sm:inline",children:"Assign"})]}),n.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>t(e.id),className:"text-xs px-2 py-1 sm:px-3 sm:py-2 h-auto text-muted-foreground bg-transparent",children:[n.jsx(ln,{className:"h-3 w-3 sm:mr-1"}),n.jsx("span",{className:"hidden sm:inline",children:"View"})]})]})})]}),HNt=({stores:e,loading:t,onView:r,onAssign:s})=>t?n.jsx("div",{className:"flex items-center justify-center h-48 sm:h-64 bg-card",children:n.jsx(af,{message:"Loading stores...",size:"medium",className:"h-48 sm:h-64 bg-card text-muted-foreground"})}):e.length?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Xr,{className:"min-w-full",children:[n.jsx(Jr,{className:"bg-muted border-b border-border",children:n.jsxs(Nt,{className:"border-border",children:[n.jsx(De,{className:"min-w-[6rem] text-xs sm:text-sm text-foreground font-semibold",children:"Store ID"}),n.jsx(De,{className:"min-w-[10rem] text-xs sm:text-sm text-foreground font-semibold",children:"Name"}),n.jsx(De,{className:"min-w-[5rem] text-xs sm:text-sm text-foreground font-semibold",children:"Status"}),n.jsx(De,{className:"min-w-[5rem] text-right text-xs sm:text-sm text-foreground font-semibold",children:"Actions"})]})}),n.jsx(Qr,{children:e.map(a=>n.jsx(UNt,{store:a,onView:r,onAssign:s},a.id))})]})}):n.jsx("div",{className:"text-center py-6 sm:py-8 bg-card",children:n.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No stores found."})}),VNt=["5","10","15","25","50"],WNt=({stores:e,loading:t,pagination:r,perPage:s,currentPageData:a,onPageChange:i,onPerPageChange:o})=>{const c=v.useMemo(()=>{const f=!!(r&&r.last_page>1),m=r?.current_page||1,p=m<=1||t,x=m>=(r?.last_page||1)||t;return{shouldShowPagination:f,currentPage:m,isPrevDisabled:p,isNextDisabled:x}},[r,t]),d=v.useMemo(()=>{if(t)return"Loading...";if(!e.length)return"No results";const{from:f,to:m,total:p}=a;return p<=s?`${p} result${p!==1?"s":""}`:`Showing ${f} to ${m} of ${p} results`},[t,e.length,a,s]),u=v.useCallback(()=>{i(c.currentPage-1)},[i,c.currentPage]),l=v.useCallback(()=>{i(c.currentPage+1)},[i,c.currentPage]);return n.jsxs("div",{className:"px-4 py-3 border-t border-border bg-card flex flex-col lg:flex-row items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Show"}),n.jsxs(xt,{value:s.toString(),onValueChange:o,disabled:t,children:[n.jsx(ft,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:n.jsx(vt,{})}),n.jsx(mt,{className:"bg-popover border-border",children:VNt.map(f=>n.jsx(Ue,{value:f,children:f},f))})]}),n.jsx("span",{className:"text-muted-foreground",children:"per page"})]}),c.shouldShowPagination&&r&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(W,{variant:"outline",size:"sm",onClick:u,disabled:c.isPrevDisabled,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Prev"}),n.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground",children:["Page ",c.currentPage," of ",r.last_page]}),n.jsx(W,{variant:"outline",size:"sm",onClick:l,disabled:c.isNextDisabled,className:"h-8 px-3 text-xs bg-background border-border text-foreground",children:"Next"})]}),n.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:d})]})},qNt=({stores:e,loading:t,pagination:r,perPage:s,currentPageData:a,onView:i,onAssign:o,onRetry:c,onPageChange:d,onPerPageChange:u})=>n.jsxs(oe,{className:"rounded-sm bg-card border border-border",style:{boxShadow:"var(--shadow-realistic)"},children:[n.jsx(zNt,{loading:t,onRetry:c}),n.jsx(je,{className:"p-0 bg-card",children:n.jsx(HNt,{stores:e,loading:t,onView:i,onAssign:o})}),n.jsx(WNt,{stores:e,loading:t,pagination:r,perPage:s,currentPageData:a,onPageChange:d,onPerPageChange:u})]}),GNt=()=>{const e=Vt(),t=ct(),{stores:r,loading:s,error:a,pagination:i,refetch:o,changePage:c,currentPageData:d}=dl(),u=se(db),l=v.useCallback(b=>{e(`/user-role-store-assignment/view/store/${b}`)},[e]),f=v.useCallback(b=>{e(`/user-role-store-assignment/assign?storeId=${b}`)},[e]),m=v.useCallback(()=>{o()},[o]),p=v.useCallback(b=>{c(b)},[c]),x=v.useCallback(async b=>{const h=parseInt(b,10);t(iE(h)),await o({per_page:h,page:1})},[t,o]);return n.jsxs("div",{className:"space-y-4 sm:space-y-5 lg:space-y-6",children:[a&&n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsxs(Ye,{children:["Failed to load stores: ",a]})]}),n.jsx(qNt,{stores:r,loading:s,pagination:i,perPage:u,currentPageData:d,onView:l,onAssign:f,onRetry:m,onPageChange:p,onPerPageChange:x})]})},YNt=()=>{const e=Vt(),t=v.useCallback(()=>{e("/user-role-store-assignment/assign")},[e]),r=v.useCallback(()=>{e("/user-role-store-assignment/bulk")},[e]),s=v.useMemo(()=>n.jsxs(W,{onClick:t,className:"flex items-center justify-center gap-2 w-full sm:w-auto px-4 py-2 sm:px-6 sm:py-3 text-sm sm:text-base",children:[n.jsx(cs,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Assign Roles"]}),[t]),a=v.useMemo(()=>n.jsxs(W,{onClick:r,variant:"outline",className:"flex items-center justify-center gap-2 w-full sm:w-auto px-4 py-2 sm:px-6 sm:py-3 text-sm sm:text-base",children:[n.jsx(PLe,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Bulk Assign"]}),[r]);return n.jsxs(Zt,{title:"User Role Store Assignment",subtitle:"Manage user role assignments across different stores. Search and assign roles to users and stores.",mainButtons:s,subButtons:a,children:[n.jsx(BNt,{}),n.jsx(GNt,{})]})},ehe=v.memo(({assignment:e,getRoleName:t,getStoreName:r,onToggleStatus:s,onDelete:a,isUpdating:i,formatDate:o})=>{const c=v.useMemo(()=>t(e.role_id),[t,e.role_id]),d=v.useMemo(()=>r(e.store_id),[r,e.store_id]),u=v.useMemo(()=>o(e.created_at),[o,e.created_at]),l=v.useMemo(()=>o(e.updated_at),[o,e.updated_at]),f=v.useCallback(()=>{s(e)},[s,e]),m=v.useCallback(()=>{a(e)},[a,e]);return n.jsxs(Nt,{children:[n.jsx(Ee,{className:"font-mono text-xs sm:text-sm py-2 sm:py-4",children:n.jsx("div",{className:"truncate max-w-[80px] sm:max-w-none",children:e.id})}),n.jsx(Ee,{className:"py-2 sm:py-4",children:n.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[n.jsx(ws,{className:"h-3 w-3 sm:h-4 sm:w-4 text-chart-4 flex-shrink-0"}),n.jsxs("span",{className:"font-medium text-xs sm:text-sm truncate",children:[c," "]})]})}),n.jsx(Ee,{className:"py-2 sm:py-4 hidden sm:table-cell",children:n.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[n.jsx(Ti,{className:"h-3 w-3 sm:h-4 sm:w-4 text-chart-3 flex-shrink-0"}),n.jsxs("span",{className:"font-medium text-xs sm:text-sm truncate",children:[d," "]})]})}),n.jsx(Ee,{className:"py-2 sm:py-4",children:n.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[n.jsx(ys,{checked:e.is_active,onCheckedChange:f,disabled:!e.id||i,className:"scale-75 sm:scale-100"}),n.jsxs(Ae,{variant:e.is_active?"default":"secondary",className:"text-xs px-1 sm:px-2 py-0.5",children:[n.jsx("span",{className:"hidden sm:inline",children:e.is_active?"Active":"Inactive"}),n.jsx("span",{className:"sm:hidden",children:e.is_active?"A":"I"})]}),e.id&&i&&n.jsx(at,{className:"h-3 w-3 sm:h-4 sm:w-4 animate-spin"})]})}),n.jsx(Ee,{className:"text-xs sm:text-sm text-muted-foreground py-2 sm:py-4 hidden md:table-cell",children:n.jsxs("div",{className:"truncate",children:[u," "]})}),n.jsx(Ee,{className:"text-xs sm:text-sm text-muted-foreground py-2 sm:py-4 hidden lg:table-cell",children:n.jsxs("div",{className:"truncate",children:[l," "]})}),n.jsx(Ee,{className:"text-right py-2 sm:py-4",children:n.jsxs(Aw,{modal:!1,children:[n.jsx(Tw,{asChild:!0,children:n.jsxs(W,{variant:"ghost",className:"h-6 w-6 sm:h-8 sm:w-8 p-0",children:[n.jsx("span",{className:"sr-only",children:"Open menu"}),n.jsx(Nb,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})}),n.jsx(Ox,{align:"end",className:"w-48",children:n.jsxs(Go,{onClick:m,className:"text-destructive focus:text-destructive text-xs sm:text-sm",children:[n.jsx(kt,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Delete Assignment"}),n.jsx("span",{className:"sm:hidden",children:"Delete"})]})})]})})]})});ehe.displayName="AssignmentTableRow";const KNt=({assignments:e,loading:t,error:r,getRoleName:s,getStoreName:a,onToggleStatus:i,onDelete:o,updatingAssignments:c,formatDate:d,onAssignRole:u})=>n.jsxs(oe,{className:"w-full",children:[n.jsx(Re,{className:"px-4 sm:px-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Xa,{className:"h-4 w-4 sm:h-5 sm:w-5"}),n.jsx(qe,{className:"text-lg sm:text-xl",children:"Role Assignments"})]}),n.jsxs(W,{onClick:u,className:"flex items-center gap-2",children:[n.jsx(Yt,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Assign Role"})]})]})}),n.jsx(je,{className:"px-0 sm:px-6",children:r?n.jsxs("div",{className:"text-destructive text-center py-4 px-4 sm:px-0",children:["Error loading assignments: ",r.message||"Unknown error"]}):t?n.jsxs("div",{className:"flex items-center justify-center py-8 px-4 sm:px-0",children:[n.jsx(at,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin"}),n.jsx("span",{className:"ml-2 text-sm sm:text-base",children:"Loading assignments..."})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Xr,{className:"min-w-full",children:[n.jsx(Jr,{children:n.jsxs(Nt,{children:[n.jsx(De,{className:"text-xs sm:text-sm font-medium",children:"Assignment ID"}),n.jsx(De,{className:"text-xs sm:text-sm font-medium",children:"Role"}),n.jsx(De,{className:"text-xs sm:text-sm font-medium hidden sm:table-cell",children:"Store"}),n.jsx(De,{className:"text-xs sm:text-sm font-medium",children:"Status"}),n.jsx(De,{className:"text-xs sm:text-sm font-medium hidden md:table-cell",children:"Assigned Date"}),n.jsx(De,{className:"text-xs sm:text-sm font-medium hidden lg:table-cell",children:"Updated Date"}),n.jsx(De,{className:"text-xs sm:text-sm font-medium text-right",children:"Actions"})]})}),n.jsx(Qr,{children:e.length===0?n.jsx(Nt,{children:n.jsx(Ee,{colSpan:7,className:"text-center py-6 sm:py-8 text-muted-foreground text-sm sm:text-base",children:"No role assignments found for this user"})}):e.map(l=>n.jsx(ehe,{assignment:l,getRoleName:s,getStoreName:a,onToggleStatus:i,onDelete:o,isUpdating:l.id?c.has(l.id):!1,formatDate:d},l.id))})]})})})]}),the=v.memo(({open:e,onOpenChange:t,assignment:r,onConfirm:s,getRoleName:a,getStoreName:i})=>{const o=v.useMemo(()=>r?a(r.role_id):"",[r,a]),c=v.useMemo(()=>r?i(r.store_id):"",[r,i]),d=v.useMemo(()=>r?n.jsxs("span",{className:"font-medium",children:[" ","for ",o," in ",c]}):null,[r,o,c]),u=v.useCallback(()=>{s()},[s]),l=v.useCallback(f=>{t(f)},[t]);return n.jsx(No,{open:e,onOpenChange:l,children:n.jsxs(Fi,{className:"mx-4 sm:mx-auto max-w-sm sm:max-w-lg",children:[n.jsxs($i,{className:"space-y-2 sm:space-y-3",children:[n.jsx(Bi,{className:"text-lg sm:text-xl",children:"Are you absolutely sure?"}),n.jsxs(zi,{className:"text-sm sm:text-base",children:["This action cannot be undone. This will permanently delete the role assignment",d,"."]})]}),n.jsxs(Li,{className:"flex-col sm:flex-row gap-2 sm:gap-0",children:[n.jsx(Hi,{className:"w-full sm:w-auto order-2 sm:order-1",children:"Cancel"}),n.jsxs(Ui,{onClick:u,className:"w-full sm:w-auto order-1 sm:order-2 bg-destructive hover:bg-destructive/90 text-destructive-foreground",children:[n.jsx("span",{className:"hidden sm:inline",children:"Delete Assignment"}),n.jsx("span",{className:"sm:hidden",children:"Delete"})]})]})]})})});the.displayName="DeleteAssignmentDialog";const ZNt={year:"numeric",month:"short",day:"numeric"},XNt=()=>{const{userId:e}=Sn(),t=Vt(),r=v.useMemo(()=>e?parseInt(e):0,[e]),{getUserAssignments:s,fetchUserAssignments:a,isLoadingUserAssignments:i,getUserAssignmentsError:o,toggleUserRoleStatus:c,removeUserRole:d}=Vme(),[u,l]=v.useState(!1),[f,m]=v.useState(null),[p,x]=v.useState(new Set);v.useEffect(()=>{r&&a(r)},[r,a]);const b=v.useMemo(()=>s(r),[s,r]),h=v.useMemo(()=>i(),[i]),y=v.useMemo(()=>o(),[o]),w=v.useCallback(()=>{t("/user-role-store-assignment")},[t]),S=v.useCallback(()=>{t(`/user-role-store-assignment/assign?userId=${e}`)},[t,e]),N=v.useCallback(L=>b.find(I=>I.role_id===L)?.role?.name||`Role ID: ${L}`,[b]),_=v.useCallback(L=>b.find(I=>I.store_id===L)?.store?.name||L,[b]),k=v.useCallback(async L=>{if(!(!L.id||p.has(L.id))){x($=>new Set($).add(L.id));try{await c({user_id:L.user_id,role_id:L.role_id,store_id:L.store_id}),a(r)}catch($){console.error("Failed to toggle assignment status:",$)}finally{x($=>{const I=new Set($);return L.id&&I.delete(L.id),I})}}},[p,c,a,r]),E=v.useCallback(L=>{m(L),l(!0)},[]),T=v.useCallback(async()=>{if(f)try{await d({user_id:f.user_id,role_id:f.role_id,store_id:f.store_id}),l(!1),m(null),a(r)}catch(L){console.error("Failed to delete assignment:",L)}},[f,d,a,r]),D=v.useCallback(L=>{l(L),L||m(null)},[]),P=v.useCallback(L=>new Date(L).toLocaleDateString("en-US",ZNt),[]),M=v.useMemo(()=>({title:"User Role Assignments",subtitle:`View all role assignments for User ID: ${e}`,backButton:{show:!0,onClick:w}}),[e,w]),R=v.useMemo(()=>({assignments:b,loading:h,error:y,getRoleName:N,getStoreName:_,onToggleStatus:k,onDelete:E,updatingAssignments:p,formatDate:P,onAssignRole:S}),[b,h,y,N,_,k,E,p,P,S]),B=v.useMemo(()=>({open:u,onOpenChange:D,assignment:f,onConfirm:T,getRoleName:N,getStoreName:_}),[u,D,f,T,N,_]);return n.jsxs(Zt,{...M,children:[n.jsx(KNt,{...R}),n.jsx(the,{...B})]})},JNt=()=>n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 sm:py-12 space-y-3",children:[n.jsx(at,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-primary"}),n.jsx("span",{className:"text-sm sm:text-base text-primary",children:"Loading assignments..."})]}),QNt=({error:e})=>n.jsxs("div",{className:"text-center py-6 sm:py-8 text-destructive",children:[n.jsx("p",{className:"text-sm sm:text-base font-medium",children:"Error loading assignments"}),n.jsx("p",{className:"text-xs sm:text-sm mt-1 opacity-80",children:e?.message||"Unknown error"})]}),eCt=()=>n.jsx(Nt,{children:n.jsx(Ee,{colSpan:7,className:"text-center py-8 sm:py-12 text-muted-foreground",children:n.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[n.jsx(Ti,{className:"h-8 w-8 sm:h-12 sm:w-12 opacity-50 text-muted-foreground"}),n.jsx("p",{className:"text-sm sm:text-base font-medium",children:"No role assignments found"}),n.jsx("p",{className:"text-xs sm:text-sm opacity-75",children:"This store has no role assignments yet"})]})})}),tCt=({assignment:e,getUserName:t,getRoleName:r,formatDate:s,onToggleStatus:a,onDeleteClick:i,isUpdating:o})=>n.jsxs(Nt,{children:[n.jsx(Ee,{className:"font-mono text-xs sm:text-sm py-3",children:n.jsx("span",{className:"px-2 py-1 rounded text-xs bg-muted text-muted-foreground",children:e.id})}),n.jsx(Ee,{className:"py-3",children:n.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[n.jsx(Xa,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0 text-chart-4"}),n.jsx("span",{className:"font-medium text-xs sm:text-sm truncate",children:t(e.user_id)})]})}),n.jsx(Ee,{className:"py-3",children:n.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[n.jsx(ws,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0 text-chart-3"}),n.jsx("span",{className:"font-medium text-xs sm:text-sm truncate",children:r(e.role_id)})]})}),n.jsx(Ee,{className:"py-3",children:n.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[n.jsx(ys,{checked:e.is_active,onCheckedChange:()=>a(e),disabled:!e.id||o,className:"scale-75 sm:scale-100"}),n.jsxs(Ae,{variant:e.is_active?"default":"secondary",className:"text-xs px-1.5 py-0.5 sm:px-2 sm:py-1",children:[n.jsx("span",{className:"hidden sm:inline",children:e.is_active?"Active":"Inactive"}),n.jsx("span",{className:"sm:hidden",children:e.is_active?"On":"Off"})]}),o&&n.jsx(at,{className:"h-3 w-3 sm:h-4 sm:w-4 animate-spin text-primary"})]})}),n.jsx(Ee,{className:"text-xs sm:text-sm py-3 hidden md:table-cell text-muted-foreground",children:n.jsx("div",{className:"flex flex-col",children:n.jsx("span",{children:s(e.created_at)})})}),n.jsx(Ee,{className:"text-xs sm:text-sm py-3 hidden lg:table-cell text-muted-foreground",children:n.jsx("div",{className:"flex flex-col",children:n.jsx("span",{children:s(e.updated_at)})})}),n.jsx(Ee,{className:"text-right py-3",children:n.jsxs(Aw,{modal:!1,children:[n.jsx(Tw,{asChild:!0,children:n.jsxs(W,{variant:"ghost",className:"h-6 w-6 p-0 sm:h-8 sm:w-8",size:"sm",children:[n.jsx("span",{className:"sr-only",children:"Open menu"}),n.jsx(Nb,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})}),n.jsx(Ox,{align:"end",className:"w-48",children:n.jsxs(Go,{onClick:()=>i(e),className:"text-xs sm:text-sm text-destructive",children:[n.jsx(kt,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Delete Assignment"}),n.jsx("span",{className:"sm:hidden",children:"Delete"})]})})]})})]},e.id),rhe=te.memo(({assignments:e,loading:t,error:r,getUserName:s,getRoleName:a,formatDate:i,onToggleStatus:o,onDeleteClick:c,onAssignRole:d,updatingAssignments:u})=>{const l=v.useMemo(()=>e.length===0?n.jsx(eCt,{}):e.map(m=>n.jsx(tCt,{assignment:m,getUserName:s,getRoleName:a,formatDate:i,onToggleStatus:o,onDeleteClick:c,isUpdating:m.id?u.has(m.id):!1},m.id)),[e,s,a,i,o,c,u]),f=v.useMemo(()=>r?n.jsx(QNt,{error:r}):t?n.jsx(JNt,{}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Xr,{className:"min-w-full",children:[n.jsx(Jr,{children:n.jsxs(Nt,{children:[n.jsx(De,{className:"text-xs sm:text-sm min-w-[100px]",children:"Assignment ID"}),n.jsx(De,{className:"text-xs sm:text-sm min-w-[120px]",children:"User"}),n.jsx(De,{className:"text-xs sm:text-sm min-w-[100px]",children:"Role"}),n.jsx(De,{className:"text-xs sm:text-sm min-w-[120px]",children:"Status"}),n.jsx(De,{className:"text-xs sm:text-sm min-w-[120px] hidden md:table-cell",children:"Assigned Date"}),n.jsx(De,{className:"text-xs sm:text-sm min-w-[120px] hidden lg:table-cell",children:"Updated Date"}),n.jsx(De,{className:"text-xs sm:text-sm text-right min-w-[80px]",children:"Actions"})]})}),n.jsx(Qr,{children:l})]})}),[r,t,l]);return n.jsxs(oe,{className:"shadow-md",children:[n.jsx(Re,{className:"pb-4",children:n.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ti,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),n.jsx(qe,{className:"text-lg sm:text-xl",children:"Role Assignments"})]}),n.jsxs(W,{onClick:d,className:"flex items-center gap-2 w-full sm:w-auto",size:"sm",children:[n.jsx(Yt,{className:"h-4 w-4"}),n.jsx("span",{className:"sm:inline",children:"Assign Role"})]})]})}),n.jsx(je,{className:"px-3 sm:px-6",children:f})]})});rhe.displayName="AssignmentsCard";const rCt=({open:e,onOpenChange:t,assignmentToDelete:r,getUserName:s,getRoleName:a,onConfirm:i})=>n.jsx(No,{open:e,onOpenChange:t,children:n.jsxs(Fi,{className:"mx-4 max-w-md sm:max-w-lg",children:[n.jsxs($i,{className:"space-y-3",children:[n.jsx(Bi,{className:"text-lg sm:text-xl",children:"Are you absolutely sure?"}),n.jsxs(zi,{className:"text-sm sm:text-base leading-relaxed",children:["This action cannot be undone. This will permanently delete the role assignment",r&&n.jsxs("span",{className:"font-medium block mt-2 p-2 rounded bg-muted text-foreground",children:["User: ",s(r.user_id),n.jsx("br",{}),"Role: ",a(r.role_id)]}),"."]})]}),n.jsxs(Li,{className:"flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:[n.jsx(Hi,{className:"w-full sm:w-auto order-2 sm:order-1",children:"Cancel"}),n.jsxs(Ui,{onClick:i,className:"w-full sm:w-auto order-1 sm:order-2 text-destructive-foreground bg-destructive",children:[n.jsx(kt,{className:"mr-2 h-4 w-4"}),"Delete Assignment"]})]})]})}),sCt=()=>{const{storeId:e}=Sn(),t=Vt(),{getStoreAssignments:r,fetchStoreAssignments:s,isLoadingStoreAssignments:a,getStoreAssignmentsError:i,toggleUserRoleStatus:o,removeUserRole:c}=Vme(),[d,u]=v.useState(!1),[l,f]=v.useState(null),[m,p]=v.useState(new Set),[x,b]=v.useState(null),h=r(e||""),y=a(),w=i();v.useEffect(()=>{e&&s(e)},[e,s]),v.useEffect(()=>{if(x){const M=setTimeout(()=>{b(null)},5e3);return()=>clearTimeout(M)}},[x]);const S=v.useCallback(M=>h.find(B=>B.user_id===M)?.user?.name||`User ID: ${M}`,[h]),N=v.useCallback(M=>h.find(B=>B.role_id===M)?.role?.name||`Role ID: ${M}`,[h]),_=v.useCallback(async M=>{if(!(!M.id||m.has(M.id))){p(R=>new Set(R).add(M.id)),b(null);try{await o({user_id:M.user_id,role_id:M.role_id,store_id:M.store_id}),e&&s(e)}catch(R){console.error("Failed to toggle assignment status:",R),b("Failed to update assignment status. Please try again.")}finally{p(R=>{const B=new Set(R);return M.id&&B.delete(M.id),B})}}},[o,e,s,m]),k=v.useCallback(M=>{f(M),u(!0)},[]),E=v.useCallback(async()=>{if(l){b(null);try{await c({user_id:l.user_id,role_id:l.role_id,store_id:l.store_id}),u(!1),f(null),e&&s(e)}catch(M){console.error("Failed to delete assignment:",M),b("Failed to delete assignment. Please try again.")}}},[l,c,e,s]),T=v.useCallback(()=>{t(`/user-role-store-assignment/assign?storeId=${e}`)},[t,e]),D=v.useCallback(()=>{t("/user-role-store-assignment")},[t]),P=v.useCallback(M=>new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),[]);return n.jsxs(Zt,{title:"Store Role Assignments",subtitle:`View all role assignments for Store ID: ${e||""}`,backButton:{show:!0,onClick:D},children:[x&&n.jsx("div",{style:{backgroundColor:"#fee2e2",border:"1px solid #fecaca",color:"#dc2626",padding:"12px",marginBottom:"16px",borderRadius:"6px",fontSize:"14px"},children:x}),n.jsx(rhe,{assignments:h,loading:y,error:w,getUserName:S,getRoleName:N,formatDate:P,onToggleStatus:_,onDeleteClick:k,onAssignRole:T,updatingAssignments:m}),n.jsx(rCt,{open:d,onOpenChange:u,assignmentToDelete:l,getUserName:S,getRoleName:N,onConfirm:E})]})},nCt=({open:e,onOpenChange:t,assignmentData:r,canAssign:s,isAssigning:a,onConfirm:i})=>n.jsxs(Ur,{open:e,onOpenChange:t,children:[n.jsx(cre,{asChild:!0,children:n.jsxs(W,{disabled:!s||a,className:"flex items-center gap-2 w-full sm:w-auto text-sm sm:text-base px-3 sm:px-4 py-2 bg-primary hover:bg-primary/90 text-primary-foreground",children:[a?n.jsx(at,{className:"h-3 w-3 sm:h-4 sm:w-4 animate-spin"}):n.jsx(Su,{className:"h-3 w-3 sm:h-4 sm:w-4"}),n.jsx("span",{className:"hidden sm:inline",children:a?"Assigning...":"Assign Roles"}),n.jsx("span",{className:"sm:hidden",children:a?"Assigning...":"Assign"})]})}),n.jsxs(Er,{children:[n.jsxs(kr,{children:[n.jsx(Ar,{children:"Confirm Role Assignment"}),n.jsxs(as,{children:["You are about to assign ",r.selectedRoles.length," roles to"," ",r.selectedUsers.length," users across"," ",r.selectedStores.length," stores."]})]}),n.jsxs(Hr,{children:[n.jsx(W,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsx(W,{onClick:i,children:"Confirm Assignment"})]})]})]}),aCt=({assignmentData:e,canAssign:t,isAssigning:r,showConfirmDialog:s,onShowConfirmDialog:a,onClearSelection:i,onConfirmAssignment:o})=>n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 justify-end mb-4",children:[n.jsxs(W,{variant:"outline",onClick:i,disabled:!t,className:"flex items-center gap-2 w-full sm:w-auto text-sm sm:text-base px-3 sm:px-4 py-2",children:[n.jsx(Kr,{className:"h-3 w-3 sm:h-4 sm:w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Clear Selection"}),n.jsx("span",{className:"sm:hidden",children:"Clear"})]}),n.jsx(nCt,{open:s,onOpenChange:a,assignmentData:e,canAssign:t,isAssigning:r,onConfirm:o})]}),iCt=({assignmentSteps:e,completedSteps:t,progressPercentage:r})=>n.jsx(oe,{className:"bg-card border-border shadow-sm",children:n.jsx(je,{className:"pt-4 sm:pt-6 p-3 sm:p-6",children:n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[n.jsx("span",{className:"text-xs sm:text-sm font-medium text-card-foreground",children:"Assignment Progress"}),n.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground",children:[t," of ",e.length," steps completed"]})]}),n.jsx(Pu,{value:r,className:"h-1.5 sm:h-2 bg-secondary"}),n.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-2 sm:gap-4",children:e.map((s,a)=>n.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[s.completed?n.jsx(bs,{className:"h-3 w-3 sm:h-4 sm:w-4 text-[#10b981]"}):n.jsx("div",{className:"h-3 w-3 sm:h-4 sm:w-4 rounded-full border-2 border-muted bg-background"}),n.jsxs("span",{className:`text-xs sm:text-sm ${s.completed?"font-medium text-green-600":"text-muted-foreground"}`,children:[n.jsx("span",{className:"hidden sm:inline",children:s.title}),n.jsx("span",{className:"sm:hidden",children:s.title.split(" ")[1]||s.title})]}),a<e.length-1&&n.jsx(SE,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 text-muted-foreground ml-1 sm:ml-2 hidden sm:block"})]},s.id))})]})})}),oCt=({result:e})=>e?n.jsxs(Ge,{className:`border-2 ${e.success?"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-950":"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-950"}`,children:[e.success?n.jsx(bs,{className:"h-4 w-4 text-green-600 dark:text-green-400"}):n.jsx(_E,{className:"h-4 w-4 text-red-600 dark:text-red-400"}),n.jsx(Ye,{className:`text-sm ${e.success?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"}`,children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"font-medium",children:e.message}),(e.successCount!==void 0||e.failureCount!==void 0)&&n.jsxs("div",{className:"text-xs space-y-1",children:[e.successCount!==void 0&&e.successCount>0&&n.jsxs("div",{className:"text-green-700 dark:text-green-300",children:[" ",e.successCount," assignment",e.successCount!==1?"s":""," completed successfully"]}),e.failureCount!==void 0&&e.failureCount>0&&n.jsxs("div",{className:"text-red-700 dark:text-red-300",children:[" ",e.failureCount," assignment",e.failureCount!==1?"s":""," failed"]})]}),e.details&&e.details.length>0&&n.jsxs("div",{className:"mt-3 space-y-1",children:[n.jsx("div",{className:"text-xs font-medium opacity-80",children:"Details:"}),n.jsx("ul",{className:"text-xs space-y-1 ml-4",children:e.details.map((t,r)=>n.jsx("li",{className:"list-disc",children:t},r))})]})]})})]}):null,lCt=e=>({id:e,name:`User ${e}`,email:"",email_verified_at:null,created_at:"",updated_at:""}),cCt=e=>({id:e,name:`Role ${e}`,guard_name:"web",created_at:"",updated_at:""}),dCt=e=>({id:e,name:`Store ${e}`,is_active:!0,created_at:"",metadata:{}}),v4=(e,t,r,s)=>v.useMemo(()=>t.map(a=>e.find(i=>r(i)===a)??s(a)),[e,t,r,s]),uCt=e=>{const{users:t}=Px(),{roles:r}=cl(),{stores:s}=dl(),a=v4(t,e.selectedUsers,c=>c.id,lCt),i=v4(r,e.selectedRoles,c=>c.id,cCt),o=v4(s,e.selectedStores,c=>c.id,dCt);return{selectedUsers:a,selectedRoles:i,selectedStores:o}},y4=({icon:e,title:t,count:r,items:s,maxDisplay:a=3})=>n.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(e,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary"}),n.jsxs("span",{className:"font-medium text-xs sm:text-sm text-card-foreground",children:[t," (",r,")"]})]}),n.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.slice(0,a).map(i=>n.jsx(Ae,{variant:"secondary",className:"text-xs bg-secondary text-secondary-foreground border-border",children:i.name},i.id)),r>a&&n.jsxs(Ae,{variant:"outline",className:"text-xs border-border text-muted-foreground",children:["+",r-a," more"]})]})]}),fCt=({assignmentData:e})=>{const{selectedUsers:t,selectedRoles:r,selectedStores:s}=uCt(e);return e.selectedUsers.length>0||e.selectedRoles.length>0||e.selectedStores.length>0?n.jsxs(oe,{className:"bg-card border-border shadow-sm",children:[n.jsx(Re,{className:"pb-3 sm:pb-6",children:n.jsxs(qe,{className:"flex items-center gap-2 text-card-foreground text-base sm:text-lg",children:[n.jsx(Eb,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Selection Summary"]})}),n.jsx(je,{className:"pt-0 p-3 sm:p-6",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6",children:[n.jsx(y4,{icon:cs,title:"Selected Users",count:e.selectedUsers.length,items:t}),n.jsx(y4,{icon:ws,title:"Selected Roles",count:e.selectedRoles.length,items:r}),n.jsx(y4,{icon:Ti,title:"Selected Stores",count:e.selectedStores.length,items:s})]})})]}):null},mCt=({assignmentSteps:e,completedSteps:t,progressPercentage:r,assignmentResult:s,assignmentData:a})=>{const i=a.selectedUsers.length>0||a.selectedRoles.length>0||a.selectedStores.length>0;return n.jsxs(n.Fragment,{children:[n.jsx(iCt,{assignmentSteps:e,completedSteps:t,progressPercentage:r}),s&&n.jsx(oCt,{result:s}),i&&n.jsx(fCt,{assignmentData:a})]})};var hCt=bse();function pCt(){return hCt.useSyncExternalStore(gCt,()=>!0,()=>!1)}function gCt(){return()=>{}}var P$="Avatar",[xCt,I3t]=cn(P$),[vCt,she]=xCt(P$),nhe=v.forwardRef((e,t)=>{const{__scopeAvatar:r,...s}=e,[a,i]=v.useState("idle");return n.jsx(vCt,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:n.jsx(nt.span,{...s,ref:t})})});nhe.displayName=P$;var ahe="AvatarImage",ihe=v.forwardRef((e,t)=>{const{__scopeAvatar:r,src:s,onLoadingStatusChange:a=()=>{},...i}=e,o=she(ahe,r),c=yCt(s,i),d=As(u=>{a(u),o.onImageLoadingStatusChange(u)});return Tr(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?n.jsx(nt.img,{...i,ref:t,src:s}):null});ihe.displayName=ahe;var ohe="AvatarFallback",lhe=v.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:s,...a}=e,i=she(ohe,r),[o,c]=v.useState(s===void 0);return v.useEffect(()=>{if(s!==void 0){const d=window.setTimeout(()=>c(!0),s);return()=>window.clearTimeout(d)}},[s]),o&&i.imageLoadingStatus!=="loaded"?n.jsx(nt.span,{...a,ref:t}):null});lhe.displayName=ohe;function hK(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function yCt(e,{referrerPolicy:t,crossOrigin:r}){const s=pCt(),a=v.useRef(null),i=s?(a.current||(a.current=new window.Image),a.current):null,[o,c]=v.useState(()=>hK(i,e));return Tr(()=>{c(hK(i,e))},[i,e]),Tr(()=>{const d=f=>()=>{c(f)};if(!i)return;const u=d("loaded"),l=d("error");return i.addEventListener("load",u),i.addEventListener("error",l),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",l)}},[i,r,t]),o}var che=nhe,dhe=ihe,uhe=lhe;const fhe=v.forwardRef(({className:e,...t},r)=>n.jsx(che,{ref:r,className:X("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));fhe.displayName=che.displayName;const bCt=v.forwardRef(({className:e,...t},r)=>n.jsx(dhe,{ref:r,className:X("aspect-square h-full w-full",e),...t}));bCt.displayName=dhe.displayName;const wCt=v.forwardRef(({className:e,...t},r)=>n.jsx(uhe,{ref:r,className:X("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));wCt.displayName=uhe.displayName;const jCt=({selectedUserIds:e,onUserToggle:t})=>{const[r,s]=v.useState(""),[a,i]=v.useState("all"),{users:o,loading:c,error:d,pagination:u,fetchUsers:l,perPage:f,setPerPage:m}=Px(),p=v.useMemo(()=>new Set(e),[e]),x=v.useMemo(()=>{if(!o||o.length===0)return[];let E=o;if(r.trim()){const T=r.toLowerCase();E=o.filter(D=>D.name.toLowerCase().includes(T)||D.email.toLowerCase().includes(T))}return a!=="all"&&(E=E.filter(T=>{const D=T.roles&&T.roles.length>0;return a==="with-roles"?D:!D})),E},[o,r,a]),b=v.useMemo(()=>x.map(E=>E.id),[x]),h=v.useMemo(()=>{if(x.length===0)return{allSelected:!1,someSelected:!1};const E=b.filter(T=>p.has(T)).length;return{allSelected:E===b.length,someSelected:E>0&&E<b.length}},[b,p]),y=E=>new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),w=E=>E.split(" ").map(T=>T.charAt(0)).join("").toUpperCase().slice(0,2),S=v.useCallback(async E=>{try{await l({page:E,per_page:f})}catch(T){console.error("Failed to fetch users for page:",E,T)}},[l,f]),N=v.useCallback(async E=>{const T=parseInt(E,10);m(T);try{await l({page:1,per_page:T})}catch(D){console.error("Failed to fetch users with new per page:",T,D)}},[m,l]),_=v.useCallback(()=>{b.length!==0&&(h.allSelected?b.forEach(E=>{p.has(E)&&t(E)}):b.forEach(E=>{p.has(E)||t(E)}))},[b,h.allSelected,p,t]),k=v.useMemo(()=>u?{currentPage:u.currentPage||1,lastPage:u.lastPage||1,from:u.from||0,to:u.to||0,total:u.total||0}:null,[u]);return n.jsxs(oe,{className:"bg-card border-border shadow-sm",children:[n.jsxs(Re,{className:"px-4 sm:px-6 py-4 sm:py-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0 gap-3 sm:gap-4",children:[n.jsxs(qe,{className:"flex items-center gap-2 text-base sm:text-lg text-card-foreground",children:[n.jsx(cs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Select Users"]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(nl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(ne,{placeholder:"Search users...",value:r,onChange:E=>s(E.target.value),className:"pl-10 w-full sm:w-64 bg-background border-border text-foreground placeholder:text-muted-foreground focus:ring-ring focus:border-ring text-sm sm:text-base"})]}),n.jsxs(xt,{value:a,onValueChange:E=>i(E),children:[n.jsxs(ft,{className:"w-full sm:w-40 bg-background border-border text-foreground text-sm sm:text-base",children:[n.jsx(Cb,{className:"h-4 w-4 mr-2 text-muted-foreground"}),n.jsx(vt,{})]}),n.jsxs(mt,{className:"bg-popover border-border",children:[n.jsx(Ue,{value:"all",className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:"All Users"}),n.jsx(Ue,{value:"with-roles",className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:"With Roles"}),n.jsx(Ue,{value:"without-roles",className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:"Without Roles"})]})]})]})]}),x.length>0&&n.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[n.jsx(dt,{checked:h.allSelected,ref:E=>{E&&(E.indeterminate=h.someSelected)},onCheckedChange:_,className:"border-border"}),n.jsxs(W,{variant:"ghost",size:"sm",onClick:_,className:"text-xs sm:text-sm text-muted-foreground hover:text-foreground",children:[h.allSelected?"Deselect All":"Select All"," (",x.length,")"]})]})]}),n.jsxs(je,{className:"px-4 sm:px-6 pb-4 sm:pb-6",children:[d?n.jsxs("div",{className:"text-destructive text-center py-4 text-sm sm:text-base",children:["Error loading users: ",d]}):c?n.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[n.jsx(at,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-primary"}),n.jsx("span",{className:"ml-2 text-sm sm:text-base text-muted-foreground",children:"Loading users..."})]}):n.jsx("div",{className:"space-y-3 sm:space-y-4",children:x.length===0?n.jsx("div",{className:"text-center py-6 sm:py-8 text-muted-foreground text-sm sm:text-base",children:r?"No users found matching your search":"No users found"}):x.map(E=>n.jsxs("div",{className:"flex items-center space-x-3 p-3 sm:p-4 border border-border rounded-lg hover:bg-muted/50 transition-colors",children:[n.jsx(dt,{checked:p.has(E.id),onCheckedChange:()=>t(E.id),className:"border-border"}),n.jsx("div",{className:"flex-1 cursor-pointer",onClick:()=>t(E.id),children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(fhe,{className:"h-8 w-8 sm:h-10 sm:w-10 bg-primary/10 text-primary flex items-center justify-center text-xs sm:text-sm font-medium",children:w(E.name)}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("div",{className:"font-medium text-sm sm:text-base text-card-foreground truncate",children:E.name}),n.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:E.email})]})]}),n.jsxs("div",{className:"flex flex-col items-start sm:items-end gap-2 sm:gap-1",children:[n.jsxs("div",{className:"flex flex-wrap gap-1",children:[E.roles&&E.roles.length>0?E.roles.slice(0,2).map((T,D)=>n.jsx(Ae,{variant:"secondary",className:"text-xs bg-secondary text-secondary-foreground",children:T.name||T},D)):n.jsx(Ae,{variant:"outline",className:"text-xs border-border text-muted-foreground",children:"No roles"}),E.roles&&E.roles.length>2&&n.jsxs(Ae,{variant:"outline",className:"text-xs border-border text-muted-foreground",children:["+",E.roles.length-2]})]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:y(E.created_at)})]})]})})]},E.id))}),k&&k.total>0&&n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-4 sm:px-6 py-3 border-t border-border bg-card/50",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Show"}),n.jsxs(xt,{value:f.toString(),onValueChange:N,disabled:c,children:[n.jsx(ft,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:n.jsx(vt,{})}),n.jsx(mt,{className:"bg-popover border-border",children:[5,10,15,25,50].map(E=>n.jsx(Ue,{value:E.toString(),className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:E},E))})]}),n.jsx("span",{className:"text-muted-foreground",children:"per page"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:()=>S(k.currentPage-1),disabled:c||k.currentPage<=1,className:"h-8 px-3 text-xs bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:[n.jsx(ad,{className:"h-3 w-3 mr-1"}),"Prev"]}),n.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground font-medium",children:["Page ",k.currentPage," of ",k.lastPage]}),n.jsxs(W,{variant:"outline",size:"sm",onClick:()=>S(k.currentPage+1),disabled:c||k.currentPage>=k.lastPage,className:"h-8 px-3 text-xs bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:["Next",n.jsx(ko,{className:"h-3 w-3 ml-1"})]})]}),n.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground",children:[n.jsxs("span",{className:"hidden sm:inline",children:[k.from," to ",k.to," of ",k.total," users"]}),n.jsxs("span",{className:"sm:hidden",children:[k.from,"-",k.to," of ",k.total]})]})]})]})]})},SCt=({selectedRoleIds:e,onRoleToggle:t})=>{const[r,s]=v.useState(""),[a,i]=v.useState(1),[o,c]=v.useState(10),d={page:a,per_page:o,search:r||void 0},{roles:u,loading:l,error:f,pagination:m,fetchRoles:p}=cl(!0,d),x=v.useCallback(async T=>{i(T),await p({page:T,per_page:o,search:r||void 0})},[p,o,r]),b=v.useCallback(async T=>{const D=parseInt(T,10);c(D),i(1),await p({page:1,per_page:D,search:r||void 0})},[p,r]),h=v.useCallback(async T=>{s(T),i(1),await p({page:1,per_page:o,search:T||void 0})},[p,o]),y=v.useCallback(()=>{m&&a>1&&x(a-1)},[a,m,x]),w=v.useCallback(()=>{m&&a<m.lastPage&&x(a+1)},[a,m,x]),S=u,N=T=>new Date(T).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),_=S.length>0&&S.every(T=>e.includes(T.id)),k=S.some(T=>e.includes(T.id))&&!_,E=v.useCallback(()=>{const T=S.map(D=>D.id);_?T.forEach(D=>{e.includes(D)&&t(D)}):T.forEach(D=>{e.includes(D)||t(D)})},[S,_,e,t]);return n.jsxs(oe,{className:"bg-card border-border shadow-sm",children:[n.jsxs(Re,{className:"px-4 sm:px-6 py-4 sm:py-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0 gap-3 sm:gap-4",children:[n.jsxs(qe,{className:"flex items-center gap-2 text-base sm:text-lg text-card-foreground",children:[n.jsx(ws,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Select Roles"]}),n.jsxs("div",{className:"relative",children:[n.jsx(nl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(ne,{placeholder:"Search roles...",value:r,onChange:T=>h(T.target.value),className:"pl-10 w-full sm:w-64 bg-background border-border text-foreground placeholder:text-muted-foreground focus:ring-ring focus:border-ring text-sm sm:text-base"})]})]}),S.length>0&&n.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[n.jsx(dt,{checked:_,ref:T=>{T&&(T.indeterminate=k)},onCheckedChange:E,className:"border-border"}),n.jsxs(W,{variant:"ghost",size:"sm",onClick:E,className:"text-xs sm:text-sm text-muted-foreground hover:text-foreground",children:[_?"Deselect All":"Select All"," (",S.length,")"]})]})]}),n.jsx(je,{className:"px-4 sm:px-6 pb-4 sm:pb-6",children:f?n.jsxs("div",{className:"text-destructive text-center py-4 text-sm sm:text-base",children:["Error loading roles: ",f]}):l?n.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[n.jsx(at,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-primary"}),n.jsx("span",{className:"ml-2 text-sm sm:text-base text-muted-foreground",children:"Loading roles..."})]}):n.jsx("div",{className:"space-y-3 sm:space-y-4",children:S.length===0?n.jsx("div",{className:"text-center py-6 sm:py-8 text-muted-foreground text-sm sm:text-base",children:r?"No roles found matching your search":"No roles found"}):S.map(T=>n.jsxs("div",{className:"flex items-center space-x-3 p-3 sm:p-4 border border-border rounded-lg hover:bg-muted/50 transition-colors",children:[n.jsx(dt,{checked:e.includes(T.id),onCheckedChange:()=>t(T.id),className:"border-border"}),n.jsx("div",{className:"flex-1 cursor-pointer",onClick:()=>t(T.id),children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:n.jsx(ws,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})}),n.jsx("div",{className:"min-w-0 flex-1",children:n.jsx("div",{className:"font-medium text-sm sm:text-base text-card-foreground truncate",children:T.name})})]}),n.jsx("div",{className:"flex flex-col items-start sm:items-end gap-2 sm:gap-1",children:n.jsx("span",{className:"text-xs text-muted-foreground",children:N(T.created_at)})})]})})]},T.id))})}),m&&n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-4 sm:px-6 py-3 border-t border-border bg-card/50",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Show"}),n.jsxs(xt,{value:o.toString(),onValueChange:b,disabled:l,children:[n.jsx(ft,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:n.jsx(vt,{})}),n.jsxs(mt,{className:"bg-popover border-border",children:[n.jsx(Ue,{value:"5",className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:"5"}),n.jsx(Ue,{value:"10",className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:"10"}),n.jsx(Ue,{value:"25",className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:"25"}),n.jsx(Ue,{value:"50",className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:"50"}),n.jsx(Ue,{value:"100",className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:"100"})]})]}),n.jsx("span",{className:"text-muted-foreground",children:"per page"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:y,disabled:l||a<=1,className:"h-8 px-3 text-xs bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:[n.jsx(ad,{className:"h-3 w-3 mr-1"}),"Prev"]}),n.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground font-medium",children:["Page ",a," of ",m.lastPage||1]}),n.jsxs(W,{variant:"outline",size:"sm",onClick:w,disabled:l||a>=(m.lastPage||1),className:"h-8 px-3 text-xs bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:["Next",n.jsx(ko,{className:"h-3 w-3 ml-1"})]})]}),n.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground",children:[n.jsxs("span",{className:"hidden sm:inline",children:[m.from||0," to ",m.to||0," of ",m.total||0," roles"]}),n.jsxs("span",{className:"sm:hidden",children:[m.from||0,"-",m.to||0," of ",m.total||0]})]})]})]})},NCt=({selectedStoreIds:e,onStoreToggle:t})=>{const r=ct(),[s,a]=v.useState(""),i=se(db),{stores:o,pagination:c,loading:d,error:u,changePage:l,currentPageData:f,refetch:m}=dl(!0,{search:s}),p=o,x=[5,10,15,25,50],b=v.useCallback(async D=>{const P=parseInt(D,10);r(iE(P)),await m({per_page:P,page:1,search:s})},[r,m,s]),h=v.useCallback(D=>{a(D),c&&c.current_page!==1&&l(1)},[c,l]),y=v.useMemo(()=>c?{shouldShowPagination:c.last_page>1,currentPage:c.current_page,isPrevDisabled:c.current_page<=1,isNextDisabled:c.current_page>=c.last_page}:{shouldShowPagination:!1,currentPage:1,isPrevDisabled:!0,isNextDisabled:!0},[c]),w=v.useCallback(()=>{y.isPrevDisabled||l(y.currentPage-1)},[y.isPrevDisabled,y.currentPage,l]),S=v.useCallback(()=>{y.isNextDisabled||l(y.currentPage+1)},[y.isNextDisabled,y.currentPage,l]),N=v.useMemo(()=>{if(!f||f.total===0)return"No stores found";const{from:D,to:P,total:M}=f;return n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"hidden sm:inline",children:[D," to ",P," of ",M," stores"]}),n.jsxs("span",{className:"sm:hidden",children:[D,"-",P," of ",M]})]})},[f]),_=D=>new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),k=p.length>0&&p.every(D=>e.includes(D.id)),E=p.some(D=>e.includes(D.id))&&!k,T=v.useCallback(()=>{const D=p.map(P=>P.id);k?D.forEach(P=>{e.includes(P)&&t(P)}):D.forEach(P=>{e.includes(P)||t(P)})},[p,k,e,t]);return n.jsxs(oe,{className:"bg-card border-border shadow-sm",children:[n.jsxs(Re,{className:"px-4 sm:px-6 py-4 sm:py-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0 gap-3 sm:gap-4",children:[n.jsxs(qe,{className:"flex items-center gap-2 text-base sm:text-lg text-card-foreground",children:[n.jsx(Ti,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Select Stores"]}),n.jsxs("div",{className:"relative",children:[n.jsx(nl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(ne,{placeholder:"Search stores...",value:s,onChange:D=>h(D.target.value),className:"pl-10 w-full sm:w-64 bg-background border-border text-foreground placeholder:text-muted-foreground focus:ring-ring focus:border-ring text-sm sm:text-base"})]})]}),p.length>0&&n.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[n.jsx(dt,{checked:k,ref:D=>{D&&(D.indeterminate=E)},onCheckedChange:T,className:"border-border"}),n.jsxs(W,{variant:"ghost",size:"sm",onClick:T,className:"text-xs sm:text-sm text-muted-foreground hover:text-foreground",children:[k?"Deselect All":"Select All"," (",p.length,")"]})]})]}),n.jsxs(je,{className:"px-4 sm:px-6 pb-4 sm:pb-6",children:[u?n.jsxs("div",{className:"text-destructive text-center py-4 text-sm sm:text-base",children:["Error loading stores: ",u]}):d?n.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[n.jsx(at,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-primary"}),n.jsx("span",{className:"ml-2 text-sm sm:text-base text-muted-foreground",children:"Loading stores..."})]}):n.jsx("div",{className:"space-y-3 sm:space-y-4",children:p.length===0?n.jsx("div",{className:"text-center py-6 sm:py-8 text-muted-foreground text-sm sm:text-base",children:s?"No stores found matching your search":"No stores found"}):p.map(D=>n.jsxs("div",{className:"flex items-center space-x-3 p-3 sm:p-4 border border-border rounded-lg hover:bg-muted/50 transition-colors",children:[n.jsx(dt,{checked:e.includes(D.id),onCheckedChange:()=>t(D.id),className:"border-border"}),n.jsx("div",{className:"flex-1 cursor-pointer",onClick:()=>t(D.id),children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:n.jsx(Ti,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("div",{className:"font-medium text-sm sm:text-base text-card-foreground truncate",children:D.name}),n.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:D.metadata?.address})]})]}),n.jsxs("div",{className:"flex flex-col items-start sm:items-end gap-2 sm:gap-1",children:[n.jsx(Ae,{variant:D.is_active?"default":"secondary",className:`text-xs ${D.is_active?"bg-green-600 text-white":"bg-secondary text-secondary-foreground"}`,children:D.is_active?"Active":"Inactive"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:_(D.created_at)})]})]})})]},D.id))}),(p.length>0||y.shouldShowPagination)&&n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-4 sm:px-6 py-3 border-t border-border bg-card/50",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Show"}),n.jsxs(xt,{value:i.toString(),onValueChange:b,disabled:d,children:[n.jsx(ft,{className:"w-16 h-8 text-xs bg-background border-border text-foreground",children:n.jsx(vt,{})}),n.jsx(mt,{className:"bg-popover border-border",children:x.map(D=>n.jsx(Ue,{value:D.toString(),className:"text-popover-foreground focus:bg-accent focus:text-accent-foreground",children:D},D))})]}),n.jsx("span",{className:"text-muted-foreground",children:"per page"})]}),y.shouldShowPagination&&c&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:w,disabled:y.isPrevDisabled||d,className:"h-8 px-3 text-xs bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:[n.jsx(ad,{className:"h-3 w-3 mr-1"}),"Prev"]}),n.jsxs("span",{className:"text-xs sm:text-sm px-3 text-foreground font-medium",children:["Page ",y.currentPage," of ",c.last_page]}),n.jsxs(W,{variant:"outline",size:"sm",onClick:S,disabled:y.isNextDisabled||d,className:"h-8 px-3 text-xs bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground",children:["Next",n.jsx(ko,{className:"h-3 w-3 ml-1"})]})]}),n.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:N})]})]})]})},CCt=({assignmentData:e,onUserToggle:t,onRoleToggle:r,onStoreToggle:s,onSelectAllUsers:a,onSelectAllRoles:i,onSelectAllStores:o})=>n.jsxs(Zl,{defaultValue:"users",className:"space-y-4 sm:space-y-6",children:[n.jsxs(ll,{className:"grid w-full grid-cols-3 bg-muted p-1 rounded-md",children:[n.jsxs(xs,{value:"users",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-4 py-2 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm transition-all",children:[n.jsx(cs,{className:"h-3 w-3 sm:h-4 sm:w-4"}),n.jsxs("span",{className:"hidden sm:inline",children:["Users (",e.selectedUsers.length,")"]}),n.jsx("span",{className:"sm:hidden",children:"Users"})]}),n.jsxs(xs,{value:"roles",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-4 py-2 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm transition-all",children:[n.jsx(ws,{className:"h-3 w-3 sm:h-4 sm:w-4"}),n.jsxs("span",{className:"hidden sm:inline",children:["Roles (",e.selectedRoles.length,")"]}),n.jsx("span",{className:"sm:hidden",children:"Roles"})]}),n.jsxs(xs,{value:"stores",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-4 py-2 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm transition-all",children:[n.jsx(Ti,{className:"h-3 w-3 sm:h-4 sm:w-4"}),n.jsxs("span",{className:"hidden sm:inline",children:["Stores (",e.selectedStores.length,")"]}),n.jsx("span",{className:"sm:hidden",children:"Stores"})]})]}),n.jsx(vs,{value:"users",children:n.jsx(jCt,{selectedUserIds:e.selectedUsers,onUserToggle:t,onSelectAllUsers:a})}),n.jsx(vs,{value:"roles",children:n.jsx(SCt,{selectedRoleIds:e.selectedRoles,onRoleToggle:r,onSelectAllRoles:i})}),n.jsx(vs,{value:"stores",children:n.jsx(NCt,{selectedStoreIds:e.selectedStores,onStoreToggle:s,onSelectAllStores:o})})]}),_Ct=()=>{const[e,t]=v.useState({selectedUsers:[],selectedRoles:[],selectedStores:[]}),[r,s]=v.useState(!1),[a,i]=v.useState(null),[o,c]=v.useState(!1),d=v.useMemo(()=>[{id:"users",title:"Select Users",description:"Choose users to assign roles to",completed:e.selectedUsers.length>0},{id:"roles",title:"Select Roles",description:"Choose roles to assign",completed:e.selectedRoles.length>0},{id:"stores",title:"Select Stores",description:"Choose stores for the assignment",completed:e.selectedStores.length>0}],[e.selectedUsers.length,e.selectedRoles.length,e.selectedStores.length]),u=v.useMemo(()=>d.filter(T=>T.completed).length,[d]),l=v.useMemo(()=>u/d.length*100,[u,d.length]),f=v.useCallback(T=>{t(D=>({...D,selectedUsers:D.selectedUsers.includes(T)?D.selectedUsers.filter(P=>P!==T):[...D.selectedUsers,T]}))},[]),m=v.useCallback(T=>{t(D=>({...D,selectedRoles:D.selectedRoles.includes(T)?D.selectedRoles.filter(P=>P!==T):[...D.selectedRoles,T]}))},[]),p=v.useCallback(T=>{t(D=>({...D,selectedStores:D.selectedStores.includes(T)?D.selectedStores.filter(P=>P!==T):[...D.selectedStores,T]}))},[]),x=v.useCallback(()=>{},[]),b=v.useCallback(()=>{},[]),h=v.useCallback(()=>{},[]),y=v.useCallback(()=>{t({selectedUsers:[],selectedRoles:[],selectedStores:[]}),i(null)},[]),{bulkAssignUserRoles:w,isBulkAssigning:S,bulkAssignError:N}=T$(),_=v.useCallback(async()=>{s(!0),c(!1);try{const T=[];let D=0;for(const B of e.selectedUsers){const L=[];for(const I of e.selectedRoles)for(const z of e.selectedStores)L.push({role_id:I,store_id:z,metadata:{start_date:new Date().toISOString(),notes:"Bulk assignment via Assignment Page"}}),D++;const $={user_id:B,assignments:L};T.push(w($))}const P=await Promise.allSettled(T),M=P.filter(B=>B.status==="fulfilled").length,R=P.filter(B=>B.status==="rejected").length;R===0?(i({success:!0,message:`Successfully assigned ${e.selectedRoles.length} roles to ${e.selectedUsers.length} users across ${e.selectedStores.length} stores (${D} total assignments).`}),setTimeout(()=>{y()},3e3)):i({success:!1,message:`Partial success: ${M} users assigned successfully, ${R} failed. Please check the failed assignments and try again.`})}catch(T){console.error("Assignment error:",T),i({success:!1,message:N?.message||"Failed to assign roles. Please try again."})}finally{s(!1)}},[e,w,N,y]),k=v.useMemo(()=>e.selectedUsers.length>0&&e.selectedRoles.length>0&&e.selectedStores.length>0,[e]),E=v.useMemo(()=>r||S,[r,S]);return n.jsxs(Zt,{title:"Role Assignment",subtitle:"Assign roles to users across different stores with an intuitive interface",backButton:{show:!0},children:[n.jsx(aCt,{assignmentData:e,canAssign:k,isAssigning:E,showConfirmDialog:o,onShowConfirmDialog:c,onClearSelection:y,onConfirmAssignment:_}),n.jsx(mCt,{assignmentSteps:d,completedSteps:u,progressPercentage:l,assignmentResult:a,assignmentData:e}),n.jsx(CCt,{assignmentData:e,onUserToggle:f,onRoleToggle:m,onStoreToggle:p,onSelectAllUsers:x,onSelectAllRoles:b,onSelectAllStores:h})]})},ECt=({assignmentSteps:e,completedSteps:t,progressPercentage:r})=>n.jsx(oe,{className:"bg-[var(--card)] border-[var(--border)]",children:n.jsx(je,{className:"pt-4 sm:pt-6 px-4 sm:px-6",children:n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4",children:[n.jsx("span",{className:"text-sm sm:text-base font-medium text-[var(--card-foreground)]",children:"Assignment Progress"}),n.jsxs("span",{className:"text-xs sm:text-sm text-[var(--muted-foreground)]",children:[t," of ",e.length," steps completed"]})]}),n.jsx(Pu,{value:r,className:"h-2 sm:h-3"}),n.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-3 sm:gap-2",children:e.map((s,a)=>n.jsxs("div",{className:"flex items-center gap-2 sm:gap-1 lg:gap-2",children:[s.completed?n.jsx(bs,{className:"h-4 w-4 sm:h-3 sm:w-3 lg:h-4 lg:w-4 text-[#10b981] flex-shrink-0"}):n.jsx("div",{className:"h-4 w-4 sm:h-3 sm:w-3 lg:h-4 lg:w-4 rounded-full border-2 border-[var(--muted)] flex-shrink-0"}),n.jsx("span",{className:`text-xs sm:text-[10px] lg:text-xs ${s.completed?"text-[#059669]":"text-[var(--muted-foreground)]"} truncate`,children:s.title}),a<e.length-1&&n.jsx(SE,{className:"h-3 w-3 sm:h-2 sm:w-2 lg:h-3 lg:w-3 text-[var(--muted-foreground)] ml-1 sm:ml-0 lg:ml-2 hidden sm:block flex-shrink-0"})]},s.id))})]})})}),kCt=({result:e})=>e?n.jsxs(Ge,{className:`px-4 sm:px-6 py-3 sm:py-4 ${e.success?"border-[#10b981] bg-[#dcfce7]":"border-[#ef4444] bg-[#fef2f2]"} dark:${e.success?"border-[#059669] bg-[#064e3b]":"border-[#dc2626] bg-[#7f1d1d]"}`,children:[e.success?n.jsx(bs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-[#059669] flex-shrink-0"}):n.jsx(Je,{className:"h-4 w-4 sm:h-5 sm:w-5 text-[#dc2626] flex-shrink-0"}),n.jsx(Ye,{className:`text-sm sm:text-base ${e.success?"text-[#065f46]":"text-[#991b1b]"} dark:${e.success?"text-[#10b981]":"text-[#f87171]"} ml-2`,children:e.message})]}):null,ACt=({assignmentData:e,users:t,roles:r,stores:s})=>e.selectedUser||e.selectedRole||e.selectedStore?n.jsxs(oe,{className:"bg-[var(--card)] border-[var(--border)]",children:[n.jsx(Re,{className:"px-4 sm:px-6 py-4 sm:py-6",children:n.jsxs(qe,{className:"flex items-center gap-2 text-base sm:text-lg text-[var(--card-foreground)]",children:[n.jsx(Eb,{className:"h-4 w-4 sm:h-5 sm:w-5 text-[var(--primary)]"}),"Current Selection"]})}),n.jsx(je,{className:"px-4 sm:px-6 pb-4 sm:pb-6",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[n.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(cs,{className:"h-4 w-4 text-[var(--primary)] flex-shrink-0"}),n.jsx("span",{className:"font-medium text-sm sm:text-base text-[var(--card-foreground)]",children:"Selected User"})]}),n.jsx("div",{children:e.selectedUser?(()=>{const i=t.find(o=>o.id===e.selectedUser);return i?n.jsx(Ae,{variant:"secondary",className:"text-xs sm:text-sm bg-[var(--secondary)] text-[var(--secondary-foreground)] border-[var(--border)]",children:i.name}):n.jsx("span",{className:"text-[var(--muted-foreground)] text-xs sm:text-sm",children:"User not found"})})():n.jsx("span",{className:"text-[var(--muted-foreground)] text-xs sm:text-sm",children:"No user selected"})})]}),n.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ws,{className:"h-4 w-4 text-[var(--primary)] flex-shrink-0"}),n.jsx("span",{className:"font-medium text-sm sm:text-base text-[var(--card-foreground)]",children:"Selected Role"})]}),n.jsx("div",{children:e.selectedRole?(()=>{const i=r.find(o=>o.id===e.selectedRole);return i?n.jsx(Ae,{variant:"secondary",className:"text-xs sm:text-sm bg-[var(--secondary)] text-[var(--secondary-foreground)] border-[var(--border)]",children:i.name}):n.jsx("span",{className:"text-[var(--muted-foreground)] text-xs sm:text-sm",children:"Role not found"})})():n.jsx("span",{className:"text-[var(--muted-foreground)] text-xs sm:text-sm",children:"No role selected"})})]}),n.jsxs("div",{className:"space-y-2 sm:space-y-3 sm:col-span-2 lg:col-span-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ti,{className:"h-4 w-4 text-[var(--primary)] flex-shrink-0"}),n.jsx("span",{className:"font-medium text-sm sm:text-base text-[var(--card-foreground)]",children:"Selected Store"})]}),n.jsx("div",{children:e.selectedStore?(()=>{const i=s.find(o=>o.id===e.selectedStore);return i?n.jsx(Ae,{variant:"secondary",className:"text-xs sm:text-sm bg-[var(--secondary)] text-[var(--secondary-foreground)] border-[var(--border)]",children:i.name}):n.jsx("span",{className:"text-[var(--muted-foreground)] text-xs sm:text-sm",children:"Store not found"})})():n.jsx("span",{className:"text-[var(--muted-foreground)] text-xs sm:text-sm",children:"No store selected"})})]})]})})]}):null;function Bc(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}var b4="rovingFocusGroup.onEntryFocus",TCt={bubbles:!1,cancelable:!0},Dw="RovingFocusGroup",[QO,mhe,DCt]=ew(Dw),[PCt,hhe]=cn(Dw,[DCt]),[RCt,MCt]=PCt(Dw),phe=v.forwardRef((e,t)=>n.jsx(QO.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(QO.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(OCt,{...e,ref:t})})}));phe.displayName=Dw;var OCt=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:l=!1,...f}=e,m=v.useRef(null),p=bt(t,m),x=Zu(i),[b,h]=Di({prop:o,defaultProp:c??null,onChange:d,caller:Dw}),[y,w]=v.useState(!1),S=As(u),N=mhe(r),_=v.useRef(!1),[k,E]=v.useState(0);return v.useEffect(()=>{const T=m.current;if(T)return T.addEventListener(b4,S),()=>T.removeEventListener(b4,S)},[S]),n.jsx(RCt,{scope:r,orientation:s,dir:x,loop:a,currentTabStopId:b,onItemFocus:v.useCallback(T=>h(T),[h]),onItemShiftTab:v.useCallback(()=>w(!0),[]),onFocusableItemAdd:v.useCallback(()=>E(T=>T+1),[]),onFocusableItemRemove:v.useCallback(()=>E(T=>T-1),[]),children:n.jsx(nt.div,{tabIndex:y||k===0?-1:0,"data-orientation":s,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Bc(e.onMouseDown,()=>{_.current=!0}),onFocus:Bc(e.onFocus,T=>{const D=!_.current;if(T.target===T.currentTarget&&D&&!y){const P=new CustomEvent(b4,TCt);if(T.currentTarget.dispatchEvent(P),!P.defaultPrevented){const M=N().filter(I=>I.focusable),R=M.find(I=>I.active),B=M.find(I=>I.id===b),$=[R,B,...M].filter(Boolean).map(I=>I.ref.current);vhe($,l)}}_.current=!1}),onBlur:Bc(e.onBlur,()=>w(!1))})})}),ghe="RovingFocusGroupItem",xhe=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:i,children:o,...c}=e,d=An(),u=i||d,l=MCt(ghe,r),f=l.currentTabStopId===u,m=mhe(r),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:b}=l;return v.useEffect(()=>{if(s)return p(),()=>x()},[s,p,x]),n.jsx(QO.ItemSlot,{scope:r,id:u,focusable:s,active:a,children:n.jsx(nt.span,{tabIndex:f?0:-1,"data-orientation":l.orientation,...c,ref:t,onMouseDown:Bc(e.onMouseDown,h=>{s?l.onItemFocus(u):h.preventDefault()}),onFocus:Bc(e.onFocus,()=>l.onItemFocus(u)),onKeyDown:Bc(e.onKeyDown,h=>{if(h.key==="Tab"&&h.shiftKey){l.onItemShiftTab();return}if(h.target!==h.currentTarget)return;const y=$Ct(h,l.orientation,l.dir);if(y!==void 0){if(h.metaKey||h.ctrlKey||h.altKey||h.shiftKey)return;h.preventDefault();let S=m().filter(N=>N.focusable).map(N=>N.ref.current);if(y==="last")S.reverse();else if(y==="prev"||y==="next"){y==="prev"&&S.reverse();const N=S.indexOf(h.currentTarget);S=l.loop?LCt(S,N+1):S.slice(N+1)}setTimeout(()=>vhe(S))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:b!=null}):o})})});xhe.displayName=ghe;var ICt={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function FCt(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function $Ct(e,t,r){const s=FCt(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return ICt[s]}function vhe(e,t=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}function LCt(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var BCt=phe,zCt=xhe;function UCt(e,t){return v.useReducer((r,s)=>t[r][s]??r,e)}var yhe=e=>{const{present:t,children:r}=e,s=HCt(t),a=typeof r=="function"?r({present:s.isPresent}):v.Children.only(r),i=bt(s.ref,VCt(a));return typeof r=="function"||s.isPresent?v.cloneElement(a,{ref:i}):null};yhe.displayName="Presence";function HCt(e){const[t,r]=v.useState(),s=v.useRef(null),a=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[c,d]=UCt(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=F1(s.current);i.current=c==="mounted"?u:"none"},[c]),Tr(()=>{const u=s.current,l=a.current;if(l!==e){const m=i.current,p=F1(u);e?d("MOUNT"):p==="none"||u?.display==="none"?d("UNMOUNT"):d(l&&m!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),Tr(()=>{if(t){let u;const l=t.ownerDocument.defaultView??window,f=p=>{const b=F1(s.current).includes(CSS.escape(p.animationName));if(p.target===t&&b&&(d("ANIMATION_END"),!a.current)){const h=t.style.animationFillMode;t.style.animationFillMode="forwards",u=l.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=h)})}},m=p=>{p.target===t&&(i.current=F1(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{l.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:v.useCallback(u=>{s.current=u?getComputedStyle(u):null,r(u)},[])}}function F1(e){return e?.animationName||"none"}function VCt(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var R$="Radio",[WCt,bhe]=cn(R$),[qCt,GCt]=WCt(R$),whe=v.forwardRef((e,t)=>{const{__scopeRadio:r,name:s,checked:a=!1,required:i,disabled:o,value:c="on",onCheck:d,form:u,...l}=e,[f,m]=v.useState(null),p=bt(t,h=>m(h)),x=v.useRef(!1),b=f?u||!!f.closest("form"):!0;return n.jsxs(qCt,{scope:r,checked:a,disabled:o,children:[n.jsx(nt.button,{type:"button",role:"radio","aria-checked":a,"data-state":Che(a),"data-disabled":o?"":void 0,disabled:o,value:c,...l,ref:p,onClick:Bc(e.onClick,h=>{a||d?.(),b&&(x.current=h.isPropagationStopped(),x.current||h.stopPropagation())})}),b&&n.jsx(Nhe,{control:f,bubbles:!x.current,name:s,value:c,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});whe.displayName=R$;var jhe="RadioIndicator",She=v.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:s,...a}=e,i=GCt(jhe,r);return n.jsx(yhe,{present:s||i.checked,children:n.jsx(nt.span,{"data-state":Che(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});She.displayName=jhe;var YCt="RadioBubbleInput",Nhe=v.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:s=!0,...a},i)=>{const o=v.useRef(null),c=bt(o,i),d=Nw(r),u=hx(t);return v.useEffect(()=>{const l=o.current;if(!l)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==r&&p){const x=new Event("click",{bubbles:s});p.call(l,r),l.dispatchEvent(x)}},[d,r,s]),n.jsx(nt.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:c,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Nhe.displayName=YCt;function Che(e){return e?"checked":"unchecked"}var KCt=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],bk="RadioGroup",[ZCt,F3t]=cn(bk,[hhe,bhe]),_he=hhe(),Ehe=bhe(),[XCt,JCt]=ZCt(bk),khe=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:s,defaultValue:a,value:i,required:o=!1,disabled:c=!1,orientation:d,dir:u,loop:l=!0,onValueChange:f,...m}=e,p=_he(r),x=Zu(u),[b,h]=Di({prop:i,defaultProp:a??null,onChange:f,caller:bk});return n.jsx(XCt,{scope:r,name:s,required:o,disabled:c,value:b,onValueChange:h,children:n.jsx(BCt,{asChild:!0,...p,orientation:d,dir:x,loop:l,children:n.jsx(nt.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":c?"":void 0,dir:x,...m,ref:t})})})});khe.displayName=bk;var Ahe="RadioGroupItem",The=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:s,...a}=e,i=JCt(Ahe,r),o=i.disabled||s,c=_he(r),d=Ehe(r),u=v.useRef(null),l=bt(t,u),f=i.value===a.value,m=v.useRef(!1);return v.useEffect(()=>{const p=b=>{KCt.includes(b.key)&&(m.current=!0)},x=()=>m.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",x)}},[]),n.jsx(zCt,{asChild:!0,...c,focusable:!o,active:f,children:n.jsx(whe,{disabled:o,required:i.required,checked:f,...d,...a,name:i.name,ref:l,onCheck:()=>i.onValueChange(a.value),onKeyDown:Bc(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:Bc(a.onFocus,()=>{m.current&&u.current?.click()})})})});The.displayName=Ahe;var QCt="RadioGroupIndicator",Dhe=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...s}=e,a=Ehe(r);return n.jsx(She,{...a,...s,ref:t})});Dhe.displayName=QCt;var Phe=khe,Rhe=The,e_t=Dhe;const of=v.forwardRef(({className:e,...t},r)=>n.jsx(Phe,{className:X("grid gap-2",e),...t,ref:r}));of.displayName=Phe.displayName;const rd=v.forwardRef(({className:e,...t},r)=>n.jsx(Rhe,{ref:r,className:X("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx(e_t,{className:"flex items-center justify-center",children:n.jsx(ju,{className:"h-2.5 w-2.5 fill-current text-current"})})}));rd.displayName=Rhe.displayName;const t_t=({selectedUserId:e,onUserSelect:t})=>{const r=ct(),[s,a]=v.useState(""),[i,o]=v.useState("all"),c=se(iX),d=T=>{o(T)},{users:u,pagination:l,loading:f,error:m,fetchUsers:p}=Px(!0,{per_page:c,search:s}),x=v.useMemo(()=>{let T=u;switch(i){case"with-roles":T=T.filter(D=>D.roles&&D.roles.length>0);break;case"without-roles":T=T.filter(D=>!D.roles||D.roles.length===0);break}return T},[u,i]),b=[5,10,15,25,50],h=v.useCallback(async T=>{const D=parseInt(T,10);r(sX(D)),await p({per_page:D,page:1,search:s})},[r,p,s]),y=v.useCallback(T=>{a(T),l&&l.currentPage!==1&&p({page:1,per_page:c,search:T})},[l,p,c]),w=v.useMemo(()=>l?{shouldShowPagination:l.lastPage>1,currentPage:l.currentPage,isPrevDisabled:l.currentPage<=1,isNextDisabled:l.currentPage>=l.lastPage}:{shouldShowPagination:!1,currentPage:1,isPrevDisabled:!0,isNextDisabled:!0},[l]),S=v.useCallback(()=>{w.isPrevDisabled||p({page:w.currentPage-1,per_page:c,search:s})},[w.isPrevDisabled,w.currentPage,p,c,s]),N=v.useCallback(()=>{w.isNextDisabled||p({page:w.currentPage+1,per_page:c,search:s})},[w.isNextDisabled,w.currentPage,p,c,s]),_=v.useMemo(()=>{if(!l||l.total===0)return"No users found";const{from:T,to:D,total:P}=l;return n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"hidden sm:inline",children:[T," to ",D," of ",P," users"]}),n.jsxs("span",{className:"sm:hidden",children:[T,"-",D," of ",P]})]})},[l]),k=T=>new Date(T).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),E=T=>T.split(" ").map(D=>D.charAt(0)).join("").toUpperCase().slice(0,2);return n.jsxs(oe,{className:"bg-[var(--card)] border-[var(--border)]",children:[n.jsx(Re,{className:"px-4 sm:px-6 py-4 sm:py-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0 gap-3 sm:gap-4",children:[n.jsx(qe,{className:"text-base sm:text-lg text-[var(--card-foreground)]",children:"Select User"}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(nl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[var(--muted-foreground)]"}),n.jsx(ne,{placeholder:"Search users...",value:s,onChange:T=>y(T.target.value),className:"pl-10 w-full sm:w-64 bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] placeholder:text-[var(--muted-foreground)] focus:ring-[var(--ring)] focus:border-[var(--ring)] text-sm sm:text-base"})]}),n.jsxs(xt,{value:i,onValueChange:d,children:[n.jsxs(ft,{className:"w-full sm:w-40 bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] text-sm sm:text-base",children:[n.jsx(Cb,{className:"h-4 w-4 mr-2 text-[var(--muted-foreground)]"}),n.jsx(vt,{})]}),n.jsxs(mt,{className:"bg-[var(--popover)] border-[var(--border)]",children:[n.jsx(Ue,{value:"all",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"All Users"}),n.jsx(Ue,{value:"with-roles",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"With Roles"}),n.jsx(Ue,{value:"without-roles",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"Without Roles"})]})]})]})]})}),n.jsxs(je,{className:"px-4 sm:px-6 pb-4 sm:pb-6",children:[m?n.jsxs("div",{className:"text-[#dc2626] dark:text-[#f87171] text-center py-4 text-sm sm:text-base",children:["Error loading users: ",m]}):f?n.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[n.jsx(at,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-[var(--primary)]"}),n.jsx("span",{className:"ml-2 text-sm sm:text-base text-[var(--muted-foreground)]",children:"Loading users..."})]}):n.jsx(of,{value:e?.toString()||"",onValueChange:t,className:"space-y-3 sm:space-y-4",children:x.length===0?n.jsx("div",{className:"text-center py-6 sm:py-8 text-[var(--muted-foreground)] text-sm sm:text-base",children:s?"No users found matching your search":"No users found"}):n.jsx(n.Fragment,{children:x.map(T=>n.jsxs("div",{className:"flex items-center space-x-3 p-3 sm:p-4 border border-[var(--border)] rounded-lg hover:bg-[var(--muted)]/50 transition-colors",children:[n.jsx(rd,{value:T.id.toString(),id:`user-${T.id}`,className:"text-[var(--primary)] border-[var(--border)]"}),n.jsx(Q,{htmlFor:`user-${T.id}`,className:"flex-1 cursor-pointer",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-[var(--primary)]/10 flex items-center justify-center text-xs sm:text-sm font-medium text-[var(--primary)] flex-shrink-0",children:E(T.name)}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("div",{className:"font-medium text-sm sm:text-base text-[var(--card-foreground)] truncate",children:T.name}),n.jsx("div",{className:"text-xs sm:text-sm text-[var(--muted-foreground)] truncate",children:T.email})]})]}),n.jsxs("div",{className:"flex flex-col items-start sm:items-end gap-2 sm:gap-1",children:[n.jsxs("div",{className:"flex flex-wrap gap-1",children:[T.roles&&T.roles.length>0?T.roles.slice(0,2).map(D=>n.jsx(Ae,{variant:"outline",className:"text-xs bg-[var(--secondary)] text-[var(--secondary-foreground)] border-[var(--border)]",children:D.name},D.id)):n.jsx("span",{className:"text-[var(--muted-foreground)] text-xs",children:"No roles"}),T.roles&&T.roles.length>2&&n.jsxs(Ae,{variant:"outline",className:"text-xs bg-[var(--secondary)] text-[var(--secondary-foreground)] border-[var(--border)]",children:["+",T.roles.length-2]})]}),n.jsx("div",{className:"text-xs text-[var(--muted-foreground)]",children:k(T.created_at)})]})]})})]},T.id))})}),(x.length>0||w.shouldShowPagination)&&n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-4 sm:px-6 py-3 border-t border-[var(--border)] bg-[var(--card)]/50",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[n.jsx("span",{className:"text-[var(--muted-foreground)]",children:"Show"}),n.jsxs(xt,{value:c.toString(),onValueChange:h,disabled:f,children:[n.jsx(ft,{className:"w-16 h-8 text-xs bg-[var(--background)] border-[var(--border)] text-[var(--foreground)]",children:n.jsx(vt,{})}),n.jsx(mt,{className:"bg-[var(--popover)] border-[var(--border)]",children:b.map(T=>n.jsx(Ue,{value:T.toString(),className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:T},T))})]}),n.jsx("span",{className:"text-[var(--muted-foreground)]",children:"per page"})]}),w.shouldShowPagination&&l&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:S,disabled:w.isPrevDisabled||f,className:"h-8 px-3 text-xs bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] hover:bg-[var(--accent)] hover:text-[var(--accent-foreground)]",children:[n.jsx(ad,{className:"h-3 w-3 mr-1"}),"Prev"]}),n.jsxs("span",{className:"text-xs sm:text-sm px-3 text-[var(--foreground)] font-medium",children:["Page ",w.currentPage," of ",l.lastPage]}),n.jsxs(W,{variant:"outline",size:"sm",onClick:N,disabled:w.isNextDisabled||f,className:"h-8 px-3 text-xs bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] hover:bg-[var(--accent)] hover:text-[var(--accent-foreground)]",children:["Next",n.jsx(ko,{className:"h-3 w-3 ml-1"})]})]}),n.jsx("div",{className:"text-xs sm:text-sm text-[var(--muted-foreground)]",children:_})]})]})]})},r_t=({selectedRoleId:e,onRoleSelect:t})=>{const[r,s]=v.useState(""),[a,i]=v.useState(1),[o,c]=v.useState(10),d={page:a,per_page:o,search:r||void 0},{roles:u,loading:l,error:f,pagination:m,fetchRoles:p}=cl(!0,d),x=u,b=v.useCallback(async _=>{i(_),await p({page:_,per_page:o,search:r||void 0})},[p,o,r]),h=v.useCallback(async _=>{const k=parseInt(_,10);c(k),i(1),await p({page:1,per_page:k,search:r||void 0})},[p,r]),y=v.useCallback(async _=>{s(_),i(1),await p({page:1,per_page:o,search:_||void 0})},[p,o]),w=v.useCallback(()=>{m&&a>1&&b(a-1)},[a,m,b]),S=v.useCallback(()=>{m&&a<m.lastPage&&b(a+1)},[a,m,b]),N=_=>new Date(_).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return n.jsxs(oe,{className:"bg-[var(--card)] border-[var(--border)]",children:[n.jsx(Re,{className:"px-4 sm:px-6 py-4 sm:py-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0 gap-3 sm:gap-4",children:[n.jsx(qe,{className:"text-base sm:text-lg text-[var(--card-foreground)]",children:"Select Role"}),n.jsxs("div",{className:"relative",children:[n.jsx(nl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[var(--muted-foreground)]"}),n.jsx(ne,{placeholder:"Search roles...",value:r,onChange:_=>y(_.target.value),className:"pl-10 w-full sm:w-64 bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] placeholder:text-[var(--muted-foreground)] focus:ring-[var(--ring)] focus:border-[var(--ring)] text-sm sm:text-base"})]})]})}),n.jsxs(je,{className:"px-4 sm:px-6 pb-4 sm:pb-6",children:[f?n.jsxs("div",{className:"text-[#dc2626] dark:text-[#f87171] text-center py-4 text-sm sm:text-base",children:["Error loading roles: ",f]}):l?n.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[n.jsx(at,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-[var(--primary)]"}),n.jsx("span",{className:"ml-2 text-sm sm:text-base text-[var(--muted-foreground)]",children:"Loading roles..."})]}):n.jsx(of,{value:e?.toString()||"",onValueChange:t,className:"space-y-3 sm:space-y-4",children:x.length===0?n.jsx("div",{className:"text-center py-6 sm:py-8 text-[var(--muted-foreground)] text-sm sm:text-base",children:r?"No roles found matching your search":"No roles found"}):x.map(_=>n.jsxs("div",{className:"flex items-center space-x-3 p-3 sm:p-4 border border-[var(--border)] rounded-lg hover:bg-[var(--muted)]/50 transition-colors",children:[n.jsx(rd,{value:_.id.toString(),id:`role-${_.id}`,className:"text-[var(--primary)] border-[var(--border)]"}),n.jsx(Q,{htmlFor:`role-${_.id}`,className:"flex-1 cursor-pointer",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-[var(--primary)]/10 flex items-center justify-center flex-shrink-0",children:n.jsx(ws,{className:"h-4 w-4 sm:h-5 sm:w-5 text-[var(--primary)]"})}),n.jsx("div",{className:"min-w-0 flex-1",children:n.jsx("div",{className:"font-medium text-sm sm:text-base text-[var(--card-foreground)] truncate",children:_.name})})]}),n.jsx("div",{className:"flex flex-col items-start sm:items-end gap-2 sm:gap-1",children:n.jsx("div",{className:"text-xs text-[var(--muted-foreground)]",children:N(_.created_at)})})]})})]},_.id))}),m&&n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-4 sm:px-6 py-3 border-t border-[var(--border)] bg-[var(--card)]/50",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[n.jsx("span",{className:"text-[var(--muted-foreground)]",children:"Show"}),n.jsxs(xt,{value:o.toString(),onValueChange:h,disabled:l,children:[n.jsx(ft,{className:"w-16 h-8 text-xs bg-[var(--background)] border-[var(--border)] text-[var(--foreground)]",children:n.jsx(vt,{})}),n.jsxs(mt,{className:"bg-[var(--popover)] border-[var(--border)]",children:[n.jsx(Ue,{value:"5",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"5"}),n.jsx(Ue,{value:"10",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"10"}),n.jsx(Ue,{value:"25",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"25"}),n.jsx(Ue,{value:"50",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"50"}),n.jsx(Ue,{value:"100",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"100"})]})]}),n.jsx("span",{className:"text-[var(--muted-foreground)]",children:"per page"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:w,disabled:l||a<=1,className:"h-8 px-3 text-xs bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] hover:bg-[var(--accent)] hover:text-[var(--accent-foreground)]",children:[n.jsx(ad,{className:"h-3 w-3 mr-1"}),"Prev"]}),n.jsxs("span",{className:"text-xs sm:text-sm px-3 text-[var(--foreground)] font-medium",children:["Page ",a," of ",m.lastPage||1]}),n.jsxs(W,{variant:"outline",size:"sm",onClick:S,disabled:l||a>=(m.lastPage||1),className:"h-8 px-3 text-xs bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] hover:bg-[var(--accent)] hover:text-[var(--accent-foreground)]",children:["Next",n.jsx(ko,{className:"h-3 w-3 ml-1"})]})]}),n.jsxs("div",{className:"text-xs sm:text-sm text-[var(--muted-foreground)]",children:[n.jsxs("span",{className:"hidden sm:inline",children:[m.from||0," to ",m.to||0," of ",m.total||0," roles"]}),n.jsxs("span",{className:"sm:hidden",children:[m.from||0,"-",m.to||0," of ",m.total||0]})]})]})]})]})},s_t=({selectedStoreId:e,onStoreSelect:t})=>{const r=ct(),[s,a]=v.useState(""),[i,o]=v.useState("all"),c=se(db),d=D=>{o(D)},{stores:u,pagination:l,loading:f,error:m,changePage:p,currentPageData:x,refetch:b}=dl(!0,{search:s}),h=v.useMemo(()=>{let D=u;switch(i){case"active":D=D.filter(P=>P.is_active);break;case"inactive":D=D.filter(P=>!P.is_active);break}return D},[u,i]),y=[5,10,15,25,50],w=v.useCallback(async D=>{const P=parseInt(D,10);r(iE(P)),await b({per_page:P,page:1,search:s})},[r,b,s]),S=v.useCallback(D=>{a(D),l&&l.current_page!==1&&p(1)},[l,p]),N=v.useMemo(()=>l?{shouldShowPagination:l.last_page>1,currentPage:l.current_page,isPrevDisabled:l.current_page<=1,isNextDisabled:l.current_page>=l.last_page}:{shouldShowPagination:!1,currentPage:1,isPrevDisabled:!0,isNextDisabled:!0},[l]),_=v.useCallback(()=>{N.isPrevDisabled||p(N.currentPage-1)},[N.isPrevDisabled,N.currentPage,p]),k=v.useCallback(()=>{N.isNextDisabled||p(N.currentPage+1)},[N.isNextDisabled,N.currentPage,p]),E=v.useMemo(()=>{if(!x||x.total===0)return"No stores found";const{from:D,to:P,total:M}=x;return n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"hidden sm:inline",children:[D," to ",P," of ",M," stores"]}),n.jsxs("span",{className:"sm:hidden",children:[D,"-",P," of ",M]})]})},[x]),T=D=>new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return n.jsxs(oe,{className:"bg-[var(--card)] border-[var(--border)]",children:[n.jsx(Re,{className:"px-4 sm:px-6 py-4 sm:py-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0 gap-3 sm:gap-4",children:[n.jsx(qe,{className:"text-base sm:text-lg text-[var(--card-foreground)]",children:"Select Store"}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(nl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[var(--muted-foreground)]"}),n.jsx(ne,{placeholder:"Search stores...",value:s,onChange:D=>S(D.target.value),className:"pl-10 w-full sm:w-64 bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] placeholder:text-[var(--muted-foreground)] focus:ring-[var(--ring)] focus:border-[var(--ring)] text-sm sm:text-base"})]}),n.jsxs(xt,{value:i,onValueChange:d,children:[n.jsxs(ft,{className:"w-full sm:w-40 bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] text-sm sm:text-base",children:[n.jsx(Cb,{className:"h-4 w-4 mr-2 text-[var(--muted-foreground)]"}),n.jsx(vt,{})]}),n.jsxs(mt,{className:"bg-[var(--popover)] border-[var(--border)]",children:[n.jsx(Ue,{value:"all",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"All Stores"}),n.jsx(Ue,{value:"active",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"Active"}),n.jsx(Ue,{value:"inactive",className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:"Inactive"})]})]})]})]})}),n.jsxs(je,{className:"px-4 sm:px-6 pb-4 sm:pb-6",children:[m?n.jsxs("div",{className:"text-[#dc2626] dark:text-[#f87171] text-center py-4 text-sm sm:text-base",children:["Error loading stores: ",m]}):f?n.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[n.jsx(at,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-[var(--primary)]"}),n.jsx("span",{className:"ml-2 text-sm sm:text-base text-[var(--muted-foreground)]",children:"Loading stores..."})]}):n.jsx(of,{value:e?.toString()||"",onValueChange:t,className:"space-y-3 sm:space-y-4",children:h.length===0?n.jsx("div",{className:"text-center py-6 sm:py-8 text-[var(--muted-foreground)] text-sm sm:text-base",children:s?"No stores found matching your search":"No stores found"}):h.map(D=>n.jsxs("div",{className:"flex items-center space-x-3 p-3 sm:p-4 border border-[var(--border)] rounded-lg hover:bg-[var(--muted)]/50 transition-colors",children:[n.jsx(rd,{value:D.id.toString(),id:`store-${D.id}`,className:"text-[var(--primary)] border-[var(--border)]"}),n.jsx(Q,{htmlFor:`store-${D.id}`,className:"flex-1 cursor-pointer",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-[var(--primary)]/10 flex items-center justify-center flex-shrink-0",children:n.jsx(Ti,{className:"h-4 w-4 sm:h-5 sm:w-5 text-[var(--primary)]"})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("div",{className:"font-medium text-sm sm:text-base text-[var(--card-foreground)] truncate",children:D.name}),n.jsxs("div",{className:"text-xs sm:text-sm text-[var(--muted-foreground)] truncate",children:["ID: ",D.id]}),n.jsx("div",{className:"text-xs sm:text-sm text-[var(--muted-foreground)] truncate",children:D.metadata.address}),n.jsx("div",{className:"text-xs sm:text-sm text-[var(--muted-foreground)] truncate",children:D.metadata.phone})]})]}),n.jsxs("div",{className:"flex flex-col items-start sm:items-end gap-2 sm:gap-1",children:[n.jsx(Ae,{variant:D.is_active?"default":"secondary",className:`text-xs ${D.is_active?"bg-[#16a34a] text-white":"bg-[var(--secondary)] text-[var(--secondary-foreground)]"}`,children:D.is_active?"Active":"Inactive"}),n.jsx("div",{className:"text-xs text-[var(--muted-foreground)]",children:T(D.created_at)})]})]})})]},D.id))}),(h.length>0||N.shouldShowPagination)&&n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-4 sm:px-6 py-3 border-t border-[var(--border)] bg-[var(--card)]/50",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[n.jsx("span",{className:"text-[var(--muted-foreground)]",children:"Show"}),n.jsxs(xt,{value:c.toString(),onValueChange:w,disabled:f,children:[n.jsx(ft,{className:"w-16 h-8 text-xs bg-[var(--background)] border-[var(--border)] text-[var(--foreground)]",children:n.jsx(vt,{})}),n.jsx(mt,{className:"bg-[var(--popover)] border-[var(--border)]",children:y.map(D=>n.jsx(Ue,{value:D.toString(),className:"text-[var(--popover-foreground)] focus:bg-[var(--accent)] focus:text-[var(--accent-foreground)]",children:D},D))})]}),n.jsx("span",{className:"text-[var(--muted-foreground)]",children:"per page"})]}),N.shouldShowPagination&&l&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:_,disabled:N.isPrevDisabled||f,className:"h-8 px-3 text-xs bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] hover:bg-[var(--accent)] hover:text-[var(--accent-foreground)]",children:[n.jsx(ad,{className:"h-3 w-3 mr-1"}),"Prev"]}),n.jsxs("span",{className:"text-xs sm:text-sm px-3 text-[var(--foreground)] font-medium",children:["Page ",N.currentPage," of ",l.last_page]}),n.jsxs(W,{variant:"outline",size:"sm",onClick:k,disabled:N.isNextDisabled||f,className:"h-8 px-3 text-xs bg-[var(--background)] border-[var(--border)] text-[var(--foreground)] hover:bg-[var(--accent)] hover:text-[var(--accent-foreground)]",children:["Next",n.jsx(ko,{className:"h-3 w-3 ml-1"})]})]}),n.jsx("div",{className:"text-xs sm:text-sm text-[var(--muted-foreground)]",children:E})]})]})]})},n_t=()=>{const[e]=HQ(),t=e.get("userId"),r=e.get("storeId"),[s,a]=v.useState({selectedUser:t?parseInt(t):null,selectedRole:null,selectedStore:r||null}),[i,o]=v.useState(!1),[c,d]=v.useState(null),[u,l]=v.useState(!1),{users:f}=Px(),{roles:m}=cl(),{stores:p}=dl(),{assignUserRole:x,assignError:b}=T$(),h=[{id:"user",title:"Select User",description:"Choose a user to assign role to",completed:s.selectedUser!==null},{id:"role",title:"Select Role",description:"Choose a role to assign",completed:s.selectedRole!==null},{id:"store",title:"Select Store",description:"Choose a store for the assignment",completed:s.selectedStore!==null}],y=h.filter(D=>D.completed).length,w=y/h.length*100,S=D=>{a(P=>({...P,selectedUser:parseInt(D)}))},N=D=>{a(P=>({...P,selectedRole:parseInt(D)}))},_=D=>{a(P=>({...P,selectedStore:D}))},k=()=>{a({selectedUser:t?parseInt(t):null,selectedRole:null,selectedStore:r||null}),d(null)},E=async()=>{if(!(!s.selectedUser||!s.selectedRole||!s.selectedStore)){o(!0),l(!1);try{const D={user_id:s.selectedUser,role_id:s.selectedRole,store_id:s.selectedStore,is_active:!0,metadata:{start_date:new Date().toISOString(),notes:"Single assignment via Assignment Page"}};await x(D),d({success:!0,message:"Successfully assigned role to user for the selected store."}),setTimeout(()=>{k()},3e3)}catch(D){console.error("Assignment error:",D),d({success:!1,message:b?.message||"Failed to assign role. Please try again."})}finally{o(!1)}}},T=s.selectedUser!==null&&s.selectedRole!==null&&s.selectedStore!==null;return n.jsxs(Zt,{title:"Single Role Assignment",subtitle:"Assign a single role to a user for a specific store",backButton:{show:!0},children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 mb-6",children:[n.jsxs(W,{variant:"outline",onClick:k,disabled:!T,className:"flex items-center gap-2",children:[n.jsx(Kr,{className:"h-4 w-4"}),"Clear Selection"]}),n.jsxs(Ur,{open:u,onOpenChange:l,children:[n.jsx(cre,{asChild:!0,children:n.jsxs(W,{disabled:!T||i,className:"flex items-center gap-2",children:[i?n.jsx(at,{className:"h-4 w-4 animate-spin"}):n.jsx(Su,{className:"h-4 w-4"}),i?"Assigning...":"Assign Role"]})}),n.jsxs(Er,{children:[n.jsxs(kr,{children:[n.jsx(Ar,{children:"Confirm Role Assignment"}),n.jsx(as,{children:"You are about to assign a role to the selected user for the selected store."})]}),n.jsxs(Hr,{children:[n.jsx(W,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),n.jsx(W,{onClick:E,children:"Confirm Assignment"})]})]})]})]}),n.jsx(ECt,{assignmentSteps:h,completedSteps:y,progressPercentage:w}),c&&n.jsx(kCt,{result:c}),(s.selectedUser||s.selectedRole||s.selectedStore)&&n.jsx(ACt,{assignmentData:s,users:f,roles:m,stores:p}),n.jsxs(Zl,{defaultValue:"users",className:"space-y-4 sm:space-y-6",children:[n.jsxs(ll,{className:"grid w-full grid-cols-3 bg-[var(--muted)] p-1 rounded-lg",children:[n.jsxs(xs,{value:"users",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-4 py-2 sm:py-3 data-[state=active]:bg-[var(--background)] data-[state=active]:text-[var(--foreground)] data-[state=active]:shadow-sm",children:[n.jsx(cs,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),n.jsx("span",{className:"hidden sm:inline",children:"Users"}),n.jsx("span",{className:"sm:hidden",children:"U"}),s.selectedUser&&n.jsx("span",{className:"hidden lg:inline text-[var(--primary)]",children:"(1 selected)"})]}),n.jsxs(xs,{value:"roles",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-4 py-2 sm:py-3 data-[state=active]:bg-[var(--background)] data-[state=active]:text-[var(--foreground)] data-[state=active]:shadow-sm",children:[n.jsx(ws,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),n.jsx("span",{className:"hidden sm:inline",children:"Roles"}),n.jsx("span",{className:"sm:hidden",children:"R"}),s.selectedRole&&n.jsx("span",{className:"hidden lg:inline text-[var(--primary)]",children:"(1 selected)"})]}),n.jsxs(xs,{value:"stores",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-4 py-2 sm:py-3 data-[state=active]:bg-[var(--background)] data-[state=active]:text-[var(--foreground)] data-[state=active]:shadow-sm",children:[n.jsx(Ti,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),n.jsx("span",{className:"hidden sm:inline",children:"Stores"}),n.jsx("span",{className:"sm:hidden",children:"S"}),s.selectedStore&&n.jsx("span",{className:"hidden lg:inline text-[var(--primary)]",children:"(1 selected)"})]})]}),n.jsx(vs,{value:"users",className:"space-y-4 sm:space-y-6",children:n.jsx(t_t,{selectedUserId:s.selectedUser,onUserSelect:S})}),n.jsx(vs,{value:"roles",className:"space-y-4 sm:space-y-6",children:n.jsx(r_t,{selectedRoleId:s.selectedRole,onRoleSelect:N})}),n.jsx(vs,{value:"stores",className:"space-y-4 sm:space-y-6",children:n.jsx(s_t,{selectedStoreId:s.selectedStore,onStoreSelect:_})})]})]})},a_t=[n.jsx(At,{path:"/user-role-store-assignment",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(YNt,{})})})})},"user-role-store-assignment"),n.jsx(At,{path:"/user-role-store-assignment/bulk",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(_Ct,{})})})})},"bulk-assign"),n.jsx(At,{path:"/user-role-store-assignment/assign",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(n_t,{})})})})},"single-assign"),n.jsx(At,{path:"/user-role-store-assignment/view/user/:userId",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(XNt,{})})})})},"view-user-assignments"),n.jsx(At,{path:"/user-role-store-assignment/view/store/:storeId",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(sCt,{})})})})},"view-store-assignments")],i_t=()=>{const e=ct(),{creating:t}=se(fb),{createError:r}=se(mb),s=v.useCallback(async i=>{const o=await e(H0(i));if(H0.fulfilled.match(o))return o.payload;throw o.payload||new Error("Failed to create hierarchy")},[e]),a=v.useCallback(()=>{e(hX("createError"))},[e]);return{createHierarchy:s,isLoading:t,error:r,clearError:a}},Mhe=e=>{const t=ct(),{fetchingHierarchies:r}=se(fb),{fetchError:s}=se(mb),a=v.useMemo(()=>cNe(),[]),i=v.useMemo(()=>mX(),[]),o=se(l=>e?a(l,e):[]),c=se(l=>e?i(l,e):null),d=v.useCallback(async l=>{t(pX(l));const f=await t(lm(l));if(lm.fulfilled.match(f))return f.payload;throw f.payload||new Error("Failed to fetch store hierarchies")},[t]),u=v.useCallback(()=>{e&&(!c?.hierarchiesIsFresh||o.length===0)&&t(lm(e))},[e,c?.hierarchiesIsFresh,o.length,t]);return v.useMemo(()=>{u()},[u]),{hierarchies:o,refetch:d,isLoading:r,error:s,isStale:c?!c.hierarchiesIsFresh:!1}},Ohe=e=>{const t=ct(),{fetchingTree:r}=se(fb),{treeError:s}=se(mb),a=v.useMemo(()=>uNe(),[]),i=v.useMemo(()=>mX(),[]),o=se(f=>e?a(f,e):[]),c=se(f=>e?i(f,e):null),d=v.useCallback(async f=>{t(pX(f));const m=await t(cm(f));if(cm.fulfilled.match(m))return m.payload;throw m.payload||new Error("Failed to fetch hierarchy tree")},[t]),u=v.useMemo(()=>{const f=y=>{const w=S=>{for(const N of S){if(N.role.id===y)return N;const _=w(N.children);if(_)return _}return null};return w(o)};return{findNodeByRoleId:f,getAggregatedPermissions:(y,w={})=>{const{includeInherited:S=!0,deduplicate:N=!0,guardFilter:_}=w,k=f(y);if(!k)return[];let E=[...k.permissions||[]];if(S&&(P=>{const M=[],R=(B,L)=>{for(const $ of B){if(M.push($),$.role.id===L.role.id||R($.children,L))return!0;M.pop()}return!1};return R(o,P),M})(k).forEach(P=>{P.role.id!==y&&E.push(...P.permissions||[])}),_&&(E=E.filter(T=>T.guard_name===_)),N){const T=new Set;E=E.filter(D=>T.has(D.id)?!1:(T.add(D.id),!0))}return E},getPathToRole:y=>{const w=[],S=N=>{for(const _ of N){if(w.push(_),_.role.id===y||S(_.children))return!0;w.pop()}return!1};return S(o),w},validateHierarchy:()=>{const y=[],w=[],S=[],N=new Set,_=(k,E=0)=>{const T=k.role.id;if(N.has(T)){y.push(`Circular reference detected for role: ${k.role.name}`);return}N.add(T),E>10&&w.push(`Deep nesting detected (depth: ${E}) for role: ${k.role.name}`),k.children.length===0&&E===0&&S.push(`Root role "${k.role.name}" has no subordinates`),(!k.permissions||k.permissions.length===0)&&w.push(`Role "${k.role.name}" has no permissions assigned`),k.children.forEach(D=>{_(D,E+1)}),N.delete(T)};return o.forEach(k=>_(k)),{isValid:y.length===0,errors:y,warnings:w,suggestions:S}},transformTree:(y={})=>{const{maxDepth:w=1/0,includePermissions:S=!0,includeMetadata:N=!0}=y,_=(k,E=0)=>{const T={role:k.role,children:E<w?k.children.map(D=>_(D,E+1)):[],permissions:S?k.permissions:[]};return N&&k.treeMetadata&&(T.treeMetadata=k.treeMetadata),T};return o.map(k=>_(k))},searchTree:y=>{const w=[],S=N=>{let _=!0;y.roleId&&N.role.id!==y.roleId&&(_=!1),y.roleName&&!N.role.name.toLowerCase().includes(y.roleName.toLowerCase())&&(_=!1),y.permissionName&&(N.permissions?.some(E=>E.name.toLowerCase().includes(y.permissionName.toLowerCase()))||(_=!1)),_&&w.push(N),N.children.forEach(S)};return o.forEach(S),w}}},[o]),l=v.useCallback(()=>{e&&(!c?.treeIsFresh||o.length===0)&&t(cm(e))},[e,c?.treeIsFresh,o.length,t]);return v.useMemo(()=>{l()},[l]),{tree:o,refetchTree:d,isLoading:r,error:s,utils:u}},o_t=()=>{const e=ct(),{removing:t}=se(fb),{removeError:r}=se(mb),s=v.useCallback(async i=>{const o=await e(V0(i));if(!V0.fulfilled.match(o))throw o.payload||new Error("Failed to remove hierarchy")},[e]),a=v.useCallback(()=>{e(hX("removeError"))},[e]);return{removeHierarchy:s,isLoading:t,error:r,clearError:a}};function l_t(e,t){return v.useReducer((r,s)=>t[r][s]??r,e)}var Pw=e=>{const{present:t,children:r}=e,s=c_t(t),a=typeof r=="function"?r({present:s.isPresent}):v.Children.only(r),i=bt(s.ref,d_t(a));return typeof r=="function"||s.isPresent?v.cloneElement(a,{ref:i}):null};Pw.displayName="Presence";function c_t(e){const[t,r]=v.useState(),s=v.useRef(null),a=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[c,d]=l_t(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=$1(s.current);i.current=c==="mounted"?u:"none"},[c]),Tr(()=>{const u=s.current,l=a.current;if(l!==e){const m=i.current,p=$1(u);e?d("MOUNT"):p==="none"||u?.display==="none"?d("UNMOUNT"):d(l&&m!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),Tr(()=>{if(t){let u;const l=t.ownerDocument.defaultView??window,f=p=>{const b=$1(s.current).includes(CSS.escape(p.animationName));if(p.target===t&&b&&(d("ANIMATION_END"),!a.current)){const h=t.style.animationFillMode;t.style.animationFillMode="forwards",u=l.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=h)})}},m=p=>{p.target===t&&(i.current=$1(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{l.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:v.useCallback(u=>{s.current=u?getComputedStyle(u):null,r(u)},[])}}function $1(e){return e?.animationName||"none"}function d_t(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function ym(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function u_t(e,t){return v.useReducer((r,s)=>t[r][s]??r,e)}var M$="ScrollArea",[Ihe,$3t]=cn(M$),[f_t,Mo]=Ihe(M$),Fhe=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:s="hover",dir:a,scrollHideDelay:i=600,...o}=e,[c,d]=v.useState(null),[u,l]=v.useState(null),[f,m]=v.useState(null),[p,x]=v.useState(null),[b,h]=v.useState(null),[y,w]=v.useState(0),[S,N]=v.useState(0),[_,k]=v.useState(!1),[E,T]=v.useState(!1),D=bt(t,M=>d(M)),P=Zu(a);return n.jsx(f_t,{scope:r,type:s,dir:P,scrollHideDelay:i,scrollArea:c,viewport:u,onViewportChange:l,content:f,onContentChange:m,scrollbarX:p,onScrollbarXChange:x,scrollbarXEnabled:_,onScrollbarXEnabledChange:k,scrollbarY:b,onScrollbarYChange:h,scrollbarYEnabled:E,onScrollbarYEnabledChange:T,onCornerWidthChange:w,onCornerHeightChange:N,children:n.jsx(nt.div,{dir:P,...o,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});Fhe.displayName=M$;var $he="ScrollAreaViewport",Lhe=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:s,nonce:a,...i}=e,o=Mo($he,r),c=v.useRef(null),d=bt(t,c,o.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(nt.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});Lhe.displayName=$he;var Ql="ScrollAreaScrollbar",O$=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=Mo(Ql,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,c=e.orientation==="horizontal";return v.useEffect(()=>(c?i(!0):o(!0),()=>{c?i(!1):o(!1)}),[c,i,o]),a.type==="hover"?n.jsx(m_t,{...s,ref:t,forceMount:r}):a.type==="scroll"?n.jsx(h_t,{...s,ref:t,forceMount:r}):a.type==="auto"?n.jsx(Bhe,{...s,ref:t,forceMount:r}):a.type==="always"?n.jsx(I$,{...s,ref:t}):null});O$.displayName=Ql;var m_t=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=Mo(Ql,e.__scopeScrollArea),[i,o]=v.useState(!1);return v.useEffect(()=>{const c=a.scrollArea;let d=0;if(c){const u=()=>{window.clearTimeout(d),o(!0)},l=()=>{d=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return c.addEventListener("pointerenter",u),c.addEventListener("pointerleave",l),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",u),c.removeEventListener("pointerleave",l)}}},[a.scrollArea,a.scrollHideDelay]),n.jsx(Pw,{present:r||i,children:n.jsx(Bhe,{"data-state":i?"visible":"hidden",...s,ref:t})})}),h_t=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=Mo(Ql,e.__scopeScrollArea),i=e.orientation==="horizontal",o=jk(()=>d("SCROLL_END"),100),[c,d]=u_t("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(c==="idle"){const u=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[c,a.scrollHideDelay,d]),v.useEffect(()=>{const u=a.viewport,l=i?"scrollLeft":"scrollTop";if(u){let f=u[l];const m=()=>{const p=u[l];f!==p&&(d("SCROLL"),o()),f=p};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[a.viewport,i,d,o]),n.jsx(Pw,{present:r||c!=="hidden",children:n.jsx(I$,{"data-state":c==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:ym(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:ym(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),Bhe=v.forwardRef((e,t)=>{const r=Mo(Ql,e.__scopeScrollArea),{forceMount:s,...a}=e,[i,o]=v.useState(!1),c=e.orientation==="horizontal",d=jk(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,l=r.viewport.offsetHeight<r.viewport.scrollHeight;o(c?u:l)}},10);return zg(r.viewport,d),zg(r.content,d),n.jsx(Pw,{present:s||i,children:n.jsx(I$,{"data-state":i?"visible":"hidden",...a,ref:t})})}),I$=v.forwardRef((e,t)=>{const{orientation:r="vertical",...s}=e,a=Mo(Ql,e.__scopeScrollArea),i=v.useRef(null),o=v.useRef(0),[c,d]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Whe(c.viewport,c.content),l={...s,sizes:c,onSizesChange:d,hasThumb:u>0&&u<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,p){return b_t(m,o.current,c,p)}return r==="horizontal"?n.jsx(p_t,{...l,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,p=pK(m,c,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=f(m,a.dir))}}):r==="vertical"?n.jsx(g_t,{...l,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,p=pK(m,c);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=f(m))}}):null}),p_t=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,i=Mo(Ql,e.__scopeScrollArea),[o,c]=v.useState(),d=v.useRef(null),u=bt(t,d,i.onScrollbarXChange);return v.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),n.jsx(Uhe,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":wk(r)+"px",...e.style},onThumbPointerDown:l=>e.onThumbPointerDown(l.x),onDragScroll:l=>e.onDragScroll(l.x),onWheelScroll:(l,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+l.deltaX;e.onWheelScroll(m),Ghe(m,f)&&l.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:F_(o.paddingLeft),paddingEnd:F_(o.paddingRight)}})}})}),g_t=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,i=Mo(Ql,e.__scopeScrollArea),[o,c]=v.useState(),d=v.useRef(null),u=bt(t,d,i.onScrollbarYChange);return v.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),n.jsx(Uhe,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":wk(r)+"px",...e.style},onThumbPointerDown:l=>e.onThumbPointerDown(l.y),onDragScroll:l=>e.onDragScroll(l.y),onWheelScroll:(l,f)=>{if(i.viewport){const m=i.viewport.scrollTop+l.deltaY;e.onWheelScroll(m),Ghe(m,f)&&l.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:F_(o.paddingTop),paddingEnd:F_(o.paddingBottom)}})}})}),[x_t,zhe]=Ihe(Ql),Uhe=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:u,onWheelScroll:l,onResize:f,...m}=e,p=Mo(Ql,r),[x,b]=v.useState(null),h=bt(t,D=>b(D)),y=v.useRef(null),w=v.useRef(""),S=p.viewport,N=s.content-s.viewport,_=As(l),k=As(d),E=jk(f,10);function T(D){if(y.current){const P=D.clientX-y.current.left,M=D.clientY-y.current.top;u({x:P,y:M})}}return v.useEffect(()=>{const D=P=>{const M=P.target;x?.contains(M)&&_(P,N)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[S,x,N,_]),v.useEffect(k,[s,k]),zg(x,E),zg(p.content,E),n.jsx(x_t,{scope:r,scrollbar:x,hasThumb:a,onThumbChange:As(i),onThumbPointerUp:As(o),onThumbPositionChange:k,onThumbPointerDown:As(c),children:n.jsx(nt.div,{...m,ref:h,style:{position:"absolute",...m.style},onPointerDown:ym(e.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),y.current=x.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),T(D))}),onPointerMove:ym(e.onPointerMove,T),onPointerUp:ym(e.onPointerUp,D=>{const P=D.target;P.hasPointerCapture(D.pointerId)&&P.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=w.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),I_="ScrollAreaThumb",Hhe=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=zhe(I_,e.__scopeScrollArea);return n.jsx(Pw,{present:r||a.hasThumb,children:n.jsx(v_t,{ref:t,...s})})}),v_t=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:s,...a}=e,i=Mo(I_,r),o=zhe(I_,r),{onThumbPositionChange:c}=o,d=bt(t,f=>o.onThumbChange(f)),u=v.useRef(void 0),l=jk(()=>{u.current&&(u.current(),u.current=void 0)},100);return v.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(l(),!u.current){const p=w_t(f,c);u.current=p,c()}};return c(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,l,c]),n.jsx(nt.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:ym(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),x=f.clientX-p.left,b=f.clientY-p.top;o.onThumbPointerDown({x,y:b})}),onPointerUp:ym(e.onPointerUp,o.onThumbPointerUp)})});Hhe.displayName=I_;var F$="ScrollAreaCorner",Vhe=v.forwardRef((e,t)=>{const r=Mo(F$,e.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?n.jsx(y_t,{...e,ref:t}):null});Vhe.displayName=F$;var y_t=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,...s}=e,a=Mo(F$,r),[i,o]=v.useState(0),[c,d]=v.useState(0),u=!!(i&&c);return zg(a.scrollbarX,()=>{const l=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(l),d(l)}),zg(a.scrollbarY,()=>{const l=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(l),o(l)}),u?n.jsx(nt.div,{...s,ref:t,style:{width:i,height:c,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function F_(e){return e?parseInt(e,10):0}function Whe(e,t){const r=e/t;return isNaN(r)?0:r}function wk(e){const t=Whe(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-r)*t;return Math.max(s,18)}function b_t(e,t,r,s="ltr"){const a=wk(r),i=a/2,o=t||i,c=a-o,d=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-c,l=r.content-r.viewport,f=s==="ltr"?[0,l]:[l*-1,0];return qhe([d,u],f)(e)}function pK(e,t,r="ltr"){const s=wk(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,c=i-s,d=r==="ltr"?[0,o]:[o*-1,0],u=Qy(e,d);return qhe([0,o],[0,c])(u)}function qhe(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function Ghe(e,t){return e>0&&e<t}var w_t=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},s=0;return(function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,c=r.top!==i.top;(o||c)&&t(),r=i,s=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(s)};function jk(e,t){const r=As(e),s=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),v.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,t)},[r,t])}function zg(e,t){const r=As(t);Tr(()=>{let s=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(s),a.unobserve(e)}}},[e,r])}var Yhe=Fhe,j_t=Lhe,S_t=Vhe;const Ix=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Yhe,{ref:s,className:X("relative overflow-hidden",e),...r,children:[n.jsx(j_t,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(Khe,{}),n.jsx(S_t,{})]}));Ix.displayName=Yhe.displayName;const Khe=v.forwardRef(({className:e,orientation:t="vertical",...r},s)=>n.jsx(O$,{ref:s,orientation:t,className:X("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:n.jsx(Hhe,{className:"relative flex-1 rounded-full bg-border"})}));Khe.displayName=O$.displayName;const $$=te.memo(({node:e,level:t,onToggleExpand:r,onSelectRole:s,expandedNodes:a,selectedRoleId:i,searchTerm:o})=>{const c=v.useMemo(()=>({isExpanded:a.has(e.role.id),hasChildren:e.children&&e.children.length>0,isSelected:i===e.role.id,isHighlighted:o&&e.role.name.toLowerCase().includes(o.toLowerCase()),indentWidth:t*24}),[a,e.role.id,e.children,i,o,e.role.name,t]),{isExpanded:d,hasChildren:u,isSelected:l,isHighlighted:f,indentWidth:m}=c,p=v.useCallback(S=>{S.stopPropagation(),r(e.role.id)},[r,e.role.id]),x=v.useCallback(()=>{s(e.role)},[s,e.role]),b=v.useMemo(()=>X("flex items-center space-x-2 p-3 rounded-lg border transition-all duration-200 cursor-pointer",l?"bg-primary/10 border-primary shadow-sm":"hover:bg-muted/50 border-transparent",f&&"ring-2 ring-yellow-400/50 bg-yellow-50"),[l,f]),h=v.useMemo(()=>X("p-1.5 rounded-md",t===0?"bg-yellow-100":t===1?"bg-blue-100":"bg-gray-100"),[t]),y=v.useMemo(()=>X("h-4 w-4",t===0?"text-yellow-600":t===1?"text-blue-600":"text-gray-600"),[t]),w=v.useMemo(()=>X("font-medium truncate",l?"text-primary":"text-foreground"),[l]);return n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:b,style:{marginLeft:`${m}px`},onClick:x,children:[n.jsx("div",{className:"flex-shrink-0",children:u?n.jsx(W,{onClick:p,variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-primary/10",children:d?n.jsx(Eo,{className:"h-4 w-4"}):n.jsx(ko,{className:"h-4 w-4"})}):n.jsx("div",{className:"h-6 w-6"})}),n.jsx("div",{className:h,children:t===0?n.jsx(c3,{className:"h-4 w-4 text-yellow-600"}):n.jsx(Su,{className:y})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h4",{className:w,children:e.role.name}),n.jsx(Ae,{variant:"default",className:"text-xs",children:"Active"})]}),n.jsx("p",{className:"text-sm text-muted-foreground truncate",children:"No description"})]}),n.jsxs("div",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[n.jsx(ws,{className:"h-4 w-4"}),n.jsx("span",{children:e.role.permissions?.length||0})]}),u&&n.jsxs("div",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[n.jsx(cs,{className:"h-4 w-4"}),n.jsx("span",{children:e.children.length})]})]}),d&&u&&n.jsx("div",{className:"space-y-1",children:e.children.map(S=>n.jsx($$,{node:S,level:t+1,onToggleExpand:r,onSelectRole:s,expandedNodes:a,selectedRoleId:i,searchTerm:o},S.role.id))})]})});$$.displayName="RoleNode";const N_t=({role:e,onClose:t})=>n.jsxs(oe,{className:"h-full",children:[n.jsx(Re,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(qe,{className:"text-lg",children:"Role Details"}),n.jsx(W,{onClick:t,variant:"ghost",size:"sm",children:n.jsx(vn,{className:"h-4 w-4"})})]})}),n.jsxs(je,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Role Name"}),n.jsx("p",{className:"text-lg font-semibold",children:e.name})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),n.jsx("div",{className:"mt-1",children:n.jsx(Ae,{variant:"default",children:"Active"})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Role ID"}),n.jsx("p",{className:"text-sm font-mono",children:e.id})]})]})]}),n.jsx(Hs,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("h4",{className:"font-medium flex items-center space-x-2",children:[n.jsx(ws,{className:"h-4 w-4"}),n.jsxs("span",{children:["Permissions (",e.permissions?.length||0,")"]})]})}),e.permissions&&e.permissions.length>0?n.jsx(Ix,{className:"h-48",children:n.jsx("div",{className:"space-y-2",children:e.permissions.map(r=>n.jsx("div",{className:"p-3 border rounded-lg bg-muted/30",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h5",{className:"font-medium text-sm",children:r.name}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:r.guard_name})]})},r.id))})}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(ws,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-sm",children:"No permissions assigned"})]})]})]})]}),Zhe=te.memo(({searchTerm:e,onSearchChange:t,onExpandAll:r,onCollapseAll:s})=>n.jsxs(Re,{className:"pb-3 p-4 sm:p-6",children:[n.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[n.jsxs(qe,{className:"flex items-center space-x-2 text-lg sm:text-xl text-foreground",children:[n.jsx(cs,{className:"h-5 w-5"}),n.jsx("span",{children:"Role Hierarchy Tree"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(W,{onClick:r,variant:"outline",size:"sm",className:"hover:bg-accent text-xs sm:text-sm",children:[n.jsx("span",{className:"hidden sm:inline",children:"Expand All"}),n.jsx("span",{className:"sm:hidden",children:"Expand"})]}),n.jsxs(W,{onClick:s,variant:"outline",size:"sm",className:"hover:bg-accent text-xs sm:text-sm",children:[n.jsx("span",{className:"hidden sm:inline",children:"Collapse All"}),n.jsx("span",{className:"sm:hidden",children:"Collapse"})]})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(nl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(ne,{placeholder:"Search roles...",value:e,onChange:a=>t(a.target.value),className:"pl-10"})]})]}));Zhe.displayName="HierarchyTreeHeader";const C_t=({onCreateHierarchy:e})=>n.jsxs("div",{className:"text-center py-8 sm:py-12",children:[n.jsx(zs,{className:"h-10 w-10 sm:h-12 sm:w-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-2 text-foreground",children:"No hierarchy found"}),n.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mb-4",children:"This store doesn't have any role hierarchy configured yet."}),n.jsxs(W,{onClick:e,className:"text-sm sm:text-base",children:[n.jsx(km,{className:"h-4 w-4 mr-2"}),"Create Hierarchy"]})]}),__t=()=>n.jsx(oe,{children:n.jsxs(je,{className:"p-6 sm:p-8 lg:p-12 text-center",children:[n.jsx(ln,{className:"h-10 w-10 sm:h-12 sm:w-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-2 text-foreground",children:"Select a Role"}),n.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Click on any role in the hierarchy tree to view its details and permissions."})]})}),E_t=e=>{const t=new Set,r=s=>{s.forEach(a=>{t.add(a.role.id),a.children&&r(a.children)})};return r(e),t},k_t=()=>{const{storeId:e}=Sn(),t=Vt(),[r,s]=v.useState(""),[a,i]=v.useState(new Set),[o,c]=v.useState(null),{tree:d,isLoading:u,error:l,refetchTree:f,utils:m}=Ohe(e),p=v.useMemo(()=>d?.map(S=>S.role.id)||[],[d]);v.useEffect(()=>{d&&d.length>0&&i(new Set(p))},[d,p]);const x=v.useCallback(S=>{i(N=>{const _=new Set(N);return _.has(S)?_.delete(S):_.add(S),_})},[]),b=v.useCallback(S=>{c(S)},[]),h=v.useCallback(()=>{if(d&&m){const S=E_t(d);i(S)}},[d,m]),y=v.useCallback(()=>{i(new Set)},[]);if(!e)return n.jsx("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8",children:n.jsxs(Ge,{variant:"destructive",className:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{className:"text-sm sm:text-base",children:"Store ID is required to view hierarchy."})]})});const w=n.jsxs(n.Fragment,{children:[n.jsxs(W,{onClick:()=>t(`/stores-hierarchy/create/${e}`),variant:"outline",size:"sm",className:"hover:bg-accent text-xs sm:text-sm","aria-label":"Create new hierarchy for this store",children:[n.jsx(km,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Create Hierarchy"}),n.jsx("span",{className:"sm:hidden",children:"Create"})]}),n.jsxs(W,{onClick:()=>t(`/stores-hierarchy/delete/${e}`),variant:"outline",size:"sm",className:"hover:bg-accent text-xs sm:text-sm","aria-label":"Remove hierarchy for this store",children:[n.jsx(kt,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Remove Hierarchy"}),n.jsx("span",{className:"sm:hidden",children:"Remove"})]}),n.jsxs(W,{onClick:()=>t(`/stores-hierarchy/validate/${e}`),variant:"outline",size:"sm",className:"hover:bg-accent text-xs sm:text-sm","aria-label":"Validate hierarchy for this store",children:[n.jsx(bs,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Validate Hierarchy"}),n.jsx("span",{className:"sm:hidden",children:"Validate"})]}),n.jsxs(W,{onClick:()=>f(e),variant:"outline",size:"sm",disabled:u,className:"hover:bg-accent text-xs sm:text-sm","aria-label":"Refresh hierarchy data",children:[n.jsx(Zr,{className:X("h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2",u&&"animate-spin")}),n.jsx("span",{className:"hidden sm:inline",children:"Refresh"}),n.jsx("span",{className:"sm:hidden",children:""})]})]});return n.jsxs(Zt,{title:"Store Hierarchy",subtitle:`Role hierarchy for store: ${e}`,backButton:{show:!0},subButtons:w,children:[l&&n.jsxs(Ge,{variant:"destructive",className:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{className:"text-sm sm:text-base",children:l?.message||"An error occurred while loading the hierarchy."})]}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4 sm:gap-6",children:[n.jsx("div",{className:"xl:col-span-2 space-y-4",children:n.jsxs(oe,{children:[n.jsx(Zhe,{searchTerm:r,onSearchChange:s,onExpandAll:h,onCollapseAll:y}),n.jsx(je,{className:"p-4 sm:p-6",children:u?n.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((S,N)=>n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(rt,{className:"h-6 w-6"}),n.jsx(rt,{className:"h-8 w-8 rounded-md"}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsx(rt,{className:"h-4 w-32"}),n.jsx(rt,{className:"h-3 w-48"})]}),n.jsx(rt,{className:"h-6 w-12"})]},N))}):d&&d.length>0?n.jsx(Ix,{className:"h-[400px] sm:h-[500px] lg:h-[600px]",children:n.jsx("div",{className:"space-y-2",children:d.map(S=>n.jsx($$,{node:S,level:0,onToggleExpand:x,onSelectRole:b,expandedNodes:a,selectedRoleId:o?.id,searchTerm:r},S.role.id))})}):n.jsx(C_t,{onCreateHierarchy:()=>t(`/stores-hierarchy/create/${e}`)})})]})}),n.jsx("div",{className:"space-y-4",children:o?n.jsx(N_t,{role:o,onClose:()=>c(null)}):n.jsx(__t,{})})]})]})},$_=({title:e,description:t,icon:r,roles:s,selectedRoleId:a,disabledRoleId:i,isLoading:o,validationError:c,onRoleChange:d})=>{const u=r==="crown"?c3:Su,l=r==="crown"?"text-yellow-600":"text-blue-600";return n.jsxs(oe,{children:[n.jsxs(Re,{className:"pb-3 sm:pb-6",children:[n.jsxs(qe,{className:"flex items-center space-x-2 text-base sm:text-lg",children:[n.jsx(u,{className:`h-4 w-4 sm:h-5 sm:w-5 ${l}`}),n.jsx("span",{className:"text-foreground",children:e})]}),n.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:t})]}),n.jsxs(je,{className:"pt-0 sm:pt-6",children:[o?n.jsxs("div",{className:"flex items-center justify-center py-6 sm:py-8",children:[n.jsx(at,{className:"h-4 w-4 animate-spin mr-2"}),n.jsx("span",{className:"text-sm sm:text-base text-muted-foreground",children:"Loading roles..."})]}):n.jsx(of,{value:a,onValueChange:d,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:s.map(f=>n.jsxs("div",{className:"flex items-center space-x-2 p-2 rounded-md hover:bg-accent/50",children:[n.jsx(rd,{value:f.id.toString(),id:`${r}-role-${f.id}`,disabled:i===f.id.toString()}),n.jsxs(Q,{htmlFor:`${r}-role-${f.id}`,className:X("text-xs sm:text-sm font-medium leading-none cursor-pointer flex-1",i===f.id.toString()&&"text-muted-foreground cursor-not-allowed"),children:[n.jsx("span",{className:"text-foreground",children:f.name}),f.permissions&&f.permissions.length>0&&n.jsxs("span",{className:"text-xs text-muted-foreground ml-1 block sm:inline",children:["(",f.permissions.length," permission",f.permissions.length>1?"s":"",")"]})]})]},f.id))}),c&&n.jsx("p",{className:"text-xs sm:text-sm text-destructive mt-2",children:c})]})]})},Xhe=te.memo(({createdBy:e,reason:t,validationErrors:r,onInputChange:s})=>n.jsxs(oe,{children:[n.jsxs(Re,{className:"pb-3 sm:pb-6",children:[n.jsx(qe,{className:"text-base sm:text-lg text-foreground",children:"Metadata"}),n.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Additional information about this hierarchy relationship"})]}),n.jsx(je,{className:"space-y-4 sm:space-y-6 pt-0 sm:pt-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{htmlFor:"created_by",className:"text-sm font-medium text-foreground",children:"Created By"}),n.jsx(ne,{id:"created_by",name:"created_by",type:"text",value:e,onChange:s,placeholder:"Enter creator name",className:X("text-sm sm:text-base",r.created_by&&"border-destructive")}),r.created_by&&n.jsx("p",{className:"text-xs sm:text-sm text-destructive",children:r.created_by})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{htmlFor:"reason",className:"text-sm font-medium text-foreground",children:"Reason (Optional)"}),n.jsx(Ht,{id:"reason",name:"reason",value:t,onChange:s,placeholder:"e.g., Store manager manages assistant manager",className:X("text-sm sm:text-base min-h-[80px] sm:min-h-[100px]",r.reason&&"border-destructive"),rows:3}),r.reason&&n.jsx("p",{className:"text-xs sm:text-sm text-destructive",children:r.reason})]})]})})]}));Xhe.displayName="MetadataSection";const A_t=({isSubmitting:e,isLoading:t,rolesLoading:r,onCancel:s})=>n.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 sm:gap-4 pt-2",children:[n.jsx(W,{type:"button",variant:"outline",onClick:s,className:"w-full sm:w-auto text-sm sm:text-base hover:bg-accent",children:"Cancel"}),n.jsx(W,{type:"submit",disabled:e||t||r,className:"w-full sm:w-auto min-w-[120px] sm:min-w-[140px] text-sm sm:text-base",children:e||t?n.jsxs(n.Fragment,{children:[n.jsx(at,{className:"h-4 w-4 animate-spin mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Creating..."}),n.jsx("span",{className:"sm:hidden",children:"Creating"})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"hidden sm:inline",children:"Create Hierarchy"}),n.jsx("span",{className:"sm:hidden",children:"Create"})]})})]}),T_t=({formData:e,roles:t,rolesLoading:r,isSubmitting:s,isLoading:a,validationErrors:i,onSubmit:o,onInputChange:c,onRoleChange:d,onCancel:u})=>{const l=v.useCallback(m=>{d("higher_role_id",m)},[d]),f=v.useCallback(m=>{d("lower_role_id",m)},[d]);return n.jsxs("form",{onSubmit:o,className:"space-y-4 sm:space-y-6",children:[n.jsx($_,{title:"Higher Role",description:"Select the role that will be higher in the hierarchy (parent role)",icon:"crown",roles:t,selectedRoleId:e.higher_role_id,disabledRoleId:e.lower_role_id,isLoading:r,validationError:i.higher_role_id,onRoleChange:l}),n.jsx($_,{title:"Lower Role",description:"Select the role that will be lower in the hierarchy (child role)",icon:"usercheck",roles:t,selectedRoleId:e.lower_role_id,disabledRoleId:e.higher_role_id,isLoading:r,validationError:i.lower_role_id,onRoleChange:f}),n.jsx(Xhe,{createdBy:e.created_by,reason:e.reason,validationErrors:i,onInputChange:c}),n.jsx(A_t,{isSubmitting:s,isLoading:a,rolesLoading:r,onCancel:u})]})},gK="system",D_t=!0,P_t=()=>n.jsx(Zt,{title:"Create Hierarchy",subtitle:"Store ID is required to create hierarchy",backButton:{show:!0},children:n.jsxs(Ge,{variant:"destructive",className:"border-destructive/50 text-destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{className:"text-sm sm:text-base",children:"Store ID is required to create hierarchy."})]})}),R_t=({storeId:e})=>{const t=Vt(),r=la(),{createHierarchy:s,isLoading:a,error:i}=i_t(),{roles:o,loading:c}=cl(),d=r.state,u=v.useMemo(()=>({higher_role_id:d?.preselectedHigherRole||"",lower_role_id:d?.preselectedLowerRole||"",created_by:gK,reason:""}),[d?.preselectedHigherRole,d?.preselectedLowerRole]),[l,f]=v.useState(u),[m,p]=v.useState({}),[x,b]=v.useState(!1),h=v.useCallback(()=>{t(`/stores-hierarchy/view/${e}`)},[t,e]),y=v.useCallback(E=>{p(T=>{if(T[E]){const{[E]:D,...P}=T;return P}return T})},[]),w=v.useCallback(E=>{const{name:T,value:D}=E.target;f(P=>({...P,[T]:D})),y(T)},[y]),S=v.useCallback((E,T)=>{f(D=>({...D,[E]:T})),y(E)},[y]),N=v.useCallback(()=>{const E={};l.higher_role_id.trim()||(E.higher_role_id="Please select a higher role"),l.lower_role_id.trim()||(E.lower_role_id="Please select a lower role");const T=Number(l.higher_role_id),D=Number(l.lower_role_id);return l.higher_role_id&&(isNaN(T)||T<=0)&&(E.higher_role_id="Please select a valid higher role"),l.lower_role_id&&(isNaN(D)||D<=0)&&(E.lower_role_id="Please select a valid lower role"),l.higher_role_id&&l.lower_role_id&&l.higher_role_id===l.lower_role_id&&(E.lower_role_id="Higher role and lower role cannot be the same"),{isValid:Object.keys(E).length===0,errors:E}},[l.higher_role_id,l.lower_role_id]),_=v.useCallback(async E=>{E.preventDefault();const T=N();if(!T.isValid){p(T.errors);return}b(!0),p({});try{const D=Number(l.higher_role_id),P=Number(l.lower_role_id);if(isNaN(D)||isNaN(P))throw new Error("Invalid role selection");const M={higher_role_id:D,lower_role_id:P,store_id:e,metadata:{created_by:l.created_by.trim()||gK,reason:l.reason.trim()},is_active:D_t};await s(M),t(`/stores-hierarchy/view/${e}`)}catch(D){console.error("Failed to create hierarchy:",D);const P=D instanceof Error?D.message:"Failed to create hierarchy. Please try again.";p({general:P})}finally{b(!1)}},[l,e,N,s,t]),k=a||c||x;return n.jsxs(Zt,{title:"Create Hierarchy",subtitle:`Create a new role hierarchy for store: ${e}`,backButton:{show:!0},children:[(i||m.general)&&n.jsxs(Ge,{variant:"destructive",className:"border-destructive/50 text-destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{className:"text-sm sm:text-base",children:i?.message||m.general})]}),n.jsx(T_t,{formData:l,roles:o,rolesLoading:c,isSubmitting:x,isLoading:k,validationErrors:m,onSubmit:_,onInputChange:w,onRoleChange:S,onCancel:h})]})},M_t=()=>{const{storeId:e}=Sn();return e?n.jsx(R_t,{storeId:e}):n.jsx(P_t,{})},Jhe=te.memo(({isValidating:e,isLoading:t,canValidate:r,validationResult:s,hierarchiesCount:a,onValidate:i,onCreateHierarchy:o,onRemoveHierarchy:c})=>n.jsxs(n.Fragment,{children:[n.jsx(oe,{children:n.jsx(je,{className:"pt-6",children:n.jsx("div",{className:"flex justify-center",children:n.jsx(W,{onClick:i,disabled:e||t||!r,className:"min-w-[200px] px-6 sm:px-8 py-2 text-sm sm:text-base w-full sm:w-auto",size:"lg",children:e?n.jsxs(n.Fragment,{children:[n.jsx(at,{className:"h-4 w-4 animate-spin mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Validating..."}),n.jsx("span",{className:"sm:hidden",children:"Validating"})]}):n.jsxs(n.Fragment,{children:[n.jsx(nl,{className:"h-4 w-4 mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Validate Hierarchy"}),n.jsx("span",{className:"sm:hidden",children:"Validate"})]})})})})}),s&&n.jsxs(oe,{children:[n.jsx(Re,{className:"p-4 sm:p-6",children:n.jsxs(qe,{className:"flex items-center space-x-2 text-lg sm:text-xl",children:[s.success?n.jsx(bs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"}):n.jsx(Je,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"}),n.jsx("span",{children:"Validation Results"})]})}),n.jsx(je,{className:"p-4 sm:p-6 pt-0",children:s.success?n.jsxs("div",{className:"space-y-4",children:[n.jsxs(Ge,{children:[n.jsx(bs,{className:"h-4 w-4"}),n.jsx(Ye,{children:"Hierarchy relationship found: This hierarchy already exists for this store."})]}),s.errors&&s.errors.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Validation Details:"}),s.errors.map((d,u)=>n.jsxs(Ge,{variant:u===0?"default":"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:d})]},u))]}),n.jsx("div",{className:"flex justify-center pt-4",children:n.jsxs(W,{onClick:c,variant:"destructive",className:"min-w-[200px]",children:[n.jsx(kt,{className:"h-4 w-4 mr-2"}),"Remove Hierarchy"]})})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs(Ge,{children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsxs(Ye,{children:["Hierarchy relationship not found: This hierarchy does not exist for this store.",a>0&&n.jsxs("span",{className:"block mt-1 text-sm",children:["Checked against ",a," existing hierarchy relationships."]})]})]}),s.errors&&s.errors.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Additional Validation Notes:"}),s.errors.map((d,u)=>n.jsxs(Ge,{variant:"default",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:d})]},u))]}),n.jsx("div",{className:"flex justify-center pt-4",children:n.jsxs(W,{onClick:o,className:"min-w-[200px]",children:[n.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Create Hierarchy"]})})]})})]})]}));Jhe.displayName="ValidationSection";const O_t=()=>{const e=Vt(),{storeId:t}=Sn(),{roles:r,loading:s}=cl(),{hierarchies:a,isLoading:i,error:o}=Mhe(t),{tree:c,utils:d,isLoading:u,error:l}=Ohe(t),[f,m]=v.useState({higher_role_id:"",lower_role_id:""}),[p,x]=v.useState(null),[b,h]=v.useState(!1),[y,w]=v.useState({}),S=v.useMemo(()=>s||i||u,[s,i,u]),N=v.useMemo(()=>{if(!a||a.length===0||!f.higher_role_id||!f.lower_role_id)return!1;const M=parseInt(f.higher_role_id),R=parseInt(f.lower_role_id);return a.some(B=>B.higher_role_id===M&&B.lower_role_id===R)},[a,f.higher_role_id,f.lower_role_id]),_=v.useMemo(()=>!!f.higher_role_id&&!!f.lower_role_id,[f.higher_role_id,f.lower_role_id]),k=v.useCallback((M,R)=>{m(B=>({...B,[M]:R})),y[M]&&w(B=>({...B,[M]:""})),p&&x(null)},[y,p]),E=v.useCallback(()=>{const M={};return f.higher_role_id||(M.higher_role_id="Please select a higher role"),f.lower_role_id||(M.lower_role_id="Please select a lower role"),f.higher_role_id===f.lower_role_id&&f.higher_role_id&&(M.lower_role_id="Higher role and lower role cannot be the same"),w(M),Object.keys(M).length===0},[f.higher_role_id,f.lower_role_id]),T=v.useCallback(async()=>{if(E()){if(!t){w({general:"Store ID is required"});return}h(!0);try{const M=parseInt(f.higher_role_id),R=parseInt(f.lower_role_id);let B=[];if(d&&c.length>0){const L=d.findNodeByRoleId(M),$=d.findNodeByRoleId(R);L||B.push(`Higher role (ID: ${M}) not found in hierarchy tree`),$||B.push(`Lower role (ID: ${R}) not found in hierarchy tree`),L&&$&&d.getPathToRole(R).some(Z=>Z.role.id===M)&&!N&&B.push("Roles are already connected through an indirect hierarchy path");const I=d.validateHierarchy();I.isValid||B.push(...I.errors)}x(N?{success:!0,valid:!0,errors:["This hierarchy relationship already exists",...B]}:{success:!1,valid:!1,errors:B})}catch(M){console.error("Failed to validate hierarchy:",M),w({general:"Failed to validate hierarchy. Please try again."})}finally{h(!1)}}},[f.higher_role_id,f.lower_role_id,t,d,c,N,E]),D=v.useCallback(()=>{e(`/stores-hierarchy/create/${t}`,{state:{preselectedHigherRole:f.higher_role_id,preselectedLowerRole:f.lower_role_id}})},[e,t,f.higher_role_id,f.lower_role_id]),P=v.useCallback(()=>{e(`/stores-hierarchy/delete/${t}`,{state:{preselectedHigherRole:f.higher_role_id,preselectedLowerRole:f.lower_role_id,validatedHierarchy:{higher_role_id:parseInt(f.higher_role_id),lower_role_id:parseInt(f.lower_role_id),store_id:t}}})},[e,t,f.higher_role_id,f.lower_role_id]);return v.useEffect(()=>{Object.keys(y).length>0&&w({})},[f,y]),t?n.jsxs(Zt,{title:"Validate Hierarchy",subtitle:`Check if a role hierarchy exists for store: ${t}${a.length>0?` (${a.length} existing hierarchies loaded)`:""}`,backButton:{show:!0},children:[y.general&&n.jsxs(Ge,{variant:"destructive",className:"border-destructive/50",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{className:"text-destructive text-sm sm:text-base",children:y.general})]}),o&&n.jsxs(Ge,{variant:"destructive",className:"border-destructive/50",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsxs(Ye,{className:"text-destructive text-sm sm:text-base",children:["Failed to load hierarchies: ",o?.message||"Unknown error"]})]}),l&&n.jsxs(Ge,{variant:"destructive",className:"border-destructive/50",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsxs(Ye,{className:"text-destructive text-sm sm:text-base",children:["Failed to load hierarchy tree: ",l?.message||"Unknown error"]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx($_,{title:"Higher Role",description:"Select the role that should be higher in the hierarchy (parent role)",icon:"crown",roles:r,selectedRoleId:f.higher_role_id,disabledRoleId:f.lower_role_id,isLoading:S,validationError:y.higher_role_id,onRoleChange:M=>k("higher_role_id",M)}),n.jsx($_,{title:"Lower Role",description:"Select the role that should be lower in the hierarchy (child role)",icon:"usercheck",roles:r,selectedRoleId:f.lower_role_id,disabledRoleId:f.higher_role_id,isLoading:S,validationError:y.lower_role_id,onRoleChange:M=>k("lower_role_id",M)}),n.jsx(Jhe,{isValidating:b,isLoading:S,canValidate:_,validationResult:p,hierarchiesCount:a.length,onValidate:T,onCreateHierarchy:D,onRemoveHierarchy:P})]})]}):n.jsx(Zt,{title:"Validate Hierarchy",subtitle:"Store ID is required to validate hierarchy",backButton:{show:!0},children:n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:"Store ID is required to validate hierarchy."})]})})},I_t=({totalCount:e,selectedCount:t,allSelected:r,someSelected:s,onSelectAll:a,onDeleteSelected:i,isDeleting:o})=>{const c=v.useRef(null);return v.useEffect(()=>{if(c.current){const d=c.current.querySelector('input[type="checkbox"]');d&&(d.indeterminate=s)}},[s]),e===0?null:n.jsx(oe,{children:n.jsx(Re,{className:"pb-3",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0",children:[n.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[n.jsx(dt,{ref:c,checked:r,onCheckedChange:a}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"Select Hierarchies"}),n.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:[t," of ",e," selected"]})]})]}),n.jsxs(W,{onClick:i,variant:"destructive",size:"sm",disabled:t===0||o,className:"w-full sm:w-auto text-sm sm:text-base",children:[n.jsx(kt,{className:"h-4 w-4 mr-2"}),n.jsxs("span",{className:"hidden sm:inline",children:["Delete Selected (",t,")"]}),n.jsxs("span",{className:"sm:hidden",children:["Delete (",t,")"]})]})]})})})},F_t=({hierarchy:e,onSelect:t,isSelected:r,isDeleting:s})=>{const a=v.useCallback(i=>{typeof i=="boolean"&&t(e,i)},[e,t]);return n.jsx("div",{className:X("p-3 sm:p-4 border rounded-lg transition-all duration-200",r?"border-red-300 bg-red-50 dark:bg-red-950/20 dark:border-red-800/30":"border-border hover:border-accent-foreground/20",s&&"opacity-50 pointer-events-none"),children:n.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[n.jsx(dt,{checked:r,onCheckedChange:a,disabled:s,className:"mt-1"}),n.jsxs("div",{className:"flex-1 space-y-3",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-3 lg:space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-blue-50 dark:bg-blue-950/20 rounded-md w-full sm:w-auto",children:[n.jsx(c3,{className:"h-3 w-3 sm:h-4 sm:w-4 text-blue-600"}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("p",{className:"font-medium text-xs sm:text-sm text-blue-900 dark:text-blue-200 truncate",children:e.higher_role?.name}),n.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-300",children:["Higher Role (ID: ",e.higher_role?.id,")"]})]})]}),n.jsx("div",{className:"flex items-center justify-center w-full sm:w-auto",children:n.jsx(vn,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground rotate-180"})}),n.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-green-50 dark:bg-green-950/20 rounded-md w-full sm:w-auto",children:[n.jsx(Su,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-600"}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("p",{className:"font-medium text-xs sm:text-sm text-green-900 dark:text-green-200 truncate",children:e.lower_role?.name}),n.jsxs("p",{className:"text-xs text-green-600 dark:text-green-300",children:["Lower Role (ID: ",e.lower_role?.id,")"]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Store ID"}),n.jsx("p",{className:"font-mono text-foreground text-xs sm:text-sm",children:e.store_id})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Hierarchy ID"}),n.jsx("p",{className:"font-mono text-foreground text-xs sm:text-sm",children:e.id})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-1 sm:space-y-0 sm:space-x-6 text-xs sm:text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(ws,{className:"h-3 w-3 sm:h-4 sm:w-4"}),n.jsxs("span",{children:["Higher: ",e.higher_role?.permissions?.length||0," permissions"]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(ws,{className:"h-3 w-3 sm:h-4 sm:w-4"}),n.jsxs("span",{children:["Lower: ",e.lower_role?.permissions?.length||0," permissions"]})]})]})]}),n.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[n.jsx(Ae,{variant:"default",className:"text-xs",children:"Active"}),r&&n.jsxs(Ae,{variant:"destructive",className:"text-xs",children:[n.jsx(kt,{className:"h-3 w-3 mr-1"}),n.jsx("span",{className:"hidden sm:inline",children:"To Delete"}),n.jsx("span",{className:"sm:hidden",children:"Delete"})]})]})]})})},$_t=({hierarchies:e,loading:t,selectedHierarchies:r,deletingIds:s,onSelectHierarchy:a,onBack:i})=>n.jsxs(oe,{children:[n.jsx(Re,{className:"p-4 sm:p-6",children:n.jsxs(qe,{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(zs,{className:"h-4 w-4 sm:h-5 sm:w-5"}),n.jsx("span",{className:"text-lg sm:text-xl",children:"Store Hierarchy Relationships"})]}),n.jsxs(Ae,{variant:"outline",className:"text-xs sm:text-sm",children:[e.length," items"]})]})}),n.jsx(je,{className:"p-4 sm:p-6",children:t?n.jsx("div",{className:"space-y-3 sm:space-y-4",children:Array.from({length:3}).map((o,c)=>n.jsx("div",{className:"p-3 sm:p-4 border rounded-lg",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(rt,{className:"h-4 w-4"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(rt,{className:"h-12 w-32"}),n.jsx(rt,{className:"h-4 w-4"}),n.jsx(rt,{className:"h-12 w-32"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(rt,{className:"h-8 w-full"}),n.jsx(rt,{className:"h-8 w-full"})]})]}),n.jsx(rt,{className:"h-6 w-16"})]})},c))}):e.length>0?n.jsx(Ix,{className:"h-[600px]",children:n.jsx("div",{className:"space-y-3 sm:space-y-4",children:e.map(o=>n.jsx(F_t,{hierarchy:o,onSelect:a,isSelected:r.has(o.id),isDeleting:s.has(o.id)},o.id))})}):n.jsxs("div",{className:"text-center py-8 sm:py-12",children:[n.jsx(zs,{className:"h-10 w-10 sm:h-12 sm:w-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-2",children:"No hierarchies found"}),n.jsx("p",{className:"text-muted-foreground mb-4 text-sm sm:text-base",children:"This store doesn't have any role hierarchy relationships configured."}),n.jsxs(W,{onClick:i,variant:"outline",className:"hover:bg-accent",children:[n.jsx(vn,{className:"h-4 w-4 mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Go Back"}),n.jsx("span",{className:"sm:hidden",children:"Back"})]})]})})]}),L_t=({selectedHierarchies:e,onConfirm:t,onCancel:r,isDeleting:s,open:a})=>{const i=v.useCallback(o=>{o||r()},[r]);return n.jsx(Ur,{open:a,onOpenChange:i,children:n.jsxs(Er,{className:"sm:max-w-[500px] p-4 sm:p-6",children:[n.jsx(kr,{children:n.jsxs(Ar,{className:"flex items-center space-x-2 text-lg sm:text-xl",children:[n.jsx(TC,{className:"h-4 w-4 sm:h-5 sm:w-5 text-red-500"}),n.jsx("span",{children:"Confirm Deletion"})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs(Ge,{variant:"destructive",className:"border-destructive/50",children:[n.jsx(TC,{className:"h-4 w-4"}),n.jsxs(Ye,{className:"text-destructive text-sm sm:text-base",children:["You are about to delete ",e.length," hierarchy relationship",e.length>1?"s":"",". This action cannot be undone."]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium text-sm sm:text-base",children:"Hierarchies to be deleted:"}),n.jsx(Ix,{className:"h-32 border rounded-md p-2",children:n.jsx("div",{className:"space-y-2",children:e.map(o=>n.jsxs("div",{className:"text-xs sm:text-sm p-2 bg-red-50 dark:bg-red-950/20 rounded border border-red-200 dark:border-red-800/30",children:[n.jsx("span",{className:"font-medium text-foreground",children:o.higher_role?.name}),n.jsx("span",{className:"mx-2 text-muted-foreground",children:""}),n.jsx("span",{className:"font-medium text-foreground",children:o.lower_role?.name})]},o.id))})})]})]}),n.jsxs(Hr,{className:"flex flex-col sm:flex-row gap-2 sm:gap-0",children:[n.jsx(W,{type:"button",variant:"outline",onClick:r,disabled:s,className:"w-full sm:w-auto text-sm sm:text-base hover:bg-accent",children:"Cancel"}),n.jsx(W,{type:"button",variant:"destructive",onClick:t,disabled:s,className:"w-full sm:w-auto text-sm sm:text-base",children:s?n.jsxs(n.Fragment,{children:[n.jsx(Zr,{className:"h-4 w-4 mr-2 animate-spin"}),n.jsx("span",{className:"hidden sm:inline",children:"Deleting..."}),n.jsx("span",{className:"sm:hidden",children:"Deleting"})]}):n.jsxs(n.Fragment,{children:[n.jsx(kt,{className:"h-4 w-4 mr-2"}),n.jsxs("span",{className:"hidden sm:inline",children:["Delete ",e.length," Item",e.length>1?"s":""]}),n.jsxs("span",{className:"sm:hidden",children:["Delete (",e.length,")"]})]})})]})]})})},B_t=(e,t,r)=>e.find(s=>s.higher_role?.id===t&&s.lower_role?.id===r),z_t=()=>{const{storeId:e}=Sn(),t=Vt(),r=la(),[s,a]=v.useState(new Set),[i,o]=v.useState(!1),[c,d]=v.useState(new Set),u=v.useMemo(()=>r.state,[r.state]),{hierarchies:l,isLoading:f,error:m,refetch:p}=Mhe(e),{removeHierarchy:x,isLoading:b}=o_t(),h=v.useMemo(()=>l.filter(D=>s.has(D.id)),[l,s]),y=v.useMemo(()=>l.length>0&&s.size===l.length,[l.length,s.size]),w=v.useMemo(()=>s.size>0&&s.size<l.length,[s.size,l.length]),S=v.useCallback((D,P)=>{a(M=>{const R=new Set(M);return P?R.add(D.id):R.delete(D.id),R})},[]),N=v.useCallback(D=>{a(D?new Set(l.map(P=>P.id)):new Set)},[l]),_=v.useCallback(()=>{s.size>0&&o(!0)},[s.size]),k=v.useCallback(async()=>{if(h.length!==0)try{d(new Set(s));const D=h.map(R=>{const B={higher_role_id:R.higher_role?.id,lower_role_id:R.lower_role?.id,store_id:e};return x(B)}),M=(await Promise.allSettled(D)).filter(R=>R.status==="rejected");M.length>0&&console.error("Some deletions failed:",M),await p(e),a(new Set),o(!1),d(new Set)}catch(D){console.error("Failed to delete hierarchies:",D),d(new Set)}},[h,s,e,x,p]),E=v.useCallback(()=>{t(`/stores-hierarchy/view/${e}`)},[t,e]),T=v.useCallback(()=>{o(!1)},[]);return v.useEffect(()=>{if(u?.validatedHierarchy&&l.length>0){const{higher_role_id:D,lower_role_id:P}=u.validatedHierarchy,M=B_t(l,D,P);M&&a(new Set([M.id]))}},[l,u]),e?n.jsxs(Zt,{title:`Delete Store Hierarchy - Store ${e}`,subtitle:"Select and remove role hierarchies from your store",backButton:{show:!0},children:[m&&n.jsxs(Ge,{variant:"destructive",className:"border-destructive/50",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{className:"text-destructive text-sm sm:text-base",children:m?.message||"An error occurred while loading the hierarchies."})]}),n.jsx(I_t,{totalCount:l.length,selectedCount:s.size,allSelected:y,someSelected:w,onSelectAll:N,onDeleteSelected:_,isDeleting:b}),n.jsx($_t,{hierarchies:l,loading:f,selectedHierarchies:s,deletingIds:c,onSelectHierarchy:S,onBack:E}),n.jsx(L_t,{selectedHierarchies:h,onConfirm:k,onCancel:T,isDeleting:b,open:i})]}):n.jsx(Zt,{title:"Delete Store Hierarchy",subtitle:"Manage role hierarchies for your store",backButton:{show:!0},children:n.jsxs(Ge,{variant:"destructive",className:"border-destructive/50",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{className:"text-destructive text-sm sm:text-base",children:"Store ID is required to view hierarchy."})]})})},U_t=[n.jsx(At,{path:"/stores-hierarchy/view/:storeId",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(k_t,{})})})})},"view-store-hierarchy"),n.jsx(At,{path:"/stores-hierarchy/create/:storeId",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(M_t,{})})})})},"create-hierarchy"),n.jsx(At,{path:"/stores-hierarchy/delete/:storeId",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(z_t,{})})})})},"delete-hierarchy"),n.jsx(At,{path:"/stores-hierarchy/validate/:storeId",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(O_t,{})})})})},"validate-hierarchy")],H_t=()=>ct(),Of=se,Qhe=()=>{const e=H_t(),t=Of(kNe),r=Of(ANe),s=Of(TNe),a=Of(DNe),i=Of(PNe),o=Of(RNe),c=Of(MNe),d=v.useCallback(B=>t.find(L=>L.id===B),[t]),u=v.useCallback(async B=>{try{console.log(" Hook: Fetching positions with params:",B);const L=await e(QS(B)),$=xa(L);return console.log(` Hook: Successfully fetched ${$.length} positions`),$}catch(L){const $=L;throw console.error(" Hook: Failed to fetch positions:",$),$}},[e]),l=v.useCallback(async B=>{try{console.log(` Hook: Fetching position with ID: ${B}`);const L=await e(eN(B)),$=xa(L);return console.log(` Hook: Successfully fetched position: ${$.name}`),$}catch(L){const $=L;throw console.error(` Hook: Failed to fetch position ${B}:`,$),$}},[e]),f=v.useCallback(async B=>{try{console.log(" Hook: Creating position with data:",B);const L=await e(tN(B)),$=xa(L);return console.log(` Hook: Successfully created position: ${$.name} (ID: ${$.id})`),$}catch(L){const $=L;throw console.error(" Hook: Failed to create position:",$),$}},[e]),m=v.useCallback(async(B,L)=>{try{console.log(` Hook: Updating position ${B} with data:`,L);const $=await e(rN({id:B,data:L})),I=xa($);return console.log(` Hook: Successfully updated position: ${I.name} (ID: ${I.id})`),I}catch($){const I=$;throw console.error(` Hook: Failed to update position ${B}:`,I),I}},[e]),p=v.useCallback(async B=>{try{console.log(` Hook: Deleting position with ID: ${B}`);const L=await e(sN(B));xa(L),console.log(` Hook: Successfully deleted position with ID: ${B}`)}catch(L){const $=L;throw console.error(` Hook: Failed to delete position ${B}:`,$),$}},[e]),x=v.useCallback(B=>{console.log(" Hook: Setting selected position:",B?.name||"null"),e(xNe(B))},[e]),b=v.useCallback(()=>{console.log(" Hook: Clearing selected position"),e(vNe())},[e]),h=v.useCallback(()=>{console.log(" Hook: Opening create modal"),e(yNe())},[e]),y=v.useCallback(()=>{console.log(" Hook: Closing create modal"),e(bNe())},[e]),w=v.useCallback(()=>{console.log(" Hook: Opening edit modal"),e(wNe())},[e]),S=v.useCallback(()=>{console.log(" Hook: Closing edit modal"),e(jNe())},[e]),N=v.useCallback(B=>{console.log(` Hook: Setting deleting ID: ${B}`),e(SNe(B))},[e]),_=v.useCallback(()=>{console.log(" Hook: Clearing all errors"),e(NNe())},[e]),k=v.useCallback(B=>{console.log(` Hook: Clearing ${B} error`),e(CNe(B))},[e]),E=v.useCallback(B=>{console.log(" Hook: Updating pagination:",B),e(_Ne(B))},[e]),T=v.useCallback(()=>{console.log(" Hook: Resetting positions state"),e(ENe())},[e]),D=v.useCallback(async()=>{const B={per_page:i.perPage,page:i.currentPage};return u(B)},[u,i.perPage,i.currentPage]),P=v.useCallback(B=>s[B],[s]),M=v.useCallback(B=>a[B]!==null,[a]),R=v.useCallback(B=>a[B],[a]);return v.useMemo(()=>({positions:t,selectedPosition:r,loading:s,error:a,pagination:i,ui:o,isAnyLoading:c,fetchPositions:u,fetchPositionById:l,createPosition:f,updatePosition:m,deletePosition:p,setSelectedPosition:x,clearSelectedPosition:b,getPositionById:d,openCreateModal:h,closeCreateModal:y,openEditModal:w,closeEditModal:S,setDeletingId:N,clearAllErrors:_,clearError:k,updatePagination:E,resetState:T,refreshPositions:D,isPositionLoading:P,hasError:M,getErrorMessage:R}),[t,r,s,a,i,o,c,u,l,f,m,p,x,b,d,h,y,w,S,N,_,k,E,T,D,P,M,R])},V_t=Dt({name:et().min(1,"Position name is required").max(255,"Name must be less than 255 characters"),slug:et().max(255,"Slug must be less than 255 characters").optional().or(jn(""))}),W_t=Dt({name:et().min(1,"Position name is required").max(255,"Name must be less than 255 characters"),slug:et().max(255,"Slug must be less than 255 characters").optional().or(jn(""))}),q_t=()=>{const{positions:e,loading:t,error:r,ui:s,fetchPositions:a,createPosition:i,updatePosition:o,deletePosition:c,openCreateModal:d,closeCreateModal:u,openEditModal:l,closeEditModal:f,setSelectedPosition:m,setDeletingId:p,clearError:x}=Qhe(),[b,h]=v.useState(null),y=Da({resolver:Qa(V_t),defaultValues:{name:"",slug:""}}),w=Da({resolver:Qa(W_t),defaultValues:{name:"",slug:""}});v.useEffect(()=>{S()},[]),v.useEffect(()=>{r.list&&(We.error("Error loading positions",{description:r.list}),x("list"))},[r.list,x]),v.useEffect(()=>{r.create&&(We.error("Error creating position",{description:r.create}),x("create"))},[r.create,x]),v.useEffect(()=>{r.update&&(We.error("Error updating position",{description:r.update}),x("update"))},[r.update,x]),v.useEffect(()=>{r.delete&&(We.error("Error deleting position",{description:r.delete}),x("delete"))},[r.delete,x]);const S=async()=>{try{await a({per_page:50}),We.success("Positions refreshed",{description:"Position list has been updated successfully."})}catch{}},N=()=>{y.reset(),d()},_=L=>{h(L),m(L),w.reset({name:L.name,slug:L.slug||""}),l()},k=L=>{p(L.id)},E=async L=>{try{const $={name:L.name,slug:L.slug||void 0};await i($),We.success("Position created",{description:`Position "${L.name}" has been created successfully.`}),y.reset(),u()}catch{}},T=async L=>{if(b)try{const $={name:L.name,slug:L.slug||void 0};await o(b.id,$),We.success("Position updated",{description:`Position "${L.name}" has been updated successfully.`}),w.reset(),f(),h(null)}catch{}},D=async()=>{if(!s.deletingId)return;const L=e.find($=>$.id===s.deletingId);try{await c(s.deletingId),We.success("Position deleted",{description:`Position "${L?.name||"Unknown"}" has been deleted successfully.`}),p(null)}catch{}},P=()=>{y.reset(),u()},M=()=>{w.reset(),f(),h(null)},R=()=>{p(null)},B=e.find(L=>L.id===s.deletingId);return n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsx(oe,{children:n.jsx(Re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Positions"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage your organization's positions"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:S,disabled:t.list,className:"flex items-center space-x-2",children:[n.jsx(Zr,{className:`h-4 w-4 ${t.list?"animate-spin":""}`}),n.jsx("span",{children:"Refresh"})]}),n.jsxs(W,{size:"sm",onClick:N,disabled:t.create,className:"flex items-center space-x-2",children:[n.jsx(Yt,{className:"h-4 w-4"}),n.jsx("span",{children:"Create Position"})]})]})]})})}),n.jsx(oe,{children:n.jsx(je,{className:"p-0",children:t.list?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[n.jsx(at,{className:"h-5 w-5 animate-spin"}),n.jsx("span",{children:"Loading positions..."})]})}):e.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx(Je,{className:"h-12 w-12 text-gray-400 mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No positions found"}),n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Get started by creating your first position."}),n.jsxs(W,{onClick:N,className:"flex items-center space-x-2",children:[n.jsx(Yt,{className:"h-4 w-4"}),n.jsx("span",{children:"Create Position"})]})]}):n.jsxs(Xr,{children:[n.jsx(Jr,{children:n.jsxs(Nt,{children:[n.jsx(De,{className:"font-semibold",children:"Name"}),n.jsx(De,{className:"font-semibold",children:"Slug"}),n.jsx(De,{className:"font-semibold",children:"Created"}),n.jsx(De,{className:"font-semibold",children:"Updated"}),n.jsx(De,{className:"text-right font-semibold",children:"Actions"})]})}),n.jsx(Qr,{children:e.map(L=>n.jsxs(Nt,{className:"hover:bg-gray-50",children:[n.jsx(Ee,{className:"font-medium",children:L.name}),n.jsx(Ee,{className:"text-gray-600",children:L.slug||n.jsx("span",{className:"text-gray-400 italic",children:"No slug"})}),n.jsx(Ee,{className:"text-gray-600",children:new Date(L.created_at).toLocaleDateString()}),n.jsx(Ee,{className:"text-gray-600",children:new Date(L.updated_at).toLocaleDateString()}),n.jsx(Ee,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:()=>_(L),disabled:t.update,className:"flex items-center space-x-1",children:[n.jsx(Pa,{className:"h-3 w-3"}),n.jsx("span",{children:"Edit"})]}),n.jsxs(W,{variant:"outline",size:"sm",onClick:()=>k(L),disabled:t.delete,className:"flex items-center space-x-1 text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200",children:[n.jsx(kt,{className:"h-3 w-3"}),n.jsx("span",{children:"Delete"})]})]})})]},L.id))})]})})}),n.jsx(Ur,{open:s.isCreateModalOpen,onOpenChange:P,children:n.jsxs(Er,{className:"sm:max-w-[425px]",children:[n.jsxs(kr,{children:[n.jsx(Ar,{children:"Create New Position"}),n.jsx(as,{children:"Add a new position to your organization. The slug field is optional and will be used for URL-friendly identification."})]}),n.jsx(Co,{...y,children:n.jsxs("form",{onSubmit:y.handleSubmit(E),className:"space-y-4",children:[n.jsx(or,{control:y.control,name:"name",render:({field:L})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Position Name *"}),n.jsx(ir,{children:n.jsx(ne,{placeholder:"Enter position name",...L,disabled:t.create})}),n.jsx(Nr,{})]})}),n.jsx(or,{control:y.control,name:"slug",render:({field:L})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Slug (Optional)"}),n.jsx(ir,{children:n.jsx(ne,{placeholder:"Enter URL-friendly slug",...L,disabled:t.create})}),n.jsx(Nr,{})]})}),n.jsxs(Hr,{children:[n.jsx(W,{type:"button",variant:"outline",onClick:P,disabled:t.create,children:"Cancel"}),n.jsxs(W,{type:"submit",disabled:t.create,className:"flex items-center space-x-2",children:[t.create&&n.jsx(at,{className:"h-4 w-4 animate-spin"}),n.jsx("span",{children:"Create Position"})]})]})]})})]})}),n.jsx(Ur,{open:s.isEditModalOpen,onOpenChange:M,children:n.jsxs(Er,{className:"sm:max-w-[425px]",children:[n.jsxs(kr,{children:[n.jsx(Ar,{children:"Edit Position"}),n.jsx(as,{children:"Update the position details. Changes will be saved immediately."})]}),n.jsx(Co,{...w,children:n.jsxs("form",{onSubmit:w.handleSubmit(T),className:"space-y-4",children:[n.jsx(or,{control:w.control,name:"name",render:({field:L})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Position Name *"}),n.jsx(ir,{children:n.jsx(ne,{placeholder:"Enter position name",...L,disabled:t.update})}),n.jsx(Nr,{})]})}),n.jsx(or,{control:w.control,name:"slug",render:({field:L})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Slug (Optional)"}),n.jsx(ir,{children:n.jsx(ne,{placeholder:"Enter URL-friendly slug",...L,disabled:t.update})}),n.jsx(Nr,{})]})}),n.jsxs(Hr,{children:[n.jsx(W,{type:"button",variant:"outline",onClick:M,disabled:t.update,children:"Cancel"}),n.jsxs(W,{type:"submit",disabled:t.update,className:"flex items-center space-x-2",children:[t.update&&n.jsx(at,{className:"h-4 w-4 animate-spin"}),n.jsx("span",{children:"Update Position"})]})]})]})})]})}),n.jsx(No,{open:!!s.deletingId,onOpenChange:R,children:n.jsxs(Fi,{children:[n.jsxs($i,{children:[n.jsx(Bi,{children:"Are you sure?"}),n.jsxs(zi,{children:["This action cannot be undone. This will permanently delete the position"," ",n.jsxs("span",{className:"font-semibold",children:['"',B?.name,'"']})," and all associated data."]})]}),n.jsxs(Li,{children:[n.jsx(Hi,{disabled:t.delete,children:"Cancel"}),n.jsxs(Ui,{onClick:D,disabled:t.delete,className:"bg-red-600 hover:bg-red-700 flex items-center space-x-2",children:[t.delete&&n.jsx(at,{className:"h-4 w-4 animate-spin"}),n.jsx("span",{children:"Delete Position"})]})]})]})})]})},G_t=()=>ct(),_p=se,epe=()=>{const e=G_t(),t=_p(cCe),r=_p(dCe),s=_p(uCe),a=_p(fCe),i=_p(mCe),o=_p(hCe),c=v.useCallback(E=>t.find(T=>T.id===E),[t]),d=v.useCallback(async()=>{try{console.log(" Hook: Fetching skills");const E=await e(lN()),T=xa(E);return console.log(` Hook: Successfully fetched ${T.length} skills`),T}catch(E){const T=E;throw console.error(" Hook: Failed to fetch skills:",T),T}},[e]),u=v.useCallback(async E=>{try{console.log(` Hook: Fetching skill with ID: ${E}`);const T=await e(cN(E)),D=xa(T);return console.log(` Hook: Successfully fetched skill: ${D?.name}`),D}catch(T){const D=T;throw console.error(` Hook: Failed to fetch skill ${E}:`,D),D}},[e]),l=v.useCallback(async E=>{try{console.log(" Hook: Creating skill with data:",E);const T=await e(dN(E)),D=xa(T);return console.log(` Hook: Successfully created skill: ${D.name} (ID: ${D.id})`),D}catch(T){const D=T;throw console.error(" Hook: Failed to create skill:",D),D}},[e]),f=v.useCallback(async(E,T)=>{try{console.log(` Hook: Updating skill ${E} with data:`,T);const D=await e(uN({id:E,data:T})),P=xa(D);return console.log(` Hook: Successfully updated skill: ${P.name} (ID: ${P.id})`),P}catch(D){const P=D;throw console.error(` Hook: Failed to update skill ${E}:`,P),P}},[e]),m=v.useCallback(async E=>{try{console.log(` Hook: Deleting skill with ID: ${E}`);const T=await e(fN(E));xa(T),console.log(` Hook: Successfully deleted skill with ID: ${E}`)}catch(T){const D=T;throw console.error(` Hook: Failed to delete skill ${E}:`,D),D}},[e]),p=v.useCallback(E=>{console.log(" Hook: Setting selected skill:",E?.name||"null"),e(QNe(E))},[e]),x=v.useCallback(()=>{console.log(" Hook: Clearing selected skill"),e(eCe())},[e]),b=v.useCallback(()=>{console.log(" Hook: Opening create modal"),e(tCe())},[e]),h=v.useCallback(()=>{console.log(" Hook: Closing create modal"),e(rCe())},[e]),y=v.useCallback(()=>{console.log(" Hook: Opening edit modal"),e(sCe())},[e]),w=v.useCallback(()=>{console.log(" Hook: Closing edit modal"),e(nCe())},[e]),S=v.useCallback(E=>{console.log(` Hook: Setting deleting ID: ${E}`),e(aCe(E))},[e]),N=v.useCallback(()=>{console.log(" Hook: Clearing all errors"),e(iCe())},[e]),_=v.useCallback(E=>{console.log(` Hook: Clearing ${E} error`),e(oCe(E))},[e]),k=v.useCallback(()=>{console.log(" Hook: Resetting skills state"),e(lCe())},[e]);return v.useMemo(()=>({skills:t,selectedSkill:r,loading:s,error:a,ui:i,isAnyLoading:o,fetchSkills:d,fetchSkillById:u,createSkill:l,updateSkill:f,deleteSkill:m,setSelectedSkill:p,clearSelectedSkill:x,getSkillById:c,openCreateModal:b,closeCreateModal:h,openEditModal:y,closeEditModal:w,setDeletingId:S,clearAllErrors:N,clearError:_,resetState:k}),[t,r,s,a,i,o,d,u,l,f,m,p,x,c,b,h,y,w,S,N,_,k])},Y_t=Dt({name:et().min(1,"Skill name is required").max(255,"Name must be less than 255 characters"),slug:et().max(255,"Slug must be less than 255 characters").optional().or(jn(""))}),K_t=Dt({name:et().min(1,"Skill name is required").max(255,"Name must be less than 255 characters"),slug:et().max(255,"Slug must be less than 255 characters").optional().or(jn(""))}),tpe=()=>{const{skills:e,loading:t,error:r,ui:s,fetchSkills:a,createSkill:i,updateSkill:o,deleteSkill:c,openCreateModal:d,closeCreateModal:u,openEditModal:l,closeEditModal:f,setSelectedSkill:m,setDeletingId:p,clearError:x}=epe(),[b,h]=v.useState(null),y=Vt(),w=Da({resolver:Qa(Y_t),defaultValues:{name:"",slug:""}}),S=Da({resolver:Qa(K_t),defaultValues:{name:"",slug:""}});v.useEffect(()=>{N()},[]),v.useEffect(()=>{r.list&&(We.error("Error loading skills",{description:r.list}),x("list"))},[r.list,x]),v.useEffect(()=>{r.create&&(We.error("Error creating skill",{description:r.create}),x("create"))},[r.create,x]),v.useEffect(()=>{r.update&&(We.error("Error updating skill",{description:r.update}),x("update"))},[r.update,x]),v.useEffect(()=>{r.delete&&(We.error("Error deleting skill",{description:r.delete}),x("delete"))},[r.delete,x]);const N=async()=>{try{await a(),We.success("Skills refreshed",{description:"Skill list updated successfully."})}catch{}},_=()=>{w.reset(),d()},k=I=>{h(I),m(I),S.reset({name:I.name,slug:I.slug||""}),l()},E=I=>{y(`/skills/${I.id}`)},T=I=>{p(I.id)},D=async I=>{try{const z={name:I.name,slug:I.slug||void 0};await i(z),We.success("Skill created",{description:`Skill "${I.name}" created successfully.`}),w.reset(),u()}catch{}},P=async I=>{if(b)try{const z={name:I.name,slug:I.slug||void 0};await o(b.id,z),We.success("Skill updated",{description:`Skill "${I.name}" updated successfully.`}),S.reset(),f(),h(null)}catch{}},M=async()=>{if(!s.deletingId)return;const I=e.find(z=>z.id===s.deletingId);try{await c(s.deletingId),We.success("Skill deleted",{description:`Skill "${I?.name||"Unknown"}" deleted successfully.`}),p(null)}catch{}},R=()=>{w.reset(),u()},B=()=>{S.reset(),f(),h(null)},L=()=>{p(null)},$=e.find(I=>I.id===s.deletingId);return n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsx(oe,{children:n.jsx(Re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Skills"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage your organization's skills"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:N,disabled:t.list,className:"flex items-center space-x-2",children:[n.jsx(Zr,{className:`h-4 w-4 ${t.list?"animate-spin":""}`}),n.jsx("span",{children:"Refresh"})]}),n.jsxs(W,{size:"sm",onClick:_,disabled:t.create,className:"flex items-center space-x-2",children:[n.jsx(Yt,{className:"h-4 w-4"}),n.jsx("span",{children:"Create Skill"})]})]})]})})}),n.jsx(oe,{children:n.jsx(je,{className:"p-0",children:t.list?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[n.jsx(at,{className:"h-5 w-5 animate-spin"}),n.jsx("span",{children:"Loading skills..."})]})}):e.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx(Je,{className:"h-12 w-12 text-gray-400 mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No skills found"}),n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Get started by creating your first skill."}),n.jsxs(W,{onClick:_,className:"flex items-center space-x-2",children:[n.jsx(Yt,{className:"h-4 w-4"}),n.jsx("span",{children:"Create Skill"})]})]}):n.jsxs(Xr,{children:[n.jsx(Jr,{children:n.jsxs(Nt,{children:[n.jsx(De,{className:"font-semibold",children:"Name"}),n.jsx(De,{className:"font-semibold",children:"Slug"}),n.jsx(De,{className:"font-semibold",children:"Created"}),n.jsx(De,{className:"font-semibold",children:"Updated"}),n.jsx(De,{className:"text-right font-semibold",children:"Actions"})]})}),n.jsx(Qr,{children:e.map(I=>n.jsxs(Nt,{className:"hover:bg-gray-50",children:[n.jsx(Ee,{className:"font-medium",children:I.name}),n.jsx(Ee,{className:"text-gray-600",children:I.slug||n.jsx("span",{className:"text-gray-400 italic",children:"No slug"})}),n.jsx(Ee,{className:"text-gray-600",children:new Date(I.created_at).toLocaleDateString()}),n.jsx(Ee,{className:"text-gray-600",children:new Date(I.updated_at).toLocaleDateString()}),n.jsx(Ee,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:()=>E(I),className:"flex items-center space-x-1",children:[n.jsx(ln,{className:"h-3 w-3"}),n.jsx("span",{children:"View"})]}),n.jsxs(W,{variant:"outline",size:"sm",onClick:()=>k(I),disabled:t.update,className:"flex items-center space-x-1",children:[n.jsx(Pa,{className:"h-3 w-3"}),n.jsx("span",{children:"Edit"})]}),n.jsxs(W,{variant:"outline",size:"sm",onClick:()=>T(I),disabled:t.delete,className:"flex items-center space-x-1 text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200",children:[n.jsx(kt,{className:"h-3 w-3"}),n.jsx("span",{children:"Delete"})]})]})})]},I.id))})]})})}),n.jsx(Ur,{open:s.isCreateModalOpen,onOpenChange:R,children:n.jsxs(Er,{className:"sm:max-w-[425px]",children:[n.jsxs(kr,{children:[n.jsx(Ar,{children:"Create New Skill"}),n.jsx(as,{children:"Add a new skill to your organization. The slug field is optional and will be used for URL-friendly identification."})]}),n.jsx(Co,{...w,children:n.jsxs("form",{onSubmit:w.handleSubmit(D),className:"space-y-4",children:[n.jsx(or,{control:w.control,name:"name",render:({field:I})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Skill Name *"}),n.jsx(ir,{children:n.jsx(ne,{placeholder:"Enter skill name",...I,disabled:t.create})}),n.jsx(Nr,{})]})}),n.jsx(or,{control:w.control,name:"slug",render:({field:I})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Slug (Optional)"}),n.jsx(ir,{children:n.jsx(ne,{placeholder:"Enter URL-friendly slug",...I,disabled:t.create})}),n.jsx(Nr,{})]})}),n.jsxs(Hr,{children:[n.jsx(W,{type:"button",variant:"outline",onClick:R,disabled:t.create,children:"Cancel"}),n.jsxs(W,{type:"submit",disabled:t.create,className:"flex items-center space-x-2",children:[t.create&&n.jsx(at,{className:"h-4 w-4 animate-spin"}),n.jsx("span",{children:"Create Skill"})]})]})]})})]})}),n.jsx(Ur,{open:s.isEditModalOpen,onOpenChange:B,children:n.jsxs(Er,{className:"sm:max-w-[425px]",children:[n.jsxs(kr,{children:[n.jsx(Ar,{children:"Edit Skill"}),n.jsx(as,{children:"Update the skill details. Changes will be saved immediately."})]}),n.jsx(Co,{...S,children:n.jsxs("form",{onSubmit:S.handleSubmit(P),className:"space-y-4",children:[n.jsx(or,{control:S.control,name:"name",render:({field:I})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Skill Name *"}),n.jsx(ir,{children:n.jsx(ne,{placeholder:"Enter skill name",...I,disabled:t.update})}),n.jsx(Nr,{})]})}),n.jsx(or,{control:S.control,name:"slug",render:({field:I})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Slug (Optional)"}),n.jsx(ir,{children:n.jsx(ne,{placeholder:"Enter URL-friendly slug",...I,disabled:t.update})}),n.jsx(Nr,{})]})}),n.jsxs(Hr,{children:[n.jsx(W,{type:"button",variant:"outline",onClick:B,disabled:t.update,children:"Cancel"}),n.jsxs(W,{type:"submit",disabled:t.update,className:"flex items-center space-x-2",children:[t.update&&n.jsx(at,{className:"h-4 w-4 animate-spin"}),n.jsx("span",{children:"Update Skill"})]})]})]})})]})}),n.jsx(No,{open:!!s.deletingId,onOpenChange:L,children:n.jsxs(Fi,{children:[n.jsxs($i,{children:[n.jsx(Bi,{children:"Are you sure?"}),n.jsxs(zi,{children:["This action cannot be undone. This will permanently delete the skill"," ",n.jsxs("span",{className:"font-semibold",children:['"',$?.name,'"']})," and all associated data."]})]}),n.jsxs(Li,{children:[n.jsx(Hi,{disabled:t.delete,children:"Cancel"}),n.jsxs(Ui,{onClick:M,disabled:t.delete,className:"bg-red-600 hover:bg-red-700 flex items-center space-x-2",children:[t.delete&&n.jsx(at,{className:"h-4 w-4 animate-spin"}),n.jsx("span",{children:"Delete Skill"})]})]})]})})]})},Z_t=(e={})=>{const{autoFetch:t=!0,refetchInterval:r=0}=e,s=ct(),a=se(HNe),i=se(VNe),o=se(WNe),c=se(qNe),d=se(GNe),u=se(YNe),l=v.useCallback(async()=>{try{await s(nN()).unwrap()}catch(w){console.error("Failed to fetch statuses:",w)}},[s]),f=v.useCallback(async w=>{try{return await s(aN(w)).unwrap()}catch(S){return console.error("Failed to create status:",S),null}},[s]),m=v.useCallback(async(w,S)=>{try{const N={id:w,description:S.description,slug:S.slug||"",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return s(UNe(N)),await s(iN({id:w,data:S})).unwrap()}catch(N){return console.error("Failed to update status:",N),null}},[s]),p=v.useCallback(async w=>{try{return await s(oN({id:w})).unwrap(),!0}catch(S){return console.error("Failed to delete status:",S),!1}},[s]),x=v.useCallback(()=>{s(LNe())},[s]),b=v.useCallback(w=>{s(BNe(w))},[s]),h=v.useCallback(()=>{s(zNe())},[s]),y=v.useCallback(async()=>{await l()},[l]);return v.useEffect(()=>{t&&l()},[t,l]),v.useEffect(()=>{if(r>0){const w=setInterval(()=>{l()},r);return()=>clearInterval(w)}},[r,l]),{statuses:a,statusCount:c.total,lastFetched:c.lastFetched,loading:i,isAnyLoading:d,errors:o,hasErrors:u,fetchStatuses:l,createNewStatus:f,updateExistingStatus:m,deleteExistingStatus:p,clearAllErrors:x,clearSpecificError:b,resetState:h,refetch:y}},X_t=Dt({description:et().min(1,"Description is required"),slug:et().max(255,"Slug must be less than 255 characters").optional().or(jn(""))}),J_t=Dt({description:et().min(1,"Description is required"),slug:et().max(255,"Slug must be less than 255 characters").optional().or(jn(""))}),Q_t=({description:e,maxLength:t=100})=>{const[r,s]=v.useState(!1),a=e.length>t,i=a&&!r?`${e.substring(0,t)}...`:e;return n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:`text-gray-600 ${r?"whitespace-pre-wrap":""}`,children:i}),a&&n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>s(!r),className:"h-6 px-2 text-xs text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:r?n.jsxs(n.Fragment,{children:[n.jsx(Em,{className:"h-3 w-3 mr-1"}),"Show less"]}):n.jsxs(n.Fragment,{children:[n.jsx(ln,{className:"h-3 w-3 mr-1"}),"Show more"]})})]})},eEt=()=>{const{statuses:e,statusCount:t,loading:r,errors:s,fetchStatuses:a,createNewStatus:i,updateExistingStatus:o,deleteExistingStatus:c,clearSpecificError:d}=Z_t(),[u,l]=v.useState(!1),[f,m]=v.useState(!1),[p,x]=v.useState(null),[b,h]=v.useState(null),y=Da({resolver:Qa(X_t),defaultValues:{description:"",slug:""}}),w=Da({resolver:Qa(J_t),defaultValues:{description:"",slug:""}});v.useEffect(()=>{S()},[]),v.useEffect(()=>{s.fetchAll&&(We.error("Error loading statuses",{description:s.fetchAll}),d("fetchAll"))},[s.fetchAll,d]),v.useEffect(()=>{s.create&&(We.error("Error creating status",{description:s.create}),d("create"))},[s.create,d]),v.useEffect(()=>{s.update&&(We.error("Error updating status",{description:s.update}),d("update"))},[s.update,d]),v.useEffect(()=>{s.delete&&(We.error("Error deleting status",{description:s.delete}),d("delete"))},[s.delete,d]);const S=async()=>{try{await a(),We.success("Statuses refreshed",{description:"Status list has been updated successfully."})}catch{}},N=()=>{y.reset(),l(!0)},_=L=>{x(L),w.reset({description:L.description,slug:L.slug||""}),m(!0)},k=L=>{h(L.id)},E=async L=>{try{const $={description:L.description,slug:L.slug||void 0};await i($)&&(We.success("Status created",{description:`Status "${L.description.substring(0,50)}..." has been created successfully.`}),y.reset(),l(!1))}catch{}},T=async L=>{if(p)try{const $={description:L.description,slug:L.slug||void 0};await o(p.id,$)&&(We.success("Status updated",{description:"Status has been updated successfully."}),w.reset(),m(!1),x(null))}catch{}},D=async()=>{if(!b)return;const L=e.find($=>$.id===b);try{await c(b)&&(We.success("Status deleted",{description:`Status "${L?.description.substring(0,50)||"Unknown"}..." has been deleted successfully.`}),h(null))}catch{}},P=()=>{y.reset(),l(!1)},M=()=>{w.reset(),m(!1),x(null)},R=()=>{h(null)},B=e.find(L=>L.id===b);return n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsx(oe,{children:n.jsx(Re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Statuses"}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Manage your organization's statuses (",t," total)"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:S,disabled:r.fetchAll,className:"flex items-center space-x-2",children:[n.jsx(Zr,{className:`h-4 w-4 ${r.fetchAll?"animate-spin":""}`}),n.jsx("span",{children:"Refresh"})]}),n.jsxs(W,{size:"sm",onClick:N,disabled:r.create,className:"flex items-center space-x-2",children:[n.jsx(Yt,{className:"h-4 w-4"}),n.jsx("span",{children:"Create Status"})]})]})]})})}),n.jsx(oe,{children:n.jsx(je,{className:"p-0",children:r.fetchAll?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[n.jsx(at,{className:"h-5 w-5 animate-spin"}),n.jsx("span",{children:"Loading statuses..."})]})}):e.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx(Je,{className:"h-12 w-12 text-gray-400 mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No statuses found"}),n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Get started by creating your first status."}),n.jsxs(W,{onClick:N,className:"flex items-center space-x-2",children:[n.jsx(Yt,{className:"h-4 w-4"}),n.jsx("span",{children:"Create Status"})]})]}):n.jsxs(Xr,{children:[n.jsx(Jr,{children:n.jsxs(Nt,{children:[n.jsx(De,{className:"font-semibold w-1/3",children:"Description"}),n.jsx(De,{className:"font-semibold",children:"Slug"}),n.jsx(De,{className:"font-semibold",children:"Created"}),n.jsx(De,{className:"font-semibold",children:"Updated"}),n.jsx(De,{className:"text-right font-semibold",children:"Actions"})]})}),n.jsx(Qr,{children:e.map(L=>n.jsxs(Nt,{className:"hover:bg-gray-50",children:[n.jsx(Ee,{className:"font-medium max-w-xs",children:n.jsx(Q_t,{description:L.description,maxLength:100})}),n.jsx(Ee,{className:"text-gray-600",children:L.slug||n.jsx("span",{className:"text-gray-400 italic",children:"No slug"})}),n.jsx(Ee,{className:"text-gray-600",children:new Date(L.created_at).toLocaleDateString()}),n.jsx(Ee,{className:"text-gray-600",children:new Date(L.updated_at).toLocaleDateString()}),n.jsx(Ee,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:()=>_(L),disabled:r.update,className:"flex items-center space-x-1",children:[n.jsx(Pa,{className:"h-3 w-3"}),n.jsx("span",{children:"Edit"})]}),n.jsxs(W,{variant:"outline",size:"sm",onClick:()=>k(L),disabled:r.delete,className:"flex items-center space-x-1 text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200",children:[n.jsx(kt,{className:"h-3 w-3"}),n.jsx("span",{children:"Delete"})]})]})})]},L.id))})]})})}),n.jsx(Ur,{open:u,onOpenChange:P,children:n.jsxs(Er,{className:"sm:max-w-[500px]",children:[n.jsxs(kr,{children:[n.jsx(Ar,{children:"Create New Status"}),n.jsx(as,{children:"Add a new status to your organization. The slug field is optional and will be used for URL-friendly identification."})]}),n.jsx(Co,{...y,children:n.jsxs("form",{onSubmit:y.handleSubmit(E),className:"space-y-4",children:[n.jsx(or,{control:y.control,name:"description",render:({field:L})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Description *"}),n.jsx(ir,{children:n.jsx(Ht,{placeholder:"Enter status description",rows:4,...L,disabled:r.create})}),n.jsx(Nr,{})]})}),n.jsx(or,{control:y.control,name:"slug",render:({field:L})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Slug (Optional)"}),n.jsx(ir,{children:n.jsx(ne,{placeholder:"Enter URL-friendly slug",...L,disabled:r.create})}),n.jsx(Nr,{})]})}),n.jsxs(Hr,{children:[n.jsx(W,{type:"button",variant:"outline",onClick:P,disabled:r.create,children:"Cancel"}),n.jsxs(W,{type:"submit",disabled:r.create,className:"flex items-center space-x-2",children:[r.create&&n.jsx(at,{className:"h-4 w-4 animate-spin"}),n.jsx("span",{children:"Create Status"})]})]})]})})]})}),n.jsx(Ur,{open:f,onOpenChange:M,children:n.jsxs(Er,{className:"sm:max-w-[500px]",children:[n.jsxs(kr,{children:[n.jsx(Ar,{children:"Edit Status"}),n.jsx(as,{children:"Update the status details. Changes will be saved immediately."})]}),n.jsx(Co,{...w,children:n.jsxs("form",{onSubmit:w.handleSubmit(T),className:"space-y-4",children:[n.jsx(or,{control:w.control,name:"description",render:({field:L})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Description *"}),n.jsx(ir,{children:n.jsx(Ht,{placeholder:"Enter status description",rows:4,...L,disabled:r.update})}),n.jsx(Nr,{})]})}),n.jsx(or,{control:w.control,name:"slug",render:({field:L})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Slug (Optional)"}),n.jsx(ir,{children:n.jsx(ne,{placeholder:"Enter URL-friendly slug",...L,disabled:r.update})}),n.jsx(Nr,{})]})}),n.jsxs(Hr,{children:[n.jsx(W,{type:"button",variant:"outline",onClick:M,disabled:r.update,children:"Cancel"}),n.jsxs(W,{type:"submit",disabled:r.update,className:"flex items-center space-x-2",children:[r.update&&n.jsx(at,{className:"h-4 w-4 animate-spin"}),n.jsx("span",{children:"Update Status"})]})]})]})})]})}),n.jsx(No,{open:!!b,onOpenChange:R,children:n.jsxs(Fi,{children:[n.jsxs($i,{children:[n.jsx(Bi,{children:"Are you sure?"}),n.jsxs(zi,{children:["This action cannot be undone. This will permanently delete the status"," ",n.jsxs("span",{className:"font-semibold",children:['"',B?.description.substring(0,50),'..."']})," and all associated data."]})]}),n.jsxs(Li,{children:[n.jsx(Hi,{disabled:r.delete,children:"Cancel"}),n.jsxs(Ui,{onClick:D,disabled:r.delete,className:"bg-red-600 hover:bg-red-700 flex items-center space-x-2",children:[r.delete&&n.jsx(at,{className:"h-4 w-4 animate-spin"}),n.jsx("span",{children:"Delete Status"})]})]})]})})]})},tEt=()=>ct(),Ep=se,rpe=()=>{const e=tEt(),t=Ep(ACe),r=Ep(TCe),s=Ep(DCe),a=Ep(PCe),i=Ep(RCe),o=Ep(MCe),c=v.useCallback(E=>t.find(T=>T.id===E),[t]),d=v.useCallback(async()=>{try{console.log(" Hook: Fetching preferences");const E=await e(mN()),T=xa(E);return console.log(` Hook: Successfully fetched ${T.length} preferences`),T}catch(E){const T=E;throw console.error(" Hook: Failed to fetch preferences:",T),T}},[e]),u=v.useCallback(async E=>{try{console.log(` Hook: Fetching preference with ID: ${E}`);const T=await e(hN(E)),D=xa(T);return console.log(` Hook: Successfully fetched preference: ${D?.name}`),D}catch(T){const D=T;throw console.error(` Hook: Failed to fetch preference ${E}:`,D),D}},[e]),l=v.useCallback(async E=>{try{console.log(" Hook: Creating preference with data:",E);const T=await e(pN(E)),D=xa(T);return console.log(` Hook: Successfully created preference: ${D.name} (ID: ${D.id})`),D}catch(T){const D=T;throw console.error(" Hook: Failed to create preference:",D),D}},[e]),f=v.useCallback(async(E,T)=>{try{console.log(` Hook: Updating preference ${E} with data:`,T);const D=await e(gN({id:E,data:T})),P=xa(D);return console.log(` Hook: Successfully updated preference: ${P.name} (ID: ${P.id})`),P}catch(D){const P=D;throw console.error(` Hook: Failed to update preference ${E}:`,P),P}},[e]),m=v.useCallback(async E=>{try{console.log(` Hook: Deleting preference with ID: ${E}`);const T=await e(xN(E));xa(T),console.log(` Hook: Successfully deleted preference with ID: ${E}`)}catch(T){const D=T;throw console.error(` Hook: Failed to delete preference ${E}:`,D),D}},[e]),p=v.useCallback(E=>{console.log(" Hook: Setting selected preference:",E?.name||"null"),e(yCe(E))},[e]),x=v.useCallback(()=>{console.log(" Hook: Clearing selected preference"),e(bCe())},[e]),b=v.useCallback(()=>{console.log(" Hook: Opening create modal"),e(wCe())},[e]),h=v.useCallback(()=>{console.log(" Hook: Closing create modal"),e(jCe())},[e]),y=v.useCallback(()=>{console.log(" Hook: Opening edit modal"),e(SCe())},[e]),w=v.useCallback(()=>{console.log(" Hook: Closing edit modal"),e(NCe())},[e]),S=v.useCallback(E=>{console.log(` Hook: Setting deleting ID: ${E}`),e(CCe(E))},[e]),N=v.useCallback(()=>{console.log(" Hook: Clearing all errors"),e(_Ce())},[e]),_=v.useCallback(E=>{console.log(` Hook: Clearing ${E} error`),e(ECe(E))},[e]),k=v.useCallback(()=>{console.log(" Hook: Resetting preferences state"),e(kCe())},[e]);return v.useMemo(()=>({preferences:t,selectedPreference:r,loading:s,error:a,ui:i,isAnyLoading:o,fetchPreferences:d,fetchPreferenceById:u,createPreference:l,updatePreference:f,deletePreference:m,setSelectedPreference:p,clearSelectedPreference:x,getPreferenceById:c,openCreateModal:b,closeCreateModal:h,openEditModal:y,closeEditModal:w,setDeletingId:S,clearAllErrors:N,clearError:_,resetState:k}),[t,r,s,a,i,o,d,u,l,f,m,p,x,c,b,h,y,w,S,N,_,k])},rEt=Dt({name:et().min(1,"Preference name is required").max(255,"Name must be less than 255 characters"),slug:et().max(255,"Slug must be less than 255 characters").optional().or(jn(""))}),sEt=Dt({name:et().min(1,"Preference name is required").max(255,"Name must be less than 255 characters"),slug:et().max(255,"Slug must be less than 255 characters").optional().or(jn(""))}),spe=()=>{const{preferences:e,loading:t,error:r,ui:s,fetchPreferences:a,createPreference:i,updatePreference:o,deletePreference:c,openCreateModal:d,closeCreateModal:u,openEditModal:l,closeEditModal:f,setSelectedPreference:m,setDeletingId:p,clearError:x}=rpe(),[b,h]=v.useState(null),y=Vt(),w=Da({resolver:Qa(rEt),defaultValues:{name:"",slug:""}}),S=Da({resolver:Qa(sEt),defaultValues:{name:"",slug:""}});v.useEffect(()=>{N()},[]),v.useEffect(()=>{r.list&&(We.error("Error loading preferences",{description:r.list}),x("list"))},[r.list,x]),v.useEffect(()=>{r.create&&(We.error("Error creating preference",{description:r.create}),x("create"))},[r.create,x]),v.useEffect(()=>{r.update&&(We.error("Error updating preference",{description:r.update}),x("update"))},[r.update,x]),v.useEffect(()=>{r.delete&&(We.error("Error deleting preference",{description:r.delete}),x("delete"))},[r.delete,x]);const N=async()=>{try{await a(),We.success("Preferences refreshed",{description:"Preference list updated successfully."})}catch{}},_=()=>{w.reset(),d()},k=I=>{h(I),m(I),S.reset({name:I.name,slug:I.slug||""}),l()},E=I=>{y(`/preferences/${I.id}`)},T=I=>{p(I.id)},D=async I=>{try{const z={name:I.name,slug:I.slug||void 0};await i(z),We.success("Preference created",{description:`Preference "${I.name}" created successfully.`}),w.reset(),u()}catch{}},P=async I=>{if(b)try{const z={name:I.name,slug:I.slug||void 0};await o(b.id,z),We.success("Preference updated",{description:`Preference "${I.name}" updated successfully.`}),S.reset(),f(),h(null)}catch{}},M=async()=>{if(!s.deletingId)return;const I=e.find(z=>z.id===s.deletingId);try{await c(s.deletingId),We.success("Preference deleted",{description:`Preference "${I?.name||"Unknown"}" deleted successfully.`}),p(null)}catch{}},R=()=>{w.reset(),u()},B=()=>{S.reset(),f(),h(null)},L=()=>{p(null)},$=e.find(I=>I.id===s.deletingId);return n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsx(oe,{children:n.jsx(Re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Preferences"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage your organization's preferences"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:N,disabled:t.list,className:"flex items-center space-x-2",children:[n.jsx(Zr,{className:`h-4 w-4 ${t.list?"animate-spin":""}`}),n.jsx("span",{children:"Refresh"})]}),n.jsxs(W,{size:"sm",onClick:_,disabled:t.create,className:"flex items-center space-x-2",children:[n.jsx(Yt,{className:"h-4 w-4"}),n.jsx("span",{children:"Create Preference"})]})]})]})})}),n.jsx(oe,{children:n.jsx(je,{className:"p-0",children:t.list?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[n.jsx(at,{className:"h-5 w-5 animate-spin"}),n.jsx("span",{children:"Loading preferences..."})]})}):e.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx(Je,{className:"h-12 w-12 text-gray-400 mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No preferences found"}),n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Get started by creating your first preference."}),n.jsxs(W,{onClick:_,className:"flex items-center space-x-2",children:[n.jsx(Yt,{className:"h-4 w-4"}),n.jsx("span",{children:"Create Preference"})]})]}):n.jsxs(Xr,{children:[n.jsx(Jr,{children:n.jsxs(Nt,{children:[n.jsx(De,{className:"font-semibold",children:"Name"}),n.jsx(De,{className:"font-semibold",children:"Slug"}),n.jsx(De,{className:"font-semibold",children:"Created"}),n.jsx(De,{className:"font-semibold",children:"Updated"}),n.jsx(De,{className:"text-right font-semibold",children:"Actions"})]})}),n.jsx(Qr,{children:e.map(I=>n.jsxs(Nt,{className:"hover:bg-gray-50",children:[n.jsx(Ee,{className:"font-medium",children:I.name}),n.jsx(Ee,{className:"text-gray-600",children:I.slug||n.jsx("span",{className:"text-gray-400 italic",children:"No slug"})}),n.jsx(Ee,{className:"text-gray-600",children:new Date(I.created_at).toLocaleDateString()}),n.jsx(Ee,{className:"text-gray-600",children:new Date(I.updated_at).toLocaleDateString()}),n.jsx(Ee,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:()=>E(I),className:"flex items-center space-x-1",children:[n.jsx(ln,{className:"h-3 w-3"}),n.jsx("span",{children:"View"})]}),n.jsxs(W,{variant:"outline",size:"sm",onClick:()=>k(I),disabled:t.update,className:"flex items-center space-x-1",children:[n.jsx(Pa,{className:"h-3 w-3"}),n.jsx("span",{children:"Edit"})]}),n.jsxs(W,{variant:"outline",size:"sm",onClick:()=>T(I),disabled:t.delete,className:"flex items-center space-x-1 text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200",children:[n.jsx(kt,{className:"h-3 w-3"}),n.jsx("span",{children:"Delete"})]})]})})]},I.id))})]})})}),n.jsx(Ur,{open:s.isCreateModalOpen,onOpenChange:R,children:n.jsxs(Er,{className:"sm:max-w-[425px]",children:[n.jsxs(kr,{children:[n.jsx(Ar,{children:"Create New Preference"}),n.jsx(as,{children:"Add a new preference to your organization. The slug field is optional and will be used for URL-friendly identification."})]}),n.jsx(Co,{...w,children:n.jsxs("form",{onSubmit:w.handleSubmit(D),className:"space-y-4",children:[n.jsx(or,{control:w.control,name:"name",render:({field:I})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Preference Name *"}),n.jsx(ir,{children:n.jsx(ne,{placeholder:"Enter preference name",...I,disabled:t.create})}),n.jsx(Nr,{})]})}),n.jsx(or,{control:w.control,name:"slug",render:({field:I})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Slug (Optional)"}),n.jsx(ir,{children:n.jsx(ne,{placeholder:"Enter URL-friendly slug",...I,disabled:t.create})}),n.jsx(Nr,{})]})}),n.jsxs(Hr,{children:[n.jsx(W,{type:"button",variant:"outline",onClick:R,disabled:t.create,children:"Cancel"}),n.jsxs(W,{type:"submit",disabled:t.create,className:"flex items-center space-x-2",children:[t.create&&n.jsx(at,{className:"h-4 w-4 animate-spin"}),n.jsx("span",{children:"Create Preference"})]})]})]})})]})}),n.jsx(Ur,{open:s.isEditModalOpen,onOpenChange:B,children:n.jsxs(Er,{className:"sm:max-w-[425px]",children:[n.jsxs(kr,{children:[n.jsx(Ar,{children:"Edit Preference"}),n.jsx(as,{children:"Update the preference details. Changes will be saved immediately."})]}),n.jsx(Co,{...S,children:n.jsxs("form",{onSubmit:S.handleSubmit(P),className:"space-y-4",children:[n.jsx(or,{control:S.control,name:"name",render:({field:I})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Preference Name *"}),n.jsx(ir,{children:n.jsx(ne,{placeholder:"Enter preference name",...I,disabled:t.update})}),n.jsx(Nr,{})]})}),n.jsx(or,{control:S.control,name:"slug",render:({field:I})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Slug (Optional)"}),n.jsx(ir,{children:n.jsx(ne,{placeholder:"Enter URL-friendly slug",...I,disabled:t.update})}),n.jsx(Nr,{})]})}),n.jsxs(Hr,{children:[n.jsx(W,{type:"button",variant:"outline",onClick:B,disabled:t.update,children:"Cancel"}),n.jsxs(W,{type:"submit",disabled:t.update,className:"flex items-center space-x-2",children:[t.update&&n.jsx(at,{className:"h-4 w-4 animate-spin"}),n.jsx("span",{children:"Update Preference"})]})]})]})})]})}),n.jsx(No,{open:!!s.deletingId,onOpenChange:L,children:n.jsxs(Fi,{children:[n.jsxs($i,{children:[n.jsx(Bi,{children:"Are you sure?"}),n.jsxs(zi,{children:["This action cannot be undone. This will permanently delete the preference"," ",n.jsxs("span",{className:"font-semibold",children:['"',$?.name,'"']})," and all associated data."]})]}),n.jsxs(Li,{children:[n.jsx(Hi,{disabled:t.delete,children:"Cancel"}),n.jsxs(Ui,{onClick:M,disabled:t.delete,className:"bg-red-600 hover:bg-red-700 flex items-center space-x-2",children:[t.delete&&n.jsx(at,{className:"h-4 w-4 animate-spin"}),n.jsx("span",{children:"Delete Preference"})]})]})]})})]})},nEt=()=>{const e=[{id:"positions",label:"Positions",icon:n.jsx(GQ,{className:"h-4 w-4"}),component:n.jsx(q_t,{}),description:"Manage organizational positions and roles"},{id:"skills",label:"Skills",icon:n.jsx(ID,{className:"h-4 w-4"}),component:n.jsx(tpe,{}),description:"Manage organizational skills and related employee info"},{id:"statuses",label:"Statuses",icon:n.jsx(ID,{className:"h-4 w-4"}),component:n.jsx(eEt,{}),description:"Manage organizational statuses and their descriptions"},{id:"preferences",label:"Preferences",icon:n.jsx(ID,{className:"h-4 w-4"}),component:n.jsx(spe,{}),description:"Manage organizational preferences"}],[t,r]=v.useState("positions"),s=e.find(a=>a.id===t);return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"container mx-auto px-6 py-4",children:n.jsxs("div",{className:"flex flex-col space-y-2",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Management Dashboard"}),n.jsx("p",{className:"text-gray-600",children:s?.description||"Manage your organization settings and data"})]})})}),n.jsx("div",{className:"container mx-auto px-6 py-6",children:n.jsxs(Zl,{value:t,onValueChange:r,className:"w-full space-y-6",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-1",children:n.jsx(ll,{className:"grid w-full grid-cols-2 lg:grid-cols-4 gap-1 bg-transparent",children:e.map(a=>n.jsxs(xs,{value:a.id,className:"flex items-center space-x-2 px-4 py-3 text-sm font-medium rounded-md transition-all duration-200 data-[state=active]:bg-blue-50 data-[state=active]:text-blue-700 data-[state=active]:shadow-sm hover:bg-gray-50",children:[a.icon,n.jsx("span",{children:a.label})]},a.id))})}),e.map(a=>n.jsx(vs,{value:a.id,className:"space-y-6 mt-6",children:n.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:a.component})},a.id))]})}),n.jsx("div",{className:"fixed bottom-6 right-6 space-y-2"})]})},aEt=[n.jsx(At,{path:"/positions",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(nEt,{})})})})},"positions-management")],iEt=e=>!!e&&"emp_infos"in e&&Array.isArray(e.emp_infos),oEt=()=>{const{id:e}=Sn(),t=Vt(),[r,s]=v.useState(null),[a,i]=v.useState(!0),[o,c]=v.useState(null);v.useEffect(()=>{(async()=>{if(!e||isNaN(Number(e))){c("Invalid skill ID"),i(!1);return}try{i(!0),c(null);const f=await E7(Number(e));s(f)}catch(f){const p=f.message||"Failed to fetch skill details";c(p),We.error("Error loading skill",{description:p})}finally{i(!1)}})()},[e]);const d=()=>{t(-1)},u=()=>{e&&!isNaN(Number(e))&&(async()=>{try{i(!0),c(null);const f=await E7(Number(e));s(f)}catch(f){const p=f.message||"Failed to fetch skill details";c(p),We.error("Error loading skill",{description:p})}finally{i(!1)}})()};return a?n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsx(oe,{children:n.jsx(Re,{children:n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs(W,{variant:"outline",size:"sm",onClick:d,className:"flex items-center space-x-2",children:[n.jsx(vn,{className:"h-4 w-4"}),n.jsx("span",{children:"Back to Skills"})]})})})}),n.jsx(oe,{children:n.jsx(je,{className:"p-12",children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[n.jsx(at,{className:"h-6 w-6 animate-spin"}),n.jsx("span",{className:"text-lg",children:"Loading skill details..."})]})})})})]}):o?n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsx(oe,{children:n.jsx(Re,{children:n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs(W,{variant:"outline",size:"sm",onClick:d,className:"flex items-center space-x-2",children:[n.jsx(vn,{className:"h-4 w-4"}),n.jsx("span",{children:"Back to Skills"})]})})})}),n.jsx(oe,{children:n.jsx(je,{className:"p-12",children:n.jsxs("div",{className:"flex flex-col items-center justify-center text-center space-y-4",children:[n.jsx(Je,{className:"h-12 w-12 text-red-500"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Error Loading Skill"}),n.jsx("p",{className:"text-sm text-gray-500 max-w-md",children:o}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(W,{onClick:u,className:"flex items-center space-x-2",children:n.jsx("span",{children:"Try Again"})}),n.jsx(W,{variant:"outline",onClick:d,children:"Back to Skills"})]})]})})})]}):n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsx(oe,{children:n.jsx(Re,{children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:d,className:"flex items-center space-x-2",children:[n.jsx(vn,{className:"h-4 w-4"}),n.jsx("span",{children:"Back to Skills"})]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r?.name}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Skill Details"})]})]})})})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(oe,{children:[n.jsx(Re,{children:n.jsxs("h2",{className:"text-lg font-semibold flex items-center space-x-2",children:[n.jsx(cM,{className:"h-5 w-5"}),n.jsx("span",{children:"Basic Information"})]})}),n.jsxs(je,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"ID"}),n.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[n.jsx(Xm,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"text-gray-900",children:r?.id})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),n.jsx("p",{className:"text-gray-900 mt-1 font-medium",children:r?.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Slug"}),n.jsx("p",{className:"text-gray-900 mt-1",children:r?.slug||n.jsx("em",{className:"text-gray-400",children:"No slug assigned"})})]})]})]}),n.jsxs(oe,{children:[n.jsx(Re,{children:n.jsxs("h2",{className:"text-lg font-semibold flex items-center space-x-2",children:[n.jsx(bn,{className:"h-5 w-5"}),n.jsx("span",{children:"Timestamps"})]})}),n.jsxs(je,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Created At"}),n.jsx("p",{className:"text-gray-900 mt-1",children:r?new Date(r.created_at).toLocaleString():"-"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Last Updated"}),n.jsx("p",{className:"text-gray-900 mt-1",children:r?new Date(r.updated_at).toLocaleString():"-"})]})]})]})]}),n.jsxs(oe,{children:[n.jsx(Re,{children:n.jsxs("h2",{className:"text-lg font-semibold flex items-center space-x-2",children:[n.jsx(Xa,{className:"h-5 w-5"}),n.jsx("span",{children:"Associated Employees"})]})}),n.jsx(je,{children:iEt(r)&&r.emp_infos.length>0?n.jsxs("div",{className:"space-y-3",children:[n.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[r.emp_infos.length," employee",r.emp_infos.length!==1?"s":""," have this skill"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.emp_infos.map(l=>n.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-medium text-gray-900",children:l.full_name}),n.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:["Rating: ",l.pivot.rating]})]}),n.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[n.jsxs("p",{children:["Store: ",l.store_id]}),n.jsxs("p",{children:["Status: ",l.status]}),n.jsxs("p",{children:["Arabic Team: ",l.is_arabic_team?"Yes":"No"]})]})]})},l.id))})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Xa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No employees assigned"}),n.jsx("p",{className:"text-sm text-gray-500",children:"This skill has not been assigned to any employees yet."})]})})]})]})},lEt=[n.jsx(At,{path:"/skills",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(tpe,{})})})})},"skills-management"),n.jsx(At,{path:"/skills/:id",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(oEt,{})})})})},"skill-details")],cEt=()=>{const{id:e}=Sn(),t=Vt(),[r,s]=v.useState(null),[a,i]=v.useState(!0),[o,c]=v.useState(null);v.useEffect(()=>{(async()=>{if(!e||isNaN(Number(e))){c("Invalid preference ID"),i(!1);return}try{i(!0),c(null);const m=await vu.getPreferenceById(Number(e));s(m)}catch(m){const x=m.message||"Failed to fetch preference details";c(x),We.error("Error loading preference",{description:x})}finally{i(!1)}})()},[e]);const d=()=>{t(-1)},u=()=>{e&&!isNaN(Number(e))&&(async()=>{try{i(!0),c(null);const m=await vu.getPreferenceById(Number(e));s(m)}catch(m){const x=m.message||"Failed to fetch preference details";c(x),We.error("Error loading preference",{description:x})}finally{i(!1)}})()};if(a)return n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsx(oe,{children:n.jsx(Re,{children:n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs(W,{variant:"outline",size:"sm",onClick:d,className:"flex items-center space-x-2",children:[n.jsx(vn,{className:"h-4 w-4"}),n.jsx("span",{children:"Back to Preferences"})]})})})}),n.jsx(oe,{children:n.jsx(je,{className:"p-12",children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[n.jsx(at,{className:"h-6 w-6 animate-spin"}),n.jsx("span",{className:"text-lg",children:"Loading preference details..."})]})})})})]});if(o)return n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsx(oe,{children:n.jsx(Re,{children:n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs(W,{variant:"outline",size:"sm",onClick:d,className:"flex items-center space-x-2",children:[n.jsx(vn,{className:"h-4 w-4"}),n.jsx("span",{children:"Back to Preferences"})]})})})}),n.jsx(oe,{children:n.jsx(je,{className:"p-12",children:n.jsxs("div",{className:"flex flex-col items-center justify-center text-center space-y-4",children:[n.jsx(Je,{className:"h-12 w-12 text-red-500"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Error Loading Preference"}),n.jsx("p",{className:"text-sm text-gray-500 max-w-md",children:o}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(W,{onClick:u,className:"flex items-center space-x-2",children:n.jsx("span",{children:"Try Again"})}),n.jsx(W,{variant:"outline",onClick:d,children:"Back to Preferences"})]})]})})})]});const l=f=>f.length?n.jsx("ul",{className:"divide-y divide-gray-200",children:f.map(m=>n.jsxs("li",{className:"py-2 flex justify-between",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:m.employment_type})," - Max Hours: ",m.maximum_hours]}),n.jsxs("div",{className:"text-gray-500 text-sm",children:["Emp Info ID: ",m.emp_info_id]})]},m.id))}):n.jsx("p",{className:"text-gray-500",children:"No schedule preferences associated."});return n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsx(oe,{children:n.jsx(Re,{children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:d,className:"flex items-center space-x-2",children:[n.jsx(vn,{className:"h-4 w-4"}),n.jsx("span",{children:"Back to Preferences"})]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r?.name}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Preference Details"})]})]})})})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(oe,{children:[n.jsx(Re,{children:n.jsxs("h2",{className:"text-lg font-semibold flex items-center space-x-2",children:[n.jsx(cM,{className:"h-5 w-5"}),n.jsx("span",{children:"Basic Information"})]})}),n.jsxs(je,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"ID"}),n.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[n.jsx(Xm,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"text-gray-900",children:r?.id})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),n.jsx("p",{className:"text-gray-900 mt-1 font-medium",children:r?.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Slug"}),n.jsx("p",{className:"text-gray-900 mt-1",children:r?.slug||n.jsx("em",{className:"text-gray-400",children:"No slug assigned"})})]})]})]}),n.jsxs(oe,{children:[n.jsx(Re,{children:n.jsxs("h2",{className:"text-lg font-semibold flex items-center space-x-2",children:[n.jsx(bn,{className:"h-5 w-5"}),n.jsx("span",{children:"Timestamps"})]})}),n.jsxs(je,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Created At"}),n.jsx("p",{className:"text-gray-900 mt-1",children:r?new Date(r.created_at).toLocaleString():"-"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Last Updated"}),n.jsx("p",{className:"text-gray-900 mt-1",children:r?new Date(r.updated_at).toLocaleString():"-"})]})]})]})]}),n.jsxs(oe,{children:[n.jsx(Re,{children:n.jsxs("h2",{className:"text-lg font-semibold flex items-center space-x-2",children:[n.jsx(cM,{className:"h-5 w-5"}),n.jsx("span",{children:"Associated Schedule Preferences"})]})}),n.jsx(je,{children:r?.schedule_preferences&&r.schedule_preferences.length>0?l(r.schedule_preferences):n.jsx("p",{className:"text-center text-gray-500 py-6",children:"No schedule preferences assigned."})})]})]})},dEt=[n.jsx(At,{path:"/preferences",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(spe,{})})})})},"preferences-management"),n.jsx(At,{path:"/preferences/:id",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(cEt,{})})})})},"preference-details")],fh=()=>{const e=ct(),t=se(L=>QCe(L)),r=se(L=>e_e(L)),s=se(L=>t_e(L)),a=se(L=>r_e(L)),i=se(L=>s_e(L)),o=se(L=>n_e(L)),c=se(L=>a_e(L)),d=se(L=>i_e(L)),u=v.useCallback(async()=>{try{await e(vN()).unwrap()}catch(L){console.error("Failed to fetch all employees:",L)}},[e]),l=v.useCallback(async L=>{try{await e(yN(L)).unwrap()}catch($){console.error(`Failed to fetch employee ${L}:`,$)}},[e]),f=v.useCallback(async L=>{try{return await e(bN(L)).unwrap()}catch($){return console.error("Failed to create employee:",$),null}},[e]),m=v.useCallback(async(L,$)=>{try{return(await e(wN({id:L,data:$})).unwrap()).data}catch(I){return console.error(`Failed to update employee ${L}:`,I),null}},[e]),p=v.useCallback(async L=>{try{return e(XCe(L)),await e(jN(L)).unwrap(),!0}catch($){return console.error(`Failed to delete employee ${L}:`,$),!1}},[e]),x=v.useCallback(async(L,$)=>{try{await e(SN({storeId:L,options:$})).unwrap()}catch(I){console.error(`Failed to fetch employees for store ${L}:`,I)}},[e]),b=v.useCallback(async L=>{if(!i.currentStoreId){console.warn("Cannot change per page: no current store selected");return}e(D7({perPage:L,currentPage:1})),await x(i.currentStoreId,{page:1,per_page:L})},[e,i.currentStoreId,x]),h=v.useCallback(async L=>{if(!i.currentStoreId){console.warn("Cannot navigate to page: no current store selected");return}if(L<1||L>i.totalPages){console.warn(`Invalid page number: ${L}. Valid range: 1-${i.totalPages}`);return}e(D7({currentPage:L})),await x(i.currentStoreId,{page:L,per_page:i.perPage})},[e,i.currentStoreId,i.totalPages,i.perPage,x]),y=v.useCallback(async()=>{i.hasNextPage&&await h(i.currentPage+1)},[i.hasNextPage,i.currentPage,h]),w=v.useCallback(async()=>{i.hasPrevPage&&await h(i.currentPage-1)},[i.hasPrevPage,i.currentPage,h]),S=v.useCallback(async(L,$,I)=>{try{return await e(NN({employeeId:L,skillId:$,data:I})).unwrap(),await l(L),!0}catch(z){return console.error(`Failed to attach skill ${$} to employee ${L}:`,z),!1}},[e,l]),N=v.useCallback(async(L,$,I)=>{try{return await e(CN({employeeId:L,skillId:$,data:I})).unwrap(),!0}catch(z){return console.error(`Failed to update skill ${$} for employee ${L}:`,z),!1}},[e]),_=v.useCallback(async(L,$)=>{try{return await e(_N({employeeId:L,skillId:$})).unwrap(),!0}catch(I){return console.error(`Failed to detach skill ${$} from employee ${L}:`,I),!1}},[e]),k=v.useCallback(()=>{e(GCe())},[e]),E=v.useCallback(L=>{e(YCe(L))},[e]),T=v.useCallback(()=>{e(KCe())},[e]),D=v.useCallback(async()=>{i.currentStoreId?await x(i.currentStoreId,{page:i.currentPage,per_page:i.perPage}):await u()},[i.currentStoreId,i.currentPage,i.perPage,x,u]),P=v.useCallback(()=>{e(ZCe())},[e]);v.useEffect(()=>{P(),o.isStale&&t.length===0&&u()},[o.isStale,t.length,P,u]);const M=v.useMemo(()=>({...i,isFirstPage:i.currentPage===1,isLastPage:i.currentPage===i.totalPages,totalPagesArray:Array.from({length:i.totalPages},(L,$)=>$+1),startRecord:(i.currentPage-1)*i.perPage+1,endRecord:Math.min(i.currentPage*i.perPage,i.totalRecords)}),[i]),R=v.useMemo(()=>({...s,isAnyLoading:c,activeOperations:Object.entries(s).filter(([,L])=>L.isLoading).map(([L,$])=>({operation:L,description:$.operation}))}),[s,c]),B=v.useMemo(()=>({...a,hasAnyError:d,activeErrors:Object.entries(a).filter(([,L])=>L.hasError).map(([L,$])=>({operation:L,message:$.message,details:$.details}))}),[a,d]);return{employees:t,currentEmployee:r,loading:R,errors:B,pagination:M,actions:{fetchAllEmployees:u,fetchEmployeeById:l,createEmployee:f,updateEmployee:m,deleteEmployee:p,fetchEmployeesByStore:x,changePerPage:b,goToPage:h,nextPage:y,prevPage:w,attachSkill:S,updateSkill:N,detachSkill:_,clearCurrentEmployee:k,clearError:E,clearAllErrors:T,refreshEmployees:D}}},L$=({className:e,...t})=>n.jsx("nav",{role:"navigation","aria-label":"pagination",className:X("mx-auto flex w-full justify-center",e),...t});L$.displayName="Pagination";const B$=v.forwardRef(({className:e,...t},r)=>n.jsx("ul",{ref:r,className:X("flex flex-row items-center gap-1",e),...t}));B$.displayName="PaginationContent";const Uo=v.forwardRef(({className:e,...t},r)=>n.jsx("li",{ref:r,className:X("",e),...t}));Uo.displayName="PaginationItem";const bm=({className:e,isActive:t,size:r="icon",...s})=>n.jsx("a",{"aria-current":t?"page":void 0,className:X(xg({variant:t?"outline":"ghost",size:r}),e),...s});bm.displayName="PaginationLink";const z$=({className:e,...t})=>n.jsxs(bm,{"aria-label":"Go to previous page",size:"default",className:X("gap-1 pl-2.5",e),...t,children:[n.jsx(ad,{className:"h-4 w-4"}),n.jsx("span",{children:"Previous"})]});z$.displayName="PaginationPrevious";const U$=({className:e,...t})=>n.jsxs(bm,{"aria-label":"Go to next page",size:"default",className:X("gap-1 pr-2.5",e),...t,children:[n.jsx("span",{children:"Next"}),n.jsx(ko,{className:"h-4 w-4"})]});U$.displayName="PaginationNext";const uEt=({status:e})=>{const t=s=>{switch(s){case"Active":return"default";case"Suspension":return"secondary";case"Terminated":return"destructive";case"On Leave":return"outline";default:return"secondary"}},r=s=>{switch(s){case"Active":return"";case"Suspension":return"";case"Terminated":return"";case"On Leave":return"";default:return""}};return n.jsxs(Ae,{variant:t(e),className:"gap-1",children:[n.jsx("span",{className:"text-xs",children:r(e)}),e]})},fEt=({employee:e,onView:t,onEdit:r,onDelete:s})=>n.jsxs(Aw,{children:[n.jsx(Tw,{asChild:!0,children:n.jsxs(W,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[n.jsx(Nb,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Open actions menu"})]})}),n.jsxs(Ox,{align:"end",className:"w-48",children:[n.jsxs(Go,{onClick:()=>t(e),className:"cursor-pointer",children:[n.jsx(ln,{className:"mr-2 h-4 w-4"}),"View Details"]}),n.jsxs(Go,{onClick:()=>r(e),className:"cursor-pointer",children:[n.jsx(Pa,{className:"mr-2 h-4 w-4"}),"Edit Employee"]}),n.jsxs(Go,{onClick:()=>s(e),className:"cursor-pointer text-destructive focus:text-destructive",children:[n.jsx(kt,{className:"mr-2 h-4 w-4"}),"Delete Employee"]})]})]}),mEt=({employee:e,onView:t,onEdit:r,onDelete:s})=>{const a=v.useCallback(o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),[]),i=v.useCallback(o=>{const c=new Date,d=new Date(o);let u=c.getFullYear()-d.getFullYear();const l=c.getMonth()-d.getMonth();return(l<0||l===0&&c.getDate()<d.getDate())&&u--,u},[]);return n.jsxs(Nt,{className:"hover:bg-muted/50",children:[n.jsx(Ee,{className:"font-medium",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-semibold",children:e.full_name}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["ID: ",e.id]})]})}),n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zs,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",children:e.store.name}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",e.store.number]})]})]})}),n.jsx(Ee,{children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{children:a(e.date_of_birth)}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Age: ",i(e.date_of_birth)]})]})}),n.jsx(Ee,{children:n.jsx(uEt,{status:e.status})}),n.jsx(Ee,{children:n.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.has_family&&n.jsx(Ae,{variant:"outline",className:"text-xs",children:" Family"}),e.has_car&&n.jsx(Ae,{variant:"outline",className:"text-xs",children:" Car"}),e.is_arabic_team&&n.jsx(Ae,{variant:"outline",className:"text-xs",children:" Arabic"})]})}),n.jsx(Ee,{children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[n.jsx("span",{className:"font-medium",children:"Skills:"}),n.jsx("span",{className:"text-muted-foreground",children:e.skills.length})]}),e.employment_info&&n.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[n.jsx("span",{className:"font-medium",children:"Pay:"}),n.jsxs("span",{className:"text-muted-foreground",children:["$",e.employment_info.base_pay]})]})]})}),n.jsx(Ee,{children:n.jsx("span",{className:"text-sm text-muted-foreground",children:a(e.created_at)})}),n.jsx(Ee,{children:n.jsx(fEt,{employee:e,onView:t,onEdit:r,onDelete:s})})]})},hEt=()=>n.jsx(n.Fragment,{children:Array.from({length:5}).map((e,t)=>n.jsxs(Nt,{children:[n.jsx(Ee,{children:n.jsx(rt,{className:"h-12 w-full"})}),n.jsx(Ee,{children:n.jsx(rt,{className:"h-8 w-32"})}),n.jsx(Ee,{children:n.jsx(rt,{className:"h-8 w-24"})}),n.jsx(Ee,{children:n.jsx(rt,{className:"h-6 w-16"})}),n.jsx(Ee,{children:n.jsx(rt,{className:"h-8 w-20"})}),n.jsx(Ee,{children:n.jsx(rt,{className:"h-8 w-24"})}),n.jsx(Ee,{children:n.jsx(rt,{className:"h-6 w-20"})}),n.jsx(Ee,{children:n.jsx(rt,{className:"h-8 w-8"})})]},t))}),pEt=({currentPerPage:e,availableOptions:t,onChange:r,disabled:s=!1})=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Q,{htmlFor:"per-page",className:"text-sm font-medium",children:"Show:"}),n.jsxs(xt,{value:e.toString(),onValueChange:a=>r(Number(a)),disabled:s,children:[n.jsx(ft,{id:"per-page",className:"w-20",children:n.jsx(vt,{})}),n.jsx(mt,{children:t.map(a=>n.jsx(Ue,{value:a.toString(),children:a},a))})]})]}),gEt=({className:e})=>{const t=Vt(),[r,s]=v.useState(""),{stores:a,loading:i,error:o}=dl(!0,{per_page:100}),{employees:c,pagination:d,loading:u,errors:l,actions:f}=fh(),m=v.useMemo(()=>a.find($=>$.id===r),[a,r]),p=v.useMemo(()=>u.fetchByStore.isLoading,[u.fetchByStore.isLoading]),x=v.useMemo(()=>l.fetchByStore.hasError,[l.fetchByStore.hasError]),b=v.useMemo(()=>x?[]:r?p&&c.length===0?[]:d.currentStoreId!==r?[]:c.filter($=>$.store_id===r):[],[c,x,r,p,d.currentStoreId]),h=v.useMemo(()=>b.length>0,[b.length]),y=v.useMemo(()=>{const $=d.totalRecords>0?(d.currentPage-1)*d.perPage+1:0,I=d.totalRecords>0?Math.min(d.currentPage*d.perPage,d.totalRecords):0,z=Array.from({length:d.totalPages},(H,Z)=>Z+1);return{...d,startRecord:$,endRecord:I,totalPagesArray:z}},[d]);v.useEffect(()=>{r&&!p&&(f.clearAllErrors(),f.fetchEmployeesByStore(r,{page:1,per_page:d.perPage}))},[r]),v.useEffect(()=>{(x||!r&&c.length>0)&&console.log("Clearing employee display due to error or store change")},[x,r,c.length]);const w=v.useCallback($=>{s($),f.clearAllErrors()},[f]),S=v.useCallback(()=>{r?t(`/employees/create?storeId=${r}`):alert("Please select a store first")},[t,r]),N=v.useCallback($=>{t(`/employees/view/${$.id}`)},[t]),_=v.useCallback($=>{t(`/employees/edit/${$.id}`)},[t]),k=v.useCallback(async $=>{window.confirm(`Are you sure you want to delete ${$.full_name}?`)&&await f.deleteEmployee($.id)&&console.log("Employee deleted successfully")},[f]),E=v.useCallback($=>{r&&f.changePerPage($)},[f,r]),T=v.useCallback($=>{r&&f.goToPage($)},[f,r]),D=v.useCallback(()=>{r&&(f.clearAllErrors(),f.refreshEmployees())},[f,r]),P=v.useMemo(()=>n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx(Q,{htmlFor:"store-select",className:"text-sm font-medium",children:"Select Store"}),n.jsxs(xt,{value:r,onValueChange:w,disabled:i,children:[n.jsx(ft,{id:"store-select",className:"w-64",children:n.jsx(vt,{placeholder:"Choose a store..."})}),n.jsx(mt,{children:a.map($=>n.jsx(Ue,{value:$.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zs,{className:"h-4 w-4"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",children:$.name}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["ID: ",$.id]})]})]})},$.id))})]}),a.length>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.length," store",a.length!==1?"s":""," available"]})]}),[r,w,i,a]),M=v.useMemo(()=>n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Showing ",y.startRecord," to ",y.endRecord," of"," ",y.totalRecords," employees"]}),n.jsx(pEt,{currentPerPage:y.perPage,availableOptions:y.availablePerPageOptions,onChange:E,disabled:p})]}),[y,E,p]),R=v.useMemo(()=>y.totalPages<=1?null:n.jsx(L$,{children:n.jsxs(B$,{children:[n.jsx(Uo,{children:n.jsx(z$,{onClick:()=>T(y.currentPage-1),className:X(!y.hasPrevPage&&"pointer-events-none opacity-50")})}),y.totalPagesArray.map($=>n.jsx(Uo,{children:n.jsx(bm,{onClick:()=>T($),isActive:$===y.currentPage,children:$})},$)),n.jsx(Uo,{children:n.jsx(U$,{onClick:()=>T(y.currentPage+1),className:X(!y.hasNextPage&&"pointer-events-none opacity-50")})})]})}),[y,T]),B=v.useMemo(()=>n.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(cs,{className:"h-5 w-5 text-muted-foreground"}),n.jsx("h2",{className:"text-lg font-semibold",children:m?`${m.name} Employees`:"Store Employees"})]}),r&&n.jsxs(Ae,{variant:"outline",className:"gap-1",children:[n.jsx(zs,{className:"h-3 w-3"}),r]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:D,disabled:!r||p,children:[n.jsx(Zr,{className:X("h-4 w-4",p&&"animate-spin")}),"Refresh"]}),n.jsxs(W,{onClick:S,disabled:!r,className:"gap-2",children:[n.jsx(Yt,{className:"h-4 w-4"}),"Create Employee"]})]})]}),[m,r,D,p,S]),L=v.useMemo(()=>r?!h&&!p&&!x?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx(cs,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Employees Found"}),n.jsxs("p",{className:"text-muted-foreground mb-4 max-w-md",children:[m?.name," doesn't have any employees yet. Create the first employee to get started."]}),n.jsxs(W,{onClick:S,className:"gap-2",children:[n.jsx(Yt,{className:"h-4 w-4"}),"Create First Employee"]})]}):null:n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx(zs,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select a Store"}),n.jsx("p",{className:"text-muted-foreground mb-4 max-w-md",children:"Choose a store from the dropdown above to view and manage its employees."}),a.length===0&&!i&&n.jsx("p",{className:"text-sm text-muted-foreground",children:"No stores available. Please create a store first."})]}),[r,h,p,x,m?.name,S,a.length,i]);return n.jsxs("div",{className:X("space-y-6",e),children:[n.jsxs("div",{className:"flex flex-col gap-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Store Employees"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage employees across different store locations"})]})}),n.jsxs(oe,{children:[n.jsxs(Re,{children:[n.jsx(qe,{className:"text-lg",children:"Store Selection"}),n.jsx(Us,{children:"Select a store to view and manage its employees"})]}),n.jsx(je,{children:i?n.jsxs("div",{className:"space-y-2",children:[n.jsx(rt,{className:"h-4 w-24"}),n.jsx(rt,{className:"h-10 w-64"}),n.jsx(rt,{className:"h-3 w-32"})]}):o?n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:"Failed to load stores. Please refresh the page and try again."})]}):P})]})]}),r&&n.jsxs(oe,{children:[n.jsx(Re,{className:"pb-4",children:B}),n.jsxs(je,{children:[x&&n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsxs(Ge,{className:"mb-6 max-w-md",variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:l.fetchByStore.message||"Failed to load employees for this store"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("p",{className:"text-muted-foreground",children:["Unable to load employees for ",m?.name||"the selected store","."]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(W,{variant:"outline",onClick:D,disabled:p,children:[n.jsx(Zr,{className:X("h-4 w-4 mr-2",p&&"animate-spin")}),"Try Again"]}),n.jsx(W,{variant:"outline",onClick:()=>s(""),children:"Select Different Store"})]})]})]}),!x&&(L||n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"rounded-md border",children:n.jsxs(Xr,{children:[n.jsx(Jr,{children:n.jsxs(Nt,{children:[n.jsx(De,{children:"Employee"}),n.jsx(De,{children:"Store"}),n.jsx(De,{children:"Date of Birth"}),n.jsx(De,{children:"Status"}),n.jsx(De,{children:"Attributes"}),n.jsx(De,{children:"Details"}),n.jsx(De,{children:"Created"}),n.jsx(De,{className:"w-12",children:"Actions"})]})}),n.jsx(Qr,{children:p?n.jsx(hEt,{}):b.map($=>n.jsx(mEt,{employee:$,onView:N,onEdit:_,onDelete:k},$.id))})]})}),h&&!x&&n.jsxs("div",{className:"flex items-center justify-between pt-4",children:[M,R]})]}))]})]})]})},xEt=Dt({store_id:et().min(1,"Store selection is required"),full_name:et().min(2,"Name must be at least 2 characters").max(100,"Name must not exceed 100 characters").regex(/^[a-zA-Z\s'-]+$/,"Name can only contain letters, spaces, hyphens, and apostrophes"),date_of_birth:et().min(1,"Date of birth is required").refine(e=>{const t=new Date(e),r=new Date,s=r.getFullYear()-t.getFullYear(),a=r.getMonth()-t.getMonth();return a<0||a===0&&r.getDate()<t.getDate()?s-1>=16:s>=16},"Employee must be at least 16 years old").refine(e=>new Date(e)<=new Date,"Date of birth cannot be in the future"),has_family:Ps(),has_car:Ps(),is_arabic_team:Ps(),notes:et().optional(),status:hE(["Active","Suspension","Terminated","On Leave"])}),vEt=({value:e,onChange:t,disabled:r})=>{const s=i=>{switch(i){case"Active":return{icon:"",color:"text-green-600",description:"Employee is actively working"};case"Suspension":return{icon:"",color:"text-yellow-600",description:"Employee is temporarily suspended"};case"Terminated":return{icon:"",color:"text-red-600",description:"Employee is no longer with the company"};case"On Leave":return{icon:"",color:"text-orange-600",description:"Employee is on temporary leave"};default:return{icon:"",color:"text-gray-600",description:"Unknown status"}}},a=["Active","Suspension","Terminated","On Leave"];return n.jsxs(xt,{value:e,onValueChange:t,disabled:r,children:[n.jsx(ft,{children:n.jsx(vt,{children:e&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{children:s(e).icon}),n.jsx("span",{children:e})]})})}),n.jsx(mt,{children:a.map(i=>{const o=s(i);return n.jsx(Ue,{value:i,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{children:o.icon}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",children:i}),n.jsx("span",{className:"text-xs text-muted-foreground",children:o.description})]})]})},i)})})]})},yEt=({className:e})=>{const t=Vt(),[r]=HQ(),s=r.get("storeId"),[a,i]=v.useState(!1),[o,c]=v.useState(null),[d,u]=v.useState(!1),{stores:l,loading:f,error:m}=dl(!0,{per_page:100}),{actions:p}=fh(),x=Da({resolver:Qa(xEt),mode:"onChange",reValidateMode:"onChange",defaultValues:{store_id:s||"",full_name:"",date_of_birth:"",has_family:!1,has_car:!1,is_arabic_team:!1,notes:"",status:"Active"}}),b=v.useMemo(()=>{const k=x.watch("store_id");return l.find(E=>E.id===k)},[l,x.watch("store_id")]),h=v.useMemo(()=>{const k=x.formState,E=x.getValues(),T=E.store_id&&E.full_name&&E.date_of_birth&&E.status;return console.log("Form validation check:",{isValid:k.isValid,isDirty:k.isDirty,isSubmitting:a,hasRequiredFields:T,errors:k.errors,values:E}),k.isValid&&T&&!a},[x.formState,a,x]);v.useEffect(()=>{s&&l.length>0&&l.some(E=>E.id===s)&&x.setValue("store_id",s,{shouldValidate:!0,shouldDirty:!0,shouldTouch:!0})},[s,l,x]),v.useEffect(()=>{const k=x.watch(()=>{x.trigger(),o&&c(null),d&&u(!1)});return()=>k.unsubscribe()},[x,o,d]);const y=async k=>{try{i(!0),c(null),u(!1);const E={store_id:k.store_id,full_name:k.full_name.trim(),date_of_birth:k.date_of_birth,has_family:k.has_family,has_car:k.has_car,is_arabic_team:k.is_arabic_team,notes:k.notes?.trim()||void 0,status:k.status};if(console.log("Creating employee with data:",E),await p.createEmployee(E))u(!0),setTimeout(()=>{t("/employees",{replace:!0,state:{message:`Employee "${k.full_name}" created successfully`}})},1e3);else throw new Error("Failed to create employee")}catch(E){console.error("Error creating employee:",E),c(E?.message||"Failed to create employee. Please check your information and try again.")}finally{i(!1)}},w=()=>{t(s?`/employees/store?selected=${s}`:"/employees/store")},S=()=>{x.reset(),c(null),u(!1)},N=()=>n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(W,{variant:"ghost",size:"sm",onClick:w,className:"gap-2",children:[n.jsx(vn,{className:"h-4 w-4"}),"Back to Employees"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Create Employee"}),n.jsx("p",{className:"text-muted-foreground",children:"Add a new employee to the system"})]})]})}),_=()=>n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(W,{type:"button",variant:"outline",onClick:w,disabled:a,children:"Cancel"}),n.jsx(W,{type:"button",variant:"ghost",onClick:S,disabled:a,children:"Reset Form"}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Valid: ",String(x.formState.isValid)," | Errors: ",Object.keys(x.formState.errors).length," | Submitting: ",String(a)]}),n.jsx(W,{type:"submit",disabled:!h,className:"gap-2",children:a?n.jsxs(n.Fragment,{children:[n.jsx(at,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(kE,{className:"h-4 w-4"}),"Create Employee ",!h&&"(Form Invalid)"]})})]});return f?n.jsxs("div",{className:X("space-y-6",e),children:[N(),n.jsxs(oe,{children:[n.jsxs(Re,{children:[n.jsx(rt,{className:"h-6 w-48"}),n.jsx(rt,{className:"h-4 w-64"})]}),n.jsx(je,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(rt,{className:"h-10 w-full"}),n.jsx(rt,{className:"h-10 w-full"}),n.jsx(rt,{className:"h-20 w-full"})]})})]})]}):m?n.jsxs("div",{className:X("space-y-6",e),children:[N(),n.jsx(oe,{children:n.jsx(je,{className:"pt-6",children:n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:"Failed to load stores. Please refresh the page and try again."})]})})})]}):l.length===0?n.jsxs("div",{className:X("space-y-6",e),children:[N(),n.jsx(oe,{children:n.jsx(je,{className:"pt-6",children:n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx(zs,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Stores Available"}),n.jsx("p",{className:"text-muted-foreground mb-4 max-w-md",children:"You need to create at least one store before adding employees."}),n.jsxs(W,{onClick:()=>t("/stores/create"),className:"gap-2",children:[n.jsx(zs,{className:"h-4 w-4"}),"Create Store"]})]})})})]}):n.jsxs("div",{className:X("space-y-6",e),children:[N(),d&&n.jsxs(Ge,{className:"border-green-200 bg-green-50 text-green-800",children:[n.jsx(bs,{className:"h-4 w-4"}),n.jsx(Ye,{children:"Employee created successfully! Redirecting to employees list..."})]}),o&&n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:o})]}),n.jsx(Co,{...x,children:n.jsxs("form",{onSubmit:x.handleSubmit(y),className:"space-y-8",children:[n.jsxs(oe,{children:[n.jsxs(Re,{children:[n.jsxs(qe,{className:"flex items-center gap-2",children:[n.jsx(Xa,{className:"h-5 w-5"}),"Basic Information"]}),n.jsx(Us,{children:"Enter the employee's personal and contact information"})]}),n.jsxs(je,{className:"space-y-6",children:[n.jsx(or,{control:x.control,name:"store_id",render:({field:k})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Store Assignment"}),n.jsxs(xt,{value:k.value,onValueChange:k.onChange,disabled:a,children:[n.jsx(ir,{children:n.jsx(ft,{children:n.jsx(vt,{placeholder:"Select a store..."})})}),n.jsx(mt,{children:l.map(E=>n.jsx(Ue,{value:E.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zs,{className:"h-4 w-4"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",children:E.name}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["ID: ",E.id]})]})]})},E.id))})]}),n.jsx(ia,{children:"Choose which store this employee will be assigned to"}),n.jsx(Nr,{})]})}),b&&n.jsxs("div",{className:"rounded-lg bg-muted/50 p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(zs,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm font-medium",children:"Selected Store"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-semibold",children:b.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Store ID: ",b.id]}),b.metadata?.address&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",b.metadata.address]})]})]}),n.jsx(Hs,{}),n.jsx(or,{control:x.control,name:"full_name",render:({field:k})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Full Name"}),n.jsx(ir,{children:n.jsx(ne,{...k,placeholder:"Enter employee's full name",disabled:a})}),n.jsx(ia,{children:"Enter the employee's complete name (first and last name)"}),n.jsx(Nr,{})]})}),n.jsx(or,{control:x.control,name:"date_of_birth",render:({field:k})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Date of Birth"}),n.jsx(ir,{children:n.jsx(ne,{...k,type:"date",disabled:a,max:new Date().toISOString().split("T")[0]})}),n.jsx(ia,{children:"Employee must be at least 16 years old"}),n.jsx(Nr,{})]})}),n.jsx(or,{control:x.control,name:"status",render:({field:k})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Employment Status"}),n.jsx(ir,{children:n.jsx(vEt,{value:k.value,onChange:k.onChange,disabled:a})}),n.jsx(ia,{children:"Set the initial employment status for this employee"}),n.jsx(Nr,{})]})})]})]}),n.jsxs(oe,{children:[n.jsxs(Re,{children:[n.jsxs(qe,{className:"flex items-center gap-2",children:[n.jsx(cs,{className:"h-5 w-5"}),"Employee Attributes"]}),n.jsx(Us,{children:"Additional information about the employee's circumstances and capabilities"})]}),n.jsxs(je,{className:"space-y-6",children:[n.jsx(or,{control:x.control,name:"has_family",render:({field:k})=>n.jsxs(nr,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(ar,{className:"text-base flex items-center gap-2",children:" Has Family"}),n.jsx(ia,{children:"Employee has family responsibilities that may affect scheduling"})]}),n.jsx(ir,{children:n.jsx(ys,{checked:k.value,onCheckedChange:k.onChange,disabled:a})})]})}),n.jsx(or,{control:x.control,name:"has_car",render:({field:k})=>n.jsxs(nr,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsxs(ar,{className:"text-base flex items-center gap-2",children:[n.jsx(l3,{className:"h-4 w-4"}),"Has Car"]}),n.jsx(ia,{children:"Employee has reliable transportation"})]}),n.jsx(ir,{children:n.jsx(ys,{checked:k.value,onCheckedChange:k.onChange,disabled:a})})]})}),n.jsx(or,{control:x.control,name:"is_arabic_team",render:({field:k})=>n.jsxs(nr,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(ar,{className:"text-base flex items-center gap-2",children:" Arabic Team"}),n.jsx(ia,{children:"Employee can serve Arabic-speaking customers"})]}),n.jsx(ir,{children:n.jsx(ys,{checked:k.value,onCheckedChange:k.onChange,disabled:a})})]})})]})]}),n.jsxs(oe,{children:[n.jsxs(Re,{children:[n.jsxs(qe,{className:"flex items-center gap-2",children:[n.jsx(m3,{className:"h-5 w-5"}),"Additional Notes"]}),n.jsx(Us,{children:"Any additional information about the employee (optional)"})]}),n.jsx(je,{children:n.jsx(or,{control:x.control,name:"notes",render:({field:k})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Notes"}),n.jsx(ir,{children:n.jsx(Ht,{...k,placeholder:"Enter any additional notes about the employee...",className:"min-h-[100px]",disabled:a})}),n.jsx(ia,{children:"Optional notes about skills, preferences, or other relevant information"}),n.jsx(Nr,{})]})})})]}),n.jsx(oe,{children:n.jsx(je,{className:"pt-6",children:n.jsx("div",{className:"flex justify-end",children:_()})})})]})})]})},bEt=Dt({store_id:et().min(1,"Store selection is required"),full_name:et().min(2,"Name must be at least 2 characters").max(100,"Name must not exceed 100 characters").regex(/^[a-zA-Z\s'-]+$/,"Name can only contain letters, spaces, hyphens, and apostrophes"),date_of_birth:et().min(1,"Date of birth is required").refine(e=>{const t=new Date(e),r=new Date,s=r.getFullYear()-t.getFullYear(),a=r.getMonth()-t.getMonth();return a<0||a===0&&r.getDate()<t.getDate()?s-1>=16:s>=16},"Employee must be at least 16 years old").refine(e=>new Date(e)<=new Date,"Date of birth cannot be in the future"),has_family:Ps(),has_car:Ps(),is_arabic_team:Ps(),notes:et().optional(),status:hE(["Active","Suspension","Terminated","On Leave"])}),wEt=({value:e,onChange:t,disabled:r})=>{const s=i=>{switch(i){case"Active":return{icon:"",color:"text-green-600",description:"Employee is actively working"};case"Suspension":return{icon:"",color:"text-yellow-600",description:"Employee is temporarily suspended"};case"Terminated":return{icon:"",color:"text-red-600",description:"Employee is no longer with the company"};case"On Leave":return{icon:"",color:"text-orange-600",description:"Employee is on temporary leave"};default:return{icon:"",color:"text-gray-600",description:"Unknown status"}}},a=["Active","Suspension","Terminated","On Leave"];return n.jsxs(xt,{value:e,onValueChange:t,disabled:r,children:[n.jsx(ft,{children:n.jsx(vt,{children:e&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{children:s(e).icon}),n.jsx("span",{children:e})]})})}),n.jsx(mt,{children:a.map(i=>{const o=s(i);return n.jsx(Ue,{value:i,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{children:o.icon}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",children:i}),n.jsx("span",{className:"text-xs text-muted-foreground",children:o.description})]})]})},i)})})]})},jEt=({employee:e})=>{const t=v.useCallback(s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),[]),r=v.useCallback(s=>{const a=new Date,i=new Date(s);let o=a.getFullYear()-i.getFullYear();const c=a.getMonth()-i.getMonth();return(c<0||c===0&&a.getDate()<i.getDate())&&o--,o},[]);return n.jsxs("div",{className:"rounded-lg bg-muted/50 p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(Xa,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm font-medium",children:"Current Employee Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Employee ID:"}),n.jsx("span",{className:"ml-2 text-muted-foreground",children:e.id})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Current Age:"}),n.jsxs("span",{className:"ml-2 text-muted-foreground",children:[r(e.date_of_birth)," years old"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Skills:"}),n.jsxs("span",{className:"ml-2 text-muted-foreground",children:[e.skills.length," skill(s)"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Created:"}),n.jsx("span",{className:"ml-2 text-muted-foreground",children:t(e.created_at)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Last Updated:"}),n.jsx("span",{className:"ml-2 text-muted-foreground",children:t(e.updated_at)})]}),e.employment_info&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Base Pay:"}),n.jsxs("span",{className:"ml-2 text-muted-foreground",children:["$",e.employment_info.base_pay]})]})]})]})},SEt=({className:e})=>{const t=Vt(),{id:r}=Sn(),s=r?parseInt(r,10):null,[a,i]=v.useState(!1),[o,c]=v.useState(null),[d,u]=v.useState(!1),[l,f]=v.useState(!1),[m,p]=v.useState(!1),{stores:x,loading:b,error:h}=dl(!0,{per_page:100}),{currentEmployee:y,loading:w,errors:S,actions:N}=fh(),_=Da({resolver:Qa(bEt),mode:"onChange",reValidateMode:"onChange",defaultValues:{store_id:"",full_name:"",date_of_birth:"",has_family:!1,has_car:!1,is_arabic_team:!1,notes:"",status:"Active"}}),k=v.useCallback(()=>{s&&!m&&!w.fetchById.isLoading&&(console.log("Initiating employee fetch for ID:",s),p(!0),N.fetchEmployeeById(s))},[s,m,w.fetchById.isLoading,N]),E=v.useMemo(()=>{const z=_.watch("store_id");return x.find(H=>H.id===z)},[x,_.watch("store_id")]),T=v.useMemo(()=>{const z=_.formState,H=_.getValues(),Z=H.store_id&&H.full_name&&H.date_of_birth&&H.status;return z.isValid&&Z&&l&&!a},[_.formState,l,a,_]),D=v.useMemo(()=>_.formState.isDirty&&l,[_.formState.isDirty,l]),P=v.useMemo(()=>y!==null&&y.id===s,[y,s]);v.useEffect(()=>{k()},[s]),v.useEffect(()=>{if(P&&y&&!l){console.log("Populating form with employee data:",y);const z={store_id:y.store_id,full_name:y.full_name,date_of_birth:y.date_of_birth,has_family:y.has_family,has_car:y.has_car,is_arabic_team:y.is_arabic_team,notes:y.notes||"",status:y.status};_.reset(z),f(!0),console.log("Form populated and data loaded set to true")}},[P,y,l,_]),v.useEffect(()=>{const z=_.watch(()=>{o&&c(null),d&&u(!1)});return()=>z.unsubscribe()},[_,o,d]),v.useEffect(()=>{f(!1),p(!1),c(null),u(!1)},[s]);const M=async z=>{if(s)try{i(!0),c(null),u(!1);const H={store_id:z.store_id,full_name:z.full_name.trim(),date_of_birth:z.date_of_birth,has_family:z.has_family,has_car:z.has_car,is_arabic_team:z.is_arabic_team,notes:z.notes?.trim()||void 0,status:z.status};if(console.log("Updating employee with data:",H),await N.updateEmployee(s,H))u(!0),setTimeout(()=>{t("/employees",{replace:!0,state:{message:`Employee "${z.full_name}" updated successfully`}})},1500);else throw new Error("Failed to update employee")}catch(H){console.error("Error updating employee:",H),c(H?.message||"Failed to update employee. Please check your information and try again.")}finally{i(!1)}},R=v.useCallback(()=>{t("/employees")},[t,s]),B=v.useCallback(()=>{if(y){const z={store_id:y.store_id,full_name:y.full_name,date_of_birth:y.date_of_birth,has_family:y.has_family,has_car:y.has_car,is_arabic_team:y.is_arabic_team,notes:y.notes||"",status:y.status};_.reset(z)}c(null),u(!1)},[y,_]),L=v.useCallback(()=>{s&&t(`/employees/${s}`)},[t,s]),$=()=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(W,{variant:"ghost",size:"sm",onClick:R,className:"gap-2",children:[n.jsx(vn,{className:"h-4 w-4"}),"Back"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Edit Employee"}),n.jsx("p",{className:"text-muted-foreground",children:P&&y?`Editing: ${y.full_name}`:"Update employee information"})]})]}),n.jsx("div",{className:"flex items-center gap-2",children:P&&y&&n.jsxs(W,{variant:"outline",size:"sm",onClick:L,className:"gap-2",children:[n.jsx(ln,{className:"h-4 w-4"}),"View Details"]})})]}),I=()=>n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(W,{type:"button",variant:"outline",onClick:R,disabled:a,children:"Cancel"}),n.jsx(W,{type:"button",variant:"ghost",onClick:B,disabled:a||!D,children:"Reset Changes"}),n.jsx(W,{type:"submit",disabled:!T||!D,className:"gap-2",children:a?n.jsxs(n.Fragment,{children:[n.jsx(at,{className:"h-4 w-4 animate-spin"}),"Updating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(kE,{className:"h-4 w-4"}),"Update Employee"]})})]});return s?w.fetchById.isLoading||b||!l?n.jsxs("div",{className:X("space-y-6",e),children:[$(),n.jsxs(oe,{children:[n.jsxs(Re,{children:[n.jsx(rt,{className:"h-6 w-48"}),n.jsx(rt,{className:"h-4 w-64"})]}),n.jsx(je,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(rt,{className:"h-20 w-full"}),n.jsx(rt,{className:"h-10 w-full"}),n.jsx(rt,{className:"h-10 w-full"}),n.jsx(rt,{className:"h-20 w-full"})]})})]})]}):S.fetchById.hasError?n.jsxs("div",{className:X("space-y-6",e),children:[$(),n.jsx(oe,{children:n.jsx(je,{className:"pt-6",children:n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:S.fetchById.message||"Failed to load employee data. Please try again."})]})})})]}):!P||!y?n.jsxs("div",{className:X("space-y-6",e),children:[$(),n.jsx(oe,{children:n.jsx(je,{className:"pt-6",children:n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:"Employee not found. The employee may have been deleted or you may not have permission to view it."})]})})})]}):h?n.jsxs("div",{className:X("space-y-6",e),children:[$(),n.jsx(oe,{children:n.jsx(je,{className:"pt-6",children:n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:"Failed to load stores. Please refresh the page and try again."})]})})})]}):n.jsxs("div",{className:X("space-y-6",e),children:[$(),d&&n.jsxs(Ge,{className:"border-green-200 bg-green-50 text-green-800",children:[n.jsx(bs,{className:"h-4 w-4"}),n.jsx(Ye,{children:"Employee updated successfully! Redirecting to employee details..."})]}),o&&n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:o})]}),D&&!d&&n.jsxs(Ge,{children:[n.jsx(po,{className:"h-4 w-4"}),n.jsx(Ye,{children:"You have unsaved changes. Don't forget to update the employee before leaving this page."})]}),n.jsxs(oe,{children:[n.jsxs(Re,{children:[n.jsx(qe,{className:"text-lg",children:"Current Employee Information"}),n.jsx(Us,{children:"Review the current employee details before making changes"})]}),n.jsx(je,{children:n.jsx(jEt,{employee:y})})]}),n.jsx(Co,{..._,children:n.jsxs("form",{onSubmit:_.handleSubmit(M),className:"space-y-8",children:[n.jsxs(oe,{children:[n.jsxs(Re,{children:[n.jsxs(qe,{className:"flex items-center gap-2",children:[n.jsx(Xa,{className:"h-5 w-5"}),"Basic Information"]}),n.jsx(Us,{children:"Update the employee's personal and contact information"})]}),n.jsxs(je,{className:"space-y-6",children:[n.jsx(or,{control:_.control,name:"store_id",render:({field:z})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Store Assignment"}),n.jsxs(xt,{value:z.value,onValueChange:z.onChange,disabled:a,children:[n.jsx(ir,{children:n.jsx(ft,{children:n.jsx(vt,{placeholder:"Select a store..."})})}),n.jsx(mt,{children:x.map(H=>n.jsx(Ue,{value:H.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zs,{className:"h-4 w-4"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",children:H.name}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["ID: ",H.id]})]})]})},H.id))})]}),n.jsx(ia,{children:"Choose which store this employee is assigned to"}),n.jsx(Nr,{})]})}),E&&n.jsxs("div",{className:"rounded-lg bg-muted/50 p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(zs,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm font-medium",children:"Selected Store"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-semibold",children:E.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Store ID: ",E.id]}),E.metadata?.address&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",E.metadata.address]})]})]}),n.jsx(Hs,{}),n.jsx(or,{control:_.control,name:"full_name",render:({field:z})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Full Name"}),n.jsx(ir,{children:n.jsx(ne,{...z,placeholder:"Enter employee's full name",disabled:a})}),n.jsx(ia,{children:"Update the employee's complete name (first and last name)"}),n.jsx(Nr,{})]})}),n.jsx(or,{control:_.control,name:"date_of_birth",render:({field:z})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Date of Birth"}),n.jsx(ir,{children:n.jsx(ne,{...z,type:"date",disabled:a,max:new Date().toISOString().split("T")[0]})}),n.jsx(ia,{children:"Employee must be at least 16 years old"}),n.jsx(Nr,{})]})}),n.jsx(or,{control:_.control,name:"status",render:({field:z})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Employment Status"}),n.jsx(ir,{children:n.jsx(wEt,{value:z.value,onChange:z.onChange,disabled:a})}),n.jsx(ia,{children:"Update the employment status for this employee"}),n.jsx(Nr,{})]})})]})]}),n.jsxs(oe,{children:[n.jsxs(Re,{children:[n.jsxs(qe,{className:"flex items-center gap-2",children:[n.jsx(cs,{className:"h-5 w-5"}),"Employee Attributes"]}),n.jsx(Us,{children:"Update additional information about the employee's circumstances and capabilities"})]}),n.jsxs(je,{className:"space-y-6",children:[n.jsx(or,{control:_.control,name:"has_family",render:({field:z})=>n.jsxs(nr,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(ar,{className:"text-base flex items-center gap-2",children:" Has Family"}),n.jsx(ia,{children:"Employee has family responsibilities that may affect scheduling"})]}),n.jsx(ir,{children:n.jsx(ys,{checked:z.value,onCheckedChange:z.onChange,disabled:a})})]})}),n.jsx(or,{control:_.control,name:"has_car",render:({field:z})=>n.jsxs(nr,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsxs(ar,{className:"text-base flex items-center gap-2",children:[n.jsx(l3,{className:"h-4 w-4"}),"Has Car"]}),n.jsx(ia,{children:"Employee has reliable transportation"})]}),n.jsx(ir,{children:n.jsx(ys,{checked:z.value,onCheckedChange:z.onChange,disabled:a})})]})}),n.jsx(or,{control:_.control,name:"is_arabic_team",render:({field:z})=>n.jsxs(nr,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(ar,{className:"text-base flex items-center gap-2",children:" Arabic Team"}),n.jsx(ia,{children:"Employee can serve Arabic-speaking customers"})]}),n.jsx(ir,{children:n.jsx(ys,{checked:z.value,onCheckedChange:z.onChange,disabled:a})})]})})]})]}),n.jsxs(oe,{children:[n.jsxs(Re,{children:[n.jsxs(qe,{className:"flex items-center gap-2",children:[n.jsx(m3,{className:"h-5 w-5"}),"Additional Notes"]}),n.jsx(Us,{children:"Update additional information about the employee (optional)"})]}),n.jsx(je,{children:n.jsx(or,{control:_.control,name:"notes",render:({field:z})=>n.jsxs(nr,{children:[n.jsx(ar,{children:"Notes"}),n.jsx(ir,{children:n.jsx(Ht,{...z,placeholder:"Enter any additional notes about the employee...",className:"min-h-[100px]",disabled:a})}),n.jsx(ia,{children:"Optional notes about skills, preferences, or other relevant information"}),n.jsx(Nr,{})]})})})]}),n.jsx(oe,{children:n.jsx(je,{className:"pt-6",children:n.jsx("div",{className:"flex justify-end",children:I()})})})]})})]}):n.jsxs("div",{className:X("space-y-6",e),children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>t("/employees/store"),className:"gap-2",children:[n.jsx(vn,{className:"h-4 w-4"}),"Back to Employees"]})}),n.jsx(oe,{children:n.jsx(je,{className:"pt-6",children:n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:"Invalid employee ID. Please select a valid employee to edit."})]})})})]})},NEt=({status:e})=>{const t=s=>{switch(s){case"Active":return"default";case"Suspension":return"secondary";case"Terminated":return"destructive";case"On Leave":return"outline";default:return"secondary"}},r=s=>{switch(s){case"Active":return"";case"Suspension":return"";case"Terminated":return"";case"On Leave":return"";default:return""}};return n.jsxs(Ae,{variant:t(e),className:"gap-1",children:[n.jsx("span",{className:"text-xs",children:r(e)}),e]})},eI=({rating:e,size:t="sm"})=>{const r=i=>{switch(i){case"A+":return"bg-green-600 text-white";case"A":return"bg-green-500 text-white";case"B":return"bg-blue-500 text-white";case"C":return"bg-yellow-500 text-white";case"D":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},s=i=>{switch(i){case"A+":return"Exceptional";case"A":return"Excellent";case"B":return"Good";case"C":return"Satisfactory";case"D":return"Needs Improvement";default:return"Unknown"}},a={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1.5",lg:"text-base px-4 py-2"};return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ae,{className:X(r(e),a[t],"font-mono font-bold"),children:e}),n.jsx("span",{className:"text-xs text-muted-foreground",children:s(e)})]})},CEt=({employee:e,onEdit:t})=>{const r=v.useCallback(a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),[]),s=v.useCallback(a=>{const i=new Date,o=new Date(a);let c=i.getFullYear()-o.getFullYear();const d=i.getMonth()-o.getMonth();return(d<0||d===0&&i.getDate()<o.getDate())&&c--,c},[]);return n.jsxs(oe,{children:[n.jsx(Re,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:n.jsx(Xa,{className:"h-6 w-6 text-muted-foreground"})}),n.jsxs("div",{children:[n.jsx(qe,{className:"text-xl",children:e.full_name}),n.jsxs(Us,{children:["Employee ID: ",e.id]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(NEt,{status:e.status}),n.jsxs(W,{onClick:t,size:"sm",className:"gap-2",children:[n.jsx(Pa,{className:"h-4 w-4"}),"Edit Employee"]})]})]})}),n.jsxs(je,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[n.jsx(bn,{className:"h-4 w-4 text-muted-foreground"}),"Date of Birth"]}),n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{children:r(e.date_of_birth)}),n.jsxs("div",{className:"text-muted-foreground",children:["Age: ",s(e.date_of_birth)," years old"]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[n.jsx(zs,{className:"h-4 w-4 text-muted-foreground"}),"Store Assignment"]}),n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:"font-medium",children:e.store.name}),n.jsxs("div",{className:"text-muted-foreground",children:["Store #",e.store.number,"  ID: ",e.store_id]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[n.jsx(po,{className:"h-4 w-4 text-muted-foreground"}),"Employment Info"]}),n.jsxs("div",{className:"text-sm",children:[n.jsxs("div",{children:["Created: ",r(e.created_at)]}),n.jsxs("div",{className:"text-muted-foreground",children:["Updated: ",r(e.updated_at)]})]})]})]}),n.jsx(Hs,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(cs,{className:"h-4 w-4"}),"Employee Attributes"]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.has_family&&n.jsx(Ae,{variant:"outline",className:"gap-1",children:" Has Family"}),e.has_car&&n.jsxs(Ae,{variant:"outline",className:"gap-1",children:[n.jsx(l3,{className:"h-3 w-3"}),"Has Car"]}),e.is_arabic_team&&n.jsx(Ae,{variant:"outline",className:"gap-1",children:" Arabic Team"}),!e.has_family&&!e.has_car&&!e.is_arabic_team&&n.jsx("span",{className:"text-sm text-muted-foreground",children:"No special attributes"})]})]}),e.employment_info&&n.jsxs(n.Fragment,{children:[n.jsx(Hs,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Ac,{className:"h-4 w-4"}),"Employment Details"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2 font-medium text-muted-foreground",children:[n.jsx(lu,{className:"h-3 w-3"}),"Compensation"]}),n.jsxs("div",{children:["Base Pay:"," ",n.jsxs("span",{className:"font-medium",children:["$",e.employment_info.base_pay]})]}),n.jsxs("div",{children:["Performance Pay:"," ",n.jsxs("span",{className:"font-medium",children:["$",e.employment_info.performance_pay]})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2 font-medium text-muted-foreground",children:[n.jsx(Ac,{className:"h-3 w-3"}),"Employment Type"]}),n.jsx("div",{children:n.jsx(Ae,{variant:"outline",children:e.employment_info.employment_type})}),e.employment_info.hired_date&&n.jsxs("div",{className:"text-muted-foreground",children:["Hired: ",r(e.employment_info.hired_date)]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2 font-medium text-muted-foreground",children:[n.jsx(Xm,{className:"h-3 w-3"}),"Additional Info"]}),e.employment_info.paychex_ids?.length>0&&n.jsxs("div",{children:["Paychex IDs:"," ",n.jsx("span",{className:"font-medium",children:e.employment_info.paychex_ids.join(", ")})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(TLe,{className:"h-3 w-3"}),n.jsxs("span",{children:["Uniform:"," ",e.employment_info.has_uniform?"Yes":"No"]})]})]})]})]})]}),e.schedule_preferences&&e.schedule_preferences.length>0&&n.jsxs(n.Fragment,{children:[n.jsx(Hs,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(MFe,{className:"h-4 w-4"}),"Schedule Preferences"]}),n.jsx("div",{className:"space-y-3",children:e.schedule_preferences.map(a=>n.jsxs("div",{className:"rounded-lg border p-3 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Maximum Hours:"}),n.jsxs("span",{className:"ml-2",children:[a.maximum_hours,"h"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Employment Type:"}),n.jsx(Ae,{variant:"outline",className:"ml-2",children:a.employment_type})]})]}),a.preference_id&&n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Preference ID: ",a.preference_id]})]},a.id))})]})]}),e.notes&&n.jsxs(n.Fragment,{children:[n.jsx(Hs,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(m3,{className:"h-4 w-4"}),"Notes"]}),n.jsx("div",{className:"text-sm bg-muted/50 rounded-lg p-3",children:e.notes})]})]})]})]})},_Et=({employeeSkill:e,onUpdateRating:t,onRemoveSkill:r})=>{const[s,a]=v.useState(!1),[i,o]=v.useState(e.pivot.rating),c=["A+","A","B","C","D"],d=()=>{i!==e.pivot.rating&&c.includes(i)&&t(e.id,i),a(!1)},u=()=>{o(e.pivot.rating),a(!1)};return n.jsxs(Nt,{children:[n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-md bg-primary/10",children:n.jsx(uM,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:e.name}),e.slug&&n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Slug: ",e.slug]})]})]})}),n.jsx(Ee,{}),n.jsx(Ee,{children:s?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(xt,{value:i,onValueChange:l=>o(l),children:[n.jsx(ft,{className:"w-24",children:n.jsx(vt,{})}),n.jsx(mt,{children:c.map(l=>n.jsx(Ue,{value:l,children:n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(eI,{rating:l,size:"sm"})})},l))})]}),n.jsx(W,{size:"sm",onClick:d,children:n.jsx(bs,{className:"h-3 w-3"})}),n.jsx(W,{size:"sm",variant:"outline",onClick:u,children:""})]}):n.jsx("button",{onClick:()=>a(!0),className:"hover:bg-muted rounded p-1 transition-colors",children:n.jsx(eI,{rating:e.pivot.rating})})}),n.jsx(Ee,{children:n.jsxs("div",{className:"text-sm space-y-1",children:[n.jsxs("div",{children:["Created:"," ",new Date(e.pivot.created_at).toLocaleDateString()]}),n.jsxs("div",{className:"text-muted-foreground",children:["Updated:"," ",new Date(e.pivot.updated_at).toLocaleDateString()]})]})}),n.jsx(Ee,{children:n.jsxs(Aw,{children:[n.jsx(Tw,{asChild:!0,children:n.jsx(W,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:n.jsx(Nb,{className:"h-4 w-4"})})}),n.jsxs(Ox,{align:"end",children:[n.jsxs(Go,{onClick:()=>a(!0),className:"cursor-pointer",children:[n.jsx(Pa,{className:"mr-2 h-4 w-4"}),"Update Rating"]}),n.jsxs(Go,{onClick:()=>r(e.id),className:"cursor-pointer text-destructive focus:text-destructive",children:[n.jsx(kt,{className:"mr-2 h-4 w-4"}),"Remove Skill"]})]})]})})]})},EEt=({isOpen:e,onOpenChange:t,employee:r,onSkillAttached:s})=>{const[a,i]=v.useState(""),[o,c]=v.useState("B"),[d,u]=v.useState(!1),[l,f]=v.useState(null),m=["A+","A","B","C","D"],{skills:p,loading:x,fetchSkills:b}=epe(),{actions:h}=fh();v.useEffect(()=>{e&&p.length===0&&b()},[e,p.length,b]);const y=v.useMemo(()=>{const N=r.skills.map(_=>_.id);return p.filter(_=>!N.includes(_.id))},[p,r.skills]),w=async()=>{if(!(!a||!o))try{u(!0),f(null);const N=parseInt(a,10);await h.attachSkill(r.id,N,{rating:o}),i(""),c("B"),t(!1),s()}catch(N){console.error("Error attaching skill:",N),f(N.message||"Failed to attach skill")}finally{u(!1)}},S=()=>{i(""),c("B"),f(null),t(!1)};return n.jsx(Ur,{open:e,onOpenChange:S,children:n.jsxs(Er,{className:"sm:max-w-md",children:[n.jsxs(kr,{children:[n.jsx(Ar,{children:"Attach Skill to Employee"}),n.jsxs(as,{children:["Add a new skill to ",r.full_name,"'s skill set with an initial rating."]})]}),l&&n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:l})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{htmlFor:"skill-select",children:"Select Skill"}),n.jsxs(xt,{value:a,onValueChange:i,disabled:d||x.list,children:[n.jsx(ft,{id:"skill-select",children:n.jsx(vt,{placeholder:"Choose a skill..."})}),n.jsx(mt,{children:x.list?n.jsx(Ue,{value:"loading",disabled:!0,children:"Loading skills..."}):y.length===0?n.jsx(Ue,{value:"no-skills",disabled:!0,children:"No skills available"}):y.map(N=>n.jsx(Ue,{value:N.id.toString(),children:n.jsx("span",{className:"font-medium",children:N.name})},N.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{htmlFor:"rating-select",children:"Initial Rating"}),n.jsxs(xt,{value:o,onValueChange:N=>c(N),disabled:d,children:[n.jsx(ft,{id:"rating-select",children:n.jsx(vt,{})}),n.jsx(mt,{children:m.map(N=>n.jsx(Ue,{value:N,children:n.jsx("div",{className:"flex items-center gap-2 w-full",children:n.jsx(eI,{rating:N,size:"sm"})})},N))})]})]})]}),n.jsxs(Hr,{children:[n.jsx(W,{variant:"outline",onClick:S,disabled:d,children:"Cancel"}),n.jsx(W,{onClick:w,disabled:!a||!o||d||y.length===0,className:"gap-2",children:d?n.jsxs(n.Fragment,{children:[n.jsx(at,{className:"h-4 w-4 animate-spin"}),"Attaching..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Yt,{className:"h-4 w-4"}),"Attach Skill"]})})]})]})})},kEt=({className:e})=>{const t=Vt(),{id:r}=Sn(),s=r?parseInt(r,10):null,[a,i]=v.useState(!1),[o,c]=v.useState(!1),{currentEmployee:d,loading:u,errors:l,actions:f}=fh(),m=v.useCallback(()=>{s&&!o&&!u.fetchById.isLoading&&(console.log("Fetching employee data for ID:",s),c(!0),f.fetchEmployeeById(s))},[s,o,u.fetchById.isLoading,f]),p=v.useMemo(()=>d!==null&&d.id===s,[d,s]);v.useEffect(()=>{m()},[s]),v.useEffect(()=>{c(!1)},[s]);const x=v.useCallback(()=>{t("/employees/store")},[t]),b=v.useCallback(()=>{s&&t(`/employees/${s}/edit`)},[t,s]),h=v.useCallback(async(_,k)=>{if(s)try{await f.updateSkill(s,_,{rating:k}),f.fetchEmployeeById(s)}catch(E){console.error("Failed to update skill rating:",E)}},[s,f]),y=v.useCallback(async _=>{if(!s||!d)return;const k=d.skills.find(T=>T.id===_);if(!k)return;if(window.confirm(`Are you sure you want to remove "${k.name}" from ${d.full_name}'s skills?`))try{await f.detachSkill(s,_),f.fetchEmployeeById(s)}catch(T){console.error("Failed to remove skill:",T)}},[s,d,f]),w=v.useCallback(()=>{s&&f.fetchEmployeeById(s)},[s,f]),S=()=>n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(W,{variant:"ghost",size:"sm",onClick:x,className:"gap-2",children:[n.jsx(vn,{className:"h-4 w-4"}),"Back to Employees"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Employee Details"}),n.jsx("p",{className:"text-muted-foreground",children:p&&d?`Viewing: ${d.full_name}`:"View employee information"})]})]})}),N=()=>d?n.jsxs(oe,{children:[n.jsx(Re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(qe,{className:"flex items-center gap-2",children:[n.jsx(uM,{className:"h-5 w-5"}),"Employee Skills"]}),n.jsxs(Us,{children:["Skills and competencies for ",d.full_name," with letter grade ratings"]})]}),n.jsxs(W,{onClick:()=>i(!0),className:"gap-2",children:[n.jsx(Yt,{className:"h-4 w-4"}),"Attach Skill"]})]})}),n.jsx(je,{children:d.skills.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[n.jsx(uM,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Skills Assigned"}),n.jsx("p",{className:"text-muted-foreground mb-4 max-w-md",children:"This employee doesn't have any skills assigned yet. Attach skills to track their competencies with A+ through D ratings."}),n.jsxs(W,{onClick:()=>i(!0),className:"gap-2",children:[n.jsx(Yt,{className:"h-4 w-4"}),"Attach First Skill"]})]}):n.jsx("div",{className:"rounded-md border",children:n.jsxs(Xr,{children:[n.jsx(Jr,{children:n.jsxs(Nt,{children:[n.jsx(De,{children:"Skill"}),n.jsx(De,{children:"Category"}),n.jsx(De,{children:"Rating"}),n.jsx(De,{children:"Dates"}),n.jsx(De,{className:"w-12",children:"Actions"})]})}),n.jsx(Qr,{children:d.skills.map(_=>n.jsx(_Et,{employeeSkill:_,onUpdateRating:h,onRemoveSkill:y},_.id))})]})})})]}):null;return s?u.fetchById.isLoading?n.jsxs("div",{className:X("space-y-6",e),children:[S(),n.jsxs(oe,{children:[n.jsx(Re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(rt,{className:"h-12 w-12 rounded-full"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(rt,{className:"h-6 w-48"}),n.jsx(rt,{className:"h-4 w-32"})]})]}),n.jsx(rt,{className:"h-9 w-32"})]})}),n.jsx(je,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsx(rt,{className:"h-16 w-full"}),n.jsx(rt,{className:"h-16 w-full"}),n.jsx(rt,{className:"h-16 w-full"})]}),n.jsx(rt,{className:"h-32 w-full"})]})})]}),n.jsxs(oe,{children:[n.jsx(Re,{children:n.jsx(rt,{className:"h-6 w-48"})}),n.jsx(je,{children:n.jsx(rt,{className:"h-32 w-full"})})]})]}):l.fetchById.hasError?n.jsxs("div",{className:X("space-y-6",e),children:[S(),n.jsx(oe,{children:n.jsx(je,{className:"pt-6",children:n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:l.fetchById.message||"Failed to load employee data. Please try again."})]})})})]}):!p||!d?n.jsxs("div",{className:X("space-y-6",e),children:[S(),n.jsx(oe,{children:n.jsx(je,{className:"pt-6",children:n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:"Employee not found. The employee may have been deleted or you may not have permission to view it."})]})})})]}):n.jsxs("div",{className:X("space-y-6",e),children:[S(),n.jsx(CEt,{employee:d,onEdit:b}),N(),n.jsx(EEt,{isOpen:a,onOpenChange:i,employee:d,onSkillAttached:w})]}):n.jsxs("div",{className:X("space-y-6",e),children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs(W,{variant:"ghost",size:"sm",onClick:x,className:"gap-2",children:[n.jsx(vn,{className:"h-4 w-4"}),"Back to Employees"]})}),n.jsx(oe,{children:n.jsx(je,{className:"pt-6",children:n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:"Invalid employee ID. Please select a valid employee to view."})]})})})]})},AEt=[n.jsx(At,{path:"/employees",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(gEt,{})})})})},"employees-management"),n.jsx(At,{path:"/employees/create",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(yEt,{})})})})},"create-employee"),n.jsx(At,{path:"/employees/edit/:id",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(SEt,{})})})})},"edit-employee"),n.jsx(At,{path:"/employees/view/:id",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(kEt,{})})})})},"view-employee")],TEt=()=>{const e=ct(),t=se(S_e),r=se(N_e),s=se(C_e),a=se(__e),i=se(E_e),o=v.useCallback(async()=>{try{console.log("[useEmploymentInformations] Initiating fetchAll"),await e(dm()).unwrap(),console.log("[useEmploymentInformations] fetchAll completed successfully")}catch(y){console.error("[useEmploymentInformations] fetchAll failed:",y)}},[e]),c=v.useCallback(async y=>{if(!y||y<=0){console.warn("[useEmploymentInformations] fetchById: Invalid ID provided:",y);return}try{console.log(`[useEmploymentInformations] Fetching employment info with ID: ${y}`),await e(EN(y)).unwrap(),console.log(`[useEmploymentInformations] fetchById(${y}) completed successfully`)}catch(w){console.error(`[useEmploymentInformations] fetchById(${y}) failed:`,w)}},[e]),d=v.useCallback(async y=>{if(!y)return console.warn("[useEmploymentInformations] create: No data provided"),null;try{console.log("[useEmploymentInformations] Creating new employment information");const w=await e(kN(y)).unwrap();return console.log("[useEmploymentInformations] create completed successfully:",w.id),w}catch(w){return console.error("[useEmploymentInformations] create failed:",w),null}},[e]),u=v.useCallback(async(y,w)=>{if(!y||y<=0)return console.warn("[useEmploymentInformations] update: Invalid ID provided:",y),null;if(!w)return console.warn("[useEmploymentInformations] update: No data provided"),null;try{console.log(`[useEmploymentInformations] Updating employment info with ID: ${y}`);const S=await e(AN({id:y,data:w})).unwrap();return console.log(`[useEmploymentInformations] update(${y}) completed successfully`),S}catch(S){return console.error(`[useEmploymentInformations] update(${y}) failed:`,S),null}},[e]),l=v.useCallback(async y=>{if(!y||y<=0)return console.warn("[useEmploymentInformations] delete: Invalid ID provided:",y),!1;try{return console.log(`[useEmploymentInformations] Deleting employment info with ID: ${y}`),await e(TN(y)).unwrap(),console.log(`[useEmploymentInformations] delete(${y}) completed successfully`),!0}catch(w){return console.error(`[useEmploymentInformations] delete(${y}) failed:`,w),!1}},[e]),f=v.useCallback(()=>{console.log("[useEmploymentInformations] Clearing all errors"),e(v_e())},[e]),m=v.useCallback(()=>{console.log("[useEmploymentInformations] Clearing current item"),e(y_e())},[e]),p=v.useCallback(y=>{console.log(`[useEmploymentInformations] Setting current item: ${y.id}`),e(b_e(y))},[e]),x=v.useCallback(y=>{console.log(`[useEmploymentInformations] Clearing ${y} error`),e(w_e(y))},[e]),b=v.useCallback(()=>{console.log("[useEmploymentInformations] Resetting state"),e(j_e())},[e]),h=v.useMemo(()=>({fetchAll:o,fetchById:c,create:d,update:u,delete:l,clearErrors:f,clearCurrent:m,setCurrent:p,clearSpecificError:x,reset:b}),[o,c,d,u,l,f,m,p,x,b]);return v.useEffect(()=>{t.length===0&&!s.list&&!i.lastFetch&&(console.log("[useEmploymentInformations] Auto-fetching data on mount"),o())},[]),{employmentInformations:t,currentEmploymentInformation:r,loading:s,errors:a,actions:h}},DEt=()=>{const{employmentInformations:e,loading:t,errors:r,actions:s}=TEt(),a=dl(!0,{per_page:100}),i=fh(),o=Qhe(),[c,d]=v.useState({open:!1,selectedStoreId:"",selectedEmployeeId:"",selectedPositionId:"",paychexIds:[""],employmentType:"",hiredDate:new Date().toISOString().split("T")[0],basePay:"0",performancePay:"0",hasUniform:!1}),[u,l]=v.useState({open:!1,employmentInformation:null,selectedStoreId:"",selectedEmployeeId:"",selectedPositionId:"",paychexIds:[""],employmentType:"",hiredDate:new Date().toISOString().split("T")[0],basePay:"0",performancePay:"0",hasUniform:!1}),[f,m]=v.useState({open:!1,employmentInformation:null}),[p,x]=v.useState({open:!1,employmentInformation:null}),[b,h]=v.useState(!1),[y,w]=v.useState(""),[S,N]=v.useState(!1);v.useEffect(()=>{(async()=>{if(!S)try{N(!0),await s.fetchAll()}catch(He){console.error("Failed to fetch employment information:",He),N(!1)}})()},[s.fetchAll,S]);const _=v.useCallback(async()=>{try{await o.fetchPositions()}catch(ge){console.error("Failed to fetch positions:",ge)}},[o.fetchPositions]);v.useEffect(()=>{_()},[]),v.useEffect(()=>{y&&i.actions.fetchEmployeesByStore(y,{per_page:100}).catch(console.error)},[y]),v.useEffect(()=>{c.selectedStoreId&&w(c.selectedStoreId)},[c.selectedStoreId]),v.useEffect(()=>{u.selectedStoreId&&w(u.selectedStoreId)},[u.selectedStoreId]);const k=v.useMemo(()=>y?i.employees.filter(ge=>ge.store_id===y):[],[i.employees,y]),E=t.list,T=t.list||t.create||t.update||t.delete||a.loading||o.isAnyLoading,D=v.useMemo(()=>Object.values(r).some(ge=>ge!==null),[r]),P=v.useMemo(()=>D?Object.values(r).find(ge=>ge!==null):null,[D,r]),M=v.useMemo(()=>e.filter(ge=>ge.employment_type==="W2"),[e]),R=v.useMemo(()=>e.filter(ge=>ge.employment_type==="1099"),[e]),B=v.useCallback(()=>{d({open:!0,selectedStoreId:"",selectedEmployeeId:"",selectedPositionId:"",paychexIds:[""],employmentType:"",hiredDate:new Date().toISOString().split("T")[0],basePay:"0",performancePay:"0",hasUniform:!1})},[]),L=v.useCallback(()=>{d(ge=>({...ge,open:!1})),w("")},[]),$=v.useCallback(ge=>{const He=ge.hired_date?new Date(ge.hired_date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0];l({open:!0,employmentInformation:ge,selectedStoreId:ge.emp_info?.store_id||"",selectedEmployeeId:ge.emp_info_id.toString(),selectedPositionId:ge.position_id?.toString()||"",paychexIds:ge.paychex_ids||[""],employmentType:ge.employment_type,hiredDate:He,basePay:ge.base_pay||"0",performancePay:ge.performance_pay||"0",hasUniform:ge.has_uniform})},[]),I=v.useCallback(()=>{l(ge=>({...ge,open:!1})),w("")},[]),z=v.useCallback(ge=>{m({open:!0,employmentInformation:ge})},[]),H=v.useCallback(()=>{m({open:!1,employmentInformation:null})},[]),Z=v.useCallback(ge=>{x({open:!0,employmentInformation:ge})},[]),V=v.useCallback(()=>{x({open:!1,employmentInformation:null})},[]),G=v.useCallback(async()=>{try{if(h(!0),!c.selectedStoreId||!c.selectedEmployeeId||!c.employmentType||c.paychexIds.some(le=>!le.trim())){We.error("Validation Error",{description:"Please fill in all required fields"});return}const ge={emp_info_id:c.selectedEmployeeId,position_id:c.selectedPositionId||void 0,paychex_ids:c.paychexIds.filter(le=>le.trim()),employment_type:c.employmentType,hired_date:c.hiredDate,base_pay:c.basePay,performance_pay:c.performancePay,has_uniform:c.hasUniform},He=We.loading("Creating employment information...",{description:"Please wait while we save your changes."});if(await s.create(ge))We.dismiss(He),We.success("Employment information created successfully",{description:"The new employment record has been added to the system."}),L();else throw new Error("Failed to create employment information")}catch(ge){console.error("Failed to create employment information:",ge);const He=ge instanceof Error?ge.message:"Unknown error occurred";We.error("Failed to create employment information",{description:He})}finally{h(!1)}},[c,s.create,L]),U=v.useCallback(async()=>{if(u.employmentInformation)try{if(h(!0),!u.selectedStoreId||!u.selectedEmployeeId||!u.employmentType||u.paychexIds.some(le=>!le.trim())){We.error("Validation Error",{description:"Please fill in all required fields"});return}const ge={emp_info_id:u.selectedEmployeeId,position_id:u.selectedPositionId||void 0,paychex_ids:u.paychexIds.filter(le=>le.trim()),employment_type:u.employmentType,hired_date:u.hiredDate,base_pay:u.basePay,performance_pay:u.performancePay,has_uniform:u.hasUniform},He=We.loading("Updating employment information...",{description:"Please wait while we save your changes."});if(await s.update(u.employmentInformation.id,ge))We.dismiss(He),We.success("Employment information updated successfully",{description:"The employment record changes have been saved."}),I();else throw new Error("Failed to update employment information")}catch(ge){console.error("Failed to update employment information:",ge);const He=ge instanceof Error?ge.message:"Unknown error occurred";We.error("Failed to update employment information",{description:He})}finally{h(!1)}},[u,s.update,I]),Y=v.useCallback(async()=>{if(p.employmentInformation)try{const ge=We.loading("Deleting employment information...",{description:"Please wait while we remove the record."});if(await s.delete(p.employmentInformation.id))We.dismiss(ge),We.success("Employment information deleted successfully",{description:"The employment record has been removed from the system."}),V();else throw new Error("Failed to delete employment information")}catch(ge){console.error("Failed to delete employment information:",ge);const He=ge instanceof Error?ge.message:"Unknown error occurred";We.error("Failed to delete employment information",{description:He})}},[p.employmentInformation,s.delete,V]),K=v.useCallback(async()=>{try{We.info("Refreshing data...",{description:"Fetching the latest employment information."}),await s.fetchAll(),We.success("Data refreshed successfully",{description:"Employment information has been updated."})}catch(ge){console.error("Failed to refresh employment information:",ge),We.error("Failed to refresh data",{description:"Please try again later."})}},[s.fetchAll]),re=v.useCallback(ge=>a.stores.find(ee=>ee.id===ge)?.name||ge,[a.stores]),he=v.useCallback(ge=>ge?o.positions.find(ee=>ee.id===ge)?.name||`Position ${ge}`:"No Position",[o.positions]),me=v.useCallback(ge=>ge==="W2"?"default":"secondary",[]),de=v.useCallback(ge=>ge==="W2"?"W-2 Employee":"1099 Contractor",[]),ie=v.useCallback((ge=!1)=>{ge?l(He=>({...He,paychexIds:[...He.paychexIds,""]})):d(He=>({...He,paychexIds:[...He.paychexIds,""]}))},[]),ve=v.useCallback((ge,He=!1)=>{He?l(ee=>({...ee,paychexIds:ee.paychexIds.filter((le,ce)=>ce!==ge)})):d(ee=>({...ee,paychexIds:ee.paychexIds.filter((le,ce)=>ce!==ge)}))},[]),_e=v.useCallback((ge,He,ee=!1)=>{ee?l(le=>({...le,paychexIds:le.paychexIds.map((ce,Ke)=>Ke===ge?He:ce)})):d(le=>({...le,paychexIds:le.paychexIds.map((ce,Ke)=>Ke===ge?He:ce)}))},[]),xe=()=>E?n.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((ge,He)=>n.jsx(rt,{className:"h-16 w-full"},He))}):e.length===0?n.jsx(oe,{children:n.jsxs(je,{className:"flex flex-col items-center justify-center py-16",children:[n.jsx(Su,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Employment Information"}),n.jsx("p",{className:"text-muted-foreground text-center mb-6",children:"Get started by creating your first employment record"}),n.jsxs(W,{onClick:B,children:[n.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Create Employment Record"]})]})}):n.jsx(oe,{children:n.jsx(je,{className:"p-0",children:n.jsxs(Xr,{children:[n.jsx(Jr,{children:n.jsxs(Nt,{children:[n.jsx(De,{children:"Employee"}),n.jsx(De,{children:"Store"}),n.jsx(De,{children:"Position"}),n.jsx(De,{children:"Employment Type"}),n.jsx(De,{children:"Base Pay"}),n.jsx(De,{children:"Performance Pay"}),n.jsx(De,{children:"Uniform"}),n.jsx(De,{children:"Hired Date"}),n.jsx(De,{className:"text-right",children:"Actions"})]})}),n.jsx(Qr,{children:e.map(ge=>n.jsxs(Nt,{children:[n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(cs,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:ge.emp_info?.full_name||"Unknown Employee"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Status: ",ge.emp_info?.status||"Unknown"]})]})]})}),n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(zs,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:re(ge.emp_info?.store_id||"")})]})}),n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ac,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:he(ge.position_id)})]})}),n.jsx(Ee,{children:n.jsx(Ae,{variant:me(ge.employment_type),children:de(ge.employment_type)})}),n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(lu,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:["$",ge.base_pay]})]})}),n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(lu,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:["$",ge.performance_pay]})]})}),n.jsx(Ee,{children:n.jsx(Ae,{variant:ge.has_uniform?"default":"secondary",children:ge.has_uniform?"Yes":"No"})}),n.jsx(Ee,{className:"text-sm text-muted-foreground",children:ge.hired_date?new Date(ge.hired_date).toLocaleDateString():"Not set"}),n.jsx(Ee,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>z(ge),children:n.jsx(ln,{className:"h-4 w-4"})}),n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>$(ge),children:n.jsx(Pa,{className:"h-4 w-4"})}),n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>Z(ge),children:n.jsx(kt,{className:"h-4 w-4 text-destructive"})})]})})]},ge.id))})]})})}),Le=v.useCallback((ge,He,ee="Select store...")=>n.jsxs(xt,{value:ge,onValueChange:He,children:[n.jsx(ft,{children:n.jsx(vt,{placeholder:ee})}),n.jsx(mt,{children:a.stores.map(le=>n.jsx(Ue,{value:le.id,children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(zs,{className:"h-4 w-4"}),n.jsx("span",{children:le.name})]})},le.id))})]}),[a.stores]),Ie=v.useCallback((ge,He,ee=!1)=>n.jsxs(xt,{value:ge,onValueChange:He,disabled:ee,children:[n.jsx(ft,{children:n.jsx(vt,{placeholder:ee?"Select store first...":"Select employee..."})}),n.jsx(mt,{children:k.map(le=>n.jsx(Ue,{value:le.id.toString(),children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(cs,{className:"h-4 w-4"}),n.jsxs("div",{children:[n.jsx("span",{children:le.full_name}),n.jsxs("span",{className:"text-sm text-muted-foreground ml-1",children:["(",le.status,")"]})]})]})},le.id))})]}),[k]),fe=v.useCallback((ge,He)=>n.jsxs(xt,{value:ge,onValueChange:He,children:[n.jsx(ft,{children:n.jsx(vt,{placeholder:"Select position (optional)..."})}),n.jsx(mt,{children:o.positions.map(ee=>n.jsx(Ue,{value:ee.id.toString(),children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ac,{className:"h-4 w-4"}),n.jsx("span",{children:ee.name})]})},ee.id))})]}),[o.positions]),Ze=v.useCallback((ge,He)=>n.jsxs(xt,{value:ge,onValueChange:He,children:[n.jsx(ft,{children:n.jsx(vt,{placeholder:"Select employment type..."})}),n.jsxs(mt,{children:[n.jsx(Ue,{value:"W2",children:n.jsx(Ae,{variant:"default",children:"W-2 Employee"})}),n.jsx(Ue,{value:"1099",children:n.jsx(Ae,{variant:"secondary",children:"1099 Contractor"})})]})]}),[]),it=v.useCallback((ge,He=!1)=>n.jsxs("div",{className:"space-y-2",children:[ge.map((ee,le)=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ne,{value:ee,onChange:ce=>_e(le,ce.target.value,He),placeholder:`Paychex ID ${le+1}`}),ge.length>1&&n.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>ve(le,He),children:n.jsx(kt,{className:"h-4 w-4"})})]},le)),n.jsxs(W,{type:"button",variant:"outline",size:"sm",onClick:()=>ie(He),children:[n.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Add Paychex ID"]})]}),[_e,ve,ie]);return n.jsxs("div",{className:"container mx-auto py-8 space-y-8",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Employment Information"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage employee employment details and compensation information"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs(W,{variant:"outline",onClick:K,disabled:T,children:[n.jsx(Zr,{className:`h-4 w-4 mr-2 ${T?"animate-spin":""}`}),"Refresh"]}),n.jsxs(W,{onClick:B,disabled:T,children:[n.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Create Employment Record"]})]})]}),D&&n.jsx(oe,{className:"border-destructive",children:n.jsxs(je,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-destructive",children:[n.jsx(Je,{className:"h-5 w-5"}),n.jsx("p",{className:"font-medium",children:"Error loading employment information"})]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:P})]})}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(oe,{children:[n.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(qe,{className:"text-sm font-medium",children:"Total Records"}),n.jsx(Su,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(je,{children:n.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),n.jsxs(oe,{children:[n.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(qe,{className:"text-sm font-medium",children:"W-2 Employees"}),n.jsx(cs,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(je,{children:n.jsx("div",{className:"text-2xl font-bold",children:M.length})})]}),n.jsxs(oe,{children:[n.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(qe,{className:"text-sm font-medium",children:"1099 Contractors"}),n.jsx(KQ,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(je,{children:n.jsx("div",{className:"text-2xl font-bold",children:R.length})})]}),n.jsxs(oe,{children:[n.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(qe,{className:"text-sm font-medium",children:"Stores"}),n.jsx(zs,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(je,{children:n.jsx("div",{className:"text-2xl font-bold",children:a.totalStores})})]})]}),xe(),n.jsx(Ur,{open:c.open,onOpenChange:ge=>{ge||L()},children:n.jsxs(Er,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(kr,{children:[n.jsx(Ar,{children:"Create Employment Record"}),n.jsx(as,{children:"Set up employment information for an employee"})]}),n.jsxs("div",{className:"grid gap-6 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{htmlFor:"store",children:"Store *"}),Le(c.selectedStoreId,ge=>d(He=>({...He,selectedStoreId:ge,selectedEmployeeId:""})))]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{htmlFor:"employee",children:"Employee *"}),Ie(c.selectedEmployeeId,ge=>d(He=>({...He,selectedEmployeeId:ge})),!c.selectedStoreId)]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{htmlFor:"position",children:"Position"}),fe(c.selectedPositionId,ge=>d(He=>({...He,selectedPositionId:ge})))]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{htmlFor:"employmentType",children:"Employment Type *"}),Ze(c.employmentType,ge=>d(He=>({...He,employmentType:ge})))]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{children:"Paychex IDs *"}),it(c.paychexIds)]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{htmlFor:"hiredDate",children:"Hired Date *"}),n.jsx(ne,{id:"hiredDate",type:"date",value:c.hiredDate,onChange:ge=>d(He=>({...He,hiredDate:ge.target.value}))})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{htmlFor:"basePay",children:"Base Pay ($) *"}),n.jsx(ne,{id:"basePay",type:"number",min:"0",step:"0.01",value:c.basePay,onChange:ge=>d(He=>({...He,basePay:ge.target.value})),placeholder:"0.00"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{htmlFor:"performancePay",children:"Performance Pay ($) *"}),n.jsx(ne,{id:"performancePay",type:"number",min:"0",step:"0.01",value:c.performancePay,onChange:ge=>d(He=>({...He,performancePay:ge.target.value})),placeholder:"0.00"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:"hasUniform",checked:c.hasUniform,onCheckedChange:ge=>d(He=>({...He,hasUniform:!!ge}))}),n.jsx(Q,{htmlFor:"hasUniform",children:"Employee has uniform"})]})]}),n.jsxs(Hr,{children:[n.jsx(W,{variant:"outline",onClick:L,disabled:b,children:"Cancel"}),n.jsxs(W,{onClick:G,disabled:b,children:[b&&n.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Employment Record"]})]})]})}),n.jsx(Ur,{open:u.open,onOpenChange:ge=>{ge||I()},children:n.jsxs(Er,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(kr,{children:[n.jsx(Ar,{children:"Edit Employment Record"}),n.jsx(as,{children:"Update the employment information details"})]}),n.jsxs("div",{className:"grid gap-6 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{htmlFor:"editStore",children:"Store *"}),Le(u.selectedStoreId,ge=>l(He=>({...He,selectedStoreId:ge,selectedEmployeeId:""})))]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{htmlFor:"editEmployee",children:"Employee *"}),Ie(u.selectedEmployeeId,ge=>l(He=>({...He,selectedEmployeeId:ge})),!u.selectedStoreId)]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{htmlFor:"editPosition",children:"Position"}),fe(u.selectedPositionId,ge=>l(He=>({...He,selectedPositionId:ge})))]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{htmlFor:"editEmploymentType",children:"Employment Type *"}),Ze(u.employmentType,ge=>l(He=>({...He,employmentType:ge})))]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{children:"Paychex IDs *"}),it(u.paychexIds,!0)]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{htmlFor:"editHiredDate",children:"Hired Date *"}),n.jsx(ne,{id:"editHiredDate",type:"date",value:u.hiredDate,onChange:ge=>l(He=>({...He,hiredDate:ge.target.value}))})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{htmlFor:"editBasePay",children:"Base Pay ($) *"}),n.jsx(ne,{id:"editBasePay",type:"number",min:"0",step:"0.01",value:u.basePay,onChange:ge=>l(He=>({...He,basePay:ge.target.value}))})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{htmlFor:"editPerformancePay",children:"Performance Pay ($) *"}),n.jsx(ne,{id:"editPerformancePay",type:"number",min:"0",step:"0.01",value:u.performancePay,onChange:ge=>l(He=>({...He,performancePay:ge.target.value}))})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:"editHasUniform",checked:u.hasUniform,onCheckedChange:ge=>l(He=>({...He,hasUniform:!!ge}))}),n.jsx(Q,{htmlFor:"editHasUniform",children:"Employee has uniform"})]})]}),n.jsxs(Hr,{children:[n.jsx(W,{variant:"outline",onClick:I,disabled:b,children:"Cancel"}),n.jsxs(W,{onClick:U,disabled:b,children:[b&&n.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Employment Record"]})]})]})}),n.jsx(Ur,{open:f.open,onOpenChange:ge=>{ge||H()},children:n.jsxs(Er,{className:"sm:max-w-[500px]",children:[n.jsxs(kr,{children:[n.jsx(Ar,{children:"Employment Information Details"}),n.jsx(as,{children:"View employment record information"})]}),f.employmentInformation&&n.jsx("div",{className:"space-y-6 py-4",children:n.jsxs("div",{className:"grid gap-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium",children:"Employee:"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(cs,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:f.employmentInformation.emp_info?.full_name||"Unknown Employee"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium",children:"Store:"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(zs,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:re(f.employmentInformation.emp_info?.store_id||"")})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium",children:"Position:"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ac,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:he(f.employmentInformation.position_id)})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium",children:"Employment Type:"}),n.jsx(Ae,{variant:me(f.employmentInformation.employment_type),children:de(f.employmentInformation.employment_type)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium",children:"Paychex IDs:"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:f.employmentInformation.paychex_ids.map((ge,He)=>n.jsx(Ae,{variant:"outline",children:ge},He))})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium",children:"Base Pay:"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(lu,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:["$",f.employmentInformation.base_pay]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium",children:"Performance Pay:"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(lu,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:["$",f.employmentInformation.performance_pay]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium",children:"Has Uniform:"}),n.jsx(Ae,{variant:f.employmentInformation.has_uniform?"default":"secondary",children:f.employmentInformation.has_uniform?"Yes":"No"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium",children:"Hired Date:"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(bn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:f.employmentInformation.hired_date?new Date(f.employmentInformation.hired_date).toLocaleDateString():"Not set"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium",children:"Employee Status:"}),n.jsx(Ae,{variant:"outline",children:f.employmentInformation.emp_info?.status||"Unknown"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium",children:"Created:"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(f.employmentInformation.created_at).toLocaleString()})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium",children:"Updated:"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(f.employmentInformation.updated_at).toLocaleString()})]})]})}),n.jsx(Hr,{children:n.jsx(W,{onClick:H,children:"Close"})})]})}),n.jsx(No,{open:p.open,onOpenChange:V,children:n.jsxs(Fi,{children:[n.jsxs($i,{children:[n.jsx(Bi,{children:"Delete Employment Information"}),n.jsxs(zi,{children:["Are you sure you want to delete this employment record? This action cannot be undone.",p.employmentInformation&&n.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-md",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Employee:"})," ",p.employmentInformation.emp_info?.full_name||"Unknown Employee"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Store:"})," ",re(p.employmentInformation.emp_info?.store_id||"")]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Position:"})," ",he(p.employmentInformation.position_id)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Employment Type:"})," ",de(p.employmentInformation.employment_type)]})]})]})]}),n.jsxs(Li,{children:[n.jsx(Hi,{onClick:V,children:"Cancel"}),n.jsx(Ui,{onClick:Y,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete Employment Record"})]})]})})]})},PEt=[n.jsx(At,{path:"/employment-information",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(DEt,{})})})})},"employment-information-management")],REt=()=>{const e=ct(),t=se(fe=>f_e(fe)),r=se(fe=>m_e(fe)),s=se(fe=>h_e(fe)),a=se(fe=>p_e(fe)),i=se(fe=>g_e(fe)),o=dl(!0,{per_page:100}),c=fh(),d=rpe(),[u,l]=v.useState({open:!1,selectedStoreId:"",selectedEmployeeId:"",selectedPreferenceId:"",maximumHours:"8",employmentType:""}),[f,m]=v.useState({open:!1,schedulePreference:null,selectedStoreId:"",selectedEmployeeId:"",selectedPreferenceId:"",maximumHours:"8",employmentType:""}),[p,x]=v.useState({open:!1,schedulePreference:null}),[b,h]=v.useState({open:!1,schedulePreference:null}),[y,w]=v.useState(!1),[S,N]=v.useState(""),[_,k]=v.useState(!1);v.useEffect(()=>{(async()=>{if(!_)try{k(!0),await e(Zp()).unwrap()}catch(Ze){console.error("Failed to fetch schedule preferences:",Ze),k(!1)}})()},[e,_]);const E=v.useCallback(async()=>{try{await d.fetchPreferences()}catch(fe){console.error("Failed to fetch preferences:",fe)}},[d.fetchPreferences]);v.useEffect(()=>{E()},[]),v.useEffect(()=>{S&&c.actions.fetchEmployeesByStore(S,{per_page:100}).catch(console.error)},[S]),v.useEffect(()=>{u.selectedStoreId&&N(u.selectedStoreId)},[u.selectedStoreId]),v.useEffect(()=>{f.selectedStoreId&&N(f.selectedStoreId)},[f.selectedStoreId]);const T=v.useMemo(()=>S?c.employees.filter(fe=>fe.store_id===S):[],[c.employees,S]),D=s.fetchAll==="loading",P=i||o.loading||d.isAnyLoading,M=v.useMemo(()=>Object.values(a).some(fe=>fe!==null),[a]),R=v.useMemo(()=>M?Object.values(a).find(fe=>fe!==null):null,[M,a]),B=v.useMemo(()=>t.filter(fe=>fe.employment_type==="FT"),[t]),L=v.useMemo(()=>t.filter(fe=>fe.employment_type==="PT"),[t]),$=v.useCallback(()=>{l({open:!0,selectedStoreId:"",selectedEmployeeId:"",selectedPreferenceId:"",maximumHours:"8",employmentType:""})},[]),I=v.useCallback(()=>{l(fe=>({...fe,open:!1})),N("")},[]),z=v.useCallback(fe=>{m({open:!0,schedulePreference:fe,selectedStoreId:fe.emp_info.store_id,selectedEmployeeId:fe.emp_info_id.toString(),selectedPreferenceId:fe.preference_id.toString(),maximumHours:fe.maximum_hours.toString(),employmentType:fe.employment_type})},[]),H=v.useCallback(()=>{m(fe=>({...fe,open:!1})),N("")},[]),Z=v.useCallback(fe=>{x({open:!0,schedulePreference:fe})},[]),V=v.useCallback(()=>{x({open:!1,schedulePreference:null})},[]),G=v.useCallback(fe=>{h({open:!0,schedulePreference:fe})},[]),U=v.useCallback(()=>{h({open:!1,schedulePreference:null})},[]),Y=v.useCallback(async()=>{try{if(w(!0),!u.selectedStoreId||!u.selectedEmployeeId||!u.selectedPreferenceId||!u.employmentType){We.error("Validation Error",{description:"Please fill in all required fields"});return}const fe={emp_info_id:parseInt(u.selectedEmployeeId),preference_id:parseInt(u.selectedPreferenceId),maximum_hours:parseInt(u.maximumHours)||8,employment_type:u.employmentType},Ze=We.loading("Creating schedule preference...",{description:"Please wait while we save your changes."}),it=await e(W0(fe));if(W0.fulfilled.match(it))We.dismiss(Ze),We.success("Schedule preference created successfully",{description:"The new schedule preference has been added to the system."}),I();else throw new Error(it.payload||"Failed to create schedule preference")}catch(fe){console.error("Failed to create schedule preference:",fe);const Ze=fe instanceof Error?fe.message:"Unknown error occurred";We.error("Failed to create schedule preference",{description:Ze})}finally{w(!1)}},[u,e,I]),K=v.useCallback(async()=>{if(f.schedulePreference)try{if(w(!0),!f.selectedStoreId||!f.selectedEmployeeId||!f.selectedPreferenceId||!f.employmentType){We.error("Validation Error",{description:"Please fill in all required fields"});return}const fe={emp_info_id:parseInt(f.selectedEmployeeId),preference_id:parseInt(f.selectedPreferenceId),maximum_hours:parseInt(f.maximumHours)||8,employment_type:f.employmentType},Ze=We.loading("Updating schedule preference...",{description:"Please wait while we save your changes."}),it=await e(q0({id:f.schedulePreference.id,data:fe}));if(q0.fulfilled.match(it))We.dismiss(Ze),We.success("Schedule preference updated successfully",{description:"The schedule preference changes have been saved."}),H();else throw new Error(it.payload||"Failed to update schedule preference")}catch(fe){console.error("Failed to update schedule preference:",fe);const Ze=fe instanceof Error?fe.message:"Unknown error occurred";We.error("Failed to update schedule preference",{description:Ze})}finally{w(!1)}},[f,e,H]),re=v.useCallback(async()=>{if(b.schedulePreference)try{const fe=We.loading("Deleting schedule preference...",{description:"Please wait while we remove the preference."}),Ze=await e(G0({id:b.schedulePreference.id}));if(G0.fulfilled.match(Ze))We.dismiss(fe),We.success("Schedule preference deleted successfully",{description:"The schedule preference has been removed from the system."}),U();else throw new Error(Ze.payload||"Failed to delete schedule preference")}catch(fe){console.error("Failed to delete schedule preference:",fe);const Ze=fe instanceof Error?fe.message:"Unknown error occurred";We.error("Failed to delete schedule preference",{description:Ze})}},[b.schedulePreference,e,U]),he=v.useCallback(async()=>{try{We.info("Refreshing data...",{description:"Fetching the latest schedule preferences."});const fe=await e(Zp());if(Zp.fulfilled.match(fe))We.success("Data refreshed successfully",{description:"Schedule preferences have been updated."});else throw new Error(fe.payload||"Failed to refresh data")}catch(fe){console.error("Failed to refresh schedule preferences:",fe),We.error("Failed to refresh data",{description:"Please try again later."})}},[e]),me=v.useCallback(fe=>o.stores.find(it=>it.id===fe)?.name||fe,[o.stores]),de=v.useCallback(fe=>fe==="FT"?"default":"secondary",[]),ie=v.useCallback(fe=>fe==="FT"?"Full Time":"Part Time",[]),ve=()=>D?n.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((fe,Ze)=>n.jsx(rt,{className:"h-16 w-full"},Ze))}):t.length===0?n.jsx(oe,{children:n.jsxs(je,{className:"flex flex-col items-center justify-center py-16",children:[n.jsx(bn,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Schedule Preferences"}),n.jsx("p",{className:"text-muted-foreground text-center mb-6",children:"Get started by creating your first schedule preference"}),n.jsxs(W,{onClick:$,children:[n.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Create Schedule Preference"]})]})}):n.jsx(oe,{children:n.jsx(je,{className:"p-0",children:n.jsxs(Xr,{children:[n.jsx(Jr,{children:n.jsxs(Nt,{children:[n.jsx(De,{children:"Employee"}),n.jsx(De,{children:"Store"}),n.jsx(De,{children:"Preference"}),n.jsx(De,{children:"Max Hours"}),n.jsx(De,{children:"Employment Type"}),n.jsx(De,{children:"Created At"}),n.jsx(De,{className:"text-right",children:"Actions"})]})}),n.jsx(Qr,{children:t.map(fe=>n.jsxs(Nt,{children:[n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(cs,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:fe.emp_info.full_name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Status: ",fe.emp_info.status]})]})]})}),n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(zs,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:me(fe.emp_info.store_id)})]})}),n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ac,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:fe.preference.name})]})}),n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(po,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[fe.maximum_hours," hours"]})]})}),n.jsx(Ee,{children:n.jsx(Ae,{variant:de(fe.employment_type),children:ie(fe.employment_type)})}),n.jsx(Ee,{className:"text-sm text-muted-foreground",children:new Date(fe.created_at).toLocaleDateString()}),n.jsx(Ee,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>Z(fe),children:n.jsx(ln,{className:"h-4 w-4"})}),n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>z(fe),children:n.jsx(Pa,{className:"h-4 w-4"})}),n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>G(fe),children:n.jsx(kt,{className:"h-4 w-4 text-destructive"})})]})})]},fe.id))})]})})}),_e=v.useCallback((fe,Ze,it="Select store...")=>n.jsxs(xt,{value:fe,onValueChange:Ze,children:[n.jsx(ft,{children:n.jsx(vt,{placeholder:it})}),n.jsx(mt,{children:o.stores.map(ge=>n.jsx(Ue,{value:ge.id,children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(zs,{className:"h-4 w-4"}),n.jsx("span",{children:ge.name})]})},ge.id))})]}),[o.stores]),xe=v.useCallback((fe,Ze,it=!1)=>n.jsxs(xt,{value:fe,onValueChange:Ze,disabled:it,children:[n.jsx(ft,{children:n.jsx(vt,{placeholder:it?"Select store first...":"Select employee..."})}),n.jsx(mt,{children:T.map(ge=>n.jsx(Ue,{value:ge.id.toString(),children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(cs,{className:"h-4 w-4"}),n.jsxs("div",{children:[n.jsx("span",{children:ge.full_name}),n.jsxs("span",{className:"text-sm text-muted-foreground ml-1",children:["(",ge.status,")"]})]})]})},ge.id))})]}),[T]),Le=v.useCallback((fe,Ze)=>n.jsxs(xt,{value:fe,onValueChange:Ze,children:[n.jsx(ft,{children:n.jsx(vt,{placeholder:"Select preference..."})}),n.jsx(mt,{children:d.preferences.map(it=>n.jsx(Ue,{value:it.id.toString(),children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ac,{className:"h-4 w-4"}),n.jsx("span",{children:it.name})]})},it.id))})]}),[d.preferences]),Ie=v.useCallback((fe,Ze)=>n.jsxs(xt,{value:fe,onValueChange:Ze,children:[n.jsx(ft,{children:n.jsx(vt,{placeholder:"Select employment type..."})}),n.jsxs(mt,{children:[n.jsx(Ue,{value:"FT",children:n.jsx(Ae,{variant:"default",children:"Full Time"})}),n.jsx(Ue,{value:"PT",children:n.jsx(Ae,{variant:"secondary",children:"Part Time"})})]})]}),[]);return n.jsxs("div",{className:"container mx-auto py-8 space-y-8",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Schedule Preferences"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage employee schedule preferences and work arrangements"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs(W,{variant:"outline",onClick:he,disabled:P,children:[n.jsx(Zr,{className:`h-4 w-4 mr-2 ${P?"animate-spin":""}`}),"Refresh"]}),n.jsxs(W,{onClick:$,disabled:P,children:[n.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Create Schedule Preference"]})]})]}),M&&n.jsx(oe,{className:"border-destructive",children:n.jsxs(je,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-destructive",children:[n.jsx(Je,{className:"h-5 w-5"}),n.jsx("p",{className:"font-medium",children:"Error loading schedule preferences"})]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:R})]})}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(oe,{children:[n.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(qe,{className:"text-sm font-medium",children:"Total Preferences"}),n.jsx(bn,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(je,{children:n.jsx("div",{className:"text-2xl font-bold",children:r})})]}),n.jsxs(oe,{children:[n.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(qe,{className:"text-sm font-medium",children:"Full Time"}),n.jsx(Ac,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(je,{children:n.jsx("div",{className:"text-2xl font-bold",children:B.length})})]}),n.jsxs(oe,{children:[n.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(qe,{className:"text-sm font-medium",children:"Part Time"}),n.jsx(po,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(je,{children:n.jsx("div",{className:"text-2xl font-bold",children:L.length})})]}),n.jsxs(oe,{children:[n.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(qe,{className:"text-sm font-medium",children:"Stores"}),n.jsx(zs,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(je,{children:n.jsx("div",{className:"text-2xl font-bold",children:o.totalStores})})]})]}),ve(),n.jsx(Ur,{open:u.open,onOpenChange:fe=>{fe||I()},children:n.jsxs(Er,{className:"sm:max-w-[600px]",children:[n.jsxs(kr,{children:[n.jsx(Ar,{children:"Create Schedule Preference"}),n.jsx(as,{children:"Set up a new schedule preference for an employee"})]}),n.jsxs("div",{className:"grid gap-6 py-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{htmlFor:"store",children:"Store"}),_e(u.selectedStoreId,fe=>l(Ze=>({...Ze,selectedStoreId:fe,selectedEmployeeId:""})))]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{htmlFor:"employee",children:"Employee"}),xe(u.selectedEmployeeId,fe=>l(Ze=>({...Ze,selectedEmployeeId:fe})),!u.selectedStoreId)]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{htmlFor:"preference",children:"Preference"}),Le(u.selectedPreferenceId,fe=>l(Ze=>({...Ze,selectedPreferenceId:fe})))]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{htmlFor:"maximumHours",children:"Maximum Hours"}),n.jsx(ne,{id:"maximumHours",type:"number",min:"1",max:"24",value:u.maximumHours,onChange:fe=>l(Ze=>({...Ze,maximumHours:fe.target.value})),placeholder:"8"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{htmlFor:"employmentType",children:"Employment Type"}),Ie(u.employmentType,fe=>l(Ze=>({...Ze,employmentType:fe})))]})]}),n.jsxs(Hr,{children:[n.jsx(W,{variant:"outline",onClick:I,disabled:y,children:"Cancel"}),n.jsxs(W,{onClick:Y,disabled:y,children:[y&&n.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Schedule Preference"]})]})]})}),n.jsx(Ur,{open:f.open,onOpenChange:fe=>{fe||H()},children:n.jsxs(Er,{className:"sm:max-w-[600px]",children:[n.jsxs(kr,{children:[n.jsx(Ar,{children:"Edit Schedule Preference"}),n.jsx(as,{children:"Update the schedule preference details"})]}),n.jsxs("div",{className:"grid gap-6 py-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{htmlFor:"editStore",children:"Store"}),_e(f.selectedStoreId,fe=>m(Ze=>({...Ze,selectedStoreId:fe,selectedEmployeeId:""})))]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{htmlFor:"editEmployee",children:"Employee"}),xe(f.selectedEmployeeId,fe=>m(Ze=>({...Ze,selectedEmployeeId:fe})),!f.selectedStoreId)]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{htmlFor:"editPreference",children:"Preference"}),Le(f.selectedPreferenceId,fe=>m(Ze=>({...Ze,selectedPreferenceId:fe})))]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{htmlFor:"editMaximumHours",children:"Maximum Hours"}),n.jsx(ne,{id:"editMaximumHours",type:"number",min:"1",max:"24",value:f.maximumHours,onChange:fe=>m(Ze=>({...Ze,maximumHours:fe.target.value}))})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{htmlFor:"editEmploymentType",children:"Employment Type"}),Ie(f.employmentType,fe=>m(Ze=>({...Ze,employmentType:fe})))]})]}),n.jsxs(Hr,{children:[n.jsx(W,{variant:"outline",onClick:H,disabled:y,children:"Cancel"}),n.jsxs(W,{onClick:K,disabled:y,children:[y&&n.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Schedule Preference"]})]})]})}),n.jsx(Ur,{open:p.open,onOpenChange:fe=>{fe||V()},children:n.jsxs(Er,{className:"sm:max-w-[500px]",children:[n.jsxs(kr,{children:[n.jsx(Ar,{children:"Schedule Preference Details"}),n.jsx(as,{children:"View schedule preference information"})]}),p.schedulePreference&&n.jsx("div",{className:"space-y-6 py-4",children:n.jsxs("div",{className:"grid gap-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium",children:"Employee:"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(cs,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:p.schedulePreference.emp_info.full_name})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium",children:"Store:"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(zs,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:me(p.schedulePreference.emp_info.store_id)})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium",children:"Preference:"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ac,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:p.schedulePreference.preference.name})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium",children:"Maximum Hours:"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(po,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[p.schedulePreference.maximum_hours," hours"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium",children:"Employment Type:"}),n.jsx(Ae,{variant:de(p.schedulePreference.employment_type),children:ie(p.schedulePreference.employment_type)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium",children:"Employee Status:"}),n.jsx(Ae,{variant:"outline",children:p.schedulePreference.emp_info.status})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium",children:"Created:"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(p.schedulePreference.created_at).toLocaleString()})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium",children:"Updated:"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(p.schedulePreference.updated_at).toLocaleString()})]})]})}),n.jsx(Hr,{children:n.jsx(W,{onClick:V,children:"Close"})})]})}),n.jsx(No,{open:b.open,onOpenChange:U,children:n.jsxs(Fi,{children:[n.jsxs($i,{children:[n.jsx(Bi,{children:"Delete Schedule Preference"}),n.jsxs(zi,{children:["Are you sure you want to delete this schedule preference? This action cannot be undone.",b.schedulePreference&&n.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-md",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Employee:"})," ",b.schedulePreference.emp_info.full_name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Store:"})," ",me(b.schedulePreference.emp_info.store_id)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Preference:"})," ",b.schedulePreference.preference.name]})]})]})]}),n.jsxs(Li,{children:[n.jsx(Hi,{onClick:U,children:"Cancel"}),n.jsx(Ui,{onClick:re,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete Schedule Preference"})]})]})})]})},MEt=[n.jsx(At,{path:"/schedule-preferences",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(REt,{})})})})},"schedule-preferences-management")];var w4={exports:{}};var j4,xK;function OEt(){if(xK)return j4;xK=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function s(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function a(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var o={},c=0;c<10;c++)o["_"+String.fromCharCode(c)]=c;var d=Object.getOwnPropertyNames(o).map(function(l){return o[l]});if(d.join("")!=="0123456789")return!1;var u={};return"abcdefghijklmnopqrst".split("").forEach(function(l){u[l]=l}),Object.keys(Object.assign({},u)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return j4=a()?Object.assign:function(i,o){for(var c,d=s(i),u,l=1;l<arguments.length;l++){c=Object(arguments[l]);for(var f in c)t.call(c,f)&&(d[f]=c[f]);if(e){u=e(c);for(var m=0;m<u.length;m++)r.call(c,u[m])&&(d[u[m]]=c[u[m]])}}return d},j4}var S4,vK;function IEt(){if(vK)return S4;vK=1;var e=OEt(),t={};function r(o,c,d,u,l,f,m,p){if(!o){var x;if(c===void 0)x=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var b=[d,u,l,f,m,p],h=0;x=new Error(c.replace(/%s/g,function(){return b[h++]})),x.name="Invariant Violation"}throw x.framesToPop=1,x}}var s="mixins";function a(o){return o}function i(o,c,d){var u=[],l={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},f={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},m={displayName:function(P,M){P.displayName=M},mixins:function(P,M){if(M)for(var R=0;R<M.length;R++)x(P,M[R])},childContextTypes:function(P,M){P.childContextTypes=e({},P.childContextTypes,M)},contextTypes:function(P,M){P.contextTypes=e({},P.contextTypes,M)},getDefaultProps:function(P,M){P.getDefaultProps?P.getDefaultProps=y(P.getDefaultProps,M):P.getDefaultProps=M},propTypes:function(P,M){P.propTypes=e({},P.propTypes,M)},statics:function(P,M){b(P,M)},autobind:function(){}};function p(P,M){var R=l.hasOwnProperty(M)?l[M]:null;E.hasOwnProperty(M)&&r(R==="OVERRIDE_BASE","ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",M),P&&r(R==="DEFINE_MANY"||R==="DEFINE_MANY_MERGED","ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",M)}function x(P,M){if(M){r(typeof M!="function","ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),r(!c(M),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var R=P.prototype,B=R.__reactAutoBindPairs;M.hasOwnProperty(s)&&m.mixins(P,M.mixins);for(var L in M)if(M.hasOwnProperty(L)&&L!==s){var $=M[L],I=R.hasOwnProperty(L);if(p(I,L),m.hasOwnProperty(L))m[L](P,$);else{var z=l.hasOwnProperty(L),H=typeof $=="function",Z=H&&!z&&!I&&M.autobind!==!1;if(Z)B.push(L,$),R[L]=$;else if(I){var V=l[L];r(z&&(V==="DEFINE_MANY_MERGED"||V==="DEFINE_MANY"),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",V,L),V==="DEFINE_MANY_MERGED"?R[L]=y(R[L],$):V==="DEFINE_MANY"&&(R[L]=w(R[L],$))}else R[L]=$}}}}function b(P,M){if(M)for(var R in M){var B=M[R];if(M.hasOwnProperty(R)){var L=R in m;r(!L,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',R);var $=R in P;if($){var I=f.hasOwnProperty(R)?f[R]:null;r(I==="DEFINE_MANY_MERGED","ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",R),P[R]=y(P[R],B);return}P[R]=B}}}function h(P,M){r(P&&M&&typeof P=="object"&&typeof M=="object","mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var R in M)M.hasOwnProperty(R)&&(r(P[R]===void 0,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",R),P[R]=M[R]);return P}function y(P,M){return function(){var B=P.apply(this,arguments),L=M.apply(this,arguments);if(B==null)return L;if(L==null)return B;var $={};return h($,B),h($,L),$}}function w(P,M){return function(){P.apply(this,arguments),M.apply(this,arguments)}}function S(P,M){var R=M.bind(P);return R}function N(P){for(var M=P.__reactAutoBindPairs,R=0;R<M.length;R+=2){var B=M[R],L=M[R+1];P[B]=S(P,L)}}var _={componentDidMount:function(){this.__isMounted=!0}},k={componentWillUnmount:function(){this.__isMounted=!1}},E={replaceState:function(P,M){this.updater.enqueueReplaceState(this,P,M)},isMounted:function(){return!!this.__isMounted}},T=function(){};e(T.prototype,o.prototype,E);function D(P){var M=function(B,L,$){this.__reactAutoBindPairs.length&&N(this),this.props=B,this.context=L,this.refs=t,this.updater=$||d,this.state=null;var I=this.getInitialState?this.getInitialState():null;r(typeof I=="object"&&!Array.isArray(I),"%s.getInitialState(): must return an object or null",M.displayName||"ReactCompositeComponent"),this.state=I};M.prototype=new T,M.prototype.constructor=M,M.prototype.__reactAutoBindPairs=[],u.forEach(x.bind(null,M)),x(M,_),x(M,P),x(M,k),M.getDefaultProps&&(M.defaultProps=M.getDefaultProps()),r(M.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var R in l)M.prototype[R]||(M.prototype[R]=null);return M}return D}return S4=i,S4}var N4,yK;function FEt(){if(yK)return N4;yK=1;var e=Ru(),t=IEt();if(typeof e>"u")throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var r=new e.Component().updater;return N4=t(e.Component,e.isValidElement,r),N4}var bK;function $Et(){if(bK)return w4.exports;bK=1;var e={};if(typeof e>"u")var e={};if((function(){function t(o){var c=e.Date.Cache.Ticks;if(c[o])return e.Stats.cacheHitsTicks+=1,c[o];var d,u=new Date(o),l=u.getUTCMilliseconds();d=l===0?"":l<10?".00"+l:l<100?".0"+l:"."+l;var f=u.getUTCSeconds();f<10&&(f="0"+f);var m=u.getUTCMinutes();m<10&&(m="0"+m);var p=u.getUTCHours();p<10&&(p="0"+p);var x=u.getUTCDate();x<10&&(x="0"+x);var b=u.getUTCMonth()+1;b<10&&(b="0"+b);var h=u.getUTCFullYear();if(h<=0)throw"The minimum year supported is 1.";h<10?h="000"+h:h<100?h="00"+h:h<1e3&&(h="0"+h);var y=h+"-"+b+"-"+x+"T"+p+":"+m+":"+f+d;return c[o]=y,y}function r(o,c){return!e.Util.isNullOrUndefined(o)&&!e.Util.isNullOrUndefined(c)&&o.toLocaleLowerCase()===c.toLocaleLowerCase()}function s(o){o=Math.min(o,255),o=Math.max(o,0);var c=o.toString(16);return o<16?"0"+c:c}if(typeof e.$>"u"){typeof e.Global>"u"&&(e.Global={}),e.$=function(o){return document.getElementById(o)},Object.defineProperty(e,"isKhtml",{get:function(){return typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.indexOf("KHTML")!==-1}}),e.touch={},e.touch.start="touchstart",e.touch.move="touchmove",e.touch.end="touchend",e.mo2=function(o,c){if(typeof c.offsetX<"u"){var d={x:c.offsetX+1,y:c.offsetY+1};if(!o)return d;for(var u=c.srcElement;u&&u!==o;)u.tagName!=="SPAN"&&(d.x+=u.offsetLeft,u.offsetTop>0&&(d.y+=u.offsetTop-u.scrollTop)),u=u.offsetParent;return u?d:null}if(typeof c.layerX<"u"){var d={x:c.layerX,y:c.layerY,src:c.target};if(!o)return d;for(var u=c.target;u&&u.style.position!=="absolute"&&u.style.position!=="relative";)u=u.parentNode,e.isKhtml&&(d.y+=u.scrollTop);for(;u&&u!==o;)d.x+=u.offsetLeft,d.y+=u.offsetTop-u.scrollTop,u=u.offsetParent;return u?d:null}return null},e.mo3=function(o,c){var d,u=e.page(c);if(u)if(o){var l=e.abs(o);if(!l)throw new Error("no abs");d={x:u.x-l.x,y:u.y-l.y}}else d={x:u.x,y:u.y};else if(d=e.mo2(o,c),!d)return null;return d.shift=c.shiftKey,d.meta=c.metaKey,d.ctrl=c.ctrlKey,d.alt=c.altKey,d},e.browser={},Object.defineProperty(e.browser,"hover",{get:function(){return!window.matchMedia("(any-hover: none)").matches}}),e.touch={},e.debounce=function(o,c){var d;return function(){var u=this,l=arguments,f=function(){d=null,o.apply(u,l)};clearTimeout(d),d=setTimeout(f,c)}},e.page=function(o){var c=o.changedTouches&&o.changedTouches[0]?o.changedTouches[0]:o;return typeof c.pageX<"u"?{x:c.pageX,y:c.pageY}:typeof o.clientX<"u"&&document.body&&document.documentElement?{x:o.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,y:o.clientY+document.body.scrollTop+document.documentElement.scrollTop}:null},e.abs=function(o,c){if(!o)return null;if(o.getBoundingClientRect){var d=e.absBoundingClientBased(o);if(c){var u=e.absOffsetBased(o,!1),c=e.absOffsetBased(o,!0);d.x+=c.x-u.x,d.y+=c.y-u.y,d.w=c.w,d.h=c.h}return d}return e.absOffsetBased(o,c)},e.absBoundingClientBased=function(o){var c=o.getBoundingClientRect();return{x:c.left+window.pageXOffset,y:c.top+window.pageYOffset,w:o.clientWidth,h:o.clientHeight,toString:function(){return"x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h}}},e.absOffsetBased=function(o,c){for(var d={x:o.offsetLeft,y:o.offsetTop,w:o.clientWidth,h:o.clientHeight,toString:function(){return"x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h}};o.offsetParent;)o=o.offsetParent,d.x-=o.scrollLeft,d.y-=o.scrollTop,c&&(d.x<0&&(d.w+=d.x,d.x=0),d.y<0&&(d.h+=d.y,d.y=0),o.scrollLeft>0&&d.x+d.w>o.clientWidth&&(d.w-=d.x+d.w-o.clientWidth),o.scrollTop&&d.y+d.h>o.clientHeight&&(d.h-=d.y+d.h-o.clientHeight)),d.x+=o.offsetLeft,d.y+=o.offsetTop;var u=e.pageOffset();return d.x+=u.x,d.y+=u.y,d},e.isArray=function(o){return Object.prototype.toString.call(o)==="[object Array]"},e.distance=function(o,c){return Math.sqrt(Math.pow(o.x-c.x,2)+Math.pow(o.y-c.y,2))},e.sheet=function(){function o(){for(var l=document.querySelectorAll("style[nonce]"),f=0;f<l.length;f++){var m=l[f];if(m.nonce)return m.nonce}if(document.currentScript&&document.currentScript.nonce)return document.currentScript.nonce;for(var p=document.querySelectorAll("script[nonce]"),x=0;x<p.length;x++){var b=p[x];if(b.nonce)return b.nonce}return""}if(typeof window>"u"){var u={};return u.add=function(){},u.commit=function(){},u}var c=document.createElement("style");c.nonce=o(),c.styleSheet||c.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(c);var d=!!c.styleSheet,u={};return u.rules=[],u.commit=function(){d&&(c.styleSheet.cssText=this.rules.join(`
`))},u.add=function(l,f,m){return d?void this.rules.push(l+"{"+f+"}"):void(c.sheet.insertRule?(typeof m>"u"&&(m=c.sheet.cssRules.length),c.sheet.insertRule(l+"{"+f+"}",m)):c.sheet.addRule&&c.sheet.addRule(l,f,m))},u},e.gs=function(o,c){return window.getComputedStyle(o,null).getPropertyValue(c)||""},e.StyleReader=function(o){this.get=function(c){return o?e.gs(o,c):null},this.getPx=function(c){var d=this.get(c);return d.indexOf("px")===-1?void 0:parseInt(d,10)}},(function(){if(!e.Global.defaultCss){var o=e.sheet();o.add(".menu_default_main","user-select:none; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;font-size: 13px;border: 1px solid #dddddd;background-color: white;padding: 0px;cursor: default;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAABCAIAAABG0om7AAAAKXRFWHRDcmVhdGlvbiBUaW1lAHBvIDEwIDUgMjAxMCAyMjozMzo1OSArMDEwMGzy7+IAAAAHdElNRQfaBQoUJAesj4VUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAABGdBTUEAALGPC/xhBQAAABVJREFUeNpj/P//PwO1weMnT2RlZAAYuwX/4oA3BgAAAABJRU5ErkJggg==);background-repeat: repeat-y;xborder-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);"),o.add(".menu_default_main, .menu_default_main *, .menu_default_main *:before, .menu_default_main *:after","box-sizing: content-box;"),o.add(".menu_default_title","background-color: #f2f2f2;border-bottom: 1px solid gray;padding: 4px 4px 4px 37px;"),o.add(".menu_default_main a","padding: 2px 2px 2px 35px;color: black;text-decoration: none;cursor: default;"),o.add(".menu_default_main.menu_default_withchildren a","padding: 2px 35px 2px 35px;"),o.add(".menu_default_main a img","margin-left: 6px;margin-top: 2px;"),o.add(".menu_default_item_text","display: block;height: 20px;line-height: 20px; overflow:hidden;padding-left: 2px;padding-right: 20px; white-space: nowrap;"),o.add(".menu_default_main a:hover","background-color: #f3f3f3;"),o.add(".menu_default_main div div","border-top: 1px solid #dddddd;margin-top: 2px;margin-bottom: 2px;margin-left: 28px;"),o.add(".menu_default_main a.menu_default_item_disabled","color: #ccc"),o.add(".menu_default_item_haschildren.menu_default_item_haschildren_active","background-color: #f3f3f3;"),o.add(".menu_default_item_haschildren a:before","content: ''; border-width: 5px; border-color: transparent transparent transparent #666; border-style: solid; width: 0px; height:0px; position: absolute; right: 5px; margin-top: 5px;"),o.add(".menu_default_item_icon","position: absolute; top:0px; left: 0px; padding: 2px 2px 2px 8px;"),o.add(".menu_default_item a i","height: 20px;line-height: 20px;"),o.add(".menu_default_item .menu_default_item_symbol","width: 18px; height: 18px; color: #999; margin-left: 6px;margin-top: 2px;"),o.add(".menubar_default_main","border-bottom: 1px solid #ccc; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px; user-select:none;"),o.add(".menubar_default_item","display: inline-block;  padding: 6px 10px; cursor: default;"),o.add(".menubar_default_item:hover","background-color: #f2f2f2;"),o.add(".menubar_default_item_active","background-color: #f2f2f2;"),o.add(".calendar_default_main","  --dp-calendar-border-color: #c0c0c0;  --dp-calendar-font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;  --dp-calendar-font-size: 13px;  --dp-calendar-header-bg-color: #f3f3f3;  --dp-calendar-header-color: #333;  --dp-calendar-colheader-padding: 0px;  --dp-calendar-rowheader-font-size: 16pt;  --dp-calendar-rowheader-padding: 3px;  --dp-calendar-cell-bg-color: #f9f9f9;  --dp-calendar-cell-business-bg-color: #ffffff;  --dp-calendar-cell-border-color: #ddd;  --dp-calendar-colheader-horizontal-align: center;  --dp-calendar-colheader-vertical-align: center;  --dp-calendar-allday-event-color: #333;  --dp-calendar-allday-event-border-color: #999;  --dp-calendar-allday-event-border: 1px solid var(--dp-calendar-allday-event-border-color);  --dp-calendar-allday-event-border-radius: 0px;  --dp-calendar-allday-event-bg-top-color: #ffffff;  --dp-calendar-allday-event-bg-bottom-color: #eeeeee;  --dp-calendar-allday-event-background: linear-gradient(to bottom, var(--dp-calendar-allday-event-bg-top-color) 0%, var(--dp-calendar-allday-event-bg-bottom-color) 100%);  --dp-calendar-allday-event-box-shadow: none;  --dp-calendar-allday-event-padding: 4px;  --dp-calendar-allday-event-horizontal-align: flex-start;  --dp-calendar-event-color: #333;  --dp-calendar-event-border-color: #999;  --dp-calendar-event-border: 1px solid var(--dp-calendar-event-border-color);  --dp-calendar-event-border-radius: 0px;  --dp-calendar-event-box-shadow: none;  --dp-calendar-event-bg-top-color: #ffffff;  --dp-calendar-event-bg-bottom-color: #eeeeee;  --dp-calendar-event-background: linear-gradient(to bottom, var(--dp-calendar-event-bg-top-color) 0%, var(--dp-calendar-event-bg-bottom-color) 100%);  --dp-calendar-event-bar-bg-color: #9dc8e8;  --dp-calendar-event-bar-color: #1066a8;  --dp-calendar-event-bar-width: 6px;  --dp-calendar-event-bar-left: 0px;  --dp-calendar-event-bar-bottom: 0px;  --dp-calendar-event-bar-top: 0px;  --dp-calendar-event-bar-display: block;  --dp-calendar-event-padding: 2px;  --dp-calendar-event-padding-left: 8px;  --dp-calendar-message-bg-color: #ffa216;  --dp-calendar-message-color: #ffffff;  --dp-calendar-message-padding: 10px;  --dp-calendar-message-opacity: 0.9;  --dp-calendar-selected-event-bg-color: #ddd;  --dp-calendar-shadow-color: #bbbbbb;  --dp-calendar-shadow-border-color: #888888;  --dp-calendar-forbidden-shadow-border-color: #cc0000;  --dp-calendar-forbidden-shadow-bg-color: #cc4125;  --dp-calendar-now-indicator-color: red;  --dp-calendar-scroll-bg-color: #f3f3f3;"),o.add(".calendar_default_main *, .calendar_default_main *:before, .calendar_default_main *:after","box-sizing: content-box;"),o.add(".calendar_default_main","border:1px solid var(--dp-calendar-border-color); font-family:var(--dp-calendar-font-family); font-size:var(--dp-calendar-font-size);"),o.add(".calendar_default_rowheader_inner, .calendar_default_cornerright_inner, .calendar_default_corner_inner, .calendar_default_colheader_inner, .calendar_default_alldayheader_inner","color: var(--dp-calendar-header-color); background: var(--dp-calendar-header-bg-color);"),o.add(".calendar_default_colheader_back","background: var(--dp-calendar-header-bg-color); border-bottom: 1px solid red;"),o.add(".calendar_default_colheader_back_inner","position: absolute; inset: 0; border-bottom: 1px solid var(--dp-calendar-border-color);"),o.add(".calendar_default_cornerright_inner","position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; border-bottom: 1px solid var(--dp-calendar-border-color);"),o.add(".calendar_default_direction_rtl .calendar_default_cornerright_inner","border-right: 1px solid var(--dp-calendar-border-color);"),o.add(".calendar_default_rowheader_inner","font-size: var(--dp-calendar-rowheader-font-size); text-align: right; position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; border-right: 1px solid var(--dp-calendar-border-color); border-bottom: 1px solid var(--dp-calendar-border-color); padding: var(--dp-calendar-rowheader-padding);"),o.add(".calendar_default_rowheader_simple .calendar_default_rowheader_inner","font-size: inherit; display: flex; align-items: center; justify-content: center; white-space: nowrap;"),o.add(".calendar_default_direction_rtl .calendar_default_rowheader_inner","border-right: none;"),o.add(".calendar_default_corner_inner","position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; border-right: 1px solid var(--dp-calendar-border-color); border-bottom: 1px solid var(--dp-calendar-border-color);"),o.add(".calendar_default_direction_rtl .calendar_default_corner_inner","border-right: none;"),o.add(".calendar_default_rowheader_minutes","font-size: 10px; vertical-align: super; padding-left: 2px; padding-right: 2px;"),o.add(".calendar_default_colheader_inner","position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; padding: var(--dp-calendar-colheader-padding);border-right: 1px solid var(--dp-calendar-border-color); border-bottom: 1px solid var(--dp-calendar-border-color); display: flex; align-items: var(--dp-calendar-colheader-vertical-align); justify-content: var(--dp-calendar-colheader-horizontal-align);"),o.add(".calendar_default_cell_inner","position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; border-right: 1px solid var(--dp-calendar-cell-border-color); border-bottom: 1px solid var(--dp-calendar-cell-border-color); background: var(--dp-calendar-cell-bg-color);"),o.add(".calendar_default_cell_business .calendar_default_cell_inner","background: var(--dp-calendar-cell-business-bg-color);"),o.add(".calendar_default_alldayheader_inner","text-align: center; position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; border-right: 1px solid var(--dp-calendar-border-color); border-bottom: 1px solid var(--dp-calendar-border-color);"),o.add(".calendar_default_message","opacity: var(--dp-calendar-message-opacity); padding: var(--dp-calendar-message-padding); color: var(--dp-calendar-message-color); background: var(--dp-calendar-message-bg-color);"),o.add(".calendar_default_event_inner","color: var(--dp-calendar-event-color); border: var(--dp-calendar-event-border); border-radius: var(--dp-calendar-event-border-radius); background: var(--dp-calendar-event-background);"),o.add(".calendar_default_alldayevent","box-shadow: var(--dp-calendar-allday-event-box-shadow); border-radius: var(--dp-calendar-allday-event-border-radius);"),o.add(".calendar_default_alldayevent_inner","color: var(--dp-calendar-allday-event-color); border: var(--dp-calendar-allday-event-border); border-radius: var(--dp-calendar-allday-event-border-radius); background: var(--dp-calendar-allday-event-background);"),o.add(".calendar_default_event_bar","display: var(--dp-calendar-event-bar-display); top: var(--dp-calendar-event-bar-top); bottom: var(--dp-calendar-event-bar-bottom); left: var(--dp-calendar-event-bar-left); width: var(--dp-calendar-event-bar-width); background-color: var(--dp-calendar-event-bar-bg-color);"),o.add(".calendar_default_direction_rtl .calendar_default_event_bar","top: 0px; bottom: 0px; right: 0px; width: var(--dp-calendar-event-bar-width); background-color: var(--dp-calendar-event-bar-bg-color);"),o.add(".calendar_default_event_bar_inner","position: absolute; width: var(--dp-calendar-event-bar-width); background-color: var(--dp-calendar-event-bar-color);"),o.add(".calendar_default_selected .calendar_default_event_inner","background: var(--dp-calendar-selected-event-bg-color);"),o.add(".calendar_default_alldayevent_inner","position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px; overflow: hidden; padding: var(--dp-calendar-allday-event-padding); margin-right: 0px; display: flex; align-items: center; justify-content: var(--dp-calendar-allday-event-horizontal-align);"),o.add(".calendar_default_event_withheader .calendar_default_event_inner","padding-top: 15px;"),o.add(".calendar_default_event","box-shadow: var(--dp-calendar-event-box-shadow); border-radius: var(--dp-calendar-event-border-radius); cursor: default;"),o.add(".calendar_default_event_inner","position: absolute; overflow: hidden; top: 0px; bottom: 0px; left: 0px; right: 0px; padding: var(--dp-calendar-event-padding) var(--dp-calendar-event-padding) var(--dp-calendar-event-padding) var(--dp-calendar-event-padding-left);"),o.add(".calendar_default_direction_rtl .calendar_default_event_inner","padding: 2px 8px 2px 2px;"),o.add(".calendar_default_shadow_inner","box-sizing: border-box; background-color: var(--dp-calendar-shadow-color); border: 1px solid var(--dp-calendar-shadow-border-color); opacity: 0.5; height: 100%;"),o.add(".calendar_default_shadow","box-shadow: 0 2px 5px rgba(0,0,0,0.2);"),o.add(".calendar_default_shadow_forbidden:after","content: ''; position: absolute; top: 5px; left: calc(50% - 10px); border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; background-image: url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2720%27 height=%2720%27 viewBox=%270 0 20 20%27%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%279%27 fill=%27%23cc0000aa%27 /%3E%3Cline x1=%275%27 y1=%275%27 x2=%2715%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3Cline x1=%2715%27 y1=%275%27 x2=%275%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3C/svg%3E'); background-repeat: no-repeat; background-position: center; background-size: contain;"),o.add(".calendar_default_shadow_forbidden .calendar_default_shadow_inner","border: 1px solid var(--dp-calendar-forbidden-shadow-border-color); background: var(--dp-calendar-forbidden-shadow-bg-color);"),o.add(".calendar_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"),o.add(".calendar_default_event_delete:hover","opacity: 1; -ms-filter: none;"),o.add(".calendar_default_scroll_up","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAB3RJTUUH2wESDiYcrhwCiQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAARnQU1BAACxjwv8YQUAAACcSURBVHjaY2AgF9wWsTW6yGMlhi7OhC7AyMDQzMnBXIpFHAFuCtuaMTP+P8nA8P/b1x//FfW/HHuF1UQmxv+NUP1c3OxMVVhNvCVi683E8H8LXOY/w9+fTH81tF8fv4NiIpBRj+YoZtZ/LDUoJmKYhsVUpv0MDiyMDP96sIYV0FS2/8z9ICaLlOhvS4b/jC//MzC8xBG0vJeF7GQBlK0xdiUzCtsAAAAASUVORK5CYII=);"),o.add(".calendar_default_scroll_down","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAACqSURBVChTY7wpam3L9J+xmQEP+PGPKZZxP4MDi4zI78uMDIwa2NT+Z2DYovrmiC+TI8OBP/8ZmEqwGvif4e8vxr+FIDkmEKH25vBWBgbG0+iK/zEwLtF+ffwOXCGI8Y+BoRFFIdC030x/WmBiYBNhpgLdswNJ8RSYaSgmgk39z1gPUfj/29ef/9rwhQTDHRHbrbdEbLvRFcGthkkAra/9/uMvhkK8piNLAgCRpTnNn4AEmAAAAABJRU5ErkJggg==);"),o.add(".calendar_default_now","background-color: var(--dp-calendar-now-indicator-color);"),o.add(".calendar_default_now:before","content: ''; top: -5px; border-width: 5px; border-color: transparent transparent transparent var(--dp-calendar-now-indicator-color); border-style: solid; width: 0px; height: 0px; position: absolute; -moz-transform: scale(.9999);"),o.add(".calendar_default_shadow_top","box-sizing: border-box; padding: 2px; border: 1px solid var(--dp-calendar-border-color); background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); pointer-events: none;"),o.add(".calendar_default_shadow_bottom","box-sizing: border-box; padding: 2px; border: 1px solid var(--dp-calendar-border-color); background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); pointer-events: none;"),o.add(".calendar_default_crosshair_vertical, .calendar_default_crosshair_horizontal, .calendar_default_crosshair_left, .calendar_default_crosshair_top","background-color: gray; opacity: 0.2;"),o.add(".calendar_default_loading","background-color: orange; color: white; padding: 2px;"),o.add(".calendar_default_scroll","background-color: var(--dp-calendar-header-bg-color);"),o.add(".calendar_default_event_moving_source","opacity: 0.5;"),o.add(".calendar_default_colmove_handle","background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),o.add(".calendar_default_colheader:hover .calendar_default_colheader_splitter","background-color: #c0c0c0;"),o.add(".calendar_default_colmove_source","background-color: black; opacity: 0.5;"),o.add(".calendar_default_colmove_position_before","box-sizing: border-box; border-left: 2px solid #999999;"),o.add(".calendar_default_colmove_position_before:before","content: ''; border-width: 6px; border-color: transparent #999999 transparent transparent; border-style: solid; width: 0px; height: 0px; position: absolute;"),o.add(".calendar_default_colmove_position_after","box-sizing: border-box; border-right: 2px solid #999999;"),o.add(".calendar_default_colmove_position_after:before","content: ''; border-width: 6px; border-color: transparent transparent transparent #999999; border-style: solid; width: 0px; height: 0px; position: absolute;"),o.add(".calendar_default_colmove_position_child","box-sizing: border-box; border-bottom: 2px solid #999999;"),o.add(".calendar_default_colmove_position_child:before","content: ''; border-width: 6px; border-color: #999999 transparent transparent transparent; border-style: solid; width: 0px; height: 0px; position: absolute;"),o.add(".calendar_default_colmove_position_forbidden","border-top: 2px solid red;"),o.add(".calendar_default_colheader .calendar_default_colheader_splitter:hover","background-color: #999999;"),o.add(".calendar_default_block","background-color: #808080; opacity: 0.5;"),o.add(".month_default_main","  --dp-month-border-color: #c0c0c0;  --dp-month-font-family: -apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;  --dp-month-font-size: 13px;  --dp-month-cell-border-color: #ddd;  --dp-month-cell-bg-color: #f9f9f9;  --dp-month-cell-business-bg-color: #ffffff;  --dp-month-event-color: #333;  --dp-month-event-border-color: #999;  --dp-month-event-border: 1px solid var(--dp-month-event-border-color);  --dp-month-event-bg-top-color: #ffffff;  --dp-month-event-bg-bottom-color: #eeeeee;  --dp-month-event-background: linear-gradient(to bottom, var(--dp-month-event-bg-top-color) 0%, var(--dp-month-event-bg-bottom-color) 100%);  --dp-month-event-horizontal-align: flex-start;  --dp-month-event-vertical-align: center;  --dp-month-event-padding: 2px;  --dp-month-event-padding-left: 10px;  --dp-month-event-padding-rtl: 2px 10px 2px 1px;  --dp-month-event-border-radius: 0px;  --dp-month-event-box-shadow: none;  --dp-month-event-bar-top: 1px;  --dp-month-event-bar-left: 2px;  --dp-month-event-bar-bottom: 1px;  --dp-month-event-bar-width: 6px;  --dp-month-event-bar-color: #1066a8;  --dp-month-event-bar-display: block;  --dp-month-header-bg-color: #f3f3f3;  --dp-month-header-color: #333;  --dp-month-header-horizontal-align: center;  --dp-month-header-vertical-align: center;  --dp-month-header-padding: 0px;  --dp-month-message-bg-color: #ffa216;  --dp-month-message-color: #ffffff;  --dp-month-message-padding: 10px;  --dp-month-selected-event-bg-color: #ddd;  --dp-month-shadow-color: #bbbbbb;  --dp-month-shadow-border-color: #888888;"),o.add(".month_default_main *, .month_default_main *:before, .month_default_main *:after","box-sizing: content-box; "),o.add(".month_default_main","border: 1px solid var(--dp-month-border-color); font-family: var(--dp-month-font-family); font-size: var(--dp-month-font-size); color: #333; "),o.add(".month_default_cell_inner","border-right: 1px solid var(--dp-month-cell-border-color); border-bottom: 1px solid var(--dp-month-cell-border-color); position: absolute; top: 0; left: 0; bottom: 0; right: 0; background-color: var(--dp-month-cell-bg-color); "),o.add(".month_default_cell_business .month_default_cell_inner","background-color: var(--dp-month-cell-business-bg-color); "),o.add(".month_default_cell_header","text-align: right; padding: 4px; box-sizing: border-box; "),o.add(".month_default_header_inner","position: absolute; inset: 0; border-right: 1px solid var(--dp-month-border-color); border-bottom: 1px solid var(--dp-month-border-color); cursor: default; color: var(--dp-month-header-color); background: var(--dp-month-header-bg-color); overflow: hidden; display: flex; align-items: var(--dp-month-header-vertical-align); justify-content: var(--dp-month-header-horizontal-align); padding: var(--dp-month-header-padding);"),o.add(".month_default_message","opacity: 0.9; color: var(--dp-month-message-color); background: var(--dp-month-message-bg-color); padding: var(--dp-month-message-padding); "),o.add(".month_default_event","border-radius: var(--dp-month-event-border-radius); box-shadow: var(--dp-month-event-box-shadow); "),o.add(".month_default_event_inner","position: absolute; top: 0; bottom: 0; left: 1px; right: 1px; overflow: hidden; padding: var(--dp-month-event-padding) var(--dp-month-event-padding) var(--dp-month-event-padding) var(--dp-month-event-padding-left); color: var(--dp-month-event-color); background: var(--dp-month-event-background); border: var(--dp-month-event-border); border-radius: var(--dp-month-event-border-radius); display: flex; align-items: var(--dp-month-event-vertical-align); justify-content: var(--dp-month-event-horizontal-align); "),o.add(".month_default_direction_rtl .month_default_event_inner","right: 2px; padding: var(--dp-month-event-padding-rtl); "),o.add(".month_default_event_continueright .month_default_event_inner","border-top-right-radius: 0; border-bottom-right-radius: 0; border-right-style: dotted; "),o.add(".month_default_event_continueleft .month_default_event_inner","border-top-left-radius: 0; border-bottom-left-radius: 0; border-left-style: dotted; "),o.add(".month_default_event_bar","display: var(--dp-month-event-bar-display); top: var(--dp-month-event-bar-top); bottom: var(--dp-month-event-bar-bottom); left: var(--dp-month-event-bar-left); width: var(--dp-month-event-bar-width); "),o.add(".month_default_direction_rtl .month_default_event_bar","top: 1px; bottom: 1px; right: 3px; width: var(--dp-month-event-bar-width); "),o.add(".month_default_event_bar_inner","position: absolute; width: var(--dp-month-event-bar-width); background-color: var(--dp-month-event-bar-color); "),o.add(".month_default_event_continueleft .month_default_event_bar","display: none; "),o.add(".month_default_selected .month_default_event_inner","background: var(--dp-month-selected-event-bg-color); "),o.add(".month_default_shadow_inner","box-sizing: border-box; background-color: var(--dp-month-shadow-color); border: 1px solid var(--dp-month-shadow-border-color); opacity: 0.5; height: 100%; "),o.add(".month_default_shadow","box-shadow: 0 2px 5px rgba(0, 0, 0, .2); "),o.add(".month_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer; "),o.add(".month_default_event_delete:hover","opacity: 1; "),o.add(".month_default_event_timeleft","color: #ccc; font-size: 11px; display: flex; align-items: center; "),o.add(".month_default_event_timeright","color: #ccc; font-size: 11px; display: flex; align-items: center; justify-content: end; "),o.add(".month_default_loading","background-color: orange; color: white; padding: 2px; "),o.add(".month_default_shadow_forbidden:after","content: ''; position: absolute; top: calc(50% - 10px); left: 10px; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; background-image: url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2720%27 height=%2720%27 viewBox=%270 0 20 20%27%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%279%27 fill=%27%23cc0000aa%27 /%3E%3Cline x1=%275%27 y1=%275%27 x2=%2715%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3Cline x1=%2715%27 y1=%275%27 x2=%275%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3C/svg%3E'); background-repeat: no-repeat; background-position: center; background-size: contain; "),o.add(".month_default_shadow_forbidden .month_default_shadow_inner","border: 1px solid #cc0000; background: #cc4125; "),o.add(".navigator_default_main","  --dp-nav-border-color: #c0c0c0;  --dp-nav-font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;  --dp-nav-font-size: 12px;  --dp-nav-title-color: #333;  --dp-nav-title-bg-color: #f3f3f3;  --dp-nav-dayheader-color: #333;  --dp-nav-dayheader-bg-color: #ffffff;  --dp-nav-weeknumber-color: #999;  --dp-nav-weeknumber-bg-color: #ffffff;  --dp-nav-day-color: #000;  --dp-nav-day-bg-color: #ffffff;  --dp-nav-dayother-color: gray;  --dp-nav-dayother-bg-color: #ffffff;  --dp-nav-weekend-bg-color: #f0f0f0;  --dp-nav-select-bg-color: #FFE794;  --dp-nav-text-align: center;"),o.add(".navigator_default_main *, .navigator_default_main *:before, .navigator_default_main *:after","box-sizing: content-box;"),o.add(".navigator_default_main","border-left: 1px solid var(--dp-nav-border-color);border-right: 1px solid var(--dp-nav-border-color);border-bottom: 1px solid var(--dp-nav-border-color);background-color: white;color: var(--dp-nav-day-color);box-sizing: content-box;"),o.add(".navigator_default_month","font-family: var(--dp-nav-font-family);font-size: var(--dp-nav-font-size);"),o.add(".navigator_default_day","color: var(--dp-nav-day-color); background-color: var(--dp-nav-day-bg-color);"),o.add(".navigator_default_weekend","background-color: var(--dp-nav-weekend-bg-color);"),o.add(".navigator_default_dayheader","color: var(--dp-nav-dayheader-color);background-color: var(--dp-nav-dayheader-bg-color);text-align: var(--dp-nav-text-align);padding: 0px;"),o.add(".navigator_default_line","border-bottom: 1px solid var(--dp-nav-border-color);"),o.add(".navigator_default_dayother","color: var(--dp-nav-dayother-color); background-color: var(--dp-nav-dayother-bg-color);"),o.add(".navigator_default_todaybox","border: 1px solid red;"),o.add(".navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright","box-sizing: border-box; border-top: 1px solid var(--dp-nav-border-color);border-bottom: 1px solid var(--dp-nav-border-color);color: var(--dp-nav-title-color);background: var(--dp-nav-title-bg-color);text-align: var(--dp-nav-text-align);"),o.add(".navigator_default_busy","font-weight: bold;"),o.add(".navigator_default_cell","text-align: var(--dp-nav-text-align);"),o.add(".navigator_default_select .navigator_default_cell_box","background-color: var(--dp-nav-select-bg-color);opacity: 0.5;"),o.add(".navigator_default_weeknumber","text-align: var(--dp-nav-text-align);color: var(--dp-nav-weeknumber-color);background: var(--dp-nav-weeknumber-bg-color);"),o.add(".navigator_default_cell_text","cursor: pointer;"),o.add(".navigator_default_todaysection","box-sizing: border-box; display: flex; align-items: center; justify-content: center; border-top: 1px solid var(--dp-nav-border-color);"),o.add(".navigator_default_todaysection_button","cursor: pointer; color: #333; background-color: #f0f0f0; border: 1px solid var(--dp-nav-border-color); padding: 5px 10px; border-radius: 0px; "),o.add(".scheduler_default_main",'  --dp-scheduler-border-color: #c0c0c0;  --dp-scheduler-border-inner-color: #e0e0e0;  --dp-scheduler-cell-bg-color: #f9f9f9;  --dp-scheduler-cell-business-bg-color: #ffffff;  --dp-scheduler-event-background: linear-gradient(to bottom, var(--dp-scheduler-event-bg-top-color) 0%, var(--dp-scheduler-event-bg-bottom-color) 100%);  --dp-scheduler-event-bg-bottom-color: #eeeeee;  --dp-scheduler-event-bg-top-color: #ffffff;  --dp-scheduler-event-bar-bg-color: #9dc8e8;  --dp-scheduler-event-bar-color: #1066a8;  --dp-scheduler-event-bar-display: block;  --dp-scheduler-event-bar-height: 4px;  --dp-scheduler-event-bar-left: 0px;  --dp-scheduler-event-bar-right: 0px;  --dp-scheduler-event-bar-top: 0px;  --dp-scheduler-event-border: 1px solid var(--dp-scheduler-event-border-color);  --dp-scheduler-event-border-color: #ccc;  --dp-scheduler-event-border-radius: 10px;  --dp-scheduler-event-box-shadow: none;  --dp-scheduler-event-color: #333;  --dp-scheduler-event-horizontal-align: flex-start;  --dp-scheduler-event-milestone-color: #38761d;  --dp-scheduler-event-padding: 2px;  --dp-scheduler-event-selected-bg-color: #ddd;  --dp-scheduler-event-vertical-align: center;  --dp-scheduler-focus-outline-color: red;  --dp-scheduler-font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;  --dp-scheduler-font-size: 13px;  --dp-scheduler-grid-line-break-color: #999;  --dp-scheduler-grid-line-color: #eee;  --dp-scheduler-header-bg-color: #f3f3f3;  --dp-scheduler-header-color: #333;  --dp-scheduler-link-color: #cc0000;  --dp-scheduler-message-bg-color: #ffa216;  --dp-scheduler-message-color: #ffffff;  --dp-scheduler-message-padding: 10px;  --dp-scheduler-rowheader-padding: 7px;  --dp-scheduler-rowheader-vertical-align: center;  --dp-scheduler-selectionrectangle-color: #1066a8;  --dp-scheduler-shadow-border-color: #888888;  --dp-scheduler-shadow-color: #bbbbbb;  --dp-scheduler-timeheader-horizontal-align: center;  --dp-scheduler-timeheader-padding: 0px;  --dp-scheduler-timeheader-vertical-align: center;'),o.add(".scheduler_default_main *, .scheduler_default_main *:before, .scheduler_default_main *:after","box-sizing: content-box;"),o.add(".scheduler_default_main, .scheduler_default_main svg text","box-sizing: content-box; border: 1px solid var(--dp-scheduler-border-color); font-family: var(--dp-scheduler-font-family); font-size: var(--dp-scheduler-font-size);"),o.add(".scheduler_default_selected .scheduler_default_event_inner","background: var(--dp-scheduler-event-selected-bg-color);"),o.add(".scheduler_default_timeheader_scroll","background: var(--dp-scheduler-header-bg-color);"),o.add(".scheduler_default_message","opacity: 0.9; padding: var(--dp-scheduler-message-padding); color: var(--dp-scheduler-message-color); background: var(--dp-scheduler-message-bg-color);"),o.add(".scheduler_default_timeheadergroup,.scheduler_default_timeheadercol","color: var(--dp-scheduler-header-color); background: var(--dp-scheduler-header-bg-color);"),o.add(".scheduler_default_rowheader,.scheduler_default_corner","color: var(--dp-scheduler-header-color); background: var(--dp-scheduler-header-bg-color);"),o.add(".scheduler_default_rowheader.scheduler_default_rowheader_selected","background-color: #aaa; background-image: linear-gradient(45deg, rgba(255,255,255,0.2) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.2) 75%, transparent 75%, transparent); background-size: 20px 20px;"),o.add(".scheduler_default_rowheader_inner","position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; border-right: 1px solid var(--dp-scheduler-border-inner-color); padding: var(--dp-scheduler-rowheader-padding); display: flex; align-items: var(--dp-scheduler-rowheader-vertical-align);"),o.add(".scheduler_default_timeheadergroup_inner, .scheduler_default_timeheadercol_inner","position: absolute; left: 0; right: 0; top: 0; bottom: 0;  border-right: 1px solid var(--dp-scheduler-border-color);"),o.add(".scheduler_default_timeheadergroup_inner","border-bottom: 1px solid var(--dp-scheduler-border-color);"),o.add(".scheduler_default_timeheadergroup_inner, .scheduler_default_timeheadercol_inner, .scheduler_default_timeheader_float","display: flex; align-items: var(--dp-scheduler-timeheader-vertical-align); justify-content: var(--dp-scheduler-timeheader-horizontal-align); padding: var(--dp-scheduler-timeheader-padding);"),o.add(".scheduler_default_divider, .scheduler_default_splitter","background-color: var(--dp-scheduler-border-color);"),o.add(".scheduler_default_divider_horizontal","background-color: var(--dp-scheduler-border-color);"),o.add(".scheduler_default_matrix_vertical_line","background-color: var(--dp-scheduler-grid-line-color);"),o.add(".scheduler_default_matrix_vertical_break","background-color: var(--dp-scheduler-grid-line-break-color);"),o.add(".scheduler_default_matrix_horizontal_line","background-color: var(--dp-scheduler-grid-line-color);"),o.add(".scheduler_default_resourcedivider","background-color: var(--dp-scheduler-border-color);"),o.add(".scheduler_default_shadow_inner","box-sizing: border-box; background-color: var(--dp-scheduler-shadow-color); border: 1px solid var(--dp-scheduler-shadow-border-color); border-radius: var(--dp-scheduler-event-border-radius); opacity: 0.5; height: 100%;"),o.add(".scheduler_default_shadow","box-shadow: 0 2px 5px rgba(0,0,0,.2); border-radius: var(--dp-scheduler-event-border-radius);"),o.add(".scheduler_default_event","font-size: var(--dp-scheduler-font-size); color: var(--dp-scheduler-event-color); border-radius: var(--dp-scheduler-event-border-radius); box-shadow: var(--dp-scheduler-event-box-shadow);"),o.add(".scheduler_default_event_inner","position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px; border-radius: var(--dp-scheduler-event-border-radius); padding: var(--dp-scheduler-event-padding); overflow: hidden; border: var(--dp-scheduler-event-border); display: flex; align-items: var(--dp-scheduler-event-vertical-align); justify-content: var(--dp-scheduler-event-horizontal-align); background: var(--dp-scheduler-event-background);"),o.add(".scheduler_default_event_bar","display: var(--dp-scheduler-event-bar-display);top: var(--dp-scheduler-event-bar-top); left: var(--dp-scheduler-event-bar-left); right: var(--dp-scheduler-event-bar-right); height: var(--dp-scheduler-event-bar-height); background-color: var(--dp-scheduler-event-bar-bg-color);"),o.add(".scheduler_default_event_bar_inner","position:absolute; height: var(--dp-scheduler-event-bar-height); background-color: var(--dp-scheduler-event-bar-color);"),o.add(".scheduler_default_event_float","display: flex; align-items: center;"),o.add(".scheduler_default_event_float_inner","padding: var(--dp-scheduler-event-padding) var(--dp-scheduler-event-padding) var(--dp-scheduler-event-padding) 8px; position: relative;"),o.add(".scheduler_default_event_float_inner:after",'content:""; border-color: transparent #666 transparent transparent; border-style:solid; border-width:5px; width:0; height:0; position:absolute; top: calc(50% - 5px); left:-4px;'),o.add(".scheduler_default_event_focus","outline: var(--dp-scheduler-focus-outline-color) 2px solid; z-index: 100; opacity: 0.5;"),o.add(".scheduler_default_columnheader_inner","font-weight: bold;"),o.add(".scheduler_default_columnheader_splitter","box-sizing: border-box; border-right: 1px solid var(--dp-scheduler-border-color);"),o.add(".scheduler_default_columnheader_splitter:hover","background-color: var(--dp-scheduler-border-color);"),o.add(".scheduler_default_columnheader_cell_inner","position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; padding: 2px; display: flex; align-items: center;"),o.add(".scheduler_default_cell","background-color: var(--dp-scheduler-cell-bg-color);"),o.add(".scheduler_default_cell.scheduler_default_cell_business","background-color: var(--dp-scheduler-cell-business-bg-color);"),o.add(".scheduler_default_cell.scheduler_default_cell_business.scheduler_default_cell_selected, .scheduler_default_cell.scheduler_default_cell_selected","background-color: #ccc; background-image: linear-gradient(45deg, rgba(255,255,255,0.2) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.2) 75%, transparent 75%, transparent); background-size: 20px 20px;"),o.add(".scheduler_default_tree_image_no_children",""),o.add(".scheduler_default_tree_image_expand","background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxwYXRoIGQ9J00gMS41IDAuNSBMIDYuNSA1IEwgMS41IDkuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6Izk5OTk5OTtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=);"),o.add(".scheduler_default_tree_image_collapse","background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMS41IEwgNSA2LjUgTCA5LjUgMS41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==);"),o.add(".scheduler_default_event_delete","background: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTInIGhlaWdodD0nMTInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgMTEuNSAxMS41IE0gMC41IDExLjUgTCAxMS41IDAuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6IzQ2NDY0NjtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=) no-repeat center center; opacity: 0.6; cursor: pointer;"),o.add(".scheduler_default_event_delete:hover","opacity: 1;"),o.add(".scheduler_default_rowmove_handle","background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),o.add(".scheduler_default_rowmove_source","background-color: black; opacity: 0.2;"),o.add(".scheduler_default_rowmove_position_before, .scheduler_default_rowmove_position_after","background-color: #999; height: 2px;"),o.add(".scheduler_default_rowmove_position_child","margin-left: 20px; background-color: #999; height: 2px;"),o.add(".scheduler_default_rowmove_position_forbidden","background-color: #cc0000; height: 2px; margin-left: 20px;"),o.add(".scheduler_default_link_horizontal","border-bottom-style: solid; border-bottom-color: var(--dp-scheduler-link-color);"),o.add(".scheduler_default_link_vertical","border-right-style: solid; border-right-color: var(--dp-scheduler-link-color);"),o.add(".scheduler_default_link_arrow_right:before","content: ''; border-width: 6px; border-color: transparent transparent transparent var(--dp-scheduler-link-color); border-style: solid; width: 0; height:0; position: absolute;"),o.add(".scheduler_default_link_arrow_left:before","content: ''; border-width: 6px; border-color: transparent var(--dp-scheduler-link-color) transparent transparent; border-style: solid; width: 0; height:0; position: absolute;"),o.add(".scheduler_default_link_arrow_down:before","content: ''; border-width: 6px; border-color: var(--dp-scheduler-link-color) transparent transparent transparent; border-style: solid; width: 0; height:0; position: absolute;"),o.add(".scheduler_default_link_arrow_up:before","content: ''; border-width: 6px; border-color: transparent transparent var(--dp-scheduler-link-color) transparent; border-style: solid; width: 0; height:0; position: absolute;"),o.add(".scheduler_default_link_mshadow.scheduler_default_link_horizontal","border-bottom-color: #aaaaaa;"),o.add(".scheduler_default_link_mshadow.scheduler_default_link_vertical","border-right-color: #aaaaaa;"),o.add(".scheduler_default_link_mshadow.scheduler_default_link_arrow_right:before","border-color: transparent transparent transparent #aaaaaa;"),o.add(".scheduler_default_link_mshadow.scheduler_default_link_arrow_left:before","border-color: transparent #aaaaaa transparent transparent;"),o.add(".scheduler_default_link_mshadow.scheduler_default_link_arrow_down:before","border-color: #aaaaaa transparent transparent transparent;"),o.add(".scheduler_default_link_mshadow.scheduler_default_link_arrow_up:before","border-color: transparent transparent #aaaaaa transparent;"),o.add(".scheduler_default_block","background-color: #808080; opacity: 0.5;"),o.add(".scheduler_default_main .scheduler_default_event_group","box-sizing: border-box; font-size: 13px; color: #666; padding: 2px; overflow:hidden; border:1px solid var(--dp-scheduler-event-border-color); background-color: #fff; display: flex; align-items: center; white-space: nowrap;"),o.add(".scheduler_default_main .scheduler_default_header_icon","box-sizing: border-box; border: 1px solid var(--dp-scheduler-border-color); background-color: var(--dp-scheduler-header-bg-color); color: var(--dp-scheduler-header-color);"),o.add(".scheduler_default_header_icon:hover","background-color: #ccc;"),o.add(".scheduler_default_header_icon_hide:before","content: '\\00AB';"),o.add(".scheduler_default_header_icon_show:before","content: '\\00BB';"),o.add(".scheduler_default_row_new .scheduler_default_rowheader_inner","padding-left: 10px; color: #666; cursor: text; background-position: 0px 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),o.add(".scheduler_default_row_new .scheduler_default_rowheader_inner:hover","background: white; color: white;"),o.add(".scheduler_default_rowheader textarea","padding: 3px;"),o.add(".scheduler_default_rowheader_scroll","cursor: default; background: var(--dp-scheduler-header-bg-color);"),o.add(".scheduler_default_shadow_forbidden .scheduler_default_shadow_inner, .scheduler_default_shadow_overlap .scheduler_default_shadow_inner","border: 1px solid #cc0000; background: #cc4125;"),o.add(".scheduler_default_event_moving_source","opacity: 0.5;"),o.add(".scheduler_default_linkpoint","background-color: white; border: 1px solid gray; border-radius: 5px;"),o.add(".scheduler_default_linkpoint.scheduler_default_linkpoint_hover","background-color: black;"),o.add(".scheduler_default_event.scheduler_default_event_version .scheduler_default_event_inner","overflow:hidden; background-color: #cfdde8; background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent); background-size: 20px 20px;"),o.add(".scheduler_default_crosshair_vertical, .scheduler_default_crosshair_horizontal, .scheduler_default_crosshair_left, .scheduler_default_crosshair_top","background-color: gray; opacity: 0.2;"),o.add(".scheduler_default_link_dot","border-radius: 10px; background-color: var(--dp-scheduler-link-color);"),o.add(".scheduler_default_task_milestone .scheduler_default_event_inner","position:absolute; top:16%; left:16%; right:16%; bottom:16%; background: var(--dp-scheduler-event-milestone-color); border: 0px none; transform: rotate(45deg); filter: none;"),o.add(".scheduler_default_event_left, .scheduler_default_event_right","white-space: nowrap; color: #666; cursor: default; display: flex; align-items: center;"),o.add(".scheduler_default_main:focus","outline: none;"),o.add(".scheduler_default_cell_focus","outline: var(--dp-scheduler-focus-outline-color) 2px solid; outline-offset: -2px; z-index: 100; opacity: 0.5;"),o.add(".scheduler_default_cell_focus.scheduler_default_cell_focus_top","border-top: 4px solid var(--dp-scheduler-focus-outline-color);"),o.add(".scheduler_default_cell_focus.scheduler_default_cell_focus_bottom","border-bottom: 4px solid var(--dp-scheduler-focus-outline-color);"),o.add(".scheduler_default_selectionrectangle","background-color: var(--dp-scheduler-selectionrectangle-color); border: 1px solid #000033; opacity: 0.4;"),o.add(".scheduler_default_link_shadow","border:1px solid black;"),o.add(".scheduler_default_link_shadow_circle","background-color:black;"),o.add(".scheduler_default_event_move_left","box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); display: flex; align-items: center;"),o.add(".scheduler_default_event_move_right","box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); display: flex; align-items: center;"),o.add(".scheduler_default_link_hover","box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"),o.add(".scheduler_default_sorticon","opacity: 0.2;background-position: center center; background-repeat: no-repeat; cursor: pointer;"),o.add(".scheduler_default_sorticon.scheduler_default_sorticon_asc","background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDEuNSwgMTAgMTAsIDAgMTAiLz48L3N2Zz4=');"),o.add(".scheduler_default_sorticon.scheduler_default_sorticon_desc","background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDguNSwgMCAwLCAxMCAwIi8+PC9zdmc+');"),o.add(".scheduler_default_sorticon.scheduler_default_sorticon_active","opacity: 1;"),o.add(".scheduler_default_loading","background-color: orange; color: white; padding: 2px;"),o.add(".scheduler_default_link_curve","stroke: var(--dp-scheduler-link-color); fill: none; stroke-width: 2;"),o.add(".scheduler_default_link_curve:hover","stroke-opacity: 0.5;"),o.add(".scheduler_default_link_curve_dot","fill: var(--dp-scheduler-link-color);"),o.add(".scheduler_default_link_curve_marker","fill: var(--dp-scheduler-link-color);"),o.add(".scheduler_default_link_curve_text","fill: var(--dp-scheduler-link-color);"),o.add(".scheduler_default_link_curve_mshadow.scheduler_default_link_curve","stroke: #aaaaaa;"),o.add(".scheduler_default_link_curve_mshadow.scheduler_default_link_curve_dot","fill: #aaaaaa;"),o.add(".scheduler_default_link_curve_mshadow.scheduler_default_link_curve_marker","fill: #aaaaaa;"),o.add(".scheduler_default_link_curve_mshadow.scheduler_default_link_curve_text","fill: #aaaaaa;"),o.commit(),e.Global.defaultCss=!0}})(),e.doc=function(){var o=document.documentElement;return o&&o.clientHeight?o:document.body},e.sh=function(o){return o?o.offsetHeight-o.clientHeight:0},e.guid=function(){var o=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return""+o()+o()+"-"+o()+"-"+o()+"-"+o()+"-"+o()+o()+o()},e.ua=function(o){if(!e.isArray(o))throw new e.Exception("DayPilot.ua() - array required");var c=[];return o.forEach(function(d){e.contains(c,d)||c.push(d)}),c},e.pageOffset=function(){if(typeof pageXOffset<"u")return{x:pageXOffset,y:pageYOffset};var o=e.doc();return{x:o.scrollLeft,y:o.scrollTop}},e.indexOf=function(o,c){if(!o||!o.length)return-1;for(var d=0;d<o.length;d++)if(o[d]===c)return d;return-1},e.contains=function(o,c){if(arguments.length!==2)throw new e.Exception("DayPilot.contains() requires two arguments.");return!!o&&(o===c&&!e.isArray(o)||e.indexOf(o,c)!==-1)},e.ac=function(o,d){if(!d)var d=[];for(var u=0;o.children&&u<o.children.length;u++)d.push(o.children[u]),e.ac(o.children[u],d);return d},e.rfa=function(o,c){var d=e.indexOf(o,c);d!==-1&&o.splice(d,1)},e.mc=function(o){return o.pageX||o.pageY?{x:o.pageX,y:o.pageY}:{x:o.clientX+document.documentElement.scrollLeft,y:o.clientY+document.documentElement.scrollTop}},e.Stats={},e.Stats.eventObjects=0,e.Stats.dateObjects=0,e.Stats.cacheHitsCtor=0,e.Stats.cacheHitsParsing=0,e.Stats.cacheHitsTicks=0,e.re=function(o,c,d){d&&c&&o&&o.addEventListener(c,d,!1)},e.rePassive=function(o,c,d){d&&c&&o&&o.addEventListener(c,d,{passive:!0})},e.reNonPassive=function(o,c,d){d&&c&&o&&o.addEventListener(c,d,{passive:!1})},e.ue=function(o,c,d){o.removeEventListener(c,d,!1)},e.pu=function(o){var c,d,u,l=o.attributes;if(l)for(d=l.length,c=0;c<d;c+=1)l[c]&&(u=l[c].name,typeof o[u]=="function"&&(o[u]=null));if(l=o.childNodes)for(d=l.length,c=0;c<d;c+=1)e.pu(o.childNodes[c])},e.de=function(o){if(o)if(e.isArray(o))for(var c=0;c<o.length;c++)e.de(o[c]);else o.parentNode&&o.parentNode.removeChild(o)},e.sw=function(o){return o?o.offsetWidth-o.clientWidth:0},e.am=function(){return typeof angular>"u"?null:(e.am.cached||(e.am.cached=angular.module("daypilot",[])),e.am.cached)},e.Selection=function(o,c,d,u){this.type="selection",this.start=o.isDayPilotDate?o:new e.Date(o),this.end=c.isDayPilotDate?c:new e.Date(c),this.resource=d,this.root=u,this.toJSON=function(l){var f={};return f.start=this.start,f.end=this.end,f.resource=this.resource,f}},e.request=function(o,c,d,u){var l=e.createXmlHttp();l&&(l.open("POST",o,!0),l.setRequestHeader("Content-type","text/plain"),l.onreadystatechange=function(){if(l.readyState===4)return l.status!==200&&l.status!==304?void(u?u(l):window.console&&console.log("HTTP error "+l.status)):void c(l)},l.readyState!==4&&(typeof d=="object"&&(d=JSON.stringify(d)),l.send(d)))},e.ajax=function(o){if(!o)throw new e.Exception("Parameter object required.");if(typeof o.url!="string")throw new e.Exception("The parameter object must have 'url' property.");var c=e.createXmlHttp();if(!c)throw new e.Exception("Unable to create XMLHttpRequest object");var d=typeof o.data=="object",u=o.data,l=o.method||(o.data?"POST":"GET"),f=o.success||function(){},m=o.error||function(){},p=o.url,x=o.contentType||(d?"application/json":"text/plain"),b=o.headers||{};c.open(l,p,!0),c.setRequestHeader("Content-type",x),e.Util.ownPropsAsArray(b).forEach(function(h){c.setRequestHeader(h.key,h.val)}),c.onreadystatechange=function(){if(c.readyState===4)if(c.status===200||c.status===201||c.status===204||c.status===304){var h={};h.request=c,c.responseText&&(h.data=JSON.parse(c.responseText)),f(h)}else if(m){var h={};h.request=c,m(h)}else window.console&&console.log("HTTP error "+c.status)},c.readyState!==4&&(d&&(u=JSON.stringify(u)),c.send(u))},e.createXmlHttp=function(){return new XMLHttpRequest},e.Http={},e.Http.ajax=function(o){e.ajax(o)},e.Http.get=function(o,c){return c=c||{},new Promise(function(d,u){var l={};l.url=o,l.method="GET",l.success=function(f){d(f)},l.error=function(f){u(f)},l.contentType=c.contentType,l.headers=c.headers,e.ajax(l)})},e.Http.post=function(o,c,d){return d=d||{},new Promise(function(u,l){var f={};f.url=o,f.method="POST",f.data=c,f.success=function(m){u(m)},f.error=function(m){l(m)},f.contentType=d.contentType,f.headers=d.headers,e.ajax(f)})},e.Http.put=function(o,c,d){return d=d||{},new Promise(function(u,l){var f={};f.url=o,f.method="PUT",f.data=c,f.success=function(m){u(m)},f.error=function(m){l(m)},f.contentType=d.contentType,f.headers=d.headers,e.ajax(f)})},e.Http.delete=function(o,c){return c=c||{},new Promise(function(d,u){var l={};l.url=o,l.method="DELETE",l.success=function(f){d(f)},l.error=function(f){u(f)},l.contentType=c.contentType,l.headers=c.headers,e.ajax(l)})},e.Util={},e.Util.addClass=function(o,c){if(o){if(!o.className)return void(o.className=c);new RegExp("(^|\\s)"+c+"($|\\s)").test(o.className)||(o.className=o.className+" "+c)}},e.Util.removeClass=function(o,c){if(o){var d=new RegExp("(^|\\s)"+c+"($|\\s)");o.className=o.className.replace(d," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}},e.Util.copyProps=function(o,c,d){if(c||(c={}),!o)return c;if(typeof d>"u")for(var u in o)o.hasOwnProperty(u)&&typeof o[u]<"u"&&(c[u]=o[u]);else for(var l=0;l<d.length;l++){var u=d[l];typeof o[u]<"u"&&(c[u]=o[u])}return c},e.Util.ownPropsAsArray=function(o){var c=[];if(!o)return c;for(var d in o)if(o.hasOwnProperty(d)){var u={};u.key=d,u.val=o[d],c.push(u)}return c},e.Util.atLeast=function(o,c){return Math.max(o,c)},e.Util.mouseButton=function(o){var c={};switch(o.button){case 0:c.left=!0;break;case 1:c.middle=!0;break;case 2:c.right=!0}return c},e.Util.replaceCharAt=function(o,c,d){return o.substr(0,c)+d+o.substr(c+d.length)},e.Util.isNullOrUndefined=function(o){return o===null||typeof o>"u"},e.Util.escapeHtml=function(o){var c=document.createElement("div");return c.innerText=o,c.innerHTML},e.Util.escapeTextHtml=function(o,c){return e.Util.isNullOrUndefined(c)?e.Util.isNullOrUndefined(o)?"":e.Util.escapeHtml(o):c},e.Util.isSameEvent=function(o,c){return!(!o||!c)&&(o=o instanceof e.Event?o.data:o,c=c instanceof e.Event?c.data:c,o===c||!e.Util.isNullOrUndefined(o.id)&&o.id===c.id)},e.Util.overlaps=function(o,c,d,u){return!(c<=d||o>=u)},e.Util.isVueVNode=function(o){return!!o&&(e.isArray(o)?e.Util.isVueVNode(o[0]):o.__v_isVNode)},e.Util.isMouseEvent=function(o){return!!o&&(o.pointerType==="mouse"||o instanceof MouseEvent)},e.Areas={},e.Areas.attach=function(o,c,u){var u=u||{},l=u.areas,f=u.allowed||function(){return!0},m=u.offsetX||0;l=a(c,l),l&&e.isArray(l)&&l.length!==0&&(e.re(o,"mousemove",function(p){o.active||o.areasDisabled||!f()||e.Areas.showAreas(o,c,p,l,{offsetX:m,eventDiv:u.eventDiv})}),e.re(o,"mouseleave",function(p){e.Areas.hideAreas(o,p)}),l.forEach(function(p){if(e.Areas.isVisible(p)){var x=e.Areas.createArea(o,c,p,{offsetX:m,eventDiv:u.eventDiv});o.appendChild(x)}}))},e.Areas.disable=function(o){o.areasDisabled=!0,Array.from(o.childNodes).filter(function(c){return c.isActiveArea&&!c.area.start}).forEach(function(c){c.c=c.style.display,c.style.display="none"})},e.Areas.enable=function(o){o.areasDisabled=!1,Array.from(o.childNodes).filter(function(c){return c.isActiveArea&&!c.area.start}).forEach(function(c){c.c?c.style.display=c.c:c.style.display=""})},e.Areas.remove=function(o){var c=Array.from(o.childNodes).filter(function(d){return d.isActiveArea});e.de(c)},e.Areas.isVisible=function(o){var c=o.visibility||o.v||"Visible";return c==="Visible"||c==="TouchVisible"&&!e.browser.hover},e.Areas.copy=function(o){return e.isArray(o)?o.map(function(c){return e.Util.copyProps(c,{})}):[]};var a=function(o,c){return e.isArray(c)||(c=o.areas,c||(o.cache?c=o.cache.areas:o.data&&(c=o.data.areas))),c};e.Areas.showAreas=function(o,c,d,u,l){if(!e.Global.resizing&&!e.Global.moving&&!e.Global.selecting&&!o.active&&e.browser.hover){if(e.Areas.all&&e.Areas.all.length>0)for(var f=0;f<e.Areas.all.length;f++){var m=e.Areas.all[f];m!==o&&e.Areas.hideAreas(m,d)}if(o.active={},e.isArray(u)||(u=c.areas,u||(c.cache?u=c.cache.areas:c.data&&(u=c.data.areas))),u&&u.length!==0&&!(o.areas&&o.areas.length>0)){o.areas=[];for(var f=0;f<u.length;f++){var p=u[f];if(!e.Areas.isVisible(p)){var x=e.Areas.createArea(o,c,p,l);o.areas.push(x),o.appendChild(x),e.Areas.all.push(o)}}o.active.children=e.ac(o)}}},e.Areas.createArea=function(o,c,d,x){function l(M,R,B){var L={};return L.area=M,L.source=R,L.originalEvent=B,L.preventDefault=function(){L.preventDefault.value=!0},typeof M.onClick=="function"&&M.onClick(L),L}function f(M,R,B){e.Bubble&&e.Bubble.touchPosition(B),M.calendar.bubble&&M.calendar.bubble.showEvent(M,!0)}function m(M,R,B,L){e.Menu&&e.Menu.touchPosition(L);var $=B.contextMenu||B.menu;if($ instanceof e.Menu||(R.isEvent&&R.client.contextMenu()?$=R.client.contextMenu():R.isEvent&&R.calendar.contextMenu&&($=R.calendar.contextMenu)),$&&$.show){var I={type:"area",div:M,e:R,area:B,a:h};$.show(R,{initiator:I})}}function p(M){return typeof M=="string"&&isNaN(M)?M:typeof M<"u"?M+"px":void 0}var x=x||{},b=(x.offsetX,x.eventDiv||o),h=document.createElement("div");h.isActiveArea=!0,h.area=d,h.setAttribute("unselectable","on");var y=d.w||d.width,w=d.h||d.height,S=d.cssClass||d.css||d.className;if(typeof d.style<"u"&&h.setAttribute("style",d.style),h.style.position="absolute",h.style.width=p(y),h.style.height=p(w),h.style.right=p(d.right),h.style.top=p(d.top),h.style.left=p(d.left),h.style.bottom=p(d.bottom),h.style.borderRadius=p(d.borderRadius),typeof d.html<"u"||typeof d.text<"u")h.innerHTML=e.Util.escapeTextHtml(d.text,d.html);else if(d.icon){var N=document.createElement("i");N.className=d.icon,h.appendChild(N)}else if(d.image){var _=document.createElement("img");_.src=d.image,h.appendChild(_)}else if(d.symbol){var k="http://www.w3.org/2000/svg",E=document.createElementNS(k,"svg");E.setAttribute("width","100%"),E.setAttribute("height","100%");var T=document.createElementNS(k,"use");T.setAttribute("href",d.symbol),E.appendChild(T),h.appendChild(E)}if(S&&(h.className=S),d.toolTip&&h.setAttribute("title",d.toolTip),d.backColor&&(h.style.background=d.backColor),d.background&&(h.style.background=d.background),d.fontColor&&(h.style.color=d.fontColor),d.padding&&(h.style.padding=d.padding+"px",h.style.boxSizing="border-box"),d.borderColor){const M=d.borders;M?(M.top&&(h.style.borderTop="1px solid "+d.borderColor),M.right&&(h.style.borderRight="1px solid "+d.borderColor),M.bottom&&(h.style.borderBottom="1px solid "+d.borderColor),M.left&&(h.style.borderLeft="1px solid "+d.borderColor)):h.style.border="1px solid "+d.borderColor,h.style.boxSizing="border-box"}if(d.verticalAlignment)switch(h.style.display="flex",d.verticalAlignment){case"center":h.style.alignItems="center";break;case"top":h.style.alignItems="flex-start";break;case"bottom":h.style.alignItems="flex-end"}if(d.horizontalAlignment)switch(h.style.display="flex",d.horizontalAlignment){case"right":h.style.justifyContent="flex-end";break;case"left":h.style.justifyContent="flex-start";break;case"center":h.style.justifyContent="center"}if(d.action==="ResizeEnd"||d.action==="ResizeStart"||d.action==="Move"){if(c.calendar.isCalendar)switch(d.action){case"ResizeEnd":d.cursor="s-resize",d.dpBorder="bottom";break;case"ResizeStart":d.cursor="n-resize",d.dpBorder="top";break;case"Move":d.cursor="move"}if(c.calendar.isScheduler||c.calendar.isMonth)switch(d.action){case"ResizeEnd":d.cursor="e-resize",d.dpBorder="right";break;case"ResizeStart":d.cursor="w-resize",d.dpBorder="left";break;case"Move":d.cursor="move"}h.onmousemove=(function(M,R,B){return function(L){R.calendar.internal&&R.calendar.internal.dragInProgress&&R.calendar.internal.dragInProgress()||(L.cancelBubble=!0,M.style.cursor=B.cursor,B.dpBorder&&(M.dpBorder=B.dpBorder))}})(b,c,d),h.onmouseout=(function(M,R,B){return function(L){M.style.cursor=""}})(b)}if((d.action==="ResizeEnd"||d.action==="ResizeStart")&&c.isEvent&&c.calendar.internal.touch){var D=(function(M,R,B){return function(L){L.cancelBubble=!0;var $=R.calendar.internal.touch,I=L.touches?L.touches[0]:L,z={x:I.pageX,y:I.pageY};R.calendar.coords=$.relativeCoords(L),$.preventEventTap=!0,R.calendar.isScheduler?$.startResizing(M,B.action==="ResizeEnd"?"right":"left"):R.calendar.isCalendar&&$.startResizing(M,B.action==="ResizeEnd"?"bottom":"top",z)}})(b,c,d);e.rePassive(h,e.touch.start,D)}if(d.action==="ContextMenu"&&c.isEvent&&c.calendar.internal.touch){var D=(function(R,B,L){return function($){$.cancelBubble=!0,$.preventDefault(),m(R,B,L,$),B.calendar.internal.touch.preventEventTap=!0}})(b,c,d),P=(function(R,B,L){return function($){$.cancelBubble=!0,$.preventDefault()}})();e.reNonPassive(h,e.touch.start,D),e.reNonPassive(h,e.touch.end,P)}if(d.action==="Bubble"&&c.isEvent&&c.calendar.internal.touch){var D=(function(B,L,$){return function(I){I.cancelBubble=!0,I.preventDefault();var z=l($,L,I);z.preventDefault.value||(f(L,$,I),L.calendar.internal.touch.preventEventTap=!0,typeof $.onClicked=="function"&&$.onClicked(z))}})(b,c,d),P=(function(B,L,$){return function(I){I.cancelBubble=!0,I.preventDefault()}})();e.reNonPassive(h,e.touch.start,D),e.reNonPassive(h,e.touch.end,P)}if(d.action==="Move"&&c.isEvent&&c.calendar.internal.touch){var D=(function(R,B,L){return function($){$.cancelBubble=!0;var I=B.calendar.internal.touch,z=$.touches?$.touches[0]:$,H={x:z.pageX,y:z.pageY};B.calendar.coords=I.relativeCoords($),e.Global&&e.Global.touch&&(e.Global.touch.active=!0),I.preventEventTap=!0,I.startMoving(R,H)}})(b,c);e.rePassive(h,e.touch.start,D)}if(d.action==="Bubble"&&c.isEvent?(h.onmousemove=(function(M,R,B){return function(L){B.bubble?B.bubble.showEvent(R,!0):R.calendar.bubble&&R.calendar.bubble.showEvent(R,!0)}})(o,c,d),h.onmouseout=(function(M,R,B){return function(L){typeof e.Bubble<"u"&&(B.bubble?B.bubble.hideOnMouseOut():R.calendar.bubble&&R.calendar.bubble.hideOnMouseOut())}})(o,c,d)):d.action==="Bubble"&&c.isRow?(h.onmousemove=(function(M,R,B){return function(L){B.bubble?B.bubble.showResource(R,!0):R.calendar.resourceBubble&&R.calendar.resourceBubble.showResource(R,!0)}})(o,c,d),h.onmouseout=(function(M,R,B){return function(L){typeof e.Bubble<"u"&&(B.bubble?B.bubble.hideOnMouseOut():R.calendar.resourceBubble&&R.calendar.resourceBubble.hideOnMouseOut())}})(o,c,d)):d.action==="Bubble"&&typeof e.Bubble<"u"&&d.bubble instanceof e.Bubble&&(h.onmousemove=(function(M,R,B){return function(L){B.bubble.showHtml(null,null)}})(o,c,d),h.onmouseout=(function(M,R,B){return function(L){typeof e.Bubble<"u"&&B.bubble&&B.bubble.hideOnMouseOut()}})(o,c,d)),d.action==="HoverMenu"&&(h.onmousemove=(function(M,R,B){return function(L){var $=B.menu;$&&$.show&&($.visible?$.source&&typeof $.source.id<"u"&&$.source.id!==R.id&&$.show(R):$.show(R),$.cancelHideTimeout())}})(o,c,d),h.onmouseout=(function(M,R,B){return function(L){var $=B.menu;$&&$.hideOnMouseOver&&$.delayedHide()}})(o,c,d)),d.action==="None"){var D=(function(R,B,L){return function($){var I=l(L,B,$);typeof L.onClicked=="function"&&L.onClicked(I),$.preventDefault(),$.stopPropagation()}})(b,c,d);e.reNonPassive(h,e.touch.start,D)}return h.onmousedown=(function(M,R,B){return function(L){if(typeof B.onmousedown=="function"&&B.onmousedown(L),typeof B.mousedown=="function"){var $={};$.area=B,$.div=M,$.originalEvent=L,$.source=R,B.mousedown($)}if(B.action==="Move"&&R.isRow){var I=R.$.row;(0,R.calendar.internal.rowStartMoving)(I)}typeof e.Bubble<"u"&&e.Bubble.hideActive(),B.action==="Move"&&(e.Global.movingAreaData=B.data),B.action==="Move"&&R.isEvent&&R.calendar.internal&&R.calendar.internal.startMoving&&R.calendar.internal.startMoving(M,L),B.action!=="Move"&&B.action!=="ResizeEnd"&&B.action!=="ResizeStart"&&B.action&&B.action!=="Default"&&(L.preventDefault(),L.cancelBubble=!0)}})(o,c,d),h.onclick=(function(M,R,B){return function(L){var $=l(B,R,L);if(!$.preventDefault.value){switch(B.action){case"ContextMenu":m(M,R,B,L),L.cancelBubble=!0;break;case"None":L.cancelBubble=!0}typeof B.onClicked=="function"&&B.onClicked($)}}})(o,c,d),typeof d.onMouseEnter=="function"&&h.addEventListener("mouseenter",(function(M,R,B){return function(L){var $={};$.area=B,$.source=R,$.originalEvent=L,B.onMouseEnter($)}})(o,c,d)),typeof d.onMouseLeave=="function"&&h.addEventListener("mouseleave",(function(M,R,B){return function(L){var $={};$.area=B,$.source=R,$.originalEvent=L,B.onMouseLeave($)}})(o,c,d)),h},e.Areas.all=[],e.Areas.hideAreas=function(o,c){if(o&&o&&o.active){var d=o.active,u=o.areas;if(d&&d.children&&c){var l=c.toElement||c.relatedTarget;if(~e.indexOf(d.children,l))return}if(!u||u.length===0)return void(o.active=null);e.de(u),o.active=null,o.areas=[],e.rfa(e.Areas.all,o),d.children=null}},e.Areas.hideAll=function(o){if(e.Areas.all&&e.Areas.all.length!==0)for(var c=0;c<e.Areas.all.length;c++)e.Areas.hideAreas(e.Areas.all[c],o)},e.Exception=function(o){return new Error(o)},e.Locale=function(o,c){if(this.id=o,this.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.dayNamesShort=["Su","Mo","Tu","We","Th","Fr","Sa"],this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.datePattern="M/d/yyyy",this.timePattern="H:mm",this.dateTimePattern="M/d/yyyy H:mm",this.timeFormat="Clock12Hours",this.weekStarts=0,c)for(var d in c)this[d]=c[d]},e.Locale.all={},e.Locale.find=function(o){if(!o)return null;var c=o.toLowerCase();return c.length>2&&(c=e.Util.replaceCharAt(c,2,"-")),e.Locale.all[c]},e.Locale.register=function(o){e.Locale.all[o.id]=o},e.Locale.register(new e.Locale("ca-es",{dayNames:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],dayNamesShort:["dg","dl","dt","dc","dj","dv","ds"],monthNames:["gener","febrer","mar","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre",""],monthNamesShort:["gen.","febr.","mar","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des.",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("cs-cz",{dayNames:["nedle","pondl","ter","steda","tvrtek","ptek","sobota"],dayNamesShort:["ne","po","t","st","t","p","so"],monthNames:["leden","nor","bezen","duben","kvten","erven","ervenec","srpen","z","jen","listopad","prosinec",""],monthNamesShort:["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII",""],timePattern:"H:mm",datePattern:"d. M. yyyy",dateTimePattern:"d. M. yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("da-dk",{dayNames:["sndag","mandag","tirsdag","onsdag","torsdag","fredag","lrdag"],dayNamesShort:["s","ma","ti","on","to","fr","l"],monthNames:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december",""],monthNamesShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"dd-MM-yyyy",dateTimePattern:"dd-MM-yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("de-at",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Jnner","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jn","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("de-ch",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("de-de",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("de-lu",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("en-au",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"d/MM/yyyy",dateTimePattern:"d/MM/yyyy h:mm tt",timeFormat:"Clock12Hours",weekStarts:1})),e.Locale.register(new e.Locale("en-ca",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd h:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),e.Locale.register(new e.Locale("en-gb",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("en-us",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"M/d/yyyy",dateTimePattern:"M/d/yyyy h:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),e.Locale.register(new e.Locale("es-es",{dayNames:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],dayNamesShort:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],monthNamesShort:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic.",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("es-mx",{dayNames:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],dayNamesShort:["do.","lu.","ma.","mi.","ju.","vi.","s."],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],monthNamesShort:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic.",""],timePattern:"hh:mm tt",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy hh:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),e.Locale.register(new e.Locale("eu-es",{dayNames:["igandea","astelehena","asteartea","asteazkena","osteguna","ostirala","larunbata"],dayNamesShort:["ig","al","as","az","og","or","lr"],monthNames:["urtarrila","otsaila","martxoa","apirila","maiatza","ekaina","uztaila","abuztua","iraila","urria","azaroa","abendua",""],monthNamesShort:["urt.","ots.","mar.","api.","mai.","eka.","uzt.","abu.","ira.","urr.","aza.","abe.",""],timePattern:"H:mm",datePattern:"yyyy/MM/dd",dateTimePattern:"yyyy/MM/dd H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("fi-fi",{dayNames:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],dayNamesShort:["su","ma","ti","ke","to","pe","la"],monthNames:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","keskuu","heinkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu",""],monthNamesShort:["tammi","helmi","maalis","huhti","touko","kes","hein","elo","syys","loka","marras","joulu",""],timePattern:"H:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("fr-be",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],monthNamesShort:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""],timePattern:"HH:mm",datePattern:"dd-MM-yy",dateTimePattern:"dd-MM-yy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("fr-ca",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],monthNamesShort:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),e.Locale.register(new e.Locale("fr-ch",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],monthNamesShort:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("fr-fr",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],monthNamesShort:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("fr-lu",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],monthNamesShort:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("gl-es",{dayNames:["domingo","luns","martes","mrcores","xoves","venres","sbado"],dayNamesShort:["do","lu","ma","m","xo","ve","s"],monthNames:["xaneiro","febreiro","marzo","abril","maio","xuo","xullo","agosto","setembro","outubro","novembro","decembro",""],monthNamesShort:["xan","feb","mar","abr","maio","xuo","xul","ago","set","out","nov","dec",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("it-it",{dayNames:["domenica","luned","marted","mercoled","gioved","venerd","sabato"],dayNamesShort:["do","lu","ma","me","gi","ve","sa"],monthNames:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],monthNamesShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("it-ch",{dayNames:["domenica","luned","marted","mercoled","gioved","venerd","sabato"],dayNamesShort:["do","lu","ma","me","gi","ve","sa"],monthNames:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],monthNamesShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("ja-jp",{dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],monthNames:["1","2","3","4","5","6","7","8","9","10","11","12",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"H:mm",datePattern:"yyyy/MM/dd",dateTimePattern:"yyyy/MM/dd H:mm",timeFormat:"Clock24Hours",weekStarts:0})),e.Locale.register(new e.Locale("ko-kr",{dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],monthNames:["1","2","3","4","5","6","7","8","9","10","11","12",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"tt h:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd tt h:mm",timeFormat:"Clock12Hours",weekStarts:0})),e.Locale.register(new e.Locale("nb-no",{dayNames:["sndag","mandag","tirsdag","onsdag","torsdag","fredag","lrdag"],dayNamesShort:["s","ma","ti","on","to","fr","l"],monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("nl-nl",{dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zo","ma","di","wo","do","vr","za"],monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"d-M-yyyy",dateTimePattern:"d-M-yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("nl-be",{dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zo","ma","di","wo","do","vr","za"],monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"H:mm",datePattern:"d/MM/yyyy",dateTimePattern:"d/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("nn-no",{dayNames:["sndag","mndag","tysdag","onsdag","torsdag","fredag","laurdag"],dayNamesShort:["s","m","ty","on","to","fr","la"],monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("pt-br",{dayNames:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"],dayNamesShort:["D","S","T","Q","Q","S","S"],monthNames:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],monthNamesShort:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),e.Locale.register(new e.Locale("pl-pl",{dayNames:["niedziela","poniedziaek","wtorek","roda","czwartek","pitek","sobota"],dayNamesShort:["N","Pn","Wt","r","Cz","Pt","So"],monthNames:["stycze","luty","marzec","kwiecie","maj","czerwiec","lipiec","sierpie","wrzesie","padziernik","listopad","grudzie",""],monthNamesShort:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa","lis","gru",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("pt-pt",{dayNames:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"],dayNamesShort:["D","S","T","Q","Q","S","S"],monthNames:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],monthNamesShort:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),e.Locale.register(new e.Locale("ro-ro",{dayNames:["duminic","luni","mari","miercuri","joi","vineri","smbt"],dayNamesShort:["D","L","Ma","Mi","J","V","S"],monthNames:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie",""],monthNamesShort:["ian.","feb.","mar.","apr.","mai.","iun.","iul.","aug.","sep.","oct.","nov.","dec.",""],timePattern:"H:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("ru-ru",{dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],monthNames:["","","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","","",""],timePattern:"H:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("sk-sk",{dayNames:["nedea","pondelok","utorok","streda","tvrtok","piatok","sobota"],dayNamesShort:["ne","po","ut","st","t","pi","so"],monthNames:["janur","februr","marec","aprl","mj","jn","jl","august","september","oktber","november","december",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"H:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("sv-se",{dayNames:["sndag","mndag","tisdag","onsdag","torsdag","fredag","lrdag"],dayNamesShort:["s","m","ti","on","to","fr","l"],monthNames:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december",""],monthNamesShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("tr-tr",{dayNames:["Pazar","Pazartesi","Sal","aramba","Perembe","Cuma","Cumartesi"],dayNamesShort:["Pz","Pt","Sa","a","Pe","Cu","Ct"],monthNames:["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk",""],monthNamesShort:["Oca","ub","Mar","Nis","May","Haz","Tem","Au","Eyl","Eki","Kas","Ara",""],timePattern:"HH:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("uk-ua",{dayNames:["","","","","","'",""],dayNamesShort:["","","","","","",""],monthNames:["","","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","","",""],timePattern:"H:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("zh-cn",{dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],monthNames:["","","","","","","","","","","","",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"H:mm",datePattern:"yyyy/M/d",dateTimePattern:"yyyy/M/d H:mm",timeFormat:"Clock24Hours",weekStarts:1})),e.Locale.register(new e.Locale("zh-tw",{dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],monthNames:["","","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","","",""],timePattern:"tt hh:mm",datePattern:"yyyy/M/d",dateTimePattern:"yyyy/M/d tt hh:mm",timeFormat:"Clock12Hours",weekStarts:0})),e.Locale.US=e.Locale.find("en-us"),e.Switcher=function(o){function c(u,l,f){var m={};m.start=u,m.end=l,m.day=f,m.target=d.l.control,m.preventDefault=function(){this.preventDefault.value=!0};var p=d.I;p&&p.start===m.start&&p.end===m.end&&p.day===m.day&&p.target===m.target||(d.I=m,typeof d.onChange=="function"&&(d.onChange(m),m.preventDefault.value)||typeof d.onTimeRangeSelect=="function"&&(d.onTimeRangeSelect(m),m.preventDefault.value)||(d.l.t(d.m),typeof d.onChanged=="function"&&d.onChanged(m),typeof d.onTimeRangeSelected=="function"&&d.onTimeRangeSelected(m)))}var d=this;this.f=[],this.j=[],this.k={},this.selectedClass=null,this.syncScrollbar=!0,this.l=null,this.m=e.Date.today(),this.n=null,this.onChange=null,this.onChanged=null,this.onSelect=null,this.k.updateMode=function(u){var l=d.k.control;l&&(l.selectMode=u,l.select(d.m))},this.addView=function(u,l){var f;if(typeof u=="string"){if(f=document.getElementById(u),!f)throw"Element not found: "+u}else f=u;var m=f,p={};return p.o=!0,p.p=m.id,p.control=m,p.q=l||{},p.s=function(){m.hide?m.hide():m.nav&&m.nav.top?m.nav.top.style.display="none":m.style.display="none"},p.t=function(x){(function(){return!!m.backendUrl||!(typeof WebForm_DoCallback!="function"||!m.uniqueID)})()?m.commandCallBack&&m.commandCallBack("navigate",{day:x}):(m.startDate=x,m.update())},p.u=function(){d.z(),m.show?m.show():m.nav&&m.nav.top?m.nav.top.style.display="":m.style.display=""},p.A=function(){if(p.q.navigatorSelectMode)return p.q.navigatorSelectMode;if(m.isCalendar)switch(m.viewType){case"Day":return"day";case"Week":return"week";case"WorkWeek":return"week";default:return"day"}else if(m.isMonth)switch(m.viewType){case"Month":return"month";case"Weeks":return"week";default:return"day"}return"day"},this.f.push(p),p},this.addTrigger=function(u,l){var f;if(typeof u=="string"){if(f=document.getElementById(u),!f)throw"Element not found: "+u}else f=u;var m=this.B(l);m||(m=this.addView(l));var p={};return p.C=!0,p.D=f,p.p=f.id,p.E=m,p.F=function(x){d.show(p),d.G(p),x&&(x.preventDefault?x.preventDefault():x.returnValue=!1)},e.re(f,"click",p.F),this.j.push(p),p},this.addButton=this.addTrigger,this.select=function(u){var l=this.H(u);l?l.F():this.j.length>0&&this.j[0].F()},this.H=function(u){for(var l=0;l<this.j.length;l++){var f=this.j[l];if(f.p===u)return f}return null},this.G=function(u){if(this.selectedClass){for(var l=0;l<this.j.length;l++){var f=this.j[l];e.Util.removeClass(f.D,this.selectedClass)}e.Util.addClass(u.D,this.selectedClass)}},this.addNavigator=function(u){d.k.control=u,u.timeRangeSelectedHandling="JavaScript",u.onTimeRangeSelected=function(){var l,f,m;if(u.api===1)l=arguments[0],f=arguments[1],m=arguments[2];else{var p=arguments[0];l=p.start,f=p.end,m=p.day}d.m=m,c(l,f,m)}},this.show=function(u){var l,f;if(u.C)f=u,l=f.E;else if(l=u.o?u:this.B(u),this.l===l)return;if(d.onSelect){var m={};m.source=f?f.D:null,m.target=l.control,d.onSelect(m)}if(d.syncScrollbar){var p=this.l&&this.l.control;p&&p.isCalendar&&(d.n=p.getScrollY())}this.l=l,l.u(),d.n!==null&&l.control.isCalendar&&l.control.setScrollY(d.n);var x=l.A();d.k.updateMode(x),c(d.k.control.selectionStart,d.k.control.selectionEnd.addDays(1),d.k.control.selectionDay)},this.B=function(u){for(var l=0;l<this.f.length;l++)if(this.f[l].control===u)return this.f[l];return null},this.z=function(){for(var u=0;u<this.f.length;u++)this.f[u].s()},Object.defineProperty(this,"active",{get:function(){return d.l}}),this.events={},this.events.load=function(u,l,f){if(!d.l||!d.l.control)throw"DayPilot.Switcher.events.load(): Active view not found";d.l.control.events.load(u,l,f)},this.I=null,this.J=function(){if(o)for(var u in o)if(u==="triggers"){var l=o.triggers||[];l.forEach(function(f){d.addTrigger(f.id,f.view)})}else u==="navigator"?d.addNavigator(o.navigator):d[u]=o[u]},this.J()},e.Duration=function(o){var c=this,d=864e5,u=36e5,l=6e4,f=1e3;if(arguments.length===2){var m=arguments[0],p=arguments[1];if(!(m instanceof e.Date)&&typeof m!="string")throw"DayPilot.Duration(): Invalid start argument, DayPilot.Date expected";if(!(p instanceof e.Date)&&typeof p!="string")throw"DayPilot.Duration(): Invalid end argument, DayPilot.Date expected";typeof m=="string"&&(m=new e.Date(m)),typeof p=="string"&&(p=new e.Date(p)),o=p.getTime()-m.getTime()}return this.ticks=o,e.Date.Cache.DurationCtor[""+o]?e.Date.Cache.DurationCtor[""+o]:(e.Date.Cache.DurationCtor[""+o]=this,this.toString=function(x){if(!x)return c.days()+"."+c.hours()+":"+c.minutes()+":"+c.seconds()+"."+c.milliseconds();var b=c.minutes();b=(b<10?"0":"")+b;var h=x;return h=h.replace("mm",b),h=h.replace("m",c.minutes()),h=h.replace("H",c.hours()),h=h.replace("h",c.hours()),h=h.replace("d",c.days()),h=h.replace("s",c.seconds())},this.totalHours=function(){return c.ticks/u},this.totalDays=function(){return c.ticks/d},this.totalMinutes=function(){return c.ticks/l},this.totalSeconds=function(){return c.ticks/f},this.days=function(){return Math.floor(c.totalDays())},this.hours=function(){var x=c.ticks-c.days()*d;return Math.floor(x/u)},this.minutes=function(){var x=c.ticks-Math.floor(c.totalHours())*u;return Math.floor(x/l)},this.seconds=function(){var x=c.ticks-Math.floor(c.totalMinutes())*l;return Math.floor(x/f)},void(this.milliseconds=function(){return c.ticks%f}))},e.Duration.weeks=function(o){return new e.Duration(1e3*o*60*60*24*7)},e.Duration.days=function(o){return new e.Duration(1e3*o*60*60*24)},e.Duration.hours=function(o){return new e.Duration(1e3*o*60*60)},e.Duration.minutes=function(o){return new e.Duration(1e3*o*60)},e.Duration.seconds=function(o){return new e.Duration(1e3*o)},e.TimeSpan=function(){throw"Please use DayPilot.Duration class instead of DayPilot.TimeSpan."};try{e.TimeSpan.prototype=Object.create(e.Duration.prototype)}catch{}e.Date=function(o,c){if(o instanceof e.Date)return o;var d;e.Util.isNullOrUndefined(o)&&(d=e.DateUtil.fromLocal().getTime(),o=d);var u=e.Date.Cache.Ctor;if(u[o])return e.Stats.cacheHitsCtor+=1,u[o];var l=!1;if(typeof o=="string"||o instanceof String)d=e.DateUtil.fromStringSortable(o,c).getTime(),l=!0;else if(typeof o=="number"||o instanceof Number){if(isNaN(o))throw"Cannot create DayPilot.Date from NaN";d=o}else{if(!(o instanceof Date))throw"Unrecognized parameter: use Date, number or string in ISO 8601 format";d=c?e.DateUtil.fromLocal(o).getTime():o.getTime()}var f=t(d);return u[f]?u[f]:(u[f]=this,u[d]=this,l&&f!==o&&e.DateUtil.hasTzSpec(o)&&(u[o]=this),Object.defineProperty?(Object.defineProperty(this,"ticks",{get:function(){return d}}),Object.defineProperty(this,"value",{value:f,writable:!1,enumerable:!0})):(this.ticks=d,this.value=f),e.Date.Config.legacyShowD&&(this.d=new Date(d)),void(e.Stats.dateObjects+=1))},e.Date.Config={},e.Date.Config.legacyShowD=!1,e.Date.Cache={},e.Date.Cache.Parsing={},e.Date.Cache.Ctor={},e.Date.Cache.Ticks={},e.Date.Cache.DurationCtor={},e.Date.Cache.clear=function(){e.Date.Cache.Parsing={},e.Date.Cache.Ctor={},e.Date.Cache.Ticks={},e.Date.Cache.DurationCtor={}},e.Date.prototype.addDays=function(o){return o?new e.Date(this.ticks+24*o*60*60*1e3):this},e.Date.prototype.addHours=function(o){return o?this.addTime(60*o*60*1e3):this},e.Date.prototype.addMilliseconds=function(o){return o?this.addTime(o):this},e.Date.prototype.addMinutes=function(o){return o?this.addTime(60*o*1e3):this},e.Date.prototype.addMonths=function(o){if(!o)return this;var c=new Date(this.ticks),d=c.getUTCFullYear(),u=c.getUTCMonth()+1;if(o>0){for(;o>=12;)o-=12,d++;o>12-u?(d++,u=o-(12-u)):u+=o}else{for(;o<=-12;)o+=12,d--;u+o<=0?(d--,u=12+u+o):u+=o}var l=new Date(c.getTime());l.setUTCDate(1),l.setUTCFullYear(d),l.setUTCMonth(u-1);var f=new e.Date(l).daysInMonth();return l.setUTCDate(Math.min(f,c.getUTCDate())),new e.Date(l)},e.Date.prototype.addSeconds=function(o){return o?this.addTime(1e3*o):this},e.Date.prototype.addTime=function(o){return o?(o instanceof e.Duration&&(o=o.ticks),new e.Date(this.ticks+o)):this},e.Date.prototype.addYears=function(o){var c=new Date(this.ticks),d=new Date(this.ticks),u=this.getYear()+o,l=this.getMonth();d.setUTCDate(1),d.setUTCFullYear(u),d.setUTCMonth(l);var f=new e.Date(d).daysInMonth();return d.setUTCDate(Math.min(f,c.getUTCDate())),new e.Date(d)},e.Date.prototype.dayOfWeek=function(){return new Date(this.ticks).getUTCDay()},e.Date.prototype.getDayOfWeek=function(){return new Date(this.ticks).getUTCDay()},e.Date.prototype.getDayOfYear=function(){var o=this.firstDayOfYear();return e.DateUtil.daysDiff(o,this)+1},e.Date.prototype.daysInMonth=function(){var o=new Date(this.ticks),c=o.getUTCMonth()+1,d=o.getUTCFullYear(),u=[31,28,31,30,31,30,31,31,30,31,30,31];return c!==2?u[c-1]:d%4!==0||d%100===0&&d%400!==0?u[1]:u[1]+1},e.Date.prototype.daysInYear=function(){var o=this.getYear();return o%4!==0||o%100===0&&o%400!==0?365:366},e.Date.prototype.dayOfYear=function(){return Math.ceil((this.getDatePart().getTime()-this.firstDayOfYear().getTime())/864e5)+1},e.Date.prototype.equals=function(o){if(o===null)return!1;if(o instanceof e.Date)return this===o;throw"The parameter must be a DayPilot.Date object (DayPilot.Date.equals())"},e.Date.prototype.firstDayOfMonth=function(){var o=new Date;return o.setUTCFullYear(this.getYear(),this.getMonth(),1),o.setUTCHours(0),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMilliseconds(0),new e.Date(o)},e.Date.prototype.firstDayOfYear=function(){var o=this.getYear(),c=new Date;return c.setUTCFullYear(o,0,1),c.setUTCHours(0),c.setUTCMinutes(0),c.setUTCSeconds(0),c.setUTCMilliseconds(0),new e.Date(c)},e.Date.prototype.firstDayOfWeek=function(o){var c=this;if(o instanceof e.Locale)o=o.weekStarts;else if(typeof o=="string"&&e.Locale.find(o)){var d=e.Locale.find(o);o=d.weekStarts}else o=o||0;for(var u=c.dayOfWeek();u!==o;)c=c.addDays(-1),u=c.dayOfWeek();return new e.Date(c)},e.Date.prototype.getDay=function(){return new Date(this.ticks).getUTCDate()},e.Date.prototype.getDatePart=function(){var o=new Date(this.ticks);return o.setUTCHours(0),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMilliseconds(0),new e.Date(o)},e.Date.prototype.getYear=function(){return new Date(this.ticks).getUTCFullYear()},e.Date.prototype.getHours=function(){return new Date(this.ticks).getUTCHours()},e.Date.prototype.getMilliseconds=function(){return new Date(this.ticks).getUTCMilliseconds()},e.Date.prototype.getMinutes=function(){return new Date(this.ticks).getUTCMinutes()},e.Date.prototype.getMonth=function(){return new Date(this.ticks).getUTCMonth()},e.Date.prototype.getSeconds=function(){return new Date(this.ticks).getUTCSeconds()},e.Date.prototype.getTotalTicks=function(){return this.getTime()},e.Date.prototype.getTime=function(){return this.ticks},e.Date.prototype.getTimePart=function(){var o=this.getDatePart();return e.DateUtil.diff(this,o)},e.Date.prototype.lastDayOfMonth=function(){var o=new Date(this.firstDayOfMonth().getTime()),c=this.daysInMonth();return o.setUTCDate(c),new e.Date(o)},e.Date.prototype.weekNumber=function(){var o=this.firstDayOfYear(),c=(this.getTime()-o.getTime())/864e5;return Math.ceil((c+o.dayOfWeek()+1)/7)},e.Date.prototype.weekNumberISO=function(){var o=!1,c=this.dayOfYear(),d=this.firstDayOfYear().dayOfWeek(),u=this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();d===0&&(d=7),u===0&&(u=7);var l=8-d;d!==4&&u!==4||(o=!0);var f=Math.ceil((c-l)/7),m=f;return l>=4&&(m+=1),m>52&&!o&&(m=1),m===0&&(m=this.firstDayOfYear().addDays(-1).weekNumberISO()),m},e.Date.prototype.toDateLocal=function(){var o=new Date(this.ticks),c=new Date;return c.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),c.setHours(o.getUTCHours()),c.setMinutes(o.getUTCMinutes()),c.setSeconds(o.getUTCSeconds()),c.setMilliseconds(o.getUTCMilliseconds()),c},e.Date.prototype.toDate=function(){return new Date(this.ticks)},e.Date.prototype.toJSON=function(){return this.value},e.Date.prototype.toString=function(o,c){return o?new i(o,c).print(this):this.toStringSortable()},e.Date.prototype.toStringSortable=function(){return t(this.ticks)},e.Date.parse=function(o,c,d){return new i(c,d).parse(o)},e.Date.today=function(){return new e.Date(e.DateUtil.localToday(),!0)},e.Date.now=function(){return new e.Date},e.Date.fromYearMonthDay=function(o,c,d){c=c||1,d=d||1;var u=new Date(0);return u.setUTCFullYear(o),u.setUTCMonth(c-1),u.setUTCDate(d),new e.Date(u)},e.DateUtil={},e.DateUtil.fromStringSortable=function(o,c){if(!o)throw"Can't create DayPilot.Date from an empty string";var d=o.length,u=d===10,l=d===19,f=d>19;if(!u&&!l&&!f)throw"Invalid string format (use '2010-01-01' or '2010-01-01T00:00:00'): "+o;if(e.Date.Cache.Parsing[o]&&!c)return e.Stats.cacheHitsParsing+=1,e.Date.Cache.Parsing[o];var m=o.substring(0,4),p=o.substring(5,7),x=o.substring(8,10),b=new Date(0);if(b.setUTCFullYear(m,p-1,x),u)return e.Date.Cache.Parsing[o]=b,b;var h=o.substring(11,13),y=o.substring(14,16),w=o.substring(17,19);if(b.setUTCHours(h),b.setUTCMinutes(y),b.setUTCSeconds(w),l)return e.Date.Cache.Parsing[o]=b,b;var S=o[19],N=0;if(S==="."){var _=parseInt(o.substring(20,23));b.setUTCMilliseconds(_),N=e.DateUtil.getTzOffsetMinutes(o.substring(23))}else N=e.DateUtil.getTzOffsetMinutes(o.substring(19));var k=new e.Date(b);return c||(k=k.addMinutes(-N)),b=k.toDate(),e.Date.Cache.Parsing[o]=b,b},e.DateUtil.getTzOffsetMinutes=function(o){if(e.Util.isNullOrUndefined(o)||o===""||o==="Z")return 0;var c=o[0],d=parseInt(o.substring(1,3)),u=parseInt(o.substring(4)),l=60*d+u;if(c==="-")return-l;if(c==="+")return l;throw"Invalid timezone spec: "+o},e.DateUtil.hasTzSpec=function(o){return!!o.indexOf("+")||!!o.indexOf("-")},e.DateUtil.daysDiff=function(o,c){if(o&&c||(function(){throw"two parameters required"})(),o=new e.Date(o),c=new e.Date(c),o.getTime()>c.getTime())return null;for(var d=0,u=o.getDatePart(),l=c.getDatePart();u<l;)u=u.addDays(1),d++;return d},e.DateUtil.daysSpan=function(o,c){if(o&&c||(function(){throw"two parameters required"})(),o=new e.Date(o),c=new e.Date(c),o.getTime()===c.getTime())return 0;var d=e.DateUtil.daysDiff(o,c);return c.getTime()==c.getDatePart().getTime()&&d--,d},e.DateUtil.diff=function(o,c){if(!(o&&c&&o.getTime&&c.getTime))throw"Both compared objects must be Date objects (DayPilot.Date.diff).";return o.getTime()-c.getTime()},e.DateUtil.fromLocal=function(o){o||(o=new Date);var c=new Date;return c.setUTCFullYear(o.getFullYear(),o.getMonth(),o.getDate()),c.setUTCHours(o.getHours()),c.setUTCMinutes(o.getMinutes()),c.setUTCSeconds(o.getSeconds()),c.setUTCMilliseconds(o.getMilliseconds()),c},e.DateUtil.localToday=function(){var o=new Date;return o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0),o},e.DateUtil.hours=function(o,c){var d=o.getUTCMinutes();d<10&&(d="0"+d);var u=o.getUTCHours();if(c){var l=u<12,u=u%12;return u===0&&(u=12),u+":"+d+" "+(l?"AM":"PM")}return u+":"+d},e.DateUtil.max=function(o,c){return o.getTime()>c.getTime()?o:c},e.DateUtil.min=function(o,c){return o.getTime()<c.getTime()?o:c};var i=function(o,d){typeof d=="string"&&(d=e.Locale.find(d));var d=d||e.Locale.US,u=[{seq:"yyyy",expr:"[0-9]{4,4}",str:function(f){return f.getYear()}},{seq:"yy",expr:"[0-9]{2,2}",str:function(f){return f.getYear()%100}},{seq:"mm",expr:"[0-9]{2,2}",str:function(f){var m=f.getMinutes();return m<10?"0"+m:m}},{seq:"m",expr:"[0-9]{1,2}",str:function(f){return f.getMinutes()}},{seq:"HH",expr:"[0-9]{2,2}",str:function(f){var m=f.getHours();return m<10?"0"+m:m}},{seq:"H",expr:"[0-9]{1,2}",str:function(f){return f.getHours()}},{seq:"hh",expr:"[0-9]{2,2}",str:function(f){var m=f.getHours(),m=m%12;m===0&&(m=12);var p=m;return p<10?"0"+p:p}},{seq:"h",expr:"[0-9]{1,2}",str:function(f){var m=f.getHours(),m=m%12;return m===0&&(m=12),m}},{seq:"ss",expr:"[0-9]{2,2}",str:function(f){var m=f.getSeconds();return m<10?"0"+m:m}},{seq:"s",expr:"[0-9]{1,2}",str:function(f){return f.getSeconds()}},{seq:"MMMM",expr:"[^\\s0-9]*",str:function(f){return d.monthNames[f.getMonth()]},transform:function(f){var m=e.indexOf(d.monthNames,f,r);return m<0?null:m+1}},{seq:"MMM",expr:"[^\\s0-9]*",str:function(f){return d.monthNamesShort[f.getMonth()]},transform:function(f){var m=e.indexOf(d.monthNamesShort,f,r);return m<0?null:m+1}},{seq:"MM",expr:"[0-9]{2,2}",str:function(f){var m=f.getMonth()+1;return m<10?"0"+m:m}},{seq:"M",expr:"[0-9]{1,2}",str:function(f){return f.getMonth()+1}},{seq:"dddd",expr:"[^\\s0-9]*",str:function(f){return d.dayNames[f.getDayOfWeek()]}},{seq:"ddd",expr:"[^\\s0-9]*",str:function(f){return d.dayNamesShort[f.getDayOfWeek()]}},{seq:"dd",expr:"[0-9]{2,2}",str:function(f){var m=f.getDay();return m<10?"0"+m:m}},{seq:"%d",expr:"[0-9]{1,2}",str:function(f){return f.getDay()}},{seq:"d",expr:"[0-9]{1,2}",str:function(f){return f.getDay()}},{seq:"tt",expr:"(AM|PM|am|pm)",str:function(f){return f.getHours()<12?"AM":"PM"},transform:function(f){return f.toUpperCase()}}],l=function(f){return f.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};this.init=function(){this.year=this.findSequence("yyyy"),this.month=this.findSequence("MMMM")||this.findSequence("MMM")||this.findSequence("MM")||this.findSequence("M"),this.day=this.findSequence("dd")||this.findSequence("d"),this.hours=this.findSequence("HH")||this.findSequence("H"),this.minutes=this.findSequence("mm")||this.findSequence("m"),this.seconds=this.findSequence("ss")||this.findSequence("s"),this.ampm=this.findSequence("tt"),this.hours12=this.findSequence("hh")||this.findSequence("h")},this.findSequence=function(f){function m(p){return parseInt(p)}return o.indexOf(f)===-1?null:{findValue:function(p){for(var x=l(o),b=null,h=0;h<u.length;h++){var y=(u[h].length,f===u[h].seq),w=u[h].expr;y&&(w="("+w+")",b=u[h].transform),x=x.replace(u[h].seq,w)}x="^"+x+"$";try{var S=new RegExp(x),N=S.exec(p);return N?(b=b||m)(N[1]):null}catch{throw"unable to create regex from: "+x}}}},this.print=function(f){for(var m=function(k){for(var E=0;E<u.length;E++)if(u[E]&&u[E].seq===k)return u[E];return null},p=o.length<=0,x=0,b=[];!p;){var h=o.substring(x),y=/%?(.)\1*/.exec(h);if(y&&y.length>0){var w=y[0],S=m(w);S?b.push(S):b.push(w),x+=w.length,p=o.length<=x}else p=!0}for(var N=0;N<b.length;N++){var _=b[N];typeof _!="string"&&(b[N]=_.str(f))}return b.join("")},this.parse=function(f){var m=this.year.findValue(f);if(!m)return null;var p=this.month.findValue(f);if(e.Util.isNullOrUndefined(p)||p>12||p<1)return null;var x=this.day.findValue(f),b=e.Date.fromYearMonthDay(m,p).daysInMonth();if(x<1||x>b)return null;var h=this.hours?this.hours.findValue(f):0,y=this.minutes?this.minutes.findValue(f):0,w=this.seconds?this.seconds.findValue(f):0,S=this.ampm?this.ampm.findValue(f):null;if(this.ampm&&this.hours12){var N=this.hours12.findValue(f);if(N<1||N>12)return null;h=S==="PM"?N===12?12:N+12:N===12?0:N}if(h<0||h>23||y<0||y>59||w<0||w>59)return null;var _=new Date;return _.setUTCFullYear(m,p-1,x),_.setUTCHours(h),_.setUTCMinutes(y),_.setUTCSeconds(w),_.setUTCMilliseconds(0),new e.Date(_)},this.init()};e.ColorUtil={},e.ColorUtil.hexToRgb=function(o){if(!/^#[0-9a-f]{6}$/i.test(o))throw new e.Exception("Invalid color, only full hex color string accepted, eg. '#ffaaff'.");return o=o.replace("#",""),{r:parseInt(o.substring(0,2),16),g:parseInt(o.substring(2,4),16),b:parseInt(o.substring(4,6),16)}},e.ColorUtil.rgbToHex=function(o){return"#"+s(o.r)+s(o.g)+s(o.b)},e.ColorUtil.adjustLuminance=function(o,c){return{r:o.r+c,g:o.g+c,b:o.b+c}},e.ColorUtil.darker=function(o,c){var d="";o.length===9&&(d=o.slice(7,9),o=o.slice(0,7));var u=e.ColorUtil.hexToRgb(o);typeof c!="number"&&(c=1);var l=17,f=Math.round(c*l),m=e.ColorUtil.adjustLuminance(u,-f);return e.ColorUtil.rgbToHex(m)+d},e.ColorUtil.lighter=function(o,c){return typeof c!="number"&&(c=1),e.ColorUtil.darker(o,-c)},e.ColorUtil.pl=function(o){var c=e.ColorUtil.hexToRgb(o),d=c.r/255,u=c.g/255,l=c.b/255;return Math.sqrt(.299*d*d+.587*u*u+.114*l*l)},e.ColorUtil.contrasting=function(o,c,d){var u=e.ColorUtil.pl(o);return c=c||"#ffffff",d=d||"#000000",u>.5?d:c},e.Event=function(o,c,d){var u=this;this.calendar=c,this.data=o||{},this.part=d||{},typeof this.data.id>"u"&&(this.data.id=this.data.value);var l={},f=["id","text","start","end","resource"];this.isEvent=!0,this.temp=function(){if(l.dirty)return l;for(var m=0;m<f.length;m++)l[f[m]]=u.data[f[m]];return l.dirty=!0,l},this.copy=function(){for(var m={},p=0;p<f.length;p++)m[f[p]]=u.data[f[p]];return m},this.commit=function(){if(l.dirty){for(var m=0;m<f.length;m++)u.data[f[m]]=l[f[m]];l.dirty=!1}},this.dirty=function(){return l.dirty},this.id=function(m){return typeof m>"u"?u.data.id:void(this.temp().id=m)},this.value=function(m){return typeof m>"u"?u.id():void u.id(m)},this.text=function(m){return typeof m>"u"?u.data.text:(this.temp().text=m,void this.client.innerHTML(m))},this.start=function(m){return typeof m>"u"?new e.Date(u.data.start):void(this.temp().start=new e.Date(m))},this.end=function(m){return typeof m>"u"?new e.Date(u.data.end):void(this.temp().end=new e.Date(m))},this.resource=function(m){return typeof m>"u"?u.data.resource:void(this.temp().resource=m)},this.duration=function(){return new e.Duration(this.start(),this.end())},this.rawend=function(m){if(typeof m>"u")return c&&c.internal.adjustEndIn?c.internal.adjustEndIn(new e.Date(u.data.end)):new e.Date(u.data.end);throw new e.Exception("DayPilot.Event.rawend() is readonly")},this.partStart=function(){return new e.Date(this.part.start)},this.partEnd=function(){return new e.Date(this.part.end)},this.tag=function(m){var p=u.data.tag;if(!p)return null;if(typeof m>"u")return u.data.tag;for(var x=u.calendar.tagFields,b=-1,h=0;h<x.length;h++)m===x[h]&&(b=h);if(b===-1)throw"Field name not found.";return p[b]},this.client={},this.client.innerHTML=function(m){if(typeof m>"u"){var p=u.cache||u.data,x=u.calendar&&u.calendar.internal&&u.calendar.internal.xssTextHtml;return x?x(p.text,p.html):e.Util.escapeTextHtml(p.text,p.html)}u.data.html=m},this.client.html=this.client.innerHTML,this.client.header=function(m){return typeof m>"u"?u.data.header:void(u.data.header=m)},this.client.cssClass=function(m){return typeof m>"u"?u.cache&&typeof u.cache.cssClass<"u"?u.cache.cssClass:u.data.cssClass:void(u.data.cssClass=m)},this.client.toolTip=function(m){return typeof m>"u"?u.cache&&typeof u.cache.toolTip<"u"?u.cache.toolTip:typeof u.data.toolTip<"u"?u.data.toolTip:u.data.text:void(u.data.toolTip=m)},this.client.barVisible=function(m){return typeof m>"u"?u.cache&&typeof u.cache.barHidden<"u"?!u.cache.barHidden:u.calendar.durationBarVisible&&!u.data.barHidden:void(u.data.barHidden=!m)},this.client.backColor=function(m){return typeof m>"u"?u.cache&&typeof u.cache.backColor<"u"?u.cache.backColor:typeof u.data.backColor<"u"?u.data.backColor:u.calendar.eventBackColor:void(u.data.backColor=m)},this.client.borderColor=function(m){return typeof m>"u"?u.cache&&typeof u.cache.borderColor<"u"?u.cache.borderColor:typeof u.data.borderColor<"u"?u.data.borderColor:u.calendar.eventBorderColor:void(u.data.borderColor=m)},this.client.contextMenu=function(m){if(typeof m>"u"){if(u.oContextMenu)return u.oContextMenu;u.cache?u.cache.contextMenu:u.data.contextMenu}else u.oContextMenu=m},this.client.moveEnabled=function(m){return typeof m>"u"?u.cache&&typeof u.cache.moveDisabled<"u"?!u.cache.moveDisabled:u.calendar.eventMoveHandling!=="Disabled"&&!u.data.moveDisabled:void(u.data.moveDisabled=!m)},this.client.resizeEnabled=function(m){return typeof m>"u"?u.cache&&typeof u.cache.resizeDisabled<"u"?!u.cache.resizeDisabled:u.calendar.eventResizeHandling!=="Disabled"&&!u.data.resizeDisabled:void(u.data.resizeDisabled=!m)},this.client.clickEnabled=function(m){return typeof m>"u"?u.cache&&typeof u.cache.clickDisabled<"u"?!u.cache.clickDisabled:u.calendar.eventClickHandling!=="Disabled"&&!u.data.clickDisabled:void(u.data.clickDisabled=!m)},this.client.rightClickEnabled=function(m){return typeof m>"u"?u.cache&&typeof u.cache.rightClickDisabled<"u"?!u.cache.rightClickDisabled:u.calendar.eventRightClickHandling!=="Disabled"&&!u.data.rightClickDisabled:void(u.data.rightClickDisabled=!m)},this.client.deleteEnabled=function(m){return typeof m>"u"?u.cache&&typeof u.cache.deleteDisabled<"u"?!u.cache.deleteDisabled:u.calendar.eventDeleteHandling!=="Disabled"&&!u.data.deleteDisabled:void(u.data.deleteDisabled=!m)},this.toJSON=function(m){var p={};if(p.value=this.id(),p.id=this.id(),p.text=this.text(),p.start=this.start(),p.end=this.end(),p.tag={},u.calendar&&u.calendar.tagFields)for(var x=u.calendar.tagFields,b=0;b<x.length;b++)p.tag[x[b]]=this.tag(x[b]);return p}}}})(),e.JSON={},(function(){function t(u){return u<10?"0"+u:u}function r(u){return c.lastIndex=0,c.test(u)?'"'+u.replace(c,function(l){var f=d[l];return typeof f=="string"?f:"\\u"+("0000"+l.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+u+'"'}function s(u,l){var f,m,p,x,b,h=a,y=l[u];switch(y&&typeof y=="object"&&typeof y.toJSON2=="function"?y=y.toJSON2(u):y&&typeof y=="object"&&typeof y.toJSON=="function"&&!y.ignoreToJSON&&(y=y.toJSON(u)),typeof o=="function"&&(y=o.call(l,u,y)),typeof y){case"string":return r(y);case"number":return isFinite(y)?String(y):"null";case"boolean":case"null":return String(y);case"object":if(!y)return"null";if(a+=i,b=[],typeof y.length=="number"&&!y.propertyIsEnumerable("length")){for(x=y.length,f=0;f<x;f+=1)b[f]=s(f,y)||"null";return p=b.length===0?"[]":a?`[
`+a+b.join(`,
`+a)+`
`+h+"]":"["+b.join(",")+"]",a=h,p}if(o&&typeof o=="object")for(x=o.length,f=0;f<x;f+=1)m=o[f],typeof m=="string"&&(p=s(m,y),p&&b.push(r(m)+(a?": ":":")+p));else for(m in y)Object.hasOwnProperty.call(y,m)&&(p=s(m,y),p&&b.push(r(m)+(a?": ":":")+p));return p=b.length===0?"{}":a?`{
`+a+b.join(`,
`+a)+`
`+h+"}":"{"+b.join(",")+"}",a=h,p}}typeof Date.prototype.toJSON2!="function"&&(Date.prototype.toJSON2=function(u){return this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(u){return this.valueOf()});var a,i,o,c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,d={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};typeof e.JSON.stringify!="function"&&(e.JSON.stringify=function(u,l,f){var m;if(a="",i="",typeof f=="number")for(m=0;m<f;m+=1)i+=" ";else typeof f=="string"&&(i=f);if(o=l,l&&typeof l!="function"&&(typeof l!="object"||typeof l.length!="number"))throw new Error("JSON.stringify");return s("",{"":u})})})(),typeof e>"u")var e={};if(typeof e.Global>"u"&&(e.Global={}),(function(){var t=function(){};if(typeof e.Calendar>"u"||!e.Calendar.events){var r={};r.selectedCells=[],r.topSelectedCell=null,r.bottomSelectedCell=null,r.column=null,r.firstSelected=null,r.firstMousePos=null,r.originalMouse=null,r.originalHeight=null,r.originalTop=null,r.resizing=null,r.globalHandlers=!1,r.moving=null,r.register=function(i){r.registered||(r.registered=[]);for(var o=r.registered,c=0;c<o.length;c++)if(o[c]===i)return;o.push(i)},r.unregister=function(i){var o=r.registered;if(o){var c=e.indexOf(o,i);c!==-1&&o.splice(c,1)}},r.getCellsAbove=function(i){for(var o=[],c=r.getColumn(i),d=i.parentNode,u=null;d&&u!==r.firstSelected;)for(u=d.getElementsByTagName("td")[c],o.push(u),d=d.previousSibling;d&&d.tagName!=="TR";)d=d.previousSibling;return o},r.getCellsBelow=function(i){for(var o=[],c=r.getColumn(i),d=i.parentNode,u=null;d&&u!==r.firstSelected;)for(u=d.getElementsByTagName("td")[c],o.push(u),d=d.nextSibling;d&&d.tagName!=="TR";)d=d.nextSibling;return o},r.getColumn=function(i){for(var o=0;i.previousSibling;)i=i.previousSibling,i.tagName==="TD"&&o++;return o},r.gUnload=function(i){if(r.registered)for(var o=r.registered,c=0;c<o.length;c++){var d=o[c];d.dispose(),r.unregister(d)}},r.gMouseUp=function(i){if(r.resizing){if(!r.resizingShadow)return r.resizing.style.cursor="default",document.body.style.cursor="default",r.resizing=null,void(e.Global.resizing=null);var o=r.resizing.event,c=r.resizingShadow.clientHeight,d=r.resizingShadow.offsetTop,u=r.resizing.dpBorder;r.deleteShadow(r.resizingShadow),r.resizingShadow=null,r.resizing.style.cursor="default",o.calendar.nav.top.style.cursor="auto",r.resizing.onclick=null,r.resizing=null,e.Global.resizing=null,o.calendar.K(o,c,d,u)}else if(r.moving){if(!r.movingShadow)return r.moving=null,e.Global.moving=null,void(document.body.style.cursor="default");var d=r.movingShadow.offsetTop,o=r.moving.event;r.deleteShadow(r.movingShadow),e.Util.removeClass(r.moving,o.calendar.L("_event_moving_source"));var l=r.movingShadow.column;r.moving=null,e.Global.moving=null,r.movingShadow=null,o.calendar.nav.top.style.cursor="auto",o.calendar.M(o,l,d,i)}else if(e.Global.selecting){var f=e.Global.selecting.calendar;f.N=e.Global.selecting,e.Global.selecting=null;var m=f.getSelection();f.O(m.start,m.end,m.resource),f.timeRangeSelectedHandling!=="Hold"&&f.timeRangeSelectedHandling!=="HoldForever"&&t()}else r.selecting=!1},r.deleteShadow=function(i){i&&i.parentNode&&i.parentNode.removeChild(i)},r.moveShadow=function(i){var o=r.movingShadow,c=o.parentNode;c.style.display="none",o.parentNode.removeChild(o),i.firstChild.appendChild(o),o.style.left="0px",c.style.display="",o.style.width=r.movingShadow.parentNode.offsetWidth+1+"px"};var s=e.Util.isVueVNode,a=e.Util.overlaps;r.Calendar=function(i,o){var c=!1;if(this instanceof r.Calendar&&!this.P&&(c=!0,this.P=!0),!c)throw"DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'";var d=this;this.uniqueID=null,this.isCalendar=!0,this.v="2025.3.710-lite",this.id=i,this.clientName=i,this.cache={},this.cache.pixels={},this.elements={},this.elements.events=[],this.elements.selection=[],this.nav={},this.afterRender=function(){},this.fasterDispose=!0,this.angularAutoApply=!1,this.api=2,this.businessBeginsHour=9,this.businessEndsHour=18,this.cellDuration=30,this.cellHeight=30,this.columnMarginLeft=0,this.columnMarginRight=5,this.columnsLoadMethod="GET",this.contextMenu=null,this.days=1,this.durationBarVisible=!0,this.eventBorderRadius=null,this.eventsLoadMethod="GET",this.headerDateFormat=null,this.headerHeight=30,this.headerTextWrappingEnabled=!1,this.height=300,this.heightSpec="BusinessHours",this.hideUntilInit=!0,this.hourWidth=60,this.initScrollPos="Auto",this.loadingLabelHtml=null,this.loadingLabelText="Loading...",this.loadingLabelVisible=!0,this.locale="en-us",this.snapToGrid=!0,this.showToolTip=!0,this.startDate=new e.Date().getDatePart(),this.cssClassPrefix="calendar_default",this.theme=null,this.timeFormat="Auto",this.useEventBoxes="Always",this.viewType="Days",this.visible=!0,this.xssProtection="Enabled",this.headerClickHandling="Enabled",this.eventClickHandling="Enabled",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.eventMoveHandling="Update",this.eventDeleteHandling="Disabled",this.timeRangeSelectedHandling="Enabled",this.onBeforeCellRender=null,this.onBeforeEventRender=null,this.onBeforeHeaderRender=null,this.onEventClick=null,this.onEventClicked=null,this.onEventDelete=null,this.onEventDeleted=null,this.onEventMove=null,this.onEventMoved=null,this.onEventResize=null,this.onEventResized=null,this.onEventRightClick=null,this.onEventRightClicked=null,this.onHeaderClick=null,this.onHeaderClicked=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.Q=!1,this.clearSelection=function(){r.topSelectedCell=null,r.bottomSelectedCell=null,this.R()},this.R=function(){e.de(d.elements.selection),d.elements.selection=[],d.nav.activeSelection=null},this.cleanSelection=this.clearSelection,this.S=function(l,f,m){var p={};p.action=l,p.parameters=m,p.data=f,p.header=this.T();var x="JSON"+e.JSON.stringify(p);__doPostBack(d.uniqueID,x)},this.U=function(l,f,m){this.callbackTimeout&&window.clearTimeout(this.callbackTimeout),this.callbackTimeout=window.setTimeout(function(){d.loadingStart()},100);var p={};p.action=l,p.parameters=m,p.data=f,p.header=this.T();var x="JSON"+e.JSON.stringify(p);this.backendUrl?e.request(this.backendUrl,this.V,x,this.ajaxError):typeof WebForm_DoCallback=="function"&&WebForm_DoCallback(this.uniqueID,x,this.W,this.clientName,this.onCallbackError,!0)},this.onCallbackError=function(l,f){alert(`Error!\r
Result: `+l+`\r
Context:`+f)},this.dispose=function(){var l=d;l.Q||(l.Q=!0,clearInterval(l.X),l.Y(),l.nav.scroll.root=null,e.pu(l.nav.loading),l.Z(),l._(),l.nav.select=null,l.nav.cornerRight=null,l.nav.scrollable=null,l.nav.zoom=null,l.nav.loading=null,l.nav.header=null,l.nav.hourTable=null,l.nav.scrolltop=null,l.nav.scroll.onscroll=null,l.nav.scroll=null,l.nav.main=null,l.nav.message=null,l.nav.messageClose=null,l.nav.top=null,r.unregister(l))},this.disposed=function(){return this.Q},this.aa=function(){this.nav.top.dispose=this.dispose},this.V=function(l){d.W(l.responseText)},this.T=function(){var l={};return l.control="dpc",l.id=this.id,l.v=this.v,l.days=d.days,l.startDate=d.startDate,l.heightSpec=d.heightSpec,l.businessBeginsHour=d.businessBeginsHour,l.businessEndsHour=d.businessEndsHour,l.hashes=d.hashes,l.timeFormat=d.timeFormat,l.viewType=d.viewType,l.locale=d.locale,l},this.ba=function(l,f){for(var m=l.parentNode;m&&m.tagName!=="TD";)m=m.parentNode;var p=d.eventBorderRadius;typeof p=="number"&&(p+="px");var x=document.createElement("div");x.setAttribute("unselectable","on"),x.style.position="absolute",x.style.width=l.offsetWidth+"px",x.style.height=l.offsetHeight+"px",x.style.left=l.offsetLeft+"px",x.style.top=l.offsetTop+"px",x.style.boxSizing="border-box",x.style.zIndex=101,x.className=d.L("_shadow");var b=document.createElement("div");return b.className=d.L("_shadow_inner"),p&&(b.style.borderRadius=p,x.style.borderRadius=p),x.appendChild(b),m.firstChild.appendChild(x),x},this.ca={},this.ca.locale=function(){var l=e.Locale.find(d.locale);return l||e.Locale.US},this.ca.timeFormat=function(){return d.timeFormat!=="Auto"?d.timeFormat:this.locale().timeFormat},this.ca.da=function(){return d.xssProtection!=="Disabled"},this.ca.ea=function(){if(d.weekStarts==="Auto"){var l=u.locale();return l?l.weekStarts:0}return d.weekStarts||0},this.ca.fa=function(){var l=d.cellDuration;if(l<=1)return 1;if(l>=60)return 60;var f=[1,2,3,4,5,6,10,12,15,20,30,60],m=Math.floor(l);return Math.max.apply(null,f.filter(function(p){return p<=m}))};var u=this.ca;this.W=function(m,f){if(m&&m.indexOf("$$$")===0){if(!window.console)throw"Error received from the server side: "+m;return void console.log("Error received from the server side: "+m)}var m=JSON.parse(m);if(m.CallBackRedirect)return void(document.location.href=m.CallBackRedirect);if(m.UpdateType==="None")return d.loadingStop(),void d.u();if(d.Y(),m.UpdateType==="Full"&&(d.columns=m.Columns,d.days=m.Days,d.startDate=new e.Date(m.StartDate),d.heightSpec=m.HeightSpec?m.HeightSpec:d.heightSpec,d.businessBeginsHour=m.BusinessBeginsHour?m.BusinessBeginsHour:d.businessBeginsHour,d.businessEndsHour=m.BusinessEndsHour?m.BusinessEndsHour:d.businessEndsHour,d.headerDateFormat=m.HeaderDateFormat?m.HeaderDateFormat:d.headerDateFormat,d.viewType=m.ViewType,d.backColor=m.BackColor?m.BackColor:d.backColor,d.eventHeaderVisible=m.EventHeaderVisible?m.EventHeaderVisible:d.eventHeaderVisible,d.timeFormat=m.TimeFormat?m.TimeFormat:d.timeFormat,d.locale=m.Locale?m.Locale:d.locale,d.ga()),m.Hashes)for(var p in m.Hashes)d.hashes[p]=m.Hashes[p];d.events.list=m.Events,d.ha(),d.ia(),m.UpdateType==="Full"&&(d.ja(),d.ka(),d.la(),d.ma()),d.u(),d.na(),d.clearSelection(),d.afterRender(m.CallBackData,!0),d.loadingStop()},this.oa=function(){return this.pa()/36e5},this.qa=function(){return this.businessBeginsHour>this.businessEndsHour?24-this.businessBeginsHour+this.businessEndsHour:this.businessEndsHour-this.businessBeginsHour},this.ra=function(){return this.pa()/(60*u.fa()*1e3)},this.pa=function(){var l=0;return l=this.heightSpec==="BusinessHoursNoScroll"?this.qa():24,60*l*60*1e3},this.sa=function(){return this.heightSpec==="BusinessHoursNoScroll"?this.businessBeginsHour:0},this.ta=function(){return d.api===2},this.eventClickCallBack=function(l,f){this.U("EventClick",f,l)},this.eventClickPostBack=function(l,f){this.S("EventClick",f,l)},this.va=function(l){var f=this,m=f.event;if(m.client.clickEnabled())if(d.ta()){var p={};if(p.e=m,p.originalEvent=l,p.meta=l.metaKey,p.ctrl=l.ctrlKey,p.control=d,p.preventDefault=function(){this.preventDefault.value=!0},typeof d.onEventClick=="function"&&(d.wa.apply(function(){d.onEventClick(p)}),p.preventDefault.value))return;switch(d.eventClickHandling){case"CallBack":d.eventClickCallBack(m);break;case"PostBack":d.eventClickPostBack(m);break;case"ContextMenu":var x=m.client.contextMenu();x?x.show(m):d.contextMenu&&d.contextMenu.show(m)}typeof d.onEventClicked=="function"&&d.wa.apply(function(){d.onEventClicked(p)})}else switch(d.eventClickHandling){case"PostBack":d.eventClickPostBack(m);break;case"CallBack":d.eventClickCallBack(m);break;case"JavaScript":d.onEventClick(m)}},this.xa=function(l){var f=this.event;if(l.stopPropagation&&l.stopPropagation(),!f.client.rightClickEnabled())return!1;var m={};if(m.e=f,m.preventDefault=function(){this.preventDefault.value=!0},typeof d.onEventRightClick=="function"&&(d.onEventRightClick(m),m.preventDefault.value))return!1;switch(d.eventRightClickHandling){case"ContextMenu":var p=f.client.contextMenu();p?p.show(f):d.contextMenu&&d.contextMenu.show(this.event)}return typeof d.onEventRightClicked=="function"&&d.onEventRightClicked(m),l.preventDefault&&l.preventDefault(),!1},this.eventDeleteCallBack=function(l,f){this.U("EventDelete",f,l)},this.eventDeletePostBack=function(l,f){this.S("EventDelete",f,l)},this.ya=function(l){if(d.ta()){var f={};if(f.e=l,f.control=d,f.preventDefault=function(){this.preventDefault.value=!0},typeof d.onEventDelete=="function"&&(d.wa.apply(function(){d.onEventDelete(f)}),f.preventDefault.value))return;switch(d.eventDeleteHandling){case"CallBack":d.eventDeleteCallBack(l);break;case"PostBack":d.eventDeletePostBack(l);break;case"Update":d.events.remove(l)}typeof d.onEventDeleted=="function"&&d.wa.apply(function(){d.onEventDeleted(f)})}else switch(d.eventDeleteHandling){case"PostBack":d.eventDeletePostBack(l);break;case"CallBack":d.eventDeleteCallBack(l);break;case"JavaScript":d.onEventDelete(l)}},this.eventResizeCallBack=function(l,f,m,p){if(!f)throw"newStart is null";if(!m)throw"newEnd is null";var x={};x.e=l,x.newStart=f,x.newEnd=m,this.U("EventResize",p,x)},this.eventResizePostBack=function(l,f,m,p){if(!f)throw"newStart is null";if(!m)throw"newEnd is null";var x={};x.e=l,x.newStart=f,x.newEnd=m,this.S("EventResize",p,x)},this.K=function(l,f,m,p){var x=0,b=new Date,h=new Date;if(p==="top"?(b=d.za(l,m-x),h=l.end()):p==="bottom"&&(b=l.start(),h=d.Aa(l,m+f-x)),d.ta()){var y={};if(y.e=l,y.control=d,y.newStart=b,y.newEnd=h,y.preventDefault=function(){this.preventDefault.value=!0},typeof d.onEventResize=="function"&&(d.wa.apply(function(){d.onEventResize(y)}),y.preventDefault.value))return;switch(d.eventResizeHandling){case"PostBack":d.eventResizePostBack(l,b,h);break;case"CallBack":d.eventResizeCallBack(l,b,h);break;case"Update":l.start(b),l.end(h),d.events.update(l)}typeof d.onEventResized=="function"&&d.wa.apply(function(){d.onEventResized(y)})}else switch(d.eventResizeHandling){case"PostBack":d.eventResizePostBack(l,b,h);break;case"CallBack":d.eventResizeCallBack(l,b,h);break;case"JavaScript":d.onEventResize(l,b,h)}},this.za=function(l,f){var m=d.Ba[l.part.dayIndex].start,p=Math.floor(f/d.cellHeight);d.snapToGrid||(p=f/d.cellHeight);var x=Math.floor(p*u.fa()),b=60*x*1e3,h=60*d.sa()*60*1e3;return m.addTime(b+h)},this.Aa=function(l,f){var m=Math.floor(f/d.cellHeight);d.snapToGrid||(m=f/d.cellHeight);var p=Math.floor(m*u.fa()),x=60*p*1e3,b=60*d.sa()*60*1e3;return d.Ba[l.part.dayIndex].start.addTime(x+b)},this.eventMovePostBack=function(l,f,m,p,x){if(!f)throw"newStart is null";if(!m)throw"newEnd is null";var b={};b.e=l,b.newStart=f,b.newEnd=m,this.S("EventMove",x,b)},this.eventMoveCallBack=function(l,f,m,p,x){if(!f)throw"newStart is null";if(!m)throw"newEnd is null";var b={};b.e=l,b.newStart=f,b.newEnd=m,this.U("EventMove",x,b)},this.M=function(l,f,m,p){var x=0,b=Math.floor((m-x)/d.cellHeight);d.snapToGrid||(b=(m-x)/d.cellHeight);var h=u.fa(),y=b*h*60*1e3,w=l.start(),S=l.end(),N=new Date;w instanceof e.Date&&(w=w.toDate()),N.setTime(Date.UTC(w.getUTCFullYear(),w.getUTCMonth(),w.getUTCDate()));var _=w.getTime()-(N.getTime()+3600*w.getUTCHours()*1e3+Math.floor(w.getUTCMinutes()/h)*h*60*1e3);d.useEventBoxes==="Never"&&(_=0);var k=S.getTime()-w.getTime(),E=this.Ba[f],T=E.id;d.snapToGrid||(_=0);var D=E.start.getTime(),P=new Date;P.setTime(D+y+_);var M=new e.Date(P),R=M.addTime(k);if(d.ta()){var B={};if(B.e=l,B.newStart=M,B.newEnd=R,B.newResource=T,B.ctrl=p.ctrlKey,B.shift=p.shiftKey,B.control=d,B.preventDefault=function(){this.preventDefault.value=!0},typeof d.onEventMove=="function"&&(d.wa.apply(function(){d.onEventMove(B)}),B.preventDefault.value))return;switch(d.eventMoveHandling){case"PostBack":d.eventMovePostBack(l,M,R,E.id);break;case"CallBack":d.eventMoveCallBack(l,M,R,E.id);break;case"Update":l.start(M),l.end(R),l.resource(T),d.events.update(l)}typeof d.onEventMoved=="function"&&d.wa.apply(function(){d.onEventMoved(B)})}else switch(d.eventMoveHandling){case"PostBack":d.eventMovePostBack(l,M,R,E.id);break;case"CallBack":d.eventMoveCallBack(l,M,R,E.id);break;case"JavaScript":d.onEventMove(l,M,R,E.id,!1)}},this.timeRangeSelectedPostBack=function(l,f,m,p){var x={};x.start=l,x.end=f,this.S("TimeRangeSelected",p,x)},this.timeRangeSelectedCallBack=function(l,f,m,p){var x={};x.start=l,x.end=f,this.U("TimeRangeSelected",p,x)},this.O=function(l,f,m){if(l=new e.Date(l),f=new e.Date(f),this.ta()){var p={};if(p.start=l,p.end=f,p.resource=m,p.control=d,p.preventDefault=function(){this.preventDefault.value=!0},typeof d.onTimeRangeSelect=="function"&&(d.wa.apply(function(){d.onTimeRangeSelect(p)}),p.preventDefault.value))return;switch(d.timeRangeSelectedHandling){case"PostBack":d.timeRangeSelectedPostBack(l,f);break;case"CallBack":d.timeRangeSelectedCallBack(l,f)}typeof d.onTimeRangeSelected=="function"&&d.wa.apply(function(){d.onTimeRangeSelected(p)})}else switch(d.timeRangeSelectedHandling){case"PostBack":d.timeRangeSelectedPostBack(l,f);break;case"CallBack":d.timeRangeSelectedCallBack(l,f);break;case"JavaScript":d.onTimeRangeSelected(l,f)}},this.Ca=function(l){if(!e.Global.selecting&&d.timeRangeSelectedHandling!=="Disabled"){var f=l.which;if(f===1||f===0){e.Global.selecting={calendar:d,start:d.coords};var m=e.Global.selecting;return m.start.time=d.Da(d.coords.x,d.coords.y),m.start.columnIndex=d.Ea(d.coords.x),m.start.column=d.Ba[m.start.columnIndex],d.Fa(),d.Ga(),!1}}},this.Ga=function(){var l=e.Global.selecting;(function(){var f=l.start.column,m=l.start.columnIndex,p=f.start,x=d.getPixels(l.startTime,p),b=d.getPixels(l.endTime,p),h=x.boxTop,y=b.boxBottom;d.snapToGrid||(h=x.top,y=b.top);var w=y-h,S=d.eventBorderRadius;typeof S=="number"&&(S+="px");var N=(function(){if(d.nav.activeSelection)return d.nav.activeSelection;var _=document.createElement("div");_.setAttribute("unselectable","on"),_.style.position="absolute",_.style.left="0px",_.style.width="100%";var k=document.createElement("div");return k.setAttribute("unselectable","on"),k.className=d.L("_shadow_inner"),S&&(k.style.borderRadius=S,_.style.borderRadius=S),_.appendChild(k),d.nav.events.rows[0].cells[m].selection.appendChild(_),d.elements.selection.push(_),d.nav.activeSelection=_,_})();N.className=d.L("_shadow"),N.firstChild.innerHTML="",N.style.top=h+"px",N.style.height=w+"px",d.nav.events.rows[0].cells[m].selection.appendChild(N)})()},this.Fa=function(){var l=e.Global.selecting;l.end=d.coords,l.end.time=d.Da(l.start.x,l.end.y),l.end.column=d.Ba[d.Ea(l.end.x)],d.Ha&&(l.end.time=d.Da(l.end.x,l.end.y)),d.Ia(l)},this.Ia=function(l){var f,m,p;d.snapToGrid?l.end.time<l.start.time?(f=d.Ja(l.end.time,l.start.column.start),m=d.Ka(l.start.time,l.start.column.start),p=l.endTime):(f=d.Ja(l.start.time,l.start.column.start),m=d.Ka(l.end.time,l.start.column.start),p=l.startTime):l.end.time<l.start.time?(f=l.end.time,m=l.start.time,p=l.endTime):(f=l.start.time,m=l.end.time,p=l.startTime),l.startTime=f,l.endTime=m,l.anchor=p},this.getSelection=function(){if(!d.N)return null;var l=d.N;return new e.Selection(l.startTime,l.endTime,l.start.column.id,d)},this.Ea=function(l){if(l-=d.hourWidth,l<0)return null;for(var f=0,m=d.nav.events.rows[0].cells,p=0;p<m.length;p++)if(f+=m[p].offsetWidth,l<f)return p;return null},this.Da=function(l,f){l=e.Util.atLeast(l,0);var m=this.Ea(l),p=f/(60/u.fa())/d.cellHeight,x=60*p*60*1e3,b=6e4*Math.floor(x/6e4),h=this.Ba[m];return h?h.start.addTime(b):null},this.Ja=function(l,f){var m=l.getTime();f&&(m-=f.getTime());var p=60*u.fa()*1e3,x=m%p;return l.addTime(-x)},this.Ka=function(l,f){var m=this.Ja(l,f);return m.getTime()===l.getTime()?m:m.addTime(60*u.fa()*1e3)},this.La={},this.La.getCellCoords=function(){var l={};if(l.x=0,l.y=0,!d.coords)return null;l.x=d.Ea(d.coords.x);var f=0,m=Math.floor((d.coords.y-f)/d.cellHeight);return l.y=m,l.x<0?null:l},this.columns={},this.columns.list=[],this.columns.load=function(l,f,m){if(!l)throw new e.Exception("columns.load(): 'url' parameter required");var p=function(b){var h={};h.exception=b.exception,h.request=b.request,typeof m=="function"&&m(h)},x=function(b){var h,y=b.request;try{h=JSON.parse(y.responseText)}catch(N){var w={};return w.exception=N,void p(w)}if(e.isArray(h)){var S={};if(S.preventDefault=function(){this.preventDefault.value=!0},S.data=h,typeof f=="function"&&f(S),S.preventDefault.value)return;d.columns.list=h,d.Ma&&d.update()}};d.columnsLoadMethod&&d.columnsLoadMethod.toUpperCase()==="POST"?e.ajax({method:"POST",url:l,success:x,error:p}):e.ajax({method:"GET",url:l,success:x,error:p})},this.ga=function(){var l;l=d.viewType!=="Resources"?this.Na():d.columns.list,this.Ba=[];for(var f=0;f<l.length;f++){var m=this.Oa(l[f]);this.Ba.push(m)}},this.Oa=function(l){var f={};if(f.name=l.name,f.html=l.html,f.id=l.id,f.toolTip=l.toolTip,f.data=l,l.start?f.start=new e.Date(l.start):f.start=new e.Date(d.startDate),this.heightSpec==="BusinessHoursNoScroll"){var m=f.start.getDatePart();f.start=m.addHours(this.businessBeginsHour)}return f.putIntoBlock=function(p){for(var x=0;x<this.blocks.length;x++){var b=this.blocks[x];if(b.overlapsWith(p.part.top,p.part.height))return b.events.push(p),b.min=Math.min(b.min,p.part.top),b.max=Math.max(b.max,p.part.top+p.part.height),x}var b=[];return b.lines=[],b.events=[],b.overlapsWith=function(h,y){return!(h+y-1<this.min||h>this.max-1)},b.putIntoLine=function(h){for(var y=0;y<this.lines.length;y++){var w=this.lines[y];if(w.isFree(h.part.top,h.part.height))return w.push(h),y}var w=[];return w.isFree=function(S,N){for(var _=S+N-1,k=this.length,E=0;E<k;E++){var T=this[E];if(!(_<T.part.top||S>T.part.top+T.part.height-1))return!1}return!0},w.push(h),this.lines.push(w),this.lines.length-1},b.events.push(p),b.min=p.part.top,b.max=p.part.top+p.part.height,this.blocks.push(b),this.blocks.length-1},f.putIntoLine=function(p){for(var x=0;x<this.lines.length;x++){var b=this.lines[x];if(b.isFree(p.part.top,p.part.height))return b.push(p),x}var b=[];return b.isFree=function(h,y){for(var w=h+y-1,S=this.length,N=0;N<S;N++){var _=this[N];if(!(w<_.part.top||h>_.part.top+_.part.height-1))return!1}return!0},b.push(p),this.lines.push(b),this.lines.length-1},f},this.Na=function(){var l=[],f=this.startDate.getDatePart(),m=this.days;switch(this.viewType){case"Day":m=1;break;case"Week":m=7;var p=u.ea();f=f.firstDayOfWeek(p);break;case"WorkWeek":m=5,f=f.firstDayOfWeek(1)}for(var x=0;x<m;x++){var b=d.headerDateFormat?d.headerDateFormat:u.locale().datePattern,h={};h.start=f.addDays(x),h.name=h.start.toString(b,u.locale()),l.push(h)}return l},this.visibleStart=function(){if(d.viewType==="Resources"){if(d.Ba.length===0)return e.Date.today();var l=d.Ba.map(function(m){return m.start.getTime()}),f=Math.min.apply(null,l);return new e.Date(f)}return this.Ba[0].start},this.visibleEnd=function(){if(d.viewType==="Resources"){if(d.Ba.length===0)return e.Date.today().addDays(1);var l=d.Ba.map(function(p){return p.start.getTime()}),f=Math.max.apply(null,l);return new e.Date(f).addDays(1)}var f=this.Ba.length-1;return this.Ba[f].start.addDays(1)},this.L=function(l){var f=this.theme||this.cssClassPrefix;return f?f+l:""},this.Y=function(){if(this.elements.events)for(var l=0;l<this.elements.events.length;l++){var f=this.elements.events[l];d.Pa(f)}this.elements.events=[]},this.Pa=function(l){(function(){var p=l.domArgs;if(l.domArgs=null,p&&typeof d.onBeforeEventDomRemove=="function"&&d.onBeforeEventDomRemove(p),p&&typeof d.onBeforeEventDomAdd=="function"){var x=p&&p.Qa;x&&d.Sa.Ra&&s(p.element)&&(d.Sa.Ta=!0,d.Sa.Ua(x),d.Sa.Ta=!1)}})();var f=l.event;if(f&&(f.calendar=null),l.onclick=null,l.onclickSave=null,l.onmouseover=null,l.onmouseout=null,l.onmousemove=null,l.onmousedown=null,l.firstChild&&l.firstChild.firstChild&&l.firstChild.firstChild.tagName&&l.firstChild.firstChild.tagName.toUpperCase()==="IMG"){var m=l.firstChild.firstChild;m.onmousedown=null,m.onmousemove=null,m.onclick=null}l.helper=null,l.data=null,l.event=null,e.de(l)},this.Va=function(l){var f=l.cache||l.data,m=this.nav.events,p=f.borderRadius||d.eventBorderRadius;typeof p=="number"&&(p+="px");var x=document.createElement("div");x.style.position="absolute",x.style.left=l.part.left+"%",x.style.top=l.part.top+"px",x.style.width=l.part.width+"%",x.style.height=Math.max(l.part.height,2)+"px",x.style.overflow="hidden",x.data=l,x.event=l,x.unselectable="on",x.style.MozUserSelect="none",x.style.KhtmlUserSelect="none",x.className=this.L("_event"),f.cssClass&&e.Util.addClass(x,f.cssClass),d.showToolTip&&l.client.toolTip()&&(x.title=l.client.toolTip()),x.isFirst=l.part.start.getTime()===l.start().getTime(),x.isLast=l.part.end.getTime()===l.end().getTime(),x.onclick=this.va,e.re(x,"contextmenu",this.xa),x.onmouseout=function(T){x.deleteIcon&&(x.deleteIcon.style.display="none")},x.onmousemove=function(T){var D=5;if(typeof r<"u"){var P=e.mo3(x,T);if(P&&!r.resizing&&!r.moving){x.deleteIcon&&(x.deleteIcon.style.display="");var M=this.isLast;P.y<=D&&l.client.resizeEnabled()?(this.style.cursor="n-resize",this.dpBorder="top"):this.offsetHeight-P.y<=D&&l.client.resizeEnabled()?M?(this.style.cursor="s-resize",this.dpBorder="bottom"):this.style.cursor="not-allowed":r.resizing||r.moving||(d.eventClickHandling!=="Disabled"?this.style.cursor="pointer":this.style.cursor="default")}}},x.onmousedown=function(T){var D=T.which||T.button;if(this.style.cursor!=="n-resize"&&this.style.cursor!=="s-resize"||D!==1){if(D===1&&l.client.moveEnabled()){r.moving=this,e.Global.moving=this,r.moving.event=this.event;var P=r.moving.helper={};P.oldColumn=d.Ba[this.data.part.dayIndex].id,r.originalMouse=e.mc(T),r.originalTop=this.offsetTop;var M=e.mo3(this,T);M?r.moveOffsetY=M.y:r.moveOffsetY=0,d.nav.top.style.cursor="move"}}else r.resizing=this,e.Global.resizing=this,r.originalMouse=e.mc(T),r.originalHeight=this.offsetHeight,r.originalTop=this.offsetTop,d.nav.top.style.cursor=this.style.cursor;return!1};var b=document.createElement("div");if(b.setAttribute("unselectable","on"),b.className=d.L("_event_inner"),f.borderColor==="darker"&&f.backColor?b.style.borderColor=e.ColorUtil.darker(f.backColor,2):b.style.borderColor=f.borderColor,f.backColor&&(b.style.background=f.backColor),f.fontColor&&(b.style.color=f.fontColor),p&&(x.style.borderRadius=p,b.style.borderRadius=p),x.appendChild(b),l.client.barVisible()){var h=l.part.height-2,y=100*l.part.barTop/h,w=Math.ceil(100*l.part.barHeight/h),S=document.createElement("div");S.setAttribute("unselectable","on"),S.className=this.L("_event_bar"),S.style.position="absolute",f.barBackColor&&(S.style.backgroundColor=f.barBackColor);var N=document.createElement("div");N.setAttribute("unselectable","on"),N.className=this.L("_event_bar_inner"),N.style.top=y+"%",0<w&&w<=1?N.style.height="1px":N.style.height=w+"%",f.barColor&&(N.style.backgroundColor=f.barColor),S.appendChild(N),x.appendChild(S)}if(l.client.deleteEnabled()){var _=document.createElement("div");_.style.position="absolute",_.style.right="2px",_.style.top="2px",_.style.width="17px",_.style.height="17px",_.className=d.L("_event_delete"),_.onmousedown=function(T){T.stopPropagation()},_.onclick=function(T){T.stopPropagation();var D=this.parentNode.event;D&&d.ya(D)},_.style.display="none",x.deleteIcon=_,x.appendChild(_)}var k=f.areas?e.Areas.copy(f.areas):[];if(e.Areas.attach(x,l,{areas:k}),typeof d.onAfterEventRender=="function"){var E={};E.e=x.event,E.div=x,d.onAfterEventRender(E)}(function(){var T={};if(T.control=d,T.e=l,T.element=null,x.domArgs=T,typeof d.onBeforeEventDomAdd=="function"&&d.onBeforeEventDomAdd(T),T.element){var D=b;if(D)if(T.Qa=D,s(T.element)){if(!d.Sa.Ra)throw new e.Exception("Can't reach Vue");d.Sa.Ta=!0,d.Sa.Wa(T.element,D),d.Sa.Ta=!1}else D.appendChild(T.element)}else b.innerHTML=l.client.innerHTML()})(),m.rows[0].cells[l.part.dayIndex]&&(m.rows[0].cells[l.part.dayIndex].firstChild.appendChild(x),d.Xa(x)),d.elements.events.push(x)},this.Xa=function(l){for(var f=l&&l.childNodes?l.childNodes.length:0,m=0;m<f;m++)try{var p=l.childNodes[m];p.nodeType===1&&(p.unselectable="on",this.Xa(p))}catch{}},this.na=function(){for(var l=0;l<this.Ba.length;l++){var f=this.Ba[l];if(f.blocks)for(var m=0;m<f.blocks.length;m++)for(var p=f.blocks[m],x=0;x<p.lines.length;x++)for(var b=p.lines[x],h=0;h<b.length;h++){var y=b[h];y.part.width=100/p.lines.length,y.part.left=y.part.width*x;var w=x===p.lines.length-1;w||(y.part.width=1.5*y.part.width),this.Va(y)}}},this.Ya=function(){this.nav.top.innerHTML="",e.Util.addClass(this.nav.top,this.L("_main")),this.nav.top.style.MozUserSelect="none",this.nav.top.style.KhtmlUserSelect="none",this.nav.top.style.position="relative",this.nav.top.style.width=this.width?this.width:"100%",this.hideUntilInit&&(this.nav.top.style.visibility="hidden"),this.visible||(this.nav.top.style.display="none"),this.nav.scroll=document.createElement("div"),this.nav.scroll.style.height=this.Za()+"px",this.heightSpec==="BusinessHours"?this.nav.scroll.style.overflow="auto":this.nav.scroll.style.overflow="hidden",this.nav.scroll.style.position="relative";var l=this.$a();this.nav.top.appendChild(l),this.nav.scroll.style.zoom=1;var f=this._a();this.nav.scrollable=f.firstChild,this.nav.scroll.appendChild(f),this.nav.top.appendChild(this.nav.scroll),this.nav.scrollLayer=document.createElement("div"),this.nav.scrollLayer.style.position="absolute",this.nav.scrollLayer.style.top="0px",this.nav.scrollLayer.style.left="0px",this.nav.top.appendChild(this.nav.scrollLayer),this.nav.loading=document.createElement("div"),this.nav.loading.style.position="absolute",this.nav.loading.style.top="0px",this.nav.loading.style.left=this.hourWidth+5+"px",this.nav.loading.innerHTML=d.ab(d.loadingLabelText,d.loadingLabelHtml),this.nav.loading.style.display="none",this.nav.top.appendChild(this.nav.loading)},this.la=function(){this.fasterDispose||e.pu(this.nav.hourTable),this.nav.scrollable.rows[0].cells[0].innerHTML="",this.nav.hourTable=this.bb(),this.nav.scrollable.rows[0].cells[0].appendChild(this.nav.hourTable)},this._a=function(){var l=document.createElement("div");l.style.zoom=1,l.style.position="relative";var f=document.createElement("table");f.cellSpacing="0",f.cellPadding="0",f.border="0",f.style.border="0px none",f.style.width="100%",f.style.position="absolute";var m,p=f.insertRow(-1);m=p.insertCell(-1),m.valign="top",m.style.padding="0px",m.style.border="0px none",this.nav.hourTable=this.bb(),m.appendChild(this.nav.hourTable),m=p.insertCell(-1),m.valign="top",m.width="100%",m.style.padding="0px",m.style.border="0px none";var x=document.createElement("div");return x.style.position="relative",m.appendChild(x),x.appendChild(this.cb()),x.appendChild(this.db()),l.appendChild(f),this.nav.zoom=l,l},this.cb=function(){var l=document.createElement("table");return l.cellPadding="0",l.cellSpacing="0",l.border="0",l.style.width="100%",l.style.border="0px none",l.style.tableLayout="fixed",this.nav.main=l,this.nav.events=l,l},this.db=function(){var l=document.createElement("table");l.style.top="0px",l.cellPadding="0",l.cellSpacing="0",l.border="0",l.style.position="absolute",l.style.width="100%",l.style.border="0px none",l.style.tableLayout="fixed",this.nav.events=l;for(var f=this.Ba,m=f.length,p=l.insertRow(-1),x=0;x<m;x++){var b=p.insertCell(-1);b.style.padding="0px",b.style.border="0px none",b.style.height="0px",b.style.overflow="visible",d.rtl||(b.style.textAlign="left");var h=document.createElement("div");h.style.marginRight=d.columnMarginRight+"px",h.style.marginLeft=d.columnMarginLeft+"px",h.style.position="relative",h.style.height="1px",h.style.marginTop="-1px";var y=document.createElement("div");b.selection=y,b.appendChild(h),b.appendChild(y)}return l},this.bb=function(){var l=document.createElement("table");l.cellSpacing="0",l.cellPadding="0",l.border="0",l.style.border="0px none",l.style.width=this.hourWidth+"px",l.oncontextmenu=function(){return!1};for(var f=d.oa(),m=0;m<f;m++)this.eb(l,m);return l},this.eb=function(l,f){var m=60*d.cellHeight/u.fa(),p=l.insertRow(-1);p.style.height=m+"px";var x=p.insertCell(-1);x.valign="bottom",x.unselectable="on",x.style.cursor="default",x.style.padding="0px",x.style.border="0px none";var b=document.createElement("div");b.style.position="relative",b.className=this.L("_rowheader"),b.style.width=this.hourWidth+"px",b.style.height=m+"px",b.style.overflow="hidden",b.unselectable="on";var h=document.createElement("div");h.className=this.L("_rowheader_inner"),h.unselectable="on";var y=document.createElement("div");y.unselectable="on";var w=this.startDate.addHours(f).addHours(d.sa()),S=w.getHours(),N=S<12,_=u.timeFormat();_==="Clock12Hours"&&(S%=12,S===0&&(S=12)),y.innerHTML=S;var k=document.createElement("span");k.unselectable="on",k.className=this.L("_rowheader_minutes");var E;E=_==="Clock12Hours"?N?"AM":"PM":"00",k.innerHTML=E,y.appendChild(k),h.appendChild(y),b.appendChild(h),x.appendChild(b)},this.Za=function(){var l=u.fa(),f=60/l;switch(this.heightSpec){case"Full":return 24*f*this.cellHeight;case"BusinessHours":var m=this.qa();return m*this.cellHeight*f;case"BusinessHoursNoScroll":var m=this.qa();return m*this.cellHeight*f;default:throw"DayPilot.Calendar: Unexpected 'heightSpec' value."}},this.fb=function(){var l=d.nav.corner?d.nav.corner.parentNode:null;if(l){l.innerHTML="";var f=this.gb();l.appendChild(f),d.nav.corner=f}},this.$a=function(){var l=document.createElement("div");l.style.overflow="auto";var f=document.createElement("table");f.cellPadding="0",f.cellSpacing="0",f.border="0",f.style.width="100%",f.style.borderCollapse="separate",f.style.border="0px none";var m=f.insertRow(-1),p=m.insertCell(-1);p.style.padding="0px",p.style.border="0px none";var x=this.gb();p.appendChild(x),this.nav.corner=x,p=m.insertCell(-1),p.style.width="100%",p.valign="top",p.style.position="relative",p.style.padding="0px",p.style.border="0px none",this.nav.header=document.createElement("table"),this.nav.header.cellPadding="0",this.nav.header.cellSpacing="0",this.nav.header.border="0",this.nav.header.width="100%",this.nav.header.style.tableLayout="fixed",this.nav.header.oncontextmenu=function(){return!1};var b=this.nav.scroll.style.overflow!=="hidden";if(p.appendChild(this.nav.header),b){p=m.insertCell(-1),p.unselectable="on";var h=document.createElement("div");h.unselectable="on",h.style.position="relative",h.style.width="16px",h.style.height=this.headerHeight+"px",h.className=this.L("_cornerright");var y=document.createElement("div");y.className=this.L("_cornerright_inner"),h.appendChild(y),p.appendChild(h),this.nav.cornerRight=h}return l.appendChild(f),l},this.gb=function(){var l=document.createElement("div");l.style.position="relative",l.className=this.L("_corner"),l.style.width=this.hourWidth+"px",l.style.height=this.headerHeight+"px",l.oncontextmenu=function(){return!1};var f=document.createElement("div");return f.unselectable="on",f.className=this.L("_corner_inner"),l.appendChild(f),l},this.Z=function(){var l=this.nav.main;l.root=null,l.onmouseup=null;for(var f=0;f<l.rows.length;f++)for(var m=l.rows[f],p=0;p<m.cells.length;p++){var x=m.cells[p];d.hb(x)}this.fasterDispose||e.pu(l)},this.hb=function(l){l&&((function(){var f=l,m=f.domArgs;if(f.domArgs=null,m&&typeof d.onBeforeCellDomRemove=="function"&&d.onBeforeCellDomRemove(m),m&&typeof d.onBeforeCellDomAdd=="function"){var p=m&&m.Qa;p&&d.Sa.Ra&&s(m.element)&&(d.Sa.Ta=!0,d.Sa.Ua(p),d.Sa.Ta=!1)}})(),l.root=null,l.onmousedown=null,l.onmousemove=null,l.onmouseout=null,l.onmouseup=null)},this.ka=function(){var l=u.fa(),f=this.nav.main,m=60*l*1e3,p=this.ra(),x=d.Ba;for(f&&this.Z();f&&f.rows&&f.rows.length>0;)this.fasterDispose||e.pu(f.rows[0]),f.deleteRow(0);this.tableCreated=!0;for(var b=x.length,h=this.nav.events;h&&h.rows&&h.rows.length>0;)this.fasterDispose||e.pu(h.rows[0]),h.deleteRow(0);for(var b=x.length,y=h.insertRow(-1),w=0;w<b;w++){var S=y.insertCell(-1);S.style.padding="0px",S.style.border="0px none",S.style.height="0px",S.style.overflow="visible",d.rtl||(S.style.textAlign="left");var N=document.createElement("div");N.style.marginRight=d.columnMarginRight+"px",N.style.marginLeft=d.columnMarginLeft+"px",N.style.position="relative",N.style.height="1px",N.style.marginTop="-1px";var _=document.createElement("div");_.style.position="relative",S.selection=_,S.appendChild(N),S.appendChild(_)}for(var k=0;k<p;k++){var y=f.insertRow(-1);y.style.MozUserSelect="none",y.style.KhtmlUserSelect="none";for(var w=0;w<b;w++){var E=this.Ba[w],S=y.insertCell(-1);S.start=E.start.addTime(k*m),S.end=S.start.addTime(m),S.resource=E.id,S.onmousedown=this.Ca,S.onmouseup=function(){return!1},S.onclick=function(){return!1},S.root=this,S.style.padding="0px",S.style.border="0px none",S.style.verticalAlign="top",S.style.height=d.cellHeight+"px",S.style.overflow="hidden",S.unselectable="on";var N=document.createElement("div");N.unselectable="on",N.style.height=d.cellHeight+"px",N.style.position="relative",N.className=this.L("_cell");var T=this.ib(S.start,S.end),D={business:T,text:null,html:null,cssClass:null,backColor:null,backImage:null,backRepeat:null,fontColor:null},P={start:S.start,end:S.end,resource:S.resource,properties:D,x:w,y:k};(function(){if(typeof d.onBeforeCellRender=="function"){var z={};z.cell=P,d.onBeforeCellRender(z)}})(),D.business&&e.Util.addClass(N,d.L("_cell_business")),D.cssClass&&e.Util.addClass(N,D.cssClass);var M=document.createElement("div");M.setAttribute("unselectable","on"),M.className=this.L("_cell_inner");var R=e.Util.escapeTextHtml(D.text,D.html);R&&(M.innerHTML=R),D.backColor&&(M.style.backgroundColor=D.backColor),D.backImage&&(M.style.backgroundImage="url("+D.backImage+")"),D.backRepeat&&(M.style.backgroundRepeat=D.backRepeat),D.fontColor&&(M.style.color=D.fontColor),N.appendChild(M),(function(){if(typeof d.onBeforeCellDomAdd=="function"||typeof d.onBeforeCellDomRemove=="function"){var z={};if(z.control=d,z.cell=P,z.element=null,S.domArgs=z,typeof d.onBeforeCellDomAdd=="function"&&d.onBeforeCellDomAdd(z),z.element){var H=M;if(H)if(z.Qa=H,s(z.element)){if(!d.Sa.Ra)throw new e.Exception("Can't reach Vue");d.Sa.Ta=!0,d.Sa.Wa(z.element,H),d.Sa.Ta=!1}else H.appendChild(z.element)}}})(),S.appendChild(N)}}f.root=this,d.nav.scrollable.onmousemove=function(B){var L=d.nav.scrollable;d.coords=e.mo3(L,B);var $=e.mc(B);if(r.resizing){r.resizingShadow||(r.resizingShadow=d.ba(r.resizing,!1,d.shadow));var I=d.cellHeight,z=0,H=$.y-r.originalMouse.y;if(r.resizing.dpBorder==="bottom"){var Z=r.originalHeight+H;d.snapToGrid&&(Z=Math.floor((r.originalHeight+r.originalTop+H+I/2)/I)*I-r.originalTop+z),Z<I&&(Z=I);var V=d.nav.main.clientHeight;r.originalTop+Z>V&&(Z=V-r.originalTop),r.resizingShadow.style.height=Z+"px"}else if(r.resizing.dpBorder==="top"){var G=r.originalTop+H;d.snapToGrid&&(G=Math.floor((r.originalTop+H-z+I/2)/I)*I+z),G<z&&(G=z),G>r.originalTop+r.originalHeight-I&&(G=r.originalTop+r.originalHeight-I);var Z=r.originalHeight-(G-r.originalTop);Z<I?Z=I:r.resizingShadow.style.top=G+"px",r.resizingShadow.style.height=Z+"px"}}else if(r.moving){if(!d.coords)return;if(!r.movingShadow){var U=3,$=e.mc(B),Y=Math.abs($.x-r.originalMouse.x)+Math.abs($.y-r.originalMouse.y);if(Y<=U)return;r.movingShadow=d.ba(r.moving,!0,d.shadow),r.movingShadow.style.width=r.movingShadow.parentNode.offsetWidth+1+"px"}var I=d.cellHeight,z=0,K=r.moveOffsetY;K||(K=I/2);var G=d.coords.y-K;d.snapToGrid&&(G=Math.floor((d.coords.y-K-z+I/2)/I)*I+z),G<z&&(G=z);var re=d.nav.events,V=d.nav.main.clientHeight+z,he=parseInt(r.movingShadow.style.height);G+he>V&&(G=V-he),e.Util.addClass(r.moving,d.L("_event_moving_source")),r.movingShadow.parentNode.style.display="none",r.movingShadow.style.top=G+"px",r.movingShadow.parentNode.style.display="";var me=re.clientWidth/re.rows[0].cells.length,de=Math.floor((d.coords.x-45)/me);de<0&&(de=0),de<re.rows[0].cells.length&&de>=0&&r.movingShadow.column!==de&&(r.movingShadow.column=de,r.moveShadow(re.rows[0].cells[de]))}else e.Global.selecting&&(d.Fa(),d.Ga())},d.nav.scrollable.style.display=""},this.ib=function(l,f){return this.businessBeginsHour<this.businessEndsHour?!(l.getHours()<this.businessBeginsHour||l.getHours()>=this.businessEndsHour||l.getDayOfWeek()===6||l.getDayOfWeek()===0):l.getHours()>=this.businessBeginsHour||l.getHours()<this.businessEndsHour},this._=function(){var l=this.nav.header;if(l&&l.rows)for(var f=0;f<l.rows.length;f++)for(var m=l.rows[f],p=0;p<m.cells.length;p++){var x=m.cells[p];x.onclick=null,x.onmousemove=null,x.onmouseout=null}this.fasterDispose||e.pu(l)},this.jb=function(l){function f(h){var y=p[h],w=l?m.insertCell(-1):m.cells[h];w.data=y,w.style.overflow="hidden",w.style.padding="0px",w.style.border="0px none",w.style.height=d.headerHeight+"px",w.onclick=d.kb;var S,N=l?document.createElement("div"):w.firstChild;l?(N.unselectable="on",N.style.MozUserSelect="none",N.style.cursor="default",N.style.position="relative",N.className=d.L("_colheader"),N.style.height=d.headerHeight+"px",d.headerTextWrappingEnabled||(N.style.whiteSpace="nowrap"),S=document.createElement("div"),S.className=d.L("_colheader_inner"),S.unselectable="on",N.appendChild(S),w.appendChild(N)):S=N.firstChild;var _={};_.header={},_.header.cssClass=null,_.header.verticalAlignment="center",_.header.horizontalAlignment="center",_.column=d.lb(y,d),typeof d.onBeforeHeaderRender=="function"&&(e.Util.copyProps(y,_.header,["id","start","name","html","backColor","toolTip","areas"]),d.onBeforeHeaderRender(_),e.Util.copyProps(_.header,y,["html","backColor","toolTip","areas","cssClass","verticalAlignment","horizontalAlignment"])),y.toolTip&&(S.title=y.toolTip),y.cssClass&&e.Util.addClass(N,y.cssClass),y.backColor&&(S.style.background=y.backColor),y.areas&&e.Areas.attach(N,y);var k=y.verticalAlignment;if(k)switch(S.style.display="flex",k){case"center":S.style.alignItems="center";break;case"top":S.style.alignItems="flex-start";break;case"bottom":S.style.alignItems="flex-end"}var E=y.horizontalAlignment;if(E)switch(E){case"center":S.style.justifyContent="center";break;case"left":S.style.justifyContent="flex-start";break;case"right":S.style.justifyContent="flex-end"}N.firstChild.innerHTML=d.ab(y.name,y.html)}for(var m=l?this.nav.header.insertRow(-1):this.nav.header.rows[0],p=this.Ba,x=p.length,b=0;b<x;b++)f(b)},this.kb=function(l){if(d.headerClickHandling!=="Disabled"){var f=this.data,m=d.lb(f),p={};p.header={},p.header.id=f.id,p.header.name=f.name,p.header.start=f.start,p.column=m,p.originalEvent=l,p.shift=l.shiftKey,p.ctrl=l.ctrlKey,p.meta=l.metaKey,p.preventDefault=function(){this.preventDefault.value=!0},typeof d.onHeaderClick=="function"&&(d.onHeaderClick(p),p.preventDefault.value)||typeof d.onHeaderClicked=="function"&&d.onHeaderClicked(p)}},this.lb=function(l){return new e.CalendarColumn(l,d)},this.mb=function(){return this.width&&this.width.indexOf("px")!==-1?"Pixel":"Percentage"},this.ja=function(){var l=this.nav.header,f=!0,m=this.Ba;for(m.length;this.headerCreated&&l&&l.rows&&l.rows.length>0;)this.fasterDispose||e.pu(l.rows[0]),l.deleteRow(0);this.headerCreated=!0,this.jb(f)},this.loadingStart=function(){this.loadingLabelVisible&&(this.nav.loading.innerHTML=this.loadingLabelText,this.nav.loading.style.top=this.headerHeight+5+"px",this.nav.loading.style.display="")},this.commandCallBack=function(l,f){var m={};m.command=l,this.U("Command",f,m)},this.loadingStop=function(l){this.callbackTimeout&&window.clearTimeout(this.callbackTimeout),this.nav.loading.style.display="none"},this.nb=function(){var l=this.nav.scroll;l.root=this,d.ob(),l.onscroll||(l.onscroll=function(){d.pb()})},this.callbackError=function(l,f){alert(`Error!\r
Result: `+l+`\r
Context:`+f)},this.qb=function(){var l=e.sw(this.nav.scroll),f=this.nav.cornerRight;f&&(f.style.width=l+"px")},this.rb=function(){r.globalHandlers||(r.globalHandlers=!0,e.re(document,"mouseup",r.gMouseUp))},this.events={},this.events.add=function(l){var f=null;if(l instanceof e.Event)f=l.data;else{if(typeof l!="object")throw"DayPilot.Calendar.events.add() expects an object or DayPilot.Event instance.";f=l}d.events.list||(d.events.list=[]),d.events.list.push(f),d.sb({eventsOnly:!0}),d.wa.notify()},this.events.find=function(l){if(!d.events.list)return null;if(typeof l=="function"){for(var f=l,m=0;m<d.events.list.length;m++){var p=new e.Event(d.events.list[m],d);if(f(p))return p}return null}for(var m=0;m<d.events.list.length;m++){var x=d.events.list[m];if(x.id===l)return new e.Event(x,d)}return null},this.events.forRange=function(l,f){return l=new e.Date(l),f=new e.Date(f),(d.events.list||[]).filter(function(m){return a(l,f,new e.Date(m.start),new e.Date(m.end))}).map(function(m){return new e.Event(m,d)})},this.events.update=function(l){if(l instanceof e.Event)l.commit();else if(typeof l=="object"){var f=d.events.find(l.id);if(f){var m=e.indexOf(d.events.list,f.data);d.events.list.splice(m,1,l)}}d.sb({eventsOnly:!0}),d.wa.notify()},this.events.remove=function(l){var f;if(l instanceof e.Event)f=l.data;else if(typeof l=="object"){var m=d.events.find(l.id);m&&(f=m.data)}else if(typeof l=="string"||typeof l=="number"){var m=d.events.find(l);m&&(f=m.data)}var p=e.indexOf(d.events.list,f);d.events.list.splice(p,1),d.sb({eventsOnly:!0}),d.wa.notify()},this.events.load=function(l,f,m){var p=function(y){var w={};w.exception=y.exception,w.request=y.request,typeof m=="function"&&m(w)},x=function(y){var w,S=y.request;try{w=JSON.parse(S.responseText)}catch(k){var N={};return N.exception=k,void p(N)}if(e.isArray(w)){var _={};if(_.preventDefault=function(){this.preventDefault.value=!0},_.data=w,typeof f=="function"&&f(_),_.preventDefault.value)return;d.events.list=w,d.Ma&&d.sb({eventsOnly:!0})}};if(d.eventsLoadMethod&&d.eventsLoadMethod.toUpperCase()==="POST")e.Http.ajax({method:"POST",data:{start:d.visibleStart().toString(),end:d.visibleEnd().toString()},url:l,success:x,error:p});else{var b=l,h="start="+d.visibleStart().toString()+"&end="+d.visibleEnd().toString();b+=b.indexOf("?")>-1?"&"+h:"?"+h,e.Http.ajax({method:"GET",url:b,success:x,error:p})}},this.tb=function(){if(d.nav.top.className!==d.L("_main")){d.nav.top.className=d.L("_main");var l=d.nav.corner;l.className=d.L("_corner"),l.firstChild.className=d.L("_corner_inner");var f=d.nav.cornerRight;f&&(f.className=d.L("_cornerright"),f.firstChild.className=d.L("_cornerright_inner"))}},this.update=function(l){if(d.Q)throw new e.Exception("You are trying to update a DayPilot.Calendar instance that has been disposed.");d.ub(l),d.sb()},this.sb=function(l){if(this.Ma){var l=l||{},f=!l.eventsOnly;d.vb(),d.Y(),d.nav.top.style.cursor="auto",f&&(d.ga(),d.ja(),d.ka(),d.la(),d.ma(),d.fb(),d.qb(),d.tb(),d.ob()),d.ha(),d.ia(),d.na(),d.clearSelection(),this.visible?this.show():this.hide()}},this.wb=null,this.ub=function(l){if(l){var f={events:{preInit:function(){var x=this.data||[];e.isArray(x.list)?d.events.list=x.list:d.events.list=x}},columns:{preInit:function(){d.columns.list=this.data}}};this.wb=f;for(var m in l)if(f[m]){var p=f[m];p.data=l[m],p.preInit&&p.preInit()}else d[m]=l[m]}},this.xb=function(){var l=this.wb;for(var f in l){var m=l[f];m.postInit&&m.postInit()}},this.yb=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if(typeof this.id!="string")throw"DayPilot.Calendar() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Calendar: The placeholder element not found: '"+i+"'."}},this.zb={},this.zb.events=[],this.Ab=function(l){var f=this.zb.events,m=this.events.list[l],p={};for(var x in m)p[x]=m[x];if(p.start=new e.Date(m.start),p.end=new e.Date(m.end),typeof this.onBeforeEventRender=="function"){var b={};b.control=d,b.data=p,this.onBeforeEventRender(b)}f[l]=p},this.ha=function(){var l=this.events.list;if(d.zb.events=[],l){if(!e.isArray(l))throw new e.Exception("DayPilot.Calendar.events.list expects an array object. You supplied: "+typeof l);var f=l.length,m=864e5;this.cache.pixels={};var p=[];this.scrollLabels=[],this.minStart=1e4,this.maxEnd=0;for(var x=0;x<f;x++){var b=l[x],h=b;if(typeof h!="object")throw new e.Exception("Event data item must be an object");if(!h.start)throw new e.Exception("Event data item must specify 'start' property");if(!h.end)throw new e.Exception("Event data item must specify 'end' property");if(h instanceof e.Event)throw new e.Exception("DayPilot.Calendar: DayPilot.Event object detected in events.list array. Use raw event data instead.")}if(typeof this.onBeforeEventRender=="function")for(var x=0;x<f;x++)this.Ab(x);for(var x=0;x<this.Ba.length;x++){var y={};y.minEnd=1e6,y.maxStart=-1,this.scrollLabels.push(y);var w=this.Ba[x];w.events=[],w.lines=[],w.blocks=[];for(var S=new e.Date(w.start),N=S.getTime(),_=S.addTime(m),k=_.getTime(),E=0;E<f;E++)if(!p[E]){var b=l[E],T=new e.Date(b.start),D=new e.Date(b.end),P=T.getTime(),M=D.getTime();if(!(M<P)){var R=!(M<=N||P>=k);if(d.viewType==="Resources"&&(R=R&&w.id===b.resource),R){var B=new e.Event(b,d);B.part.dayIndex=x,B.part.start=N<P?T:S,B.part.end=k>M?D:_;var L=this.getPixels(B.part.start,w.start),$=this.getPixels(B.part.end,w.start),I=L.top,z=$.top;if(I===z&&(L.cut||$.cut))continue;var H=$.boxBottom,Z=d.useEventBoxes==="Always";Z?(B.part.top=Math.floor(I/this.cellHeight)*this.cellHeight+1,B.part.height=Math.max(Math.ceil(H/this.cellHeight)*this.cellHeight-B.part.top,this.cellHeight-1)+1):(B.part.top=I+1,B.part.height=z-I+1),B.part.barTop=Math.max(I-B.part.top-1,0),B.part.barHeight=Math.max(z-I-2,1);var T=B.part.top,D=B.part.top+B.part.height;T>y.maxStart&&(y.maxStart=T),D<y.minEnd&&(y.minEnd=D),T<this.minStart&&(this.minStart=T),D>this.maxEnd&&(this.maxEnd=D),w.events.push(B),typeof this.onBeforeEventRender=="function"&&(B.cache=this.zb.events[E]),B.part.start.getTime()===P&&B.part.end.getTime()===M&&(p[E]=!0)}}}}for(var x=0;x<this.Ba.length;x++){var w=this.Ba[x];w.events.sort(this.Bb);for(var E=0;E<w.events.length;E++){var b=w.events[E];w.putIntoBlock(b)}for(var E=0;E<w.blocks.length;E++){var V=w.blocks[E];V.events.sort(this.Bb);for(var G=0;G<V.events.length;G++){var b=V.events[G];V.putIntoLine(b)}}}}},this.Bb=function(l,f){if(!(l&&f&&l.start&&f.start))return 0;var m=l.start().getTime()-f.start().getTime();return m!==0?m:f.end().getTime()-l.end().getTime()},this.debug=function(l,f){this.debuggingEnabled&&(d.debugMessages||(d.debugMessages=[]),d.debugMessages.push(l),typeof console<"u"&&console.log(l))},this.getPixels=function(l,f){f||(f=this.startDate);var m=f.getTime(),p=l.getTime(),x=u.fa(),b=this.cache.pixels[p+"_"+m];if(b)return b;m=f.getTime();var h=60*x*1e3,y=p-m,w=y%h,S=y-w,N=S+h;w===0&&(N=S);var _={};return _.cut=!1,_.top=this.Cb(y),_.boxTop=this.Cb(S),_.boxBottom=this.Cb(N),this.cache.pixels[p+"_"+m]=_,_},this.Cb=function(l){return Math.floor(this.cellHeight*l/(6e4*u.fa()))},this.Db=function(l){Math.floor((shadowTop-_startOffset)/d.cellHeight),d.snapToGrid||(shadowTop-_startOffset)/d.cellHeight,u.fa()},this.vb=function(){this.startDate=new e.Date(this.startDate).getDatePart()},this.ia=function(){this.nav.corner&&(this.nav.corner.style.height=this.headerHeight+"px")},this.ma=function(){var l=this.Za();this.nav.scroll&&l>0&&(this.nav.scroll.style.height=l+"px")},this.wa={},this.wa.scope=null,this.wa.notify=function(){d.wa.scope&&d.wa.scope.$apply()},this.wa.apply=function(l){l()},this.pb=function(){if(d.nav.scroll&&d.Eb()){var l=d.nav.scroll.scrollTop,f=u.fa(),m=60/f,p=l/(m*d.cellHeight);d.Fb.scrollHour=p}},this.ob=function(){var l=0,f=60/u.fa();l=typeof d.Fb.scrollHour=="number"?f*d.cellHeight*d.Fb.scrollHour:d.initScrollPos==="Auto"?this.heightSpec==="BusinessHours"?f*this.cellHeight*this.businessBeginsHour:0:this.initScrollPos;var m=d.nav.top;m.style.display==="none"?(m.style.display="",d.nav.scroll.scrollTop=l,m.style.display="none"):d.nav.scroll.scrollTop=l},this.getScrollY=function(){return d.nav.scroll.scrollTop},this.setScrollY=function(l){d.nav.scroll.scrollTop=l,d.pb()},this.Gb=function(){return!(!this.backendUrl&&typeof WebForm_DoCallback!="function")&&(typeof d.events.list>"u"||!d.events.list)},this.u=function(){this.nav.top.style.visibility==="hidden"&&(this.nav.top.style.visibility="visible")},this.show=function(){d.visible=!0,d.nav.top.style.display="",this.qb()},this.hide=function(){d.visible=!1,d.nav.top.style.display="none"},this.Hb=function(){this.vb(),this.ga(),this.Ya(),this.ja(),this.ka(),this.qb(),this.nb(),this.rb(),r.register(this),this.Ib(),this.U("Init")},this.Fb={},this.Jb=function(){this.Fb.themes=[],this.Fb.themes.push(this.theme||this.cssClassPrefix)},this.Kb=function(){for(var l=this.Fb.themes,f=0;f<l.length;f++){var m=l[f];e.Util.removeClass(this.nav.top,m+"_main")}this.Fb.themes=[]},this.Lb=function(){if(this.afterRender(null,!1),typeof this.onAfterRender=="function"){var l={};l.isCallBack=!1,this.onAfterRender(l)}},this.Mb=function(){if(typeof this.onInit=="function"&&!this.Nb){this.Nb=!0;var l={};this.onInit(l)}},this.Eb=function(){var l=d.nav.top;return!!l&&l.offsetWidth>0&&l.offsetHeight>0},this.Ib=function(){var l=d.Eb;l()||(d.X=setInterval(function(){l()&&(d.nb(),d.qb(),clearInterval(d.X))},100))},this.ab=function(l,f){return d.ca.da()?e.Util.escapeTextHtml(l,f):e.Util.isNullOrUndefined(f)?e.Util.isNullOrUndefined(l)?"":l:f},this.Sa={},this.Sa.Ra=null,this.Sa.Ob=function(l,f,m){var p=d.Sa.Ra;if(typeof p.createVNode=="function"&&typeof p.render=="function"){var x=p.createVNode(l,m);p.render(x,f)}},this.Sa.Wa=function(l,f){var m=d.Sa.Ra;if(typeof m.render=="function"){var p=l;e.isArray(l)&&(p=m.h("div",null,l)),m.render(p,f)}},this.Sa.Ua=function(l){var f=d.Sa.Ra;typeof f.render=="function"&&f.render(null,l)},this.internal={},this.internal.loadOptions=d.ub,this.internal.xssTextHtml=d.ab,this.internal.enableVue=function(l){d.Sa.Ra=l},this.internal.vueRef=function(){return d.Sa.Ra},this.internal.vueRendering=function(){return d.Sa.Ta},this.init=function(){this.yb();var l=this.Gb();return this.Jb(),l?void this.Hb():(this.vb(),this.ga(),this.ha(),this.Ya(),this.ja(),this.ka(),this.u(),this.qb(),this.nb(),this.rb(),r.register(this),this.events&&(this.ia(),this.na()),this.Lb(),this.Mb(),this.Ib(),this.Ma=!0,this)},this.Init=this.init,this.ub(o)},e.CalendarColumn=function(i,o){var c=this;c.id=i.id,c.name=i.name,c.data=i.data,c.start=new e.Date(i.start),c.calendar=o,c.toJSON=function(){var d={};return d.id=this.id,this.start&&(d.start=this.start.toString()),d.name=this.name,d}},e.Calendar=r.Calendar,typeof jQuery<"u"&&(function(i){i.fn.daypilotCalendar=function(o){var c=null,d=this.each(function(){if(!this.daypilot){var u=new e.Calendar(this.id);this.daypilot=u;for(name in o)u[name]=o[name];u.init(),c||(c=u)}});return this.length===1?c:d}})(jQuery),(function(){var i=e.am();i&&i.directive("daypilotCalendar",["$parse",function(o){return{restrict:"E",template:"<div></div>",replace:!0,link:function(c,d,u){var l=new e.Calendar(d[0]);l.wa.scope=c,l.init();var f=u.id;f&&(c[f]=l);var m=u.publishAs;m&&(0,o(m).assign)(c,l);for(var p in u)p.indexOf("on")===0&&(function(y){l[y]=function(w){var S=o(u[y]);c.$apply(function(){S(c,{args:w})})}})(p);var x=c.$watch,b=u.config||u.daypilotConfig,h=u.events||u.daypilotEvents;x.call(c,b,function(y){for(var w in y)l[w]=y[w];l.update(),l.Mb()},!0),x.call(c,h,function(y){l.events.list=y,l.update()},!0)}}}])})()}})(),typeof e>"u")var e={};if(typeof e.Global>"u"&&(e.Global={}),(function(t){typeof t.DatePicker>"u"&&(t.DatePicker=function(r){this.v="2025.3.710-lite";var s="navigator_"+new Date().getTime(),a=this;this.onShow=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.prepare=function(){if(this.locale="en-us",this.target=null,this.targetAlignment="left",this.resetTarget=!0,this.pattern=this.ca.locale().datePattern,this.theme="navigator_default",this.patterns=[],this.zIndex=null,this.showToday=!0,this.todayText="Today",this.weekStarts="Auto",r)for(var i in r)this[i]=r[i]},this.init=function(){this.date=new t.Date(this.date);var i=this.Pb();this.resetTarget&&!i?this.Qb(this.date):!this.resetTarget&&i&&(a.date=i);var o=this.D();return o&&o.addEventListener("input",function(){a.date=a.Pb(),a.date&&a.navigator.select(a.date,{dontNotify:!0})}),this},this.close=function(){document.removeEventListener("mousedown",a.close),document.removeEventListener("wheel",a.close),window.removeEventListener("resize",a.close),a.Eb&&(a.Eb=!1,a.navigator&&a.navigator.dispose(),a.div.innerHTML="",a.div&&a.div.parentNode===document.body&&document.body.removeChild(a.div))},this.Rb=function(i){this.date=new t.Date(i),this.Qb(this.date)},this.select=function(i){var o={};o.date=new t.Date(i),o.preventDefault=function(){this.preventDefault.value=!0},typeof a.onTimeRangeSelect=="function"&&(a.onTimeRangeSelect(o),o.preventDefault.value)||(this.Rb(i),typeof a.onTimeRangeSelected=="function"&&a.onTimeRangeSelected(o))},this.Pb=function(){var i=this.D();if(!i)return this.date;var o=null;if(o=i.tagName==="INPUT"?i.value:i.innerText,!o)return null;for(var c=t.Date.parse(o,a.pattern),d=0;d<a.patterns.length;d++){if(c)return c;c=t.Date.parse(o,a.patterns[d])}return c},this.Qb=function(i){var o=this.D();if(o){var c=i.toString(a.pattern,a.locale);o.tagName==="INPUT"?o.value=c:o.innerHTML=c}},this.ca={},this.ca.locale=function(){return t.Locale.find(a.locale)},this.D=function(){var i=this.target;return i&&i.nodeType&&i.nodeType===1?i:document.getElementById(i)},Object.defineProperty(this,"visible",{get:function(){return a.Eb}}),this.show=function(){if(!this.Eb){document.addEventListener("mousedown",a.close),document.addEventListener("wheel",a.close),window.addEventListener("resize",a.close);var i=this.D(),o=new t.Navigator(s);o.api=2,o.cssOnly=!0,o.theme=a.theme,o.weekStarts="Auto",o.locale=a.locale,o.showToday=a.showToday,o.todayText=a.todayText,o.weekStarts=a.weekStarts,o.onTodayClick=function(b){o.onTimeRangeSelected({start:t.Date.today()}),b.preventDefault()},o.onTimeRangeSelected=function(w){a.date=w.start;var h=w.start.addTime(o.Sb),y=h.toString(a.pattern,a.locale),w={};w.start=h,w.date=h,w.preventDefault=function(){this.preventDefault.value=!0},typeof a.onTimeRangeSelect=="function"&&(a.onTimeRangeSelect(w),w.preventDefault.value)||(a.Qb(y),a.close(),typeof a.onTimeRangeSelected=="function"&&a.onTimeRangeSelected(w))},this.navigator=o;var c={x:0,y:0,w:0,h:0};i&&(c=t.abs(i));var d=c.h,u=a.targetAlignment,l=document.createElement("div");l.style.position="absolute",u==="left"&&(l.style.left=c.x+"px"),l.style.top=c.y+d+"px",a.zIndex&&(l.style.zIndex=a.zIndex);var f=document.createElement("div");f.id=s,l.appendChild(f),l.addEventListener("mousedown",function(h){var h=h||window.event;h.cancelBubble=!0,h.stopPropagation&&h.stopPropagation()}),document.body.appendChild(l),this.div=l;var m=a.Pb()||a.date;if(o.startDate=m,o.Sb=m.getTimePart(),o.selectionDay=m.getDatePart(),o.init(),u==="right"){var p=c.x+c.w-o.nav.top.offsetWidth;l.style.left=p+"px"}if(this.Eb=!0,this.onShow){var x={};this.onShow(x)}}},this.prepare(),this.init()})})(e),typeof e>"u")var e={};if(typeof e.Global>"u"&&(e.Global={}),(function(t){if(typeof t.Menu>"u"||!t.Menu.def){var r=function(){},s={};s.mouse=null,s.menu=null,s.handlersRegistered=!1,s.hideTimeout=null,s.waitingSubmenu=null,t.Menu=function(a){var i=this,o=null;this.v="2025.3.710-lite",this.zIndex=120,this.cssClassPrefix="menu_default",this.cssOnly=!0,this.menuTitle=null,this.showMenuTitle=!1,this.hideOnMouseOut=!1,this.hideAfter=200,this.theme=null,this.onShow=null,this.Tb=function(){},a&&t.isArray(a)&&(this.items=a),this.toJSON=function(){return null},this.show=function(u,l){l=l||{};var f=null;if(u?typeof u.id=="string"||typeof u.id=="number"?f=u.id:typeof u.id=="function"?f=u.id():typeof u.value=="function"&&(f=u.value()):f=null,typeof t.Bubble<"u"&&t.Bubble.hideActive(),l.submenu||s.menuClean(),this.Tb.submenu=null,s.mouse!==null){i.cssOnly||(i.cssOnly=!0);var m=null;if(u&&u.isRow&&u.$.row.task?(m=new t.Task(u.$.row.task,u.calendar),m.menuType="resource"):m=u&&u.isEvent&&u.data.task?new t.Task(u,u.calendar):u,typeof i.onShow=="function"){var p={};if(p.source=m,p.menu=i,p.preventDefault=function(){p.preventDefault.value=!0},i.onShow(p),p.preventDefault.value)return}var x=document.createElement("div");if(x.style.position="absolute",x.style.top="0px",x.style.left="0px",x.style.display="none",x.style.overflow="hidden",x.style.zIndex=this.zIndex+1,x.className=this.Ub("main"),x.onclick=function(ie){ie.cancelBubble=!0,this.parentNode.removeChild(this)},this.hideOnMouseOut&&(x.onmousemove=function(ie){clearTimeout(s.hideTimeout)},x.onmouseleave=function(ie){i.delayedHide({hideParent:!0})}),!this.items||this.items.length===0)throw"No menu items defined.";if(this.showMenuTitle){var b=document.createElement("div");b.innerHTML=this.menuTitle,b.className=this.Ub("title"),x.appendChild(b)}for(var h=0;h<this.items.length;h++){var y=this.items[h],w=document.createElement("div");if(t.Util.addClass(w,this.Ub("item")),y.items&&(t.Util.addClass(w,this.Ub("item_haschildren")),t.Util.addClass(x,this.Ub("withchildren"))),typeof y<"u"&&!y.hidden){if(y.text==="-"){var S=document.createElement("div");S.addEventListener("click",function(ie){ie.stopPropagation()}),w.appendChild(S)}else{var N=document.createElement("a");if(N.style.position="relative",N.style.display="block",y.cssClass&&t.Util.addClass(N,y.cssClass),y.disabled)t.Util.addClass(N,i.Ub("item_disabled"));else{if(y.onclick||y.onClick){N.item=y,N.onclick=(function(ie,ve){return function(_e){if(typeof ie.onClick=="function"){var xe={};if(xe.item=ie,xe.source=ve.source,xe.originalEvent=_e,xe.preventDefault=function(){xe.preventDefault.value=!0},ie.onClick(xe),xe.preventDefault.value)return void _e.stopPropagation()}ie.onclick&&ie.onclick.call(ve,_e)}})(y,N);var _=function(ie,ve){return function(_e){_e.stopPropagation(),_e.preventDefault(),ve.source.calendar&&ve.source.calendar.internal.touch&&(ve.source.calendar.internal.touch.active=!0)}},k=function(ie,ve){return function(_e){_e.stopPropagation(),_e.preventDefault();var xe=function(){window.setTimeout(function(){ve.source.calendar&&ve.source.calendar.internal.touch&&(ve.source.calendar.internal.touch.active=!1)},500)};if(typeof ie.onClick=="function"){var Le={};if(Le.item=ie,Le.source=ve.source,Le.originalEvent=_e,Le.preventDefault=function(){Le.preventDefault.value=!0},ie.onClick(Le),Le.preventDefault.value)return void xe()}ie.onclick&&ie.onclick.call(ve,_e),s.menuClean(),xe()}};t.reNonPassive(N,"touchstart",_(y,N)),t.reNonPassive(N,"touchend",k(y,N))}if(y.items&&!y.disabled){var E=function(ie,ve){return function(_e){_e.preventDefault(),_e.stopPropagation(),i.Vb(ie,ve)}};N.ontouchend=E(y,N)}if(y.onclick)r();else if(y.href)N.href=y.href.replace(/\x7B0\x7D/gim,f),y.target&&N.setAttribute("target",y.target);else if(y.command){var E=function(ve,_e){return function(xe){var Le=_e.source,Ie=ve;Ie.action=Ie.action?Ie.action:"CallBack";var fe=Le.calendar||Le.root;if(Le instanceof t.Link)return void fe.internal.linkMenuClick(Ie.command,Le,Ie.action);if(Le instanceof t.Selection)return void fe.internal.timeRangeMenuClick(Ie.command,Le,Ie.action);if(Le instanceof t.Event)return void fe.internal.eventMenuClick(Ie.command,Le,Ie.action);if(Le instanceof t.Selection)return void fe.internal.timeRangeMenuClick(Ie.command,Le,Ie.action);if(Le instanceof t.Task)return void(Le.menuType==="resource"?fe.internal.resourceHeaderMenuClick(Ie.command,_e.menuSource,Ie.action):fe.internal.eventMenuClick(Ie.command,_e.menuSource,Ie.action));switch(Le.menuType){case"resource":return void fe.internal.resourceHeaderMenuClick(Ie.command,Le,Ie.action);case"selection":return void fe.internal.timeRangeMenuClick(Ie.command,Le,Ie.action);default:return void fe.internal.eventMenuClick(Ie.command,Le,Ie.action)}}};N.onclick=E(y,N),N.ontouchend=E(y,N)}}y.items&&N.addEventListener("click",function(ie){ie.stopPropagation()}),N.source=m,N.menuSource=u;var T=document.createElement("span");if(T.className=i.Ub("item_text"),T.innerHTML=t.Util.escapeTextHtml(y.text,y.html),N.appendChild(T),y.image){var D=document.createElement("img");D.src=y.image,D.style.position="absolute",D.style.top="0px",D.style.left="0px",N.appendChild(D)}if(y.icon){var P=document.createElement("span");P.className=i.Ub("item_icon");var M=document.createElement("i");M.className=y.icon,P.appendChild(M),N.appendChild(P)}if(y.symbol){var R="http://www.w3.org/2000/svg",B=document.createElementNS(R,"svg");B.setAttribute("width","100%"),B.setAttribute("height","100%");var L=document.createElementNS(R,"use");L.setAttribute("href",y.symbol),B.appendChild(L);var $=document.createElement("span");$.className=i.Ub("item_symbol"),$.style.position="absolute",$.style.top="0px",$.style.left="0px",$.appendChild(B),N.appendChild($)}var I=function(ie,ve){return function(){var _e=(ve.source,ie),xe=s.waitingSubmenu;if(xe){if(xe.parent===_e)return;clearTimeout(xe.timeout),s.waitingSubmenu=null}ie.disabled||(s.waitingSubmenu={},s.waitingSubmenu.parent=_e,s.waitingSubmenu.timeout=setTimeout(function(){s.waitingSubmenu=null,i.Vb(_e,ve)},300))}};N.onmouseover=I(y,N),w.appendChild(N)}x.appendChild(w)}}var z=function(ie){window.setTimeout(function(){s.menuClean(),t.MenuBar.deactivate()},100)};x.onclick=z,x.ontouchend=z,x.onmousedown=function(ie){ie=ie||window.event,ie.cancelBubble=!0,ie.stopPropagation&&ie.stopPropagation()},x.oncontextmenu=function(){return!1},document.body.appendChild(x),i.Tb.visible=!0,i.Tb.source=u,x.style.display="";var H=x.offsetHeight,Z=x.offsetWidth;x.style.display="none";var V=document.documentElement.clientHeight,G=window.innerWidth,U=typeof l.windowMargin=="number"?l.windowMargin:5;if((function(){var ie=l.initiator;if(ie){var ve=ie.div,_e=ie.e,xe=ie.area,Le=xe.visibility||xe.v||"Visible",Ie=ie.a;if(Le!=="Visible"&&(Ie=t.Areas.createArea(ve,_e,xe),ve.appendChild(Ie),o=Ie),Ie){var fe=t.abs(Ie);l.x=fe.x,l.y=fe.y+fe.h+2}}})(),(function(){var ie=typeof l.x=="number"?l.x:s.mouse.x+1,ve=typeof l.y=="number"?l.y:s.mouse.y+1,_e=document.body.scrollTop||document.documentElement.scrollTop,xe=document.body.scrollLeft||document.documentElement.scrollLeft,Le=0,Ie=0;ve-_e>V-H&&V!==0?Le=ve-(ve-_e-(V-H)+U):Le=ve,i.Tb.y=Le,x.style.top=Le+"px",l.align==="right"&&(ie-=Z),ie-xe>G-Z&&G!==0?Ie=ie-(ie-xe-(G-Z)+U):Ie=ie,i.Tb.x=Ie,x.style.left=Ie+"px"})(),l.parentLink){var Y=l.parentLink,K=parseInt(new t.StyleReader(x).get("border-top-width")),re=t.abs(l.parentLink.parentNode),he=re.x+Y.offsetWidth,me=re.y-K;he+Z>G&&(he=Math.max(0,re.x-Z));var de=document.body.scrollTop+document.documentElement.scrollTop;me+H-de>V&&(me=Math.max(0,V-H+de)),x.style.left=he+"px",x.style.top=me+"px"}x.style.display="",this.addShadow(x),this.Tb.div=x,l.submenu||(t.Menu.active=this)}},this.update=function(){if(i.Tb.visible){var u=i.Tb.source;i.hide(),i.show(u,{x:i.Tb.x,y:i.Tb.y})}},this.Vb=function(u,l){var f=u,m=l.source;if((!i.Tb.submenu||i.Tb.submenu.item!==u)&&(i.Tb.submenu&&i.Tb.submenu.item!==u&&(t.Util.removeClass(i.Tb.submenu.link.parentNode,i.Ub("item_haschildren_active")),i.Tb.submenu.menu.hide(),i.Tb.submenu=null),u.items)){var p=i.cloneOptions();p.items=u.items,i.Tb.submenu={},i.Tb.submenu.menu=new t.Menu(p),i.Tb.submenu.menu.Wb=i,i.Tb.submenu.menu.show(m,{submenu:!0,parentLink:l,parentItem:f}),i.Tb.submenu.item=u,i.Tb.submenu.link=l,t.Util.addClass(l.parentNode,i.Ub("item_haschildren_active"))}},this.Ub=function(u){var l=this.theme||this.cssClassPrefix,f=this.cssOnly?"_":"";return l?l+f+u:""},this.cloneOptions=function(){return t.Util.copyProps(c,{},["cssClassPrefix","theme","hideAfter","hideOnMouseOut","zIndex"])},this.hide=function(u){u=u||{},this.Tb.submenu&&this.Tb.submenu.menu.hide();var l=s.waitingSubmenu;if(l&&(s.waitingSubmenu=null,clearTimeout(l.timeout)),this.removeShadow(),this.Tb.div&&this.Tb.div.parentNode===document.body&&document.body.removeChild(this.Tb.div),o&&(t.de(o),o=null),i.Tb.visible=!1,i.Tb.source=null,i.Wb&&u.hideParent&&i.Wb.hide(u),t.Menu.active===i&&(t.Menu.active=null),typeof this.onHide=="function"){var f={};this.onHide(f)}},this.delayedHide=function(u){s.hideTimeout=setTimeout(function(){i.hide(u)},i.hideAfter)},this.cancelHideTimeout=function(){clearTimeout(s.hideTimeout)},this.init=function(u){return s.mouseMove(u),this},this.addShadow=function(u){},this.removeShadow=function(){};var c=t.isArray(a)?null:a;if(c)for(var d in c)this[d]=c[d]},t.MenuBar=function(a,i){var o=this;i=i||{},this.items=[],this.theme="menubar_default",this.windowMargin=0,this.nav={},this.elements={},this.elements.items=t.list(),this.l=null,this.Ma=!1;for(var c in i)this[c]=i[c];this.Xb=function(d){return this.theme+"_"+d},this.u=function(){this.nav.top=document.getElementById(a);var d=this.nav.top;d.className=this.Xb("main"),t.list(o.items).forEach(function(u){var l=document.createElement("span");l.innerHTML=t.Util.escapeTextHtml(u.text,u.html),l.className=o.Xb("item"),u.cssClass&&l.classList.add(u.cssClass),l.data=u,l.onclick=function(f){if(o.active&&o.active.item===u)o.Yb();else if(u.children)return void o.Zb(l);if(typeof u.onClick=="function"){var m={};m.item=u,m.originalEvent=f,u.onClick(m)}},l.onmousedown=function(f){f.stopPropagation()},l.onmouseover=function(){o.active&&o.active.item!==u&&o.Zb(l)},d.appendChild(l),o.elements.items.push(l)})},this.Yb=function(){var d=o.Xb("item_active");o.elements.items.forEach(function(u){t.Util.removeClass(u,d)}),o.active&&o.active.menu&&o.active.menu.hide(),o.active=null},this.$b=function(d){return!!o.active&&o.active.item===d.data},this.Zb=function(d){if(!o.$b(d)){o.Yb();var u=d.data,l=o.active={};l.item=u,l.div=d;var f=o.Xb("item_active");t.Util.addClass(d,f);var m=t.abs(d);if(u.children){l.menu=new t.Menu({items:u.children});var p=m.x;u.align==="right"&&(p+=m.w),l.menu.show(null,{x:p,y:m.y+m.h,align:u.align,windowMargin:o.windowMargin})}t.MenuBar.active=o}},this.init=function(){return this.u(),this.Ma=!0,this},this.dispose=function(){this.Ma&&(this.nav.top.innerHTML="",this.elements.items=[])}},t.MenuBar.deactivate=function(){t.MenuBar.active&&(t.MenuBar.active.Yb(),t.MenuBar.active=null)},s.menuClean=function(){typeof t.Menu.active<"u"&&t.Menu.active&&(t.Menu.active.hide(),t.Menu.active=null)},s.mouseDown=function(a){typeof s<"u"&&(s.menuClean(),t.MenuBar.deactivate())},s.wheel=function(a){typeof s<"u"&&(s.menuClean(),t.MenuBar.deactivate())},s.mouseMove=function(a){typeof s<"u"&&(s.mouse=s.mousePosition(a))},s.touchMove=function(a){typeof s<"u"&&(s.mouse=s.touchPosition(a))},s.touchStart=function(a){typeof s<"u"&&(s.mouse=s.touchPosition(a))},s.touchEnd=function(a){},s.touchPosition=function(a){if(!a||!a.touches)return null;var i=a.touches[0],o={};return o.x=i.pageX,o.y=i.pageY,o},s.mousePosition=function(a){return t.mo3(null,a)},t.Menu.touchPosition=function(a){a.touches&&(s.mouse=s.touchPosition(a))},t.Menu.hide=function(a){if(a=a||{},a.calendar){var i=t.Menu.active;if(i){var o=i.Tb.source;o&&o.calendar===a.calendar&&s.menuClean()}}else s.menuClean()},s.handlersRegistered||typeof document>"u"||(t.re(document,"mousemove",s.mouseMove),t.re(document,"mousedown",s.mouseDown),t.re(document,"wheel",s.wheel),t.re(document,"touchmove",s.touchMove),t.re(document,"touchstart",s.touchStart),t.re(document,"touchend",s.touchEnd),s.handlersRegistered=!0),t.Menu.def={}}})(e),typeof e>"u"&&(e={}),(function(t){function r(p,x,b){var h=x.indexOf(".");if(h===-1)return void(x!=="__proto__"&&x!=="constructor"&&(p[x]=b));var y=x.substring(0,h);if(y!=="__proto__"&&y!=="constructor"){var w=x.substring(h+1),S=p[y];typeof S=="object"&&S!==null||(p[y]={},S=p[y]),r(S,w,b)}}function s(p,x,b){x=x||{},b=b||"";for(var h in p){var y=p[h];typeof y=="object"?Object.prototype.toString.call(y)==="[object Array]"?x[b+h]=y:y&&y.toJSON?x[b+h]=y.toJSON():s(y,x,b+h+"."):x[b+h]=y}return x}if(!t.ModalStatic){t.ModalStatic={},t.ModalStatic.list=[],t.ModalStatic.hide=function(){if(this.list.length>0){var p=this.list.pop();p&&p.hide()}},t.ModalStatic.remove=function(p){for(var x=t.ModalStatic.list,b=0;b<x.length;b++)if(x[b]===p)return void x.splice(b,1)},t.ModalStatic.close=function(p){t.ModalStatic.result(p),t.ModalStatic.hide()},t.ModalStatic.result=function(p){var x=t.ModalStatic.list;x.length>0&&(x[x.length-1].result=p)},t.ModalStatic.displayed=function(p){for(var x=t.ModalStatic.list,b=0;b<x.length;b++)if(x[b]===p)return!0;return!1},t.ModalStatic.stretch=function(){if(this.list.length>0){var p=this.list[this.list.length-1];p&&p.stretch()}},t.ModalStatic.last=function(){var p=t.ModalStatic.list;return p.length>0?p[p.length-1]:null};var a=function(){function p(){for(var y=document.querySelectorAll("style[nonce]"),w=0;w<y.length;w++){var S=y[w];if(S.nonce)return S.nonce}if(document.currentScript&&document.currentScript.nonce)return document.currentScript.nonce;for(var N=document.querySelectorAll("script[nonce]"),_=0;_<N.length;_++){var k=N[_];if(k.nonce)return k.nonce}return""}if(typeof window>"u"){var h={};return h.add=function(){},h.commit=function(){},h}var x=document.createElement("style");x.nonce=p(),x.styleSheet||x.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(x);var b=!!x.styleSheet,h={};return h.rules=[],h.commit=function(){try{b&&(x.styleSheet.cssText=this.rules.join(`
`))}catch{}},h.add=function(y,w,S){if(b)return void this.rules.push(y+"{"+w+"}");if(x.sheet.insertRule)typeof S>"u"&&(S=x.sheet.cssRules.length),x.sheet.insertRule(y+"{"+w+"}",S);else{if(!x.sheet.addRule)throw"No CSS registration method found";x.sheet.addRule(y,w,S)}},h},i="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB3aWR0aD0iMTAiCiAgIGhlaWdodD0iMTUiCj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDUpIj4KICAgIDxwYXRoCiAgICAgICBpZD0icGF0aDMxNzMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoxLjg1MTk2ODUzO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZSIKICAgICAgIGQ9Ik0gMC45NTQxNDgzOCwwLjY4MTYwMzEgNS4wMzkwNjI1LDUuNDExNTM4NiA5LjEyMzk3NjYsMC42ODE2MDMxIgogICAgICAgIC8+CiAgPC9nPgo8L3N2Zz4K",o=new a;o.add(".modal_default_main","border: 10px solid #ccc; max-width: 90%;"),o.add(".modal_default_main:focus","outline: none;"),o.add(".modal_default_content","padding: 10px 0px;"),o.add(".modal_default_inner","padding: 20px;"),o.add(".modal_default_input","padding: 10px 0px;"),o.add(".modal_default_buttons","margin-top: 10px;"),o.add(".modal_default_buttons","padding: 10px 0px;"),o.add(".modal_default_form_item","padding: 10px 0px; position: relative;"),o.add(".modal_default_form_item_level1","border-left: 2px solid #ccc; margin-left: 10px; padding-left: 20px;"),o.add(".modal_default_form_item.modal_default_form_title","font-size: 1.5rem; font-weight: bold;"),o.add(".modal_default_form_item input[type=text]","width: 100%; box-sizing: border-box;"),o.add(".modal_default_form_item textarea","width: 100%; height: 200px; box-sizing: border-box;"),o.add(".modal_default_form_item input[type=select]","width: 100%; box-sizing: border-box;"),o.add(".modal_default_form_item label","display: block;"),o.add(".modal_default_form_item select","width: 100%; box-sizing: border-box;"),o.add(".modal_default_form_item_label","margin: 2px 0px;"),o.add(".modal_default_form_item_image img","max-width: 100%; height: auto;"),o.add(".modal_default_form_item_invalid",""),o.add(".modal_default_form_item_invalid_message","position: absolute; right: 0px; top: 9px; background-color: red; color: #ffffff; padding: 2px; border-radius: 2px;"),o.add(".modal_default_background","opacity: 0.5; background-color: #000;"),o.add(".modal_default_ok","padding: 3px; width: 80px;"),o.add(".modal_default_cancel","padding: 3px; width: 80px;"),o.add(".modal_default_form_item_date","position: relative;"),o.add(".modal_default_form_item_date:after","content: ''; position: absolute; right: 7px; top: 50%; margin-top: 3px; width: 10px; height: 15px; background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB3aWR0aD0iMTAiCiAgIGhlaWdodD0iMTUiCj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDUpIj4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojY2NjY2NjO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjM4MDM3MzM2O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icmVjdDE5MjgiCiAgICAgICB3aWR0aD0iOS45MTUzMDYxIgogICAgICAgaGVpZ2h0PSIxMS4zNjkzNyIKICAgICAgIHg9IjAuMTE3MTg3NSIKICAgICAgIHk9Ii0zLjAwOTk5NTciCiAgICAgICByeT0iMS4zMTE4NTA1IiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNjY2NjY2M7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNTk4MTQwMTI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MTkzMCIKICAgICAgIHdpZHRoPSIxLjUzNDQxMzYiCiAgICAgICBoZWlnaHQ9IjIuMjE5ODI1IgogICAgICAgeD0iMi4xNTU4NDgzIgogICAgICAgeT0iLTQuMzkzNzAwMSIKICAgICAgIHJ5PSIwLjY3MTc4OTE3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSItMS4xNjU4NDY2IgogICAgICAgeD0iMS41MjM5NTA2IgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QxOTQ4IgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjY3MTc4OTE3IgogICAgICAgeT0iLTQuMzkzNzAwMSIKICAgICAgIHg9IjYuNDUyNzIzNSIKICAgICAgIGhlaWdodD0iMi4yMTk4MjUiCiAgICAgICB3aWR0aD0iMS41MzQ0MTM2IgogICAgICAgaWQ9InJlY3QyMDAzIgogICAgICAgc3R5bGU9ImZpbGw6I2NjY2NjYztmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS41OTgxNDAxMjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MjAwNSIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHg9IjQuMjE5MjYzMSIKICAgICAgIHk9Ii0xLjE2NTg0NjYiCiAgICAgICByeT0iMC4yOTYwMTQ3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSItMS4xNjU4NDY2IgogICAgICAgeD0iNi45OTI3MDA2IgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QyMDA3IgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MjAxMyIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHg9IjEuNTIzOTUwNiIKICAgICAgIHk9IjEuODAyOTAzNCIKICAgICAgIHJ5PSIwLjI5NjAxNDciIC8+CiAgICA8cmVjdAogICAgICAgcnk9IjAuMjk2MDE0NyIKICAgICAgIHk9IjEuODAyOTAzNCIKICAgICAgIHg9IjQuMjE5MjYzMSIKICAgICAgIGhlaWdodD0iMS44Mjk5MDkxIgogICAgICAgd2lkdGg9IjEuODM0MjI1MSIKICAgICAgIGlkPSJyZWN0MjAxNSIKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIgLz4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjQyMTg5MTkzO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icmVjdDIwMTciCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB4PSI2Ljk5MjcwMDYiCiAgICAgICB5PSIxLjgwMjkwMzQiCiAgICAgICByeT0iMC4yOTYwMTQ3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSI0LjczMjU5MDciCiAgICAgICB4PSIxLjU2MzAxMzEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBpZD0icmVjdDIwMTkiCiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjQyMTg5MTkzO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiIC8+CiAgICA8cmVjdAogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgaWQ9InJlY3QyMDIxIgogICAgICAgd2lkdGg9IjEuODM0MjI1MSIKICAgICAgIGhlaWdodD0iMS44Mjk5MDkxIgogICAgICAgeD0iNC4yNTgzMjU2IgogICAgICAgeT0iNC43MzI1OTA3IgogICAgICAgcnk9IjAuMjk2MDE0NyIgLz4KICAgIDxyZWN0CiAgICAgICByeT0iMC4yOTYwMTQ3IgogICAgICAgeT0iNC43MzI1OTA3IgogICAgICAgeD0iNy4wMzE3NjMxIgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QyMDIzIgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogIDwvZz4KPC9zdmc+Cg==)"),typeof navigator<"u"&&navigator.userAgent.indexOf("Edge")!==-1&&o.add(".modal_default_form_item_date input::-ms-clear","display: none;"),o.add(".modal_default_form_item_scrollable_scroll","width: 100%; height: 200px; box-sizing: border-box; border: 1px solid #ccc; overflow-y: auto;"),o.add(".modal_default_form_item_scrollable_scroll_content","padding: 5px;"),o.add(".modal_default_form_item_searchable","position: relative;"),o.add(".modal_default_form_item_searchable_icon",""),o.add(".modal_default_form_item_searchable_icon:after","content:''; position: absolute; right: 5px; top: 50%; margin-top: -8px; width: 10px; height: 15px; background-image:url("+i+");"),o.add(".modal_default_form_item_searchable_list","box-sizing: border-box; border: 1px solid #999; max-height: 150px; overflow-y: auto;"),o.add(".modal_default_form_item_searchable_list_item","background: white; padding: 2px; cursor: default;"),o.add(".modal_default_form_item_searchable_list_item_highlight","background: #ccc;"),o.add(".modal_default_form_item_time","position: relative;"),o.add(".modal_default_form_item_time_icon",""),o.add(".modal_default_form_item_time_icon:after","content:''; position: absolute; right: 5px; top: 50%; margin-top: -8px; width: 10px; height: 15px; background-image:url("+i+");"),o.add(".modal_default_form_item_time_list","box-sizing: border-box; border: 1px solid #999; max-height: 150px; overflow-y: auto;"),o.add(".modal_default_form_item_time_list_item","background: white; padding: 2px; cursor: default;"),o.add(".modal_default_form_item_time_list_item_highlight","background: #ccc;"),o.add(".modal_default_form_item_datetime_parent","display: flex;"),o.add(".modal_default_form_item_datetime .modal_default_form_item_time_main","margin-left: 5px;"),o.add(".modal_default_form_item_datetime input[type='text'].modal_default_input_date ",""),o.add(".modal_default_form_item_tabular_main","margin-top: 10px;"),o.add(".modal_default_form_item_tabular_table","display: table; width: 100%; xbackground-color: #fff; border-collapse: collapse;"),o.add(".modal_default_form_item_tabular_tbody","display: table-row-group;"),o.add(".modal_default_form_item_tabular_row","display: table-row;"),o.add(".modal_default_form_item_tabular_row.modal_default_form_item_tabular_header",""),o.add(".modal_default_form_item_tabular_cell.modal_default_form_item_tabular_rowaction","padding: 0px; width: 23px;"),o.add(".modal_default_form_item_tabular_cell","display: table-cell; border: 0px; padding: 2px 2px 2px 0px; cursor: default; vertical-align: bottom;"),o.add(".modal_default_form_item_tabular_header .modal_default_form_item_tabular_cell","padding-left: 0px; padding-bottom: 0px;"),o.add(".modal_default_form_item_tabular_table input[type=text], .modal_default_form_item_tabular_table input[type=number]","width:100%; box-sizing: border-box;"),o.add(".modal_default_form_item_tabular_table select","width:100%; height:100%; box-sizing: border-box;"),o.add(".modal_default_form_item_tabular_plus","display: inline-block; background-color: #ccc; color: white; width: 20px; height: 20px; border-radius: 10px; box-sizing: border-box; position: relative; margin-left: 3px; margin-top: 3px; cursor: pointer;"),o.add(".modal_default_form_item_tabular_plus:after",`content: ''; position: absolute; left: 5px; top: 5px; width: 10px; height: 10px;   background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSA1LjAgMC41IEwgNS4wIDkuNSBNIDAuNSA1LjAgTCA5LjUgNS4wJyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==")`),o.add(".modal_default_form_item_tabular_delete","display: inline-block; background-color: #ccc; color: white; width: 20px; height: 20px; border-radius: 10px; box-sizing: border-box; position: relative; margin-left: 3px; margin-top: 3px; cursor: pointer;"),o.add(".modal_default_form_item_tabular_delete:after",`content: ''; position: absolute; left: 5px; top: 5px; width: 10px; height: 10px;   background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgOS41IDkuNSBNIDAuNSA5LjUgTCA5LjUgMC41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==")`),o.add(".modal_default_form_item_tabular_disabled .modal_default_form_item_tabular_plus","display: none;"),o.add(".modal_default_form_item_tabular_plus_max.modal_default_form_item_tabular_plus","display: none;"),o.add(".modal_default_form_item_tabular_disabled .modal_default_form_item_tabular_delete","visibility: hidden;"),o.add(".modal_default_form_item_tabular_empty","height: 1px; margin: 5px 23px 5px 0px; background-color: #ccc;"),o.add(".modal_default_form_item_tabular_spacer .modal_default_form_item_tabular_cell","padding: 0px;"),o.add(".modal_min_main","border: 1px solid #ccc; max-width: 90%;"),o.add(".modal_min_background","opacity: 0.5; background-color: #000;"),o.add(".modal_min_ok","padding: 3px 10px;"),o.add(".modal_min_cancel","padding: 3px 10px;"),o.add(".navigator_modal_main","border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;"),o.add(".navigator_modal_main *, .navigator_modal_main *:before, .navigator_modal_main *:after","box-sizing: content-box;"),o.add(".navigator_modal_month","font-size: 11px;"),o.add(".navigator_modal_day","color: black;"),o.add(".navigator_modal_weekend","background-color: #f0f0f0;"),o.add(".navigator_modal_dayheader","color: black;"),o.add(".navigator_modal_line","border-bottom: 1px solid #c0c0c0;"),o.add(".navigator_modal_dayother","color: gray;"),o.add(".navigator_modal_todaybox","border: 1px solid red;"),o.add(".navigator_modal_title, .navigator_modal_titleleft, .navigator_modal_titleright","border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;"),o.add(".navigator_modal_busy","font-weight: bold;"),o.add(".navigator_modal_cell","text-align: center;"),o.add(".navigator_modal_select .navigator_modal_cell_box","background-color: #FFE794; opacity: 0.5;"),o.add(".navigator_modal_title","text-align: center;"),o.add(".navigator_modal_titleleft, .navigator_modal_titleright","text-align: center;"),o.add(".navigator_modal_dayheader","text-align: center;"),o.add(".navigator_modal_weeknumber","text-align: center;"),o.add(".navigator_modal_cell_text","cursor: pointer;"),o.add(".navigator_modal_todaysection","box-sizing: border-box; display: flex; align-items: center; justify-content: center; border-top: 1px solid var(--dp-nav-border-color);"),o.add(".navigator_modal_todaysection_button","cursor: pointer; color: #333; background-color: #f0f0f0; border: 1px solid var(--dp-nav-border-color); padding: 5px 10px; border-radius: 0px; "),o.commit(),t.Modal=function(p){this.autoFocus=!0,this.focus=null,this.autoStretch=!0,this.autoStretchFirstLoadOnly=!1,this.className=null,this.theme="modal_default",this.disposeOnClose=!0,this.dragDrop=!0,this.loadingHtml=null,this.maxHeight=null,this.scrollWithPage=!0,this.useIframe=!0,this.zIndex=99999,this.left=null,this.width=600,this.top=20,this.height=200,this.locale=null,this.closed=null,this.onClose=null,this.onClosed=null,this.onShow=null;var x=this;this.id="_"+new Date().getTime()+"n"+10*Math.random(),this._b=!1,this.bc=null,this.cc=null,this.showHtml=function(b){if(t.ModalStatic.displayed(this))throw"This modal dialog is already displayed.";if(this.div||this.dc(),this.sb(),this.useIframe){var h=function(y,w){return function(){y.setInnerHTML(y.id+"iframe",w)}};window.setTimeout(h(this,b),0)}else b.nodeType?this.div.appendChild(b):this.div.innerHTML=b;this.sb(),this.ec(),this.fc()},this.showUrl=function(b){if(t.ModalStatic.displayed(this))throw"This modal dialog is already displayed.";if(this.useIframe){this.div||this.dc();var h=this.loadingHtml;h&&(this.iframe.src="about:blank",this.setInnerHTML(this.id+"iframe",h)),this.re(this.iframe,"load",this.gc),this.iframe.src=b,this.sb(),this.ec(),this.fc()}else x.hc({url:b,success:function(y){var w=y.request.responseText;x.showHtml(w)},error:function(y){x.showHtml("Error loading the modal dialog")}})},this.fc=function(){if(typeof x.onShow=="function"){var b={};b.root=x.ic(),b.modal=x,x.onShow(b)}},this.ic=function(){return x.iframe?x.iframe.contentWindow.document:x.div},this.hc=function(b){var h=new XMLHttpRequest;if(h){var y=b.method||"GET",w=b.success||function(){},S=b.error||function(){},N=b.data,_=b.url;h.open(y,_,!0),h.setRequestHeader("Content-type","text/plain"),h.onreadystatechange=function(){if(h.readyState===4)if(h.status===200||h.status===304){var k={};k.request=h,w(k)}else if(S){var k={};k.request=h,S(k)}else window.console&&console.log("HTTP error "+h.status)},h.readyState!==4&&(typeof N=="object"&&(N=JSON.stringify(N)),h.send(N))}},this.sb=function(){delete this.result;var b=window,h=document,y=b.pageYOffset?b.pageYOffset:h.documentElement&&h.documentElement.scrollTop?h.documentElement.scrollTop:h.body.scrollTop;this.theme&&(this.hideDiv.className=this.theme+"_background"),this.zIndex&&(this.hideDiv.style.zIndex=this.zIndex),this.hideDiv.style.display="",window.setTimeout(function(){x.hideDiv&&(x.hideDiv.onclick=function(){x.hide({backgroundClick:!0})})},500),this.theme?this.div.className=this.theme+"_main":this.div.className="",this.className&&(this.div.className+=" "+this.className),this.left?this.div.style.left=this.left+"px":this.div.style.marginLeft="-"+Math.floor(this.width/2)+"px",this.div.style.position="absolute",this.div.style.boxSizing="content-box",this.div.style.top=y+this.top+"px",this.div.style.width=this.width+"px",this.zIndex&&(this.div.style.zIndex=this.zIndex),this.height&&(this.useIframe||!this.autoStretch?this.div.style.height=this.height+"px":this.div.style.height=""),this.useIframe&&this.height&&(this.iframe.style.height=this.height+"px"),this.div.style.display="",this.kc(),t.ModalStatic.remove(this),t.ModalStatic.list.push(this)},this.gc=function(){x.iframe.contentWindow.modal=x,x.autoStretch&&x.stretch()},this.stretch=function(){var b=function(){return x.jc().y},h=function(){return x.jc().x};if(this.useIframe){for(var y=h()-40,w=this.width;w<y&&this.lc();w+=10)this.div.style.width=w+"px",this.div.style.marginLeft="-"+Math.floor(w/2)+"px";for(var S=this.maxHeight||b()-2*this.top,N=this.height;N<S&&this.nc();N+=10)this.iframe.style.height=N+"px",this.div.style.height=N+"px";this.autoStretchFirstLoadOnly&&this.ue(this.iframe,"load",this.gc)}else this.div.style.height=""},this.lc=function(){for(var b=this.iframe.contentWindow.document,h=b.compatMode==="BackCompat"?b.body:b.documentElement,y=h.scrollWidth,w=b.body.children,S=0;S<w.length;S++){var N=w[S].offsetLeft+w[S].offsetWidth;y=Math.max(y,N)}return y>h.clientWidth},this.nc=function(){for(var b=this.iframe.contentWindow.document,h=b.compatMode==="BackCompat"?b.body:b.documentElement,y=h.scrollHeight,w=b.body.children,S=0;S<w.length;S++){var N=w[S].offsetTop+w[S].offsetHeight;y=Math.max(y,N)}return y>h.clientHeight},this.jc=function(){var b=document;if(b.compatMode==="CSS1Compat"&&b.documentElement&&b.documentElement.clientWidth){var h=b.documentElement.clientWidth,y=b.documentElement.clientHeight;return{x:h,y}}var h=b.body.clientWidth,y=b.body.clientHeight;return{x:h,y}},this.ec=function(){this._b||(this.re(window,"resize",this.oc),this.re(window,"scroll",this.pc),this.dragDrop&&(this.re(document,"mousemove",this.qc),this.re(document,"mouseup",this.rc)),this._b=!0)},this.sc=function(){this.ue(window,"resize",this.oc),this.ue(window,"scroll",this.pc),this.dragDrop&&(this.ue(document,"mousemove",this.qc),this.ue(document,"mouseup",this.rc)),this._b=!1},this.tc=function(b){b.target===x.div&&(b.preventDefault(),x.div.style.cursor="move",x.uc(),x.cc=x.mc(b||window.event),x.bc={x:x.div.offsetLeft,y:x.div.offsetTop})},this.qc=function(b){if(x.cc){var b=b||window.event,h=x.mc(b),y=h.x-x.cc.x,w=h.y-x.cc.y;x.div.style.marginLeft="0px",x.div.style.top=x.bc.y+w+"px",x.div.style.left=x.bc.x+y+"px"}},this.rc=function(b){x.cc&&(x.vc(),x.div.style.cursor=null,x.cc=null)},this.uc=function(){if(this.useIframe){var b=document.createElement("div");b.style.backgroundColor="#ffffff",b.style.filter="alpha(opacity=80)",b.style.opacity="0.80",b.style.width="100%",b.style.height=this.height+"px",b.style.position="absolute",b.style.left="0px",b.style.top="0px",this.div.appendChild(b),this.mask=b}},this.vc=function(){this.useIframe&&(this.div.removeChild(this.mask),this.mask=null)},this.oc=function(){x.wc(),x.kc()},this.pc=function(){x.wc()},this.kc=function(){if(!x.left&&x.div){var b=x.div.offsetWidth;x.div.style.marginLeft="-"+Math.floor(b/2)+"px"}},this.wc=function(){if(x.hideDiv&&x.div&&x.hideDiv.style.display!=="none"&&x.div.style.display!=="none"){var b=x.xc.scrollY();x.scrollWithPage||(x.div.style.top=b+x.top+"px")}},this.xc={},this.xc.container=function(){return x.container||document.body},this.xc.scrollY=function(){var b=x.xc.container();return b===document.body?window.pageYOffset?window.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop:b.scrollTop},this.re=function(b,h,y){b.addEventListener?b.addEventListener(h,y,!1):b.attachEvent&&b.attachEvent("on"+h,y)},this.ue=function(b,h,y){b.removeEventListener?b.removeEventListener(h,y,!1):b.detachEvent&&b.detachEvent("on"+h,y)},this.mc=function(b){return b.pageX||b.pageY?{x:b.pageX,y:b.pageY}:{x:b.clientX+document.documentElement.scrollLeft,y:b.clientY+document.documentElement.scrollTop}},this.abs=function(b){for(var h={x:b.offsetLeft,y:b.offsetTop};b.offsetParent;)b=b.offsetParent,h.x+=b.offsetLeft,h.y+=b.offsetTop;return h},this.dc=function(){var b=x.xc.container(),h=b===document.body,y=h?"fixed":"absolute",w=document.createElement("div");w.id=this.id+"hide",w.style.position=y,w.style.left="0px",w.style.top="0px",w.style.right="0px",w.style.bottom="0px",w.oncontextmenu=function(){return!1},w.onmousedown=function(){return!1},b.appendChild(w);var S=document.createElement("div");S.id=this.id+"popup",S.style.position=y,S.style.left="50%",S.style.top="0px",S.style.backgroundColor="white",S.style.width="50px",S.style.height="50px",this.dragDrop&&(S.onmousedown=this.tc),S.addEventListener("keydown",function(_){_.stopPropagation()});var N=null;this.useIframe&&(N=document.createElement("iframe"),N.id=this.id+"iframe",N.name=this.id+"iframe",N.frameBorder="0",N.style.width="100%",N.style.height="50px",S.appendChild(N)),b.appendChild(S),this.div=S,this.iframe=N,this.hideDiv=w},this.setInnerHTML=function(b,h){var y=window.frames[b],w=y.contentWindow||y.document||y.contentDocument;w.document&&(w=w.document),w.body==null&&w.write("<body></body>"),h.nodeType?w.body.appendChild(h):w.body.innerHTML=h,x.autoStretch&&(x.autoStretchFirstLoadOnly&&x.yc||(x.stretch(),x.yc=!0))},this.close=function(b){this.result=b,this.hide()},this.closeSerialized=function(){for(var b=x.ic(),h=b.querySelectorAll("input, textarea, select"),y={},w=0;w<h.length;w++){var S=h[w],N=S.name;if(N){var _=S.value;y[N]=_}}x.close(y)},this.hide=function(b){b=b||{};var h={};h.backgroundClick=!!b.backgroundClick,h.result=this.result,h.canceled=typeof this.result>"u",h.preventDefault=function(){this.preventDefault.value=!0},typeof this.onClose=="function"&&(this.onClose(h),h.preventDefault.value)||(this.div&&(this.div.style.display="none",this.hideDiv.style.display="none",this.useIframe||(this.div.innerHTML=null)),window.focus(),t.ModalStatic.remove(this),typeof this.onClosed=="function"?this.onClosed(h):this.closed&&this.closed(),delete this.result,this.disposeOnClose&&(x.sc(),x.zc(x.div),x.zc(x.hideDiv),x.div=null,x.hideDiv=null,x.iframe=null))},this.zc=function(b){b&&b.parentNode&&b.parentNode.removeChild(b)},this.Ac=function(){if(p)for(var b in p)this[b]=p[b]},this.Ac()},t.Modal.alert=function(p,x){x=x||{},x.height=x.height||40,x.useIframe=!1;var b=x.okText||"OK";return x.cancelText,t.getPromise(function(h,y){x.onClosed=function(E){h(E)};var w=new t.Modal(x),S=document.createElement("div");S.className=w.theme+"_inner";var N=document.createElement("div");N.className=w.theme+"_content",N.innerHTML=p;var _=document.createElement("div");_.className=w.theme+"_buttons";var k=document.createElement("button");k.innerText=b,k.className=w.theme+"_ok",k.onclick=function(E){t.ModalStatic.close("OK")},_.appendChild(k),S.appendChild(N),S.appendChild(_),w.showHtml(S),w.autoFocus&&k.focus()})},t.Modal.confirm=function(p,x){x=x||{},x.height=x.height||40,x.useIframe=!1;var b=x.okText||"OK",h=x.cancelText||"Cancel";return t.getPromise(function(y,w){x.onClosed=function(P){y(P)};var S=new t.Modal(x),N=document.createElement("div");N.className=S.theme+"_inner";var _=document.createElement("div");_.className=S.theme+"_content",_.innerHTML=p;var k=document.createElement("div");k.className=S.theme+"_buttons";var E=document.createElement("button");E.innerText=b,E.className=S.theme+"_ok",E.onclick=function(P){t.ModalStatic.close("OK")};var T=document.createTextNode(" "),D=document.createElement("button");D.innerText=h,D.className=S.theme+"_cancel",D.onclick=function(P){t.ModalStatic.close()},k.appendChild(E),k.appendChild(T),k.appendChild(D),N.appendChild(_),N.appendChild(k),S.showHtml(N),S.autoFocus&&E.focus()})},t.Modal.prompt=function(p,x,b){typeof x=="object"&&(b=x,x=""),b=b||{},b.height=b.height||40,b.useIframe=!1;var h=b.okText||"OK",y=b.cancelText||"Cancel",w=x||"";return t.getPromise(function(S,N){b.onClosed=function(L){S(L)};var _=new t.Modal(b),k=document.createElement("div");k.className=_.theme+"_inner";var E=document.createElement("div");E.className=_.theme+"_content",E.innerHTML=p;var T=document.createElement("div");T.className=_.theme+"_input";var D=document.createElement("input");D.value=w,D.style.width="100%",D.onkeydown=function(L){var $=!1;switch(L.keyCode){case 13:_.close(this.value);break;case 27:_.close();break;default:$=!0}$||(L.preventDefault(),L.stopPropagation())},T.appendChild(D);var P=document.createElement("div");P.className=_.theme+"_buttons";var M=document.createElement("button");M.innerText=h,M.className=_.theme+"_ok",M.onclick=function(L){_.close(D.value)};var R=document.createTextNode(" "),B=document.createElement("button");B.innerText=y,B.className=_.theme+"_cancel",B.onclick=function(L){_.close()},P.appendChild(M),P.appendChild(R),P.appendChild(B),k.appendChild(E),k.appendChild(T),k.appendChild(P),_.showHtml(k),_.autoFocus&&D.focus()})};var c=function(p){return Object.prototype.toString.call(p)==="[object Array]"};t.Modal.form=function(p,x,b){if(arguments.length===1){var h=p;if(c(h))x={};else{if(typeof h!="object")throw"Invalid DayPilot.Modal.form() parameter";x=p,p=[];for(var y in x){var w={};w.name=y,w.id=y,p.push(w)}}}var S={};for(var y in b)S[y]=b[y];S.height=S.height||40,S.useIframe=!1;var N=S.okText||"OK",_=S.cancelText||"Cancel";return t.getPromise(function(k,E){S.onClosed=function(G){if(G.result){var U=JSON.parse(JSON.stringify(x));for(var Y in G.result)r(U,Y,G.result[Y]);G.result=U}k(G)};var T=new t.Modal(S),D=document.createElement("div");D.className=T.theme+"_inner";var P=document.createElement("div");P.className=T.theme+"_input";var M=new d({theme:T.theme,form:p,data:x,zIndex:T.zIndex,locale:T.locale,plugins:T.plugins,onKey:function(G){switch(G.key){case"Enter":M.validate()&&T.close(M.serialize());break;case"Escape":T.close()}},onChange:function(G){typeof T.onChange=="function"&&T.onChange(G)}}),R=M.create();P.append(R);var B=document.createElement("div");B.className=T.theme+"_buttons";var L=document.createElement("button");L.innerText=N,L.className=T.theme+"_ok",S.okDisabled&&(L.disabled=!0),L.onclick=function(G){M.validate()&&T.close(M.serialize())};var $=document.createTextNode(" "),I=document.createElement("button");if(I.innerText=_,I.className=T.theme+"_cancel",I.onclick=function(G){T.close()},I.onmousedown=function(G){M.canceling=!0},B.appendChild(L),B.appendChild($),B.appendChild(I),D.appendChild(P),D.appendChild(B),T.showHtml(D),T.div.setAttribute("tabindex","-1"),T.div.addEventListener("keydown",function(G){switch(G.keyCode){case 27:T.close();break;case 13:M.validate()&&T.close(M.serialize())}}),T.focus){var z=null;if(typeof T.focus=="object"){var H=T.focus.id,Z=T.focus.value;z=M.findViewById(H,Z)}else typeof T.focus=="string"&&(z=M.findViewById(T.focus));z&&z.focus()}else{var V=M.firstFocusable();T.autoFocus&&V?V.focus():T.div.focus()}})},t.Modal.close=function(p){var x=t.Modal.opener();x&&x.close(p)},t.Modal.stretch=function(p){var x=t.Modal.opener();if(!x)throw"Unable to find the opener DayPilot.Modal instance.";x.stretch()},t.Modal.closeSerialized=function(){var p=t.Modal.opener()||t.ModalStatic.last();p&&p.closeSerialized()},t.Modal.opener=function(){return typeof t<"u"&&typeof t.ModalStatic<"u"&&t.ModalStatic.list.length>0?t.ModalStatic.list[t.ModalStatic.list.length-1]:parent&&parent.DayPilot&&parent.DayPilot.ModalStatic&&parent.DayPilot.ModalStatic.list[parent.DayPilot.ModalStatic.list.length-1]},t.Modal.Experimental={},t.Modal.Experimental.Form=d,typeof t.getPromise>"u"&&(t.getPromise=function(p){return typeof Promise<"u"?new Promise(p):(t.Promise=function(x){var b=this;this.then=function(h,y){return h=h||function(){},y=y||function(){},x(h,y),t.getPromise(x)},this.catch=function(h){return b.then(null,h),t.getPromise(x)}},new t.Promise(p))});var d=function(p){this.form=[],this.data={},this.theme="form_default",this.zIndex=99999,this.locale="en-us",this.plugins={},this.onKey=null,this.Bc=[],this.Cc=null,this.canceling=!1,this.Dc=[],this.f=[],this.Ec=null,p=p||{};for(var x in p)this[x]=p[x]};d.prototype.create=function(){return this.load(),this.render(),this.Ec},d.prototype.render=function(){var p=this;this.Ec=document.createElement("div"),this.Bc.forEach(function(x){p.createView(x)}),this.applyState()},d.prototype.createView=function(p){var x=this.theme,b=this,h=document.createElement("div");if(h.className=x+"_form_item "+x+"_form_item_level"+p.level,p.interactive||p.type!=="title"?h.className+=" "+x+"_form_item_"+p.type:h.className+=" "+x+"_form_title",p.data.cssClass&&(h.className+=" "+p.data.cssClass),!p.isValue){var y=document.createElement("div");y.className=x+"_form_item_label",y.innerText=p.text,h.appendChild(y)}var w=this.createInteractive(p);w.onInput=function(S){if(S=S||{},b.Fc(w,{debounce:!S.immediate}),typeof b.onChange=="function"){var N={};N.result=b.serialize(),b.onChange(N)}},w.onBlur=function(){b.canceling||b.Fc(w)},w.apply(p),w.Ec=h,w.row=p,w.element&&h.appendChild(w.element),this.f.push(w),this.Ec.appendChild(h)},d.prototype.validate=function(){var p=this,x=!0;return this.f.forEach(function(b){var h=p.Fc(b);x=x&&h}),x},d.prototype.Fc=function(p,x){function b(){p.Gc&&(p.Gc.remove(),p.Gc=null),p.Ec.classList.add(T);var M=document.createElement("div");M.classList.add(D),M.innerText=E.message,p.Gc=M,p.Ec.appendChild(M)}x=x||{};var h=x.debounce,y=x.silent,w=p.row,S=!0,N=typeof w.data.onValidate=="function"?w.data.onValidate:null,_=typeof w.data.validate=="function"?w.data.validate:null,k=N||_;if(k){var E={};E.valid=!0,E.value=p.save()[w.field],E.message="Error",E.values=this.serialize(),E.result=this.serialize(),k(E);var T=this.theme+"_form_item_invalid",D=this.theme+"_form_item_invalid_message";if(E.valid)clearTimeout(this.Dc[w.field]),p.Gc&&(p.Gc.remove(),p.Gc=null),p.Ec.classList.remove(T);else if(!y)if(h){var P=1e3;clearTimeout(this.Dc[w.field]),this.Dc[w.field]=setTimeout(function(){b()},P)}else b();S=E.valid}return S},d.prototype.load=function(){var p=this;this.form.forEach(function(y){p.processFormItem(y,0)});var x;try{var b=JSON.stringify(this.data);x=s(JSON.parse(b))}catch(y){throw new Error("The 'data' object is not serializable (it may contain circular dependencies): "+y)}for(var h in x)this.setValue(h,x[h])},d.prototype.setValue=function(p,x){this.Bc.forEach(function(b){b.applyValue(p,x)})},d.prototype.updateDependentState=function(){var p=this,x=[!0];(this.Cc?this.Cc:this.Bc).forEach(function(b){var h=p.updateState(b,{enabled:x[b.level]&&!b.data.disabled});h.isValue&&(x[h.level+1]=h.enabled&&h.checked)})},d.prototype.processFormItem=function(p,x){var b=this,h=this.getFieldType(p),y=[];if(h==="radio"){if(p.name){var w=new u;w.field=p.id,w.data=p,w.level=x,w.type="label",w.interactive=!1,w.text=p.name,b.Bc.push(w),y.push(w)}p.options.forEach(function(S){var N=new u;N.field=p.id,N.data=S,N.level=x,N.type=h,N.isValue=!0,N.text=S.name,N.resolved=S.id,b.Bc.push(N),y.push(N),S.children&&S.children.forEach(function(_){var k=b.processFormItem(_,x+1);y=y.concat(k)})})}else if(h==="title"){var w=new u;w.field=p.id,w.data=p,w.level=x,w.type=h,w.interactive=!1,w.text=p.name,b.Bc.push(w),y.push(w)}else if(h==="image"){var w=new u;w.isValue=!0,w.field=p.id,w.data=p,w.level=x,w.type=h,w.interactive=!1,w.text=null,b.Bc.push(w),y.push(w)}else if(h==="html"){var w=new u;w.isValue=!0,w.field=p.id,w.data=p,w.level=x,w.type=h,w.interactive=!1,w.text=null,b.Bc.push(w),y.push(w)}else if(h==="scrollable"){var w=new u;w.isValue=!0,w.field=p.id,w.data=p,w.level=x,w.type=h,w.interactive=!1,w.text=null,b.Bc.push(w),y.push(w)}else{var w=new u;w.field=p.id,w.data=p,w.level=x,w.type=h,w.text=p.name,w.children=[],b.Bc.push(w),y.push(w)}return h==="checkbox"&&(w.isValue=!0,w.resolved=!0,p.children&&p.children.forEach(function(S){var N=b.processFormItem(S,x+1);y=y.concat(N)})),y},d.prototype.doOnKey=function(p){if(typeof this.onKey=="function"){var x={key:p};this.onKey(x)}},d.prototype.createInteractive=function(p){var x=this,b={label:function(){return new l},title:function(){return new l},image:function(){var h=new l,y=document.createElement("img");return y.src=p.data.image,h.element=y,h},html:function(){var h=new l,y=document.createElement("div");return typeof p.data.text=="string"?y.innerText=p.data.text:typeof p.data.html=="string"&&(y.innerHTML=p.data.html),h.element=y,h},scrollable:function(){var h=new l,y=document.createElement("div");y.className=x.theme+"_form_item_scrollable_scroll",p.data.height&&(y.style.height=p.data.height+"px");var w=document.createElement("div");return w.className=x.theme+"_form_item_scrollable_scroll_content",typeof p.data.text=="string"?w.innerText=p.data.text:typeof p.data.html=="string"&&(w.innerHTML=p.data.html),y.appendChild(w),h.element=y,h},text:function(){var h=new l;h.apply=function(w){h.row=w;var S=h.element;S.value=w.value,S.disabled=!w.enabled};var y=document.createElement("input");return y.name=p.field,y.type="text",y.autocomplete="off",y.onkeydown=function(w){var S=!1;switch(w.keyCode){case 13:x.doOnKey("Enter");break;case 27:x.doOnKey("Escape");break;default:S=!0}S||(w.preventDefault(),w.stopPropagation())},y.oninput=function(w){h.onInput()},y.onblur=function(w){h.onBlur()},h.element=y,h.canFocus=function(){return!h.element.disabled},h.focus=function(){h.element.focus(),h.element.setSelectionRange(0,h.element.value.length)},h.save=function(){var w={};return w[p.field]=y.value,w},h},textarea:function(){var h=new l;h.apply=function(w){h.row=w;var S=h.element;S.value=w.value,S.disabled=!w.enabled};var y=document.createElement("textarea");return y.name=p.field,p.data.height&&(y.style.height=p.data.height+"px"),y.onkeydown=function(w){var S=!1;switch(w.keyCode){case 13:(w.ctrlKey||w.metaKey)&&x.doOnKey("Enter"),S=!1;break;case 27:x.doOnKey("Escape");break;default:S=!0}S||w.stopPropagation()},y.oninput=function(w){h.onInput()},y.onblur=function(w){h.onBlur()},h.element=y,h.canFocus=function(){return!h.element.disabled},h.focus=function(){h.element.focus(),h.element.setSelectionRange(0,0)},h.save=function(){var w={};return w[p.field]=y.value,w},h},date:function(){var h=new l;h.apply=function(S){h.row=S;var N=h.element,_=h.picker;S.data.dateFormat&&(_.pattern=S.data.dateFormat);var k=S.data.locale||x.locale;k&&(_.locale=k),N.disabled=!S.enabled,_.date=new t.Date(S.value);var E=new t.Date(S.value).toString(S.data.dateFormat||_.pattern,_.locale);N.value=E};var y=document.createElement("input");y.name=p.field;var w=new t.DatePicker({target:y,theme:"navigator_modal",zIndex:x.zIndex+1,resetTarget:!1,targetAlignment:"left",onTimeRangeSelect:function(S){h.onInput({immediate:!0})}});return y.picker=w,y.className=x.theme+"_input_date",y.type="text",y.onkeydown=function(S){var N=!1;switch(S.keyCode){case 13:w.visible?w.close():x.doOnKey("Enter");break;case 27:w.visible?w.close():x.doOnKey("Escape");break;case 9:w.close(),N=!0;break;default:N=!0}N||(S.preventDefault(),S.stopPropagation())},y.onfocus=function(){w.show()},y.onclick=function(){w.show()},y.oninput=function(S){h.onInput()},y.onblur=function(S){h.onBlur()},h.element=y,h.picker=w,h.canFocus=function(){return!h.element.disabled},h.focus=function(){h.element.focus()},h.save=function(){var S=w.date?w.date.toString():null,N={};return N[p.field]=S,N},h},time:function(){return x.Hc(p)},datetime:function(){return x.Ic(p)},select:function(){var h=new l;h.apply=function(w){h.row=w;var S=h.element;S.value=w.value,S.disabled=!w.enabled};var y=document.createElement("select");return y.name=p.field,p.data.options&&p.data.options.forEach&&p.data.options.forEach(function(w){var S=document.createElement("option");S.innerText=w.name||w.id,S.value=w.id,S.Jc=w.id,y.appendChild(S)}),y.onchange=function(w){h.onInput({immediate:!0})},y.onblur=function(w){h.onBlur()},h.element=y,h.canFocus=function(){return!h.element.disabled},h.focus=function(){h.element.focus()},h.save=function(){var w=null,S=y.options[y.selectedIndex];S&&typeof S.Jc<"u"&&(w=S.Jc);var N={};return N[p.field]=w,N},h},searchable:function(){var h=new l;h.apply=function(S){h.row=S;var N=h.searchable;N.disabled=!S.enabled,N.select(S.value)};var y=new f({data:p.data.options||[],name:p.field,theme:x.theme+"_form_item_searchable",listZIndex:x.zIndex+1,onSelect:function(S){S.ui&&h.onInput({immediate:!0})}}),w=y.create();return h.element=w,h.searchable=y,h.canFocus=function(){return!h.searchable.disabled},h.focus=function(){h.searchable.focus()},h.save=function(){var S=y.selected&&y.selected.id,N={};return N[p.field]=S,N},h},radio:function(){var h=new l;h.apply=function(N){h.row=N;var _=h.radio;_.checked=N.checked,_.disabled=!N.enabled};var y=document.createElement("label"),w=document.createElement("input");w.type="radio",w.name=p.field,w.Jc=p.resolved,w.onchange=function(N){var _=h.row;x.findRowsByField(_.field).forEach(function(k){x.updateState(k,{checked:!1})}),x.updateState(_,{checked:!0}),x.applyState(),h.onInput({immediate:!0})},w.onblur=function(N){h.onBlur()},y.appendChild(w);var S=document.createTextNode(p.text);return y.append(S),h.element=y,h.radio=w,h.canFocus=function(){return!1},h.focus=function(){h.radio.focus()},h.save=function(){if(!w.checked)return{};var N=w.Jc,_={};return _[p.field]=N,_},h},checkbox:function(){var h=new l;h.apply=function(N){h.row=N;var _=h.checkbox;_.checked=N.checked,_.disabled=!N.enabled};var y=document.createElement("label"),w=document.createElement("input");w.type="checkbox",w.name=p.field,w.Jc=p.resolved,w.onchange=function(N){var _=h.row;x.updateState(_,{checked:this.checked}),x.applyState(),h.onInput({immediate:!0})},w.onblur=function(N){h.onBlur()},y.appendChild(w);var S=document.createTextNode(p.text);return y.append(S),h.element=y,h.checkbox=w,h.canFocus=function(){return!1},h.focus=function(){h.checkbox.focus()},h.save=function(){var N=w.checked,_={};return _[p.field]=N,_},h},table:function(){var h=new l;h.apply=function(S){h.row=S;var N=h.table;N.disabled=!S.enabled,N.load(S.value||[])};var y=new m({name:p.field,form:x,theme:x.theme+"_form_item_tabular",item:p.data,onInput:function(S){h.onInput()}}),w=y.create();return h.element=w,h.table=y,h.canFocus=function(){return!1},h.focus=function(){h.table.focus()},h.save=function(){var S=y.save(),N={};return N[p.field]=S,N},h}};return x.plugins&&x.plugins[p.type]?x.plugins[p.type](p):b[p.type]()},d.prototype.Hc=function(p){var x=this,b=new l;b.apply=function(M){b.row=M;var R=b.searchable;R.disabled=!M.enabled,R.select(M.value)};var h=[],y=p.data.timeInterval||15;[1,5,10,15,20,30,60].includes(y)||(y=15);for(var w=60/y,S=p.data.locale||x.locale,N=t.Locale.find(S)||t.Locale.US,_=t.Date.today(),k=0;k<24*w;k++){var E=_.addMinutes(y*k),T={};T.name=E.toString(p.data.timeFormat||N.timePattern,N),T.id=E.toString("HH:mm"),h.push(T)}var D=new f({data:h,name:p.field,theme:x.theme+"_form_item_time",listZIndex:x.zIndex+1,strategy:"startsWith",onSelect:function(M){M.ui&&b.onInput({immediate:!0})}}),P=D.create();return b.element=P,b.searchable=D,b.canFocus=function(){return!b.searchable.disabled},b.focus=function(){b.searchable.focus()},b.save=function(){var M=D.selected&&D.selected.id,R={};return R[p.field]=M,R},b},d.prototype.Ic=function(p){var x=this,b=new l;b.apply=function(S){b.row=S;var N=b.searchable;N.disabled=!S.enabled;var _=new t.Date(S.value).toString("HH:mm");N.select(_);var k=b.dateInput,E=b.picker;S.data.dateFormat&&(E.pattern=S.data.dateFormat);var T=S.data.locale||x.locale;if(T){var D=t.Locale.find(T)||t.Locale.US;E.locale=T,E.pattern=D.datePattern}k.disabled=!S.enabled,E.date=new t.Date(S.value);var P=new t.Date(S.value).toString(S.data.dateFormat||E.pattern,E.locale);k.value=P};var h=(function(){var S=document.createElement("input");S.name=p.field;var N=new t.DatePicker({target:S,theme:"navigator_modal",zIndex:x.zIndex+1,resetTarget:!1,targetAlignment:"left",onTimeRangeSelect:function(_){b.onInput({immediate:!0})}});return S.picker=N,S.className=x.theme+"_input_date",S.type="text",S.onkeydown=function(_){var k=!1;switch(_.keyCode){case 13:N.visible?N.close():x.doOnKey("Enter");break;case 27:N.visible?N.close():x.doOnKey("Escape");break;case 9:N.close(),k=!0;break;default:k=!0}k||(_.preventDefault(),_.stopPropagation())},S.onfocus=function(){N.show()},S.onclick=function(){N.show()},S.oninput=function(_){b.onInput()},S.onblur=function(_){b.onBlur()},b.dateInput=S,b.picker=N,S})(),y=(function(){var S=[],N=p.data.timeInterval||15;[1,5,10,15,20,30,60].includes(N)||(N=15);for(var _=60/N,k=p.data.locale||x.locale,E=t.Locale.find(k)||t.Locale.US,T=t.Date.today(),D=0;D<24*_;D++){var P=T.addMinutes(N*D),M={};M.name=P.toString(p.data.timeFormat||E.timePattern,E),M.id=P.toString("HH:mm"),S.push(M)}var R=new f({data:S,name:p.field,theme:x.theme+"_form_item_time",listZIndex:x.zIndex+1,strategy:"startsWith",onSelect:function(B){B.ui&&b.onInput({immediate:!0})}});return b.searchable=R,R.create()})(),w=document.createElement("div");return w.className=x.theme+"_form_item_datetime_parent",w.appendChild(h),w.appendChild(y),b.element=w,b.canFocus=function(){return!b.searchable.disabled},b.focus=function(){b.dateInput.focus()},b.save=function(){var S=b.searchable.selected&&b.searchable.selected.id,N=b.picker.date?b.picker.date.toString():null,_=new t.Date(N).getDatePart(),k=t.Date.parse(_.toString("yyyy-dd-MM ")+S,"yyyy-dd-MM HH:mm"),E={};return E[p.field]=k,E},b},d.prototype.findRowsByField=function(p){return this.Bc.filter(function(x){return x.field===p})},d.prototype.findViewById=function(p,x){return this.f.find(function(b){return b.row.field===p&&(b.row.type!=="radio"||b.row.resolved===x)})},d.prototype.firstFocusable=function(){return this.f.find(function(p){return p.canFocus&&p.canFocus()})},d.prototype.updateState=function(p,x){var b=this.Cc?this.Cc:this.Bc,h=b.indexOf(p);return this.Cc=b.map(function(y){if(y!==p)return y;if(p.propsEqual(x))return p;var w=p.clone();for(var S in x)w[S]=x[S];return w}),this.Cc[h]},d.prototype.updateInteractive=function(p){var x=this.Cc.indexOf(p);this.f[x].apply(p)},d.prototype.applyState=function(){var p=this;this.updateDependentState(),this.Cc&&(this.Cc.filter(function(x,b){return p.Bc[b]!==x}).forEach(function(x){p.updateInteractive(x)}),this.Bc=this.Cc,this.Cc=null)},d.prototype.getFieldType=function(p){return["text","date","select","searchable","radio","checkbox","table","title","image","html","textarea","scrollable","time","datetime"].indexOf(p.type)!==-1||p.type&&this.plugins&&this.plugins[p.type]?p.type:p.image?"image":p.html||p.text?"html":p.id?p.options?"searchable":p.dateFormat?"date":p.columns?"table":"text":"title"},d.prototype.serialize=function(){var p={};return this.f.forEach(function(x){var b=x.save();for(var h in b)p[h]=b[h]}),p};var u=function(){this.id=this.guid(),this.field=null,this.data=null,this.type=null,this.level=0,this.enabled=!0,this.value=null,this.text=null,this.interactive=!0,this.isValue=!1,this.checked=!1,this.resolved=null};u.prototype.clone=function(){var p=new u;for(var x in this)x!=="id"&&(p[x]=this[x]);return p},u.prototype.propsEqual=function(p){for(var x in p)if(this[x]!==p[x])return!1;return!0},u.prototype.guid=function(){var p=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return""+p()+p()+"-"+p()+"-"+p()+"-"+p()+"-"+p()+p()+p()},u.prototype.applyValue=function(p,x){this.field===p&&(this.value=x,this.isValue&&x===this.resolved&&(this.checked=!0))};var l=function(){this.element=null,this.canFocus=function(){return!1},this.apply=function(p){},this.focus=function(){},this.save=function(){return{}}},f=function(p){this.data=[],this.name=null,this.theme="searchable_default",this.Kc=!1,this.listZIndex=1e5,this.onSelect=null,this.Lc=null,this.Mc=null,this.Nc=!1,this.Oc=null,this.Pc=null,this.q=[],this.Qc=null,p=p||{};var x=this,b={selected:{post:function(y){typeof y=="object"&&y.id?x.Lc=y:typeof y!="string"&&typeof y!="number"||x.select(y)}}};Object.defineProperty(this,"selected",{get:function(){return this.Lc}}),Object.defineProperty(this,"disabled",{get:function(){return this.Kc},set:function(y){this.Kc=y,this.Oc&&(this.Oc.disabled=y,y&&this.Rc())}});for(var h in p)b[h]||(this[h]=p[h]);for(var h in p)b[h]&&b[h].post(p[h])};f.prototype.select=function(p){return this.Lc=this.data.find(function(x){return x.id===p}),this.Sc(!1),this},f.prototype.create=function(){function p(R){var B=_.strategy;_.strategy!=="includes"&&_.strategy!=="startsWith"&&(B="includes"),R=R||B||"includes",D.style.display="",D.style.top=M.offsetHeight+"px",D.style.left="0px",D.style.width=M.offsetWidth+"px",D.innerHTML="",D.addEventListener("mousedown",function($){$.preventDefault()}),_.Mc=null,_.q=[];var L=null;_.data.forEach(function($){var I=$.name||$.id;if(R==="includes"){if(I.toLowerCase().indexOf(M.value.toLowerCase())===-1)return}else if(R==="startsWith"&&I.toLowerCase().indexOf(M.value.toLowerCase())!==0)return;var z=document.createElement("div");z.className=_.theme+"_list_item",z.innerText=I,z.item=$,$===_.Lc&&(_.Mc=z),L||(L=z),z.addEventListener("mousedown",function(H){h(z),H.preventDefault()}),z.addEventListener("mousemove",function(H){_.Mc!==z&&(_.Mc=z,x({dontScroll:!0}))}),D.appendChild(z),_.q.push(z)}),_.Mc||(_.Mc=L),x()}function x(R){R=R||{};var B=!R.dontScroll;document.querySelectorAll("."+_.theme+"_list_item_highlight").forEach(function(L){L.className=L.className.replace(_.theme+"_list_item_highlight","")}),_.Mc&&(_.Mc.className+=" "+_.theme+"_list_item_highlight",B&&!b(_.Mc,D)&&_.Mc.scrollIntoView())}function b(R,B){var L=R.getBoundingClientRect(),$=B.getBoundingClientRect();return L.top>=$.top&&L.bottom<=$.bottom}function h(R){var B=R.item;_.Lc=B,_.Sc(!0),w(),S()}function y(){_.Rc()}function w(){_.s()}function S(){_.Nc=!0,M.setAttribute("readonly","readonly"),M.focus()}function N(){_.Nc=!1,M.removeAttribute("readonly"),M.select(),p("all")}var _=this,k=this,E=document.createElement("div");E.className=this.theme+"_main",E.style.position="relative";var T=document.createElement("div");T.className=this.theme+"_icon",T.style.position="absolute",T.style.right="0",T.style.top="0",T.style.bottom="0",T.style.width="20px",T.addEventListener("mousedown",function(R){R.preventDefault(),_.Nc?(_.focus(),N()):(y(),S())});var D=document.createElement("div");D.className=this.theme+"_list",D.style.display="none",D.style.position="absolute",D.style.zIndex=this.listZIndex;var P=document.createElement("input");P.type="hidden",P.name=this.name,P.searchable=k,this.Qc=P;var M=document.createElement("input");return M.type="text",M.className=this.theme+"_input",M.disabled=this.Kc,M.addEventListener("click",function(R){N()}),M.addEventListener("focus",function(R){p("all")}),M.addEventListener("input",function(R){p()}),M.addEventListener("blur",function(R){M.removeAttribute("readonly"),y()}),M.addEventListener("keydown",function(R){if(_.Nc){if(R.key==="Enter"||R.key==="Esc"||R.key==="Escape")return;N()}if(R.key==="ArrowDown"){var B=k.q.indexOf(k.Mc);B+1<k.q.length&&(k.Mc=k.q[B+1]),x()}else if(R.key==="ArrowUp"){var B=k.q.indexOf(k.Mc);B-1>=0&&(k.Mc=k.q[B-1]),x()}else R.key==="Enter"?_.Mc?(R.stopPropagation(),h(_.Mc)):(R.stopPropagation(),y(),S()):R.key!=="Esc"&&R.key!=="Escape"||(R.stopPropagation(),y(),S())}),this.Oc=M,this.Pc=D,this.Lc||(this.Lc=this.data[0],this.Lc&&(M.value=this.Lc.name)),E.appendChild(M),E.appendChild(T),E.appendChild(P),E.appendChild(D),E},f.prototype.Rc=function(){this.s(),this.Lc?this.Oc.value=this.Lc.name:(this.Oc.value="",this.Sc(!0))},f.prototype.focus=function(){this.Nc=!0,this.Oc.setAttribute("readonly","readonly"),this.Oc.focus(),this.Rc()},f.prototype.s=function(){this.Pc.style.display="none"},f.prototype.Sc=function(p){if(this.Qc.value=this.selected?this.selected.id:null,this.Lc?this.Oc.value=this.Lc.name:this.Oc.value="",typeof this.onSelect=="function"){var x={control:this,ui:p};this.onSelect(x)}};var m=function(p){this.form=null,this.item=null,this.data=null,this.name=null,this.theme="edit_table_default",this.onInput=null,this.nav={},this.Tc=null,this.Bc=[],p=p||{};for(var x in p)this[x]=p[x]};m.prototype.create=function(){var p=this,x=document.createElement("div");x.className=this.theme+"_main",x.style.position="relative";var b=document.createElement("input");b.type="hidden",b.name=p.name,b.table=this,x.appendChild(b);var h=document.createElement("div");h.className=this.theme+"_table";var y=this.Uc();h.appendChild(y);var w=p.Vc({});w.spacer=!0;var S=this.Wc(w);S.classList.add(p.theme+"_spacer"),h.appendChild(S);var N=document.createElement("div");N.className=p.theme+"_tbody",h.appendChild(N),x.appendChild(h);var _=document.createElement("div");x.appendChild(_),this.nav.body=N,this.nav.table=h,this.nav.main=x,this.nav.after=_;var k=document.createElement("div"),E=document.createElement("span");return E.className=this.theme+"_plus",E.addEventListener("click",function(T){if(!p.disabled){var D=p.item.onNewRow,P={};if(typeof D=="function"){var M={};M.result=p.form.serialize(),M.value={},D(M),P=M.value}var R=p.Vc(P);p.Bc.push(R),p.Xc(),p.Yc()}}),this.nav.plus=E,k.appendChild(E),x.appendChild(k),x},m.prototype.Uc=function(){var p=this,x=document.createElement("div");return x.classList.add(this.theme+"_row"),x.classList.add(this.theme+"_header"),this.item.columns.forEach(function(b){var h=document.createElement("div");h.classList.add(p.theme+"_cell"),h.innerText=b.name,x.appendChild(h)}),x},m.prototype.Zc=function(){var p=this.item.max||0;return!!(p&&this.Bc.length>=p)},m.prototype.save=function(){var p=this,x=[];return p.Bc.forEach(function(b){var h={};b.cells.forEach(function(y){h[y.id]=y.value}),x.push(h)}),x},m.prototype.load=function(p){if(Object.prototype.toString.call(p)!=="[object Array]")throw new Error("Array expected");this.data=p,this.$c(),this.Xc()},m.prototype._c=function(){this.disabled?this.nav.main.classList.add(this.theme+"_disabled"):this.nav.main.classList.remove(this.theme+"_disabled"),this.Zc()?this.nav.plus.classList.add(this.theme+"_plus_max"):this.nav.plus.classList.remove(this.theme+"_plus_max")},m.prototype.$c=function(){var p=this;this.Bc=[],this.data.forEach(function(x){var b=p.Vc(x);p.Bc.push(b)})},m.prototype.ad=function(p){var x=this,b=x.Bc.indexOf(p);x.Bc.splice(b,1)},m.prototype.Vc=function(p){var x=this,b={};return b.data=p,b.cells=[],x.item.columns.forEach(function(h){var y=h.id,w=p[y],S=x.bd(h);if(typeof w>"u"){if(S==="text")w="";else if(S==="number")w=0;else if(S==="select"){var N=h.options;w=N&&N[0].id}}var _={};_.id=y,_.value=w,_.type=S,_.data=h,b.cells.push(_)}),b},m.prototype.bd=function(p){var x=p.type;return x||(x=p.options?"select":"text"),x},m.prototype.Xc=function(){var p=this;if(this.nav.body.innerHTML="",this.nav.after.innerHTML="",this.Bc.forEach(function(b){var h=p.Wc(b);p.nav.body.appendChild(h)}),this.Bc.length===0){var x=p.cd();p.nav.after.appendChild(x)}this._c()},m.prototype.cd=function(){var p=document.createElement("div");return p.className=this.theme+"_empty",p},m.prototype.Wc=function(p){var x=this,b=document.createElement("div");b.className=x.theme+"_row",p.cells.forEach(function(w){var S=document.createElement("div");S.className=x.theme+"_cell";var N=x.dd(w);if(p.spacer){var _=document.createElement("div");_.style.height="0px",_.style.overflow="hidden",_.appendChild(N),S.appendChild(_)}else S.appendChild(N);b.appendChild(S)});var h=document.createElement("div");h.classList.add(x.theme+"_cell"),h.classList.add(x.theme+"_rowaction");var y=document.createElement("span");return y.className=this.theme+"_delete",y.addEventListener("click",function(w){x.disabled||(x.ad(p),x.Xc(),x.Yc())}),p.spacer||h.appendChild(y),b.appendChild(h),b},m.prototype.Yc=function(){var p=this;if(typeof p.onInput=="function"){var x={};p.onInput(x)}},m.prototype.dd=function(p){var x=this,b=p.type;if(b==="text"||b==="number"){var h=document.createElement("input");return h.type=b,x.disabled&&(h.disabled=!0),p.value&&(h.value=p.value),h.addEventListener("keyup",function(w){b==="number"?p.value=Number(this.value):p.value=this.value,x.Yc()}),h}if(b==="select"){var y=document.createElement("select");return x.disabled&&(y.disabled=!0),p.data.options.forEach(function(w){var S=document.createElement("option");S.innerText=w.name,S.value=w.id,S.Jc=w.id,y.appendChild(S),p.value===w.id&&S.setAttribute("selected",!0)}),y.addEventListener("change",function(w){var S=y.options[y.selectedIndex];S&&typeof S.Jc<"u"&&(p.value=S.Jc),x.Yc()}),y}throw new Error("Unsupported item type: "+b)},m.prototype.focus=function(){}}})(e),typeof e>"u")var e={};if(typeof e.Global>"u"&&(e.Global={}),(function(){if(typeof e.Month>"u"||!e.Month.events){var t={},r=e.Util.isVueVNode;t.Month=function(s,a){this.v="2025.3.710-lite",this.nav={};var i=this;this.id=s,this.isMonth=!0,this.api=2,this.backendUrl=null,this.cellHeaderHeight=24,this.cellHeight=100,this.cellMarginBottom=0,this.contextMenu=null,this.cssClassPrefix="month_default",this.eventBarVisible=!0,this.eventBorderRadius=null,this.eventHeight=25,this.eventsLoadMethod="GET",this.headerHeight=30,this.hideUntilInit=!0,this.lineSpace=1,this.locale="en-us",this.showToolTip=!0,this.startDate=new e.Date,this.theme=null,this.visible=!0,this.weekStarts="Auto",this.width="100%",this.xssProtection="Enabled",this.afterRender=function(){},this.cellHeaderClickHandling="Enabled",this.eventClickHandling="Enabled",this.eventDeleteHandling="Disabled",this.eventMoveHandling="Update",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.headerClickHandling="Enabled",this.timeRangeSelectedHandling="Enabled",this.onCellHeaderClick=null,this.onCellHeaderClicked=null,this.onEventClick=null,this.onEventClicked=null,this.onEventDelete=null,this.onEventDeleted=null,this.onEventMove=null,this.onEventMoved=null,this.onEventResize=null,this.onEventResized=null,this.onEventRightClick=null,this.onEventRightClicked=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.onBeforeEventRender=null,this.onBeforeCellRender=null,this.cellEvents=[],this.elements={},this.elements.events=[],this.cache={},this.Q=!1,this.W=function(u,d){var u=JSON.parse(u);return u.CallBackRedirect?void(document.location.href=u.CallBackRedirect):(u.UpdateType==="None"||(i.events.list=u.Events,u.UpdateType==="Full"&&(i.startDate=u.StartDate,i.timeFormat=u.TimeFormat?u.TimeFormat:i.timeFormat,typeof u.WeekStarts<"u"&&(i.weekStarts=u.WeekStarts),i.hashes=u.Hashes),i.Y(),i.ed(),i.ha(),u.UpdateType==="Full"&&(i.fd(),i.gd()),i.ma(),i.show(),i.na()),void i.fireAfterRenderDetached(u.CallBackData,!0))},this.fireAfterRenderDetached=function(c,d){var u=function(l,f){return function(){i.afterRender&&i.afterRender(l,f)}};window.setTimeout(u(c,d),0)},this.lineHeight=function(){return this.eventHeight+this.lineSpace},this.events={},this.events.add=function(c){var d=null;if(c instanceof e.Event)d=c.data;else{if(typeof c!="object")throw"DayPilot.Month.events.add() expects an object or DayPilot.Event instance.";d=c}i.events.list||(i.events.list=[]),i.events.list.push(d),i.update(),i.wa.notify()},this.events.find=function(c){if(!i.events.list)return null;if(typeof c=="function"){for(var d=c,u=0;u<i.events.list.length;u++){var l=new e.Event(i.events.list[u],i);if(d(l))return l}return null}for(var u=0;u<i.events.list.length;u++){var f=i.events.list[u];if(f.id===c)return new e.Event(f,i)}return null},this.events.update=function(c){if(c instanceof e.Event)c.commit();else if(typeof c=="object"){var d=i.events.find(c.id);if(d){var u=e.indexOf(i.events.list,d.data);i.events.list.splice(u,1,c)}}i.update(),i.wa.notify()},this.events.remove=function(c){var d;if(c instanceof e.Event)d=c.data;else if(typeof c=="object"){var u=i.events.find(c.id);u&&(d=u.data)}else if(typeof c=="string"||typeof c=="number"){var u=i.events.find(c);u&&(d=u.data)}var l=e.indexOf(i.events.list,d);i.events.list.splice(l,1),i.update(),i.wa.notify()},this.events.load=function(c,d,u){var l=function(x){var b={};b.exception=x.exception,b.request=x.request,typeof u=="function"&&u(b)},f=function(x){var b,h=x.request;try{b=JSON.parse(h.responseText)}catch(S){var y={};return y.exception=S,void l(y)}if(e.isArray(b)){var w={};if(w.preventDefault=function(){this.preventDefault.value=!0},w.data=b,typeof d=="function"&&d(w),w.preventDefault.value)return;i.events.list=b,i.Ma&&i.update()}};if(i.eventsLoadMethod&&i.eventsLoadMethod.toUpperCase()==="POST")e.Http.ajax({method:"POST",data:{start:i.visibleStart().toString(),end:i.visibleEnd().toString()},url:c,success:f,error:l});else{var m=c,p="start="+i.visibleStart().toString()+"&end="+i.visibleEnd().toString();m+=m.indexOf("?")>-1?"&"+p:"?"+p,e.Http.ajax({method:"GET",url:m,success:f,error:l})}},this.events.forRange=function(c,d){c=new e.Date(c),d=new e.Date(d);var u=(i.events.list||[]).map(function(l){return new e.Event(l)});return u.sort(i.Bb),u.filter(function(l){var f=l.start(),m=l.end();return f===m&&f===c||e.Util.overlaps(c,d,f,m)})},this.update=function(c){if(i.ub(c),this.Ma){if(i.Q)throw new e.Exception("You are trying to update a DayPilot.Month instance that has been disposed.");this.cells&&(i.Y(),i.ed(),i.ha(),i.fd(),i.gd(),i.ma(),i.u(),i.na(),this.visible?this.show():this.hide())}},this.wb=null,this.ub=function(c){if(c){var d={events:{preInit:function(){var f=this.data||[];e.isArray(f.list)?i.events.list=f.list:i.events.list=f}}};this.wb=d;for(var u in c)if(d[u]){var l=d[u];l.data=c[u],l.preInit&&l.preInit()}else i[u]=c[u]}},this.xb=function(){var c=this.wb;for(var d in c){var u=c[d];u.postInit&&u.postInit()}},this.zb={},this.zb.events=[],this.Ab=function(c){var d=this.zb.events,u=this.events.list[c],l={};for(var f in u)l[f]=u[f];if(typeof this.onBeforeEventRender=="function"){var m={};m.control=i,m.data=l,this.onBeforeEventRender(m)}d[c]=l},this.ha=function(){var c=this.events.list;if(c){if(!e.isArray(c))throw new e.Exception("DayPilot.Month.events.list expects an array object. You supplied: "+typeof c);if(typeof this.onBeforeEventRender=="function")for(var d=0;d<c.length;d++)this.Ab(d);for(var u=0;u<c.length;u++){var l=c[u];if(typeof l!="object")throw new e.Exception("Event data item must be an object");if(!l.start)throw new e.Exception("Event data item must specify 'start' property");if(!l.end)throw new e.Exception("Event data item must specify 'end' property");var f=new e.Date(l.start),m=new e.Date(l.end);if(!(f.getTime()>m.getTime()))for(var d=0;d<this.rows.length;d++){var p=this.rows[d],x=new e.Event(l,this);p.belongsHere(x)&&(p.events.push(x),typeof this.onBeforeEventRender=="function"&&(x.cache=this.zb.events[u]))}}for(var b=0;b<this.rows.length;b++){var p=this.rows[b];p.events.sort(this.Bb);for(var h=0;h<this.rows[b].events.length;h++){var y=p.events[h],w=p.getStartColumn(y),S=p.getWidth(y);p.putIntoLine(y,w,S,b)}}}},this.Y=function(){for(var c=0;c<this.elements.events.length;c++){var d=this.elements.events[c];i.Pa(d)}this.elements.events=[]},this.Pa=function(c){(function(){var d=c.domArgs;if(c.domArgs=null,d&&typeof i.onBeforeEventDomRemove=="function"&&i.onBeforeEventDomRemove(d),d&&typeof i.onBeforeEventDomAdd=="function"){var u=d&&d.Qa;u&&i.Sa.Ra&&r(d.element)&&(i.Sa.Ta=!0,i.Sa.Ua(u),i.Sa.Ta=!1)}})(),c.event=null,c.click=null,c.parentNode.removeChild(c)},this.na=function(){this.hd()},this.hd=function(){this.elements.events=[];for(var c=0;c<this.rows.length;c++)for(var d=this.rows[c],u=0;u<d.lines.length;u++)for(var l=d.lines[u],f=0;f<l.length;f++)this.Va(l[f])},this.Bb=function(c,d){if(!(c&&d&&c.start&&d.start))return 0;var u=c.start().getTime()-d.start().getTime();return u!==0?u:d.end().getTime()-c.end().getTime()},this.drawShadow=function(c,d,u,l,f,m){f||(f=0);var p=l;this.shadow={},this.shadow.list=[],this.shadow.start={x:c,y:d},this.shadow.width=l;var x=7*d+c-f;x<0&&(p+=x,c=0,d=0);for(var b=f;b>=7;)d--,b-=7;b>c?b>c+(7-this.getColCount())?(d--,c=c+7-b):(p=p-b+c,c=0):c-=b,d<0&&(d=0,c=0);var h=null;t.resizingEvent?h="w-resize":t.movingEvent&&(h="move"),this.nav.top.style.cursor=h;var y=i.eventBorderRadius;for(typeof y=="number"&&(y+="px");p>0&&d<this.rows.length;){var w=Math.min(this.getColCount()-c,p),S=this.rows[d],N=this.getRowTop(d),_=S.getHeight(),k=document.createElement("div");k.setAttribute("unselectable","on"),k.style.position="absolute",k.style.left=this.getCellWidth()*c+"%",k.style.width=this.getCellWidth()*w+"%",k.style.top=N+"px",k.style.height=_+"px",k.style.cursor=h,k.classList.add(i.L("_shadow"));var E=document.createElement("div");E.setAttribute("unselectable","on"),k.appendChild(E),E.style.position="absolute",E.style.top="0px",E.style.right="0px",E.style.left="0px",E.style.bottom="0px",E.classList.add(i.L("_shadow_inner")),y&&(p===l&&(k.style.borderTopLeftRadius=y,k.style.borderBottomLeftRadius=y,E.style.borderTopLeftRadius=y,E.style.borderBottomLeftRadius=y),p<=w&&(k.style.borderTopRightRadius=y,k.style.borderBottomRightRadius=y,E.style.borderTopRightRadius=y,E.style.borderBottomRightRadius=y)),this.nav.top.appendChild(k),this.shadow.list.push(k),p-=w+7-this.getColCount(),c=0,d++}},this.clearShadow=function(){if(this.shadow){for(var c=0;c<this.shadow.list.length;c++)this.nav.top.removeChild(this.shadow.list[c]);this.shadow=null,this.nav.top.style.cursor=""}},this.getEventTop=function(c,d){for(var u=this.headerHeight,l=0;l<c;l++)u+=this.rows[l].getHeight();return u+=this.cellHeaderHeight,u+=d*this.lineHeight()},this.getDateFromCell=function(c,d){return this.firstDate.addDays(7*d+c)},this.Va=function(c){var d=c.cache||c.data,u=d.borderRadius||i.eventBorderRadius;typeof u=="number"&&(u+="px");var l=c.part.row,f=c.part.line,m=c.part.colStart,p=c.part.colWidth,x=this.getCellWidth()*m,b=this.getCellWidth()*p,h=this.getEventTop(l,f),y=document.createElement("div");y.setAttribute("unselectable","on"),y.style.height=this.eventHeight+"px",y.style.overflow="hidden",y.className=this.L("_event"),d.cssClass&&e.Util.addClass(y,d.cssClass),c.part.startsHere||e.Util.addClass(y,this.L("_event_continueleft")),c.part.endsHere||e.Util.addClass(y,this.L("_event_continueright")),y.event=c,y.style.width=b+"%",y.style.position="absolute",y.style.left=x+"%",y.style.top=h+"px",this.showToolTip&&c.client.toolTip()&&(y.title=c.client.toolTip()),y.onclick=i.va,y.oncontextmenu=i.jd,y.onmousedown=function(D){D=D||window.event;var P=D.which||D.button;if(D.cancelBubble=!0,D.stopPropagation&&D.stopPropagation(),P===1){if(t.movingEvent=null,this.style.cursor==="w-resize"||this.style.cursor==="e-resize"){var M={};M.start={},M.start.x=m,M.start.y=l,M.event=y.event,M.width=e.DateUtil.daysSpan(M.event.start(),M.event.end())+1,M.direction=this.style.cursor,t.resizingEvent=M}else if(this.style.cursor==="move"||c.client.moveEnabled()){i.clearShadow();var R=e.mo3(i.nav.top,D);if(!R)return;var B=i.getCellBelowPoint(R.x,R.y),L=e.DateUtil.daysDiff(c.start(),i.rows[l].start),$=7*B.y+B.x-(7*l+m);L&&($+=L);var I={};I.start={},I.start.x=m,I.start.y=l,I.start.line=f,I.offset=i.eventMoveToPosition?0:$,I.colWidth=p,I.event=y.event,I.coords=R,t.movingEvent=I}}},y.onmousemove=function(D){if(typeof t<"u"&&!t.movingEvent&&!t.resizingEvent){var P=e.mo3(y,D);if(P){y.deleteIcon&&(y.deleteIcon.style.display="");var M=6;P.x<=M&&c.client.resizeEnabled()?c.part.startsHere?(y.style.cursor="w-resize",y.dpBorder="left"):y.style.cursor="not-allowed":y.clientWidth-P.x<=M&&c.client.resizeEnabled()?c.part.endsHere?(y.style.cursor="e-resize",y.dpBorder="right"):y.style.cursor="not-allowed":c.client.clickEnabled()?y.style.cursor="pointer":y.style.cursor="default"}}},y.onmouseleave=function(D){y.deleteIcon&&(y.deleteIcon.style.display="none"),y.style.cursor=""},y.onmouseenter=function(D){y.deleteIcon&&(y.deleteIcon.style.display="")};var w=document.createElement("div");if(w.setAttribute("unselectable","on"),w.className=this.L("_event_inner"),d.borderColor==="darker"&&d.backColor?w.style.borderColor=e.ColorUtil.darker(d.backColor,2):w.style.borderColor=d.borderColor,d.backColor&&(w.style.background=d.backColor),d.fontColor&&(w.style.color=d.fontColor),u&&(y.style.borderRadius=u,w.style.borderRadius=u),y.appendChild(w),c.client.barVisible()){var S=document.createElement("div");S.setAttribute("unselectable","on"),S.className=this.L("_event_bar"),S.style.position="absolute";var N=document.createElement("div");N.setAttribute("unselectable","on"),N.className=this.L("_event_bar_inner"),N.style.top="0%",N.style.height="100%",d.barColor&&(N.style.backgroundColor=d.barColor),S.appendChild(N),y.appendChild(S)}if(c.client.deleteEnabled()){var _=Math.floor(i.eventHeight/2-9),k=document.createElement("div");k.style.position="absolute",k.style.right="2px",k.style.top=_+"px",k.style.width="18px",k.style.height="18px",k.className=i.L("_event_delete"),k.onmousedown=function(D){D.stopPropagation()},k.onclick=function(D){D.stopPropagation();var P=this.parentNode.event;P&&i.ya(P)},k.style.display="none",y.deleteIcon=k,y.appendChild(k)}var E=d.areas?e.Areas.copy(d.areas):[];if(e.Areas.attach(y,c,{areas:E}),typeof i.onAfterEventRender=="function"){var T={};T.e=y.event,T.div=y,i.onAfterEventRender(T)}(function(){var D={};if(D.control=i,D.e=c,D.element=null,y.domArgs=D,typeof i.onBeforeEventDomAdd=="function"&&i.onBeforeEventDomAdd(D),D.element){var P=w;if(P)if(D.Qa=P,r(D.element)){if(!i.Sa.Ra)throw new e.Exception("Can't reach Vue");i.Sa.Ta=!0,i.Sa.Wa(D.element,P,{style:{flexGrow:1}}),i.Sa.Ta=!1}else P.appendChild(D.element)}else w.innerHTML=c.client.innerHTML()})(),this.elements.events.push(y),this.nav.events.appendChild(y)},this.lastVisibleDayOfMonth=function(){return this.startDate.lastDayOfMonth()},this.ed=function(){typeof this.startDate=="string"&&(this.startDate=new e.Date(this.startDate)),this.startDate=this.startDate.firstDayOfMonth(),this.firstDate=this.startDate.firstDayOfWeek(this.getWeekStart());var c,d=(this.startDate,this.lastVisibleDayOfMonth()),u=e.DateUtil.daysDiff(this.firstDate,d)+1;c=Math.ceil(u/7),this.days=7*c,this.rows=[];for(var l=0;l<c;l++){var f={};f.start=this.firstDate.addDays(7*l),f.end=f.start.addDays(this.getColCount()),f.events=[],f.lines=[],f.index=l,f.minHeight=this.cellHeight,f.calendar=this,f.belongsHere=function(m){return m.end().getTime()===m.start().getTime()&&m.start().getTime()===this.start.getTime()||!(m.end().getTime()<=this.start.getTime()||m.start().getTime()>=this.end.getTime())},f.getPartStart=function(m){return e.DateUtil.max(this.start,m.start())},f.getPartEnd=function(m){return e.DateUtil.min(this.end,m.end())},f.getStartColumn=function(m){var p=this.getPartStart(m);return e.DateUtil.daysDiff(this.start,p)},f.getWidth=function(m){return e.DateUtil.daysSpan(this.getPartStart(m),this.getPartEnd(m))+1},f.putIntoLine=function(m,p,x,b){for(var h=this,y=0;y<this.lines.length;y++){var w=this.lines[y];if(w.isFree(p,x))return w.addEvent(m,p,x,b,y),y}var w=[];return w.isFree=function(S,N){for(var _=!0,k=0;k<this.length;k++)S+N-1<this[k].part.colStart||S>this[k].part.colStart+this[k].part.colWidth-1||(_=!1);return _},w.addEvent=function(S,N,_,k,E){S.part.colStart=N,S.part.colWidth=_,S.part.row=k,S.part.line=E,S.part.startsHere=h.start.getTime()<=S.start().getTime(),S.part.endsHere=h.end.getTime()>=S.end().getTime(),this.push(S)},w.addEvent(m,p,x,b,this.lines.length),this.lines.push(w),this.lines.length-1},f.getStart=function(){for(var m=0,p=0;p<i.rows.length&&p<this.index;p++)m+=i.rows[p].getHeight()},f.getHeight=function(){return Math.max(this.lines.length*i.lineHeight()+i.cellHeaderHeight+i.cellMarginBottom,this.calendar.cellHeight)},this.rows.push(f)}this.endDate=this.firstDate.addDays(7*c)},this.visibleStart=function(){return i.firstDate},this.visibleEnd=function(){return i.endDate},this.getHeight=function(){for(var c=this.headerHeight,d=0;d<this.rows.length;d++)c+=this.rows[d].getHeight();return c},this.getWidth=function(c,d){return 7*d.y+d.x-(7*c.y+c.x)+1},this.getMinCoords=function(c,d){return 7*c.y+c.x<7*d.y+d.x?c:d},this.L=function(c){var d=this.theme||this.cssClassPrefix;return d?d+c:""},this.Ya=function(){var c=this.nav.top;c.setAttribute("unselectable","on"),c.style.MozUserSelect="none",c.style.KhtmlUserSelect="none",c.style.WebkitUserSelect="none",c.style.position="relative",this.width&&(c.style.width=this.width),c.style.height=this.getHeight()+"px",c.onselectstart=function(l){return!1},this.hideUntilInit&&(c.style.visibility="hidden"),this.visible||(c.style.display="none"),c.className=this.L("_main");var d=document.createElement("div");this.nav.cells=d,d.style.position="absolute",d.style.left="0px",d.style.right="0px",d.setAttribute("unselectable","on"),c.appendChild(d);var u=document.createElement("div");this.nav.events=u,u.style.position="absolute",u.style.left="0px",u.style.right="0px",u.setAttribute("unselectable","on"),c.appendChild(u),c.onmousemove=function(l){if(t.resizingEvent){var f=e.mo3(i.nav.top,l);if(!f)return;var m=i.getCellBelowPoint(f.x,f.y);i.clearShadow();var p,x,b=t.resizingEvent;if(b.start,b.direction==="w-resize"){x=m;var h=b.event.end();h.getDatePart()===h&&(h=h.addDays(-1));var y=i.getCellFromDate(h);p=i.getWidth(m,y)}else x=i.getCellFromDate(b.event.start()),p=i.getWidth(x,m);p<1&&(p=1),i.drawShadow(x.x,x.y,0,p)}else if(t.movingEvent){var f=e.mo3(i.nav.top,l);if(!f||f.x===t.movingEvent.coords.x&&f.y===t.movingEvent.coords.y)return;var w=3,S=Math.abs(f.x-t.movingEvent.coords.x)+Math.abs(f.y-t.movingEvent.coords.y);if(S<=w)return;var m=i.getCellBelowPoint(f.x,f.y);i.clearShadow();var N=t.movingEvent.event,_=t.movingEvent.offset,p=i.cellMode?1:e.DateUtil.daysSpan(N.start(),N.end())+1;p<1&&(p=1),i.drawShadow(m.x,m.y,0,p,_,N)}else if(t.timeRangeSelecting){var f=e.mo3(i.nav.top,l);if(!f)return;var m=i.getCellBelowPoint(f.x,f.y);i.clearShadow();var x=t.timeRangeSelecting,k=7*x.y+x.x,E=7*m.y+m.x,p=Math.abs(E-k)+1;p<1&&(p=1);var T=k<E?x:m;t.timeRangeSelecting.from={x:T.x,y:T.y},t.timeRangeSelecting.width=p,t.timeRangeSelecting.moved=!0,i.drawShadow(T.x,T.y,0,p,0,null)}}},this.ma=function(){this.nav.top.style.height=this.getHeight()+"px";for(var c=0;c<this.cells.length;c++)for(var d=0;d<this.cells[c].length;d++)this.cells[c][d].style.top=this.getRowTop(d)+"px",this.cells[c][d].style.height=this.rows[d].getHeight()+"px"},this.getCellBelowPoint=function(c,d){for(var u=Math.floor(this.nav.top.clientWidth/this.getColCount()),l=Math.min(Math.floor(c/u),this.getColCount()-1),f=null,m=this.headerHeight,p=0,x=0;x<this.rows.length;x++){var b=m;if(m+=this.rows[x].getHeight(),d<m){p=d-b,f=x;break}}f===null&&(f=this.rows.length-1);var h={};return h.x=l,h.y=f,h.relativeY=p,h},this.getCellFromDate=function(c){for(var d=e.DateUtil.daysDiff(this.firstDate,c),u={x:0,y:0};d>=7;)u.y++,d-=7;return u.x=d,u},this.gd=function(){var c=document.createElement("div");c.oncontextmenu=function(){return!1},this.nav.cells.appendChild(c),this.cells=[];for(var d=0;d<this.getColCount();d++){this.cells[d]=[];var u=document.createElement("div");u.setAttribute("unselectable","on"),u.style.position="absolute",u.style.left=this.getCellWidth()*d+"%",u.style.width=this.getCellWidth()+"%",u.style.top="0px",u.style.height=this.headerHeight+"px";var l=d+this.getWeekStart();l>6&&(l-=7),u.className=this.L("_header");var f=document.createElement("div");f.setAttribute("unselectable","on"),f.innerHTML=o.locale().dayNames[l],u.appendChild(f),f.style.position="absolute",f.style.top="0px",f.style.bottom="0px",f.style.left="0px",f.style.right="0px",f.className=this.L("_header_inner"),f.innerHTML=o.locale().dayNames[l],c.appendChild(u);for(var m=0;m<this.rows.length;m++)this.kd(d,m,c)}},this.fd=function(){for(var c=0;c<this.cells.length;c++)for(var d=0;d<this.cells[c].length;d++){var u=i.cells[c][d];i.hb(u)}this.nav.cells.innerHTML=""},this.hb=function(c){(function(){var d=c.domArgs;if(c.domArgs=null,d&&typeof i.onBeforeCellDomRemove=="function"&&i.onBeforeCellDomRemove(d),d&&typeof i.onBeforeCellDomAdd=="function"){var u=d&&d.Qa;if(u){var l=i.ld.reactDOM&&isReactCmp(d.element),f=i.Sa.Ra&&(isVueCmp(d.element)||r(d.element));l?i.ld.md(u):f&&(i.Sa.Ta=!0,i.Sa.Ua(u),i.Sa.Ta=!1)}}})(),c.onclick=null},this.ta=function(){return i.api===2},this.kd=function(c,d,u){var l=this.rows[d],f=this.firstDate.addDays(7*d+c),m=f.getDay(),p=null;p=m===1?o.locale().monthNames[f.getMonth()]+" "+m:""+m;var x=!i.isWeekend(f),b={start:f,end:f.addDays(1),properties:{headerHtml:p,backColor:null,business:x,html:null}},h={};h.control=i,h.cell=b,typeof i.onBeforeCellRender=="function"&&i.onBeforeCellRender(h);var y=h.cell.properties,w=document.createElement("div");if(w.setAttribute("unselectable","on"),w.style.position="absolute",w.style.cursor="default",w.style.left=this.getCellWidth()*c+"%",w.style.width=this.getCellWidth()+"%",w.style.top=this.getRowTop(d)+"px",w.style.height=l.getHeight()+"px",w.className=this.L("_cell"),y.business){var x=this.L("_cell_business");e.Util.addClass(w,x)}var S=(this.startDate.addMonths(-1).getMonth(),this.startDate.addMonths(1).getMonth(),this.startDate.getMonth(),document.createElement("div"));S.setAttribute("unselectable","on"),w.appendChild(S),S.style.position="absolute",S.style.left="0px",S.style.right="0px",S.style.top="0px",S.style.bottom="0px",S.className=this.L("_cell_inner"),y.backColor&&(S.style.backgroundColor=h.cell.properties.backColor),w.onmousedown=function(k){i.timeRangeSelectedHandling!=="Disabled"&&(i.clearShadow(),t.timeRangeSelecting={root:i,x:c,y:d,from:{x:c,y:d},width:1})},w.onclick=function(){var k=function(E){var T=new e.Date(E),D=T.addDays(1);i.O(T,D)};if(i.timeRangeSelectedHandling!=="Disabled")return void k(f)};var N=document.createElement("div");if(N.setAttribute("unselectable","on"),N.style.height=this.cellHeaderHeight+"px",N.className=this.L("_cell_header"),N.onclick=function(k){if(i.cellHeaderClickHandling==="Enabled"){k.stopPropagation();var E={};E.control=i,E.start=f,E.end=f.addDays(1),E.preventDefault=function(){this.preventDefault.value=!0},typeof i.onCellHeaderClick=="function"&&(i.onCellHeaderClick(E),E.preventDefault.value)||typeof i.onCellHeaderClicked=="function"&&i.onCellHeaderClicked(E)}},N.innerHTML=y.headerHtml,S.appendChild(N),y.html){var _=document.createElement("div");_.style.height=l.getHeight()-this.cellHeaderHeight+"px",_.style.overflow="hidden",_.innerHTML=y.html,S.appendChild(_)}(function(){if(typeof i.onBeforeCellDomAdd=="function"||typeof i.onBeforeCellDomRemove=="function"){var k={};if(k.control=i,k.cell=b,k.element=null,w.domArgs=k,typeof i.onBeforeCellDomAdd=="function"&&i.onBeforeCellDomAdd(k),k.element){var E=S;if(E)if(k.Qa=E,r(k.element)){if(!i.Sa.Ra)throw new e.Exception("Can't reach Vue");i.Sa.Ta=!0,i.Sa.Wa(k.element,E),i.Sa.Ta=!1}else E.appendChild(k.element)}}})(),this.cells[c][d]=w,u.appendChild(w)},this.getWeekStart=function(){if(i.weekStarts==="Auto"){var c=o.locale();return c?c.weekStarts:0}return i.weekStarts||0},this.getColCount=function(){return 7},this.getCellWidth=function(){return 14.285},this.getRowTop=function(c){for(var d=this.headerHeight,u=0;u<c;u++)d+=this.rows[u].getHeight();return d},this.U=function(c,d,u){var l={};l.action=c,l.parameters=u,l.data=d,l.header=this.T();var f="JSON"+e.JSON.stringify(l);this.backendUrl&&e.request(this.backendUrl,this.V,f,this.ajaxError)},this.V=function(c){i.W(c.responseText)},this.T=function(){var c={};return c.control="dpm",c.id=this.id,c.v=this.v,c.visibleStart=new e.Date(this.firstDate),c.visibleEnd=c.visibleStart.addDays(this.days),c.startDate=i.startDate,c.timeFormat=this.timeFormat,c.weekStarts=this.weekStarts,c},this.eventClickCallBack=function(c,d){this.U("EventClick",d,c)},this.va=function(u){t.movingEvent=null,t.resizingEvent=null;var d=this,u=u||window.event;u.ctrlKey,u.cancelBubble=!0,u.stopPropagation&&u.stopPropagation(),i.eventClickSingle(d,u)},this.eventClickSingle=function(c,d){var u=c.event;if(u&&u.client.clickEnabled())if(i.ta()){var l={};if(l.e=u,l.control=i,l.div=c,l.originalEvent=d,l.meta=d.metaKey,l.ctrl=d.ctrlKey,l.preventDefault=function(){this.preventDefault.value=!0},typeof i.onEventClick=="function"&&(i.wa.apply(function(){i.onEventClick(l)}),l.preventDefault.value))return;switch(i.eventClickHandling){case"CallBack":i.eventClickCallBack(u);break;case"ContextMenu":var f=u.client.contextMenu();f?f.show(u):i.contextMenu&&i.contextMenu.show(u)}typeof i.onEventClicked=="function"&&i.wa.apply(function(){i.onEventClicked(l)})}else switch(i.eventClickHandling){case"CallBack":i.eventClickCallBack(u);break;case"JavaScript":i.onEventClick(u)}},this.jd=function(){var c=this;return i.xa(c.event),!1},this.xa=function(c){if(this.event=c,!c.client.rightClickEnabled())return!1;var d={};if(d.e=c,d.preventDefault=function(){this.preventDefault.value=!0},typeof i.onEventRightClick!="function"||(i.onEventRightClick(d),!d.preventDefault.value)){switch(i.eventRightClickHandling){case"ContextMenu":var u=c.client.contextMenu();u?u.show(c):i.contextMenu&&i.contextMenu.show(this.event)}return typeof i.onEventRightClicked=="function"&&i.onEventRightClicked(d),!1}},this.ya=function(c){if(i.ta()){var d={};if(d.e=c,d.control=i,d.preventDefault=function(){this.preventDefault.value=!0},typeof i.onEventDelete=="function"&&(i.wa.apply(function(){i.onEventDelete(d)}),d.preventDefault.value))return;switch(i.eventDeleteHandling){case"CallBack":i.eventDeleteCallBack(c);break;case"PostBack":i.eventDeletePostBack(c);break;case"Update":i.events.remove(c)}typeof i.onEventDeleted=="function"&&i.wa.apply(function(){i.onEventDeleted(d)})}else switch(i.eventDeleteHandling){case"PostBack":i.eventDeletePostBack(c);break;case"CallBack":i.eventDeleteCallBack(c);break;case"JavaScript":i.onEventDelete(c)}},this.eventDeleteCallBack=function(c,d){this.U("EventDelete",d,c)},this.eventDeletePostBack=function(c,d){this.S("EventDelete",d,c)},this.eventMoveCallBack=function(c,d,u,l,f){if(!d)throw"newStart is null";if(!u)throw"newEnd is null";var m={};m.e=c,m.newStart=d,m.newEnd=u,m.position=f,this.U("EventMove",l,m)},this.M=function(c,d,u,l,f,m){var p=c.start().getTimePart(),x=c.end().getDatePart();x.getTime()!==c.end().getTime()&&(x=x.addDays(1));var b=e.DateUtil.diff(c.end(),x),h=this.getDateFromCell(d,u);h=h.addDays(-l);var y=e.DateUtil.daysSpan(c.start(),c.end())+1,w=h.addDays(y),S=h.addTime(p),N=w.addTime(b);if(i.ta()){var _={};if(_.e=c,_.control=i,_.newStart=S,_.newEnd=N,_.ctrl=f.ctrlKey,_.shift=f.shiftKey,_.preventDefault=function(){this.preventDefault.value=!0},typeof i.onEventMove=="function"&&(i.wa.apply(function(){i.onEventMove(_)}),_.preventDefault.value))return;switch(i.eventMoveHandling){case"CallBack":i.eventMoveCallBack(c,S,N);break;case"Update":c.start(S),c.end(N),i.events.update(c)}typeof i.onEventMoved=="function"&&i.wa.apply(function(){i.onEventMoved(_)})}else switch(i.eventMoveHandling){case"CallBack":i.eventMoveCallBack(c,S,N);break;case"JavaScript":i.onEventMove(c,S,N)}},this.eventResizeCallBack=function(c,d,u,l){if(!d)throw"newStart is null";if(!u)throw"newEnd is null";var f={};f.e=c,f.newStart=d,f.newEnd=u,this.U("EventResize",l,f)},this.K=function(c,d,u){var l=c.start().getTimePart(),f=c.end().getDatePart();f.getTime()!==c.end().getTime()&&(f=f.addDays(1));var m=e.DateUtil.diff(c.end(),f),p=this.getDateFromCell(d.x,d.y),x=p.addDays(u),b=p.addTime(l),h=x.addTime(m);if(i.ta()){var y={};if(y.e=c,y.control=i,y.newStart=b,y.newEnd=h,y.preventDefault=function(){this.preventDefault.value=!0},typeof i.onEventResize=="function"&&(i.wa.apply(function(){i.onEventResize(y)}),y.preventDefault.value))return;switch(i.eventResizeHandling){case"CallBack":i.eventResizeCallBack(c,b,h);break;case"Update":c.start(b),c.end(h),i.events.update(c)}typeof i.onEventResized=="function"&&i.wa.apply(function(){i.onEventResized(y)})}else switch(i.eventResizeHandling){case"CallBack":i.eventResizeCallBack(c,b,h);break;case"JavaScript":i.onEventResize(c,b,h)}},this.timeRangeSelectedCallBack=function(c,d,u){var l={};l.start=c,l.end=d,this.U("TimeRangeSelected",u,l)},this.O=function(c,d){if(this.ta()){var u={};if(u.control=i,u.start=c,u.end=d,u.preventDefault=function(){this.preventDefault.value=!0},typeof i.onTimeRangeSelect=="function"&&(i.wa.apply(function(){i.onTimeRangeSelect(u)}),u.preventDefault.value))return;switch(i.timeRangeSelectedHandling){case"CallBack":i.timeRangeSelectedCallBack(c,d)}typeof i.onTimeRangeSelected=="function"&&i.wa.apply(function(){i.onTimeRangeSelected(u)})}else switch(i.timeRangeSelectedHandling){case"CallBack":i.timeRangeSelectedCallBack(c,d);break;case"JavaScript":i.onTimeRangeSelected(c,d)}},this.wa={},this.wa.scope=null,this.wa.notify=function(){i.wa.scope&&i.wa.scope.$apply()},this.wa.apply=function(c){c()},this.clearSelection=function(){i.clearShadow()},this.commandCallBack=function(c,d){var u={};u.command=c,this.U("Command",d,u)},this.isWeekend=function(c){return c=new e.Date(c),c.dayOfWeek()===0||c.dayOfWeek()===6},this.ca={},this.ca.locale=function(){var c=e.Locale.find(i.locale);return c||e.Locale.US},this.ca.da=function(){return i.xssProtection!=="Disabled"};var o=this.ca;this.debug=function(c,d){this.debuggingEnabled&&(i.debugMessages||(i.debugMessages=[]),i.debugMessages.push(c),typeof console<"u"&&console.log(c))},this.dispose=function(){var c=i;c.Q||(c.Q=!0,c.fd(),c.Y(),c.nav.top.removeAttribute("style"),c.nav.top.removeAttribute("class"),c.nav.top.innerHTML="",c.nav.top.dp=null,c.nav.top.onmousemove=null,c.nav.top=null)},this.disposed=function(){return this.Q},this.rb=function(){t.globalHandlers||(t.globalHandlers=!0,e.re(document,"mouseup",t.gMouseUp))},this.loadFromServer=function(){return!(!this.backendUrl&&typeof WebForm_DoCallback!="function")&&(typeof i.events.list>"u"||!i.events.list)},this.u=function(){this.nav.top.style.visibility==="hidden"&&(this.nav.top.style.visibility="visible")},this.show=function(){i.visible=!0,i.nav.top.style.display=""},this.hide=function(){i.visible=!1,i.nav.top.style.display="none"},this.yb=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if(typeof this.id!="string")throw"DayPilot.Month() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Month: The placeholder element not found: '"+id+"'."}},this.Hb=function(){this.ed(),this.Ya(),this.gd(),this.rb(),this.U("Init")},this.ab=function(c,d){return i.ca.da()?e.Util.escapeTextHtml(c,d):e.Util.isNullOrUndefined(d)?e.Util.isNullOrUndefined(c)?"":c:d},this.Sa={},this.Sa.Ra=null,this.Sa.Ob=function(c,d,u){var l=i.Sa.Ra;if(typeof l.createVNode=="function"&&typeof l.render=="function"){var f=l.createVNode(c,u);l.render(f,d)}},this.Sa.Wa=function(c,d,u){var l=i.Sa.Ra;if(typeof l.render=="function"){var f=c;e.isArray(c)&&(f=l.h("div",u,c)),l.render(f,d)}},this.Sa.Ua=function(c){var d=i.Sa.Ra;typeof d.render=="function"&&d.render(null,c)},this.internal={},this.internal.loadOptions=this.ub,this.internal.xssTextHtml=i.ab,this.internal.enableVue=function(c){i.Sa.Ra=c},this.internal.vueRef=function(){return i.Sa.Ra},this.internal.vueRendering=function(){return i.Sa.Ta},this.init=function(){return this.yb(),this.loadFromServer()?void this.Hb():(this.ed(),this.ha(),this.Ya(),this.gd(),this.u(),this.na(),this.rb(),this.fireAfterRenderDetached(null,!1),this.Ma=!0,this)},this.Init=this.init,Object.defineProperty(this,"durationBarVisible",{get:function(){return i.eventBarVisible}}),this.ub(a)},t.gMouseUp=function(s){if(t.movingEvent){var a=t.movingEvent;if(!a.event||!a.event.calendar||!a.event.calendar.shadow||!a.event.calendar.shadow.start)return;var i=t.movingEvent.event.calendar,o=t.movingEvent.event,c=i.shadow.start,d=i.shadow.position,u=t.movingEvent.offset;i.clearShadow(),t.movingEvent=null;var s=s||window.event;return i.M(o,c.x,c.y,u,s,d),s.cancelBubble=!0,s.stopPropagation&&s.stopPropagation(),t.movingEvent=null,!1}if(t.resizingEvent){var a=t.resizingEvent;if(!a.event||!a.event.calendar||!a.event.calendar.shadow||!a.event.calendar.shadow.start)return;var i=t.resizingEvent.event.calendar,o=t.resizingEvent.event,c=i.shadow.start,l=i.shadow.width;return i.clearShadow(),t.resizingEvent=null,i.K(o,c,l),s.cancelBubble=!0,t.resizingEvent=null,!1}if(t.timeRangeSelecting){if(t.timeRangeSelecting.moved){var f=t.timeRangeSelecting,i=f.root,c=new e.Date(i.getDateFromCell(f.from.x,f.from.y)),m=c.addDays(f.width);i.O(c,m)}t.timeRangeSelecting=null}},e.Month=t.Month,typeof jQuery<"u"&&(function(s){s.fn.daypilotMonth=function(a){var i=null,o=this.each(function(){if(!this.daypilot){var c=new e.Month(this.id);this.daypilot=c;for(name in a)c[name]=a[name];c.Init(),i||(i=c)}});return this.length===1?i:o}})(jQuery),(function(){var s=e.am();s&&s.directive("daypilotMonth",["$parse",function(a){return{restrict:"E",template:"<div></div>",replace:!0,link:function(i,o,c){var d=new e.Month(o[0]);d.wa.scope=i,d.init();var u=c.id;u&&(i[u]=d);var l=c.publishAs;l&&(0,a(l).assign)(i,d);for(var f in c)f.indexOf("on")===0&&(function(b){d[b]=function(h){var y=a(c[b]);i.$apply(function(){y(i,{args:h})})}})(f);var m=i.$watch,p=c.config||c.daypilotConfig,x=c.events||c.daypilotEvents;m.call(i,p,function(b){for(var h in b)d[h]=b[h];d.update()},!0),m.call(i,x,function(b){d.events.list=b,d.update()},!0)}}}])})(),typeof Sys<"u"&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}})(),typeof e>"u")var e={};if(typeof e.Global>"u"&&(e.Global={}),(function(t){if(typeof t.Navigator>"u"||!t.Navigator.def){var r=t.Util.isVueVNode;t.Navigator=function(s,a){this.v="2025.3.710-lite";var i=this;this.id=s,this.api=2,this.isNavigator=!0,this.autoFocusOnClick=!0,this.weekStarts="Auto",this.selectMode="Day",this.titleHeight=30,this.dayHeaderHeight=30,this.bound=null,this.cellWidth=30,this.cellHeight=30,this.cssClassPrefix="navigator_default",this.freeHandSelectionEnabled=!1,this.selectionStart=new t.Date().getDatePart(),this.selectionEnd=null,this.selectionDay=null,this.showMonths=1,this.skipMonths=1,this.command="navigate",this.year=new t.Date().getYear(),this.month=new t.Date().getMonth()+1,this.showToday=!1,this.showWeekNumbers=!1,this.todayHtml=null,this.todayHeight=40,this.todayPosition="Bottom",this.todayText="Today",this.weekNumberAlgorithm="Auto",this.rowsPerMonth="Six",this.orientation="Vertical",this.locale="en-us",this.rtl=!1,this.visible=!0,this.timeRangeSelectedHandling="Bind",this.visibleRangeChangedHandling="Enabled",this.onVisibleRangeChange=null,this.onVisibleRangeChanged=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.onTodayClick=null,this.nav={},this.zb={},this.nd=function(){this.root.dp=this,this.root.className=this.L("_main"),this.orientation==="Horizontal"?(d.od()||(this.root.style.width=this.showMonths*(7*d.cellWidth()+this.pd())+"px"),this.root.style.height=6*this.cellHeight+this.titleHeight+this.dayHeaderHeight+"px"):d.od()||(this.root.style.width=7*d.cellWidth()+this.pd()+"px"),this.rtl&&(this.root.style.direction="rtl"),this.root.style.position="relative",this.visible||(this.root.style.display="none");var u=document.createElement("input");u.type="hidden",u.name=i.id+"_state",u.id=u.name,this.root.appendChild(u),this.state=u,this.startDate?this.startDate=new t.Date(this.startDate).firstDayOfMonth():this.selectionDay?this.startDate=new t.Date(this.selectionDay).firstDayOfMonth():this.startDate=t.Date.fromYearMonthDay(this.year,this.month),this.calendars=[],this.selected=[],this.months=[]},this.ta=function(){return i.api===2},this.fd=function(){this.root.innerHTML=""},this.L=function(u){var l=this.theme||this.cssClassPrefix;return l?l+u:""},this.qd=function(u,l){var f=this.L("_"+l);t.Util.addClass(u,f)},this.rd=function(u,l){var f=this.L("_"+l);t.Util.removeClass(u,f)},this.sd=function(){if(!d.od())return null;var u=7;return this.showWeekNumbers&&u++,100/u},this.td=function(){return d.od()?null:d.cellWidth()},this.ud=function(u){return typeof u!="number"&&(u=1),d.od()?this.sd()*u:this.td()*u},this.vd=function(u){var l=d.od()?"%":"px";return this.ud(u)+l},this.gd=function(u,l){var f={};f.cells=[],f.days=[],f.weeks=[];var m=this.startDate.addMonths(u),p=l.before,x=l.after,b=m.firstDayOfMonth(),h=b.firstDayOfWeek(d.weekStarts()),y=b.addMonths(1),w=t.DateUtil.daysDiff(h,y),S=this.rowsPerMonth==="Auto"?Math.ceil(w/7):6;f.rowCount=S;var N=new t.Date().getDatePart(),_=7*d.cellWidth()+this.pd();f.width=_;var k=this.cellHeight*S+this.titleHeight+this.dayHeaderHeight;f.height=k;var E=document.createElement("div");if(d.od()?this.orientation==="Horizontal"&&(E.style.width=100/i.showMonths+"%"):E.style.width=_+"px",E.style.height=k+"px",this.orientation==="Horizontal")E.style.position="absolute",d.od()?(E.style.left=100/i.showMonths*u+"%",f.leftPct=100/i.showMonths*u):E.style.left=_*u+"px",E.style.top="0px",f.top=0,f.left=_*u;else{E.style.position="relative";var T=u>0?i.months[u-1].top+i.months[u-1].height:0;f.top=T,f.left=0,f.leftPct=0}E.className=this.L("_month"),E.style.cursor="default",E.style.userSelect="none",E.style.webkitUserSelect="none",E.month=f,f.div=E,this.root.appendChild(E);var D=this.titleHeight+this.dayHeaderHeight,P=document.createElement("div");P.style.position="absolute",P.style.left="0px",P.style.right="0px",P.style.top="0px",P.style.width=i.vd(),P.style.height=this.titleHeight+"px",P.style.lineHeight=this.titleHeight+"px",P.className=this.L("_titleleft"),l.left&&(P.style.cursor="pointer",P.innerHTML="<span>&lt;</span>",P.onclick=this.wd),E.appendChild(P),this.tl=P;var M=document.createElement("div");M.style.position="absolute",M.style.left=i.vd(),M.style.top="0px",M.style.width=i.vd(i.showWeekNumbers?6:5),M.style.height=this.titleHeight+"px",M.style.lineHeight=this.titleHeight+"px",M.className=this.L("_title"),M.innerHTML=d.locale().monthNames[m.getMonth()]+" "+m.getYear(),E.appendChild(M),this.ti=M;var R=document.createElement("div");R.style.position="absolute",R.style.left=i.vd(i.showWeekNumbers?7:6),R.style.right=i.vd(i.showWeekNumbers?7:6),R.style.top="0px",R.style.width=i.vd(),R.style.height=this.titleHeight+"px",R.style.lineHeight=this.titleHeight+"px",R.className=this.L("_titleright"),l.right&&(R.style.cursor="pointer",R.innerHTML="<span>&gt;</span>",R.onclick=this.xd),E.appendChild(R),this.tr=R;var B=(this.pd(),i.showWeekNumbers?1:0);if(this.showWeekNumbers)for(var L=0;L<S;L++){var $=h.addDays(7*L),I=null;switch(this.weekNumberAlgorithm){case"Auto":I=d.weekStarts()===1?$.weekNumberISO():$.weekNumber();break;case"US":I=$.weekNumber();break;case"ISO8601":I=$.weekNumberISO();break;default:throw"Unknown weekNumberAlgorithm value."}var z=document.createElement("div");z.style.position="absolute",z.style.left="0px",z.style.right="0px",z.style.top=L*this.cellHeight+D+"px",z.style.width=i.vd(),z.style.height=this.cellHeight+"px",z.style.lineHeight=this.cellHeight+"px",z.className=this.L("_weeknumber"),z.innerHTML="<span>"+I+"</span>",E.appendChild(z),f.weeks.push(z)}if(i.showWeekNumbers){var z=document.createElement("div");z.style.position="absolute",z.style.left="0px",z.style.right="0px",z.style.top=this.titleHeight+"px",z.style.width=i.vd(),z.style.height=this.dayHeaderHeight+"px",z.className=this.L("_dayheader"),E.appendChild(z)}for(var H=0;H<7;H++){f.cells[H]=[];var z=document.createElement("div");z.style.position="absolute",z.style.left=i.vd(H+B),z.style.right=i.vd(H+B),z.style.top=this.titleHeight+"px",z.style.width=i.vd(),z.style.height=this.dayHeaderHeight+"px",z.style.lineHeight=this.dayHeaderHeight+"px",z.className=this.L("_dayheader"),z.innerHTML="<span>"+this.yd(H)+"</span>",E.appendChild(z),f.days.push(z);for(var L=0;L<S;L++){var $=h.addDays(7*L+H),Z=this.zd($)&&this.Ad()!=="none",V=$.firstDayOfMonth()===m,G=$<m,U=$>=m.addMonths(1);if(this.Ad()==="month")Z=Z&&V;else if(this.Ad()==="day")Z=Z&&(V||p&&G||x&&U);else if(this.Ad()==="week"){var Y=$.firstDayOfMonth()===m;Z=Z&&(Y||p&&G||x&&U)}var K=document.createElement("div");f.cells[H][L]=K;var re=i.Bd(H,L),he=re.x,me=re.y,de=d.od()?"%":"px";K.day=$,K.x=H,K.y=L,K.left=he,K.top=me,K.isCurrentMonth=V,K.isNextMonth=U,K.isPrevMonth=G,K.showBefore=p,K.showAfter=x,K.className=this.L(V?"_day":"_dayother"),i.qd(K,"cell"),$.getTime()===N.getTime()&&V&&this.qd(K,"today"),$.dayOfWeek()!==0&&$.dayOfWeek()!==6||this.qd(K,"weekend"),K.style.position="absolute",K.style.left=he+de,K.style.right=he+de,K.style.top=me+"px",K.style.width=i.vd(),K.style.height=this.cellHeight+"px",K.style.lineHeight=this.cellHeight+"px";var ie=document.createElement("div");ie.style.position="absolute",ie.className=$.getTime()===N.getTime()&&V?this.L("_todaybox"):this.L("_daybox"),i.qd(ie,"cell_box"),ie.style.left="0px",ie.style.top="0px",ie.style.right="0px",ie.style.bottom="0px",K.appendChild(ie);var ve=null;this.cells&&this.cells[$.toStringSortable()]&&(ve=this.cells[$.toStringSortable()]);var _e=ve||{};if(_e.day=$,_e.isCurrentMonth=V,_e.isToday=$.getTime()===N.getTime()&&V,_e.isWeekend=$.dayOfWeek()===0||$.dayOfWeek()===6,ve?(_e.html=ve.html||$.getDay(),_e.cssClass=ve.css):(_e.html=$.getDay(),_e.cssClass=null),typeof i.onBeforeCellRender=="function"){var xe={};xe.cell=_e,i.onBeforeCellRender(xe),ve=xe.cell}if(ve&&t.Util.addClass(K,ve.cssClass||ve.css),V||p&&G||x&&U){var Le=document.createElement("div");Le.innerHTML=$.getDay(),Le.style.position="absolute",Le.style.left="0px",Le.style.top="0px",Le.style.right="0px",Le.style.bottom="0px",i.qd(Le,"cell_text"),K.isClickable=!0,ve&&ve.html&&(Le.innerHTML=ve.html),K.appendChild(Le)}K.onclick=this.Cd,(function(){if(typeof i.onBeforeCellDomAdd=="function"||typeof i.onBeforeCellDomRemove=="function"){var ge={};if(ge.control=i,ge.cell=_e,ge.element=null,K.domArgs=ge,typeof i.onBeforeCellDomAdd=="function"&&i.onBeforeCellDomAdd(ge),ge.element){var He=ie;if(He)if(ge.Qa=He,r(ge.element)){if(!i.Sa.Ra)throw new t.Exception("Can't reach Vue");i.Sa.Ta=!0,i.Sa.Wa(ge.element,He),i.Sa.Ta=!1}else He.appendChild(ge.element)}}})(),E.appendChild(K),Z&&(i.Dd(E,H,L),this.selected.push(K))}}var Ie=document.createElement("div");Ie.style.position="absolute",Ie.style.left="0px",Ie.style.top=D-2+"px",Ie.style.width=i.vd(7+B),Ie.style.height="1px",Ie.style.fontSize="1px",Ie.style.lineHeight="1px",Ie.className=this.L("_line"),E.appendChild(Ie),this.months.push(f)},this.Bd=function(u,l){var f=this.titleHeight+this.dayHeaderHeight,m=(this.pd(),this.showWeekNumbers?1:0);return{x:i.ud(u+m),y:l*this.cellHeight+f}},this.Dd=function(u,l,f){var m=u.month.cells[l][f];i.qd(m,"select")},this.Ed=function(u,l,f){var m=u.month.cells[l][f];i.rd(m,"select")},this.pd=function(){return this.showWeekNumbers?d.cellWidth():0},this.Fd=function(){if(this.items)for(var u=0;u<this.showMonths;u++)for(var l=0;l<7;l++)for(var f=0;f<6;f++){var m=this.months[u].cells[l][f];m&&(this.items[m.day.toStringSortable()]===1?(this.qd(m,"busy"),this.rd(m,"free")):(this.rd(m,"busy"),this.qd(m,"free")))}},this.Gd=function(){var u={};u.startDate=i.startDate,u.selectionStart=i.selectionStart,u.selectionEnd=i.selectionEnd.addDays(1),i.state.value=JSON.stringify(u)},this.Ad=function(){return(this.selectMode||"").toLowerCase()},this.Hd=function(){var u=this.selectionDay||this.selectionStart;switch(u||(u=t.Date.today()),u=new t.Date(u),this.Ad()){case"day":this.selectionStart=u,this.selectionDay=u,this.selectionEnd=u;break;case"week":this.selectionDay=u,this.selectionStart=u.firstDayOfWeek(d.weekStarts()),this.selectionEnd=this.selectionStart.addDays(6);break;case"month":this.selectionDay=u,this.selectionStart=u.firstDayOfMonth(),this.selectionEnd=this.selectionStart.lastDayOfMonth();break;case"none":this.selectionEnd=u;break;default:throw"Unknown selectMode value."}},this.Id=null,this.select=function(u,l,f){var m=l&&(l instanceof t.Date||typeof l=="string"),p=l&&typeof l=="object"||typeof l=="boolean",x=u,b=m?l:null,h=p?l:f;if(!this.Ma)return void(this.Id={date1:x,date2:b,options:h});var y=!0,w=!0;h&&typeof h=="object"?(h.dontFocus&&(y=!1),h.dontNotify&&(w=!1)):typeof h=="boolean"&&(y=!h);var S=this.selectionStart,N=this.selectionEnd;this.selectionStart=new t.Date(x).getDatePart(),this.selectionDay=this.selectionStart;var _=!1;if(y){var k=this.startDate;(this.selectionStart<this.Jd()||this.selectionStart>=this.Kd())&&(k=this.selectionStart.firstDayOfMonth()),k.toStringSortable()!==this.startDate.toStringSortable()&&(_=!0),this.startDate=k}b&&i.freeHandSelectionEnabled?i.selectionEnd=new t.Date(b):this.Hd(),this.fd(),this.nd(),this.Ld(),this.Fd(),this.Gd(),!w||S.equals(this.selectionStart)&&N.equals(this.selectionEnd)||this.O(),_&&this.Md()},this.update=function(u){i.Nd(u)},this.Nd=function(u){if(i.ub(u),this.Ma){if(i.Q)throw new t.Exception("You are trying to update a DayPilot.Navigator instance that has been disposed.");i.Od();var l={day:i.selectionDay,start:i.selectionStart,end:i.selectionEnd};i.sb(),l.start===i.selectionStart&&l.end===i.selectionEnd&&l.day===i.selectionDay||i.O()}},this.sb=function(){this.fd(),this.nd(),this.Hd(),this.Ld(),this.ha(),this.Fd(),this.Gd(),this.visible?this.show():this.hide()},this.Od=function(){i.zb={}},this.wb=null,this.ub=function(u){if(u){var l={events:{preInit:function(){var p=this.data;p&&(t.isArray(p.list)?i.events.list=p.list:i.events.list=p)}}};this.wb=l;for(var f in u)if(l[f]){var m=l[f];m.data=u[f],m.preInit&&m.preInit()}else i[f]=u[f]}},this.xb=function(){var u=this.wb;for(var l in u){var f=u[l];f.postInit&&f.postInit()}},this.U=function(u,l,f){var m={};m.action=u,m.parameters=f,m.data=l,m.header=this.T();var p="JSON"+JSON.stringify(m);this.backendUrl?t.request(this.backendUrl,this.V,p,this.Pd):WebForm_DoCallback(this.uniqueID,p,this.W,null,this.callbackError,!0)},this.Pd=function(u){if(typeof i.onAjaxError=="function"){var l={};l.request=u,i.onAjaxError(l)}else typeof i.ajaxError=="function"&&i.ajaxError(u)},this.V=function(u){i.W(u.responseText)},this.S=function(u,l,f){var m={};m.action=u,m.parameters=f,m.data=l,m.header=this.T();var p="JSON"+JSON.stringify(m);__doPostBack(i.uniqueID,p)},this.T=function(){var u={};return u.v=this.v,u.startDate=this.startDate,u.selectionStart=this.selectionStart,u.showMonths=this.showMonths,u},this.Qd=function(u,l){u==="refresh"&&this.Md()},this.yd=function(u){var l=u+d.weekStarts();return l>6&&(l-=7),d.locale().dayNamesShort[l]},this.zd=function(u){return this.selectionStart!==null&&this.selectionEnd!==null&&this.selectionStart.getTime()<=u.getTime()&&u.getTime()<=this.selectionEnd.getTime()},this.Rd=function(u){for(var l=0;l<i.months.length;l++){var f=i.months[l];if(!f||u.x<f.left)return null;if(!(f.left+f.width<u.x)&&(i.months[l].height,f.top<=u.y&&u.y<f.top+f.height))return l}return null},this.Sd=function(u){},this.Td=function(){if(!d.od())return void(i.Ud=i.cellWidth);var u=i.months[0].cells[0][0],l=u.clientWidth;i.Ud=l,i.months.forEach(function(f){f.width=f.div.clientWidth,i.orientation==="Horizontal"&&(f.left=f.div.offsetLeft),f.cells.forEach(function(m,p){m.forEach(function(x,b){x.width=l,x.left=p*l})})})},this.Vd=function(u){i.Td();var l=t.mo3(i.nav.top,u),f=i.Rd(l);if(f===null)return null;var m=i.months[f],p=this.titleHeight+this.dayHeaderHeight;if(m.top<=l.y&&l.y<m.top+p)return{month:f,x:0,y:0,coords:l,header:!0};for(var x=0;x<m.cells.length;x++)for(var b=0;b<m.cells[x].length;b++){var h=m.cells[x][b],y=h.top+m.top,w=h.left+m.left;if(w<=l.x&&l.x<w+i.Ud&&y<=l.y&&l.y<y+i.cellHeight)return{month:f,x,y:b,coords:l}}return null},this.Wd=function(u){if(i.freeHandSelectionEnabled){var l=i.Vd(u);l&&!l.header&&(o.start=l),i.months[l.month].cells[l.x][l.y],u.preventDefault()}},this.Xd=function(u){if(o.start){var l=i.Vd(u);if(o.end)o.end=l;else if(l){var f=3,m=t.distance(o.start.coords,l.coords);m>f&&(o.end=l)}o.end&&(o.clear(),o.draw())}},this.Yd={};var o=this.Yd;o.start=null,o.drawCell=function(u){var l=i.months[u.month],f=i.Bd(u.x,u.y),m=l.top+f.y,p=l.left+f.x,x="px",b=i.vd();if(d.od()){var h=i.orientation==="Horizontal"?i.showMonths:1;p=l.leftPct+f.x/h,x="%",b=i.vd(1/h)}var y=document.createElement("div");y.style.position="absolute",y.style.left=p+x,y.style.top=m+"px",y.style.height=i.cellHeight+"px",y.style.width=b,y.style.backgroundColor="#ccc",y.style.opacity=.5,y.style.cursor="default",i.nav.preselection.appendChild(y),o.cells.push(y)},o.clear=function(){if(o.cells){for(var u=0;u<o.cells.length;u++)i.nav.preselection.removeChild(o.cells[u]);o.cells=[]}},o.draw=function(){var u=o.ordered(),l=new c(u.start),f=u.end;if(f){if(f===o.end&&f.header&&f.month>0){f.month-=1;var m=i.months[f.month];f.x=6,f.y=m.rowCount-1}for(o.cells=[];!l.is(f);){l.visible()&&o.drawCell(l);var p=new c(l).next();if(!p)return;l.month=p.month,l.x=p.x,l.y=p.y}l.visible()&&o.drawCell(l)}},o.ordered=function(){var u=o.start,l=o.end,f={};return!l||new c(u).before(l)?(f.start=u,f.end=l):(f.start=l,f.end=u),f};var c=function(u,l,f){if(u instanceof c)return u;if(typeof u=="object"){var m=u;this.month=m.month,this.x=m.x,this.y=m.y}else this.month=u,this.x=l,this.y=f;this.is=function(p){return this.month===p.month&&this.x===p.x&&this.y===p.y},this.next=function(){var p=this;if(p.x<6)return{month:p.month,x:p.x+1,y:p.y};var x=i.months[p.month];return p.y<x.rowCount-1?{month:p.month,x:0,y:p.y+1}:p.month<i.months.length-1?{month:p.month+1,x:0,y:0}:null},this.visible=function(){var p=this.cell();return!!p.isCurrentMonth||!(!p.isPrevMonth||!p.showBefore)||!(!p.isNextMonth||!p.showAfter)},this.nextVisible=function(){for(var p=this;!p.visible();){var x=p.next();if(!x)return null;p=new c(x)}return p},this.previous=function(){var p=this;if(p.x>0)return{month:p.month,x:p.x-1,y:p.y};if(i.months[p.month],p.y>0)return{month:p.month,x:6,y:p.y-1};if(p.month>0){var x=i.months[p.month-1];return{month:p.month-1,x:6,y:x.rowCount-1}}return null},this.previousVisible=function(){for(var p=this;!p.visible();){var x=p.previous();if(!x)return null;p=new c(x)}return p},this.cell=function(){return i.months[this.month].cells[this.x][this.y]},this.date=function(){return this.cell().day},this.before=function(p){return this.date()<new c(p).date()}};this.Cd=function(u){var l=this.parentNode,f=this.parentNode.month,m=this.x,p=this.y,x=f.cells[m][p].day;if(f.cells[m][p].isClickable){i.clearSelection(),i.selectionDay=x;var x=i.selectionDay;switch(i.Ad()){case"none":i.selectionStart=x,i.selectionEnd=x;break;case"day":if(i.autoFocusOnClick){var b=x;if(x<i.Jd()||x>=i.Kd())return void i.select(x)}var h=f.cells[m][p];i.Dd(l,m,p),i.selected.push(h),i.selectionStart=h.day,i.selectionEnd=h.day;break;case"week":if(i.autoFocusOnClick){var b=f.cells[0][p].day,y=f.cells[6][p].day;if(b.firstDayOfMonth()===y.firstDayOfMonth()&&(b<i.Jd()||y>=i.Kd()))return void i.select(x)}for(var w=0;w<7;w++)i.Dd(l,w,p),i.selected.push(f.cells[w][p]);i.selectionStart=f.cells[0][p].day,i.selectionEnd=f.cells[6][p].day;break;case"month":if(i.autoFocusOnClick){var b=x;if(x<i.Jd()||x>=i.Kd())return void i.select(x)}for(var b=null,y=null,p=0;p<6;p++)for(var m=0;m<7;m++){var h=f.cells[m][p];h&&h.day.getYear()===x.getYear()&&h.day.getMonth()===x.getMonth()&&(i.Dd(l,m,p),i.selected.push(h),b===null&&(b=h.day),y=h.day)}i.selectionStart=b,i.selectionEnd=y;break;default:throw"unknown selectMode"}i.Gd(),i.O()}},this.O=function(u){var l=i.selectionStart,f=i.selectionEnd.addDays(1),m=t.DateUtil.daysDiff(l,f),p=i.selectionDay;if(u=u||{},i.ta()){var x={};if(x.start=l,x.end=f,x.day=p,x.days=m,x.mode=u.mode||i.selectMode,x.preventDefault=function(){this.preventDefault.value=!0},typeof i.onTimeRangeSelect=="function"&&(i.onTimeRangeSelect(x),x.preventDefault.value))return;switch(i.timeRangeSelectedHandling){case"Bind":if(typeof bound=="object"){var b={};b.start=l,b.end=f,b.days=m,b.day=p,bound.commandCallBack(i.command,b)}break;case"None":break;case"PostBack":i.timeRangeSelectedPostBack(l,f,p)}typeof i.onTimeRangeSelected=="function"&&i.onTimeRangeSelected(x)}else switch(i.timeRangeSelectedHandling){case"Bind":if(typeof bound=="object"){var b={};b.start=l,b.end=f,b.days=m,b.day=p,bound.commandCallBack(i.command,b)}break;case"JavaScript":i.onTimeRangeSelected(l,f,p);break;case"None":break;case"PostBack":i.timeRangeSelectedPostBack(l,f,p)}},this.timeRangeSelectedPostBack=function(u,l,f,m){var p={};p.start=u,p.end=l,p.day=m,this.S("TimeRangeSelected",f,p)},this.xd=function(u){i.Zd(i.skipMonths)},this.wd=function(u){i.Zd(-i.skipMonths)},this.Zd=function(u){this.startDate=this.startDate.addMonths(u),this.fd(),this.nd(),this.Ld(),this.Gd(),this.Md(),this.Fd()},this.Jd=function(){return i.startDate.firstDayOfMonth()},this.Kd=function(){return i.startDate.firstDayOfMonth().addMonths(this.showMonths)},this.visibleStart=function(){return i.startDate.firstDayOfMonth().firstDayOfWeek(d.weekStarts())},this.visibleEnd=function(){return i.startDate.firstDayOfMonth().addMonths(this.showMonths-1).firstDayOfWeek(d.weekStarts()).addDays(42)},this.Md=function(){var u=this.visibleStart(),l=this.visibleEnd();if(i.ta()){var f={};if(f.start=u,f.end=l,f.preventDefault=function(){this.preventDefault.value=!0},typeof i.onVisibleRangeChange=="function"&&(i.onVisibleRangeChange(f),f.preventDefault.value))return;switch(this.visibleRangeChangedHandling){case"CallBack":this.visibleRangeChangedCallBack(null);break;case"PostBack":this.visibleRangeChangedPostBack(null);break}typeof i.onVisibleRangeChanged=="function"&&i.onVisibleRangeChanged(f)}else switch(this.visibleRangeChangedHandling){case"CallBack":this.visibleRangeChangedCallBack(null);break;case"PostBack":this.visibleRangeChangedPostBack(null);break;case"JavaScript":this.onVisibleRangeChanged(u,l);break}},this.visibleRangeChangedCallBack=function(u){var l={};this.U("Visible",u,l)},this.visibleRangeChangedPostBack=function(u){var l={};this.S("Visible",u,l)},this.W=function(f,l){var f=JSON.parse(f);i.items=f.Items,i.cells=f.Cells,i.cells?i.update():i.Fd()},this.Ld=function(){this.showToday&&this.todayPosition==="Top"&&this.$d();for(var u=0;u<this.showMonths;u++){var l=this._d(u);this.gd(u,l)}this.showToday&&this.todayPosition==="Bottom"&&this.$d(),this.root.style.height=this.ae()+"px",this.nav.preselection=document.createElement("div"),this.nav.preselection.style.position="absolute",this.nav.preselection.style.left="0px",this.nav.preselection.style.right="0px",this.nav.preselection.style.top="0px",this.root.appendChild(this.nav.preselection)},this.$d=function(){if(this.showToday){var u=document.createElement("span");u.className=this.L("_todaysection_button"),this.todayHtml?u.innerHTML=this.todayHtml:u.innerText=this.todayText,u.onclick=function(){if(typeof i.onTodayClick=="function"){var f={};if(f.preventDefault=function(){this.preventDefault.value=!0},i.onTodayClick(f),f.preventDefault.value)return}i.select(t.Date.today())};var l=document.createElement("div");l.style.height=this.todayHeight+"px",l.className=this.L("_todaysection"),l.appendChild(u),this.root.appendChild(l)}},this.ae=function(){var u=0;if(this.showToday&&(u+=this.todayHeight),this.orientation==="Horizontal"){for(var l=0;l<this.months.length;l++){var f=this.months[l];f.height>u&&(u=f.height)}return u}for(var l=0;l<this.months.length;l++){var f=this.months[l];u+=f.height}return u},this._d=function(u){if(this.internal.showLinks)return this.internal.showLinks;var l={};return l.left=u===0,l.right=u===0,l.before=u===0,l.after=u===this.showMonths-1,this.orientation==="Horizontal"&&(l.right=u===this.showMonths-1),l},this.wa={},this.wa.scope=null,this.wa.notify=function(){i.wa.scope&&i.wa.scope.$apply()},this.Sa={},this.Sa.Ra=null,this.Sa.Ob=function(u,l,f){var m=i.Sa.Ra;if(typeof m.createVNode=="function"&&typeof m.render=="function"){var p=m.createVNode(u,f);m.render(p,l)}},this.Sa.Wa=function(u,l){var f=i.Sa.Ra;if(typeof f.render=="function"){var m=u;t.isArray(u)&&(m=f.h("div",null,u)),f.render(m,l)}},this.Sa.Ua=function(u){var l=i.Sa.Ra;typeof l.render=="function"&&l.render(null,u)},this.internal={},this.internal.loadOptions=i.ub,this.internal.initialized=function(){return i.Ma},this.internal.enableVue=function(u){i.Sa.Ra=u},this.internal.vueRef=function(){return i.Sa.Ra},this.internal.vueRendering=function(){return i.Sa.Ta},this.internal.upd=function(u){i.Nd(u)},this.ca={};var d=this.ca;d.locale=function(){return t.Locale.find(i.locale)},d.weekStarts=function(){if(i.weekStarts==="Auto"){var u=d.locale();return u?u.weekStarts:0}return i.weekStarts},d.cellWidth=function(){if(i.zb.cellWidth)return i.zb.cellWidth;var u=i.be("_cell_dimensions").width;return u||(u=i.cellWidth),i.zb.cellWidth=u,u},d.od=function(){return i.ca.cellWidth()==="Auto"},this.clearSelection=function(){for(var u=0;u<this.selected.length;u++){var l=this.selected[u];i.Ed(l.parentNode,l.x,l.y)}this.selected=[]},this.ce=function(){return!!this.backendUrl&&(typeof i.items>"u"||!i.items)},this.events={},this.ha=function(){if(t.isArray(this.events.list)){this.items={};for(var u=0;u<this.events.list.length;u++){var l=this.events.list[u];if(!l.hidden){var f=this.ee(l);for(var m in f)this.items[m]=1}}}},this.be=function(u){var l=document.createElement("div");l.style.position="absolute",l.style.top="-2000px",l.style.left="-2000px",l.className=this.L(u);var f=i.root||document.body;f.appendChild(l);var m=l.offsetHeight,p=l.offsetWidth;f.removeChild(l);var x={};return x.height=m,x.width=p,x},this.ee=function(u){for(var l=new t.Date(u.start),f=new t.Date(u.end),m={},p=l.getDatePart();p.getTime()<=f.getTime();)m[p.toStringSortable()]=1,p=p.addDays(1);return m},this.show=function(){i.visible=!0,i.root.style.display=""},this.hide=function(){i.visible=!1,i.root.style.display="none"},this.yb=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if(typeof this.id!="string")throw"DayPilot.Navigator() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Navigator: The placeholder element not found: '"+s+"'."}this.root=this.nav.top},this.init=function(){if(this.yb(),!this.root.dp){if(this.Hd(),this.nd(),this.Ld(),this.ha(),this.Fd(),this.aa(),this.fe(),this.rb(),this.ce()&&this.Md(),this.Ma=!0,this.xb(),this.Id){var u=this.Id;this.select(u.date1,u.date2,u.options),this.Id=null}return this}},this.fe=function(){i.nav.top.onmousedown=this.Wd,i.nav.top.onmousemove=this.Xd},this.rb=function(){t.re(document,"mouseup",i.ge)},this.ge=function(u){if(o.start&&o.end){var l=t.mo3(i.nav.top,u);if(l.x===o.start.coords.x&&l.y===o.start.coords.y)return o.start=null,void o.clear();o.clear();var f=o.ordered();f.start=new c(f.start).nextVisible(),f.end=new c(f.end).previousVisible(),i.selectionDay=new c(f.start).date(),i.selectionStart=i.selectionDay,i.selectionEnd=new c(f.end).date(),o.start=null,o.end=null,i.fd(),i.nd(),i.Ld(),i.Fd(),i.Gd(),i.O({mode:"FreeHand"})}o.start=null,o.end=null},this.dispose=function(){var u=i;u.root&&(u.root.removeAttribute("style"),u.root.removeAttribute("class"),u.root.dp=null,u.root.innerHTML=null,u.root=null,u.Q=!0)},this.disposed=function(){return this.Q},this.aa=function(){this.root.dispose=this.dispose},this.Init=this.init,this.ub(a)},typeof jQuery<"u"&&(function(s){s.fn.daypilotNavigator=function(a){var i=null,o=this.each(function(){if(!this.daypilot){var c=new t.Navigator(this.id);this.daypilot=c;for(var d in a)c[d]=a[d];c.Init(),i||(i=c)}});return this.length===1?i:o}})(jQuery),(function(){var s=t.am();s&&s.directive("daypilotNavigator",["$parse",function(a){return{restrict:"E",template:"<div id='{{id}}'></div>",compile:function(i,o){return i.replaceWith(this.template.replace("{{id}}",o.id)),function(c,d,u){var l=new t.Navigator(d[0]);l.wa.scope=c,l.init();var f=u.id;f&&(c[f]=l);var m=u.publishAs;m&&(0,a(m).assign)(c,l);for(var p in u)if(p.indexOf("on")===0){var x=t.Util.shouldApply(p);x?(function(w){l[w]=function(S){var N=a(u[w]);c.$apply(function(){N(c,{args:S})})}})(p):(function(w){l[w]=function(S){a(u[w])(c,{args:S})}})(p)}var b=c.$watch,h=u.config||u.daypilotConfig,y=u.events||u.daypilotEvents;b.call(c,h,function(w,S){for(var N in w)l[N]=w[N];l.update()},!0),b.call(c,y,function(w){l.events.list=w,l.ha(),l.Fd()},!0)}}}}])})(),t.Navigator.def={},typeof Sys<"u"&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}})(e),typeof e>"u")var e={};return typeof e.Global>"u"&&(e.Global={}),(function(t){function r(d){var u=d.touches[0].pageX,l=d.touches[0].pageY,f={};return f.x=u,f.y=l,f}if(typeof t.Scheduler>"u"){var s=navigator.userAgent.indexOf("iPad")>-1||navigator.userAgent.indexOf("iPhone")>-1,a={},i=function(){},o=function(){return document.body},c=function(){return document.createElement("div")};t.Scheduler=function(d,u){this.v="2025.3.710-lite";var l=this;this.isScheduler=!0,this.id=d,this.beforeCellRenderCaching=!0,this.businessBeginsHour=9,this.businessEndsHour=18,this.businessWeekends=!1,this.cellDuration=60,this.cellGroupBy="Day",this.cellSweeping=!0,this.cellSweepingCacheSize=1e3,this.cellWidth=40,this.cellsMarkBusiness=!0,this.cssClassPrefix="scheduler_default",this.days=1,this.durationBarHeight=3,this.durationBarVisible=!0,this.dynamicEventRendering="Progressive",this.dynamicEventRenderingMargin=50,this.dynamicEventRenderingMarginX=null,this.dynamicEventRenderingMarginY=null,this.dynamicEventRenderingCacheSweeping=!1,this.dynamicEventRenderingCacheSize=200,this.eventBorderRadius=null,this.eventEndSpec="DateTime",this.eventHeight=35,this.eventMinWidth=1,this.eventResizeMargin=5,this.eventTapAndHoldHandling="Move",this.eventTextWrappingEnabled=!1,this.eventsLoadMethod="GET",this.floatingEvents=!s,this.floatingTimeHeaders=!0,this.headerHeight=30,this.heightSpec="Max",this.height=600,this.locale="en-us",this.progressiveRowRendering=!0,this.progressiveRowRenderingPreload=25,this.rowHeaderWidth=80,this.rowMarginTop=0,this.rowMarginBottom=0,this.rowsLoadMethod="GET",this.scale="CellDuration",this.scrollDelayEvents=200,this.scrollDelayCells=s?100:0,this.scrollDelayFloats=0,this.scrollDelayRows=0,this.showToolTip=!0,this.snapToGrid=!0,this.startDate=t.Date.today(),this.tapAndHoldTimeout=300,this.timeHeaders=[{groupBy:"Default"},{groupBy:"Cell"}],this.timeHeaderTextWrappingEnabled=!1,this.timeFormat="Auto",this.useEventBoxes="Always",this.visible=!0,this.weekStarts="Auto",this.width=null,this.xssProtection="Enabled",this.eventClickHandling="Enabled",this.eventDeleteHandling="Disabled",this.eventMoveHandling="Update",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.timeHeaderClickHandling="Enabled",this.timeHeaderRightClickHandling="Enabled",this.timeRangeClickHandling="Enabled",this.timeRangeSelectedHandling="Enabled",this.onEventClick=null,this.onEventClicked=null,this.onEventMove=null,this.onEventMoved=null,this.onEventResize=null,this.onEventResized=null,this.onRowClick=null,this.onRowClicked=null,this.onTimeHeaderClick=null,this.onTimeHeaderClicked=null,this.onTimeHeaderRightClick=null,this.onTimeHeaderRightClicked=null,this.onTimeRangeClick=null,this.onTimeRangeClicked=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.onBeforeCellRender=null,this.onBeforeEventRender=null,this.onBeforeRowHeaderRender=null,this.onBeforeTimeHeaderRender=null,this.onAfterUpdate=null,this.Q=!1,this.he=-1,this.ie=!0,this.rowlist=[],this.events={},this.cells={},this.elements={},this.elements.events=[],this.elements.bars=[],this.elements.text=[],this.elements.cells=[],this.elements.linesVertical=[],this.elements.range=[],this.elements.timeHeader=[],this.zb={},this.zb.cells=[],this.zb.linesVertical={},this.zb.linesHorizontal={},this.zb.timeHeaderGroups=[],this.zb.timeHeader={},this.zb.events=[],this.nav={},this.scrollTo=function(h){l.je(h)},this.je=function(h){if(h){if(!l.Ma)return void(l.ke=h);var y;if(h instanceof t.Date)y=this.getPixels(h).left;else if(typeof h=="string")y=this.getPixels(new t.Date(h)).left;else{if(typeof h!="number")throw new t.Exception("Invalid scrollTo() parameter. Accepted parameters: string (ISO date), number (pixels), DayPilot.Date object");y=h}var w=l.le.clientWidth,S=l.nav.scroll.clientWidth;y<0&&(y=0),y>w-S&&(y=w-S),l.me(y)}},this.scrollToResource=function(h){t.complete(function(){var y;if(typeof h=="string"||typeof h=="number")y=l.ne(h);else{if(!(h instanceof t.Row))throw new t.Exception("Invalid scrollToResource() argument: id or DayPilot.Row expected");y=l.ne(h.id)}y&&setTimeout(function(){var w=y.top;l.nav.scroll.scrollTop=w},100)})},this.oe=function(){if(this.floatingTimeHeaders&&this.timeHeader){var h=l.pe();if(h){l.qe();for(var y=h.pixels.left,w=h.pixels.right+h.sw,S=[],N=0;N<this.timeHeader.length;N++)for(var _=0;_<this.timeHeader[N].length;_++){var k=this.timeHeader[N][_],E=k.left,T=k.left+k.width,D=null;if(E<y&&y<T&&(D={},D.x=_,D.y=N,D.marginLeft=y-E,D.marginRight=0,D.div=l.zb.timeHeader[_+"_"+N],S.push(D)),E<w&&w<T){D||(D={},D.x=_,D.y=N,D.marginLeft=0,D.div=l.zb.timeHeader[_+"_"+N],S.push(D)),D.marginRight=T-w;break}}for(var P=0;P<S.length;P++){var D=S[P];l.se(D.div,D.marginLeft,D.marginRight)}}}},this.te=function(){l.oe(),l.ve()},this.we={};var f=l.we;f.xe=function(h,y,w,S){var N=h,_=h+w,k=y,E=y+S;return l.elements.events.filter(function(T){var D=T.event,P=D.part.left,M=D.part.left+D.part.width,R=l.rowlist[D.part.dayIndex],B=R.top+D.part.top,L=B+l.eventHeight;if(t.Util.overlaps(P,M,N,_)&&t.Util.overlaps(B,L,k,E))return!0})},f.ye=function(){var h=[],y=l.pe();if(!y)return h;for(var w=y.pixels.left,S=0;S<l.elements.events.length;S++){var N=l.elements.events[S],_=N.event,k=_.part.left,E=_.part.left+_.part.width;k<w&&w<E&&h.push(N)}return h.area=y,h},this.ve=function(){if(this.floatingEvents){var h=f.ye();l.ze=performance.now(),h.forEach(function(y){var w=y.event,S=h.area.pixels.left,N=w.part.left,_=S-N;l.Ae(y,_,0)}),l.Be()}},this.elements.sections=[],this.elements.hsections=[],this.se=function(h,y,w){var S=c();S.className=l.L("_timeheader_float"),S.style.position="absolute",S.style.left=y+"px",S.style.right=w+"px",S.style.top="0px",S.style.bottom="0px",S.style.overflow="hidden";var N=c();N.className=l.L("_timeheader_float_inner");var _=h.cell.th;N.innerHTML=l.ab(_.text,_.html),_.fontColor&&(N.style.color=_.fontColor),S.appendChild(N),S.Ce={marginLeft:y,marginRight:w},h.section=S,h.insertBefore(S,h.firstChild.nextSibling),h.firstChild.innerHTML="",this.elements.hsections.push(h)},this.qe=function(){for(var h=0;h<this.elements.hsections.length;h++){var y=this.elements.hsections[h],w=y.cell;w&&y.firstChild&&(y.firstChild.innerHTML=l.ab(w.th.text,w.th.html)),t.de(y.section),y.section=null}this.elements.hsections=[]},this.Ae=function(h,y,w){var S=h.section;if(S)return S.Ce&&S.Ce.marginLeft===y&&S.Ce.marginRight===w?void(S.Ce.stamp=l.ze):(h.section.style.left=y+"px",h.section.style.right=w+"px",void(S.Ce={marginLeft:y,marginRight:w,stamp:l.ze}));S=c(),S.className=l.L("_event_float"),S.style.position="absolute",S.style.left=y+"px",S.style.right=w+"px",S.style.top="0px",S.style.bottom="0px",S.style.overflow="hidden";var N=c();N.className=l.L("_event_float_inner"),N.innerHTML=h.event.client.html(),S.appendChild(N),S.Ce={marginLeft:y,marginRight:w,stamp:l.ze},h.section=S,h.insertBefore(S,h.firstChild.nextSibling),h.firstChild.innerHTML="";var _=h.event,k=_.cache||_.data;k.fontColor&&(N.style.color=k.fontColor),this.elements.sections.push(h)},this.Be=function(){for(var h=[],y=0;y<this.elements.sections.length;y++){var w=this.elements.sections[y];if(w.section&&w.section.Ce&&w.section.Ce.stamp===l.ze)h.push(w);else{var S=w.event;S&&(w.firstChild.innerHTML=S.client.html()),t.de(w.section),w.section=null}}this.elements.sections=h},this.setScrollX=function(h){l.De.enabled?(l.De.scrollXRequested=h,setTimeout(function(){var y=l.De.scrollXRequested;typeof y=="number"&&l.me(y)},0)):l.me(h)},this.me=function(h){var y=l.nav.scroll,w=l.Ee();y.clientWidth+h>w&&(h=w-y.clientWidth),l.divTimeScroll.scrollLeft=h,y.scrollLeft=h},this.setScrollY=function(h){l.De.enabled?(l.De.scrollYRequested=h,setTimeout(function(){var y=l.De.scrollYRequested;typeof y=="number"&&l.Fe(y)},0)):l.Fe(h)},this.Fe=function(h){var y=l.nav.scroll,w=l.he;y.clientHeight+h>w&&(h=w-y.clientHeight),l.divResScroll.scrollTop=h,y.scrollTop=h},this.setScroll=function(h,y){l.setScrollX(h),l.setScrollY(y)},this.ma=function(){if(this.nav.scroll){(function(){var _=l.Ee();l.le.style.height=l.he+"px",l.le.style.width=_+"px",_>l.nav.scroll.clientWidth?l.nav.scroll.style.overflowX="auto":l.nav.scroll.style.overflowX="hidden"})();var h=1;this.nav.scroll.style.height="30px";var y=this.Za(),w=y+this.Ge()+h;if(y>=0&&(this.nav.scroll.style.height=y+"px",this.He.style.height=y+"px"),this.nav.divider&&((!w||isNaN(w)||w<0)&&(w=0),this.nav.divider.style.height=w+"px"),this.nav.top.style.height=w+"px",l.nav.resScrollSpace){var S=30;l.heightSpec==="Auto"&&(S=t.sh(l.nav.scroll)),l.nav.resScrollSpace.style.height=S+"px"}for(var N=0;N<this.elements.linesVertical.length;N++)this.elements.linesVertical[N].style.height=this.he+"px"}},this.Ie=function(){this.startDate=new t.Date(this.startDate).getDatePart(),this.timeHeader=[];var h=this.timeHeaders;h||(h=[{groupBy:this.cellGroupBy},{groupBy:"Cell"}]);for(var y=l.startDate.addDays(l.days),w=0;w<h.length;w++){var S=h[w].groupBy,N=h[w].format;S==="Default"&&(S=this.cellGroupBy);for(var _=[],k=l.startDate;k.ticks<y.ticks;){var E={};if(E.start=k,E.end=this.Je(E.start,S),E.start.ticks===E.end.ticks)break;E.left=this.getPixels(E.start).left;var T=this.getPixels(E.end).left,D=T-E.left;if(E.width=D,typeof N=="string"?E.text=E.start.toString(N,b.Ke()):E.text=this.Le(E,S),D>0){if(typeof this.onBeforeTimeHeaderRender=="function"){const P={};P.start=E.start,P.end=E.end,P.text=E.text,P.html=null,P.toolTip=l.ab(E.text),P.backColor=null,P.fontColor=null,P.level=this.timeHeader.length,P.cssClass=null;const M={};M.header=P,M.control=l,this.onBeforeTimeHeaderRender(M),E.text=P.text,E.html=P.html,E.backColor=P.backColor,E.fontColor=P.fontColor,E.toolTip=P.toolTip,E.areas=P.areas,E.cssClass=P.cssClass}_.push(E)}k=E.end}this.timeHeader.push(_)}},this.getPixels=function(h){var y=l.startDate.addDays(l.days);h=h.ticks>y.ticks?y.addTime(-1):h;var w=h.ticks-this.startDate.ticks,S=l.Cb(w),N=l.cellWidth,_=Math.floor(S/N),k=_*N;return{left:S,boxLeft:k,boxRight:k+N,i:_}},this.getDate=function(h,y,w){var S=this.Me(h,w);if(!S)return null;var N=S.x,_=l.Ne(N);if(!_)return null;var k=w&&!y?_.end:_.start;return y?k.addTime(this.Db(S.offset)):k},this.Me=function(h,y){y&&(h-=1);var w=Math.floor(h/l.cellWidth),S=l.Ne(w);if(!S)return null;var N={};return N.x=w,N.offset=h%l.cellWidth,N.cell=S,N},this.Oe=function(h){var y=h.ticks-this.startDate.ticks,w=60*l.Pe()*1e3;if(y<0)return{past:!0};var S=Math.floor(y/w);return{i:S,current:l.Ne(S)}},this.Cb=function(h){var y=60*l.Pe()*1e3,w=l.cellWidth;return Math.floor(w*h/y)},this.Db=function(h){var y=60*l.Pe()*1e3,w=l.cellWidth;return Math.floor(h/w*y)},this.Qe=function(h){t.Global.touch.start||a.Re||(l.Se={},l.va(this,h))},this.va=function(h,y){h.event&&l.Te(h,y)},this.xa=function(h){if(!t.Global.touch.active&&!t.Global.touch.start){var y=this.event;if(h.cancelBubble=!0,h.preventDefault(),!this.event.client.rightClickEnabled())return!1;l.Ue(h);var w={};if(w.e=y,w.div=this,w.originalEvent=h,w.preventDefault=function(){this.preventDefault.value=!0},typeof l.onEventRightClick=="function"&&(l.onEventRightClick(w),w.preventDefault.value))return!1;switch(l.eventRightClickHandling){case"ContextMenu":var S=y.client.contextMenu();S?S.show(y):l.contextMenu&&l.contextMenu.show(this.event)}return typeof l.onEventRightClicked=="function"&&l.onEventRightClicked(w),!1}},this.Ne=function(h){var y=l.Pe(),w=60*y*1e3;return{start:l.startDate.addTime(h*w),end:l.startDate.addTime((h+1)*w),left:h*l.cellWidth,width:l.cellWidth}},this.Te=function(h,y){if(typeof y=="boolean")throw new t.Exception("Invalid _eventClickSingle parameters");var w=h.event;if(w){var S=y.ctrlKey,N=y.metaKey;if(w.client.clickEnabled()){l.Ue(y);var _={};_.e=w,_.control=l,_.div=h,_.originalEvent=y,_.ctrl=S,_.meta=N,_.shift=y.shiftKey,_.preventDefault=function(){this.preventDefault.value=!0},_.toJSON=function(){return t.Util.copyProps(_,{},["e","ctrl","meta","shift"])},typeof l.onEventClick=="function"&&(l.onEventClick(_),_.preventDefault.value)||typeof l.onEventClicked=="function"&&l.onEventClicked(_)}}},this.ya=function(h){var y={};if(y.e=h,y.preventDefault=function(){this.preventDefault.value=!0},y.control=l,y.toJSON=function(){return t.Util.copyProps(y,{},["e"])},typeof l.onEventDelete!="function"||(l.onEventDelete(y),!y.preventDefault.value)){switch(l.eventDeleteHandling){case"Update":l.events.remove(h)}typeof l.onEventDeleted=="function"&&l.onEventDeleted(y)}},this.getScrollX=function(){return this.nav.scroll.scrollLeft},this.getScrollY=function(){return this.nav.scroll.scrollTop},this.K=function(h,y,w,S){if(this.eventResizeHandling!=="Disabled"){w=l.Ve(w);var N={};N.e=h,N.async=!1,N.loaded=function(){_()},N.newStart=y,N.newEnd=w,N.what=S,N.preventDefault=function(){this.preventDefault.value=!0},N.control=l,N.toJSON=function(){return t.Util.copyProps(N,{},["e","async","newStart","newEnd"])};var _=function(){if(!N.preventDefault.value){switch(N.loaded={},y=N.newStart,w=N.newEnd,l.eventResizeHandling){case"Update":l.We(N)}typeof l.onEventResized=="function"&&l.onEventResized(N)}};typeof l.onEventResize=="function"&&l.onEventResize(N),N.async||_()}},this.sb=function(h){h=h||{},clearTimeout(l.Xe),l.timeHeader=null,l.cellProperties={},l.Ie(),l.Ye(),l.events.Ze(),l.ca.Od(),l.clearSelection(),l.ha(),l.$e(),l._e(),l.tb(),l.af(),l.bf(),l.cf(),l.ia(),l.Y(),l.df(),l.ef={},l.ff(),l.ma(),l.gf(),h.immediateEvents?l.na():setTimeout(function(){l.na()},100),this.visible?l.ie!==l.visible&&this.show():this.hide(),this.ie=this.visible,this.te(),l.hf(),this.if()},this.if=function(){if(typeof l.onAfterUpdate=="function"){var h={};l.onAfterUpdate(h)}},this.update=function(h){if(!l.Ma)throw new t.Exception("You are trying to update a DayPilot.Scheduler object that hasn't been initialized.");if(l.Q)throw new t.Exception("You are trying to update a DayPilot.Scheduler object that has been disposed already. Calling .dispose() destroys the object and makes it unusable.");m.request(h)};var m={};m.timeout=null,m.options=null,m.enabled=!1,m.request=function(h){m.enabled?(clearTimeout(m.timeout),m.jf(h),m.timeout=setTimeout(m.doit)):(m.jf(h),m.doit())},m.jf=function(h){if(h){m.options||(m.options={});for(var y in h)m.options[y]=h[y]}},m.doit=function(){var h=m.options;return m.options=null,l.Ma?(l.ub(h),l.sb({immediateEvents:!0}),void l.xb()):void l.ub(h)},this.kf=function(h){h.forEach(function(y){l.lf(y.index)})},this.mf=function(h){return h&&h.length!==0?h[0].isRow?h:h.map(function(y){return l.rowlist[y]}):[]},this.nf=function(h,y,w){h=t.ua(h),h=l.mf(h),l.kf(h),this.of?(this.$e(),this.bf(),this.df(),h.forEach(function(S){l.pf(S.index)}),h.forEach(function(S){l.qf(S.index)}),this.gf(),this.rf()):(h.forEach(function(S){y||l.pf(S.index),l.qf(S.index)}),h.forEach(function(S){l.sf(S.index)}),l.gf()),l.ve(),w&&w(),this.ff()},this.Ve=function(h){return l.eventEndSpec==="DateTime"?h:h.getDatePart().ticks===h.ticks?h.addDays(-1):h.getDatePart()},this.tf=function(h){return l.eventEndSpec==="DateTime"?h:h.getDatePart().addDays(1)},this.uf=function(h){return l.eventEndSpec==="DateTime"?h:h.getDatePart()},this.M=function(h,y,w,S,N){if(l.vf=null,l.eventMoveHandling!=="Disabled"){w=l.Ve(w);var _={};_.e=h,_.newStart=y,_.newEnd=w,_.newResource=S,_.ctrl=!1,_.meta=!1,_.shift=!1,N&&(_.shift=N.shiftKey,_.ctrl=N.ctrlKey,_.meta=N.metaKey),_.control=l,_.areaData=t.Global.movingAreaData,_.toJSON=function(){return t.Util.copyProps(_,{},["e","newStart","newEnd","newResource","ctrl","meta","shift"])},_.preventDefault=function(){this.preventDefault.value=!0};var k=function(){if(_.loaded=function(){},_.preventDefault.value)return void l.wf();switch(y=_.newStart,w=_.newEnd,l.eventMoveHandling){case"Update":l.We(_)}l.wf(),typeof l.onEventMoved=="function"&&l.onEventMoved(_)};_.async=!1,_.loaded=function(){k()},typeof l.onEventMove=="function"&&l.onEventMove(_),_.async||k()}},this.We=function(h){var y=h.e,w=h.newStart,S=h.newEnd,N=h.newResource;y.start(w),y.end(S),y.resource(N),l.events.update(y),l.events.xf()},this.yf=function(h){if(h)if(h.args)l.O(h.args.start,h.args.end,h.args.resource);else{var y=l.zf(h);if(!y)return;l.O(y.start,y.end,y.resource)}},this.O=function(h,y,w){if(l.timeRangeSelectedHandling!=="Disabled"){var S=y;y=l.Ve(S);var N={};if(N.control=l,N.start=h,N.end=y,N.resource=w,N.preventDefault=function(){this.preventDefault.value=!0},N.toJSON=function(){return t.Util.copyProps(N,{},["start","end","resource"])},typeof l.onTimeRangeSelect=="function"){if(l.onTimeRangeSelect(N),N.preventDefault.value)return;h=N.start,y=N.end}y=l.tf(y),l.Af(l.Bf,h,y),l.Cf(l.Bf),typeof l.onTimeRangeSelected=="function"&&l.onTimeRangeSelected(N)}},this.Af=function(h,y,w){if(h){var S,N=w;y.getTime()<l.startDate.getTime()?(h.start.x=0,h.start.time=l.startDate.getTime()):(S=l.Oe(y),h.start.x=S.i,h.start.time=y);var _=l.startDate.addDays(l.days);N.getTime()>_.getTime()?(h.end.x=l.Df(),h.end.time=_.getTime()):(S=l.Oe(N.addMilliseconds(-1)),h.end.x=S.i,h.end.time=w)}},this.Ef=function(h,y){l.Ff(h,y)},this.Ff=function(h,y){var w={};w.resource=h,w.row=h,w.ctrl=y.ctrlKey,w.shift=y.shiftKey,w.meta=y.metaKey,w.originalEvent=y,w.preventDefault=function(){this.preventDefault.value=!0},typeof l.onRowClick=="function"&&(l.onRowClick(w),w.preventDefault.value)||typeof l.onRowClicked=="function"&&l.onRowClicked(w)},this.Gf=function(h){var y={};y.header=h,y.control=l,y.preventDefault=function(){this.preventDefault.value=!0},typeof l.onTimeHeaderClick=="function"&&(l.onTimeHeaderClick(y),y.preventDefault.value)||typeof l.onTimeHeaderClicked=="function"&&l.onTimeHeaderClicked(y)},this.getViewport=function(){var h=this.nav.scroll.scrollLeft,y=this.nav.scroll.scrollTop,w={},S=l.Hf(h,y),N=l.If(S),_=l.Ne(S.start.x),k=l.Ne(S.end.x);return w.start=l.getDate(h,!0),w.end=l.getDate(h+l.nav.scroll.clientWidth,!0,!0),w.resources=N,_&&(w.topLeft={start:_.start,end:_.end,x:S.start.x,y:S.start.y,resource:N[0]}),k&&(w.bottomRight={start:k.start,end:k.end,x:S.end.x,y:S.end.y,resource:N[N.length-1]}),w.rows=function(){return w.resources.map(function(E){return l.rows.find(E)})},w.events=function(){var E=[];return w.rows().forEach(function(T){E=E.concat(T.events.forRange(w.start,w.end))}),E},w},this.Hf=function(h,y){var w={};w.start={},w.end={};var S=l.Me(h),N=l.Me(h+l.nav.scroll.clientWidth);S&&(w.start.x=S.x),N&&(w.end.x=N.x);var _=y,k=y+l.nav.scroll.clientHeight;w.start.y=l.Jf(_).i,w.end.y=l.Jf(k).i,w.start.x=t.Util.atLeast(w.start.x,0);var E=l.Df();return w.end.x>=E&&(w.end.x=E-1),w},this.If=function(h){h||(h=this.Hf(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop));var y=[];y.ignoreToJSON=!0;for(var w=h.start.y;w<=h.end.y;w++){var S=l.rowlist[w];S&&y.push(S.id)}return y},this.L=function(h){var y=this.theme||this.cssClassPrefix;return y?y+h:""},this.tb=function(){l.nav.top.className!==l.L("_main")&&(l.nav.top.className=l.L("_main"),l.nav.dh1.className=l.L("_divider_horizontal"),l.nav.dh2.className=l.L("_divider_horizontal"),l.divResScroll.className=l.L("_rowheader_scroll"),l.nav.divider.className=l.L("_divider")+" "+l.L("_splitter"),l.nav.scroll.className=l.L("_scrollable"),l.le.className=l.L("_matrix")+" "+l.L("_grid_main"))},this.aa=function(){this.nav.top.dispose=this.dispose},this.dispose=function(){var h=l;if(h.Ma&&!h.Q){h.Q=!0;for(var y in h.Kf){var w=h.Kf[y];t.isArray(w)?w.forEach(function(S){clearTimeout(S)}):clearTimeout(w)}h.Y(),h.divCells=null,h.divCorner=null,h.divEvents=null,h.divHeader&&(h.divHeader.rows=null),h.divHeader=null,h.divLines=null,h.divNorth=null,h.divRange=null,h.divResScroll=null,h.divStretch=null,h.divTimeScroll=null,h.He=null,h.le.calendar=null,h.le=null,h.nav.top.onmousemove=null,h.nav.top.onmouseout=null,h.nav.top.dispose=null,h.nav.top.ontouchstart=null,h.nav.top.ontouchmove=null,h.nav.top.ontouchend=null,h.nav.top.removeAttribute("style"),h.nav.top.removeAttribute("class"),h.nav.top.innerHTML="",h.nav.top.dp=null,h.nav.top=null,h.nav.scroll.onscroll=null,h.nav.scroll.root=null,h.nav.scroll=null,a.sc(h),p=null}},this.disposed=function(){return l.Q},this.ba=function(h){var y=null;y=h.nodeType?h.event:h;var w=l.eventBorderRadius;typeof w=="number"&&(w+="px");var S=l.Lf(y),N=l.rowlist,_=l.eventHeight,k=y.part&&y.part.top&&N[y.part.dayIndex]?y.part.top+N[y.part.dayIndex].top:S.top,E=S.left,T=S.width,D=document.createElement("div");D.style.position="absolute",D.style.width=T+"px",D.style.height=_+"px",D.style.left=E+"px",D.style.top=k+"px",D.style.overflow="hidden";var P=c();return D.appendChild(P),D.className=this.L("_shadow"),P.className=this.L("_shadow_inner"),w&&(D.style.borderRadius=w,P.style.borderRadius=w),l.divShadow.appendChild(D),D.calendar=l,D},this.Jf=function(h){for(var y,w=l.rowlist,S={},N=0,_=0,k=w.length,E=0;E<k;E++){var T=w[E];if(_+=T.height,N=_-T.height,y=T,S.top=N,S.bottom=_,S.i=E,S.element=y,h<_)break}return S},this.Mf=function(h){if(h>this.rowlist.length-1)throw new t.Exception("Row index too high");for(var y=0,w=0;w<=h;w++)y+=this.rowlist[w].height;var S=this.rowlist[h];return{top:y-S.height,height:S.height,bottom:y,i:h,data:S}},this.events.find=function(h){if(!l.events.list||typeof l.events.list.length>"u")return null;if(typeof h=="function")return l.Nf(h);for(var y=l.events.list.length,w=0;w<y;w++)if(l.events.list[w].id===h)return new t.Event(l.events.list[w],l);return null},this.events.findAll=function(h){if(typeof h=="function"){for(var y=l.events.list.length,w=[],S=0;S<y;S++){var N=new t.Event(l.events.list[S],l);h(N)&&w.push(N)}return w}if(typeof h=="object")return l.events.findAll(function(_){for(var k in h)if(h[k]!==_.data[k])return!1;return!0});throw new t.Exception("function or object argument expected")},this.Nf=function(h){for(var y=l.events.list.length,w=0;w<y;w++){var S=new t.Event(l.events.list[w],l);if(h(S))return S}return null},this.events.focus=function(h){var y=l.Of(h);y&&y.focus()},this.events.scrollIntoView=function(h){if(l.Of(h)){var y=h.start(),w=l.getViewport();!t.Util.overlaps(w.start,w.end,h.start(),h.end())&&t.Util.overlaps(l.sa(),l.Pf(),h.start(),h.end())&&l.scrollTo(y,"fast","middle");var S=h.resource();l.getViewport().resources.indexOf(S)===-1&&l.scrollToResource(S)}},this.events.all=function(){for(var h=[],y=0;y<l.events.list.length;y++){var w=new t.Event(l.events.list[y],l);h.push(w)}return h},this.events.forRange=function(h,y){h=h?new t.Date(h):l.visibleStart(),y=y?new t.Date(y):l.visibleEnd();for(var w=[],S=0;S<l.events.list.length;S++){var N=new t.Event(l.events.list[S],l);t.Util.overlaps(N.start(),N.end(),h,y)&&w.push(N)}return w},this.events.load=function(h,y,w){if(!h)throw new t.Exception("events.load(): 'url' parameter required");var S=function(E){var T={};T.exception=E.exception,T.request=E.request,typeof w=="function"&&w(T)},N=function(E){var T,D=E.request;try{T=JSON.parse(D.responseText)}catch(R){var P={};return P.exception=R,void S(P)}if(t.isArray(T)){var M={};if(M.preventDefault=function(){this.preventDefault.value=!0},M.data=T,typeof y=="function"&&y(M),M.preventDefault.value)return;l.events.list=M.data,l.Ma&&l.update()}};if(l.eventsLoadMethod&&l.eventsLoadMethod.toUpperCase()==="POST")t.ajax({method:"POST",contentType:"application/json",data:{start:l.visibleStart().toString(),end:l.visibleEnd().toString()},url:h,success:N,error:S});else{var _=h,k="start="+l.visibleStart().toString()+"&end="+l.visibleEnd().toString();_+=_.indexOf("?")>-1?"&"+k:"?"+k,t.ajax({method:"GET",url:_,success:N,error:S})}},this.events.Qf=function(h){var y=[];return l.rowlist.forEach(function(w){l.Rf(w.index);for(var S=0;S<w.events.length;S++){var N=w.events[S].data;if(l.Sf(N,h)){y.push(w),w.events.splice(S,1);break}}}),y},this.events.Tf=function(h){if(!h)return null;for(var y=l.rowlist,w=0;w<y.length;w++){var S=y[w];l.Rf(S.index);for(var N=0;N<S.events.length;N++){var _=S.events[N];if(l.Sf(_.data,h))return S.events[N]}}return null},this.events.Uf=function(h){var y=[],w=l.Vf(),S=t.indexOf(l.events.list,h);l.Ab(S);var N=l.rowlist,_=!1;return N.forEach(function(k){if(!_){l.Rf(k.index);var E=l.Wf(h,k);E&&(typeof l.onBeforeEventRender=="function"&&(E.cache=l.zb.events[S]),y.push(k),w||(_=!0))}}),y},this.Sf=function(h,y){return t.Util.isSameEvent(h,y)},this.events.update=function(h,y,w){if(typeof h=="object"&&!(h instanceof t.Event)){var S=l.events.find(h.id);return l.events.remove(S),void l.events.add(h)}if(l.events.list.find(function(_){return l.Sf(_,h.data)})){l.De.Xf&&(l.De.skip=!0);var N=l.events.Qf(h.data);h.commit(),N=N.concat(l.events.Uf(h.data)),l.events.Yf(N)}},this.events.remove=function(h){if(h){if(typeof h=="string"||typeof h=="number"){var y=l.events.find(h);return void l.events.remove(y)}var w=l.Zf(h.data);w&&l.events.list.splice(w.index,1),l.De.Xf&&(l.De.skip=!0);var S=l.events.Qf(h.data);l.events.Yf(S)}},this.events.add=function(h,y,S){var S=S||{},N=S.renderOnly;h instanceof t.Event||(h=new t.Event(h)),h.calendar=l,l.events.list||(l.events.list=[]);var _=l.Zf(h);if(N){if(!_)throw new t.Exception("Unexpected: event not found in list")}else{if(_)throw new t.Exception("The event you are trying to add using DayPilot.Scheduler.events.add() is already loaded. A unique ID is required.");_||l.events.list.push(h.data)}if(l.Ma){l.De.Xf&&(l.De.skip=!0);var k=l.events.Uf(h.data);l.events.Yf(k)}},this.events.$f=function(h){var y=h instanceof t.Event?h.data:h,w=new t.Date(y.start),S=new t.Date(y.end);return!!l.events.list.find(function(N){if(l.Sf(y,N)||y.resource!==N.resource)return!1;var _=new t.Date(N.start),k=new t.Date(N.end);return t.Util.overlaps(w,S,_,k)})},this.events._f={rows:[]},this.events.ag=null,this.events.Ze=function(){clearTimeout(l.events.ag),l.events.ag=null,l.events._f.rows=[]},this.events.bg=0,this.events.Yf=function(h){var y=l.events._f.rows;h.forEach(function(S){y.push(S)}),l.events._f.rows=t.ua(y);var w=l.events.xf;l.events.ag||(l.events.ag=setTimeout(w,l.events.bg))},this.events.xf=function(){clearTimeout(l.events.ag),l.events.ag=null;var h=l.events._f.rows;l.events._f.rows=[],l.cg(h),l.dg(),l.Ma&&(l.of&&l.$e(),l.ma(),l.nf(h))},this.De={},this.De.enabled=!1,this.De.skip=!1,this.De.skipUpdate=function(){return l.De.skip},this.De.skipped=function(){l.De.skip=!1},this.De.eg=!1,this.De.Xf=!1,this.ld={},this.ld.reactDOM=null,this.ld.react=null,this.fg=function(h){var y=l.startDate;if(h.ticks===y.ticks)return h;var w=y;if(h.ticks<y.ticks){for(;w.ticks>h.ticks;)w=w.addTime(60*-l.Pe()*1e3);return w}var S=this.Oe(h);if(S.current)return S.current.start;throw new t.Exception("getBoxStart(): time not found")},this.Lf=function(h){var y=this.Jf(l.coords.y);if(typeof h.end!="function")throw new t.Exception("e.end function is not defined");if(!h.end())throw new t.Exception("e.end() returns null");var w=t.DateUtil.diff(h.rawend(),h.start());w=t.Util.atLeast(w,1);var S=b.gg(w),N=0,_=l.coords.x;S&&(N=h.start().getTime()-this.fg(h.start()).getTime());var k=0;if(a.hg)if(S){var E=h.start(),T=this.fg(E);k=a.hg.getTime()-T.getTime();var D=60*l.Pe()*1e3;k=Math.floor(k/D)*D}else k=a.hg.getTime()-h.start().getTime();var P=this.getDate(_,!0).addTime(-k);a.ig&&(P=h.start());var M=l.snapToGrid;M&&(P=this.fg(P)),P=P.addTime(N);var R=P.addTime(w),B=P,L=R,$=this.getPixels(B),I=this.getPixels(L.addTime(-1)),z=M?$.boxLeft:$.left,H=M&&S?I.boxRight-z:I.left-z,Z={};return Z.top=y.top,Z.left=z,Z.row=y.element,Z.rowIndex=y.i,Z.width=H,Z.start=P,Z.end=R,Z.relativeY=l.coords.y-y.top,Z},this.Pe=function(){switch(this.scale){case"CellDuration":return this.cellDuration;case"Minute":return 1;case"Hour":return 60;case"Day":return 1440;case"Week":return 10080}throw new t.Exception("can't guess cellDuration value")},this.jg=function(h){return h.end.ticks-h.start.ticks},this.kg=function(){var h=a.lg.width,y=a.lg.left,w=a.mg,S=a.ig.dpBorder,N=null,_=null,k=l.snapToGrid,E=!k;S==="left"?(N=l.getDate(y,E),_=w.rawend()):S==="right"&&(N=w.start(),_=l.getDate(y+h,E,!0)),a.lg.start=N,a.lg.end=_},this.ng=function(){var h=l.coords,y=a.ig.dpBorder,w=a.ig.event,S=w.part.left;y==="right"&&(S+=w.part.width);var N,_,k=a.ig.event.calendar.cellWidth,E=w.part.width,T=w.part.left,D=0,P=h.x-S,M=l.snapToGrid;if(y==="right"){if(N=T,M){var R=l.Me(E+T+P).cell,B=l.Me(T).cell,L=B.left+B.width-T;_=R.left+R.width-T,_<L&&(_=L)}else _=E+P;var $=l.Ee();T+_>$&&(_=$-T),a.lg.left=T,a.lg.width=_,a.lg.style.left=T+"px",a.lg.style.width=_+"px"}else{if(y!=="left")throw new t.Exception("Invalid dpBorder.");M?(P>=E&&(P=E),N=Math.floor((T+P+0)/k)*k,N<D&&(N=D)):N=T+P,_=E-(N-T);var I=T+E,z=k;M?l.useEventBoxes==="Never"&&(z=E<k?E:1):z=1,_<z&&(_=z,N=I-_),a.lg.left=N,a.lg.width=_,a.lg.style.left=N+"px",a.lg.style.width=_+"px"}l.kg()},this.og=function(){if(l.coords&&a.pg){var h=a.qg,y=this.Lf(a.pg);h.row=y.row,h.style.height=t.Util.atLeast(y.row.height,0)+"px",h.style.top=y.top+"px",h.style.left=y.left+"px",h.style.width=y.width+"px",h.start=y.start,h.end=y.end}},this.rg=function(){return this.rowHeaderWidth},this.sg=function(){return this.tg(l.progressiveRowRenderingPreload)},this.tg=function(h){h=h||0;var y=0,w=l.rowlist.length;if(l.progressiveRowRendering){var S=l.pe();y=S.yStart,w=S.yEnd+1,y=t.Util.atLeast(0,y-h),w=Math.min(l.rowlist.length,w+h)}return{start:y,end:w}},this._e=function(){function h(){var _=l.divHeader;_&&(_.rows=[]);var k=_;k&&(k.innerHTML="")}this.ug=!0;var y=this.rg();h();var w=this.divHeader;if(w.style.width=y+"px",w.style.height=l.he+"px",l.divHeader=w,l.progressiveRowRendering)i();else for(var S=this.rowlist.length,N=0;N<S;N++)l.vg(N);l.wg(),this.divResScroll.appendChild(w)},this.xg=function(){if(l.progressiveRowRendering)for(var h=this.sg(),y=0;y<l.rowlist.length;y++)h.start<=y&&y<h.end?l.vg(y):l.yg(y)},this.wg=function(){if(!l.ca.zg()){var h=l.divHeader,S=c();S.style.position="absolute",h.appendChild(S),l.nav.resScrollSpace=S;var y=c();y.style.position="relative",y.style.height="100%",y.className=this.L("_rowheader"),S.appendChild(y);var w=this.rg(),S=l.nav.resScrollSpace;S.style.width=w+"px",S.style.top=this.he+"px"}},this.yg=function(h){var y=l.divHeader.rows[h];y&&(t.de(y),l.divHeader.rows[h]=null)},this.lf=function(h){this.yg(h),this.vg(h)},this.vg=function(h){var y=l.rowlist,w=l.divHeader;if(w&&!w.rows[h]){var S=this.rg(),N=y[h];if(N){var _=this.Ag(N),k=c();k.style.position="absolute",k.style.top=N.top+"px",w.rows[h]=k,k.row=N,k.index=h;var E=_.row,T=this.rowHeaderWidth;k.style.width=T+"px",k.style.border="0px none";var D=E.toolTip||E.toolTip;D&&(k.title=D),typeof E.ariaLabel<"u"?k.setAttribute("aria-label",E.ariaLabel):k.setAttribute("aria-label",E.text||""),k.onclick=l.Bg;var P=c();P.style.width=T+"px",P.className=this.L("_rowheader"),E.cssClass&&t.Util.addClass(P,E.cssClass),E.cssClass&&t.Util.addClass(P,E.cssClass);var M=E.backColor||E.backColor;M&&(P.style.background=M);var R=E.fontColor||E.fontColor;R&&(P.style.color=R);var B=E.horizontalAlignment||E.horizontalAlignment;B&&(P.style.textAlign=B),P.style.height=N.height+"px",P.style.overflow="hidden",P.style.position="relative";var L=c();switch(L.className=this.L("_rowheader_inner"),B){case"right":L.style.justifyContent="flex-end";break;case"left":L.style.justifyContent="flex-start";break;case"center":L.style.justifyContent="center"}P.appendChild(L);const V=E.areas||[];var $=l.Cg(N);t.Areas.attach(P,$,{areas:V});var I=c();I.style.position="absolute",I.style.bottom="0px",I.style.width="100%",I.style.height="0px",I.style.boxSizing="content-box",I.style.borderBottom="1px solid transparent",I.className=this.L("_resourcedivider"),P.appendChild(I);var z=c(),H=c();H.innerHTML=l.ab(E.text,E.html),H.className=l.L("_rowheader_inner_text"),k.textDiv=H,k.cellDiv=P,z.appendChild(H),L.appendChild(z);var Z=E.verticalAlignment||E.verticalAlignment;if(Z)switch(L.style.display="flex",Z){case"center":L.style.alignItems="center";break;case"top":L.style.alignItems="flex-start";break;case"bottom":L.style.alignItems="flex-end"}k.appendChild(P),w.appendChild(k),P.style.width=S+"px"}}},this.Bg=function(h){var y=this.row,w=l.Cg(y,this.index);l.Ef(w,h)},this.Dg=function(h){if(l.timeHeaderClickHandling!=="Disabled"){var y={};y.start=this.cell.start,y.level=this.cell.level,y.end=this.cell.end,y.end||(y.end=new t.Date(y.start).addMinutes(l.Pe())),l.Gf(y)}},this.Eg=function(h){if(l.timeHeaderRightClickHandling!=="Disabled"){h.cancelBubble=!0,h.preventDefault();var y={};y.start=this.cell.start,y.level=this.cell.level,y.end=this.cell.end,y.end||(y.end=new t.Date(y.start).addMinutes(l.Pe()));var w={};w.header=y,w.preventDefault=function(){this.preventDefault.value=!0},typeof l.onTimeHeaderRightClick=="function"&&(l.onTimeHeaderRightClick(w),w.preventDefault.value)||typeof l.onTimeHeaderRightClicked=="function"&&l.onTimeHeaderRightClicked(w)}},this.Cg=function(h){return new t.Row(h,l)},this.Rf=function(h){var y=l.rowlist,w=y[h];w.events||w.resetEvents()},this.Fg={},this.ha=function(h){if(h?this.events.list=h:this.events.list||(this.events.list=[]),this.events.list!=null&&!t.isArray(this.events.list))throw new t.Exception("DayPilot.Scheduler.events.list expects an array object");p.prepareRows(!0);var y,w=this.events.list,S=typeof this.onBeforeEventRender=="function";l.Fg={};for(var N=0;N<w.length;N++){var _=w[N];if(_){if(typeof _!="object")throw new t.Exception("Event data item must be an object");if(!_.start)throw new t.Exception("Event data item must specify 'start' property");if(_ instanceof t.Event)throw new t.Exception("DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.");if(!(typeof _.id=="string"||typeof _.id=="number"))throw new t.Exception("All events must have an id property (string or number)");var k="_"+_.id;if(l.Fg[k])throw new t.Exception("Duplicate event IDs are not allowed: "+k);l.Fg[k]=!0,S&&this.Ab(N),y=l.Gg(_.resource);for(var E=0;y&&E<y.length;E++){var T=y[E],D=this.Wf(_,T);D&&S&&(D.cache=this.zb.events[N])}}}l.rowlist.forEach(function(P){l.Hg(P)}),l.dg()},this.Ig={};var p=this.Ig;p.rowcache={},p.prepareRows=function(h){p.rowcache={};for(var y=l.rowlist,w=0;w<y.length;w++){var S=y[w];if(h&&S.resetEvents(),l.Rf(S.index),S.id){var N=typeof S.id+"_"+S.id;p.rowcache[N]||(p.rowcache[N]=[]),p.rowcache[N].push(S)}}},p.loadEvent=function(h){},this.Gg=function(h){var y=typeof h+"_"+h;return p.rowcache[y]||[]},this.Vf=function(){for(var h={},y=0;y<l.rowlist.length;y++){var w=l.rowlist[y],S=w.id;if(h[S])return!0;h[S]=!0}return!1},this.Ab=function(h){var y=this.zb.events,w=this.events.list[h],S={};w instanceof t.Event&&(w=w.data);for(var N in w)S[N]=w[N];if(typeof S.start=="string"&&(S.start=new t.Date(S.start)),typeof S.end=="string"&&(S.end=new t.Date(S.end)),typeof this.onBeforeEventRender=="function"){var _={};_.e=S,_.data=S,this.onBeforeEventRender(_)}y[h]=S},this.Hg=function(h){h.lines=[],h.sections=null,h.events.sort(this.Bb);for(var y=0;y<h.events.length;y++){var w=h.events[y];h.putIntoLine(w)}},this.cg=function(h){h=t.ua(h),h=l.mf(h),h.forEach(function(y){l.Hg(y)}),h.forEach(function(y){l.Jg(y)})},this.Wf=function(h,y){var w=new t.Date(h.start),S=new t.Date(h.end);S=l.tf(S);var N=w.ticks,_=S.ticks,k=l.startDate.ticks,E=l.startDate.addDays(l.days).ticks;if(_<N)return null;var T=null;if(typeof l.onBeforeEventRender=="function"){var D=t.indexOf(l.events.list,h);T=l.zb.events[D]}if(y.id!==h.resource||(_<=k||N>=E)&&(N!==_||N!==k))return null;var P=new t.Event(h,l);P.part.dayIndex=l.rowlist.indexOf(y),P.part.start=k<N?w:l.startDate,P.part.end=E>_?S:l.startDate.addDays(l.days);var M=this.getPixels(P.part.start),R=this.getPixels(P.part.end.addTime(-1));P.part.start===P.part.end&&(R=this.getPixels(P.part.end.addMilliseconds(1)));var B=M.left,L=R.left;if(b.gg(_-N)){var $=M.boxLeft,I=R.boxRight;P.part.left=$,P.part.width=I-$,P.part.barLeft=Math.max(B-P.part.left,0),P.part.barWidth=Math.max(L-B,1)}else P.part.left=B,P.part.width=Math.max(L-B,1),P.part.barLeft=0,P.part.barWidth=Math.max(L-B-1,1);var z=l.eventMinWidth;return P.part.width=Math.max(P.part.width,z),P.part.right=P.part.left+P.part.width,P.cache=T,y.events.push(P),P},this.Bb=function(h,y){if(!(h&&y&&h.start&&y.start))return 0;var w=h.start().ticks-y.start().ticks;return w!==0?w:y.end().ticks-h.end().ticks},this.rows={},this.rows.all=function(){for(var h=[],y=0;y<l.rowlist.length;y++){var w=l.Cg(l.rowlist[y]);h.push(w)}return h},this.rows.each=function(h){l.rows.all().forEach(h)},this.rows.forEach=function(h){l.rows.all().forEach(h)},this.rows.find=function(h,y){if(typeof h=="string"||typeof h=="number"||!h&&y){var w=l.Gg(h);h||(w=l.rowlist);var S=null;return typeof y=="string"||y instanceof t.Date?(y=new t.Date(y),S=w.find(function(k){return y===k.start})):S=w[0],S?new t.Row(S,l):null}if(typeof h!="function")throw new t.Exception("Invalid rows.find() argument: id or function expected");var N=y||0,_=l.rowlist.find(function(k,E){return!(E<N)&&h(l.Cg(k))});if(_)return l.Cg(_)},this.rows.load=function(h,y,w){if(!h)throw new t.Exception("rows.load(): 'url' parameter required");var S=function(_){var k={};k.exception=_.exception,k.request=_.request,typeof w=="function"&&w(k)},N=function(_){var k,E=_.request;try{k=JSON.parse(E.responseText)}catch(P){var T={};return T.exception=P,void S(T)}if(t.isArray(k)){var D={};if(D.preventDefault=function(){this.preventDefault.value=!0},D.data=k,typeof y=="function"&&y(D),D.preventDefault.value)return;l.resources=D.data,l.Ma&&l.update()}};l.rowsLoadMethod&&l.rowsLoadMethod.toUpperCase()==="POST"?t.ajax({method:"POST",url:h,success:N,error:S}):t.ajax({method:"GET",url:h,success:N,error:S})},this.rows.remove=function(h){if(typeof h=="number"||typeof h=="string"){var y=l.rows.find(h);if(!y)throw new t.Exception("The row to be removed was not found");return void l.rows.remove(y)}var w=h.$.row.resource,S=t.indexOf(l.resources,w);l.resources.splice(S,1),l.update()},this.rows.add=function(h){l.resources.push(h),l.sb()},this.rows.update=function(E){if(!(E instanceof t.Row||typeof E=="object"))throw new t.Exception("DayPilot.Scheduler.rows.update() expects a DayPilot.Row object or a data object.");if(!(E instanceof t.Row)){var y=E;if(E=l.rows.find(y.id),!E)return;E.data=y}var w=E.index,S=l.rowlist,N=S[w],_=E.data,k=l.Kg(_),E=l.Lg(k);E.level=N.level,E.index=w,E.top=N.top,E.height=N.height,S[w]=E,E.resetEvents(),l.Rf(E.index),l.Mg(E),l.Hg(E),l.lf(E.index),l.df(),l.gf()},this.Mg=function(h){for(var y=l.events.list,w=y.length,S=typeof l.onBeforeEventRender=="function",N=0;N<w;N++){var _=y[N];if(_){if(_ instanceof t.Event)throw new t.Exception("DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.");if(_.resource===h.id){S&&this.Ab(N);var k=this.Wf(_,h);k&&S&&(k.cache=this.zb.events[N])}}}},this.Ye=function(){var h=this.resources;if(h!=null&&!t.isArray(h))throw new t.Exception("DayPilot.Scheduler.resources expects an array object");h=h||[],l.rowlist=[],this.Ng(h)},this.sa=function(){return new t.Date(this.startDate)},this.Pf=function(){return new t.Date(l.startDate).addDays(l.days)},this.visibleStart=function(){return this.sa()},this.visibleEnd=function(){return this.Pf()},this.Lg=function(h){var y={};return y.backColor=h.backColor,y.fontColor=h.fontColor,y.cssClass=h.cssClass,y.name=h.name,y.html=l.ab(h.name,h.html),y.id=h.id,y.toolTip=h.toolTip,y.areas=h.areas,y.tags=h.tags,y.height=l.eventHeight,y.level=0,y.resource=h.Ce,y.lines=[],y.isRow=!0,y.getHeight=function(){return Math.max(l.eventHeight,this.lines.length*l.eventHeight)},y.resetEvents=function(){var w=this;w.events=[],w.events.forRange=function(S,N){S=new t.Date(S),N=N?new t.Date(N):l.startDate.addDays(l.days);for(var _=[],k=0;k<w.events.length;k++){var E=w.events[k],T=l.tf(E.end());t.Util.overlaps(E.start(),T,S,N)&&_.push(E)}return _}},y.Og=function(){var w=[];return w.add=function(S){this.push(S)},w.isFree=function(S,N,_){for(var k=S+N-1,E=this.length,T=0;T<E;T++){var D=this[T];if(!(k<D.part.left||S>D.part.left+D.part.width-1)){if(t.contains(_,D.data))continue;return!1}}return!0},w},y.findFreeLine=function(w,S){for(var N=0;N<this.lines.length;N++){var _=this.lines[N];if(_.isFree(w,S))return N}var _=y.Og();return this.lines.push(_),this.lines.length-1},y.putIntoLine=function(w){var S=y.findFreeLine(w.part.left,w.part.width);return this.lines[S].add(w),S},y},this.Ng=function(h){if(h){for(var y=l.rowlist,w=0;w<h.length;w++)if(h[w]){var S={};S.index=w;var N=this.Kg(h[w],S),_=l.Lg(N,parent);_.index=w,y.push(_)}}},this.Ag=function(h){var y={};return y.row=this.Cg(h),t.Util.copyProps(h,y.row,["html","backColor","fontColor","cssClass","toolTip","areas"]),typeof this.onBeforeRowHeaderRender=="function"&&this.onBeforeRowHeaderRender(y),y},this.Kg=function(h,y){var w={get $data(){return this.Ce}};for(var S in y)w[S]=y[S];for(var S in h)w[S]=h[S];return w.html=l.ab(h.name,h.html),w.Ce=h,w},this.Pg=function(){this.nav.top.dp=this,this.nav.top.innerHTML="",t.Util.addClass(this.nav.top,this.L("_main")),this.nav.top.setAttribute("role","region"),this.nav.top.setAttribute("aria-label","scheduler"),this.nav.top.style.userSelect="none",this.nav.top.style.webkitUserSelect="none",this.nav.top.style.WebkitTapHighlightColor="rgba(0,0,0,0)",this.nav.top.style.WebkitTouchCallout="none",this.width&&(this.nav.top.style.width=this.width),this.nav.top.style.lineHeight="1.2",this.nav.top.style.position="relative",this.visible||(this.nav.top.style.display="none"),this.nav.top.ontouchstart=x.Qg,this.nav.top.ontouchmove=x.Rg,this.nav.top.ontouchend=x.Sg;var h=this.rowHeaderWidth,y=c();y.style.position="absolute",y.style.left="0px",y.style.width=h+"px";var w=c();w.style.height="0px",w.style.boxSizing="content-box",w.style.borderTop="1px solid transparent",w.className=this.L("_divider_horizontal"),this.nav.dh1=w,this.nav.left=y,y.appendChild(this.gb()),y.appendChild(w),y.appendChild(this.Tg());var S=c();S.style.position="absolute",S.style.left=h+"px",S.style.width="1px",S.style.height=this.Ge()+this.Za()+"px",S.className=this.L("_splitter"),this.nav.divider=S;var N=c();N.style.marginLeft=h+1+"px",N.style.position="relative",this.nav.right=N;var _=c();_.style.position="absolute",_.style.top=this.Ge()+"px",_.style.width="100%",_.style.height="1px",_.style.boxSizing="border-box",_.style.borderBottom="1px solid transparent",_.setAttribute("data-dh2","true"),_.className=this.L("_divider_horizontal"),this.nav.dh2=_,N.appendChild(l.Ug()),N.appendChild(l.Vg()),N.appendChild(_);var k=c();k.style.clear="left";var E=c();E.style.height="1px",E.style.position="absolute",E.style.left="0px",E.style.right="0px",E.style.display="none",E.className=this.L("_divider_horizontal"),this.nav.dividerTop=E;var T=c();T.style.height="1px",T.style.position="absolute",T.style.left="0px",T.style.right="0px",T.style.display="none",T.className=this.L("_divider_horizontal")+" "+this.L("_divider_horizontal_frozen_bottom"),this.nav.dividerBottom=T,this.nav.top.appendChild(y),this.nav.top.appendChild(S),this.nav.top.appendChild(N),this.nav.top.appendChild(k),this.nav.top.appendChild(E),this.nav.top.appendChild(T)},this.ia=function(){var h=this.Ge();this.nav.corner&&(this.nav.corner.style.height=h+"px"),this.divTimeScroll&&(this.divTimeScroll.style.height=h+"px"),this.divNorth&&(this.divNorth.style.height=h+"px"),this.nav.dh1&&this.nav.dh2&&(this.nav.dh1.style.top=h+"px",this.nav.dh2.style.top=h+"px"),this.nav.scroll.style.top=h+1+"px"},this.Wg=function(){var h=this.rowHeaderWidth;this.nav.corner&&(this.nav.corner.style.width=h+"px"),this.divResScroll.style.width=h+"px",this.nav.left.style.width=h+"px",this.nav.divider.style.left=h-1+"px",this.nav.right.style.marginLeft=h+"px"},this.Xg=function(){var h=this.rowHeaderWidth,y=this.divHeader;y.style.width=h+"px";for(var w=l.sg(),S=w.start;S<w.end;S++){var N=y.rows[S];if(N){var _=l.rowHeaderWidth;N.style.width=_+"px",N.firstChild.style.width=_+"px"}}l.nav.resScrollSpace&&(l.nav.resScrollSpace.style.width=h+"px")},this.cf=function(){this.Wg(),this.Xg()},this.gb=function(){var h=this.rowHeaderWidth,y=c();l.nav.corner=y,y.style.width=h+"px",y.style.height=this.Ge()+"px",y.style.overflow="hidden",y.style.position="relative",y.oncontextmenu=function(){return!1},y.className=this.L("_corner");var w=c();return w.style.position="absolute",w.style.top="0px",w.style.left="0px",w.style.right="0px",w.style.bottom="0px",w.className=this.L("_corner_inner"),w.innerHTML="&nbsp;",this.divCorner=w,y.appendChild(w),y},this.Ge=function(){return l.timeHeaders?l.timeHeaders.length*l.headerHeight:0},this.Yg=null,this.Tg=function(){var h=c();h.style.width=this.rowHeaderWidth+"px",h.style.height=this.Za()+"px",h.style.overflow="hidden",h.style.position="relative",h.className=l.L("_rowheader_scroll");var y=l.ca.zg();y&&(h.style.overflowY="auto"),h.ontouchstart=function(){a.Zg=!0},h.oncontextmenu=function(){return!1},h.onscroll=function(){if(l.Yg&&clearTimeout(l.Yg),y){var S=function(){var N=l.$g()-l.nav.scroll.offsetHeight;h.scrollTop=Math.min(h.scrollTop,N),l.nav.scroll.scrollTop=h.scrollTop};s?a.Zg&&(l.Yg=setTimeout(S,10)):l.Yg=setTimeout(S,10)}else l.Yg=setTimeout(function(){l.nav.scroll.scrollTop=h.scrollTop},500)},h.setAttribute("role","region"),h.setAttribute("aria-label","scheduler rows");var w=c();return this.divHeader=w,h.appendChild(w),this.divResScroll=h,this.He=h,h},this._g=null,this.ah=null,this.bh=function(){var h=function(){l.ch(),l.hf()},y=function(){var S=l.nav.top;if(S){if(!l._g)return l._g={},void(l._g.width=S.offsetWidth);l._g.width!==S.offsetWidth&&(l._g.width=S.offsetWidth,h())}};if(!l.ah){var w=new ResizeObserver(t.debounce(y,100));w.observe(l.nav.top),l.ah=w}},this.ch=function(){l.Q||(l.ma(),l.dh(),l.zb.drawArea=null)},this.dh=function(){var h=l.Bf;l.clearSelection(),l.Bf=h,l.Cf(h,{justDraw:!0})},this.Ug=function(){var h=c();h.style.overflow="hidden",h.style.display="block",h.style.position="absolute",h.style.top="0px",h.style.width="100%",h.style.height=this.Ge()+"px",h.style.overflow="hidden",h.className=l.L("_timeheader_scroll"),this.divTimeScroll=h;var y=c();return y.style.width=this.Ee()+5e3+"px",this.divNorth=y,h.appendChild(y),h},this.Za=function(){var h=0,y=l.heightSpec;return y==="Fixed"?this.height?this.height:0:(h=l.$g(),y==="Max"&&h>l.height?l.height:h)},this.$g=function(){var h;return this.he!==-1?(h=this.he,this.he>0&&l.nav.scroll.style.overflowX==="auto"&&(h+=t.sh(l.nav.scroll)+1)):h=this.rowlist.length*l.eventHeight,h},this.Vg=function(){var h=c();h.style.overflow="auto",h.style.overflowX="auto",h.style.overflowY="auto",h.style.height=this.Za()+"px",h.style.top=this.Ge()+1+"px",h.style.position="absolute",h.style.width="100%",h.className=this.L("_scrollable"),h.oncontextmenu=function(){return!1},this.nav.scroll=h,this.le=c();var y=this.le;y.style.userSelect="none",y.style.webkitUserSelect="none",y.calendar=this,y.style.position="absolute";var w=this.Ee();return w>0&&(y.style.width=w+"px"),y.onmousedown=this.eh,y.onmousemove=this.fh,y.onmouseup=this.gh,y.oncontextmenu=this.hh,y.className=this.L("_matrix"),this.divStretch=c(),this.divStretch.style.position="absolute",this.divStretch.style.height="1px",y.appendChild(this.divStretch),this.divCells=c(),this.divCells.style.position="absolute",this.divCells.oncontextmenu=this.hh,y.appendChild(this.divCells),this.divLines=c(),this.divLines.style.position="absolute",this.divLines.oncontextmenu=this.hh,y.appendChild(this.divLines),this.divSeparators=c(),this.divSeparators.style.position="absolute",this.divSeparators.oncontextmenu=this.hh,y.appendChild(this.divSeparators),this.divRange=c(),this.divRange.style.position="absolute",this.divRange.oncontextmenu=this.hh,y.appendChild(this.divRange),this.divEvents=c(),this.divEvents.style.position="absolute",y.appendChild(this.divEvents),this.divShadow=c(),this.divShadow.style.position="absolute",y.appendChild(this.divShadow),h.appendChild(y),h},this.rb=function(){a.ih||(a.ih=!0,t.re(document,"mouseup",a.ge),t.re(document,"touchmove",a.jh),t.re(document,"touchend",a.kh))},this.lh=function(){this.nav.scroll.root=this,this.nav.scroll.onscroll=this.hf,l.mh=this.nav.scroll.scrollLeft,l.nh=this.nav.scroll.scrollTop,this.divNorth&&(l.oh=this.divNorth.clientWidth)},this.ph={},this.ph.step=300,this.ph.delay=10,this.ph.mode="display",this.ph.layers=!1,this.Jg=function(h){for(var y=0,w=0;w<h.lines.length;w++){for(var S=h.lines[w],N=0;N<S.length;N++){var _=S[N];_.part.line=w,_.part.top=y+l.rowMarginTop,_.part.right=_.part.left+_.part.width}y+=l.eventHeight}},this.Xe=null,this.na=function(h){if(!l.Q){var y=this.ph.step;this.ph.mode==="display"?this.divEvents.style.display="none":this.ph.mode==="visibility"&&(this.divEvents.style.visibility="hidden"),this.divEvents.setAttribute("role","region"),this.divEvents.setAttribute("aria-label","scheduler events");var w=this.dynamicEventRendering==="Progressive",S=this.pe(),N=S.pixels.top,_=S.pixels.bottom;l.rowlist.filter(function(k){var E=k.top-l.dynamicEventRenderingMargin,T=E+k.height+2*l.dynamicEventRenderingMargin;return!w||!(_<=E||N>=T)}).forEach(function(k){l.Jg(k);for(var E=0;E<k.lines.length;E++)for(var T=k.lines[E],D=0;D<T.length;D++){var P=T[D],M=l.Va(P);if(h&&M&&(y--,y<=0))return l.divEvents.style.visibility="",l.divEvents.style.display="",void(l.Xe=setTimeout(function(){l.na(h)},l.ph.delay))}}),this.divEvents.style.display="",this.ve()}},this.qf=function(h){var y=l.rowlist[h];this.Jg(y);for(var w=0;w<y.lines.length;w++)for(var S=y.lines[w],N=0;N<S.length;N++){var _=S[N];this.Va(_)}},this.Y=function(){if(this.elements.events)for(var h=this.elements.events.length,y=0;y<h;y++){var w=this.elements.events[y];this.Pa(w)}this.elements.events=[]},this.pf=function(h){if(this.elements.events){for(var y=this.elements.events.length,w=[],S=0;S<y;S++){var N=this.elements.events[S];N.event.part.dayIndex===h&&(this.Pa(N),w.push(S))}for(var S=w.length-1;S>=0;S--)this.elements.events.splice(w[S],1)}},this.Pa=function(h){h.remove(),h.onclick=null,h.oncontextmenu=null,h.onmouseover=null,h.onmouseout=null,h.onmousemove=null,h.onmousedown=null,h.ondblclick=null,h.event&&(h.event.rendered=null,h.event=null)},this.qh=function(){if(this.dynamicEventRendering==="Progressive"&&l.dynamicEventRenderingCacheSweeping){var h=l.dynamicEventRenderingCacheSize||0;this.divEvents.style.display="none";for(var y=[],w=0,S=this.elements.events.length,N=S-1;N>=0;N--){var _=this.elements.events[N];this.rh(_.event)?h>0?(h--,y.unshift(_)):(this.Pa(_),w++):y.unshift(_)}this.elements.events=y,this.divEvents.style.display=""}},this.uh=function(h){for(var y=this.pe(),w=this.elements.cells.length,S=w-1;S>=0;S--){var N=this.elements.cells[S];y.xStart<N.coords.x&&N.coords.x<=y.xEnd&&y.yStart<N.coords.y&&N.coords.y<=y.yEnd||(h>0?h--:this.hb(N))}},this.hb=function(h){if(h&&h.coords){var y=h.coords.x,w=h.coords.y;t.rfa(l.elements.cells,h),t.de(h),l.zb.cells[y+"_"+w]=null}},this.vh=function(){var h=this.dynamicEventRendering==="Progressive";if(!this.nav.scroll)return!1;for(var y=this.nav.scroll.scrollTop,w=y+this.nav.scroll.clientHeight,S=0;S<this.rowlist.length;S++){var N=this.rowlist[S],_=N.top,k=N.top+N.height;if(!h||!(w<=_||y>=k))for(var E=0;E<N.lines.length;E++)for(var T=N.lines[E],D=0;D<T.length;D++){var P=T[D];if(this.wh(P))return!0}}return!1},this.wh=function(h){if(h.rendered)return!1;var y=this.dynamicEventRendering==="Progressive",w=this.nav.scroll.scrollLeft,S=w+this.nav.scroll.clientWidth,N=h.part.left,_=h.part.left+h.part.width;return!y||!(S<=N||w>=_)},this.rh=function(h){if(!h.rendered)return!0;var y=this.pe(),w=y.pixels.top,S=y.pixels.bottom,N=y.pixels.left-this.dynamicEventRenderingMargin,_=y.pixels.right+this.dynamicEventRenderingMargin,k=h.part.left,E=h.part.right,T=h.part.top,D=h.part.top+l.eventHeight;return _<=k||N>=E||S<=T||w>=D},this.Va=function(h,y){y=y||{};var w=y.forced;if(h.rendered)return!1;var S=this.dynamicEventRendering==="Progressive",N=h.part.dayIndex,_=l.divEvents,k=l.rowlist,E=k[N],T=E.top,D=this.pe(),P=D.pixels.left-this.dynamicEventRenderingMargin,M=D.pixels.right+this.dynamicEventRenderingMargin,R=D.pixels.top,B=D.pixels.bottom,L=h.part.left,$=h.part.left+h.part.width,I=h.part.top+T,z=I+l.eventHeight,H=M<=L||P>=$,Z=B<=I||R>=z;if(!w&&S&&(H||Z))return!1;var V=h.part.width,G=l.eventHeight,U=h.cache||h.data,Y=U.borderRadius||l.eventBorderRadius;typeof Y=="number"&&(Y+="px"),V=t.Util.atLeast(0,V),G=t.Util.atLeast(0,G);var K=c();K.style.position="absolute",K.style.left=h.part.left+"px",K.style.top=T+h.part.top+"px",K.style.width=V+"px",K.style.height=G+"px",l.eventTextWrappingEnabled||(K.style.whiteSpace="nowrap"),K.style.overflow="hidden",K.className=this.L("_event"),U.cssClass&&t.Util.addClass(K,U.cssClass),typeof h.part.line=="number"&&t.Util.addClass(K,this.L("_event_line"+h.part.line)),Y&&(K.style.borderRadius=Y),this.showToolTip&&(K.title=h.client.toolTip()||""),K.onmousemove=this.xh,K.onmousedown=this.yh,K.onmouseup=this.zh,K.ontouchstart=x.Ah,K.ontouchmove=x.Bh,K.ontouchend=x.Ch,h.client.clickEnabled()&&(K.onclick=this.Qe),typeof U.ariaLabel<"u"?K.setAttribute("aria-label",U.ariaLabel):K.setAttribute("aria-label",U.text),K.setAttribute("tabindex","-1");var re=c();re.className=l.L("_event_inner"),Y&&(re.style.borderRadius=Y),U.backColor&&(re.style.background=U.backColor),U.fontColor&&(re.style.color=U.fontColor),U.borderColor==="darker"&&U.backColor?re.style.borderColor=t.ColorUtil.darker(U.backColor,2):re.style.borderColor=U.borderColor,U.backImage&&(re.style.backgroundImage="url("+U.backImage+")",U.backRepeat&&(re.style.backgroundRepeat=U.backRepeat)),K.appendChild(re);var he=h.start().getTime()===h.part.start.getTime(),me=h.rawend().getTime()===h.part.end.getTime();if(he||t.Util.addClass(K,this.L("_event_continueleft")),me||t.Util.addClass(K,this.L("_event_continueright")),h.client.barVisible()&&V>0){var de=100*h.part.barLeft/V,ie=Math.ceil(100*h.part.barWidth/V),ve=c();ve.className=this.L("_event_bar"),ve.style.position="absolute",U.barBackColor&&(ve.style.backgroundColor=U.barBackColor);var _e=c();_e.className=this.L("_event_bar_inner"),_e.style.left=de+"%",0<ie&&ie<=1?_e.style.width="1px":_e.style.width=ie+"%",U.barColor&&(_e.style.backgroundColor=U.barColor),U.barImageUrl&&(_e.style.backgroundImage="url("+U.barImageUrl+")"),ve.appendChild(_e),K.appendChild(ve)}K.row=N,K.event=h,re.innerHTML=h.client.innerHTML();var xe=[];return(function(){if(l.eventDeleteHandling!=="Disabled"&&!U.deleteDisabled){var Le=l.durationBarVisible?l.durationBarHeight:0;xe.push({v:"Hover",w:17,h:17,top:Le+2,right:2,css:l.L("_event_delete"),onClick:function(Ie){l.ya(Ie.source)}})}})(),U.areas&&(xe=xe.concat(U.areas)),t.Areas.attach(K,h,{areas:xe}),this.elements.events.push(K),_.appendChild(K),h.rendered=!0,!0},this.ab=function(h,y){return l.ca.da()?t.Util.escapeTextHtml(h,y):t.Util.isNullOrUndefined(y)?t.Util.isNullOrUndefined(h)?"":h:y},this.rf=function(){for(var h=0;h<this.elements.events.length;h++){var y=this.elements.events[h],w=y.event,S=w.part.dayIndex,N=l.rowlist[S],_=N.top,k=_+w.part.top,E=N.height,T=l.eventHeight;w.part.top+T>E&&(T=Math.max(0,E-w.part.top)),y.style.top=k+"px",y.style.height=T+"px"}},this.Dh=function(h){if(!h)return null;for(var y=0;y<l.elements.events.length;y++){var w=l.elements.events[y];if(w.event===h||w.event.data===h.data)return w}return null},this.Of=function(h){var y=l.events.Tf(h.data);if(!y)return null;var w=l.rowlist[y.part.dayIndex];return l.Jg(w),l.Va(y,{forced:!0}),l.Dh(y)},this.xh=function(h){for(var y=this;y&&!y.event;)y=y.parentNode;y.event,l.Eh(y,h),l.Ue(h)},this.Se={},this.yh=function(h){l.Ue(h);var y=t.Util.mouseButton(h);h.preventDefault(),h.stopPropagation(),y.left&&(this.style.cursor==="w-resize"||this.style.cursor==="e-resize"?(a.Re=!0,a.ig=this,a.mg=this.event,a.Fh=t.mc(h),o().style.cursor=this.style.cursor):(this.style.cursor==="move"||this.event.client.moveEnabled())&&l.Gh(this,h))},this.zh=function(h){t.Util.mouseButton(h).right&&l.xa.call(this,h)},this.Gh=function(h,y){var w=l.Se;l.Ue(y),w.Hh=!0,w.Se=h,w.pg=h.event,w.Fh=t.mc(y),w.Ih=t.mo3(h,y).x,w.hg=l.getDate(l.coords.x,!0)},this.Jh={};var x=l.Jh;typeof t.Global.touch>"u"&&(t.Global.touch={}),t.Global.touch.active=!1,t.Global.touch.start=!1,x.Kf=[],x.Ah=function(h){if(!t.Global.touch.active&&!t.Global.touch.start){h.stopPropagation(),x.Kh(),t.Global.touch.start=!0,t.Global.touch.active=!1;var y=this;l.coords=x.Lh(h);var w=l.tapAndHoldTimeout;x.Kf.push(setTimeout(function(){t.Global.touch.active=!0,t.Global.touch.start=!1,h.preventDefault();var S=y.event;switch(l.eventTapAndHoldHandling){case"Move":if(S.client.moveEnabled()){var N=r(h);x.Gh(y,N)}}},w))}},x.Bh=function(h){x.Kh(),t.Global.touch.start=!1},x.Ch=function(h){if(!t.Util.isMouseEvent(h)){if(x.Kh(),t.Global.touch.start){t.Global.touch.start=!1,h.preventDefault(),h.stopPropagation();var y=this;setTimeout(function(){l.Te(y,h)})}setTimeout(function(){t.Global.touch.start=!1,t.Global.touch.active=!1},500)}},x.Qg=function(h){if(!(t.Global.touch.active||t.Global.touch.start||h.touches.length>1||l.timeRangeSelectedHandling==="Disabled")){x.Kh(),t.Global.touch.start=!0,t.Global.touch.active=!1;var y=l.tapAndHoldTimeout;x.Kf.push(setTimeout(function(){t.Global.touch.active=!0,t.Global.touch.start=!1,h.preventDefault(),l.coords=x.Lh(h),x.Mh=l.Nh()},y)),l.coords=x.Lh(h)}},x.Rg=function(h){if(x.Kh(),t.Global.touch.start=!1,a.ig)return h.preventDefault(),void x.Oh();if(t.Global.touch.active){if(h.preventDefault(),l.coords=x.Lh(h),a.Se)return void x.Ph();if(x.Mh){var y=x.Mh;y.end={x:Math.floor(l.coords.x/l.cellWidth),time:l.getDate(l.coords.x,!0)},l.Cf(y)}}},x.debug=function(h){},x.Sg=function(h){if(x.Kh(),t.Global.touch.active){if(a.Se){h.preventDefault();var y=a.pg;if(l!==a.qg.calendar)return;var w=a.qg.start,S=a.qg.end,N=a.qg.row.id;t.Util.removeClass(a.Se,l.L("_event_moving_source")),t.de(a.qg),a.qg.calendar=null,o().style.cursor="",a.Se=null,a.pg=null,a.qg=null,l.M(y,w,S,N)}if(x.Mh){var _=x.Mh;x.Mh=null;var k=l.elements.range2;k&&k.overlapping?l.clearSelection():l.yf(_)}}else if(t.Global.touch.start){if(l.coords.x<l.getScrollX())return;var _=l.Nh();l.Cf(_);var k=l.elements.range2;k&&k.overlapping?l.clearSelection():l.yf(_)}setTimeout(function(){t.Global.touch.start=!1,t.Global.touch.active=!1},500)},x.Kh=function(){for(var h=0;h<x.Kf.length;h++)clearTimeout(x.Kf[h]);x.Kf=[]},x.Lh=function(h){function y(N,_,k){var E=t.abs(k);return{x:N-E.x,y:_-E.y,toString:function(){return"x: "+this.x+", y:"+this.y}}}var w=l.le,S=h.touches?h.touches[0]:h;return y(S.pageX,S.pageY,w)},x.Gh=function(h,y){a.Se=h,a.pg=h.event,a.Fh=y;var w=t.abs(h);a.Ih=y.x-w.x,a.hg=l.getDate(l.coords.x,!0),a.qg=l.ba(h),l.og()},x.Oh=function(){if(!a.lg){var h=a.ig;a.lg=l.ba(h)}l.ng()},x.Ph=function(){if(!a.qg){var h=a.Se;a.qg=l.ba(h)}a.qg.calendar.og()},this.Eh=function(h,y){var w=this.eventResizeMargin,S=h;if(typeof a<"u"){var N=t.mo3(h,y);if(N&&(l.eventOffset=N,!a.ig&&!a.Se)){var _=S.event.part.start.toString()===S.event.start().toString(),k=S.event.part.end.toString()===S.event.rawend().toString();N.x<=w&&S.event.client.resizeEnabled()?_?(h.style.cursor="w-resize",h.dpBorder="left"):h.style.cursor="not-allowed":h.offsetWidth-N.x<=w&&S.event.client.resizeEnabled()?k?(h.style.cursor="e-resize",h.dpBorder="right"):h.style.cursor="not-allowed":a.ig||a.Se||(S.event.client.clickEnabled()?h.style.cursor="pointer":h.style.cursor="default")}}},this.Df=function(){var h=l.Pe();return l.days*(1440/h)},this.zf=function(y){var y=y||a.Mh||l.Bf;if(!y)return null;var w=l.rowlist[y.start.y];if(!w)return null;var S,N,_=y,k=_.end.time>_.start.time,E=w.id,T=k?_.start.x:_.end.x,D=k?_.end.x:_.start.x,P=l.snapToGrid;P?(S=l.Ne(T).start,N=l.Ne(D).end):k?(S=_.start.time,N=_.end.time):(S=_.end.time,N=_.start.time);var M=new t.Selection(S,N,E,l);return M.allowed=!y.div||!y.div.overlapping,M},this.af=function(){this.zb.timeHeader={},l.elements.timeHeader.length>0&&(l.elements.timeHeader=[]);var h=c();h.style.position="relative",this.nav.timeHeader=h;for(var y=0;y<this.timeHeader.length;y++)for(var w=this.timeHeader[y],S=0;S<w.length;S++)this.Qh(S,y);var N=this.divNorth;N.childNodes.length===1?N.replaceChild(h,N.childNodes[0]):(N.innerHTML="",N.appendChild(h));var _=this.Ee();N.style.width=_+5e3+"px",_>0&&(this.divStretch.style.width=_+"px")},this.Le=function(h,N){var w=null,S=this.ca.Ke(),N=N||this.cellGroupBy,_=h.start;switch(N){case"Minute":w=_.toString("m");break;case"Hour":w=l.ca.Rh()==="Clock12Hours"?_.toString("h tt",S):_.toString("H",S);break;case"Day":w=_.toString(S.datePattern);break;case"Week":w=b.ea()===1?_.weekNumberISO():_.weekNumber();break;case"Month":w=_.toString("MMMM yyyy",S);break;case"Quarter":w="Q"+Math.floor(_.getMonth()/3+1);break;case"Year":w=_.toString("yyyy");break;case"None":w="";break;case"Cell":var k=(h.end.ticks-h.start.ticks)/6e4;w=this.Sh(_,k);break;default:throw new t.Exception("Invalid groupBy value: "+N)}return w},this.Sh=function(h,S){var w=this.ca.Ke(),S=S||this.cellDuration;return S<1?h.toString("ss"):S<60?h.toString("mm"):S<1440?l.ca.Rh()==="Clock12Hours"?h.toString("h tt",w):h.toString("H",w):S<10080?h.toString("d"):S===10080?b.ea()===1?h.weekNumberISO():h.weekNumber():h.toString("MMMM yyyy",w)},this.Je=function(h,y,w){var S,N=l.startDate.addDays(l.days);y=y||this.cellGroupBy;var _=60;switch(y){case"Minute":h.getMinutes()+h.getSeconds()+h.getMilliseconds()>0&&(h=h.getDatePart().addHours(h.getHours()).addMinutes(h.getMinutes())),S=h.addMinutes(1);break;case"Hour":h.getHours()+h.getMinutes()+h.getSeconds()+h.getMilliseconds()>0&&(h=h.getDatePart().addHours(h.getHours())),S=h.addHours(1);break;case"Day":S=h.getDatePart().addDays(1);break;case"Week":for(S=h.getDatePart().addDays(1);S.dayOfWeek()!==b.ea();)S=S.addDays(1);break;case"Month":h=h.getDatePart(),S=h.addMonths(1),S=S.firstDayOfMonth();for(var k=t.DateUtil.diff(S,h)/6e4%_===0;!k;)S=S.addHours(1),k=t.DateUtil.diff(S,h)/6e4%_===0;break;case"Quarter":for(h=h.getDatePart(),S=h.addMonths(1),S=S.firstDayOfMonth();S.getMonth()%3;)S=S.addMonths(1);for(var k=t.DateUtil.diff(S,h)/6e4%_===0;!k;)S=S.addHours(1),k=t.DateUtil.diff(S,h)/6e4%_===0;break;case"Year":h=h.getDatePart(),S=h.addYears(1),S=S.firstDayOfYear();for(var k=t.DateUtil.diff(S,h)/6e4%_===0;!k;)S=S.addHours(1),k=t.DateUtil.diff(S,h)/6e4%_===0;break;case"None":S=N;break;case"Cell":var E=this.Oe(h);E.current&&(S=E.current.end);break;default:throw w?new t.Exception("Invalid scale value: "+y):new t.Exception("Invalid groupBy value: "+y)}return S.getTime()>N.getTime()&&(S=N),S},this.Qh=function(h,y){var w=this.nav.timeHeader,S=this.timeHeader[y][h],N=y<this.timeHeader.length-1,_=S.left,k=S.width,E=y*l.headerHeight,T=l.headerHeight,D=c();D.style.position="absolute",D.style.top=E+"px",D.style.left=_+"px",D.style.width=k+"px",D.style.height=T+"px",S.toolTip&&(D.title=S.toolTip),D.setAttribute("aria-hidden","true"),S.cssClass&&t.Util.addClass(D,S.cssClass),D.style.userSelect="none",D.style.webkitUserSelect="none",D.oncontextmenu=function(){return!1},D.cell={},D.cell.start=S.start,D.cell.end=S.end,D.cell.level=y,D.cell.th=S,D.onclick=this.Dg,D.oncontextmenu=this.Eg,t.re(D,t.touch.start,function(B){B.stopPropagation()}),D.style.overflow="hidden",l.timeHeaderTextWrappingEnabled||(D.style.whiteSpace="nowrap");var P=c();P.innerHTML=l.ab(S.text,S.html),S.backColor&&(P.style.background=S.backColor),S.fontColor&&(P.style.color=S.fontColor);var M=this.L("_timeheadercol"),R=this.L("_timeheadercol_inner");N&&(M=this.L("_timeheadergroup"),R=this.L("_timeheadergroup_inner")),t.Util.addClass(D,M),t.Util.addClass(P,R),t.Util.addClass(D,l.L("_timeheader_cell")),t.Util.addClass(P,l.L("_timeheader_cell_inner")),D.appendChild(P),t.Areas.attach(D,S,{areas:S.areas}),this.zb.timeHeader[h+"_"+y]=D,this.elements.timeHeader.push(D),w.appendChild(D)},this.dg=function(){l.rowlist.forEach(function(h){var y=h.getHeight()+l.rowMarginTop+l.rowMarginBottom;h.height!==y&&(l.of=!0),h.height=y}),l.of&&(l.zb.drawArea=null)},this.bf=function(){l.rowlist.forEach(function(h){var y=l.divHeader;if(y){var w=h.index;if(y.rows[w]){var S=y.rows[w];l.ug&&(S.style.top=h.top+"px");var N=h.height;S&&S.firstChild&&parseInt(S.firstChild.style.height,10)!==N&&(S.firstChild.style.height=N+"px")}}}),l.ug&&l.nav.resScrollSpace&&(l.nav.resScrollSpace.style.top=l.he+"px")},this.eh=function(h){if(t.Global.touch.start||t.Global.touch.active||(a.Th,l.Ue(h),l.timeRangeSelectedHandling==="Disabled"))return!1;var y=t.Util.mouseButton(h);if(l.Uh()||y.middle||y.right||l.Vh(l.coords))return!1;var w=y.left?"left":y.right?"right":y.middle?"middle":"unknown";return l.Wh=w,a.Mh=l.Nh(),a.Mh&&(a.Xh=l),!1},this.Nh=function(){var h={},y=l.Me(l.coords.x).x,w=l.getDate(l.coords.x,!0);return h.start={y:l.Jf(l.coords.y).i,x:y,time:w},h.end={x:y,time:w},h.calendar=l,l.Cf(h),h},this.gh=function(h){if(l.Se={},l.Bf&&t.Util.mouseButton(h).left){var y=l.Bf;if(l.Vh(l.coords)){var w=function(S){return function(){a.Th=null;var N=l.zf(S);if(N){var _={};_.start=N.start,_.end=N.end,_.resource=N.resource,_.preventDefault=function(){_.preventDefault.value=!0},typeof l.onTimeRangeClick=="function"&&l.onTimeRangeClick(_),_.preventDefault.value||typeof l.onTimeRangeClicked=="function"&&l.onTimeRangeClicked(_)}}};l.timeRangeClickHandling!=="Disabled"&&w(y)()}}},this.Uh=function(){return!!(a.ig||a.Se||a.Mh)||!!l.Se.Hh},this.dragInProgress=function(){return l.Uh()},this.Ue=function(h){var y=t.mo3(l.le,h);y=y||{},y.stamp=y.x+"_"+y.y,l.coords&&l.coords.stamp===y.stamp||(l.coords=y)},this.fh=function(h){if(!t.Global.touch.active){var y=t.mc(h);l.Ue(h),l.Se.Hh&&t.distance(l.Se.Fh,y)>2&&(t.Util.copyProps(l.Se,a),o().style.cursor="move",l.Se={}),a.ig&&a.mg.calendar===l?(a.ig.event||(a.ig.event=a.mg),l.Yh()):a.pg?l.Zh():a.Mh&&a.Mh.calendar===l&&(a.Mh.moved=!0,l.$h())}},this.$h=function(){var h=a.Mh,y=l.Me(l.coords.x).x,w=l.getDate(l.coords.x,!0);h.end={x:y,time:w},l.Cf(h)},this.Yh=function(){a.lg||(a.lg=l.ba(a.ig)),l.ng()},this.Zh=function(){if(!a.qg){t.Util.addClass(a.Se,l.L("_event_moving_source"));var h=a.pg;a.qg=l.ba(h)}l.og()},this.hh=function(h){return h.cancelBubble=!0,!1},this.Vh=function(h){var y=l.Bf;if(!y||!y.start||!y.end)return!1;var w=this.Mf(y.start.y),S=y.start.x<y.end.x,N=(S?y.start.x:y.end.x)*this.cellWidth,_=(S?y.end.x:y.start.x)*this.cellWidth+this.cellWidth,k=w.top,E=w.bottom;return h.x>=N&&h.x<=_&&h.y>=k&&h.y<=E},this.Cf=function(h){function y(_){var k,E,T,D,P=_.end.time>_.start.time,M=_.start.y,R=_.start.time&&_.end.time;if(S||!R){var B=P?_.start.x:_.end.x,L=P?_.end.x:_.start.x,$=l.Ne(B),I=l.Ne(L);k=$.left,E=I.left+I.width}else P?(T=_.start.time,D=_.end.time):(T=_.end.time,D=_.start.time),k=l.getPixels(T).left,E=l.getPixels(D).left;var z=E-k,H=l.elements.range2;if(!H){H=c(),H.style.position="absolute";var Z=c();Z.className=l.L("_shadow_inner"),w&&(H.style.borderRadius=w,Z.style.borderRadius=w),H.appendChild(Z),l.divShadow.appendChild(H)}return H.className=l.L("_shadow"),H.firstChild.innerHTML="",H.style.left=k+"px",H.style.top=N[M].top+"px",H.style.width=z+"px",H.style.height=N[M].height-1+"px",H.calendar=l,l.elements.range2=H,H}if(h=h||a.Mh){var w=l.eventBorderRadius;typeof w=="number"&&(w+="px");var S=l.snapToGrid,N=l.rowlist;y(h)}},this._h=function(h){return{start:{x:h.start.x,y:h.start.y,time:h.start.time},end:{x:h.end.x,time:h.end.time},calendar:h.calendar,args:h.args}},this.Kf={},this.Kf.na=null,this.Kf.drawCells=null,this.Kf.drawRows=null,this.Kf.click=null,this.Kf.resClick=[],this.Kf.updateFloats=null,this.hf=function(){if(!l.Q){l.ff();var h=l.nav.scroll;l.mh=h.scrollLeft,l.nh=h.scrollTop,l.oh=h.clientWidth,l.divTimeScroll&&(l.divTimeScroll.scrollLeft=l.mh),s&&a.Zg?i():l.divResScroll.scrollTop=l.nh,l.progressiveRowRendering&&(l.Kf.drawRows&&(clearTimeout(l.Kf.drawRows),l.Kf.drawRows=null),l.scrollDelayRows>0?l.Kf.drawRows=setTimeout(function(){l.xg()},l.scrollDelayRows):l.xg()),l.Kf.drawCells&&(clearTimeout(l.Kf.drawCells),l.Kf.drawCells=null),l.scrollDelayCells>0?l.Kf.drawCells=setTimeout(l.ai(),l.scrollDelayCells):l.ai()(),l.Kf.na&&(clearTimeout(l.Kf.na),l.Kf.na=null),l.scrollDelayEvents>0?l.Kf.na=setTimeout(l.bi(),l.scrollDelayEvents):l.na(),l.Kf.updateFloats&&(clearTimeout(l.Kf.updateFloats),l.Kf.updateFloats=null),l.scrollDelayFloats>0?l.Kf.updateFloats=setTimeout(function(){l.te()},l.scrollDelayFloats):l.te(),l.onScrollCalled=!0}},this.ai=function(){return function(){l&&l.gf()}},this.bi=function(){return function(){l&&(l.vh()?setTimeout(function(){l.qh(),setTimeout(function(){l.na(!0)},50)},50):l.ve())}},this.ff=function(){l.zb.drawArea=null},this.show=function(){l.visible=!0,l.ie=!0,l.nav.top.style.display="",l.u(),l.ch(),l.hf()},this.hide=function(){l.visible=!1,l.ie=!1,l.nav.top.style.display="none"},this.Zf=function(h){if(!l.events.list)return null;for(var y=0;y<this.events.list.length;y++){var w=this.events.list[y];if(l.Sf(w,h)){var S={};return S.ex=w,S.index=y,S}}return null},this.ci=function(){var h=this.pe(),y=h.xStart,w=h.xEnd-h.xStart,S=h.yStart,N=h.yEnd-h.yStart;this.cellProperties||(this.cellProperties={});for(var _=0;_<=w;_++){for(var k=y+_,E=0;E<N;E++){var T=S+E;this.kd(k,T)}this.di(k)}for(var D=this.sg(),T=D.start;T<D.end;T++)this.ei(T)},this.gf=function(){if(!l.Q){var h=l.rowlist;if(h&&h.length>0){if(this.cellSweeping){var y=this.cellSweepingCacheSize;this.uh(y)}this.ci()}this.of=!1}},this.pe=function(){if(l.zb.drawArea)return l.zb.drawArea;if(!this.nav.scroll)return null;var h=l.nh,y={},w=this.dynamicEventRenderingMarginX!=null?this.dynamicEventRenderingMarginX:this.dynamicEventRenderingMargin,S=this.dynamicEventRenderingMarginY!=null?this.dynamicEventRenderingMarginY:this.dynamicEventRenderingMargin,N=l.mh-w,_=N+l.oh+2*w,k=0,E=0;k=l.Me(N).x,E=l.Me(_,!0).x;var T=this.Df();E=Math.min(E,T-1),k=t.Util.atLeast(k,0);var D=h-S,P=h+this.nav.scroll.offsetHeight+2*S,M=this.Jf(D).i,R=this.Jf(P).i;R<this.rowlist.length&&R++,y.xStart=k,y.xEnd=E,y.yStart=M,y.yEnd=R;var B=l.nav.scroll;return B.clientWidth===0&&(B=l.divTimeScroll),y.pixels={},y.pixels.left=B.scrollLeft,y.pixels.right=B.scrollLeft+B.clientWidth,y.pixels.top=B.scrollTop,y.pixels.bottom=B.scrollTop+B.clientHeight,y.pixels.width=B.scrollWidth,y.sw=t.sw(l.nav.scroll),l.zb.drawArea=y,y},this.Ee=function(){return l.Df()*l.cellWidth},this.ei=function(h){var y=l.rowlist,w=l.divLines,S="y_"+h;if(!this.zb.linesHorizontal[S]){var N=y[h],_=N.height,k=N.top+_-1,E=this.Ee(),T=c();T.style.left="0px",T.style.top=k+"px",T.style.width=E+"px",T.style.height="1px",T.style.fontSize="1px",T.style.lineHeight="1px",T.style.overflow="hidden",T.style.position="absolute",T.className=this.L("_matrix_horizontal_line"),w.appendChild(T),this.zb.linesHorizontal[S]=T}},this.di=function(h){var y=l.Ne(h);if(y){var w=l.divLines,S=l.he,N="x_"+h;if(!this.zb.linesVertical[N]){var _=y.left+y.width-1,k=c();k.style.left=_+"px",k.style.top="0px",k.style.width="1px",k.style.height=S+"px",k.style.fontSize="1px",k.style.lineHeight="1px",k.style.overflow="hidden",k.style.position="absolute",k.className=this.L("_matrix_vertical_line"),w.appendChild(k),this.elements.linesVertical.push(k),this.zb.linesVertical[N]=k}}},this.$e=function(){l.he=l.fi(l.rowlist)},this.fi=function(h){for(var y=0,w=0;w<h.length;w++){var S=h[w];S.top=y,y+=S.height}return y},this.df=function(){l.elements.cells=[],l.zb.cells=[],l.divCells.innerHTML="",l.gi()},this.gi=function(){l.divLines.innerHTML="",l.zb.linesVertical={},l.zb.linesHorizontal={},l.elements.linesVertical=[]},this.sf=function(h){var y=[];for(var w in l.zb.cells)y.push(l.zb.cells[w]);y.filter(function(S){return S&&S.coords&&S.coords.y===h}).forEach(function(S){l.hb(S)})},this.kd=function(h,y){if(this.Ma){var w=l.Ne(h);if(w){var S=l.rowlist,N=l.divCells,_=h+"_"+y;if(!this.zb.cells[_]){var k=this.hi(h,y),E=l.ii(h,y),T=c();if(T.style.left=w.left+"px",T.style.top=S[y].top+"px",T.style.width=w.width+"px",T.style.height=S[y].height+"px",T.style.position="absolute",k&&k.backColor&&(T.style.backgroundColor=k.backColor),T.className=this.L("_cell"),T.coords={},T.coords.x=h,T.coords.y=y,k){if(k.cssClass&&t.Util.addClass(T,k.cssClass),T.innerHTML=l.ab(k.text,k.html),k.backImage&&(T.style.backgroundImage='url("'+k.backImage+'")'),k.backRepeat&&(T.style.backgroundRepeat=k.backRepeat),k.business&&l.cellsMarkBusiness&&t.Util.addClass(T,l.L("_cell_business")),k.disabled&&t.Util.addClass(T,l.L("_cell_disabled")),k.backColor&&(T.style.backgroundColor=k.backColor),k.fontColor&&(T.style.color=k.fontColor),k.horizontalAlignment||k.verticalAlignment){switch(T.style.display="flex",k.horizontalAlignment){case"right":T.style.justifyContent="flex-end";break;case"left":T.style.justifyContent="flex-start";break;case"center":T.style.justifyContent="center"}switch(k.verticalAlignment){case"center":T.style.alignItems="center";break;case"top":T.style.alignItems="flex-start";break;case"bottom":T.style.alignItems="flex-end"}}t.Areas.attach(T,E.cell,{areas:k.areas||E.cell.areas})}N.appendChild(T),this.elements.cells.push(T),this.zb.cells[_]=T}}}},this.ii=function(h,y){var w=l.Ne(h);if(!w)return null;var S=l.rowlist[y],N=S.id,_=w.start,k=w.end,E={};if(E.cell={x:h,y,start:_,end:k,resource:N,row:l.Cg(S),properties:l.hi(h,y)},E.control=l,typeof this.onBeforeCellRender=="function"){var T=h+"_"+y;if(l.beforeCellRenderCaching&&l.ef[T])return E;l.ef[T]=!0,this.onBeforeCellRender(E)}return E},this.clearSelection=function(){this.ji()},this.ki=function(h,y,w){h=new t.Date(h),y=new t.Date(y);var S=l.ne(w),N=l.Oe(h);if(!N.current)throw new t.Exception("Time range selection 'start' out of timeline");var _=l.Oe(new t.Date(y).addMilliseconds(-1));if(!_.current)throw new t.Exception("Time range selection 'end' out of timeline");var k={};return k.start={y:S.index,x:N.i,time:h},k.end={x:_.i,time:y},k.calendar=this,k},this.selectTimeRange=function(h,y,w,S){var N=l.ki(h,y,w);l.Cf(N),S||setTimeout(function(){l.yf(N)},0)},this.wf=function(){var h=a.qg&&a.qg.source;h&&t.Util.removeClass(h,l.L("_event_moving_source")),t.de(a.qg),a.qg=null,t.Global.movingLink&&(t.Global.movingLink.clear(),t.Global.movingLink=null)},this.ji=function(){l.divShadow&&(l.divShadow.innerHTML=""),l.elements.range=[],l.elements.range2=null,l.Bf=null,l.li=null},this.ca={};var b=this.ca;b.Od=function(){delete l.zb.headerHeight},b.da=function(){return l.xssProtection!=="Disabled"},b.Ke=function(){return t.Locale.find(l.locale)},b.Rh=function(){return l.timeFormat!=="Auto"?l.timeFormat:b.Ke().timeFormat},b.ea=function(){if(l.weekStarts==="Auto"){var h=b.Ke();return h?h.weekStarts:0}return l.weekStarts||0},b.zg=function(){var h=navigator.userAgent.toLowerCase();return h.indexOf("mobile")!==-1||h.indexOf("android")!=-1},b.gg=function(h){return l.useEventBoxes==="Always"||l.useEventBoxes!=="Never"&&h<60*l.Pe()*1e3},this.hi=function(h,y){var w=h+"_"+y,S=l.rowlist;if(this.cellProperties||(this.cellProperties={}),this.cellProperties[w])return this.cellProperties[w];if(!this.cellProperties[w]){var N=S[y],_=N.id,k=l.Ne(h),E=k.start,T=k.end,D={};D.start=E,D.end=T,D.resource=_;var P={};P.business=l.isBusiness(D),this.cellProperties[w]=P}return this.cellProperties[w]},this.isBusiness=function(h,y){var w=h.start,S=h.end,N=(S.getTime()-w.getTime())/6e4;if(N<=1440&&!(l.businessWeekends||y||h.start.dayOfWeek()!==0&&h.start.dayOfWeek()!==6))return!1;if(N<720){var _=w.getHours();_+=w.getMinutes()/60,_+=w.getSeconds()/3600,_+=w.getMilliseconds()/36e5;var k=this.businessBeginsHour,E=this.businessEndsHour;if(E===0&&(E=24),k===E)return!1;if(!(k<E))return _<E||_>=k;if(_<k)return!1;if(E>=24)return!0;if(_>=E)return!1}return!0},this.u=function(){this.nav.top.style.visibility==="hidden"&&(this.nav.top.style.visibility="visible")},this.mi=function(h){this.heightSpec="Fixed",this.height=h-(this.Ge()+2),this.ma()},this.setHeight=this.mi,this.ne=function(h){return l.Gg(h)[0]},this.yb=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if(typeof this.id!="string")throw new t.Exception("DayPilot.Scheduler() constructor requires the target element or its ID as a parameter");if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw new t.Exception("DayPilot.Scheduler: The placeholder element not found: '"+d+"'.")}},this.init=function(){if(this.Ma)throw new t.Exception("This instance is already initialized. Use update() to change properties.");if(this.yb(),this.nav.top.dp){if(this.nav.top.dp===l)return l;throw new t.Exception("The target placeholder was already initialized by another DayPilot component instance.")}return this.ni(),this.bh(),this},this.ni=function(){this.Pg(),this.rb(),this.aa(),this.lh(),this.sb();var h=l.De.enabled;l.scrollToDate?l.scrollTo(l.scrollToDate):l.scrollX||l.scrollY?l.setScroll(l.scrollX,l.scrollY):h||l.hf(),l.scrollToResourceId&&(l.scrollToResource(l.scrollToResourceId),l.scrollToResourceId=null);var y=function(){l.scrollY&&l.setScroll(l.scrollX,l.scrollY)};setTimeout(y,200),this.ff(),this.xb(),this.Ma=!0;var w=l.ke;w?l.scrollTo(w):l.hf()},this.wb=null,this.ub=function(h){if(h){var y={resources:{preInit:function(){var N=this.data;N&&(l.resources=N)}},events:{preInit:function(){var N=this.data;N&&(t.isArray(N.list)?l.events.list=N.list:l.events.list=N)},postInit:function(){}},scrollTo:{preInit:function(){},postInit:function(){this.data&&l.je(this.data)}},scrollX:{postInit:function(){this.data&&l.me(this.data)}},scrollY:{postInit:function(){this.data&&l.Fe(this.data)}}};l.wb=y,l.De.scrollToRequested&&(y.scrollTo.data=l.De.scrollToRequested,l.De.scrollToRequested=null),l.De.scrollXRequested&&(y.scrollX.data=l.De.scrollXRequested,l.De.scrollXRequested=null),l.De.scrollYRequested&&(y.scrollY.data=l.De.scrollYRequested,l.De.scrollYRequested=null);for(var w in h)y[w]||(l[w]=h[w]);for(var w in h)if(y[w]){var S=y[w];S.data=h[w],S.preInit&&S.preInit()}}},this.xb=function(){var h=l.wb;for(var y in h){var w=h[y];w.postInit&&w.postInit()}l.wb={}},this.Sa={},this.Sa.Ra=null,this.Sa.Ob=function(h,y,w){var S=l.Sa.Ra;if(typeof S.createVNode=="function"&&typeof S.render=="function"){var N=S.createVNode(h,w);S.render(N,y)}},this.Sa.Wa=function(h,y){var w=l.Sa.Ra;if(typeof w.render=="function"){var S=h;t.isArray(h)&&(S=w.h("div",null,h)),w.render(S,y)}},this.Sa.Ua=function(h){var y=l.Sa.Ra;typeof y.render=="function"&&y.render(null,h)},this.internal={},this.internal.adjustEndIn=l.tf,this.internal.adjustEndNormalize=l.uf,this.internal.xssTextHtml=l.ab,this.internal.touch=l.Jh,this.internal.skipUpdate=l.De.skipUpdate,this.internal.skipped=l.De.skipped,this.internal.loadOptions=l.ub,this.internal.postInit=l.xb,this.internal.enableAngular2=function(){l.De.enabled=!0},this.internal.eventsFromAttr=function(){l.De.Xf=!0},this.internal.resourcesFromAttr=function(){l.De.eg=!0},this.internal.evImmediateRefresh=function(){l.events.xf()},this.internal.enableReact=function(h,y){l.ld.react=h,l.ld.reactDOM=y},this.internal.reactRefs=function(){return t.Util.copyProps(l.ld,{},["react","reactDOM"])},this.internal.enableVue=function(h){l.Sa.Ra=h},this.internal.vueRef=function(){return l.Sa.Ra},this.internal.vueRendering=function(){return l.Sa.Ta},this.ub(u)},new t.Scheduler().v,t.Row=function(d,u){if(!d)throw new t.Exception("Now row object supplied when creating DayPilot.Row");if(!u)throw new t.Exception("No parent control supplied when creating DayPilot.Row");this.oi={};var l=this.oi;l.id=d.id,l.name=d.name,l.data=d.resource,l.tags=d.tags;var f=this;f.isRow=!0,f.menuType="resource",f.name=d.name,f.id=d.id,f.tags=d.tags,f.index=d.index,f.calendar=u,f.data=d.resource,f.pi=d,f.$={},f.$.row=d,f.toJSON=function(m){var p={};return p.start=this.start,p.name=this.name,p.id=this.id,p.index=this.index,p},f.events={},f.events.all=function(){for(var m=[],p=0;p<f.pi.events.length;p++)m.push(f.pi.events[p]);return m},f.events.isEmpty=function(){return f.pi.events.length===0},f.events.forRange=function(m,p){return f.pi.events.forRange(m,p)},f.events.totalDuration=function(){var m=0;return f.events.all().forEach(function(p){m+=p.part.end.getTime()-p.part.start.getTime()}),new t.Duration(m)},f.remove=function(){u.rows.remove(f)},f.addClass=function(m){var p=u.divHeader,x=p.rows[f.index];t.Util.addClass(x,m),f.$.row.cssClass=t.Util.addClassToString(f.$.row.cssClass,m),f.data.cssClass=m},f.removeClass=function(m){var p=u.divHeader,x=p.rows[f.index];t.Util.removeClass(x,m),f.$.row.cssClass=t.Util.removeClassFromString(f.$.row.cssClass,m),f.data.cssClass=t.Util.removeClassFromString(f.data.cssClass,m)}},a.Se=null,a.pg=null,a.Fh=null,a.ig=null,a.mg=null,a.Re=!1,a.ih=!1,a.Th=null,a.qi=null,a.sc=function(d){t.ue(document,"mouseup",a.ge),t.ue(document,"touchmove",a.jh),t.ue(document,"touchend",a.kh),a.ih=!1},a.jh=function(d){if(a.ig){var u=a.ig.event.calendar;u.coords=u.Jh.Lh(d),u.Jh.Oh(),d.preventDefault()}if(a.Se){d.preventDefault();var u=a.pg.calendar;u.coords=u.Jh.Lh(d),u.Jh.Ph()}},a.kh=function(d){a.Zg=!1,a.ge(d)},a.ge=function(d){if(a.ig){var u=function(){var N=a.mg,_=N.calendar;o().style.cursor="",a.ig=null,a.mg=null,t.de(a.lg),a.lg=null,_&&(_.ri=null)};if(setTimeout(function(){a.Re=!1}),!a.lg)return void u();var l=a.mg,f=l.calendar,m=a.lg.start,p=a.lg.end,x=a.ig.dpBorder==="left"?"start":"end";u(),f.K(l,m,p,x)}else if(a.pg){var u=function(){t.Global.movingAreaData=null;var D=a.qg&&a.qg.calendar;a.qg&&(t.de(a.qg),a.qg.calendar=null),o().style.cursor="",a.Se=null,a.pg=null,D&&(D.vf=null)};if(!a.qg)return void u();var l=a.pg,f=a.qg.calendar;if(!f||(a.qg.source=a.Se,!a.qg.row))return void u();var m=a.qg.start,p=a.qg.end,b=a.qg.row.id;a.qg.calendar=null,o().style.cursor="",a.Se=null,a.pg=null,f.M(l,m,p,b,d),t.Global.movingAreaData=null}else if(a.Mh){var h=t.Util.mouseButton(d),y=a.Mh,f=y.calendar,u=function(){};if(f.li=null,d.ctrlKey||d.metaKey,a.Th)return clearTimeout(a.Th),a.Th=null,void u();f.Bf=y,a.Mh=null;var w=function(k){return function(){a.Th=null,f.yf(k),f.timeRangeSelectedHandling!=="Hold"&&f.timeRangeSelectedHandling!=="HoldForever"?i():f.Bf=k}},S=f._h(y);return u(),h.left?(w(S)(),d.cancelBubble=!0,!1):void(a.Th=null)}a.Ih=null,a.hg=null}}})(e),(function(){var t=Ru(),r=(uI(),FEt()),s=r({componentDidMount:function(){this.control=new e.Scheduler(this.me.ref,this.props),this.control.init();var c=this.props.controlRef;c&&(typeof c=="function"?c(this.control):c.current=this.control)},componentWillUnmount:function(){this.control&&this.control.dispose()},componentDidUpdate:function(c,d,u){this.control&&this.control.update(this.props)},render:function(){this.me||(this.me={});var c=this.me;return t.createElement("div",{ref:function(d){c.ref=d}})}}),a=r({componentDidMount:function(){this.control=new e.Month(this.me.ref,this.props).init();var c=this.props.controlRef;c&&(typeof c=="function"?c(this.control):c.current=this.control)},componentWillUnmount:function(){this.control&&this.control.dispose()},componentDidUpdate:function(c,d,u){this.control&&this.control.update(this.props)},render:function(){this.me||(this.me={});var c=this.me;return t.createElement("div",{ref:function(d){c.ref=d}})}}),i=r({componentDidMount:function(){this.control=new e.Calendar(this.me.ref,this.props),this.control.init();var c=this.props.controlRef;c&&(typeof c=="function"?c(this.control):c.current=this.control)},componentWillUnmount:function(){this.control&&this.control.dispose()},componentDidUpdate:function(c,d,u){this.control&&this.control.update(this.props)},render:function(){this.me||(this.me={});var c=this.me;return t.createElement("div",{ref:function(d){c.ref=d}})}}),o=r({componentDidMount:function(){this.control=new e.Navigator(this.me.ref,this.props).init();var c=this.props.controlRef;c&&(typeof c=="function"?c(this.control):c.current=this.control)},componentWillUnmount:function(){this.control&&this.control.dispose()},componentDidUpdate:function(c,d,u){this.control&&this.control.update(this.props)},render:function(){this.me||(this.me={});var c=this.me;return t.createElement("div",{ref:function(d){c.ref=d}})}});w4.exports={DayPilot:e,DayPilotMonth:a,DayPilotCalendar:i,DayPilotNavigator:o,DayPilotScheduler:s}})(),w4.exports}var Va=$Et();const Wp=[{id:"op1",name:"Food Preparation",description:"Preparing ingredients and cooking food items",color:"#3498db"},{id:"op2",name:"Customer Service",description:"Taking orders and serving customers",color:"#e74c3c"},{id:"op3",name:"Cleaning & Maintenance",description:"Cleaning equipment and maintaining workspace",color:"#2ecc71"},{id:"op4",name:"Inventory Management",description:"Managing stock and supplies",color:"#f39c12"},{id:"op5",name:"Cash Handling",description:"Processing payments and managing cash register",color:"#9b59b6"},{id:"op6",name:"Training",description:"Training new employees or learning new skills",color:"#1abc9c"},{id:"op7",name:"Administrative Tasks",description:"Paperwork, scheduling, and administrative duties",color:"#e67e22"},{id:"op8",name:"Break Time",description:"Scheduled break or meal time",color:"#95a5a6"}],If=e=>{const[t,r]=e.split(":").map(Number);return t*60+r},wK=e=>Wp.find(t=>t.id===e),LEt=(e,t,r)=>{if(!e||!e.isEnabled||e.segments.length===0)return[{pct:0,color:"#94a3b8"}];if(e.segments.length===1)return[{pct:0,color:wK(e.segments[0].operationId)?.color||"#94a3b8"}];const s=[...e.segments].sort((d,u)=>If(d.startTime)-If(u.startTime)),a=If(t),o=If(r)-a;if(o<=0)return[{pct:0,color:"#94a3b8"}];const c=[];return s.forEach((d,u)=>{const l=wK(d.operationId),f=If(d.startTime),m=If(d.endTime),p=Math.max(0,(f-a)/o*100),x=Math.min(100,(m-a)/o*100),b=l?.color||"#94a3b8";u===0&&p>0&&(c.push({pct:0,color:"#f3f4f6"}),c.push({pct:p,color:"#f3f4f6"})),c.push({pct:p,color:b});const h=s[u+1];if(h){const w=(If(h.startTime)-a)/o*100;w>x?(c.push({pct:x,color:b}),c.push({pct:x,color:"#f3f4f6"}),c.push({pct:w,color:"#f3f4f6"})):c.push({pct:x,color:b})}else x<100?(c.push({pct:x,color:b}),c.push({pct:x,color:"#f3f4f6"}),c.push({pct:100,color:"#f3f4f6"})):c.push({pct:100,color:b})}),c},BEt=e=>e.length===1?e[0].color:`linear-gradient(to right, ${e.map(r=>`${r.color} ${r.pct}%`).join(", ")})`,npe=(e,t)=>{switch(e){case"day":return{scale:"Hour",days:1,startDate:t.getDatePart().toString(),timeHeaders:[{groupBy:"Hour",format:"h tt"}],cellWidth:100,businessBeginsHour:8,businessEndsHour:20,showNonBusiness:!1};case"week":return{scale:"Day",days:7,startDate:t.firstDayOfWeek().toString(),timeHeaders:[{groupBy:"Day",format:"M/d/yyyy"}],cellWidth:200,businessBeginsHour:8,businessEndsHour:20,showNonBusiness:!1};default:return npe("week",t)}},zEt=({resources:e,events:t,currentView:r,currentDate:s,onEventMoved:a,onEventResized:i,onTimeRangeSelected:o,onEventClick:c})=>{const d=v.useRef(null),u=npe(r,s),l=v.useCallback(f=>{try{const m=f.data;if(r==="day"&&m?.employeeEventData?.operation_segmentation){const p=new Date(m.start.toString()),x=new Date(m.end.toString()),b=`${p.getHours().toString().padStart(2,"0")}:${p.getMinutes().toString().padStart(2,"0")}`,h=`${x.getHours().toString().padStart(2,"0")}:${x.getMinutes().toString().padStart(2,"0")}`,y=LEt(m.employeeEventData.operation_segmentation,b,h);if(y&&y.length>1){const w=BEt(y);if(w){f.data.cssClass="phased-gradient",f.data.backColor="transparent",f.data.barBackColor="transparent",f.data.areas=[{top:0,left:0,right:0,bottom:0,style:`background: ${w}; border-radius: 3px; z-index: 1;`}];const S=new Date(m.start.toString()),N=new Date(m.end.toString()),_=S.getHours()*60+S.getMinutes(),E=N.getHours()*60+N.getMinutes()-_,D=[...m.employeeEventData.operation_segmentation.segments].sort((P,M)=>{const R=parseInt(P.startTime.split(":")[0])*60+parseInt(P.startTime.split(":")[1]),B=parseInt(M.startTime.split(":")[0])*60+parseInt(M.startTime.split(":")[1]);return R-B}).map(P=>{const M=parseInt(P.startTime.split(":")[0])*60+parseInt(P.startTime.split(":")[1]),R=parseInt(P.endTime.split(":")[0])*60+parseInt(P.endTime.split(":")[1]),B=(M-_)/E*100,$=(R-_)/E*100-B,z=Wp.find(H=>H.id===P.operationId)?.name||"Unknown";return`<div style="position: absolute; left: ${B}%; width: ${$}%; top: 0; height: 100%; display: flex; align-items: center; justify-content: center; font-size: 10px; font-weight: 600; color: #333; text-shadow: 0 0 2px rgba(255, 255, 255, 0.9); overflow: hidden; white-space: nowrap; text-overflow: ellipsis; z-index: 15;">${z}</div>`}).join("");f.data.html=`
              <div style="position: relative; height: 100%; width: 100%;">
                ${D}
              </div>
            `}}else y&&y.length===1?f.data.barColor=y[0].color:f.data.html=`
            <div style="position: relative; height: 100%; width: 100%; display: flex; align-items: center; padding: 2px 8px;">
              <span style="color: #333; font-weight: 500; text-shadow: 0 0 2px rgba(255, 255, 255, 0.8); overflow: hidden; white-space: nowrap; text-overflow: ellipsis;">
                ${f.data.text||""}
              </span>
            </div>
          `}else f.data.html=`
          <div style="position: relative; height: 100%; width: 100%; display: flex; align-items: center; padding: 2px 8px;">
            <span style="color: #333; font-weight: 500; text-shadow: 0 0 2px rgba(255, 255, 255, 0.8); overflow: hidden; white-space: nowrap; text-overflow: ellipsis;">
              ${f.data.text||""}
            </span>
          </div>
        `}catch(m){console.warn("Error in onBeforeEventRender:",m)}},[r]);return n.jsx("div",{className:"flex-1 bg-background border rounded-lg overflow-hidden",children:n.jsx(Va.DayPilotScheduler,{ref:d,resources:e,events:t,scale:u.scale,days:u.days,startDate:u.startDate,timeHeaders:u.timeHeaders,cellWidth:u.cellWidth,businessBeginsHour:u.businessBeginsHour,businessEndsHour:u.businessEndsHour,height:600,rowHeaderWidth:200,eventHeight:30,headerHeight:30,eventMoveHandling:"Update",eventResizeHandling:"Update",timeRangeSelectedHandling:"Enabled",eventClickHandling:"Enabled",theme:"scheduler_default",onBeforeEventRender:l,onEventMoved:a,onEventResized:i,onTimeRangeSelected:o,onEventClick:c})})},H$=Db,UEt=ux,HEt=Pb,ape=v.forwardRef(({className:e,...t},r)=>n.jsx(Bu,{className:X("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));ape.displayName=Bu.displayName;const VEt=Jm("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out inset-y-0 right-0 h-full border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right",{variants:{size:{default:"w-full md:w-1/2 lg:w-1/3",full:"w-full",half:"w-1/2",third:"w-1/3"}},defaultVariants:{size:"default"}}),Sk=v.forwardRef(({size:e="default",className:t,children:r,title:s,...a},i)=>n.jsxs(HEt,{children:[n.jsx(ape,{}),n.jsx(zu,{ref:i,className:X(VEt({size:e}),t),...a,children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s&&n.jsx(Uu,{className:"text-lg font-semibold text-foreground",children:s}),n.jsxs(ux,{className:"rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary ml-auto",children:[n.jsx(Kr,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]}),n.jsx("div",{className:"flex-1 overflow-auto p-4",children:r})]})})]}));Sk.displayName=zu.displayName;const ipe=({className:e,...t})=>n.jsx("div",{className:X("flex flex-col space-y-2 text-center sm:text-left",e),...t});ipe.displayName="DrawerHeader";const V$=({className:e,...t})=>n.jsx("div",{className:X("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 p-4 border-t",e),...t});V$.displayName="DrawerFooter";const ope=v.forwardRef(({className:e,...t},r)=>n.jsx(Uu,{ref:r,className:X("text-lg font-semibold text-foreground",e),...t}));ope.displayName=Uu.displayName;const lpe=v.forwardRef(({className:e,...t},r)=>n.jsx(Qm,{ref:r,className:X("text-sm text-muted-foreground",e),...t}));lpe.displayName=Qm.displayName;const cpe=({segmentation:e,onSegmentationChange:t,eventStartTime:r,eventEndTime:s})=>{const[a,i]=v.useState([]),o=v.useCallback(()=>`segment_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,[]),c=v.useCallback(S=>{const[N,_]=S.split(":").map(Number);return N*60+_},[]),d=v.useCallback(S=>{const N=Math.floor(S/60),_=S%60;return`${N.toString().padStart(2,"0")}:${_.toString().padStart(2,"0")}`},[]),u=v.useCallback(S=>{const N=[];if(S.length===0)return N;const _=[...S].sort((T,D)=>c(T.startTime)-c(D.startTime)),k=c(r),E=c(s);c(_[0].startTime)!==k&&N.push("First segment must start at event start time"),c(_[_.length-1].endTime)!==E&&N.push("Last segment must end at event end time");for(let T=0;T<_.length;T++){const D=_[T],P=c(D.startTime),M=c(D.endTime);if(P>=M&&N.push(`Segment ${T+1}: Start time must be before end time`),T<_.length-1){const R=_[T+1],B=c(R.startTime);M<B?N.push(`Gap between segment ${T+1} and ${T+2}`):M>B&&N.push(`Overlap between segment ${T+1} and ${T+2}`)}}return N},[r,s,c]),l=v.useCallback(S=>{const N=u(S);i(N)},[u]),f=v.useCallback(S=>{const N={...e,isEnabled:S,segments:S?e.segments:[]};t(N),S?l(N.segments):i([])},[e,t,l]),m=v.useCallback(()=>{const S=e.segments[e.segments.length-1],N=S?S.endTime:r,_={id:o(),startTime:N,endTime:s,operationId:Wp[0].id},k=[...e.segments,_],E={...e,segments:k};t(E),l(k)},[e,r,s,o,t,l]),p=v.useCallback(S=>{const N=e.segments.filter(k=>k.id!==S),_={...e,segments:N};t(_),l(N)},[e,t,l]),x=v.useCallback((S,N,_)=>{const k=e.segments.map(T=>T.id===S?{...T,[N]:_}:T),E={...e,segments:k};t(E),l(k)},[e,t,l]),b=v.useCallback(S=>Wp.find(N=>N.id===S),[]),h=v.useCallback(()=>{if(e.segments.length===0){const S={id:o(),startTime:r,endTime:s,operationId:Wp[0].id},N={...e,segments:[S]};t(N),l([S])}},[e,r,s,o,t,l]),y=v.useMemo(()=>e.segments.reduce((S,N)=>{const _=c(N.endTime)-c(N.startTime);return S+_},0),[e.segments,c]),w=v.useMemo(()=>c(s)-c(r),[r,s,c]);return n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:"Operation Segmentation"}),n.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Divide the event into time segments and assign operations to each segment"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Enable"}),n.jsx(ys,{checked:e.isEnabled,onCheckedChange:f})]})]}),e.isEnabled&&n.jsxs(n.Fragment,{children:[n.jsxs(oe,{children:[n.jsx(Re,{className:"pb-2 sm:pb-3",children:n.jsxs(qe,{className:"text-sm flex items-center gap-2",children:[n.jsx(po,{className:"h-4 w-4"}),"Event Time Frame"]})}),n.jsx(je,{className:"pt-0",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-xs sm:text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"font-medium",children:"Start:"}),n.jsx("span",{className:"font-mono",children:r})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"font-medium",children:"End:"}),n.jsx("span",{className:"font-mono",children:s})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"font-medium",children:"Duration:"}),n.jsx("span",{className:"font-mono",children:d(w)})]})]})})]}),a.length>0&&n.jsxs(oe,{className:"border-destructive",children:[n.jsx(Re,{className:"pb-2 sm:pb-3",children:n.jsxs(qe,{className:"text-sm flex items-center gap-2 text-destructive",children:[n.jsx(TC,{className:"h-4 w-4"}),"Validation Errors"]})}),n.jsx(je,{className:"pt-0",children:n.jsx("ul",{className:"list-disc list-inside space-y-1 text-xs sm:text-sm text-destructive",children:a.map((S,N)=>n.jsx("li",{children:S},N))})})]}),n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[n.jsx("h4",{className:"text-sm sm:text-md font-medium",children:"Time Segments"}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.segments.length===0&&n.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:h,className:"text-xs sm:text-sm",children:"Auto Fill"}),n.jsxs(W,{type:"button",variant:"outline",size:"sm",onClick:m,className:"text-xs sm:text-sm",children:[n.jsx(Yt,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),"Add Segment"]})]})]}),e.segments.length===0?n.jsx(oe,{className:"border-dashed",children:n.jsxs(je,{className:"flex flex-col items-center justify-center py-6 sm:py-8 text-center",children:[n.jsx(po,{className:"h-6 w-6 sm:h-8 sm:w-8 text-muted-foreground mb-2"}),n.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground max-w-xs",children:"No segments created yet. Add segments to divide the event time."})]})}):n.jsx("div",{className:"space-y-2 sm:space-y-3",children:e.segments.map((S,N)=>{const _=b(S.operationId);return n.jsx(oe,{children:n.jsx(je,{className:"p-3 sm:p-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ae,{variant:"outline",className:"text-xs",children:["Segment ",N+1]}),n.jsx(W,{type:"button",variant:"ghost",size:"sm",onClick:()=>p(S.id),className:"text-destructive hover:text-destructive h-8 w-8 p-0",children:n.jsx(kt,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(Q,{className:"text-xs",children:"Start Time"}),n.jsx(ne,{type:"time",value:S.startTime,onChange:k=>x(S.id,"startTime",k.target.value),className:"h-8 text-xs sm:text-sm"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Q,{className:"text-xs",children:"End Time"}),n.jsx(ne,{type:"time",value:S.endTime,onChange:k=>x(S.id,"endTime",k.target.value),className:"h-8 text-xs sm:text-sm"})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Q,{className:"text-xs",children:"Operation"}),n.jsxs(xt,{value:S.operationId,onValueChange:k=>x(S.id,"operationId",k),children:[n.jsx(ft,{className:"h-8 text-xs sm:text-sm",children:n.jsx(vt,{})}),n.jsx(mt,{children:Wp.map(k=>n.jsx(Ue,{value:k.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[k.color&&n.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full flex-shrink-0",style:{backgroundColor:k.color}}),n.jsx("span",{className:"text-xs sm:text-sm truncate",children:k.name})]})},k.id))})]})]}),_&&n.jsx("div",{className:"text-xs text-muted-foreground bg-muted/50 p-2 rounded-md",children:_.description})]})})},S.id)})}),e.segments.length>0&&n.jsxs(oe,{children:[n.jsx(Re,{className:"pb-2 sm:pb-3",children:n.jsxs(qe,{className:"text-sm flex items-center gap-2",children:[n.jsx(po,{className:"h-4 w-4"}),"Event Timeline"]})}),n.jsx(je,{className:"pt-0",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"h-8 rounded-lg border-2 border-gray-200 overflow-hidden",style:{background:(()=>{if(e.segments.length===0)return"#f3f4f6";const S=[...e.segments].sort((T,D)=>c(T.startTime)-c(D.startTime)),N=c(r),k=c(s)-N;if(k<=0)return"#f3f4f6";const E=[];return S.forEach((T,D)=>{const P=b(T.operationId),M=c(T.startTime),R=c(T.endTime),B=(M-N)/k*100,L=(R-N)/k*100,$=P?.color||"#94a3b8";D===0&&B>0&&(E.push("#f3f4f6 0%"),E.push(`#f3f4f6 ${B}%`)),E.push(`${$} ${B}%`),E.push(`${$} ${L}%`);const I=S[D+1];if(I){const H=(c(I.startTime)-N)/k*100;H>L&&(E.push(`#f3f4f6 ${L}%`),E.push(`#f3f4f6 ${H}%`))}else L<100&&(E.push(`#f3f4f6 ${L}%`),E.push("#f3f4f6 100%"))}),`linear-gradient(to right, ${E.join(", ")})`})()}}),n.jsxs("div",{className:"flex justify-between mt-1 text-xs text-muted-foreground",children:[n.jsx("span",{className:"font-mono",children:r}),n.jsx("span",{className:"font-mono",children:s})]})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:e.segments.map(S=>{const N=b(S.operationId);return N?n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:N.color}}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[N.name," (",S.startTime,"-",S.endTime,")"]})]},S.id):null})})]})})]}),e.segments.length>0&&n.jsx(oe,{children:n.jsx(je,{className:"p-3 sm:p-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-xs sm:text-sm",children:[n.jsx("span",{className:"font-medium",children:"Coverage Summary:"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:a.length===0?"text-green-600 font-mono":"text-destructive font-mono",children:[d(y)," / ",d(w)]}),a.length===0&&n.jsx(Ae,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:"Complete"})]})]})})})]})]})]})},WEt=({isOpen:e,onClose:t,newEventData:r,eventTitle:s,onEventTitleChange:a,employeeEventForm:i,onEmployeeEventFormChange:o,onCreateEvent:c,employees:d,statuses:u,businessBeginsHour:l=8,businessEndsHour:f=20})=>{const[m,p]=v.useState(!1),[x,b]=v.useState("details"),[h,y]=v.useState({isEnabled:!1,segments:[]}),w=(E,T)=>{o(E,T)},S=E=>{y(E),w("operation_segmentation",E)},N=()=>{p(!1),b("details"),y({isEnabled:!1,segments:[]}),t()},_=()=>{const E=l.toString().padStart(2,"0")+":00",T=f.toString().padStart(2,"0")+":00";w("scheduled_start_time",E),w("scheduled_end_time",T),p(!0)},k=()=>{if(!s.trim()||!r)return!1;if(i.scheduled_start_time&&i.scheduled_end_time){const E=new Date(`2000-01-01T${i.scheduled_start_time}`),T=new Date(`2000-01-01T${i.scheduled_end_time}`);if(E>=T)return!1}if(i.actual_start_time&&i.actual_end_time){const E=new Date(`2000-01-01T${i.actual_start_time}`),T=new Date(`2000-01-01T${i.actual_end_time}`);if(E>=T)return!1}return!0};return n.jsx(H$,{open:e,onOpenChange:N,children:n.jsxs(Sk,{title:"Create New Employee Event",children:[n.jsxs("div",{className:"max-h-[70vh] overflow-y-auto px-6 py-4",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx(Q,{htmlFor:"eventTitle",className:"text-sm font-medium",children:"Event Title"}),n.jsx(ne,{id:"eventTitle",type:"text",value:s,onChange:E=>a(E.target.value),placeholder:"Enter event title...",className:"mt-1",autoFocus:!0})]}),r&&n.jsxs("div",{className:"mb-6",children:[n.jsx(Q,{className:"text-sm font-medium",children:"Employee Information"}),n.jsxs("div",{className:"mt-1 p-3 bg-muted rounded-md",children:[n.jsxs("p",{className:"text-sm",children:[n.jsx("strong",{children:"Employee:"})," ",d.find(E=>E.id===r.resource)?.name||r.resource]}),n.jsxs("p",{className:"text-sm",children:[n.jsx("strong",{children:"Scheduled Start:"})," ",r.start.toString()]}),n.jsxs("p",{className:"text-sm",children:[n.jsx("strong",{children:"Scheduled End:"})," ",r.end.toString()]})]})]}),n.jsxs(Zl,{value:x,onValueChange:b,className:"w-full",children:[n.jsxs(ll,{className:"grid w-full grid-cols-2",children:[n.jsx(xs,{value:"details",children:"Event Details"}),n.jsx(xs,{value:"operations",children:"Operation Segmentation"})]}),n.jsxs(vs,{value:"details",className:"space-y-6 mt-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Scheduled Times"}),n.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:_,className:"text-xs",children:"All Work Day"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Q,{htmlFor:"scheduledStartTime",className:"text-sm",children:"Scheduled Start Time"}),n.jsx(ne,{id:"scheduledStartTime",type:"time",value:i.scheduled_start_time||"",onChange:E=>{w("scheduled_start_time",E.target.value),p(!1)},disabled:m,className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(Q,{htmlFor:"scheduledEndTime",className:"text-sm",children:"Scheduled End Time"}),n.jsx(ne,{id:"scheduledEndTime",type:"time",value:i.scheduled_end_time||"",onChange:E=>{w("scheduled_end_time",E.target.value),p(!1)},disabled:m,className:"mt-1"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Actual Times"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Q,{htmlFor:"actualStartTime",className:"text-sm",children:"Actual Start Time"}),n.jsx(ne,{id:"actualStartTime",type:"time",value:i.actual_start_time||"",onChange:E=>w("actual_start_time",E.target.value||null),className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(Q,{htmlFor:"actualEndTime",className:"text-sm",children:"Actual End Time"}),n.jsx(ne,{id:"actualEndTime",type:"time",value:i.actual_end_time||"",onChange:E=>w("actual_end_time",E.target.value||null),className:"mt-1"})]})]})]}),n.jsxs("div",{children:[n.jsx(Q,{htmlFor:"statusSelect",className:"text-sm font-medium",children:"Status"}),n.jsxs(xt,{value:i.status_id.toString(),onValueChange:E=>w("status_id",parseInt(E)),children:[n.jsx(ft,{className:"mt-1",children:n.jsx(vt,{placeholder:"Select status"})}),n.jsx(mt,{children:u.map(E=>n.jsx(Ue,{value:E.id,children:E.name},E.id))})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Options"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Q,{htmlFor:"vciSwitch",className:"text-sm",children:"VCI (Virtual Id Check)"}),n.jsx(ys,{id:"vciSwitch",checked:i.vci,onCheckedChange:E=>w("vci",E)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Q,{htmlFor:"agreeExceptionSwitch",className:"text-sm",children:"Agree on Exception"}),n.jsx(ys,{id:"agreeExceptionSwitch",checked:i.agree_on_exception,onCheckedChange:E=>w("agree_on_exception",E)})]})]}),n.jsxs("div",{children:[n.jsx(Q,{htmlFor:"exceptionNotes",className:"text-sm font-medium",children:"Exception Notes"}),n.jsx(Ht,{id:"exceptionNotes",value:i.exception_notes||"",onChange:E=>w("exception_notes",E.target.value||null),placeholder:"Enter any exception notes...",className:"mt-1 min-h-[80px]"})]})]}),n.jsx(vs,{value:"operations",className:"mt-6",children:n.jsx(cpe,{segmentation:h,onSegmentationChange:S,eventStartTime:i.scheduled_start_time||"08:00",eventEndTime:i.scheduled_end_time||"17:00"})})]})]}),n.jsx(V$,{children:n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(W,{variant:"outline",onClick:N,children:"Cancel"}),n.jsx(W,{onClick:c,disabled:!k(),children:"Create Event"})]})})]})})},qEt=({isOpen:e,onClose:t,editingEvent:r,editEventTitle:s,onEditEventTitleChange:a,editEmployeeEventForm:i,onEditEmployeeEventFormChange:o,onEditEvent:c,onDeleteEvent:d,employees:u,statuses:l,businessBeginsHour:f=8,businessEndsHour:m=20})=>{const[p,x]=v.useState(!1),[b,h]=v.useState("details"),[y,w]=v.useState({isEnabled:!1,segments:[]});v.useEffect(()=>{i?.operation_segmentation?w(i.operation_segmentation):w({isEnabled:!1,segments:[]})},[i?.operation_segmentation]);const S=(D,P)=>{o(D,P)},N=D=>{w(D),S("operation_segmentation",D)},_=()=>{x(!1),h("details"),t()},k=()=>{const D=f.toString().padStart(2,"0")+":00",P=m.toString().padStart(2,"0")+":00";S("scheduled_start_time",D),S("scheduled_end_time",P),x(!0)},E=()=>{if(!s.trim()||!r)return!1;if(i.scheduled_start_time&&i.scheduled_end_time){const D=new Date(`2000-01-01T${i.scheduled_start_time}`),P=new Date(`2000-01-01T${i.scheduled_end_time}`);if(D>=P)return!1}if(i.actual_start_time&&i.actual_end_time){const D=new Date(`2000-01-01T${i.actual_start_time}`),P=new Date(`2000-01-01T${i.actual_end_time}`);if(D>=P)return!1}return!0},T=()=>{window.confirm("Are you sure you want to delete this event?")&&d()};return r?n.jsx(H$,{open:e,onOpenChange:_,children:n.jsxs(Sk,{title:"Edit Employee Event",children:[n.jsxs("div",{className:"max-h-[70vh] overflow-y-auto px-6 py-4",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx(Q,{htmlFor:"editEventTitle",className:"text-sm font-medium",children:"Event Title"}),n.jsx(ne,{id:"editEventTitle",type:"text",value:s,onChange:D=>a(D.target.value),placeholder:"Enter event title...",className:"mt-1",autoFocus:!0})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx(Q,{className:"text-sm font-medium",children:"Employee Information"}),n.jsxs("div",{className:"mt-1 p-3 bg-muted rounded-md",children:[n.jsxs("p",{className:"text-sm",children:[n.jsx("strong",{children:"Employee:"})," ",u.find(D=>D.id===r.resource)?.name||r.resource]}),n.jsxs("p",{className:"text-sm",children:[n.jsx("strong",{children:"Scheduled Start:"})," ",r.start.toString()]}),n.jsxs("p",{className:"text-sm",children:[n.jsx("strong",{children:"Scheduled End:"})," ",r.end.toString()]}),r.id&&n.jsxs("p",{className:"text-sm",children:[n.jsx("strong",{children:"Event ID:"})," ",r.id]})]})]}),n.jsxs(Zl,{value:b,onValueChange:h,className:"w-full",children:[n.jsxs(ll,{className:"grid w-full grid-cols-2",children:[n.jsx(xs,{value:"details",children:"Event Details"}),n.jsx(xs,{value:"operations",children:"Operation Segmentation"})]}),n.jsxs(vs,{value:"details",className:"space-y-6 mt-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Scheduled Times"}),n.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:k,className:"text-xs",children:"All Work Day"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Q,{htmlFor:"editScheduledStartTime",className:"text-sm",children:"Scheduled Start Time"}),n.jsx(ne,{id:"editScheduledStartTime",type:"time",value:i.scheduled_start_time||"",onChange:D=>{S("scheduled_start_time",D.target.value),x(!1)},disabled:p,className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(Q,{htmlFor:"editScheduledEndTime",className:"text-sm",children:"Scheduled End Time"}),n.jsx(ne,{id:"editScheduledEndTime",type:"time",value:i.scheduled_end_time||"",onChange:D=>{S("scheduled_end_time",D.target.value),x(!1)},disabled:p,className:"mt-1"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Actual Times"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Q,{htmlFor:"editActualStartTime",className:"text-sm",children:"Actual Start Time"}),n.jsx(ne,{id:"editActualStartTime",type:"time",value:i.actual_start_time||"",onChange:D=>S("actual_start_time",D.target.value||null),className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(Q,{htmlFor:"editActualEndTime",className:"text-sm",children:"Actual End Time"}),n.jsx(ne,{id:"editActualEndTime",type:"time",value:i.actual_end_time||"",onChange:D=>S("actual_end_time",D.target.value||null),className:"mt-1"})]})]})]}),n.jsxs("div",{children:[n.jsx(Q,{htmlFor:"editStatusSelect",className:"text-sm font-medium",children:"Status"}),n.jsxs(xt,{value:i.status_id.toString(),onValueChange:D=>S("status_id",parseInt(D)),children:[n.jsx(ft,{className:"mt-1",children:n.jsx(vt,{placeholder:"Select status"})}),n.jsx(mt,{children:l.map(D=>n.jsx(Ue,{value:D.id,children:D.name},D.id))})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Options"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Q,{htmlFor:"editVciSwitch",className:"text-sm",children:"VCI (Virtual Id Check)"}),n.jsx(ys,{id:"editVciSwitch",checked:i.vci,onCheckedChange:D=>S("vci",D)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Q,{htmlFor:"editAgreeExceptionSwitch",className:"text-sm",children:"Agree on Exception"}),n.jsx(ys,{id:"editAgreeExceptionSwitch",checked:i.agree_on_exception,onCheckedChange:D=>S("agree_on_exception",D)})]})]}),n.jsxs("div",{children:[n.jsx(Q,{htmlFor:"editExceptionNotes",className:"text-sm font-medium",children:"Exception Notes"}),n.jsx(Ht,{id:"editExceptionNotes",value:i.exception_notes||"",onChange:D=>S("exception_notes",D.target.value||null),placeholder:"Enter any exception notes...",className:"mt-1 min-h-[80px]"})]})]}),n.jsx(vs,{value:"operations",className:"space-y-6 mt-6",children:n.jsx(cpe,{segmentation:y,onSegmentationChange:N,eventStartTime:i.scheduled_start_time||"",eventEndTime:i.scheduled_end_time||""})})]})]}),n.jsx(V$,{children:n.jsxs("div",{className:"flex gap-2 justify-between",children:[n.jsx(W,{variant:"destructive",onClick:T,children:"Delete Event"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(W,{variant:"outline",onClick:_,children:"Cancel"}),n.jsx(W,{onClick:c,disabled:!E(),children:"Update Event"})]})]})})]})}):null},GEt=()=>n.jsx("h2",{className:"mb-5 text-2xl font-bold text-foreground",children:"React Scheduler with Multiple Views (DayPilot)"}),YEt=({currentView:e,dateRangeText:t,onPrevious:r,onNext:s,onToday:a,onViewChange:i})=>n.jsxs("div",{className:"mb-5 flex items-center justify-between rounded-lg bg-muted p-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-2.5",children:[n.jsx(W,{onClick:r,variant:"outline",size:"sm",className:"text-sm",children:" Previous"}),n.jsx(W,{onClick:a,variant:"default",size:"sm",className:"font-bold",children:"Today"}),n.jsx(W,{onClick:s,variant:"outline",size:"sm",className:"text-sm",children:"Next "}),n.jsx("div",{className:"ml-5 text-base font-bold text-foreground",children:t})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx(W,{onClick:()=>i("day"),variant:e==="day"?"default":"outline",size:"sm",className:"px-4",children:"Day"}),n.jsx(W,{onClick:()=>i("week"),variant:e==="week"?"default":"outline",size:"sm",className:"px-4",children:"Week"})]})]}),KEt=({selectedStoreId:e,stores:t,onStoreChange:r,getStoreName:s})=>n.jsxs("div",{className:"mb-4 flex items-center gap-4 rounded-lg bg-card border border-border p-4 shadow-sm",children:[n.jsx(Q,{htmlFor:"storeSelect",className:"text-sm font-medium text-card-foreground whitespace-nowrap",children:"Select Store:"}),n.jsxs(xt,{value:e||"all",onValueChange:r,children:[n.jsx(ft,{className:"w-[200px]",children:n.jsx(vt,{placeholder:"All Stores"})}),n.jsxs(mt,{children:[n.jsx(Ue,{value:"all",children:"All Stores"}),t.map(a=>n.jsx(Ue,{value:a.id,children:a.name},a.id))]})]}),e&&n.jsxs("span",{className:"text-sm text-muted-foreground",children:["Showing employees from: ",n.jsx("span",{className:"font-medium text-primary",children:s(e)})]})]}),ZEt=({currentView:e})=>{const t=()=>{switch(e){case"day":case"week":return"  Business hours: 8 AM - 8 PM";default:return""}};return n.jsxs("div",{className:"mb-4 rounded bg-primary-50 p-2.5 text-sm text-primary-700",children:[n.jsx("strong",{children:"Current View:"})," ",e.charAt(0).toUpperCase()+e.slice(1),t()]})},jK=[{id:"1",name:"Scheduled"},{id:"2",name:"In Progress"},{id:"3",name:"Completed"},{id:"4",name:"Cancelled"},{id:"5",name:"No Show"}],dpe=[{id:"store1",name:"Downtown Store"},{id:"store2",name:"Mall Location"},{id:"store3",name:"Airport Branch"},{id:"store4",name:"Suburban Center"}],SK=[{id:"emp1",name:"Alice Johnson",storeId:"store1",color:"#3498db"},{id:"emp2",name:"Bob Smith",storeId:"store1",color:"#e74c3c"},{id:"emp3",name:"Carol Davis",storeId:"store2",color:"#2ecc71"},{id:"emp4",name:"David Wilson",storeId:"store2",color:"#f39c12"},{id:"emp5",name:"Eva Brown",storeId:"store3",color:"#9b59b6"},{id:"emp6",name:"Frank Miller",storeId:"store3",color:"#1abc9c"},{id:"emp7",name:"Grace Lee",storeId:"store4",color:"#e67e22"},{id:"emp8",name:"Henry Taylor",storeId:"store4",color:"#34495e"}],XEt=[{id:"event1",text:"Morning Shift",start:Va.DayPilot.Date.today().addHours(9),end:Va.DayPilot.Date.today().addHours(17),resource:"emp1",barColor:"#3498db",description:"Regular morning shift",status:"Confirmed",priority:"High"},{id:"event2",text:"Training Session",start:Va.DayPilot.Date.today().addDays(1).addHours(10),end:Va.DayPilot.Date.today().addDays(1).addHours(12),resource:"emp2",barColor:"#e74c3c",description:"New employee training",status:"Scheduled",priority:"Medium"},{id:"event3",text:"Customer Meeting",start:Va.DayPilot.Date.today().addDays(2).addHours(14),end:Va.DayPilot.Date.today().addDays(2).addHours(16),resource:"emp3",barColor:"#2ecc71",description:"Important client presentation",status:"Confirmed",priority:"High"}],JEt=e=>{const t=v.useCallback(()=>!e||e==="all"?SK:SK.filter(l=>l.storeId===e),[e]),r=(l,f)=>{switch(l){case"day":return f.toString("MMMM d, yyyy");case"week":const m=f.firstDayOfWeek(),p=m.addDays(6);return`${m.toString("MMM d")} - ${p.toString("MMM d, yyyy")}`;default:return f.toString()}},s=()=>({emp_info_id:0,scheduled_start_time:"",scheduled_end_time:"",event_start_time:"",event_end_time:"",actual_start_time:null,actual_end_time:null,vci:!1,status_id:1,agree_on_exception:!1,exception_notes:null}),a=l=>dpe.find(f=>f.id===l)?.name||"",i=v.useCallback(l=>{const f=l.getHours().toString().padStart(2,"0"),m=l.getMinutes().toString().padStart(2,"0"),p=l.getSeconds().toString().padStart(2,"0");return`${f}:${m}:${p}`},[]),o=v.useCallback((l,f)=>{const[m,p,x=0]=l.split(":").map(Number);return(f||Va.DayPilot.Date.today()).getDatePart().addHours(m).addMinutes(p).addSeconds(x)},[]),c=v.useCallback((l,f,m)=>{const p=i(f),x=i(m);return{...l||s(),scheduled_start_time:p,scheduled_end_time:x,event_start_time:p,event_end_time:x}},[i,s]),d=v.useCallback((l,f)=>{const m=new Date(`2000-01-01T${l}`);return(new Date(`2000-01-01T${f}`).getTime()-m.getTime())/(1e3*60*60)},[]),u=v.useCallback(l=>l===1?"1 hour":l<1?`${Math.round(l*60)} minutes`:`${l.toFixed(1)} hours`,[]);return{getFilteredEmployees:t,getDateRangeText:r,getInitialEmployeeEventForm:s,getStoreName:a,convertDayPilotDateToTimeString:i,convertTimeStringToDayPilotDate:o,updateEmployeeEventTimes:c,calculateDurationHours:d,formatDuration:u}},QEt=({currentView:e,currentDate:t,events:r,setCurrentView:s,setCurrentDate:a,setSelectedStoreId:i,setEvents:o,setNewEventData:c,setIsCreateDrawerOpen:d,setSelectedEvent:u,setIsEditDrawerOpen:l,setEventTitle:f,setEditEventTitle:m,resetCreateForm:p,resetEditForm:x,updateEmployeeEventTimes:b,convertDayPilotDateToTimeString:h})=>({handleViewChange:P=>{s(P)},handlePrevious:()=>{switch(e){case"day":a(t.addDays(-1));break;case"week":a(t.addDays(-7));break}},handleNext:()=>{switch(e){case"day":a(t.addDays(1));break;case"week":a(t.addDays(7));break}},handleToday:()=>{a(Va.DayPilot.Date.today())},handleStoreChange:P=>{i(P==="all"?null:P)},handleTimeRangeSelected:P=>{const M={start:P.start,end:P.end,resource:String(P.resource)};c(M),f(""),p(),d(!0)},handleEventClick:P=>{const M=P.e.data;u(M),m(M.text||""),l(!0),x()},handleEventMove:P=>{const M=P.e.id(),R=P.newStart,B=P.newEnd,L=String(P.newResource),$=r.map(I=>{if(I.id===M){const z={...I,start:R,end:B,resource:L};return I.employeeEventData&&(z.employeeEventData=b(I.employeeEventData,R,B)),console.log("Event moved:",{eventId:M,newStartTime:h(R),newEndTime:h(B),employeeEventData:z.employeeEventData}),z}return I});o($)},handleEventResize:P=>{const M=P.e.id(),R=P.newStart,B=P.newEnd,L=r.map($=>{if($.id===M){const I={...$,start:R,end:B};return $.employeeEventData&&(I.employeeEventData=b($.employeeEventData,R,B)),console.log("Event resized:",{eventId:M,newStartTime:h(R),newEndTime:h(B),employeeEventData:I.employeeEventData}),I}return $});o(L)}}),e2t=({events:e,setEvents:t,setIsCreateDrawerOpen:r,setNewEventData:s,setEventTitle:a,resetCreateForm:i})=>{const o=()=>{r(!1),s(null),a(""),i()};return{handleCreateDrawerClose:o,handleEmployeeEventFormChange:(u,l,f)=>{f(m=>({...m,[u]:l}))},handleCreateEvent:(u,l,f)=>{if(!u||!l.trim())return;let m=u.start,p=u.end;if(f.scheduled_start_time&&f.scheduled_end_time){const h=new Date(u.start.toString()).toISOString().split("T")[0],y=N=>N.split(":").length===2?`${N}:00`:N,w=y(f.scheduled_start_time),S=y(f.scheduled_end_time);m=new Va.DayPilot.Date(`${h}T${w}`),p=new Va.DayPilot.Date(`${h}T${S}`)}const x={...u,id:`event_${Date.now()}`,text:l.trim(),start:m,end:p,employeeEventData:f};t([...e,x]),console.log("Event created:",x),console.log("Employee event form data:",f),o()}}},t2t=({events:e,setEvents:t,setIsEditDrawerOpen:r,setSelectedEvent:s,setEditEventTitle:a,resetEditForm:i})=>{const o=()=>{r(!1),s(null),a(""),i()};return{handleEditDrawerClose:o,handleEditEmployeeEventFormChange:(l,f,m)=>{m(p=>({...p,[l]:f}))},handleUpdateEvent:(l,f,m)=>{if(!l||!f.trim())return;let p=l.start,x=l.end;if(m.scheduled_start_time&&m.scheduled_end_time){const y=new Date(l.start.toString()).toISOString().split("T")[0],w=_=>_.split(":").length===2?`${_}:00`:_,S=w(m.scheduled_start_time),N=w(m.scheduled_end_time);p=new Va.DayPilot.Date(`${y}T${S}`),x=new Va.DayPilot.Date(`${y}T${N}`)}const b=e.map(h=>h.id===l.id?{...h,text:f.trim(),start:p,end:x,employeeEventData:m}:h);t(b),console.log("Event updated:",l),console.log("Employee event form data:",m),o()},handleDeleteEvent:l=>{if(!l)return;const f=e.filter(m=>m.id!==l.id);t(f),console.log("Event deleted:",l.id),o()}}},r2t=()=>{const[e,t]=v.useState([]),[r,s]=v.useState([]),[a,i]=v.useState("week"),[o,c]=v.useState(Va.DayPilot.Date.today()),[d,u]=v.useState(null),[l,f]=v.useState(!1),[m,p]=v.useState(null),[x,b]=v.useState(""),[h,y]=v.useState({emp_info_id:0,scheduled_start_time:"",scheduled_end_time:"",event_start_time:"",event_end_time:"",actual_start_time:null,actual_end_time:null,vci:!1,status_id:1,agree_on_exception:!1,exception_notes:null}),[w,S]=v.useState(!1),[N,_]=v.useState(null),[k,E]=v.useState(""),[T,D]=v.useState({emp_info_id:0,scheduled_start_time:"",scheduled_end_time:"",event_start_time:"",event_end_time:"",actual_start_time:null,actual_end_time:null,vci:!1,status_id:1,agree_on_exception:!1,exception_notes:null}),{getFilteredEmployees:P,getDateRangeText:M,getInitialEmployeeEventForm:R,getStoreName:B,updateEmployeeEventTimes:L,convertDayPilotDateToTimeString:$}=JEt(d),I=(de,ie)=>{switch(de){case"day":return{scale:"Hour",days:1,startDate:ie.getDatePart().toString(),timeHeaders:[{groupBy:"Hour",format:"h tt"}],cellWidth:100,businessBeginsHour:8,businessEndsHour:20,showNonBusiness:!1};case"week":return{scale:"Day",days:7,startDate:ie.firstDayOfWeek().toString(),timeHeaders:[{groupBy:"Day",format:"M/d/yyyy"}],cellWidth:200,businessBeginsHour:8,businessEndsHour:20,showNonBusiness:!1};default:return I("week",ie)}},z=I(a,o),H=()=>{y(R())},Z=()=>{D(R())},V=QEt({currentView:a,currentDate:o,events:r,setCurrentView:i,setCurrentDate:c,setSelectedStoreId:u,setEvents:s,setNewEventData:p,setIsCreateDrawerOpen:f,setSelectedEvent:_,setIsEditDrawerOpen:S,setEventTitle:b,setEditEventTitle:E,resetCreateForm:H,resetEditForm:Z,updateEmployeeEventTimes:L,convertDayPilotDateToTimeString:$}),G=e2t({events:r,setEvents:s,setIsCreateDrawerOpen:f,setNewEventData:p,setEventTitle:b,resetCreateForm:H}),U=t2t({events:r,setEvents:s,setIsEditDrawerOpen:S,setSelectedEvent:_,setEditEventTitle:E,resetEditForm:Z}),Y=(de,ie)=>{G.handleEmployeeEventFormChange(de,ie,y)},K=(de,ie)=>{U.handleEditEmployeeEventFormChange(de,ie,D)},re=()=>{G.handleCreateEvent(m,x,h)},he=()=>{U.handleUpdateEvent(N,k,T)},me=()=>{U.handleDeleteEvent(N)};return v.useEffect(()=>{N&&N.employeeEventData&&D(N.employeeEventData)},[N]),v.useEffect(()=>{const de=P(),ie=de.map(ve=>({name:ve.name,id:ve.id}));t(ie),s(XEt.filter(ve=>de.some(_e=>_e.id===ve.resource)))},[d,P]),n.jsxs("div",{className:"p-5 font-sans",children:[n.jsx(GEt,{}),n.jsx(YEt,{currentView:a,dateRangeText:M(a,o),onPrevious:V.handlePrevious,onNext:V.handleNext,onToday:V.handleToday,onViewChange:V.handleViewChange}),n.jsx(KEt,{selectedStoreId:d,stores:dpe,onStoreChange:V.handleStoreChange,getStoreName:B}),n.jsx(ZEt,{currentView:a}),n.jsx(zEt,{resources:e,events:r,currentView:a,currentDate:o,onTimeRangeSelected:V.handleTimeRangeSelected,onEventClick:V.handleEventClick,onEventMoved:V.handleEventMove,onEventResized:V.handleEventResize}),n.jsx(WEt,{isOpen:l,onClose:G.handleCreateDrawerClose,newEventData:m,eventTitle:x,onEventTitleChange:b,employeeEventForm:h,onEmployeeEventFormChange:Y,onCreateEvent:re,employees:P(),statuses:jK,businessBeginsHour:z.businessBeginsHour,businessEndsHour:z.businessEndsHour}),n.jsx(qEt,{isOpen:w,onClose:U.handleEditDrawerClose,editingEvent:N,editEventTitle:k,onEditEventTitleChange:E,editEmployeeEventForm:T,onEditEmployeeEventFormChange:K,onEditEvent:he,onDeleteEvent:me,employees:P(),statuses:jK,businessBeginsHour:z.businessBeginsHour,businessEndsHour:z.businessEndsHour})]})},s2t=()=>n.jsx(r2t,{}),n2t=[n.jsx(At,{path:"/daily-schedules",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(s2t,{})})})})},"daily-schedules-management")],a2t=300*1e3,i2t=e=>{const t=ql(),{skip:r=!1,forceRefetch:s=!1}={},a=Ce(NOe),i=Ce(COe),o=Ce(_Oe),c=Ce(EOe),d=Ce(kOe),u=v.useRef(!1),l=v.useCallback(()=>{if(!c)return!1;const x=Date.now(),b=new Date(c).getTime();return x-b<a2t},[c]),f=v.useCallback(()=>r?!1:s||!d?!0:l()?!1:(console.info("[useFieldTypeFilters] Cache expired, refetching data"),!0),[r,s,d,l]),m=v.useCallback(()=>{console.info("[useFieldTypeFilters] Manual refetch triggered"),u.current=!1,t(J0())},[t]),p=v.useCallback(()=>{console.info("[useFieldTypeFilters] Resetting error state"),t(jOe())},[t]);return v.useEffect(()=>{u.current||(f()?(console.info("[useFieldTypeFilters] Auto-fetching field type filters on mount"),u.current=!0,t(J0())):console.info("[useFieldTypeFilters] Using cached data, skipping fetch"))},[t,f]),v.useEffect(()=>{if(c){const x=l();console.info(`[useFieldTypeFilters] Cache status: ${x?"VALID":"EXPIRED"}`,{lastFetchedAt:c,itemCount:a.length})}},[c,a.length,l]),{items:a,loading:i,error:o,hasData:d,lastFetchedAt:c,isCacheValid:l(),refetch:m,resetError:p}},C4="contains",upe=({fieldId:e,fieldLabel:t,onFilterChange:r,initialFilter:s})=>{const[a,i]=v.useState(s?.type??C4),[o,c]=v.useState(s?.value??""),d=(p,x)=>{const b=x.trim();if(!b){r(e,null);return}r(e,{type:p,value:b})},u=o.trim()!=="";v.useEffect(()=>{const p=s?.type??C4,x=s?.value??"";i(p),c(x)},[e,s?.type,s?.value]);const l=()=>{i(C4),c(""),r(e,null)},f=()=>{switch(a){case"equals":return"Enter exact text...";case"startswith":return"Enter starting text...";case"endswith":return"Enter ending text...";case"notcontains":return"Enter excluded text...";default:return"Search text..."}},m=()=>{switch(a){case"equals":return"Find exact matches only";case"startswith":return"Find text that starts with this value";case"endswith":return"Find text that ends with this value";case"notcontains":return"Exclude entries containing this text";default:return"Find text containing this value"}};return n.jsxs("div",{className:"space-y-3 p-4 border border-gray-200 rounded-lg bg-white",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(kb,{className:"h-4 w-4 text-gray-500"}),n.jsx(Q,{className:"text-sm font-medium text-gray-700",children:t})]}),u&&n.jsx(W,{type:"button",variant:"ghost",size:"sm",onClick:l,className:"h-6 w-6 p-0 text-gray-400 hover:text-gray-600",children:n.jsx(Kr,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{htmlFor:`search-type-${e}`,className:"text-xs text-gray-600",children:"Search Type"}),n.jsxs(xt,{value:a,onValueChange:p=>{const x=p;i(x),d(x,o)},children:[n.jsx(ft,{id:`search-type-${e}`,className:"w-full",children:n.jsx(vt,{placeholder:"Select search type"})}),n.jsxs(mt,{children:[n.jsx(Ue,{value:"contains",children:"Contains"}),n.jsx(Ue,{value:"equals",children:"Equals"}),n.jsx(Ue,{value:"startswith",children:"Starts With"}),n.jsx(Ue,{value:"endswith",children:"Ends With"}),n.jsx(Ue,{value:"notcontains",children:"Does Not Contain"})]})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{htmlFor:`search-value-${e}`,className:"text-xs text-gray-600",children:"Search Value"}),n.jsx(ne,{id:`search-value-${e}`,type:"text",value:o,onChange:p=>{const x=p.target.value;c(x),d(a,x)},placeholder:f(),className:"w-full"}),n.jsx("p",{className:"text-xs text-gray-500 italic",children:m()})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[n.jsx("p",{className:"text-xs text-gray-400 italic",children:"Text Input"}),u&&n.jsx("span",{className:"text-xs px-2 py-0.5 bg-slate-50 text-slate-700 rounded",children:a.toUpperCase()})]})]})},W$=({fieldId:e,fieldLabel:t,fieldTypeName:r="Dropdown Select",options:s=[],onFilterChange:a,initialFilter:i})=>{const[o,c]=v.useState("");v.useEffect(()=>{const m=i?.options?.[0]??"";c(m)},[i?.options?.[0]]),v.useEffect(()=>{o&&s.length>0&&!s.includes(o)&&(c(""),a(e,null))},[s,o,e,a]);const d=r==="Radio Button"?ju:r==="Checkbox"?ox:q$e,u=m=>{const p=m.trim();if(!p||p==="_no_options"){a(e,null);return}a(e,{options:[p]})},l=()=>{c(""),a(e,null)},f=o!=="";return n.jsxs("div",{className:X("space-y-3 p-4 rounded-lg border bg-white transition-all duration-200",f?"border-blue-200":"border-gray-200"),children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:X("p-1.5 rounded",f?"bg-blue-50":"bg-gray-100"),children:n.jsx(d,{className:X("h-4 w-4",f?"text-blue-600":"text-gray-500")})}),n.jsx(Q,{className:"text-sm font-medium text-gray-700",children:t})]}),f&&n.jsx(W,{type:"button",variant:"ghost",size:"sm",onClick:l,className:"h-6 w-6 p-0 text-gray-400 hover:text-gray-600",children:n.jsx(Kr,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{htmlFor:`option-${e}`,className:"text-xs text-gray-600",children:"Select Option"}),n.jsxs(xt,{value:o,onValueChange:m=>{c(m),u(m)},children:[n.jsx(ft,{id:`option-${e}`,className:"w-full",children:n.jsx(vt,{placeholder:"Select an option..."})}),n.jsx(mt,{children:s.length>0?s.map((m,p)=>n.jsx(Ue,{value:m,children:m},p)):n.jsx(Ue,{value:"_no_options",disabled:!0,children:"No options available"})})]}),n.jsx("p",{className:"text-xs text-gray-500 italic",children:"Filter entries with this selected value"})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[n.jsx("p",{className:"text-xs text-gray-400 italic",children:r}),f&&n.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-50 text-blue-700 rounded font-medium",children:o})]})]})},o2t=({fieldId:e,fieldLabel:t,options:r,onFilterChange:s,initialFilter:a})=>{const[i,o]=v.useState(a?.options||[]),[c,d]=v.useState(!1),u=()=>i.length===0?null:{options:i};v.useEffect(()=>{const x=u();s(e,x)},[i,e]);const l=x=>{o(b=>b.includes(x)?b.filter(h=>h!==x):[...b,x])},f=()=>{o([]),s(e,null)},m=()=>{i.length===r.length?o([]):o([...r])},p=i.length>0;return n.jsxs("div",{className:X("space-y-3 p-4 rounded-lg border bg-white transition-all duration-200",p?"border-purple-200":"border-gray-200"),children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:X("p-1.5 rounded",p?"bg-purple-50":"bg-gray-100"),children:n.jsx(oM,{className:X("h-4 w-4",p?"text-purple-600":"text-gray-500")})}),n.jsx(Q,{className:"text-sm font-medium text-gray-700",children:t})]}),p&&n.jsx(W,{type:"button",variant:"ghost",size:"sm",onClick:f,className:"h-6 w-6 p-0 text-gray-400 hover:text-gray-600",children:n.jsx(Kr,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{className:"text-xs text-gray-600",children:"Select Options"}),n.jsxs(H3,{open:c,onOpenChange:d,children:[n.jsx(V3,{asChild:!0,children:n.jsxs(W,{variant:"outline",role:"combobox","aria-expanded":c,className:"w-full justify-between",children:[n.jsx("span",{className:"truncate",children:i.length===0?"Select options...":`${i.length} selected`}),n.jsx(oM,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),n.jsx(VE,{className:"w-full p-0",align:"start",children:n.jsxs("div",{className:"max-h-64 overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center px-3 py-2 border-b hover:bg-gray-50",children:[n.jsx(dt,{id:`select-all-${e}`,checked:i.length===r.length&&r.length>0,onCheckedChange:m,className:"mr-2"}),n.jsx("label",{htmlFor:`select-all-${e}`,className:"text-sm font-medium cursor-pointer flex-1",children:"Select All"})]}),r.map((x,b)=>n.jsxs("div",{className:"flex items-center px-3 py-2 hover:bg-gray-50 cursor-pointer",onClick:()=>l(x),children:[n.jsx(dt,{id:`option-${e}-${b}`,checked:i.includes(x),onCheckedChange:()=>l(x),className:"mr-2"}),n.jsx("label",{htmlFor:`option-${e}-${b}`,className:"text-sm cursor-pointer flex-1",children:x}),i.includes(x)&&n.jsx(ix,{className:"h-4 w-4 text-purple-600"})]},b)),r.length===0&&n.jsx("div",{className:"px-3 py-6 text-center text-sm text-gray-500",children:"No options available"})]})})]}),n.jsx("p",{className:"text-xs text-gray-500 italic",children:"Filter entries containing any of the selected options"})]}),p&&n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{className:"text-xs text-gray-600",children:"Selected:"}),n.jsx("div",{className:"flex flex-wrap gap-1.5",children:i.map((x,b)=>n.jsxs(Ae,{variant:"secondary",className:"bg-purple-50 text-purple-700 hover:bg-purple-100",children:[x,n.jsx("button",{onClick:h=>{h.stopPropagation(),l(x)},className:"ml-1 hover:text-purple-900",children:n.jsx(Kr,{className:"h-3 w-3"})})]},b))})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[n.jsx("p",{className:"text-xs text-gray-400 italic",children:"Multi-Select"}),p&&n.jsxs("span",{className:"text-xs px-2 py-0.5 bg-purple-50 text-purple-700 rounded font-medium",children:[i.length," option",i.length!==1?"s":""]})]})]})},l2t=()=>{const{items:e,loading:t,error:r,refetch:s}=i2t(),[a,i]=v.useState(!1),[o,c]=v.useState({}),[d,u]=v.useState({}),[l,f]=v.useState({}),m=t,p=v.useMemo(()=>e.length,[e]),x=async()=>{await s()},b=(k,E)=>{c(T=>({...T,[k]:E})),console.log(`Text Filter changed for field ${k}:`,E)},h=(k,E)=>{u(T=>({...T,[k]:E})),console.log(`Radio/Dropdown Filter changed for field ${k}:`,E)},y=(k,E)=>{f(T=>({...T,[k]:E})),console.log(`Multi-Select Filter changed for field ${k}:`,E)},w=[{id:801,label:"Full Name",fieldTypeName:"Text Input"},{id:802,label:"Company Name",fieldTypeName:"Text Input"}],S=[{id:901,label:"Preferred Contact Method",fieldTypeName:"Radio Button",options:["Email","Phone","SMS","WhatsApp"]},{id:902,label:"Country",fieldTypeName:"Dropdown Select",options:["USA","Canada","UK","Australia","Germany","France"]}],N=[{id:1001,label:"Skills",fieldTypeName:"Multi-Select",options:["JavaScript","TypeScript","React","Node.js","Python","Java","Go"]},{id:1002,label:"Interests",fieldTypeName:"Multi-Select",options:["Technology","Sports","Music","Travel","Cooking","Reading","Gaming"]}],_={text:o,radioDropdown:d,multiSelect:l};return n.jsxs(Zt,{title:"Field Type Filters",subtitle:"View configured filters for each form field type",mainButtons:n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(W,{onClick:()=>i(!a),variant:a?"default":"outline",className:"gap-2",children:[n.jsx(dM,{className:"h-4 w-4"}),a?"Hide Demo":"Show Demo"]}),n.jsxs(W,{onClick:x,variant:"outline",disabled:m,className:"gap-2",children:[n.jsx(Zr,{className:m?"h-4 w-4 animate-spin":"h-4 w-4"}),"Refresh"]})]}),backButton:{show:!1},children:[a&&n.jsxs("div",{className:"space-y-6 mb-6",children:[n.jsxs(oe,{className:"bg-card border-border",children:[n.jsxs(Re,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(dM,{className:"h-5 w-5 text-amber-600"}),n.jsx(qe,{className:"text-lg sm:text-xl",children:"Text & Choice Filter Components"})]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Interactive demo for Text, Radio/Dropdown, and Multi-Select filters with various search operations."})]}),n.jsx(je,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700 border-b pb-2",children:"Text Filters"}),w.map(k=>n.jsx(upe,{fieldId:k.id,fieldLabel:k.label,onFilterChange:b,initialFilter:o[k.id]||void 0},k.id))]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700 border-b pb-2",children:"Radio & Dropdown Filters"}),S.map(k=>n.jsx(W$,{fieldId:k.id,fieldLabel:k.label,fieldTypeName:k.fieldTypeName,options:k.options,onFilterChange:h,initialFilter:d[k.id]||void 0},k.id))]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700 border-b pb-2",children:"Multi-Select Filters"}),N.map(k=>n.jsx(o2t,{fieldId:k.id,fieldLabel:k.label,options:k.options,onFilterChange:y,initialFilter:l[k.id]||void 0},k.id))]})]})})]}),n.jsxs(oe,{className:"bg-card border-border",children:[n.jsx(Re,{children:n.jsx(qe,{className:"text-sm font-semibold",children:"Combined Filter State"})}),n.jsx(je,{children:n.jsx("pre",{className:"text-xs overflow-x-auto bg-background p-4 rounded border max-h-96",children:JSON.stringify(_,null,2)})})]})]}),n.jsxs(oe,{className:"bg-card border-border",children:[n.jsx(Re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(oM,{className:"h-5 w-5"}),n.jsx(qe,{className:"text-lg sm:text-xl",children:"Available Field Type Filters"})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total: ",p]})]})}),n.jsxs(je,{children:[r&&n.jsx("div",{className:"text-red-600 bg-red-50 border border-red-200 rounded p-3 mb-4 text-sm",children:r}),m?n.jsxs("div",{className:"flex items-center justify-center py-16 text-muted-foreground",children:[n.jsx(Zr,{className:"h-5 w-5 mr-2 animate-spin"})," Loading field type filters..."]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Xr,{children:[n.jsx(Jr,{children:n.jsxs(Nt,{children:[n.jsx(De,{className:"w-[80px]",children:"ID"}),n.jsx(De,{children:"Field Type"}),n.jsx(De,{children:"Description"}),n.jsx(De,{className:"hidden sm:table-cell",children:"Created"}),n.jsx(De,{className:"hidden sm:table-cell",children:"Updated"})]})}),n.jsxs(Qr,{children:[e.map(k=>n.jsxs(Nt,{children:[n.jsx(Ee,{className:"font-mono text-xs",children:k.id}),n.jsx(Ee,{className:"font-medium",children:k.field_type?.name}),n.jsx(Ee,{className:"text-sm",children:k.filter_method_description}),n.jsx(Ee,{className:"hidden sm:table-cell text-xs text-muted-foreground",children:new Date(k.created_at).toLocaleString()}),n.jsx(Ee,{className:"hidden sm:table-cell text-xs text-muted-foreground",children:new Date(k.updated_at).toLocaleString()})]},k.id)),e.length===0&&n.jsx(Nt,{children:n.jsx(Ee,{colSpan:5,className:"text-center text-muted-foreground",children:"No field type filters found."})})]})]})})]})]})]})},c2t=[n.jsx(At,{path:"/field-type-filters",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(l2t,{})})})})},"field-type-filters")],d2t=()=>{const e=ct(),t=se(EIe),r=se(kIe),s=se(AIe),a=se(TIe),i=se(DIe),o=se(PIe),c=se(RIe),d=v.useCallback(async()=>{try{console.debug("[useLanguage] Refreshing all languages"),await e($N()).unwrap()}catch(h){throw console.error("[useLanguage] Failed to refresh languages:",h),h}},[e]),u=v.useCallback(async()=>{try{console.debug("[useLanguage] Refreshing default language"),await e(LN()).unwrap()}catch(h){throw console.error("[useLanguage] Failed to refresh default language:",h),h}},[e]),l=v.useCallback(async h=>{try{console.debug("[useLanguage] Updating default language to ID:",h),await e(BN(h)).unwrap(),console.info("[useLanguage] Default language updated successfully")}catch(y){throw console.error("[useLanguage] Failed to update default language:",y),y}},[e]),f=v.useCallback(()=>{e(_Ie())},[e]),m=v.useCallback(h=>t.find(y=>y.id===h),[t]),p=v.useCallback(h=>t.find(y=>y.code===h),[t]),x=v.useCallback(()=>t.map(h=>({value:h.id,label:h.name,code:h.code,isDefault:h.isDefault})).sort((h,y)=>h.isDefault?-1:y.isDefault?1:h.label.localeCompare(y.label)),[t]),b=v.useCallback(h=>r?.id===h,[r]);return v.useMemo(()=>{(!c||i)&&(console.debug("[useLanguage] Auto-fetching languages (empty or stale)"),d().catch(h=>{console.error("[useLanguage] Auto-fetch failed:",h)}))},[c,i,d]),v.useMemo(()=>{c&&!r&&!s&&(console.debug("[useLanguage] Auto-fetching default language"),u().catch(h=>{console.error("[useLanguage] Auto-fetch default language failed:",h)}))},[c,r,s,u]),{languages:t,defaultLanguage:r,loading:s,error:a,hasLanguages:c,isStale:i,systemDefaultLanguage:o,refreshLanguages:d,refreshDefaultLanguage:u,updateDefaultLanguage:l,clearError:f,getLanguageById:m,getLanguageByCode:p,getLanguageOptions:x,isDefaultLanguage:b}},u2t=()=>{const{languages:e,defaultLanguage:t,loading:r,error:s,hasLanguages:a,refreshLanguages:i,refreshDefaultLanguage:o,updateDefaultLanguage:c,clearError:d,getLanguageOptions:u}=d2t(),[l,f]=v.useState(void 0);v.useEffect(()=>{d()},[d]),v.useEffect(()=>{t?.id&&f(String(t.id))},[t]);const m=v.useMemo(()=>e.length,[e]),p=v.useCallback(async()=>{await i(),await o()},[i,o]),x=v.useCallback(async()=>{l&&await c(Number(l))},[l,c]);return n.jsx(Zt,{title:"Languages Preferences",subtitle:"Set your default language for form localization",mainButtons:n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(W,{onClick:p,variant:"outline",disabled:r,className:"gap-2",children:[n.jsx(Zr,{className:r?"h-4 w-4 animate-spin":"h-4 w-4"}),"Refresh"]}),n.jsx(W,{onClick:x,disabled:r||!l,className:"gap-2",children:"Save"})]}),backButton:{show:!1},children:n.jsxs(oe,{className:"bg-card border-border",children:[n.jsx(Re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(qe,{className:"text-lg sm:text-xl",children:"Default Language"})}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total: ",m]})]})}),n.jsxs(je,{children:[s&&n.jsx(Ge,{variant:"destructive",className:"mb-4",children:n.jsx(Ye,{children:s})}),n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("span",{className:"text-sm",children:"Select default language"}),n.jsxs(xt,{value:l,onValueChange:f,disabled:r||!a,children:[n.jsx(ft,{className:"w-56",children:n.jsx(vt,{})}),n.jsx(mt,{children:u().map(b=>n.jsxs(Ue,{value:String(b.value),children:[b.label," (",b.code,")"]},b.value))})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Xr,{children:[n.jsx(Jr,{children:n.jsxs(Nt,{children:[n.jsx(De,{className:"w-[80px]",children:"ID"}),n.jsx(De,{children:"Code"}),n.jsx(De,{children:"Name"}),n.jsx(De,{children:"Default"})]})}),n.jsx(Qr,{children:e.map(b=>n.jsxs(Nt,{children:[n.jsx(Ee,{className:"font-mono text-xs",children:b.id}),n.jsx(Ee,{className:"font-mono",children:b.code}),n.jsx(Ee,{children:b.name}),n.jsx(Ee,{children:t?.id===b.id?n.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[n.jsx(bs,{className:"h-4 w-4"})," Default"]}):n.jsx("div",{className:"flex items-center gap-1 text-muted-foreground",children:n.jsx(ju,{className:"h-4 w-4"})})})]},b.id))})]})})]})]})})},f2t=[n.jsx(At,{path:"/languages-preferences",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(u2t,{})})})})},"languages-preferences")],m2t=(e,t=!0)=>{const r=ct(),s=se(VOe),a=se(WOe),i=se(l=>l.forms.isListLoading),o=se(l=>l.forms.listError),c=v.useCallback(()=>{console.debug("[useListForms] Fetching forms with params:",e),r(PN(e))},[r,e]),d=v.useCallback(()=>{console.debug("[useListForms] Manual refetch triggered"),r(wu()),c()},[r,c]),u=v.useCallback(()=>{r(wu())},[r]);return v.useEffect(()=>{t&&(console.debug("[useListForms] Auto-fetching on mount"),c())},[t,c]),{forms:s,pagination:a,isLoading:i,error:o,refetch:d,clearError:u}},fpe=(e,t=!0)=>{const r=ct(),s=se(LJ),a=se(l=>l.forms.isGetLoading),i=se(l=>l.forms.getError),o=v.useCallback(()=>{if(e===null){console.warn("[useGetForm] ID is null, skipping fetch");return}console.debug(`[useGetForm] Fetching form with ID: ${e}`),r(RN(e))},[r,e]),c=v.useCallback(()=>{console.debug("[useGetForm] Manual refetch triggered"),r(wu()),o()},[r,o]),d=v.useCallback(()=>{console.debug("[useGetForm] Clearing selected form"),r(fH())},[r]),u=v.useCallback(()=>{r(wu())},[r]);return v.useEffect(()=>(t&&e!==null&&(console.debug(`[useGetForm] Auto-fetching for ID: ${e}`),o()),()=>{r(fH())}),[t,e,o,r]),{form:s,isLoading:a,error:i,refetch:c,clearForm:d,clearError:u}},h2t=()=>{const e=ct(),t=se(d=>d.forms.isCreateLoading),r=se(d=>d.forms.createError),s=se(d=>d.forms.createSuccess),a=se(LJ),i=v.useCallback(async d=>{console.debug("[useCreateForm] Creating form with data:",d);const u=await e(Q0(d));if(Q0.fulfilled.match(u))return console.debug("[useCreateForm] Form created successfully:",u.payload),u.payload;{const l=u.payload?.message||"Failed to create form";throw console.error("[useCreateForm] Create failed:",l),new Error(l)}},[e]),o=v.useCallback(()=>{e(wu())},[e]),c=v.useCallback(()=>{e(vE())},[e]);return{create:i,isLoading:t,error:r,successMessage:s,createdForm:a,clearError:o,clearSuccess:c}},p2t=()=>{const e=ct(),t=se(c=>c.forms.isUpdateLoading),r=se(c=>c.forms.updateError),s=se(c=>c.forms.updateSuccess),a=v.useCallback(async(c,d)=>{console.debug(`[useUpdateForm] Updating form ID ${c} with data:`,d);const u=await e(ey({id:c,data:d}));if(ey.fulfilled.match(u))return console.debug("[useUpdateForm] Form updated successfully:",u.payload),u.payload;{const l=u.payload?.message||"Failed to update form";throw console.error("[useUpdateForm] Update failed:",l),new Error(l)}},[e]),i=v.useCallback(()=>{e(wu())},[e]),o=v.useCallback(()=>{e(vE())},[e]);return{update:a,isLoading:t,error:r,successMessage:s,clearError:i,clearSuccess:o}},g2t=()=>{const e=ct(),t=se(c=>c.forms.isArchiveLoading),r=se(c=>c.forms.archiveError),s=se(c=>c.forms.archiveSuccess),a=v.useCallback(async c=>{console.debug(`[useArchiveForm] Archiving form ID: ${c}`);const d=await e(ty(c));if(ty.fulfilled.match(d))return console.debug("[useArchiveForm] Form archived successfully:",d.payload.message),d.payload.message;{const u=d.payload?.message||"Failed to archive form";throw console.error("[useArchiveForm] Archive failed:",u),new Error(u)}},[e]),i=v.useCallback(()=>{e(wu())},[e]),o=v.useCallback(()=>{e(vE())},[e]);return{archive:a,isLoading:t,error:r,successMessage:s,clearError:i,clearSuccess:o}},x2t=()=>{const e=ct(),t=se(c=>c.forms.isRestoreLoading),r=se(c=>c.forms.restoreError),s=se(c=>c.forms.restoreSuccess),a=v.useCallback(async c=>{console.debug(`[useRestoreForm] Restoring form ID: ${c}`);const d=await e(ry(c));if(ry.fulfilled.match(d))return console.debug("[useRestoreForm] Form restored successfully:",d.payload.message),d.payload.message;{const u=d.payload?.message||"Failed to restore form";throw console.error("[useRestoreForm] Restore failed:",u),new Error(u)}},[e]),i=v.useCallback(()=>{e(wu())},[e]),o=v.useCallback(()=>{e(vE())},[e]);return{restore:a,isLoading:t,error:r,successMessage:s,clearError:i,clearSuccess:o}},mpe=(e=!0)=>{const t=ct(),r=se(XOe),s=se(d=>d.categories.isListLoading),a=se(d=>d.categories.listError),i=v.useCallback(()=>{console.debug("[useListCategories] Fetching categories"),t(MN())},[t]),o=v.useCallback(()=>{console.debug("[useListCategories] Manual refetch triggered"),t(_m()),i()},[t,i]),c=v.useCallback(()=>{t(_m())},[t]);return v.useEffect(()=>{e&&(console.debug("[useListCategories] Auto-fetching on mount"),i())},[e,i]),{categories:r,isLoading:s,error:a,refetch:o,clearError:c}},v2t=()=>{const e=ct(),t=se(d=>d.categories.isCreateLoading),r=se(d=>d.categories.createError),s=se(d=>d.categories.createSuccess),a=se(JOe),i=v.useCallback(async d=>{console.debug("[useCreateCategory] Creating category with data:",d);const u=await e(sy(d));if(sy.fulfilled.match(u))return console.debug("[useCreateCategory] Category created successfully:",u.payload),u.payload;{const l=u.payload?.message||"Failed to create category";throw console.error("[useCreateCategory] Create failed:",l),new Error(l)}},[e]),o=v.useCallback(()=>{e(_m())},[e]),c=v.useCallback(()=>{e(yb())},[e]);return{create:i,isLoading:t,error:r,successMessage:s,createdCategory:a,clearError:o,clearSuccess:c}},y2t=()=>{const e=ct(),t=se(c=>c.categories.isUpdateLoading),r=se(c=>c.categories.updateError),s=se(c=>c.categories.updateSuccess),a=v.useCallback(async(c,d)=>{console.debug(`[useUpdateCategory] Updating category ID ${c} with data:`,d);const u=await e(ny({id:c,data:d}));if(ny.fulfilled.match(u))return console.debug("[useUpdateCategory] Category updated successfully:",u.payload),u.payload;{const l=u.payload?.message||"Failed to update category";throw console.error("[useUpdateCategory] Update failed:",l),new Error(l)}},[e]),i=v.useCallback(()=>{e(_m())},[e]),o=v.useCallback(()=>{e(yb())},[e]);return{update:a,isLoading:t,error:r,successMessage:s,clearError:i,clearSuccess:o}},b2t=()=>{const e=ct(),t=se(c=>c.categories.isAssignLoading),r=se(c=>c.categories.assignError),s=se(c=>c.categories.assignSuccess),a=v.useCallback(async c=>{console.debug("[useAssignFormsToCategory] Assigning forms with data:",c);const d=await e(ay(c));if(ay.fulfilled.match(d))return console.debug("[useAssignFormsToCategory] Forms assigned successfully:",d.payload.message),d.payload.message;{const u=d.payload?.message||"Failed to assign forms to category";throw console.error("[useAssignFormsToCategory] Assign failed:",u),new Error(u)}},[e]),i=v.useCallback(()=>{e(_m())},[e]),o=v.useCallback(()=>{e(yb())},[e]);return{assign:a,isLoading:t,error:r,successMessage:s,clearError:i,clearSuccess:o}},w2t=()=>{const e=ct(),t=se(c=>c.categories.isUnassignLoading),r=se(c=>c.categories.unassignError),s=se(c=>c.categories.unassignSuccess),a=v.useCallback(async c=>{console.debug("[useUnassignFormsFromCategory] Unassigning forms with data:",c);const d=await e(iy(c));if(iy.fulfilled.match(d))return console.debug("[useUnassignFormsFromCategory] Forms unassigned successfully:",d.payload.message),d.payload.message;{const u=d.payload?.message||"Failed to unassign forms from category";throw console.error("[useUnassignFormsFromCategory] Unassign failed:",u),new Error(u)}},[e]),i=v.useCallback(()=>{e(_m())},[e]),o=v.useCallback(()=>{e(yb())},[e]);return{unassign:a,isLoading:t,error:r,successMessage:s,clearError:i,clearSuccess:o}},j2t=()=>{const e=ct(),t=se(c=>c.categories.isDeleteLoading),r=se(c=>c.categories.deleteError),s=se(c=>c.categories.deleteSuccess),a=v.useCallback(async c=>{console.debug(`[useDeleteCategory] Deleting category ID: ${c}`);const d=await e(oy(c));if(oy.fulfilled.match(d))return console.debug("[useDeleteCategory] Category deleted successfully:",d.payload.message),d.payload.message;{const u=d.payload?.message||"Failed to delete category";throw console.error("[useDeleteCategory] Delete failed:",u),new Error(u)}},[e]),i=v.useCallback(()=>{e(_m())},[e]),o=v.useCallback(()=>{e(yb())},[e]);return{remove:a,isLoading:t,error:r,successMessage:s,clearError:i,clearSuccess:o}},S2t=(e,t={})=>{const r=ct(),{refetchOnMount:s=!1,cacheTimeout:a=300*1e3}=t,i=se(zIe),o=se(UIe),c=se(HIe),d=se(YI),u=se(KI),l=v.useRef(!1),f=v.useRef(null),m=v.useCallback(async()=>{if(e===null){console.warn("[useFormVersion] Cannot refetch: ID is null");return}console.debug(`[useFormVersion] Manual refetch requested for ID: ${e}`);try{await r(ly(e)).unwrap(),console.info(`[useFormVersion] Refetch successful for ID: ${e}`)}catch(p){console.error(`[useFormVersion] Refetch failed for ID: ${e}:`,p)}},[e,r]);return v.useEffect(()=>{if(e===null){console.debug("[useFormVersion] Skipping fetch: ID is null");return}const p=f.current!==e;if(f.current=e,!(p||s||!i||i.id!==e)&&l.current){console.debug(`[useFormVersion] Skipping fetch for ID ${e}: Data already loaded`);return}if(i&&i.id===e&&!s){const b=Date.now(),h=i.updated_at?new Date(i.updated_at).getTime():0;if(b-h<a){console.debug(`[useFormVersion] Using cached data for ID ${e} (age: ${Math.round((b-h)/1e3)}s)`),l.current=!0;return}}console.info(`[useFormVersion] Fetching form version with ID: ${e}`),l.current=!0,r(ly(e)).unwrap().then(()=>{console.info(`[useFormVersion] Successfully loaded form version ${e}`)}).catch(b=>{console.error(`[useFormVersion] Failed to load form version ${e}:`,b.message)})},[e,r,i,s,a]),v.useEffect(()=>()=>{console.debug("[useFormVersion] Component unmounting, clearing state"),r(BIe()),l.current=!1,f.current=null},[r]),v.useMemo(()=>({formVersion:i,stages:o,stageTransitions:c,loading:d.fetch,error:u.fetch,refetch:m}),[i,o,c,d.fetch,u.fetch,m])},hpe=()=>{const e=ct(),t=se(YI),r=se(KI),s=v.useRef(!0),a=v.useCallback(async i=>{console.info(`[usePublishFormVersion] Publishing form version ${i}`),e(tQ("publish"));try{await e(zN(i)).unwrap(),s.current&&console.info(`[usePublishFormVersion] Successfully published form version ${i}`)}catch(o){if(s.current){const c=o;throw console.error(`[usePublishFormVersion] Publish failed for ID ${i}:`,c.message),c}}},[e]);return v.useEffect(()=>(s.current=!0,()=>{s.current=!1,console.debug("[usePublishFormVersion] Component unmounted")}),[]),v.useMemo(()=>({publishFormVersion:a,loading:t.publish,error:r.publish}),[a,t.publish,r.publish])},N2t=()=>{const e=ct(),t=se(YI),r=se(KI),s=v.useCallback(async(a,i)=>(console.info(`[useCreateFormVersion] Creating version for form ${a} (copy_from_current=${i?.copy_from_current??!0})`),e(tQ("fetch")),await e(QJ({formId:a,copy_from_current:i?.copy_from_current})).unwrap()),[e]);return v.useMemo(()=>({createFormVersion:s,loading:t.fetch,error:r.fetch}),[s,t.fetch,r.fetch])},C2t=({open:e,onOpenChange:t})=>{const{categories:r,isLoading:s,error:a,refetch:i,clearError:o}=mpe(e),{create:c,isLoading:d,error:u,clearError:l}=v2t(),{update:f,isLoading:m,error:p,clearError:x}=y2t(),{remove:b,isLoading:h,error:y,clearError:w}=j2t(),[S,N]=v.useState(""),[_,k]=v.useState(null),[E,T]=v.useState("");v.useEffect(()=>{a&&(We.error("Failed to load categories",{description:a}),o())},[a,o]),v.useEffect(()=>{u&&(We.error("Failed to create category",{description:u}),l())},[u,l]),v.useEffect(()=>{p&&(We.error("Failed to update category",{description:p}),x())},[p,x]),v.useEffect(()=>{y&&(We.error("Failed to delete category",{description:y}),w())},[y,w]);const D=async $=>{if($.preventDefault(),!S.trim())return;const I={name:S.trim()};try{const z=await c(I);We.success("Category created",{description:`"${z.name}" has been added.`}),N(""),i()}catch{}},P=$=>{k($.id),T($.name)},M=()=>{k(null),T("")},R=async $=>{if(!E.trim())return;const I={name:E.trim()};try{const z=await f($,I);We.success("Category updated",{description:`"${z.name}" has been updated.`}),M(),i()}catch{}},B=async $=>{try{const I=await b($.id);We.success("Category deleted",{description:I||`"${$.name}" has been deleted. Forms in it are now uncategorized.`}),_===$.id&&M(),i()}catch{}},L=d||m||h;return n.jsx(H$,{open:e,onOpenChange:t,children:n.jsxs(Sk,{className:"max-w-md ml-auto h-full flex flex-col",children:[n.jsxs(ipe,{className:"border-b",children:[n.jsx(ope,{children:"Manage Categories"}),n.jsx(lpe,{children:"Create, rename, or delete categories. Deleting a category keeps its forms but removes the category."})]}),n.jsx("div",{className:"p-4 border-b",children:n.jsxs("form",{onSubmit:D,className:"space-y-2",children:[n.jsx(Q,{htmlFor:"new-category-name",children:"Create new category"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ne,{id:"new-category-name",placeholder:"Category name",value:S,onChange:$=>N($.target.value),disabled:d}),n.jsx(W,{type:"submit",disabled:d||!S.trim(),children:d?n.jsx(at,{className:"h-4 w-4 animate-spin"}):n.jsxs(n.Fragment,{children:[n.jsx(Yt,{className:"h-4 w-4 mr-1"}),"Add"]})})]})]})}),n.jsx(Ix,{className:"flex-1 p-4",children:s&&r.length===0?n.jsxs("div",{className:"flex items-center justify-center py-8 text-muted-foreground",children:[n.jsx(at,{className:"h-5 w-5 animate-spin mr-2"}),n.jsx("span",{children:"Loading categories..."})]}):r.length===0?n.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No categories yet. Create your first category above."}):n.jsx("div",{className:"space-y-3",children:r.map($=>{const I=_===$.id;return n.jsxs("div",{className:"flex items-center gap-2 rounded-md border px-3 py-2",children:[n.jsx("div",{className:"flex-1",children:I?n.jsx(ne,{value:E,onChange:z=>T(z.target.value),autoFocus:!0,disabled:m}):n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:$.name}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",$.id]})]})}),n.jsx("div",{className:"flex items-center gap-1",children:I?n.jsxs(n.Fragment,{children:[n.jsx(W,{size:"icon",variant:"outline",onClick:()=>R($.id),disabled:m||!E.trim(),children:m?n.jsx(at,{className:"h-4 w-4 animate-spin"}):n.jsx(ix,{className:"h-4 w-4 text-green-600"})}),n.jsx(W,{size:"icon",variant:"outline",onClick:M,disabled:m,children:n.jsx(Kr,{className:"h-4 w-4 text-red-500"})})]}):n.jsxs(n.Fragment,{children:[n.jsx(W,{size:"icon",variant:"outline",onClick:()=>P($),disabled:L,children:n.jsx(h3,{className:"h-4 w-4"})}),n.jsx(W,{size:"icon",variant:"outline",onClick:()=>B($),disabled:L,children:n.jsx(kt,{className:"h-4 w-4 text-destructive"})})]})})]},$.id)})})}),n.jsx("div",{className:"p-4 border-t flex justify-end",children:n.jsx(UEt,{asChild:!0,children:n.jsx(W,{variant:"outline",children:"Close"})})})]})})},_2t=()=>{const e=Vt(),[t,r]=v.useState({page:1,per_page:10,sort_by:"creation_time",sort_order:"desc"}),{forms:s,pagination:a,isLoading:i,error:o,refetch:c}=m2t(t),{create:d,isLoading:u}=h2t(),{update:l,isLoading:f}=p2t(),{archive:m,isLoading:p}=g2t(),{restore:x,isLoading:b}=x2t(),{categories:h,isLoading:y}=mpe(!0),{assign:w,isLoading:S}=b2t(),{unassign:N,isLoading:_}=w2t(),[k,E]=v.useState(null),[T,D]=v.useState(!0),{createFormVersion:P,loading:M}=N2t(),[R,B]=v.useState(!1),[L,$]=v.useState(!1),[I,z]=v.useState(!1),[H,Z]=v.useState(null),[V,G]=v.useState(null),[U,Y]=v.useState(null),[K,re]=v.useState(null),[he,me]=v.useState(""),[de,ie]=v.useState({name:"",category_id:void 0}),[ve,_e]=v.useState({name:"",category_id:null}),xe=async ye=>{if(ye.preventDefault(),!de.name.trim()){We.error("Form name is required");return}try{const Qe={name:de.name.trim(),category_id:de.category_id??null},yt=await d(Qe);We.success("Form created successfully",{description:`"${yt.name}" has been created with initial version.`}),$(!1),ie({name:"",category_id:void 0});const Bt=yt.form_versions?.[0]?.id;Bt?e(`/form-version-builder/${Bt}`):c()}catch(Qe){$(!1),We.error("Failed to create form",{description:Qe instanceof Error?Qe.message:"An unexpected error occurred"})}},Le=async ye=>{if(ye.preventDefault(),!!H){if(!ve.name.trim()){We.error("Form name is required");return}try{const Qe={name:ve.name.trim(),category_id:ve.category_id??null},yt=await l(H.id,Qe);We.success("Form updated successfully",{description:`"${yt.name}" has been updated.`}),z(!1),Z(null),c()}catch(Qe){z(!1),Z(null),We.error("Failed to update form",{description:Qe instanceof Error?Qe.message:"An unexpected error occurred"})}}},Ie=ye=>{Z(ye),_e({name:ye.name,category_id:ye.category_id??null}),z(!0)},fe=async()=>{if(V)try{const ye=await m(V.id);We.success("Form archived",{description:ye||`"${V.name}" has been archived along with all its versions.`}),G(null),c()}catch(ye){We.error("Failed to archive form",{description:ye instanceof Error?ye.message:"An unexpected error occurred"})}},Ze=async()=>{if(U)try{const ye=await x(U.id);We.success("Form restored",{description:ye||`"${U.name}" has been restored. Latest version set as published.`}),Y(null),c()}catch(ye){We.error("Failed to restore form",{description:ye instanceof Error?ye.message:"An unexpected error occurred"})}},it=ye=>{r(Qe=>({...Qe,page:ye}))},ge=ye=>{r(Qe=>({...Qe,per_page:parseInt(ye,10),page:1}))},He=ye=>{re(ye),me(ye.category_id?String(ye.category_id):"")},ee=()=>{re(null),me("")},le=async()=>{if(!(!K||!he))try{const ye={category_id:parseInt(he,10),form_ids:[K.id]},Qe=await w(ye);We.success("Category assigned",{description:Qe||`"${K.name}" has been assigned to the selected category.`}),ee(),c()}catch{}},ce=async ye=>{try{const Qe={form_ids:[ye.id]},yt=await N(Qe);We.success("Category unassigned",{description:yt||`"${ye.name}" has been unassigned from its category.`}),c()}catch{}},Ke=async()=>{if(k)try{const ye=await P(k.id,{copy_from_current:T});We.success("Form version created",{description:`Version #${ye.version_number} created for "${k.name}".`}),E(null),D(!0),ye.id&&e(`/form-version-builder/${ye.id}`)}catch(ye){E(null),D(!0),We.error("Failed to create form version",{description:ye instanceof Error?ye.message:"An unexpected error occurred"})}},Xe=S||_;return n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"mb-6",children:n.jsxs(Re,{className:"flex flex-row items-center justify-between",children:[n.jsx(qe,{className:"text-2xl font-bold",children:"Forms Management"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(W,{variant:"outline",onClick:()=>B(!0),children:[n.jsx(v$e,{className:"mr-2 h-4 w-4"}),"Categories"]}),n.jsxs(W,{onClick:()=>$(!0),children:[n.jsx(Yt,{className:"mr-2 h-4 w-4"}),"Create Form"]})]})]})}),n.jsx(Ur,{open:L,onOpenChange:$,children:n.jsx(Er,{children:n.jsxs("form",{onSubmit:xe,children:[n.jsxs(kr,{children:[n.jsx(Ar,{children:"Create New Form"}),n.jsx(as,{children:"Create a new form with initial version, stage, and section."})]}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{htmlFor:"create-name",children:"Form Name"}),n.jsx(ne,{id:"create-name",value:de.name,onChange:ye=>ie({...de,name:ye.target.value}),placeholder:"Enter form name",required:!0})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{htmlFor:"create-category",children:"Category"}),n.jsxs(xt,{value:de.category_id?String(de.category_id):"no",onValueChange:ye=>ie({...de,category_id:ye==="no"?void 0:parseInt(ye,10)}),disabled:y,children:[n.jsx(ft,{children:n.jsx(vt,{placeholder:"Select category"})}),n.jsxs(mt,{children:[n.jsx(Ue,{value:"no",children:"No category"}),h.map(ye=>n.jsx(Ue,{value:String(ye.id),children:ye.name},ye.id))]})]})]})]}),n.jsxs(Hr,{children:[n.jsx(W,{type:"button",variant:"outline",onClick:()=>$(!1),children:"Cancel"}),n.jsxs(W,{type:"submit",disabled:u,children:[u&&n.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}),"Create"]})]})]})})}),o&&n.jsx(oe,{className:"mb-4 border-red-200 bg-red-50",children:n.jsx(je,{className:"p-4 text-red-800",children:o})}),n.jsx(oe,{children:n.jsx(je,{className:"p-6",children:i&&s.length===0?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx(at,{className:"h-8 w-8 animate-spin text-primary"})}):s.length===0?n.jsx("div",{className:"py-8 text-center text-muted-foreground",children:"No forms found. Create your first form to get started."}):n.jsxs(n.Fragment,{children:[n.jsxs(Xr,{children:[n.jsx(Jr,{children:n.jsxs(Nt,{children:[n.jsx(De,{children:"ID"}),n.jsx(De,{children:"Name"}),n.jsx(De,{children:"Category"}),n.jsx(De,{children:"Actions"})]})}),n.jsx(Qr,{children:s.map(ye=>n.jsxs(Nt,{children:[n.jsx(Ee,{children:ye.id}),n.jsx(Ee,{className:"font-medium",children:ye.name}),n.jsx(Ee,{children:ye.category?.name||n.jsx(Ae,{variant:"outline",children:"No category"})}),n.jsx(Ee,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>Ie(ye),disabled:f,children:n.jsx(Pa,{className:"h-4 w-4"})}),n.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>He(ye),disabled:Xe||y,className:"gap-1",children:[n.jsx(QQ,{className:"h-4 w-4"}),ye.category_id?"Change":"Assign"]}),n.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>ce(ye),disabled:!ye.category_id||Xe,className:"gap-1 text-orange-600 hover:text-orange-700",children:[n.jsx(U$e,{className:"h-4 w-4"}),"Unassign"]}),ye.is_archived?n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>Y(ye),disabled:b,className:"text-green-600 hover:text-green-700",children:n.jsx(yFe,{className:"h-4 w-4"})}):n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>G(ye),disabled:p,className:"text-orange-600 hover:text-orange-700",children:n.jsx(wFe,{className:"h-4 w-4"})}),n.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>{E(ye),D(!0)},className:"gap-1 text-blue-600 hover:text-blue-700",children:[n.jsx(GFe,{className:"h-4 w-4"}),"New Version"]}),n.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>e(`/list-form-versions/${ye.id}`),className:"gap-1 text-purple-600 hover:text-purple-700",children:[n.jsx(K$e,{className:"h-4 w-4"}),"Versions"]})]})})]},ye.id))})]}),a&&n.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Rows per page:"}),n.jsxs(xt,{value:String(t.per_page),onValueChange:ge,children:[n.jsx(ft,{className:"w-20",children:n.jsx(vt,{})}),n.jsxs(mt,{children:[n.jsx(Ue,{value:"5",children:"5"}),n.jsx(Ue,{value:"10",children:"10"}),n.jsx(Ue,{value:"20",children:"20"}),n.jsx(Ue,{value:"50",children:"50"})]})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",a.current_page," of ",a.last_page," (",a.total," total)"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(W,{variant:"outline",size:"sm",onClick:()=>it(a.current_page-1),disabled:a.current_page===1||i,children:"Previous"}),n.jsx(W,{variant:"outline",size:"sm",onClick:()=>it(a.current_page+1),disabled:a.current_page===a.last_page||i,children:"Next"})]})]})]})]})})}),n.jsx(Ur,{open:I,onOpenChange:z,children:n.jsx(Er,{children:n.jsxs("form",{onSubmit:Le,children:[n.jsxs(kr,{children:[n.jsx(Ar,{children:"Update Form"}),n.jsx(as,{children:"Update the name and category of the selected form."})]}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{htmlFor:"update-name",children:"Form Name"}),n.jsx(ne,{id:"update-name",value:ve.name,onChange:ye=>_e({...ve,name:ye.target.value}),placeholder:"Enter form name",required:!0})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{htmlFor:"update-category",children:"Category"}),n.jsxs(xt,{value:ve.category_id?String(ve.category_id):"no",onValueChange:ye=>_e({...ve,category_id:ye==="no"?null:parseInt(ye,10)}),disabled:y,children:[n.jsx(ft,{children:n.jsx(vt,{placeholder:"Select category"})}),n.jsxs(mt,{children:[n.jsx(Ue,{value:"no",children:"No category"}),h.map(ye=>n.jsx(Ue,{value:String(ye.id),children:ye.name},ye.id))]})]})]})]}),n.jsxs(Hr,{children:[n.jsx(W,{type:"button",variant:"outline",onClick:()=>z(!1),children:"Cancel"}),n.jsxs(W,{type:"submit",disabled:f,children:[f&&n.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}),"Update"]})]})]})})}),n.jsx(Ur,{open:!!k,onOpenChange:ye=>{ye||(E(null),D(!0))},children:n.jsxs(Er,{children:[n.jsxs(kr,{children:[n.jsx(Ar,{children:"Create Form Version"}),n.jsxs(as,{children:['Create a new version for "',k?.name,'".']})]}),n.jsxs("div",{className:"py-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:"copy-from-current",checked:T,onCheckedChange:ye=>D(ye)}),n.jsx(Q,{htmlFor:"copy-from-current",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Copy from current version"})]}),n.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:T?"The new version will be a copy of the current version.":"The new version will start empty."})]}),n.jsxs(Hr,{children:[n.jsx(W,{type:"button",variant:"outline",onClick:()=>{E(null),D(!0)},children:"Cancel"}),n.jsxs(W,{onClick:Ke,disabled:M,children:[M&&n.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Version"]})]})]})}),n.jsx(No,{open:!!V,onOpenChange:ye=>!ye&&G(null),children:n.jsxs(Fi,{children:[n.jsxs($i,{children:[n.jsx(Bi,{children:"Archive Form"}),n.jsxs(zi,{children:['Are you sure you want to archive "',V?.name,'"? This will archive all versions of the form.']})]}),n.jsxs(Li,{children:[n.jsx(Hi,{children:"Cancel"}),n.jsxs(Ui,{onClick:fe,children:[p&&n.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}),"Archive"]})]})]})}),n.jsx(No,{open:!!U,onOpenChange:ye=>!ye&&Y(null),children:n.jsxs(Fi,{children:[n.jsxs($i,{children:[n.jsx(Bi,{children:"Restore Form"}),n.jsxs(zi,{children:['Are you sure you want to restore "',U?.name,'"? The latest version will be set as published.']})]}),n.jsxs(Li,{children:[n.jsx(Hi,{children:"Cancel"}),n.jsxs(Ui,{onClick:Ze,children:[b&&n.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}),"Restore"]})]})]})}),n.jsx(Ur,{open:!!K,onOpenChange:ye=>!ye&&ee(),children:n.jsxs(Er,{children:[n.jsx(kr,{children:n.jsx(Ar,{children:K?.category_id?"Change Category":"Assign Category"})}),n.jsx("div",{className:"grid gap-4 py-4",children:n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Q,{htmlFor:"assign-category",children:"Category"}),n.jsxs(xt,{value:he,onValueChange:ye=>me(ye),disabled:y,children:[n.jsx(ft,{children:n.jsx(vt,{placeholder:"Select category"})}),n.jsx(mt,{children:h.map(ye=>n.jsx(Ue,{value:String(ye.id),children:ye.name},ye.id))})]})]})}),n.jsxs(Hr,{children:[n.jsx(W,{variant:"outline",onClick:ee,children:"Cancel"}),n.jsxs(W,{onClick:le,disabled:S,children:[S&&n.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}),"Save"]})]})]})}),n.jsx(C2t,{open:R,onOpenChange:()=>B(!1)})]})},E2t=()=>{const{formId:e}=Sn(),t=Vt(),r=e?parseInt(e,10):null,{form:s,isLoading:a,error:i,refetch:o}=fpe(r),{publishFormVersion:c,loading:d}=hpe(),[u,l]=v.useState(null),f=b=>new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),m=b=>{const h={draft:"secondary",published:"default",archived:"destructive"};return n.jsx(Ae,{variant:h[b]||"outline",children:b})},p=async()=>{if(u)try{await c(u.id),We.success("Form version published",{description:`Version ${u.version_number} has been published successfully.`}),l(null),o()}catch(b){l(null),We.error("Failed to publish form version",{description:b instanceof Error?b.message:"An unexpected error occurred"})}};if(a)return n.jsx("div",{className:"flex h-[50vh] items-center justify-center",children:n.jsx(at,{className:"h-8 w-8 animate-spin text-primary"})});if(i)return n.jsx(oe,{className:"border-red-200 bg-red-50",children:n.jsxs(je,{className:"p-6",children:[n.jsx("p",{className:"text-red-800",children:i}),n.jsxs(W,{variant:"outline",onClick:()=>t("/forms"),className:"mt-4",children:[n.jsx(vn,{className:"mr-2 h-4 w-4"}),"Back to Forms"]})]})});if(!s)return n.jsx(oe,{children:n.jsxs(je,{className:"p-6",children:[n.jsx("p",{className:"text-muted-foreground",children:"Form not found."}),n.jsxs(W,{variant:"outline",onClick:()=>t("/forms"),className:"mt-4",children:[n.jsx(vn,{className:"mr-2 h-4 w-4"}),"Back to Forms"]})]})});const x=s.form_versions||[];return n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"mb-6",children:n.jsxs(Re,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(qe,{className:"text-2xl font-bold",children:"Form Versions"}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["All versions for: ",n.jsx("strong",{children:s.name})]})]}),n.jsxs(W,{variant:"outline",onClick:()=>t("/forms"),children:[n.jsx(vn,{className:"mr-2 h-4 w-4"}),"Back to Forms"]})]})}),n.jsx(oe,{children:n.jsx(je,{className:"p-6",children:x.length===0?n.jsx("div",{className:"py-8 text-center text-muted-foreground",children:"No versions found for this form."}):n.jsxs(Xr,{children:[n.jsx(Jr,{children:n.jsxs(Nt,{children:[n.jsx(De,{children:"Version ID"}),n.jsx(De,{children:"Version Number"}),n.jsx(De,{children:"Status"}),n.jsx(De,{children:"Published At"}),n.jsx(De,{children:"Created At"}),n.jsx(De,{children:"Updated At"}),n.jsx(De,{children:"Actions"})]})}),n.jsx(Qr,{children:x.map(b=>n.jsxs(Nt,{children:[n.jsx(Ee,{children:b.id}),n.jsxs(Ee,{className:"font-medium",children:["v",b.version_number]}),n.jsx(Ee,{children:m(b.status)}),n.jsx(Ee,{children:b.published_at?f(b.published_at):n.jsx(Ae,{variant:"outline",children:"Not published"})}),n.jsx(Ee,{children:f(b.created_at)}),n.jsx(Ee,{children:f(b.updated_at)}),n.jsx(Ee,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>t(`/form-version-builder/${b.id}`),className:"gap-1 text-blue-600 hover:text-blue-700",title:"View version",children:[n.jsx(ln,{className:"h-4 w-4"}),"View"]}),n.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>t(`/translations/${r}/${b.id}`),className:"gap-1 text-orange-600 hover:text-orange-700",title:"Translate version",children:[n.jsx(JQ,{className:"h-4 w-4"}),"Translate"]}),b.status==="draft"&&n.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>t(`/form-version-builder/${b.id}`),className:"gap-1 text-green-600 hover:text-green-700",title:"Edit version",children:[n.jsx(Pa,{className:"h-4 w-4"}),"Edit"]}),b.status==="draft"&&n.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>l(b),disabled:d,className:"gap-1 text-purple-600 hover:text-purple-700",title:"Publish version",children:[n.jsx(lM,{className:"h-4 w-4"}),"Publish"]})]})})]},b.id))})]})})}),n.jsx(No,{open:!!u,onOpenChange:b=>!b&&l(null),children:n.jsxs(Fi,{children:[n.jsxs($i,{children:[n.jsx(Bi,{children:"Publish Form Version"}),n.jsxs(zi,{children:["Are you sure you want to publish version ",u?.version_number,' of "',s?.name,'"? This will make this version live and available for use.']})]}),n.jsxs(Li,{children:[n.jsx(Hi,{children:"Cancel"}),n.jsxs(Ui,{onClick:p,disabled:d,children:[d&&n.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}),"Publish"]})]})]})})]})},k2t=[n.jsx(At,{path:"/forms",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(_2t,{})})})})},"forms"),n.jsx(At,{path:"/list-form-versions/:formId",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(E2t,{})})})})},"list-form-versions")],A2t=(e={})=>{const{autoFetch:t=!0}=e,r=ct(),s=se(u=>aIe(u)),a=se(u=>iIe(u)),i=se(u=>lIe(u)),o=se(u=>VJ(u)),c=v.useCallback(()=>(console.log("[useTranslationsLanguages] Fetching languages..."),r(ON())),[r]),d=v.useCallback(()=>{console.log("[useTranslationsLanguages] Clearing error"),r(GJ())},[r]);return v.useEffect(()=>{t&&!a&&!i&&(console.log("[useTranslationsLanguages] Auto-fetching languages on mount"),c())},[t,a,i,c]),v.useMemo(()=>({languages:s,languagesLoaded:a,isLoading:i,error:o,refetch:c,clearError:d}),[s,a,i,o,c,d])},T2t=(e,t)=>{const r=ct(),s=v.useMemo(()=>e&&t?`${e}_${t}`:null,[e,t]),a=se(x=>s?oIe(x,s):void 0),i=se(x=>cIe(x)),o=se(x=>WJ(x)),c=v.useCallback((x=!1)=>{if(!e||!t){console.warn("[useLocalizableData] Cannot fetch: missing params");return}return x&&s&&(console.log(`[useLocalizableData] Force refresh: clearing cache for ${s}`),r(pIe(s))),console.log(`[useLocalizableData] Fetching for form_version_id=${e}, language_id=${t}`),r(IN({form_version_id:e,language_id:t}))},[r,e,t,s]),d=v.useCallback(()=>{console.log("[useLocalizableData] Clearing error"),r(YJ())},[r]),u=v.useCallback((x,b)=>{s&&r(gIe({cacheKey:s,fieldId:x,updates:b}))},[r,s]),l=v.useCallback((x,b)=>{s&&r(xIe({cacheKey:s,stageId:x,name:b}))},[r,s]),f=v.useCallback((x,b)=>{s&&r(vIe({cacheKey:s,sectionId:x,name:b}))},[r,s]),m=v.useCallback((x,b)=>{s&&r(yIe({cacheKey:s,transitionId:x,label:b}))},[r,s]),p=v.useCallback(x=>{s&&r(bIe({cacheKey:s,formName:x}))},[r,s]);return v.useEffect(()=>{e&&t&&!a&&!i&&(console.log("[useLocalizableData] Auto-fetching on params change"),c())},[e,t,a,i,c]),v.useMemo(()=>({data:a,isCached:!!a,isLoading:i,error:o,fetch:c,refetch:()=>c(!0),clearError:d,updateFieldInCache:u,updateStageInCache:l,updateSectionInCache:f,updateTransitionInCache:m,updateFormName:p}),[a,i,o,c,d,u,l,f,m,p])},D2t=()=>{const e=ct(),t=se(d=>dIe(d)),r=se(d=>qJ(d)),s=se(d=>uIe(d)),a=se(d=>fIe(d)),i=v.useCallback(async d=>(console.log(`[useSaveTranslations] Saving for form_version_id=${d.form_version_id}, language_id=${d.language_id}`),console.log("[useSaveTranslations] Payload:",`${d.stage_translations.length} stages,`,`${d.section_translations.length} sections,`,`${d.transition_translations.length} transitions,`,`${d.field_translations.length} fields`),await e(FN(d))),[e]),o=v.useCallback(()=>{console.log("[useSaveTranslations] Clearing error"),e(KJ())},[e]),c=v.useCallback(()=>{console.log("[useSaveTranslations] Resetting save status"),e(hIe())},[e]);return v.useMemo(()=>({save:i,isSaving:t,error:r,lastSaveSuccess:s,lastSaveTimestamp:a,clearError:o,resetStatus:c}),[i,t,r,s,a,o,c])},P2t=()=>{const e=ct(),t=se(u=>VJ(u)),r=se(u=>WJ(u)),s=se(u=>qJ(u)),a=!!(t||r||s),i=v.useCallback(()=>{console.log("[useTranslationsErrorManagement] Clearing all errors"),e(mIe())},[e]),o=v.useCallback(()=>{console.log("[useTranslationsErrorManagement] Clearing languages error"),e(GJ())},[e]),c=v.useCallback(()=>{console.log("[useTranslationsErrorManagement] Clearing localizable data error"),e(YJ())},[e]),d=v.useCallback(()=>{console.log("[useTranslationsErrorManagement] Clearing save error"),e(KJ())},[e]);return v.useMemo(()=>({errors:{languages:t,localizableData:r,save:s},hasAnyError:a,clearAll:i,clearLanguages:o,clearLocalizableData:c,clearSave:d}),[t,r,s,a,i,o,c,d])},R2t=(e,t)=>{const r=A2t(),s=T2t(e,t),a=D2t(),i=P2t();return v.useMemo(()=>({languages:r,localizableData:s,save:a,errorManagement:i}),[r,s,a,i])},M2t=()=>{const{formId:e,versionId:t}=Sn(),r=e?parseInt(e,10):null,s=t?parseInt(t,10):null,[a,i]=v.useState(null),{error:o}=fpe(r,!!r),{languages:c,localizableData:d,save:u,errorManagement:l}=R2t(s,a),[f,m]=v.useState(""),[p,x]=v.useState({}),[b,h]=v.useState({}),[y,w]=v.useState({}),[S,N]=v.useState({});v.useEffect(()=>{if(d.data){m(d.data.form_name.translated||"");const I={};d.data.stages.forEach(V=>{I[V.stage_id]={stage_id:V.stage_id,name:V.translated.name||""}}),x(I);const z={};d.data.sections.forEach(V=>{z[V.section_id]={section_id:V.section_id,name:V.translated.name||""}}),h(z);const H={};d.data.transitions.forEach(V=>{H[V.stage_transition_id]={stage_transition_id:V.stage_transition_id,label:V.translated.label||""}}),w(H);const Z={};d.data.fields.forEach(V=>{Z[V.field_id]={field_id:V.field_id,label:V.translated.label||"",helper_text:V.translated.helper_text||"",default_value:V.translated.default_value||"",place_holder:V.translated.place_holder||""}}),N(Z)}},[d.data]);const _=v.useCallback(I=>{i(parseInt(I,10))},[]),k=v.useCallback((I,z)=>{x(H=>({...H,[I]:{...H[I],name:z}}))},[]),E=v.useCallback((I,z)=>{h(H=>({...H,[I]:{...H[I],name:z}}))},[]),T=v.useCallback((I,z)=>{w(H=>({...H,[I]:{...H[I],label:z}}))},[]),D=v.useCallback((I,z,H)=>{N(Z=>({...Z,[I]:{...Z[I],[z]:H}}))},[]),P=v.useMemo(()=>!!a&&!!s,[a,s]),M=v.useCallback(()=>{P&&d.refetch()},[P,d]),R=v.useCallback(async()=>{if(!s||!a)return;const I={form_version_id:s,language_id:a,form_name:f,stage_translations:Object.values(p),section_translations:Object.values(b),transition_translations:Object.values(y),field_translations:Object.values(S)};await u.save(I)},[s,a,f,p,b,y,S,u]),B=v.useMemo(()=>d.data?1+d.data.stages.length+d.data.sections.length+d.data.transitions.length+d.data.fields.length:0,[d.data]),L=v.useMemo(()=>{if(!d.data)return 0;let I=0;return f&&f!==d.data.form_name.original&&I++,I+=Object.values(p).filter(z=>z.name.trim()!=="").length,I+=Object.values(b).filter(z=>z.name.trim()!=="").length,I+=Object.values(y).filter(z=>z.label.trim()!=="").length,I+=Object.values(S).filter(z=>z.label||z.helper_text||z.default_value||z.place_holder).length,B>0?Math.round(I/B*100):0},[f,p,b,y,S,d.data,B]),$=v.useMemo(()=>c.languages.find(I=>I.id===a),[c.languages,a]);return n.jsxs(Zt,{title:"Form Translations",subtitle:"Translate your forms into multiple languages",mainButtons:n.jsx("div",{className:"flex gap-2",children:n.jsxs(W,{onClick:()=>c.refetch(),variant:"outline",size:"sm",disabled:c.isLoading,className:"gap-2",children:[n.jsx(FD,{className:c.isLoading?"h-4 w-4 animate-spin":"h-4 w-4"}),"Refresh Languages"]})}),backButton:{show:!0,to:r?`/list-form-versions/${r}`:"/forms",text:"Back to Versions"},children:[(l.errors.languages||l.errors.localizableData||l.errors.save)&&n.jsxs(Ge,{variant:"destructive",className:"mb-6",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:l.errors.languages?.message||l.errors.localizableData?.message||l.errors.save?.message})]}),o&&n.jsxs(Ge,{variant:"destructive",className:"mb-6",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:typeof o=="string"?o:"Failed to load form details"})]}),u.lastSaveSuccess&&n.jsxs(Ge,{className:"mb-6 border-green-200 bg-green-50 text-green-800",children:[n.jsx(CE,{className:"h-4 w-4"}),n.jsx(Ye,{children:"Translations saved successfully!"})]}),n.jsxs(oe,{className:"mb-6 border-border bg-card shadow-sm",children:[n.jsx(Re,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(F$e,{className:"h-5 w-5 text-primary"}),n.jsx(qe,{className:"text-lg",children:"Translation Configuration"})]}),$&&n.jsxs(Ae,{variant:"secondary",className:"gap-1",children:[n.jsx(FD,{className:"h-3 w-3"}),$.name]})]})}),n.jsxs(je,{children:[n.jsx("div",{className:"max-w-md",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{htmlFor:"language-select",className:"text-sm font-medium",children:"Target Language"}),n.jsxs(xt,{value:a?.toString()??void 0,onValueChange:_,children:[n.jsx(ft,{id:"language-select",className:"w-full",children:n.jsx(vt,{placeholder:"Select language"})}),n.jsx(mt,{children:c.languages.map(I=>n.jsx(Ue,{value:I.id.toString(),children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(FD,{className:"h-4 w-4"}),n.jsx("span",{children:I.name}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:I.code})]})},I.id))})]})]})}),n.jsxs("div",{className:"mt-6 flex gap-3",children:[n.jsxs(W,{onClick:M,variant:"secondary",disabled:!P||d.isLoading,className:"gap-2",children:[n.jsx(d3,{className:d.isLoading?"h-4 w-4 animate-spin":"h-4 w-4"}),"Load Translatable Data"]}),n.jsxs(W,{onClick:R,disabled:!P||u.isSaving||!d.data,className:"gap-2",children:[u.isSaving&&n.jsx(Zr,{className:"h-4 w-4 animate-spin"}),!u.isSaving&&n.jsx(kE,{className:"h-4 w-4"}),"Save Translations"]})]})]})]}),d.isLoading&&n.jsx(oe,{className:"border-border bg-card",children:n.jsx(je,{className:"flex items-center justify-center py-16",children:n.jsxs("div",{className:"flex flex-col items-center gap-3 text-muted-foreground",children:[n.jsx(Zr,{className:"h-8 w-8 animate-spin"}),n.jsx("p",{className:"text-sm",children:"Loading translatable data..."})]})})}),!d.isLoading&&d.data&&n.jsxs("div",{className:"space-y-6",children:[n.jsx(oe,{className:"border-border bg-card shadow-sm",children:n.jsx(je,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Translation Progress"}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[B," item",B!==1?"s":""," to translate"]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-2 w-48 overflow-hidden rounded-full bg-secondary",children:n.jsx("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${L}%`}})}),n.jsxs("span",{className:"text-sm font-semibold",children:[L,"%"]})]})]})})}),n.jsxs(oe,{className:"border-border bg-card shadow-sm",children:[n.jsx(Re,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($l,{className:"h-5 w-5 text-primary"}),n.jsx(qe,{className:"text-base",children:"Form Name Translation"})]})}),n.jsxs(je,{className:"space-y-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{htmlFor:"form-name",className:"text-sm font-medium",children:"Translated Form Name"}),n.jsx(ne,{id:"form-name",value:f,onChange:I=>m(I.target.value),placeholder:"Enter translated form name",className:"w-full"})]}),d.data.form_name.original&&n.jsxs("div",{className:"rounded-md bg-muted/50 p-3",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Original:"}),n.jsx("p",{className:"text-sm",children:d.data.form_name.original})]})]})]}),n.jsxs(oe,{className:"border-border bg-card shadow-sm",children:[n.jsx(Re,{children:n.jsx(qe,{className:"text-base",children:"Translatable Content"})}),n.jsx(je,{children:n.jsxs(Zl,{defaultValue:"stages",className:"w-full",children:[n.jsxs(ll,{className:"grid w-full grid-cols-4",children:[n.jsxs(xs,{value:"stages",className:"gap-2",children:[n.jsx(_b,{className:"h-4 w-4"}),"Stages (",d.data.stages.length,")"]}),n.jsxs(xs,{value:"sections",className:"gap-2",children:[n.jsx(B$e,{className:"h-4 w-4"}),"Sections (",d.data.sections.length,")"]}),n.jsxs(xs,{value:"transitions",className:"gap-2",children:[n.jsx(i3,{className:"h-4 w-4"}),"Transitions (",d.data.transitions.length,")"]}),n.jsxs(xs,{value:"fields",className:"gap-2",children:[n.jsx($l,{className:"h-4 w-4"}),"Fields (",d.data.fields.length,")"]})]}),n.jsx(vs,{value:"stages",className:"space-y-4 mt-6",children:d.data.stages.length===0?n.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No stages to translate"}):d.data.stages.map((I,z)=>n.jsxs("div",{className:"space-y-3",children:[z>0&&n.jsx(Hs,{}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Ae,{variant:"outline",className:"font-mono",children:["ID: ",I.stage_id]}),I.original.name&&n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:I.original.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"text-xs font-medium uppercase text-muted-foreground",children:"Stage Name"}),n.jsx(ne,{value:p[I.stage_id]?.name??"",onChange:H=>k(I.stage_id,H.target.value),placeholder:"Translated stage name",className:"w-full"}),I.original.name&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Original:"," ",n.jsx("span",{className:"font-medium",children:I.original.name})]})]})]},I.stage_id))}),n.jsx(vs,{value:"sections",className:"space-y-4 mt-6",children:d.data.sections.length===0?n.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No sections to translate"}):d.data.sections.map((I,z)=>n.jsxs("div",{className:"space-y-3",children:[z>0&&n.jsx(Hs,{}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Ae,{variant:"outline",className:"font-mono",children:["ID: ",I.section_id]}),n.jsxs(Ae,{variant:"secondary",className:"text-xs",children:["Stage: ",I.stage_id]}),I.original.name&&n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:I.original.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"text-xs font-medium uppercase text-muted-foreground",children:"Section Name"}),n.jsx(ne,{value:b[I.section_id]?.name??"",onChange:H=>E(I.section_id,H.target.value),placeholder:"Translated section name",className:"w-full"}),I.original.name&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Original:"," ",n.jsx("span",{className:"font-medium",children:I.original.name})]})]})]},I.section_id))}),n.jsx(vs,{value:"transitions",className:"space-y-4 mt-6",children:d.data.transitions.length===0?n.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No transitions to translate"}):d.data.transitions.map((I,z)=>n.jsxs("div",{className:"space-y-3",children:[z>0&&n.jsx(Hs,{}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Ae,{variant:"outline",className:"font-mono",children:["ID: ",I.stage_transition_id]}),I.original.label&&n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:I.original.label})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"text-xs font-medium uppercase text-muted-foreground",children:"Transition Label"}),n.jsx(ne,{value:y[I.stage_transition_id]?.label??"",onChange:H=>T(I.stage_transition_id,H.target.value),placeholder:"Translated transition label",className:"w-full"}),I.original.label&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Original:"," ",n.jsx("span",{className:"font-medium",children:I.original.label})]})]})]},I.stage_transition_id))}),n.jsx(vs,{value:"fields",className:"space-y-6 mt-6",children:d.data.fields.length===0?n.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No fields to translate"}):d.data.fields.map((I,z)=>n.jsxs("div",{className:"space-y-4",children:[z>0&&n.jsx(Hs,{}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Ae,{variant:"outline",className:"font-mono",children:["ID: ",I.field_id]}),I.original.label&&n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:I.original.label})]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"text-xs font-medium uppercase text-muted-foreground",children:"Label"}),n.jsx(ne,{value:S[I.field_id]?.label??"",onChange:H=>D(I.field_id,"label",H.target.value),placeholder:"Translated label",className:"w-full"}),I.original.label&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Original:"," ",n.jsx("span",{className:"font-medium",children:I.original.label})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"text-xs font-medium uppercase text-muted-foreground",children:"Helper Text"}),n.jsx(ne,{value:S[I.field_id]?.helper_text??"",onChange:H=>D(I.field_id,"helper_text",H.target.value),placeholder:"Translated helper text",className:"w-full"}),I.original.helper_text&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Original:"," ",n.jsx("span",{className:"font-medium",children:I.original.helper_text})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"text-xs font-medium uppercase text-muted-foreground",children:"Placeholder"}),n.jsx(ne,{value:S[I.field_id]?.place_holder??"",onChange:H=>D(I.field_id,"place_holder",H.target.value),placeholder:"Translated placeholder",className:"w-full"}),I.original.placeholder&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Original:"," ",n.jsx("span",{className:"font-medium",children:I.original.placeholder})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"text-xs font-medium uppercase text-muted-foreground",children:"Default Value"}),n.jsx(ne,{value:S[I.field_id]?.default_value??"",onChange:H=>D(I.field_id,"default_value",H.target.value),placeholder:"Translated default value",className:"w-full"}),I.original.default_value&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Original:"," ",n.jsx("span",{className:"font-medium",children:I.original.default_value})]})]})]})]},I.field_id))})]})})]})]})]})},O2t=[n.jsx(At,{path:"/translations/:formId/:versionId",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(M2t,{})})})})},"translations")],I2t=()=>{const e=ct();return v.useMemo(()=>({setStages:t=>{console.debug("[useStageActions] Setting stages"),e(h3e(t))},updateStage:t=>{console.debug("[useStageActions] Updating stage",t.id),e(w3e(t))},addStage:t=>{console.info("[useStageActions] Adding stage",t.id),e(b3e(t))},removeStage:t=>{console.info("[useStageActions] Removing stage",t),e(j3e(t))},setStageTransitions:t=>{console.debug("[useStageActions] Setting stage transitions"),e(p3e(t))},addStageTransition:t=>{console.info("[useStageActions] Adding stage transition"),e(g3e(t))},removeStageTransition:t=>{console.info("[useStageActions] Removing stage transition",t),e(x3e(t))}}),[e])},F2t=()=>{const e=ct();return v.useMemo(()=>({addSection:(t,r)=>{console.info("[useSectionActions] Adding section",r.id,"to stage",t),e(nQ({stageId:t,section:r}))},updateSection:(t,r)=>{console.debug("[useSectionActions] Updating section",r.id,"in stage",t),e(aQ({stageId:t,section:r}))},removeSection:(t,r)=>{console.info("[useSectionActions] Removing section",r,"from stage",t),e(iQ({stageId:t,sectionId:r}))},reorderSections:(t,r)=>{console.debug("[useSectionActions] Reordering sections in stage",t),e(oQ({stageId:t,sections:r}))}}),[e])},$2t=()=>{const e=ct();return v.useMemo(()=>({addField:(t,r,s,a)=>{console.info("[useFieldActions] Adding field with type",s,"to section",r),e(lQ({stageId:t,sectionId:r,fieldTypeId:s,defaults:a}))},updateField:(t,r,s,a)=>{console.debug("[useFieldActions] Updating field",s,"in section",r),e(cQ({stageId:t,sectionId:r,fieldId:s,changes:a}))},removeField:(t,r,s)=>{console.info("[useFieldActions] Removing field",s,"from section",r),e(dQ({stageId:t,sectionId:r,fieldId:s}))},reorderFields:(t,r,s)=>{console.debug("[useFieldActions] Reordering fields in section",r),e(uQ({stageId:t,sectionId:r,fields:s}))}}),[e])},L2t=(e,t)=>{const r=ct(),s=se(O3e(e,t)),a=se(F3e),i=se($3e),o=v.useCallback(c=>{r(sQ(c))},[r]);return{fields:s,selectedFieldId:a,selectedField:i,setSelected:o}},B2t=(e,t,r)=>se(I3e(e,t,r)),z2t=e=>e.formVersionBuilder.stageTransitions,ppe=e=>e.formVersionBuilder.selectedTransitionId??null,U2t=e=>{const t=ppe(e);if(t)return e.formVersionBuilder.stageTransitions.find(r=>r.id===t)},q$=()=>{const e=ct();return v.useMemo(()=>({addTransition:(t,r)=>{console.info("[useTransitionActions] Adding transition from",t,"to",r),e(S3e({fromStageId:t,toStageId:r}))},updateTransition:(t,r)=>{console.debug("[useTransitionActions] Updating transition",t),e(N3e({transitionId:t,changes:r}))},removeTransition:t=>{console.info("[useTransitionActions] Removing transition",t),e(C3e({transitionId:t}))},setSelectedTransitionId:t=>{console.debug("[useTransitionActions] Setting selected transition",t),e(_3e(t))},addAction:(t,r)=>{console.info("[useTransitionActions] Adding action",r,"to transition",t),e(E3e({transitionId:t,actionType:r}))},updateAction:(t,r,s)=>{console.debug("[useTransitionActions] Updating action",r,"in transition",t),e(k3e({transitionId:t,actionIndex:r,changes:s}))},removeAction:(t,r)=>{console.info("[useTransitionActions] Removing action",r,"from transition",t),e(A3e({transitionId:t,actionIndex:r}))},reorderActions:(t,r)=>{console.debug("[useTransitionActions] Reordering actions in transition",t),e(T3e({transitionId:t,actions:r}))}}),[e])},H2t=()=>{const e=se(z2t),t=se(ppe),r=se(U2t),s=q$();return{transitions:e,selectedTransitionId:t,selectedTransition:r,setSelected:s.setSelectedTransitionId}},V2t=e=>e.formVersionBuilder,W2t=e=>e.formVersionBuilder.stages,q2t=e=>e.formVersionBuilder.stageTransitions,G2t=e=>e.formVersionBuilder.dirty,Y2t=e=>e.formVersionBuilder.lastSavedAt,K2t=e=>e.formVersionBuilder.selectedStageId,Z2t=e=>e.formVersionBuilder.selectedSectionId,X2t=e=>e.formVersionBuilder.selectedFieldId,ur=()=>{const e=ct(),t=se(V2t),r=se(W2t),s=se(q2t),a=se(G2t),i=se(Y2t),o=se(K2t),c=se(Z2t),d=se(X2t),u=I2t(),l=F2t(),f=$2t(),m=q$();return{formVersionId:t.formVersionId,stages:r,transitions:s,dirty:a,lastSavedAt:i,selectedStageId:o,selectedSectionId:c,selectedFieldId:d,stageActions:u,sectionActions:l,fieldActions:f,transitionActions:m,initializeFrom:p=>{const{stages:x,stageTransitions:b}=QIe(p);e(u3e({formVersionId:p.id,stages:x,stageTransitions:b}))},reset:()=>{e(f3e())},setSelectedStageId:p=>{e(v3e(p))},setSelectedSectionId:p=>{e(y3e(p))},setSelectedFieldId:p=>{e(sQ(p))},addSection:(p,x)=>{e(nQ({stageId:p,section:x}))},updateSection:(p,x)=>{e(aQ({stageId:p,section:x}))},removeSection:(p,x)=>{e(iQ({stageId:p,sectionId:x}))},reorderSections:(p,x)=>{e(oQ({stageId:p,sections:x}))},addField:(p,x,b,h)=>{e(lQ({stageId:p,sectionId:x,fieldTypeId:b,defaults:h}))},updateField:(p,x,b,h)=>{e(cQ({stageId:p,sectionId:x,fieldId:b,changes:h}))},removeField:(p,x,b)=>{e(dQ({stageId:p,sectionId:x,fieldId:b}))},reorderFields:(p,x,b)=>{e(uQ({stageId:p,sectionId:x,fields:b}))},selectedStage:r.find(p=>p.id===o),selectedSection:r.flatMap(p=>p.sections).find(p=>p.id===c),selectedField:r.flatMap(p=>p.sections).flatMap(p=>p.fields).find(p=>p.id===d)}},J2t=()=>{const e=ct(),t=se(P3e),r=se(R3e),s=se(M3e);return{save:v.useCallback(async()=>{if(!t)throw console.error("[useBuilderSave] Cannot save: No form version ID"),new Error("No form version ID set in builder");console.info("[useBuilderSave] Triggering save for form version",t);try{await e(UN(t)).unwrap(),console.info("[useBuilderSave] Save successful")}catch(i){throw console.error("[useBuilderSave] Save failed:",i),i}},[e,t]),saving:r,error:s}},G$=(e={})=>{const{maxCacheAge:t=3e5,autoFetch:r=!1}=e,s=ql(),a=Ce(qMe),i=Ce(GMe),o=Ce(YMe),c=Ce(KMe),d=Ce(ZMe),u=Ce(XMe),l=d===null||Date.now()-d>t,f=v.useRef(!1),m=v.useCallback(async()=>{try{console.info("[useFieldTypes] Manual refetch triggered"),f.current=!0,await s(Z0()).unwrap(),console.info("[useFieldTypes] Refetch completed successfully")}catch(x){console.error("[useFieldTypes] Refetch failed:",x)}finally{f.current=!1}},[s]),p=v.useCallback(async()=>{if(c||f.current){console.info("[useFieldTypes] ensureLoaded skipped - fetch already in progress");return}if(!l){console.info("[useFieldTypes] ensureLoaded skipped - cache is fresh");return}try{console.info("[useFieldTypes] ensureLoaded triggered - cache stale or empty"),f.current=!0,await s(Z0()).unwrap(),console.info("[useFieldTypes] ensureLoaded completed successfully")}catch(x){console.error("[useFieldTypes] ensureLoaded failed:",x)}finally{f.current=!1}},[s,c,l]);return v.useEffect(()=>{r&&(console.info("[useFieldTypes] Auto-fetch enabled - checking if load needed"),p())},[r,p]),v.useEffect(()=>()=>{f.current&&(console.warn("[useFieldTypes] Component unmounted during fetch operation"),f.current=!1)},[]),{fieldTypes:a,loading:i,error:o,isLoading:c,count:u,lastFetched:d,isCacheStale:l,refetch:m,ensureLoaded:p}},gpe=()=>{const e=ct(),t=se(sOe),r=se(nOe),s=se(aOe),a=se(iOe),i=v.useCallback(()=>{e(X0())},[e]);return v.useEffect(()=>{!a&&!r&&e(X0())},[e,a,r]),{items:t,loading:r,error:s,refetch:i}},Q2t=({stage:e,onChange:t,onDelete:r,onEdit:s})=>{console.debug("[StageItem] Rendering stage:",e.id);const a=c=>{console.debug("[StageItem] Updating stage name:",e.id,"->",c),t({...e,name:c})},i=c=>{console.debug("[StageItem] Toggling is_initial:",e.id,"->",c),t({...e,is_initial:c})},o=e.id&&wb(e.id);return n.jsx(oe,{className:"hover:shadow-md transition-shadow",children:n.jsx(je,{className:"p-4",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:e.is_initial?n.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:n.jsx(Am,{className:"h-4 w-4 text-blue-600 fill-blue-600"})}):n.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center",children:n.jsx("span",{className:"text-xs font-medium text-gray-600",children:"S"})})}),n.jsxs("div",{className:"flex-1 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(ne,{value:e.name,onChange:c=>a(c.target.value),className:"max-w-xs font-medium",placeholder:"Stage name"}),e.is_initial&&n.jsx(Ae,{variant:"default",className:"bg-blue-500",children:"Initial"}),o&&n.jsx(Ae,{variant:"outline",className:"text-orange-600 border-orange-600",children:"New"})]}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[n.jsxs("span",{children:[e.sections.length," section(s)"]}),e.access_rule&&n.jsxs("span",{children:["Access: ",e.access_rule.allow_authenticated_users?"Authenticated":"Custom"]})]}),n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ys,{id:`initial-${e.id}`,checked:e.is_initial,onCheckedChange:i}),n.jsx(Q,{htmlFor:`initial-${e.id}`,className:"text-sm cursor-pointer",children:"Initial stage"})]})})]}),n.jsxs("div",{className:"flex-shrink-0 flex gap-2",children:[n.jsx(W,{variant:"ghost",size:"sm",onClick:s,className:"h-8 w-8 p-0",title:"Edit details",children:n.jsx(h3,{className:"h-4 w-4"})}),n.jsx(W,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",title:"Delete stage",children:n.jsx(kt,{className:"h-4 w-4"})})]})]})})})},NK=["filled","empty"],ekt=["in","notin"],tkt={filled:"Has Value",empty:"Is Empty",equals:"Equals",notequals:"Not Equals",greaterthan:"Greater Than",lessthan:"Less Than",greaterorequal:"Greater or Equal",lessorequal:"Less or Equal",contains:"Contains",notcontains:"Does Not Contain",startswith:"Starts With",endswith:"Ends With",in:"In List",notin:"Not In List"},rkt={filled:"filled",empty:"empty",equals:"equals",notequals:"not_equals",greaterthan:"greater_than",lessthan:"less_than",greaterorequal:"greater_or_equal",lessorequal:"less_or_equal",contains:"contains",notcontains:"not_contains",startswith:"starts_with",endswith:"ends_with",in:"in",notin:"not_in"},skt={filled:"filled",empty:"empty",equals:"equals",not_equals:"notequals",greater_than:"greaterthan",less_than:"lessthan",greater_or_equal:"greaterorequal",less_or_equal:"lessorequal",contains:"contains",not_contains:"notcontains",starts_with:"startswith",ends_with:"endswith",in:"in",not_in:"notin"};function L_(e){if(!e||typeof e!="object")return null;if("show_when"in e&&e.show_when)return L_(e.show_when);if("logic"in e&&Array.isArray(e.conditions)){const s=i=>{if(!i)return[];if("logic"in i&&Array.isArray(i.conditions))return i.conditions.map(c=>s(c)).flat();const o=L_(i);return o&&!("logic"in o)?[o]:[]},a=s(e);return{logic:e.logic==="or"?"or":"and",conditions:a}}const t=e.fieldid!==void 0?e.fieldid:e.field_id!==void 0?e.field_id:void 0;return t===void 0||typeof e.operator!="string"?null:{fieldid:t,operator:skt[String(e.operator)]??e.operator,value:e.value}}function Rr(e){if(e==null)return null;if(typeof e=="object")return L_(e)??null;const t=String(e).trim();if(t==="")return null;try{const r=JSON.parse(t);return L_(r)??null}catch{return null}}function tI(e){return"logic"in e?{logic:e.logic,conditions:e.conditions.map(tI)}:{field_id:e.fieldid,operator:rkt[e.operator]??e.operator,value:e.value??null}}function Mr(e){return e?{show_when:("logic"in e,tI(e))}:null}const nkt=({value:e,onChange:t})=>{const[r,s]=v.useState("");v.useEffect(()=>{s(Array.isArray(e)?e.join(", "):"")},[e]);const a=()=>{const i=r.split(",").map(o=>o.trim()).filter(o=>o.length>0);t(i)};return n.jsx(ne,{type:"text",value:r,onChange:i=>s(i.target.value),onBlur:a,placeholder:"Enter comma-separated values"})},Or=({value:e,onChange:t,stages:r,open:s=!0,onClose:a,excludeFieldId:i,excludeStageId:o,excludeSectionId:c})=>{const[d,u]=v.useState(!!e&&"logic"in e),[l,f]=v.useState("and"),[m,p]=v.useState([]),x=v.useMemo(()=>{const E=[];return r.forEach(T=>{o&&T.id===o||T.sections.forEach(D=>{c&&D.id===c||D.fields.forEach(P=>{i&&P.id===i||E.push({fieldId:P.id,stageName:T.name,sectionName:D.name,fieldLabel:P.label,fieldType:P.field_type_id||"Unknown"})})})}),E},[r,i,o,c]);v.useEffect(()=>{if(!e){u(!1),p([]),f("and");return}"logic"in e?(u(!0),f(e.logic),p(e.conditions)):(u(!1),p([e]))},[e]);const b=()=>{const E={fieldid:x[0]?.fieldId||"",operator:"filled",value:void 0};p([...m,E])},h=E=>{p(m.filter((T,D)=>D!==E))},y=(E,T)=>{const D=[...m];D[E]={...D[E],...T},T.operator&&NK.includes(T.operator)&&(D[E].value=void 0),p(D)},w=()=>{d?(u(!1),m.length>1&&p([m[0]])):u(!0)},S=()=>{m.length===0?t(null):t(d?{logic:l,conditions:m}:m[0]),a?.()},N=()=>{p([]),u(!1),t(null)},_=(E,T)=>{const D=E.operator;return NK.includes(D)?n.jsx("div",{className:"text-sm text-muted-foreground italic",children:"No value required"}):ekt.includes(D)?n.jsx(nkt,{value:Array.isArray(E.value)?E.value:[],onChange:P=>{y(T,{value:P})}}):["greaterthan","lessthan","greaterorequal","lessorequal"].includes(D)?n.jsx(ne,{type:"number",value:E.value||"",onChange:P=>y(T,{value:parseFloat(P.target.value)||0}),placeholder:"Enter number"}):n.jsx(ne,{type:"text",value:E.value||"",onChange:P=>y(T,{value:P.target.value}),placeholder:"Enter value"})},k=(E,T)=>{const D=x.find(P=>P.fieldId===E.fieldid);return n.jsxs(xt,{value:String(E.fieldid),onValueChange:P=>{const M=isNaN(Number(P))?P:Number(P);y(T,{fieldid:M})},children:[n.jsx(ft,{className:"w-full",children:n.jsx(vt,{children:D?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ae,{variant:"outline",className:"text-xs",children:D.stageName}),n.jsxs("span",{className:"text-sm",children:[D.sectionName,"  ",D.fieldLabel]})]}):"Select field"})}),n.jsx(mt,{children:x.map(P=>n.jsx(Ue,{value:String(P.fieldId),children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ae,{variant:"outline",className:"text-xs",children:P.stageName}),n.jsx(Ae,{variant:"secondary",className:"text-xs",children:P.fieldType})]}),n.jsxs("div",{className:"text-sm",children:[P.sectionName,"  ",P.fieldLabel]})]})},String(P.fieldId)))})]})};return n.jsx(Ur,{open:s,onOpenChange:()=>a?.(),children:n.jsxs(Er,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[n.jsxs(kr,{children:[n.jsx(Ar,{children:"Visibility Conditions"}),n.jsx(as,{children:"Define when this element should be visible based on field values"})]}),n.jsxs(Ge,{children:[n.jsx(R$e,{className:"h-4 w-4"}),n.jsx(Ye,{children:"Conditions control visibility based on form field values. Fields must have values submitted before conditions can evaluate."})]}),x.length===0&&n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:"No fields available. Add fields to stages and sections first."})]}),m.length>0&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Q,{children:"Condition Type:"}),n.jsx(Ae,{variant:d?"default":"secondary",children:d?"Multiple (AND/OR)":"Single"})]}),n.jsx(W,{variant:"outline",size:"sm",onClick:w,disabled:m.length===0,children:d?"Use Simple Mode":"Use Complex Mode"})]}),d&&m.length>1&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Q,{children:"Logic:"}),n.jsxs(xt,{value:l,onValueChange:E=>f(E),children:[n.jsx(ft,{className:"w-32",children:n.jsx(vt,{})}),n.jsxs(mt,{children:[n.jsx(Ue,{value:"and",children:"AND (All must match)"}),n.jsx(Ue,{value:"or",children:"OR (Any can match)"})]})]})]}),n.jsx("div",{className:"space-y-4",children:m.map((E,T)=>n.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Q,{className:"text-sm font-medium",children:["Condition ",T+1,d&&T>0&&n.jsx(Ae,{variant:"outline",className:"ml-2",children:l.toUpperCase()})]}),n.jsx(W,{variant:"ghost",size:"sm",onClick:()=>h(T),children:n.jsx(kt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"text-xs text-muted-foreground",children:"Field"}),k(E,T)]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"text-xs text-muted-foreground",children:"Operator"}),n.jsxs(xt,{value:E.operator,onValueChange:D=>y(T,{operator:D}),children:[n.jsx(ft,{children:n.jsx(vt,{})}),n.jsx(mt,{children:Object.entries(tkt).map(([D,P])=>n.jsx(Ue,{value:D,children:P},D))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{className:"text-xs text-muted-foreground",children:"Value"}),_(E,T)]})]},T))}),x.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs(W,{variant:"outline",onClick:b,className:"w-full",disabled:x.length===0||!d&&m.length>=1,children:[n.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Add ",m.length>0&&d?"Another ":"","Condition"]}),!d&&m.length>=1&&n.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Switch to Complex Mode (AND/OR) to add multiple conditions"})]}),n.jsxs(Hr,{className:"flex items-center justify-between",children:[n.jsx(W,{variant:"ghost",onClick:N,disabled:m.length===0,children:"Clear All"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(W,{variant:"outline",onClick:()=>a?.(),children:"Cancel"}),n.jsx(W,{onClick:S,children:"Save Conditions"})]})]})]})})},akt=({stage:e,onChange:t,onClose:r,stages:s})=>{console.debug("[StageForm] Opening form for stage:",e.id);const[a,i]=v.useState(e),[o,c]=v.useState(null),[d,u]=v.useState(!1),[l,f]=v.useState(null);v.useEffect(()=>{i(e)},[e]),v.useEffect(()=>{const h=a.visibility_conditions??a.visibility_condition??null;f(Rr(h))},[a.visibility_conditions,a.visibility_condition]);const m=()=>a.name.trim()?(c(null),!0):(c("Stage name is required"),!1),p=()=>{console.info("[StageForm] Saving stage:",a.id),m()&&(t(a),r())},x=(h,y)=>{i(w=>({...w,[h]:y})),c(null)},b=(h,y)=>{i(w=>({...w,access_rule:{...w.access_rule||{allowed_users:null,allowed_roles:null,allowed_permissions:null,allow_authenticated_users:!1,email_field_id:null},[h]:y}}))};return n.jsxs(n.Fragment,{children:[n.jsx(Ur,{open:!0,onOpenChange:h=>!h&&r(),children:n.jsxs(Er,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(kr,{children:[n.jsx(Ar,{children:"Edit Stage Details"}),n.jsx(as,{children:"Configure stage properties and access control"})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[o&&n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:o})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{htmlFor:"stage-name",children:"Stage Name *"}),n.jsx(ne,{id:"stage-name",value:a.name,onChange:h=>x("name",h.target.value),placeholder:"Enter stage name",className:o?"border-red-500":""})]}),n.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Q,{htmlFor:"is-initial",children:"Initial Stage"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Mark this as the starting stage of the workflow"})]}),n.jsx(ys,{id:"is-initial",checked:a.is_initial,onCheckedChange:h=>x("is_initial",h)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[n.jsx("div",{className:"text-xs text-gray-600",children:a.visibility_conditions?"Conditions configured":"No conditions"}),n.jsx(W,{variant:"outline",size:"sm",onClick:()=>u(!0),children:"Edit Conditions"})]})]}),n.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.jsx("h4",{className:"font-medium text-sm",children:"Access Control"}),n.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Q,{htmlFor:"allow-authenticated",children:"Allow All Authenticated Users"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Any logged-in user can access this stage"})]}),n.jsx(ys,{id:"allow-authenticated",checked:a.access_rule?.allow_authenticated_users||!1,onCheckedChange:h=>b("allow_authenticated_users",h)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{htmlFor:"allowed-roles",children:"Allowed Roles (JSON Array)"}),n.jsx(ne,{id:"allowed-roles",value:a.access_rule?.allowed_roles||"",onChange:h=>b("allowed_roles",h.target.value||null),placeholder:'e.g., "[2, 3]"',className:"font-mono text-sm"}),n.jsx("p",{className:"text-xs text-gray-500",children:"JSON array of role IDs, e.g., [2, 3]"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{htmlFor:"allowed-permissions",children:"Allowed Permissions (JSON Array)"}),n.jsx(ne,{id:"allowed-permissions",value:a.access_rule?.allowed_permissions||"",onChange:h=>b("allowed_permissions",h.target.value||null),placeholder:'e.g., "[\\"view_entries\\"]"',className:"font-mono text-sm"}),n.jsx("p",{className:"text-xs text-gray-500",children:"JSON array of permission strings"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{htmlFor:"email-field-id",children:"Email Field ID"}),n.jsx(ne,{id:"email-field-id",type:"number",value:a.access_rule?.email_field_id||"",onChange:h=>b("email_field_id",h.target.value?parseInt(h.target.value,10):null),placeholder:"e.g., 2"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Field ID used to determine access by email"})]})]})]}),n.jsxs(Hr,{children:[n.jsx(W,{variant:"outline",onClick:r,children:"Cancel"}),n.jsx(W,{onClick:p,children:"Save Changes"})]})]})}),d&&n.jsx(Or,{value:l,onChange:h=>{f(h);const y=Mr(h);x("visibility_conditions",y),x("visibility_condition",y)},stages:s,open:d,onClose:()=>u(!1),excludeStageId:e.id})]})},ikt=({stages:e,onChange:t})=>{const[r,s]=v.useState(null);console.debug("[StageConfigTab] Rendering with",e.length,"stages");const a=()=>{console.info("[StageConfigTab] Adding new stage");const u={id:Yo(),name:`Stage ${e.length+1}`,description:null,order:e.length,is_initial:e.length===0,allow_rejection:!1,visibility_condition:null,visibility_conditions:null,access_rule:{allowed_users:null,allowed_roles:null,allowed_permissions:null,allow_authenticated_users:!1,email_field_id:null},sections:[]},l={id:Yo(),stage_id:u.id,name:"Section 1",description:null,order:1,is_repeatable:!1,min_entries:null,max_entries:null,visibility_condition:null,visibility_conditions:null,fields:[]};u.sections.push(l),t([...e,u]),console.info("[StageConfigTab] Created stage:",u.id)},i=u=>{console.info("[StageConfigTab] Updating stage:",u.id);const l=e.map(f=>f.id===u.id?u:u.is_initial?{...f,is_initial:!1}:f);t(l)},o=u=>{console.info("[StageConfigTab] Deleting stage:",u);const l=e.find(m=>m.id===u),f=e.filter(m=>m.id!==u);l?.is_initial&&f.length>0&&(console.debug("[StageConfigTab] Deleted initial stage, making first remaining stage initial"),f[0]={...f[0],is_initial:!0}),t(f)},c=u=>{console.debug("[StageConfigTab] Opening edit form for stage:",u.id),s(u)},d=()=>{console.debug("[StageConfigTab] Closing edit form"),s(null)};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Workflow Stages"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Define the stages in your form workflow"})]}),n.jsxs(W,{onClick:a,size:"sm",className:"gap-2",children:[n.jsx(Yt,{className:"h-4 w-4"}),"Add Stage"]})]}),e.length===0&&n.jsxs(Ge,{children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:"No stages defined. Add your first stage to get started."})]}),n.jsx("div",{className:"space-y-3",children:e.map(u=>n.jsx(Q2t,{stage:u,onChange:i,onDelete:()=>o(u.id),onEdit:()=>c(u)},u.id))}),r&&n.jsx(akt,{stage:r,onChange:i,onClose:d,stages:e})]})},okt=({section:e,index:t,total:r,onChange:s,onDelete:a,onEdit:i,onMoveUp:o,onMoveDown:c})=>{console.debug("[SectionItem] Rendering section:",e.id);const d=m=>{console.debug("[SectionItem] Updating section name:",e.id,"->",m),s({...e,name:m})},u=e.id&&wb(e.id),l=t>0,f=t<r-1;return n.jsx(oe,{className:"hover:shadow-md transition-shadow",children:n.jsx(je,{className:"p-3",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:n.jsx("div",{className:"w-8 h-8 rounded bg-purple-100 flex items-center justify-center",children:n.jsx(_b,{className:"h-4 w-4 text-purple-600"})})}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(ne,{value:e.name,onChange:m=>d(m.target.value),className:"max-w-xs font-medium h-8 text-sm",placeholder:"Section name"}),n.jsxs(Ae,{variant:"outline",className:"text-xs",children:["Order: ",e.order]}),u&&n.jsx(Ae,{variant:"outline",className:"text-xs text-orange-600 border-orange-600",children:"New"})]}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[n.jsxs("span",{children:[e.fields.length," field(s)"]}),e.visibility_conditions&&n.jsx("span",{className:"text-blue-600",children:"Has visibility rules"})]})]}),n.jsxs("div",{className:"flex-shrink-0 flex gap-1",children:[n.jsx(W,{variant:"ghost",size:"sm",onClick:o,disabled:!l,className:"h-7 w-7 p-0",title:"Move up",children:n.jsx(NE,{className:"h-4 w-4"})}),n.jsx(W,{variant:"ghost",size:"sm",onClick:c,disabled:!f,className:"h-7 w-7 p-0",title:"Move down",children:n.jsx(Eo,{className:"h-4 w-4"})}),n.jsx(W,{variant:"ghost",size:"sm",onClick:i,className:"h-7 w-7 p-0",title:"Edit details",children:n.jsx(h3,{className:"h-4 w-4"})}),n.jsx(W,{variant:"ghost",size:"sm",onClick:a,className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",title:"Delete section",children:n.jsx(kt,{className:"h-4 w-4"})})]})]})})})},lkt=({section:e,onChange:t,onClose:r,stages:s})=>{console.debug("[SectionForm] Opening form for section:",e.id);const[a,i]=v.useState(e),[o,c]=v.useState(null),[d,u]=v.useState(!1),[l,f]=v.useState(null);v.useEffect(()=>{i(e)},[e]),v.useEffect(()=>{const b=a.visibility_conditions??a.visibility_condition??null;f(Rr(b))},[a.visibility_conditions,a.visibility_condition]);const m=()=>a.name.trim()?a.order===void 0||a.order<1?(c("Order must be a positive number"),!1):(c(null),!0):(c("Section name is required"),!1),p=()=>{console.info("[SectionForm] Saving section:",a.id),m()&&(t(a),r())},x=(b,h)=>{i(y=>({...y,[b]:h})),c(null)};return n.jsxs(n.Fragment,{children:[n.jsx(Ur,{open:!0,onOpenChange:b=>!b&&r(),children:n.jsxs(Er,{className:"max-w-xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(kr,{children:[n.jsx(Ar,{children:"Edit Section Details"}),n.jsx(as,{children:"Configure section properties and visibility rules"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[o&&n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:o})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{htmlFor:"section-name",children:"Section Name *"}),n.jsx(ne,{id:"section-name",value:a.name,onChange:b=>x("name",b.target.value),placeholder:"Enter section name",className:o?"border-red-500":""}),n.jsx("p",{className:"text-xs text-gray-500",children:"A descriptive name for this section"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{htmlFor:"section-order",children:"Order *"}),n.jsx(ne,{id:"section-order",type:"number",min:"1",value:a.order||1,onChange:b=>x("order",parseInt(b.target.value,10)||1),placeholder:"e.g., 1"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Display order within the stage (lower numbers appear first)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[n.jsx("div",{className:"text-xs text-gray-600",children:a.visibility_conditions?"Conditions configured":"No conditions"}),n.jsx(W,{variant:"outline",size:"sm",onClick:()=>u(!0),children:"Edit Conditions"})]})]}),n.jsx("div",{className:"rounded-lg border p-3 bg-gray-50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Fields in this section"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Manage fields from the Fields tab"})]}),n.jsx(Ae,{variant:"secondary",className:"text-lg font-semibold",children:a.fields.length})]})})]}),n.jsxs(Hr,{children:[n.jsx(W,{variant:"outline",onClick:r,children:"Cancel"}),n.jsx(W,{onClick:p,children:"Save Changes"})]})]})}),d&&n.jsx(Or,{value:l,onChange:b=>{f(b);const h=Mr(b);x("visibility_conditions",h)},stages:s,open:d,onClose:()=>u(!1),excludeSectionId:e.id})]})},ckt=()=>{const e=ur(),[t,r]=v.useState(null);console.debug("[SectionConfigTab] Rendering");const s=e.selectedStageId||(e.stages[0]?.id??null),a=e.stages.find(h=>h.id===s),i=a?.sections||[];v.useEffect(()=>{!e.selectedStageId&&e.stages.length>0&&(console.debug("[SectionConfigTab] Auto-selecting first stage on mount"),e.setSelectedStageId(e.stages[0].id))},[e.stages.length]);const o=h=>{console.debug("[SectionConfigTab] Stage selection changed:",h),e.setSelectedStageId(h)},c=()=>{if(!s){console.warn("[SectionConfigTab] Cannot add section: No stage selected");return}console.info("[SectionConfigTab] Adding new section to stage",s);const h=i.reduce((w,S)=>Math.max(w,S.order||0),0),y={id:Yo(),stage_id:s,name:`Section ${i.length+1}`,description:null,order:h+1,is_repeatable:!1,min_entries:null,max_entries:null,visibility_condition:null,visibility_conditions:null,fields:[]};e.addSection(s,y),console.info("[SectionConfigTab] Created section:",y.id)},d=h=>{if(!s){console.warn("[SectionConfigTab] Cannot update section: No stage selected");return}console.info("[SectionConfigTab] Updating section:",h.id),e.updateSection(s,h)},u=h=>{if(!s){console.warn("[SectionConfigTab] Cannot delete section: No stage selected");return}console.info("[SectionConfigTab] Deleting section:",h),e.removeSection(s,h)},l=(h,y)=>{if(y===0||!s)return;console.debug("[SectionConfigTab] Moving section up:",h.id);const w=[...i],S={...w[y]},N={...w[y-1]},_=S.order;S.order=N.order,N.order=_,w[y-1]=S,w[y]=N,e.reorderSections(s,w)},f=(h,y)=>{if(y===i.length-1||!s)return;console.debug("[SectionConfigTab] Moving section down:",h.id);const w=[...i],S={...w[y]},N={...w[y+1]},_=S.order;S.order=N.order,N.order=_,w[y]=N,w[y+1]=S,e.reorderSections(s,w)},m=h=>{console.debug("[SectionConfigTab] Opening edit form for section:",h.id),r(h)},p=()=>{console.debug("[SectionConfigTab] Closing edit form"),r(null)},x=[...i].sort((h,y)=>(h.order||0)-(y.order||0)),b=s!==null?String(s):"";return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Stage Sections"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Manage sections for the selected stage"})]})}),e.stages.length>0?n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Select Stage"}),n.jsxs(xt,{value:b,onValueChange:o,children:[n.jsx(ft,{className:"w-full",children:n.jsx(vt,{placeholder:"Select a stage",children:a?`${a.name}${a.is_initial?" (Initial)":""}`:"Select a stage"})}),n.jsx(mt,{children:e.stages.map(h=>n.jsxs(Ue,{value:String(h.id),children:[h.name," ",h.is_initial&&"(Initial)"]},h.id))})]})]}):n.jsxs(Ge,{children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:"No stages defined. Please add stages first in the Stages tab."})]})]}),s&&n.jsxs(W,{onClick:c,size:"sm",className:"w-full gap-2",children:[n.jsx(Yt,{className:"h-4 w-4"}),"Add Section to ",a?.name]}),s&&x.length===0&&n.jsxs(Ge,{children:[n.jsx(_b,{className:"h-4 w-4"}),n.jsx(Ye,{children:"No sections in this stage. Add your first section to get started."})]}),s&&x.length>0&&n.jsx("div",{className:"space-y-2",children:x.map((h,y)=>n.jsx(okt,{section:h,index:y,total:x.length,onChange:d,onDelete:()=>u(h.id),onEdit:()=>m(h),onMoveUp:()=>l(h,y),onMoveDown:()=>f(h,y)},h.id))}),t&&s&&n.jsx(lkt,{section:t,onChange:d,onClose:p,stages:e.stages})]})},dkt=({field:e,index:t,total:r,isSelected:s,fieldTypeName:a,onSelect:i,onDelete:o,onMoveUp:c,onMoveDown:d})=>{const u=t>0,l=t<r-1;return n.jsxs("div",{className:`
        p-3 border rounded-md cursor-pointer transition-all
        ${s?"border-blue-500 bg-blue-50 shadow-sm":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}
      `,onClick:i,children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h5",{className:"text-sm font-medium text-gray-900 truncate",children:e.label||"Untitled Field"}),wb(e.id)&&n.jsx(Ae,{variant:"outline",className:"text-xs bg-orange-50 text-orange-700 border-orange-200",children:"New"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ae,{variant:"secondary",className:"text-xs",children:a||`Type ${e.field_type_id}`}),e.rules.length>0&&n.jsxs("span",{className:"text-xs text-gray-500",children:[e.rules.length," rule",e.rules.length!==1?"s":""]})]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(W,{onClick:f=>{f.stopPropagation(),c()},disabled:!u,variant:"ghost",size:"icon",className:"h-7 w-7",title:"Move up",children:n.jsx(NE,{className:"h-4 w-4"})}),n.jsx(W,{onClick:f=>{f.stopPropagation(),d()},disabled:!l,variant:"ghost",size:"icon",className:"h-7 w-7",title:"Move down",children:n.jsx(Eo,{className:"h-4 w-4"})}),n.jsx(W,{onClick:f=>{f.stopPropagation(),o()},variant:"ghost",size:"icon",className:"h-7 w-7 text-red-600 hover:text-red-700 hover:bg-red-50",title:"Delete field",children:n.jsx(kt,{className:"h-4 w-4"})})]})]}),e.helper_text&&n.jsx("p",{className:"mt-2 text-xs text-gray-500 truncate",children:e.helper_text})]})},ukt=({stageId:e,sectionId:t,fields:r,selectedFieldId:s,onFieldSelect:a})=>{const i=ur(),{fieldTypes:o}=G$();console.debug("[FieldList] Rendering",r.length,"fields");const c=f=>o.find(p=>p.id===f)?.name||null,d=f=>{window.confirm("Are you sure you want to delete this field?")&&(console.info("[FieldList] Deleting field:",f),i.removeField(e,t,f))},u=(f,m)=>{if(m===0)return;console.debug("[FieldList] Moving field up:",f.id);const p=[...r];[p[m-1],p[m]]=[p[m],p[m-1]],i.reorderFields(e,t,p)},l=(f,m)=>{if(m===r.length-1)return;console.debug("[FieldList] Moving field down:",f.id);const p=[...r];[p[m],p[m+1]]=[p[m+1],p[m]],i.reorderFields(e,t,p)};return n.jsx("div",{className:"space-y-2",children:r.map((f,m)=>n.jsx(dkt,{field:f,index:m,total:r.length,isSelected:s===f.id,fieldTypeName:c(f.field_type_id),onSelect:()=>a(f.id),onDelete:()=>d(f.id),onMoveUp:()=>u(f,m),onMoveDown:()=>l(f,m)},f.id))})},fkt=({field:e,fieldIndex:t,onFieldChange:r,onDelete:s})=>{console.debug("[EmailInputFieldConfig] Rendering for field:",e.id);const{stages:a}=ur(),[i,o]=v.useState(!1),[c,d]=v.useState(null);v.useEffect(()=>{const f=e.visibility_conditions??e.visibility_condition??null;d(Rr(f))},[e.visibility_conditions,e.visibility_condition]);const l=(f=>f?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f):!0)(e.default_value||"");return n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"p-4 border-l-4 border-l-pink-500",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(sl,{className:"h-4 w-4 text-purple-500"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"Email Input"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Field ",t+1]})]}),n.jsx(W,{variant:"ghost",size:"icon",type:"button",onClick:s,className:"text-destructive hover:text-destructive",children:n.jsx(kt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Label ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.label,onChange:f=>r({label:f.target.value}),placeholder:"Enter field label",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Placeholder"}),n.jsx(ne,{value:e.placeholder??"",onChange:f=>r({placeholder:f.target.value||null}),placeholder:"e.g., user@example.com",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Helper Text"}),n.jsx(Ht,{value:e.helper_text??"",onChange:f=>r({helper_text:f.target.value||null}),placeholder:"Additional information (e.g., 'We'll never share your email')",className:"min-h-[60px] text-xs"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Default Value (Email Address)"}),n.jsx(ne,{type:"email",value:e.default_value??"",onChange:f=>r({default_value:f.target.value||null}),placeholder:"default@example.com",className:`h-9 ${l?"":"border-destructive"}`}),!l&&n.jsx("p",{className:"text-[10px] text-destructive",children:" Please enter a valid email format"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[n.jsx("div",{className:"text-[11px] text-muted-foreground",children:e.visibility_conditions?"Conditions configured":"No conditions"}),n.jsx(W,{variant:"outline",size:"sm",type:"button",onClick:()=>o(!0),children:"Edit Conditions"})]})]})]})}),i&&n.jsx(Or,{value:c,onChange:f=>{d(f);const m=Mr(f);r({visibility_conditions:m})},stages:a,excludeFieldId:e.id,open:i,onClose:()=>o(!1)})]})},mkt=({field:e})=>{console.debug("[EmailInputPreview] Rendering for field:",e.id);const t=e.rules&&e.rules.length>0,r=e.rules?.some(s=>s.input_rule_id!==null&&s.input_rule_id!==void 0);return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(sl,{className:"h-3 w-3 text-purple-500"}),n.jsxs(Q,{className:"text-sm font-medium",children:[e.label,r&&n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),t&&n.jsxs("span",{className:"text-xs text-gray-500",children:["(",e.rules.length," rule",e.rules.length!==1?"s":"",")"]})]}),n.jsx(ne,{type:"email",placeholder:e.placeholder??"Enter email address",defaultValue:e.default_value??void 0,disabled:!0,className:"bg-muted/30 cursor-not-allowed"}),e.helper_text&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text})]})},hkt=({field:e,fieldIndex:t,onFieldChange:r,onDelete:s})=>{console.debug("[TextInputFieldConfig] Rendering for field:",e.id);const{stages:a}=ur(),[i,o]=v.useState(!1),[c,d]=v.useState(null);return v.useEffect(()=>{const u=e.visibility_conditions??e.visibility_condition??null;d(Rr(u))},[e.visibility_conditions,e.visibility_condition]),n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"p-4 border-l-4 border-l-blue-500",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(kb,{className:"h-4 w-4 text-blue-500"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"Text Input"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Field ",t+1]})]}),n.jsx(W,{variant:"ghost",size:"icon",type:"button",onClick:s,className:"text-destructive hover:text-destructive",children:n.jsx(kt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Label ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.label,onChange:u=>r({label:u.target.value}),placeholder:"Enter field label",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Placeholder"}),n.jsx(ne,{value:e.placeholder??"",onChange:u=>r({placeholder:u.target.value||null}),placeholder:"Enter placeholder text",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Helper Text"}),n.jsx(Ht,{value:e.helper_text??"",onChange:u=>r({helper_text:u.target.value||null}),placeholder:"Additional information to help users",className:"min-h-[60px] text-xs"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Default Value"}),n.jsx(ne,{value:e.default_value??"",onChange:u=>r({default_value:u.target.value||null}),placeholder:"Default value for this field",className:"h-9"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[n.jsx("div",{className:"text-[11px] text-muted-foreground",children:e.visibility_conditions?"Conditions configured":"No conditions"}),n.jsx(W,{variant:"outline",size:"sm",type:"button",onClick:()=>o(!0),children:"Edit Conditions"})]})]})]})}),i&&n.jsx(Or,{value:c,onChange:u=>{d(u);const l=Mr(u);r({visibility_conditions:l})},stages:a,excludeFieldId:e.id,open:i,onClose:()=>o(!1)})]})},pkt=({field:e})=>{console.debug("[TextInputPreview] Rendering for field:",e.id);const t=e.rules?.some(r=>r.input_rule_id!==null&&r.input_rule_id!==void 0);return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Q,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(kb,{className:"h-3.5 w-3.5 text-blue-500"}),e.label,t&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{type:"text",placeholder:e.placeholder??void 0,defaultValue:e.default_value??void 0,disabled:!0,className:"bg-muted/30"}),e.helper_text&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text})]})},gkt=({field:e,fieldIndex:t,onFieldChange:r,onDelete:s})=>{console.debug("[NumberInputFieldConfig] Rendering for field:",e.id);const{stages:a}=ur(),[i,o]=v.useState(!1),[c,d]=v.useState(null);v.useEffect(()=>{const f=e.visibility_conditions??e.visibility_condition??null;d(Rr(f))},[e.visibility_conditions,e.visibility_condition]);const l=(f=>f?!isNaN(Number(f))&&f.trim()!=="":!0)(e.default_value||"");return n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"p-4 border-l-4 border-l-green-500",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Xm,{className:"h-4 w-4 text-green-500"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"Number Input"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Field ",t+1]})]}),n.jsx(W,{variant:"ghost",size:"icon",type:"button",onClick:s,className:"text-destructive hover:text-destructive",children:n.jsx(kt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Label ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.label,onChange:f=>r({label:f.target.value}),placeholder:"Enter field label",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Placeholder"}),n.jsx(ne,{value:e.placeholder??"",onChange:f=>r({placeholder:f.target.value||null}),placeholder:"e.g., 0, 100, 3.14",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Helper Text"}),n.jsx(Ht,{value:e.helper_text??"",onChange:f=>r({helper_text:f.target.value||null}),placeholder:"Additional information (e.g., 'Enter a value between 1 and 100')",className:"min-h-[60px] text-xs"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Default Value (Number)"}),n.jsx(ne,{type:"number",step:"any",value:e.default_value??"",onChange:f=>r({default_value:f.target.value||null}),placeholder:"0",className:`h-9 ${l?"":"border-destructive"}`}),!l&&n.jsx("p",{className:"text-[10px] text-destructive",children:" Please enter a valid number"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[n.jsx("div",{className:"text-[11px] text-muted-foreground",children:e.visibility_conditions?"Conditions configured":"No conditions"}),n.jsx(W,{variant:"outline",size:"sm",type:"button",onClick:()=>o(!0),children:"Edit Conditions"})]})]})]})}),i&&n.jsx(Or,{value:c,onChange:f=>{d(f);const m=Mr(f);r({visibility_conditions:m})},stages:a,excludeFieldId:e.id,open:i,onClose:()=>o(!1)})]})},xkt=({field:e})=>{console.debug("[NumberInputPreview] Rendering for field:",e.id);const t=e.rules?.some(s=>s.input_rule_id!==null&&s.input_rule_id!==void 0),r=e.default_value?Number(e.default_value):void 0;return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Q,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Xm,{className:"h-3.5 w-3.5 text-green-500"}),e.label,t&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{type:"number",step:"any",placeholder:e.placeholder??"0",defaultValue:r,disabled:!0,className:"bg-muted/30"}),e.helper_text&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text})]})},vkt=({field:e,fieldIndex:t,onFieldChange:r,onDelete:s})=>{console.debug("[PhoneInputFieldConfig] Rendering for field:",e.id);const{stages:a}=ur(),[i,o]=v.useState(!1),[c,d]=v.useState(null);v.useEffect(()=>{const f=e.visibility_conditions??e.visibility_condition??null;d(Rr(f))},[e.visibility_conditions,e.visibility_condition]);const[u,l]=v.useState("");return n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"p-4 border-l-4 border-l-cyan-500",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_y,{className:"h-4 w-4 text-cyan-500"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"Phone Input"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Field ",t+1]})]}),n.jsx(W,{variant:"ghost",size:"icon",type:"button",onClick:s,className:"text-destructive hover:text-destructive",children:n.jsx(kt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Label ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.label,onChange:f=>r({label:f.target.value}),placeholder:"Enter field label",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Placeholder"}),n.jsx(ne,{value:e.placeholder??"",onChange:f=>r({placeholder:f.target.value||null}),placeholder:"e.g., +1 (555) 123-4567",className:"h-9",maxLength:255})]}),u&&n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Suggested Regex Pattern"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ht,{value:u,onChange:f=>l(f.target.value),className:"min-h-[50px] text-xs font-mono bg-muted/50",readOnly:!0}),n.jsx(W,{size:"sm",variant:"ghost",className:"absolute top-1 right-1 h-6 text-[10px]",onClick:()=>{navigator.clipboard.writeText(u)},children:"Copy"})]}),n.jsx("p",{className:"text-[10px] text-cyan-700 italic",children:' Add this pattern using "regex" validation rule after saving the field'})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Helper Text"}),n.jsx(Ht,{value:e.helper_text??"",onChange:f=>r({helper_text:f.target.value||null}),placeholder:"Additional information (e.g., 'Please include country code')",className:"min-h-[60px] text-xs"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Default Value (Phone Number)"}),n.jsx(ne,{type:"tel",value:e.default_value??"",onChange:f=>r({default_value:f.target.value||null}),placeholder:"+1 (555) 123-4567",className:"h-9"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[n.jsx("div",{className:"text-[11px] text-muted-foreground",children:e.visibility_conditions?"Conditions configured":"No conditions"}),n.jsx(W,{variant:"outline",size:"sm",type:"button",onClick:()=>o(!0),children:"Edit Conditions"})]})]})]})}),i&&n.jsx(Or,{value:c,onChange:f=>{d(f);const m=Mr(f);r({visibility_conditions:m})},stages:a,excludeFieldId:e.id,open:i,onClose:()=>o(!1)})]})},ykt=({field:e})=>{console.debug("[PhoneInputPreview] Rendering for field:",e.id);const t=e.rules?.some(r=>r.input_rule_id!==null&&r.input_rule_id!==void 0);return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_y,{className:"h-3.5 w-3.5 text-cyan-500"}),n.jsxs(Q,{className:"text-sm font-medium",children:[e.label,t&&n.jsx("span",{className:"text-destructive",children:"*"})]})]}),n.jsx(ne,{type:"tel",placeholder:e.placeholder??"+1 (555) 123-4567",defaultValue:e.default_value??void 0,disabled:!0,className:"bg-muted/30"}),e.helper_text&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text})]})},bkt=({field:e,fieldIndex:t,onFieldChange:r,onDelete:s})=>{console.debug("[TextAreaFieldConfig] Rendering for field:",e.id);const{stages:a}=ur(),[i,o]=v.useState(!1),[c,d]=v.useState(null);return v.useEffect(()=>{const u=e.visibility_conditions??e.visibility_condition??null;d(Rr(u))},[e.visibility_conditions,e.visibility_condition]),n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"p-4 border-l-4 border-l-orange-500",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(a3,{className:"h-4 w-4 text-orange-500"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"Text Area"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Field ",t+1]})]}),n.jsx(W,{variant:"ghost",size:"icon",type:"button",onClick:s,className:"text-destructive hover:text-destructive",children:n.jsx(kt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Label ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.label,onChange:u=>r({label:u.target.value}),placeholder:"Enter field label",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Placeholder"}),n.jsx(Ht,{value:e.placeholder??"",onChange:u=>r({placeholder:u.target.value||null}),placeholder:"Enter your text here...\\nMultiple lines are supported",className:"min-h-[60px] text-xs",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Helper Text"}),n.jsx(Ht,{value:e.helper_text??"",onChange:u=>r({helper_text:u.target.value||null}),placeholder:"Additional information (e.g., 'Maximum 500 characters')",className:"min-h-[60px] text-xs"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Default Value (Multi-line Text)"}),n.jsx(Ht,{value:e.default_value??"",onChange:u=>r({default_value:u.target.value||null}),placeholder:"Enter default text...",className:"min-h-[80px] text-xs"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[n.jsx("div",{className:"text-[11px] text-muted-foreground",children:e.visibility_conditions?"Conditions configured":"No conditions"}),n.jsx(W,{variant:"outline",size:"sm",type:"button",onClick:()=>o(!0),children:"Edit Conditions"})]})]})]})}),i&&n.jsx(Or,{value:c,onChange:u=>{d(u);const l=Mr(u);r({visibility_conditions:l})},stages:a,excludeFieldId:e.id,open:i,onClose:()=>o(!1)})]})},wkt=({field:e})=>{console.debug("[TextAreaPreview] Rendering for field:",e.id);const t=e.rules?.some(r=>r.input_rule_id!==null&&r.input_rule_id!==void 0);return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Q,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(a3,{className:"h-3.5 w-3.5 text-orange-500"}),e.label,t&&n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(Ht,{placeholder:e.placeholder??"Enter your text here...",defaultValue:e.default_value??void 0,disabled:!0,className:"bg-muted/30 min-h-[100px]",rows:4}),e.helper_text&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text})]})},jkt=({field:e,fieldIndex:t,onFieldChange:r,onDelete:s})=>{console.debug("[DateInputFieldConfig] Rendering for field:",e.id);const{stages:a}=ur(),[i,o]=v.useState(!1),[c,d]=v.useState(null);v.useEffect(()=>{const m=e.visibility_conditions??e.visibility_condition??null;d(Rr(m))},[e.visibility_conditions,e.visibility_condition]);const l=(m=>{if(!m)return!0;const p=new Date(m);return!isNaN(p.getTime())})(e.default_value||""),f=()=>new Date().toISOString().split("T")[0];return n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"p-4 border-l-4 border-l-indigo-500",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(bn,{className:"h-4 w-4 text-indigo-500"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"Date Input"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Field ",t+1]})]}),n.jsx(W,{variant:"ghost",size:"icon",type:"button",onClick:s,className:"text-destructive hover:text-destructive",children:n.jsx(kt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Label ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.label,onChange:m=>r({label:m.target.value}),placeholder:"Enter field label",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Helper Text"}),n.jsx(Ht,{value:e.helper_text??"",onChange:m=>r({helper_text:m.target.value||null}),placeholder:"Additional information (e.g., 'Select your birth date')",className:"min-h-[60px] text-xs"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Default Value (Date)"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ne,{type:"date",value:e.default_value??"",onChange:m=>r({default_value:m.target.value||null}),className:`h-9 flex-1 ${l?"":"border-destructive"}`}),n.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>r({default_value:f()}),className:"h-9 text-xs",children:"Today"})]}),!l&&n.jsx("p",{className:"text-[10px] text-destructive",children:" Please enter a valid date"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[n.jsx("div",{className:"text-[11px] text-muted-foreground",children:e.visibility_conditions?"Conditions configured":"No conditions"}),n.jsx(W,{variant:"outline",size:"sm",type:"button",onClick:()=>o(!0),children:"Edit Conditions"})]})]})]})}),i&&n.jsx(Or,{value:c,onChange:m=>{d(m);const p=Mr(m);r({visibility_conditions:p})},stages:a,excludeFieldId:e.id,open:i,onClose:()=>o(!1)})]})},Skt=({field:e})=>{console.debug("[DateInputPreview] Rendering for field:",e.id);const t=e.rules?.some(r=>r.input_rule_id!==null&&r.input_rule_id!==void 0);return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(bn,{className:"h-3.5 w-3.5 text-indigo-500"}),n.jsxs(Q,{className:"text-sm font-medium",children:[e.label,t&&n.jsx("span",{className:"text-destructive",children:"*"})]})]}),n.jsx(ne,{type:"date",placeholder:e.placeholder??"YYYY-MM-DD",defaultValue:e.default_value??void 0,disabled:!0,className:"bg-muted/30"}),e.helper_text&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text})]})},Nkt=({field:e,fieldIndex:t,onFieldChange:r,onDelete:s})=>{console.debug("[TimeInputFieldConfig] Rendering for field:",e.id);const{stages:a}=ur(),[i,o]=v.useState(!1),[c,d]=v.useState(null);v.useEffect(()=>{const p=e.visibility_conditions??e.visibility_condition??null;d(Rr(p))},[e.visibility_conditions,e.visibility_condition]);const[u]=v.useState("minutes"),f=(p=>p?/^([01]?[0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$/.test(p):!0)(e.default_value||""),m=()=>new Date().toTimeString().slice(0,5);return n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"p-4 border-l-4 border-l-teal-500",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(po,{className:"h-4 w-4 text-teal-500"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"Time Input"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Field ",t+1]})]}),n.jsx(W,{variant:"ghost",size:"icon",type:"button",onClick:s,className:"text-destructive hover:text-destructive",children:n.jsx(kt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Label ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.label,onChange:p=>r({label:p.target.value}),placeholder:"Enter field label",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Helper Text"}),n.jsx(Ht,{value:e.helper_text??"",onChange:p=>r({helper_text:p.target.value||null}),placeholder:"Additional information (e.g., 'Select appointment time')",className:"min-h-[60px] text-xs"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Default Value (Time)"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ne,{type:"time",step:u==="seconds"?"1":"60",value:e.default_value??"",onChange:p=>r({default_value:p.target.value||null}),className:`h-9 flex-1 ${f?"":"border-destructive"}`}),n.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>r({default_value:m()}),className:"h-9 text-xs",children:"Now"})]}),!f&&n.jsx("p",{className:"text-[10px] text-destructive",children:" Please enter a valid time"}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:" Will be normalized to HH:MM:SS format (24-hour)"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[n.jsx("div",{className:"text-[11px] text-muted-foreground",children:e.visibility_conditions?"Conditions configured":"No conditions"}),n.jsx(W,{variant:"outline",size:"sm",type:"button",onClick:()=>o(!0),children:"Edit Conditions"})]})]})]})}),i&&n.jsx(Or,{value:c,onChange:p=>{d(p);const x=Mr(p);r({visibility_conditions:x})},stages:a,excludeFieldId:e.id,open:i,onClose:()=>o(!1)})]})},Ckt=({field:e})=>{console.debug("[TimeInputPreview] Rendering for field:",e.id);const t=e.rules?.some(r=>r.input_rule_id!==null&&r.input_rule_id!==void 0);return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(po,{className:"h-3.5 w-3.5 text-teal-500"}),n.jsxs(Q,{className:"text-sm font-medium",children:[e.label,t&&n.jsx("span",{className:"text-destructive",children:"*"})]})]}),n.jsx(ne,{type:"time",placeholder:e.placeholder??"HH:MM",defaultValue:e.default_value??void 0,disabled:!0,className:"bg-muted/30"}),e.helper_text&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text})]})},_kt=({field:e,fieldIndex:t,onFieldChange:r,onDelete:s})=>{console.debug("[DateTimeInputFieldConfig] Rendering for field:",e.id);const{stages:a}=ur(),[i,o]=v.useState(!1),[c,d]=v.useState(null);v.useEffect(()=>{const m=e.visibility_conditions??e.visibility_condition??null;d(Rr(m))},[e.visibility_conditions,e.visibility_condition]);const l=(m=>{if(!m)return!0;const p=new Date(m);return!isNaN(p.getTime())})(e.default_value||""),f=()=>{const m=new Date,p=m.getFullYear(),x=String(m.getMonth()+1).padStart(2,"0"),b=String(m.getDate()).padStart(2,"0"),h=String(m.getHours()).padStart(2,"0"),y=String(m.getMinutes()).padStart(2,"0");return`${p}-${x}-${b}T${h}:${y}`};return n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"p-4 border-l-4 border-l-indigo-500",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(o3,{className:"h-4 w-4 text-purple-500"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"DateTime Input"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Field ",t+1]})]}),n.jsx(W,{variant:"ghost",size:"icon",type:"button",onClick:s,className:"text-destructive hover:text-destructive",children:n.jsx(kt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Label ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.label,onChange:m=>r({label:m.target.value}),placeholder:"Enter field label",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Helper Text"}),n.jsx(Ht,{value:e.helper_text??"",onChange:m=>r({helper_text:m.target.value||null}),placeholder:"Additional information (e.g., 'Select appointment date and time')",className:"min-h-[60px] text-xs"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Default Value (DateTime)"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ne,{type:"datetime-local",value:e.default_value??"",onChange:m=>r({default_value:m.target.value||null}),className:`h-9 flex-1 ${l?"":"border-destructive"}`}),n.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>r({default_value:f()}),className:"h-9 text-xs",children:"Now"})]}),!l&&n.jsx("p",{className:"text-[10px] text-destructive",children:" Please enter a valid datetime"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[n.jsx("div",{className:"text-[11px] text-muted-foreground",children:e.visibility_conditions?"Conditions configured":"No conditions"}),n.jsx(W,{variant:"outline",size:"sm",type:"button",onClick:()=>o(!0),children:"Edit Conditions"})]})]})]})}),i&&n.jsx(Or,{value:c,onChange:m=>{d(m);const p=Mr(m);r({visibility_conditions:p})},stages:a,excludeFieldId:e.id,open:i,onClose:()=>o(!1)})]})},Ekt=({field:e})=>{console.debug("[DateTimeInputPreview] Rendering for field:",e.id);const t=e.rules&&e.rules.length>0,r=e.rules?.some(s=>s.input_rule_id!==null&&s.input_rule_id!==void 0);return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(o3,{className:"h-3.5 w-3.5 text-purple-500"}),n.jsxs(Q,{className:"text-sm font-medium",children:[e.label,r&&n.jsx("span",{className:"text-destructive",children:"*"}),t&&n.jsxs("span",{className:"text-[10px] text-muted-foreground font-normal ml-1",children:["(",e.rules.length," rule",e.rules.length!==1?"s":"",")"]})]})]}),n.jsx(ne,{type:"datetime-local",placeholder:e.placeholder??"YYYY-MM-DD HH:MM",defaultValue:e.default_value??void 0,disabled:!0,className:"bg-muted/30"}),e.helper_text&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text})]})},kkt=({field:e,fieldIndex:t,onFieldChange:r,onDelete:s})=>{console.debug("[CheckboxFieldConfig] Rendering for field:",e.id);const{stages:a}=ur(),[i,o]=v.useState(!1),[c,d]=v.useState(null);v.useEffect(()=>{const l=e.visibility_conditions??e.visibility_condition??null;d(Rr(l))},[e.visibility_conditions,e.visibility_condition]);const u=e.default_value==="1";return n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"p-4 border-l-4 border-l-emerald-500",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ox,{className:"h-4 w-4 text-emerald-500"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"Checkbox"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Field ",t+1]})]}),n.jsx(W,{variant:"ghost",size:"icon",type:"button",onClick:s,className:"text-destructive hover:text-destructive",children:n.jsx(kt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Label ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.label,onChange:l=>r({label:l.target.value}),placeholder:"e.g., I agree to the terms and conditions",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Helper Text"}),n.jsx(Ht,{value:e.helper_text??"",onChange:l=>r({helper_text:l.target.value||null}),placeholder:"Additional information (e.g., 'You must accept to continue')",className:"min-h-[60px] text-xs"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Default State"}),n.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-md bg-muted/30",children:[n.jsx(dt,{id:"default-checked",checked:u,onCheckedChange:l=>r({default_value:l?"1":"0"})}),n.jsx(Q,{htmlFor:"default-checked",className:"text-sm font-normal cursor-pointer",children:u?"Checked by default":"Unchecked by default"})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[n.jsx("div",{className:"text-[11px] text-muted-foreground",children:e.visibility_conditions?"Conditions configured":"No conditions"}),n.jsx(W,{variant:"outline",size:"sm",type:"button",onClick:()=>o(!0),children:"Edit Conditions"})]})]})]})}),i&&n.jsx(Or,{value:c,onChange:l=>{d(l);const f=Mr(l);r({visibility_conditions:f})},stages:a,excludeFieldId:e.id,open:i,onClose:()=>o(!1)})]})},Akt=({field:e})=>{console.debug("[CheckboxPreview] Rendering for field:",e.id);const t=e.default_value==="1",r=e.rules?.some(s=>s.input_rule_id!==null&&s.input_rule_id!==void 0);return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[r&&n.jsx("span",{className:"text-destructive",children:"*"}),n.jsx(dt,{id:`preview-checkbox-${e.id}`,defaultChecked:t,disabled:!0}),n.jsx(Q,{htmlFor:`preview-checkbox-${e.id}`,className:"text-sm font-medium cursor-pointer",children:e.label})]}),e.helper_text&&n.jsx("p",{className:"text-xs text-muted-foreground ml-7",children:e.helper_text})]})},Tkt=({field:e,fieldIndex:t,onFieldChange:r,onDelete:s})=>{console.debug("[RadioButtonFieldConfig] Rendering for field:",e.id);const{stages:a}=ur(),[i,o]=v.useState(!1),[c,d]=v.useState(null);v.useEffect(()=>{const w=e.visibility_conditions??e.visibility_condition??null;d(Rr(w))},[e.visibility_conditions,e.visibility_condition]);const u=v.useCallback(()=>{try{if(!e.placeholder)return["Option 1","Option 2"];const w=JSON.parse(e.placeholder);return Array.isArray(w)&&w.length>0?w:["Option 1","Option 2"]}catch{return["Option 1","Option 2"]}},[e.placeholder]),[l,f]=v.useState(u()),[m,p]=v.useState("");v.useEffect(()=>{f(u())},[u]);const x=v.useCallback(w=>{f(w),r({placeholder:JSON.stringify(w)})},[r]),b=()=>{m.trim()&&(x([...l,m.trim()]),p(""))},h=w=>{const S=l.filter((N,_)=>_!==w);S.length>0&&(x(S),e.default_value===l[w]&&r({default_value:null}))},y=(w,S)=>{const N=[...l];N[w]=S,x(N)};return n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"p-4 border-l-4 border-l-cyan-500",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ju,{className:"h-4 w-4 text-cyan-500"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"Radio Button"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Field ",t+1]})]}),n.jsx(W,{variant:"ghost",size:"icon",type:"button",onClick:s,className:"text-destructive hover:text-destructive",children:n.jsx(kt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Label (Question) ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.label,onChange:w=>r({label:w.target.value}),placeholder:"e.g., What is your gender?",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Options ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx("div",{className:"space-y-2",children:l.map((w,S)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ju,{className:"h-3 w-3 text-cyan-500 flex-shrink-0"}),n.jsx(ne,{value:w,onChange:N=>y(S,N.target.value),className:"h-9 flex-1",placeholder:`Option ${S+1}`}),n.jsx(W,{type:"button",variant:"ghost",size:"icon",onClick:()=>h(S),className:"h-9 w-9 text-destructive",disabled:l.length<=1,children:n.jsx(Kr,{className:"h-4 w-4"})})]},S))}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ne,{value:m,onChange:w=>p(w.target.value),onKeyPress:w=>w.key==="Enter"&&b(),placeholder:"Add new option...",className:"h-9 flex-1"}),n.jsxs(W,{type:"button",variant:"outline",size:"sm",onClick:b,className:"h-9",children:[n.jsx(Yt,{className:"h-4 w-4 mr-1"}),"Add"]})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Helper Text"}),n.jsx(Ht,{value:e.helper_text??"",onChange:w=>r({helper_text:w.target.value||null}),placeholder:"Additional information (e.g., 'Select one option')",className:"min-h-[60px] text-xs"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Default Selection"}),n.jsx(of,{value:e.default_value??"",onValueChange:w=>r({default_value:w||null}),children:n.jsxs("div",{className:"space-y-2 p-3 border rounded-md bg-muted/30",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(rd,{value:"",id:"no-default"}),n.jsx(Q,{htmlFor:"no-default",className:"text-xs cursor-pointer",children:"No default selection"})]}),l.map((w,S)=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(rd,{value:w,id:`default-${S}`}),n.jsx(Q,{htmlFor:`default-${S}`,className:"text-xs cursor-pointer",children:w})]},S))]})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[n.jsx("div",{className:"text-[11px] text-muted-foreground",children:e.visibility_conditions?"Conditions configured":"No conditions"}),n.jsx(W,{variant:"outline",size:"sm",type:"button",onClick:()=>o(!0),children:"Edit Conditions"})]})]})]})}),i&&n.jsx(Or,{value:c,onChange:w=>{d(w);const S=Mr(w);r({visibility_conditions:S})},stages:a,excludeFieldId:e.id,open:i,onClose:()=>o(!1)})]})},Dkt=({field:e})=>{console.debug("[RadioButtonPreview] Rendering for field:",e.id);const r=(()=>{try{if(!e.placeholder)return["Option 1","Option 2"];const a=JSON.parse(e.placeholder);return Array.isArray(a)&&a.length>0?a:["Option 1","Option 2"]}catch{return["Option 1","Option 2"]}})(),s=e.rules?.some(a=>a.input_rule_id!==null&&a.input_rule_id!==void 0);return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ju,{className:"h-3.5 w-3.5 text-cyan-500"}),n.jsxs(Q,{className:"text-sm font-medium flex-1",children:[e.label,s&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsx(of,{defaultValue:e.default_value??void 0,disabled:!0,children:n.jsx("div",{className:"space-y-2",children:r.map((a,i)=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(rd,{value:a,id:`preview-radio-${e.id}-${i}`}),n.jsx(Q,{htmlFor:`preview-radio-${e.id}-${i}`,className:"text-sm font-normal cursor-pointer",children:a})]},i))})}),e.helper_text&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text})]})},Pkt=({field:e,fieldIndex:t,onFieldChange:r,onDelete:s})=>{console.debug("[DropdownSelectFieldConfig] Rendering for field:",e.id);const{stages:a}=ur(),[i,o]=v.useState(!1),[c,d]=v.useState(null);v.useEffect(()=>{const w=e.visibility_conditions??e.visibility_condition??null;d(Rr(w))},[e.visibility_conditions,e.visibility_condition]);const u=v.useCallback(()=>{try{if(!e.placeholder)return["Option 1","Option 2","Option 3"];const w=JSON.parse(e.placeholder);return Array.isArray(w)&&w.length>0?w:["Option 1","Option 2","Option 3"]}catch{return["Option 1","Option 2","Option 3"]}},[e.placeholder]),[l,f]=v.useState(u()),[m,p]=v.useState("");v.useEffect(()=>{f(u())},[u]);const x=v.useCallback(w=>{f(w),r({placeholder:JSON.stringify(w)})},[r]),b=()=>{m.trim()&&(x([...l,m.trim()]),p(""))},h=w=>{const S=l.filter((N,_)=>_!==w);S.length>0&&(x(S),e.default_value===l[w]&&r({default_value:null}))},y=(w,S)=>{const N=[...l];N[w]=S,x(N)};return n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"p-4 border-l-4 border-l-sky-500",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Eo,{className:"h-4 w-4 text-sky-500"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"Dropdown Select"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Field ",t+1]})]}),n.jsx(W,{variant:"ghost",size:"icon",type:"button",onClick:s,className:"text-destructive hover:text-destructive",children:n.jsx(kt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Label (Question) ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.label,onChange:w=>r({label:w.target.value}),placeholder:"e.g., Select your country",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Options ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx("div",{className:"space-y-2",children:l.map((w,S)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded bg-sky-100 text-sky-700 text-xs font-medium flex-shrink-0",children:S+1}),n.jsx(ne,{value:w,onChange:N=>y(S,N.target.value),className:"h-9 flex-1",placeholder:`Option ${S+1}`}),n.jsx(W,{type:"button",variant:"ghost",size:"icon",onClick:()=>h(S),className:"h-9 w-9 text-destructive",disabled:l.length<=1,children:n.jsx(Kr,{className:"h-4 w-4"})})]},S))}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ne,{value:m,onChange:w=>p(w.target.value),onKeyPress:w=>w.key==="Enter"&&b(),placeholder:"Add new option...",className:"h-9 flex-1"}),n.jsxs(W,{type:"button",variant:"outline",size:"sm",onClick:b,className:"h-9",children:[n.jsx(Yt,{className:"h-4 w-4 mr-1"}),"Add"]})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Helper Text"}),n.jsx(Ht,{value:e.helper_text??"",onChange:w=>r({helper_text:w.target.value||null}),placeholder:"Additional information (e.g., 'Choose one from the list')",className:"min-h-[60px] text-xs"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Default Selection"}),n.jsxs(xt,{value:e.default_value??"",onValueChange:w=>r({default_value:w||null}),children:[n.jsx(ft,{className:"h-9",children:n.jsx(vt,{placeholder:"No default selection"})}),n.jsxs(mt,{children:[n.jsx(Ue,{value:"__none__",children:"No default selection"}),l.map((w,S)=>n.jsx(Ue,{value:w,children:w},S))]})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[n.jsx("div",{className:"text-[11px] text-muted-foreground",children:e.visibility_conditions?"Conditions configured":"No conditions"}),n.jsx(W,{variant:"outline",size:"sm",type:"button",onClick:()=>o(!0),children:"Edit Conditions"})]})]})]})}),i&&n.jsx(Or,{value:c,onChange:w=>{d(w);const S=Mr(w);r({visibility_conditions:S})},stages:a,excludeFieldId:e.id,open:i,onClose:()=>o(!1)})]})},Rkt=({field:e})=>{console.debug("[DropdownSelectPreview] Rendering for field:",e.id);const r=(()=>{try{if(!e.placeholder)return["Option 1","Option 2","Option 3"];const a=JSON.parse(e.placeholder);return Array.isArray(a)&&a.length>0?a:["Option 1","Option 2","Option 3"]}catch{return["Option 1","Option 2","Option 3"]}})(),s=e.rules?.some(a=>a.input_rule_id!==null&&a.input_rule_id!==void 0);return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Eo,{className:"h-3.5 w-3.5 text-sky-500"}),n.jsxs(Q,{className:"text-sm font-medium flex-1",children:[e.label,s&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsxs(xt,{defaultValue:e.default_value??void 0,disabled:!0,children:[n.jsx(ft,{className:"bg-muted/30",children:n.jsx(vt,{placeholder:"Select an option..."})}),n.jsx(mt,{children:r.map((a,i)=>n.jsx(Ue,{value:a,children:a},i))})]}),e.helper_text&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text})]})},Mkt=({field:e,fieldIndex:t,onFieldChange:r,onDelete:s})=>{console.debug("[MultiSelectFieldConfig] Rendering for field:",e.id);const{stages:a}=ur(),[i,o]=v.useState(!1),[c,d]=v.useState(null);v.useEffect(()=>{const E=e.visibility_conditions??e.visibility_condition??null;d(Rr(E))},[e.visibility_conditions,e.visibility_condition]);const u=v.useCallback(()=>{try{if(!e.placeholder)return["Option 1","Option 2","Option 3"];const E=JSON.parse(e.placeholder);return Array.isArray(E)&&E.length>0?E:["Option 1","Option 2","Option 3"]}catch{return["Option 1","Option 2","Option 3"]}},[e.placeholder]),l=v.useCallback(()=>{try{if(!e.default_value)return[];const E=JSON.parse(e.default_value);return Array.isArray(E)?E:[]}catch{return[]}},[e.default_value]),[f,m]=v.useState(u()),[p,x]=v.useState(l()),[b,h]=v.useState("");v.useEffect(()=>{m(u())},[u]),v.useEffect(()=>{x(l())},[l]);const y=v.useCallback(E=>{m(E),r({placeholder:JSON.stringify(E)});const T=p.filter(D=>E.includes(D));T.length!==p.length&&(x(T),r({default_value:T.length>0?JSON.stringify(T):null}))},[r,p]),w=v.useCallback(E=>{x(E),r({default_value:E.length>0?JSON.stringify(E):null})},[r]),S=()=>{b.trim()&&(y([...f,b.trim()]),h(""))},N=E=>{const T=f.filter((D,P)=>P!==E);T.length>0&&y(T)},_=(E,T)=>{const D=f[E],P=[...f];if(P[E]=T,y(P),p.includes(D)){const M=p.map(R=>R===D?T:R);w(M)}},k=E=>{const T=p.includes(E)?p.filter(D=>D!==E):[...p,E];w(T)};return n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"p-4 border-l-4 border-l-indigo-500",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ox,{className:"h-4 w-4 text-indigo-500"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"Multi-Select"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Field ",t+1]})]}),n.jsx(W,{variant:"ghost",size:"icon",type:"button",onClick:s,className:"text-destructive hover:text-destructive",children:n.jsx(kt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Label (Question) ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.label,onChange:E=>r({label:E.target.value}),placeholder:"e.g., Select all skills that apply",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Options ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx("div",{className:"space-y-2",children:f.map((E,T)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded bg-indigo-100 text-indigo-700 text-xs font-medium flex-shrink-0",children:T+1}),n.jsx(ne,{value:E,onChange:D=>_(T,D.target.value),className:"h-9 flex-1",placeholder:`Option ${T+1}`}),n.jsx(W,{type:"button",variant:"ghost",size:"icon",onClick:()=>N(T),className:"h-9 w-9 text-destructive",disabled:f.length<=1,children:n.jsx(Kr,{className:"h-4 w-4"})})]},T))}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ne,{value:b,onChange:E=>h(E.target.value),onKeyPress:E=>E.key==="Enter"&&S(),placeholder:"Add new option...",className:"h-9 flex-1"}),n.jsxs(W,{type:"button",variant:"outline",size:"sm",onClick:S,className:"h-9",children:[n.jsx(Yt,{className:"h-4 w-4 mr-1"}),"Add"]})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Helper Text"}),n.jsx(Ht,{value:e.helper_text??"",onChange:E=>r({helper_text:E.target.value||null}),placeholder:"Additional information (e.g., 'Select all that apply')",className:"min-h-[60px] text-xs"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Default Selections (Multiple Allowed)"}),n.jsx("div",{className:"space-y-2 p-3 border rounded-md bg-muted/30 max-h-48 overflow-y-auto",children:f.map((E,T)=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:`default-multi-${T}`,checked:p.includes(E),onCheckedChange:()=>k(E)}),n.jsx(Q,{htmlFor:`default-multi-${T}`,className:"text-xs cursor-pointer flex-1",children:E})]},T))})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[n.jsx("div",{className:"text-[11px] text-muted-foreground",children:e.visibility_conditions?"Conditions configured":"No conditions"}),n.jsx(W,{variant:"outline",size:"sm",type:"button",onClick:()=>o(!0),children:"Edit Conditions"})]})]})]})}),i&&n.jsx(Or,{value:c,onChange:E=>{d(E);const T=Mr(E);r({visibility_conditions:T})},stages:a,excludeFieldId:e.id,open:i,onClose:()=>o(!1)})]})},Okt=({field:e})=>{console.debug("[MultiSelectPreview] Rendering for field:",e.id);const t=()=>{try{if(!e.placeholder)return["Option 1","Option 2","Option 3"];const o=JSON.parse(e.placeholder);return Array.isArray(o)&&o.length>0?o:["Option 1","Option 2","Option 3"]}catch{return["Option 1","Option 2","Option 3"]}},r=()=>{try{if(!e.default_value)return[];const o=JSON.parse(e.default_value);return Array.isArray(o)?o:[]}catch{return[]}},s=t(),a=r(),i=e.rules?.some(o=>o.input_rule_id!==null&&o.input_rule_id!==void 0);return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ox,{className:"h-3.5 w-3.5 text-indigo-500"}),n.jsxs(Q,{className:"text-sm font-medium flex-1",children:[e.label,i&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsx("div",{className:"space-y-2 p-3 border rounded-md bg-muted/30",children:s.map((o,c)=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:`preview-multi-${e.id}-${c}`,defaultChecked:a.includes(o),disabled:!0}),n.jsx(Q,{htmlFor:`preview-multi-${e.id}-${c}`,className:"text-sm font-normal cursor-pointer",children:o})]},c))}),e.helper_text&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text})]})},Ikt=({field:e,fieldIndex:t,onFieldChange:r,onDelete:s})=>{console.debug("[FileUploadFieldConfig] Rendering for field:",e.id);const{stages:a}=ur(),[i,o]=v.useState(!1),[c,d]=v.useState(null);return v.useEffect(()=>{const u=e.visibility_conditions??e.visibility_condition??null;d(Rr(u))},[e.visibility_conditions,e.visibility_condition]),n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"p-4 border-l-4 border-l-violet-500",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(bo,{className:"h-4 w-4 text-violet-500"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"File Upload"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Field ",t+1]})]}),n.jsx(W,{variant:"ghost",size:"icon",type:"button",onClick:s,className:"text-destructive hover:text-destructive",children:n.jsx(kt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Label ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.label,onChange:u=>r({label:u.target.value}),placeholder:"e.g., Upload your resume",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Helper Text"}),n.jsx(Ht,{value:e.helper_text??"",onChange:u=>r({helper_text:u.target.value||null}),placeholder:"Additional information (e.g., 'Accepted formats: PDF, DOC. Max size: 10MB')",className:"min-h-[60px] text-xs"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[n.jsx("div",{className:"text-[11px] text-muted-foreground",children:e.visibility_conditions?"Conditions configured":"No conditions"}),n.jsx(W,{variant:"outline",size:"sm",type:"button",onClick:()=>o(!0),children:"Edit Conditions"})]})]})]})}),i&&n.jsx(Or,{value:c,onChange:u=>{d(u);const l=Mr(u);r({visibility_conditions:l})},stages:a,excludeFieldId:e.id,open:i,onClose:()=>o(!1)})]})},Fkt=({field:e})=>{console.debug("[FileUploadPreview] Rendering for field:",e.id);const t=e.rules?.some(r=>r.input_rule_id!==null&&r.input_rule_id!==void 0);return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(bo,{className:"h-3.5 w-3.5 text-violet-500"}),n.jsxs(Q,{className:"text-sm font-medium flex-1",children:[e.label,t&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsx("div",{className:"border-2 border-dashed border-violet-300 rounded-md p-6 bg-violet-50/30 text-center",children:n.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[n.jsx(bo,{className:"h-8 w-8 text-violet-400"}),n.jsx("div",{className:"space-y-1",children:n.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag and drop file here, or click to browse"})})]})}),e.helper_text&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text})]})},$kt=({field:e,fieldIndex:t,onFieldChange:r,onDelete:s})=>{console.debug("[ImageUploadFieldConfig] Rendering for field:",e.id);const{stages:a}=ur(),[i,o]=v.useState(!1),[c,d]=v.useState(null);return v.useEffect(()=>{const u=e.visibility_conditions??e.visibility_condition??null;d(Rr(u))},[e.visibility_conditions,e.visibility_condition]),n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"p-4 border-l-4 border-l-pink-500",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ny,{className:"h-4 w-4 text-pink-500"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"Image Upload"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Field ",t+1]})]}),n.jsx(W,{variant:"ghost",size:"icon",type:"button",onClick:s,className:"text-destructive hover:text-destructive",children:n.jsx(kt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Label ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.label,onChange:u=>r({label:u.target.value}),placeholder:"e.g., Upload your profile picture",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Helper Text"}),n.jsx(Ht,{value:e.helper_text??"",onChange:u=>r({helper_text:u.target.value||null}),placeholder:"Additional information (e.g., 'Accepted: JPG, PNG. Max size: 5MB. Recommended: 800x600px')",className:"min-h-[60px] text-xs"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[n.jsx("div",{className:"text-[11px] text-muted-foreground",children:e.visibility_conditions?"Conditions configured":"No conditions"}),n.jsx(W,{variant:"outline",size:"sm",type:"button",onClick:()=>o(!0),children:"Edit Conditions"})]})]})]})}),i&&n.jsx(Or,{value:c,onChange:u=>{d(u);const l=Mr(u);r({visibility_conditions:l})},stages:a,excludeFieldId:e.id,open:i,onClose:()=>o(!1)})]})},Lkt=({field:e})=>{console.debug("[ImageUploadPreview] Rendering for field:",e.id);const t=e.rules?.some(r=>r.input_rule_id!==null&&r.input_rule_id!==void 0);return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ny,{className:"h-3.5 w-3.5 text-pink-500"}),n.jsxs(Q,{className:"text-sm font-medium flex-1",children:[e.label,t&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsxs("div",{className:"border-2 border-dashed border-pink-300 rounded-md bg-pink-50/30",children:[n.jsx("div",{className:"aspect-video bg-gradient-to-br from-pink-100 to-purple-100 rounded-t-md flex items-center justify-center",children:n.jsx(Ny,{className:"h-16 w-16 text-pink-300"})}),n.jsx("div",{className:"p-4 text-center border-t border-pink-200",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx(bo,{className:"h-6 w-6 text-pink-400"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag and drop image here, or click to browse"})]})})]}),e.helper_text&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text})]})},Bkt=({field:e,fieldIndex:t,onFieldChange:r,onDelete:s})=>{console.debug("[VideoUploadFieldConfig] Rendering for field:",e.id);const{stages:a}=ur(),[i,o]=v.useState(!1),[c,d]=v.useState(null);return v.useEffect(()=>{const u=e.visibility_conditions??e.visibility_condition??null;d(Rr(u))},[e.visibility_conditions,e.visibility_condition]),n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"p-4 border-l-4 border-l-purple-500",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(y3,{className:"h-4 w-4 text-purple-500"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"Video Upload"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Field ",t+1]})]}),n.jsx(W,{variant:"ghost",size:"icon",type:"button",onClick:s,className:"text-destructive hover:text-destructive",children:n.jsx(kt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Label ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.label,onChange:u=>r({label:u.target.value}),placeholder:"e.g., Upload your presentation video",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Helper Text"}),n.jsx(Ht,{value:e.helper_text??"",onChange:u=>r({helper_text:u.target.value||null}),placeholder:"Additional information (e.g., 'Accepted: MP4, MOV. Max size: 100MB. Max duration: 5 minutes')",className:"min-h-[60px] text-xs"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[n.jsx("div",{className:"text-[11px] text-muted-foreground",children:e.visibility_conditions?"Conditions configured":"No conditions"}),n.jsx(W,{variant:"outline",size:"sm",type:"button",onClick:()=>o(!0),children:"Edit Conditions"})]})]})]})}),i&&n.jsx(Or,{value:c,onChange:u=>{d(u);const l=Mr(u);r({visibility_conditions:l})},stages:a,excludeFieldId:e.id,open:i,onClose:()=>o(!1)})]})},zkt=({field:e})=>{console.debug("[VideoUploadPreview] Rendering for field:",e.id);const t=e.rules?.some(r=>r.input_rule_id!==null&&r.input_rule_id!==void 0);return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(y3,{className:"h-3.5 w-3.5 text-purple-500"}),n.jsxs(Q,{className:"text-sm font-medium flex-1",children:[e.label,t&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsxs("div",{className:"border-2 border-dashed border-purple-300 rounded-md bg-purple-50/30",children:[n.jsxs("div",{className:"aspect-video bg-gradient-to-br from-purple-900 to-indigo-900 rounded-t-md flex items-center justify-center relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(AC,{className:"h-16 w-16 text-white/40 mx-auto mb-2"}),n.jsx("p",{className:"text-white/60 text-sm font-medium",children:"Video Preview"})]})}),n.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 p-2 flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center",children:n.jsx(AC,{className:"h-4 w-4 text-white"})}),n.jsx("div",{className:"flex-1 h-1 bg-white/20 rounded-full",children:n.jsx("div",{className:"w-0 h-full bg-purple-400 rounded-full"})}),n.jsx("span",{className:"text-white text-xs",children:"0:00 / 0:00"})]})]}),n.jsx("div",{className:"p-4 text-center border-t border-purple-200",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx(bo,{className:"h-6 w-6 text-purple-400"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag and drop video here, or click to browse"})]})})]}),e.helper_text&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text})]})},Ukt=({field:e,fieldIndex:t,onFieldChange:r,onDelete:s})=>{console.debug("[DocumentUploadFieldConfig] Rendering for field:",e.id);const{stages:a}=ur(),[i,o]=v.useState(!1),[c,d]=v.useState(null);return v.useEffect(()=>{const u=e.visibility_conditions??e.visibility_condition??null;d(Rr(u))},[e.visibility_conditions,e.visibility_condition]),n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"p-4 border-l-4 border-l-orange-500",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($l,{className:"h-4 w-4 text-orange-500"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"Document Upload"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Field ",t+1]})]}),n.jsx(W,{variant:"ghost",size:"icon",type:"button",onClick:s,className:"text-destructive hover:text-destructive",children:n.jsx(kt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Label ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.label,onChange:u=>r({label:u.target.value}),placeholder:"e.g., Upload your financial report",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Helper Text"}),n.jsx(Ht,{value:e.helper_text??"",onChange:u=>r({helper_text:u.target.value||null}),placeholder:"Additional information (e.g., 'Select appointment date and time')",className:"min-h-[60px] text-xs"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[n.jsx("div",{className:"text-[11px] text-muted-foreground",children:e.visibility_conditions?"Conditions configured":"No conditions"}),n.jsx(W,{variant:"outline",size:"sm",type:"button",onClick:()=>o(!0),children:"Edit Conditions"})]})]})]})}),i&&n.jsx(Or,{value:c,onChange:u=>{d(u);const l=Mr(u);r({visibility_conditions:l})},stages:a,excludeFieldId:e.id,open:i,onClose:()=>o(!1)})]})},Hkt=({field:e})=>{console.debug("[DocumentUploadPreview] Rendering for field:",e.id);const t=e.rules?.some(r=>r.input_rule_id!==null&&r.input_rule_id!==void 0);return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($l,{className:"h-3.5 w-3.5 text-orange-500"}),n.jsxs(Q,{className:"text-sm font-medium flex-1",children:[e.label,t&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsxs("div",{className:"border-2 border-dashed border-orange-300 rounded-md bg-orange-50/30",children:[n.jsxs("div",{className:"p-6 flex items-center justify-center gap-4 border-b border-orange-200",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-16 bg-red-100 rounded border-2 border-red-300 flex items-center justify-center mb-1",children:n.jsx($l,{className:"h-6 w-6 text-red-600"})}),n.jsx("span",{className:"text-[10px] text-muted-foreground font-medium",children:"PDF"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-16 bg-blue-100 rounded border-2 border-blue-300 flex items-center justify-center mb-1",children:n.jsx(f3,{className:"h-6 w-6 text-blue-600"})}),n.jsx("span",{className:"text-[10px] text-muted-foreground font-medium",children:"Word"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-16 bg-green-100 rounded border-2 border-green-300 flex items-center justify-center mb-1",children:n.jsx(XQ,{className:"h-6 w-6 text-green-600"})}),n.jsx("span",{className:"text-[10px] text-muted-foreground font-medium",children:"Excel"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-16 bg-orange-100 rounded border-2 border-orange-300 flex items-center justify-center mb-1",children:n.jsx(ZQ,{className:"h-6 w-6 text-orange-600"})}),n.jsx("span",{className:"text-[10px] text-muted-foreground font-medium",children:"PPT"})]})]}),n.jsx("div",{className:"p-4 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx(bo,{className:"h-6 w-6 text-orange-400"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag and drop document here, or click to browse"})]})})]}),e.helper_text&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text})]})},Vkt=({field:e,fieldIndex:t,onFieldChange:r,onDelete:s})=>{console.debug("[UrlInputFieldConfig] Rendering for field:",e.id);const{stages:a}=ur(),[i,o]=v.useState(!1),[c,d]=v.useState(null);return v.useEffect(()=>{const u=e.visibility_conditions??e.visibility_condition??null;d(Rr(u))},[e.visibility_conditions,e.visibility_condition]),n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"p-4 border-l-4 border-l-cyan-500",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(km,{className:"h-4 w-4 text-cyan-500"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"URL Input"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Field ",t+1]})]}),n.jsx(W,{variant:"ghost",size:"icon",type:"button",onClick:s,className:"text-destructive hover:text-destructive",children:n.jsx(kt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Label ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.label,onChange:u=>r({label:u.target.value}),placeholder:"e.g., Website URL",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Placeholder"}),n.jsx(ne,{value:e.placeholder??"",onChange:u=>r({placeholder:u.target.value||null}),placeholder:"e.g., https://example.com",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Default Value"}),n.jsx(ne,{value:e.default_value??"",onChange:u=>r({default_value:u.target.value||null}),placeholder:"e.g., https://yourcompany.com",className:"h-9"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Helper Text"}),n.jsx(Ht,{value:e.helper_text??"",onChange:u=>r({helper_text:u.target.value||null}),placeholder:"Additional information (e.g., 'Please enter your portfolio website URL')",className:"min-h-[60px] text-xs"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[n.jsx("div",{className:"text-[11px] text-muted-foreground",children:e.visibility_conditions?"Conditions configured":"No conditions"}),n.jsx(W,{variant:"outline",size:"sm",type:"button",onClick:()=>o(!0),children:"Edit Conditions"})]})]})]})}),i&&n.jsx(Or,{value:c,onChange:u=>{d(u);const l=Mr(u);r({visibility_conditions:l})},stages:a,excludeFieldId:e.id,open:i,onClose:()=>o(!1)})]})},Wkt=({field:e})=>{console.debug("[UrlInputPreview] Rendering for field:",e.id);const t=e.rules?.some(r=>r.input_rule_id!==null&&r.input_rule_id!==void 0);return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(km,{className:"h-3.5 w-3.5 text-cyan-500"}),n.jsxs(Q,{className:"text-sm font-medium flex-1",children:[e.label,t&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:n.jsx(km,{className:"h-4 w-4 text-cyan-500"})}),n.jsx(ne,{type:"url",placeholder:e.placeholder||"https://example.com",defaultValue:e.default_value||"",disabled:!0,className:"pl-9 pr-20 h-10 bg-white"}),n.jsx("div",{className:"absolute right-12 top-1/2 -translate-y-1/2",children:n.jsx(bs,{className:"h-4 w-4 text-green-500 opacity-50"})}),n.jsx(W,{size:"sm",variant:"ghost",className:"absolute right-1 top-1/2 -translate-y-1/2 h-8 px-2",disabled:!0,children:n.jsx(u3,{className:"h-3 w-3"})})]}),e.helper_text&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text})]})},qkt=({field:e,fieldIndex:t,onFieldChange:r,onDelete:s})=>{console.debug("[PasswordInputFieldConfig] Rendering for field:",e.id);const{stages:a}=ur(),[i,o]=v.useState(!1),[c,d]=v.useState(null);return v.useEffect(()=>{const u=e.visibility_conditions??e.visibility_condition??null;d(Rr(u))},[e.visibility_conditions,e.visibility_condition]),n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"p-4 border-l-4 border-l-red-500",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ll,{className:"h-4 w-4 text-red-500"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"Password Input"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Field ",t+1]})]}),n.jsx(W,{variant:"ghost",size:"icon",type:"button",onClick:s,className:"text-destructive hover:text-destructive",children:n.jsx(kt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Label ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.label,onChange:u=>r({label:u.target.value}),placeholder:"e.g., Password",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Placeholder"}),n.jsx(ne,{value:e.placeholder??"",onChange:u=>r({placeholder:u.target.value||null}),placeholder:"e.g., Enter your password",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Helper Text"}),n.jsx(Ht,{value:e.helper_text??"",onChange:u=>r({helper_text:u.target.value||null}),placeholder:"Additional information (e.g., 'Must be at least 8 characters with letters and numbers')",className:"min-h-[60px] text-xs"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[n.jsx("div",{className:"text-[11px] text-muted-foreground",children:e.visibility_conditions?"Conditions configured":"No conditions"}),n.jsx(W,{variant:"outline",size:"sm",type:"button",onClick:()=>o(!0),children:"Edit Conditions"})]})]})]})}),i&&n.jsx(Or,{value:c,onChange:u=>{d(u);const l=Mr(u);r({visibility_conditions:l})},stages:a,excludeFieldId:e.id,open:i,onClose:()=>o(!1)})]})},Gkt=({field:e})=>{console.debug("[PasswordInputPreview] Rendering for field:",e.id);const t=e.rules?.some(r=>r.input_rule_id!==null&&r.input_rule_id!==void 0);return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ll,{className:"h-3.5 w-3.5 text-red-500"}),n.jsxs(Q,{className:"text-sm font-medium flex-1",children:[e.label,t&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:n.jsx(Ll,{className:"h-4 w-4 text-red-500"})}),n.jsx(ne,{type:"password",placeholder:e.placeholder||"",disabled:!0,className:"pl-9 pr-10 h-10 bg-white"}),n.jsx(W,{size:"sm",variant:"ghost",className:"absolute right-1 top-1/2 -translate-y-1/2 h-8 px-2",disabled:!0,children:n.jsx(ln,{className:"h-4 w-4 text-muted-foreground"})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex gap-1",children:[n.jsx("div",{className:"h-1.5 flex-1 rounded-full bg-red-200"}),n.jsx("div",{className:"h-1.5 flex-1 rounded-full bg-muted"}),n.jsx("div",{className:"h-1.5 flex-1 rounded-full bg-muted"}),n.jsx("div",{className:"h-1.5 flex-1 rounded-full bg-muted"})]}),n.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Password strength:"," ",n.jsx("span",{className:"text-red-600 font-medium",children:"Weak"})]})]}),e.helper_text&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text})]})},Ykt=({field:e,fieldIndex:t,onFieldChange:r,onDelete:s})=>{console.debug("[ColorPickerFieldConfig] Rendering for field:",e.id);const{stages:a}=ur(),[i,o]=v.useState(!1),[c,d]=v.useState(null);v.useEffect(()=>{const f=e.visibility_conditions??e.visibility_condition??null;d(Rr(f))},[e.visibility_conditions,e.visibility_condition]);const[u,l]=v.useState(e.default_value||"#3B82F6");return v.useEffect(()=>{e.default_value||r({default_value:"#3B82F6"})},[]),n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"p-4 border-l-4 border-l-purple-500",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gg,{className:"h-4 w-4 text-purple-500"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"Color Picker"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Field ",t+1]})]}),n.jsx(W,{variant:"ghost",size:"icon",type:"button",onClick:s,className:"text-destructive hover:text-destructive",children:n.jsx(kt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Label ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.label,onChange:f=>r({label:f.target.value}),placeholder:"e.g., Choose your brand color",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Default Color Value"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ne,{type:"text",value:u,onChange:f=>{l(f.target.value),r({default_value:f.target.value||null})},placeholder:"#3B82F6",className:"h-9 pl-12 font-mono",maxLength:7}),n.jsx("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 w-7 h-7 rounded border-2 border-gray-300",style:{backgroundColor:u}})]}),n.jsx("input",{type:"color",value:u,onChange:f=>{l(f.target.value),r({default_value:f.target.value||null})},className:"h-9 w-16 cursor-pointer rounded border"})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Helper Text"}),n.jsx(Ht,{value:e.helper_text??"",onChange:f=>r({helper_text:f.target.value||null}),placeholder:"Additional information (e.g., 'Choose a color that represents your brand')",className:"min-h-[60px] text-xs"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[n.jsx("div",{className:"text-[11px] text-muted-foreground",children:e.visibility_conditions?"Conditions configured":"No conditions"}),n.jsx(W,{variant:"outline",size:"sm",type:"button",onClick:()=>o(!0),children:"Edit Conditions"})]})]})]})}),i&&n.jsx(Or,{value:c,onChange:f=>{d(f);const m=Mr(f);r({visibility_conditions:m})},stages:a,excludeFieldId:e.id,open:i,onClose:()=>o(!1)})]})},Kkt=({field:e})=>{console.debug("[ColorPickerPreview] Rendering for field:",e.id);const t=e.default_value||"#3B82F6",r=e.rules?.some(s=>s.input_rule_id!==null&&s.input_rule_id!==void 0);return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gg,{className:"h-3.5 w-3.5 text-purple-500"}),n.jsxs(Q,{className:"text-sm font-medium flex-1",children:[e.label,r&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ne,{type:"text",placeholder:e.placeholder||"Select a color",defaultValue:t,disabled:!0,className:"pl-12 h-10 bg-white font-mono"}),n.jsx("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 w-8 h-8 rounded border-2 border-gray-300 shadow-sm",style:{backgroundColor:t}})]}),n.jsx(W,{size:"sm",variant:"outline",className:"h-10 px-3",disabled:!0,children:n.jsx(gg,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"flex gap-1.5",children:["#ef4444","#f59e0b","#10b981","#3b82f6","#8b5cf6","#ec4899"].map(s=>n.jsx("button",{className:"w-7 h-7 rounded border-2 border-gray-300 hover:border-gray-400 transition-colors disabled:cursor-not-allowed",style:{backgroundColor:s},disabled:!0,title:s},s))})]}),e.helper_text&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text})]})},Zkt=({field:e,fieldIndex:t,onFieldChange:r,onDelete:s})=>{console.debug("[RatingFieldConfig] Rendering for field:",e.id);const{stages:a}=ur(),[i,o]=v.useState(!1),[c,d]=v.useState(null);v.useEffect(()=>{const m=e.visibility_conditions??e.visibility_condition??null;d(Rr(m))},[e.visibility_conditions,e.visibility_condition]);const[u,l]=v.useState(e.default_value||"0");return n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"p-4 border-l-4 border-l-amber-500",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Am,{className:"h-4 w-4 text-amber-500 fill-amber-500"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"Rating"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Field ",t+1]})]}),n.jsx(W,{variant:"ghost",size:"icon",type:"button",onClick:s,className:"text-destructive hover:text-destructive",children:n.jsx(kt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Label ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.label,onChange:m=>r({label:m.target.value}),placeholder:"e.g., How would you rate our service?",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Default Rating"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{type:"number",value:u,onChange:m=>{const p=m.target.value,x=parseInt(p,10)||0,b=Math.max(0,Math.min(5,x)).toString();l(b),r({default_value:b||null})},placeholder:"0",className:"h-9",min:0,max:5}),n.jsx("div",{className:"flex gap-1",children:Array.from({length:5}).map((m,p)=>n.jsx(Am,{className:`h-5 w-5 ${p<parseInt(u||"0",10)?"text-amber-500 fill-amber-500":"text-gray-300"}`},p))})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Helper Text"}),n.jsx(Ht,{value:e.helper_text??"",onChange:m=>r({helper_text:m.target.value||null}),placeholder:"Additional information (e.g., '1 = Poor, 5 = Excellent')",className:"min-h-[60px] text-xs"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[n.jsx("div",{className:"text-[11px] text-muted-foreground",children:e.visibility_conditions?"Conditions configured":"No conditions"}),n.jsx(W,{variant:"outline",size:"sm",type:"button",onClick:()=>o(!0),children:"Edit Conditions"})]})]})]})}),i&&n.jsx(Or,{value:c,onChange:m=>{d(m);const p=Mr(m);r({visibility_conditions:p})},stages:a,excludeFieldId:e.id,open:i,onClose:()=>o(!1)})]})},Xkt=({field:e})=>{console.debug("[RatingPreview] Rendering for field:",e.id);const t=Math.max(0,Math.min(5,parseInt(e.default_value||"0",10))),[r,s]=v.useState(null),a=5,i=e.rules?.some(o=>o.input_rule_id!==null&&o.input_rule_id!==void 0);return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Am,{className:"h-3.5 w-3.5 text-amber-500 fill-amber-500"}),n.jsxs(Q,{className:"text-sm font-medium flex-1",children:[e.label,i&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center gap-1",children:[Array.from({length:a}).map((o,c)=>{const d=c+1,u=r!==null?d<=r:d<=t;return n.jsx("button",{onMouseEnter:()=>s(d),onMouseLeave:()=>s(null),className:"transition-transform hover:scale-110 disabled:cursor-not-allowed",disabled:!0,children:n.jsx(Am,{className:`h-8 w-8 transition-colors ${u?"text-amber-500 fill-amber-500":"text-gray-300 fill-gray-100"}`})},c)}),n.jsxs("span",{className:"ml-2 text-sm text-muted-foreground",children:[r||t||0," / ",a]})]})}),e.helper_text&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text})]})};function qp(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}var xpe=["PageUp","PageDown"],vpe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ype={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Fx="Slider",[rI,Jkt,Qkt]=ew(Fx),[bpe,L3t]=cn(Fx,[Qkt]),[eAt,Nk]=bpe(Fx),wpe=v.forwardRef((e,t)=>{const{name:r,min:s=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:u=[s],value:l,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:p=!1,form:x,...b}=e,h=v.useRef(new Set),y=v.useRef(0),S=o==="horizontal"?tAt:rAt,[N=[],_]=Di({prop:l,defaultProp:u,onChange:M=>{[...h.current][y.current]?.focus(),f(M)}}),k=v.useRef(N);function E(M){const R=oAt(N,M);P(M,R)}function T(M){P(M,y.current)}function D(){const M=k.current[y.current];N[y.current]!==M&&m(N)}function P(M,R,{commit:B}={commit:!1}){const L=uAt(i),$=fAt(Math.round((M-s)/i)*i+s,L),I=Qy($,[s,a]);_((z=[])=>{const H=aAt(z,I,R);if(dAt(H,d*i)){y.current=H.indexOf(I);const Z=String(H)!==String(z);return Z&&B&&m(H),Z?H:z}else return z})}return n.jsx(eAt,{scope:e.__scopeSlider,name:r,disabled:c,min:s,max:a,valueIndexToChangeRef:y,thumbs:h.current,values:N,orientation:o,form:x,children:n.jsx(rI.Provider,{scope:e.__scopeSlider,children:n.jsx(rI.Slot,{scope:e.__scopeSlider,children:n.jsx(S,{"aria-disabled":c,"data-disabled":c?"":void 0,...b,ref:t,onPointerDown:qp(b.onPointerDown,()=>{c||(k.current=N)}),min:s,max:a,inverted:p,onSlideStart:c?void 0:E,onSlideMove:c?void 0:T,onSlideEnd:c?void 0:D,onHomeKeyDown:()=>!c&&P(s,0,{commit:!0}),onEndKeyDown:()=>!c&&P(a,N.length-1,{commit:!0}),onStepKeyDown:({event:M,direction:R})=>{if(!c){const $=xpe.includes(M.key)||M.shiftKey&&vpe.includes(M.key)?10:1,I=y.current,z=N[I],H=i*$*R;P(z+H,I,{commit:!0})}}})})})})});wpe.displayName=Fx;var[jpe,Spe]=bpe(Fx,{startEdge:"left",endEdge:"right",size:"width",direction:1}),tAt=v.forwardRef((e,t)=>{const{min:r,max:s,dir:a,inverted:i,onSlideStart:o,onSlideMove:c,onSlideEnd:d,onStepKeyDown:u,...l}=e,[f,m]=v.useState(null),p=bt(t,S=>m(S)),x=v.useRef(void 0),b=Zu(a),h=b==="ltr",y=h&&!i||!h&&i;function w(S){const N=x.current||f.getBoundingClientRect(),_=[0,N.width],E=Y$(_,y?[r,s]:[s,r]);return x.current=N,E(S-N.left)}return n.jsx(jpe,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:n.jsx(Npe,{dir:b,"data-orientation":"horizontal",...l,ref:p,style:{...l.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:S=>{const N=w(S.clientX);o?.(N)},onSlideMove:S=>{const N=w(S.clientX);c?.(N)},onSlideEnd:()=>{x.current=void 0,d?.()},onStepKeyDown:S=>{const _=ype[y?"from-left":"from-right"].includes(S.key);u?.({event:S,direction:_?-1:1})}})})}),rAt=v.forwardRef((e,t)=>{const{min:r,max:s,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:c,onStepKeyDown:d,...u}=e,l=v.useRef(null),f=bt(t,l),m=v.useRef(void 0),p=!a;function x(b){const h=m.current||l.current.getBoundingClientRect(),y=[0,h.height],S=Y$(y,p?[s,r]:[r,s]);return m.current=h,S(b-h.top)}return n.jsx(jpe,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:n.jsx(Npe,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const h=x(b.clientY);i?.(h)},onSlideMove:b=>{const h=x(b.clientY);o?.(h)},onSlideEnd:()=>{m.current=void 0,c?.()},onStepKeyDown:b=>{const y=ype[p?"from-bottom":"from-top"].includes(b.key);d?.({event:b,direction:y?-1:1})}})})}),Npe=v.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:s,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:c,onStepKeyDown:d,...u}=e,l=Nk(Fx,r);return n.jsx(nt.span,{...u,ref:t,onKeyDown:qp(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(c(f),f.preventDefault()):xpe.concat(vpe).includes(f.key)&&(d(f),f.preventDefault())}),onPointerDown:qp(e.onPointerDown,f=>{const m=f.target;m.setPointerCapture(f.pointerId),f.preventDefault(),l.thumbs.has(m)?m.focus():s(f)}),onPointerMove:qp(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:qp(e.onPointerUp,f=>{const m=f.target;m.hasPointerCapture(f.pointerId)&&(m.releasePointerCapture(f.pointerId),i(f))})})}),Cpe="SliderTrack",_pe=v.forwardRef((e,t)=>{const{__scopeSlider:r,...s}=e,a=Nk(Cpe,r);return n.jsx(nt.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...s,ref:t})});_pe.displayName=Cpe;var sI="SliderRange",Epe=v.forwardRef((e,t)=>{const{__scopeSlider:r,...s}=e,a=Nk(sI,r),i=Spe(sI,r),o=v.useRef(null),c=bt(t,o),d=a.values.length,u=a.values.map(m=>Tpe(m,a.min,a.max)),l=d>1?Math.min(...u):0,f=100-Math.max(...u);return n.jsx(nt.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...s,ref:c,style:{...e.style,[i.startEdge]:l+"%",[i.endEdge]:f+"%"}})});Epe.displayName=sI;var nI="SliderThumb",kpe=v.forwardRef((e,t)=>{const r=Jkt(e.__scopeSlider),[s,a]=v.useState(null),i=bt(t,c=>a(c)),o=v.useMemo(()=>s?r().findIndex(c=>c.ref.current===s):-1,[r,s]);return n.jsx(sAt,{...e,ref:i,index:o})}),sAt=v.forwardRef((e,t)=>{const{__scopeSlider:r,index:s,name:a,...i}=e,o=Nk(nI,r),c=Spe(nI,r),[d,u]=v.useState(null),l=bt(t,w=>u(w)),f=d?o.form||!!d.closest("form"):!0,m=hx(d),p=o.values[s],x=p===void 0?0:Tpe(p,o.min,o.max),b=iAt(s,o.values.length),h=m?.[c.size],y=h?lAt(h,x,c.direction):0;return v.useEffect(()=>{if(d)return o.thumbs.add(d),()=>{o.thumbs.delete(d)}},[d,o.thumbs]),n.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${x}% + ${y}px)`},children:[n.jsx(rI.ItemSlot,{scope:e.__scopeSlider,children:n.jsx(nt.span,{role:"slider","aria-label":e["aria-label"]||b,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:l,style:p===void 0?{display:"none"}:e.style,onFocus:qp(e.onFocus,()=>{o.valueIndexToChangeRef.current=s})})}),f&&n.jsx(Ape,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},s)]})});kpe.displayName=nI;var nAt="RadioBubbleInput",Ape=v.forwardRef(({__scopeSlider:e,value:t,...r},s)=>{const a=v.useRef(null),i=bt(a,s),o=Nw(t);return v.useEffect(()=>{const c=a.current;if(!c)return;const d=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==t&&l){const f=new Event("input",{bubbles:!0});l.call(c,t),c.dispatchEvent(f)}},[o,t]),n.jsx(nt.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});Ape.displayName=nAt;function aAt(e=[],t,r){const s=[...e];return s[r]=t,s.sort((a,i)=>a-i)}function Tpe(e,t,r){const i=100/(r-t)*(e-t);return Qy(i,[0,100])}function iAt(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function oAt(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),s=Math.min(...r);return r.indexOf(s)}function lAt(e,t,r){const s=e/2,i=Y$([0,50],[0,s]);return(s-i(t)*r)*r}function cAt(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function dAt(e,t){if(t>0){const r=cAt(e);return Math.min(...r)>=t}return!0}function Y$(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function uAt(e){return(String(e).split(".")[1]||"").length}function fAt(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var Dpe=wpe,mAt=_pe,hAt=Epe,pAt=kpe;const Ck=v.forwardRef(({className:e,...t},r)=>n.jsxs(Dpe,{ref:r,className:X("relative flex w-full touch-none select-none items-center",e),...t,children:[n.jsx(mAt,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:n.jsx(hAt,{className:"absolute h-full bg-primary"})}),n.jsx(pAt,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));Ck.displayName=Dpe.displayName;const gAt=({field:e,fieldIndex:t,onFieldChange:r,onDelete:s})=>{console.debug("[SliderFieldConfig] Rendering for field:",e.id);const{stages:a}=ur(),[i,o]=v.useState(!1),[c,d]=v.useState(null);v.useEffect(()=>{const b=e.visibility_conditions??e.visibility_condition??null;d(Rr(b))},[e.visibility_conditions,e.visibility_condition]);const[u,l]=v.useState(e.default_value||"50");v.useEffect(()=>{e.default_value||r({default_value:"50"})},[]);const f=0,m=100,p=1,x=Number.isNaN(parseInt(u,10))||u===""?50:parseInt(u,10);return n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"p-4 border-l-4 border-l-indigo-500",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(x3,{className:"h-4 w-4 text-indigo-500"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"Slider"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Field ",t+1]})]}),n.jsx(W,{variant:"ghost",size:"icon",type:"button",onClick:s,className:"text-destructive hover:text-destructive",children:n.jsx(kt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Label ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.label,onChange:b=>r({label:b.target.value}),placeholder:"e.g., Select your budget range",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Default Value"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ne,{type:"number",value:u,onChange:b=>{const h=b.target.value;l(h),r({default_value:h||null})},placeholder:"50",className:"h-9",min:f,max:m,step:p}),n.jsxs("div",{className:"p-3 border rounded-md bg-muted/30",children:[n.jsx(Ck,{value:[x],onValueChange:b=>{const h=String(b[0]);l(h),r({default_value:h})},min:f,max:m,step:p,className:"w-full"}),n.jsxs("div",{className:"flex justify-between text-[10px] text-muted-foreground mt-2",children:[n.jsx("span",{children:f}),n.jsx("span",{className:"font-medium text-indigo-600",children:u||x}),n.jsx("span",{children:m})]})]})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Helper Text"}),n.jsx(Ht,{value:e.helper_text??"",onChange:b=>r({helper_text:b.target.value||null}),placeholder:"Additional information (e.g., 'Select your preferred price range')",className:"min-h-[60px] text-xs"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[n.jsx("div",{className:"text-[11px] text-muted-foreground",children:e.visibility_conditions?"Conditions configured":"No conditions"}),n.jsx(W,{variant:"outline",size:"sm",type:"button",onClick:()=>o(!0),children:"Edit Conditions"})]})]})]})}),i&&n.jsx(Or,{value:c,onChange:b=>{d(b);const h=Mr(b);r({visibility_conditions:h})},stages:a,excludeFieldId:e.id,open:i,onClose:()=>o(!1)})]})},xAt=({field:e})=>{console.debug("[SliderPreview] Rendering for field:",e.id);const t=parseInt(e.default_value||"50",10),r=Number.isNaN(t)?50:t,[s,a]=v.useState([r]),i=0,o=100,c=1,d=e.rules?.some(u=>u.input_rule_id!==null&&u.input_rule_id!==void 0);return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(x3,{className:"h-3.5 w-3.5 text-indigo-500"}),n.jsxs(Q,{className:"text-sm font-medium flex-1",children:[e.label,d&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsxs("div",{className:"space-y-3 px-1",children:[n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("div",{className:"px-4 py-2 bg-indigo-50 border border-indigo-200 rounded-lg",children:n.jsx("span",{className:"text-2xl font-bold text-indigo-600",children:s[0]})})}),n.jsxs("div",{className:"relative",children:[n.jsx(Ck,{value:s,onValueChange:a,min:i,max:o,step:c,className:"w-full",disabled:!0}),n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-2",children:[n.jsx("span",{className:"font-medium",children:i}),n.jsx("span",{className:"text-[10px] italic",children:"Drag to adjust"}),n.jsx("span",{className:"font-medium",children:o})]})]})]}),e.helper_text&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text})]})},vAt=({field:e,fieldIndex:t,onFieldChange:r,onDelete:s})=>{console.debug("[ToggleSwitchFieldConfig] Rendering for field:",e.id);const{stages:a}=ur(),[i,o]=v.useState(!1),[c,d]=v.useState(null);v.useEffect(()=>{const f=e.visibility_conditions??e.visibility_condition??null;d(Rr(f))},[e.visibility_conditions,e.visibility_condition]);const[u,l]=v.useState(e.default_value==="1");return n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"p-4 border-l-4 border-l-teal-500",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(v3,{className:"h-4 w-4 text-teal-500"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"Toggle Switch"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Field ",t+1]})]}),n.jsx(W,{variant:"ghost",size:"icon",type:"button",onClick:s,className:"text-destructive hover:text-destructive",children:n.jsx(kt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Label ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.label,onChange:f=>r({label:f.target.value}),placeholder:"e.g., Enable notifications",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Default State"}),n.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-md bg-muted/30",children:[n.jsx(ys,{checked:u,onCheckedChange:f=>{l(f),r({default_value:f?"1":"0"})}}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium",children:u?"Enabled (On)":"Disabled (Off)"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Default toggle position when the form loads"})]})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Helper Text"}),n.jsx(Ht,{value:e.helper_text??"",onChange:f=>r({helper_text:f.target.value||null}),placeholder:"Additional information (e.g., 'Enable to receive email notifications')",className:"min-h-[60px] text-xs"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[n.jsx("div",{className:"text-[11px] text-muted-foreground",children:e.visibility_conditions?"Conditions configured":"No conditions"}),n.jsx(W,{variant:"outline",size:"sm",type:"button",onClick:()=>o(!0),children:"Edit Conditions"})]})]})]})}),i&&n.jsx(Or,{value:c,onChange:f=>{d(f);const m=Mr(f);r({visibility_conditions:m})},stages:a,excludeFieldId:e.id,open:i,onClose:()=>o(!1)})]})},yAt=({field:e})=>{console.debug("[ToggleSwitchPreview] Rendering for field:",e.id);const t=e.default_value==="1",[r,s]=v.useState(t),a=e.rules?.some(i=>i.input_rule_id!==null&&i.input_rule_id!==void 0);return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(v3,{className:"h-3.5 w-3.5 text-teal-500"}),n.jsxs(Q,{className:"text-sm font-medium flex-1",children:[e.label,a&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:e.label}),e.helper_text&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text})]}),n.jsx(ys,{checked:r,onCheckedChange:s,disabled:!0,className:"data-[state=checked]:bg-teal-500"})]})]})},bAt=({field:e,fieldIndex:t,onFieldChange:r,onDelete:s})=>{console.debug("[CurrencyInputFieldConfig] Rendering for field:",e.id);const{stages:a}=ur(),[i,o]=v.useState(!1),[c,d]=v.useState(null);v.useEffect(()=>{const x=e.visibility_conditions??e.visibility_condition??null;d(Rr(x))},[e.visibility_conditions,e.visibility_condition]);const u="$",l=x=>{if(!x||x===".")return x;const b=x.endsWith("."),y=x.replace(/[^0-9.]/g,"").split("."),w=y[0]?y[0].replace(/\B(?=(\d{3})+(?!\d))/g,","):"";if(y.length>1){const S=y[1].substring(0,2);return`${w}.${S}`}return b&&y.length===1?`${w}.`:w},f=x=>x.replace(/,/g,""),m=x=>{const b=x.target.value;if(b===""){r({default_value:null});return}if(b==="."){r({default_value:"0."});return}const h=b.replace(/[^0-9.]/g,"");if((h.match(/\./g)||[]).length>1)return;const w=f(h);r({default_value:w||null})},p=e.default_value?l(e.default_value):"";return n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"p-4 border-l-4 border-l-emerald-500",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(lu,{className:"h-4 w-4 text-emerald-500"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"Currency Input"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Field ",t+1]})]}),n.jsx(W,{variant:"ghost",size:"icon",type:"button",onClick:s,className:"text-destructive hover:text-destructive",children:n.jsx(kt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Label ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.label,onChange:x=>r({label:x.target.value}),placeholder:"e.g., Enter your budget",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Default Value"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground font-semibold",children:u}),n.jsx(ne,{type:"text",value:p,onChange:m,placeholder:"0.00",className:"h-9 pl-8 text-right"})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Placeholder Text"}),n.jsx(ne,{value:e.placeholder??"",onChange:x=>r({placeholder:x.target.value||null}),placeholder:"e.g., 0.00",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Helper Text"}),n.jsx(Ht,{value:e.helper_text??"",onChange:x=>r({helper_text:x.target.value||null}),placeholder:"Additional information (e.g., 'Enter amount in USD')",className:"min-h-[60px] text-xs"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[n.jsx("div",{className:"text-[11px] text-muted-foreground",children:e.visibility_conditions?"Conditions configured":"No conditions"}),n.jsx(W,{variant:"outline",size:"sm",type:"button",onClick:()=>o(!0),children:"Edit Conditions"})]})]})]})}),i&&n.jsx(Or,{value:c,onChange:x=>{d(x);const b=Mr(x);r({visibility_conditions:b})},stages:a,excludeFieldId:e.id,open:i,onClose:()=>o(!1)})]})},wAt=({field:e})=>{console.debug("[CurrencyInputPreview] Rendering for field:",e.id);const t="$",[r,s]=v.useState("");v.useEffect(()=>{e.default_value?s(e.default_value):s("")},[e.default_value]);const a=u=>{if(!u)return"";const f=u.replace(/[^0-9.]/g,"").split("."),m=f[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),p=f[1]?f[1].substring(0,2):"";return p?`${m}.${p}`:m},i=u=>{const f=u.target.value.replace(/[^0-9.]/g,"");f.split(".").length>2||s(f)},o=e.rules?.some(u=>u.input_rule_id!==null&&u.input_rule_id!==void 0),c=()=>r?a(r):"",d=()=>e.placeholder||"0.00";return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(lu,{className:"h-3.5 w-3.5 text-emerald-500"}),n.jsxs(Q,{className:"text-sm font-medium flex-1",children:[e.label,o&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-emerald-600 font-bold text-lg",children:t}),n.jsx(ne,{type:"text",value:c(),onChange:i,placeholder:d(),disabled:!0,className:"h-11 pl-10 pr-4 text-right text-lg font-semibold border-emerald-200 focus:border-emerald-500"})]}),e.helper_text&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text})]})},jAt=({field:e,fieldIndex:t,onFieldChange:r,onDelete:s})=>{console.debug("[PercentageInputFieldConfig] Rendering for field:",e.id);const{stages:a}=ur(),[i,o]=v.useState(!1),[c,d]=v.useState(null);v.useEffect(()=>{const p=e.visibility_conditions??e.visibility_condition??null;d(Rr(p))},[e.visibility_conditions,e.visibility_condition]);const[u,l]=v.useState(e.default_value||"50");v.useEffect(()=>{e.default_value||r({default_value:"50"})},[]);const f=parseFloat(u),m=Number.isNaN(f)?0:f;return n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"p-4 border-l-4 border-l-blue-500",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(p3,{className:"h-4 w-4 text-blue-500"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"Percentage Input"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Field ",t+1]})]}),n.jsx(W,{variant:"ghost",size:"icon",type:"button",onClick:s,className:"text-destructive hover:text-destructive",children:n.jsx(kt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Label ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.label,onChange:p=>r({label:p.target.value}),placeholder:"e.g., What is your completion rate?",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Default Value"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(ne,{type:"number",value:u,onChange:p=>{const x=p.target.value;l(x),r({default_value:x||null})},placeholder:"50",className:"h-9 pr-10",min:0,max:100,step:.1}),n.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground font-semibold",children:"%"})]}),n.jsx("div",{className:"p-3 border rounded-md bg-muted/30",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsx("span",{className:"text-muted-foreground",children:"Preview:"}),n.jsxs("span",{className:"font-bold text-blue-600",children:[u||0,"%"]})]}),n.jsx(Pu,{value:m,className:"h-3 bg-blue-500"}),n.jsxs("div",{className:"flex justify-between text-[10px] text-muted-foreground",children:[n.jsx("span",{children:"0%"}),n.jsx("span",{children:"50%"}),n.jsx("span",{children:"100%"})]})]})})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Helper Text"}),n.jsx(Ht,{value:e.helper_text??"",onChange:p=>r({helper_text:p.target.value||null}),placeholder:"Additional information (e.g., 'Enter a value between 0 and 100')",className:"min-h-[60px] text-xs"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[n.jsx("div",{className:"text-[11px] text-muted-foreground",children:e.visibility_conditions?"Conditions configured":"No conditions"}),n.jsx(W,{variant:"outline",size:"sm",type:"button",onClick:()=>o(!0),children:"Edit Conditions"})]})]})]})}),i&&n.jsx(Or,{value:c,onChange:p=>{d(p);const x=Mr(p);r({visibility_conditions:x})},stages:a,excludeFieldId:e.id,open:i,onClose:()=>o(!1)})]})},SAt=({field:e})=>{console.debug("[PercentageInputPreview] Rendering for field:",e.id);const[t,r]=v.useState(e.default_value||"50"),s=parseFloat(t)||0,a=e.rules?.some(i=>i.input_rule_id!==null&&i.input_rule_id!==void 0);return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(p3,{className:"h-3.5 w-3.5 text-blue-500"}),n.jsxs(Q,{className:"text-sm font-medium flex-1",children:[e.label,a&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(ne,{type:"number",value:t,onChange:i=>r(i.target.value),placeholder:e.placeholder||"0",disabled:!0,className:"h-11 pr-12 text-right text-lg font-semibold border-blue-200 focus:border-blue-500",min:0,max:100,step:.1}),n.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-blue-600 font-bold text-xl",children:"%"})]}),n.jsx("div",{className:"p-4 border border-blue-200 rounded-lg bg-blue-50/50",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:"Progress:"}),n.jsxs("span",{className:"text-xs font-bold text-blue-600",children:[s,"%"]})]}),n.jsx(Pu,{value:s,className:"h-4 bg-blue-500"}),n.jsxs("div",{className:"flex justify-between text-[10px] text-muted-foreground",children:[n.jsx("span",{children:"0%"}),n.jsxs("span",{className:"font-bold text-blue-600 text-sm",children:[s,"%"]}),n.jsx("span",{children:"100%"})]})]})}),e.helper_text&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text})]})},NAt=({field:e,fieldIndex:t,onFieldChange:r,onDelete:s})=>{console.debug("[SignaturePadFieldConfig] Rendering for field:",e.id);const{stages:a}=ur(),[i,o]=v.useState(!1),[c,d]=v.useState(null);return v.useEffect(()=>{const u=e.visibility_conditions??e.visibility_condition??null;d(Rr(u))},[e.visibility_conditions,e.visibility_condition]),n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"p-4 border-l-4 border-l-blue-500",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Cy,{className:"h-4 w-4 text-blue-500"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"Signature Pad"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Field ",t+1]})]}),n.jsx(W,{variant:"ghost",size:"icon",type:"button",onClick:s,className:"text-destructive hover:text-destructive",children:n.jsx(kt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Label ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.label,onChange:u=>r({label:u.target.value}),placeholder:"e.g., Please sign below",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Placeholder Text"}),n.jsx(ne,{value:e.placeholder??"",onChange:u=>r({placeholder:u.target.value||null}),placeholder:"e.g., Sign here",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Helper Text"}),n.jsx(Ht,{value:e.helper_text??"",onChange:u=>r({helper_text:u.target.value||null}),placeholder:"Additional information (e.g., 'Draw your signature using your mouse or touchscreen')",className:"min-h-[60px] text-xs"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[n.jsx("div",{className:"text-[11px] text-muted-foreground",children:e.visibility_conditions?"Conditions configured":"No conditions"}),n.jsx(W,{variant:"outline",size:"sm",type:"button",onClick:()=>o(!0),children:"Edit Conditions"})]})]})]})}),i&&n.jsx(Or,{value:c,onChange:u=>{d(u);const l=Mr(u);r({visibility_conditions:l})},stages:a,excludeFieldId:e.id,open:i,onClose:()=>o(!1)})]})},CAt=({field:e})=>{console.debug("[SignaturePadPreview] Rendering for field:",e.id);const t=v.useRef(null),[r,s]=v.useState(!1);v.useEffect(()=>{const o=t.current;if(!o)return;const c=o.getContext("2d");c&&(o.width=o.offsetWidth,o.height=o.offsetHeight,c.strokeStyle="#000000",c.lineWidth=2,c.lineCap="round",c.lineJoin="round")},[]);const a=()=>{const o=t.current;if(!o)return;const c=o.getContext("2d");c&&(c.clearRect(0,0,o.width,o.height),s(!1))},i=e.rules?.some(o=>o.input_rule_id!==null&&o.input_rule_id!==void 0);return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Cy,{className:"h-3.5 w-3.5 text-blue-500"}),n.jsxs(Q,{className:"text-sm font-medium flex-1",children:[e.label,i&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("canvas",{ref:t,className:"w-full h-48 border-2 border-blue-200 rounded-lg bg-white cursor-crosshair",style:{touchAction:"none"}}),!r&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:n.jsxs("div",{className:"text-center text-muted-foreground/50",children:[n.jsx(Cy,{className:"h-12 w-12 mx-auto mb-2"}),n.jsx("p",{className:"text-sm font-medium",children:e.placeholder||"Sign here"}),n.jsx("p",{className:"text-xs",children:"Draw your signature using mouse or touch"})]})})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(W,{variant:"outline",size:"sm",onClick:a,disabled:!0,className:"flex items-center gap-2",children:[n.jsx(g3,{className:"h-3 w-3"}),"Clear"]}),n.jsxs(W,{variant:"outline",size:"sm",disabled:!0,className:"flex items-center gap-2",children:[n.jsx(d3,{className:"h-3 w-3"}),"Download"]}),r&&n.jsx(Ae,{variant:"default",className:"ml-auto bg-green-500",children:"Signed "})]}),e.helper_text&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text})]})},CK=e=>{if(!e)return{lat:40.7128,lng:-74.006,address:"New York, NY, USA"};try{const t=JSON.parse(e);return{lat:typeof t.lat=="number"?t.lat:40.7128,lng:typeof t.lng=="number"?t.lng:-74.006,address:typeof t.address=="string"?t.address:"New York, NY, USA"}}catch{return{lat:40.7128,lng:-74.006,address:"New York, NY, USA"}}},_K=e=>JSON.stringify({lat:Number.isFinite(e.lat)?e.lat:0,lng:Number.isFinite(e.lng)?e.lng:0,address:e.address??""}),_At=({field:e,fieldIndex:t,onFieldChange:r,onDelete:s})=>{console.debug("[LocationPickerFieldConfig] Rendering for field:",e.id);const{stages:a}=ur(),[i,o]=v.useState(!1),[c,d]=v.useState(null);v.useEffect(()=>{const y=e.visibility_conditions??e.visibility_condition??null;d(Rr(y))},[e.visibility_conditions,e.visibility_condition]);const u=CK(e.default_value??null),[l,f]=v.useState(u.lat.toString()),[m,p]=v.useState(u.lng.toString()),[x,b]=v.useState(u.address);v.useEffect(()=>{const y=CK(e.default_value??null);f(y.lat.toString()),p(y.lng.toString()),b(y.address)},[e.default_value]),v.useEffect(()=>{if(!e.default_value){const y=_K({lat:40.7128,lng:-74.006,address:"New York, NY, USA"});r({default_value:y})}},[]);const h=v.useCallback(()=>{const y=parseFloat(l),w=parseFloat(m),S={lat:Number.isFinite(y)?y:0,lng:Number.isFinite(w)?w:0,address:x||""};r({default_value:_K(S)})},[l,m,x,r]);return n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"p-4 border-l-4 border-l-emerald-500",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mo,{className:"h-4 w-4 text-emerald-500"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"Location Picker"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Field ",t+1]})]}),n.jsx(W,{variant:"ghost",size:"icon",type:"button",onClick:s,className:"text-destructive hover:text-destructive",children:n.jsx(kt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Label ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.label,onChange:y=>r({label:y.target.value}),placeholder:"e.g., Select your location",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Default Location"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Latitude"}),n.jsx(ne,{type:"number",value:l,onChange:y=>f(y.target.value),onBlur:h,placeholder:"40.7128",className:"h-9 text-xs",step:1e-6,min:-90,max:90})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Longitude"}),n.jsx(ne,{type:"number",value:m,onChange:y=>p(y.target.value),onBlur:h,placeholder:"-74.0060",className:"h-9 text-xs",step:1e-6,min:-180,max:180})]})]}),n.jsx(ne,{value:x,onChange:y=>b(y.target.value),onBlur:h,placeholder:"New York, NY, USA",className:"h-9 text-xs"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Helper Text"}),n.jsx(Ht,{value:e.helper_text??"",onChange:y=>r({helper_text:y.target.value||null}),placeholder:"Additional information (e.g., 'Use the search bar or click on the map')",className:"min-h-[60px] text-xs"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[n.jsx("div",{className:"text-[11px] text-muted-foreground",children:e.visibility_conditions?"Conditions configured":"No conditions"}),n.jsx(W,{variant:"outline",size:"sm",type:"button",onClick:()=>o(!0),children:"Edit Conditions"})]})]})]})}),i&&n.jsx(Or,{value:c,onChange:y=>{d(y);const w=Mr(y);r({visibility_conditions:w})},stages:a,excludeFieldId:e.id,open:i,onClose:()=>o(!1)})]})},EAt=({field:e})=>{console.debug("[LocationPickerPreview] Rendering for field:",e.id);const[t]=v.useState({lat:40.7128,lng:-74.006,address:"New York, NY, USA"}),[r]=v.useState(!1),s=e.rules?.some(a=>a.input_rule_id!==null&&a.input_rule_id!==void 0);return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mo,{className:"h-3.5 w-3.5 text-emerald-500"}),n.jsxs(Q,{className:"text-sm font-medium flex-1",children:[e.label,s&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(nl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(ne,{placeholder:e.placeholder||"Search for a location or address...",disabled:!0,className:"pl-10 pr-10 h-11 border-emerald-200 focus:border-emerald-500"}),n.jsx(W,{variant:"ghost",size:"icon",disabled:!0,className:"absolute right-1 top-1/2 -translate-y-1/2 h-8 w-8",children:n.jsx(eee,{className:"h-4 w-4 text-emerald-600"})})]}),n.jsxs("div",{className:"relative w-full h-64 border-2 border-emerald-200 rounded-lg bg-emerald-50 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"linear-gradient(rgba(16, 185, 129, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(16, 185, 129, 0.1) 1px, transparent 1px)",backgroundSize:"20px 20px"}}),n.jsxs("div",{className:"absolute top-3 right-3 flex flex-col gap-1",children:[n.jsx(W,{variant:"secondary",size:"icon",disabled:!0,className:"h-8 w-8 bg-white shadow-md",children:n.jsx("span",{className:"text-lg font-bold",children:"+"})}),n.jsx(W,{variant:"secondary",size:"icon",disabled:!0,className:"h-8 w-8 bg-white shadow-md",children:n.jsx("span",{className:"text-lg font-bold",children:""})}),n.jsx(W,{variant:"secondary",size:"icon",disabled:!0,className:"h-8 w-8 bg-white shadow-md mt-1",children:n.jsx(e$e,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-full",children:n.jsx(mo,{className:"h-10 w-10 text-red-500 drop-shadow-2xl"})}),n.jsx("div",{className:"absolute bottom-3 left-3",children:n.jsxs("div",{className:"bg-white rounded shadow-md flex",children:[n.jsx("button",{className:"px-3 py-1 text-xs font-medium border-r bg-emerald-100 text-emerald-700",disabled:!0,children:"Road"}),n.jsx("button",{className:"px-3 py-1 text-xs font-medium text-muted-foreground",disabled:!0,children:"Satellite"})]})}),!r&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:n.jsxs("div",{className:"text-center text-muted-foreground bg-white/80 p-4 rounded-lg",children:[n.jsx(mo,{className:"h-8 w-8 mx-auto mb-2 text-emerald-500"}),n.jsx("p",{className:"text-xs font-medium",children:"Click on map to select"}),n.jsx("p",{className:"text-[10px]",children:"or use the search bar above"})]})})]}),n.jsx("div",{className:"p-3 border border-emerald-200 rounded-md bg-emerald-50/50",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Selected Location:"}),r?n.jsx(Ae,{className:"bg-emerald-500",children:"Selected "}):n.jsx(Ae,{variant:"outline",className:"text-muted-foreground",children:"Not selected"})]}),n.jsx("div",{className:"space-y-1 text-xs",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(mo,{className:"h-3 w-3 text-emerald-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-emerald-900",children:t.address}),n.jsxs("p",{className:"text-[10px] text-muted-foreground font-mono",children:["Lat: ",t.lat.toFixed(6),", Lng:"," ",t.lng.toFixed(6)]})]})]})}),n.jsx(W,{variant:"link",size:"sm",disabled:!0,className:"h-auto p-0 text-[10px] text-emerald-600",children:"View in Google Maps "})]})}),e.helper_text&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text})]})},kAt=({field:e,fieldIndex:t,onFieldChange:r,onDelete:s})=>{console.debug("[AddressInputFieldConfig] Rendering for field:",e.id);const{stages:a}=ur(),[i,o]=v.useState(!1),[c,d]=v.useState(null);v.useEffect(()=>{const w=e.visibility_conditions??e.visibility_condition??null;d(Rr(w))},[e.visibility_conditions,e.visibility_condition]);const[u,l]=v.useState({street:"",city:"",state:"",postal_code:"",country:""}),[f,m]=v.useState({street:!1,city:!1,state:!1,postal_code:!1,country:!1});v.useEffect(()=>{if(e.default_value)try{const w=JSON.parse(e.default_value),S={street:w.street||"",city:w.city||"",state:w.state||"",postal_code:w.postal_code||"",country:w.country||""};l(S),m({street:!!w.street,city:!!w.city,state:!!w.state,postal_code:!!w.postal_code,country:!!w.country})}catch(w){console.warn("Invalid default_value JSON for address field:",w)}},[e.default_value]);const p=(w,S)=>{const N={};S.street&&w.street&&(N.street=w.street),S.city&&w.city&&(N.city=w.city),S.state&&w.state&&(N.state=w.state),S.postal_code&&w.postal_code&&(N.postal_code=w.postal_code),S.country&&w.country&&(N.country=w.country);const _=Object.keys(N).length>0?JSON.stringify(N):null;r({default_value:_})},x=(w,S)=>{const N={...u,[w]:S};l(N),p(N,f)},b=(w,S)=>{const N={...f,[w]:S};if(m(N),S)p(u,N);else{const _={...u,[w]:""};l(_),p(_,N)}},h=()=>{l({street:"",city:"",state:"",postal_code:"",country:""}),m({street:!1,city:!1,state:!1,postal_code:!1,country:!1}),r({default_value:null})},y=Object.values(f).some(w=>w);return n.jsxs(n.Fragment,{children:[n.jsx(oe,{className:"p-4 border-l-4 border-l-orange-500",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(EE,{className:"h-4 w-4 text-orange-500"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"Address Input"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Field ",t+1]})]}),n.jsx(W,{variant:"ghost",size:"icon",type:"button",onClick:s,className:"text-destructive hover:text-destructive",children:n.jsx(kt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-xs font-medium text-muted-foreground",children:["Label ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.label,onChange:w=>r({label:w.target.value}),placeholder:"e.g., Enter your address",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Placeholder Text (for street address field)"}),n.jsx(ne,{value:e.placeholder??"",onChange:w=>r({placeholder:w.target.value||null}),placeholder:"e.g., 123 Main Street...",className:"h-9",maxLength:255})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Helper Text"}),n.jsx(Ht,{value:e.helper_text??"",onChange:w=>r({helper_text:w.target.value||null}),placeholder:"Additional information (e.g., 'Provide your complete mailing address')",className:"min-h-[60px] text-xs"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Default Values (Pre-fill Address Components)"}),y&&n.jsxs(W,{type:"button",variant:"ghost",size:"sm",onClick:h,className:"h-6 text-xs text-destructive hover:text-destructive",children:[n.jsx(Kr,{className:"h-3 w-3 mr-1"}),"Clear All"]})]}),n.jsxs("div",{className:"p-3 border rounded-md bg-muted/20 space-y-2",children:[n.jsx("p",{className:"text-[10px] text-muted-foreground mb-2",children:"Enable and set default values for any combination of address fields:"}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(dt,{id:"enable-street",checked:f.street,onCheckedChange:w=>b("street",w)}),n.jsx("label",{htmlFor:"enable-street",className:"text-xs font-medium cursor-pointer",children:" Street Address"})]}),f.street&&n.jsx(ne,{value:u.street,onChange:w=>x("street",w.target.value),placeholder:"e.g., 123 Main Street, Apt 4B",className:"h-8 text-xs",maxLength:255})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(dt,{id:"enable-city",checked:f.city,onCheckedChange:w=>b("city",w)}),n.jsx("label",{htmlFor:"enable-city",className:"text-xs font-medium cursor-pointer",children:" City"})]}),f.city&&n.jsx(ne,{value:u.city,onChange:w=>x("city",w.target.value),placeholder:"e.g., New York",className:"h-8 text-xs",maxLength:255})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(dt,{id:"enable-state",checked:f.state,onCheckedChange:w=>b("state",w)}),n.jsx("label",{htmlFor:"enable-state",className:"text-xs font-medium cursor-pointer",children:" State/Province"})]}),f.state&&n.jsx(ne,{value:u.state,onChange:w=>x("state",w.target.value),placeholder:"e.g., NY or New York",className:"h-8 text-xs",maxLength:100})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(dt,{id:"enable-postal",checked:f.postal_code,onCheckedChange:w=>b("postal_code",w)}),n.jsx("label",{htmlFor:"enable-postal",className:"text-xs font-medium cursor-pointer",children:" Postal/ZIP Code"})]}),f.postal_code&&n.jsx(ne,{value:u.postal_code,onChange:w=>x("postal_code",w.target.value),placeholder:"e.g., 10001",className:"h-8 text-xs",maxLength:20})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(dt,{id:"enable-country",checked:f.country,onCheckedChange:w=>b("country",w)}),n.jsx("label",{htmlFor:"enable-country",className:"text-xs font-medium cursor-pointer",children:" Country"})]}),f.country&&n.jsx(ne,{value:u.country,onChange:w=>x("country",w.target.value),placeholder:"e.g., United States",className:"h-8 text-xs",maxLength:100})]}),!y&&n.jsx("div",{className:"text-center py-2",children:n.jsx("p",{className:"text-[10px] text-muted-foreground italic",children:"No default values set. Check boxes above to pre-fill address fields."})})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded border p-2",children:[n.jsx("div",{className:"text-[11px] text-muted-foreground",children:e.visibility_conditions?"Conditions configured":"No conditions"}),n.jsx(W,{variant:"outline",size:"sm",type:"button",onClick:()=>o(!0),children:"Edit Conditions"})]})]})]})}),i&&n.jsx(Or,{value:c,onChange:w=>{d(w);const S=Mr(w);r({visibility_conditions:S})},stages:a,excludeFieldId:e.id,open:i,onClose:()=>o(!1)})]})},AAt=({field:e})=>{console.debug("[AddressInputPreview] Rendering for field:",e.id);let t={street:"",city:"",state:"",postal_code:"",country:""};if(e.default_value)try{const s=JSON.parse(e.default_value);t={street:s.street||"",city:s.city||"",state:s.state||"",postal_code:s.postal_code||"",country:s.country||""}}catch(s){console.warn("Invalid default_value JSON for address field:",s)}const r=e.rules?.some(s=>s.input_rule_id!==null&&s.input_rule_id!==void 0);return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(EE,{className:"h-3.5 w-3.5 text-orange-500"}),n.jsxs(Q,{className:"text-sm font-medium flex-1",children:[e.label,r&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(Q,{className:"text-xs text-muted-foreground",children:"Street Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(mo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-3 w-3 text-muted-foreground"}),n.jsx(ne,{value:t.street,placeholder:e.placeholder||"123 Main Street, Apt 4B...",disabled:!0,className:`pl-9 h-10 ${t.street?"border-blue-300 bg-blue-50/50":"border-orange-200"}`})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(Q,{className:"text-xs text-muted-foreground",children:"City"}),n.jsx(ne,{value:t.city,placeholder:"New York",disabled:!0,className:`h-10 ${t.city?"border-blue-300 bg-blue-50/50":"border-orange-200"}`})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Q,{className:"text-xs text-muted-foreground",children:"State/Province"}),n.jsx(ne,{value:t.state,placeholder:"TX",disabled:!0,className:`h-10 ${t.state?"border-blue-300 bg-blue-50/50":"border-orange-200"}`})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(Q,{className:"text-xs text-muted-foreground",children:"Postal/ZIP Code"}),n.jsx(ne,{value:t.postal_code,placeholder:"10001",disabled:!0,className:`h-10 ${t.postal_code?"border-blue-300 bg-blue-50/50":"border-orange-200"}`})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Q,{className:"text-xs text-muted-foreground",children:"Country"}),n.jsx(ne,{value:t.country,placeholder:"United States",disabled:!0,className:`h-10 ${t.country?"border-blue-300 bg-blue-50/50":"border-orange-200"}`})]})]})]}),e.helper_text&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text})]})},TAt=({field:e,onFieldChange:t,onDelete:r})=>n.jsxs("div",{className:"p-4 border border-dashed border-gray-300 rounded-md bg-gray-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Field Type ID: ",e.field_type_id]}),n.jsx("p",{className:"text-xs text-gray-500",children:"No config component registered"})]}),n.jsx("button",{onClick:r,className:"text-xs text-red-600 hover:text-red-800",children:"Delete"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Label"}),n.jsx("input",{type:"text",value:e.label,onChange:s=>t({label:s.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Placeholder"}),n.jsx("input",{type:"text",value:e.placeholder||"",onChange:s=>t({placeholder:s.target.value||null}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Helper Text"}),n.jsx("textarea",{value:e.helper_text||"",onChange:s=>t({helper_text:s.target.value||null}),rows:2,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("p",{className:"mt-3 text-xs text-gray-500",children:[" Register a custom config component for field type"," ",e.field_type_id," in fieldComponentRegistry.ts"]})]}),DAt=({field:e})=>n.jsxs("div",{className:"space-y-2 p-3 border border-dashed border-gray-300 rounded-md bg-gray-50",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:e.label}),n.jsxs("span",{className:"text-xs text-gray-500",children:["Type: ",e.field_type_id]})]}),n.jsx("input",{type:"text",placeholder:e.placeholder||"No preview component registered",disabled:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md bg-white opacity-60"}),e.helper_text&&n.jsx("p",{className:"text-xs text-gray-500",children:e.helper_text})]}),PAt={1:hkt,2:fkt,3:gkt,4:vkt,5:bkt,6:jkt,7:Nkt,8:_kt,9:kkt,10:Tkt,11:Pkt,12:Mkt,13:Ikt,14:$kt,15:Bkt,16:Ukt,17:Vkt,18:qkt,19:Ykt,20:Zkt,21:gAt,22:vAt,23:bAt,24:jAt,25:NAt,26:_At,27:kAt},RAt={1:pkt,2:mkt,3:xkt,4:ykt,5:wkt,6:Skt,7:Ckt,8:Ekt,9:Akt,10:Dkt,11:Rkt,12:Okt,13:Fkt,14:Lkt,15:zkt,16:Hkt,17:Wkt,18:Gkt,19:Kkt,20:Xkt,21:xAt,22:yAt,23:wAt,24:SAt,25:CAt,26:EAt,27:AAt},MAt=e=>{const t=PAt[e];return t||(console.warn(`[FieldComponentRegistry] No config component registered for field type ${e}, using default`),TAt)},OAt=e=>{const t=RAt[e];return t||(console.warn(`[FieldComponentRegistry] No preview component registered for field type ${e}, using default`),DAt)};function IAt(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function FAt(e){return IAt(e).replace(/(".*?"\s*:\s*)/g,'<span class="text-blue-600">$1</span>').replace(/(".*?")/g,'<span class="text-green-700">$1</span>').replace(/\b(true|false)\b/g,'<span class="text-purple-700">$1</span>').replace(/\b(null)\b/g,'<span class="text-gray-500">$1</span>').replace(/\b(-?\d+(?:\.\d+)?)\b/g,'<span class="text-orange-700">$1</span>')}const $At=({id:e,label:t,value:r,onChange:s,placeholder:a})=>{const[i,o]=v.useState(null),c=v.useMemo(()=>{if(!r)return"";try{const u=JSON.parse(r);return o(null),JSON.stringify(u,null,2)}catch{return o("Invalid JSON"),""}},[r]),d=u=>{const l=u.trim();if(l.length===0){o(null),s(null);return}try{JSON.parse(l),o(null),s(l)}catch{o("Invalid JSON"),s(l)}};return n.jsxs("div",{className:"space-y-1.5",children:[t&&n.jsx(Q,{htmlFor:e,className:"text-xs font-medium text-muted-foreground",children:t}),n.jsx(Ht,{id:e,value:r??"",onChange:u=>d(u.target.value),placeholder:a??'{"key": "value"}',className:`min-h-[80px] text-xs font-mono ${i?"border-destructive":""}`}),n.jsx("div",{className:"rounded border p-2 bg-gray-50",children:n.jsx("pre",{className:"text-xs font-mono overflow-auto",dangerouslySetInnerHTML:{__html:FAt(c)}})}),i&&n.jsx("p",{className:"text-[10px] text-destructive",children:i})]})},LAt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[AfterDateRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=v.useMemo(()=>{if(!e.rule_props)return{};try{return JSON.parse(e.rule_props)}catch(d){return console.warn("[AfterDateRuleComponent] Failed to parse rule_props:",d),{}}},[e.rule_props]),o=d=>{console.debug("[AfterDateRuleComponent] Enabled changed:",d),r(d)},c=d=>{const u=d.target.value;console.debug("[AfterDateRuleComponent] Date changed:",u);const l={...i,date:u||void 0},f=l.date?JSON.stringify(l):null;s(f)};return n.jsxs("div",{className:"space-y-3 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:`rule-after-date-${t}`,checked:a,onCheckedChange:o}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-after-date-${t}`,className:"text-sm font-medium cursor-pointer",children:"After Date"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Field must be a date after the specified date"})]})]}),a&&n.jsxs("div",{className:"ml-6 space-y-2",children:[n.jsxs(Q,{htmlFor:`after-date-value-${t}`,className:"text-sm",children:["Date ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{id:`after-date-value-${t}`,type:"date",value:i.date||"",onChange:c,required:a,className:"max-w-xs"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Field value must be after this date"})]})]})},BAt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[AfterOrEqualRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=v.useMemo(()=>{if(!e.rule_props)return{};try{return JSON.parse(e.rule_props)}catch(d){return console.warn("[AfterOrEqualRuleComponent] Failed to parse rule_props:",d),{}}},[e.rule_props]),o=d=>{console.debug("[AfterOrEqualRuleComponent] Enabled changed:",d),r(d)},c=d=>{const u=d.target.value;console.debug("[AfterOrEqualRuleComponent] Date changed:",u);const l={...i,date:u||void 0},f=l.date?JSON.stringify(l):null;s(f)};return n.jsxs("div",{className:"space-y-3 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:`rule-after-or-equal-${t}`,checked:a,onCheckedChange:o}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-after-or-equal-${t}`,className:"text-sm font-medium cursor-pointer",children:"After Or Equal"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Date must be after or equal to the specified date"})]})]}),a&&n.jsxs("div",{className:"ml-6 space-y-2",children:[n.jsxs(Q,{htmlFor:`after-or-equal-date-value-${t}`,className:"text-sm",children:["Date ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{id:`after-or-equal-date-value-${t}`,type:"date",value:i.date??"",onChange:c,required:a,className:"max-w-xs"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Field value must be after or equal to this date"})]})]})},zAt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[AlphaDashRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=o=>{console.debug("[AlphaDashRuleComponent] Enabled changed:",o),r(o),e.rule_props!==null&&s(null)};return n.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsx(dt,{id:`rule-alpha-dash-${t}`,checked:a,onCheckedChange:i}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-alpha-dash-${t}`,className:"text-sm font-medium cursor-pointer",children:"Alpha Dash"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Field must contain only alphanumeric characters, dashes, and underscores"})]})]})},UAt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[AlphaNumRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=o=>{console.debug("[AlphaNumRuleComponent] Enabled changed:",o),r(o),e.rule_props!==null&&s(null)};return n.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsx(dt,{id:`rule-alpha-numeric-${t}`,checked:a,onCheckedChange:i}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-alpha-numeric-${t}`,className:"text-sm font-medium cursor-pointer",children:"Alpha Numeric"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Field must contain only alphabetic and numeric characters"})]})]})},HAt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[AlphaRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=o=>{console.debug("[AlphaRuleComponent] Enabled changed:",o),r(o),e.rule_props!==null&&s(null)};return n.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsx(dt,{id:`rule-alpha-${t}`,checked:a,onCheckedChange:i}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-alpha-${t}`,className:"text-sm font-medium cursor-pointer",children:"Alpha"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Field must contain only alphabetic characters"})]})]})},VAt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[BeforeDateRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=v.useMemo(()=>{if(!e.rule_props)return{};try{return JSON.parse(e.rule_props)}catch(d){return console.warn("[BeforeDateRuleComponent] Failed to parse rule_props:",d),{}}},[e.rule_props]),o=d=>{console.debug("[BeforeDateRuleComponent] Enabled changed:",d),r(d)},c=d=>{const u=d.target.value;console.debug("[BeforeDateRuleComponent] Date changed:",u);const l={...i,date:u||void 0},f=l.date?JSON.stringify(l):null;s(f)};return n.jsxs("div",{className:"space-y-3 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:`rule-before-date-${t}`,checked:a,onCheckedChange:o}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-before-date-${t}`,className:"text-sm font-medium cursor-pointer",children:"Before Date"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Field must be a date before the specified date"})]})]}),a&&n.jsxs("div",{className:"ml-6 space-y-2",children:[n.jsxs(Q,{htmlFor:`before-date-value-${t}`,className:"text-sm",children:["Date ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{id:`before-date-value-${t}`,type:"date",value:i.date??"",onChange:c,required:a,className:"max-w-xs"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Field value must be before this date"})]})]})},WAt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[BeforeOrEqualRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=v.useMemo(()=>{if(!e.rule_props)return{};try{return JSON.parse(e.rule_props)}catch(d){return console.warn("[BeforeOrEqualRuleComponent] Failed to parse rule_props:",d),{}}},[e.rule_props]),o=d=>{console.debug("[BeforeOrEqualRuleComponent] Enabled changed:",d),r(d)},c=d=>{const u=d.target.value;console.debug("[BeforeOrEqualRuleComponent] Date changed:",u);const l={...i,date:u||void 0},f=l.date?JSON.stringify(l):null;s(f)};return n.jsxs("div",{className:"space-y-3 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:`rule-before-or-equal-${t}`,checked:a,onCheckedChange:o}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-before-or-equal-${t}`,className:"text-sm font-medium cursor-pointer",children:"Before Or Equal"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Date must be before or equal to the specified date"})]})]}),a&&n.jsxs("div",{className:"ml-6 space-y-2",children:[n.jsxs(Q,{htmlFor:`before-or-equal-date-value-${t}`,className:"text-sm",children:["Date ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{id:`before-or-equal-date-value-${t}`,type:"date",value:i.date??"",onChange:c,required:a,className:"max-w-xs"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Field value must be before or equal to this date"})]})]})},qAt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[BetweenRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=v.useMemo(()=>{if(!e.rule_props)return{};try{return JSON.parse(e.rule_props)}catch(m){return console.warn("[BetweenRuleComponent] Failed to parse rule_props:",m),{}}},[e.rule_props]),{min:o,max:c}=i,d=m=>{console.debug("[BetweenRuleComponent] Enabled changed:",m),r(m)},u=m=>{const x=(m.min!==void 0&&m.min!==null?!0:m.max!==void 0&&m.max!==null)?JSON.stringify(m):null;s(x)},l=m=>{const p=m.target.value;if(p===""){u({...i,min:void 0});return}const x=Number(p);Number.isNaN(x)||u({...i,min:x})},f=m=>{const p=m.target.value;if(p===""){u({...i,max:void 0});return}const x=Number(p);Number.isNaN(x)||u({...i,max:x})};return n.jsxs("div",{className:"space-y-3 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:`rule-between-${t}`,checked:a,onCheckedChange:d}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-between-${t}`,className:"text-sm font-medium cursor-pointer",children:"Between"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Field value must be between minimum and maximum values"})]})]}),a&&n.jsxs("div",{className:"ml-6 space-y-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Q,{htmlFor:`between-min-${t}`,className:"text-sm",children:["Minimum value ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{id:`between-min-${t}`,type:"number",placeholder:"Enter minimum value",value:o??"",onChange:l,required:a,className:"max-w-xs"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Q,{htmlFor:`between-max-${t}`,className:"text-sm",children:["Maximum value ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{id:`between-max-${t}`,type:"number",placeholder:"Enter maximum value",value:c??"",onChange:f,required:a,className:"max-w-xs"})]})]})]})},GAt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[ConfirmedRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=v.useMemo(()=>{if(!e.rule_props)return{};try{return JSON.parse(e.rule_props)}catch(u){return console.warn("[ConfirmedRuleComponent] Failed to parse rule_props:",u),{}}},[e.rule_props]),{confirmationvalue:o}=i,c=u=>{console.debug("[ConfirmedRuleComponent] Enabled changed:",u),r(u)},d=u=>{const l=u.target.value.trim();console.debug("[ConfirmedRuleComponent] confirmationvalue changed:",l);const f={...i,confirmationvalue:l===""?void 0:l},p=f.confirmationvalue!==void 0&&f.confirmationvalue!==null&&f.confirmationvalue!==""?JSON.stringify(f):null;s(p)};return n.jsxs("div",{className:"space-y-3 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:`rule-confirmed-${t}`,checked:a,onCheckedChange:c}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-confirmed-${t}`,className:"text-sm font-medium cursor-pointer",children:"Confirmed"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Field must match a confirmation field (e.g., password confirmation)"})]})]}),a&&n.jsxs("div",{className:"ml-6 space-y-2",children:[n.jsxs(Q,{htmlFor:`confirmed-field-${t}`,className:"text-sm",children:["Confirmation Field Key ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{id:`confirmed-field-${t}`,type:"text",placeholder:"e.g., password_confirmation",value:o??"",onChange:d,required:a}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Name/key of the field that this value must match."})]})]})},YAt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[DateFormatRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=v.useMemo(()=>{if(!e.rule_props)return{};try{return JSON.parse(e.rule_props)}catch(u){return console.warn("[DateFormatRuleComponent] Failed to parse rule_props:",u),{}}},[e.rule_props]),{format:o}=i,c=u=>{console.debug("[DateFormatRuleComponent] Enabled changed:",u),r(u)},d=u=>{const l=u.target.value.trim();console.debug("[DateFormatRuleComponent] format changed:",l);const f={...i,format:l===""?void 0:l},p=f.format!==void 0&&f.format!==null&&f.format!==""?JSON.stringify(f):null;s(p)};return n.jsxs("div",{className:"space-y-3 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:`rule-date-format-${t}`,checked:a,onCheckedChange:c}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-date-format-${t}`,className:"text-sm font-medium cursor-pointer",children:"Date Format"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Date must match a specific format"})]})]}),a&&n.jsxs("div",{className:"ml-6 space-y-2",children:[n.jsxs(Q,{htmlFor:`date-format-value-${t}`,className:"text-sm",children:["Format ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{id:`date-format-value-${t}`,type:"text",placeholder:"e.g., Y-m-d, m/d/Y, d-m-Y H:i:s",value:o??"",onChange:d,required:a,className:"max-w-md font-mono text-sm"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"PHP date format (e.g., Y-m-d for 2024-12-31, m/d/Y for 12/31/2024)"})]})]})},KAt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[DateRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=o=>{console.debug("[DateRuleComponent] Enabled changed:",o),r(o),e.rule_props!==null&&s(null)};return n.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsx(dt,{id:`rule-date-${t}`,checked:a,onCheckedChange:i}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-date-${t}`,className:"text-sm font-medium cursor-pointer",children:"Date"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Field must be a valid date"})]})]})},ZAt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[DifferentRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=v.useMemo(()=>{if(!e.rule_props)return{};try{return JSON.parse(e.rule_props)}catch(u){return console.warn("[DifferentRuleComponent] Failed to parse rule_props:",u),{}}},[e.rule_props]),{comparevalue:o}=i,c=u=>{console.debug("[DifferentRuleComponent] Enabled changed:",u),r(u)},d=u=>{const l=u.target.value.trim();console.debug("[DifferentRuleComponent] comparevalue changed:",l);const f={...i,comparevalue:l===""?void 0:l},p=f.comparevalue!==void 0&&f.comparevalue!==null&&f.comparevalue!==""?JSON.stringify(f):null;s(p)};return n.jsxs("div",{className:"space-y-3 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:`rule-different-${t}`,checked:a,onCheckedChange:c}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-different-${t}`,className:"text-sm font-medium cursor-pointer",children:"Different"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Field must be different from another field"})]})]}),a&&n.jsxs("div",{className:"ml-6 space-y-2",children:[n.jsxs(Q,{htmlFor:`different-field-${t}`,className:"text-sm",children:["Field to Differ From ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{id:`different-field-${t}`,type:"text",placeholder:"e.g., username, old_password",value:o??"",onChange:d,required:a}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the name or identifier of the field that must be different"})]})]})},XAt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[DimensionsRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=v.useMemo(()=>{if(!e.rule_props)return{};try{return JSON.parse(e.rule_props)}catch(b){return console.warn("[DimensionsRuleComponent] Failed to parse rule_props:",b),{}}},[e.rule_props]),{width:o,height:c,minwidth:d,maxwidth:u,minheight:l,maxheight:f}=i,m=b=>{console.debug("[DimensionsRuleComponent] Enabled changed:",b),r(b)},p=b=>{const y=b.width!==void 0||b.height!==void 0||b.minwidth!==void 0||b.maxwidth!==void 0||b.minheight!==void 0||b.maxheight!==void 0?JSON.stringify(b):null;s(y)},x=(b,h)=>{const y=h.target.value,w=y===""||Number.isNaN(Number(y))?void 0:Number(y);p({...i,[b]:w})};return n.jsxs("div",{className:"space-y-3 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:`rule-dimensions-${t}`,checked:a,onCheckedChange:m}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-dimensions-${t}`,className:"text-sm font-medium cursor-pointer",children:"Dimensions"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Image must meet dimension requirements (width, height, min/max)"})]})]}),a&&n.jsxs("div",{className:"ml-6 space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{htmlFor:`dimensions-width-${t}`,className:"text-xs",children:"Exact Width (px)"}),n.jsx(ne,{id:`dimensions-width-${t}`,type:"number",min:"0",step:"1",placeholder:"e.g., 1920",value:o??"",onChange:b=>x("width",b),className:"h-8"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{htmlFor:`dimensions-height-${t}`,className:"text-xs",children:"Exact Height (px)"}),n.jsx(ne,{id:`dimensions-height-${t}`,type:"number",min:"0",step:"1",placeholder:"e.g., 1080",value:c??"",onChange:b=>x("height",b),className:"h-8"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{htmlFor:`dimensions-minwidth-${t}`,className:"text-xs",children:"Min Width (px)"}),n.jsx(ne,{id:`dimensions-minwidth-${t}`,type:"number",min:"0",step:"1",placeholder:"e.g., 800",value:d??"",onChange:b=>x("minwidth",b),className:"h-8"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{htmlFor:`dimensions-maxwidth-${t}`,className:"text-xs",children:"Max Width (px)"}),n.jsx(ne,{id:`dimensions-maxwidth-${t}`,type:"number",min:"0",step:"1",placeholder:"e.g., 3840",value:u??"",onChange:b=>x("maxwidth",b),className:"h-8"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{htmlFor:`dimensions-minheight-${t}`,className:"text-xs",children:"Min Height (px)"}),n.jsx(ne,{id:`dimensions-minheight-${t}`,type:"number",min:"0",step:"1",placeholder:"e.g., 600",value:l??"",onChange:b=>x("minheight",b),className:"h-8"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{htmlFor:`dimensions-maxheight-${t}`,className:"text-xs",children:"Max Height (px)"}),n.jsx(ne,{id:`dimensions-maxheight-${t}`,type:"number",min:"0",step:"1",placeholder:"e.g., 2160",value:f??"",onChange:b=>x("maxheight",b),className:"h-8"})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"All fields are optional. Specify only the constraints you need."})]})]})},JAt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[EmailRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=o=>{console.debug("[EmailRuleComponent] Enabled changed:",o),r(o),e.rule_props!==null&&s(null)};return n.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsx(dt,{id:`rule-email-${t}`,checked:a,onCheckedChange:i}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-email-${t}`,className:"text-sm font-medium cursor-pointer",children:"Email"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Field must be a valid email address"})]})]})},QAt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[EndsWithRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=v.useMemo(()=>{if(!e.rule_props)return{};try{return JSON.parse(e.rule_props)}catch(m){return console.warn("[EndsWithRuleComponent] Failed to parse rule_props:",m),{}}},[e.rule_props]),{values:o}=i,[c,d]=v.useState(""),u=v.useRef(!1);v.useEffect(()=>{u.current||(o&&o.length>0&&d(o.join(", ")),u.current=!0)},[o]);const l=m=>{console.debug("[EndsWithRuleComponent] Enabled changed:",m),r(m)},f=m=>{const p=m.target.value;d(p);const x=p.trim()===""?void 0:p.split(",").map(w=>w.trim()).filter(w=>w.length>0),b={...i,values:x},y=Array.isArray(b.values)&&b.values.length>0?JSON.stringify(b):null;s(y)};return n.jsxs("div",{className:"space-y-3 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:`rule-ends-with-${t}`,checked:a,onCheckedChange:l}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-ends-with-${t}`,className:"text-sm font-medium cursor-pointer",children:"Ends With"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"String must end with specified value(s)"})]})]}),a&&n.jsxs("div",{className:"ml-6 space-y-2",children:[n.jsxs(Q,{htmlFor:`ends-with-values-${t}`,className:"text-sm",children:["Suffix Values ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{id:`ends-with-values-${t}`,type:"text",placeholder:"e.g., .com, .org (comma-separated)",value:c,onChange:f,required:a}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter one or more values separated by commas"})]})]})},eTt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[InRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=v.useMemo(()=>{if(!e.rule_props)return{};try{return JSON.parse(e.rule_props)}catch(m){return console.warn("[InRuleComponent] Failed to parse rule_props:",m),{}}},[e.rule_props]),{values:o}=i,[c,d]=v.useState(""),u=v.useRef(!1);v.useEffect(()=>{u.current||(o&&o.length>0&&d(o.join(", ")),u.current=!0)},[o]);const l=m=>{console.debug("[InRuleComponent] Enabled changed:",m),r(m)},f=m=>{const p=m.target.value;d(p);const x=p.trim()===""?void 0:p.split(",").map(w=>w.trim()).filter(w=>w.length>0),b={...i,values:x},y=Array.isArray(b.values)&&b.values.length>0?JSON.stringify(b):null;s(y)};return n.jsxs("div",{className:"space-y-3 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:`rule-in-${t}`,checked:a,onCheckedChange:l}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-in-${t}`,className:"text-sm font-medium cursor-pointer",children:"In"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Field value must be one of the specified values"})]})]}),a&&n.jsxs("div",{className:"ml-6 space-y-2",children:[n.jsxs(Q,{htmlFor:`in-values-${t}`,className:"text-sm",children:["Allowed Values ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{id:`in-values-${t}`,type:"text",placeholder:"e.g., option1, option2, option3",value:c,onChange:f,required:a}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Comma-separated list of allowed values"})]})]})},tTt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[IntegerRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=o=>{console.debug("[IntegerRuleComponent] Enabled changed:",o),r(o),e.rule_props!==null&&s(null)};return n.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsx(dt,{id:`rule-integer-${t}`,checked:a,onCheckedChange:i}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-integer-${t}`,className:"text-sm font-medium cursor-pointer",children:"Integer"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Field must be an integer value (no decimals)"})]})]})},rTt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[JsonRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=o=>{console.debug("[JsonRuleComponent] Enabled changed:",o),r(o),e.rule_props!==null&&s(null)};return n.jsx("div",{className:"space-y-3 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:`rule-json-${t}`,checked:a,onCheckedChange:i}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-json-${t}`,className:"text-sm font-medium cursor-pointer",children:"JSON"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Field must contain valid JSON format"})]})]})})},sTt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[LatitudeRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=o=>{console.debug("[LatitudeRuleComponent] Enabled changed:",o),r(o),e.rule_props!==null&&s(null)};return n.jsx("div",{className:"space-y-3 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:`rule-latitude-${t}`,checked:a,onCheckedChange:i}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-latitude-${t}`,className:"text-sm font-medium cursor-pointer",children:"Latitude"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Must be a valid latitude coordinate (-90 to 90)"})]})]})})},nTt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[LongitudeRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=o=>{console.debug("[LongitudeRuleComponent] Enabled changed:",o),r(o),e.rule_props!==null&&s(null)};return n.jsx("div",{className:"space-y-3 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:`rule-longitude-${t}`,checked:a,onCheckedChange:i}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-longitude-${t}`,className:"text-sm font-medium cursor-pointer",children:"Longitude"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Must be a valid longitude coordinate (-180 to 180)"})]})]})})},aTt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[MaxFileSizeRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=v.useMemo(()=>{if(!e.rule_props)return{};try{return JSON.parse(e.rule_props)}catch(l){return console.warn("[MaxFileSizeRuleComponent] Failed to parse rule_props:",l),{}}},[e.rule_props]),{maxsize:o}=i,c=l=>{console.debug("[MaxFileSizeRuleComponent] Enabled changed:",l),r(l)},d=l=>{const m=l.maxsize!==void 0&&l.maxsize!==null&&!Number.isNaN(l.maxsize)?JSON.stringify(l):null;s(m)},u=l=>{const f=l.target.value,m=f===""||Number.isNaN(Number(f))?void 0:Number(f);d({...i,maxsize:m})};return n.jsxs("div",{className:"space-y-3 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:`rule-max-file-size-${t}`,checked:a,onCheckedChange:c}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-max-file-size-${t}`,className:"text-sm font-medium cursor-pointer",children:"Max File Size"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Maximum file size in kilobytes (e.g., 30MB = 30720)"})]})]}),a&&n.jsxs("div",{className:"ml-6 space-y-2",children:[n.jsxs(Q,{htmlFor:`max-file-size-value-${t}`,className:"text-sm",children:["Max Size (KB) ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{id:`max-file-size-value-${t}`,type:"number",min:"0",step:"1",placeholder:"e.g., 30720 (30MB)",value:o??"",onChange:u,required:a,className:"max-w-xs"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum size in kilobytes (1 MB = 1024 KB, 10 MB = 10240 KB)"})]})]})},iTt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[MaxRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=v.useMemo(()=>{if(!e.rule_props)return{};try{return JSON.parse(e.rule_props)}catch(l){return console.warn("[MaxRuleComponent] Failed to parse rule_props:",l),{}}},[e.rule_props]),{value:o}=i,c=l=>{console.debug("[MaxRuleComponent] Enabled changed:",l),r(l)},d=l=>{const m=l.value!==void 0&&l.value!==null&&!Number.isNaN(l.value)?JSON.stringify(l):null;s(m)},u=l=>{const f=l.target.value;if(f===""){d({...i,value:void 0});return}const m=Number(f);Number.isNaN(m)||d({...i,value:m})};return n.jsxs("div",{className:"space-y-3 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:`rule-max-${t}`,checked:a,onCheckedChange:c}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-max-${t}`,className:"text-sm font-medium cursor-pointer",children:"Maximum"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Field value must not exceed this value"})]})]}),a&&n.jsxs("div",{className:"ml-6 space-y-2",children:[n.jsxs(Q,{htmlFor:`max-value-${t}`,className:"text-sm",children:["Maximum value ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{id:`max-value-${t}`,type:"number",placeholder:"Enter maximum value",value:o??"",onChange:u,required:a,className:"max-w-xs"})]})]})},oTt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[MimesRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=v.useMemo(()=>{if(!e.rule_props)return{};try{return JSON.parse(e.rule_props)}catch(f){return console.warn("[MimesRuleComponent] Failed to parse rule_props:",f),{}}},[e.rule_props]),{types:o}=i,[c,d]=v.useState(()=>o?.join(", ")??"");v.useEffect(()=>{d(o?.join(", ")??"")},[o]);const u=f=>{console.debug("[MimesRuleComponent] Enabled changed:",f),r(f)},l=f=>{const m=f.target.value;d(m);const p=m.trim()===""?void 0:m.split(",").map(y=>y.trim()).filter(y=>y.length>0),x={...i,types:p},h=Array.isArray(x.types)&&x.types.length>0?JSON.stringify(x):null;s(h)};return n.jsxs("div",{className:"space-y-3 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:`rule-mimes-${t}`,checked:a,onCheckedChange:u}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-mimes-${t}`,className:"text-sm font-medium cursor-pointer",children:"Mimes"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"File must be of specified MIME types (e.g., jpg, png, pdf)"})]})]}),a&&n.jsxs("div",{className:"ml-6 space-y-2",children:[n.jsxs(Q,{htmlFor:`mimes-types-${t}`,className:"text-sm",children:["Allowed Types ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{id:`mimes-types-${t}`,type:"text",placeholder:"e.g., jpg, png, pdf, docx",value:c,onChange:l,required:a}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Comma-separated list of allowed file extensions"})]})]})},lTt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[MimeTypesRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=v.useMemo(()=>{if(!e.rule_props)return{};try{return JSON.parse(e.rule_props)}catch(f){return console.warn("[MimeTypesRuleComponent] Failed to parse rule_props:",f),{}}},[e.rule_props]),{types:o}=i,[c,d]=v.useState(()=>o?.join(", ")??"");v.useEffect(()=>{d(o?.join(", ")??"")},[o]);const u=f=>{console.debug("[MimeTypesRuleComponent] Enabled changed:",f),r(f)},l=f=>{const m=f.target.value;d(m);const p=m.trim()===""?void 0:m.split(",").map(y=>y.trim()).filter(y=>y.length>0),x={...i,types:p},h=Array.isArray(x.types)&&x.types.length>0?JSON.stringify(x):null;s(h)};return n.jsxs("div",{className:"space-y-3 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:`rule-mimetypes-${t}`,checked:a,onCheckedChange:u}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-mimetypes-${t}`,className:"text-sm font-medium cursor-pointer",children:"Mime Types"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"File must match specified MIME type patterns"})]})]}),a&&n.jsxs("div",{className:"ml-6 space-y-2",children:[n.jsxs(Q,{htmlFor:`mimetypes-value-${t}`,className:"text-sm",children:["MIME Types ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{id:`mimetypes-value-${t}`,type:"text",placeholder:"e.g., image/jpeg, application/pdf, video/*",value:c,onChange:l,required:a,className:"font-mono text-sm"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Comma-separated MIME type patterns (supports wildcards like image/*, video/*)"})]})]})},cTt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[MinFileSizeRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=v.useMemo(()=>{if(!e.rule_props)return{};try{return JSON.parse(e.rule_props)}catch(l){return console.warn("[MinFileSizeRuleComponent] Failed to parse rule_props:",l),{}}},[e.rule_props]),{minsize:o}=i,c=l=>{console.debug("[MinFileSizeRuleComponent] Enabled changed:",l),r(l)},d=l=>{const m=l.minsize!==void 0&&l.minsize!==null&&!Number.isNaN(l.minsize)?JSON.stringify(l):null;s(m)},u=l=>{const f=l.target.value,m=f===""||Number.isNaN(Number(f))?void 0:Number(f);d({...i,minsize:m})};return n.jsxs("div",{className:"space-y-3 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:`rule-min-file-size-${t}`,checked:a,onCheckedChange:c}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-min-file-size-${t}`,className:"text-sm font-medium cursor-pointer",children:"Min File Size"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Minimum file size in kilobytes"})]})]}),a&&n.jsxs("div",{className:"ml-6 space-y-2",children:[n.jsxs(Q,{htmlFor:`min-file-size-value-${t}`,className:"text-sm",children:["Min Size (KB) ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{id:`min-file-size-value-${t}`,type:"number",min:"0",step:"1",placeholder:"e.g., 100",value:o??"",onChange:u,required:a,className:"max-w-xs"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimum size in kilobytes (1 MB = 1024 KB)"})]})]})},dTt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[MinRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=v.useMemo(()=>{if(!e.rule_props)return{};try{return JSON.parse(e.rule_props)}catch(l){return console.warn("[MinRuleComponent] Failed to parse rule_props:",l),{}}},[e.rule_props]),{value:o}=i,c=l=>{console.debug("[MinRuleComponent] Enabled changed:",l),r(l)},d=l=>{const m=l.value!==void 0&&l.value!==null&&!Number.isNaN(l.value)?JSON.stringify(l):null;s(m)},u=l=>{const f=l.target.value;if(f===""){d({...i,value:void 0});return}const m=Number(f);Number.isNaN(m)||d({...i,value:m})};return n.jsxs("div",{className:"space-y-3 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:`rule-min-${t}`,checked:a,onCheckedChange:c}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-min-${t}`,className:"text-sm font-medium cursor-pointer",children:"Minimum"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Field value must be at least this value"})]})]}),a&&n.jsxs("div",{className:"ml-6 space-y-2",children:[n.jsxs(Q,{htmlFor:`min-value-${t}`,className:"text-sm",children:["Minimum value ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{id:`min-value-${t}`,type:"number",placeholder:"Enter minimum value",value:o??"",onChange:u,required:a,className:"max-w-xs"})]})]})},uTt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[NotInRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=v.useMemo(()=>{if(!e.rule_props)return{};try{return JSON.parse(e.rule_props)}catch(m){return console.warn("[NotInRuleComponent] Failed to parse rule_props:",m),{}}},[e.rule_props]),{values:o}=i,[c,d]=v.useState(""),u=v.useRef(!1);v.useEffect(()=>{u.current||(o&&o.length>0&&d(o.join(", ")),u.current=!0)},[o]);const l=m=>{console.debug("[NotInRuleComponent] Enabled changed:",m),r(m)},f=m=>{const p=m.target.value;d(p);const x=p.trim()===""?void 0:p.split(",").map(w=>w.trim()).filter(w=>w.length>0),b={...i,values:x},y=Array.isArray(b.values)&&b.values.length>0?JSON.stringify(b):null;s(y)};return n.jsxs("div",{className:"space-y-3 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:`rule-not-in-${t}`,checked:a,onCheckedChange:l}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-not-in-${t}`,className:"text-sm font-medium cursor-pointer",children:"Not In"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Field value must NOT be one of the specified values"})]})]}),a&&n.jsxs("div",{className:"ml-6 space-y-2",children:[n.jsxs(Q,{htmlFor:`not-in-values-${t}`,className:"text-sm",children:["Disallowed Values ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{id:`not-in-values-${t}`,type:"text",placeholder:"e.g., banned1, banned2, banned3",value:c,onChange:f,required:a}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Comma-separated list of values that are NOT allowed"})]})]})},fTt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[NumericRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=o=>{console.debug("[NumericRuleComponent] Enabled changed:",o),r(o),e.rule_props!==null&&s(null)};return n.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsx(dt,{id:`rule-numeric-${t}`,checked:a,onCheckedChange:i}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-numeric-${t}`,className:"text-sm font-medium cursor-pointer",children:"Numeric"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Field must be a numeric value"})]})]})},mTt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[RegexRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=v.useMemo(()=>{if(!e.rule_props)return{};try{return JSON.parse(e.rule_props)}catch(u){return console.warn("[RegexRuleComponent] Failed to parse rule_props:",u),{}}},[e.rule_props]),{pattern:o}=i,c=u=>{console.debug("[RegexRuleComponent] Enabled changed:",u),r(u)},d=u=>{const l=u.target.value.trim();console.debug("[RegexRuleComponent] pattern changed:",l);const f={...i,pattern:l===""?void 0:l},p=f.pattern!==void 0&&f.pattern!==null&&f.pattern!==""?JSON.stringify(f):null;s(p)};return n.jsxs("div",{className:"space-y-3 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:`rule-regex-${t}`,checked:a,onCheckedChange:c}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-regex-${t}`,className:"text-sm font-medium cursor-pointer",children:"Regex"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Field must match the regular expression pattern"})]})]}),a&&n.jsxs("div",{className:"ml-6 space-y-2",children:[n.jsxs(Q,{htmlFor:`regex-pattern-${t}`,className:"text-sm",children:["Pattern ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{id:`regex-pattern-${t}`,type:"text",placeholder:"e.g., ^[A-Z0-9]+$",value:o??"",onChange:d,required:a,className:"max-w-md font-mono text-sm"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter a valid regular expression pattern"})]})]})},hTt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[RequiredRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=o=>{console.debug("[RequiredRuleComponent] Enabled changed:",o),r(o),e.rule_props!==null&&s(null)};return n.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsx(dt,{id:`rule-required-${t}`,checked:a,onCheckedChange:i}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-required-${t}`,className:"text-sm font-medium cursor-pointer",children:"Required"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Field must have a value"})]})]})},pTt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[SameRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=v.useMemo(()=>{if(!e.rule_props)return{};try{return JSON.parse(e.rule_props)}catch(u){return console.warn("[SameRuleComponent] Failed to parse rule_props:",u),{}}},[e.rule_props]),{comparevalue:o}=i,c=u=>{console.debug("[SameRuleComponent] Enabled changed:",u),r(u)},d=u=>{const l=u.target.value.trim();console.debug("[SameRuleComponent] comparevalue changed:",l);const f={...i,comparevalue:l===""?void 0:l},p=f.comparevalue!==void 0&&f.comparevalue!==null&&f.comparevalue!==""?JSON.stringify(f):null;s(p)};return n.jsxs("div",{className:"space-y-3 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:`rule-same-${t}`,checked:a,onCheckedChange:c}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-same-${t}`,className:"text-sm font-medium cursor-pointer",children:"Same"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Field must match another field"})]})]}),a&&n.jsxs("div",{className:"ml-6 space-y-2",children:[n.jsxs(Q,{htmlFor:`same-field-${t}`,className:"text-sm",children:["Field to Match ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{id:`same-field-${t}`,type:"text",placeholder:"e.g., password, email",value:o??"",onChange:d,required:a}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the name or identifier of the field to compare with"})]})]})},gTt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[SizeRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=v.useMemo(()=>{if(!e.rule_props)return{};try{return JSON.parse(e.rule_props)}catch(l){return console.warn("[SizeRuleComponent] Failed to parse rule_props:",l),{}}},[e.rule_props]),{size:o}=i,c=l=>{console.debug("[SizeRuleComponent] Enabled changed:",l),r(l)},d=l=>{const m=l.size!==void 0&&l.size!==null&&!Number.isNaN(l.size)?JSON.stringify(l):null;s(m)},u=l=>{const f=l.target.value,m=f===""||Number.isNaN(Number(f))?void 0:Number(f);d({...i,size:m})};return n.jsxs("div",{className:"space-y-3 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:`rule-size-${t}`,checked:a,onCheckedChange:c}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-size-${t}`,className:"text-sm font-medium cursor-pointer",children:"Size"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"File size must be equal to specified size in kilobytes"})]})]}),a&&n.jsxs("div",{className:"ml-6 space-y-2",children:[n.jsxs(Q,{htmlFor:`size-value-${t}`,className:"text-sm",children:["Size (KB) ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{id:`size-value-${t}`,type:"number",min:"0",step:"1",placeholder:"e.g., 1024",value:o??"",onChange:u,required:a,className:"max-w-xs"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Exact file size in kilobytes (1 MB = 1024 KB)"})]})]})},xTt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[StartsWithRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=v.useMemo(()=>{if(!e.rule_props)return{};try{return JSON.parse(e.rule_props)}catch(m){return console.warn("[StartsWithRuleComponent] Failed to parse rule_props:",m),{}}},[e.rule_props]),{values:o}=i,[c,d]=v.useState(""),u=v.useRef(!1);v.useEffect(()=>{u.current||(o&&o.length>0&&d(o.join(", ")),u.current=!0)},[o]);const l=m=>{console.debug("[StartsWithRuleComponent] Enabled changed:",m),r(m)},f=m=>{const p=m.target.value;d(p);const x=p.trim()===""?void 0:p.split(",").map(w=>w.trim()).filter(w=>w.length>0),b={...i,values:x},y=Array.isArray(b.values)&&b.values.length>0?JSON.stringify(b):null;s(y)};return n.jsxs("div",{className:"space-y-3 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:`rule-starts-with-${t}`,checked:a,onCheckedChange:l}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-starts-with-${t}`,className:"text-sm font-medium cursor-pointer",children:"Starts With"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"String must start with specified value(s)"})]})]}),a&&n.jsxs("div",{className:"ml-6 space-y-2",children:[n.jsxs(Q,{htmlFor:`starts-with-values-${t}`,className:"text-sm",children:["Prefix Values ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{id:`starts-with-values-${t}`,type:"text",placeholder:"e.g., http, https (comma-separated)",value:c,onChange:f,required:a}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter one or more values separated by commas"})]})]})},vTt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[UniqueRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=o=>{console.debug("[UniqueRuleComponent] Enabled changed:",o),r(o),e.rule_props!==null&&s(null)};return n.jsx("div",{className:"space-y-3 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dt,{id:`rule-unique-${t}`,checked:a,onCheckedChange:i}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-unique-${t}`,className:"text-sm font-medium cursor-pointer",children:"Unique"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Value must be unique across all entries"})]})]})})},yTt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{console.debug("[UrlRuleComponent] Rendering for rule:",e.input_rule_id);const a=e.input_rule_id!==null&&e.input_rule_id!==void 0,i=o=>{console.debug("[UrlRuleComponent] Enabled changed:",o),r(o),e.rule_props!==null&&s(null)};return n.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-md hover:bg-accent/50 transition-colors",children:[n.jsx(dt,{id:`rule-url-${t}`,checked:a,onCheckedChange:i}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Q,{htmlFor:`rule-url-${t}`,className:"text-sm font-medium cursor-pointer",children:"URL"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Field must be a valid URL"})]})]})},bTt=({rule:e,ruleIndex:t,onEnabledChange:r,onRulePropsChange:s})=>{const a=e.input_rule_id!==null&&e.input_rule_id!==void 0;return n.jsxs("div",{className:"p-3 border border-dashed border-gray-300 rounded-md bg-gray-50",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("input",{type:"checkbox",id:`rule-${t}`,checked:a,onChange:i=>r(i.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("div",{className:"flex-1",children:n.jsx("label",{htmlFor:`rule-${t}`,className:"text-sm font-medium text-gray-900 cursor-pointer",children:"Rule"})})]}),a&&n.jsx("div",{className:"ml-6 mt-2",children:n.jsx($At,{id:`rule-props-${t}`,label:"Rule Props (JSON)",value:e.rule_props,onChange:i=>s(i)})})]})},wTt={after:LAt,after_or_equal:BAt,alpha_dash:zAt,alpha_num:UAt,alpha:HAt,before:VAt,before_or_equal:WAt,between:qAt,confirmed:GAt,date_format:YAt,date:KAt,different:ZAt,dimensions:XAt,email:JAt,ends_with:QAt,in:eTt,integer:tTt,json:rTt,latitude:sTt,longitude:nTt,max_file_size:aTt,max:iTt,mimes:oTt,mimetypes:lTt,min_file_size:cTt,min:dTt,not_in:uTt,numeric:fTt,regex:mTt,required:hTt,same:pTt,size:gTt,starts_with:xTt,unique:vTt,url:yTt},jTt=e=>{const t=wTt[e];return t||(console.warn(`[RuleComponentRegistry] No component registered for rule "${e}", using default`),bTt)},STt=({field:e,onRulesChange:t})=>{const{items:r,loading:s,error:a}=gpe();console.debug("[FieldRulesManager] Rendering for field:",e.id),v.useEffect(()=>{console.debug("[FieldRulesManager] Input rules status:",{loading:s,count:r.length})},[s,r.length]);const i=v.useMemo(()=>{const f=r.filter(m=>m.field_types?.some(p=>p.id===e.field_type_id));return console.debug("[FieldRulesManager] Applicable rules for field type",e.field_type_id,":",f.length),f},[r,e.field_type_id]),o=f=>e.rules.find(m=>m.input_rule_id===f),c=f=>e.rules.some(m=>m.input_rule_id===f),d=(f,m)=>{console.debug("[FieldRulesManager] Rule enabled change:",f,m);let p;if(m)if(c(f))p=e.rules;else{const x={input_rule_id:f,rule_props:null,rule_condition:null};p=[...e.rules,x]}else p=e.rules.filter(x=>x.input_rule_id!==f);t(p)},u=(f,m)=>{console.debug("[FieldRulesManager] Rule props change:",f,m);const p=e.rules.map(x=>x.input_rule_id===f?{...x,rule_props:m}:x);t(p)},l=(f,m)=>{console.debug("[FieldRulesManager] Rule condition change:",f,m);const p=e.rules.map(x=>x.input_rule_id===f?{...x,rule_condition:m}:x);t(p)};return s?n.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-500",children:[n.jsx(at,{className:"h-5 w-5 animate-spin mr-2"}),n.jsx("span",{className:"text-sm",children:"Loading validation rules..."})]}):a?n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsxs(Ye,{children:[n.jsx("strong",{children:"Error loading rules:"})," ",a]})]}):i.length===0?n.jsxs(Ge,{children:[n.jsx(ws,{className:"h-4 w-4"}),n.jsx(Ye,{className:"text-xs",children:"No validation rules are available for this field type."})]}):n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[n.jsxs("span",{children:[i.length," rule",i.length!==1?"s":""," available"]}),e.rules.length>0&&n.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[n.jsx(CE,{className:"h-3 w-3"}),n.jsxs("span",{children:[e.rules.length," enabled"]})]})]}),n.jsx("div",{className:"space-y-2",children:i.map((f,m)=>{const p=jTt(f.name),b=o(f.id)||{input_rule_id:null,rule_props:null,rule_condition:null};return n.jsx(p,{rule:b,ruleIndex:m,onEnabledChange:h=>d(f.id,h),onRulePropsChange:h=>u(f.id,h),onRuleConditionChange:h=>l(f.id,h)},f.id)})}),n.jsx("div",{className:"pt-2 border-t",children:n.jsx("p",{className:"text-xs text-gray-500",children:" Enable rules by checking the boxes. Configure rule-specific properties as needed."})})]})},NTt=({stageId:e,sectionId:t,fieldId:r})=>{const s=ur(),a=B2t(e,t,r);if(console.debug("[FieldEditor] Rendering for field:",r),!a)return console.warn("[FieldEditor] Field not found:",r),n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:"Field not found. It may have been deleted."})]});const i=l=>{console.debug("[FieldEditor] Field change:",l),s.updateField(e,t,r,l)},o=()=>{window.confirm(`Are you sure you want to delete the field "${a.label}"? This cannot be undone.`)&&(console.info("[FieldEditor] Deleting field:",r),s.removeField(e,t,r))},c=MAt(a.field_type_id),u=s.stages.find(l=>l.id===e)?.sections.find(l=>l.id===t)?.fields.findIndex(l=>l.id===r)??0;return n.jsxs("div",{className:"space-y-4",children:[wb(a.id)&&n.jsxs(Ge,{className:"bg-orange-50 border-orange-200",children:[n.jsx(Je,{className:"h-4 w-4 text-orange-600"}),n.jsx(Ye,{className:"text-orange-900 text-xs",children:"This is a new field. Save the form to persist it to the database."})]}),n.jsx("div",{children:n.jsx(c,{field:a,fieldIndex:u,onFieldChange:i,onDelete:o})}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h5",{className:"text-sm font-medium text-gray-900 mb-3",children:"Field Validation Rules"}),n.jsx(STt,{field:a,onRulesChange:l=>i({rules:l})})]}),n.jsxs("div",{className:"border-t pt-4 flex items-center justify-between",children:[n.jsxs("div",{className:"text-xs text-gray-500",children:["Field ID: ",a.id," | Type: ",a.field_type_id]}),n.jsxs(W,{onClick:o,variant:"destructive",size:"sm",className:"gap-2",children:[n.jsx(kt,{className:"h-4 w-4"}),"Delete Field"]})]})]})},CTt=({onSelect:e,onCancel:t})=>{const{fieldTypes:r,isLoading:s,error:a,ensureLoaded:i}=G$(),[o,c]=v.useState("");console.debug("[FieldTypeSelector] Rendering"),v.useEffect(()=>{console.debug("[FieldTypeSelector] Ensuring field types loaded"),i()},[i]);const d=r.filter(m=>m.name.toLowerCase().includes(o.toLowerCase())),u=m=>{console.info("[FieldTypeSelector] Field type selected:",m.id,m.name),e(m.id)},l=m=>{c(m.target.value)},f=()=>{c("")};return n.jsxs("div",{className:"space-y-3 p-3 border border-blue-200 rounded-md bg-blue-50",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Select Field Type"}),n.jsx(W,{onClick:t,variant:"ghost",size:"sm",className:"h-7 px-2 text-gray-500 hover:text-gray-700",children:n.jsx(Kr,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"relative",children:[n.jsx(nl,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ne,{type:"text",placeholder:"Search field types...",value:o,onChange:l,className:"pl-8 pr-8 h-9"}),o&&n.jsx("button",{onClick:f,className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n.jsx(Kr,{className:"h-4 w-4"})})]}),s&&n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(at,{className:"h-6 w-6 animate-spin text-blue-600"}),n.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Loading field types..."})]}),a&&!s&&n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsxs(Ye,{children:[n.jsx("strong",{children:"Error loading field types:"})," ",a]})]}),!s&&!a&&n.jsx("div",{className:"max-h-64 overflow-y-auto space-y-1",children:d.length>0?d.map(m=>n.jsxs("button",{onClick:()=>u(m),className:"w-full text-left px-3 py-2 text-sm rounded-md hover:bg-blue-100 transition-colors border border-transparent hover:border-blue-300",children:[n.jsx("div",{className:"font-medium text-gray-900",children:m.name}),n.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:["Field Type ID: ",m.id]})]},m.id)):n.jsx("div",{className:"text-center py-4 text-sm text-gray-500",children:o?`No field types match "${o}"`:"No field types available"})}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-blue-200",children:[n.jsxs("p",{className:"text-xs text-gray-600",children:[d.length," field type",d.length!==1?"s":""," ",o&&"found"]}),n.jsx(W,{onClick:t,variant:"outline",size:"sm",children:"Cancel"})]})]})},_Tt=()=>{const e=ur(),[t,r]=v.useState(!1);console.debug("[FieldConfigTab] Rendering");const s=e.selectedStageId||e.stages[0]?.id||null,a=e.stages.find(S=>String(S.id)===String(s)),i=a?.sections||[],o=e.selectedSectionId||i[0]?.id||null,c=i.find(S=>String(S.id)===String(o)),{fields:d,selectedFieldId:u,setSelected:l}=L2t(s,o);v.useEffect(()=>{!e.selectedStageId&&e.stages.length>0&&(console.debug("[FieldConfigTab] Auto-selecting first stage on mount"),e.setSelectedStageId(e.stages[0].id))},[e.stages.length]);const f=i.some(S=>String(S.id)===String(o));v.useEffect(()=>{s&&i.length>0&&(!o||!f)&&(console.debug("[FieldConfigTab] Auto-selecting first section"),e.setSelectedSectionId(i[0].id))},[s,i,o,f]);const m=S=>{console.debug("[FieldConfigTab] Stage selection changed:",S);const N=e.stages.find(_=>String(_.id)===S);N&&e.setSelectedStageId(N.id)},p=S=>{console.debug("[FieldConfigTab] Section selection changed:",S);const N=i.find(_=>String(_.id)===S);N&&e.setSelectedSectionId(N.id)},x=()=>{console.debug("[FieldConfigTab] Opening field type selector"),r(!0)},b=S=>{if(!s||!o){console.warn("[FieldConfigTab] Cannot add field: No stage or section selected");return}console.info("[FieldConfigTab] Adding field with type",S),e.addField(s,o,S),r(!1)},h=S=>{console.debug("[FieldConfigTab] Field selected:",S),l(S)},y=s!==null?String(s):"",w=o!==null?String(o):"";return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Section Fields"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Manage fields for the selected section"})]}),e.stages.length>0?n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Select Stage"}),n.jsxs(xt,{value:y,onValueChange:m,children:[n.jsx(ft,{className:"w-full",children:n.jsx(vt,{placeholder:"Select a stage",children:a?`${a.name}${a.is_initial?" (Initial)":""}`:"Select a stage"})}),n.jsx(mt,{children:e.stages.map(S=>n.jsxs(Ue,{value:String(S.id),children:[S.name," ",S.is_initial&&"(Initial)"]},S.id))})]})]}):n.jsxs(Ge,{children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:"No stages defined. Please add stages first in the Stages tab."})]}),s&&i.length>0?n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Select Section"}),n.jsxs(xt,{value:w,onValueChange:p,children:[n.jsx(ft,{className:"w-full",children:n.jsx(vt,{placeholder:"Select a section",children:c?c.name:"Select a section"})}),n.jsx(mt,{children:i.map(S=>n.jsx(Ue,{value:String(S.id),children:S.name},S.id))})]})]}):s?n.jsxs(Ge,{children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:"No sections in this stage. Add sections in the Sections tab."})]}):null]}),s&&o&&n.jsx("div",{children:t?n.jsx(CTt,{onSelect:b,onCancel:()=>r(!1)}):n.jsxs(W,{onClick:x,size:"sm",className:"w-full gap-2",children:[n.jsx(Yt,{className:"h-4 w-4"}),"Add Field to ",c?.name]})}),s&&o&&d.length===0&&!t&&n.jsxs(Ge,{children:[n.jsx(kFe,{className:"h-4 w-4"}),n.jsx(Ye,{children:"No fields in this section. Add your first field to get started."})]}),s&&o&&d.length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"border-t pt-3",children:[n.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-2",children:"Fields"}),n.jsx(ukt,{stageId:s,sectionId:o,fields:d,selectedFieldId:u,onFieldSelect:h})]}),u&&n.jsxs("div",{className:"border-t pt-3",children:[n.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-2",children:"Edit Field"}),n.jsx(NTt,{stageId:s,sectionId:o,fieldId:u})]})]})]})},ETt=({value:e,onChange:t,actionIndex:r})=>{console.debug("[CallWebhookActionConfig] Rendering for action",r);const s=(u,l)=>{t({...e,[u]:l})},a=Object.entries(e.webhookHeaders||{}),i=()=>{const u={...e.webhookHeaders||{}};u[""]="",s("webhookHeaders",u)},o=(u,l,f)=>{const m={...e.webhookHeaders||{}};u!==l&&delete m[u],m[l]=f,s("webhookHeaders",m)},c=u=>{const l={...e.webhookHeaders||{}};delete l[u],s("webhookHeaders",l)},d=u=>{try{const l=JSON.parse(u);s("webhookPayload",l)}catch{console.debug("[CallWebhookActionConfig] Invalid JSON, waiting for valid input")}};return n.jsxs("div",{className:"space-y-4 p-4 border rounded-md bg-muted/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(rBe,{className:"h-4 w-4 text-blue-600"}),n.jsx(Ae,{variant:"secondary",className:"text-xs",children:"Call Webhook"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Action ",r+1]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs(Q,{className:"text-xs font-medium",children:["Webhook URL ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.webhookUrl||"",onChange:u=>s("webhookUrl",u.target.value),placeholder:"https://api.example.com/webhook",className:"h-9 text-xs",type:"url"}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Full URL of the webhook endpoint to call"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{className:"text-xs font-medium",children:"HTTP Method"}),n.jsxs(xt,{value:e.webhookMethod||"POST",onValueChange:u=>s("webhookMethod",u),children:[n.jsx(ft,{className:"w-full h-9 text-xs",children:n.jsx(vt,{placeholder:"Select method"})}),n.jsxs(mt,{children:[n.jsx(Ue,{value:"GET",className:"text-xs",children:"GET"}),n.jsx(Ue,{value:"POST",className:"text-xs",children:"POST"}),n.jsx(Ue,{value:"PUT",className:"text-xs",children:"PUT"}),n.jsx(Ue,{value:"PATCH",className:"text-xs",children:"PATCH"}),n.jsx(Ue,{value:"DELETE",className:"text-xs",children:"DELETE"})]})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{className:"text-xs font-medium",children:"Headers (Optional)"}),n.jsxs("div",{className:"space-y-2",children:[a.map(([u,l],f)=>n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ne,{value:u,onChange:m=>o(u,m.target.value,l),placeholder:"Header name",className:"h-8 text-xs flex-1"}),n.jsx(ne,{value:l,onChange:m=>o(u,u,m.target.value),placeholder:"Header value",className:"h-8 text-xs flex-1"}),n.jsx(W,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>c(u),children:n.jsx(Kr,{className:"h-4 w-4"})})]},f)),n.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:i,className:"text-xs h-8",children:"Add Header"})]}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Custom HTTP headers to include with the request"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{className:"text-xs font-medium",children:"Payload (JSON)"}),n.jsx(Ht,{value:e.webhookPayload?JSON.stringify(e.webhookPayload,null,2):"",onChange:u=>d(u.target.value),placeholder:`{
  "formName": "{formName}",
  "entryId": "{entryId}"
}`,className:"min-h-[120px] text-xs font-mono"}),n.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["JSON payload to send. Supports variables: ",n.jsx("code",{className:"text-[9px] bg-muted px-1 rounded",children:"{entryLink}"}),","," ",n.jsx("code",{className:"text-[9px] bg-muted px-1 rounded",children:"{formName}"}),","," ",n.jsx("code",{className:"text-[9px] bg-muted px-1 rounded",children:"{entryId}"}),","," ",n.jsx("code",{className:"text-[9px] bg-muted px-1 rounded",children:"{userName}"})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{className:"text-xs font-medium",children:"Timeout (seconds)"}),n.jsx(ne,{type:"number",value:e.webhookTimeout??30,onChange:u=>s("webhookTimeout",Number(u.target.value)),placeholder:"30",className:"h-9 text-xs",min:1,max:300}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Maximum time to wait for webhook response (1-300 seconds)"})]})]})},kTt=({value:e,onChange:t,actionIndex:r})=>{console.debug("[SendEmailActionConfig] Rendering for action",r);const s=(c,d)=>{t({...e,[c]:d})},a=c=>{const d=e[c]||[];s(c,[...d,""])},i=(c,d,u)=>{const l=[...e[c]||[]];l[d]=u,s(c,l)},o=(c,d)=>{const u=[...e[c]||[]];u.splice(d,1),s(c,u)};return n.jsxs("div",{className:"space-y-4 p-4 border rounded-md bg-muted/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(sl,{className:"h-4 w-4 text-green-600"}),n.jsx(Ae,{variant:"secondary",className:"text-xs",children:"Send Email"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Action ",r+1]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs(Q,{className:"text-xs font-medium",children:["Email Subject ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.emailSubject||"",onChange:c=>s("emailSubject",c.target.value),placeholder:"e.g., Form Submission Received",className:"h-9 text-xs"}),n.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Supports variables: ",n.jsx("code",{className:"text-[9px] bg-muted px-1 rounded",children:"{entryLink}"}),","," ",n.jsx("code",{className:"text-[9px] bg-muted px-1 rounded",children:"{formName}"}),","," ",n.jsx("code",{className:"text-[9px] bg-muted px-1 rounded",children:"{userName}"})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs(Q,{className:"text-xs font-medium",children:["Email Content ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(Ht,{value:e.emailContent||"",onChange:c=>s("emailContent",c.target.value),placeholder:"Email body content...",className:"min-h-[100px] text-xs font-mono"}),n.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["HTML supported. Use variables like ",n.jsx("code",{className:"text-[9px] bg-muted px-1 rounded",children:"{entryLink}"}),","," ",n.jsx("code",{className:"text-[9px] bg-muted px-1 rounded",children:"{formName}"}),","," ",n.jsx("code",{className:"text-[9px] bg-muted px-1 rounded",children:"{userName}"}),","," ",n.jsx("code",{className:"text-[9px] bg-muted px-1 rounded",children:"{field_X}"})," (where X is field ID)"]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs(Q,{className:"text-xs font-medium",children:["Recipient Emails ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"space-y-2",children:[(e.receiversEmails||[]).map((c,d)=>n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ne,{value:c,onChange:u=>i("receiversEmails",d,u.target.value),placeholder:"email@example.com or {field_2}",className:"h-8 text-xs flex-1",type:"email"}),n.jsx(W,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>o("receiversEmails",d),children:n.jsx(Kr,{className:"h-4 w-4"})})]},d)),n.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>a("receiversEmails"),className:"text-xs h-8",children:"Add Recipient Email"})]}),n.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Can use field variables like ",n.jsx("code",{className:"text-[9px] bg-muted px-1 rounded",children:"{field_2}"})," to dynamically get email from form field"]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{className:"text-xs font-medium",children:"Receiver Roles (JSON Array)"}),n.jsx(ne,{value:e.receiversRoles?JSON.stringify(e.receiversRoles):"",onChange:c=>{try{const d=JSON.parse(c.target.value);Array.isArray(d)&&s("receiversRoles",d)}catch{}},placeholder:"e.g., [2, 3]",className:"h-9 text-xs font-mono"}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:"JSON array of role IDs to send email to, e.g., [2, 3]"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{className:"text-xs font-medium",children:"CC Emails (Optional)"}),n.jsxs("div",{className:"space-y-2",children:[(e.ccEmails||[]).map((c,d)=>n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ne,{value:c,onChange:u=>i("ccEmails",d,u.target.value),placeholder:"email@example.com",className:"h-8 text-xs flex-1",type:"email"}),n.jsx(W,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>o("ccEmails",d),children:n.jsx(Kr,{className:"h-4 w-4"})})]},d)),n.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>a("ccEmails"),className:"text-xs h-8",children:"Add CC Email"})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{className:"text-xs font-medium",children:"BCC Emails (Optional)"}),n.jsxs("div",{className:"space-y-2",children:[(e.bccEmails||[]).map((c,d)=>n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ne,{value:c,onChange:u=>i("bccEmails",d,u.target.value),placeholder:"email@example.com",className:"h-8 text-xs flex-1",type:"email"}),n.jsx(W,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>o("bccEmails",d),children:n.jsx(Kr,{className:"h-4 w-4"})})]},d)),n.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>a("bccEmails"),className:"text-xs h-8",children:"Add BCC Email"})]})]})]})},ATt=({value:e,onChange:t,actionIndex:r})=>{console.debug("[SendNotificationActionConfig] Rendering for action",r);const s=(a,i)=>{t({...e,[a]:i})};return n.jsxs("div",{className:"space-y-4 p-4 border rounded-md bg-muted/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(_Fe,{className:"h-4 w-4 text-purple-600"}),n.jsx(Ae,{variant:"secondary",className:"text-xs",children:"Send Notification"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Action ",r+1]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs(Q,{className:"text-xs font-medium",children:["Notification Title ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.notificationTitle||"",onChange:a=>s("notificationTitle",a.target.value),placeholder:"e.g., New Submission",className:"h-9 text-xs"}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Short title for the notification"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs(Q,{className:"text-xs font-medium",children:["Notification Body ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(Ht,{value:e.notificationBody||"",onChange:a=>s("notificationBody",a.target.value),placeholder:"Notification content...",className:"min-h-[80px] text-xs"}),n.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Supports variables: ",n.jsx("code",{className:"text-[9px] bg-muted px-1 rounded",children:"{entryLink}"}),","," ",n.jsx("code",{className:"text-[9px] bg-muted px-1 rounded",children:"{formName}"}),","," ",n.jsx("code",{className:"text-[9px] bg-muted px-1 rounded",children:"{userName}"})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{className:"text-xs font-medium",children:"Notification Type"}),n.jsxs(xt,{value:e.notificationType||"info",onValueChange:a=>s("notificationType",a),children:[n.jsx(ft,{className:"w-full h-9 text-xs",children:n.jsx(vt,{placeholder:"Select type"})}),n.jsxs(mt,{children:[n.jsx(Ue,{value:"info",className:"text-xs",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-blue-600",children:""}),n.jsx("span",{children:"Info"})]})}),n.jsx(Ue,{value:"success",className:"text-xs",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-green-600",children:""}),n.jsx("span",{children:"Success"})]})}),n.jsx(Ue,{value:"warning",className:"text-xs",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-yellow-600",children:""}),n.jsx("span",{children:"Warning"})]})}),n.jsx(Ue,{value:"error",className:"text-xs",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-red-600",children:""}),n.jsx("span",{children:"Error"})]})})]})]}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Visual style of the notification"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{className:"text-xs font-medium",children:"Icon (Optional)"}),n.jsx(ne,{value:e.notificationIcon||"",onChange:a=>s("notificationIcon",a.target.value),placeholder:"e.g., bell, check, alert",className:"h-9 text-xs"}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Icon name to display (system-dependent)"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{className:"text-xs font-medium",children:"Link (Optional)"}),n.jsx(ne,{value:e.notificationLink||"",onChange:a=>s("notificationLink",a.target.value),placeholder:"e.g., /entries/{entryId}",className:"h-9 text-xs"}),n.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["URL to navigate when notification is clicked. Supports variables like"," ",n.jsx("code",{className:"text-[9px] bg-muted px-1 rounded",children:"{entryId}"})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{className:"text-xs font-medium",children:"Receiver Roles (JSON Array)"}),n.jsx(ne,{value:e.receiversRoles?JSON.stringify(e.receiversRoles):"",onChange:a=>{try{const i=JSON.parse(a.target.value);Array.isArray(i)&&s("receiversRoles",i)}catch{}},placeholder:"e.g., [2, 3]",className:"h-9 text-xs font-mono"}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:"JSON array of role IDs to receive notification, e.g., [2, 3]"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{className:"text-xs font-medium",children:"Receiver Users (JSON Array)"}),n.jsx(ne,{value:e.receiversUsers?JSON.stringify(e.receiversUsers):"",onChange:a=>{try{const i=JSON.parse(a.target.value);Array.isArray(i)&&s("receiversUsers",i)}catch{}},placeholder:"e.g., [1, 5, 10]",className:"h-9 text-xs font-mono"}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:"JSON array of user IDs to receive notification, e.g., [1, 5, 10]"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{className:"text-xs font-medium",children:"Receiver Permissions (JSON Array)"}),n.jsx(ne,{value:e.receiversPermissions?JSON.stringify(e.receiversPermissions):"",onChange:a=>{try{const i=JSON.parse(a.target.value);Array.isArray(i)&&s("receiversPermissions",i)}catch{}},placeholder:"e.g., [1, 2]",className:"h-9 text-xs font-mono"}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:"JSON array of permission IDs to receive notification"})]})]})},TTt=({value:e,onChange:t,actionIndex:r})=>n.jsxs("div",{className:"p-4 border border-dashed border-gray-300 rounded-md bg-gray-50",children:[n.jsxs("div",{className:"mb-3",children:[n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Unknown Action Type (Action ",r+1,")"]}),n.jsx("p",{className:"text-xs text-gray-500",children:"No configuration component registered for this action type"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Action Properties (JSON)"}),n.jsx("textarea",{value:JSON.stringify(e,null,2),onChange:s=>{try{const a=JSON.parse(s.target.value);t(a)}catch(a){console.warn("[DefaultActionConfig] Invalid JSON:",a)}},rows:8,className:"w-full px-3 py-2 text-xs font-mono border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsx("p",{className:"mt-3 text-xs text-gray-500",children:" Register a custom config component for this action type in actionComponentRegistry.ts"})]}),DTt={"Call Webhook":ETt,"Send Email":kTt,"Send Notification":ATt},PTt=e=>{const t=DTt[e];return t||(console.warn(`[ActionComponentRegistry] No component registered for action type "${e}", using default`),TTt)},aI=e=>{switch(e){case"Send Email":return"";case"Send Notification":return"";case"Call Webhook":return"";default:return""}},RTt=({transition:e,isSelected:t,fromStageName:r,toStageName:s,onSelect:a,onDelete:i})=>{console.debug("[TransitionItem] Rendering transition:",e.id);const o=wb(e.id),c=e.actions.length>0;return n.jsxs("div",{onClick:a,className:`
        relative p-3 border rounded-lg cursor-pointer transition-all
        ${t?"border-blue-500 bg-blue-50 shadow-sm":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}
      `,children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-xs font-medium text-gray-700 truncate",children:r}),n.jsx(SE,{className:"h-3 w-3 text-gray-400 flex-shrink-0"}),n.jsx("span",{className:"text-xs font-medium text-gray-700 truncate",children:s})]}),n.jsx("div",{className:"mb-2",children:n.jsx("span",{className:"text-sm font-semibold text-gray-900",children:e.label})}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.to_complete&&n.jsxs(Ae,{variant:"default",className:"text-[10px] gap-1",children:[n.jsx(bs,{className:"h-3 w-3"}),"Completes Workflow"]}),c&&n.jsxs(Ae,{variant:"outline",className:"text-[10px]",children:[e.actions.length," action",e.actions.length!==1?"s":""]}),e.condition&&n.jsx(Ae,{variant:"outline",className:"text-[10px] text-purple-600 border-purple-300",children:"Has condition"}),o&&n.jsx(Ae,{variant:"outline",className:"text-[10px] text-orange-600 border-orange-300",children:"New"})]}),c&&n.jsx("div",{className:"mt-2 flex flex-wrap items-center gap-1",children:e.actions.map((d,u)=>n.jsxs(Ae,{variant:"outline",className:"text-[10px]",children:[aI(d.actionType)," ",d.actionType]},u))})]}),n.jsx("div",{className:"flex items-center gap-1 flex-shrink-0",children:n.jsx(W,{onClick:d=>{d.stopPropagation(),i()},variant:"ghost",size:"icon",className:"h-7 w-7 text-gray-400 hover:text-red-600",children:n.jsx(kt,{className:"h-3.5 w-3.5"})})})]}),t&&n.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-blue-500 rounded-l-lg"})]})},MTt=({transitions:e,selectedTransitionId:t,stages:r,onSelect:s,onDelete:a})=>{console.debug("[TransitionList] Rendering",e.length,"transitions");const i=o=>o===null?"Complete":r.find(d=>d.id===o)?.name||`Stage ${o}`;return n.jsx("div",{className:"space-y-2",children:e.map(o=>n.jsx(RTt,{transition:o,isSelected:o.id===t,fromStageName:i(o.from_stage_id),toStageName:i(o.to_stage_id),onSelect:()=>s(o),onDelete:()=>a(o.id)},o.id))})};function OTt(e={}){const{autoFetch:t=!1,staleTime:r=3e5,forceFetch:s=!1}=e,a=ql(),i=Ce(uOe),o=Ce(fOe),c=Ce(mOe),d=Ce(hOe),u=o==="loading",l=o==="failed",f=o==="succeeded",m=v.useCallback(()=>d?Date.now()-d>r:!0,[d,r]),p=v.useCallback(async(b=!1)=>{o!=="loading"&&(!b&&!m()&&o==="succeeded"||await a(DN()).unwrap())},[a,o,m]),x=v.useCallback(()=>{a(dOe())},[a]);return v.useEffect(()=>{(t||s)&&p(s)},[t,s]),{actions:i,status:o,error:c,isLoading:u,isError:l,isSuccess:f,refetch:p,clearError:x}}const ITt=({actions:e,onAddAction:t,onUpdateAction:r,onRemoveAction:s})=>{console.debug("[TransitionActionsEditor] Rendering with",e.length,"actions");const[a,i]=te.useState(""),{actions:o,isLoading:c,error:d,refetch:u}=OTt({autoFetch:!0}),l=te.useMemo(()=>o.map(x=>x.name).filter((x,b,h)=>h.indexOf(x)===b),[o]),f=()=>{if(!a){console.warn("[TransitionActionsEditor] No action type selected");return}console.info("[TransitionActionsEditor] Adding action:",a),t(a),i("")},m=(x,b)=>{console.debug("[TransitionActionsEditor] Updating action",x,"props"),r(x,{actionProps:b})},p=x=>{if(!window.confirm("Are you sure you want to delete this action? This cannot be undone.")){console.debug("[TransitionActionsEditor] Delete cancelled by user");return}console.info("[TransitionActionsEditor] Deleting action",x),s(x)};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Q,{className:"text-xs font-medium",children:"Actions"}),n.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"Define actions to execute when this transition occurs"})]}),e.length>0&&n.jsx("div",{className:"space-y-3",children:e.map((x,b)=>{const h=PTt(x.actionType),y=aI(x.actionType);return n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2 px-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(k$e,{className:"h-4 w-4 text-gray-400"}),n.jsxs(Ae,{variant:"outline",className:"text-xs gap-1",children:[y," ",x.actionType]})]}),n.jsx(W,{onClick:()=>p(b),variant:"ghost",size:"icon",className:"h-6 w-6 text-gray-400 hover:text-red-600",children:n.jsx(kt,{className:"h-3.5 w-3.5"})})]}),n.jsx(h,{value:x.actionProps,onChange:w=>m(b,w),actionIndex:b})]},b)})}),e.length===0&&n.jsx("div",{className:"text-center py-6 border border-dashed rounded-md bg-gray-50",children:n.jsx("p",{className:"text-xs text-gray-500",children:"No actions configured. Add an action to trigger when this transition occurs."})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(xt,{value:a,onValueChange:x=>i(x),disabled:c||!!d,children:[n.jsx(ft,{className:"flex-1 h-9 text-xs",children:n.jsx(vt,{placeholder:"Select action type"})}),n.jsxs(mt,{children:[c&&n.jsxs("div",{className:"flex items-center justify-center py-6 text-muted-foreground",children:[n.jsx(at,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading actions..."]}),!c&&l.map(x=>n.jsxs(Ue,{value:x,className:"text-xs",children:[aI(x)," ",x]},x))]})]}),n.jsxs(W,{onClick:f,disabled:!a||!!d,size:"sm",className:"gap-2 h-9",children:[n.jsx(Yt,{className:"h-4 w-4"}),"Add"]})]}),d&&n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsxs(Ye,{className:"text-xs",children:[d," ",n.jsx("button",{type:"button",onClick:()=>u(!0),className:"underline ml-1",children:"Retry"})]})]})]})},FTt=({transition:e,stages:t,onChange:r,onAddAction:s,onUpdateAction:a,onRemoveAction:i})=>{console.debug("[TransitionEditor] Rendering for transition:",e.id);const[o,c]=v.useState(!1),d=v.useMemo(()=>Rr(e.condition),[e.condition]),u=(l,f)=>{r({[l]:f})};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Edit Transition"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Configure transition properties and actions"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs(Q,{className:"text-xs font-medium",children:["From Stage ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs(xt,{value:String(e.from_stage_id),onValueChange:l=>{const f=parseInt(l,10);u("from_stage_id",isNaN(f)?l:f)},children:[n.jsx(ft,{className:"w-full h-9 text-xs",children:n.jsx(vt,{placeholder:"Select from stage"})}),n.jsx(mt,{children:t.map(l=>n.jsxs(Ue,{value:String(l.id),className:"text-xs",children:[l.name," ",l.is_initial&&"(Initial)"]},l.id))})]}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Stage where this transition originates"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs(Q,{className:"text-xs font-medium",children:["To Stage ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs(xt,{value:e.to_stage_id===null?"__COMPLETE__":String(e.to_stage_id),onValueChange:l=>{if(l==="__COMPLETE__"){u("to_stage_id",null),u("to_complete",!0);return}const f=parseInt(l,10);u("to_stage_id",isNaN(f)?l:f)},children:[n.jsx(ft,{className:"w-full h-9 text-xs",children:n.jsx(vt,{placeholder:"Select to stage"})}),n.jsxs(mt,{children:[n.jsx(Ue,{value:"__COMPLETE__",className:"text-xs",children:"Complete Workflow (no next stage)"}),t.map(l=>n.jsxs(Ue,{value:String(l.id),className:"text-xs",children:[l.name," ",l.is_initial&&"(Initial)"]},l.id))]})]}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Stage where this transition leads to"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs(Q,{className:"text-xs font-medium",children:["Transition Label ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(ne,{value:e.label,onChange:l=>u("label",l.target.value),placeholder:"e.g., Submit for Review, Approve, Reject",className:"h-9 text-xs"}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Button text shown to users for this transition"})]}),n.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Q,{className:"text-xs font-medium",children:"Completes Workflow"}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Mark this transition as completing the entire form workflow"})]}),n.jsx(ys,{disabled:e.to_stage_id===null,checked:e.to_complete,onCheckedChange:l=>u("to_complete",l)})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{className:"text-xs font-medium",children:"Visibility Conditions"}),n.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[n.jsx("div",{className:"space-y-0.5",children:n.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Define when this transition is available based on field values"})}),n.jsx(W,{variant:"outline",size:"sm",type:"button",onClick:()=>c(!0),children:"Edit Conditions"})]})]}),e.from_stage_id===e.to_stage_id&&n.jsxs(Ge,{className:"bg-red-50 border-red-200",children:[n.jsx(Je,{className:"h-4 w-4 text-red-600"}),n.jsx(Ye,{className:"text-red-900 text-xs",children:"Invalid transition: cannot transition to the same stage."})]}),n.jsx("div",{className:"border-t pt-4",children:n.jsx(ITt,{actions:e.actions,onAddAction:s,onUpdateAction:a,onRemoveAction:i})}),o&&n.jsx(Or,{value:d,onChange:l=>{const f=Mr(l);u("condition",f)},stages:t,open:o,onClose:()=>c(!1)})]})},$Tt=()=>{const e=ur(),t=q$(),{transitions:r,selectedTransition:s,setSelected:a}=H2t();console.debug("[TransitionConfigTab] Rendering with",r.length,"transitions");const i=()=>{console.info("[TransitionConfigTab] Adding new transition");const d=e.stages[0]?.id,u=e.stages[1]?.id||e.stages[0]?.id;if(!d||!u){console.warn("[TransitionConfigTab] Cannot add transition: Need at least one stage"),alert("Please create at least one stage before adding transitions.");return}t.addTransition(d,u),console.info("[TransitionConfigTab] Created new transition")},o=d=>{console.debug("[TransitionConfigTab] Selecting transition:",d.id),a(d.id)},c=d=>{if(!window.confirm("Are you sure you want to delete this transition? This cannot be undone.")){console.debug("[TransitionConfigTab] Delete cancelled by user");return}console.info("[TransitionConfigTab] Deleting transition:",d),t.removeTransition(d)};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Stage Transitions"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Define workflow transitions between stages"})]})}),e.stages.length===0&&n.jsxs(Ge,{children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:"No stages defined. Please add stages first in the Stages tab."})]}),e.stages.length===1&&n.jsxs(Ge,{className:"bg-blue-50 border-blue-200",children:[n.jsx(Je,{className:"h-4 w-4 text-blue-600"}),n.jsx(Ye,{className:"text-blue-900 text-xs",children:"You have one stage. You can create transitions to mark this stage as complete, or add more stages for a multi-step workflow."})]})]}),e.stages.length>0&&n.jsxs(W,{onClick:i,size:"sm",className:"w-full gap-2",children:[n.jsx(Yt,{className:"h-4 w-4"}),"Add Transition"]}),e.stages.length>0&&r.length===0&&n.jsxs(Ge,{children:[n.jsx(i3,{className:"h-4 w-4"}),n.jsx(Ye,{children:"No transitions defined. Add your first transition to define workflow steps."})]}),r.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Q,{className:"text-xs font-medium text-gray-700",children:["Transitions (",r.length,")"]}),n.jsx(MTt,{transitions:r,selectedTransitionId:s?.id||null,stages:e.stages,onSelect:o,onDelete:c})]}),s&&n.jsx("div",{className:"border-t pt-4",children:n.jsx(FTt,{transition:s,stages:e.stages,onChange:d=>t.updateTransition(s.id,d),onAddAction:d=>t.addAction(s.id,d),onUpdateAction:(d,u)=>t.updateAction(s.id,d,u),onRemoveAction:d=>t.removeAction(s.id,d)})})]})]})},LTt=({open:e,defaultTab:t="stages"})=>{const[r,s]=v.useState(t),a=ur();return console.debug("[FormVersionConfigDrawer] Rendering, open:",e,"tab:",r),e?n.jsxs("div",{className:"h-full flex flex-col p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Configuration"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Configure stages, sections, fields, and transitions"})]}),n.jsxs(Zl,{value:r,onValueChange:i=>s(i),className:"flex-1 flex flex-col overflow-hidden",children:[n.jsxs(ll,{className:"grid w-full grid-cols-4 mb-4",children:[n.jsxs(xs,{value:"stages",className:"text-xs gap-1.5",children:[n.jsx(_b,{className:"h-3.5 w-3.5"}),"Stages"]}),n.jsxs(xs,{value:"sections",className:"text-xs gap-1.5",children:[n.jsx(_$e,{className:"h-3.5 w-3.5"}),"Sections"]}),n.jsxs(xs,{value:"fields",className:"text-xs gap-1.5",children:[n.jsx(kb,{className:"h-3.5 w-3.5"}),"Fields"]}),n.jsxs(xs,{value:"transitions",className:"text-xs gap-1.5",children:[n.jsx(i3,{className:"h-3.5 w-3.5"}),"Transitions"]})]}),n.jsxs("div",{className:"flex-1 overflow-auto",children:[n.jsx(vs,{value:"stages",className:"m-0 h-full",children:n.jsx(ikt,{stages:a.stages,onChange:i=>a.stageActions.setStages(i)})}),n.jsx(vs,{value:"sections",className:"m-0 h-full",children:n.jsx(ckt,{})}),n.jsx(vs,{value:"fields",className:"m-0 h-full",children:n.jsx(_Tt,{})}),n.jsx(vs,{value:"transitions",className:"m-0 h-full",children:n.jsx($Tt,{})})]})]})]}):null},BTt=()=>{const e=ur();console.debug("[FormVersionLivePreview] Rendering with",e.stages.length,"stages and",e.transitions.length,"transitions");const t=s=>s===null?"Complete":e.stages.find(i=>i.id===s)?.name||`Stage ${s}`,r=s=>e.transitions.filter(a=>a.from_stage_id===s);return n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Live Preview"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Preview of your form structure and workflow"})]}),e.stages.length===0&&n.jsxs(Ge,{children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:"No stages defined. Start building your form by adding stages in the config panel."})]}),e.stages.length>0&&n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Stages"}),n.jsx("div",{className:"space-y-3",children:e.stages.map(s=>{const a=s.sections.length,i=s.sections.reduce((c,d)=>c+d.fields.length,0),o=r(s.id);return n.jsxs(oe,{className:"border-gray-200",children:[n.jsx(Re,{className:"pb-3",children:n.jsxs(qe,{className:"text-sm flex items-center gap-2",children:[s.name,s.is_initial&&n.jsx(Ae,{variant:"default",className:"text-[10px]",children:"Initial"})]})}),n.jsxs(je,{className:"space-y-2",children:[n.jsxs("div",{className:"flex gap-3 text-xs text-gray-600",children:[n.jsxs("span",{children:[a," section",a!==1?"s":""]}),n.jsx("span",{children:""}),n.jsxs("span",{children:[i," field",i!==1?"s":""]})]}),n.jsx("div",{className:"space-y-3 mt-3",children:s.sections.map(c=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-xs font-medium text-gray-700",children:c.name}),n.jsxs("span",{className:"text-[10px] text-gray-500",children:[c.fields.length," field",c.fields.length!==1?"s":""]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-2",children:c.fields.map(d=>{const u=OAt(d.field_type_id);return n.jsx("div",{className:"border rounded p-2 bg-white",children:n.jsx(u,{field:d})},d.id)})})]},c.id))}),o.length>0&&n.jsxs("div",{className:"mt-3 space-y-1.5",children:[n.jsx("p",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-wide",children:"Transitions"}),o.map(c=>n.jsxs("div",{className:"flex items-center gap-2 text-xs bg-gray-50 rounded px-2 py-1.5",children:[n.jsx("span",{className:"font-medium text-gray-700",children:c.label}),n.jsx(SE,{className:"h-3 w-3 text-gray-400"}),n.jsx("span",{className:"text-gray-600",children:t(c.to_stage_id)}),c.to_complete&&n.jsx(bs,{className:"h-3 w-3 text-green-600 ml-auto"}),c.actions.length>0&&n.jsxs(Ae,{variant:"outline",className:"text-[9px] ml-auto",children:[c.actions.length," action",c.actions.length!==1?"s":""]})]},c.id))]})]})]},s.id)})})]})}),e.transitions.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Workflow Summary"}),n.jsx(oe,{className:"border-gray-200",children:n.jsx(je,{className:"pt-4",children:n.jsxs("div",{className:"space-y-2 text-xs",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Total Transitions:"}),n.jsx("span",{className:"font-medium",children:e.transitions.length})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Completion Transitions:"}),n.jsx("span",{className:"font-medium",children:e.transitions.filter(s=>s.to_complete).length})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Total Actions:"}),n.jsx("span",{className:"font-medium",children:e.transitions.reduce((s,a)=>s+a.actions.length,0)})]})]})})})]}),e.dirty&&n.jsxs(Ge,{className:"bg-yellow-50 border-yellow-200",children:[n.jsx(Je,{className:"h-4 w-4 text-yellow-600"}),n.jsx(Ye,{className:"text-yellow-900 text-xs",children:"You have unsaved changes. Remember to save your work."})]})]})},zTt=()=>{console.info("[FormVersionBuilderPage] Initializing");const{id:e}=Sn(),t=e?parseInt(e,10):null,{formVersion:r,loading:s,error:a,refetch:i}=S2t(t),o=ur(),{save:c,saving:d,error:u}=J2t(),{publishFormVersion:l,loading:f,error:m}=hpe(),{fieldTypes:p,isLoading:x,error:b,ensureLoaded:h}=G$(),{items:y,loading:w,error:S}=gpe(),[N,_]=te.useState(!1),[k,E]=te.useState(!1);v.useEffect(()=>{r&&(console.info("[FormVersionBuilderPage] FormVersion loaded, initializing builder"),o.initializeFrom(r))},[r?.id]),v.useEffect(()=>{console.info("[FormVersionBuilderPage] Ensuring field types and input rules are loaded"),h()},[h]),v.useEffect(()=>{console.debug("[FormVersionBuilderPage] Metadata status:",{fieldTypes:p.length,fieldTypesLoading:x,inputRules:y.length,inputRulesLoading:w})},[p.length,x,y.length,w]),v.useEffect(()=>()=>{console.debug("[FormVersionBuilderPage] Unmounting, resetting builder"),o.reset()},[]);const T=async()=>{console.info("[FormVersionBuilderPage] Save triggered"),_(!1);try{await c(),console.info("[FormVersionBuilderPage] Save successful"),_(!0),setTimeout(()=>_(!1),3e3),t&&await i()}catch(B){console.error("[FormVersionBuilderPage] Save failed:",B)}},D=async()=>{if(!t){console.error("[FormVersionBuilderPage] Cannot publish: No form version ID");return}if(!window.confirm("Are you sure you want to publish this form version? This will make it live.")){console.debug("[FormVersionBuilderPage] Publish cancelled by user");return}console.info("[FormVersionBuilderPage] Publishing form version",t),E(!1);try{await l(t),console.info("[FormVersionBuilderPage] Publish successful"),E(!0),setTimeout(()=>E(!1),3e3),await i()}catch(L){console.error("[FormVersionBuilderPage] Publish failed:",L)}};if(s&&!r)return n.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx(at,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Loading form version..."})]})});if(a&&!r)return n.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50 p-4",children:n.jsxs(Ge,{variant:"destructive",className:"max-w-md",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsxs(Ye,{children:[n.jsx("strong",{children:"Failed to load form version"}),n.jsx("p",{className:"mt-2 text-sm",children:a.message}),n.jsx(W,{onClick:()=>i(),className:"mt-4",variant:"outline",size:"sm",children:"Retry"})]})]})});if(!t)return n.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50 p-4",children:n.jsxs(Ge,{variant:"destructive",className:"max-w-md",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:"Invalid form version ID"})]})});const P=r?.status==="published",M=r?.status==="draft",R=x||w;return n.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[n.jsxs("header",{className:"border-b border-gray-200 bg-white px-6 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:r?.form?.name||"Form Version Builder"}),n.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Version ",r?.version_number," "," ",n.jsx("span",{className:M?"text-orange-600":"text-green-600",children:r?.status}),o.dirty&&n.jsx("span",{className:"text-orange-600",children:"  Unsaved changes"}),o.lastSavedAt&&!o.dirty&&n.jsxs("span",{className:"text-green-600",children:[" "," Saved ",new Date(o.lastSavedAt).toLocaleTimeString()]}),R&&n.jsx("span",{className:"text-blue-600",children:"  Loading metadata..."})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(W,{onClick:T,disabled:d||!o.dirty,className:"gap-2",variant:"outline",children:d?n.jsxs(n.Fragment,{children:[n.jsx(at,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(kE,{className:"h-4 w-4"}),"Save"]})}),n.jsx(W,{onClick:D,disabled:f||P||o.dirty,className:"gap-2",title:o.dirty?"Save changes before publishing":"",children:f?n.jsxs(n.Fragment,{children:[n.jsx(at,{className:"h-4 w-4 animate-spin"}),"Publishing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(bo,{className:"h-4 w-4"}),P?"Published":"Publish"]})})]})]}),N&&n.jsxs(Ge,{className:"mt-4 bg-green-50 border-green-200",children:[n.jsx(bs,{className:"h-4 w-4 text-green-600"}),n.jsx(Ye,{className:"text-green-800",children:"Form version saved successfully!"})]}),k&&n.jsxs(Ge,{className:"mt-4 bg-green-50 border-green-200",children:[n.jsx(bs,{className:"h-4 w-4 text-green-600"}),n.jsx(Ye,{className:"text-green-800",children:"Form version published successfully!"})]}),u&&n.jsxs(Ge,{variant:"destructive",className:"mt-4",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsxs(Ye,{children:[n.jsx("strong",{children:"Save failed:"})," ",u.message]})]}),m&&n.jsxs(Ge,{variant:"destructive",className:"mt-4",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsxs(Ye,{children:[n.jsx("strong",{children:"Publish failed:"})," ",m.message]})]}),b&&n.jsxs(Ge,{variant:"destructive",className:"mt-4",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsxs(Ye,{children:[n.jsx("strong",{children:"Field types error:"})," ",b]})]}),S&&n.jsxs(Ge,{variant:"destructive",className:"mt-4",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsxs(Ye,{children:[n.jsx("strong",{children:"Input rules error:"})," ",S]})]})]}),n.jsxs("div",{className:"flex-1 flex gap-4 p-4 overflow-hidden",children:[n.jsx("div",{className:"flex-1 bg-white rounded-lg border border-gray-200 overflow-auto",children:n.jsx(BTt,{})}),n.jsx("div",{className:"w-[600px] bg-white rounded-lg border border-gray-200 overflow-auto",children:n.jsx(LTt,{open:!0,onClose:()=>{}})})]})]})},Ppe=({formVersionId:e,languageId:t,fetchOnMount:r=!1,cacheTime:s=3e5})=>{const a=ct(),i=se(H3e),o=se(V3e),c=se(W3e),d=se(q3e),u=se(G3e),l=v.useRef(!1),f=v.useRef(null),m=v.useCallback(()=>s===0?!1:u?Date.now()-u>s:!0,[u,s]),p=v.useCallback(async(b=!1)=>{if(!e||e<=0){console.warn("[useFormStructure] Invalid formVersionId:",e);return}if(!t||t<=0){console.warn("[useFormStructure] Invalid languageId:",t);return}if(!b&&i&&!m()){console.debug("[useFormStructure] Using cached data, skipping fetch");return}f.current&&f.current.abort();const h=new AbortController;f.current=h,console.debug("[useFormStructure] Fetching form structure:",{formVersionId:e,languageId:t,force:b});try{await a(HN({formVersionId:e,languageId:t,signal:h.signal})).unwrap(),console.debug("[useFormStructure] Fetch completed successfully")}catch(y){y?.name==="AbortError"||y?.name==="CanceledError"||y?.status===0||y?.message==="Request was cancelled"||console.error("[useFormStructure] Fetch error:",y)}},[a,e,t,i,m]),x=v.useCallback(async(b=!1)=>{console.debug("[useFormStructure] Manual refetch triggered:",{force:b}),await p(b)},[p]);return v.useEffect(()=>{(!l.current||r||m())&&(console.debug("[useFormStructure] Initial fetch triggered"),l.current=!0,p())},[p,r,m]),{data:i,isLoading:o,isError:c,error:d,refetch:x}},UTt=({publicIdentifier:e,languageId:t,fetchOnMount:r=!1,cacheTime:s=3e5})=>{const a=ct(),i=se(Y3e),o=se(K3e),c=se(Z3e),d=se(X3e),u=se(J3e),l=v.useRef(!1),f=v.useRef(null),m=v.useCallback(()=>s===0?!1:u?Date.now()-u>s:!0,[u,s]),p=v.useCallback(async(b=!1)=>{if(!e){console.warn("[useFormEntry] Invalid publicIdentifier");return}if(t<=0){console.warn("[useFormEntry] Invalid languageId:",t);return}if(!b&&i&&!m()){console.debug("[useFormEntry] Using cached data, skipping fetch");return}f.current&&f.current.abort();const h=new AbortController;f.current=h,console.debug("[useFormEntry] Fetching form entry:",{publicIdentifier:e,languageId:t,force:b});try{await a(VN({publicIdentifier:e,languageId:t,signal:h.signal})).unwrap(),console.debug("[useFormEntry] Fetch completed successfully")}catch(y){y?.name==="AbortError"||y?.name==="CanceledError"||y?.status===0||y?.message==="Request was cancelled"||console.error("[useFormEntry] Fetch error:",y)}},[a,e,t,i,m]),x=v.useCallback(async(b=!1)=>{console.debug("[useFormEntry] Manual refetch triggered:",{force:b}),await p(b)},[p]);return v.useEffect(()=>{(!l.current||r||m())&&(console.debug("[useFormEntry] Initial fetch triggered"),l.current=!0,p())},[p,r,m]),{data:i,isLoading:o,isError:c,error:d,refetch:x}},Rpe=ct,qn=se,Mpe=()=>{const e=Rpe(),t=qn(yQ),r=qn(bQ),s=qn(wQ),a=qn(jQ),i=qn(SQ),o=qn(NQ),c=qn(CQ),d=qn(_Q),u=qn(EQ),l=v.useCallback(async x=>{const b=await e(cy(x));if(cy.fulfilled.match(b))return b.payload;throw b.payload||b.error},[e]),f=v.useCallback(()=>{e(gQ())},[e]),m=v.useCallback(()=>{e(xQ())},[e]),p=v.useCallback(()=>{e(vQ())},[e]);return{submit:l,reset:f,dismissError:m,resetToIdle:p,status:t,isSubmitting:r,error:s,data:a,isSuccess:i,isError:o,entryId:c,publicIdentifier:d,isFormComplete:u}},Ope=()=>{const e=Rpe(),t=qn(yQ),r=qn(bQ),s=qn(wQ),a=qn(jQ),i=qn(SQ),o=qn(NQ),c=qn(CQ),d=qn(_Q),u=qn(EQ),l=v.useCallback(async x=>{const b=await e(dy(x));if(dy.fulfilled.match(b))return b.payload;throw b.payload||b.error},[e]),f=v.useCallback(()=>{e(gQ())},[e]),m=v.useCallback(()=>{e(xQ())},[e]),p=v.useCallback(()=>{e(vQ())},[e]);return{submit:l,status:t,isSubmitting:r,error:s,data:a,isSuccess:i,isError:o,entryId:c,publicIdentifier:d,isFormComplete:u,reset:f,dismissError:m,resetToIdle:p}};function B_(e){return e==null?null:Array.isArray(e)||typeof e=="object"?JSON.stringify(e):e}function EK(e){return e==null?!0:typeof e=="string"?e.trim()==="":Array.isArray(e)?e.length===0:typeof e=="object"?Object.keys(e).length===0:!1}function L1(e,t){if(!Array.isArray(e))return!1;const r=B_(t);return e.some(s=>B_(s)===r)}function kK(e,t){const r=String(e??"").toLowerCase(),s=String(t??"").toLowerCase();return r.includes(s)}function HTt(e,t){const r=String(e??"").toLowerCase(),s=String(t??"").toLowerCase();return r.startsWith(s)}function VTt(e,t){const r=String(e??"").toLowerCase(),s=String(t??"").toLowerCase();return r.endsWith(s)}function WTt(e,t,r){const s=t.toLowerCase(),a=B_(e),i=B_(r);switch(s){case"equals":case"==":case"===":return a===i;case"not_equals":case"!=":case"!==":return a!==i;case"greater_than":case">":return typeof a=="number"&&typeof i=="number"?a>i:!1;case"greater_or_equal":case"greater_than_or_equal":case">=":return typeof a=="number"&&typeof i=="number"?a>=i:!1;case"less_than":case"<":return typeof a=="number"&&typeof i=="number"?a<i:!1;case"less_or_equal":case"less_than_or_equal":case"<=":return typeof a=="number"&&typeof i=="number"?a<=i:!1;case"contains":return Array.isArray(e)?L1(e,r):kK(e,r);case"not_contains":return Array.isArray(e)?!L1(e,r):!kK(e,r);case"starts_with":return HTt(e,r);case"ends_with":return VTt(e,r);case"in":return Array.isArray(r)?L1(r,e):!1;case"not_in":return Array.isArray(r)?!L1(r,e):!1;case"empty":return EK(e);case"filled":case"not_empty":return!EK(e);default:throw new Error(`Unknown visibility operator: ${t}`)}}function Ipe(e,t){const{field_id:r,operator:s,value:a}=e,i=t[r];return i===void 0?!1:WTt(i.value,s,a)}function qTt(e,t){const{logic:r,conditions:s}=e;if(!s||s.length===0)return!0;const a=s.map(i=>Ipe(i,t));return r==="and"?a.every(Boolean):r==="or"?a.some(Boolean):a.every(Boolean)}function oC(e,t){if(!e)return{isVisible:!0,reason:"No condition"};const r=e.show_when;if(!r)return{isVisible:!0,reason:"No show_when clause"};try{if("logic"in r&&"conditions"in r){const s=qTt(r,t);return{isVisible:s,reason:s?"Complex condition passed":"Complex condition failed"}}if("field_id"in r&&"operator"in r){const s=Ipe(r,t);return{isVisible:s,reason:s?"Simple condition passed":"Simple condition failed"}}return{isVisible:!0,reason:"Invalid condition structure"}}catch{return{isVisible:!0,reason:"Error during evaluation"}}}function Fpe(e,t,r,s){const a={fields:{},sections:{},transitions:{}};for(const i of e)a.fields[i.field_id]=oC(i.visibility_condition,s).isVisible;for(const i of t)a.sections[i.section_id]=oC(i.visibility_condition,s).isVisible;for(const i of r)a.transitions[i.transition_id]=oC(i.condition,s).isVisible;return a}const Vm=e=>{let t=null,r=null;const s=e.find(o=>o.rule_name==="between");if(s?.rule_props){const o=s.rule_props;typeof o.min=="number"&&(t=o.min),typeof o.max=="number"&&(r=o.max)}const a=e.find(o=>o.rule_name==="min");if(a?.rule_props){const o=a.rule_props;typeof o.value=="number"&&(t=o.value)}const i=e.find(o=>o.rule_name==="max");if(i?.rule_props){const o=i.rule_props;typeof o.value=="number"&&(r=o.value)}return{min:t,max:r}},$pe=e=>{let t=null,r=null,s=null,a=null;return e.forEach(i=>{const o=i.rule_props;switch(i.rule_name){case"before":o?.date&&(t=o.date);break;case"after":o?.date&&(r=o.date);break;case"before_or_equal":o?.date&&(s=o.date);break;case"after_or_equal":o?.date&&(a=o.date);break}}),{before:t,after:r,beforeOrEqual:s,afterOrEqual:a}},GTt=e=>{const t=e.some(s=>s.rule_name==="numeric");return e.some(s=>s.rule_name==="integer")?{isNumeric:t,isInteger:!0,allowDecimals:!1}:{isNumeric:t,isInteger:!1,allowDecimals:!0}},K$=e=>{let t=null,r=null;return e.forEach(s=>{if(s.rule_name==="same"&&s.rule_props){const a=s.rule_props;a.comparevalue&&(t=typeof a.comparevalue=="number"?a.comparevalue:parseInt(String(a.comparevalue),10))}if(s.rule_name==="different"&&s.rule_props){const a=s.rule_props;a.comparevalue&&(r=typeof a.comparevalue=="number"?a.comparevalue:parseInt(String(a.comparevalue),10))}}),{sameAs:t,differentFrom:r}},en=e=>e.some(t=>t.rule_name==="required"),fu=(e,t)=>{const r=new Date(e),s=new Date(t);return r<s?-1:r>s?1:0},mu=e=>{const t=sw(e);return Hl(t,"MMM dd, yyyy")},YTt=(e,t)=>{if(t==="*/*")return!0;if(t.endsWith("/*")){const r=t.split("/")[0];return e.startsWith(r+"/")}return e===t},AK=e=>e<1024?`${e} KB`:`${(e/1024).toFixed(1)} MB`,TK=e=>e.size/1024,B1=e=>e==null?"":typeof e=="object"?JSON.stringify(e):String(e),KTt=/^[1-9]\d{1,14}$/,_4=e=>{if(!e)return"";const t=e.replace(/[^\d+]/g,"");return t.startsWith("+")?"+"+t.substring(1).replace(/\+/g,""):t},ZTt=e=>e?KTt.test(e):!1,XTt=e=>{let t=null,r=!1,s=!1,a=!1,i=null,o=null;return e.forEach(c=>{switch(c.rule_name){case"regex":{const d=c.rule_props;d?.pattern&&(t=d.pattern);break}case"alpha":r=!0;break;case"alpha_num":s=!0;break;case"alpha_dash":a=!0;break;case"starts_with":{const d=c.rule_props;d?.values&&(i=d.values);break}case"ends_with":{const d=c.rule_props;d?.values&&(o=d.values);break}}}),{regex:t,alpha:r,alphaNum:s,alphaDash:a,startsWith:i,endsWith:o}},Lpe=e=>{const t=en(e.rules||[]);let r=null,s=null;const i=(e.rules||[]).find(b=>b.rule_name==="between")?.rule_props||{},{min:o,max:c}=i;if(o!==void 0&&(r=Number(o)),c!==void 0&&(s=Number(c)),r===null){const{min:b}=Vm(e.rules||[]);r=b}if(s===null){const{max:b}=Vm(e.rules||[]);s=b}const{regex:d,alpha:u,alphaNum:l,alphaDash:f,startsWith:m,endsWith:p}=XTt(e.rules||[]);let x=et();if(r!==null&&(x=x.min(r,`${e.label} must be at least ${r} characters`)),s!==null&&(x=x.max(s,`${e.label} must be at most ${s} characters`)),d)try{const b=new RegExp(d);x=x.regex(b,`${e.label} does not match the required pattern`)}catch{console.error("[validationEngine] Invalid regex pattern:",d)}else f?x=x.regex(/^[a-zA-Z0-9_-\s]*$/,`${e.label} must contain only letters, numbers, dashes, underscores, spaces, and newlines`):l?x=x.regex(/^[a-zA-Z0-9\s]*$/,`${e.label} must contain only letters, numbers, spaces, and newlines`):u&&(x=x.regex(/^[a-zA-Z\s]*$/,`${e.label} must contain only letters, spaces, and newlines`));return m&&m.length>0&&(x=x.refine(b=>b?m.some(h=>b.startsWith(h)):!0,{message:`${e.label} must start with: ${m.join(" or ")}`})),p&&p.length>0&&(x=x.refine(b=>b?p.some(h=>b.endsWith(h)):!0,{message:`${e.label} must end with: ${p.join(" or ")}`})),t?x.min(1,`${e.label} is required`):Dn([x,jn("")])},JTt=e=>Lpe(e),QTt=e=>{let t=null,r=null,s=null;return e.forEach(a=>{switch(a.rule_name){case"regex":{const i=a.rule_props;i?.pattern&&(t=i.pattern);break}case"starts_with":{const i=a.rule_props;i?.values&&(r=i.values);break}case"ends_with":{const i=a.rule_props;i?.values&&(s=i.values);break}}}),{regex:t,startsWith:r,endsWith:s}},eDt=e=>{const t=en(e.rules||[]),{regex:r,startsWith:s,endsWith:a}=QTt(e.rules||[]);if(!t){let o=et();if(r)try{const c=new RegExp(r);o=o.regex(c,`${e.label} does not match the required pattern`)}catch{o=o.email(`${e.label} must be a valid email address`)}else o=o.email(`${e.label} must be a valid email address`);return s&&s.length>0&&(o=o.refine(c=>c?s.some(d=>c.startsWith(d)):!0,{message:`${e.label} must start with: ${s.join(" or ")}`})),a&&a.length>0&&(o=o.refine(c=>c?a.some(d=>c.endsWith(d)):!0,{message:`${e.label} must end with: ${a.join(" or ")}`})),Dn([o,jn("")])}let i=et().refine(o=>o!=null,{message:`${e.label} is required`}).min(1,`${e.label} is required`).refine(o=>{if(r)try{return new RegExp(r).test(o)}catch{return et().email().safeParse(o).success}return et().email().safeParse(o).success},{message:`${e.label} must be a valid email address`});return s&&s.length>0&&(i=i.refine(o=>s.some(c=>o.startsWith(c)),{message:`${e.label} must start with: ${s.join(" or ")}`})),a&&a.length>0&&(i=i.refine(o=>a.some(c=>o.endsWith(c)),{message:`${e.label} must end with: ${a.join(" or ")}`})),i},tDt=e=>{const t=en(e.rules||[]),{min:r,max:s}=Vm(e.rules||[]);let a=et();return r!==null&&(a=a.min(r,`${e.label} must be at least ${r} characters`)),s!==null&&(a=a.max(s,`${e.label} must be at most ${s} characters`)),t?a.min(1,`${e.label} is required`):Dn([a,jn("")])},_k=e=>{let t=null,r=null;const a=(e.rules||[]).find(c=>c.rule_name==="between")?.rule_props||{},{min:i,max:o}=a;if(i!==void 0&&(t=Number(i)),o!==void 0&&(r=Number(o)),t===null){const{min:c}=Vm(e.rules||[]);t=c}if(r===null){const{max:c}=Vm(e.rules||[]);r=c}return{min:t,max:r}},rDt=e=>{const t=en(e.rules||[]),{min:r,max:s}=_k(e),{allowDecimals:a}=GTt(e.rules||[]);let o=wt({message:`${e.label} must be a number`}).refine(d=>Number.isFinite(d),{message:`${e.label} must be a number`});a||(o=o.int(`${e.label} must be an integer (no decimals)`)),r!==null&&(o=o.min(r,`${e.label} must be at least ${r}`)),s!==null&&(o=o.max(s,`${e.label} must be at most ${s}`));const c=YX(d=>{if(d===""||d===null||d===void 0)return null;if(typeof d=="number")return d;if(typeof d=="string"){const u=d.trim();if(u==="")return null;const l=Number(u);return Number.isFinite(l)?l:NaN}return d},Dn([o,mg()]));return t?c.refine(d=>typeof d=="number"&&Number.isFinite(d),{message:`${e.label} is required`}):c.optional()},sDt=e=>{const t=en(e.rules||[]),{min:r,max:s}=_k(e);let a=wt();r!==null&&(a=a.min(r,`${e.label} must be at least ${r}`)),s!==null&&(a=a.max(s,`${e.label} must be at most ${s}`));const i=Dn([a,mg()]);return t?i.refine(o=>typeof o=="number"&&!isNaN(o),{message:`${e.label} is required`}):i.optional()},nDt=e=>{const t=en(e.rules||[]),{min:r,max:s}=_k(e);let a=wt();const i=r!==null?r:0;a=a.min(i,`${e.label} must be at least ${i}%`);const o=s!==null?s:100;return a=a.max(o,`${e.label} must be at most ${o}%`),t?a.refine(c=>c!=null&&!isNaN(c),{message:`${e.label} is required`}):a.optional()},aDt=e=>{const t=en(e.rules||[]),{min:r,max:s}=_k(e);let a=wt();return r!==null&&(a=a.min(r,`${e.label} must be at least ${r}`)),s!==null&&(a=a.max(s,`${e.label} must be at most ${s}`)),t?a:a.optional()},iDt=e=>{const t=en(e.rules||[]),{min:r,max:s}=Vm(e.rules||[]);let a=wt();return r!==null&&(a=a.min(r,`${e.label} rating must be at least ${r}`)),s!==null&&(a=a.max(s,`${e.label} rating must be at most ${s}`)),t?a.refine(i=>i!=null,{message:`${e.label} is required`}):a.optional()},oDt=e=>{const t=en(e.rules||[]),{before:r,after:s,beforeOrEqual:a,afterOrEqual:i}=$pe(e.rules||[]);let o=et();return r&&(o=o.refine(c=>c?fu(c,r)<0:!t,{message:`${e.label} must be before ${mu(r)}`})),s&&(o=o.refine(c=>c?fu(c,s)>0:!t,{message:`${e.label} must be after ${mu(s)}`})),a&&(o=o.refine(c=>c?fu(c,a)<=0:!t,{message:`${e.label} must be on or before ${mu(a)}`})),i&&(o=o.refine(c=>c?fu(c,i)>=0:!t,{message:`${e.label} must be on or after ${mu(i)}`})),t?o.refine(c=>c!=null,{message:`${e.label} is required`}).min(1,`${e.label} is required`):Dn([o,jn("")])},lDt=e=>en(e.rules||[])?et().refine(r=>r!=null,{message:`${e.label} is required`}).min(1,`${e.label} is required`).regex(/^\d{2}:\d{2}$/,`${e.label} must be a valid time (HH:MM)`):Dn([et().regex(/^\d{2}:\d{2}$/,`${e.label} must be a valid time (HH:MM)`),jn("")]),cDt=e=>{const t=en(e.rules||[]),{before:r,after:s,beforeOrEqual:a,afterOrEqual:i}=$pe(e.rules||[]);let o=et().regex(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}$/,`${e.label} must be a valid date and time (YYYY-MM-DDTHH:MM)`);return r&&(o=o.refine(c=>c?fu(c,r)<0:!t,{message:`${e.label} must be before ${mu(r)}`})),s&&(o=o.refine(c=>c?fu(c,s)>0:!t,{message:`${e.label} must be after ${mu(s)}`})),a&&(o=o.refine(c=>c?fu(c,a)<=0:!t,{message:`${e.label} must be on or before ${mu(a)}`})),i&&(o=o.refine(c=>c?fu(c,i)>=0:!t,{message:`${e.label} must be on or after ${mu(i)}`})),t?o.refine(c=>c!=null,{message:`${e.label} is required`}).min(1,`${e.label} is required`):Dn([o,jn("")])},dDt=e=>{const t=en(e.rules||[]);let r=et();return t?r.min(1,`${e.label} is required`):Dn([r,jn("")])},uDt=e=>{const t=en(e.rules||[]),{min:r,max:s}=Vm(e.rules||[]);let a=hr(et());return r!==null&&(a=a.min(r,`${e.label} must have at least ${r} selection(s)`)),s!==null&&(a=a.max(s,`${e.label} must have at most ${s} selection(s)`)),t?a.min(1,`${e.label} is required`):Dn([a,hr(et()).length(0)])},fDt=e=>{const t=en(e.rules||[]);let r=et();return t?r.min(1,`${e.label} is required`):Dn([r,jn("")])},mDt=e=>{const t=en(e.rules||[]);let r=Ps();return t&&(r=r.refine(s=>s===!0,{message:`${e.label} must be checked`})),r},hDt=e=>Ps(),Bpe=e=>{if(!e||e===""||!e.startsWith("data:image/png;base64,"))return!0;const t=e.split(",")[1];return!t||t.length<100},pDt=e=>{let t=null,r=null,s=null;return e.forEach(a=>{switch(a.rule_name){case"max_file_size":{const i=a.rule_props;i?.maxsize&&(t=i.maxsize);break}case"min_file_size":{const i=a.rule_props;i?.minsize&&(r=i.minsize);break}case"mimetypes":{const i=a.rule_props;i?.types&&(s=i.types);break}}}),{maxSize:t,minSize:r,mimeTypes:s}},Ek=e=>{const t=en(e.rules||[]),{maxSize:r,minSize:s,mimeTypes:a}=pDt(e.rules||[]);let i=XAe(File,{message:`${e.label} must be a valid file`});a&&a.length>0&&(i=i.refine(c=>a.some(d=>YTt(c.type,d)),{message:`File type must be one of: ${a.join(", ")}`})),s!==null&&(i=i.refine(c=>TK(c)>=s,{message:`File size must be at least ${AK(s)}`})),r!==null&&(i=i.refine(c=>TK(c)<=r,{message:`File size must be less than ${AK(r)}`}));const o=Dn([i,mg(),NAe()]);return t?o.refine(c=>c instanceof File,{message:`${e.label} is required`}):o},gDt=e=>Ek(e),xDt=e=>Ek(e),vDt=e=>Ek(e),yDt=e=>{const t=en(e.rules||[]),s=YX(a=>a??"",et({message:`${e.label} must be a valid signature`})).superRefine((a,i)=>{const o=a.trim();if(o.length===0){t&&i.addIssue({code:um.custom,message:`${e.label} is required`});return}if(!o.startsWith("data:image/png;base64,")){i.addIssue({code:um.custom,message:`${e.label} must be a valid signature`});return}Bpe(o)&&i.addIssue({code:um.custom,message:t?`${e.label} is required`:`${e.label} must be a valid signature`})});return t?s:s.optional()},bDt=e=>{const t=en(e.rules||[]),r=(e.rules||[]).find(l=>l.rule_name==="regex"),s=(e.rules||[]).find(l=>l.rule_name==="starts_with"),a=r?.rule_props||{},i=s?.rule_props||{},o=typeof a.pattern=="string"?a.pattern.trim():"",c=typeof i.prefix=="string"?i.prefix:"",d=l=>l.trim().length===0;let u=et();if(t&&(u=u.min(1,`${e.label} is required`)),o)try{const l=new RegExp(o);u=u.refine(f=>{if(d(f))return!0;const m=_4(f);return l.test(m)},{message:`${e.label} format is invalid`})}catch{u=u.refine(()=>!1,{message:`${e.label} has invalid regex configuration`})}else u=u.refine(l=>d(l)?!0:ZTt(_4(l)),{message:`${e.label} must be a valid phone number`});return c&&(u=u.refine(l=>d(l)?!0:_4(l).startsWith(c),{message:`${e.label} must start with ${c}`})),t?u:u.optional()},wDt=e=>{const t=en(e.rules||[]);let r=et().url(`${e.label} must be a valid URL`);return t?r.min(1,`${e.label} is required`):Dn([r,jn("")])},jDt=e=>{const t=en(e.rules||[]);let r=et().regex(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,`${e.label} must be a valid color`);return t?r.min(1,`${e.label} is required`):Dn([r,jn("")])},SDt=e=>en(e.rules||[])?Dt({lat:wt(),lng:wt(),address:et().optional()}).nullable().refine(r=>r!==null,{message:`${e.label} is required`}):Dn([Dt({lat:wt(),lng:wt(),address:et().optional()}),mg()]),NDt=e=>{const t=en(e.rules||[]),r=et().trim().min(1,{message:"All fields of the address input are Required"}),s=et().trim().optional().default(""),a=Dt({street:t?r:s,city:t?r:s,state:t?r:s,postal_code:t?r:s,country:t?r:s});return t?Dn([a,mg()]).refine(i=>i!==null,{message:"All fields of the address input are Required"}):Dn([a,mg()])},CDt=(e,t,r)=>{const s=K$(e.rules||[]);if(s.sameAs!==null){const a=s.sameAs,i=r[a];if(!i)return{valid:!1,error:`Cannot validate: comparison field (ID: ${a}) not found`};const o=B1(t),c=B1(i.value);if(o!==c)return{valid:!1,error:`${e.label} must match the other field (ID: ${a})`}}if(s.differentFrom!==null){const a=s.differentFrom,i=r[a];if(!i)return{valid:!1,error:`Cannot validate: comparison field (ID: ${a}) not found`};const o=B1(t),c=B1(i.value);if(o===c)return{valid:!1,error:`${e.label} must be different from the other field (ID: ${a})`}}return{valid:!0}},_Dt=e=>{switch(e.field_type){case"Text Input":return Lpe(e);case"Text Area":return JTt(e);case"Email Input":return eDt(e);case"Number Input":return rDt(e);case"Currency Input":return sDt(e);case"Percentage Input":return nDt(e);case"Phone Input":return bDt(e);case"URL Input":return wDt(e);case"Date Input":return oDt(e);case"Time Input":return lDt(e);case"DateTime Input":return cDt(e);case"Dropdown Select":return dDt(e);case"Multi_Select":return uDt(e);case"Checkbox":return mDt(e);case"Toggle Switch":return hDt();case"Radio Button":return fDt(e);case"Slider":return aDt(e);case"Rating":return iDt(e);case"File Upload":return Ek(e);case"Image Upload":return gDt(e);case"Video Upload":return xDt(e);case"Document Upload":return vDt(e);case"Signature Pad":return yDt(e);case"Color Picker":return jDt(e);case"Location Picker":return SDt(e);case"Address Input":return NDt(e);case"Password Input":return tDt(e);default:return console.warn(`[validationEngine] Unknown field type: ${e.field_type}, using string schema`),et()}},iI=(e,t,r)=>{const a=_Dt(e).safeParse(t);if(!a.success)return{valid:!1,error:a.error.issues[0]?.message||"Validation failed"};const i=CDt(e,t,r);return i.valid?{valid:!0}:i},zpe=e=>{const t=K$(e.rules||[]);return t.sameAs!==null||t.differentFrom!==null},Upe=e=>{const t=K$(e.rules||[]),r=[];return t.sameAs!==null&&r.push(t.sameAs),t.differentFrom!==null&&r.push(t.differentFrom),r},EDt=(e,t)=>{if(!e||!e.show_when)return!0;const r={};return Object.entries(t).forEach(([a,i])=>{r[Number(a)]={fieldId:Number(a),value:i,error:null,touched:!1,isValid:!0}}),oC({show_when:e.show_when},r).isVisible},DK=e=>{if(e.to_complete)return 100;const t=e.label.toLowerCase();return t.includes("next")||t.includes("continue")||t.includes("proceed")||t.includes("submit")?80:t.includes("save")||t.includes("draft")?60:t.includes("back")||t.includes("previous")||t.includes("return")?50:40},kDt=(e,t,r)=>{const s=EDt(e.condition,t),a=!s||e.to_complete&&!r;return{transitionId:e.transition_id,label:e.label,toStageId:e.to_stage_id,toStageName:e.to_stage_name,isComplete:e.to_complete,isVisible:s,isDisabled:a}},Hpe=(e,t,r)=>{const a=e.map(d=>kDt(d,t,r)).filter(d=>d.isVisible),i=[...a].sort((d,u)=>{const l=DK(e.find(m=>m.transition_id===d.transitionId));return DK(e.find(m=>m.transition_id===u.transitionId))-l}),o=i[0]||null,c={availableTransitions:i,canSubmit:o?!o.isDisabled:!1,submitLabel:o?.label||"Submit",selectedTransitionId:o?.transitionId||null};return{availableTransitions:i,primaryTransition:o,submitButtonState:c,hasMultipleTransitions:a.length>1}},ADt=e=>e.current_value!==null&&e.current_value!==void 0?PK(e,e.current_value):e.default_value!==null&&e.default_value!==void 0?PK(e,e.default_value):TDt(e),PK=(e,t)=>{switch(String(e.field_type||"").trim()){case"Checkbox":case"Toggle Switch":return t===1||t==="1"?!0:t===0||t==="0"?!1:!!t;case"Multi_Select":return Array.isArray(t)?t:[];case"Address Input":{const s=t&&typeof t=="object"&&!Array.isArray(t)?t:{};return{street:s.street??"",city:s.city??"",state:s.state??"",postal_code:s.postal_code??"",country:s.country??""}}case"Location Picker":{const s=t&&typeof t=="object"&&!Array.isArray(t)?t:{};return{lat:typeof s.lat=="number"?s.lat:null,lng:typeof s.lng=="number"?s.lng:null,address:typeof s.address=="string"?s.address:""}}default:return t}},TDt=e=>{const t=String(e.field_type||"").trim();switch(t){case"Document Upload":case"File Upload":case"Image Upload":case"Video Upload":case"Password Input":case"Signature Pad":return null}switch(t){case"Multi_Select":return[];case"Address Input":return{street:"",city:"",state:"",postal_code:"",country:""};case"Location Picker":return{lat:null,lng:null,address:""}}switch(t){case"Checkbox":case"Toggle Switch":return!1}switch(t){case"Currency Input":return null;case"Number Input":return null;case"Percentage Input":case"Slider":case"Signature Pad":return"";case"Rating":return 0}return""},DDt=e=>{const t={};return e.forEach(r=>{t[r.field_id]={fieldId:r.field_id,value:ADt(r),error:null,touched:!1,isValid:!0}}),t},PDt=e=>{const t=[];return e.forEach(r=>{t.push(...r.fields)}),t},RDt=e=>{const t={};return e.forEach(r=>{zpe(r)&&Upe(r).forEach(a=>{t[a]||(t[a]=[]),t[a].push(r.field_id)})}),t},MDt=({formVersionId:e,languageId:t=1})=>{const{data:r}=Ppe({formVersionId:e,languageId:t}),{submit:s,isSubmitting:a}=Mpe(),[i,o]=v.useState({}),[c,d]=v.useState(null),u=rx[t],l=v.useMemo(()=>r?.stage?.sections?PDt(r.stage.sections):[],[r]),f=v.useMemo(()=>r?.available_transitions||[],[r]),m=v.useMemo(()=>RDt(l),[l]),p=v.useMemo(()=>r?.stage?Fpe(l,r.stage.sections,f,i):{fields:{},sections:{},transitions:{}},[r,i,f,l]),x=v.useCallback(async $=>{const I=l.find(Z=>Z.field_id===$);if(!I)return{fieldId:$,isValid:!1,errors:["Field not found"]};const z=i[$];if(!z)return{fieldId:$,isValid:!1,errors:["Field value not initialized"]};const H=iI(I,z.value,i);return{fieldId:$,isValid:H.valid,errors:H.error?[H.error]:[]}},[l,i]),b=v.useCallback(async()=>{const $={};let I=!0;const z=l.filter(H=>p.fields[H.field_id]!==!1);for(const H of z){const Z=await x(H.field_id);$[H.field_id]=Z,Z.isValid||(I=!1)}return{isValid:I,fieldResults:$,globalErrors:[]}},[l,p,x]),h=v.useMemo(()=>{const $={};Object.entries(i).forEach(([H,Z])=>{$[Number(H)]=Z.value});const I=Object.values(i).every(H=>H.isValid);return Hpe(f,$,I).submitButtonState},[f,i]),y=v.useMemo(()=>{const $={};let I=!0;return Object.entries(i).forEach(([z,H])=>{H.error&&($[Number(z)]=H.error,I=!1)}),{isValid:I,isValidating:!1,fieldErrors:$,globalErrors:[]}},[i]),w=v.useCallback($=>i[$]?.value??null,[i]),S=v.useCallback(async($,I)=>{console.log(`[useRuntimeForm] setFieldValue called for field ${$}:`,I),o(H=>{const Z={...H,[$]:{...H[$],fieldId:$,value:I,error:null,isValid:!0}};return console.log(`[useRuntimeForm] New fieldValues state for field ${$}:`,Z[$]),Z});const z=m[$]||[];z.length>0&&setTimeout(async()=>{for(const H of z)if(l.find(V=>V.field_id===H)&&i[H]?.touched){const V=await x(H);o(G=>({...G,[H]:{...G[H],error:V.errors[0]||null,isValid:V.isValid}}))}},0)},[m,l,i,x]),N=v.useCallback(async($,I)=>{o(U=>({...U,[$]:{...U[$],fieldId:$,touched:!0,...I!==void 0?{value:I}:{}}}));const z=l.find(U=>U.field_id===$);if(!z){o(U=>({...U,[$]:{...U[$],error:"Field not found",isValid:!1}}));return}const H=i[$],Z=I!==void 0?I:H?.value??null,V=I!==void 0?{...i,[$]:{...H??{fieldId:$,value:Z,error:null,touched:!0,isValid:!0},value:Z}}:i,G=iI(z,Z,V);o(U=>({...U,[$]:{...U[$],error:G.error||null,isValid:G.valid}}))},[l,i]),_=v.useCallback($=>i[$]?.error??null,[i]),k=v.useCallback($=>p.fields[$]!==!1,[p]),E=v.useCallback($=>p.sections[$]!==!1,[p]),T=v.useCallback($=>p.transitions[$]!==!1,[p]),D=v.useCallback($=>{const I={};return Object.entries($).forEach(([z,H])=>{const Z=Number(z);p.fields[Z]!==!1&&(I[Z]=H.value)}),I},[p]),P=v.useCallback(async()=>{const $=await b();if(o(Z=>{const V={...Z};return Object.entries($.fieldResults).forEach(([G,U])=>{const Y=Number(G);V[Y]={...V[Y],touched:!0,error:U.errors[0]||null,isValid:U.isValid}}),V}),!$.isValid)return;const I=c||h.selectedTransitionId;if(!I){console.error("[useRuntimeForm] No transition selected for submission");return}const z=D(i),H=Object.entries(z).map(([Z,V])=>({field_id:Number(Z),value:V}));try{await s({form_version_id:e,stage_transition_id:I,field_values:H}),console.log("[useRuntimeForm] Form submitted successfully:",{formVersionId:e,transitionId:I,fieldValuesArray:H})}catch(Z){console.error("[useRuntimeForm] Form submission failed:",Z)}},[b,c,h,i,D,s,e]),M=v.useMemo(()=>y.isValid,[y]),R=v.useMemo(()=>Object.values(i).some($=>$.touched),[i]),B=v.useMemo(()=>h.canSubmit&&!a,[h,a]);return v.useEffect(()=>{if(l.length>0&&Object.keys(i).length===0){const $=DDt(l);o($)}},[l,i]),{formState:{fieldValues:i,validationState:y,isSubmitting:a,selectedTransitionId:c,language:u},visibilityMap:p,validationState:y,getFieldValue:w,setFieldValue:S,setFieldTouched:N,getFieldError:_,isFieldVisible:k,isSectionVisible:E,isTransitionVisible:T,validateField:x,validateForm:b,submitButtonState:h,selectTransition:d,handleSubmit:P,isFormValid:M,isFormDirty:R,canSubmit:B,languageId:t}},ODt=e=>{const t=e.default_value;return typeof t=="string"?t:""},Vpe=v.forwardRef(({field:e,value:t,onChange:r,error:s,disabled:a=!1,className:i,languageId:o,onBlur:c},d)=>{const[u,l]=v.useState(()=>t||(e.current_value&&typeof e.current_value=="string"?e.current_value:ODt(e))),f=()=>o===2?{placeholder:" ...",rulesLabel:"",rulesLabelPlural:""}:o===3?{placeholder:"Ingresa texto...",rulesLabel:"regla",rulesLabelPlural:"reglas"}:{placeholder:"Enter text...",rulesLabel:"rule",rulesLabelPlural:"rules"},{placeholder:m,rulesLabel:p,rulesLabelPlural:x}=f(),b=e.rules?.some(_=>_.rule_name==="required")??!1;v.useEffect(()=>{t!==void 0&&l(t||"")},[t,e.field_id]);const h=_=>{const k=_.target.value;l(k),r(k)},y=`text-input-${e.field_id}`,w=e.placeholder||m,S=e.rules?.filter(_=>_.rule_name!=="unique").length||0,N=S===1?`${S} ${p}`:`${S} ${x}`;return n.jsxs("div",{ref:d,className:X("space-y-2",i),children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(kb,{className:"h-4 w-4 text-blue-500"}),n.jsxs(Q,{htmlFor:y,className:"text-sm font-medium",children:[e.label,b&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),S>0&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",N,")"]})]}),n.jsx(ne,{id:y,type:"text",value:u,onChange:h,onBlur:c,placeholder:w,disabled:a,className:X("h-10",s&&"border-destructive focus-visible:ring-destructive"),"aria-label":e.label,"aria-required":b,"aria-invalid":!!s,"aria-describedby":s?`${y}-error`:e.helper_text?`${y}-description`:void 0}),e.helper_text&&!s&&n.jsx("p",{id:`${y}-description`,className:"text-xs text-muted-foreground",children:e.helper_text}),s&&n.jsx("p",{id:`${y}-error`,className:"text-xs text-destructive font-medium",role:"alert",children:s})]})});Vpe.displayName="TextInput";const IDt=e=>{let t=null,r=null;const s=e.find(o=>o.rule_name==="between");if(s?.rule_props){const o=s.rule_props;typeof o.min=="number"&&(t=o.min),typeof o.max=="number"&&(r=o.max)}const a=e.find(o=>o.rule_name==="min");if(a?.rule_props){const o=a.rule_props;typeof o.value=="number"&&(t=o.value)}const i=e.find(o=>o.rule_name==="max");if(i?.rule_props){const o=i.rule_props;typeof o.value=="number"&&(r=o.value)}return{min:t,max:r}},FDt=e=>e.default_value!==null&&e.default_value!==void 0?String(e.default_value):e.current_value!==null&&e.current_value!==void 0?String(e.current_value):"",$Dt=(e,t)=>{const{max:r}=IDt(t.rules||[]),s=e?.length||0;return r!==null?`${s} / ${r}`:`${s}`},LDt=e=>e===2?{placeholder:"  ...",ariaSuffix:" -    "}:e===3?{placeholder:"Escribe tu texto aqu...",ariaSuffix:" - campo de texto multilnea"}:{placeholder:"Enter your text here...",ariaSuffix:" - multi-line text field"},Wpe=v.forwardRef(({field:e,value:t,onChange:r,onBlur:s,error:a,disabled:i=!1,className:o,rows:c=4,languageId:d},u)=>{const[l,f]=v.useState(()=>t!=null?String(t):e.current_value!==null&&e.current_value!==void 0?String(e.current_value):FDt(e)),m=e.rules?.some(k=>k.rule_name==="required")??!1,p=e.rules?.find(k=>k.rule_name==="max"),x=e.rules?.find(k=>k.rule_name==="between"),b=!!(p||x);v.useEffect(()=>{t!=null&&f(String(t))},[t]);const h=k=>{const E=k.target.value;f(E),r(E)},y=`textarea-${e.field_id}`,{placeholder:w,ariaSuffix:S}=LDt(d),N=e.placeholder||w,_=b?$Dt(l,e):null;return n.jsxs("div",{ref:u,className:X("space-y-2",o),"aria-label":`${e.label}${S}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Q,{htmlFor:y,className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(a3,{className:"h-4 w-4 text-orange-500"}),e.label,m&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),_&&n.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:_})]}),n.jsx(Ht,{id:y,value:l,onChange:h,onBlur:s,placeholder:N,disabled:i,rows:c,className:X("min-h-[100px] resize-y",a&&"border-destructive focus-visible:ring-destructive"),"aria-label":e.label,"aria-required":m,"aria-invalid":!!a,"aria-describedby":a?`${y}-error`:e.helper_text?`${y}-description`:void 0}),e.helper_text&&!a&&n.jsx("p",{id:`${y}-description`,className:"text-xs text-muted-foreground",children:e.helper_text}),a&&n.jsx("p",{id:`${y}-error`,className:"text-xs text-destructive font-medium",role:"alert",children:a})]})});Wpe.displayName="TextArea";const BDt=e=>{const t=e.default_value;return typeof t=="string"?t:""},zDt=e=>e.rules?.some(t=>t.rule_name==="regex")??!1,UDt=e=>e===2?{placeholder:"   ",ruleWordSingular:"",ruleWordPlural:""}:e===3?{placeholder:"Ingresa la direccin de correo",ruleWordSingular:"regla",ruleWordPlural:"reglas"}:{placeholder:"Enter email address",ruleWordSingular:"rule",ruleWordPlural:"rules"},qpe=v.forwardRef(({field:e,value:t,onChange:r,onBlur:s,error:a,disabled:i=!1,className:o,languageId:c},d)=>{const[u,l]=v.useState(()=>t||(e.current_value&&typeof e.current_value=="string"?e.current_value:BDt(e))),f=e.rules?.some(_=>_.rule_name==="required")??!1,m=zDt(e),p=e.rules?.filter(_=>_.rule_name!=="unique").length||0,{placeholder:x,ruleWordSingular:b,ruleWordPlural:h}=UDt(c);v.useEffect(()=>{t!==void 0&&l(t||"")},[t]);const y=_=>{const k=_.target.value;l(k),r(k)},w=`email-input-${e.field_id}`,S=e.placeholder||x,N=p===1?`${p} ${b}`:`${p} ${h}`;return n.jsxs("div",{ref:d,className:X("space-y-2",o),children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(sl,{className:"h-4 w-4 text-purple-500"}),n.jsxs(Q,{htmlFor:w,className:"text-sm font-medium",children:[e.label,f&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),p>0&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",N,")"]})]}),n.jsx(ne,{id:w,type:m?"text":"email",value:u,onChange:y,onBlur:s,placeholder:S,disabled:i,className:X("h-10",a&&"border-destructive focus-visible:ring-destructive"),"aria-label":e.label,"aria-required":f,"aria-invalid":!!a,"aria-describedby":a?`${w}-error`:e.helper_text?`${w}-description`:void 0}),e.helper_text&&!a&&n.jsx("p",{id:`${w}-description`,className:"text-xs text-muted-foreground",children:e.helper_text}),a&&n.jsx("p",{id:`${w}-error`,className:"text-xs text-destructive font-medium",role:"alert",children:a})]})});qpe.displayName="EmailInput";const HDt=/^\+[1-9]\d{1,14}$/,VDt=e=>e?HDt.test(e):!1,WDt=e=>{if(!e)return"";if(e.startsWith("+1")&&e.length===12){const t=e.substring(2);return`(${t.substring(0,3)}) ${t.substring(3,6)}-${t.substring(6)}`}return e},z_=e=>{if(!e)return"";const t=e.replace(/[^\d+]/g,"");return t.startsWith("+")?"+"+t.substring(1).replace(/\+/g,""):t},qDt=e=>{if(e.default_value!==null&&e.default_value!==void 0){const t=String(e.default_value),r=z_(t);return r&&!r.startsWith("+")?"+"+r:r}if(e.current_value!==null&&e.current_value!==void 0){const t=String(e.current_value),r=z_(t);return r&&!r.startsWith("+")?"+"+r:r}return""},GDt=e=>e===2?{placeholder:"+   ",internationalLabel:"",helperHint:"      (: +   )",formattedLabel:":"}:e===3?{placeholder:"+34 612 345 678",internationalLabel:"Internacional",helperHint:"Ingresa el nmero con cdigo de pas (p. ej., +34 612 345 678)",formattedLabel:"Formateado:"}:{placeholder:"+1 (555) 123-4567",internationalLabel:"International",helperHint:"Enter phone number with country code (e.g., +1 555 123 4567)",formattedLabel:"Formatted:"},Gpe=v.forwardRef(({field:e,value:t,onChange:r,error:s,disabled:a=!1,className:i,languageId:o,onBlur:c},d)=>{const[u,l]=v.useState(()=>t!=null?String(t):e.current_value!==null&&e.current_value!==void 0?String(e.current_value):qDt(e)),[f,m]=v.useState(!1),p=e.rules?.some(T=>T.rule_name==="required")??!1,{placeholder:x,internationalLabel:b,helperHint:h,formattedLabel:y}=GDt(o);v.useEffect(()=>{t!=null&&l(String(t))},[t]),v.useEffect(()=>{m(u?VDt(z_(u)):!1)},[u]);const w=T=>{const D=T.target.value;l(D),r(D)},S=()=>{if(u){const T=z_(u);T!==u&&(l(T),r(T))}c&&c()},N=`phone-input-${e.field_id}`,_=e.placeholder||x,k=f?WDt(u):null,E=!!e.helper_text||!!k;return n.jsxs("div",{ref:d,className:X("space-y-2",i),children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Q,{htmlFor:N,className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(_y,{className:"h-4 w-4 text-emerald-500"}),e.label,p&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),n.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[n.jsx(JQ,{className:"h-3 w-3"}),n.jsx("span",{children:b})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none",children:n.jsx(_y,{className:"h-4 w-4 text-emerald-500"})}),n.jsx(ne,{id:N,type:"tel",value:u,onChange:w,onBlur:S,placeholder:_,disabled:a,className:X("pl-9 font-mono",s&&"border-destructive focus-visible:ring-destructive"),"aria-label":e.label,"aria-required":p,"aria-invalid":!!s,"aria-describedby":s?`${N}-error`:E?`${N}-description`:void 0})]}),k&&!s&&n.jsxs("div",{className:"flex items-center gap-2 text-xs text-emerald-600",children:[n.jsx("span",{className:"font-medium",children:y}),n.jsx("span",{className:"font-mono",children:k})]}),e.helper_text&&!s&&n.jsx("p",{id:`${N}-description`,className:"text-xs text-muted-foreground",children:e.helper_text}),!u&&!s&&!e.helper_text&&n.jsx("p",{id:`${N}-description`,className:"text-xs text-muted-foreground",children:h}),s&&n.jsx("p",{id:`${N}-error`,className:"text-xs text-destructive font-medium",role:"alert",children:s})]})});Gpe.displayName="PhoneInput";const YDt=e=>"",KDt=e=>{if(!e||e.length===0)return"weak";let t=0;return e.length>=8&&t++,e.length>=12&&t++,/[a-z]/.test(e)&&t++,/[A-Z]/.test(e)&&t++,/\d/.test(e)&&t++,/[^a-zA-Z0-9]/.test(e)&&t++,t<=2?"weak":t<=3?"fair":t<=4?"good":"strong"},ZDt=e=>{switch(e){case"weak":return"bg-red-500";case"fair":return"bg-orange-500";case"good":return"bg-yellow-500";case"strong":return"bg-green-500"}},XDt=e=>{switch(e){case"weak":return"text-red-600";case"fair":return"text-orange-600";case"good":return"text-yellow-600";case"strong":return"text-green-600"}},JDt=e=>{switch(e){case"weak":return 1;case"fair":return 2;case"good":return 3;case"strong":return 4}},QDt=e=>e===2?{placeholder:"  ...",showLabel:"  ",hideLabel:"  ",strengthLabel:"  "}:e===3?{placeholder:"Ingresa la contrasea...",showLabel:"Mostrar contrasea",hideLabel:"Ocultar contrasea",strengthLabel:"Fortaleza de la contrasea"}:{placeholder:"Enter password...",showLabel:"Show password",hideLabel:"Hide password",strengthLabel:"Password strength"},Ype=v.forwardRef(({field:e,value:t,onChange:r,error:s,disabled:a=!1,className:i,languageId:o,onBlur:c},d)=>{const[u,l]=v.useState(!1),[f,m]=v.useState(()=>t||(e.current_value&&typeof e.current_value=="string"?e.current_value:YDt())),p=e.rules?.some(M=>M.rule_name==="required")??!1,x=KDt(f),b=JDt(x),h=ZDt(x),y=XDt(x),{placeholder:w,showLabel:S,hideLabel:N,strengthLabel:_}=QDt(o);v.useEffect(()=>{t!==void 0&&t!==f&&m(t||"")},[t]);const k=M=>{const R=M.target.value;m(R),r(R)},E=()=>{c&&c()},T=()=>{l(M=>!M)},D=`password-input-${e.field_id}`,P=e.placeholder||w;return n.jsxs("div",{ref:d,className:X("space-y-2",i),children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ll,{className:"h-4 w-4 text-red-500"}),n.jsxs(Q,{htmlFor:D,className:"text-sm font-medium",children:[e.label,p&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none",children:n.jsx(Ll,{className:"h-4 w-4 text-red-500"})}),n.jsx(ne,{id:D,type:u?"text":"password",value:f,onChange:k,placeholder:P,disabled:a,className:X("pl-9 pr-10 h-10",s&&"border-destructive focus-visible:ring-destructive"),"aria-label":e.label,"aria-required":p,"aria-invalid":!!s,"aria-describedby":s?`${D}-error`:e.helper_text?`${D}-description`:void 0,onBlur:E}),n.jsx(W,{type:"button",size:"sm",variant:"ghost",onClick:T,disabled:a,className:"absolute right-1 top-1/2 -translate-y-1/2 h-8 px-2 hover:bg-transparent","aria-label":u?N:S,children:u?n.jsx(Em,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(ln,{className:"h-4 w-4 text-muted-foreground"})})]}),f&&f.length>0&&!s&&n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"flex gap-1",children:[1,2,3,4].map(M=>n.jsx("div",{className:X("h-1.5 flex-1 rounded-full transition-colors",M<=b?h:"bg-muted")},M))}),n.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[_,":"," ",n.jsx("span",{className:X("font-medium capitalize",y),children:x})]})]}),e.helper_text&&!s&&n.jsx("p",{id:`${D}-description`,className:"text-xs text-muted-foreground",children:e.helper_text}),s&&n.jsx("p",{id:`${D}-error`,className:"text-xs text-destructive font-medium",role:"alert",children:s})]})});Ype.displayName="PasswordInput";const ePt=e=>{if(!e)return e;const t=e.trim();return/^https?:\/\//i.test(t)?t:`https://${t}`},Kpe=e=>{if(!e)return!1;try{const t=new URL(e);return t.protocol==="http:"||t.protocol==="https:"}catch{return!1}},tPt=e=>e.default_value!==null&&e.default_value!==void 0?String(e.default_value):e.current_value!==null&&e.current_value!==void 0?String(e.current_value):"",rPt=e=>{if(!e||!Kpe(e))return"";try{return new URL(e).hostname}catch{return""}},sPt=e=>e===2?{placeholder:"https://example.com",openTitle:"     ",ariaSuffix:" -   "}:e===3?{placeholder:"https://ejemplo.com",openTitle:"Abrir enlace en una nueva pestaa",ariaSuffix:" - campo de entrada de URL"}:{placeholder:"https://example.com",openTitle:"Open link in new tab",ariaSuffix:" - URL input field"},Zpe=v.forwardRef(({field:e,value:t,onChange:r,onBlur:s,error:a,disabled:i=!1,className:o,languageId:c},d)=>{const[u,l]=v.useState(()=>t!=null?String(t):e.current_value!==null&&e.current_value!==void 0?String(e.current_value):tPt(e)),[f,m]=v.useState(!1),p=e.rules?.some(E=>E.rule_name==="required")??!1;v.useEffect(()=>{t!=null&&l(String(t))},[t]),v.useEffect(()=>{m(u?Kpe(u):!1)},[u]);const x=E=>{const T=E.target.value;l(T),r(T)},b=()=>{const E=u.trim();if(E===""){u!==""&&(l(""),r("")),s?.();return}const T=ePt(E);T!==u&&(l(T),r(T)),s?.()},h=()=>{!f||!u||(window.open(u,"_blank","noopener,noreferrer"),console.debug("[UrlInput] Opened link:",{fieldId:e.field_id,url:u}))},y=`url-input-${e.field_id}`,{placeholder:w,openTitle:S,ariaSuffix:N}=sPt(c),_=e.placeholder||w,k=f?rPt(u):null;return n.jsxs("div",{ref:d,className:X("space-y-2",o),"aria-label":`${e.label}${N}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Q,{htmlFor:y,className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(km,{className:"h-4 w-4 text-cyan-500"}),e.label,p&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),k&&n.jsx("span",{className:"text-xs text-cyan-600 font-mono",children:k})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none",children:n.jsx(km,{className:"h-4 w-4 text-cyan-500"})}),n.jsx(ne,{id:y,type:"url",value:u,onChange:x,onBlur:b,placeholder:_,disabled:i,className:X("pl-9 pr-20 h-10",a&&"border-destructive focus-visible:ring-destructive"),"aria-label":e.label,"aria-required":p,"aria-invalid":!!a,"aria-describedby":a?`${y}-error`:e.helper_text?`${y}-description`:void 0}),u&&n.jsx("div",{className:"absolute right-12 top-1/2 -translate-y-1/2 pointer-events-none",children:f?n.jsx(bs,{className:"h-4 w-4 text-green-500"}):n.jsx(Je,{className:"h-4 w-4 text-amber-500"})}),n.jsx(W,{type:"button",size:"sm",variant:"ghost",onClick:h,disabled:i||!f,className:"absolute right-1 top-1/2 -translate-y-1/2 h-8 px-2",title:S,children:n.jsx(u3,{className:"h-3 w-3"})})]}),e.helper_text&&!a&&n.jsx("p",{id:`${y}-description`,className:"text-xs text-muted-foreground",children:e.helper_text}),a&&n.jsx("p",{id:`${y}-error`,className:"text-xs text-destructive font-medium",role:"alert",children:a})]})});Zpe.displayName="UrlInput";const nPt=e=>{const t=e.some(s=>s.rule_name==="numeric"),r=e.some(s=>s.rule_name==="integer");return t&&r?{isNumeric:!0,isInteger:!1,allowDecimals:!0}:r?{isNumeric:!1,isInteger:!0,allowDecimals:!1}:{isNumeric:t,isInteger:!1,allowDecimals:!0}},aPt=e=>{const t=e.default_value;if(typeof t=="number"&&!isNaN(t))return t;if(typeof t=="string"){const r=parseFloat(t);if(!isNaN(r))return r}return null},iPt=e=>{const{allowDecimals:t}=nPt(e.rules||[]);return t},oPt=e=>iPt(e)?"any":"1",lPt=e=>e===2?{placeholder:""}:e===3?{placeholder:"0"}:{placeholder:"0"},Xpe=v.forwardRef(({field:e,value:t,onChange:r,error:s,disabled:a=!1,className:i,languageId:o,onBlur:c},d)=>{const[u,l]=v.useState(""),[f,m]=v.useState(!1);v.useEffect(()=>{if(f)return;let _=null;typeof t=="number"&&!isNaN(t)?_=t:typeof e.current_value=="number"&&!isNaN(e.current_value)?_=e.current_value:_=aPt(e),l(_===null?"":_.toString())},[e,t,f]);const p=e.rules?.some(_=>_.rule_name==="required")??!1,x=oPt(e),b=_=>{const k=_.target.value;if(k===""||k==="."||k==="-"||/^-?\d*\.?\d*$/.test(k))if(l(k),k===""||k==="."||k==="-")r(null);else{const E=parseFloat(k);isNaN(E)||r(E)}},h=()=>{if(m(!1),u&&u!=="."&&u!=="-"){const _=parseFloat(u);isNaN(_)||l(_.toString())}else l(""),r(null);c?.()},y=_=>{m(!0),setTimeout(()=>{_.target.select()},0)},w=`number-input-${e.field_id}`,{placeholder:S}=lPt(o),N=e.placeholder||S;return n.jsxs("div",{ref:d,className:X("space-y-2",i),children:[n.jsxs(Q,{htmlFor:w,className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Xm,{className:"h-4 w-4 text-green-500"}),e.label,p&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),n.jsx(ne,{id:w,type:"number",step:x,value:u,onChange:b,onBlur:h,onFocus:y,placeholder:N,disabled:a,className:X("h-10",s&&"border-destructive focus-visible:ring-destructive"),"aria-label":e.label,"aria-required":p,"aria-invalid":!!s,"aria-describedby":s?`${w}-error`:e.helper_text?`${w}-description`:void 0}),e.helper_text&&!s&&n.jsx("p",{id:`${w}-description`,className:"text-xs text-muted-foreground",children:e.helper_text}),s&&n.jsx("p",{id:`${w}-error`,className:"text-xs text-destructive font-medium",role:"alert",children:s})]})});Xpe.displayName="NumberInput";const cPt={symbol:"$"},dPt=e=>{const t=e.default_value;if(typeof t=="number"&&!isNaN(t))return t;if(typeof t=="string"){const r=parseFloat(t);if(!isNaN(r))return r}return null},E4=(e,t=2)=>{const r=typeof e=="string"?parseFloat(e):e;if(isNaN(r))return"";const a=r.toFixed(t).split("."),i=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");return t>0?`${i}.${a[1]}`:i},k4=e=>{const t=e.replace(/[^0-9.-]/g,""),r=parseFloat(t);return isNaN(r)?0:r},uPt=(e,t="")=>{if(e==="")return"";let r=e.replace(/[^0-9.]/g,"");const s=r.indexOf(".");if(s!==-1){const a=r.substring(0,s),i=r.substring(s+1).replace(/\./g,"");i.length<=2?r=a+"."+i:r=t}return r},fPt=e=>e===2?{placeholder:"0.00",ariaSuffix:" -   "}:e===3?{placeholder:"0,00",ariaSuffix:" - campo de importe de moneda"}:{placeholder:"0.00",ariaSuffix:" - currency amount field"},Jpe=v.forwardRef(({field:e,value:t,onChange:r,error:s,disabled:a=!1,className:i,currencySymbol:o=cPt.symbol,languageId:c,onBlur:d},u)=>{const[l,f]=v.useState(""),[m,p]=v.useState(!1),{placeholder:x,ariaSuffix:b}=fPt(c);v.useEffect(()=>{if(!m){if(t==null){const E=dPt(e);typeof E=="number"&&!isNaN(E)?f(E4(E)):f("");return}if(typeof t=="number"&&!isNaN(t)){f(E4(t));return}f("")}},[e,t,m]);const h=e.rules?.some(E=>E.rule_name==="required")??!1,y=E=>{const T=E.target.value,D=uPt(T,l);if(f(D),D===""||D==="."){r(null);return}const P=k4(D);isNaN(P)||r(P)},w=()=>{if(p(!1),l&&l!=="."){const E=k4(l);!isNaN(E)&&E!==0?f(E4(E)):E===0&&l!==""&&f("0.00")}else f("");d&&d()},S=E=>{if(p(!0),l){const T=k4(l);if(!isNaN(T)){const D=T.toString();f(D),setTimeout(()=>{E.target.select()},0)}}},N=E=>{const T=E.key,D=l;if(!/[0-9.]/.test(T)&&T!=="Backspace"&&T!=="Delete"&&T!=="ArrowLeft"&&T!=="ArrowRight"&&T!=="Tab"){E.preventDefault();return}if(T==="."&&D.includes(".")){E.preventDefault();return}const P=D.indexOf(".");if(P!==-1){const M=E.target.selectionStart||0,R=D.substring(P+1);M>P&&R.length>=2&&/[0-9]/.test(T)&&E.preventDefault()}},_=`currency-input-${e.field_id}`,k=e.placeholder||x;return n.jsxs("div",{ref:u,className:X("space-y-3",i),children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(lu,{className:"h-4 w-4 text-emerald-500"}),n.jsxs(Q,{htmlFor:_,className:"text-sm font-medium",children:[e.label,h&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-emerald-600 font-bold text-lg pointer-events-none z-10",children:o}),n.jsx(ne,{id:_,type:"text",inputMode:"decimal",value:l,onChange:y,onBlur:w,onFocus:S,onKeyDown:N,placeholder:k,disabled:a,className:X("h-11 pl-10 pr-4 text-right text-lg font-semibold","border-emerald-200 focus:border-emerald-500",s&&"border-destructive focus-visible:ring-destructive"),"aria-label":`${e.label}${b}`,"aria-required":h,"aria-invalid":!!s,"aria-describedby":s?`${_}-error`:e.helper_text?`${_}-description`:void 0})]}),e.helper_text&&!s&&n.jsx("p",{id:`${_}-description`,className:"text-xs text-muted-foreground",children:e.helper_text}),s&&n.jsx("p",{id:`${_}-error`,className:"text-xs text-destructive font-medium",role:"alert",children:s})]})});Jpe.displayName="CurrencyInput";const mPt=e=>{const t=e.default_value;if(typeof t=="number")return t;if(typeof t=="string"){const r=parseFloat(t);if(!isNaN(r))return r}return 0},RK=(e,t=0,r=100)=>Math.min(Math.max(e,t),r),hPt=(e,t=1)=>e.toFixed(t),A4=e=>{const t=parseFloat(e);return isNaN(t)?0:t},pPt=e=>e===2?{placeholder:""}:e===3?{placeholder:"0"}:{placeholder:"0"},Qpe=v.forwardRef(({field:e,value:t,onChange:r,onBlur:s,error:a,disabled:i=!1,className:o,languageId:c},d)=>{const[u,l]=v.useState(""),[f,m]=v.useState(!1),p=e.rules?.find($=>$.rule_name==="min"),x=e.rules?.find($=>$.rule_name==="max"),b=e.rules?.find($=>$.rule_name==="between"),h=b?.rule_props?.min,y=b?.rule_props?.max,w=p?.rule_props?.value,S=x?.rule_props?.value,N=h!=null&&!Number.isNaN(Number(h))?Number(h):w!=null&&!Number.isNaN(Number(w))?Number(w):0,_=y!=null&&!Number.isNaN(Number(y))?Number(y):S!=null&&!Number.isNaN(Number(S))?Number(S):100;v.useEffect(()=>{if(f)return;let $;typeof t=="number"&&!isNaN(t)?$=t:e.current_value&&typeof e.current_value=="number"?$=e.current_value:$=mPt(e),l($.toString())},[e,t,f]);const k=e.rules?.some($=>$.rule_name==="required")??!1,E=A4(u),T=RK(E,N,_),D=$=>{const I=$.target.value;if(I===""||I==="."||/^-?\d*\.?\d*$/.test(I))if(l(I),I===""||I==="."||I==="-")r(0);else{const z=A4(I);isNaN(z)||r(z)}},P=()=>{if(m(!1),u&&u!=="."){const $=A4(u);if(!isNaN($)){const I=RK($,N,_);l(hPt(I,1)),I!==$&&r(I)}}else l("0"),r(0);s?.()},M=$=>{m(!0),setTimeout(()=>{$.target.select()},0)},R=`percentage-input-${e.field_id}`,{placeholder:B}=pPt(c),L=e.placeholder||B;return n.jsxs("div",{ref:d,className:X("space-y-3",o),children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(p3,{className:"h-4 w-4 text-blue-500"}),n.jsxs(Q,{htmlFor:R,className:"text-sm font-medium",children:[e.label,k&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(ne,{id:R,type:"text",inputMode:"decimal",value:u,onChange:D,onBlur:P,onFocus:M,placeholder:L,disabled:i,className:X("h-11 pr-12 text-right text-lg font-semibold","border-blue-200 focus:border-blue-500",a&&"border-destructive focus-visible:ring-destructive"),"aria-label":e.label,"aria-required":k,"aria-invalid":!!a,"aria-describedby":a?`${R}-error`:e.helper_text?`${R}-description`:void 0}),n.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-blue-600 font-bold text-xl pointer-events-none",children:"%"})]}),n.jsx("div",{className:"p-4 border border-blue-200 rounded-lg bg-blue-50/50",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:"Progress:"}),n.jsxs("span",{className:"text-xs font-bold text-blue-600",children:[T.toFixed(1),"%"]})]}),n.jsx(Pu,{value:T,max:_,className:"h-4"}),n.jsxs("div",{className:"flex justify-between text-[10px] text-muted-foreground",children:[n.jsxs("span",{children:[N,"%"]}),n.jsxs("span",{className:"font-bold text-blue-600 text-sm",children:[T.toFixed(1),"%"]}),n.jsxs("span",{children:[_,"%"]})]})]})}),e.helper_text&&!a&&n.jsx("p",{id:`${R}-description`,className:"text-xs text-muted-foreground",children:e.helper_text}),a&&n.jsx("p",{id:`${R}-error`,className:"text-xs text-destructive font-medium",role:"alert",children:a})]})});Qpe.displayName="PercentageInput";const ege=e=>{let t=null,r=null,s=null,a=null;return e.forEach(i=>{const o=i.rule_props;switch(i.rule_name){case"before":o?.date&&(t=o.date);break;case"after":o?.date&&(r=o.date);break;case"before_or_equal":o?.date&&(s=o.date);break;case"after_or_equal":o?.date&&(a=o.date);break}}),{before:t,after:r,beforeOrEqual:s,afterOrEqual:a}},tge=(e,t)=>{const r=new Date(e),s=new Date(t);return r<s?-1:r>s?1:0},gPt=e=>{const t=e.default_value;return typeof t=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t)?t:""},xPt=e=>{const{after:t,afterOrEqual:r}=ege(e);return t&&r?tge(t,r)>0?t:r:t||r},vPt=e=>{const{before:t,beforeOrEqual:r}=ege(e);return t&&r?tge(t,r)<0?t:r:t||r},T4=e=>{if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return!1;const t=new Date(e);return!isNaN(t.getTime())},yPt=e=>e===2?{ariaSuffix:" -   "}:e===3?{ariaSuffix:" - campo de seleccin de fecha"}:{ariaSuffix:" - date selection field"},rge=v.forwardRef(({field:e,value:t,onChange:r,error:s,disabled:a=!1,className:i,languageId:o,onBlur:c},d)=>{const[u,l]=v.useState(()=>{if(t&&T4(t))return t;if(e.current_value&&typeof e.current_value=="string"){const w=e.current_value;if(T4(w))return w}return gPt(e)}),f=e.rules?.some(w=>w.rule_name==="required")??!1,m=xPt(e.rules||[]),p=vPt(e.rules||[]),{ariaSuffix:x}=yPt(o);v.useEffect(()=>{t&&T4(t)&&l(t)},[t]);const b=w=>{const S=w.target.value;l(S),r(S)},h=()=>{c&&c()},y=`date-input-${e.field_id}`;return n.jsxs("div",{ref:d,className:X("space-y-3",i),children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(bn,{className:"h-4 w-4 text-indigo-500"}),n.jsxs(Q,{htmlFor:y,className:"text-sm font-medium",children:[e.label,f&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsx("div",{className:"relative",children:n.jsx(ne,{id:y,type:"date",value:u,onChange:b,onBlur:h,min:m||void 0,max:p||void 0,disabled:a,className:X("h-10",s&&"border-destructive focus-visible:ring-destructive"),"aria-label":`${e.label}${x}`,"aria-required":f,"aria-invalid":!!s,"aria-describedby":s?`${y}-error`:e.helper_text?`${y}-description`:void 0})}),e.helper_text&&!s&&n.jsx("p",{id:`${y}-description`,className:"text-xs text-muted-foreground",children:e.helper_text}),s&&n.jsx("p",{id:`${y}-error`,className:"text-xs text-destructive font-medium",role:"alert",children:s})]})});rge.displayName="DateInput";const sge=e=>{let t=null,r=null,s=null,a=null;return e.forEach(i=>{const o=i.rule_props;switch(i.rule_name){case"before":o?.date&&(t=o.date);break;case"after":o?.date&&(r=o.date);break;case"before_or_equal":o?.date&&(s=o.date);break;case"after_or_equal":o?.date&&(a=o.date);break}}),{before:t,after:r,beforeOrEqual:s,afterOrEqual:a}},nge=(e,t)=>{const r=new Date(e),s=new Date(t);return r<s?-1:r>s?1:0},bPt=e=>{const t=e.default_value;return typeof t=="string"&&/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}/.test(t)?t.substring(0,16):""},wPt=e=>{const{after:t,afterOrEqual:r}=sge(e);return t&&r?nge(t,r)>0?t:r:t||r},jPt=e=>{const{before:t,beforeOrEqual:r}=sge(e);return t&&r?nge(t,r)<0?t:r:t||r},D4=e=>{if(!/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}/.test(e))return!1;const t=new Date(e);return!isNaN(t.getTime())},MK=e=>/^\d{4}-\d{2}-\d{2}T/.test(e)?e.substring(0,16):`${e}T00:00`,SPt=e=>e===2?{ariaSuffix:" -    "}:e===3?{ariaSuffix:" - campo de seleccin de fecha y hora"}:{ariaSuffix:" - date and time selection field"},age=v.forwardRef(({field:e,value:t,onChange:r,error:s,disabled:a=!1,className:i,languageId:o,onBlur:c},d)=>{const[u,l]=v.useState(()=>{if(t&&D4(t))return t.substring(0,16);if(e.current_value&&typeof e.current_value=="string"){const N=e.current_value;if(D4(N))return N.substring(0,16)}return bPt(e)}),f=e.rules?.some(N=>N.rule_name==="required")??!1,m=wPt(e.rules||[]),p=jPt(e.rules||[]),x=m?MK(m):void 0,b=p?MK(p):void 0,{ariaSuffix:h}=SPt(o);v.useEffect(()=>{t&&D4(t)&&l(t.substring(0,16))},[t]);const y=N=>{const _=N.target.value;l(_),r(_)},w=()=>{c&&c()},S=`datetime-input-${e.field_id}`;return n.jsxs("div",{ref:d,className:X("space-y-3",i),children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(o3,{className:"h-4 w-4 text-purple-500"}),n.jsxs(Q,{htmlFor:S,className:"text-sm font-medium",children:[e.label,f&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsx("div",{className:"relative",children:n.jsx(ne,{id:S,type:"datetime-local",value:u,onChange:y,onBlur:w,min:x,max:b,disabled:a,className:X("h-10",s&&"border-destructive focus-visible:ring-destructive"),"aria-label":`${e.label}${h}`,"aria-required":f,"aria-invalid":!!s,"aria-describedby":s?`${S}-error`:e.helper_text?`${S}-description`:void 0})}),e.helper_text&&!s&&n.jsx("p",{id:`${S}-description`,className:"text-xs text-muted-foreground",children:e.helper_text}),s&&n.jsx("p",{id:`${S}-error`,className:"text-xs text-destructive font-medium",role:"alert",children:s})]})});age.displayName="DateTimeInput";const NPt=/^([01]\d|2[0-3]):([0-5]\d)$/,oI=e=>NPt.test(e),CPt=e=>{if(e.default_value!==null&&e.default_value!==void 0){const t=String(e.default_value);if(oI(t))return t}if(e.current_value!==null&&e.current_value!==void 0){const t=String(e.current_value);if(oI(t))return t}return""},_Pt=e=>{if(!e||!oI(e))return"";const[t,r]=e.split(":").map(Number),s=t>=12?"PM":"AM";return`${t%12||12}:${r.toString().padStart(2,"0")} ${s}`},EPt=()=>{const e=new Date,t=e.getHours().toString().padStart(2,"0"),r=e.getMinutes().toString().padStart(2,"0");return`${t}:${r}`},kPt=e=>e===2?{placeholder:":",nowLabel:"",nowTitle:"   ",clearLabel:"",clearTitle:" ",ariaSuffix:" -   "}:e===3?{placeholder:"HH:MM",nowLabel:"Ahora",nowTitle:"Establecer a la hora actual",clearLabel:"Borrar",clearTitle:"Borrar hora",ariaSuffix:" - campo de entrada de hora"}:{placeholder:"HH:MM",nowLabel:"Now",nowTitle:"Set to current time",clearLabel:"Clear",clearTitle:"Clear time",ariaSuffix:" - time input field"},ige=v.forwardRef(({field:e,value:t,onChange:r,onBlur:s,error:a,disabled:i=!1,className:o,languageId:c},d)=>{const[u,l]=v.useState(()=>t!=null?String(t):e.current_value!==null&&e.current_value!==void 0?String(e.current_value):CPt(e)),f=e.rules?.some(T=>T.rule_name==="required")??!1;v.useEffect(()=>{t!=null&&l(String(t))},[t]);const m=T=>{const D=T.target.value;l(D),r(D)},p=()=>{if(i)return;const T=EPt();l(T),r(T),s?.()},x=()=>{i||(l(""),r(""),s?.())},b=`time-input-${e.field_id}`,{placeholder:h,nowLabel:y,nowTitle:w,clearLabel:S,clearTitle:N,ariaSuffix:_}=kPt(c),k=e.placeholder||h,E=u?_Pt(u):null;return n.jsxs("div",{ref:d,className:X("space-y-2",o),"aria-label":`${e.label}${_}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Q,{htmlFor:b,className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(po,{className:"h-4 w-4 text-teal-500"}),e.label,f&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),E&&n.jsx("span",{className:"text-xs font-medium text-teal-600",children:E})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ne,{id:b,type:"time",value:u,onChange:m,onBlur:s,placeholder:k,disabled:i,className:X("flex-1",a&&"border-destructive focus-visible:ring-destructive"),"aria-label":e.label,"aria-required":f,"aria-invalid":!!a,"aria-describedby":a?`${b}-error`:e.helper_text?`${b}-description`:void 0}),n.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:p,disabled:i,className:"shrink-0",title:w,children:y}),!f&&u&&n.jsx(W,{type:"button",variant:"ghost",size:"sm",onClick:x,disabled:i,className:"shrink-0",title:N,children:S})]}),e.helper_text&&!a&&n.jsx("p",{id:`${b}-description`,className:"text-xs text-muted-foreground",children:e.helper_text}),a&&n.jsx("p",{id:`${b}-error`,className:"text-xs text-destructive font-medium",role:"alert",children:a})]})});ige.displayName="TimeInput";const APt=e=>{const t=e.default_value;return typeof t=="boolean"?t:typeof t=="number"?t===1:typeof t=="string"?t==="1"||t.toLowerCase()==="true":!1},TPt=e=>typeof e=="boolean"?e:typeof e=="number"?e===1:typeof e=="string"?e==="1"||e.toLowerCase()==="true":!1,DPt=e=>e===2?{ariaDescriptionSuffix:" -  "}:e===3?{ariaDescriptionSuffix:" - casilla de verificacin"}:{ariaDescriptionSuffix:" - checkbox"},oge=v.forwardRef(({field:e,value:t,onChange:r,error:s,disabled:a=!1,className:i,languageId:o,onBlur:c},d)=>{const[u,l]=v.useState(()=>{if(typeof t=="boolean")return t;if(e.current_value!==null&&e.current_value!==void 0){const h=e.current_value;if(typeof h=="boolean"||typeof h=="number"||typeof h=="string")return TPt(h)}return APt(e)}),{ariaDescriptionSuffix:f}=DPt(o),m=e.rules?.some(h=>h.rule_name==="required")??!1;v.useEffect(()=>{typeof t=="boolean"&&l(t)},[t]);const p=h=>{l(h),r(h)},x=()=>{c&&c()},b=`checkbox-${e.field_id}`;return n.jsx("div",{ref:d,className:X("space-y-2",i),children:n.jsxs("div",{className:"flex items-start space-x-3",children:[m&&n.jsx("span",{className:"text-destructive text-sm font-medium pt-0.5",children:"*"}),n.jsx(dt,{id:b,checked:u,onCheckedChange:p,onBlur:x,disabled:a,"aria-required":m,"aria-invalid":!!s,"aria-describedby":s?`${b}-error`:e.helper_text?`${b}-description`:void 0,"aria-label":`${e.label}${f}`,className:X("mt-0.5",s&&"border-destructive data-[state=checked]:bg-destructive")}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsx(Q,{htmlFor:b,className:X("text-sm font-medium cursor-pointer leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",s&&"text-destructive"),children:e.label}),e.helper_text&&!s&&n.jsx("p",{id:`${b}-description`,className:"text-xs text-muted-foreground",children:e.helper_text}),s&&n.jsx("p",{id:`${b}-error`,className:"text-xs text-destructive font-medium",role:"alert",children:s})]})]})})});oge.displayName="CheckboxInput";const OK=e=>{if(e.default_value!==null&&e.default_value!==void 0){if(typeof e.default_value=="boolean")return e.default_value;if(typeof e.default_value=="number")return e.default_value===1;if(typeof e.default_value=="string"){const t=e.default_value.toLowerCase();return t==="1"||t==="true"||t==="yes"||t==="on"}}if(e.current_value!==null&&e.current_value!==void 0){if(typeof e.current_value=="boolean")return e.current_value;if(typeof e.current_value=="number")return e.current_value===1;if(typeof e.current_value=="string"){const t=e.current_value.toLowerCase();return t==="1"||t==="true"||t==="yes"||t==="on"}}return!1},PPt=e=>e===2?{enabledLabel:"",ariaSuffix:" -  "}:e===3?{enabledLabel:"Activado",ariaSuffix:" - interruptor"}:{enabledLabel:"Enabled",ariaSuffix:" - toggle switch"},lge=v.forwardRef(({field:e,value:t,onChange:r,onBlur:s,error:a,disabled:i=!1,className:o,languageId:c},d)=>{const[u,l]=v.useState(()=>typeof t=="boolean"?t:(e.current_value!==null&&e.current_value!==void 0,OK(e))),f=e.rules?.some(h=>h.rule_name==="required")??!1,{enabledLabel:m,ariaSuffix:p}=PPt(c);v.useEffect(()=>{typeof t=="boolean"&&l(t)},[t]);const x=h=>{l(h),r(h),s?.(),console.debug("[ToggleSwitch] Value changed:",{fieldId:e.field_id,value:h})},b=`toggle-${e.field_id}`;return n.jsxs("div",{ref:d,className:X("space-y-3",o),"aria-label":`${e.label}${p}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(v3,{className:"h-4 w-4 text-teal-500"}),n.jsxs(Q,{className:"text-sm font-medium",children:[e.label,f&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsxs("div",{className:X("flex items-center justify-between p-3 border rounded-lg transition-colors",a?"border-destructive bg-destructive/5":"border-border bg-card hover:bg-accent/50",i&&"opacity-60 cursor-not-allowed"),children:[n.jsxs("div",{className:"flex-1 pr-4",children:[n.jsx("p",{className:"text-sm font-medium",children:e.label}),e.helper_text&&!a&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:e.helper_text}),a&&n.jsx("p",{className:"text-xs text-destructive font-medium mt-1",role:"alert",id:`${b}-error`,children:a})]}),n.jsx(ys,{id:b,checked:u,onCheckedChange:x,disabled:i,className:X("data-[state=checked]:bg-teal-500",a&&"data-[state=unchecked]:border-destructive"),"aria-label":e.label,"aria-required":f,"aria-invalid":!!a,"aria-describedby":a?`${b}-error`:void 0})]}),u&&!a&&n.jsxs("div",{className:"flex items-center gap-2 text-xs text-teal-600",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-teal-500 animate-pulse"}),n.jsx("span",{className:"font-medium",children:m})]})]})});lge.displayName="ToggleSwitch";const cge=e=>{try{if(!e.placeholder)return[];const t=JSON.parse(e.placeholder);return Array.isArray(t)?t.filter(r=>typeof r=="string"):[]}catch(t){return console.warn("[radioButtonValidation] Failed to parse options:",t),[]}},RPt=e=>{try{const t=e.default_value;return typeof t=="string"?t:""}catch(t){return console.warn("[radioButtonValidation] Failed to parse default value:",t),""}},MPt=e=>{const t=RPt(e),r=cge(e);return t&&r.includes(t)?t:""},OPt=e=>e===2?{noOptionsText:"         ",ariaSuffix:" -   "}:e===3?{noOptionsText:"No hay opciones disponibles para este campo de botn de opcin",ariaSuffix:" - grupo de botones de opcin"}:{noOptionsText:"No options available for this radio button field",ariaSuffix:" - radio button group"},dge=v.forwardRef(({field:e,value:t,onChange:r,onBlur:s,error:a,disabled:i=!1,className:o,languageId:c},d)=>{const u=cge(e),{noOptionsText:l,ariaSuffix:f}=OPt(c),[m,p]=v.useState(()=>t||(e.current_value&&typeof e.current_value=="string"&&u.includes(e.current_value)?e.current_value:MPt(e))),x=e.rules?.some(w=>w.rule_name==="required")??!1;v.useEffect(()=>{t!==void 0&&p(t||"")},[t]);const b=w=>{p(w),r(w)},h=w=>{w.currentTarget.contains(w.relatedTarget)||s?.()},y=`radio-group-${e.field_id}`;return u.length===0?n.jsxs("div",{ref:d,className:X("space-y-2",o),children:[n.jsxs(Q,{className:"text-sm font-medium text-muted-foreground",children:[e.label,x&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),n.jsx("div",{className:"p-3 border border-yellow-300 bg-yellow-50 rounded-md",children:n.jsx("p",{className:"text-xs text-yellow-800",children:l})})]}):n.jsxs("div",{ref:d,className:X("space-y-2",o),onBlur:h,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ju,{className:"h-4 w-4 text-cyan-500"}),n.jsxs(Q,{className:"text-sm font-medium",id:y,children:[e.label,x&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsx(of,{value:m,onValueChange:b,disabled:i,className:X(a&&"border border-destructive rounded-lg p-3 bg-destructive/5"),"aria-labelledby":y,"aria-label":`${e.label}${f}`,"aria-required":x,"aria-invalid":!!a,children:n.jsx("div",{className:"space-y-3",children:u.map((w,S)=>{const N=`${y}-option-${S}`;return n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(rd,{value:w,id:N,className:X(a&&"border-destructive")}),n.jsx(Q,{htmlFor:N,className:"text-sm font-normal cursor-pointer leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:w})]},`${w}-${S}`)})})}),e.helper_text&&!a&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text}),a&&n.jsx("p",{className:"text-xs text-destructive font-medium",role:"alert",children:a})]})});dge.displayName="RadioButton";const uge=e=>{try{if(!e.placeholder)return[];const t=JSON.parse(e.placeholder);return Array.isArray(t)?t.filter(r=>typeof r=="string"):[]}catch(t){return console.warn("[dropdownSelectValidation] Failed to parse options:",t),[]}},IPt=e=>{const t=e.default_value;return typeof t=="string"&&uge(e).includes(t)?t:""},FPt=e=>e===2?{placeholder:" ...",noOptionsText:"     ",ariaSuffix:" -  "}:e===3?{placeholder:"Selecciona una opcin...",noOptionsText:"No hay opciones disponibles para este men",ariaSuffix:" - men desplegable"}:{placeholder:"Select an option...",noOptionsText:"No options available for this dropdown",ariaSuffix:" - dropdown"},fge=v.forwardRef(({field:e,value:t,onChange:r,onBlur:s,error:a,disabled:i=!1,className:o,languageId:c},d)=>{const u=uge(e),[l,f]=v.useState(()=>t||(e.current_value&&typeof e.current_value=="string"&&u.includes(e.current_value)?e.current_value:IPt(e))),m=e.rules?.some(S=>S.rule_name==="required")??!1,{placeholder:p,noOptionsText:x,ariaSuffix:b}=FPt(c);v.useEffect(()=>{t!=null&&f(t)},[t]);const h=S=>{f(S),r(S)},y=()=>{s?.()},w=`dropdown-select-${e.field_id}`;return u.length===0?n.jsxs("div",{ref:d,className:X("space-y-2",o),children:[n.jsxs(Q,{className:"text-sm font-medium text-muted-foreground",children:[e.label,m&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),n.jsx("div",{className:"p-3 border border-yellow-300 bg-yellow-50 rounded-md",children:n.jsx("p",{className:"text-xs text-yellow-800",children:x})})]}):n.jsxs("div",{ref:d,className:X("space-y-2",o),children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Eo,{className:"h-4 w-4 text-sky-500"}),n.jsxs(Q,{htmlFor:w,className:"text-sm font-medium",children:[e.label,m&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsxs(xt,{value:l,onValueChange:h,disabled:i,children:[n.jsx(ft,{id:w,onBlur:y,className:X("h-10",a&&"border-destructive focus:ring-destructive"),"aria-label":`${e.label}${b}`,"aria-required":m,"aria-invalid":!!a,"aria-describedby":a?`${w}-error`:e.helper_text?`${w}-description`:void 0,children:n.jsx(vt,{placeholder:p})}),n.jsx(mt,{children:u.map((S,N)=>n.jsx(Ue,{value:S,children:S},`${S}-${N}`))})]}),e.helper_text&&!a&&n.jsx("p",{id:`${w}-description`,className:"text-xs text-muted-foreground",children:e.helper_text}),a&&n.jsx("p",{id:`${w}-error`,className:"text-xs text-destructive font-medium",role:"alert",children:a})]})});fge.displayName="DropdownSelect";const mge=e=>{try{if(!e.placeholder)return[];const t=JSON.parse(e.placeholder);return Array.isArray(t)?t.filter(r=>typeof r=="string"):[]}catch(t){return console.warn("[multiSelectValidation] Failed to parse options:",t),[]}},$Pt=e=>{try{const t=e.default_value;if(Array.isArray(t))return t.filter(r=>typeof r=="string");if(typeof t=="string"){const r=JSON.parse(t);return Array.isArray(r)?r.filter(s=>typeof s=="string"):[]}return[]}catch(t){return console.warn("[multiSelectValidation] Failed to parse default values:",t),[]}},LPt=e=>{const t=$Pt(e),r=mge(e);return t.filter(s=>r.includes(s))},BPt=e=>e===2?{noOptionsText:"       ",selectedSingular:" ",selectedPlural:" ",ariaSuffix:" -   "}:e===3?{noOptionsText:"No hay opciones disponibles para este campo de seleccin mltiple",selectedSingular:"elemento seleccionado",selectedPlural:"elementos seleccionados",ariaSuffix:" - campo de seleccin mltiple"}:{noOptionsText:"No options available for this multi-select field",selectedSingular:"item selected",selectedPlural:"items selected",ariaSuffix:" - multi-select field"},hge=v.forwardRef(({field:e,value:t,onChange:r,error:s,disabled:a=!1,className:i,languageId:o,onBlur:c},d)=>{const u=mge(e),[l,f]=v.useState(()=>t&&Array.isArray(t)?t:e.current_value&&Array.isArray(e.current_value)?e.current_value.filter(_=>typeof _=="string"&&u.includes(_)):LPt(e)),m=e.rules?.some(_=>_.rule_name==="required")??!1,{noOptionsText:p,selectedSingular:x,selectedPlural:b,ariaSuffix:h}=BPt(o);v.useEffect(()=>{t!==void 0&&Array.isArray(t)&&f(t)},[t]);const y=(_,k)=>{let E;k?E=[...l,_]:E=l.filter(T=>T!==_),f(E),r(E)},w=_=>l.includes(_),S=_=>{_.currentTarget.contains(_.relatedTarget)||c&&c()},N=`multi-select-${e.field_id}`;return u.length===0?n.jsxs("div",{ref:d,className:X("space-y-2",i),children:[n.jsxs(Q,{className:"text-sm font-medium text-muted-foreground",children:[e.label,m&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),n.jsx("div",{className:"p-3 border border-yellow-300 bg-yellow-50 rounded-md",children:n.jsx("p",{className:"text-xs text-yellow-800",children:p})})]}):n.jsxs("div",{ref:d,className:X("space-y-3",i),onBlur:S,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ox,{className:"h-4 w-4 text-indigo-500"}),n.jsxs(Q,{className:"text-sm font-medium",id:N,children:[e.label,m&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsx("div",{className:X("space-y-3 p-4 border rounded-lg",s?"border-destructive bg-destructive/5":"bg-muted/30"),role:"group","aria-labelledby":N,"aria-label":`${e.label}${h}`,"aria-required":m,"aria-invalid":!!s,children:u.map((_,k)=>{const E=`${N}-option-${k}`,T=w(_);return n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(dt,{id:E,checked:T,onCheckedChange:D=>{y(_,D===!0)},disabled:a,className:X("mt-0.5",s&&"border-destructive")}),n.jsx(Q,{htmlFor:E,className:"text-sm font-normal cursor-pointer leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:_})]},`${_}-${k}`)})}),l.length>0&&!s&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.length," ",l.length===1?x:b]}),e.helper_text&&!s&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text}),s&&n.jsx("p",{className:"text-xs text-destructive font-medium",role:"alert",children:s})]})});hge.displayName="MultiSelect";const zPt=e=>{let t=null,r=null,s=null;return e.forEach(a=>{switch(a.rule_name){case"min_file_size":const i=a.rule_props;i?.minsize&&(t=i.minsize);break;case"max_file_size":const o=a.rule_props;o?.maxsize&&(r=o.maxsize);break;case"mimetypes":const c=a.rule_props;c?.types&&(s=c.types);break}}),{minSize:t,maxSize:r,mimeTypes:s}},IK=e=>e<1024?`${e} KB`:`${(e/1024).toFixed(1)} MB`,UPt=e=>e.size/1024,HPt=e=>{const{mimeTypes:t}=zPt(e);return t?.join(",")},VPt=e=>{const t=e.map(r=>r.startsWith("image/")?"Images":r.startsWith("video/")?"Videos":r.startsWith("audio/")?"Audio":r==="application/pdf"?"PDF":r.includes("word")?"Word":r.includes("excel")||r.includes("spreadsheet")?"Excel":r.includes("powerpoint")||r.includes("presentation")?"PowerPoint":r.split("/")[1]?.toUpperCase()||r);return[...new Set(t)].join(", ")},WPt=e=>e===2?{mainText:"     ",browseText:"",acceptedPrefix:"  : ",maxPrefix:" : ",ariaSuffix:" -   "}:e===3?{mainText:"Arrastra y suelta el archivo aqu, o ",browseText:"explorar",acceptedPrefix:"Aceptados: ",maxPrefix:"Mx.: ",ariaSuffix:" - campo de carga de archivos"}:{mainText:"Drag and drop file here, or ",browseText:"browse",acceptedPrefix:"Accepted: ",maxPrefix:"Max: ",ariaSuffix:" - file upload field"},pge=v.forwardRef(({field:e,value:t,onChange:r,error:s,disabled:a=!1,className:i,languageId:o},c)=>{const d=v.useRef(null),[u,l]=v.useState(!1),[f,m]=v.useState(t||null),p=e.rules?.some(H=>H.rule_name==="required")??!1,x=HPt(e.rules||[]),h=e.rules?.find(H=>H.rule_name==="mimetypes")?.rule_props?.types||[],y=h.length>0?VPt(h):"All files",S=e.rules?.find(H=>H.rule_name==="max_file_size")?.rule_props?.maxsize,{mainText:N,browseText:_,acceptedPrefix:k,maxPrefix:E,ariaSuffix:T}=WPt(o);v.useEffect(()=>{t instanceof File?m(t):t===null&&m(null)},[t]);const D=H=>{m(H),r(H)},P=H=>{const Z=H.target.files?.[0];Z&&D(Z)},M=H=>{H.preventDefault(),H.stopPropagation(),a||l(!0)},R=H=>{H.preventDefault(),H.stopPropagation(),l(!1)},B=H=>{H.preventDefault(),H.stopPropagation()},L=H=>{if(H.preventDefault(),H.stopPropagation(),l(!1),a)return;const Z=H.dataTransfer.files?.[0];Z&&D(Z)},$=()=>{m(null),r(null),d.current&&(d.current.value="")},I=()=>{d.current?.click()},z=`file-upload-${e.field_id}`;return n.jsxs("div",{ref:c,className:X("space-y-3",i),children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(bo,{className:"h-4 w-4 text-violet-500"}),n.jsxs(Q,{htmlFor:z,className:"text-sm font-medium",children:[e.label,p&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),f?n.jsx("div",{className:"border-2 border-green-300 bg-green-50/30 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(bs,{className:"h-5 w-5 text-green-600 flex-shrink-0"}),n.jsx(f3,{className:"h-5 w-5 text-green-600 flex-shrink-0"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-green-900 truncate",children:f.name}),n.jsxs("p",{className:"text-xs text-green-700",children:[IK(UPt(f))," "," ",f.type||"Unknown type"]})]}),n.jsx(W,{type:"button",variant:"ghost",size:"sm",onClick:$,disabled:a,className:"flex-shrink-0",children:n.jsx(Kr,{className:"h-4 w-4"})})]})}):n.jsxs("div",{className:X("border-2 border-dashed rounded-lg p-8 transition-colors text-center",u?"border-violet-500 bg-violet-50":s?"border-destructive bg-destructive/5":"border-violet-300 bg-violet-50/30",a&&"opacity-50 cursor-not-allowed"),onDragEnter:M,onDragOver:B,onDragLeave:R,onDrop:L,children:[n.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[n.jsx(bo,{className:"h-10 w-10 text-violet-400"}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:[N,n.jsx("button",{type:"button",onClick:I,disabled:a,className:"text-violet-600 hover:text-violet-700 font-medium underline",children:_})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[k,y,S&&`  ${E}${IK(S)}`]})]})]}),n.jsx("input",{ref:d,id:z,type:"file",accept:x,onChange:P,disabled:a,className:"hidden","aria-label":`${e.label}${T}`,"aria-required":p,"aria-invalid":!!s})]}),e.helper_text&&!s&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text}),s&&n.jsx("p",{className:"text-xs text-destructive font-medium",role:"alert",children:s})]})});pge.displayName="FileUpload";const qPt=e=>{let t=null,r=null,s=null,a=null;return e.forEach(i=>{switch(i.rule_name){case"min_file_size":const o=i.rule_props;o?.minsize&&(t=o.minsize);break;case"max_file_size":const c=i.rule_props;c?.maxsize&&(r=c.maxsize);break;case"mimetypes":const d=i.rule_props;d?.types&&(s=d.types);break;case"dimensions":a=i.rule_props;break}}),{minSize:t,maxSize:r,mimeTypes:s,dimensions:a}},FK=e=>e<1024?`${e} KB`:`${(e/1024).toFixed(1)} MB`,GPt=e=>e.size/1024,YPt=e=>new Promise((t,r)=>{const s=new Image,a=URL.createObjectURL(e);s.onload=()=>{URL.revokeObjectURL(a),t({width:s.naturalWidth,height:s.naturalHeight})},s.onerror=()=>{URL.revokeObjectURL(a),r(new Error("Failed to load image"))},s.src=a}),KPt=e=>{const{mimeTypes:t}=qPt(e);return t?.join(",")||"image/*"},ZPt=e=>{const t=[];return e.width&&t.push(`${e.width}px width`),e.height&&t.push(`${e.height}px height`),e.minwidth&&t.push(`min ${e.minwidth}px width`),e.maxwidth&&t.push(`max ${e.maxwidth}px width`),e.minheight&&t.push(`min ${e.minheight}px height`),e.maxheight&&t.push(`max ${e.maxheight}px height`),t.join(", ")},XPt=e=>e===2?{mainText:"     ",browseText:"",maxPrefix:" : ",removeButton:" ",ariaSuffix:" -   "}:e===3?{mainText:"Arrastra y suelta la imagen aqu, o ",browseText:"explorar",maxPrefix:"Mx.: ",removeButton:"Eliminar imagen",ariaSuffix:" - campo de carga de imgenes"}:{mainText:"Drag and drop image here, or ",browseText:"browse",maxPrefix:"Max: ",removeButton:"Remove Image",ariaSuffix:" - image upload field"},gge=v.forwardRef(({field:e,value:t,onChange:r,error:s,disabled:a=!1,className:i,languageId:o},c)=>{const d=v.useRef(null),[u,l]=v.useState(!1),[f,m]=v.useState(t||null),[p,x]=v.useState(null),[b,h]=v.useState(null),y=e.rules?.some(U=>U.rule_name==="required")??!1,w=KPt(e.rules||[]),N=e.rules?.find(U=>U.rule_name==="max_file_size")?.rule_props?.maxsize,k=e.rules?.find(U=>U.rule_name==="dimensions")?.rule_props,{mainText:E,browseText:T,maxPrefix:D,removeButton:P,ariaSuffix:M}=XPt(o);v.useEffect(()=>{t instanceof File?(m(t),R(t)):t===null&&(m(null),x(null),h(null))},[t]);const R=async U=>{p&&URL.revokeObjectURL(p);const Y=URL.createObjectURL(U);x(Y);try{const K=await YPt(U);h(K)}catch{h(null)}},B=U=>{m(U),r(U),R(U)},L=U=>{const Y=U.target.files?.[0];Y&&B(Y)},$=U=>{U.preventDefault(),U.stopPropagation(),a||l(!0)},I=U=>{U.preventDefault(),U.stopPropagation(),l(!1)},z=U=>{U.preventDefault(),U.stopPropagation()},H=U=>{if(U.preventDefault(),U.stopPropagation(),l(!1),a)return;const Y=U.dataTransfer.files?.[0];Y&&Y.type.startsWith("image/")&&B(Y)},Z=()=>{p&&URL.revokeObjectURL(p),m(null),x(null),h(null),r(null),d.current&&(d.current.value="")},V=()=>{d.current?.click()};v.useEffect(()=>()=>{p&&URL.revokeObjectURL(p)},[p]);const G=`image-upload-${e.field_id}`;return n.jsxs("div",{ref:c,className:X("space-y-3",i),children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ny,{className:"h-4 w-4 text-pink-500"}),n.jsxs(Q,{htmlFor:G,className:"text-sm font-medium",children:[e.label,y&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsxs("div",{className:X("border-2 border-dashed rounded-lg transition-colors overflow-hidden",u?"border-pink-500 bg-pink-50":s?"border-destructive bg-destructive/5":"border-pink-300 bg-pink-50/30",a&&"opacity-50 cursor-not-allowed"),onDragEnter:$,onDragOver:z,onDragLeave:I,onDrop:H,children:[n.jsx("div",{className:"aspect-video bg-gradient-to-br from-pink-100 to-purple-100 flex items-center justify-center relative",children:p?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:p,alt:"Preview",className:"w-full h-full object-contain"}),f&&n.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 text-white px-2 py-1 rounded text-xs flex items-center gap-2",children:[n.jsx(bs,{className:"h-3 w-3"}),b&&n.jsxs("span",{children:[b.width,"  ",b.height]})]})]}):n.jsx(Ny,{className:"h-20 w-20 text-pink-300"})}),n.jsx("div",{className:"p-4 text-center border-t border-pink-200",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx(bo,{className:"h-6 w-6 text-pink-400"}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:[E,n.jsx("button",{type:"button",onClick:V,disabled:a,className:"text-pink-600 hover:text-pink-700 font-medium underline",children:T})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[N&&`${D}${FK(N)}`,k&&`  ${ZPt(k)}`]})]}),f&&n.jsxs(W,{type:"button",variant:"outline",size:"sm",onClick:Z,disabled:a,className:"mt-2",children:[n.jsx(Kr,{className:"h-4 w-4 mr-1"}),P]})]})}),n.jsx("input",{ref:d,id:G,type:"file",accept:w,onChange:L,disabled:a,className:"hidden","aria-label":`${e.label}${M}`,"aria-required":y,"aria-invalid":!!s})]}),f&&n.jsxs("div",{className:"text-xs text-muted-foreground",children:[n.jsx("span",{className:"font-medium",children:f.name})," "," ",FK(GPt(f))]}),e.helper_text&&!s&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text}),s&&n.jsx("p",{className:"text-xs text-destructive font-medium",role:"alert",children:s})]})});gge.displayName="ImageUpload";const JPt=e=>{let t=null,r=null;const s=e.find(i=>i.rule_name==="min_file_size");if(s?.rule_props){const i=s.rule_props;typeof i.minsize=="number"&&(t=i.minsize)}const a=e.find(i=>i.rule_name==="max_file_size");if(a?.rule_props){const i=a.rule_props;typeof i.maxsize=="number"&&(r=i.maxsize)}return{minSize:t,maxSize:r}},QPt=e=>{const t=e.find(r=>r.rule_name==="mimetypes");if(t?.rule_props){const r=t.rule_props;if(r.types&&Array.isArray(r.types))return r.types}return["video/*"]},xge=e=>{if(e===0)return"0 Bytes";const t=1024,r=["Bytes","KB","MB","GB"],s=Math.floor(Math.log(e)/Math.log(t));return`${parseFloat((e/Math.pow(t,s)).toFixed(2))} ${r[s]}`},eRt=e=>e*1024,tRt=e=>QPt(e.rules||[]).join(","),rRt=e=>{const{maxSize:t}=JPt(e.rules||[]);return t!==null?xge(eRt(t)):null},sRt=e=>e===2?{dragPrompt:"      ",dropPrompt:"  ",removeTitle:" ",previewLabel:" ",ariaSuffix:" -   "}:e===3?{dragPrompt:"Arrastra y suelta el video aqu o haz clic para buscar",dropPrompt:"Suelta el video aqu",removeTitle:"Eliminar video",previewLabel:"Vista previa del video",ariaSuffix:" - campo de carga de video"}:{dragPrompt:"Drag and drop video here, or click to browse",dropPrompt:"Drop video here",removeTitle:"Remove video",previewLabel:"Video Preview",ariaSuffix:" - video upload field"},vge=v.forwardRef(({field:e,value:t,onChange:r,error:s,disabled:a=!1,className:i,languageId:o},c)=>{const d=v.useRef(null),u=v.useRef(null),[l,f]=v.useState(null),[m,p]=v.useState(!1),x=e.rules?.some(L=>L.rule_name==="required")??!1,b=tRt(e),h=rRt(e),{dragPrompt:y,dropPrompt:w,removeTitle:S,previewLabel:N,ariaSuffix:_}=sRt(o);v.useEffect(()=>{if(t&&t instanceof File){const L=URL.createObjectURL(t);return f({name:t.name,size:t.size,type:t.type,url:L}),()=>URL.revokeObjectURL(L)}else f(null)},[t]);const k=L=>{r(L)},E=L=>{const $=L.target.files?.[0]||null;k($)},T=L=>{L.preventDefault(),L.stopPropagation(),a||p(!0)},D=L=>{L.preventDefault(),L.stopPropagation(),p(!1)},P=L=>{if(L.preventDefault(),L.stopPropagation(),p(!1),a)return;const $=L.dataTransfer.files?.[0];$&&$.type.startsWith("video/")&&k($)},M=()=>{a||d.current?.click()},R=L=>{L.stopPropagation(),k(null),d.current&&(d.current.value="")},B=`video-upload-${e.field_id}`;return n.jsxs("div",{ref:c,className:X("space-y-2",i),"aria-label":`${e.label}${_}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Q,{htmlFor:B,className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(y3,{className:"h-4 w-4 text-purple-500"}),e.label,x&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),h&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Max: ",h]})]}),n.jsxs("div",{onDragOver:T,onDragLeave:D,onDrop:P,onClick:M,className:X("border-2 border-dashed rounded-md transition-colors cursor-pointer",m&&"border-purple-500 bg-purple-50",!m&&!s&&"border-purple-300 bg-purple-50/30 hover:bg-purple-50/50",s&&"border-destructive bg-destructive/5",a&&"opacity-60 cursor-not-allowed"),children:[n.jsx("input",{ref:d,id:B,type:"file",accept:b,onChange:E,disabled:a,className:"hidden","aria-label":e.label,"aria-required":x,"aria-invalid":!!s,"aria-describedby":s?`${B}-error`:e.helper_text?`${B}-description`:void 0}),l?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"aspect-video bg-gradient-to-br from-purple-900 to-indigo-900 rounded-t-md relative overflow-hidden",children:n.jsx("video",{ref:u,src:l.url,className:"w-full h-full object-contain",controls:!0,children:"Your browser does not support the video tag."})}),n.jsx("div",{className:"p-4 border-t border-purple-200 bg-white rounded-b-md",children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[n.jsx(p$e,{className:"h-5 w-5 text-purple-500 shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:l.name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:xge(l.size)})]})]}),!a&&n.jsx(W,{type:"button",variant:"ghost",size:"sm",onClick:R,className:"shrink-0 h-8 w-8 p-0",title:S,children:n.jsx(kt,{className:"h-4 w-4 text-destructive"})})]})})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"aspect-video bg-gradient-to-br from-purple-900 to-indigo-900 rounded-t-md flex items-center justify-center relative",children:[n.jsxs("div",{className:"text-center",children:[n.jsx(AC,{className:"h-16 w-16 text-white/40 mx-auto mb-2"}),n.jsx("p",{className:"text-white/60 text-sm font-medium",children:N})]}),n.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 p-2 flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center",children:n.jsx(AC,{className:"h-4 w-4 text-white"})}),n.jsx("div",{className:"flex-1 h-1 bg-white/20 rounded-full",children:n.jsx("div",{className:"w-0 h-full bg-purple-400 rounded-full"})}),n.jsx("span",{className:"text-white text-xs",children:"0:00 / 0:00"})]})]}),n.jsx("div",{className:"p-4 text-center border-t border-purple-200",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx(bo,{className:"h-6 w-6 text-purple-400"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:m?w:y}),h&&n.jsxs("p",{className:"text-xs text-muted-foreground/70",children:["Maximum file size: ",h]})]})})]})]}),e.helper_text&&!s&&n.jsx("p",{id:`${B}-description`,className:"text-xs text-muted-foreground",children:e.helper_text}),s&&n.jsx("p",{id:`${B}-error`,className:"text-xs text-destructive font-medium",role:"alert",children:s})]})});vge.displayName="VideoUpload";const nRt=e=>{let t=null,r=null,s=null;return e.forEach(a=>{switch(a.rule_name){case"min_file_size":const i=a.rule_props;i?.minsize&&(t=i.minsize);break;case"max_file_size":const o=a.rule_props;o?.maxsize&&(r=o.maxsize);break;case"mimetypes":const c=a.rule_props;c?.types&&(s=c.types);break}}),{minSize:t,maxSize:r,mimeTypes:s}},$K=e=>e<1024?`${e} KB`:`${(e/1024).toFixed(1)} MB`,aRt=e=>e.size/1024,iRt=e=>{const{mimeTypes:t}=nRt(e);return t?.join(",")},oRt=e=>{const t=e.map(r=>r==="application/pdf"?"PDF":r.includes("word")?"Word":r.includes("excel")||r.includes("spreadsheet")?"Excel":r.includes("powerpoint")||r.includes("presentation")?"PowerPoint":r.startsWith("image/")?"Images":r.split("/")[1]?.toUpperCase()||r);return[...new Set(t)].join(", ")},lRt=e=>e===2?{pdfLabel:"PDF",wordLabel:"",excelLabel:"",pptLabel:"",mainText:"     ",browseText:"",acceptedPrefix:"  : ",maxPrefix:" : ",ariaSuffix:" -   "}:e===3?{pdfLabel:"PDF",wordLabel:"Word",excelLabel:"Excel",pptLabel:"PPT",mainText:"Arrastra y suelta el documento aqu, o ",browseText:"explorar",acceptedPrefix:"Aceptados: ",maxPrefix:"Mx.: ",ariaSuffix:" - campo de carga de documentos"}:{pdfLabel:"PDF",wordLabel:"Word",excelLabel:"Excel",pptLabel:"PPT",mainText:"Drag and drop document here, or ",browseText:"browse",acceptedPrefix:"Accepted: ",maxPrefix:"Max: ",ariaSuffix:" - document upload field"},yge=v.forwardRef(({field:e,value:t,onChange:r,error:s,disabled:a=!1,className:i,languageId:o},c)=>{const d=v.useRef(null),[u,l]=v.useState(!1),[f,m]=v.useState(t||null),p=e.rules?.some(U=>U.rule_name==="required")??!1,x=iRt(e.rules||[]),h=e.rules?.find(U=>U.rule_name==="mimetypes")?.rule_props?.types||[],y=h.length>0?oRt(h):"All files",S=e.rules?.find(U=>U.rule_name==="max_file_size")?.rule_props?.maxsize,{pdfLabel:N,wordLabel:_,excelLabel:k,pptLabel:E,mainText:T,browseText:D,acceptedPrefix:P,maxPrefix:M,ariaSuffix:R}=lRt(o);v.useEffect(()=>{t instanceof File?m(t):t===null&&m(null)},[t]);const B=U=>{m(U),r(U)},L=U=>{const Y=U.target.files?.[0];Y&&B(Y)},$=U=>{U.preventDefault(),U.stopPropagation(),a||l(!0)},I=U=>{U.preventDefault(),U.stopPropagation(),l(!1)},z=U=>{U.preventDefault(),U.stopPropagation()},H=U=>{if(U.preventDefault(),U.stopPropagation(),l(!1),a)return;const Y=U.dataTransfer.files?.[0];Y&&B(Y)},Z=()=>{m(null),r(null),d.current&&(d.current.value="")},V=()=>{d.current?.click()},G=`document-upload-${e.field_id}`;return n.jsxs("div",{ref:c,className:X("space-y-3",i),children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($l,{className:"h-4 w-4 text-orange-500"}),n.jsxs(Q,{htmlFor:G,className:"text-sm font-medium",children:[e.label,p&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),f?n.jsx("div",{className:"border-2 border-green-300 bg-green-50/30 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(bs,{className:"h-5 w-5 text-green-600 flex-shrink-0"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-green-900 truncate",children:f.name}),n.jsx("p",{className:"text-xs text-green-700",children:$K(aRt(f))})]}),n.jsx(W,{type:"button",variant:"ghost",size:"sm",onClick:Z,disabled:a,className:"flex-shrink-0",children:n.jsx(Kr,{className:"h-4 w-4"})})]})}):n.jsxs("div",{className:X("border-2 border-dashed rounded-lg transition-colors",u?"border-orange-500 bg-orange-50":s?"border-destructive bg-destructive/5":"border-orange-300 bg-orange-50/30",a&&"opacity-50 cursor-not-allowed"),onDragEnter:$,onDragOver:z,onDragLeave:I,onDrop:H,children:[n.jsxs("div",{className:"p-6 flex items-center justify-center gap-4 border-b border-orange-200",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-16 bg-red-100 rounded border-2 border-red-300 flex items-center justify-center mb-1",children:n.jsx($l,{className:"h-6 w-6 text-red-600"})}),n.jsx("span",{className:"text-[10px] text-muted-foreground font-medium",children:N})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-16 bg-blue-100 rounded border-2 border-blue-300 flex items-center justify-center mb-1",children:n.jsx(f3,{className:"h-6 w-6 text-blue-600"})}),n.jsx("span",{className:"text-[10px] text-muted-foreground font-medium",children:_})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-16 bg-green-100 rounded border-2 border-green-300 flex items-center justify-center mb-1",children:n.jsx(XQ,{className:"h-6 w-6 text-green-600"})}),n.jsx("span",{className:"text-[10px] text-muted-foreground font-medium",children:k})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-16 bg-orange-100 rounded border-2 border-orange-300 flex items-center justify-center mb-1",children:n.jsx(ZQ,{className:"h-6 w-6 text-orange-600"})}),n.jsx("span",{className:"text-[10px] text-muted-foreground font-medium",children:E})]})]}),n.jsx("div",{className:"p-6 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n.jsx(bo,{className:"h-8 w-8 text-orange-400"}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:[T,n.jsx("button",{type:"button",onClick:V,disabled:a,className:"text-orange-600 hover:text-orange-700 font-medium underline",children:D})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[P,y,S&&`  ${M}${$K(S)}`]})]})]})}),n.jsx("input",{ref:d,id:G,type:"file",accept:x,onChange:L,disabled:a,className:"hidden","aria-label":`${e.label}${R}`,"aria-required":p,"aria-invalid":!!s})]}),e.helper_text&&!s&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text}),s&&n.jsx("p",{className:"text-xs text-destructive font-medium",role:"alert",children:s})]})});yge.displayName="DocumentUpload";const cRt=e=>e===2?{placeholder:" ",helperText:"     ",clearLabel:"",downloadLabel:"",signedBadge:"  ",ariaSuffix:" -  "}:e===3?{placeholder:"Firme aqu",helperText:"Dibuja tu firma usando el mouse o la pantalla tctil",clearLabel:"Borrar",downloadLabel:"Descargar",signedBadge:"Firmado ",ariaSuffix:" - campo de firma"}:{placeholder:"Sign here",helperText:"Draw your signature using mouse or touch",clearLabel:"Clear",downloadLabel:"Download",signedBadge:"Signed ",ariaSuffix:" - signature field"},bge=v.forwardRef(({field:e,value:t,onChange:r,onBlur:s,error:a,disabled:i=!1,className:o,languageId:c},d)=>{const u=v.useRef(null),[l,f]=v.useState(!1),[m,p]=v.useState(!1),[x,b]=v.useState(null),h=e.rules?.some(L=>L.rule_name==="required")??!1,{placeholder:y,helperText:w,clearLabel:S,downloadLabel:N,signedBadge:_,ariaSuffix:k}=cRt(c);v.useEffect(()=>{const L=u.current;if(!L)return;const $=L.getContext("2d");if(!$)return;const I=L.getBoundingClientRect();if(L.width=I.width,L.height=I.height,$.strokeStyle="#000000",$.lineWidth=2,$.lineCap="round",$.lineJoin="round",t&&!Bpe(t)){const z=new Image;z.onload=()=>{$.drawImage(z,0,0,L.width,L.height),p(!0)},z.src=t}},[]);const E=L=>{const $=u.current;if(!$)return{x:0,y:0};const I=$.getBoundingClientRect();if(L instanceof MouseEvent)return{x:L.clientX-I.left,y:L.clientY-I.top};{const z=L.touches[0];return{x:z.clientX-I.left,y:z.clientY-I.top}}},T=L=>{if(i)return;L.preventDefault(),f(!0);const $=E(L.nativeEvent);b($)},D=L=>{if(!l||i)return;L.preventDefault();const $=u.current,I=$?.getContext("2d");if(!$||!I||!x)return;const z=E(L.nativeEvent);I.beginPath(),I.moveTo(x.x,x.y),I.lineTo(z.x,z.y),I.stroke(),b(z),p(!0)},P=()=>{if(!l)return;f(!1),b(null);const L=u.current;if(L&&m){const $=L.toDataURL("image/png");r($),s?.()}},M=()=>{const L=u.current,$=L?.getContext("2d");!L||!$||($.clearRect(0,0,L.width,L.height),p(!1),r(""),s?.())},R=()=>{const L=u.current;if(!L||!m)return;const $=L.toDataURL("image/png"),I=document.createElement("a");I.download=`signature-${e.field_id}.png`,I.href=$,I.click()},B=e.placeholder||y;return n.jsxs("div",{ref:d,className:X("space-y-3",o),"aria-label":`${e.label}${k}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Cy,{className:"h-4 w-4 text-blue-500"}),n.jsxs(Q,{className:"text-sm font-medium",children:[e.label,h&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("canvas",{ref:u,onMouseDown:T,onMouseMove:D,onMouseUp:P,onMouseLeave:P,onTouchStart:T,onTouchMove:D,onTouchEnd:P,className:X("w-full h-48 border-2 rounded-lg bg-white",i?"cursor-not-allowed":"cursor-crosshair",a?"border-destructive":"border-blue-200"),style:{touchAction:"none"},"aria-label":e.label,"aria-required":h,"aria-invalid":!!a}),!m&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:n.jsxs("div",{className:"text-center text-muted-foreground/50",children:[n.jsx(Cy,{className:"h-12 w-12 mx-auto mb-2"}),n.jsx("p",{className:"text-sm font-medium",children:B}),n.jsx("p",{className:"text-xs",children:w})]})})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(W,{type:"button",variant:"outline",size:"sm",onClick:M,disabled:i||!m,className:"flex items-center gap-2",children:[n.jsx(g3,{className:"h-3 w-3"}),S]}),n.jsxs(W,{type:"button",variant:"outline",size:"sm",onClick:R,disabled:i||!m,className:"flex items-center gap-2",children:[n.jsx(d3,{className:"h-3 w-3"}),N]}),m&&n.jsx(Ae,{variant:"default",className:"ml-auto bg-green-500",children:_})]}),e.helper_text&&!a&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text}),a&&n.jsx("p",{className:"text-xs text-destructive font-medium",role:"alert",children:a})]})});bge.displayName="SignaturePad";const dRt=["#ef4444","#f59e0b","#10b981","#3b82f6","#8b5cf6","#ec4899","#06b6d4","#84cc16","#f97316","#6366f1","#14b8a6","#a855f7"],wge=/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,uRt=e=>{const t=e.default_value;return typeof t=="string"&&wge.test(t)?t:"#3B82F6"},E0=e=>{let t=e.replace("#","");return t.length===3&&(t=t.split("").map(r=>r+r).join("")),`#${t.toUpperCase()}`},Ff=e=>wge.test(e),fRt=e=>e===2?{inputPlaceholder:" ",nativePickerAriaSuffix:" -  ",presetAriaPrefix:"  "}:e===3?{inputPlaceholder:"Selecciona un color",nativePickerAriaSuffix:" - selector de color",presetAriaPrefix:"Seleccionar color "}:{inputPlaceholder:"Select a color",nativePickerAriaSuffix:" - Color Picker",presetAriaPrefix:"Select color "},jge=v.forwardRef(({field:e,value:t,onChange:r,error:s,disabled:a=!1,className:i,languageId:o,onBlur:c},d)=>{const[u,l]=v.useState(()=>{if(t==="")return"";if(t&&Ff(t))return E0(t);if(e.current_value&&typeof e.current_value=="string"){const k=e.current_value;if(Ff(k))return E0(k)}return uRt(e)}),f=e.rules?.some(k=>k.rule_name==="required")??!1,{inputPlaceholder:m,nativePickerAriaSuffix:p,presetAriaPrefix:x}=fRt(o);v.useEffect(()=>{if(t===""){l("");return}t&&Ff(t)&&l(E0(t))},[t]);const b=k=>{if(Ff(k)){const E=E0(k);l(E),r(E)}},h=k=>{const E=k.target.value;if(l(E),E.trim()===""){r("");return}if(Ff(E)){const T=E0(E);l(T),r(T);return}r(E)},y=()=>{c&&setTimeout(()=>c(),0)},w=k=>{a||(b(k),y())},S=k=>{b(k.target.value),y()},N=()=>{c&&c()},_=`color-picker-${e.field_id}`;return n.jsxs("div",{ref:d,className:X("space-y-3",i),children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gg,{className:"h-4 w-4 text-purple-500"}),n.jsxs(Q,{htmlFor:_,className:"text-sm font-medium",children:[e.label,f&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ne,{id:_,type:"text",value:u,onChange:h,onBlur:N,placeholder:e.placeholder||m,disabled:a,className:X("pl-12 h-10 font-mono uppercase",s&&"border-destructive focus-visible:ring-destructive"),"aria-label":e.label,"aria-required":f,"aria-invalid":!!s,"aria-describedby":s?`${_}-error`:e.helper_text?`${_}-description`:void 0}),n.jsx("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 w-8 h-8 rounded border-2 border-gray-300 shadow-sm transition-colors",style:{backgroundColor:Ff(u)?u:"#ccc"},"aria-hidden":"true"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(W,{type:"button",size:"sm",variant:"outline",className:"h-10 px-3",disabled:a,asChild:!0,children:n.jsx("label",{htmlFor:`${_}-native`,className:"cursor-pointer",children:n.jsx(gg,{className:"h-4 w-4"})})}),n.jsx("input",{id:`${_}-native`,type:"color",value:Ff(u)?u:"#3B82F6",onChange:S,onBlur:N,disabled:a,className:"absolute inset-0 opacity-0 cursor-pointer","aria-label":`${e.label}${p}`})]})]}),n.jsx("div",{className:"flex flex-wrap gap-1.5",children:dRt.map(k=>n.jsx("button",{type:"button",onClick:()=>w(k),disabled:a,className:X("w-8 h-8 rounded border-2 transition-all",u.toLowerCase()===k.toLowerCase()?"border-gray-900 ring-2 ring-gray-900 ring-offset-2 scale-110":"border-gray-300 hover:border-gray-400 hover:scale-105",a&&"opacity-50 cursor-not-allowed"),style:{backgroundColor:k},title:k,"aria-label":`${x}${k}`},k))})]}),e.helper_text&&!s&&n.jsx("p",{id:`${_}-description`,className:"text-xs text-muted-foreground",children:e.helper_text}),s&&n.jsx("p",{id:`${_}-error`,className:"text-xs text-destructive font-medium",role:"alert",children:s})]})});jge.displayName="ColorPickerInput";const Sge=(e,t)=>!isNaN(e)&&!isNaN(t)&&e>=-90&&e<=90&&t>=-180&&t<=180,mRt=e=>null,hRt=()=>new Promise(e=>{if(!navigator.geolocation){e(null);return}navigator.geolocation.getCurrentPosition(t=>{e({lat:t.coords.latitude,lng:t.coords.longitude})},()=>{e(null)})}),LK=(e,t)=>`${e.toFixed(6)}, ${t.toFixed(6)}`,pRt=(e,t,r=15)=>`https://www.openstreetmap.org/?lat=${e}&lon=${t}&zoom=${r}`;function BK(e){const t=e.split(",").map(a=>Number(a.trim()));if(t.length!==2)return null;const[r,s]=t;return Sge(r,s)?{lat:r,lng:s}:null}const gRt=e=>e===2?{selectedBadge:"  ",pickOnMap:"  ",currentLocation:" ",currentLocationTitle:"   ",remove:"",removeTitle:" ",manualPlaceholder:"  (: 40.7128, -74.006)",apply:"",selectedLocationLabel:" ",copy:"",viewMap:" ",copyTitle:" ",viewMapTitle:"   ",ariaSuffix:" -    "}:e===3?{selectedBadge:"Seleccionado ",pickOnMap:"Elegir en el mapa",currentLocation:"Ubicacin actual",currentLocationTitle:"Obtener ubicacin actual",remove:"Eliminar",removeTitle:"Eliminar ubicacin",manualPlaceholder:"Ingresa coordenadas (ej.: 40.7128, -74.006)",apply:"Aplicar",selectedLocationLabel:"Ubicacin seleccionada",copy:"Copiar",viewMap:"Ver mapa",copyTitle:"Copiar coordenadas",viewMapTitle:"Ver ubicacin en el mapa",ariaSuffix:" - selector de ubicacin en mapa"}:{selectedBadge:"Selected ",pickOnMap:"Pick on map",currentLocation:"Current location",currentLocationTitle:"Get current location",remove:"Remove",removeTitle:"Remove location",manualPlaceholder:"Enter coordinates (e.g., 40.7128, -74.006)",apply:"Apply",selectedLocationLabel:"Selected Location",copy:"Copy",viewMap:"View Map",copyTitle:"Copy coordinates",viewMapTitle:"View location on map",ariaSuffix:" - map location picker"},Nge=v.forwardRef(({field:e,value:t,onChange:r,error:s,disabled:a=!1,className:i,defaultLocation:o={lat:40.7128,lng:-74.006},languageId:c},d)=>{const[u,l]=v.useState(()=>t||mRt()),[f,m]=v.useState(""),[p,x]=v.useState(!1),{selectedBadge:b,pickOnMap:h,currentLocation:y,currentLocationTitle:w,remove:S,removeTitle:N,manualPlaceholder:_,apply:k,selectedLocationLabel:E,copy:T,viewMap:D,copyTitle:P,viewMapTitle:M,ariaSuffix:R}=gRt(c),B=v.useMemo(()=>(crypto.randomUUID?.()??String(Date.now()))+"_"+e.field_id,[e.field_id]),L=e.rules?.some(G=>G.rule_name==="required")??!1;v.useEffect(()=>{t!==void 0&&l(t??null)},[t]),v.useEffect(()=>{const G=U=>{if(U.origin!==window.location.origin)return;const Y=U.data;if(!Y||Y.type!=="LOCATION_PICKER_RESULT"||Y.source!==B)return;const K=Number(Y.lat),re=Number(Y.lng);if(!Sge(K,re))return;const he={lat:K,lng:re,address:`${K.toFixed(6)}, ${re.toFixed(6)}`};l(he),r(he)};return window.addEventListener("message",G),()=>window.removeEventListener("message",G)},[r,B]);const $=v.useCallback(()=>{if(a)return;const G=u??o,U=new URL("/location-picker.html",window.location.origin);U.searchParams.set("lat",String(G.lat)),U.searchParams.set("lng",String(G.lng)),U.searchParams.set("zoom","13"),U.searchParams.set("source",B);const Y=520,K=640,re=window.screenX+Math.max(0,(window.outerWidth-Y)/2),he=window.screenY+Math.max(0,(window.outerHeight-K)/2);window.open(U.toString(),"locationPickerPopup",`width=${Y},height=${K},left=${re},top=${he},resizable=yes,scrollbars=no`)||alert("Popup blocked. Please allow popups for this site.")},[a,u,o,B]),I=v.useCallback(()=>{const G=BK(f);if(!G)return;const U={...G,address:`${G.lat.toFixed(6)}, ${G.lng.toFixed(6)}`};l(U),r(U),m("")},[f,r]),z=async()=>{x(!0);try{const G=await hRt();if(!G){alert("Unable to get your location. Please enable location access.");return}const U={...G,address:`${G.lat.toFixed(6)}, ${G.lng.toFixed(6)}`};l(U),r(U)}finally{x(!1)}},H=()=>{u&&navigator.clipboard.writeText(LK(u.lat,u.lng))},Z=()=>{u&&window.open(pRt(u.lat,u.lng),"_blank")},V=()=>{l(null),r(null)};return n.jsxs("div",{ref:d,className:X("space-y-3",i),"aria-label":`${e.label}${R}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Q,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(mo,{className:"h-4 w-4 text-emerald-500"}),e.label,L&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),u&&n.jsx(Ae,{className:"bg-emerald-500",children:b})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(W,{type:"button",onClick:$,disabled:a,className:"h-9",children:[n.jsx(mo,{className:"h-4 w-4 mr-2"}),h]}),n.jsxs(W,{type:"button",variant:"outline",onClick:z,disabled:a||p,className:"h-9",title:w,children:[p?n.jsx(J$e,{className:"h-4 w-4 animate-spin mr-2"}):n.jsx(eee,{className:"h-4 w-4 mr-2"}),y]}),u&&n.jsxs(W,{type:"button",variant:"ghost",onClick:V,disabled:a,className:"h-9",title:N,children:[n.jsx(kt,{className:"h-4 w-4 text-destructive mr-2"}),S]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ne,{placeholder:_,value:f,onChange:G=>m(G.target.value),onKeyDown:G=>{G.key==="Enter"&&(G.preventDefault(),I())},disabled:a,className:"border-emerald-200 focus:border-emerald-500"}),n.jsx(W,{type:"button",variant:"outline",onClick:I,disabled:a||!BK(f),className:"h-9",children:k})]}),u&&n.jsxs("div",{className:"p-3 border border-emerald-200 rounded-md bg-emerald-50/50 space-y-3",children:[n.jsx("div",{className:"flex items-start justify-between gap-2",children:n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:E}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mo,{className:"h-3 w-3 text-emerald-600 shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-mono text-sm font-medium text-emerald-900",children:LK(u.lat,u.lng)}),u.address&&n.jsx("p",{className:"text-xs text-muted-foreground",children:u.address})]})]})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(W,{type:"button",variant:"outline",size:"sm",onClick:H,disabled:a,className:"text-xs h-8",title:P,children:[n.jsx(YQ,{className:"h-3 w-3 mr-1"}),T]}),n.jsxs(W,{type:"button",variant:"outline",size:"sm",onClick:Z,disabled:a,className:"text-xs h-8",title:M,children:[n.jsx(u3,{className:"h-3 w-3 mr-1"}),D]})]})]}),e.helper_text&&!s&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text}),s&&n.jsx("p",{className:"text-xs text-destructive font-medium",role:"alert",children:s})]})});Nge.displayName="PopupLocationPicker";const xRt=e=>{const t=e.default_value;return t&&typeof t=="object"&&"street"in t?{street:t.street||"",city:t.city||"",state:t.state||"",postal_code:t.postal_code||"",country:t.country||""}:{street:"",city:"",state:"",postal_code:"",country:""}},vRt=e=>e===2?{subfields:[{key:"street",label:" ",placeholder:"    ...",gridColumn:"full"},{key:"city",label:"",placeholder:"",gridColumn:"half"},{key:"state",label:" / ",placeholder:"",gridColumn:"half"},{key:"postal_code",label:" ",placeholder:"",gridColumn:"half"},{key:"country",label:"",placeholder:" ",gridColumn:"half"}],ariaFragments:{street:" -  ",city:" - ",state:" -  / ",postal:" -  ",country:" - "}}:e===3?{subfields:[{key:"street",label:"Direccin",placeholder:"Calle Principal 123, Apt 4B...",gridColumn:"full"},{key:"city",label:"Ciudad",placeholder:"Nueva York",gridColumn:"half"},{key:"state",label:"Estado/Provincia",placeholder:"Texas",gridColumn:"half"},{key:"postal_code",label:"Cdigo postal",placeholder:"10001",gridColumn:"half"},{key:"country",label:"Pas",placeholder:"Estados Unidos",gridColumn:"half"}],ariaFragments:{street:" - Direccin",city:" - Ciudad",state:" - Estado/Provincia",postal:" - Cdigo postal",country:" - Pas"}}:{subfields:[{key:"street",label:"Street Address",placeholder:"123 Main Street, Apt 4B...",gridColumn:"full"},{key:"city",label:"City",placeholder:"New York",gridColumn:"half"},{key:"state",label:"State/Province",placeholder:"TX",gridColumn:"half"},{key:"postal_code",label:"Postal/ZIP Code",placeholder:"10001",gridColumn:"half"},{key:"country",label:"Country",placeholder:"United States",gridColumn:"half"}],ariaFragments:{street:" - Street Address",city:" - City",state:" - State/Province",postal:" - Postal/ZIP Code",country:" - Country"}},Cge=v.forwardRef(({field:e,value:t,onChange:r,error:s,disabled:a=!1,className:i,languageId:o,onBlur:c},d)=>{const[u,l]=v.useState(()=>t||(e.current_value&&typeof e.current_value=="object"?e.current_value:xRt(e))),{subfields:f,ariaFragments:m}=vRt(o),p=f[0],x=f[1],b=f[2],h=f[3],y=f[4],w=e.rules?.some(E=>E.rule_name==="required")??!1;v.useEffect(()=>{t&&l(t)},[t]);const S=(E,T)=>{const D={...u,[E]:T};l(D),r(D)},N=()=>{c&&c()},_=E=>u[E]?.length>0,k=E=>E.key==="street"&&e.placeholder?e.placeholder:E.placeholder;return n.jsxs("div",{ref:d,className:X("space-y-3",i),children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(EE,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs(Q,{className:"text-sm font-medium",children:[e.label,w&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{htmlFor:`address-street-${e.field_id}`,className:"text-xs text-muted-foreground",children:p.label}),n.jsxs("div",{className:"relative",children:[n.jsx(mo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none"}),n.jsx(ne,{id:`address-street-${e.field_id}`,type:"text",value:u.street,onChange:E=>S("street",E.target.value),onBlur:N,placeholder:k(p),disabled:a,className:X("pl-9 h-10 transition-colors",_("street")?"border-blue-300 bg-blue-50/50":"border-orange-200",s&&"border-destructive focus-visible:ring-destructive"),"aria-label":`${e.label}${m.street}`,"aria-required":w,"aria-invalid":!!s})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{htmlFor:`address-city-${e.field_id}`,className:"text-xs text-muted-foreground",children:x.label}),n.jsx(ne,{id:`address-city-${e.field_id}`,type:"text",value:u.city,onChange:E=>S("city",E.target.value),onBlur:N,placeholder:k(x),disabled:a,className:X("h-10 transition-colors",_("city")?"border-blue-300 bg-blue-50/50":"border-orange-200",s&&"border-destructive focus-visible:ring-destructive"),"aria-label":`${e.label}${m.city}`,"aria-required":w})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{htmlFor:`address-state-${e.field_id}`,className:"text-xs text-muted-foreground",children:b.label}),n.jsx(ne,{id:`address-state-${e.field_id}`,type:"text",value:u.state,onChange:E=>S("state",E.target.value),onBlur:N,placeholder:k(b),disabled:a,className:X("h-10 transition-colors",_("state")?"border-blue-300 bg-blue-50/50":"border-orange-200",s&&"border-destructive focus-visible:ring-destructive"),"aria-label":`${e.label}${m.state}`,"aria-required":w})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{htmlFor:`address-postal-${e.field_id}`,className:"text-xs text-muted-foreground",children:h.label}),n.jsx(ne,{id:`address-postal-${e.field_id}`,type:"text",value:u.postal_code,onChange:E=>S("postal_code",E.target.value),onBlur:N,placeholder:k(h),disabled:a,className:X("h-10 transition-colors",_("postal_code")?"border-blue-300 bg-blue-50/50":"border-orange-200",s&&"border-destructive focus-visible:ring-destructive"),"aria-label":`${e.label}${m.postal}`,"aria-required":w})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{htmlFor:`address-country-${e.field_id}`,className:"text-xs text-muted-foreground",children:y.label}),n.jsx(ne,{id:`address-country-${e.field_id}`,type:"text",value:u.country,onChange:E=>S("country",E.target.value),onBlur:N,placeholder:k(y),disabled:a,className:X("h-10 transition-colors",_("country")?"border-blue-300 bg-blue-50/50":"border-orange-200",s&&"border-destructive focus-visible:ring-destructive"),"aria-label":`${e.label}${m.country}`,"aria-required":w})]})]})]}),e.helper_text&&!s&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text}),s&&n.jsx("p",{className:"text-xs text-destructive font-medium",role:"alert",children:s})]})});Cge.displayName="AddressInput";const lI=5,yRt=e=>{const t=e.default_value;if(typeof t=="number")return Math.max(0,Math.min(lI,t));if(typeof t=="string"){const r=parseInt(t,10);if(!isNaN(r))return Math.max(0,Math.min(lI,r))}return 0},P4=(e,t=lI)=>Math.max(0,Math.min(t,Math.round(e))),bRt=e=>e===2?{clearText:" ",ariaSuffix:" -   "}:e===3?{clearText:"Borrar calificacin",ariaSuffix:" - campo de valoracin con estrellas"}:{clearText:"Clear rating",ariaSuffix:" - star rating field"},_ge=v.forwardRef(({field:e,value:t,onChange:r,onBlur:s,error:a,disabled:i=!1,className:o,maxStars:c=5,languageId:d},u)=>{const[l,f]=v.useState(()=>typeof t=="number"?P4(t,c):e.current_value&&typeof e.current_value=="number"?P4(e.current_value,c):yRt(e)),[m,p]=v.useState(null),x=e.rules?.some(k=>k.rule_name==="required")??!1,{clearText:b,ariaSuffix:h}=bRt(d);v.useEffect(()=>{typeof t=="number"&&f(P4(t,c))},[t,c]);const y=k=>{if(i)return;const E=l===k?0:k;f(E),r(E),s?.()},w=k=>{i||p(k)},S=()=>{p(null)},N=`rating-${e.field_id}`,_=m!==null?m:l;return n.jsxs("div",{ref:u,className:X("space-y-2",o),"aria-label":`${e.label}${h}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Am,{className:"h-4 w-4 text-amber-500 fill-amber-500"}),n.jsxs(Q,{className:"text-sm font-medium",id:N,children:[e.label,x&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-1",onMouseLeave:S,role:"radiogroup","aria-labelledby":N,"aria-required":x,"aria-invalid":!!a,children:[Array.from({length:c}).map((k,E)=>{const T=E+1,D=T<=_;return n.jsx("button",{type:"button",onClick:()=>y(T),onMouseEnter:()=>w(T),disabled:i,className:X("transition-transform",!i&&"hover:scale-110 cursor-pointer",i&&"cursor-not-allowed opacity-50"),"aria-label":`Rate ${T} out of ${c} stars`,role:"radio","aria-checked":l===T,children:n.jsx(Am,{className:X("h-8 w-8 transition-colors",D?"text-amber-500 fill-amber-500":"text-gray-300 fill-gray-100",a&&"text-destructive fill-destructive/20")})},E)}),n.jsxs("span",{className:"ml-2 text-sm text-muted-foreground",children:[_," / ",c]})]}),!x&&l>0&&!i&&n.jsx("button",{type:"button",onClick:()=>{f(0),r(0),s?.()},className:"text-xs text-muted-foreground hover:text-foreground underline",children:b})]}),e.helper_text&&!a&&n.jsx("p",{className:"text-xs text-muted-foreground",children:e.helper_text}),a&&n.jsx("p",{className:"text-xs text-destructive font-medium",role:"alert",children:a})]})});_ge.displayName="Rating";const Z$=e=>{let t=null,r=null;const a=e.find(c=>c.rule_name==="between")?.rule_props||{},{min:i,max:o}=a;if(i!==void 0&&(t=Number(i)),o!==void 0&&(r=Number(o)),t===null){const c=e.find(d=>d.rule_name==="min");if(c?.rule_props){const d=c.rule_props;typeof d.value=="number"&&(t=d.value)}}if(r===null){const c=e.find(d=>d.rule_name==="max");if(c?.rule_props){const d=c.rule_props;typeof d.value=="number"&&(r=d.value)}}return{min:t,max:r}},wRt=e=>{const t=e.some(s=>s.rule_name==="numeric"),r=e.some(s=>s.rule_name==="integer");return t&&r?!1:r},jRt=e=>{const t=e.default_value;if(typeof t=="number")return t;if(typeof t=="string"){const o=parseFloat(t);if(!isNaN(o))return o}const{min:r,max:s}=Z$(e.rules||[]);return Math.floor(((r!==null?r:0)+(s!==null?s:100))/2)},SRt=e=>{const{min:t}=Z$(e.rules||[]);return t!==null?t:0},NRt=e=>{const{max:t}=Z$(e.rules||[]);return t!==null?t:100},CRt=e=>wRt(e.rules||[])?1:.1,_Rt=e=>e===2?{helperInline:" ",ariaSuffix:" -   "}:e===3?{helperInline:"Arrastra para ajustar",ariaSuffix:" - campo de control deslizante"}:{helperInline:"Drag to adjust",ariaSuffix:" - slider field"},Ege=v.forwardRef(({field:e,value:t,onChange:r,onBlur:s,error:a,disabled:i=!1,className:o,languageId:c},d)=>{const u=SRt(e),l=NRt(e),f=CRt(e),[m,p]=v.useState(()=>typeof t=="number"&&!isNaN(t)?t:e.current_value&&typeof e.current_value=="number"?e.current_value:jRt(e)),x=e.rules?.some(S=>S.rule_name==="required")??!1,{helperInline:b,ariaSuffix:h}=_Rt(c);v.useEffect(()=>{typeof t=="number"&&!isNaN(t)&&p(t)},[t]);const y=S=>{const N=S[0];p(N),r(N)},w=`slider-${e.field_id}`;return n.jsxs("div",{ref:d,className:X("space-y-3",o),"aria-label":`${e.label}${h}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(x3,{className:"h-4 w-4 text-indigo-500"}),n.jsxs(Q,{htmlFor:w,className:"text-sm font-medium",children:[e.label,x&&n.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),n.jsxs("div",{className:"space-y-3 px-1",children:[n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("div",{className:X("px-4 py-2 border rounded-lg",a?"bg-destructive/5 border-destructive":"bg-indigo-50 border-indigo-200"),children:n.jsx("span",{className:X("text-2xl font-bold",a?"text-destructive":"text-indigo-600"),children:f===1?m:m.toFixed(1)})})}),n.jsxs("div",{className:"relative",children:[n.jsx(Ck,{id:w,value:[m],onValueChange:y,onValueCommit:()=>s?.(),min:u,max:l,step:f,disabled:i,className:X("w-full",a&&"[&_[role=slider]]:border-destructive"),"aria-label":e.label,"aria-required":x,"aria-invalid":!!a,"aria-describedby":a?`${w}-error`:e.helper_text?`${w}-description`:void 0}),n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-2",children:[n.jsx("span",{className:"font-medium",children:u}),n.jsx("span",{className:"text-[10px] italic",children:b}),n.jsx("span",{className:"font-medium",children:l})]})]})]}),e.helper_text&&!a&&n.jsx("p",{id:`${w}-description`,className:"text-xs text-muted-foreground",children:e.helper_text}),a&&n.jsx("p",{id:`${w}-error`,className:"text-xs text-destructive font-medium",role:"alert",children:a})]})});Ege.displayName="Slider";const ERt=({field:e})=>n.jsxs("div",{className:"rounded-md border border-amber-500 bg-amber-50 p-4",children:[n.jsxs("p",{className:"text-sm font-medium text-amber-800",children:["Unknown field type: ",e.field_type]}),n.jsxs("p",{className:"mt-1 text-xs text-amber-600",children:["Field ID: ",e.field_id," - ",e.label]})]}),kRt=e=>n.jsx(Vpe,{field:e.field,value:e.value,onChange:t=>e.onChange(e.field.field_id,t),onBlur:()=>e.onBlur(e.field.field_id),error:e.error||void 0,disabled:e.disabled,languageId:e.languageId}),ARt=e=>n.jsx(Wpe,{field:e.field,value:e.value,onChange:t=>e.onChange(e.field.field_id,t),onBlur:()=>e.onBlur(e.field.field_id),error:e.error||void 0,disabled:e.disabled,languageId:e.languageId,rows:4}),TRt=e=>n.jsx(qpe,{field:e.field,value:e.value,onChange:t=>e.onChange(e.field.field_id,t),onBlur:()=>e.onBlur(e.field.field_id),error:e.error||void 0,disabled:e.disabled,languageId:e.languageId}),DRt=e=>n.jsx(Gpe,{field:e.field,value:e.value,onChange:t=>e.onChange(e.field.field_id,t),onBlur:()=>e.onBlur(e.field.field_id),error:e.error||void 0,disabled:e.disabled,languageId:e.languageId}),PRt=e=>n.jsx(Ype,{field:e.field,value:e.value,onChange:t=>e.onChange(e.field.field_id,t),onBlur:()=>e.onBlur(e.field.field_id),error:e.error||void 0,disabled:e.disabled,languageId:e.languageId}),RRt=e=>n.jsx(Zpe,{field:e.field,value:e.value,onChange:t=>e.onChange(e.field.field_id,t),onBlur:()=>e.onBlur(e.field.field_id),error:e.error||void 0,disabled:e.disabled,languageId:e.languageId}),MRt=e=>n.jsx(Xpe,{field:e.field,value:e.value,onChange:t=>e.onChange(e.field.field_id,t),onBlur:()=>e.onBlur(e.field.field_id),error:e.error||void 0,disabled:e.disabled,languageId:e.languageId}),ORt=e=>n.jsx(Jpe,{field:e.field,value:e.value,onChange:t=>e.onChange(e.field.field_id,t),onBlur:()=>e.onBlur(e.field.field_id),error:e.error||void 0,disabled:e.disabled,languageId:e.languageId}),IRt=e=>n.jsx(Qpe,{field:e.field,value:e.value,onChange:t=>e.onChange(e.field.field_id,t),onBlur:()=>e.onBlur(e.field.field_id),error:e.error||void 0,disabled:e.disabled,languageId:e.languageId}),FRt=e=>n.jsx(rge,{field:e.field,value:e.value,onChange:t=>e.onChange(e.field.field_id,t),onBlur:()=>e.onBlur(e.field.field_id),error:e.error||void 0,disabled:e.disabled,languageId:e.languageId}),$Rt=e=>n.jsx(age,{field:e.field,value:e.value,onChange:t=>e.onChange(e.field.field_id,t),onBlur:()=>e.onBlur(e.field.field_id),error:e.error||void 0,disabled:e.disabled,languageId:e.languageId}),LRt=e=>n.jsx(ige,{field:e.field,value:e.value,onChange:t=>e.onChange(e.field.field_id,t),onBlur:()=>e.onBlur(e.field.field_id),error:e.error||void 0,disabled:e.disabled,languageId:e.languageId}),BRt=e=>n.jsx(oge,{field:e.field,value:e.value,onChange:t=>e.onChange(e.field.field_id,t),onBlur:()=>e.onBlur(e.field.field_id),error:e.error||void 0,disabled:e.disabled,languageId:e.languageId}),zRt=e=>n.jsx(lge,{field:e.field,value:e.value,onChange:t=>e.onChange(e.field.field_id,t),onBlur:()=>e.onBlur(e.field.field_id),error:e.error||void 0,disabled:e.disabled,languageId:e.languageId}),URt=e=>n.jsx(dge,{field:e.field,value:e.value,onChange:t=>e.onChange(e.field.field_id,t),onBlur:()=>e.onBlur(e.field.field_id),error:e.error||void 0,disabled:e.disabled,languageId:e.languageId}),HRt=e=>n.jsx(fge,{field:e.field,value:e.value,onChange:t=>e.onChange(e.field.field_id,t),onBlur:()=>e.onBlur(e.field.field_id),error:e.error||void 0,disabled:e.disabled,languageId:e.languageId}),VRt=e=>n.jsx(hge,{field:e.field,value:e.value,onChange:t=>e.onChange(e.field.field_id,t),onBlur:()=>e.onBlur(e.field.field_id),error:e.error||void 0,disabled:e.disabled,languageId:e.languageId}),WRt=e=>n.jsx(pge,{field:e.field,value:e.value,onChange:t=>e.onChange(e.field.field_id,t),error:e.error||void 0,disabled:e.disabled,languageId:e.languageId}),qRt=e=>n.jsx(gge,{field:e.field,value:e.value,onChange:t=>e.onChange(e.field.field_id,t),error:e.error||void 0,disabled:e.disabled,languageId:e.languageId}),GRt=e=>n.jsx(yge,{field:e.field,value:e.value,onChange:t=>e.onChange(e.field.field_id,t),error:e.error||void 0,disabled:e.disabled,languageId:e.languageId}),YRt=e=>n.jsx(bge,{field:e.field,value:e.value,onChange:t=>e.onChange(e.field.field_id,t),onBlur:()=>e.onBlur(e.field.field_id),error:e.error||void 0,disabled:e.disabled,languageId:e.languageId}),KRt=e=>n.jsx(jge,{field:e.field,value:e.value,onChange:t=>e.onChange(e.field.field_id,t),onBlur:()=>e.onBlur(e.field.field_id),error:e.error||void 0,disabled:e.disabled,languageId:e.languageId}),ZRt=e=>n.jsx(Nge,{field:e.field,value:e.value,onChange:t=>e.onChange(e.field.field_id,t),error:e.error||void 0,disabled:e.disabled,languageId:e.languageId}),XRt=e=>n.jsx(Cge,{field:e.field,value:e.value,onChange:t=>e.onChange(e.field.field_id,t),onBlur:()=>e.onBlur(e.field.field_id),error:e.error||void 0,disabled:e.disabled,languageId:e.languageId}),JRt=e=>n.jsx(_ge,{field:e.field,value:e.value,onChange:t=>e.onChange(e.field.field_id,t),error:e.error||void 0,disabled:e.disabled,languageId:e.languageId}),QRt=e=>n.jsx(Ege,{field:e.field,value:e.value,onChange:t=>e.onChange(e.field.field_id,t),onBlur:()=>e.onBlur(e.field.field_id),error:e.error||void 0,disabled:e.disabled,languageId:e.languageId}),e4t=e=>n.jsx(vge,{field:e.field,value:e.value,onChange:t=>e.onChange(e.field.field_id,t),error:e.error||void 0,disabled:e.disabled,languageId:e.languageId}),zK={"Text Input":kRt,"Text Area":ARt,"Email Input":TRt,"Phone Input":DRt,"Password Input":PRt,"URL Input":RRt,"Number Input":MRt,"Currency Input":ORt,"Percentage Input":IRt,"Date Input":FRt,"DateTime Input":$Rt,"Time Input":LRt,Checkbox:BRt,"Toggle Switch":zRt,"Radio Button":URt,"Dropdown Select":HRt,Multi_Select:VRt,"File Upload":WRt,"Image Upload":qRt,"Video Upload":e4t,"Document Upload":GRt,"Signature Pad":YRt,"Color Picker":KRt,"Location Picker":ZRt,"Address Input":XRt,Rating:JRt,Slider:QRt};function t4t(e){const t=zK[e];return t||(console.warn(`[fieldRegistry] Unknown field type: "${e}"`),console.warn("[fieldRegistry] Available types:",Object.keys(zK)),ERt)}const r4t=["Text Input","Currency Input","Address Input","Checkbox","Color Picker","Date Input","DateTime Input","Dropdown Select","Email Input","Number Input","Password Input","Percentage Input","Phone Input","Slider","Text Area","URL Input"],s4t=({field:e,value:t,error:r,touched:s,disabled:a=!1,isVisible:i,direction:o,languageId:c,onChange:d,onBlur:u,className:l})=>{if(!i)return null;const f=t4t(e.field_type),m=te.useMemo(()=>r4t.includes(e.field_type),[e.field_type]),[p,x]=te.useState(t);te.useEffect(()=>{x(t)},[t]);const b=te.useCallback((w,S)=>{x(S),m||d(w,S)},[d,m]),h=te.useCallback(w=>{if(m){d(w,p),u(w,p);return}u(w)},[d,u,p,m]),y={field:e,value:p,error:r,touched:s,disabled:a,direction:o,languageId:c,onChange:b,onBlur:h};return n.jsx("div",{className:l,"data-field-id":e.field_id,"data-field-type":e.field_type,children:n.jsx(f,{...y})})},kge=te.memo(s4t);kge.displayName="MemoizedFieldRenderer";const n4t=({fields:e,getFieldValue:t,getFieldError:r,getFieldTouched:s,isFieldVisible:a,disabled:i=!1,direction:o,languageId:c,onChange:d,onBlur:u,containerClassName:l,fieldClassName:f})=>n.jsx("div",{className:l,children:e.map(m=>n.jsx(kge,{field:m,value:t(m.field_id),error:r(m.field_id),touched:s(m.field_id),disabled:i,isVisible:a(m.field_id),direction:o,languageId:c,onChange:d,onBlur:u,className:f},m.field_id))}),a4t=({section:e,isVisible:t,getFieldValue:r,getFieldError:s,getFieldTouched:a,isFieldVisible:i,disabled:o=!1,direction:c,onChange:d,onBlur:u,className:l,headerClassName:f,fieldsContainerClassName:m,fieldClassName:p,showEmptySections:x=!1,languageId:b})=>{if(!t)return null;const h=e.fields.filter(w=>i(w.field_id));if(h.length===0&&!x)return null;const y=!!e.section_name;return n.jsxs("section",{className:l,"data-section-id":e.section_id,"data-section-order":e.section_order,dir:c,children:[y&&n.jsx("div",{className:f||"mb-6",children:e.section_name&&n.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:e.section_name})}),h.length>0?n.jsx(n4t,{fields:e.fields,getFieldValue:r,getFieldError:s,getFieldTouched:a,isFieldVisible:i,disabled:o,direction:c,onChange:d,onBlur:u,containerClassName:m||"space-y-6",fieldClassName:p,languageId:b}):n.jsx("div",{className:"rounded-md border border-dashed border-gray-300 bg-gray-50 p-4 text-center dark:border-gray-700 dark:bg-gray-800",children:n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No fields to display in this section"})})]})},Age=te.memo(a4t);Age.displayName="MemoizedSectionRenderer";const X$=({sections:e,isSectionVisible:t,getFieldValue:r,getFieldError:s,getFieldTouched:a,isFieldVisible:i,disabled:o=!1,direction:c,onChange:d,onBlur:u,containerClassName:l,sectionClassName:f,sectionHeaderClassName:m,fieldsContainerClassName:p,fieldClassName:x,showEmptySections:b=!1,languageId:h})=>{const y=[...e].sort((w,S)=>w.section_order-S.section_order);return n.jsx("div",{className:l||"space-y-8",children:y.map(w=>n.jsx(Age,{section:w,isVisible:t(w.section_id),getFieldValue:r,getFieldError:s,getFieldTouched:a,isFieldVisible:i,disabled:o,direction:c,onChange:d,onBlur:u,className:f,headerClassName:m,fieldsContainerClassName:p,fieldClassName:x,showEmptySections:b,languageId:h},w.section_id))})},i4t=({formStructure:e,formVersionId:t,recordId:r,languageId:s=1,onSuccess:a,className:i,sectionsClassName:o,submitContainerClassName:c})=>{const{formState:d,validationState:u,getFieldValue:l,setFieldValue:f,setFieldTouched:m,getFieldError:p,isFieldVisible:x,isSectionVisible:b,submitButtonState:h,handleSubmit:y,isFormValid:w,canSubmit:S,selectTransition:N}=MDt({formVersionId:t,languageId:s}),{data:_,isSuccess:k}=Mpe();te.useEffect(()=>{k&&_&&a&&a(_)},[k,_,a]);const E=async T=>{T.preventDefault(),await y()};return n.jsxs("form",{onSubmit:E,className:i||"mx-auto max-w-4xl",dir:d.language.direction,children:[e.form_name&&n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:e.form_name}),e.stage?.stage_name&&n.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:["Stage: ",e.stage.stage_name]})]}),u.globalErrors.length>0&&n.jsxs(Ge,{variant:"destructive",className:"mb-6",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:n.jsx("ul",{className:"list-inside list-disc space-y-1",children:u.globalErrors.map((T,D)=>n.jsx("li",{children:T},D))})})]}),e.stage?.sections&&n.jsx(X$,{sections:e.stage.sections,isSectionVisible:b,getFieldValue:l,getFieldError:p,getFieldTouched:T=>d.fieldValues[T]?.touched||!1,isFieldVisible:x,direction:d.language.direction,onChange:f,onBlur:m,containerClassName:o,sectionClassName:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-700 dark:bg-gray-800",fieldsContainerClassName:"space-y-6",languageId:s}),n.jsxs("div",{className:c||"mt-8 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[!w&&n.jsxs("span",{className:"flex items-center text-red-600 dark:text-red-400",children:[n.jsx(Je,{className:"mr-1 h-4 w-4"}),"Please fix errors before submitting"]}),w&&!d.isSubmitting&&n.jsxs("span",{className:"flex items-center text-green-600 dark:text-green-400",children:[n.jsx(CE,{className:"mr-1 h-4 w-4"}),"Form is valid"]})]}),n.jsx("div",{className:"flex gap-2",children:h.availableTransitions.length>0?h.availableTransitions.map(T=>n.jsx(W,{type:"submit",onClick:()=>N(T.transitionId),disabled:!S||d.isSubmitting||T.isDisabled,variant:T.label.toLowerCase()==="reject"?"secondary":"default",className:T.label.toLowerCase()==="reject"?"bg-red-500 hover:bg-red-600 text-white min-w-32":"min-w-32",children:d.isSubmitting&&(d.selectedTransitionId===T.transitionId||!d.selectedTransitionId&&h.selectedTransitionId===T.transitionId)?n.jsxs(n.Fragment,{children:[n.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):T.label},T.transitionId)):n.jsx(W,{type:"submit",disabled:!S||d.isSubmitting,size:"lg",className:"min-w-40",children:d.isSubmitting?n.jsxs(n.Fragment,{children:[n.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):h.submitLabel||"Submit"})})]}),h.availableTransitions.some(T=>T.isComplete)&&n.jsx("div",{className:"mt-6 rounded-md bg-green-50 p-4 dark:bg-green-900/20",children:n.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:" This is the final stage. Submitting will complete the form."})})]})};function o4t(){const e=Vt(),t=Sn(),r=parseInt(t.formVersionId||"0"),s=parseInt(t.languageId||"1"),a=void 0,i=rx[s],{data:o,isLoading:c,error:d}=Ppe({formVersionId:r,languageId:s});return c?n.jsx("div",{className:"container mx-auto py-8",dir:i.direction,children:n.jsxs(oe,{children:[n.jsx(Re,{children:n.jsx(rt,{className:"h-8 w-64"})}),n.jsxs(je,{className:"space-y-4",children:[n.jsx(rt,{className:"h-12 w-full"}),n.jsx(rt,{className:"h-12 w-full"}),n.jsx(rt,{className:"h-12 w-full"}),n.jsx(rt,{className:"h-10 w-32"})]})]})}):d||!o?n.jsx("div",{className:"container mx-auto py-8",dir:i.direction,children:n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:d?.message||"Failed to load form. Please try again."})]})}):n.jsx("div",{className:"container mx-auto py-8",dir:i.direction,children:n.jsx(i4t,{formStructure:o,formVersionId:r,languageId:s,recordId:a,onSuccess:u=>{u.is_complete?e("/forms/success"):e(`/forms/${r}/stage/${u.current_stage_id}`)}})})}const l4t=e=>e.current_value!==null&&e.current_value!==void 0?UK(e,e.current_value):e.default_value!==null&&e.default_value!==void 0?UK(e,e.default_value):c4t(e),UK=(e,t)=>{switch(String(e.field_type||"").trim()){case"Checkbox":case"Toggle Switch":return t===1||t==="1"?!0:t===0||t==="0"?!1:!!t;case"Multi_Select":return Array.isArray(t)?t:[];case"Address Input":{const s=t&&typeof t=="object"&&!Array.isArray(t)?t:{};return{street:s.street??"",city:s.city??"",state:s.state??"",postal_code:s.postal_code??"",country:s.country??""}}case"Location Picker":{const s=t&&typeof t=="object"&&!Array.isArray(t)?t:{};return{lat:typeof s.lat=="number"?s.lat:null,lng:typeof s.lng=="number"?s.lng:null,address:typeof s.address=="string"?s.address:""}}default:return t}},c4t=e=>{const t=String(e.field_type||"").trim();switch(t){case"Document Upload":case"File Upload":case"Image Upload":case"Video Upload":case"Password Input":case"Signature Pad":return null}switch(t){case"Multi_Select":return[];case"Address Input":return{street:"",city:"",state:"",postal_code:"",country:""};case"Location Picker":return{lat:null,lng:null,address:""}}switch(t){case"Checkbox":case"Toggle Switch":return!1}switch(t){case"Currency Input":return null;case"Number Input":return null;case"Percentage Input":case"Slider":case"Signature Pad":return"";case"Rating":return 0}return""},d4t=e=>{const t={};return e.forEach(r=>{t[r.field_id]={fieldId:r.field_id,value:l4t(r),error:null,touched:!1,isValid:!0}}),t},u4t=e=>{const t=[];return e.forEach(r=>{t.push(...r.fields)}),t},f4t=e=>{const t={};return e.forEach(r=>{zpe(r)&&Upe(r).forEach(a=>{t[a]||(t[a]=[]),t[a].push(r.field_id)})}),t},m4t=({formStructure:e,entryPublicIdentifier:t,languageId:r=1})=>{const{submit:s,isSubmitting:a}=Ope(),[i,o]=v.useState({}),[c,d]=v.useState(null),u=rx[r],l=v.useMemo(()=>e?.stage?.sections?u4t(e.stage.sections):[],[e]),f=v.useMemo(()=>e?.available_transitions||[],[e]),m=v.useMemo(()=>f4t(l),[l]),p=v.useMemo(()=>e?.stage?Fpe(l,e.stage.sections,f,i):{fields:{},sections:{},transitions:{}},[e,i,f,l]),x=v.useCallback(async $=>{const I=l.find(Z=>Z.field_id===$);if(!I)return{fieldId:$,isValid:!1,errors:["Field not found"]};const z=i[$];if(!z)return{fieldId:$,isValid:!1,errors:["Field value not initialized"]};const H=iI(I,z.value,i);return{fieldId:$,isValid:H.valid,errors:H.error?[H.error]:[]}},[l,i]),b=v.useCallback(async()=>{const $={};let I=!0;const z=l.filter(H=>p.fields[H.field_id]!==!1);for(const H of z){const Z=await x(H.field_id);$[H.field_id]=Z,Z.isValid||(I=!1)}return{isValid:I,fieldResults:$,globalErrors:[]}},[l,p,x]),h=v.useMemo(()=>{const $={};Object.entries(i).forEach(([H,Z])=>{$[Number(H)]=Z.value});const I=Object.values(i).every(H=>H.isValid);return Hpe(f,$,I).submitButtonState},[f,i]),y=v.useMemo(()=>{const $={};let I=!0;return Object.entries(i).forEach(([z,H])=>{H.error&&($[Number(z)]=H.error,I=!1)}),{isValid:I,isValidating:!1,fieldErrors:$,globalErrors:[]}},[i]),w=v.useCallback($=>i[$]?.value??null,[i]),S=v.useCallback(async($,I)=>{o(H=>({...H,[$]:{...H[$],fieldId:$,value:I,error:null,isValid:!0}}));const z=m[$]||[];z.length>0&&setTimeout(async()=>{for(const H of z)if(l.find(V=>V.field_id===H)&&i[H]?.touched){const V=await x(H);o(G=>({...G,[H]:{...G[H],error:V.errors[0]||null,isValid:V.isValid}}))}},0)},[m,l,i,x]),N=v.useCallback(async $=>{o(z=>({...z,[$]:{...z[$],touched:!0}}));const I=await x($);o(z=>({...z,[$]:{...z[$],error:I.errors[0]||null,isValid:I.isValid}}))},[x]),_=v.useCallback($=>i[$]?.error??null,[i]),k=v.useCallback($=>p.fields[$]!==!1,[p]),E=v.useCallback($=>p.sections[$]!==!1,[p]),T=v.useCallback($=>p.transitions[$]!==!1,[p]),D=v.useCallback($=>{const I={};return Object.entries($).forEach(([z,H])=>{const Z=Number(z);p.fields[Z]!==!1&&(I[Z]=H.value)}),I},[p]),P=v.useCallback(async()=>{const $=await b();if(o(Z=>{const V={...Z};return Object.entries($.fieldResults).forEach(([G,U])=>{const Y=Number(G);V[Y]={...V[Y],touched:!0,error:U.errors[0]||null,isValid:U.isValid}}),V}),!$.isValid)return;const I=c||h.selectedTransitionId;if(!I){console.error("[useLaterStageRuntime] No transition selected for submission");return}const z=D(i),H=Object.entries(z).map(([Z,V])=>({field_id:Number(Z),value:V}));try{await s({public_identifier:t,stage_transition_id:I,field_values:H}),console.log("[useLaterStageRuntime] Form submitted successfully")}catch(Z){console.error("[useLaterStageRuntime] Form submission failed:",Z)}},[b,c,h,i,D,s,t]),M=v.useMemo(()=>y.isValid,[y]),R=v.useMemo(()=>Object.values(i).some($=>$.touched),[i]),B=v.useMemo(()=>h.canSubmit&&!a,[h,a]);return v.useEffect(()=>{if(l.length>0&&Object.keys(i).length===0){const $=d4t(l);o($)}},[l,i]),{formState:{fieldValues:i,validationState:y,isSubmitting:a,selectedTransitionId:c,language:u},visibilityMap:p,validationState:y,getFieldValue:w,setFieldValue:S,setFieldTouched:N,getFieldError:_,isFieldVisible:k,isSectionVisible:E,isTransitionVisible:T,validateField:x,validateForm:b,submitButtonState:h,selectTransition:d,handleSubmit:P,isFormValid:M,isFormDirty:R,canSubmit:B,languageId:r}},h4t=({formStructure:e,entryPublicIdentifier:t,languageId:r=1,onSuccess:s,className:a,sectionsClassName:i,submitContainerClassName:o})=>{const c=rx[r],{formState:d,validationState:u,getFieldValue:l,setFieldValue:f,setFieldTouched:m,getFieldError:p,isFieldVisible:x,isSectionVisible:b,submitButtonState:h,handleSubmit:y,canSubmit:w,selectTransition:S}=m4t({formStructure:e,entryPublicIdentifier:t,languageId:r}),{data:N,isSuccess:_,error:k}=Ope();v.useEffect(()=>{_&&N&&s&&s(N)},[_,N,s]);const E=async T=>{T.preventDefault(),await y()};return n.jsxs("form",{onSubmit:E,className:a||"mx-auto max-w-4xl",dir:c.direction,children:[n.jsxs("div",{className:"mb-8",children:[e.form_name&&n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:e.form_name}),e.stage?.stage_name&&n.jsx("p",{className:"mt-2 text-lg text-gray-600 dark:text-gray-400",children:e.stage.stage_name})]}),u.globalErrors.length>0&&n.jsxs(Ge,{variant:"destructive",className:"mb-6",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:n.jsx("ul",{className:"list-disc pl-4",children:u.globalErrors.map((T,D)=>n.jsx("li",{children:T},D))})})]}),k&&n.jsxs(Ge,{variant:"destructive",className:"mb-6",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:k.message||"Submission failed"})]}),e.stage?.sections&&n.jsx("div",{className:i,children:n.jsx(X$,{sections:e.stage.sections,isSectionVisible:b,getFieldValue:l,getFieldError:p,getFieldTouched:T=>d.fieldValues[T]?.touched||!1,isFieldVisible:x,onChange:f,onBlur:m,direction:c.direction,languageId:r})}),n.jsxs("div",{className:o||"mt-8 flex justify-end gap-4",children:[h.availableTransitions.map(T=>n.jsx(W,{type:"submit",onClick:()=>S(T.transitionId),disabled:!w||d.isSubmitting||T.isDisabled,variant:T.label.toLowerCase()==="reject"?"secondary":"default",className:T.label.toLowerCase()==="reject"?"bg-red-500 hover:bg-red-600 text-white min-w-32":"min-w-32",children:d.isSubmitting&&(d.selectedTransitionId===T.transitionId||!d.selectedTransitionId&&h.selectedTransitionId===T.transitionId)?n.jsxs(n.Fragment,{children:[n.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):T.label},T.transitionId)),h.availableTransitions.length===0&&n.jsx(W,{type:"submit",disabled:!w||d.isSubmitting,children:d.isSubmitting?n.jsxs(n.Fragment,{children:[n.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Submit"})]})]})},HK=({stage:e,languageId:t=1,className:r})=>{const s=rx[t],a=v.useMemo(()=>{const f={};return e.sections.forEach(m=>{m.fields.forEach(p=>{f[p.field_id]=p.current_value??null})}),f},[e]),i=f=>a[f]??null,o=()=>null,c=()=>!1,d=()=>!0,u=()=>!0,l=()=>{};return n.jsxs("div",{className:r,dir:s.direction,children:[n.jsxs("div",{className:"mb-6 border-b pb-4",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:e.stage_name}),n.jsx("p",{className:"text-sm text-gray-500",children:"(Completed)"})]}),n.jsx(X$,{sections:e.sections,isSectionVisible:u,getFieldValue:i,getFieldError:o,getFieldTouched:c,isFieldVisible:d,onChange:l,onBlur:l,disabled:!0,direction:s.direction,languageId:t})]})};function p4t(){const e=Sn(),t=e.publicIdentifier||"",r=parseInt(e.languageId||"1")||1,s=rx[r],{data:a,isLoading:i,error:o}=UTt({publicIdentifier:t,languageId:r,fetchOnMount:!0}),{activeStage:c,historyStages:d,formStructure:u}=v.useMemo(()=>{if(!a)return{activeStage:null,historyStages:[],formStructure:null};const l=a.stages.filter(p=>!p.is_current),f=a.stages.find(p=>p.is_current);let m=null;return f&&(m={form_version_id:0,version_number:0,form_name:a.form_name,stage:f.structure,available_transitions:a.available_transitions}),{activeStage:f,historyStages:l,formStructure:m}},[a]);return i?n.jsx("div",{className:"container mx-auto py-8",dir:s.direction,children:n.jsxs(oe,{children:[n.jsx(Re,{children:n.jsx(rt,{className:"h-8 w-64"})}),n.jsxs(je,{className:"space-y-4",children:[n.jsx(rt,{className:"h-12 w-full"}),n.jsx(rt,{className:"h-12 w-full"}),n.jsx(rt,{className:"h-12 w-full"}),n.jsx(rt,{className:"h-10 w-32"})]})]})}):o||!a&&!i?n.jsx("div",{className:"container mx-auto py-8",dir:s.direction,children:n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:o?.message||"Failed to load form entry. Please check the link and try again."})]})}):a?.is_complete?n.jsxs("div",{className:"container mx-auto py-8",dir:s.direction,children:[n.jsx(oe,{className:"border-green-200 bg-green-50",children:n.jsxs(je,{className:"flex flex-col items-center py-12 text-center",children:[n.jsx(CE,{className:"mb-4 h-16 w-16 text-green-500"}),n.jsx("h1",{className:"mb-2 text-2xl font-bold text-green-900",children:"Form Completed"}),n.jsx("p",{className:"text-green-700",children:"This form entry has been successfully completed."})]})}),d.length>0&&n.jsx("div",{className:"mt-8 space-y-8 opacity-75",children:d.map(l=>n.jsx(oe,{children:n.jsx(je,{className:"pt-6",children:n.jsx(HK,{stage:l.structure,languageId:r})})},l.stage_id))})]}):n.jsxs("div",{className:"container mx-auto space-y-8 py-8",dir:s.direction,children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:a?.form_name}),a?.public_identifier&&n.jsxs("p",{className:"mt-1 text-sm text-gray-500 font-mono",children:["ID: ",a.public_identifier]})]}),d.map(l=>n.jsx(oe,{className:"border-gray-200 bg-gray-50/50",children:n.jsx(je,{className:"pt-6",children:n.jsx(HK,{stage:l.structure,languageId:r})})},l.stage_id)),u&&c&&n.jsx(oe,{className:"border-blue-200 shadow-md ring-1 ring-blue-100",children:n.jsx(je,{className:"pt-6",children:n.jsx(h4t,{formStructure:u,entryPublicIdentifier:t,languageId:r,onSuccess:l=>{l.is_complete,window.location.reload()}})})})]})}function g4t(e={}){const{initialQuery:t,autoFetch:r=!!t,refetchOnQueryChange:s=!0}=e,a=ql(),i=Ce(HTe),o=Ce(VTe),c=Ce(WTe),d=Ce(qTe),u=Ce(GTe),l=Ce(YTe),f=Ce(KTe),m=Ce(ZTe),p=Ce(XTe),x=Ce(JTe),b=Ce(QTe),h=Ce(eDe),y=Ce(tDe),w=v.useRef(!1),S=v.useCallback(M=>{a(sH(M))},[a]),N=v.useCallback(M=>{a(rDe(M))},[a]),_=v.useCallback(()=>{u&&a(Jp(u))},[a,u]),k=v.useCallback(()=>{a(sDe())},[a]),E=v.useCallback(()=>{a(nDe()),w.current=!1},[a]),T=v.useCallback(M=>{u&&M>0&&M<=b&&N({page:M})},[u,b,N]),D=v.useCallback(()=>{h&&T(x+1)},[h,x,T]),P=v.useCallback(()=>{y&&T(x-1)},[y,x,T]);return v.useEffect(()=>{r&&t&&!w.current&&(a(sH(t)),a(Jp(t)),w.current=!0)},[]),v.useEffect(()=>{s&&u&&w.current&&a(Jp(u))},[u,s,a]),v.useMemo(()=>({entries:i,pagination:o,totalEntries:p,currentPage:x,totalPages:b,status:c,isLoading:l,hasError:f,hasData:m,error:d,hasNextPage:h,hasPreviousPage:y,query:u,setQuery:S,updateQuery:N,refetch:_,clearError:k,reset:E,goToPage:T,nextPage:D,previousPage:P}),[i,o,p,x,b,c,l,f,m,d,h,y,u,S,N,_,k,E,T,D,P])}const cI={dateFrom:"",dateTo:"",dateType:"submission",isConsidered:void 0},x4t=({onChange:e,value:t,initialFilters:r,showCard:s=!0})=>{const a=t!==void 0,[i,o]=v.useState({...cI,...r});v.useEffect(()=>{a||o({...cI,...r})},[r,a]);const c=a?t:i,d=S=>{const N=S(c);a||o(N),e(N)},u=S=>{d(N=>({...N,dateFrom:S}))},l=S=>{d(N=>({...N,dateTo:S}))},f=S=>{d(N=>({...N,dateType:S}))},m=S=>{d(N=>({...N,isConsidered:S?!0:void 0}))},p=()=>!c.dateFrom||!c.dateTo?!0:new Date(c.dateFrom)<=new Date(c.dateTo),x=()=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Q,{htmlFor:"date-from",className:"flex items-center gap-2",children:[n.jsx(bn,{className:"h-4 w-4 text-muted-foreground"}),"Date From"]}),n.jsx(ne,{id:"date-from",type:"date",value:c.dateFrom,onChange:S=>u(S.target.value),max:c.dateTo||void 0,className:p()?"":"border-red-500"}),c.dateFrom&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["From: ",new Date(c.dateFrom).toLocaleDateString()]})]}),b=()=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Q,{htmlFor:"date-to",className:"flex items-center gap-2",children:[n.jsx(bn,{className:"h-4 w-4 text-muted-foreground"}),"Date To"]}),n.jsx(ne,{id:"date-to",type:"date",value:c.dateTo,onChange:S=>l(S.target.value),min:c.dateFrom||void 0,className:p()?"":"border-red-500"}),c.dateTo&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["To: ",new Date(c.dateTo).toLocaleDateString()]}),!p()&&n.jsx("p",{className:"text-xs text-red-500",children:'"Date To" must be after "Date From"'})]}),h=()=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(Q,{htmlFor:"date-type",children:"Date Type"}),n.jsxs(xt,{value:c.dateType,onValueChange:f,children:[n.jsx(ft,{id:"date-type",children:n.jsx(vt,{placeholder:"Select date type"})}),n.jsxs(mt,{children:[n.jsx(Ue,{value:"submission",children:"Submission Date"}),n.jsx(Ue,{value:"created",children:"Created Date"}),n.jsx(Ue,{value:"updated",children:"Updated Date"})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Filter entries by this date field"})]}),y=()=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2 h-10",children:[n.jsx(dt,{id:"is-considered",checked:c.isConsidered===!0,onCheckedChange:m}),n.jsx(Q,{htmlFor:"is-considered",className:"cursor-pointer font-normal leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Show only considered entries"})]}),n.jsx("p",{className:"text-xs text-muted-foreground italic",children:c.isConsidered===!0?"Showing only entries marked as considered":"Showing all entries (considered and not considered)"})]}),w=()=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[x(),b(),h(),y()]});return s?n.jsxs(oe,{children:[n.jsx(Re,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Cb,{className:"h-5 w-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx(qe,{children:"Main Filters"}),n.jsx(Us,{children:"Filter entries by date range and consideration status"})]})]})}),n.jsx(je,{children:w()})]}):w()};function R4(){return{...cI}}function v4t(e){let t=0;return e.dateFrom&&t++,e.dateTo&&t++,e.dateType!=="submission"&&t++,e.isConsidered===!0&&t++,t}const M4="contains",Tge=({fieldId:e,fieldLabel:t,fieldTypeName:r,onFilterChange:s,initialFilter:a})=>{const i=r==="Email Input",o=i?sl:QQ,[c,d]=v.useState(M4),[u,l]=v.useState("");v.useEffect(()=>{const w=a?i&&a.type==="endswith"&&typeof a.value=="string"&&a.value.startsWith("@")&&a.value.length>1?"domain":a.type:M4,S=a?i&&a.type==="endswith"&&a.value?.startsWith("@")?a.value.slice(1):a.value??"":"";d(w),l(S)},[a?.type,a?.value,i]);const f=w=>{let S=w.trim();return i?(S.includes("@")&&(S=S.split("@").pop()||""),S=S.replace(/^@/,""),S.trim()):(S=S.replace(/^https?:\/\//,""),S=S.replace(/^www\./,""),S=S.split("/")[0],S=S.split("?")[0],S=S.split("#")[0],S.trim())},m=(w,S)=>{const N=S.trim();if(!N){s(e,null);return}if(w==="domain"){const _=f(N);if(!_){s(e,null);return}if(i){s(e,{type:"endswith",value:`@${_}`});return}s(e,{type:"contains",value:_});return}if(i&&w==="endswith"){const _=N.startsWith("@")||N.includes("@")?N:`@${N}`;s(e,{type:"endswith",value:_});return}s(e,{type:w,value:N})},p=()=>{d(M4),l(""),s(e,null)},x=u.trim()!=="",b=()=>c==="domain"?"example.com":i?c==="equals"?"user@example.com":"Search email...":c==="equals"?"https://example.com":"Search URL...",h=()=>{switch(c){case"contains":return i?"Find emails containing this text":"Find URLs containing this text";case"equals":return i?"Find exact email match":"Find exact URL match";case"notcontains":return i?"Exclude emails containing this text":"Exclude URLs containing this text";case"startswith":return i?"Emails starting with this text":"URLs starting with this text";case"endswith":return i?"Emails ending with this text":"URLs ending with this text";case"domain":return i?"Filter by email domain (e.g., gmail.com)":"Filter by URL domain (e.g., google.com)";default:return""}},y=w=>{const S=c==="domain"?f(w):w;l(S),m(c,S)};return n.jsxs("div",{className:"space-y-3 p-4 border border-gray-200 rounded-lg bg-white",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(o,{className:"h-4 w-4 text-gray-500"}),n.jsx(Q,{className:"text-sm font-medium text-gray-700",children:t})]}),x&&n.jsx(W,{type:"button",variant:"ghost",size:"sm",onClick:p,className:"h-6 w-6 p-0 text-gray-400 hover:text-gray-600",children:n.jsx(Kr,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{htmlFor:`search-type-${e}`,className:"text-xs text-gray-600",children:"Search Type"}),n.jsxs(xt,{value:c,onValueChange:w=>{const S=w;if(d(S),S==="domain"){const N=f(u);l(N),m(S,N);return}m(S,u)},children:[n.jsx(ft,{id:`search-type-${e}`,className:"w-full",children:n.jsx(vt,{placeholder:"Select search type"})}),n.jsxs(mt,{children:[n.jsx(Ue,{value:"contains",children:"Contains"}),n.jsx(Ue,{value:"exact",children:"Exact"}),n.jsx(Ue,{value:"notcontains",children:"Not Contains"}),n.jsx(Ue,{value:"startswith",children:"Starts With"}),n.jsx(Ue,{value:"domain",children:"Domain"})]})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{htmlFor:`search-value-${e}`,className:"text-xs text-gray-600",children:"Search Value"}),n.jsx(ne,{id:`search-value-${e}`,type:"text",value:u,onChange:w=>y(w.target.value),placeholder:b(),className:"w-full"}),n.jsx("p",{className:"text-xs text-gray-500 italic",children:h()})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[n.jsx("p",{className:"text-xs text-gray-400 italic",children:r}),c==="domain"&&x&&n.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-50 text-blue-700 rounded",children:i?`@${u}`:u})]})]})},rb=new Map;function $x(e,t,r,s){rb.has(e)&&console.warn(`[FilterRegistry] Overwriting existing filter for field type ID ${e}`),rb.set(e,{component:t,fieldTypeName:r,defaultFilterData:s})}function y4t(e){const t=rb.get(e);return t?t.component:null}function b4t(e){const t=rb.get(e);return t?t.fieldTypeName:"Unknown"}function VK(e){return rb.has(e)}const w4t=({fieldId:e,fieldLabel:t,fieldTypeName:r,onFilterChange:s,initialFilter:a})=>{const[i,o]=v.useState(()=>a?r==="Checkbox"?a.checked===!0?"true":a.checked===!1?"false":"all":a.state==="on"?"true":a.state==="off"?"false":"all":"all"),c=r==="Checkbox",d=c?ox:ULe,u=()=>i==="all"?null:c?{checked:i==="true"}:{state:i==="true"?"on":"off"};v.useEffect(()=>{const p=u();s(e,p)},[i,e]);const l=()=>{o("all"),s(e,null)},f=i!=="all",m=()=>i==="all"?"Show all entries":c?`Show ${i==="true"?"checked":"unchecked"} entries`:`Show entries where toggle is ${i==="true"?"ON":"OFF"}`;return n.jsxs("div",{className:X("space-y-3 p-4 rounded-lg border bg-white transition-all duration-200",f?"border-indigo-200":"border-gray-200"),children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:X("p-1.5 rounded",f?"bg-indigo-50":"bg-gray-100"),children:n.jsx(d,{className:X("h-4 w-4",f?"text-indigo-600":"text-gray-500")})}),n.jsx(Q,{className:"text-sm font-medium text-gray-700",children:t})]}),f&&n.jsx(W,{type:"button",variant:"ghost",size:"sm",onClick:l,className:"h-6 w-6 p-0 text-gray-400 hover:text-gray-600",children:n.jsx(Kr,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(Q,{htmlFor:`boolean-${e}`,className:"text-xs text-gray-600",children:"Filter Value"}),n.jsxs(xt,{value:i,onValueChange:p=>o(p),children:[n.jsx(ft,{id:`boolean-${e}`,className:"w-full",children:n.jsx(vt,{placeholder:"Select filter"})}),n.jsxs(mt,{children:[n.jsx(Ue,{value:"all",children:"All Entries"}),n.jsx(Ue,{value:"true",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),c?"Checked":"ON"]})}),n.jsx(Ue,{value:"false",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-400"}),c?"Unchecked":"OFF"]})})]})]}),n.jsx("p",{className:"text-xs text-gray-500 italic",children:m()})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[n.jsx("p",{className:"text-xs text-gray-400 italic",children:r}),f&&n.jsx("span",{className:X("text-xs px-2 py-0.5 rounded font-medium",i==="true"?"bg-green-50 text-green-700":"bg-gray-100 text-gray-700"),children:i==="true"?c?" Checked":"ON":c?" Unchecked":"OFF"})]})]})},j4t=1,S4t=2,N4t=17,C4t=9,_4t=10,E4t=11;$x(j4t,upe,"Text Input",()=>null);const k4t=e=>v.createElement(Tge,{...e,fieldTypeName:"Email Input"});$x(S4t,k4t,"Email Input",()=>null);const A4t=e=>v.createElement(Tge,{...e,fieldTypeName:"URL Input"});$x(N4t,A4t,"URL Input",()=>null);const T4t=e=>v.createElement(w4t,{...e,fieldTypeName:"Checkbox"});$x(C4t,T4t,"Checkbox",()=>null);const D4t=e=>v.createElement(W$,{...e,fieldTypeName:"Radio Button"});$x(_4t,D4t,"Radio Button",()=>null);const P4t=e=>v.createElement(W$,{...e,fieldTypeName:"Dropdown Select"});$x(E4t,P4t,"Dropdown Select",()=>null);const R4t=new Set(["contains","equals","notcontains","startswith","endswith"]);function M4t(e){return typeof e!="string"?null:e==="exact"?"equals":R4t.has(e)?e:null}function O4t(e){return typeof e=="object"&&e!==null}function I4t(e){return O4t(e)&&"type"in e&&"value"in e}function F4t(e){if(e.size===0)return;const t={};return e.forEach((r,s)=>{if(!r)return;const a=Dge(r);a&&Object.keys(a).length>0&&(t[s]=a)}),Object.keys(t).length>0?t:void 0}function Dge(e){if(typeof e=="object"&&e!==null&&"checked"in e){const s=e.checked;return typeof s!="boolean"?null:{checked:s}}if(typeof e=="object"&&e!==null&&"options"in e){const s=e.options;if(!Array.isArray(s))return null;const a=s.filter(i=>typeof i=="string").map(i=>i.trim()).filter(Boolean);return a.length===0?null:{options:a}}if(!I4t(e))return console.warn("[FilterSerializer] Filter data missing type/value:",e),null;if(typeof e.value!="string")return console.warn("[FilterSerializer] Filter value must be string:",e),null;const t=e.value.trim();if(!t)return null;const r=M4t(e.type);return r?{type:r,value:t}:(console.warn("[FilterSerializer] Invalid/unsupported match type:",e.type),null)}function dI(e){let t=0;return e.forEach(r=>{r&&Dge(r)&&t++}),t}const $4t=({fields:e,onChange:t,filters:r,initialFilters:s,showCard:a=!0,title:i="Field Filters",description:o="Filter entries by specific field values"})=>{const c=r!==void 0,[d,u]=v.useState(s||new Map);v.useEffect(()=>{c||u(s||new Map)},[s,c]);const l=c?r:d,f=v.useCallback((w,S)=>{const N=new Map(l);S===null?N.delete(w):N.set(w,S),c||u(N),t(N)},[l,c,t]),m=()=>e.filter(w=>VK(w.fieldTypeId)),p=w=>{const S=y4t(w.fieldTypeId);if(!S)return null;const N=l.get(w.fieldId),_=S;return n.jsx("div",{className:"field-filter-item",children:n.jsx(_,{fieldId:w.fieldId,fieldLabel:w.label,onFilterChange:f,initialFilter:N,placeholder:w.placeholder,helperText:w.helperText,options:w.options})},w.fieldId)},x=()=>{const w=m();return w.length===0?n.jsxs(Ge,{children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(Ye,{children:"No filterable fields available. Make sure filter components are registered for the field types in your form."})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(S=>p(S))})},b=()=>{const w=dI(l);return w===0?null:n.jsxs(Ae,{variant:"secondary",className:"ml-2",children:[w," active"]})},h=()=>{const w=m(),S=e.length-w.length;if(S===0)return null;const N=e.filter(_=>!VK(_.fieldTypeId)).map(_=>({..._,typeName:b4t(_.fieldTypeId)}));return n.jsxs(Ge,{variant:"default",className:"mb-4",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsxs(Ye,{children:[n.jsxs("p",{className:"font-medium mb-1",children:[S," field",S>1?"s":""," cannot be filtered:"]}),n.jsx("ul",{className:"text-xs list-disc list-inside space-y-0.5",children:N.map(_=>n.jsxs("li",{children:[_.label," (",_.typeName,")"]},_.fieldId))})]})]})},y=()=>n.jsxs(n.Fragment,{children:[h(),x()]});return a?n.jsxs(oe,{children:[n.jsx(Re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_b,{className:"h-5 w-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(qe,{children:i}),b()]}),n.jsx(Us,{children:o})]})]}),dI(l)>0&&n.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[n.jsx(b$e,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Filters active"})]})]})}),n.jsx(je,{children:y()})]}):n.jsx("div",{className:"field-filters-container",children:y()})};function L4t(e){const t=r=>{if(!r)return;const s=r.trim();if(s.startsWith("["))try{const a=JSON.parse(s);if(!Array.isArray(a))return;const i=a.filter(o=>typeof o=="string").map(o=>o.trim()).filter(Boolean);return i.length?i:void 0}catch{return}};return e.map(r=>({fieldId:r.id,fieldTypeId:r.field_type_id,label:r.label,placeholder:r.placeholder||void 0,helperText:r.helper_text||void 0,options:t(r.placeholder)}))}function B4t(){const e=Vt(),{formVersionId:t}=Sn(),r=t?parseInt(t,10):null,[s,a]=v.useState(R4()),[i,o]=v.useState(new Map),[c,d]=v.useState(R4()),[u,l]=v.useState(new Map),[f,m]=v.useState(1),[p,x]=v.useState(10),{entries:b,pagination:h,isLoading:y,hasError:w,error:S,updateQuery:N,refetch:_,clearError:k,hasNextPage:E,hasPreviousPage:T}=g4t({initialQuery:r?{page:f,per_page:p,form_version_id:r}:void 0,autoFetch:!!r}),[D,P]=v.useState([]);v.useEffect(()=>{if(b.length>0){const Y=b[0].values.map(re=>({id:re.field.id,field_type_id:re.field.field_type_id,label:re.field.label,placeholder:re.field.placeholder,helper_text:re.field.helper_text})),K=L4t(Y);P(re=>re.length===K.length&&re.every((me,de)=>me.fieldId===K[de].fieldId)?re:K)}},[b]);const M=v.useMemo(()=>{const U=JSON.stringify(s)!==JSON.stringify(c),Y=JSON.stringify(Array.from(i.entries()))!==JSON.stringify(Array.from(u.entries()));return U||Y},[s,c,i,u]),R=v.useMemo(()=>{const U=v4t(c),Y=dI(u);return U+Y},[c,u]);v.useEffect(()=>{(!r||isNaN(r))&&console.error("Invalid form version ID in URL")},[r,e]),v.useEffect(()=>{if(!r)return;const U=F4t(u);N({page:f,per_page:p,form_version_id:r,date_from:c.dateFrom||void 0,date_to:c.dateTo||void 0,date_type:c.dateType||void 0,is_considered:c.isConsidered,field_filters:U})},[r,f,p,c,u,N]);const B=()=>{d(s),l(new Map(i)),m(1)},L=()=>{const U=R4(),Y=new Map;a(U),o(Y),d(U),l(Y),m(1)},$=()=>{a(c),o(new Map(u))},I=U=>{m(U)},z=U=>{x(parseInt(U,10)),m(1)},H=()=>n.jsxs(oe,{className:"mb-6",children:[n.jsx(Re,{children:n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Cb,{className:"h-5 w-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx(qe,{children:"Filters"}),n.jsx(Us,{children:'Configure filters and click "Apply" to filter entries'})]}),R>0&&n.jsxs(Ae,{variant:"secondary",children:[R," active"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[M&&n.jsxs(n.Fragment,{children:[n.jsxs(Ae,{variant:"outline",className:"text-orange-600 border-orange-600",children:[n.jsx(Je,{className:"h-3 w-3 mr-1"}),"Unapplied changes"]}),n.jsxs(W,{variant:"ghost",size:"sm",onClick:$,children:[n.jsx(_E,{className:"mr-2 h-4 w-4"}),"Discard"]})]}),n.jsxs(W,{variant:"outline",size:"sm",onClick:L,disabled:R===0&&!M,children:[n.jsx(Kr,{className:"mr-2 h-4 w-4"}),"Clear All"]}),n.jsxs(W,{size:"sm",onClick:B,disabled:!M,children:[n.jsx(bs,{className:"mr-2 h-4 w-4"}),"Apply Filters"]})]})]})}),n.jsxs(je,{className:"space-y-6",children:[n.jsx(x4t,{onChange:a,value:s,showCard:!1}),n.jsx(Hs,{}),n.jsx($4t,{fields:D,onChange:o,filters:i,showCard:!1})]})]}),Z=()=>n.jsxs(Ge,{variant:"destructive",className:"mb-6",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(pM,{children:"Error"}),n.jsxs(Ye,{className:"flex items-center justify-between",children:[n.jsx("span",{children:S?.message||"An unexpected error occurred"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(W,{variant:"outline",size:"sm",onClick:()=>k(),children:"Dismiss"}),n.jsxs(W,{variant:"outline",size:"sm",onClick:()=>_(),children:[n.jsx(Zr,{className:"mr-2 h-4 w-4"}),"Retry"]})]})]})]}),V=()=>n.jsxs(oe,{children:[n.jsx(Re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(qe,{children:"Entries"}),n.jsx(Us,{children:h?n.jsxs(n.Fragment,{children:["Showing ",b.length," of ",h.total," entries"]}):"Loading entries..."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Q,{htmlFor:"per-page",className:"whitespace-nowrap",children:"Per page:"}),n.jsxs(xt,{value:String(p),onValueChange:z,children:[n.jsx(ft,{id:"per-page",className:"w-20",children:n.jsx(vt,{})}),n.jsxs(mt,{children:[n.jsx(Ue,{value:"5",children:"5"}),n.jsx(Ue,{value:"10",children:"10"}),n.jsx(Ue,{value:"25",children:"25"}),n.jsx(Ue,{value:"50",children:"50"}),n.jsx(Ue,{value:"100",children:"100"})]})]})]})]})}),n.jsx(je,{children:y&&b.length===0?n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx(at,{className:"h-8 w-8 animate-spin text-muted-foreground"}),n.jsx("span",{className:"ml-3 text-muted-foreground",children:"Loading entries..."})]}):b.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx("p",{children:"No entries found matching your filters."}),n.jsx(W,{variant:"link",onClick:L,className:"mt-2",children:"Clear filters to see all entries"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"rounded-md border",children:n.jsxs(Xr,{children:[n.jsx(Jr,{children:n.jsxs(Nt,{children:[n.jsx(De,{children:"ID"}),n.jsx(De,{children:"Creator"}),n.jsx(De,{children:"Current Stage"}),n.jsx(De,{children:"Status"}),n.jsx(De,{children:"Considered"}),n.jsx(De,{children:"Created At"}),n.jsx(De,{children:"Actions"})]})}),n.jsx(Qr,{children:b.map(U=>n.jsxs(Nt,{children:[n.jsx(Ee,{className:"font-medium",children:U.id}),n.jsx(Ee,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:U.creator.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:U.creator.email})]})}),D.map(Y=>{const K=U.values.find(re=>re.field.id===Y.fieldId);return n.jsx(Ee,{children:K?K.value:"-"},Y.fieldId)}),n.jsx(Ee,{children:U.current_stage.name}),n.jsx(Ee,{children:n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${U.is_complete?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:U.is_complete?"Complete":"In Progress"})}),n.jsx(Ee,{children:U.is_considered?n.jsx("span",{className:"text-green-600",children:" Yes"}):n.jsx("span",{className:"text-muted-foreground",children:"No"})}),n.jsx(Ee,{children:new Date(U.created_at).toLocaleDateString()}),n.jsx(Ee,{children:n.jsx(W,{variant:"outline",size:"sm",onClick:()=>e(`/entries/${U.id}`),children:"View Details"})})]},U.id))})]})}),y&&b.length>0&&n.jsxs("div",{className:"flex items-center justify-center py-4 text-muted-foreground",children:[n.jsx(at,{className:"h-4 w-4 animate-spin mr-2"}),n.jsx("span",{className:"text-sm",children:"Updating..."})]})]})})]}),G=()=>{if(!h||h.total===0)return null;const U=[],Y=5;let K=Math.max(1,f-Math.floor(Y/2)),re=Math.min(h.last_page,K+Y-1);re-K<Y-1&&(K=Math.max(1,re-Y+1));for(let he=K;he<=re;he++)U.push(he);return n.jsx("div",{className:"mt-6",children:n.jsx(L$,{children:n.jsxs(B$,{children:[n.jsx(Uo,{children:n.jsx(z$,{onClick:()=>T&&I(Math.max(1,f-1)),className:T?"cursor-pointer":"pointer-events-none opacity-50"})}),K>1&&n.jsxs(n.Fragment,{children:[n.jsx(Uo,{children:n.jsx(bm,{onClick:()=>I(1),className:"cursor-pointer",children:"1"})}),K>2&&n.jsx(Uo,{children:n.jsx("span",{className:"px-4",children:"..."})})]}),U.map(he=>n.jsx(Uo,{children:n.jsx(bm,{onClick:()=>I(he),isActive:he===f,className:"cursor-pointer",children:he})},he)),re<h.last_page&&n.jsxs(n.Fragment,{children:[re<h.last_page-1&&n.jsx(Uo,{children:n.jsx("span",{className:"px-4",children:"..."})}),n.jsx(Uo,{children:n.jsx(bm,{onClick:()=>I(h.last_page),className:"cursor-pointer",children:h.last_page})})]}),n.jsx(Uo,{children:n.jsx(U$,{onClick:()=>E&&I(Math.min(h.last_page,f+1)),className:E?"cursor-pointer":"pointer-events-none opacity-50"})})]})})})};return!r||isNaN(r)?n.jsx("div",{className:"container mx-auto py-8",children:n.jsxs(Ge,{variant:"destructive",children:[n.jsx(Je,{className:"h-4 w-4"}),n.jsx(pM,{children:"Invalid Form Version"}),n.jsx(Ye,{children:"The form version ID in the URL is invalid. Please check the URL and try again."})]})}):n.jsxs("div",{className:"container mx-auto py-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Entries List"}),n.jsxs("p",{className:"text-muted-foreground",children:["Form Version ID:"," ",n.jsx("span",{className:"font-mono",children:r})]})]}),w&&Z(),H(),V(),G()]})}const z4t=[n.jsxs(n.Fragment,{children:[n.jsx(At,{path:"/form-version-builder/:id",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(zTt,{})})})})},"form-version-builder"),n.jsx(At,{path:"/end-user-form/:formVersionId/:languageId",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(o4t,{})})})})},"end-user-form"),n.jsx(At,{path:"/form-entry/:publicIdentifier/:languageId",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(p4t,{})})})})},"form-entry-page"),n.jsx(At,{path:"/entries-list/:formVersionId",element:n.jsx(Ft,{children:n.jsx(Wt,{role:"super-admin",children:n.jsx($t,{children:n.jsx(B4t,{})})})})},"entries-list-page")]})];function U4t(){return n.jsx(R6e,{defaultTheme:"light",storageKey:"pizza-app-theme",children:n.jsx(O6e,{fallback:n.jsx(F6e,{}),children:n.jsx(j6e,{children:n.jsxs("div",{className:"min-h-screen bg-background text-foreground transition-colors",children:[n.jsxs(X5e,{children:[KBe,mbt,Zjt,y1t,$1t,RNt,a_t,U_t,aEt,lEt,dEt,AEt,PEt,MEt,n2t,c2t,f2t,k2t,z4t,O2t,n.jsx(At,{path:"/",element:n.jsx(kC,{to:"/dashboard",replace:!0})}),n.jsx(At,{path:"*",element:n.jsx(kC,{to:"/dashboard",replace:!0})})]}),n.jsx(uFe,{richColors:!0,closeButton:!0,position:"top-right"})]})})})})}Zve.createRoot(document.getElementById("root")).render(n.jsx(v.StrictMode,{children:n.jsx(WK,{store:Pr,children:n.jsx(U4t,{})})}));
